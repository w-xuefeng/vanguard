var Uh=Object.defineProperty;var zh=(Rt,Be,t)=>Be in Rt?Uh(Rt,Be,{enumerable:!0,configurable:!0,writable:!0,value:t}):Rt[Be]=t;var Cl=(Rt,Be,t)=>(zh(Rt,typeof Be!="symbol"?Be+"":Be,t),t);(self.webpackChunk_vanguard_fe=self.webpackChunk_vanguard_fe||[]).push([[914],{37588:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return I}});var f=t(7896),O=t(2784),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"},_=u,p=t(9760),V=function(E,g){return O.createElement(p.Z,(0,f.Z)({},E,{ref:g,icon:_}))},I=O.forwardRef(V)},77138:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return I}});var f=t(7896),O=t(2784),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},_=u,p=t(9760),V=function(E,g){return O.createElement(p.Z,(0,f.Z)({},E,{ref:g,icon:_}))},I=O.forwardRef(V)},13569:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return I}});var f=t(7896),O=t(2784),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},_=u,p=t(9760),V=function(E,g){return O.createElement(p.Z,(0,f.Z)({},E,{ref:g,icon:_}))},I=O.forwardRef(V)},60733:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return gt}});var f=t(33028),O=t(76854),u=t(99980),_=t(2784),p=t(28316),V=t(39588),I=t(72895),L=t(16381),E=_.createContext(null),g=E,a=t(85942),l=t(63803),d=[];function i(nt,tt){var st=_.useState(function(){if(!(0,V.Z)())return null;var ni=document.createElement("div");return ni}),It=(0,O.Z)(st,1),Wt=It[0],Vt=_.useRef(!1),Ct=_.useContext(g),gi=_.useState(d),jt=(0,O.Z)(gi,2),Ye=jt[0],ut=jt[1],dt=Ct||(Vt.current?void 0:function(ni){ut(function(qt){var yt=[ni].concat((0,a.Z)(qt));return yt})});function bt(){Wt.parentElement||document.body.appendChild(Wt),Vt.current=!0}function Mt(){var ni;(ni=Wt.parentElement)===null||ni===void 0||ni.removeChild(Wt),Vt.current=!1}return(0,l.Z)(function(){return nt?Ct?Ct(bt):bt():Mt(),Mt},[nt]),(0,l.Z)(function(){Ye.length&&(Ye.forEach(function(ni){return ni()}),ut(d))},[Ye]),[Wt,dt]}var s=t(13167),m=t(84226);function b(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var c="rc-util-locker-".concat(Date.now()),v=0;function C(nt){var tt=!!nt,st=_.useState(function(){return v+=1,"".concat(c,"_").concat(v)}),It=(0,O.Z)(st,1),Wt=It[0];(0,l.Z)(function(){if(tt){var Vt=(0,m.Z)(),Ct=b();(0,s.hq)(`
html body {
  overflow-y: hidden;
  `.concat(Ct?"width: calc(100% - ".concat(Vt,"px);"):"",`
}`),Wt)}else(0,s.jL)(Wt);return function(){(0,s.jL)(Wt)}},[tt,Wt])}var S=!1;function N(nt){return typeof nt=="boolean"&&(S=nt),S}var P=function(tt){return tt===!1?!1:!(0,V.Z)()||!tt?null:typeof tt=="string"?document.querySelector(tt):typeof tt=="function"?tt():tt},M=_.forwardRef(function(nt,tt){var st=nt.open,It=nt.autoLock,Wt=nt.getContainer,Vt=nt.debug,Ct=nt.autoDestroy,gi=Ct===void 0?!0:Ct,jt=nt.children,Ye=_.useState(st),ut=(0,O.Z)(Ye,2),dt=ut[0],bt=ut[1],Mt=dt||st;_.useEffect(function(){(gi||st)&&bt(st)},[st,gi]);var ni=_.useState(function(){return P(Wt)}),qt=(0,O.Z)(ni,2),yt=qt[0],At=qt[1];_.useEffect(function(){var Yi=P(Wt);At(Yi!=null?Yi:null)});var Qt=i(Mt&&!yt,Vt),si=(0,O.Z)(Qt,2),oi=si[0],mi=si[1],bi=yt!=null?yt:oi;C(It&&st&&(0,V.Z)()&&(bi===oi||bi===document.body));var Ai=null;if(jt&&(0,L.Yr)(jt)&&tt){var $i=jt;Ai=$i.ref}var Vi=(0,L.x1)(Ai,tt);if(!Mt||!(0,V.Z)()||yt===void 0)return null;var Qi=bi===!1||N(),fn=jt;return tt&&(fn=_.cloneElement(jt,{ref:Vi})),_.createElement(g.Provider,{value:mi},Qi?fn:(0,p.createPortal)(fn,bi))}),D=M,F=D,B=t(72779),U=t.n(B),A=t(87040),k=t(50553),R=t(51444),$=t(46574),J=t(56598),Y=t(87631),j=_.createContext(null),z=j;function K(nt){return nt?Array.isArray(nt)?nt:[nt]:[]}function Z(nt,tt,st,It){return _.useMemo(function(){var Wt=K(st!=null?st:tt),Vt=K(It!=null?It:tt),Ct=new Set(Wt),gi=new Set(Vt);return nt&&(Ct.has("hover")&&(Ct.delete("hover"),Ct.add("click")),gi.has("hover")&&(gi.delete("hover"),gi.add("click"))),[Ct,gi]},[nt,tt,st,It])}var fe=t(93174);function T(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],st=arguments.length>2?arguments[2]:void 0;return st?nt[0]===tt[0]:nt[0]===tt[0]&&nt[1]===tt[1]}function Re(nt,tt,st,It){for(var Wt=st.points,Vt=Object.keys(nt),Ct=0;Ct<Vt.length;Ct+=1){var gi,jt=Vt[Ct];if(T((gi=nt[jt])===null||gi===void 0?void 0:gi.points,Wt,It))return"".concat(tt,"-placement-").concat(jt)}return""}function Ce(nt,tt,st,It){return tt||(st?{motionName:"".concat(nt,"-").concat(st)}:It?{motionName:It}:null)}function _e(nt){return nt.ownerDocument.defaultView}function pe(nt){for(var tt=[],st=nt==null?void 0:nt.parentElement,It=["hidden","scroll","clip","auto"];st;){var Wt=_e(st).getComputedStyle(st),Vt=Wt.overflowX,Ct=Wt.overflowY,gi=Wt.overflow;[Vt,Ct,gi].some(function(jt){return It.includes(jt)})&&tt.push(st),st=st.parentElement}return tt}function le(nt){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(nt)?tt:nt}function oe(nt){return le(parseFloat(nt),0)}function he(nt,tt){var st=(0,f.Z)({},nt);return(tt||[]).forEach(function(It){if(!(It instanceof HTMLBodyElement)){var Wt=_e(It).getComputedStyle(It),Vt=Wt.overflow,Ct=Wt.overflowClipMargin,gi=Wt.borderTopWidth,jt=Wt.borderBottomWidth,Ye=Wt.borderLeftWidth,ut=Wt.borderRightWidth,dt=It.getBoundingClientRect(),bt=It.offsetHeight,Mt=It.clientHeight,ni=It.offsetWidth,qt=It.clientWidth,yt=oe(gi),At=oe(jt),Qt=oe(Ye),si=oe(ut),oi=le(Math.round(dt.width/ni*1e3)/1e3),mi=le(Math.round(dt.height/bt*1e3)/1e3),bi=(ni-qt-Qt-si)*oi,Ai=(bt-Mt-yt-At)*mi,$i=yt*mi,Vi=At*mi,Qi=Qt*oi,fn=si*oi,Yi=0,Pi=0;if(Vt==="clip"){var Li=oe(Ct);Yi=Li*oi,Pi=Li*mi}var gn=dt.x+Qi-Yi,on=dt.y+$i-Pi,Nn=gn+dt.width+2*Yi-Qi-fn-bi,ln=on+dt.height+2*Pi-$i-Vi-Ai;st.left=Math.max(st.left,gn),st.top=Math.max(st.top,on),st.right=Math.min(st.right,Nn),st.bottom=Math.min(st.bottom,ln)}}),st}function je(nt){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,st="".concat(tt),It=st.match(/^(.*)\%$/);return It?nt*(parseFloat(It[1])/100):parseFloat(st)}function Xe(nt,tt){var st=tt||[],It=(0,O.Z)(st,2),Wt=It[0],Vt=It[1];return[je(nt.width,Wt),je(nt.height,Vt)]}function Ve(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[nt[0],nt[1]]}function se(nt,tt){var st=tt[0],It=tt[1],Wt,Vt;return st==="t"?Vt=nt.y:st==="b"?Vt=nt.y+nt.height:Vt=nt.y+nt.height/2,It==="l"?Wt=nt.x:It==="r"?Wt=nt.x+nt.width:Wt=nt.x+nt.width/2,{x:Wt,y:Vt}}function q(nt,tt){var st={t:"b",b:"t",l:"r",r:"l"};return nt.map(function(It,Wt){return Wt===tt?st[It]||"c":It}).join("")}function Ee(nt,tt,st,It,Wt,Vt,Ct){var gi=_.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:Wt[It]||{}}),jt=(0,O.Z)(gi,2),Ye=jt[0],ut=jt[1],dt=_.useRef(0),bt=_.useMemo(function(){return tt?pe(tt):[]},[tt]),Mt=_.useRef({}),ni=function(){Mt.current={}};nt||ni();var qt=(0,$.Z)(function(){if(tt&&st&&nt){let Rs=function(ao,mo){var Gs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xt,po=Yi.x+ao,Js=Yi.y+mo,ko=po+zi,wo=Js+Si,Cr=Math.max(po,Gs.left),ms=Math.max(Js,Gs.top),dr=Math.min(ko,Gs.right),As=Math.min(wo,Gs.bottom);return Math.max(0,(dr-Cr)*(As-ms))},xo=function(){ws=Yi.y+Ri,Mn=ws+Si,Ds=Yi.x+Wi,oo=Ds+zi};var Qt=tt,si=Qt.style.left,oi=Qt.style.top,mi=Qt.style.right,bi=Qt.style.bottom,Ai=Qt.ownerDocument,$i=_e(Qt),Vi=(0,f.Z)((0,f.Z)({},Wt[It]),Vt);Qt.style.left="0",Qt.style.top="0",Qt.style.right="auto",Qt.style.bottom="auto";var Qi;if(Array.isArray(st))Qi={x:st[0],y:st[1],width:0,height:0};else{var fn=st.getBoundingClientRect();Qi={x:fn.x,y:fn.y,width:fn.width,height:fn.height}}var Yi=Qt.getBoundingClientRect(),Pi=$i.getComputedStyle(Qt),Li=Pi.width,gn=Pi.height,on=Ai.documentElement,Nn=on.clientWidth,ln=on.clientHeight,Yt=on.scrollWidth,ti=on.scrollHeight,fi=on.scrollTop,Gt=on.scrollLeft,Si=Yi.height,zi=Yi.width,ji=Qi.height,Hi=Qi.width,tn={left:0,top:0,right:Nn,bottom:ln},sn={left:-Gt,top:-fi,right:Yt-Gt,bottom:ti-fi},Xi=Vi.htmlRegion,Oi="visible",ai="visibleFirst";Xi!=="scroll"&&Xi!==ai&&(Xi=Oi);var Zt=Xi===ai,Jt=he(sn,bt),_t=he(tn,bt),xt=Xi===Oi?_t:Jt,Ht=Zt?_t:xt;Qt.style.left="auto",Qt.style.top="auto",Qt.style.right="0",Qt.style.bottom="0";var at=Qt.getBoundingClientRect();Qt.style.left=si,Qt.style.top=oi,Qt.style.right=mi,Qt.style.bottom=bi;var ce=le(Math.round(zi/parseFloat(Li)*1e3)/1e3),We=le(Math.round(Si/parseFloat(gn)*1e3)/1e3);if(ce===0||We===0||(0,k.S)(st)&&!(0,fe.Z)(st))return;var Me=Vi.offset,ge=Vi.targetOffset,Q=Xe(Yi,Me),ae=(0,O.Z)(Q,2),xe=ae[0],Ae=ae[1],Je=Xe(Qi,ge),vt=(0,O.Z)(Je,2),St=vt[0],wt=vt[1];Qi.x-=St,Qi.y-=wt;var Lt=Vi.points||[],Bt=(0,O.Z)(Lt,2),ei=Bt[0],pi=Bt[1],di=Ve(pi),hi=Ve(ei),yi=se(Qi,di),Bi=se(Yi,hi),ki=(0,f.Z)({},Vi),Wi=yi.x-Bi.x+xe,Ri=yi.y-Bi.y+Ae,Cn=Rs(Wi,Ri),ts=Rs(Wi,Ri,_t),Hn=se(Qi,["t","l"]),Ss=se(Yi,["t","l"]),mn=se(Qi,["b","r"]),wi=se(Yi,["b","r"]),Fi=Vi.overflow||{},rn=Fi.adjustX,jn=Fi.adjustY,ns=Fi.shiftX,ys=Fi.shiftY,Ms=function(mo){return typeof mo=="boolean"?mo:mo>=0},ws,Mn,Ds,oo;xo();var Eo=Ms(jn),To=hi[0]===di[0];if(Eo&&hi[0]==="t"&&(Mn>Ht.bottom||Mt.current.bt)){var Xs=Ri;To?Xs-=Si-ji:Xs=Hn.y-wi.y-Ae;var Ws=Rs(Wi,Xs),Es=Rs(Wi,Xs,_t);Ws>Cn||Ws===Cn&&(!Zt||Es>=ts)?(Mt.current.bt=!0,Ri=Xs,ki.points=[q(hi,0),q(di,0)]):Mt.current.bt=!1}if(Eo&&hi[0]==="b"&&(ws<Ht.top||Mt.current.tb)){var Vs=Ri;To?Vs+=Si-ji:Vs=mn.y-Ss.y-Ae;var yo=Rs(Wi,Vs),$t=Rs(Wi,Vs,_t);yo>Cn||yo===Cn&&(!Zt||$t>=ts)?(Mt.current.tb=!0,Ri=Vs,ki.points=[q(hi,0),q(di,0)]):Mt.current.tb=!1}var re=Ms(rn),ke=hi[1]===di[1];if(re&&hi[1]==="l"&&(oo>Ht.right||Mt.current.rl)){var lt=Wi;ke?lt-=zi-Hi:lt=Hn.x-wi.x-xe;var Ge=Rs(lt,Ri),w=Rs(lt,Ri,_t);Ge>Cn||Ge===Cn&&(!Zt||w>=ts)?(Mt.current.rl=!0,Wi=lt,ki.points=[q(hi,1),q(di,1)]):Mt.current.rl=!1}if(re&&hi[1]==="r"&&(Ds<Ht.left||Mt.current.lr)){var H=Wi;ke?H+=zi-Hi:H=mn.x-Ss.x-xe;var ie=Rs(H,Ri),De=Rs(H,Ri,_t);ie>Cn||ie===Cn&&(!Zt||De>=ts)?(Mt.current.lr=!0,Wi=H,ki.points=[q(hi,1),q(di,1)]):Mt.current.lr=!1}xo();var Fe=ns===!0?0:ns;typeof Fe=="number"&&(Ds<_t.left&&(Wi-=Ds-_t.left,Qi.x+Hi<_t.left+Fe&&(Wi+=Qi.x-_t.left+Hi-Fe)),oo>_t.right&&(Wi-=oo-_t.right,Qi.x>_t.right-Fe&&(Wi+=Qi.x-_t.right+Fe)));var Qe=ys===!0?0:ys;typeof Qe=="number"&&(ws<_t.top&&(Ri-=ws-_t.top,Qi.y+ji<_t.top+Qe&&(Ri+=Qi.y-_t.top+ji-Qe)),Mn>_t.bottom&&(Ri-=Mn-_t.bottom,Qi.y>_t.bottom-Qe&&(Ri+=Qi.y-_t.bottom+Qe)));var ft=Yi.x+Wi,mt=ft+zi,Pt=Yi.y+Ri,Tt=Pt+Si,Dt=Qi.x,zt=Dt+Hi,ui=Qi.y,Di=ui+ji,Ni=Math.max(ft,Dt),Ei=Math.min(mt,zt),qi=(Ni+Ei)/2,yn=qi-ft,cn=Math.max(Pt,ui),$n=Math.min(Tt,Di),Ps=(cn+$n)/2,vs=Ps-Pt;Ct==null||Ct(tt,ki);var xs=at.right-Yi.x-(Wi+Yi.width),go=at.bottom-Yi.y-(Ri+Yi.height);ut({ready:!0,offsetX:Wi/ce,offsetY:Ri/We,offsetR:xs/ce,offsetB:go/We,arrowX:yn/ce,arrowY:vs/We,scaleX:ce,scaleY:We,align:ki})}}),yt=function(){dt.current+=1;var si=dt.current;Promise.resolve().then(function(){dt.current===si&&qt()})},At=function(){ut(function(si){return(0,f.Z)((0,f.Z)({},si),{},{ready:!1})})};return(0,l.Z)(At,[It]),(0,l.Z)(function(){nt||At()},[nt]),[Ye.ready,Ye.offsetX,Ye.offsetY,Ye.offsetR,Ye.offsetB,Ye.arrowX,Ye.arrowY,Ye.scaleX,Ye.scaleY,Ye.align,yt]}function Se(nt,tt,st,It){(0,l.Z)(function(){if(nt&&tt&&st){let ut=function(){It()};var Wt=tt,Vt=st,Ct=pe(Wt),gi=pe(Vt),jt=_e(Vt),Ye=new Set([jt].concat((0,a.Z)(Ct),(0,a.Z)(gi)));return Ye.forEach(function(dt){dt.addEventListener("scroll",ut,{passive:!0})}),jt.addEventListener("resize",ut,{passive:!0}),It(),function(){Ye.forEach(function(dt){dt.removeEventListener("scroll",ut),jt.removeEventListener("resize",ut)})}}},[nt,tt,st])}var we=t(96282),ve=t(29694);function Ne(nt,tt,st,It,Wt,Vt,Ct,gi){var jt=_.useRef(nt),Ye=_.useRef(!1);jt.current!==nt&&(Ye.current=!0,jt.current=nt),_.useEffect(function(){var ut=(0,ve.Z)(function(){Ye.current=!1});return function(){ve.Z.cancel(ut)}},[nt]),_.useEffect(function(){if(tt&&It&&(!Wt||Vt)){var ut=function(){var Qi=!1,fn=function(Li){var gn=Li.target;Qi=Ct(gn)},Yi=function(Li){var gn=Li.target;!Ye.current&&jt.current&&!Qi&&!Ct(gn)&&gi(!1)};return[fn,Yi]},dt=ut(),bt=(0,O.Z)(dt,2),Mt=bt[0],ni=bt[1],qt=ut(),yt=(0,O.Z)(qt,2),At=yt[0],Qt=yt[1],si=_e(It);si.addEventListener("mousedown",Mt),si.addEventListener("click",ni);var oi=(0,R.A)(st);if(oi&&(oi.addEventListener("mousedown",At),oi.addEventListener("click",Qt)),!1)var mi,bi,Ai,$i;return function(){si.removeEventListener("mousedown",Mt),si.removeEventListener("click",ni),oi&&(oi.removeEventListener("mousedown",At),oi.removeEventListener("click",Qt))}}},[tt,st,It,Wt,Vt])}var $e=t(7896),Ke=t(18511);function ze(nt){var tt=nt.prefixCls,st=nt.align,It=nt.arrow,Wt=nt.arrowPos,Vt=It||{},Ct=Vt.className,gi=Vt.content,jt=Wt.x,Ye=jt===void 0?0:jt,ut=Wt.y,dt=ut===void 0?0:ut,bt=_.useRef();if(!st||!st.points)return null;var Mt={position:"absolute"};if(st.autoArrow!==!1){var ni=st.points[0],qt=st.points[1],yt=ni[0],At=ni[1],Qt=qt[0],si=qt[1];yt===Qt||!["t","b"].includes(yt)?Mt.top=dt:yt==="t"?Mt.top=0:Mt.bottom=0,At===si||!["l","r"].includes(At)?Mt.left=Ye:At==="l"?Mt.left=0:Mt.right=0}return _.createElement("div",{ref:bt,className:U()("".concat(tt,"-arrow"),Ct),style:Mt},gi)}function He(nt){var tt=nt.prefixCls,st=nt.open,It=nt.zIndex,Wt=nt.mask,Vt=nt.motion;return Wt?_.createElement(Ke.ZP,(0,$e.Z)({},Vt,{motionAppear:!0,visible:st,removeOnLeave:!0}),function(Ct){var gi=Ct.className;return _.createElement("div",{style:{zIndex:It},className:U()("".concat(tt,"-mask"),gi)})}):null}var Le=_.memo(function(nt){var tt=nt.children;return tt},function(nt,tt){return tt.cache}),de=Le,ee=_.forwardRef(function(nt,tt){var st=nt.popup,It=nt.className,Wt=nt.prefixCls,Vt=nt.style,Ct=nt.target,gi=nt.onVisibleChanged,jt=nt.open,Ye=nt.keepDom,ut=nt.onClick,dt=nt.mask,bt=nt.arrow,Mt=nt.arrowPos,ni=nt.align,qt=nt.motion,yt=nt.maskMotion,At=nt.forceRender,Qt=nt.getPopupContainer,si=nt.autoDestroy,oi=nt.portal,mi=nt.zIndex,bi=nt.onMouseEnter,Ai=nt.onMouseLeave,$i=nt.ready,Vi=nt.offsetX,Qi=nt.offsetY,fn=nt.offsetR,Yi=nt.offsetB,Pi=nt.onAlign,Li=nt.onPrepare,gn=nt.stretch,on=nt.targetWidth,Nn=nt.targetHeight,ln=typeof st=="function"?st():st,Yt=jt||Ye,ti=(Qt==null?void 0:Qt.length)>0,fi=_.useState(!Qt||!ti),Gt=(0,O.Z)(fi,2),Si=Gt[0],zi=Gt[1];if((0,l.Z)(function(){!Si&&ti&&Ct&&zi(!0)},[Si,ti,Ct]),!Si)return null;var ji="auto",Hi={left:"-1000vw",top:"-1000vh",right:ji,bottom:ji};if($i||!jt){var tn=ni.points,sn=ni._experimental,Xi=sn==null?void 0:sn.dynamicInset,Oi=Xi&&tn[0][1]==="r",ai=Xi&&tn[0][0]==="b";Oi?(Hi.right=fn,Hi.left=ji):(Hi.left=Vi,Hi.right=ji),ai?(Hi.bottom=Yi,Hi.top=ji):(Hi.top=Qi,Hi.bottom=ji)}var Zt={};return gn&&(gn.includes("height")&&Nn?Zt.height=Nn:gn.includes("minHeight")&&Nn&&(Zt.minHeight=Nn),gn.includes("width")&&on?Zt.width=on:gn.includes("minWidth")&&on&&(Zt.minWidth=on)),jt||(Zt.pointerEvents="none"),_.createElement(oi,{open:At||Yt,getContainer:Qt&&function(){return Qt(Ct)},autoDestroy:si},_.createElement(He,{prefixCls:Wt,open:jt,zIndex:mi,mask:dt,motion:yt}),_.createElement(A.Z,{onResize:Pi,disabled:!jt},function(Jt){return _.createElement(Ke.ZP,(0,$e.Z)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:At,leavedClassName:"".concat(Wt,"-hidden")},qt,{onAppearPrepare:Li,onEnterPrepare:Li,visible:jt,onVisibleChanged:function(xt){var Ht;qt==null||(Ht=qt.onVisibleChanged)===null||Ht===void 0||Ht.call(qt,xt),gi(xt)}}),function(_t,xt){var Ht=_t.className,at=_t.style,ce=U()(Wt,Ht,It);return _.createElement("div",{ref:(0,L.sQ)(Jt,tt,xt),className:ce,style:(0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)({"--arrow-x":"".concat(Mt.x||0,"px"),"--arrow-y":"".concat(Mt.y||0,"px")},Hi),Zt),at),{},{boxSizing:"border-box",zIndex:mi},Vt),onMouseEnter:bi,onMouseLeave:Ai,onClick:ut},bt&&_.createElement(ze,{prefixCls:Wt,arrow:bt,arrowPos:Mt,align:ni}),_.createElement(de,{cache:!jt},ln))})}))}),ne=ee,me=_.forwardRef(function(nt,tt){var st=nt.children,It=nt.getTriggerDOMNode,Wt=(0,L.Yr)(st),Vt=_.useCallback(function(gi){(0,L.mH)(tt,It?It(gi):gi)},[It]),Ct=(0,L.x1)(Vt,st.ref);return Wt?_.cloneElement(st,{ref:Ct}):st}),ue=me,Pe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ot(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F,tt=_.forwardRef(function(st,It){var Wt=st.prefixCls,Vt=Wt===void 0?"rc-trigger-popup":Wt,Ct=st.children,gi=st.action,jt=gi===void 0?"hover":gi,Ye=st.showAction,ut=st.hideAction,dt=st.popupVisible,bt=st.defaultPopupVisible,Mt=st.onPopupVisibleChange,ni=st.afterPopupVisibleChange,qt=st.mouseEnterDelay,yt=st.mouseLeaveDelay,At=yt===void 0?.1:yt,Qt=st.focusDelay,si=st.blurDelay,oi=st.mask,mi=st.maskClosable,bi=mi===void 0?!0:mi,Ai=st.getPopupContainer,$i=st.forceRender,Vi=st.autoDestroy,Qi=st.destroyPopupOnHide,fn=st.popup,Yi=st.popupClassName,Pi=st.popupStyle,Li=st.popupPlacement,gn=st.builtinPlacements,on=gn===void 0?{}:gn,Nn=st.popupAlign,ln=st.zIndex,Yt=st.stretch,ti=st.getPopupClassNameFromAlign,fi=st.alignPoint,Gt=st.onPopupClick,Si=st.onPopupAlign,zi=st.arrow,ji=st.popupMotion,Hi=st.maskMotion,tn=st.popupTransitionName,sn=st.popupAnimation,Xi=st.maskTransitionName,Oi=st.maskAnimation,ai=st.className,Zt=st.getTriggerDOMNode,Jt=(0,u.Z)(st,Pe),_t=Vi||Qi||!1,xt=_.useState(!1),Ht=(0,O.Z)(xt,2),at=Ht[0],ce=Ht[1];(0,l.Z)(function(){ce((0,Y.Z)())},[]);var We=_.useRef({}),Me=_.useContext(z),ge=_.useMemo(function(){return{registerSubPopup:function(hs,js){We.current[hs]=js,Me==null||Me.registerSubPopup(hs,js)}}},[Me]),Q=(0,J.Z)(),ae=_.useState(null),xe=(0,O.Z)(ae,2),Ae=xe[0],Je=xe[1],vt=(0,$.Z)(function(Xn){(0,k.S)(Xn)&&Ae!==Xn&&Je(Xn),Me==null||Me.registerSubPopup(Q,Xn)}),St=_.useState(null),wt=(0,O.Z)(St,2),Lt=wt[0],Bt=wt[1],ei=(0,$.Z)(function(Xn){(0,k.S)(Xn)&&Lt!==Xn&&Bt(Xn)}),pi=_.Children.only(Ct),di=(pi==null?void 0:pi.props)||{},hi={},yi=(0,$.Z)(function(Xn){var hs,js,cs=Lt;return(cs==null?void 0:cs.contains(Xn))||((hs=(0,R.A)(cs))===null||hs===void 0?void 0:hs.host)===Xn||Xn===cs||(Ae==null?void 0:Ae.contains(Xn))||((js=(0,R.A)(Ae))===null||js===void 0?void 0:js.host)===Xn||Xn===Ae||Object.values(We.current).some(function(Os){return(Os==null?void 0:Os.contains(Xn))||Xn===Os})}),Bi=Ce(Vt,ji,sn,tn),ki=Ce(Vt,Hi,Oi,Xi),Wi=_.useState(bt||!1),Ri=(0,O.Z)(Wi,2),Cn=Ri[0],ts=Ri[1],Hn=dt!=null?dt:Cn,Ss=(0,$.Z)(function(Xn){dt===void 0&&ts(Xn)});(0,l.Z)(function(){ts(dt||!1)},[dt]);var mn=_.useRef(Hn);mn.current=Hn;var wi=(0,$.Z)(function(Xn){Hn!==Xn&&(Ss(Xn),Mt==null||Mt(Xn))}),Fi=_.useRef(),rn=function(){clearTimeout(Fi.current)},jn=function(hs){var js=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;rn(),js===0?wi(hs):Fi.current=setTimeout(function(){wi(hs)},js*1e3)};_.useEffect(function(){return rn},[]);var ns=_.useState(!1),ys=(0,O.Z)(ns,2),Ms=ys[0],ws=ys[1];(0,l.Z)(function(Xn){(!Xn||Hn)&&ws(!0)},[Hn]);var Mn=_.useState(null),Ds=(0,O.Z)(Mn,2),oo=Ds[0],Eo=Ds[1],To=_.useState([0,0]),Xs=(0,O.Z)(To,2),Ws=Xs[0],Es=Xs[1],Vs=function(hs){Es([hs.clientX,hs.clientY])},yo=Ee(Hn,Ae,fi?Ws:Lt,Li,on,Nn,Si),$t=(0,O.Z)(yo,11),re=$t[0],ke=$t[1],lt=$t[2],Ge=$t[3],w=$t[4],H=$t[5],ie=$t[6],De=$t[7],Fe=$t[8],Qe=$t[9],ft=$t[10],mt=(0,$.Z)(function(){Ms||ft()});Se(Hn,Lt,Ae,mt),(0,l.Z)(function(){mt()},[Ws,Li]),(0,l.Z)(function(){Hn&&!(on!=null&&on[Li])&&mt()},[JSON.stringify(Nn)]);var Pt=_.useMemo(function(){var Xn=Re(on,Vt,Qe,fi);return U()(Xn,ti==null?void 0:ti(Qe))},[Qe,ti,on,Vt,fi]);_.useImperativeHandle(It,function(){return{forceAlign:mt}});var Tt=function(hs){ws(!1),ft(),ni==null||ni(hs)},Dt=function(){return new Promise(function(hs){Eo(function(){return hs})})};(0,l.Z)(function(){oo&&(ft(),oo(),Eo(null))},[oo]);var zt=_.useState(0),ui=(0,O.Z)(zt,2),Di=ui[0],Ni=ui[1],Ei=_.useState(0),qi=(0,O.Z)(Ei,2),yn=qi[0],cn=qi[1],$n=function(hs,js){if(mt(),Yt){var cs=js.getBoundingClientRect();Ni(cs.width),cn(cs.height)}},Ps=Z(at,jt,Ye,ut),vs=(0,O.Z)(Ps,2),xs=vs[0],go=vs[1],Rs=function(hs,js,cs,Os){hi[hs]=function(uo){var sr;Os==null||Os(uo),jn(js,cs);for(var ur=arguments.length,Rr=new Array(ur>1?ur-1:0),hr=1;hr<ur;hr++)Rr[hr-1]=arguments[hr];(sr=di[hs])===null||sr===void 0||sr.call.apply(sr,[di,uo].concat(Rr))}},xo=xs.has("click"),ao=go.has("click")||go.has("contextMenu");(xo||ao)&&(hi.onClick=function(Xn){var hs;mn.current&&ao?jn(!1):!mn.current&&xo&&(Vs(Xn),jn(!0));for(var js=arguments.length,cs=new Array(js>1?js-1:0),Os=1;Os<js;Os++)cs[Os-1]=arguments[Os];(hs=di.onClick)===null||hs===void 0||hs.call.apply(hs,[di,Xn].concat(cs))}),Ne(Hn,ao,Lt,Ae,oi,bi,yi,jn);var mo=xs.has("hover"),Gs=go.has("hover"),po,Js;mo&&(Rs("onMouseEnter",!0,qt,function(Xn){Vs(Xn)}),po=function(){jn(!0,qt)},fi&&(hi.onMouseMove=function(Xn){var hs;(hs=di.onMouseMove)===null||hs===void 0||hs.call(di,Xn)})),Gs&&(Rs("onMouseLeave",!1,At),Js=function(){jn(!1,At)}),xs.has("focus")&&Rs("onFocus",!0,Qt),go.has("focus")&&Rs("onBlur",!1,si),xs.has("contextMenu")&&(hi.onContextMenu=function(Xn){var hs;Vs(Xn),jn(!0),Xn.preventDefault();for(var js=arguments.length,cs=new Array(js>1?js-1:0),Os=1;Os<js;Os++)cs[Os-1]=arguments[Os];(hs=di.onContextMenu)===null||hs===void 0||hs.call.apply(hs,[di,Xn].concat(cs))}),ai&&(hi.className=U()(di.className,ai));var ko=(0,f.Z)((0,f.Z)({},di),hi),wo={},Cr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Cr.forEach(function(Xn){Jt[Xn]&&(wo[Xn]=function(){for(var hs,js=arguments.length,cs=new Array(js),Os=0;Os<js;Os++)cs[Os]=arguments[Os];(hs=ko[Xn])===null||hs===void 0||hs.call.apply(hs,[ko].concat(cs)),Jt[Xn].apply(Jt,cs)})});var ms=_.cloneElement(pi,(0,f.Z)((0,f.Z)({},ko),wo)),dr={x:H,y:ie},As=zi?(0,f.Z)({},zi!==!0?zi:{}):null;return _.createElement(_.Fragment,null,_.createElement(A.Z,{disabled:!Hn,ref:ei,onResize:$n},_.createElement(ue,{getTriggerDOMNode:Zt},ms)),_.createElement(z.Provider,{value:ge},_.createElement(ne,{portal:nt,ref:vt,prefixCls:Vt,popup:fn,className:U()(Yi,Pt),style:Pi,target:Lt,onMouseEnter:po,onMouseLeave:Js,zIndex:ln,open:Hn,keepDom:Ms,onClick:Gt,mask:oi,motion:Bi,maskMotion:ki,onVisibleChanged:Tt,onPrepare:Dt,forceRender:$i,autoDestroy:_t,getPopupContainer:Ai,align:Qe,arrow:As,arrowPos:dr,ready:re,offsetX:ke,offsetY:lt,offsetR:Ge,offsetB:w,onAlign:mt,stretch:Yt,targetWidth:Di/De,targetHeight:yn/Fe})))});return tt}var gt=ot(F)},17922:function(){"use strict"},55873:function(){"use strict"},12591:function(){"use strict"},21548:function(){"use strict"},14538:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return Ea}});var f=t(72779),O=t.n(f),u=t(94899),_=t(2784),p=t(35298),V=t(58718),L=Ue=>{const{prefixCls:rt,className:kt,style:Kt,size:Ut,shape:li}=Ue,vi=O()({[`${rt}-lg`]:Ut==="large",[`${rt}-sm`]:Ut==="small"}),Mi=O()({[`${rt}-circle`]:li==="circle",[`${rt}-square`]:li==="square",[`${rt}-round`]:li==="round"}),Ii=_.useMemo(()=>typeof Ut=="number"?{width:Ut,height:Ut,lineHeight:`${Ut}px`}:{},[Ut]);return _.createElement("span",{className:O()(rt,vi,Mi,kt),style:Object.assign(Object.assign({},Ii),Kt)})},E=t(33569),g=t(44875),a=t(23707);const l=new E.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),d=Ue=>({height:Ue,lineHeight:`${Ue}px`}),i=Ue=>Object.assign({width:Ue},d(Ue)),s=Ue=>({background:Ue.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:l,animationDuration:Ue.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),m=Ue=>Object.assign({width:Ue*5,minWidth:Ue*5},d(Ue)),b=Ue=>{const{skeletonAvatarCls:rt,gradientFromColor:kt,controlHeight:Kt,controlHeightLG:Ut,controlHeightSM:li}=Ue;return{[`${rt}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:kt},i(Kt)),[`${rt}${rt}-circle`]:{borderRadius:"50%"},[`${rt}${rt}-lg`]:Object.assign({},i(Ut)),[`${rt}${rt}-sm`]:Object.assign({},i(li))}},c=Ue=>{const{controlHeight:rt,borderRadiusSM:kt,skeletonInputCls:Kt,controlHeightLG:Ut,controlHeightSM:li,gradientFromColor:vi}=Ue;return{[`${Kt}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:vi,borderRadius:kt},m(rt)),[`${Kt}-lg`]:Object.assign({},m(Ut)),[`${Kt}-sm`]:Object.assign({},m(li))}},v=Ue=>Object.assign({width:Ue},d(Ue)),C=Ue=>{const{skeletonImageCls:rt,imageSizeBase:kt,gradientFromColor:Kt,borderRadiusSM:Ut}=Ue;return{[`${rt}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:Kt,borderRadius:Ut},v(kt*2)),{[`${rt}-path`]:{fill:"#bfbfbf"},[`${rt}-svg`]:Object.assign(Object.assign({},v(kt)),{maxWidth:kt*4,maxHeight:kt*4}),[`${rt}-svg${rt}-svg-circle`]:{borderRadius:"50%"}}),[`${rt}${rt}-circle`]:{borderRadius:"50%"}}},S=(Ue,rt,kt)=>{const{skeletonButtonCls:Kt}=Ue;return{[`${kt}${Kt}-circle`]:{width:rt,minWidth:rt,borderRadius:"50%"},[`${kt}${Kt}-round`]:{borderRadius:rt}}},N=Ue=>Object.assign({width:Ue*2,minWidth:Ue*2},d(Ue)),P=Ue=>{const{borderRadiusSM:rt,skeletonButtonCls:kt,controlHeight:Kt,controlHeightLG:Ut,controlHeightSM:li,gradientFromColor:vi}=Ue;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${kt}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:vi,borderRadius:rt,width:Kt*2,minWidth:Kt*2},N(Kt))},S(Ue,Kt,kt)),{[`${kt}-lg`]:Object.assign({},N(Ut))}),S(Ue,Ut,`${kt}-lg`)),{[`${kt}-sm`]:Object.assign({},N(li))}),S(Ue,li,`${kt}-sm`))},M=Ue=>{const{componentCls:rt,skeletonAvatarCls:kt,skeletonTitleCls:Kt,skeletonParagraphCls:Ut,skeletonButtonCls:li,skeletonInputCls:vi,skeletonImageCls:Mi,controlHeight:Ii,controlHeightLG:Ji,controlHeightSM:nn,gradientFromColor:en,padding:_n,marginSM:kn,borderRadius:pn,titleHeight:Bn,blockRadius:Tn,paragraphLiHeight:Un,controlHeightXS:Pn,paragraphMarginTop:En}=Ue;return{[`${rt}`]:{display:"table",width:"100%",[`${rt}-header`]:{display:"table-cell",paddingInlineEnd:_n,verticalAlign:"top",[`${kt}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:en},i(Ii)),[`${kt}-circle`]:{borderRadius:"50%"},[`${kt}-lg`]:Object.assign({},i(Ji)),[`${kt}-sm`]:Object.assign({},i(nn))},[`${rt}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${Kt}`]:{width:"100%",height:Bn,background:en,borderRadius:Tn,[`+ ${Ut}`]:{marginBlockStart:nn}},[`${Ut}`]:{padding:0,"> li":{width:"100%",height:Un,listStyle:"none",background:en,borderRadius:Tn,"+ li":{marginBlockStart:Pn}}},[`${Ut}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${rt}-content`]:{[`${Kt}, ${Ut} > li`]:{borderRadius:pn}}},[`${rt}-with-avatar ${rt}-content`]:{[`${Kt}`]:{marginBlockStart:kn,[`+ ${Ut}`]:{marginBlockStart:En}}},[`${rt}${rt}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},P(Ue)),b(Ue)),c(Ue)),C(Ue)),[`${rt}${rt}-block`]:{width:"100%",[`${li}`]:{width:"100%"},[`${vi}`]:{width:"100%"}},[`${rt}${rt}-active`]:{[`
        ${Kt},
        ${Ut} > li,
        ${kt},
        ${li},
        ${vi},
        ${Mi}
      `]:Object.assign({},s(Ue))}}};var D=(0,g.Z)("Skeleton",Ue=>{const{componentCls:rt}=Ue,kt=(0,a.TS)(Ue,{skeletonAvatarCls:`${rt}-avatar`,skeletonTitleCls:`${rt}-title`,skeletonParagraphCls:`${rt}-paragraph`,skeletonButtonCls:`${rt}-button`,skeletonInputCls:`${rt}-input`,skeletonImageCls:`${rt}-image`,imageSizeBase:Ue.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${Ue.gradientFromColor} 25%, ${Ue.gradientToColor} 37%, ${Ue.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[M(kt)]},Ue=>{const{colorFillContent:rt,colorFill:kt}=Ue,Kt=rt,Ut=kt;return{color:Kt,colorGradientEnd:Ut,gradientFromColor:Kt,gradientToColor:Ut,titleHeight:Ue.controlHeight/2,blockRadius:Ue.borderRadiusSM,paragraphMarginTop:Ue.marginLG+Ue.marginXXS,paragraphLiHeight:Ue.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),B=Ue=>{const{prefixCls:rt,className:kt,rootClassName:Kt,active:Ut,shape:li="circle",size:vi="default"}=Ue,{getPrefixCls:Mi}=_.useContext(p.E_),Ii=Mi("skeleton",rt),[Ji,nn]=D(Ii),en=(0,u.Z)(Ue,["prefixCls","className"]),_n=O()(Ii,`${Ii}-element`,{[`${Ii}-active`]:Ut},kt,Kt,nn);return Ji(_.createElement("div",{className:_n},_.createElement(L,Object.assign({prefixCls:`${Ii}-avatar`,shape:li,size:vi},en))))},A=Ue=>{const{prefixCls:rt,className:kt,rootClassName:Kt,active:Ut,block:li=!1,size:vi="default"}=Ue,{getPrefixCls:Mi}=_.useContext(p.E_),Ii=Mi("skeleton",rt),[Ji,nn]=D(Ii),en=(0,u.Z)(Ue,["prefixCls"]),_n=O()(Ii,`${Ii}-element`,{[`${Ii}-active`]:Ut,[`${Ii}-block`]:li},kt,Kt,nn);return Ji(_.createElement("div",{className:_n},_.createElement(L,Object.assign({prefixCls:`${Ii}-button`,size:vi},en))))},k=t(7896),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},$=R,J=t(9760),Y=function(rt,kt){return _.createElement(J.Z,(0,k.Z)({},rt,{ref:kt,icon:$}))},j=_.forwardRef(Y),K=Ue=>{const{prefixCls:rt,className:kt,rootClassName:Kt,style:Ut,active:li,children:vi}=Ue,{getPrefixCls:Mi}=_.useContext(p.E_),Ii=Mi("skeleton",rt),[Ji,nn]=D(Ii),en=O()(Ii,`${Ii}-element`,{[`${Ii}-active`]:li},nn,kt,Kt),_n=vi!=null?vi:_.createElement(j,null);return Ji(_.createElement("div",{className:en},_.createElement("div",{className:O()(`${Ii}-image`,kt),style:Ut},_n)))};const Z="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var T=Ue=>{const{prefixCls:rt,className:kt,rootClassName:Kt,style:Ut,active:li}=Ue,{getPrefixCls:vi}=_.useContext(p.E_),Mi=vi("skeleton",rt),[Ii,Ji]=D(Mi),nn=O()(Mi,`${Mi}-element`,{[`${Mi}-active`]:li},kt,Kt,Ji);return Ii(_.createElement("div",{className:nn},_.createElement("div",{className:O()(`${Mi}-image`,kt),style:Ut},_.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${Mi}-image-svg`},_.createElement("path",{d:Z,className:`${Mi}-image-path`})))))},Ce=Ue=>{const{prefixCls:rt,className:kt,rootClassName:Kt,active:Ut,block:li,size:vi="default"}=Ue,{getPrefixCls:Mi}=_.useContext(p.E_),Ii=Mi("skeleton",rt),[Ji,nn]=D(Ii),en=(0,u.Z)(Ue,["prefixCls"]),_n=O()(Ii,`${Ii}-element`,{[`${Ii}-active`]:Ut,[`${Ii}-block`]:li},kt,Kt,nn);return Ji(_.createElement("div",{className:_n},_.createElement(L,Object.assign({prefixCls:`${Ii}-input`,size:vi},en))))},_e=t(85942),le=Ue=>{const rt=Mi=>{const{width:Ii,rows:Ji=2}=Ue;if(Array.isArray(Ii))return Ii[Mi];if(Ji-1===Mi)return Ii},{prefixCls:kt,className:Kt,style:Ut,rows:li}=Ue,vi=(0,_e.Z)(Array(li)).map((Mi,Ii)=>_.createElement("li",{key:Ii,style:{width:rt(Ii)}}));return _.createElement("ul",{className:O()(kt,Kt),style:Ut},vi)},he=Ue=>{let{prefixCls:rt,className:kt,width:Kt,style:Ut}=Ue;return _.createElement("h3",{className:O()(rt,kt),style:Object.assign({width:Kt},Ut)})};function je(Ue){return Ue&&typeof Ue=="object"?Ue:{}}function Xe(Ue,rt){return Ue&&!rt?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Ve(Ue,rt){return!Ue&&rt?{width:"38%"}:Ue&&rt?{width:"50%"}:{}}function se(Ue,rt){const kt={};return(!Ue||!rt)&&(kt.width="61%"),!Ue&&rt?kt.rows=3:kt.rows=2,kt}const q=Ue=>{const{prefixCls:rt,loading:kt,className:Kt,rootClassName:Ut,style:li,children:vi,avatar:Mi=!1,title:Ii=!0,paragraph:Ji=!0,active:nn,round:en}=Ue,{getPrefixCls:_n,direction:kn}=_.useContext(p.E_),pn=_n("skeleton",rt),[Bn,Tn]=D(pn);if(kt||!("loading"in Ue)){const Un=!!Mi,Pn=!!Ii,En=!!Ji;let zn;if(Un){const Wn=Object.assign(Object.assign({prefixCls:`${pn}-avatar`},Xe(Pn,En)),je(Mi));zn=_.createElement("div",{className:`${pn}-header`},_.createElement(L,Object.assign({},Wn)))}let Kn;if(Pn||En){let Wn;if(Pn){const An=Object.assign(Object.assign({prefixCls:`${pn}-title`},Ve(Un,En)),je(Ii));Wn=_.createElement(he,Object.assign({},An))}let os;if(En){const An=Object.assign(Object.assign({prefixCls:`${pn}-paragraph`},se(Un,Pn)),je(Ji));os=_.createElement(le,Object.assign({},An))}Kn=_.createElement("div",{className:`${pn}-content`},Wn,os)}const an=O()(pn,{[`${pn}-with-avatar`]:Un,[`${pn}-active`]:nn,[`${pn}-rtl`]:kn==="rtl",[`${pn}-round`]:en},Kt,Ut,Tn);return Bn(_.createElement("div",{className:an,style:li},zn,Kn))}return typeof vi!="undefined"?vi:null};q.Button=A,q.Avatar=B,q.Input=Ce,q.Image=T,q.Node=K;var Ee=q,Se=Ee,we=t(65393),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Ne=ve,$e=function(rt,kt){return _.createElement(J.Z,(0,k.Z)({},rt,{ref:kt,icon:Ne}))},Ke=_.forwardRef($e),ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},He=ze,Le=function(rt,kt){return _.createElement(J.Z,(0,k.Z)({},rt,{ref:kt,icon:He}))},de=_.forwardRef(Le),ee=t(56666),ne=t(33028),me=t(76854),ue=t(86522),Pe=t(99980),ot=t(87631),gt=t(32340),nt=t(18511),tt=(0,_.createContext)(null),st=_.forwardRef(function(Ue,rt){var kt=Ue.prefixCls,Kt=Ue.className,Ut=Ue.style,li=Ue.id,vi=Ue.active,Mi=Ue.tabKey,Ii=Ue.children;return _.createElement("div",{id:li&&"".concat(li,"-panel-").concat(Mi),role:"tabpanel",tabIndex:vi?0:-1,"aria-labelledby":li&&"".concat(li,"-tab-").concat(Mi),"aria-hidden":!vi,style:Ut,className:O()(kt,vi&&"".concat(kt,"-active"),Kt),ref:rt},Ii)}),It=st,Wt=["key","forceRender","style","className"];function Vt(Ue){var rt=Ue.id,kt=Ue.activeKey,Kt=Ue.animated,Ut=Ue.tabPosition,li=Ue.destroyInactiveTabPane,vi=_.useContext(tt),Mi=vi.prefixCls,Ii=vi.tabs,Ji=Kt.tabPane,nn="".concat(Mi,"-tabpane");return _.createElement("div",{className:O()("".concat(Mi,"-content-holder"))},_.createElement("div",{className:O()("".concat(Mi,"-content"),"".concat(Mi,"-content-").concat(Ut),(0,ee.Z)({},"".concat(Mi,"-content-animated"),Ji))},Ii.map(function(en){var _n=en.key,kn=en.forceRender,pn=en.style,Bn=en.className,Tn=(0,Pe.Z)(en,Wt),Un=_n===kt;return _.createElement(nt.ZP,(0,k.Z)({key:_n,visible:Un,forceRender:kn,removeOnLeave:!!li,leavedClassName:"".concat(nn,"-hidden")},Kt.tabPaneMotion),function(Pn,En){var zn=Pn.style,Kn=Pn.className;return _.createElement(It,(0,k.Z)({},Tn,{prefixCls:nn,id:rt,tabKey:_n,animated:Ji,active:Un,style:(0,ne.Z)((0,ne.Z)({},pn),zn),className:O()(Bn,Kn),ref:En}))})})))}var Ct=t(87040),gi=t(46574),jt=t(29694),Ye=t(16381),ut={width:0,height:0,left:0,top:0};function dt(Ue,rt,kt){return(0,_.useMemo)(function(){for(var Kt,Ut=new Map,li=rt.get((Kt=Ue[0])===null||Kt===void 0?void 0:Kt.key)||ut,vi=li.left+li.width,Mi=0;Mi<Ue.length;Mi+=1){var Ii=Ue[Mi].key,Ji=rt.get(Ii);if(!Ji){var nn;Ji=rt.get((nn=Ue[Mi-1])===null||nn===void 0?void 0:nn.key)||ut}var en=Ut.get(Ii)||(0,ne.Z)({},Ji);en.right=vi-en.left-en.width,Ut.set(Ii,en)}return Ut},[Ue.map(function(Kt){return Kt.key}).join("_"),rt,kt])}function bt(Ue,rt){var kt=_.useRef(Ue),Kt=_.useState({}),Ut=(0,me.Z)(Kt,2),li=Ut[1];function vi(Mi){var Ii=typeof Mi=="function"?Mi(kt.current):Mi;Ii!==kt.current&&rt(Ii,kt.current),kt.current=Ii,li({})}return[kt.current,vi]}var Mt=.1,ni=.01,qt=20,yt=Math.pow(.995,qt);function At(Ue,rt){var kt=(0,_.useState)(),Kt=(0,me.Z)(kt,2),Ut=Kt[0],li=Kt[1],vi=(0,_.useState)(0),Mi=(0,me.Z)(vi,2),Ii=Mi[0],Ji=Mi[1],nn=(0,_.useState)(0),en=(0,me.Z)(nn,2),_n=en[0],kn=en[1],pn=(0,_.useState)(),Bn=(0,me.Z)(pn,2),Tn=Bn[0],Un=Bn[1],Pn=(0,_.useRef)();function En(An){var ls=An.touches[0],Ln=ls.screenX,rs=ls.screenY;li({x:Ln,y:rs}),window.clearInterval(Pn.current)}function zn(An){if(Ut){An.preventDefault();var ls=An.touches[0],Ln=ls.screenX,rs=ls.screenY;li({x:Ln,y:rs});var Rn=Ln-Ut.x,as=rs-Ut.y;rt(Rn,as);var Is=Date.now();Ji(Is),kn(Is-Ii),Un({x:Rn,y:as})}}function Kn(){if(Ut&&(li(null),Un(null),Tn)){var An=Tn.x/_n,ls=Tn.y/_n,Ln=Math.abs(An),rs=Math.abs(ls);if(Math.max(Ln,rs)<Mt)return;var Rn=An,as=ls;Pn.current=window.setInterval(function(){if(Math.abs(Rn)<ni&&Math.abs(as)<ni){window.clearInterval(Pn.current);return}Rn*=yt,as*=yt,rt(Rn*qt,as*qt)},qt)}}var an=(0,_.useRef)();function Wn(An){var ls=An.deltaX,Ln=An.deltaY,rs=0,Rn=Math.abs(ls),as=Math.abs(Ln);Rn===as?rs=an.current==="x"?ls:Ln:Rn>as?(rs=ls,an.current="x"):(rs=Ln,an.current="y"),rt(-rs,-rs)&&An.preventDefault()}var os=(0,_.useRef)(null);os.current={onTouchStart:En,onTouchMove:zn,onTouchEnd:Kn,onWheel:Wn},_.useEffect(function(){function An(Rn){os.current.onTouchStart(Rn)}function ls(Rn){os.current.onTouchMove(Rn)}function Ln(Rn){os.current.onTouchEnd(Rn)}function rs(Rn){os.current.onWheel(Rn)}return document.addEventListener("touchmove",ls,{passive:!1}),document.addEventListener("touchend",Ln,{passive:!1}),Ue.current.addEventListener("touchstart",An,{passive:!1}),Ue.current.addEventListener("wheel",rs),function(){document.removeEventListener("touchmove",ls),document.removeEventListener("touchend",Ln)}},[])}var Qt=t(63803);function si(Ue){var rt=(0,_.useState)(0),kt=(0,me.Z)(rt,2),Kt=kt[0],Ut=kt[1],li=(0,_.useRef)(0),vi=(0,_.useRef)();return vi.current=Ue,(0,Qt.o)(function(){var Mi;(Mi=vi.current)===null||Mi===void 0||Mi.call(vi)},[Kt]),function(){li.current===Kt&&(li.current+=1,Ut(li.current))}}function oi(Ue){var rt=(0,_.useRef)([]),kt=(0,_.useState)({}),Kt=(0,me.Z)(kt,2),Ut=Kt[1],li=(0,_.useRef)(typeof Ue=="function"?Ue():Ue),vi=si(function(){var Ii=li.current;rt.current.forEach(function(Ji){Ii=Ji(Ii)}),rt.current=[],li.current=Ii,Ut({})});function Mi(Ii){rt.current.push(Ii),vi()}return[li.current,Mi]}var mi={width:0,height:0,left:0,top:0,right:0};function bi(Ue,rt,kt,Kt,Ut,li,vi){var Mi=vi.tabs,Ii=vi.tabPosition,Ji=vi.rtl,nn,en,_n;return["top","bottom"].includes(Ii)?(nn="width",en=Ji?"right":"left",_n=Math.abs(kt)):(nn="height",en="top",_n=-kt),(0,_.useMemo)(function(){if(!Mi.length)return[0,0];for(var kn=Mi.length,pn=kn,Bn=0;Bn<kn;Bn+=1){var Tn=Ue.get(Mi[Bn].key)||mi;if(Tn[en]+Tn[nn]>_n+rt){pn=Bn-1;break}}for(var Un=0,Pn=kn-1;Pn>=0;Pn-=1){var En=Ue.get(Mi[Pn].key)||mi;if(En[en]<_n){Un=Pn+1;break}}return Un>=pn?[0,0]:[Un,pn]},[Ue,rt,Kt,Ut,li,_n,Ii,Mi.map(function(kn){return kn.key}).join("_"),Ji])}function Ai(Ue){var rt;return Ue instanceof Map?(rt={},Ue.forEach(function(kt,Kt){rt[Kt]=kt})):rt=Ue,JSON.stringify(rt)}var $i="TABS_DQ";function Vi(Ue){return String(Ue).replace(/"/g,$i)}function Qi(Ue,rt){var kt=Ue.prefixCls,Kt=Ue.editable,Ut=Ue.locale,li=Ue.style;return!Kt||Kt.showAdd===!1?null:_.createElement("button",{ref:rt,type:"button",className:"".concat(kt,"-nav-add"),style:li,"aria-label":(Ut==null?void 0:Ut.addAriaLabel)||"Add tab",onClick:function(Mi){Kt.onEdit("add",{event:Mi})}},Kt.addIcon||"+")}var fn=_.forwardRef(Qi),Yi=_.forwardRef(function(Ue,rt){var kt=Ue.position,Kt=Ue.prefixCls,Ut=Ue.extra;if(!Ut)return null;var li,vi={};return(0,ue.Z)(Ut)==="object"&&!_.isValidElement(Ut)?vi=Ut:vi.right=Ut,kt==="right"&&(li=vi.right),kt==="left"&&(li=vi.left),li?_.createElement("div",{className:"".concat(Kt,"-extra-content"),ref:rt},li):null}),Pi=Yi,Li=t(60733),gn=t(92981),on=gn.Z.ESC,Nn=gn.Z.TAB;function ln(Ue){var rt=Ue.visible,kt=Ue.triggerRef,Kt=Ue.onVisibleChange,Ut=Ue.autoFocus,li=Ue.overlayRef,vi=_.useRef(!1),Mi=function(){if(rt){var en,_n;(en=kt.current)===null||en===void 0||(_n=en.focus)===null||_n===void 0||_n.call(en),Kt==null||Kt(!1)}},Ii=function(){var en;return(en=li.current)!==null&&en!==void 0&&en.focus?(li.current.focus(),vi.current=!0,!0):!1},Ji=function(en){switch(en.keyCode){case on:Mi();break;case Nn:{var _n=!1;vi.current||(_n=Ii()),_n?en.preventDefault():Mi();break}}};_.useEffect(function(){return rt?(window.addEventListener("keydown",Ji),Ut&&(0,jt.Z)(Ii,3),function(){window.removeEventListener("keydown",Ji),vi.current=!1}):function(){vi.current=!1}},[rt])}var Yt=(0,_.forwardRef)(function(Ue,rt){var kt=Ue.overlay,Kt=Ue.arrow,Ut=Ue.prefixCls,li=(0,_.useMemo)(function(){var Mi;return typeof kt=="function"?Mi=kt():Mi=kt,Mi},[kt]),vi=(0,Ye.sQ)(rt,li==null?void 0:li.ref);return _.createElement(_.Fragment,null,Kt&&_.createElement("div",{className:"".concat(Ut,"-arrow")}),_.cloneElement(li,{ref:(0,Ye.Yr)(li)?vi:void 0}))}),ti=Yt,fi={adjustX:1,adjustY:1},Gt=[0,0],Si={topLeft:{points:["bl","tl"],overflow:fi,offset:[0,-4],targetOffset:Gt},top:{points:["bc","tc"],overflow:fi,offset:[0,-4],targetOffset:Gt},topRight:{points:["br","tr"],overflow:fi,offset:[0,-4],targetOffset:Gt},bottomLeft:{points:["tl","bl"],overflow:fi,offset:[0,4],targetOffset:Gt},bottom:{points:["tc","bc"],overflow:fi,offset:[0,4],targetOffset:Gt},bottomRight:{points:["tr","br"],overflow:fi,offset:[0,4],targetOffset:Gt}},zi=Si,ji=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Hi(Ue,rt){var kt,Kt=Ue.arrow,Ut=Kt===void 0?!1:Kt,li=Ue.prefixCls,vi=li===void 0?"rc-dropdown":li,Mi=Ue.transitionName,Ii=Ue.animation,Ji=Ue.align,nn=Ue.placement,en=nn===void 0?"bottomLeft":nn,_n=Ue.placements,kn=_n===void 0?zi:_n,pn=Ue.getPopupContainer,Bn=Ue.showAction,Tn=Ue.hideAction,Un=Ue.overlayClassName,Pn=Ue.overlayStyle,En=Ue.visible,zn=Ue.trigger,Kn=zn===void 0?["hover"]:zn,an=Ue.autoFocus,Wn=Ue.overlay,os=Ue.children,An=Ue.onVisibleChange,ls=(0,Pe.Z)(Ue,ji),Ln=_.useState(),rs=(0,me.Z)(Ln,2),Rn=rs[0],as=rs[1],Is="visible"in Ue?En:Rn,zs=_.useRef(null),Et=_.useRef(null),e=_.useRef(null);_.useImperativeHandle(rt,function(){return zs.current});var o=function(pt){as(pt),An==null||An(pt)};ln({visible:Is,triggerRef:e,onVisibleChange:o,autoFocus:an,overlayRef:Et});var y=function(pt){var Ft=Ue.onOverlayClick;as(!1),Ft&&Ft(pt)},W=function(){return _.createElement(ti,{ref:Et,overlay:Wn,prefixCls:vi,arrow:Ut})},G=function(){return typeof Wn=="function"?W:W()},be=function(){var pt=Ue.minOverlayWidthMatchTrigger,Ft=Ue.alignPoint;return"minOverlayWidthMatchTrigger"in Ue?pt:!Ft},Oe=function(){var pt=Ue.openClassName;return pt!==void 0?pt:"".concat(vi,"-open")},Ze=_.cloneElement(os,{className:O()((kt=os.props)===null||kt===void 0?void 0:kt.className,Is&&Oe()),ref:(0,Ye.Yr)(os)?(0,Ye.sQ)(e,os.ref):void 0}),et=Tn;return!et&&Kn.indexOf("contextMenu")!==-1&&(et=["click"]),_.createElement(Li.Z,(0,k.Z)({builtinPlacements:kn},ls,{prefixCls:vi,ref:zs,popupClassName:O()(Un,(0,ee.Z)({},"".concat(vi,"-show-arrow"),Ut)),popupStyle:Pn,action:Kn,showAction:Bn,hideAction:et,popupPlacement:en,popupAlign:Ji,popupTransitionName:Mi,popupAnimation:Ii,popupVisible:Is,stretch:be()?"minWidth":"",popup:G(),onPopupVisibleChange:o,onPopupClick:y,getPopupContainer:pn}),Ze)}var tn=_.forwardRef(Hi),sn=tn,Xi=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Oi=void 0;function ai(Ue,rt){var kt=Ue.prefixCls,Kt=Ue.invalidate,Ut=Ue.item,li=Ue.renderItem,vi=Ue.responsive,Mi=Ue.responsiveDisabled,Ii=Ue.registerSize,Ji=Ue.itemKey,nn=Ue.className,en=Ue.style,_n=Ue.children,kn=Ue.display,pn=Ue.order,Bn=Ue.component,Tn=Bn===void 0?"div":Bn,Un=(0,Pe.Z)(Ue,Xi),Pn=vi&&!kn;function En(os){Ii(Ji,os)}_.useEffect(function(){return function(){En(null)}},[]);var zn=li&&Ut!==Oi?li(Ut):_n,Kn;Kt||(Kn={opacity:Pn?0:1,height:Pn?0:Oi,overflowY:Pn?"hidden":Oi,order:vi?pn:Oi,pointerEvents:Pn?"none":Oi,position:Pn?"absolute":Oi});var an={};Pn&&(an["aria-hidden"]=!0);var Wn=_.createElement(Tn,(0,k.Z)({className:O()(!Kt&&kt,nn),style:(0,ne.Z)((0,ne.Z)({},Kn),en)},an,Un,{ref:rt}),zn);return vi&&(Wn=_.createElement(Ct.Z,{onResize:function(An){var ls=An.offsetWidth;En(ls)},disabled:Mi},Wn)),Wn}var Zt=_.forwardRef(ai);Zt.displayName="Item";var Jt=Zt,_t=t(28316);function xt(Ue){if(typeof MessageChannel=="undefined")(0,jt.Z)(Ue);else{var rt=new MessageChannel;rt.port1.onmessage=function(){return Ue()},rt.port2.postMessage(void 0)}}function Ht(){var Ue=_.useRef(null),rt=function(Kt){Ue.current||(Ue.current=[],xt(function(){(0,_t.unstable_batchedUpdates)(function(){Ue.current.forEach(function(Ut){Ut()}),Ue.current=null})})),Ue.current.push(Kt)};return rt}function at(Ue,rt){var kt=_.useState(rt),Kt=(0,me.Z)(kt,2),Ut=Kt[0],li=Kt[1],vi=(0,gi.Z)(function(Mi){Ue(function(){li(Mi)})});return[Ut,vi]}var ce=_.createContext(null),We=["component"],Me=["className"],ge=["className"],Q=function(rt,kt){var Kt=_.useContext(ce);if(!Kt){var Ut=rt.component,li=Ut===void 0?"div":Ut,vi=(0,Pe.Z)(rt,We);return _.createElement(li,(0,k.Z)({},vi,{ref:kt}))}var Mi=Kt.className,Ii=(0,Pe.Z)(Kt,Me),Ji=rt.className,nn=(0,Pe.Z)(rt,ge);return _.createElement(ce.Provider,{value:null},_.createElement(Jt,(0,k.Z)({ref:kt,className:O()(Mi,Ji)},Ii,nn)))},ae=_.forwardRef(Q);ae.displayName="RawItem";var xe=ae,Ae=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Je="responsive",vt="invalidate";function St(Ue){return"+ ".concat(Ue.length," ...")}function wt(Ue,rt){var kt=Ue.prefixCls,Kt=kt===void 0?"rc-overflow":kt,Ut=Ue.data,li=Ut===void 0?[]:Ut,vi=Ue.renderItem,Mi=Ue.renderRawItem,Ii=Ue.itemKey,Ji=Ue.itemWidth,nn=Ji===void 0?10:Ji,en=Ue.ssr,_n=Ue.style,kn=Ue.className,pn=Ue.maxCount,Bn=Ue.renderRest,Tn=Ue.renderRawRest,Un=Ue.suffix,Pn=Ue.component,En=Pn===void 0?"div":Pn,zn=Ue.itemComponent,Kn=Ue.onVisibleChange,an=(0,Pe.Z)(Ue,Ae),Wn=en==="full",os=Ht(),An=at(os,null),ls=(0,me.Z)(An,2),Ln=ls[0],rs=ls[1],Rn=Ln||0,as=at(os,new Map),Is=(0,me.Z)(as,2),zs=Is[0],Et=Is[1],e=at(os,0),o=(0,me.Z)(e,2),y=o[0],W=o[1],G=at(os,0),be=(0,me.Z)(G,2),Oe=be[0],Ze=be[1],et=at(os,0),it=(0,me.Z)(et,2),pt=it[0],Ft=it[1],Ot=(0,_.useState)(null),Xt=(0,me.Z)(Ot,2),ii=Xt[0],ri=Xt[1],_i=(0,_.useState)(null),Ti=(0,me.Z)(_i,2),xi=Ti[0],Zi=Ti[1],Ki=_.useMemo(function(){return xi===null&&Wn?Number.MAX_SAFE_INTEGER:xi||0},[xi,Ln]),un=(0,_.useState)(!1),dn=(0,me.Z)(un,2),hn=dn[0],Ui=dn[1],Sn="".concat(Kt,"-item"),On=Math.max(y,Oe),xn=pn===Je,Dn=li.length&&xn,_s=pn===vt,ds=Dn||typeof pn=="number"&&li.length>pn,Cs=(0,_.useMemo)(function(){var ps=li;return Dn?Ln===null&&Wn?ps=li:ps=li.slice(0,Math.min(li.length,Rn/nn)):typeof pn=="number"&&(ps=li.slice(0,pn)),ps},[li,nn,Ln,pn,Dn]),Ns=(0,_.useMemo)(function(){return Dn?li.slice(Ki+1):li.slice(Cs.length)},[li,Cs,Dn,Ki]),Zs=(0,_.useCallback)(function(ps,Ts){var io;return typeof Ii=="function"?Ii(ps):(io=Ii&&(ps==null?void 0:ps[Ii]))!==null&&io!==void 0?io:Ts},[Ii]),bs=(0,_.useCallback)(vi||function(ps){return ps},[vi]);function ks(ps,Ts,io){xi===ps&&(Ts===void 0||Ts===ii)||(Zi(ps),io||(Ui(ps<li.length-1),Kn==null||Kn(ps)),Ts!==void 0&&ri(Ts))}function vo(ps,Ts){rs(Ts.clientWidth)}function Mo(ps,Ts){Et(function(io){var zo=new Map(io);return Ts===null?zo.delete(ps):zo.set(ps,Ts),zo})}function Po(ps,Ts){Ze(Ts),W(Oe)}function Ur(ps,Ts){Ft(Ts)}function Xr(ps){return zs.get(Zs(Cs[ps],ps))}(0,Qt.Z)(function(){if(Rn&&typeof On=="number"&&Cs){var ps=pt,Ts=Cs.length,io=Ts-1;if(!Ts){ks(0,null);return}for(var zo=0;zo<Ts;zo+=1){var qo=Xr(zo);if(Wn&&(qo=qo||0),qo===void 0){ks(zo-1,void 0,!0);break}if(ps+=qo,io===0&&ps<=Rn||zo===io-1&&ps+Xr(io)<=Rn){ks(io,null);break}else if(ps+On>Rn){ks(zo-1,ps-qo-pt+Oe);break}}Un&&Xr(0)+pt>Rn&&ri(null)}},[Rn,zs,Oe,pt,Zs,Cs]);var Er=hn&&!!Ns.length,mr={};ii!==null&&Dn&&(mr={position:"absolute",left:ii,top:0});var xr={prefixCls:Sn,responsive:Dn,component:zn,invalidate:_s},Jr=Mi?function(ps,Ts){var io=Zs(ps,Ts);return _.createElement(ce.Provider,{key:io,value:(0,ne.Z)((0,ne.Z)({},xr),{},{order:Ts,item:ps,itemKey:io,registerSize:Mo,display:Ts<=Ki})},Mi(ps,Ts))}:function(ps,Ts){var io=Zs(ps,Ts);return _.createElement(Jt,(0,k.Z)({},xr,{order:Ts,key:io,item:ps,renderItem:bs,itemKey:io,registerSize:Mo,display:Ts<=Ki}))},Go,pr={order:Er?Ki:Number.MAX_SAFE_INTEGER,className:"".concat(Sn,"-rest"),registerSize:Po,display:Er};if(Tn)Tn&&(Go=_.createElement(ce.Provider,{value:(0,ne.Z)((0,ne.Z)({},xr),pr)},Tn(Ns)));else{var Ir=Bn||St;Go=_.createElement(Jt,(0,k.Z)({},xr,pr),typeof Ir=="function"?Ir(Ns):Ir)}var Nr=_.createElement(En,(0,k.Z)({className:O()(!_s&&Kt,kn),style:_n,ref:rt},an),Cs.map(Jr),ds?Go:null,Un&&_.createElement(Jt,(0,k.Z)({},xr,{responsive:xn,responsiveDisabled:!Dn,order:Ki,className:"".concat(Sn,"-suffix"),registerSize:Ur,display:!0,style:mr}),Un));return xn&&(Nr=_.createElement(Ct.Z,{onResize:vo,disabled:!Dn},Nr)),Nr}var Lt=_.forwardRef(wt);Lt.displayName="Overflow",Lt.Item=xe,Lt.RESPONSIVE=Je,Lt.INVALIDATE=vt;var Bt=Lt,ei=Bt,pi=t(72895),di=t(1992),hi=_.createContext(null);function yi(Ue,rt){return Ue===void 0?null:"".concat(Ue,"-").concat(rt)}function Bi(Ue){var rt=_.useContext(hi);return yi(rt,Ue)}var ki=t(74959),Wi=["children","locked"],Ri=_.createContext(null);function Cn(Ue,rt){var kt=(0,ne.Z)({},Ue);return Object.keys(rt).forEach(function(Kt){var Ut=rt[Kt];Ut!==void 0&&(kt[Kt]=Ut)}),kt}function ts(Ue){var rt=Ue.children,kt=Ue.locked,Kt=(0,Pe.Z)(Ue,Wi),Ut=_.useContext(Ri),li=(0,ki.Z)(function(){return Cn(Ut,Kt)},[Ut,Kt],function(vi,Mi){return!kt&&(vi[0]!==Mi[0]||!(0,di.Z)(vi[1],Mi[1],!0))});return _.createElement(Ri.Provider,{value:li},rt)}var Hn=[],Ss=_.createContext(null);function mn(){return _.useContext(Ss)}var wi=_.createContext(Hn);function Fi(Ue){var rt=_.useContext(wi);return _.useMemo(function(){return Ue!==void 0?[].concat((0,_e.Z)(rt),[Ue]):rt},[rt,Ue])}var rn=_.createContext(null),jn=_.createContext({}),ns=jn,ys=t(93174);function Ms(Ue){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if((0,ys.Z)(Ue)){var kt=Ue.nodeName.toLowerCase(),Kt=["input","select","textarea","button"].includes(kt)||Ue.isContentEditable||kt==="a"&&!!Ue.getAttribute("href"),Ut=Ue.getAttribute("tabindex"),li=Number(Ut),vi=null;return Ut&&!Number.isNaN(li)?vi=li:Kt&&vi===null&&(vi=0),Kt&&Ue.disabled&&(vi=null),vi!==null&&(vi>=0||rt&&vi<0)}return!1}function ws(Ue){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,kt=(0,_e.Z)(Ue.querySelectorAll("*")).filter(function(Kt){return Ms(Kt,rt)});return Ms(Ue,rt)&&kt.unshift(Ue),kt}var Mn=null;function Ds(){Mn=document.activeElement}function oo(){Mn=null}function Eo(){if(Mn)try{Mn.focus()}catch(Ue){}}function To(Ue,rt){if(rt.keyCode===9){var kt=ws(Ue),Kt=kt[rt.shiftKey?0:kt.length-1],Ut=Kt===document.activeElement||Ue===document.activeElement;if(Ut){var li=kt[rt.shiftKey?kt.length-1:0];li.focus(),rt.preventDefault()}}}var Xs=gn.Z.LEFT,Ws=gn.Z.RIGHT,Es=gn.Z.UP,Vs=gn.Z.DOWN,yo=gn.Z.ENTER,$t=gn.Z.ESC,re=gn.Z.HOME,ke=gn.Z.END,lt=[Es,Vs,Xs,Ws];function Ge(Ue,rt,kt,Kt){var Ut,li,vi,Mi,Ii="prev",Ji="next",nn="children",en="parent";if(Ue==="inline"&&Kt===yo)return{inlineTrigger:!0};var _n=(Ut={},(0,ee.Z)(Ut,Es,Ii),(0,ee.Z)(Ut,Vs,Ji),Ut),kn=(li={},(0,ee.Z)(li,Xs,kt?Ji:Ii),(0,ee.Z)(li,Ws,kt?Ii:Ji),(0,ee.Z)(li,Vs,nn),(0,ee.Z)(li,yo,nn),li),pn=(vi={},(0,ee.Z)(vi,Es,Ii),(0,ee.Z)(vi,Vs,Ji),(0,ee.Z)(vi,yo,nn),(0,ee.Z)(vi,$t,en),(0,ee.Z)(vi,Xs,kt?nn:en),(0,ee.Z)(vi,Ws,kt?en:nn),vi),Bn={inline:_n,horizontal:kn,vertical:pn,inlineSub:_n,horizontalSub:pn,verticalSub:pn},Tn=(Mi=Bn["".concat(Ue).concat(rt?"":"Sub")])===null||Mi===void 0?void 0:Mi[Kt];switch(Tn){case Ii:return{offset:-1,sibling:!0};case Ji:return{offset:1,sibling:!0};case en:return{offset:-1,sibling:!1};case nn:return{offset:1,sibling:!1};default:return null}}function w(Ue){for(var rt=Ue;rt;){if(rt.getAttribute("data-menu-list"))return rt;rt=rt.parentElement}return null}function H(Ue,rt){for(var kt=Ue||document.activeElement;kt;){if(rt.has(kt))return kt;kt=kt.parentElement}return null}function ie(Ue,rt){var kt=ws(Ue,!0);return kt.filter(function(Kt){return rt.has(Kt)})}function De(Ue,rt,kt){var Kt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!Ue)return null;var Ut=ie(Ue,rt),li=Ut.length,vi=Ut.findIndex(function(Mi){return kt===Mi});return Kt<0?vi===-1?vi=li-1:vi-=1:Kt>0&&(vi+=1),vi=(vi+li)%li,Ut[vi]}function Fe(Ue,rt,kt,Kt,Ut,li,vi,Mi,Ii,Ji){var nn=_.useRef(),en=_.useRef();en.current=rt;var _n=function(){jt.Z.cancel(nn.current)};return _.useEffect(function(){return function(){_n()}},[]),function(kn){var pn=kn.which;if([].concat(lt,[yo,$t,re,ke]).includes(pn)){var Bn,Tn,Un,Pn=function(){Bn=new Set,Tn=new Map,Un=new Map;var Is=li();return Is.forEach(function(zs){var Et=document.querySelector("[data-menu-id='".concat(yi(Kt,zs),"']"));Et&&(Bn.add(Et),Un.set(Et,zs),Tn.set(zs,Et))}),Bn};Pn();var En=Tn.get(rt),zn=H(En,Bn),Kn=Un.get(zn),an=Ge(Ue,vi(Kn,!0).length===1,kt,pn);if(!an&&pn!==re&&pn!==ke)return;(lt.includes(pn)||[re,ke].includes(pn))&&kn.preventDefault();var Wn=function(Is){if(Is){var zs=Is,Et=Is.querySelector("a");Et!=null&&Et.getAttribute("href")&&(zs=Et);var e=Un.get(Is);Mi(e),_n(),nn.current=(0,jt.Z)(function(){en.current===e&&zs.focus()})}};if([re,ke].includes(pn)||an.sibling||!zn){var os;!zn||Ue==="inline"?os=Ut.current:os=w(zn);var An,ls=ie(os,Bn);pn===re?An=ls[0]:pn===ke?An=ls[ls.length-1]:An=De(os,Bn,zn,an.offset),Wn(An)}else if(an.inlineTrigger)Ii(Kn);else if(an.offset>0)Ii(Kn,!0),_n(),nn.current=(0,jt.Z)(function(){Pn();var as=zn.getAttribute("aria-controls"),Is=document.getElementById(as),zs=De(Is,Bn);Wn(zs)},5);else if(an.offset<0){var Ln=vi(Kn,!0),rs=Ln[Ln.length-2],Rn=Tn.get(rs);Ii(rs,!1),Wn(Rn)}}Ji==null||Ji(kn)}}function Qe(Ue){Promise.resolve().then(Ue)}var ft="__RC_UTIL_PATH_SPLIT__",mt=function(rt){return rt.join(ft)},Pt=function(rt){return rt.split(ft)},Tt="rc-menu-more";function Dt(){var Ue=_.useState({}),rt=(0,me.Z)(Ue,2),kt=rt[1],Kt=(0,_.useRef)(new Map),Ut=(0,_.useRef)(new Map),li=_.useState([]),vi=(0,me.Z)(li,2),Mi=vi[0],Ii=vi[1],Ji=(0,_.useRef)(0),nn=(0,_.useRef)(!1),en=function(){nn.current||kt({})},_n=(0,_.useCallback)(function(En,zn){var Kn=mt(zn);Ut.current.set(Kn,En),Kt.current.set(En,Kn),Ji.current+=1;var an=Ji.current;Qe(function(){an===Ji.current&&en()})},[]),kn=(0,_.useCallback)(function(En,zn){var Kn=mt(zn);Ut.current.delete(Kn),Kt.current.delete(En)},[]),pn=(0,_.useCallback)(function(En){Ii(En)},[]),Bn=(0,_.useCallback)(function(En,zn){var Kn=Kt.current.get(En)||"",an=Pt(Kn);return zn&&Mi.includes(an[0])&&an.unshift(Tt),an},[Mi]),Tn=(0,_.useCallback)(function(En,zn){return En.some(function(Kn){var an=Bn(Kn,!0);return an.includes(zn)})},[Bn]),Un=function(){var zn=(0,_e.Z)(Kt.current.keys());return Mi.length&&zn.push(Tt),zn},Pn=(0,_.useCallback)(function(En){var zn="".concat(Kt.current.get(En)).concat(ft),Kn=new Set;return(0,_e.Z)(Ut.current.keys()).forEach(function(an){an.startsWith(zn)&&Kn.add(Ut.current.get(an))}),Kn},[]);return _.useEffect(function(){return function(){nn.current=!0}},[]),{registerPath:_n,unregisterPath:kn,refreshOverflowKeys:pn,isSubPathKey:Tn,getKeyPath:Bn,getKeys:Un,getSubPathKeys:Pn}}function zt(Ue){var rt=_.useRef(Ue);rt.current=Ue;var kt=_.useCallback(function(){for(var Kt,Ut=arguments.length,li=new Array(Ut),vi=0;vi<Ut;vi++)li[vi]=arguments[vi];return(Kt=rt.current)===null||Kt===void 0?void 0:Kt.call.apply(Kt,[rt].concat(li))},[]);return Ue?kt:void 0}var ui=Math.random().toFixed(5).toString().slice(2),Di=0;function Ni(Ue){var rt=(0,gt.Z)(Ue,{value:Ue}),kt=(0,me.Z)(rt,2),Kt=kt[0],Ut=kt[1];return _.useEffect(function(){Di+=1;var li="".concat(ui,"-").concat(Di);Ut("rc-menu-uuid-".concat(li))},[]),Kt}var Ei=t(9249),qi=t(87371),yn=t(64136),cn=t(33219);function $n(Ue,rt,kt,Kt){var Ut=_.useContext(Ri),li=Ut.activeKey,vi=Ut.onActive,Mi=Ut.onInactive,Ii={active:li===Ue};return rt||(Ii.onMouseEnter=function(Ji){kt==null||kt({key:Ue,domEvent:Ji}),vi(Ue)},Ii.onMouseLeave=function(Ji){Kt==null||Kt({key:Ue,domEvent:Ji}),Mi(Ue)}),Ii}function Ps(Ue){var rt=_.useContext(Ri),kt=rt.mode,Kt=rt.rtl,Ut=rt.inlineIndent;if(kt!=="inline")return null;var li=Ue;return Kt?{paddingRight:li*Ut}:{paddingLeft:li*Ut}}function vs(Ue){var rt=Ue.icon,kt=Ue.props,Kt=Ue.children,Ut;return typeof rt=="function"?Ut=_.createElement(rt,(0,ne.Z)({},kt)):Ut=rt,Ut||Kt||null}var xs=["item"];function go(Ue){var rt=Ue.item,kt=(0,Pe.Z)(Ue,xs);return Object.defineProperty(kt,"item",{get:function(){return(0,pi.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),rt}}),kt}var Rs=["title","attribute","elementRef"],xo=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],ao=["active"],mo=function(Ue){(0,yn.Z)(kt,Ue);var rt=(0,cn.Z)(kt);function kt(){return(0,Ei.Z)(this,kt),rt.apply(this,arguments)}return(0,qi.Z)(kt,[{key:"render",value:function(){var Ut=this.props,li=Ut.title,vi=Ut.attribute,Mi=Ut.elementRef,Ii=(0,Pe.Z)(Ut,Rs),Ji=(0,u.Z)(Ii,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,pi.ZP)(!vi,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),_.createElement(ei.Item,(0,k.Z)({},vi,{title:typeof li=="string"?li:void 0},Ji,{ref:Mi}))}}]),kt}(_.Component),Gs=_.forwardRef(function(Ue,rt){var kt,Kt=Ue.style,Ut=Ue.className,li=Ue.eventKey,vi=Ue.warnKey,Mi=Ue.disabled,Ii=Ue.itemIcon,Ji=Ue.children,nn=Ue.role,en=Ue.onMouseEnter,_n=Ue.onMouseLeave,kn=Ue.onClick,pn=Ue.onKeyDown,Bn=Ue.onFocus,Tn=(0,Pe.Z)(Ue,xo),Un=Bi(li),Pn=_.useContext(Ri),En=Pn.prefixCls,zn=Pn.onItemClick,Kn=Pn.disabled,an=Pn.overflowDisabled,Wn=Pn.itemIcon,os=Pn.selectedKeys,An=Pn.onActive,ls=_.useContext(ns),Ln=ls._internalRenderMenuItem,rs="".concat(En,"-item"),Rn=_.useRef(),as=_.useRef(),Is=Kn||Mi,zs=(0,Ye.x1)(rt,as),Et=Fi(li),e=function(Xt){return{key:li,keyPath:(0,_e.Z)(Et).reverse(),item:Rn.current,domEvent:Xt}},o=Ii||Wn,y=$n(li,Is,en,_n),W=y.active,G=(0,Pe.Z)(y,ao),be=os.includes(li),Oe=Ps(Et.length),Ze=function(Xt){if(!Is){var ii=e(Xt);kn==null||kn(go(ii)),zn(ii)}},et=function(Xt){if(pn==null||pn(Xt),Xt.which===gn.Z.ENTER){var ii=e(Xt);kn==null||kn(go(ii)),zn(ii)}},it=function(Xt){An(li),Bn==null||Bn(Xt)},pt={};Ue.role==="option"&&(pt["aria-selected"]=be);var Ft=_.createElement(mo,(0,k.Z)({ref:Rn,elementRef:zs,role:nn===null?"none":nn||"menuitem",tabIndex:Mi?null:-1,"data-menu-id":an&&Un?null:Un},Tn,G,pt,{component:"li","aria-disabled":Mi,style:(0,ne.Z)((0,ne.Z)({},Oe),Kt),className:O()(rs,(kt={},(0,ee.Z)(kt,"".concat(rs,"-active"),W),(0,ee.Z)(kt,"".concat(rs,"-selected"),be),(0,ee.Z)(kt,"".concat(rs,"-disabled"),Is),kt),Ut),onClick:Ze,onKeyDown:et,onFocus:it}),Ji,_.createElement(vs,{props:(0,ne.Z)((0,ne.Z)({},Ue),{},{isSelected:be}),icon:o}));return Ln&&(Ft=Ln(Ft,Ue,{selected:be})),Ft});function po(Ue,rt){var kt=Ue.eventKey,Kt=mn(),Ut=Fi(kt);return _.useEffect(function(){if(Kt)return Kt.registerPath(kt,Ut),function(){Kt.unregisterPath(kt,Ut)}},[Ut]),Kt?null:_.createElement(Gs,(0,k.Z)({},Ue,{ref:rt}))}var Js=_.forwardRef(po),ko=["className","children"],wo=function(rt,kt){var Kt=rt.className,Ut=rt.children,li=(0,Pe.Z)(rt,ko),vi=_.useContext(Ri),Mi=vi.prefixCls,Ii=vi.mode,Ji=vi.rtl;return _.createElement("ul",(0,k.Z)({className:O()(Mi,Ji&&"".concat(Mi,"-rtl"),"".concat(Mi,"-sub"),"".concat(Mi,"-").concat(Ii==="inline"?"inline":"vertical"),Kt),role:"menu"},li,{"data-menu-list":!0,ref:kt}),Ut)},Cr=_.forwardRef(wo);Cr.displayName="SubMenuList";var ms=Cr,dr=t(33514),As=["label","children","key","type"];function Xn(Ue,rt){return(0,dr.Z)(Ue).map(function(kt,Kt){if(_.isValidElement(kt)){var Ut,li,vi=kt.key,Mi=(Ut=(li=kt.props)===null||li===void 0?void 0:li.eventKey)!==null&&Ut!==void 0?Ut:vi,Ii=Mi==null;Ii&&(Mi="tmp_key-".concat([].concat((0,_e.Z)(rt),[Kt]).join("-")));var Ji={key:Mi,eventKey:Mi};return _.cloneElement(kt,Ji)}return kt})}function hs(Ue){return(Ue||[]).map(function(rt,kt){if(rt&&(0,ue.Z)(rt)==="object"){var Kt=rt,Ut=Kt.label,li=Kt.children,vi=Kt.key,Mi=Kt.type,Ii=(0,Pe.Z)(Kt,As),Ji=vi!=null?vi:"tmp-".concat(kt);return li||Mi==="group"?Mi==="group"?_.createElement(Sr,(0,k.Z)({key:Ji},Ii,{title:Ut}),hs(li)):_.createElement(br,(0,k.Z)({key:Ji},Ii,{title:Ut}),hs(li)):Mi==="divider"?_.createElement(Us,(0,k.Z)({key:Ji},Ii)):_.createElement(Js,(0,k.Z)({key:Ji},Ii),Ut)}return null}).filter(function(rt){return rt})}function js(Ue,rt,kt){var Kt=Ue;return rt&&(Kt=hs(rt)),Xn(Kt,kt)}var cs={adjustX:1,adjustY:1},Os={topLeft:{points:["bl","tl"],overflow:cs},topRight:{points:["br","tr"],overflow:cs},bottomLeft:{points:["tl","bl"],overflow:cs},bottomRight:{points:["tr","br"],overflow:cs},leftTop:{points:["tr","tl"],overflow:cs},leftBottom:{points:["br","bl"],overflow:cs},rightTop:{points:["tl","tr"],overflow:cs},rightBottom:{points:["bl","br"],overflow:cs}},uo={topLeft:{points:["bl","tl"],overflow:cs},topRight:{points:["br","tr"],overflow:cs},bottomLeft:{points:["tl","bl"],overflow:cs},bottomRight:{points:["tr","br"],overflow:cs},rightTop:{points:["tr","tl"],overflow:cs},rightBottom:{points:["br","bl"],overflow:cs},leftTop:{points:["tl","tr"],overflow:cs},leftBottom:{points:["bl","br"],overflow:cs}},sr=null;function ur(Ue,rt,kt){if(rt)return rt;if(kt)return kt[Ue]||kt.other}var Rr={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function hr(Ue){var rt=Ue.prefixCls,kt=Ue.visible,Kt=Ue.children,Ut=Ue.popup,li=Ue.popupClassName,vi=Ue.popupOffset,Mi=Ue.disabled,Ii=Ue.mode,Ji=Ue.onVisibleChange,nn=_.useContext(Ri),en=nn.getPopupContainer,_n=nn.rtl,kn=nn.subMenuOpenDelay,pn=nn.subMenuCloseDelay,Bn=nn.builtinPlacements,Tn=nn.triggerSubMenuAction,Un=nn.forceSubMenuRender,Pn=nn.rootClassName,En=nn.motion,zn=nn.defaultMotions,Kn=_.useState(!1),an=(0,me.Z)(Kn,2),Wn=an[0],os=an[1],An=_n?(0,ne.Z)((0,ne.Z)({},uo),Bn):(0,ne.Z)((0,ne.Z)({},Os),Bn),ls=Rr[Ii],Ln=ur(Ii,En,zn),rs=_.useRef(Ln);Ii!=="inline"&&(rs.current=Ln);var Rn=(0,ne.Z)((0,ne.Z)({},rs.current),{},{leavedClassName:"".concat(rt,"-hidden"),removeOnLeave:!1,motionAppear:!0}),as=_.useRef();return _.useEffect(function(){return as.current=(0,jt.Z)(function(){os(kt)}),function(){jt.Z.cancel(as.current)}},[kt]),_.createElement(Li.Z,{prefixCls:rt,popupClassName:O()("".concat(rt,"-popup"),(0,ee.Z)({},"".concat(rt,"-rtl"),_n),li,Pn),stretch:Ii==="horizontal"?"minWidth":null,getPopupContainer:en,builtinPlacements:An,popupPlacement:ls,popupVisible:Wn,popup:Ut,popupAlign:vi&&{offset:vi},action:Mi?[]:[Tn],mouseEnterDelay:kn,mouseLeaveDelay:pn,onPopupVisibleChange:Ji,forceRender:Un,popupMotion:Rn},Kt)}function or(Ue){var rt=Ue.id,kt=Ue.open,Kt=Ue.keyPath,Ut=Ue.children,li="inline",vi=_.useContext(Ri),Mi=vi.prefixCls,Ii=vi.forceSubMenuRender,Ji=vi.motion,nn=vi.defaultMotions,en=vi.mode,_n=_.useRef(!1);_n.current=en===li;var kn=_.useState(!_n.current),pn=(0,me.Z)(kn,2),Bn=pn[0],Tn=pn[1],Un=_n.current?kt:!1;_.useEffect(function(){_n.current&&Tn(!1)},[en]);var Pn=(0,ne.Z)({},ur(li,Ji,nn));Kt.length>1&&(Pn.motionAppear=!1);var En=Pn.onVisibleChanged;return Pn.onVisibleChanged=function(zn){return!_n.current&&!zn&&Tn(!0),En==null?void 0:En(zn)},Bn?null:_.createElement(ts,{mode:li,locked:!_n.current},_.createElement(nt.ZP,(0,k.Z)({visible:Un},Pn,{forceRender:Ii,removeOnLeave:!1,leavedClassName:"".concat(Mi,"-hidden")}),function(zn){var Kn=zn.className,an=zn.style;return _.createElement(ms,{id:rt,className:Kn,style:an},Ut)}))}var Or=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Pa=["active"],_a=function(rt){var kt,Kt=rt.style,Ut=rt.className,li=rt.title,vi=rt.eventKey,Mi=rt.warnKey,Ii=rt.disabled,Ji=rt.internalPopupClose,nn=rt.children,en=rt.itemIcon,_n=rt.expandIcon,kn=rt.popupClassName,pn=rt.popupOffset,Bn=rt.onClick,Tn=rt.onMouseEnter,Un=rt.onMouseLeave,Pn=rt.onTitleClick,En=rt.onTitleMouseEnter,zn=rt.onTitleMouseLeave,Kn=(0,Pe.Z)(rt,Or),an=Bi(vi),Wn=_.useContext(Ri),os=Wn.prefixCls,An=Wn.mode,ls=Wn.openKeys,Ln=Wn.disabled,rs=Wn.overflowDisabled,Rn=Wn.activeKey,as=Wn.selectedKeys,Is=Wn.itemIcon,zs=Wn.expandIcon,Et=Wn.onItemClick,e=Wn.onOpenChange,o=Wn.onActive,y=_.useContext(ns),W=y._internalRenderSubMenuItem,G=_.useContext(rn),be=G.isSubPathKey,Oe=Fi(),Ze="".concat(os,"-submenu"),et=Ln||Ii,it=_.useRef(),pt=_.useRef(),Ft=en||Is,Ot=_n||zs,Xt=ls.includes(vi),ii=!rs&&Xt,ri=be(as,vi),_i=$n(vi,et,En,zn),Ti=_i.active,xi=(0,Pe.Z)(_i,Pa),Zi=_.useState(!1),Ki=(0,me.Z)(Zi,2),un=Ki[0],dn=Ki[1],hn=function(Po){et||dn(Po)},Ui=function(Po){hn(!0),Tn==null||Tn({key:vi,domEvent:Po})},Sn=function(Po){hn(!1),Un==null||Un({key:vi,domEvent:Po})},On=_.useMemo(function(){return Ti||(An!=="inline"?un||be([Rn],vi):!1)},[An,Ti,Rn,un,vi,be]),xn=Ps(Oe.length),Dn=function(Po){et||(Pn==null||Pn({key:vi,domEvent:Po}),An==="inline"&&e(vi,!Xt))},_s=zt(function(Mo){Bn==null||Bn(go(Mo)),Et(Mo)}),ds=function(Po){An!=="inline"&&e(vi,Po)},Cs=function(){o(vi)},Ns=an&&"".concat(an,"-popup"),Zs=_.createElement("div",(0,k.Z)({role:"menuitem",style:xn,className:"".concat(Ze,"-title"),tabIndex:et?null:-1,ref:it,title:typeof li=="string"?li:null,"data-menu-id":rs&&an?null:an,"aria-expanded":ii,"aria-haspopup":!0,"aria-controls":Ns,"aria-disabled":et,onClick:Dn,onFocus:Cs},xi),li,_.createElement(vs,{icon:An!=="horizontal"?Ot:null,props:(0,ne.Z)((0,ne.Z)({},rt),{},{isOpen:ii,isSubMenu:!0})},_.createElement("i",{className:"".concat(Ze,"-arrow")}))),bs=_.useRef(An);if(An!=="inline"&&Oe.length>1?bs.current="vertical":bs.current=An,!rs){var ks=bs.current;Zs=_.createElement(hr,{mode:ks,prefixCls:Ze,visible:!Ji&&ii&&An!=="inline",popupClassName:kn,popupOffset:pn,popup:_.createElement(ts,{mode:ks==="horizontal"?"vertical":ks},_.createElement(ms,{id:Ns,ref:pt},nn)),disabled:et,onVisibleChange:ds},Zs)}var vo=_.createElement(ei.Item,(0,k.Z)({role:"none"},Kn,{component:"li",style:Kt,className:O()(Ze,"".concat(Ze,"-").concat(An),Ut,(kt={},(0,ee.Z)(kt,"".concat(Ze,"-open"),ii),(0,ee.Z)(kt,"".concat(Ze,"-active"),On),(0,ee.Z)(kt,"".concat(Ze,"-selected"),ri),(0,ee.Z)(kt,"".concat(Ze,"-disabled"),et),kt)),onMouseEnter:Ui,onMouseLeave:Sn}),Zs,!rs&&_.createElement(or,{id:Ns,open:ii,keyPath:Oe},nn));return W&&(vo=W(vo,rt,{selected:ri,active:On,open:ii,disabled:et})),_.createElement(ts,{onItemClick:_s,mode:An==="horizontal"?"vertical":An,itemIcon:Ft,expandIcon:Ot},vo)};function br(Ue){var rt=Ue.eventKey,kt=Ue.children,Kt=Fi(rt),Ut=Xn(kt,Kt),li=mn();_.useEffect(function(){if(li)return li.registerPath(rt,Kt),function(){li.unregisterPath(rt,Kt)}},[Kt]);var vi;return li?vi=Ut:vi=_.createElement(_a,Ue,Ut),_.createElement(wi.Provider,{value:Kt},vi)}var na=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Yo=[],Ar=_.forwardRef(function(Ue,rt){var kt,Kt,Ut=Ue,li=Ut.prefixCls,vi=li===void 0?"rc-menu":li,Mi=Ut.rootClassName,Ii=Ut.style,Ji=Ut.className,nn=Ut.tabIndex,en=nn===void 0?0:nn,_n=Ut.items,kn=Ut.children,pn=Ut.direction,Bn=Ut.id,Tn=Ut.mode,Un=Tn===void 0?"vertical":Tn,Pn=Ut.inlineCollapsed,En=Ut.disabled,zn=Ut.disabledOverflow,Kn=Ut.subMenuOpenDelay,an=Kn===void 0?.1:Kn,Wn=Ut.subMenuCloseDelay,os=Wn===void 0?.1:Wn,An=Ut.forceSubMenuRender,ls=Ut.defaultOpenKeys,Ln=Ut.openKeys,rs=Ut.activeKey,Rn=Ut.defaultActiveFirst,as=Ut.selectable,Is=as===void 0?!0:as,zs=Ut.multiple,Et=zs===void 0?!1:zs,e=Ut.defaultSelectedKeys,o=Ut.selectedKeys,y=Ut.onSelect,W=Ut.onDeselect,G=Ut.inlineIndent,be=G===void 0?24:G,Oe=Ut.motion,Ze=Ut.defaultMotions,et=Ut.triggerSubMenuAction,it=et===void 0?"hover":et,pt=Ut.builtinPlacements,Ft=Ut.itemIcon,Ot=Ut.expandIcon,Xt=Ut.overflowedIndicator,ii=Xt===void 0?"...":Xt,ri=Ut.overflowedIndicatorPopupClassName,_i=Ut.getPopupContainer,Ti=Ut.onClick,xi=Ut.onOpenChange,Zi=Ut.onKeyDown,Ki=Ut.openAnimation,un=Ut.openTransitionName,dn=Ut._internalRenderMenuItem,hn=Ut._internalRenderSubMenuItem,Ui=(0,Pe.Z)(Ut,na),Sn=_.useMemo(function(){return js(kn,_n,Yo)},[kn,_n]),On=_.useState(!1),xn=(0,me.Z)(On,2),Dn=xn[0],_s=xn[1],ds=_.useRef(),Cs=Ni(Bn),Ns=pn==="rtl",Zs=(0,gt.Z)(ls,{value:Ln,postState:function(Ks){return Ks||Yo}}),bs=(0,me.Z)(Zs,2),ks=bs[0],vo=bs[1],Mo=function(Ks){var eo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Ao(){vo(Ks),xi==null||xi(Ks)}eo?(0,_t.flushSync)(Ao):Ao()},Po=_.useState(ks),Ur=(0,me.Z)(Po,2),Xr=Ur[0],Er=Ur[1],mr=_.useRef(!1),xr=_.useMemo(function(){return(Un==="inline"||Un==="vertical")&&Pn?["vertical",Pn]:[Un,!1]},[Un,Pn]),Jr=(0,me.Z)(xr,2),Go=Jr[0],pr=Jr[1],Ir=Go==="inline",Nr=_.useState(Go),ps=(0,me.Z)(Nr,2),Ts=ps[0],io=ps[1],zo=_.useState(pr),qo=(0,me.Z)(zo,2),Ha=qo[0],er=qo[1];_.useEffect(function(){io(Go),er(pr),mr.current&&(Ir?vo(Xr):Mo(Yo))},[Go,pr]);var vr=_.useState(0),Tr=(0,me.Z)(vr,2),qr=Tr[0],no=Tr[1],ar=qr>=Sn.length-1||Ts!=="horizontal"||zn;_.useEffect(function(){Ir&&Er(ks)},[ks]),_.useEffect(function(){return mr.current=!0,function(){mr.current=!1}},[]);var lr=Dt(),ea=lr.registerPath,xa=lr.unregisterPath,Ua=lr.refreshOverflowKeys,Bs=lr.isSubPathKey,fs=lr.getKeyPath,fo=lr.getKeys,_o=lr.getSubPathKeys,jo=_.useMemo(function(){return{registerPath:ea,unregisterPath:xa}},[ea,xa]),tr=_.useMemo(function(){return{isSubPathKey:Bs}},[Bs]);_.useEffect(function(){Ua(ar?Yo:Sn.slice(qr+1).map(function(ro){return ro.key}))},[qr,ar]);var ua=(0,gt.Z)(rs||Rn&&((kt=Sn[0])===null||kt===void 0?void 0:kt.key),{value:rs}),El=(0,me.Z)(ua,2),zr=El[0],Ia=El[1],xl=zt(function(ro){Ia(ro)}),ha=zt(function(){Ia(void 0)});(0,_.useImperativeHandle)(rt,function(){return{list:ds.current,focus:function(Ks){var eo,Ao=zr!=null?zr:(eo=Sn.find(function(ga){return!ga.props.disabled}))===null||eo===void 0?void 0:eo.key;if(Ao){var Zo,ia,fa;(Zo=ds.current)===null||Zo===void 0||(ia=Zo.querySelector("li[data-menu-id='".concat(yi(Cs,Ao),"']")))===null||ia===void 0||(fa=ia.focus)===null||fa===void 0||fa.call(ia,Ks)}}}});var ul=(0,gt.Z)(e||[],{value:o,postState:function(Ks){return Array.isArray(Ks)?Ks:Ks==null?Yo:[Ks]}}),za=(0,me.Z)(ul,2),Mr=za[0],ja=za[1],jl=function(Ks){if(Is){var eo=Ks.key,Ao=Mr.includes(eo),Zo;Et?Ao?Zo=Mr.filter(function(fa){return fa!==eo}):Zo=[].concat((0,_e.Z)(Mr),[eo]):Zo=[eo],ja(Zo);var ia=(0,ne.Z)((0,ne.Z)({},Ks),{},{selectedKeys:Zo});Ao?W==null||W(ia):y==null||y(ia)}!Et&&ks.length&&Ts!=="inline"&&Mo(Yo)},ir=zt(function(ro){Ti==null||Ti(go(ro)),jl(ro)}),Il=zt(function(ro,Ks){var eo=ks.filter(function(Zo){return Zo!==ro});if(Ks)eo.push(ro);else if(Ts!=="inline"){var Ao=_o(ro);eo=eo.filter(function(Zo){return!Ao.has(Zo)})}(0,di.Z)(ks,eo,!0)||Mo(eo,!0)}),hl=function(Ks,eo){var Ao=eo!=null?eo:!ks.includes(Ks);Il(Ks,Ao)},fl=Fe(Ts,zr,Ns,Cs,ds,fo,fs,Ia,hl,Zi);_.useEffect(function(){_s(!0)},[]);var Ka=_.useMemo(function(){return{_internalRenderMenuItem:dn,_internalRenderSubMenuItem:hn}},[dn,hn]),$a=Ts!=="horizontal"||zn?Sn:Sn.map(function(ro,Ks){return _.createElement(ts,{key:ro.key,overflowDisabled:Ks>qr},ro)}),ta=_.createElement(ei,(0,k.Z)({id:Bn,ref:ds,prefixCls:"".concat(vi,"-overflow"),component:"ul",itemComponent:Js,className:O()(vi,"".concat(vi,"-root"),"".concat(vi,"-").concat(Ts),Ji,(Kt={},(0,ee.Z)(Kt,"".concat(vi,"-inline-collapsed"),Ha),(0,ee.Z)(Kt,"".concat(vi,"-rtl"),Ns),Kt),Mi),dir:pn,style:Ii,role:"menu",tabIndex:en,data:$a,renderRawItem:function(Ks){return Ks},renderRawRest:function(Ks){var eo=Ks.length,Ao=eo?Sn.slice(-eo):null;return _.createElement(br,{eventKey:Tt,title:ii,disabled:ar,internalPopupClose:eo===0,popupClassName:ri},Ao)},maxCount:Ts!=="horizontal"||zn?ei.INVALIDATE:ei.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Ks){no(Ks)},onKeyDown:fl},Ui));return _.createElement(ns.Provider,{value:Ka},_.createElement(hi.Provider,{value:Cs},_.createElement(ts,{prefixCls:vi,rootClassName:Mi,mode:Ts,openKeys:ks,rtl:Ns,disabled:En,motion:Dn?Oe:null,defaultMotions:Dn?Ze:null,activeKey:zr,onActive:xl,onInactive:ha,selectedKeys:Mr,inlineIndent:be,subMenuOpenDelay:an,subMenuCloseDelay:os,forceSubMenuRender:An,builtinPlacements:pt,triggerSubMenuAction:it,getPopupContainer:_i,itemIcon:Ft,expandIcon:Ot,onItemClick:ir,onOpenChange:Il},_.createElement(rn.Provider,{value:tr},ta),_.createElement("div",{style:{display:"none"},"aria-hidden":!0},_.createElement(Ss.Provider,{value:jo},Sn)))))}),kr=Ar,Ca=["className","title","eventKey","children"],ba=["children"],Hs=function(rt){var kt=rt.className,Kt=rt.title,Ut=rt.eventKey,li=rt.children,vi=(0,Pe.Z)(rt,Ca),Mi=_.useContext(Ri),Ii=Mi.prefixCls,Ji="".concat(Ii,"-item-group");return _.createElement("li",(0,k.Z)({role:"presentation"},vi,{onClick:function(en){return en.stopPropagation()},className:O()(Ji,kt)}),_.createElement("div",{role:"presentation",className:"".concat(Ji,"-title"),title:typeof Kt=="string"?Kt:void 0},Kt),_.createElement("ul",{role:"group",className:"".concat(Ji,"-list")},li))};function Sr(Ue){var rt=Ue.children,kt=(0,Pe.Z)(Ue,ba),Kt=Fi(kt.eventKey),Ut=Xn(rt,Kt),li=mn();return li?Ut:_.createElement(Hs,(0,u.Z)(kt,["warnKey"]),Ut)}function Us(Ue){var rt=Ue.className,kt=Ue.style,Kt=_.useContext(Ri),Ut=Kt.prefixCls,li=mn();return li?null:_.createElement("li",{className:O()("".concat(Ut,"-item-divider"),rt),style:kt})}var Fr=kr;Fr.Item=Js,Fr.SubMenu=br,Fr.ItemGroup=Sr,Fr.Divider=Us;var Oo=Fr;function Xo(Ue,rt){var kt=Ue.prefixCls,Kt=Ue.id,Ut=Ue.tabs,li=Ue.locale,vi=Ue.mobile,Mi=Ue.moreIcon,Ii=Mi===void 0?"More":Mi,Ji=Ue.moreTransitionName,nn=Ue.style,en=Ue.className,_n=Ue.editable,kn=Ue.tabBarGutter,pn=Ue.rtl,Bn=Ue.removeAriaLabel,Tn=Ue.onTabClick,Un=Ue.getPopupContainer,Pn=Ue.popupClassName,En=(0,_.useState)(!1),zn=(0,me.Z)(En,2),Kn=zn[0],an=zn[1],Wn=(0,_.useState)(null),os=(0,me.Z)(Wn,2),An=os[0],ls=os[1],Ln="".concat(Kt,"-more-popup"),rs="".concat(kt,"-dropdown"),Rn=An!==null?"".concat(Ln,"-").concat(An):null,as=li==null?void 0:li.dropdownAriaLabel;function Is(G,be){G.preventDefault(),G.stopPropagation(),_n.onEdit("remove",{key:be,event:G})}var zs=_.createElement(Oo,{onClick:function(be){var Oe=be.key,Ze=be.domEvent;Tn(Oe,Ze),an(!1)},prefixCls:"".concat(rs,"-menu"),id:Ln,tabIndex:-1,role:"listbox","aria-activedescendant":Rn,selectedKeys:[An],"aria-label":as!==void 0?as:"expanded dropdown"},Ut.map(function(G){var be=_n&&G.closable!==!1&&!G.disabled;return _.createElement(Js,{key:G.key,id:"".concat(Ln,"-").concat(G.key),role:"option","aria-controls":Kt&&"".concat(Kt,"-panel-").concat(G.key),disabled:G.disabled},_.createElement("span",null,G.label),be&&_.createElement("button",{type:"button","aria-label":Bn||"remove",tabIndex:0,className:"".concat(rs,"-menu-item-remove"),onClick:function(Ze){Ze.stopPropagation(),Is(Ze,G.key)}},G.closeIcon||_n.removeIcon||"\xD7"))}));function Et(G){for(var be=Ut.filter(function(pt){return!pt.disabled}),Oe=be.findIndex(function(pt){return pt.key===An})||0,Ze=be.length,et=0;et<Ze;et+=1){Oe=(Oe+G+Ze)%Ze;var it=be[Oe];if(!it.disabled){ls(it.key);return}}}function e(G){var be=G.which;if(!Kn){[gn.Z.DOWN,gn.Z.SPACE,gn.Z.ENTER].includes(be)&&(an(!0),G.preventDefault());return}switch(be){case gn.Z.UP:Et(-1),G.preventDefault();break;case gn.Z.DOWN:Et(1),G.preventDefault();break;case gn.Z.ESC:an(!1);break;case gn.Z.SPACE:case gn.Z.ENTER:An!==null&&Tn(An,G);break}}(0,_.useEffect)(function(){var G=document.getElementById(Rn);G&&G.scrollIntoView&&G.scrollIntoView(!1)},[An]),(0,_.useEffect)(function(){Kn||ls(null)},[Kn]);var o=(0,ee.Z)({},pn?"marginRight":"marginLeft",kn);Ut.length||(o.visibility="hidden",o.order=1);var y=O()((0,ee.Z)({},"".concat(rs,"-rtl"),pn)),W=vi?null:_.createElement(sn,{prefixCls:rs,overlay:zs,trigger:["hover"],visible:Ut.length?Kn:!1,transitionName:Ji,onVisibleChange:an,overlayClassName:O()(y,Pn),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:Un},_.createElement("button",{type:"button",className:"".concat(kt,"-nav-more"),style:o,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":Ln,id:"".concat(Kt,"-more"),"aria-expanded":Kn,onKeyDown:e},Ii));return _.createElement("div",{className:O()("".concat(kt,"-nav-operations"),en),style:nn,ref:rt},W,_.createElement(fn,{prefixCls:kt,locale:li,editable:_n}))}var Fo=_.memo(_.forwardRef(Xo),function(Ue,rt){return rt.tabMoving});function Io(Ue){var rt,kt=Ue.prefixCls,Kt=Ue.id,Ut=Ue.active,li=Ue.tab,vi=li.key,Mi=li.label,Ii=li.disabled,Ji=li.closeIcon,nn=Ue.closable,en=Ue.renderWrapper,_n=Ue.removeAriaLabel,kn=Ue.editable,pn=Ue.onClick,Bn=Ue.onFocus,Tn=Ue.style,Un="".concat(kt,"-tab"),Pn=kn&&nn!==!1&&!Ii;function En(an){Ii||pn(an)}function zn(an){an.preventDefault(),an.stopPropagation(),kn.onEdit("remove",{key:vi,event:an})}var Kn=_.createElement("div",{key:vi,"data-node-key":Vi(vi),className:O()(Un,(rt={},(0,ee.Z)(rt,"".concat(Un,"-with-remove"),Pn),(0,ee.Z)(rt,"".concat(Un,"-active"),Ut),(0,ee.Z)(rt,"".concat(Un,"-disabled"),Ii),rt)),style:Tn,onClick:En},_.createElement("div",{role:"tab","aria-selected":Ut,id:Kt&&"".concat(Kt,"-tab-").concat(vi),className:"".concat(Un,"-btn"),"aria-controls":Kt&&"".concat(Kt,"-panel-").concat(vi),"aria-disabled":Ii,tabIndex:Ii?null:0,onClick:function(Wn){Wn.stopPropagation(),En(Wn)},onKeyDown:function(Wn){[gn.Z.SPACE,gn.Z.ENTER].includes(Wn.which)&&(Wn.preventDefault(),En(Wn))},onFocus:Bn},Mi),Pn&&_.createElement("button",{type:"button","aria-label":_n||"remove",tabIndex:0,className:"".concat(Un,"-remove"),onClick:function(Wn){Wn.stopPropagation(),zn(Wn)}},Ji||kn.removeIcon||"\xD7"));return en?en(Kn):Kn}var wn=Io,Jo=function(rt){var kt=rt.current||{},Kt=kt.offsetWidth,Ut=Kt===void 0?0:Kt,li=kt.offsetHeight,vi=li===void 0?0:li;return[Ut,vi]},$o=function(rt,kt){return rt[kt?0:1]};function lo(Ue,rt){var kt,Kt=_.useContext(tt),Ut=Kt.prefixCls,li=Kt.tabs,vi=Ue.className,Mi=Ue.style,Ii=Ue.id,Ji=Ue.animated,nn=Ue.activeKey,en=Ue.rtl,_n=Ue.extra,kn=Ue.editable,pn=Ue.locale,Bn=Ue.tabPosition,Tn=Ue.tabBarGutter,Un=Ue.children,Pn=Ue.onTabClick,En=Ue.onTabScroll,zn=(0,_.useRef)(),Kn=(0,_.useRef)(),an=(0,_.useRef)(),Wn=(0,_.useRef)(),os=(0,_.useRef)(),An=(0,_.useRef)(),ls=(0,_.useRef)(),Ln=Bn==="top"||Bn==="bottom",rs=bt(0,function(Bs,fs){Ln&&En&&En({direction:Bs>fs?"left":"right"})}),Rn=(0,me.Z)(rs,2),as=Rn[0],Is=Rn[1],zs=bt(0,function(Bs,fs){!Ln&&En&&En({direction:Bs>fs?"top":"bottom"})}),Et=(0,me.Z)(zs,2),e=Et[0],o=Et[1],y=(0,_.useState)([0,0]),W=(0,me.Z)(y,2),G=W[0],be=W[1],Oe=(0,_.useState)([0,0]),Ze=(0,me.Z)(Oe,2),et=Ze[0],it=Ze[1],pt=(0,_.useState)([0,0]),Ft=(0,me.Z)(pt,2),Ot=Ft[0],Xt=Ft[1],ii=(0,_.useState)([0,0]),ri=(0,me.Z)(ii,2),_i=ri[0],Ti=ri[1],xi=oi(new Map),Zi=(0,me.Z)(xi,2),Ki=Zi[0],un=Zi[1],dn=dt(li,Ki,et[0]),hn=$o(G,Ln),Ui=$o(et,Ln),Sn=$o(Ot,Ln),On=$o(_i,Ln),xn=hn<Ui+Sn,Dn=xn?hn-On:hn-Sn,_s="".concat(Ut,"-nav-operations-hidden"),ds=0,Cs=0;Ln&&en?(ds=0,Cs=Math.max(0,Ui-Dn)):(ds=Math.min(0,Dn-Ui),Cs=0);function Ns(Bs){return Bs<ds?ds:Bs>Cs?Cs:Bs}var Zs=(0,_.useRef)(),bs=(0,_.useState)(),ks=(0,me.Z)(bs,2),vo=ks[0],Mo=ks[1];function Po(){Mo(Date.now())}function Ur(){window.clearTimeout(Zs.current)}At(Wn,function(Bs,fs){function fo(_o,jo){_o(function(tr){var ua=Ns(tr+jo);return ua})}return xn?(Ln?fo(Is,Bs):fo(o,fs),Ur(),Po(),!0):!1}),(0,_.useEffect)(function(){return Ur(),vo&&(Zs.current=window.setTimeout(function(){Mo(0)},100)),Ur},[vo]);var Xr=bi(dn,Dn,Ln?as:e,Ui,Sn,On,(0,ne.Z)((0,ne.Z)({},Ue),{},{tabs:li})),Er=(0,me.Z)(Xr,2),mr=Er[0],xr=Er[1],Jr=(0,gi.Z)(function(){var Bs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nn,fs=dn.get(Bs)||{width:0,height:0,left:0,right:0,top:0};if(Ln){var fo=as;en?fs.right<as?fo=fs.right:fs.right+fs.width>as+Dn&&(fo=fs.right+fs.width-Dn):fs.left<-as?fo=-fs.left:fs.left+fs.width>-as+Dn&&(fo=-(fs.left+fs.width-Dn)),o(0),Is(Ns(fo))}else{var _o=e;fs.top<-e?_o=-fs.top:fs.top+fs.height>-e+Dn&&(_o=-(fs.top+fs.height-Dn)),Is(0),o(Ns(_o))}}),Go={};Bn==="top"||Bn==="bottom"?Go[en?"marginRight":"marginLeft"]=Tn:Go.marginTop=Tn;var pr=li.map(function(Bs,fs){var fo=Bs.key;return _.createElement(wn,{id:Ii,prefixCls:Ut,key:fo,tab:Bs,style:fs===0?void 0:Go,closable:Bs.closable,editable:kn,active:fo===nn,renderWrapper:Un,removeAriaLabel:pn==null?void 0:pn.removeAriaLabel,onClick:function(jo){Pn(fo,jo)},onFocus:function(){Jr(fo),Po(),Wn.current&&(en||(Wn.current.scrollLeft=0),Wn.current.scrollTop=0)}})}),Ir=function(){return un(function(){var fs=new Map;return li.forEach(function(fo){var _o,jo=fo.key,tr=(_o=os.current)===null||_o===void 0?void 0:_o.querySelector('[data-node-key="'.concat(Vi(jo),'"]'));tr&&fs.set(jo,{width:tr.offsetWidth,height:tr.offsetHeight,left:tr.offsetLeft,top:tr.offsetTop})}),fs})};(0,_.useEffect)(function(){Ir()},[li.map(function(Bs){return Bs.key}).join("_")]);var Nr=si(function(){var Bs=Jo(zn),fs=Jo(Kn),fo=Jo(an);be([Bs[0]-fs[0]-fo[0],Bs[1]-fs[1]-fo[1]]);var _o=Jo(ls);Xt(_o);var jo=Jo(An);Ti(jo);var tr=Jo(os);it([tr[0]-_o[0],tr[1]-_o[1]]),Ir()}),ps=li.slice(0,mr),Ts=li.slice(xr+1),io=[].concat((0,_e.Z)(ps),(0,_e.Z)(Ts)),zo=(0,_.useState)(),qo=(0,me.Z)(zo,2),Ha=qo[0],er=qo[1],vr=dn.get(nn),Tr=(0,_.useRef)();function qr(){jt.Z.cancel(Tr.current)}(0,_.useEffect)(function(){var Bs={};return vr&&(Ln?(en?Bs.right=vr.right:Bs.left=vr.left,Bs.width=vr.width):(Bs.top=vr.top,Bs.height=vr.height)),qr(),Tr.current=(0,jt.Z)(function(){er(Bs)}),qr},[vr,Ln,en]),(0,_.useEffect)(function(){Jr()},[nn,ds,Cs,Ai(vr),Ai(dn),Ln]),(0,_.useEffect)(function(){Nr()},[en]);var no=!!io.length,ar="".concat(Ut,"-nav-wrap"),lr,ea,xa,Ua;return Ln?en?(ea=as>0,lr=as!==Cs):(lr=as<0,ea=as!==ds):(xa=e<0,Ua=e!==ds),_.createElement(Ct.Z,{onResize:Nr},_.createElement("div",{ref:(0,Ye.x1)(rt,zn),role:"tablist",className:O()("".concat(Ut,"-nav"),vi),style:Mi,onKeyDown:function(){Po()}},_.createElement(Pi,{ref:Kn,position:"left",extra:_n,prefixCls:Ut}),_.createElement("div",{className:O()(ar,(kt={},(0,ee.Z)(kt,"".concat(ar,"-ping-left"),lr),(0,ee.Z)(kt,"".concat(ar,"-ping-right"),ea),(0,ee.Z)(kt,"".concat(ar,"-ping-top"),xa),(0,ee.Z)(kt,"".concat(ar,"-ping-bottom"),Ua),kt)),ref:Wn},_.createElement(Ct.Z,{onResize:Nr},_.createElement("div",{ref:os,className:"".concat(Ut,"-nav-list"),style:{transform:"translate(".concat(as,"px, ").concat(e,"px)"),transition:vo?"none":void 0}},pr,_.createElement(fn,{ref:ls,prefixCls:Ut,locale:pn,editable:kn,style:(0,ne.Z)((0,ne.Z)({},pr.length===0?void 0:Go),{},{visibility:no?"hidden":null})}),_.createElement("div",{className:O()("".concat(Ut,"-ink-bar"),(0,ee.Z)({},"".concat(Ut,"-ink-bar-animated"),Ji.inkBar)),style:Ha})))),_.createElement(Fo,(0,k.Z)({},Ue,{removeAriaLabel:pn==null?void 0:pn.removeAriaLabel,ref:An,prefixCls:Ut,tabs:io,className:!no&&_s,tabMoving:!!vo})),_.createElement(Pi,{ref:an,position:"right",extra:_n,prefixCls:Ut})))}var Ys=_.forwardRef(lo),Bo=["renderTabBar"],Wo=["label","key"];function yr(Ue){var rt=Ue.renderTabBar,kt=(0,Pe.Z)(Ue,Bo),Kt=_.useContext(tt),Ut=Kt.tabs;if(rt){var li=(0,ne.Z)((0,ne.Z)({},kt),{},{panes:Ut.map(function(vi){var Mi=vi.label,Ii=vi.key,Ji=(0,Pe.Z)(vi,Wo);return _.createElement(It,(0,k.Z)({tab:Mi,key:Ii,tabKey:Ii},Ji))})});return rt(li,Ys)}return _.createElement(Ys,kt)}function es(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},rt;return Ue===!1?rt={inkBar:!1,tabPane:!1}:Ue===!0?rt={inkBar:!0,tabPane:!1}:rt=(0,ne.Z)({inkBar:!0},(0,ue.Z)(Ue)==="object"?Ue:{}),rt.tabPaneMotion&&rt.tabPane===void 0&&(rt.tabPane=!0),!rt.tabPaneMotion&&rt.tabPane&&(rt.tabPane=!1),rt}var Jn=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],to=0;function qs(Ue,rt){var kt,Kt=Ue.id,Ut=Ue.prefixCls,li=Ut===void 0?"rc-tabs":Ut,vi=Ue.className,Mi=Ue.items,Ii=Ue.direction,Ji=Ue.activeKey,nn=Ue.defaultActiveKey,en=Ue.editable,_n=Ue.animated,kn=Ue.tabPosition,pn=kn===void 0?"top":kn,Bn=Ue.tabBarGutter,Tn=Ue.tabBarStyle,Un=Ue.tabBarExtraContent,Pn=Ue.locale,En=Ue.moreIcon,zn=Ue.moreTransitionName,Kn=Ue.destroyInactiveTabPane,an=Ue.renderTabBar,Wn=Ue.onChange,os=Ue.onTabClick,An=Ue.onTabScroll,ls=Ue.getPopupContainer,Ln=Ue.popupClassName,rs=(0,Pe.Z)(Ue,Jn),Rn=_.useMemo(function(){return(Mi||[]).filter(function(xi){return xi&&(0,ue.Z)(xi)==="object"&&"key"in xi})},[Mi]),as=Ii==="rtl",Is=es(_n),zs=(0,_.useState)(!1),Et=(0,me.Z)(zs,2),e=Et[0],o=Et[1];(0,_.useEffect)(function(){o((0,ot.Z)())},[]);var y=(0,gt.Z)(function(){var xi;return(xi=Rn[0])===null||xi===void 0?void 0:xi.key},{value:Ji,defaultValue:nn}),W=(0,me.Z)(y,2),G=W[0],be=W[1],Oe=(0,_.useState)(function(){return Rn.findIndex(function(xi){return xi.key===G})}),Ze=(0,me.Z)(Oe,2),et=Ze[0],it=Ze[1];(0,_.useEffect)(function(){var xi=Rn.findIndex(function(Ki){return Ki.key===G});if(xi===-1){var Zi;xi=Math.max(0,Math.min(et,Rn.length-1)),be((Zi=Rn[xi])===null||Zi===void 0?void 0:Zi.key)}it(xi)},[Rn.map(function(xi){return xi.key}).join("_"),G,et]);var pt=(0,gt.Z)(null,{value:Kt}),Ft=(0,me.Z)(pt,2),Ot=Ft[0],Xt=Ft[1];(0,_.useEffect)(function(){Kt||(Xt("rc-tabs-".concat(to)),to+=1)},[]);function ii(xi,Zi){os==null||os(xi,Zi);var Ki=xi!==G;be(xi),Ki&&(Wn==null||Wn(xi))}var ri={id:Ot,activeKey:G,animated:Is,tabPosition:pn,rtl:as,mobile:e},_i,Ti=(0,ne.Z)((0,ne.Z)({},ri),{},{editable:en,locale:Pn,moreIcon:En,moreTransitionName:zn,tabBarGutter:Bn,onTabClick:ii,onTabScroll:An,extra:Un,style:Tn,panes:null,getPopupContainer:ls,popupClassName:Ln});return _.createElement(tt.Provider,{value:{tabs:Rn,prefixCls:li}},_.createElement("div",(0,k.Z)({ref:rt,id:Kt,className:O()(li,"".concat(li,"-").concat(pn),(kt={},(0,ee.Z)(kt,"".concat(li,"-mobile"),e),(0,ee.Z)(kt,"".concat(li,"-editable"),en),(0,ee.Z)(kt,"".concat(li,"-rtl"),as),kt),vi)},rs),_i,_.createElement(yr,(0,k.Z)({},Ti,{renderTabBar:an})),_.createElement(Vt,(0,k.Z)({destroyInactiveTabPane:Kn},ri,{animated:Is}))))}var Co=_.forwardRef(qs),Ho=Co,No=Ho,qa=()=>null,el=t(91754);const Kr={motionAppear:!1,motionEnter:!0,motionLeave:!0};function Ra(Ue){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},kt;return rt===!1?kt={inkBar:!1,tabPane:!1}:rt===!0?kt={inkBar:!0,tabPane:!0}:kt=Object.assign({inkBar:!0},typeof rt=="object"?rt:{}),kt.tabPane&&(kt.tabPaneMotion=Object.assign(Object.assign({},Kr),{motionName:(0,el.mL)(Ue,"switch")})),kt}var Oa=function(Ue,rt){var kt={};for(var Kt in Ue)Object.prototype.hasOwnProperty.call(Ue,Kt)&&rt.indexOf(Kt)<0&&(kt[Kt]=Ue[Kt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ut=0,Kt=Object.getOwnPropertySymbols(Ue);Ut<Kt.length;Ut++)rt.indexOf(Kt[Ut])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Kt[Ut])&&(kt[Kt[Ut]]=Ue[Kt[Ut]]);return kt};function $r(Ue){return Ue.filter(rt=>rt)}function tl(Ue,rt){if(Ue)return Ue;const kt=(0,dr.Z)(rt).map(Kt=>{if(_.isValidElement(Kt)){const{key:Ut,props:li}=Kt,vi=li||{},{tab:Mi}=vi,Ii=Oa(vi,["tab"]);return Object.assign(Object.assign({key:String(Ut)},Ii),{label:Mi})}return null});return $r(kt)}var co=t(23773),wr=t(6521);const il=new E.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Aa=new E.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Sa=new E.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),fr=new E.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),sa=new E.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),oa=new E.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),gr=new E.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),ya=new E.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),ra={"slide-up":{inKeyframes:il,outKeyframes:Aa},"slide-down":{inKeyframes:Sa,outKeyframes:fr},"slide-left":{inKeyframes:sa,outKeyframes:oa},"slide-right":{inKeyframes:gr,outKeyframes:ya}},aa=(Ue,rt)=>{const{antCls:kt}=Ue,Kt=`${kt}-${rt}`,{inKeyframes:Ut,outKeyframes:li}=ra[rt];return[(0,wr.R)(Kt,Ut,li,Ue.motionDurationMid),{[`
      ${Kt}-enter,
      ${Kt}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:Ue.motionEaseOutQuint,["&-prepare"]:{transform:"scale(1)"}},[`${Kt}-leave`]:{animationTimingFunction:Ue.motionEaseInQuint}}]};var nl=Ue=>{const{componentCls:rt,motionDurationSlow:kt}=Ue;return[{[rt]:{[`${rt}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${kt}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${kt}`}}}}},[aa(Ue,"slide-up"),aa(Ue,"slide-down")]]};const sl=Ue=>{const{componentCls:rt,tabsCardPadding:kt,cardBg:Kt,cardGutter:Ut,colorBorderSecondary:li,itemSelectedColor:vi}=Ue;return{[`${rt}-card`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-tab`]:{margin:0,padding:kt,background:Kt,border:`${Ue.lineWidth}px ${Ue.lineType} ${li}`,transition:`all ${Ue.motionDurationSlow} ${Ue.motionEaseInOut}`},[`${rt}-tab-active`]:{color:vi,background:Ue.colorBgContainer},[`${rt}-ink-bar`]:{visibility:"hidden"}},[`&${rt}-top, &${rt}-bottom`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-tab + ${rt}-tab`]:{marginLeft:{_skip_check_:!0,value:`${Ut}px`}}}},[`&${rt}-top`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-tab`]:{borderRadius:`${Ue.borderRadiusLG}px ${Ue.borderRadiusLG}px 0 0`},[`${rt}-tab-active`]:{borderBottomColor:Ue.colorBgContainer}}},[`&${rt}-bottom`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-tab`]:{borderRadius:`0 0 ${Ue.borderRadiusLG}px ${Ue.borderRadiusLG}px`},[`${rt}-tab-active`]:{borderTopColor:Ue.colorBgContainer}}},[`&${rt}-left, &${rt}-right`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-tab + ${rt}-tab`]:{marginTop:`${Ut}px`}}},[`&${rt}-left`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Ue.borderRadiusLG}px 0 0 ${Ue.borderRadiusLG}px`}},[`${rt}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:Ue.colorBgContainer}}}},[`&${rt}-right`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Ue.borderRadiusLG}px ${Ue.borderRadiusLG}px 0`}},[`${rt}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:Ue.colorBgContainer}}}}}}},La=Ue=>{const{componentCls:rt,itemHoverColor:kt,dropdownEdgeChildVerticalPadding:Kt}=Ue;return{[`${rt}-dropdown`]:Object.assign(Object.assign({},(0,co.Wf)(Ue)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:Ue.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${rt}-dropdown-menu`]:{maxHeight:Ue.tabsDropdownHeight,margin:0,padding:`${Kt}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:Ue.colorBgContainer,backgroundClip:"padding-box",borderRadius:Ue.borderRadiusLG,outline:"none",boxShadow:Ue.boxShadowSecondary,"&-item":Object.assign(Object.assign({},co.vS),{display:"flex",alignItems:"center",minWidth:Ue.tabsDropdownWidth,margin:0,padding:`${Ue.paddingXXS}px ${Ue.paddingSM}px`,color:Ue.colorText,fontWeight:"normal",fontSize:Ue.fontSize,lineHeight:Ue.lineHeight,cursor:"pointer",transition:`all ${Ue.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:Ue.marginSM},color:Ue.colorTextDescription,fontSize:Ue.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:kt}},"&:hover":{background:Ue.controlItemBgHover},"&-disabled":{"&, &:hover":{color:Ue.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},rr=Ue=>{const{componentCls:rt,margin:kt,colorBorderSecondary:Kt,horizontalMargin:Ut,verticalItemPadding:li,verticalItemMargin:vi}=Ue;return{[`${rt}-top, ${rt}-bottom`]:{flexDirection:"column",[`> ${rt}-nav, > div > ${rt}-nav`]:{margin:Ut,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${Ue.lineWidth}px ${Ue.lineType} ${Kt}`,content:"''"},[`${rt}-ink-bar`]:{height:Ue.lineWidthBold,"&-animated":{transition:`width ${Ue.motionDurationSlow}, left ${Ue.motionDurationSlow},
            right ${Ue.motionDurationSlow}`}},[`${rt}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:Ue.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:Ue.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:Ue.boxShadowTabsOverflowRight},[`&${rt}-nav-wrap-ping-left::before`]:{opacity:1},[`&${rt}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${rt}-top`]:{[`> ${rt}-nav,
        > div > ${rt}-nav`]:{"&::before":{bottom:0},[`${rt}-ink-bar`]:{bottom:0}}},[`${rt}-bottom`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{order:1,marginTop:`${kt}px`,marginBottom:0,"&::before":{top:0},[`${rt}-ink-bar`]:{top:0}},[`> ${rt}-content-holder, > div > ${rt}-content-holder`]:{order:0}},[`${rt}-left, ${rt}-right`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{flexDirection:"column",minWidth:Ue.controlHeight*1.25,[`${rt}-tab`]:{padding:li,textAlign:"center"},[`${rt}-tab + ${rt}-tab`]:{margin:vi},[`${rt}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:Ue.controlHeight},"&::before":{top:0,boxShadow:Ue.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:Ue.boxShadowTabsOverflowBottom},[`&${rt}-nav-wrap-ping-top::before`]:{opacity:1},[`&${rt}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${rt}-ink-bar`]:{width:Ue.lineWidthBold,"&-animated":{transition:`height ${Ue.motionDurationSlow}, top ${Ue.motionDurationSlow}`}},[`${rt}-nav-list, ${rt}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${rt}-left`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${rt}-content-holder, > div > ${rt}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${Ue.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${Ue.lineWidth}px ${Ue.lineType} ${Ue.colorBorder}`},[`> ${rt}-content > ${rt}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:Ue.paddingLG}}}},[`${rt}-right`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{order:1,[`${rt}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${rt}-content-holder, > div > ${rt}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-Ue.lineWidth},borderRight:{_skip_check_:!0,value:`${Ue.lineWidth}px ${Ue.lineType} ${Ue.colorBorder}`},[`> ${rt}-content > ${rt}-tabpane`]:{paddingRight:{_skip_check_:!0,value:Ue.paddingLG}}}}}},Br=Ue=>{const{componentCls:rt,cardPaddingSM:kt,cardPaddingLG:Kt,horizontalItemPaddingSM:Ut,horizontalItemPaddingLG:li}=Ue;return{[rt]:{"&-small":{[`> ${rt}-nav`]:{[`${rt}-tab`]:{padding:Ut,fontSize:Ue.titleFontSizeSM}}},"&-large":{[`> ${rt}-nav`]:{[`${rt}-tab`]:{padding:li,fontSize:Ue.titleFontSizeLG}}}},[`${rt}-card`]:{[`&${rt}-small`]:{[`> ${rt}-nav`]:{[`${rt}-tab`]:{padding:kt}},[`&${rt}-bottom`]:{[`> ${rt}-nav ${rt}-tab`]:{borderRadius:`0 0 ${Ue.borderRadius}px ${Ue.borderRadius}px`}},[`&${rt}-top`]:{[`> ${rt}-nav ${rt}-tab`]:{borderRadius:`${Ue.borderRadius}px ${Ue.borderRadius}px 0 0`}},[`&${rt}-right`]:{[`> ${rt}-nav ${rt}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Ue.borderRadius}px ${Ue.borderRadius}px 0`}}},[`&${rt}-left`]:{[`> ${rt}-nav ${rt}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Ue.borderRadius}px 0 0 ${Ue.borderRadius}px`}}}},[`&${rt}-large`]:{[`> ${rt}-nav`]:{[`${rt}-tab`]:{padding:Kt}}}}}},Wr=Ue=>{const{componentCls:rt,itemActiveColor:kt,itemHoverColor:Kt,iconCls:Ut,tabsHorizontalItemMargin:li,horizontalItemPadding:vi,itemSelectedColor:Mi}=Ue,Ii=`${rt}-tab`;return{[Ii]:{position:"relative",display:"inline-flex",alignItems:"center",padding:vi,fontSize:Ue.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:kt}},(0,co.Qy)(Ue)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-Ue.marginXXS},marginLeft:{_skip_check_:!0,value:Ue.marginXS},color:Ue.colorTextDescription,fontSize:Ue.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${Ue.motionDurationSlow}`,"&:hover":{color:Ue.colorTextHeading}},"&:hover":{color:Kt},[`&${Ii}-active ${Ii}-btn`]:{color:Mi,textShadow:Ue.tabsActiveTextShadow},[`&${Ii}-disabled`]:{color:Ue.colorTextDisabled,cursor:"not-allowed"},[`&${Ii}-disabled ${Ii}-btn, &${Ii}-disabled ${rt}-remove`]:{"&:focus, &:active":{color:Ue.colorTextDisabled}},[`& ${Ii}-remove ${Ut}`]:{margin:0},[Ut]:{marginRight:{_skip_check_:!0,value:Ue.marginSM}}},[`${Ii} + ${Ii}`]:{margin:{_skip_check_:!0,value:li}}}},ol=Ue=>{const{componentCls:rt,tabsHorizontalItemMarginRTL:kt,iconCls:Kt,cardGutter:Ut}=Ue;return{[`${rt}-rtl`]:{direction:"rtl",[`${rt}-nav`]:{[`${rt}-tab`]:{margin:{_skip_check_:!0,value:kt},[`${rt}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[Kt]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${Ue.marginSM}px`}},[`${rt}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${Ue.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${Ue.marginXXS}px`},[Kt]:{margin:0}}}},[`&${rt}-left`]:{[`> ${rt}-nav`]:{order:1},[`> ${rt}-content-holder`]:{order:0}},[`&${rt}-right`]:{[`> ${rt}-nav`]:{order:0},[`> ${rt}-content-holder`]:{order:1}},[`&${rt}-card${rt}-top, &${rt}-card${rt}-bottom`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-tab + ${rt}-tab`]:{marginRight:{_skip_check_:!0,value:Ut},marginLeft:{_skip_check_:!0,value:0}}}}},[`${rt}-dropdown-rtl`]:{direction:"rtl"},[`${rt}-menu-item`]:{[`${rt}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},rl=Ue=>{const{componentCls:rt,tabsCardPadding:kt,cardHeight:Kt,cardGutter:Ut,itemHoverColor:li,itemActiveColor:vi,colorBorderSecondary:Mi}=Ue;return{[rt]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,co.Wf)(Ue)),{display:"flex",[`> ${rt}-nav, > div > ${rt}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${rt}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${Ue.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${rt}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${Ue.motionDurationSlow}`},[`${rt}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${rt}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${rt}-nav-more`]:{position:"relative",padding:kt,background:"transparent",border:0,color:Ue.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:Ue.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${rt}-nav-add`]:Object.assign({minWidth:Kt,marginLeft:{_skip_check_:!0,value:Ut},padding:`0 ${Ue.paddingXS}px`,background:"transparent",border:`${Ue.lineWidth}px ${Ue.lineType} ${Mi}`,borderRadius:`${Ue.borderRadiusLG}px ${Ue.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:Ue.colorText,transition:`all ${Ue.motionDurationSlow} ${Ue.motionEaseInOut}`,"&:hover":{color:li},"&:active, &:focus:not(:focus-visible)":{color:vi}},(0,co.Qy)(Ue))},[`${rt}-extra-content`]:{flex:"none"},[`${rt}-ink-bar`]:{position:"absolute",background:Ue.inkBarColor,pointerEvents:"none"}}),Wr(Ue)),{[`${rt}-content`]:{position:"relative",width:"100%"},[`${rt}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${rt}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${rt}-centered`]:{[`> ${rt}-nav, > div > ${rt}-nav`]:{[`${rt}-nav-wrap`]:{[`&:not([class*='${rt}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}};var al=(0,g.Z)("Tabs",Ue=>{const rt=(0,a.TS)(Ue,{tabsCardPadding:Ue.cardPadding||`${(Ue.cardHeight-Math.round(Ue.fontSize*Ue.lineHeight))/2-Ue.lineWidth}px ${Ue.padding}px`,dropdownEdgeChildVerticalPadding:Ue.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${Ue.horizontalItemGutter}px`,tabsHorizontalItemMarginRTL:`0 0 0 ${Ue.horizontalItemGutter}px`});return[Br(rt),ol(rt),rr(rt),La(rt),sl(rt),rl(rt),nl(rt)]},Ue=>{const rt=Ue.controlHeightLG;return{zIndexPopup:Ue.zIndexPopupBase+50,cardBg:Ue.colorFillAlter,cardHeight:rt,cardPadding:"",cardPaddingSM:`${Ue.paddingXXS*1.5}px ${Ue.padding}px`,cardPaddingLG:`${Ue.paddingXS}px ${Ue.padding}px ${Ue.paddingXXS*1.5}px`,titleFontSize:Ue.fontSize,titleFontSizeLG:Ue.fontSizeLG,titleFontSizeSM:Ue.fontSize,inkBarColor:Ue.colorPrimary,horizontalMargin:`0 0 ${Ue.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${Ue.paddingSM}px 0`,horizontalItemPaddingSM:`${Ue.paddingXS}px 0`,horizontalItemPaddingLG:`${Ue.padding}px 0`,verticalItemPadding:`${Ue.paddingXS}px ${Ue.paddingLG}px`,verticalItemMargin:`${Ue.margin}px 0 0 0`,itemSelectedColor:Ue.colorPrimary,itemHoverColor:Ue.colorPrimaryHover,itemActiveColor:Ue.colorPrimaryActive,cardGutter:Ue.marginXXS/2}}),Gr=function(Ue,rt){var kt={};for(var Kt in Ue)Object.prototype.hasOwnProperty.call(Ue,Kt)&&rt.indexOf(Kt)<0&&(kt[Kt]=Ue[Kt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ut=0,Kt=Object.getOwnPropertySymbols(Ue);Ut<Kt.length;Ut++)rt.indexOf(Kt[Ut])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Kt[Ut])&&(kt[Kt[Ut]]=Ue[Kt[Ut]]);return kt};function Vr(Ue){var{type:rt,className:kt,rootClassName:Kt,size:Ut,onEdit:li,hideAdd:vi,centered:Mi,addIcon:Ii,popupClassName:Ji,children:nn,items:en,animated:_n}=Ue,kn=Gr(Ue,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated"]);const{prefixCls:pn,moreIcon:Bn=_.createElement(Ke,null)}=kn,{direction:Tn,getPrefixCls:Un,getPopupContainer:Pn}=_.useContext(p.E_),En=Un("tabs",pn),[zn,Kn]=al(En);let an;rt==="editable-card"&&(an={onEdit:(Ln,rs)=>{let{key:Rn,event:as}=rs;li==null||li(Ln==="add"?as:Rn,Ln)},removeIcon:_.createElement(we.Z,null),addIcon:Ii||_.createElement(de,null),showAdd:vi!==!0});const Wn=Un(),os=tl(en,nn),An=Ra(En,_n),ls=(0,V.Z)(Ut);return zn(_.createElement(No,Object.assign({direction:Tn,getPopupContainer:Pn,moreTransitionName:`${Wn}-slide-up`},kn,{items:os,className:O()({[`${En}-${ls}`]:ls,[`${En}-card`]:["card","editable-card"].includes(rt),[`${En}-editable-card`]:rt==="editable-card",[`${En}-centered`]:Mi},kt,Kt,Kn),popupClassName:O()(Ji,Kn),editable:an,moreIcon:Bn,prefixCls:En,animated:An})))}Vr.TabPane=qa;var Uo=Vr,Hr=function(Ue,rt){var kt={};for(var Kt in Ue)Object.prototype.hasOwnProperty.call(Ue,Kt)&&rt.indexOf(Kt)<0&&(kt[Kt]=Ue[Kt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ut=0,Kt=Object.getOwnPropertySymbols(Ue);Ut<Kt.length;Ut++)rt.indexOf(Kt[Ut])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Kt[Ut])&&(kt[Kt[Ut]]=Ue[Kt[Ut]]);return kt},la=Ue=>{var{prefixCls:rt,className:kt,hoverable:Kt=!0}=Ue,Ut=Hr(Ue,["prefixCls","className","hoverable"]);const{getPrefixCls:li}=_.useContext(p.E_),vi=li("card",rt),Mi=O()(`${vi}-grid`,kt,{[`${vi}-grid-hoverable`]:Kt});return _.createElement("div",Object.assign({},Ut,{className:Mi}))};const ca=Ue=>{const{antCls:rt,componentCls:kt,headerHeight:Kt,cardPaddingBase:Ut,tabsMarginBottom:li}=Ue;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:Kt,marginBottom:-1,padding:`0 ${Ut}px`,color:Ue.colorTextHeading,fontWeight:Ue.fontWeightStrong,fontSize:Ue.headerFontSize,background:Ue.headerBg,borderBottom:`${Ue.lineWidth}px ${Ue.lineType} ${Ue.colorBorderSecondary}`,borderRadius:`${Ue.borderRadiusLG}px ${Ue.borderRadiusLG}px 0 0`},(0,co.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},co.vS),{[`
          > ${kt}-typography,
          > ${kt}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${rt}-tabs-top`]:{clear:"both",marginBottom:li,color:Ue.colorText,fontWeight:"normal",fontSize:Ue.fontSize,"&-bar":{borderBottom:`${Ue.lineWidth}px ${Ue.lineType} ${Ue.colorBorderSecondary}`}}})},ka=Ue=>{const{cardPaddingBase:rt,colorBorderSecondary:kt,cardShadow:Kt,lineWidth:Ut}=Ue;return{width:"33.33%",padding:rt,border:0,borderRadius:0,boxShadow:`
      ${Ut}px 0 0 0 ${kt},
      0 ${Ut}px 0 0 ${kt},
      ${Ut}px ${Ut}px 0 0 ${kt},
      ${Ut}px 0 0 0 ${kt} inset,
      0 ${Ut}px 0 0 ${kt} inset;
    `,transition:`all ${Ue.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:Kt}}},ll=Ue=>{const{componentCls:rt,iconCls:kt,actionsLiMargin:Kt,cardActionsIconSize:Ut,colorBorderSecondary:li,actionsBg:vi}=Ue;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:vi,borderTop:`${Ue.lineWidth}px ${Ue.lineType} ${li}`,display:"flex",borderRadius:`0 0 ${Ue.borderRadiusLG}px ${Ue.borderRadiusLG}px `},(0,co.dF)()),{"& > li":{margin:Kt,color:Ue.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:Ue.cardActionsIconSize*2,fontSize:Ue.fontSize,lineHeight:Ue.lineHeight,cursor:"pointer","&:hover":{color:Ue.colorPrimary,transition:`color ${Ue.motionDurationMid}`},[`a:not(${rt}-btn), > ${kt}`]:{display:"inline-block",width:"100%",color:Ue.colorTextDescription,lineHeight:`${Ue.fontSize*Ue.lineHeight}px`,transition:`color ${Ue.motionDurationMid}`,"&:hover":{color:Ue.colorPrimary}},[`> ${kt}`]:{fontSize:Ut,lineHeight:`${Ut*Ue.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${Ue.lineWidth}px ${Ue.lineType} ${li}`}}})},cl=Ue=>Object.assign(Object.assign({margin:`-${Ue.marginXXS}px 0`,display:"flex"},(0,co.dF)()),{"&-avatar":{paddingInlineEnd:Ue.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:Ue.marginXS}},"&-title":Object.assign({color:Ue.colorTextHeading,fontWeight:Ue.fontWeightStrong,fontSize:Ue.fontSizeLG},co.vS),"&-description":{color:Ue.colorTextDescription}}),Fa=Ue=>{const{componentCls:rt,cardPaddingBase:kt,colorFillAlter:Kt}=Ue;return{[`${rt}-head`]:{padding:`0 ${kt}px`,background:Kt,"&-title":{fontSize:Ue.fontSize}},[`${rt}-body`]:{padding:`${Ue.padding}px ${kt}px`}}},dl=Ue=>{const{componentCls:rt}=Ue;return{overflow:"hidden",[`${rt}-body`]:{userSelect:"none"}}},Ba=Ue=>{const{antCls:rt,componentCls:kt,cardShadow:Kt,cardHeadPadding:Ut,colorBorderSecondary:li,boxShadowTertiary:vi,cardPaddingBase:Mi,extraColor:Ii}=Ue;return{[kt]:Object.assign(Object.assign({},(0,co.Wf)(Ue)),{position:"relative",background:Ue.colorBgContainer,borderRadius:Ue.borderRadiusLG,[`&:not(${kt}-bordered)`]:{boxShadow:vi},[`${kt}-head`]:ca(Ue),[`${kt}-extra`]:{marginInlineStart:"auto",color:Ii,fontWeight:"normal",fontSize:Ue.fontSize},[`${kt}-body`]:Object.assign({padding:Mi,borderRadius:` 0 0 ${Ue.borderRadiusLG}px ${Ue.borderRadiusLG}px`},(0,co.dF)()),[`${kt}-grid`]:ka(Ue),[`${kt}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${rt}-image-mask`]:{borderRadius:`${Ue.borderRadiusLG}px ${Ue.borderRadiusLG}px 0 0`}},[`${kt}-actions`]:ll(Ue),[`${kt}-meta`]:cl(Ue)}),[`${kt}-bordered`]:{border:`${Ue.lineWidth}px ${Ue.lineType} ${li}`,[`${kt}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${kt}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${Ue.motionDurationMid}, border-color ${Ue.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:Kt}},[`${kt}-contain-grid`]:{[`${kt}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${kt}-loading) ${kt}-body`]:{marginBlockStart:-Ue.lineWidth,marginInlineStart:-Ue.lineWidth,padding:0}},[`${kt}-contain-tabs`]:{[`> ${kt}-head`]:{[`${kt}-head-title, ${kt}-extra`]:{paddingTop:Ut}}},[`${kt}-type-inner`]:Fa(Ue),[`${kt}-loading`]:dl(Ue),[`${kt}-rtl`]:{direction:"rtl"}}},Zr=Ue=>{const{componentCls:rt,cardPaddingSM:kt,headerHeightSM:Kt,headerFontSizeSM:Ut}=Ue;return{[`${rt}-small`]:{[`> ${rt}-head`]:{minHeight:Kt,padding:`0 ${kt}px`,fontSize:Ut,[`> ${rt}-head-wrapper`]:{[`> ${rt}-extra`]:{fontSize:Ue.fontSize}}},[`> ${rt}-body`]:{padding:kt}},[`${rt}-small${rt}-contain-tabs`]:{[`> ${rt}-head`]:{[`${rt}-head-title, ${rt}-extra`]:{minHeight:Kt,paddingTop:0,display:"flex",alignItems:"center"}}}}};var Qr=(0,g.Z)("Card",Ue=>{const rt=(0,a.TS)(Ue,{cardShadow:Ue.boxShadowCard,cardHeadPadding:Ue.padding,cardPaddingBase:Ue.paddingLG,cardActionsIconSize:Ue.fontSize,cardPaddingSM:12});return[Ba(rt),Zr(rt)]},Ue=>({headerBg:"transparent",headerFontSize:Ue.fontSizeLG,headerFontSizeSM:Ue.fontSize,headerHeight:Ue.fontSizeLG*Ue.lineHeightLG+Ue.padding*2,headerHeightSM:Ue.fontSize*Ue.lineHeight+Ue.paddingXS*2,actionsBg:Ue.colorBgContainer,actionsLiMargin:`${Ue.paddingSM}px 0`,tabsMarginBottom:-Ue.padding-Ue.lineWidth,extraColor:Ue.colorText})),da=function(Ue,rt){var kt={};for(var Kt in Ue)Object.prototype.hasOwnProperty.call(Ue,Kt)&&rt.indexOf(Kt)<0&&(kt[Kt]=Ue[Kt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ut=0,Kt=Object.getOwnPropertySymbols(Ue);Ut<Kt.length;Ut++)rt.indexOf(Kt[Ut])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Kt[Ut])&&(kt[Kt[Ut]]=Ue[Kt[Ut]]);return kt};function Dl(Ue){return Ue.map((kt,Kt)=>_.createElement("li",{style:{width:`${100/Ue.length}%`},key:`action-${Kt}`},_.createElement("span",null,kt)))}var Dr=_.forwardRef((Ue,rt)=>{const{prefixCls:kt,className:Kt,rootClassName:Ut,extra:li,headStyle:vi={},bodyStyle:Mi={},title:Ii,loading:Ji,bordered:nn=!0,size:en,type:_n,cover:kn,actions:pn,tabList:Bn,children:Tn,activeTabKey:Un,defaultActiveTabKey:Pn,tabBarExtraContent:En,hoverable:zn,tabProps:Kn={}}=Ue,an=da(Ue,["prefixCls","className","rootClassName","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:Wn,direction:os}=_.useContext(p.E_),An=et=>{var it;(it=Ue.onTabChange)===null||it===void 0||it.call(Ue,et)},ls=_.useMemo(()=>{let et=!1;return _.Children.forEach(Tn,it=>{it&&it.type&&it.type===la&&(et=!0)}),et},[Tn]),Ln=Wn("card",kt),[rs,Rn]=Qr(Ln),as=_.createElement(Se,{loading:!0,active:!0,paragraph:{rows:4},title:!1},Tn),Is=Un!==void 0,zs=Object.assign(Object.assign({},Kn),{[Is?"activeKey":"defaultActiveKey"]:Is?Un:Pn,tabBarExtraContent:En});let Et;const e=(0,V.Z)(en),o=!e||e==="default"?"large":e,y=Bn&&Bn.length?_.createElement(Uo,Object.assign({size:o},zs,{className:`${Ln}-head-tabs`,onChange:An,items:Bn.map(et=>{var{tab:it}=et,pt=da(et,["tab"]);return Object.assign({label:it},pt)})})):null;(Ii||li||y)&&(Et=_.createElement("div",{className:`${Ln}-head`,style:vi},_.createElement("div",{className:`${Ln}-head-wrapper`},Ii&&_.createElement("div",{className:`${Ln}-head-title`},Ii),li&&_.createElement("div",{className:`${Ln}-extra`},li)),y));const W=kn?_.createElement("div",{className:`${Ln}-cover`},kn):null,G=_.createElement("div",{className:`${Ln}-body`,style:Mi},Ji?as:Tn),be=pn&&pn.length?_.createElement("ul",{className:`${Ln}-actions`},Dl(pn)):null,Oe=(0,u.Z)(an,["onTabChange"]),Ze=O()(Ln,{[`${Ln}-loading`]:Ji,[`${Ln}-bordered`]:nn,[`${Ln}-hoverable`]:zn,[`${Ln}-contain-grid`]:ls,[`${Ln}-contain-tabs`]:Bn&&Bn.length,[`${Ln}-${e}`]:e,[`${Ln}-type-${_n}`]:!!_n,[`${Ln}-rtl`]:os==="rtl"},Kt,Ut,Rn);return rs(_.createElement("div",Object.assign({ref:rt},Oe,{className:Ze}),Et,W,G,be))}),Wa=function(Ue,rt){var kt={};for(var Kt in Ue)Object.prototype.hasOwnProperty.call(Ue,Kt)&&rt.indexOf(Kt)<0&&(kt[Kt]=Ue[Kt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ut=0,Kt=Object.getOwnPropertySymbols(Ue);Ut<Kt.length;Ut++)rt.indexOf(Kt[Ut])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Kt[Ut])&&(kt[Kt[Ut]]=Ue[Kt[Ut]]);return kt},ho=Ue=>{const{prefixCls:rt,className:kt,avatar:Kt,title:Ut,description:li}=Ue,vi=Wa(Ue,["prefixCls","className","avatar","title","description"]),{getPrefixCls:Mi}=_.useContext(p.E_),Ii=Mi("card",rt),Ji=O()(`${Ii}-meta`,kt),nn=Kt?_.createElement("div",{className:`${Ii}-meta-avatar`},Kt):null,en=Ut?_.createElement("div",{className:`${Ii}-meta-title`},Ut):null,_n=li?_.createElement("div",{className:`${Ii}-meta-description`},li):null,kn=en||_n?_.createElement("div",{className:`${Ii}-meta-detail`},en,_n):null;return _.createElement("div",Object.assign({},vi,{className:Ji}),nn,kn)};const Yr=Dr;Yr.Grid=la,Yr.Meta=ho;var Ea=Yr},37517:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return l}});var f=t(72779),O=t.n(f),u=t(2784),_=t(35298),p=t(80293),V=t(2678),I=function(d,i){var s={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&i.indexOf(m)<0&&(s[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,m=Object.getOwnPropertySymbols(d);b<m.length;b++)i.indexOf(m[b])<0&&Object.prototype.propertyIsEnumerable.call(d,m[b])&&(s[m[b]]=d[m[b]]);return s};function L(d){return typeof d=="number"?`${d} ${d} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(d)?`0 0 ${d}`:d}const E=["xs","sm","md","lg","xl","xxl"];var a=u.forwardRef((d,i)=>{const{getPrefixCls:s,direction:m}=u.useContext(_.E_),{gutter:b,wrap:c,supportFlexGap:v}=u.useContext(p.Z),{prefixCls:C,span:S,order:N,offset:P,push:M,pull:D,className:F,children:B,flex:U,style:A}=d,k=I(d,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),R=s("col",C),[$,J]=(0,V.c)(R);let Y={};E.forEach(K=>{let Z={};const fe=d[K];typeof fe=="number"?Z.span=fe:typeof fe=="object"&&(Z=fe||{}),delete k[K],Y=Object.assign(Object.assign({},Y),{[`${R}-${K}-${Z.span}`]:Z.span!==void 0,[`${R}-${K}-order-${Z.order}`]:Z.order||Z.order===0,[`${R}-${K}-offset-${Z.offset}`]:Z.offset||Z.offset===0,[`${R}-${K}-push-${Z.push}`]:Z.push||Z.push===0,[`${R}-${K}-pull-${Z.pull}`]:Z.pull||Z.pull===0,[`${R}-${K}-flex-${Z.flex}`]:Z.flex||Z.flex==="auto",[`${R}-rtl`]:m==="rtl"})});const j=O()(R,{[`${R}-${S}`]:S!==void 0,[`${R}-order-${N}`]:N,[`${R}-offset-${P}`]:P,[`${R}-push-${M}`]:M,[`${R}-pull-${D}`]:D},F,Y,J),z={};if(b&&b[0]>0){const K=b[0]/2;z.paddingLeft=K,z.paddingRight=K}if(b&&b[1]>0&&!v){const K=b[1]/2;z.paddingTop=K,z.paddingBottom=K}return U&&(z.flex=L(U),c===!1&&!z.minWidth&&(z.minWidth=0)),$(u.createElement("div",Object.assign({},k,{style:Object.assign(Object.assign({},z),A),className:j,ref:i}),B))}),l=a},72511:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return ee}});var f=t(72779),O=t.n(f),u=t(33028),_=t(76854),p=t(2784),V=t(28316),I=t(39588),L=t(72895),E=t(16381),g=p.createContext(null),a=g,l=t(85942),d=t(63803),i=[];function s(ne,me){var ue=p.useState(function(){if(!(0,I.Z)())return null;var jt=document.createElement("div");return jt}),Pe=(0,_.Z)(ue,1),ot=Pe[0],gt=p.useRef(!1),nt=p.useContext(a),tt=p.useState(i),st=(0,_.Z)(tt,2),It=st[0],Wt=st[1],Vt=nt||(gt.current?void 0:function(jt){Wt(function(Ye){var ut=[jt].concat((0,l.Z)(Ye));return ut})});function Ct(){ot.parentElement||document.body.appendChild(ot),gt.current=!0}function gi(){var jt;(jt=ot.parentElement)===null||jt===void 0||jt.removeChild(ot),gt.current=!1}return(0,d.Z)(function(){return ne?nt?nt(Ct):Ct():gi(),gi},[ne]),(0,d.Z)(function(){It.length&&(It.forEach(function(jt){return jt()}),Wt(i))},[It]),[ot,Vt]}var m=t(13167),b=t(84226);function c(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var v="rc-util-locker-".concat(Date.now()),C=0;function S(ne){var me=!!ne,ue=p.useState(function(){return C+=1,"".concat(v,"_").concat(C)}),Pe=(0,_.Z)(ue,1),ot=Pe[0];(0,d.Z)(function(){if(me){var gt=(0,b.Z)(),nt=c();(0,m.hq)(`
html body {
  overflow-y: hidden;
  `.concat(nt?"width: calc(100% - ".concat(gt,"px);"):"",`
}`),ot)}else(0,m.jL)(ot);return function(){(0,m.jL)(ot)}},[me,ot])}var N=!1;function P(ne){return typeof ne=="boolean"&&(N=ne),N}var M=function(me){return me===!1?!1:!(0,I.Z)()||!me?null:typeof me=="string"?document.querySelector(me):typeof me=="function"?me():me},D=p.forwardRef(function(ne,me){var ue=ne.open,Pe=ne.autoLock,ot=ne.getContainer,gt=ne.debug,nt=ne.autoDestroy,tt=nt===void 0?!0:nt,st=ne.children,It=p.useState(ue),Wt=(0,_.Z)(It,2),Vt=Wt[0],Ct=Wt[1],gi=Vt||ue;p.useEffect(function(){(tt||ue)&&Ct(ue)},[ue,tt]);var jt=p.useState(function(){return M(ot)}),Ye=(0,_.Z)(jt,2),ut=Ye[0],dt=Ye[1];p.useEffect(function(){var bi=M(ot);dt(bi!=null?bi:null)});var bt=s(gi&&!ut,gt),Mt=(0,_.Z)(bt,2),ni=Mt[0],qt=Mt[1],yt=ut!=null?ut:ni;S(Pe&&ue&&(0,I.Z)()&&(yt===ni||yt===document.body));var At=null;if(st&&(0,E.Yr)(st)&&me){var Qt=st;At=Qt.ref}var si=(0,E.x1)(At,me);if(!gi||!(0,I.Z)()||ut===void 0)return null;var oi=yt===!1||P(),mi=st;return me&&(mi=p.cloneElement(st,{ref:si})),p.createElement(a.Provider,{value:qt},oi?mi:(0,V.createPortal)(mi,yt))}),F=D,B=F,U=t(56666),A=t(7896),k=t(18511),R=t(92981),$=t(44851),J=p.createContext(null),Y=J,j=function(me){var ue=me.prefixCls,Pe=me.className,ot=me.style,gt=me.children,nt=me.containerRef,tt=me.onMouseEnter,st=me.onMouseOver,It=me.onMouseLeave,Wt=me.onClick,Vt=me.onKeyDown,Ct=me.onKeyUp,gi={onMouseEnter:tt,onMouseOver:st,onMouseLeave:It,onClick:Wt,onKeyDown:Vt,onKeyUp:Ct};return p.createElement(p.Fragment,null,p.createElement("div",(0,A.Z)({className:O()("".concat(ue,"-content"),Pe),style:(0,u.Z)({},ot),"aria-modal":"true",role:"dialog",ref:nt},gi),gt))},z=j;function K(ne){return typeof ne=="string"&&String(Number(ne))===ne?((0,L.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(ne)):ne}function Z(ne){warning(!("wrapperClassName"in ne),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!ne.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var fe={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function T(ne,me){var ue,Pe,ot,gt,nt=ne.prefixCls,tt=ne.open,st=ne.placement,It=ne.inline,Wt=ne.push,Vt=ne.forceRender,Ct=ne.autoFocus,gi=ne.keyboard,jt=ne.rootClassName,Ye=ne.rootStyle,ut=ne.zIndex,dt=ne.className,bt=ne.style,Mt=ne.motion,ni=ne.width,qt=ne.height,yt=ne.children,At=ne.contentWrapperStyle,Qt=ne.mask,si=ne.maskClosable,oi=ne.maskMotion,mi=ne.maskClassName,bi=ne.maskStyle,Ai=ne.afterOpenChange,$i=ne.onClose,Vi=ne.onMouseEnter,Qi=ne.onMouseOver,fn=ne.onMouseLeave,Yi=ne.onClick,Pi=ne.onKeyDown,Li=ne.onKeyUp,gn=p.useRef(),on=p.useRef(),Nn=p.useRef();p.useImperativeHandle(me,function(){return gn.current});var ln=function(_t){var xt=_t.keyCode,Ht=_t.shiftKey;switch(xt){case R.Z.TAB:{if(xt===R.Z.TAB){if(!Ht&&document.activeElement===Nn.current){var at;(at=on.current)===null||at===void 0||at.focus({preventScroll:!0})}else if(Ht&&document.activeElement===on.current){var ce;(ce=Nn.current)===null||ce===void 0||ce.focus({preventScroll:!0})}}break}case R.Z.ESC:{$i&&gi&&(_t.stopPropagation(),$i(_t));break}}};p.useEffect(function(){if(tt&&Ct){var Jt;(Jt=gn.current)===null||Jt===void 0||Jt.focus({preventScroll:!0})}},[tt]);var Yt=p.useState(!1),ti=(0,_.Z)(Yt,2),fi=ti[0],Gt=ti[1],Si=p.useContext(Y),zi;Wt===!1?zi={distance:0}:Wt===!0?zi={}:zi=Wt||{};var ji=(ue=(Pe=(ot=zi)===null||ot===void 0?void 0:ot.distance)!==null&&Pe!==void 0?Pe:Si==null?void 0:Si.pushDistance)!==null&&ue!==void 0?ue:180,Hi=p.useMemo(function(){return{pushDistance:ji,push:function(){Gt(!0)},pull:function(){Gt(!1)}}},[ji]);p.useEffect(function(){if(tt){var Jt;Si==null||(Jt=Si.push)===null||Jt===void 0||Jt.call(Si)}else{var _t;Si==null||(_t=Si.pull)===null||_t===void 0||_t.call(Si)}},[tt]),p.useEffect(function(){return function(){var Jt;Si==null||(Jt=Si.pull)===null||Jt===void 0||Jt.call(Si)}},[]);var tn=Qt&&p.createElement(k.ZP,(0,A.Z)({key:"mask"},oi,{visible:tt}),function(Jt,_t){var xt=Jt.className,Ht=Jt.style;return p.createElement("div",{className:O()("".concat(nt,"-mask"),xt,mi),style:(0,u.Z)((0,u.Z)({},Ht),bi),onClick:si&&tt?$i:void 0,ref:_t})}),sn=typeof Mt=="function"?Mt(st):Mt,Xi={};if(fi&&ji)switch(st){case"top":Xi.transform="translateY(".concat(ji,"px)");break;case"bottom":Xi.transform="translateY(".concat(-ji,"px)");break;case"left":Xi.transform="translateX(".concat(ji,"px)");break;default:Xi.transform="translateX(".concat(-ji,"px)");break}st==="left"||st==="right"?Xi.width=K(ni):Xi.height=K(qt);var Oi={onMouseEnter:Vi,onMouseOver:Qi,onMouseLeave:fn,onClick:Yi,onKeyDown:Pi,onKeyUp:Li},ai=p.createElement(k.ZP,(0,A.Z)({key:"panel"},sn,{visible:tt,forceRender:Vt,onVisibleChanged:function(_t){Ai==null||Ai(_t)},removeOnLeave:!1,leavedClassName:"".concat(nt,"-content-wrapper-hidden")}),function(Jt,_t){var xt=Jt.className,Ht=Jt.style;return p.createElement("div",(0,A.Z)({className:O()("".concat(nt,"-content-wrapper"),xt),style:(0,u.Z)((0,u.Z)((0,u.Z)({},Xi),Ht),At)},(0,$.Z)(ne,{data:!0})),p.createElement(z,(0,A.Z)({containerRef:_t,prefixCls:nt,className:dt,style:bt},Oi),yt))}),Zt=(0,u.Z)({},Ye);return ut&&(Zt.zIndex=ut),p.createElement(Y.Provider,{value:Hi},p.createElement("div",{className:O()(nt,"".concat(nt,"-").concat(st),jt,(gt={},(0,U.Z)(gt,"".concat(nt,"-open"),tt),(0,U.Z)(gt,"".concat(nt,"-inline"),It),gt)),style:Zt,tabIndex:-1,ref:gn,onKeyDown:ln},tn,p.createElement("div",{tabIndex:0,ref:on,style:fe,"aria-hidden":"true","data-sentinel":"start"}),ai,p.createElement("div",{tabIndex:0,ref:Nn,style:fe,"aria-hidden":"true","data-sentinel":"end"})))}var Re=p.forwardRef(T),Ce=Re,_e=function(me){var ue=me.open,Pe=ue===void 0?!1:ue,ot=me.prefixCls,gt=ot===void 0?"rc-drawer":ot,nt=me.placement,tt=nt===void 0?"right":nt,st=me.autoFocus,It=st===void 0?!0:st,Wt=me.keyboard,Vt=Wt===void 0?!0:Wt,Ct=me.width,gi=Ct===void 0?378:Ct,jt=me.mask,Ye=jt===void 0?!0:jt,ut=me.maskClosable,dt=ut===void 0?!0:ut,bt=me.getContainer,Mt=me.forceRender,ni=me.afterOpenChange,qt=me.destroyOnClose,yt=me.onMouseEnter,At=me.onMouseOver,Qt=me.onMouseLeave,si=me.onClick,oi=me.onKeyDown,mi=me.onKeyUp,bi=p.useState(!1),Ai=(0,_.Z)(bi,2),$i=Ai[0],Vi=Ai[1],Qi=p.useState(!1),fn=(0,_.Z)(Qi,2),Yi=fn[0],Pi=fn[1];(0,d.Z)(function(){Pi(!0)},[]);var Li=Yi?Pe:!1,gn=p.useRef(),on=p.useRef();(0,d.Z)(function(){Li&&(on.current=document.activeElement)},[Li]);var Nn=function(fi){var Gt;if(Vi(fi),ni==null||ni(fi),!fi&&on.current&&!(!((Gt=gn.current)===null||Gt===void 0)&&Gt.contains(on.current))){var Si;(Si=on.current)===null||Si===void 0||Si.focus({preventScroll:!0})}};if(!Mt&&!$i&&!Li&&qt)return null;var ln={onMouseEnter:yt,onMouseOver:At,onMouseLeave:Qt,onClick:si,onKeyDown:oi,onKeyUp:mi},Yt=(0,u.Z)((0,u.Z)({},me),{},{open:Li,prefixCls:gt,placement:tt,autoFocus:It,keyboard:Vt,width:gi,mask:Ye,maskClosable:dt,inline:bt===!1,afterOpenChange:Nn,ref:gn},ln);return p.createElement(B,{open:Li||Mt||$i,autoDestroy:!1,getContainer:bt,autoLock:Ye&&(Li||$i)},p.createElement(Ce,Yt))},pe=_e,le=pe,oe=t(35298),he=t(75197),je=t(91754),Xe=t(65393),se=ne=>{const{prefixCls:me,title:ue,footer:Pe,extra:ot,closable:gt=!0,closeIcon:nt=p.createElement(Xe.Z,null),onClose:tt,headerStyle:st,drawerStyle:It,bodyStyle:Wt,footerStyle:Vt,children:Ct}=ne,gi=gt&&p.createElement("button",{type:"button",onClick:tt,"aria-label":"Close",className:`${me}-close`},nt),jt=p.useMemo(()=>!ue&&!gt?null:p.createElement("div",{style:st,className:O()(`${me}-header`,{[`${me}-header-close-only`]:gt&&!ue&&!ot})},p.createElement("div",{className:`${me}-header-title`},gi,ue&&p.createElement("div",{className:`${me}-title`},ue)),ot&&p.createElement("div",{className:`${me}-extra`},ot)),[gt,gi,ot,st,me,ue]),Ye=p.useMemo(()=>{if(!Pe)return null;const ut=`${me}-footer`;return p.createElement("div",{className:ut,style:Vt},Pe)},[Pe,Vt,me]);return p.createElement("div",{className:`${me}-wrapper-body`,style:It},jt,p.createElement("div",{className:`${me}-body`,style:Wt},Ct),Ye)},q=t(44875),Ee=t(23707),we=ne=>{const{componentCls:me,motionDurationSlow:ue}=ne,Pe={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${ue}`}}};return{[me]:{[`${me}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${ue}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${me}-panel-motion`]:{"&-left":[Pe,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[Pe,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[Pe,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[Pe,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}};const ve=ne=>{const{componentCls:me,zIndexPopup:ue,colorBgMask:Pe,colorBgElevated:ot,motionDurationSlow:gt,motionDurationMid:nt,padding:tt,paddingLG:st,fontSizeLG:It,lineHeightLG:Wt,lineWidth:Vt,lineType:Ct,colorSplit:gi,marginSM:jt,colorIcon:Ye,colorIconHover:ut,colorText:dt,fontWeightStrong:bt,footerPaddingBlock:Mt,footerPaddingInline:ni}=ne,qt=`${me}-content-wrapper`;return{[me]:{position:"fixed",inset:0,zIndex:ue,pointerEvents:"none","&-pure":{position:"relative",background:ot,[`&${me}-left`]:{boxShadow:ne.boxShadowDrawerLeft},[`&${me}-right`]:{boxShadow:ne.boxShadowDrawerRight},[`&${me}-top`]:{boxShadow:ne.boxShadowDrawerUp},[`&${me}-bottom`]:{boxShadow:ne.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${me}-mask`]:{position:"absolute",inset:0,zIndex:ue,background:Pe,pointerEvents:"auto"},[qt]:{position:"absolute",zIndex:ue,maxWidth:"100vw",transition:`all ${gt}`,"&-hidden":{display:"none"}},[`&-left > ${qt}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:ne.boxShadowDrawerLeft},[`&-right > ${qt}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:ne.boxShadowDrawerRight},[`&-top > ${qt}`]:{top:0,insetInline:0,boxShadow:ne.boxShadowDrawerUp},[`&-bottom > ${qt}`]:{bottom:0,insetInline:0,boxShadow:ne.boxShadowDrawerDown},[`${me}-content`]:{width:"100%",height:"100%",overflow:"auto",background:ot,pointerEvents:"auto"},[`${me}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${me}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${tt}px ${st}px`,fontSize:It,lineHeight:Wt,borderBottom:`${Vt}px ${Ct} ${gi}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${me}-extra`]:{flex:"none"},[`${me}-close`]:{display:"inline-block",marginInlineEnd:jt,color:Ye,fontWeight:bt,fontSize:It,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${nt}`,textRendering:"auto","&:focus, &:hover":{color:ut,textDecoration:"none"}},[`${me}-title`]:{flex:1,margin:0,color:dt,fontWeight:ne.fontWeightStrong,fontSize:It,lineHeight:Wt},[`${me}-body`]:{flex:1,minWidth:0,minHeight:0,padding:st,overflow:"auto"},[`${me}-footer`]:{flexShrink:0,padding:`${Mt}px ${ni}px`,borderTop:`${Vt}px ${Ct} ${gi}`},"&-rtl":{direction:"rtl"}}}};var Ne=(0,q.Z)("Drawer",ne=>{const me=(0,Ee.TS)(ne,{});return[ve(me),we(me)]},ne=>({zIndexPopup:ne.zIndexPopupBase,footerPaddingBlock:ne.paddingXS,footerPaddingInline:ne.padding})),$e=t(74274),Ke=function(ne,me){var ue={};for(var Pe in ne)Object.prototype.hasOwnProperty.call(ne,Pe)&&me.indexOf(Pe)<0&&(ue[Pe]=ne[Pe]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,Pe=Object.getOwnPropertySymbols(ne);ot<Pe.length;ot++)me.indexOf(Pe[ot])<0&&Object.prototype.propertyIsEnumerable.call(ne,Pe[ot])&&(ue[Pe[ot]]=ne[Pe[ot]]);return ue};const ze=null,He={distance:180};function Le(ne){var me;const{rootClassName:ue,width:Pe,height:ot,size:gt="default",mask:nt=!0,push:tt=He,open:st,afterOpenChange:It,onClose:Wt,prefixCls:Vt,getContainer:Ct,visible:gi,afterVisibleChange:jt}=ne,Ye=Ke(ne,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","visible","afterVisibleChange"]),{getPopupContainer:ut,getPrefixCls:dt,direction:bt}=p.useContext(oe.E_),Mt=dt("drawer",Vt),[ni,qt]=Ne(Mt),yt=Ct===void 0&&ut?()=>ut(document.body):Ct,At=O()({"no-mask":!nt,[`${Mt}-rtl`]:bt==="rtl"},ue,qt),Qt=p.useMemo(()=>Pe!=null?Pe:gt==="large"?736:378,[Pe,gt]),si=p.useMemo(()=>ot!=null?ot:gt==="large"?736:378,[ot,gt]),oi={motionName:(0,je.mL)(Mt,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},mi=bi=>({motionName:(0,je.mL)(Mt,`panel-motion-${bi}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500});return ni(p.createElement($e.BR,null,p.createElement(he.Ux,{status:!0,override:!0},p.createElement(le,Object.assign({prefixCls:Mt,onClose:Wt,maskMotion:oi,motion:mi},Ye,{open:st!=null?st:gi,mask:nt,push:tt,width:Qt,height:si,rootClassName:At,getContainer:yt,afterOpenChange:It!=null?It:jt}),p.createElement(se,Object.assign({prefixCls:Mt},Ye,{onClose:Wt}))))))}function de(ne){var{prefixCls:me,style:ue,className:Pe,placement:ot="right"}=ne,gt=Ke(ne,["prefixCls","style","className","placement"]);const{getPrefixCls:nt}=p.useContext(oe.E_),tt=nt("drawer",me),[st,It]=Ne(tt);return st(p.createElement("div",{className:O()(tt,`${tt}-pure`,`${tt}-${ot}`,It,Pe),style:ue},p.createElement(se,Object.assign({prefixCls:tt},gt))))}Le._InternalPanelDoNotUseOrYouWillBeFired=de;var ee=Le},80293:function(Rt,Be,t){"use strict";var f=t(2784);const O=(0,f.createContext)({});Be.Z=O},2678:function(Rt,Be,t){"use strict";t.d(Be,{V:function(){return L},c:function(){return E}});var f=t(44875),O=t(23707);const u=g=>{const{componentCls:a}=g;return{[a]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},_=g=>{const{componentCls:a}=g;return{[a]:{position:"relative",maxWidth:"100%",minHeight:1}}},p=(g,a)=>{const{componentCls:l,gridColumns:d}=g,i={};for(let s=d;s>=0;s--)s===0?(i[`${l}${a}-${s}`]={display:"none"},i[`${l}-push-${s}`]={insetInlineStart:"auto"},i[`${l}-pull-${s}`]={insetInlineEnd:"auto"},i[`${l}${a}-push-${s}`]={insetInlineStart:"auto"},i[`${l}${a}-pull-${s}`]={insetInlineEnd:"auto"},i[`${l}${a}-offset-${s}`]={marginInlineStart:0},i[`${l}${a}-order-${s}`]={order:0}):(i[`${l}${a}-${s}`]={display:"block",flex:`0 0 ${s/d*100}%`,maxWidth:`${s/d*100}%`},i[`${l}${a}-push-${s}`]={insetInlineStart:`${s/d*100}%`},i[`${l}${a}-pull-${s}`]={insetInlineEnd:`${s/d*100}%`},i[`${l}${a}-offset-${s}`]={marginInlineStart:`${s/d*100}%`},i[`${l}${a}-order-${s}`]={order:s});return i},V=(g,a)=>p(g,a),I=(g,a,l)=>({[`@media (min-width: ${a}px)`]:Object.assign({},V(g,l))}),L=(0,f.Z)("Grid",g=>[u(g)]),E=(0,f.Z)("Grid",g=>{const a=(0,O.TS)(g,{gridColumns:24}),l={"-sm":a.screenSMMin,"-md":a.screenMDMin,"-lg":a.screenLGMin,"-xl":a.screenXLMin,"-xxl":a.screenXXLMin};return[_(a),V(a,""),V(a,"-xs"),Object.keys(l).map(d=>I(a,l[d],d)).reduce((d,i)=>Object.assign(Object.assign({},d),i),{})]})},88133:function(Rt,Be,t){"use strict";var f=t(85942),O=t(47583),u=t(2784),_=t(3821),p=t(65761),V=t(88243),I=t(43351);let L=null,E=D=>D(),g=[],a={};function l(){const{prefixCls:D,getContainer:F,duration:B,rtl:U,maxCount:A,top:k}=a,R=D!=null?D:(0,_.w6)().getPrefixCls("message"),$=(F==null?void 0:F())||document.body;return{prefixCls:R,container:$,duration:B,rtl:U,maxCount:A,top:k}}const d=u.forwardRef((D,F)=>{const B=()=>{const{prefixCls:K,container:Z,maxCount:fe,duration:T,rtl:Re,top:Ce}=l();return{prefixCls:K,getContainer:()=>Z,maxCount:fe,duration:T,rtl:Re,top:Ce}},[U,A]=u.useState(B),[k,R]=(0,V.K)(U),$=(0,_.w6)(),J=$.getRootPrefixCls(),Y=$.getIconPrefixCls(),j=$.getTheme(),z=()=>{A(B)};return u.useEffect(z,[]),u.useImperativeHandle(F,()=>{const K=Object.assign({},k);return Object.keys(K).forEach(Z=>{K[Z]=function(){return z(),k[Z].apply(k,arguments)}}),{instance:K,sync:z}}),u.createElement(_.ZP,{prefixCls:J,iconPrefixCls:Y,theme:j},R)});function i(){if(!L){const D=document.createDocumentFragment(),F={fragment:D};L=F,E(()=>{(0,O.s)(u.createElement(d,{ref:B=>{const{instance:U,sync:A}=B||{};Promise.resolve().then(()=>{!F.instance&&U&&(F.instance=U,F.sync=A,i())})}}),D)});return}L.instance&&(g.forEach(D=>{const{type:F,skipped:B}=D;if(!B)switch(F){case"open":{E(()=>{const U=L.instance.open(Object.assign(Object.assign({},a),D.config));U==null||U.then(D.resolve),D.setCloseFn(U)});break}case"destroy":E(()=>{L==null||L.instance.destroy(D.key)});break;default:E(()=>{var U;const A=(U=L.instance)[F].apply(U,(0,f.Z)(D.args));A==null||A.then(D.resolve),D.setCloseFn(A)})}}),g=[])}function s(D){a=Object.assign(Object.assign({},a),D),E(()=>{var F;(F=L==null?void 0:L.sync)===null||F===void 0||F.call(L)})}function m(D){const F=(0,I.J)(B=>{let U;const A={type:"open",config:D,resolve:B,setCloseFn:k=>{U=k}};return g.push(A),()=>{U?E(()=>{U()}):A.skipped=!0}});return i(),F}function b(D,F){const B=(0,I.J)(U=>{let A;const k={type:D,args:F,resolve:U,setCloseFn:R=>{A=R}};return g.push(k),()=>{A?E(()=>{A()}):k.skipped=!0}});return i(),B}function c(D){g.push({type:"destroy",key:D}),i()}const v=["success","info","warning","error","loading"],S={open:m,destroy:c,config:s,useMessage:V.Z,_InternalPanelDoNotUseOrYouWillBeFired:p.ZP};v.forEach(D=>{S[D]=function(){for(var F=arguments.length,B=new Array(F),U=0;U<F;U++)B[U]=arguments[U];return b(D,B)}});const N=()=>{};let P=null,M=null;Be.ZP=S},98599:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return ln}});var f=t(20094),O=t(72779),u=t.n(O),_=t(92981),p=t(32340),V=t(94899),I=t(2784),L=t(29095),E=t(35298);const g=Yt=>Yt?typeof Yt=="function"?Yt():Yt:null;var a=t(91754),l=t(7896),d=t(33028),i=t(99980),s=t(60733),m={shiftX:64,adjustY:1},b={adjustX:1,shiftY:!0},c=[0,0],v={left:{points:["cr","cl"],overflow:b,offset:[-4,0],targetOffset:c},right:{points:["cl","cr"],overflow:b,offset:[4,0],targetOffset:c},top:{points:["bc","tc"],overflow:m,offset:[0,-4],targetOffset:c},bottom:{points:["tc","bc"],overflow:m,offset:[0,4],targetOffset:c},topLeft:{points:["bl","tl"],overflow:m,offset:[0,-4],targetOffset:c},leftTop:{points:["tr","tl"],overflow:b,offset:[-4,0],targetOffset:c},topRight:{points:["br","tr"],overflow:m,offset:[0,-4],targetOffset:c},rightTop:{points:["tl","tr"],overflow:b,offset:[4,0],targetOffset:c},bottomRight:{points:["tr","br"],overflow:m,offset:[0,4],targetOffset:c},rightBottom:{points:["bl","br"],overflow:b,offset:[4,0],targetOffset:c},bottomLeft:{points:["tl","bl"],overflow:m,offset:[0,4],targetOffset:c},leftBottom:{points:["br","bl"],overflow:b,offset:[-4,0],targetOffset:c}},C=null;function S(Yt){var ti=Yt.children,fi=Yt.prefixCls,Gt=Yt.id,Si=Yt.overlayInnerStyle,zi=Yt.className,ji=Yt.style;return I.createElement("div",{className:u()("".concat(fi,"-content"),zi),style:ji},I.createElement("div",{className:"".concat(fi,"-inner"),id:Gt,role:"tooltip",style:Si},typeof ti=="function"?ti():ti))}var N=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],P=function(ti,fi){var Gt=ti.overlayClassName,Si=ti.trigger,zi=Si===void 0?["hover"]:Si,ji=ti.mouseEnterDelay,Hi=ji===void 0?0:ji,tn=ti.mouseLeaveDelay,sn=tn===void 0?.1:tn,Xi=ti.overlayStyle,Oi=ti.prefixCls,ai=Oi===void 0?"rc-tooltip":Oi,Zt=ti.children,Jt=ti.onVisibleChange,_t=ti.afterVisibleChange,xt=ti.transitionName,Ht=ti.animation,at=ti.motion,ce=ti.placement,We=ce===void 0?"right":ce,Me=ti.align,ge=Me===void 0?{}:Me,Q=ti.destroyTooltipOnHide,ae=Q===void 0?!1:Q,xe=ti.defaultVisible,Ae=ti.getTooltipContainer,Je=ti.overlayInnerStyle,vt=ti.arrowContent,St=ti.overlay,wt=ti.id,Lt=ti.showArrow,Bt=Lt===void 0?!0:Lt,ei=(0,i.Z)(ti,N),pi=(0,I.useRef)(null);(0,I.useImperativeHandle)(fi,function(){return pi.current});var di=(0,d.Z)({},ei);"visible"in ti&&(di.popupVisible=ti.visible);var hi=function(){return I.createElement(S,{key:"content",prefixCls:ai,id:wt,overlayInnerStyle:Je},St)};return I.createElement(s.Z,(0,l.Z)({popupClassName:Gt,prefixCls:ai,popup:hi,action:zi,builtinPlacements:v,popupPlacement:We,ref:pi,popupAlign:ge,getPopupContainer:Ae,onPopupVisibleChange:Jt,afterPopupVisibleChange:_t,popupTransitionName:xt,popupAnimation:Ht,popupMotion:at,defaultPopupVisible:xe,autoDestroy:ae,mouseLeaveDelay:sn,popupStyle:Xi,mouseEnterDelay:Hi,arrow:Bt},di),Zt)},M=(0,I.forwardRef)(P),D=M;const F=(Yt,ti,fi,Gt,Si)=>{const zi=Yt/2,ji=0,Hi=zi,tn=fi*1/Math.sqrt(2),sn=zi-fi*(1-1/Math.sqrt(2)),Xi=zi-ti*(1/Math.sqrt(2)),Oi=fi*(Math.sqrt(2)-1)+ti*(1/Math.sqrt(2)),ai=2*zi-Xi,Zt=Oi,Jt=2*zi-tn,_t=sn,xt=2*zi-ji,Ht=Hi,at=zi*Math.sqrt(2)+fi*(Math.sqrt(2)-2),ce=fi*(Math.sqrt(2)-1);return{pointerEvents:"none",width:Yt,height:Yt,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:Yt,height:Yt/2,background:Gt,clipPath:{_multi_value_:!0,value:[`polygon(${ce}px 100%, 50% ${ce}px, ${2*zi-ce}px 100%, ${ce}px 100%)`,`path('M ${ji} ${Hi} A ${fi} ${fi} 0 0 0 ${tn} ${sn} L ${Xi} ${Oi} A ${ti} ${ti} 0 0 1 ${ai} ${Zt} L ${Jt} ${_t} A ${fi} ${fi} 0 0 0 ${xt} ${Ht} Z')`]},content:'""'},"&::after":{content:'""',position:"absolute",width:at,height:at,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${ti}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:Si,zIndex:0,background:"transparent"}}},B=8;function U(Yt){const ti=B,{contentRadius:fi,limitVerticalRadius:Gt}=Yt,Si=fi>12?fi+2:12;return{dropdownArrowOffset:Si,dropdownArrowOffsetVertical:Gt?ti:Si}}function A(Yt,ti){return Yt?ti:{}}function k(Yt,ti){const{componentCls:fi,sizePopupArrow:Gt,borderRadiusXS:Si,borderRadiusOuter:zi,boxShadowPopoverArrow:ji}=Yt,{colorBg:Hi,contentRadius:tn=Yt.borderRadiusLG,limitVerticalRadius:sn,arrowDistance:Xi=0,arrowPlacement:Oi={left:!0,right:!0,top:!0,bottom:!0}}=ti,{dropdownArrowOffsetVertical:ai,dropdownArrowOffset:Zt}=U({contentRadius:tn,limitVerticalRadius:sn});return{[fi]:Object.assign(Object.assign(Object.assign(Object.assign({[`${fi}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},F(Gt,Si,zi,Hi,ji)),{"&:before":{background:Hi}})]},A(!!Oi.top,{[[`&-placement-top ${fi}-arrow`,`&-placement-topLeft ${fi}-arrow`,`&-placement-topRight ${fi}-arrow`].join(",")]:{bottom:Xi,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${fi}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${fi}-arrow`]:{left:{_skip_check_:!0,value:Zt}},[`&-placement-topRight ${fi}-arrow`]:{right:{_skip_check_:!0,value:Zt}}})),A(!!Oi.bottom,{[[`&-placement-bottom ${fi}-arrow`,`&-placement-bottomLeft ${fi}-arrow`,`&-placement-bottomRight ${fi}-arrow`].join(",")]:{top:Xi,transform:"translateY(-100%)"},[`&-placement-bottom ${fi}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${fi}-arrow`]:{left:{_skip_check_:!0,value:Zt}},[`&-placement-bottomRight ${fi}-arrow`]:{right:{_skip_check_:!0,value:Zt}}})),A(!!Oi.left,{[[`&-placement-left ${fi}-arrow`,`&-placement-leftTop ${fi}-arrow`,`&-placement-leftBottom ${fi}-arrow`].join(",")]:{right:{_skip_check_:!0,value:Xi},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${fi}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${fi}-arrow`]:{top:ai},[`&-placement-leftBottom ${fi}-arrow`]:{bottom:ai}})),A(!!Oi.right,{[[`&-placement-right ${fi}-arrow`,`&-placement-rightTop ${fi}-arrow`,`&-placement-rightBottom ${fi}-arrow`].join(",")]:{left:{_skip_check_:!0,value:Xi},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${fi}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${fi}-arrow`]:{top:ai},[`&-placement-rightBottom ${fi}-arrow`]:{bottom:ai}}))}}function R(Yt,ti,fi,Gt){if(Gt===!1)return{adjustX:!1,adjustY:!1};const Si=Gt&&typeof Gt=="object"?Gt:{},zi={};switch(Yt){case"top":case"bottom":zi.shiftX=ti.dropdownArrowOffset*2+fi;break;case"left":case"right":zi.shiftY=ti.dropdownArrowOffsetVertical*2+fi;break}const ji=Object.assign(Object.assign({},zi),Si);return ji.shiftX||(ji.adjustX=!0),ji.shiftY||(ji.adjustY=!0),ji}const $={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},J={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Y=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function j(Yt){const{arrowWidth:ti,autoAdjustOverflow:fi,arrowPointAtCenter:Gt,offset:Si,borderRadius:zi,visibleFirst:ji}=Yt,Hi=ti/2,tn={};return Object.keys($).forEach(sn=>{const Xi=Gt&&J[sn]||$[sn],Oi=Object.assign(Object.assign({},Xi),{offset:[0,0]});switch(tn[sn]=Oi,Y.has(sn)&&(Oi.autoArrow=!1),sn){case"top":case"topLeft":case"topRight":Oi.offset[1]=-Hi-Si;break;case"bottom":case"bottomLeft":case"bottomRight":Oi.offset[1]=Hi+Si;break;case"left":case"leftTop":case"leftBottom":Oi.offset[0]=-Hi-Si;break;case"right":case"rightTop":case"rightBottom":Oi.offset[0]=Hi+Si;break}const ai=U({contentRadius:zi,limitVerticalRadius:!0});if(Gt)switch(sn){case"topLeft":case"bottomLeft":Oi.offset[0]=-ai.dropdownArrowOffset-Hi;break;case"topRight":case"bottomRight":Oi.offset[0]=ai.dropdownArrowOffset+Hi;break;case"leftTop":case"rightTop":Oi.offset[1]=-ai.dropdownArrowOffset-Hi;break;case"leftBottom":case"rightBottom":Oi.offset[1]=ai.dropdownArrowOffset+Hi;break}Oi.overflow=R(sn,ai,ti,fi),ji&&(Oi.htmlRegion="visibleFirst")}),tn}var z=t(74274),K=t(33569),Z=t(98292),fe=t(86504),T=t(98176),Ce=Yt=>{const ti=Yt!=null&&Yt.algorithm?(0,K.jG)(Yt.algorithm):(0,K.jG)(Z.Z),fi=Object.assign(Object.assign({},fe.Z),Yt==null?void 0:Yt.token);return(0,K.t2)(fi,{override:Yt==null?void 0:Yt.token},ti,T.Z)},_e=t(71659),pe=t(30749);function le(Yt){const{sizeUnit:ti,sizeStep:fi}=Yt,Gt=fi-2;return{sizeXXL:ti*(Gt+10),sizeXL:ti*(Gt+6),sizeLG:ti*(Gt+2),sizeMD:ti*(Gt+2),sizeMS:ti*(Gt+1),size:ti*Gt,sizeSM:ti*Gt,sizeXS:ti*(Gt-1),sizeXXS:ti*(Gt-1)}}var oe=t(97292),je=(Yt,ti)=>{const fi=ti!=null?ti:(0,Z.Z)(Yt),Gt=fi.fontSizeSM,Si=fi.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fi),le(ti!=null?ti:Yt)),(0,oe.Z)(Gt)),{controlHeight:Si}),(0,pe.Z)(Object.assign(Object.assign({},fi),{controlHeight:Si})))},Xe=t(18467),Ve=t(66341),se=t(3957);const q=(Yt,ti)=>new se.C(Yt).setAlpha(ti).toRgbString(),Ee=(Yt,ti)=>new se.C(Yt).lighten(ti).toHexString(),Se=Yt=>{const ti=(0,Xe.R_)(Yt,{theme:"dark"});return{1:ti[0],2:ti[1],3:ti[2],4:ti[3],5:ti[6],6:ti[5],7:ti[4],8:ti[6],9:ti[5],10:ti[4]}},we=(Yt,ti)=>{const fi=Yt||"#000",Gt=ti||"#fff";return{colorBgBase:fi,colorTextBase:Gt,colorText:q(Gt,.85),colorTextSecondary:q(Gt,.65),colorTextTertiary:q(Gt,.45),colorTextQuaternary:q(Gt,.25),colorFill:q(Gt,.18),colorFillSecondary:q(Gt,.12),colorFillTertiary:q(Gt,.08),colorFillQuaternary:q(Gt,.04),colorBgElevated:Ee(fi,12),colorBgContainer:Ee(fi,8),colorBgLayout:Ee(fi,0),colorBgSpotlight:Ee(fi,26),colorBorder:Ee(fi,26),colorBorderSecondary:Ee(fi,19)}};var Ne=(Yt,ti)=>{const fi=Object.keys(fe.M).map(Si=>{const zi=(0,Xe.R_)(Yt[Si],{theme:"dark"});return new Array(10).fill(1).reduce((ji,Hi,tn)=>(ji[`${Si}-${tn+1}`]=zi[tn],ji[`${Si}${tn+1}`]=zi[tn],ji),{})}).reduce((Si,zi)=>(Si=Object.assign(Object.assign({},Si),zi),Si),{}),Gt=ti!=null?ti:(0,Z.Z)(Yt);return Object.assign(Object.assign(Object.assign({},Gt),fi),(0,Ve.Z)(Yt,{generateColorPalettes:Se,generateNeutralColorPalettes:we}))};function $e(){const[Yt,ti,fi]=(0,_e.dQ)();return{theme:Yt,token:ti,hashId:fi}}var Ke={defaultConfig:_e.u_,defaultSeed:_e.u_.token,useToken:$e,defaultAlgorithm:Z.Z,darkAlgorithm:Ne,compactAlgorithm:je,getDesignToken:Ce},ze=t(23773),He=t(94120);const Le=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function de(Yt,ti){return Le.reduce((fi,Gt)=>{const Si=Yt[`${Gt}1`],zi=Yt[`${Gt}3`],ji=Yt[`${Gt}6`],Hi=Yt[`${Gt}7`];return Object.assign(Object.assign({},fi),ti(Gt,{lightColor:Si,lightBorderColor:zi,darkColor:ji,textColor:Hi}))},{})}var ee=t(23707),ne=t(44875);const me=Yt=>{const{componentCls:ti,tooltipMaxWidth:fi,tooltipColor:Gt,tooltipBg:Si,tooltipBorderRadius:zi,zIndexPopup:ji,controlHeight:Hi,boxShadowSecondary:tn,paddingSM:sn,paddingXS:Xi,tooltipRadiusOuter:Oi}=Yt;return[{[ti]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,ze.Wf)(Yt)),{position:"absolute",zIndex:ji,display:"block",width:"max-content",maxWidth:fi,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":Si,[`${ti}-inner`]:{minWidth:Hi,minHeight:Hi,padding:`${sn/2}px ${Xi}px`,color:Gt,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:Si,borderRadius:zi,boxShadow:tn,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${ti}-inner`]:{borderRadius:Math.min(zi,B)}},[`${ti}-content`]:{position:"relative"}}),de(Yt,(ai,Zt)=>{let{darkColor:Jt}=Zt;return{[`&${ti}-${ai}`]:{[`${ti}-inner`]:{backgroundColor:Jt},[`${ti}-arrow`]:{"--antd-arrow-background-color":Jt}}}})),{"&-rtl":{direction:"rtl"}})},k((0,ee.TS)(Yt,{borderRadiusOuter:Oi}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:zi,limitVerticalRadius:!0}),{[`${ti}-pure`]:{position:"relative",maxWidth:"none",margin:Yt.sizePopupArrow}}]};var ue=(Yt,ti)=>(0,ne.Z)("Tooltip",Gt=>{if(ti===!1)return[];const{borderRadius:Si,colorTextLightSolid:zi,colorBgDefault:ji,borderRadiusOuter:Hi}=Gt,tn=(0,ee.TS)(Gt,{tooltipMaxWidth:250,tooltipColor:zi,tooltipBorderRadius:Si,tooltipBg:ji,tooltipRadiusOuter:Hi>4?4:Hi});return[me(tn),(0,He._y)(Gt,"zoom-big-fast")]},Gt=>{let{zIndexPopupBase:Si,colorBgSpotlight:zi}=Gt;return{zIndexPopup:Si+70,colorBgDefault:zi}},{resetStyle:!1})(Yt),Pe=t(85942);const ot=Le.map(Yt=>`${Yt}-inverse`),gt=null;function nt(Yt){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,Pe.Z)(ot),(0,Pe.Z)(Le)).includes(Yt):Le.includes(Yt)}function tt(Yt){return gt.includes(Yt)}function st(Yt,ti){const fi=nt(ti),Gt=u()({[`${Yt}-${ti}`]:ti&&fi}),Si={},zi={};return ti&&!fi&&(Si.background=ti,zi["--antd-arrow-background-color"]=ti),{className:Gt,overlayStyle:Si,arrowStyle:zi}}function It(Yt){const{prefixCls:ti,className:fi,placement:Gt="top",title:Si,color:zi,overlayInnerStyle:ji}=Yt,{getPrefixCls:Hi}=I.useContext(E.E_),tn=Hi("tooltip",ti),[sn,Xi]=ue(tn,!0),Oi=st(tn,zi),ai=Object.assign(Object.assign({},ji),Oi.overlayStyle),Zt=Oi.arrowStyle;return sn(I.createElement("div",{className:u()(Xi,tn,`${tn}-pure`,`${tn}-placement-${Gt}`,fi,Oi.className),style:Zt},I.createElement("div",{className:`${tn}-arrow`}),I.createElement(S,Object.assign({},Yt,{className:Xi,prefixCls:tn,overlayInnerStyle:ai}),Si)))}var Wt=function(Yt,ti){var fi={};for(var Gt in Yt)Object.prototype.hasOwnProperty.call(Yt,Gt)&&ti.indexOf(Gt)<0&&(fi[Gt]=Yt[Gt]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Si=0,Gt=Object.getOwnPropertySymbols(Yt);Si<Gt.length;Si++)ti.indexOf(Gt[Si])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Gt[Si])&&(fi[Gt[Si]]=Yt[Gt[Si]]);return fi};const{useToken:Vt}=Ke,Ct=(Yt,ti)=>{const fi={},Gt=Object.assign({},Yt);return ti.forEach(Si=>{Yt&&Si in Yt&&(fi[Si]=Yt[Si],delete Gt[Si])}),{picked:fi,omitted:Gt}};function gi(Yt,ti){const fi=Yt.type;if((fi.__ANT_BUTTON===!0||Yt.type==="button")&&Yt.props.disabled||fi.__ANT_SWITCH===!0&&(Yt.props.disabled||Yt.props.loading)||fi.__ANT_RADIO===!0&&Yt.props.disabled){const{picked:Gt,omitted:Si}=Ct(Yt.props.style,["position","left","right","top","bottom","float","display","zIndex"]),zi=Object.assign(Object.assign({display:"inline-block"},Gt),{cursor:"not-allowed",width:Yt.props.block?"100%":void 0}),ji=Object.assign(Object.assign({},Si),{pointerEvents:"none"}),Hi=(0,L.Tm)(Yt,{style:ji,className:null});return I.createElement("span",{style:zi,className:u()(Yt.props.className,`${ti}-disabled-compatible-wrapper`)},Hi)}return Yt}const jt=I.forwardRef((Yt,ti)=>{var fi,Gt;const{prefixCls:Si,openClassName:zi,getTooltipContainer:ji,overlayClassName:Hi,color:tn,overlayInnerStyle:sn,children:Xi,afterOpenChange:Oi,afterVisibleChange:ai,destroyTooltipOnHide:Zt,arrow:Jt=!0,title:_t,overlay:xt,builtinPlacements:Ht,arrowPointAtCenter:at=!1,autoAdjustOverflow:ce=!0}=Yt,We=!!Jt,{token:Me}=Vt(),{getPopupContainer:ge,getPrefixCls:Q,direction:ae}=I.useContext(E.E_),xe=I.useRef(null),Ae=()=>{var ws;(ws=xe.current)===null||ws===void 0||ws.forceAlign()};I.useImperativeHandle(ti,()=>({forceAlign:Ae,forcePopupAlign:()=>{Ae()}}));const[Je,vt]=(0,p.Z)(!1,{value:(fi=Yt.open)!==null&&fi!==void 0?fi:Yt.visible,defaultValue:(Gt=Yt.defaultOpen)!==null&&Gt!==void 0?Gt:Yt.defaultVisible}),St=!_t&&!xt&&_t!==0,wt=ws=>{var Mn,Ds;vt(St?!1:ws),St||((Mn=Yt.onOpenChange)===null||Mn===void 0||Mn.call(Yt,ws),(Ds=Yt.onVisibleChange)===null||Ds===void 0||Ds.call(Yt,ws))},Lt=I.useMemo(()=>{var ws,Mn;let Ds=at;return typeof Jt=="object"&&(Ds=(Mn=(ws=Jt.pointAtCenter)!==null&&ws!==void 0?ws:Jt.arrowPointAtCenter)!==null&&Mn!==void 0?Mn:at),Ht||j({arrowPointAtCenter:Ds,autoAdjustOverflow:ce,arrowWidth:We?Me.sizePopupArrow:0,borderRadius:Me.borderRadius,offset:Me.marginXXS,visibleFirst:!0})},[at,Jt,Ht,Me]),Bt=I.useMemo(()=>_t===0?_t:xt||_t||"",[xt,_t]),ei=I.createElement(z.BR,null,typeof Bt=="function"?Bt():Bt),{getPopupContainer:pi,placement:di="top",mouseEnterDelay:hi=.1,mouseLeaveDelay:yi=.1,overlayStyle:Bi,rootClassName:ki}=Yt,Wi=Wt(Yt,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),Ri=Q("tooltip",Si),Cn=Q(),ts=Yt["data-popover-inject"];let Hn=Je;!("open"in Yt)&&!("visible"in Yt)&&St&&(Hn=!1);const Ss=gi((0,L.l$)(Xi)&&!(0,L.M2)(Xi)?Xi:I.createElement("span",null,Xi),Ri),mn=Ss.props,wi=!mn.className||typeof mn.className=="string"?u()(mn.className,{[zi||`${Ri}-open`]:!0}):mn.className,[Fi,rn]=ue(Ri,!ts),jn=st(Ri,tn),ns=Object.assign(Object.assign({},sn),jn.overlayStyle),ys=jn.arrowStyle,Ms=u()(Hi,{[`${Ri}-rtl`]:ae==="rtl"},jn.className,ki,rn);return Fi(I.createElement(D,Object.assign({},Wi,{showArrow:We,placement:di,mouseEnterDelay:hi,mouseLeaveDelay:yi,prefixCls:Ri,overlayClassName:Ms,overlayStyle:Object.assign(Object.assign({},ys),Bi),getTooltipContainer:pi||ji||ge,ref:xe,builtinPlacements:Lt,overlay:ei,visible:Hn,onVisibleChange:wt,afterVisibleChange:Oi!=null?Oi:ai,overlayInnerStyle:ns,arrowContent:I.createElement("span",{className:`${Ri}-arrow-content`}),motion:{motionName:(0,a.mL)(Cn,"zoom-big-fast",Yt.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!Zt}),Hn?(0,L.Tm)(Ss,{className:wi}):Ss))});jt._InternalPanelDoNotUseOrYouWillBeFired=It;var Ye=jt;const ut=Yt=>{const{componentCls:ti,popoverColor:fi,minWidth:Gt,fontWeightStrong:Si,popoverPadding:zi,boxShadowSecondary:ji,colorTextHeading:Hi,borderRadiusLG:tn,zIndexPopup:sn,marginXS:Xi,colorBgElevated:Oi,popoverBg:ai}=Yt;return[{[ti]:Object.assign(Object.assign({},(0,ze.Wf)(Yt)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:sn,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":Oi,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${ti}-content`]:{position:"relative"},[`${ti}-inner`]:{backgroundColor:ai,backgroundClip:"padding-box",borderRadius:tn,boxShadow:ji,padding:zi},[`${ti}-title`]:{minWidth:Gt,marginBottom:Xi,color:Hi,fontWeight:Si},[`${ti}-inner-content`]:{color:fi}})},k(Yt,{colorBg:"var(--antd-arrow-background-color)"}),{[`${ti}-pure`]:{position:"relative",maxWidth:"none",margin:Yt.sizePopupArrow,display:"inline-block",[`${ti}-content`]:{display:"inline-block"}}}]},dt=Yt=>{const{componentCls:ti}=Yt;return{[ti]:Le.map(fi=>{const Gt=Yt[`${fi}6`];return{[`&${ti}-${fi}`]:{"--antd-arrow-background-color":Gt,[`${ti}-inner`]:{backgroundColor:Gt},[`${ti}-arrow`]:{background:"transparent"}}}})}},bt=Yt=>{const{componentCls:ti,lineWidth:fi,lineType:Gt,colorSplit:Si,paddingSM:zi,controlHeight:ji,fontSize:Hi,lineHeight:tn,padding:sn}=Yt,Xi=ji-Math.round(Hi*tn),Oi=Xi/2,ai=Xi/2-fi,Zt=sn;return{[ti]:{[`${ti}-inner`]:{padding:0},[`${ti}-title`]:{margin:0,padding:`${Oi}px ${Zt}px ${ai}px`,borderBottom:`${fi}px ${Gt} ${Si}`},[`${ti}-inner-content`]:{padding:`${zi}px ${Zt}px`}}}};var Mt=(0,ne.Z)("Popover",Yt=>{const{colorBgElevated:ti,colorText:fi,wireframe:Gt}=Yt,Si=(0,ee.TS)(Yt,{popoverPadding:12,popoverBg:ti,popoverColor:fi});return[ut(Si),dt(Si),Gt&&bt(Si),(0,He._y)(Si,"zoom-big")]},Yt=>({width:177,minWidth:177,zIndexPopup:Yt.zIndexPopupBase+30}),{deprecatedTokens:[["width","minWidth"]]}),ni=function(Yt,ti){var fi={};for(var Gt in Yt)Object.prototype.hasOwnProperty.call(Yt,Gt)&&ti.indexOf(Gt)<0&&(fi[Gt]=Yt[Gt]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Si=0,Gt=Object.getOwnPropertySymbols(Yt);Si<Gt.length;Si++)ti.indexOf(Gt[Si])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Gt[Si])&&(fi[Gt[Si]]=Yt[Gt[Si]]);return fi};const qt=(Yt,ti,fi)=>{if(!(!ti&&!fi))return I.createElement(I.Fragment,null,ti&&I.createElement("div",{className:`${Yt}-title`},g(ti)),I.createElement("div",{className:`${Yt}-inner-content`},g(fi)))};function yt(Yt){const{hashId:ti,prefixCls:fi,className:Gt,style:Si,placement:zi="top",title:ji,content:Hi,children:tn}=Yt;return I.createElement("div",{className:u()(ti,fi,`${fi}-pure`,`${fi}-placement-${zi}`,Gt),style:Si},I.createElement("div",{className:`${fi}-arrow`}),I.createElement(S,Object.assign({},Yt,{className:ti,prefixCls:fi}),tn||qt(fi,ji,Hi)))}function At(Yt){const{prefixCls:ti}=Yt,fi=ni(Yt,["prefixCls"]),{getPrefixCls:Gt}=I.useContext(E.E_),Si=Gt("popover",ti),[zi,ji]=Mt(Si);return zi(I.createElement(yt,Object.assign({},fi,{prefixCls:Si,hashId:ji})))}var Qt=function(Yt,ti){var fi={};for(var Gt in Yt)Object.prototype.hasOwnProperty.call(Yt,Gt)&&ti.indexOf(Gt)<0&&(fi[Gt]=Yt[Gt]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Si=0,Gt=Object.getOwnPropertySymbols(Yt);Si<Gt.length;Si++)ti.indexOf(Gt[Si])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Gt[Si])&&(fi[Gt[Si]]=Yt[Gt[Si]]);return fi};const si=Yt=>{let{title:ti,content:fi,prefixCls:Gt}=Yt;return I.createElement(I.Fragment,null,ti&&I.createElement("div",{className:`${Gt}-title`},g(ti)),I.createElement("div",{className:`${Gt}-inner-content`},g(fi)))},oi=I.forwardRef((Yt,ti)=>{const{prefixCls:fi,title:Gt,content:Si,overlayClassName:zi,placement:ji="top",trigger:Hi="hover",mouseEnterDelay:tn=.1,mouseLeaveDelay:sn=.1,overlayStyle:Xi={}}=Yt,Oi=Qt(Yt,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:ai}=I.useContext(E.E_),Zt=ai("popover",fi),[Jt,_t]=Mt(Zt),xt=ai(),Ht=u()(zi,_t);return Jt(I.createElement(Ye,Object.assign({placement:ji,trigger:Hi,mouseEnterDelay:tn,mouseLeaveDelay:sn,overlayStyle:Xi},Oi,{prefixCls:Zt,overlayClassName:Ht,ref:ti,overlay:Gt||Si?I.createElement(si,{prefixCls:Zt,title:Gt,content:Si}):null,transitionName:(0,a.mL)(xt,"zoom-big",Oi.transitionName),"data-popover-inject":!0})))});oi._InternalPanelDoNotUseOrYouWillBeFired=At;var mi=oi,bi=t(51432),Ai=t(24832),$i=t(5503),Vi=t(9660),Qi=t(62687);const fn=Yt=>{const{componentCls:ti,iconCls:fi,zIndexPopup:Gt,colorText:Si,colorWarning:zi,marginXXS:ji,marginXS:Hi,fontSize:tn,fontWeightStrong:sn,colorTextHeading:Xi}=Yt;return{[ti]:{zIndex:Gt,color:Si,[`${ti}-message`]:{marginBottom:Hi,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${ti}-message-icon ${fi}`]:{color:zi,fontSize:tn,lineHeight:1,marginInlineEnd:Hi},[`${ti}-title`]:{fontWeight:sn,color:Xi,"&:only-child":{fontWeight:"normal"}},[`${ti}-description`]:{marginTop:ji}},[`${ti}-buttons`]:{textAlign:"end",button:{marginInlineStart:Hi}}}}};var Yi=(0,ne.Z)("Popconfirm",Yt=>fn(Yt),Yt=>{const{zIndexPopupBase:ti}=Yt;return{zIndexPopup:ti+60}}),Pi=function(Yt,ti){var fi={};for(var Gt in Yt)Object.prototype.hasOwnProperty.call(Yt,Gt)&&ti.indexOf(Gt)<0&&(fi[Gt]=Yt[Gt]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Si=0,Gt=Object.getOwnPropertySymbols(Yt);Si<Gt.length;Si++)ti.indexOf(Gt[Si])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Gt[Si])&&(fi[Gt[Si]]=Yt[Gt[Si]]);return fi};const Li=Yt=>{const{prefixCls:ti,okButtonProps:fi,cancelButtonProps:Gt,title:Si,description:zi,cancelText:ji,okText:Hi,okType:tn="primary",icon:sn=I.createElement(f.Z,null),showCancel:Xi=!0,close:Oi,onConfirm:ai,onCancel:Zt,onPopupClick:Jt}=Yt,{getPrefixCls:_t}=I.useContext(E.E_),[xt]=(0,Vi.Z)("Popconfirm",Qi.Z.Popconfirm),Ht=g(Si),at=g(zi);return I.createElement("div",{className:`${ti}-inner-content`,onClick:Jt},I.createElement("div",{className:`${ti}-message`},sn&&I.createElement("span",{className:`${ti}-message-icon`},sn),I.createElement("div",{className:`${ti}-message-text`},Ht&&I.createElement("div",{className:u()(`${ti}-title`)},Ht),at&&I.createElement("div",{className:`${ti}-description`},at))),I.createElement("div",{className:`${ti}-buttons`},Xi&&I.createElement(Ai.ZP,Object.assign({onClick:Zt,size:"small"},Gt),ji!=null?ji:xt==null?void 0:xt.cancelText),I.createElement(bi.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,$i.n)(tn)),fi),actionFn:ai,close:Oi,prefixCls:_t("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},Hi!=null?Hi:xt==null?void 0:xt.okText)))};function gn(Yt){const{prefixCls:ti,placement:fi,className:Gt,style:Si}=Yt,zi=Pi(Yt,["prefixCls","placement","className","style"]),{getPrefixCls:ji}=I.useContext(E.E_),Hi=ji("popconfirm",ti),[tn]=Yi(Hi);return tn(I.createElement(At,{placement:fi,className:u()(Hi,Gt),style:Si,content:I.createElement(Li,Object.assign({prefixCls:Hi},zi))}))}var on=function(Yt,ti){var fi={};for(var Gt in Yt)Object.prototype.hasOwnProperty.call(Yt,Gt)&&ti.indexOf(Gt)<0&&(fi[Gt]=Yt[Gt]);if(Yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Si=0,Gt=Object.getOwnPropertySymbols(Yt);Si<Gt.length;Si++)ti.indexOf(Gt[Si])<0&&Object.prototype.propertyIsEnumerable.call(Yt,Gt[Si])&&(fi[Gt[Si]]=Yt[Gt[Si]]);return fi};const Nn=I.forwardRef((Yt,ti)=>{const{prefixCls:fi,placement:Gt="top",trigger:Si="click",okType:zi="primary",icon:ji=I.createElement(f.Z,null),children:Hi,overlayClassName:tn,onOpenChange:sn,onVisibleChange:Xi}=Yt,Oi=on(Yt,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:ai}=I.useContext(E.E_),[Zt,Jt]=(0,p.Z)(!1,{value:Yt.open,defaultValue:Yt.defaultOpen}),_t=(ae,xe)=>{Jt(ae,!0),Xi==null||Xi(ae),sn==null||sn(ae,xe)},xt=ae=>{_t(!1,ae)},Ht=ae=>{var xe;return(xe=Yt.onConfirm)===null||xe===void 0?void 0:xe.call(void 0,ae)},at=ae=>{var xe;_t(!1,ae),(xe=Yt.onCancel)===null||xe===void 0||xe.call(void 0,ae)},ce=ae=>{ae.keyCode===_.Z.ESC&&Zt&&_t(!1,ae)},We=ae=>{const{disabled:xe=!1}=Yt;xe||_t(ae)},Me=ai("popconfirm",fi),ge=u()(Me,tn),[Q]=Yi(Me);return Q(I.createElement(mi,Object.assign({},(0,V.Z)(Oi,["title"]),{trigger:Si,placement:Gt,onOpenChange:We,open:Zt,ref:ti,overlayClassName:ge,content:I.createElement(Li,Object.assign({okType:zi,icon:ji},Yt,{prefixCls:Me,close:xt,onConfirm:Ht,onCancel:at})),"data-popover-inject":!0}),(0,L.Tm)(Hi,{onKeyDown:ae=>{var xe,Ae;I.isValidElement(Hi)&&((Ae=Hi==null?void 0:(xe=Hi.props).onKeyDown)===null||Ae===void 0||Ae.call(xe,ae)),ce(ae)}})))});Nn._InternalPanelDoNotUseOrYouWillBeFired=gn;var ln=Nn},88926:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return C}});var f=t(72779),O=t.n(f),u=t(2784),_=t(35298),p=t(23685),V=()=>{const[S,N]=u.useState(!1);return u.useEffect(()=>{N((0,p.fk)())},[]),S},I=t(71659);const L=["xxl","xl","lg","md","sm","xs"],E=S=>({xs:`(max-width: ${S.screenXSMax}px)`,sm:`(min-width: ${S.screenSM}px)`,md:`(min-width: ${S.screenMD}px)`,lg:`(min-width: ${S.screenLG}px)`,xl:`(min-width: ${S.screenXL}px)`,xxl:`(min-width: ${S.screenXXL}px)`}),g=S=>{const N=S,P=[].concat(L).reverse();return P.forEach((M,D)=>{const F=M.toUpperCase(),B=`screen${F}Min`,U=`screen${F}`;if(!(N[B]<=N[U]))throw new Error(`${B}<=${U} fails : !(${N[B]}<=${N[U]})`);if(D<P.length-1){const A=`screen${F}Max`;if(!(N[U]<=N[A]))throw new Error(`${U}<=${A} fails : !(${N[U]}<=${N[A]})`);const R=`screen${P[D+1].toUpperCase()}Min`;if(!(N[A]<=N[R]))throw new Error(`${A}<=${R} fails : !(${N[A]}<=${N[R]})`)}}),S};function a(){const[,S]=(0,I.dQ)(),N=E(g(S));return u.useMemo(()=>{const P=new Map;let M=-1,D={};return{matchHandlers:{},dispatch(F){return D=F,P.forEach(B=>B(D)),P.size>=1},subscribe(F){return P.size||this.register(),M+=1,P.set(M,F),F(D),M},unsubscribe(F){P.delete(F),P.size||this.unregister()},unregister(){Object.keys(N).forEach(F=>{const B=N[F],U=this.matchHandlers[B];U==null||U.mql.removeListener(U==null?void 0:U.listener)}),P.clear()},register(){Object.keys(N).forEach(F=>{const B=N[F],U=k=>{let{matches:R}=k;this.dispatch(Object.assign(Object.assign({},D),{[F]:R}))},A=window.matchMedia(B);A.addListener(U),this.matchHandlers[B]={mql:A,listener:U},U(A)})},responsiveMap:N}},[S])}var l=t(80293),d=t(2678),i=function(S,N){var P={};for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&N.indexOf(M)<0&&(P[M]=S[M]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,M=Object.getOwnPropertySymbols(S);D<M.length;D++)N.indexOf(M[D])<0&&Object.prototype.propertyIsEnumerable.call(S,M[D])&&(P[M[D]]=S[M[D]]);return P};const s=null,m=null;function b(S,N){const[P,M]=u.useState(typeof S=="string"?S:""),D=()=>{if(typeof S=="string"&&M(S),typeof S=="object")for(let F=0;F<L.length;F++){const B=L[F];if(!N[B])continue;const U=S[B];if(U!==void 0){M(U);return}}};return u.useEffect(()=>{D()},[JSON.stringify(S),N]),P}var v=u.forwardRef((S,N)=>{const{prefixCls:P,justify:M,align:D,className:F,style:B,children:U,gutter:A=0,wrap:k}=S,R=i(S,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:$,direction:J}=u.useContext(_.E_),[Y,j]=u.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[z,K]=u.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),Z=b(D,z),fe=b(M,z),T=V(),Re=u.useRef(A),Ce=a();u.useEffect(()=>{const we=Ce.subscribe(ve=>{K(ve);const Ne=Re.current||0;(!Array.isArray(Ne)&&typeof Ne=="object"||Array.isArray(Ne)&&(typeof Ne[0]=="object"||typeof Ne[1]=="object"))&&j(ve)});return()=>Ce.unsubscribe(we)},[]);const _e=()=>{const we=[void 0,void 0];return(Array.isArray(A)?A:[A,void 0]).forEach((Ne,$e)=>{if(typeof Ne=="object")for(let Ke=0;Ke<L.length;Ke++){const ze=L[Ke];if(Y[ze]&&Ne[ze]!==void 0){we[$e]=Ne[ze];break}}else we[$e]=Ne}),we},pe=$("row",P),[le,oe]=(0,d.V)(pe),he=_e(),je=O()(pe,{[`${pe}-no-wrap`]:k===!1,[`${pe}-${fe}`]:fe,[`${pe}-${Z}`]:Z,[`${pe}-rtl`]:J==="rtl"},F,oe),Xe={},Ve=he[0]!=null&&he[0]>0?he[0]/-2:void 0,se=he[1]!=null&&he[1]>0?he[1]/-2:void 0;Ve&&(Xe.marginLeft=Ve,Xe.marginRight=Ve),T?[,Xe.rowGap]=he:se&&(Xe.marginTop=se,Xe.marginBottom=se);const[q,Ee]=he,Se=u.useMemo(()=>({gutter:[q,Ee],wrap:k,supportFlexGap:T}),[q,Ee,k,T]);return le(u.createElement(l.Z.Provider,{value:Se},u.createElement("div",Object.assign({},R,{className:je,style:Object.assign(Object.assign({},Xe),B),ref:N}),U)))}),C=v},62220:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return M}});var f=t(72779),O=t.n(f),u=t(94899),_=t(2784);function p(D,F,B){var U=B||{},A=U.noTrailing,k=A===void 0?!1:A,R=U.noLeading,$=R===void 0?!1:R,J=U.debounceMode,Y=J===void 0?void 0:J,j,z=!1,K=0;function Z(){j&&clearTimeout(j)}function fe(Re){var Ce=Re||{},_e=Ce.upcomingOnly,pe=_e===void 0?!1:_e;Z(),z=!pe}function T(){for(var Re=arguments.length,Ce=new Array(Re),_e=0;_e<Re;_e++)Ce[_e]=arguments[_e];var pe=this,le=Date.now()-K;if(z)return;function oe(){K=Date.now(),F.apply(pe,Ce)}function he(){j=void 0}!$&&Y&&!j&&oe(),Z(),Y===void 0&&le>D?$?(K=Date.now(),k||(j=setTimeout(Y?he:oe,D))):oe():k!==!0&&(j=setTimeout(Y?he:oe,Y===void 0?D-le:D))}return T.cancel=fe,T}function V(D,F,B){var U=B||{},A=U.atBegin,k=A===void 0?!1:A;return p(D,F,{debounceMode:k!==!1})}var I=t(29095),L=t(35298),E=t(33569),g=t(44875),a=t(23707),l=t(23773);const d=new E.E4("antSpinMove",{to:{opacity:1}}),i=new E.E4("antRotate",{to:{transform:"rotate(405deg)"}}),s=D=>({[`${D.componentCls}`]:Object.assign(Object.assign({},(0,l.Wf)(D)),{position:"absolute",display:"none",color:D.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${D.motionDurationSlow} ${D.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${D.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:D.contentHeight,[`${D.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-D.spinDotSize/2},[`${D.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(D.spinDotSize-D.fontSize)/2+2,textShadow:`0 1px 2px ${D.colorBgContainer}`,fontSize:D.fontSize},[`&${D.componentCls}-show-text ${D.componentCls}-dot`]:{marginTop:-(D.spinDotSize/2)-10},"&-sm":{[`${D.componentCls}-dot`]:{margin:-D.spinDotSizeSM/2},[`${D.componentCls}-text`]:{paddingTop:(D.spinDotSizeSM-D.fontSize)/2+2},[`&${D.componentCls}-show-text ${D.componentCls}-dot`]:{marginTop:-(D.spinDotSizeSM/2)-10}},"&-lg":{[`${D.componentCls}-dot`]:{margin:-(D.spinDotSizeLG/2)},[`${D.componentCls}-text`]:{paddingTop:(D.spinDotSizeLG-D.fontSize)/2+2},[`&${D.componentCls}-show-text ${D.componentCls}-dot`]:{marginTop:-(D.spinDotSizeLG/2)-10}}},[`${D.componentCls}-container`]:{position:"relative",transition:`opacity ${D.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:D.colorBgContainer,opacity:0,transition:`all ${D.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${D.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none",["&::after"]:{opacity:.4,pointerEvents:"auto"}}},["&-tip"]:{color:D.spinDotDefault},[`${D.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:D.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(D.spinDotSize-D.marginXXS/2)/2,height:(D.spinDotSize-D.marginXXS/2)/2,backgroundColor:D.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:d,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:i,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${D.componentCls}-dot`]:{fontSize:D.spinDotSizeSM,i:{width:(D.spinDotSizeSM-D.marginXXS/2)/2,height:(D.spinDotSizeSM-D.marginXXS/2)/2}},[`&-lg ${D.componentCls}-dot`]:{fontSize:D.spinDotSizeLG,i:{width:(D.spinDotSizeLG-D.marginXXS)/2,height:(D.spinDotSizeLG-D.marginXXS)/2}},[`&${D.componentCls}-show-text ${D.componentCls}-text`]:{display:"block"}})});var m=(0,g.Z)("Spin",D=>{const F=(0,a.TS)(D,{spinDotDefault:D.colorTextDescription,spinDotSize:D.controlHeightLG/2,spinDotSizeSM:D.controlHeightLG*.35,spinDotSizeLG:D.controlHeight});return[s(F)]},{contentHeight:400}),b=function(D,F){var B={};for(var U in D)Object.prototype.hasOwnProperty.call(D,U)&&F.indexOf(U)<0&&(B[U]=D[U]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,U=Object.getOwnPropertySymbols(D);A<U.length;A++)F.indexOf(U[A])<0&&Object.prototype.propertyIsEnumerable.call(D,U[A])&&(B[U[A]]=D[U[A]]);return B};const c=null;let v=null;function C(D,F){const{indicator:B}=F,U=`${D}-dot`;return B===null?null:(0,I.l$)(B)?(0,I.Tm)(B,{className:O()(B.props.className,U)}):(0,I.l$)(v)?(0,I.Tm)(v,{className:O()(v.props.className,U)}):_.createElement("span",{className:O()(U,`${D}-dot-spin`)},_.createElement("i",{className:`${D}-dot-item`}),_.createElement("i",{className:`${D}-dot-item`}),_.createElement("i",{className:`${D}-dot-item`}),_.createElement("i",{className:`${D}-dot-item`}))}function S(D,F){return!!D&&!!F&&!isNaN(Number(F))}const N=D=>{const{spinPrefixCls:F,spinning:B=!0,delay:U=0,className:A,rootClassName:k,size:R="default",tip:$,wrapperClassName:J,style:Y,children:j,hashId:z}=D,K=b(D,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[Z,fe]=_.useState(()=>B&&!S(B,U));_.useEffect(()=>{if(B){const oe=V(U,()=>{fe(!0)});return oe(),()=>{var he;(he=oe==null?void 0:oe.cancel)===null||he===void 0||he.call(oe)}}fe(!1)},[U,B]);const T=_.useMemo(()=>typeof j!="undefined",[j]),{direction:Re}=_.useContext(L.E_),Ce=O()(F,{[`${F}-sm`]:R==="small",[`${F}-lg`]:R==="large",[`${F}-spinning`]:Z,[`${F}-show-text`]:!!$,[`${F}-rtl`]:Re==="rtl"},A,k,z),_e=O()(`${F}-container`,{[`${F}-blur`]:Z}),pe=(0,u.Z)(K,["indicator","prefixCls"]),le=_.createElement("div",Object.assign({},pe,{style:Y,className:Ce,"aria-live":"polite","aria-busy":Z}),C(F,D),$&&T?_.createElement("div",{className:`${F}-text`},$):null);return T?_.createElement("div",Object.assign({},pe,{className:O()(`${F}-nested-loading`,J,z)}),Z&&_.createElement("div",{key:"loading"},le),_.createElement("div",{className:_e,key:"container"},j)):le},P=D=>{const{prefixCls:F}=D,{getPrefixCls:B}=_.useContext(L.E_),U=B("spin",F),[A,k]=m(U),R=Object.assign(Object.assign({},D),{spinPrefixCls:U,hashId:k});return A(_.createElement(N,Object.assign({},R)))};P.setDefaultIndicator=D=>{v=D};var M=P},95766:function(Rt,Be){"use strict";Be.byteLength=I,Be.toByteArray=E,Be.fromByteArray=l;for(var t=[],f=[],O=typeof Uint8Array!="undefined"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,p=u.length;_<p;++_)t[_]=u[_],f[u.charCodeAt(_)]=_;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;function V(d){var i=d.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=d.indexOf("=");s===-1&&(s=i);var m=s===i?0:4-s%4;return[s,m]}function I(d){var i=V(d),s=i[0],m=i[1];return(s+m)*3/4-m}function L(d,i,s){return(i+s)*3/4-s}function E(d){var i,s=V(d),m=s[0],b=s[1],c=new O(L(d,m,b)),v=0,C=b>0?m-4:m,S;for(S=0;S<C;S+=4)i=f[d.charCodeAt(S)]<<18|f[d.charCodeAt(S+1)]<<12|f[d.charCodeAt(S+2)]<<6|f[d.charCodeAt(S+3)],c[v++]=i>>16&255,c[v++]=i>>8&255,c[v++]=i&255;return b===2&&(i=f[d.charCodeAt(S)]<<2|f[d.charCodeAt(S+1)]>>4,c[v++]=i&255),b===1&&(i=f[d.charCodeAt(S)]<<10|f[d.charCodeAt(S+1)]<<4|f[d.charCodeAt(S+2)]>>2,c[v++]=i>>8&255,c[v++]=i&255),c}function g(d){return t[d>>18&63]+t[d>>12&63]+t[d>>6&63]+t[d&63]}function a(d,i,s){for(var m,b=[],c=i;c<s;c+=3)m=(d[c]<<16&16711680)+(d[c+1]<<8&65280)+(d[c+2]&255),b.push(g(m));return b.join("")}function l(d){for(var i,s=d.length,m=s%3,b=[],c=16383,v=0,C=s-m;v<C;v+=c)b.push(a(d,v,v+c>C?C:v+c));return m===1?(i=d[s-1],b.push(t[i>>2]+t[i<<4&63]+"==")):m===2&&(i=(d[s-2]<<8)+d[s-1],b.push(t[i>>10]+t[i>>4&63]+t[i<<2&63]+"=")),b.join("")}},48834:function(Rt,Be,t){"use strict";var f;var O=t(95766),u=t(62333),_=t(79192);Be.lW=L,f=c,Be.h2=50,L.TYPED_ARRAY_SUPPORT=t.g.TYPED_ARRAY_SUPPORT!==void 0?t.g.TYPED_ARRAY_SUPPORT:p(),f=V();function p(){try{var we=new Uint8Array(1);return we.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},we.foo()===42&&typeof we.subarray=="function"&&we.subarray(1,1).byteLength===0}catch(ve){return!1}}function V(){return L.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function I(we,ve){if(V()<ve)throw new RangeError("Invalid typed array length");return L.TYPED_ARRAY_SUPPORT?(we=new Uint8Array(ve),we.__proto__=L.prototype):(we===null&&(we=new L(ve)),we.length=ve),we}function L(we,ve,Ne){if(!L.TYPED_ARRAY_SUPPORT&&!(this instanceof L))return new L(we,ve,Ne);if(typeof we=="number"){if(typeof ve=="string")throw new Error("If encoding is specified then the first argument must be a string");return l(this,we)}return E(this,we,ve,Ne)}L.poolSize=8192,L._augment=function(we){return we.__proto__=L.prototype,we};function E(we,ve,Ne,$e){if(typeof ve=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&ve instanceof ArrayBuffer?s(we,ve,Ne,$e):typeof ve=="string"?d(we,ve,Ne):m(we,ve)}L.from=function(we,ve,Ne){return E(null,we,ve,Ne)},L.TYPED_ARRAY_SUPPORT&&(L.prototype.__proto__=Uint8Array.prototype,L.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&L[Symbol.species]===L&&Object.defineProperty(L,Symbol.species,{value:null,configurable:!0}));function g(we){if(typeof we!="number")throw new TypeError('"size" argument must be a number');if(we<0)throw new RangeError('"size" argument must not be negative')}function a(we,ve,Ne,$e){return g(ve),ve<=0?I(we,ve):Ne!==void 0?typeof $e=="string"?I(we,ve).fill(Ne,$e):I(we,ve).fill(Ne):I(we,ve)}L.alloc=function(we,ve,Ne){return a(null,we,ve,Ne)};function l(we,ve){if(g(ve),we=I(we,ve<0?0:b(ve)|0),!L.TYPED_ARRAY_SUPPORT)for(var Ne=0;Ne<ve;++Ne)we[Ne]=0;return we}L.allocUnsafe=function(we){return l(null,we)},L.allocUnsafeSlow=function(we){return l(null,we)};function d(we,ve,Ne){if((typeof Ne!="string"||Ne==="")&&(Ne="utf8"),!L.isEncoding(Ne))throw new TypeError('"encoding" must be a valid string encoding');var $e=v(ve,Ne)|0;we=I(we,$e);var Ke=we.write(ve,Ne);return Ke!==$e&&(we=we.slice(0,Ke)),we}function i(we,ve){var Ne=ve.length<0?0:b(ve.length)|0;we=I(we,Ne);for(var $e=0;$e<Ne;$e+=1)we[$e]=ve[$e]&255;return we}function s(we,ve,Ne,$e){if(ve.byteLength,Ne<0||ve.byteLength<Ne)throw new RangeError("'offset' is out of bounds");if(ve.byteLength<Ne+($e||0))throw new RangeError("'length' is out of bounds");return Ne===void 0&&$e===void 0?ve=new Uint8Array(ve):$e===void 0?ve=new Uint8Array(ve,Ne):ve=new Uint8Array(ve,Ne,$e),L.TYPED_ARRAY_SUPPORT?(we=ve,we.__proto__=L.prototype):we=i(we,ve),we}function m(we,ve){if(L.isBuffer(ve)){var Ne=b(ve.length)|0;return we=I(we,Ne),we.length===0||ve.copy(we,0,0,Ne),we}if(ve){if(typeof ArrayBuffer!="undefined"&&ve.buffer instanceof ArrayBuffer||"length"in ve)return typeof ve.length!="number"||Se(ve.length)?I(we,0):i(we,ve);if(ve.type==="Buffer"&&_(ve.data))return i(we,ve.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(we){if(we>=V())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V().toString(16)+" bytes");return we|0}function c(we){return+we!=we&&(we=0),L.alloc(+we)}L.isBuffer=function(ve){return!!(ve!=null&&ve._isBuffer)},L.compare=function(ve,Ne){if(!L.isBuffer(ve)||!L.isBuffer(Ne))throw new TypeError("Arguments must be Buffers");if(ve===Ne)return 0;for(var $e=ve.length,Ke=Ne.length,ze=0,He=Math.min($e,Ke);ze<He;++ze)if(ve[ze]!==Ne[ze]){$e=ve[ze],Ke=Ne[ze];break}return $e<Ke?-1:Ke<$e?1:0},L.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},L.concat=function(ve,Ne){if(!_(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(ve.length===0)return L.alloc(0);var $e;if(Ne===void 0)for(Ne=0,$e=0;$e<ve.length;++$e)Ne+=ve[$e].length;var Ke=L.allocUnsafe(Ne),ze=0;for($e=0;$e<ve.length;++$e){var He=ve[$e];if(!L.isBuffer(He))throw new TypeError('"list" argument must be an Array of Buffers');He.copy(Ke,ze),ze+=He.length}return Ke};function v(we,ve){if(L.isBuffer(we))return we.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(we)||we instanceof ArrayBuffer))return we.byteLength;typeof we!="string"&&(we=""+we);var Ne=we.length;if(Ne===0)return 0;for(var $e=!1;;)switch(ve){case"ascii":case"latin1":case"binary":return Ne;case"utf8":case"utf-8":case void 0:return Xe(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne*2;case"hex":return Ne>>>1;case"base64":return q(we).length;default:if($e)return Xe(we).length;ve=(""+ve).toLowerCase(),$e=!0}}L.byteLength=v;function C(we,ve,Ne){var $e=!1;if((ve===void 0||ve<0)&&(ve=0),ve>this.length||((Ne===void 0||Ne>this.length)&&(Ne=this.length),Ne<=0)||(Ne>>>=0,ve>>>=0,Ne<=ve))return"";for(we||(we="utf8");;)switch(we){case"hex":return z(this,ve,Ne);case"utf8":case"utf-8":return R(this,ve,Ne);case"ascii":return Y(this,ve,Ne);case"latin1":case"binary":return j(this,ve,Ne);case"base64":return k(this,ve,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,ve,Ne);default:if($e)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),$e=!0}}L.prototype._isBuffer=!0;function S(we,ve,Ne){var $e=we[ve];we[ve]=we[Ne],we[Ne]=$e}L.prototype.swap16=function(){var ve=this.length;if(ve%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ne=0;Ne<ve;Ne+=2)S(this,Ne,Ne+1);return this},L.prototype.swap32=function(){var ve=this.length;if(ve%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ne=0;Ne<ve;Ne+=4)S(this,Ne,Ne+3),S(this,Ne+1,Ne+2);return this},L.prototype.swap64=function(){var ve=this.length;if(ve%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ne=0;Ne<ve;Ne+=8)S(this,Ne,Ne+7),S(this,Ne+1,Ne+6),S(this,Ne+2,Ne+5),S(this,Ne+3,Ne+4);return this},L.prototype.toString=function(){var ve=this.length|0;return ve===0?"":arguments.length===0?R(this,0,ve):C.apply(this,arguments)},L.prototype.equals=function(ve){if(!L.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve?!0:L.compare(this,ve)===0},L.prototype.inspect=function(){var ve="",Ne=Be.h2;return this.length>0&&(ve=this.toString("hex",0,Ne).match(/.{2}/g).join(" "),this.length>Ne&&(ve+=" ... ")),"<Buffer "+ve+">"},L.prototype.compare=function(ve,Ne,$e,Ke,ze){if(!L.isBuffer(ve))throw new TypeError("Argument must be a Buffer");if(Ne===void 0&&(Ne=0),$e===void 0&&($e=ve?ve.length:0),Ke===void 0&&(Ke=0),ze===void 0&&(ze=this.length),Ne<0||$e>ve.length||Ke<0||ze>this.length)throw new RangeError("out of range index");if(Ke>=ze&&Ne>=$e)return 0;if(Ke>=ze)return-1;if(Ne>=$e)return 1;if(Ne>>>=0,$e>>>=0,Ke>>>=0,ze>>>=0,this===ve)return 0;for(var He=ze-Ke,Le=$e-Ne,de=Math.min(He,Le),ee=this.slice(Ke,ze),ne=ve.slice(Ne,$e),me=0;me<de;++me)if(ee[me]!==ne[me]){He=ee[me],Le=ne[me];break}return He<Le?-1:Le<He?1:0};function N(we,ve,Ne,$e,Ke){if(we.length===0)return-1;if(typeof Ne=="string"?($e=Ne,Ne=0):Ne>2147483647?Ne=2147483647:Ne<-2147483648&&(Ne=-2147483648),Ne=+Ne,isNaN(Ne)&&(Ne=Ke?0:we.length-1),Ne<0&&(Ne=we.length+Ne),Ne>=we.length){if(Ke)return-1;Ne=we.length-1}else if(Ne<0)if(Ke)Ne=0;else return-1;if(typeof ve=="string"&&(ve=L.from(ve,$e)),L.isBuffer(ve))return ve.length===0?-1:P(we,ve,Ne,$e,Ke);if(typeof ve=="number")return ve=ve&255,L.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Ke?Uint8Array.prototype.indexOf.call(we,ve,Ne):Uint8Array.prototype.lastIndexOf.call(we,ve,Ne):P(we,[ve],Ne,$e,Ke);throw new TypeError("val must be string, number or Buffer")}function P(we,ve,Ne,$e,Ke){var ze=1,He=we.length,Le=ve.length;if($e!==void 0&&($e=String($e).toLowerCase(),$e==="ucs2"||$e==="ucs-2"||$e==="utf16le"||$e==="utf-16le")){if(we.length<2||ve.length<2)return-1;ze=2,He/=2,Le/=2,Ne/=2}function de(Pe,ot){return ze===1?Pe[ot]:Pe.readUInt16BE(ot*ze)}var ee;if(Ke){var ne=-1;for(ee=Ne;ee<He;ee++)if(de(we,ee)===de(ve,ne===-1?0:ee-ne)){if(ne===-1&&(ne=ee),ee-ne+1===Le)return ne*ze}else ne!==-1&&(ee-=ee-ne),ne=-1}else for(Ne+Le>He&&(Ne=He-Le),ee=Ne;ee>=0;ee--){for(var me=!0,ue=0;ue<Le;ue++)if(de(we,ee+ue)!==de(ve,ue)){me=!1;break}if(me)return ee}return-1}L.prototype.includes=function(ve,Ne,$e){return this.indexOf(ve,Ne,$e)!==-1},L.prototype.indexOf=function(ve,Ne,$e){return N(this,ve,Ne,$e,!0)},L.prototype.lastIndexOf=function(ve,Ne,$e){return N(this,ve,Ne,$e,!1)};function M(we,ve,Ne,$e){Ne=Number(Ne)||0;var Ke=we.length-Ne;$e?($e=Number($e),$e>Ke&&($e=Ke)):$e=Ke;var ze=ve.length;if(ze%2!==0)throw new TypeError("Invalid hex string");$e>ze/2&&($e=ze/2);for(var He=0;He<$e;++He){var Le=parseInt(ve.substr(He*2,2),16);if(isNaN(Le))return He;we[Ne+He]=Le}return He}function D(we,ve,Ne,$e){return Ee(Xe(ve,we.length-Ne),we,Ne,$e)}function F(we,ve,Ne,$e){return Ee(Ve(ve),we,Ne,$e)}function B(we,ve,Ne,$e){return F(we,ve,Ne,$e)}function U(we,ve,Ne,$e){return Ee(q(ve),we,Ne,$e)}function A(we,ve,Ne,$e){return Ee(se(ve,we.length-Ne),we,Ne,$e)}L.prototype.write=function(ve,Ne,$e,Ke){if(Ne===void 0)Ke="utf8",$e=this.length,Ne=0;else if($e===void 0&&typeof Ne=="string")Ke=Ne,$e=this.length,Ne=0;else if(isFinite(Ne))Ne=Ne|0,isFinite($e)?($e=$e|0,Ke===void 0&&(Ke="utf8")):(Ke=$e,$e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ze=this.length-Ne;if(($e===void 0||$e>ze)&&($e=ze),ve.length>0&&($e<0||Ne<0)||Ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ke||(Ke="utf8");for(var He=!1;;)switch(Ke){case"hex":return M(this,ve,Ne,$e);case"utf8":case"utf-8":return D(this,ve,Ne,$e);case"ascii":return F(this,ve,Ne,$e);case"latin1":case"binary":return B(this,ve,Ne,$e);case"base64":return U(this,ve,Ne,$e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,ve,Ne,$e);default:if(He)throw new TypeError("Unknown encoding: "+Ke);Ke=(""+Ke).toLowerCase(),He=!0}},L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(we,ve,Ne){return ve===0&&Ne===we.length?O.fromByteArray(we):O.fromByteArray(we.slice(ve,Ne))}function R(we,ve,Ne){Ne=Math.min(we.length,Ne);for(var $e=[],Ke=ve;Ke<Ne;){var ze=we[Ke],He=null,Le=ze>239?4:ze>223?3:ze>191?2:1;if(Ke+Le<=Ne){var de,ee,ne,me;switch(Le){case 1:ze<128&&(He=ze);break;case 2:de=we[Ke+1],(de&192)===128&&(me=(ze&31)<<6|de&63,me>127&&(He=me));break;case 3:de=we[Ke+1],ee=we[Ke+2],(de&192)===128&&(ee&192)===128&&(me=(ze&15)<<12|(de&63)<<6|ee&63,me>2047&&(me<55296||me>57343)&&(He=me));break;case 4:de=we[Ke+1],ee=we[Ke+2],ne=we[Ke+3],(de&192)===128&&(ee&192)===128&&(ne&192)===128&&(me=(ze&15)<<18|(de&63)<<12|(ee&63)<<6|ne&63,me>65535&&me<1114112&&(He=me))}}He===null?(He=65533,Le=1):He>65535&&(He-=65536,$e.push(He>>>10&1023|55296),He=56320|He&1023),$e.push(He),Ke+=Le}return J($e)}var $=4096;function J(we){var ve=we.length;if(ve<=$)return String.fromCharCode.apply(String,we);for(var Ne="",$e=0;$e<ve;)Ne+=String.fromCharCode.apply(String,we.slice($e,$e+=$));return Ne}function Y(we,ve,Ne){var $e="";Ne=Math.min(we.length,Ne);for(var Ke=ve;Ke<Ne;++Ke)$e+=String.fromCharCode(we[Ke]&127);return $e}function j(we,ve,Ne){var $e="";Ne=Math.min(we.length,Ne);for(var Ke=ve;Ke<Ne;++Ke)$e+=String.fromCharCode(we[Ke]);return $e}function z(we,ve,Ne){var $e=we.length;(!ve||ve<0)&&(ve=0),(!Ne||Ne<0||Ne>$e)&&(Ne=$e);for(var Ke="",ze=ve;ze<Ne;++ze)Ke+=je(we[ze]);return Ke}function K(we,ve,Ne){for(var $e=we.slice(ve,Ne),Ke="",ze=0;ze<$e.length;ze+=2)Ke+=String.fromCharCode($e[ze]+$e[ze+1]*256);return Ke}L.prototype.slice=function(ve,Ne){var $e=this.length;ve=~~ve,Ne=Ne===void 0?$e:~~Ne,ve<0?(ve+=$e,ve<0&&(ve=0)):ve>$e&&(ve=$e),Ne<0?(Ne+=$e,Ne<0&&(Ne=0)):Ne>$e&&(Ne=$e),Ne<ve&&(Ne=ve);var Ke;if(L.TYPED_ARRAY_SUPPORT)Ke=this.subarray(ve,Ne),Ke.__proto__=L.prototype;else{var ze=Ne-ve;Ke=new L(ze,void 0);for(var He=0;He<ze;++He)Ke[He]=this[He+ve]}return Ke};function Z(we,ve,Ne){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+ve>Ne)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUIntLE=function(ve,Ne,$e){ve=ve|0,Ne=Ne|0,$e||Z(ve,Ne,this.length);for(var Ke=this[ve],ze=1,He=0;++He<Ne&&(ze*=256);)Ke+=this[ve+He]*ze;return Ke},L.prototype.readUIntBE=function(ve,Ne,$e){ve=ve|0,Ne=Ne|0,$e||Z(ve,Ne,this.length);for(var Ke=this[ve+--Ne],ze=1;Ne>0&&(ze*=256);)Ke+=this[ve+--Ne]*ze;return Ke},L.prototype.readUInt8=function(ve,Ne){return Ne||Z(ve,1,this.length),this[ve]},L.prototype.readUInt16LE=function(ve,Ne){return Ne||Z(ve,2,this.length),this[ve]|this[ve+1]<<8},L.prototype.readUInt16BE=function(ve,Ne){return Ne||Z(ve,2,this.length),this[ve]<<8|this[ve+1]},L.prototype.readUInt32LE=function(ve,Ne){return Ne||Z(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+this[ve+3]*16777216},L.prototype.readUInt32BE=function(ve,Ne){return Ne||Z(ve,4,this.length),this[ve]*16777216+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},L.prototype.readIntLE=function(ve,Ne,$e){ve=ve|0,Ne=Ne|0,$e||Z(ve,Ne,this.length);for(var Ke=this[ve],ze=1,He=0;++He<Ne&&(ze*=256);)Ke+=this[ve+He]*ze;return ze*=128,Ke>=ze&&(Ke-=Math.pow(2,8*Ne)),Ke},L.prototype.readIntBE=function(ve,Ne,$e){ve=ve|0,Ne=Ne|0,$e||Z(ve,Ne,this.length);for(var Ke=Ne,ze=1,He=this[ve+--Ke];Ke>0&&(ze*=256);)He+=this[ve+--Ke]*ze;return ze*=128,He>=ze&&(He-=Math.pow(2,8*Ne)),He},L.prototype.readInt8=function(ve,Ne){return Ne||Z(ve,1,this.length),this[ve]&128?(255-this[ve]+1)*-1:this[ve]},L.prototype.readInt16LE=function(ve,Ne){Ne||Z(ve,2,this.length);var $e=this[ve]|this[ve+1]<<8;return $e&32768?$e|4294901760:$e},L.prototype.readInt16BE=function(ve,Ne){Ne||Z(ve,2,this.length);var $e=this[ve+1]|this[ve]<<8;return $e&32768?$e|4294901760:$e},L.prototype.readInt32LE=function(ve,Ne){return Ne||Z(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},L.prototype.readInt32BE=function(ve,Ne){return Ne||Z(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},L.prototype.readFloatLE=function(ve,Ne){return Ne||Z(ve,4,this.length),u.read(this,ve,!0,23,4)},L.prototype.readFloatBE=function(ve,Ne){return Ne||Z(ve,4,this.length),u.read(this,ve,!1,23,4)},L.prototype.readDoubleLE=function(ve,Ne){return Ne||Z(ve,8,this.length),u.read(this,ve,!0,52,8)},L.prototype.readDoubleBE=function(ve,Ne){return Ne||Z(ve,8,this.length),u.read(this,ve,!1,52,8)};function fe(we,ve,Ne,$e,Ke,ze){if(!L.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(ve>Ke||ve<ze)throw new RangeError('"value" argument is out of bounds');if(Ne+$e>we.length)throw new RangeError("Index out of range")}L.prototype.writeUIntLE=function(ve,Ne,$e,Ke){if(ve=+ve,Ne=Ne|0,$e=$e|0,!Ke){var ze=Math.pow(2,8*$e)-1;fe(this,ve,Ne,$e,ze,0)}var He=1,Le=0;for(this[Ne]=ve&255;++Le<$e&&(He*=256);)this[Ne+Le]=ve/He&255;return Ne+$e},L.prototype.writeUIntBE=function(ve,Ne,$e,Ke){if(ve=+ve,Ne=Ne|0,$e=$e|0,!Ke){var ze=Math.pow(2,8*$e)-1;fe(this,ve,Ne,$e,ze,0)}var He=$e-1,Le=1;for(this[Ne+He]=ve&255;--He>=0&&(Le*=256);)this[Ne+He]=ve/Le&255;return Ne+$e},L.prototype.writeUInt8=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,1,255,0),L.TYPED_ARRAY_SUPPORT||(ve=Math.floor(ve)),this[Ne]=ve&255,Ne+1};function T(we,ve,Ne,$e){ve<0&&(ve=65535+ve+1);for(var Ke=0,ze=Math.min(we.length-Ne,2);Ke<ze;++Ke)we[Ne+Ke]=(ve&255<<8*($e?Ke:1-Ke))>>>($e?Ke:1-Ke)*8}L.prototype.writeUInt16LE=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[Ne]=ve&255,this[Ne+1]=ve>>>8):T(this,ve,Ne,!0),Ne+2},L.prototype.writeUInt16BE=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[Ne]=ve>>>8,this[Ne+1]=ve&255):T(this,ve,Ne,!1),Ne+2};function Re(we,ve,Ne,$e){ve<0&&(ve=4294967295+ve+1);for(var Ke=0,ze=Math.min(we.length-Ne,4);Ke<ze;++Ke)we[Ne+Ke]=ve>>>($e?Ke:3-Ke)*8&255}L.prototype.writeUInt32LE=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[Ne+3]=ve>>>24,this[Ne+2]=ve>>>16,this[Ne+1]=ve>>>8,this[Ne]=ve&255):Re(this,ve,Ne,!0),Ne+4},L.prototype.writeUInt32BE=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[Ne]=ve>>>24,this[Ne+1]=ve>>>16,this[Ne+2]=ve>>>8,this[Ne+3]=ve&255):Re(this,ve,Ne,!1),Ne+4},L.prototype.writeIntLE=function(ve,Ne,$e,Ke){if(ve=+ve,Ne=Ne|0,!Ke){var ze=Math.pow(2,8*$e-1);fe(this,ve,Ne,$e,ze-1,-ze)}var He=0,Le=1,de=0;for(this[Ne]=ve&255;++He<$e&&(Le*=256);)ve<0&&de===0&&this[Ne+He-1]!==0&&(de=1),this[Ne+He]=(ve/Le>>0)-de&255;return Ne+$e},L.prototype.writeIntBE=function(ve,Ne,$e,Ke){if(ve=+ve,Ne=Ne|0,!Ke){var ze=Math.pow(2,8*$e-1);fe(this,ve,Ne,$e,ze-1,-ze)}var He=$e-1,Le=1,de=0;for(this[Ne+He]=ve&255;--He>=0&&(Le*=256);)ve<0&&de===0&&this[Ne+He+1]!==0&&(de=1),this[Ne+He]=(ve/Le>>0)-de&255;return Ne+$e},L.prototype.writeInt8=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,1,127,-128),L.TYPED_ARRAY_SUPPORT||(ve=Math.floor(ve)),ve<0&&(ve=255+ve+1),this[Ne]=ve&255,Ne+1},L.prototype.writeInt16LE=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[Ne]=ve&255,this[Ne+1]=ve>>>8):T(this,ve,Ne,!0),Ne+2},L.prototype.writeInt16BE=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[Ne]=ve>>>8,this[Ne+1]=ve&255):T(this,ve,Ne,!1),Ne+2},L.prototype.writeInt32LE=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,4,2147483647,-2147483648),L.TYPED_ARRAY_SUPPORT?(this[Ne]=ve&255,this[Ne+1]=ve>>>8,this[Ne+2]=ve>>>16,this[Ne+3]=ve>>>24):Re(this,ve,Ne,!0),Ne+4},L.prototype.writeInt32BE=function(ve,Ne,$e){return ve=+ve,Ne=Ne|0,$e||fe(this,ve,Ne,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),L.TYPED_ARRAY_SUPPORT?(this[Ne]=ve>>>24,this[Ne+1]=ve>>>16,this[Ne+2]=ve>>>8,this[Ne+3]=ve&255):Re(this,ve,Ne,!1),Ne+4};function Ce(we,ve,Ne,$e,Ke,ze){if(Ne+$e>we.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("Index out of range")}function _e(we,ve,Ne,$e,Ke){return Ke||Ce(we,ve,Ne,4,34028234663852886e22,-34028234663852886e22),u.write(we,ve,Ne,$e,23,4),Ne+4}L.prototype.writeFloatLE=function(ve,Ne,$e){return _e(this,ve,Ne,!0,$e)},L.prototype.writeFloatBE=function(ve,Ne,$e){return _e(this,ve,Ne,!1,$e)};function pe(we,ve,Ne,$e,Ke){return Ke||Ce(we,ve,Ne,8,17976931348623157e292,-17976931348623157e292),u.write(we,ve,Ne,$e,52,8),Ne+8}L.prototype.writeDoubleLE=function(ve,Ne,$e){return pe(this,ve,Ne,!0,$e)},L.prototype.writeDoubleBE=function(ve,Ne,$e){return pe(this,ve,Ne,!1,$e)},L.prototype.copy=function(ve,Ne,$e,Ke){if($e||($e=0),!Ke&&Ke!==0&&(Ke=this.length),Ne>=ve.length&&(Ne=ve.length),Ne||(Ne=0),Ke>0&&Ke<$e&&(Ke=$e),Ke===$e||ve.length===0||this.length===0)return 0;if(Ne<0)throw new RangeError("targetStart out of bounds");if($e<0||$e>=this.length)throw new RangeError("sourceStart out of bounds");if(Ke<0)throw new RangeError("sourceEnd out of bounds");Ke>this.length&&(Ke=this.length),ve.length-Ne<Ke-$e&&(Ke=ve.length-Ne+$e);var ze=Ke-$e,He;if(this===ve&&$e<Ne&&Ne<Ke)for(He=ze-1;He>=0;--He)ve[He+Ne]=this[He+$e];else if(ze<1e3||!L.TYPED_ARRAY_SUPPORT)for(He=0;He<ze;++He)ve[He+Ne]=this[He+$e];else Uint8Array.prototype.set.call(ve,this.subarray($e,$e+ze),Ne);return ze},L.prototype.fill=function(ve,Ne,$e,Ke){if(typeof ve=="string"){if(typeof Ne=="string"?(Ke=Ne,Ne=0,$e=this.length):typeof $e=="string"&&(Ke=$e,$e=this.length),ve.length===1){var ze=ve.charCodeAt(0);ze<256&&(ve=ze)}if(Ke!==void 0&&typeof Ke!="string")throw new TypeError("encoding must be a string");if(typeof Ke=="string"&&!L.isEncoding(Ke))throw new TypeError("Unknown encoding: "+Ke)}else typeof ve=="number"&&(ve=ve&255);if(Ne<0||this.length<Ne||this.length<$e)throw new RangeError("Out of range index");if($e<=Ne)return this;Ne=Ne>>>0,$e=$e===void 0?this.length:$e>>>0,ve||(ve=0);var He;if(typeof ve=="number")for(He=Ne;He<$e;++He)this[He]=ve;else{var Le=L.isBuffer(ve)?ve:Xe(new L(ve,Ke).toString()),de=Le.length;for(He=0;He<$e-Ne;++He)this[He+Ne]=Le[He%de]}return this};var le=/[^+\/0-9A-Za-z-_]/g;function oe(we){if(we=he(we).replace(le,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function he(we){return we.trim?we.trim():we.replace(/^\s+|\s+$/g,"")}function je(we){return we<16?"0"+we.toString(16):we.toString(16)}function Xe(we,ve){ve=ve||1/0;for(var Ne,$e=we.length,Ke=null,ze=[],He=0;He<$e;++He){if(Ne=we.charCodeAt(He),Ne>55295&&Ne<57344){if(!Ke){if(Ne>56319){(ve-=3)>-1&&ze.push(239,191,189);continue}else if(He+1===$e){(ve-=3)>-1&&ze.push(239,191,189);continue}Ke=Ne;continue}if(Ne<56320){(ve-=3)>-1&&ze.push(239,191,189),Ke=Ne;continue}Ne=(Ke-55296<<10|Ne-56320)+65536}else Ke&&(ve-=3)>-1&&ze.push(239,191,189);if(Ke=null,Ne<128){if((ve-=1)<0)break;ze.push(Ne)}else if(Ne<2048){if((ve-=2)<0)break;ze.push(Ne>>6|192,Ne&63|128)}else if(Ne<65536){if((ve-=3)<0)break;ze.push(Ne>>12|224,Ne>>6&63|128,Ne&63|128)}else if(Ne<1114112){if((ve-=4)<0)break;ze.push(Ne>>18|240,Ne>>12&63|128,Ne>>6&63|128,Ne&63|128)}else throw new Error("Invalid code point")}return ze}function Ve(we){for(var ve=[],Ne=0;Ne<we.length;++Ne)ve.push(we.charCodeAt(Ne)&255);return ve}function se(we,ve){for(var Ne,$e,Ke,ze=[],He=0;He<we.length&&!((ve-=2)<0);++He)Ne=we.charCodeAt(He),$e=Ne>>8,Ke=Ne%256,ze.push(Ke),ze.push($e);return ze}function q(we){return O.toByteArray(oe(we))}function Ee(we,ve,Ne,$e){for(var Ke=0;Ke<$e&&!(Ke+Ne>=ve.length||Ke>=we.length);++Ke)ve[Ke+Ne]=we[Ke];return Ke}function Se(we){return we!==we}},79192:function(Rt){var Be={}.toString;Rt.exports=Array.isArray||function(t){return Be.call(t)=="[object Array]"}},62333:function(Rt,Be){Be.read=function(t,f,O,u,_){var p,V,I=_*8-u-1,L=(1<<I)-1,E=L>>1,g=-7,a=O?_-1:0,l=O?-1:1,d=t[f+a];for(a+=l,p=d&(1<<-g)-1,d>>=-g,g+=I;g>0;p=p*256+t[f+a],a+=l,g-=8);for(V=p&(1<<-g)-1,p>>=-g,g+=u;g>0;V=V*256+t[f+a],a+=l,g-=8);if(p===0)p=1-E;else{if(p===L)return V?NaN:(d?-1:1)*(1/0);V=V+Math.pow(2,u),p=p-E}return(d?-1:1)*V*Math.pow(2,p-u)},Be.write=function(t,f,O,u,_,p){var V,I,L,E=p*8-_-1,g=(1<<E)-1,a=g>>1,l=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=u?0:p-1,i=u?1:-1,s=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(I=isNaN(f)?1:0,V=g):(V=Math.floor(Math.log(f)/Math.LN2),f*(L=Math.pow(2,-V))<1&&(V--,L*=2),V+a>=1?f+=l/L:f+=l*Math.pow(2,1-a),f*L>=2&&(V++,L/=2),V+a>=g?(I=0,V=g):V+a>=1?(I=(f*L-1)*Math.pow(2,_),V=V+a):(I=f*Math.pow(2,a-1)*Math.pow(2,_),V=0));_>=8;t[O+d]=I&255,d+=i,I/=256,_-=8);for(V=V<<_|I,E+=_;E>0;t[O+d]=V&255,d+=i,V/=256,E-=8);t[O+d-i]|=s*128}},46342:function(Rt,Be,t){self.MonacoEnvironment=function(f){function O(u){return u.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(u,_){var p=t.p,V=(p?O(p)+"/":"")+f[_];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(V)){var I=String(window.location),L=I.substr(0,I.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(V.substring(0,L.length)!==L){/^(\/\/)/.test(V)&&(V=window.location.protocol+V);var E="/*"+_+'*/importScripts("'+V+'");',g=new Blob([E],{type:"application/javascript"});return URL.createObjectURL(g)}}return V}}}({editorWorkerService:"editor.worker.js",json:"json.worker.js"}),t(59110),t(91845),t(78295),t(68076),t(65253),t(75845),t(78788),t(58927),t(40650),t(53114),t(76471),t(21678),t(39994),t(74744),t(57042),t(30233),t(23543),t(80995),t(27293),t(58579),t(46249),t(60849),t(56993),t(29571),t(55843),t(59227),t(83776),t(5566),t(99006),t(32262),t(4328),t(63883),t(75807),t(27804),t(29213),t(77352),t(58997),t(33814),t(77723),t(28188),t(44091),t(85809),t(49127),t(47707),t(25778),t(70374),t(22289),t(58988),t(65329),t(28211),t(31046),t(3156),t(22270),t(69542),t(59970),t(87112),t(21664),t(63198),t(94689),t(34928),t(66408),t(61180),Rt.exports=t(21186),t(7481)},71488:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{PixelRatio:function(){return L},addMatchMediaChangeListener:function(){return I},getZoomFactor:function(){return E},isAndroid:function(){return b},isChrome:function(){return d},isElectron:function(){return m},isFirefox:function(){return a},isSafari:function(){return i},isStandalone:function(){return v},isWebKit:function(){return l},isWebkitWebView:function(){return s}});var f=t(56709),O=t(38431);class u{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}u.INSTANCE=new u;class _ extends O.JT{constructor(){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(S){var N;(N=this._mediaQueryList)===null||N===void 0||N.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),S&&this._onDidChange.fire()}}class p extends O.JT{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const S=this._register(new _);this._register(S.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const S=document.createElement("canvas").getContext("2d"),N=window.devicePixelRatio||1,P=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return N/P}}class V{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,O.dk)(new p)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function I(C,S){typeof C=="string"&&(C=window.matchMedia(C)),C.addEventListener("change",S)}const L=new V;function E(){return u.INSTANCE.getZoomFactor()}const g=navigator.userAgent,a=g.indexOf("Firefox")>=0,l=g.indexOf("AppleWebKit")>=0,d=g.indexOf("Chrome")>=0,i=!d&&g.indexOf("Safari")>=0,s=!d&&!i&&l,m=g.indexOf("Electron/")>=0,b=g.indexOf("Android")>=0;let c=!1;if(window.matchMedia){const C=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),S=window.matchMedia("(display-mode: fullscreen)");c=C.matches,I(C,({matches:N})=>{c&&S.matches||(c=N)})}function v(){return c}},83092:function(Rt,Be,t){"use strict";t.d(Be,{D:function(){return u}});var f=t(71488),O=t(11138);const u={clipboard:{writeText:O.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:O.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>O.tY||f.isStandalone()?0:navigator.keyboard||f.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},89181:function(Rt,Be,t){"use strict";t.d(Be,{g:function(){return O}});var f=t(9161);const O={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:f.v.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},34441:function(Rt,Be,t){"use strict";t.d(Be,{$:function(){return ee},$Z:function(){return me},Ay:function(){return Ce},Ce:function(){return Ke},Cp:function(){return ue},D6:function(){return F},Dx:function(){return D},FK:function(){return Y},Fx:function(){return Z},GQ:function(){return c},I8:function(){return $},If:function(){return j},OO:function(){return Re},PO:function(){return a},R3:function(){return $e},Re:function(){return Ve},Ro:function(){return U},Uh:function(){return Pe},Uw:function(){return l},V3:function(){return ot},XT:function(){return st},_0:function(){return we},_F:function(){return It},_h:function(){return tt},_q:function(){return Ct},cl:function(){return q},dS:function(){return pe},dp:function(){return k},eg:function(){return gi},fk:function(){return je},go:function(){return Ne},h:function(){return Ye},i:function(){return R},iJ:function(){return ne},jL:function(){return P},jg:function(){return K},jt:function(){return gt},lI:function(){return N},mc:function(){return ze},mu:function(){return b},nm:function(){return i},sQ:function(){return Wt},tw:function(){return se},uN:function(){return Xe},uU:function(){return fe},vL:function(){return Se},vY:function(){return _e},w:function(){return J},wY:function(){return nt},wn:function(){return z},xQ:function(){return A},zB:function(){return Ee}});var f=t(71488),O=t(83092),u=t(6544),_=t(64079),p=t(20996),V=t(56709),I=t(29278),L=t(38431),E=t(5007),g=t(11138);function a(dt){for(;dt.firstChild;)dt.firstChild.remove()}function l(dt){var bt;return(bt=dt==null?void 0:dt.isConnected)!==null&&bt!==void 0?bt:!1}class d{constructor(bt,Mt,ni,qt){this._node=bt,this._type=Mt,this._handler=ni,this._options=qt||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function i(dt,bt,Mt,ni){return new d(dt,bt,Mt,ni)}function s(dt){return function(bt){return dt(new _.n(bt))}}function m(dt){return function(bt){return dt(new u.y(bt))}}const b=function(bt,Mt,ni,qt){let yt=ni;return Mt==="click"||Mt==="mousedown"?yt=s(ni):(Mt==="keydown"||Mt==="keypress"||Mt==="keyup")&&(yt=m(ni)),i(bt,Mt,yt,qt)},c=function(bt,Mt,ni){const qt=s(Mt);return C(bt,qt,ni)},v=function(bt,Mt,ni){const qt=s(Mt);return S(bt,qt,ni)};function C(dt,bt,Mt){return i(dt,g.gn&&O.D.pointerEvents?se.POINTER_DOWN:se.MOUSE_DOWN,bt,Mt)}function S(dt,bt,Mt){return i(dt,platform.isIOS&&BrowserFeatures.pointerEvents?se.POINTER_UP:se.MOUSE_UP,bt,Mt)}let N,P;class M{constructor(bt,Mt=0){this._runner=bt,this.priority=Mt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(bt){(0,p.dL)(bt)}}static sort(bt,Mt){return Mt.priority-bt.priority}}(function(){let dt=[],bt=null,Mt=!1,ni=!1;const qt=()=>{for(Mt=!1,bt=dt,dt=[],ni=!0;bt.length>0;)bt.sort(M.sort),bt.shift().execute();ni=!1};P=(yt,At=0)=>{const Qt=new M(yt,At);return dt.push(Qt),Mt||(Mt=!0,requestAnimationFrame(qt)),Qt},N=(yt,At)=>{if(ni){const Qt=new M(yt,At);return bt.push(Qt),Qt}else return P(yt,At)}})();function D(dt){return document.defaultView.getComputedStyle(dt,null)}function F(dt){if(dt!==document.body)return new U(dt.clientWidth,dt.clientHeight);if(g.gn&&window.visualViewport)return new U(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new U(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new U(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new U(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class B{static convertToPixels(bt,Mt){return parseFloat(Mt)||0}static getDimension(bt,Mt,ni){const qt=D(bt),yt=qt?qt.getPropertyValue(Mt):"0";return B.convertToPixels(bt,yt)}static getBorderLeftWidth(bt){return B.getDimension(bt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(bt){return B.getDimension(bt,"border-right-width","borderRightWidth")}static getBorderTopWidth(bt){return B.getDimension(bt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(bt){return B.getDimension(bt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(bt){return B.getDimension(bt,"padding-left","paddingLeft")}static getPaddingRight(bt){return B.getDimension(bt,"padding-right","paddingRight")}static getPaddingTop(bt){return B.getDimension(bt,"padding-top","paddingTop")}static getPaddingBottom(bt){return B.getDimension(bt,"padding-bottom","paddingBottom")}static getMarginLeft(bt){return B.getDimension(bt,"margin-left","marginLeft")}static getMarginTop(bt){return B.getDimension(bt,"margin-top","marginTop")}static getMarginRight(bt){return B.getDimension(bt,"margin-right","marginRight")}static getMarginBottom(bt){return B.getDimension(bt,"margin-bottom","marginBottom")}}class U{constructor(bt,Mt){this.width=bt,this.height=Mt}with(bt=this.width,Mt=this.height){return bt!==this.width||Mt!==this.height?new U(bt,Mt):this}static is(bt){return typeof bt=="object"&&typeof bt.height=="number"&&typeof bt.width=="number"}static lift(bt){return bt instanceof U?bt:new U(bt.width,bt.height)}static equals(bt,Mt){return bt===Mt?!0:!bt||!Mt?!1:bt.width===Mt.width&&bt.height===Mt.height}}U.None=new U(0,0);function A(dt){let bt=dt.offsetParent,Mt=dt.offsetTop,ni=dt.offsetLeft;for(;(dt=dt.parentNode)!==null&&dt!==document.body&&dt!==document.documentElement;){Mt-=dt.scrollTop;const qt=T(dt)?null:D(dt);qt&&(ni-=qt.direction!=="rtl"?dt.scrollLeft:-dt.scrollLeft),dt===bt&&(ni+=B.getBorderLeftWidth(dt),Mt+=B.getBorderTopWidth(dt),Mt+=dt.offsetTop,ni+=dt.offsetLeft,bt=dt.offsetParent)}return{left:ni,top:Mt}}function k(dt,bt,Mt){typeof bt=="number"&&(dt.style.width=`${bt}px`),typeof Mt=="number"&&(dt.style.height=`${Mt}px`)}function R(dt){const bt=dt.getBoundingClientRect();return{left:bt.left+window.scrollX,top:bt.top+window.scrollY,width:bt.width,height:bt.height}}function $(dt){let bt=dt,Mt=1;do{const ni=D(bt).zoom;ni!=null&&ni!=="1"&&(Mt*=ni),bt=bt.parentElement}while(bt!==null&&bt!==document.documentElement);return Mt}function J(dt){const bt=B.getMarginLeft(dt)+B.getMarginRight(dt);return dt.offsetWidth+bt}function Y(dt){const bt=B.getBorderLeftWidth(dt)+B.getBorderRightWidth(dt),Mt=B.getPaddingLeft(dt)+B.getPaddingRight(dt);return dt.offsetWidth-bt-Mt}function j(dt){const bt=B.getBorderTopWidth(dt)+B.getBorderBottomWidth(dt),Mt=B.getPaddingTop(dt)+B.getPaddingBottom(dt);return dt.offsetHeight-bt-Mt}function z(dt){const bt=B.getMarginTop(dt)+B.getMarginBottom(dt);return dt.offsetHeight+bt}function K(dt,bt){for(;dt;){if(dt===bt)return!0;dt=dt.parentNode}return!1}function Z(dt,bt,Mt){for(;dt&&dt.nodeType===dt.ELEMENT_NODE;){if(dt.classList.contains(bt))return dt;if(Mt){if(typeof Mt=="string"){if(dt.classList.contains(Mt))return null}else if(dt===Mt)return null}dt=dt.parentNode}return null}function fe(dt,bt,Mt){return!!Z(dt,bt,Mt)}function T(dt){return dt&&!!dt.host&&!!dt.mode}function Re(dt){return!!Ce(dt)}function Ce(dt){for(;dt.parentNode;){if(dt===document.body)return null;dt=dt.parentNode}return T(dt)?dt:null}function _e(){let dt=document.activeElement;for(;dt!=null&&dt.shadowRoot;)dt=dt.shadowRoot.activeElement;return dt}function pe(dt=document.getElementsByTagName("head")[0],bt){const Mt=document.createElement("style");return Mt.type="text/css",Mt.media="screen",bt==null||bt(Mt),dt.appendChild(Mt),Mt}let le=null;function oe(){return le||(le=pe()),le}function he(dt){var bt,Mt;return!((bt=dt==null?void 0:dt.sheet)===null||bt===void 0)&&bt.rules?dt.sheet.rules:!((Mt=dt==null?void 0:dt.sheet)===null||Mt===void 0)&&Mt.cssRules?dt.sheet.cssRules:[]}function je(dt,bt,Mt=oe()){!Mt||!bt||Mt.sheet.insertRule(dt+"{"+bt+"}",0)}function Xe(dt,bt=oe()){if(!bt)return;const Mt=he(bt),ni=[];for(let qt=0;qt<Mt.length;qt++)Mt[qt].selectorText.indexOf(dt)!==-1&&ni.push(qt);for(let qt=ni.length-1;qt>=0;qt--)bt.sheet.deleteRule(ni[qt])}function Ve(dt){return typeof HTMLElement=="object"?dt instanceof HTMLElement:dt&&typeof dt=="object"&&dt.nodeType===1&&typeof dt.nodeName=="string"}const se={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:f.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:f.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:f.isWebKit?"webkitAnimationIteration":"animationiteration"};function q(dt){const bt=dt;return!!(bt&&typeof bt.preventDefault=="function"&&typeof bt.stopPropagation=="function")}const Ee={stop:(dt,bt)=>(dt.preventDefault(),bt&&dt.stopPropagation(),dt)};function Se(dt){const bt=[];for(let Mt=0;dt&&dt.nodeType===dt.ELEMENT_NODE;Mt++)bt[Mt]=dt.scrollTop,dt=dt.parentNode;return bt}function we(dt,bt){for(let Mt=0;dt&&dt.nodeType===dt.ELEMENT_NODE;Mt++)dt.scrollTop!==bt[Mt]&&(dt.scrollTop=bt[Mt]),dt=dt.parentNode}class ve extends L.JT{static hasFocusWithin(bt){const Mt=Ce(bt),ni=Mt?Mt.activeElement:document.activeElement;return K(ni,bt)}constructor(bt){super(),this._onDidFocus=this._register(new V.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new V.Q5),this.onDidBlur=this._onDidBlur.event;let Mt=ve.hasFocusWithin(bt),ni=!1;const qt=()=>{ni=!1,Mt||(Mt=!0,this._onDidFocus.fire())},yt=()=>{Mt&&(ni=!0,window.setTimeout(()=>{ni&&(ni=!1,Mt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ve.hasFocusWithin(bt)!==Mt&&(Mt?yt():qt())},this._register(i(bt,se.FOCUS,qt,!0)),this._register(i(bt,se.BLUR,yt,!0)),this._register(i(bt,se.FOCUS_IN,()=>this._refreshStateHandler())),this._register(i(bt,se.FOCUS_OUT,()=>this._refreshStateHandler()))}}function Ne(dt){return new ve(dt)}function $e(dt,...bt){if(dt.append(...bt),bt.length===1&&typeof bt[0]!="string")return bt[0]}function Ke(dt,bt){return dt.insertBefore(bt,dt.firstChild),bt}function ze(dt,...bt){dt.innerText="",$e(dt,...bt)}const He=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Le;(function(dt){dt.HTML="http://www.w3.org/1999/xhtml",dt.SVG="http://www.w3.org/2000/svg"})(Le||(Le={}));function de(dt,bt,Mt,...ni){const qt=He.exec(bt);if(!qt)throw new Error("Bad use of emmet");const yt=qt[1]||"div";let At;return dt!==Le.HTML?At=document.createElementNS(dt,yt):At=document.createElement(yt),qt[3]&&(At.id=qt[3]),qt[4]&&(At.className=qt[4].replace(/\./g," ").trim()),Mt&&Object.entries(Mt).forEach(([Qt,si])=>{typeof si!="undefined"&&(/^on\w+$/.test(Qt)?At[Qt]=si:Qt==="selected"?si&&At.setAttribute(Qt,"true"):At.setAttribute(Qt,si))}),At.append(...ni),At}function ee(dt,bt,...Mt){return de(Le.HTML,dt,bt,...Mt)}ee.SVG=function(dt,bt,...Mt){return de(Le.SVG,dt,bt,...Mt)};function ne(dt,...bt){dt?me(...bt):ue(...bt)}function me(...dt){for(const bt of dt)bt.style.display="",bt.removeAttribute("aria-hidden")}function ue(...dt){for(const bt of dt)bt.style.display="none",bt.setAttribute("aria-hidden","true")}function Pe(dt){const bt=window.devicePixelRatio*dt;return Math.max(1,Math.floor(bt))/window.devicePixelRatio}function ot(dt){window.open(dt,"_blank","noopener")}function gt(dt){const bt=()=>{dt(),Mt=P(bt)};let Mt=P(bt);return(0,L.OF)(()=>Mt.dispose())}E.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function nt(dt){return dt?`url('${E.Gi.uriToBrowserUri(dt).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function tt(dt){return`'${dt.replace(/'/g,"%27")}'`}function st(dt,bt){if(dt!==void 0){const Mt=dt.match(/^\s*var\((.+)\)$/);if(Mt){const ni=Mt[1].split(",",2);return ni.length===2&&(bt=st(ni[1].trim(),bt)),`var(${ni[0]}, ${bt})`}return dt}return bt}function It(dt,bt=!1){const Mt=document.createElement("a");return I.v5("afterSanitizeAttributes",ni=>{for(const qt of["href","src"])if(ni.hasAttribute(qt)){const yt=ni.getAttribute(qt);if(qt==="href"&&yt.startsWith("#"))continue;if(Mt.href=yt,!dt.includes(Mt.protocol.replace(/:$/,""))){if(bt&&qt==="src"&&Mt.href.startsWith("data:"))continue;ni.removeAttribute(qt)}}}),(0,L.OF)(()=>{I.ok("afterSanitizeAttributes")})}const Wt=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),Vt=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Ct extends V.Q5{constructor(){super(),this._subscriptions=new L.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(i(window,"keydown",bt=>{if(bt.defaultPrevented)return;const Mt=new u.y(bt);if(!(Mt.keyCode===6&&bt.repeat)){if(bt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(bt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(bt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(bt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Mt.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=bt.altKey,this._keyStatus.ctrlKey=bt.ctrlKey,this._keyStatus.metaKey=bt.metaKey,this._keyStatus.shiftKey=bt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=bt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(i(window,"keyup",bt=>{bt.defaultPrevented||(!bt.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!bt.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!bt.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!bt.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=bt.altKey,this._keyStatus.ctrlKey=bt.ctrlKey,this._keyStatus.metaKey=bt.metaKey,this._keyStatus.shiftKey=bt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=bt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(i(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(i(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(i(document.body,"mousemove",bt=>{bt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(i(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ct.instance||(Ct.instance=new Ct),Ct.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class gi extends L.JT{constructor(bt,Mt){super(),this.element=bt,this.callbacks=Mt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(i(this.element,se.DRAG_ENTER,bt=>{this.counter++,this.dragStartTime=bt.timeStamp,this.callbacks.onDragEnter(bt)})),this._register(i(this.element,se.DRAG_OVER,bt=>{var Mt,ni;bt.preventDefault(),(ni=(Mt=this.callbacks).onDragOver)===null||ni===void 0||ni.call(Mt,bt,bt.timeStamp-this.dragStartTime)})),this._register(i(this.element,se.DRAG_LEAVE,bt=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(bt))})),this._register(i(this.element,se.DRAG_END,bt=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(bt)})),this._register(i(this.element,se.DROP,bt=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(bt)}))}}const jt=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function Ye(dt,...bt){let Mt,ni;Array.isArray(bt[0])?(Mt={},ni=bt[0]):(Mt=bt[0]||{},ni=bt[1]);const qt=jt.exec(dt);if(!qt||!qt.groups)throw new Error("Bad use of h");const yt=qt.groups.tag||"div",At=document.createElement(yt);qt.groups.id&&(At.id=qt.groups.id);const Qt=[];if(qt.groups.class)for(const oi of qt.groups.class.split("."))oi!==""&&Qt.push(oi);if(Mt.className!==void 0)for(const oi of Mt.className.split("."))oi!==""&&Qt.push(oi);Qt.length>0&&(At.className=Qt.join(" "));const si={};if(qt.groups.name&&(si[qt.groups.name]=At),ni)for(const oi of ni)oi instanceof HTMLElement?At.appendChild(oi):typeof oi=="string"?At.append(oi):"root"in oi&&(Object.assign(si,oi),At.appendChild(oi.root));for(const[oi,mi]of Object.entries(Mt))if(oi!=="className")if(oi==="style")for(const[bi,Ai]of Object.entries(mi))At.style.setProperty(ut(bi),typeof Ai=="number"?Ai+"px":""+Ai);else oi==="tabIndex"?At.tabIndex=mi:At.setAttribute(ut(oi),mi.toString());return si.root=At,si}function ut(dt){return dt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},29278:function(Rt,Be,t){"use strict";t.d(Be,{Nw:function(){return we},ok:function(){return ze},v5:function(){return Ke}});function f(de){if(Array.isArray(de)){for(var ee=0,ne=Array(de.length);ee<de.length;ee++)ne[ee]=de[ee];return ne}else return Array.from(de)}var O=Object.hasOwnProperty,u=Object.setPrototypeOf,_=Object.isFrozen,p=Object.getPrototypeOf,V=Object.getOwnPropertyDescriptor,I=Object.freeze,L=Object.seal,E=Object.create,g=typeof Reflect!="undefined"&&Reflect,a=g.apply,l=g.construct;a||(a=function(ee,ne,me){return ee.apply(ne,me)}),I||(I=function(ee){return ee}),L||(L=function(ee){return ee}),l||(l=function(ee,ne){return new(Function.prototype.bind.apply(ee,[null].concat(f(ne))))});var d=P(Array.prototype.forEach),i=P(Array.prototype.pop),s=P(Array.prototype.push),m=P(String.prototype.toLowerCase),b=P(String.prototype.match),c=P(String.prototype.replace),v=P(String.prototype.indexOf),C=P(String.prototype.trim),S=P(RegExp.prototype.test),N=M(TypeError);function P(de){return function(ee){for(var ne=arguments.length,me=Array(ne>1?ne-1:0),ue=1;ue<ne;ue++)me[ue-1]=arguments[ue];return a(de,ee,me)}}function M(de){return function(){for(var ee=arguments.length,ne=Array(ee),me=0;me<ee;me++)ne[me]=arguments[me];return l(de,ne)}}function D(de,ee){u&&u(de,null);for(var ne=ee.length;ne--;){var me=ee[ne];if(typeof me=="string"){var ue=m(me);ue!==me&&(_(ee)||(ee[ne]=ue),me=ue)}de[me]=!0}return de}function F(de){var ee=E(null),ne=void 0;for(ne in de)a(O,de,[ne])&&(ee[ne]=de[ne]);return ee}function B(de,ee){for(;de!==null;){var ne=V(de,ee);if(ne){if(ne.get)return P(ne.get);if(typeof ne.value=="function")return P(ne.value)}de=p(de)}function me(ue){return console.warn("fallback value for",ue),null}return me}var U=I(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=I(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),k=I(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=I(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=I(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),J=I(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Y=I(["#text"]),j=I(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=I(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),K=I(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Z=I(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fe=L(/\{\{[\s\S]*|[\s\S]*\}\}/gm),T=L(/<%[\s\S]*|[\s\S]*%>/gm),Re=L(/^data-[\-\w.\u00B7-\uFFFF]/),Ce=L(/^aria-[\-\w]+$/),_e=L(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pe=L(/^(?:\w+script|data):/i),le=L(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de};function he(de){if(Array.isArray(de)){for(var ee=0,ne=Array(de.length);ee<de.length;ee++)ne[ee]=de[ee];return ne}else return Array.from(de)}var je=function(){return typeof window=="undefined"?null:window},Xe=function(ee,ne){if((typeof ee=="undefined"?"undefined":oe(ee))!=="object"||typeof ee.createPolicy!="function")return null;var me=null,ue="data-tt-policy-suffix";ne.currentScript&&ne.currentScript.hasAttribute(ue)&&(me=ne.currentScript.getAttribute(ue));var Pe="dompurify"+(me?"#"+me:"");try{return ee.createPolicy(Pe,{createHTML:function(gt){return gt}})}catch(ot){return console.warn("TrustedTypes policy "+Pe+" could not be created."),null}};function Ve(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:je(),ee=function(wi){return Ve(wi)};if(ee.version="2.3.1",ee.removed=[],!de||!de.document||de.document.nodeType!==9)return ee.isSupported=!1,ee;var ne=de.document,me=de.document,ue=de.DocumentFragment,Pe=de.HTMLTemplateElement,ot=de.Node,gt=de.Element,nt=de.NodeFilter,tt=de.NamedNodeMap,st=tt===void 0?de.NamedNodeMap||de.MozNamedAttrMap:tt,It=de.Text,Wt=de.Comment,Vt=de.DOMParser,Ct=de.trustedTypes,gi=gt.prototype,jt=B(gi,"cloneNode"),Ye=B(gi,"nextSibling"),ut=B(gi,"childNodes"),dt=B(gi,"parentNode");if(typeof Pe=="function"){var bt=me.createElement("template");bt.content&&bt.content.ownerDocument&&(me=bt.content.ownerDocument)}var Mt=Xe(Ct,ne),ni=Mt&&Oi?Mt.createHTML(""):"",qt=me,yt=qt.implementation,At=qt.createNodeIterator,Qt=qt.createDocumentFragment,si=qt.getElementsByTagName,oi=ne.importNode,mi={};try{mi=F(me).documentMode?me.documentMode:{}}catch(mn){}var bi={};ee.isSupported=typeof dt=="function"&&yt&&typeof yt.createHTMLDocument!="undefined"&&mi!==9;var Ai=fe,$i=T,Vi=Re,Qi=Ce,fn=pe,Yi=le,Pi=_e,Li=null,gn=D({},[].concat(he(U),he(A),he(k),he($),he(Y))),on=null,Nn=D({},[].concat(he(j),he(z),he(K),he(Z))),ln=null,Yt=null,ti=!0,fi=!0,Gt=!1,Si=!1,zi=!1,ji=!1,Hi=!1,tn=!1,sn=!1,Xi=!0,Oi=!1,ai=!0,Zt=!0,Jt=!1,_t={},xt=null,Ht=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),at=null,ce=D({},["audio","video","img","source","image","track"]),We=null,Me=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",Q="http://www.w3.org/2000/svg",ae="http://www.w3.org/1999/xhtml",xe=ae,Ae=!1,Je=null,vt=me.createElement("form"),St=function(wi){Je&&Je===wi||((!wi||(typeof wi=="undefined"?"undefined":oe(wi))!=="object")&&(wi={}),wi=F(wi),Li="ALLOWED_TAGS"in wi?D({},wi.ALLOWED_TAGS):gn,on="ALLOWED_ATTR"in wi?D({},wi.ALLOWED_ATTR):Nn,We="ADD_URI_SAFE_ATTR"in wi?D(F(Me),wi.ADD_URI_SAFE_ATTR):Me,at="ADD_DATA_URI_TAGS"in wi?D(F(ce),wi.ADD_DATA_URI_TAGS):ce,xt="FORBID_CONTENTS"in wi?D({},wi.FORBID_CONTENTS):Ht,ln="FORBID_TAGS"in wi?D({},wi.FORBID_TAGS):{},Yt="FORBID_ATTR"in wi?D({},wi.FORBID_ATTR):{},_t="USE_PROFILES"in wi?wi.USE_PROFILES:!1,ti=wi.ALLOW_ARIA_ATTR!==!1,fi=wi.ALLOW_DATA_ATTR!==!1,Gt=wi.ALLOW_UNKNOWN_PROTOCOLS||!1,Si=wi.SAFE_FOR_TEMPLATES||!1,zi=wi.WHOLE_DOCUMENT||!1,tn=wi.RETURN_DOM||!1,sn=wi.RETURN_DOM_FRAGMENT||!1,Xi=wi.RETURN_DOM_IMPORT!==!1,Oi=wi.RETURN_TRUSTED_TYPE||!1,Hi=wi.FORCE_BODY||!1,ai=wi.SANITIZE_DOM!==!1,Zt=wi.KEEP_CONTENT!==!1,Jt=wi.IN_PLACE||!1,Pi=wi.ALLOWED_URI_REGEXP||Pi,xe=wi.NAMESPACE||ae,Si&&(fi=!1),sn&&(tn=!0),_t&&(Li=D({},[].concat(he(Y))),on=[],_t.html===!0&&(D(Li,U),D(on,j)),_t.svg===!0&&(D(Li,A),D(on,z),D(on,Z)),_t.svgFilters===!0&&(D(Li,k),D(on,z),D(on,Z)),_t.mathMl===!0&&(D(Li,$),D(on,K),D(on,Z))),wi.ADD_TAGS&&(Li===gn&&(Li=F(Li)),D(Li,wi.ADD_TAGS)),wi.ADD_ATTR&&(on===Nn&&(on=F(on)),D(on,wi.ADD_ATTR)),wi.ADD_URI_SAFE_ATTR&&D(We,wi.ADD_URI_SAFE_ATTR),wi.FORBID_CONTENTS&&(xt===Ht&&(xt=F(xt)),D(xt,wi.FORBID_CONTENTS)),Zt&&(Li["#text"]=!0),zi&&D(Li,["html","head","body"]),Li.table&&(D(Li,["tbody"]),delete ln.tbody),I&&I(wi),Je=wi)},wt=D({},["mi","mo","mn","ms","mtext"]),Lt=D({},["foreignobject","desc","title","annotation-xml"]),Bt=D({},A);D(Bt,k),D(Bt,R);var ei=D({},$);D(ei,J);var pi=function(wi){var Fi=dt(wi);(!Fi||!Fi.tagName)&&(Fi={namespaceURI:ae,tagName:"template"});var rn=m(wi.tagName),jn=m(Fi.tagName);if(wi.namespaceURI===Q)return Fi.namespaceURI===ae?rn==="svg":Fi.namespaceURI===ge?rn==="svg"&&(jn==="annotation-xml"||wt[jn]):!!Bt[rn];if(wi.namespaceURI===ge)return Fi.namespaceURI===ae?rn==="math":Fi.namespaceURI===Q?rn==="math"&&Lt[jn]:!!ei[rn];if(wi.namespaceURI===ae){if(Fi.namespaceURI===Q&&!Lt[jn]||Fi.namespaceURI===ge&&!wt[jn])return!1;var ns=D({},["title","style","font","a","script"]);return!ei[rn]&&(ns[rn]||!Bt[rn])}return!1},di=function(wi){s(ee.removed,{element:wi});try{wi.parentNode.removeChild(wi)}catch(Fi){try{wi.outerHTML=ni}catch(rn){wi.remove()}}},hi=function(wi,Fi){try{s(ee.removed,{attribute:Fi.getAttributeNode(wi),from:Fi})}catch(rn){s(ee.removed,{attribute:null,from:Fi})}if(Fi.removeAttribute(wi),wi==="is"&&!on[wi])if(tn||sn)try{di(Fi)}catch(rn){}else try{Fi.setAttribute(wi,"")}catch(rn){}},yi=function(wi){var Fi=void 0,rn=void 0;if(Hi)wi="<remove></remove>"+wi;else{var jn=b(wi,/^[\r\n\t ]+/);rn=jn&&jn[0]}var ns=Mt?Mt.createHTML(wi):wi;if(xe===ae)try{Fi=new Vt().parseFromString(ns,"text/html")}catch(Ms){}if(!Fi||!Fi.documentElement){Fi=yt.createDocument(xe,"template",null);try{Fi.documentElement.innerHTML=Ae?"":ns}catch(Ms){}}var ys=Fi.body||Fi.documentElement;return wi&&rn&&ys.insertBefore(me.createTextNode(rn),ys.childNodes[0]||null),xe===ae?si.call(Fi,zi?"html":"body")[0]:zi?Fi.documentElement:ys},Bi=function(wi){return At.call(wi.ownerDocument||wi,wi,nt.SHOW_ELEMENT|nt.SHOW_COMMENT|nt.SHOW_TEXT,null,!1)},ki=function(wi){return wi instanceof It||wi instanceof Wt?!1:typeof wi.nodeName!="string"||typeof wi.textContent!="string"||typeof wi.removeChild!="function"||!(wi.attributes instanceof st)||typeof wi.removeAttribute!="function"||typeof wi.setAttribute!="function"||typeof wi.namespaceURI!="string"||typeof wi.insertBefore!="function"},Wi=function(wi){return(typeof ot=="undefined"?"undefined":oe(ot))==="object"?wi instanceof ot:wi&&(typeof wi=="undefined"?"undefined":oe(wi))==="object"&&typeof wi.nodeType=="number"&&typeof wi.nodeName=="string"},Ri=function(wi,Fi,rn){bi[wi]&&d(bi[wi],function(jn){jn.call(ee,Fi,rn,Je)})},Cn=function(wi){var Fi=void 0;if(Ri("beforeSanitizeElements",wi,null),ki(wi)||b(wi.nodeName,/[\u0080-\uFFFF]/))return di(wi),!0;var rn=m(wi.nodeName);if(Ri("uponSanitizeElement",wi,{tagName:rn,allowedTags:Li}),!Wi(wi.firstElementChild)&&(!Wi(wi.content)||!Wi(wi.content.firstElementChild))&&S(/<[/\w]/g,wi.innerHTML)&&S(/<[/\w]/g,wi.textContent)||rn==="select"&&S(/<template/i,wi.innerHTML))return di(wi),!0;if(!Li[rn]||ln[rn]){if(Zt&&!xt[rn]){var jn=dt(wi)||wi.parentNode,ns=ut(wi)||wi.childNodes;if(ns&&jn)for(var ys=ns.length,Ms=ys-1;Ms>=0;--Ms)jn.insertBefore(jt(ns[Ms],!0),Ye(wi))}return di(wi),!0}return wi instanceof gt&&!pi(wi)||(rn==="noscript"||rn==="noembed")&&S(/<\/no(script|embed)/i,wi.innerHTML)?(di(wi),!0):(Si&&wi.nodeType===3&&(Fi=wi.textContent,Fi=c(Fi,Ai," "),Fi=c(Fi,$i," "),wi.textContent!==Fi&&(s(ee.removed,{element:wi.cloneNode()}),wi.textContent=Fi)),Ri("afterSanitizeElements",wi,null),!1)},ts=function(wi,Fi,rn){if(ai&&(Fi==="id"||Fi==="name")&&(rn in me||rn in vt))return!1;if(!(fi&&!Yt[Fi]&&S(Vi,Fi))){if(!(ti&&S(Qi,Fi))){if(!on[Fi]||Yt[Fi])return!1;if(!We[Fi]){if(!S(Pi,c(rn,Yi,""))){if(!((Fi==="src"||Fi==="xlink:href"||Fi==="href")&&wi!=="script"&&v(rn,"data:")===0&&at[wi])){if(!(Gt&&!S(fn,c(rn,Yi,"")))){if(rn)return!1}}}}}}return!0},Hn=function(wi){var Fi=void 0,rn=void 0,jn=void 0,ns=void 0;Ri("beforeSanitizeAttributes",wi,null);var ys=wi.attributes;if(ys){var Ms={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:on};for(ns=ys.length;ns--;){Fi=ys[ns];var ws=Fi,Mn=ws.name,Ds=ws.namespaceURI;if(rn=C(Fi.value),jn=m(Mn),Ms.attrName=jn,Ms.attrValue=rn,Ms.keepAttr=!0,Ms.forceKeepAttr=void 0,Ri("uponSanitizeAttribute",wi,Ms),rn=Ms.attrValue,!Ms.forceKeepAttr&&(hi(Mn,wi),!!Ms.keepAttr)){if(S(/\/>/i,rn)){hi(Mn,wi);continue}Si&&(rn=c(rn,Ai," "),rn=c(rn,$i," "));var oo=wi.nodeName.toLowerCase();if(ts(oo,jn,rn))try{Ds?wi.setAttributeNS(Ds,Mn,rn):wi.setAttribute(Mn,rn),i(ee.removed)}catch(Eo){}}}Ri("afterSanitizeAttributes",wi,null)}},Ss=function mn(wi){var Fi=void 0,rn=Bi(wi);for(Ri("beforeSanitizeShadowDOM",wi,null);Fi=rn.nextNode();)Ri("uponSanitizeShadowNode",Fi,null),!Cn(Fi)&&(Fi.content instanceof ue&&mn(Fi.content),Hn(Fi));Ri("afterSanitizeShadowDOM",wi,null)};return ee.sanitize=function(mn,wi){var Fi=void 0,rn=void 0,jn=void 0,ns=void 0,ys=void 0;if(Ae=!mn,Ae&&(mn="<!-->"),typeof mn!="string"&&!Wi(mn)){if(typeof mn.toString!="function")throw N("toString is not a function");if(mn=mn.toString(),typeof mn!="string")throw N("dirty is not a string, aborting")}if(!ee.isSupported){if(oe(de.toStaticHTML)==="object"||typeof de.toStaticHTML=="function"){if(typeof mn=="string")return de.toStaticHTML(mn);if(Wi(mn))return de.toStaticHTML(mn.outerHTML)}return mn}if(ji||St(wi),ee.removed=[],typeof mn=="string"&&(Jt=!1),!Jt)if(mn instanceof ot)Fi=yi("<!---->"),rn=Fi.ownerDocument.importNode(mn,!0),rn.nodeType===1&&rn.nodeName==="BODY"||rn.nodeName==="HTML"?Fi=rn:Fi.appendChild(rn);else{if(!tn&&!Si&&!zi&&mn.indexOf("<")===-1)return Mt&&Oi?Mt.createHTML(mn):mn;if(Fi=yi(mn),!Fi)return tn?null:ni}Fi&&Hi&&di(Fi.firstChild);for(var Ms=Bi(Jt?mn:Fi);jn=Ms.nextNode();)jn.nodeType===3&&jn===ns||Cn(jn)||(jn.content instanceof ue&&Ss(jn.content),Hn(jn),ns=jn);if(ns=null,Jt)return mn;if(tn){if(sn)for(ys=Qt.call(Fi.ownerDocument);Fi.firstChild;)ys.appendChild(Fi.firstChild);else ys=Fi;return Xi&&(ys=oi.call(ne,ys,!0)),ys}var ws=zi?Fi.outerHTML:Fi.innerHTML;return Si&&(ws=c(ws,Ai," "),ws=c(ws,$i," ")),Mt&&Oi?Mt.createHTML(ws):ws},ee.setConfig=function(mn){St(mn),ji=!0},ee.clearConfig=function(){Je=null,ji=!1},ee.isValidAttribute=function(mn,wi,Fi){Je||St({});var rn=m(mn),jn=m(wi);return ts(rn,jn,Fi)},ee.addHook=function(mn,wi){typeof wi=="function"&&(bi[mn]=bi[mn]||[],s(bi[mn],wi))},ee.removeHook=function(mn){bi[mn]&&i(bi[mn])},ee.removeHooks=function(mn){bi[mn]&&(bi[mn]=[])},ee.removeAllHooks=function(){bi={}},ee}var se=Ve(),q=null;const Ee=se.version,Se=se.isSupported,we=se.sanitize,ve=se.setConfig,Ne=se.clearConfig,$e=se.isValidAttribute,Ke=se.addHook,ze=se.removeHook,He=se.removeHooks,Le=se.removeAllHooks},54505:function(Rt,Be,t){"use strict";t.d(Be,{Y:function(){return O}});var f=t(56709);class O{get event(){return this.emitter.event}constructor(_,p,V){const I=L=>this.emitter.fire(L);this.emitter=new f.Q5({onWillAddFirstListener:()=>_.addEventListener(p,I,V),onDidRemoveLastListener:()=>_.removeEventListener(p,I,V)})}dispose(){this.emitter.dispose()}}},34733:function(Rt,Be,t){"use strict";t.d(Be,{X:function(){return u},Z:function(){return f}});class f{constructor(p){this.domNode=p,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(p){const V=O(p);this._maxWidth!==V&&(this._maxWidth=V,this.domNode.style.maxWidth=this._maxWidth)}setWidth(p){const V=O(p);this._width!==V&&(this._width=V,this.domNode.style.width=this._width)}setHeight(p){const V=O(p);this._height!==V&&(this._height=V,this.domNode.style.height=this._height)}setTop(p){const V=O(p);this._top!==V&&(this._top=V,this.domNode.style.top=this._top)}setLeft(p){const V=O(p);this._left!==V&&(this._left=V,this.domNode.style.left=this._left)}setBottom(p){const V=O(p);this._bottom!==V&&(this._bottom=V,this.domNode.style.bottom=this._bottom)}setRight(p){const V=O(p);this._right!==V&&(this._right=V,this.domNode.style.right=this._right)}setPaddingLeft(p){const V=O(p);this._paddingLeft!==V&&(this._paddingLeft=V,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(p){this._fontFamily!==p&&(this._fontFamily=p,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(p){this._fontWeight!==p&&(this._fontWeight=p,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(p){const V=O(p);this._fontSize!==V&&(this._fontSize=V,this.domNode.style.fontSize=this._fontSize)}setFontStyle(p){this._fontStyle!==p&&(this._fontStyle=p,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(p){this._fontFeatureSettings!==p&&(this._fontFeatureSettings=p,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(p){this._fontVariationSettings!==p&&(this._fontVariationSettings=p,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(p){this._textDecoration!==p&&(this._textDecoration=p,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(p){const V=O(p);this._lineHeight!==V&&(this._lineHeight=V,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(p){const V=O(p);this._letterSpacing!==V&&(this._letterSpacing=V,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(p){this._className!==p&&(this._className=p,this.domNode.className=this._className)}toggleClassName(p,V){this.domNode.classList.toggle(p,V),this._className=this.domNode.className}setDisplay(p){this._display!==p&&(this._display=p,this.domNode.style.display=this._display)}setPosition(p){this._position!==p&&(this._position=p,this.domNode.style.position=this._position)}setVisibility(p){this._visibility!==p&&(this._visibility=p,this.domNode.style.visibility=this._visibility)}setColor(p){this._color!==p&&(this._color=p,this.domNode.style.color=this._color)}setBackgroundColor(p){this._backgroundColor!==p&&(this._backgroundColor=p,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(p){this._layerHint!==p&&(this._layerHint=p,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(p){this._boxShadow!==p&&(this._boxShadow=p,this.domNode.style.boxShadow=p)}setContain(p){this._contain!==p&&(this._contain=p,this.domNode.style.contain=this._contain)}setAttribute(p,V){this.domNode.setAttribute(p,V)}removeAttribute(p){this.domNode.removeAttribute(p)}appendChild(p){this.domNode.appendChild(p.domNode)}removeChild(p){this.domNode.removeChild(p.domNode)}}function O(_){return typeof _=="number"?`${_}px`:_}function u(_){return new f(_)}},66578:function(Rt,Be,t){"use strict";t.d(Be,{BO:function(){return u},IY:function(){return O},az:function(){return _}});var f=t(34441);function O(g,a={}){const l=_(a);return l.textContent=g,l}function u(g,a={}){const l=_(a);return V(l,I(g,!!a.renderCodeSegments),a.actionHandler,a.renderCodeSegments),l}function _(g){const a=g.inline?"span":"div",l=document.createElement(a);return g.className&&(l.className=g.className),l}class p{constructor(a){this.source=a,this.index=0}eos(){return this.index>=this.source.length}next(){const a=this.peek();return this.advance(),a}peek(){return this.source[this.index]}advance(){this.index++}}function V(g,a,l,d){let i;if(a.type===2)i=document.createTextNode(a.content||"");else if(a.type===3)i=document.createElement("b");else if(a.type===4)i=document.createElement("i");else if(a.type===7&&d)i=document.createElement("code");else if(a.type===5&&l){const s=document.createElement("a");l.disposables.add(f.mu(s,"click",m=>{l.callback(String(a.index),m)})),i=s}else a.type===8?i=document.createElement("br"):a.type===1&&(i=g);i&&g!==i&&g.appendChild(i),i&&Array.isArray(a.children)&&a.children.forEach(s=>{V(i,s,l,d)})}function I(g,a){const l={type:1,children:[]};let d=0,i=l;const s=[],m=new p(g);for(;!m.eos();){let b=m.next();const c=b==="\\"&&E(m.peek(),a)!==0;if(c&&(b=m.next()),!c&&L(b,a)&&b===m.peek()){m.advance(),i.type===2&&(i=s.pop());const v=E(b,a);if(i.type===v||i.type===5&&v===6)i=s.pop();else{const C={type:v,children:[]};v===5&&(C.index=d,d++),i.children.push(C),s.push(i),i=C}}else if(b===`
`)i.type===2&&(i=s.pop()),i.children.push({type:8});else if(i.type!==2){const v={type:2,content:b};i.children.push(v),s.push(i),i=v}else i.content+=b}return i.type===2&&(i=s.pop()),s.length,l}function L(g,a){return E(g,a)!==0}function E(g,a){switch(g){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return a?7:0;default:return 0}}},97314:function(Rt,Be,t){"use strict";t.d(Be,{C:function(){return u}});var f=t(34441),O=t(38431);class u{constructor(){this._hooks=new O.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(p,V){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const I=this._onStopCallback;this._onStopCallback=null,p&&I&&I(V)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(p,V,I,L,E){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=L,this._onStopCallback=E;let g=p;try{p.setPointerCapture(V),this._hooks.add((0,O.OF)(()=>{try{p.releasePointerCapture(V)}catch(a){}}))}catch(a){g=window}this._hooks.add(f.nm(g,f.tw.POINTER_MOVE,a=>{if(a.buttons!==I){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(f.nm(g,f.tw.POINTER_UP,a=>this.stopMonitoring(!0)))}}},6544:function(Rt,Be,t){"use strict";t.d(Be,{y:function(){return g}});var f=t(71488),O=t(94880),u=t(21994),_=t(11138);function p(a){if(a.charCode){const d=String.fromCharCode(a.charCode).toUpperCase();return O.kL.fromString(d)}const l=a.keyCode;if(l===3)return 7;if(f.isFirefox)switch(l){case 59:return 85;case 60:if(_.IJ)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(_.dz)return 57;break}else if(f.isWebKit){if(_.dz&&l===93)return 57;if(!_.dz&&l===92)return 57}return O.H_[l]||0}const V=_.dz?256:2048,I=512,L=1024,E=_.dz?2048:256;class g{constructor(l){this._standardKeyboardEventBrand=!0;const d=l;this.browserEvent=d,this.target=d.target,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.altGraphKey=d.getModifierState("AltGraph"),this.keyCode=p(d),this.code=d.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(l){return this._asKeybinding===l}_computeKeybinding(){let l=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(l=this.keyCode);let d=0;return this.ctrlKey&&(d|=V),this.altKey&&(d|=I),this.shiftKey&&(d|=L),this.metaKey&&(d|=E),d|=l,d}_computeKeyCodeChord(){let l=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(l=this.keyCode),new u.$M(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,l)}}},10786:function(Rt,Be,t){"use strict";t.d(Be,{ap:function(){return fe},et:function(){return le}});var f=t(34441),O=t(29278),u=t(54505),_=t(66578),p=t(6544),V=t(64079),I=t(19111),L=t(20996),E=t(56709),g=t(69008),a=t(5858),l=t(6100),d=t(51280),i=t(38431);let s={};(function(){function Le(de,ee){ee(s)}Le.amd=!0,function(de,ee){typeof Le=="function"&&Le.amd?Le(["exports"],ee):typeof exports=="object"?ee(exports):(de=typeof globalThis!="undefined"?globalThis:de||self,ee(de.marked={}))}(this,function(de){"use strict";function ee(ai,Zt){for(var Jt=0;Jt<Zt.length;Jt++){var _t=Zt[Jt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(ai,_t.key,_t)}}function ne(ai,Zt,Jt){return Zt&&ee(ai.prototype,Zt),Jt&&ee(ai,Jt),Object.defineProperty(ai,"prototype",{writable:!1}),ai}function me(ai,Zt){if(ai){if(typeof ai=="string")return ue(ai,Zt);var Jt=Object.prototype.toString.call(ai).slice(8,-1);if(Jt==="Object"&&ai.constructor&&(Jt=ai.constructor.name),Jt==="Map"||Jt==="Set")return Array.from(ai);if(Jt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Jt))return ue(ai,Zt)}}function ue(ai,Zt){(Zt==null||Zt>ai.length)&&(Zt=ai.length);for(var Jt=0,_t=new Array(Zt);Jt<Zt;Jt++)_t[Jt]=ai[Jt];return _t}function Pe(ai,Zt){var Jt=typeof Symbol!="undefined"&&ai[Symbol.iterator]||ai["@@iterator"];if(Jt)return(Jt=Jt.call(ai)).next.bind(Jt);if(Array.isArray(ai)||(Jt=me(ai))||Zt&&ai&&typeof ai.length=="number"){Jt&&(ai=Jt);var _t=0;return function(){return _t>=ai.length?{done:!0}:{done:!1,value:ai[_t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}de.defaults=ot();function gt(ai){de.defaults=ai}var nt=/[&<>"']/,tt=/[&<>"']/g,st=/[<>"']|&(?!#?\w+;)/,It=/[<>"']|&(?!#?\w+;)/g,Wt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vt=function(Zt){return Wt[Zt]};function Ct(ai,Zt){if(Zt){if(nt.test(ai))return ai.replace(tt,Vt)}else if(st.test(ai))return ai.replace(It,Vt);return ai}var gi=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function jt(ai){return ai.replace(gi,function(Zt,Jt){return Jt=Jt.toLowerCase(),Jt==="colon"?":":Jt.charAt(0)==="#"?Jt.charAt(1)==="x"?String.fromCharCode(parseInt(Jt.substring(2),16)):String.fromCharCode(+Jt.substring(1)):""})}var Ye=/(^|[^\[])\^/g;function ut(ai,Zt){ai=typeof ai=="string"?ai:ai.source,Zt=Zt||"";var Jt={replace:function(xt,Ht){return Ht=Ht.source||Ht,Ht=Ht.replace(Ye,"$1"),ai=ai.replace(xt,Ht),Jt},getRegex:function(){return new RegExp(ai,Zt)}};return Jt}var dt=/[^\w:]/g,bt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Mt(ai,Zt,Jt){if(ai){var _t;try{_t=decodeURIComponent(jt(Jt)).replace(dt,"").toLowerCase()}catch(xt){return null}if(_t.indexOf("javascript:")===0||_t.indexOf("vbscript:")===0||_t.indexOf("data:")===0)return null}Zt&&!bt.test(Jt)&&(Jt=Qt(Zt,Jt));try{Jt=encodeURI(Jt).replace(/%25/g,"%")}catch(xt){return null}return Jt}var ni={},qt=/^[^:]+:\/*[^/]*$/,yt=/^([^:]+:)[\s\S]*$/,At=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Qt(ai,Zt){ni[" "+ai]||(qt.test(ai)?ni[" "+ai]=ai+"/":ni[" "+ai]=bi(ai,"/",!0)),ai=ni[" "+ai];var Jt=ai.indexOf(":")===-1;return Zt.substring(0,2)==="//"?Jt?Zt:ai.replace(yt,"$1")+Zt:Zt.charAt(0)==="/"?Jt?Zt:ai.replace(At,"$1")+Zt:ai+Zt}var si={exec:function(){}};function oi(ai){for(var Zt=1,Jt,_t;Zt<arguments.length;Zt++){Jt=arguments[Zt];for(_t in Jt)Object.prototype.hasOwnProperty.call(Jt,_t)&&(ai[_t]=Jt[_t])}return ai}function mi(ai,Zt){var Jt=ai.replace(/\|/g,function(Ht,at,ce){for(var We=!1,Me=at;--Me>=0&&ce[Me]==="\\";)We=!We;return We?"|":" |"}),_t=Jt.split(/ \|/),xt=0;if(_t[0].trim()||_t.shift(),_t.length>0&&!_t[_t.length-1].trim()&&_t.pop(),_t.length>Zt)_t.splice(Zt);else for(;_t.length<Zt;)_t.push("");for(;xt<_t.length;xt++)_t[xt]=_t[xt].trim().replace(/\\\|/g,"|");return _t}function bi(ai,Zt,Jt){var _t=ai.length;if(_t===0)return"";for(var xt=0;xt<_t;){var Ht=ai.charAt(_t-xt-1);if(Ht===Zt&&!Jt)xt++;else if(Ht!==Zt&&Jt)xt++;else break}return ai.slice(0,_t-xt)}function Ai(ai,Zt){if(ai.indexOf(Zt[1])===-1)return-1;for(var Jt=ai.length,_t=0,xt=0;xt<Jt;xt++)if(ai[xt]==="\\")xt++;else if(ai[xt]===Zt[0])_t++;else if(ai[xt]===Zt[1]&&(_t--,_t<0))return xt;return-1}function $i(ai){ai&&ai.sanitize&&!ai.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Vi(ai,Zt){if(Zt<1)return"";for(var Jt="";Zt>1;)Zt&1&&(Jt+=ai),Zt>>=1,ai+=ai;return Jt+ai}function Qi(ai,Zt,Jt,_t){var xt=Zt.href,Ht=Zt.title?Ct(Zt.title):null,at=ai[1].replace(/\\([\[\]])/g,"$1");if(ai[0].charAt(0)!=="!"){_t.state.inLink=!0;var ce={type:"link",raw:Jt,href:xt,title:Ht,text:at,tokens:_t.inlineTokens(at)};return _t.state.inLink=!1,ce}return{type:"image",raw:Jt,href:xt,title:Ht,text:Ct(at)}}function fn(ai,Zt){var Jt=ai.match(/^(\s+)(?:```)/);if(Jt===null)return Zt;var _t=Jt[1];return Zt.split(`
`).map(function(xt){var Ht=xt.match(/^\s+/);if(Ht===null)return xt;var at=Ht[0];return at.length>=_t.length?xt.slice(_t.length):xt}).join(`
`)}var Yi=function(){function ai(Jt){this.options=Jt||de.defaults}var Zt=ai.prototype;return Zt.space=function(_t){var xt=this.rules.block.newline.exec(_t);if(xt&&xt[0].length>0)return{type:"space",raw:xt[0]}},Zt.code=function(_t){var xt=this.rules.block.code.exec(_t);if(xt){var Ht=xt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:xt[0],codeBlockStyle:"indented",text:this.options.pedantic?Ht:bi(Ht,`
`)}}},Zt.fences=function(_t){var xt=this.rules.block.fences.exec(_t);if(xt){var Ht=xt[0],at=fn(Ht,xt[3]||"");return{type:"code",raw:Ht,lang:xt[2]?xt[2].trim():xt[2],text:at}}},Zt.heading=function(_t){var xt=this.rules.block.heading.exec(_t);if(xt){var Ht=xt[2].trim();if(/#$/.test(Ht)){var at=bi(Ht,"#");(this.options.pedantic||!at||/ $/.test(at))&&(Ht=at.trim())}return{type:"heading",raw:xt[0],depth:xt[1].length,text:Ht,tokens:this.lexer.inline(Ht)}}},Zt.hr=function(_t){var xt=this.rules.block.hr.exec(_t);if(xt)return{type:"hr",raw:xt[0]}},Zt.blockquote=function(_t){var xt=this.rules.block.blockquote.exec(_t);if(xt){var Ht=xt[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:xt[0],tokens:this.lexer.blockTokens(Ht,[]),text:Ht}}},Zt.list=function(_t){var xt=this.rules.block.list.exec(_t);if(xt){var Ht,at,ce,We,Me,ge,Q,ae,xe,Ae,Je,vt,St=xt[1].trim(),wt=St.length>1,Lt={type:"list",raw:"",ordered:wt,start:wt?+St.slice(0,-1):"",loose:!1,items:[]};St=wt?"\\d{1,9}\\"+St.slice(-1):"\\"+St,this.options.pedantic&&(St=wt?St:"[*+-]");for(var Bt=new RegExp("^( {0,3}"+St+")((?:[	 ][^\\n]*)?(?:\\n|$))");_t&&(vt=!1,!(!(xt=Bt.exec(_t))||this.rules.block.hr.test(_t)));){if(Ht=xt[0],_t=_t.substring(Ht.length),ae=xt[2].split(`
`,1)[0],xe=_t.split(`
`,1)[0],this.options.pedantic?(We=2,Je=ae.trimLeft()):(We=xt[2].search(/[^ ]/),We=We>4?1:We,Je=ae.slice(We),We+=xt[1].length),ge=!1,!ae&&/^ *$/.test(xe)&&(Ht+=xe+`
`,_t=_t.substring(xe.length+1),vt=!0),!vt)for(var ei=new RegExp("^ {0,"+Math.min(3,We-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),pi=new RegExp("^ {0,"+Math.min(3,We-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),di=new RegExp("^ {0,"+Math.min(3,We-1)+"}(?:```|~~~)"),hi=new RegExp("^ {0,"+Math.min(3,We-1)+"}#");_t&&(Ae=_t.split(`
`,1)[0],ae=Ae,this.options.pedantic&&(ae=ae.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(di.test(ae)||hi.test(ae)||ei.test(ae)||pi.test(_t)));){if(ae.search(/[^ ]/)>=We||!ae.trim())Je+=`
`+ae.slice(We);else if(!ge)Je+=`
`+ae;else break;!ge&&!ae.trim()&&(ge=!0),Ht+=Ae+`
`,_t=_t.substring(Ae.length+1)}Lt.loose||(Q?Lt.loose=!0:/\n *\n *$/.test(Ht)&&(Q=!0)),this.options.gfm&&(at=/^\[[ xX]\] /.exec(Je),at&&(ce=at[0]!=="[ ] ",Je=Je.replace(/^\[[ xX]\] +/,""))),Lt.items.push({type:"list_item",raw:Ht,task:!!at,checked:ce,loose:!1,text:Je}),Lt.raw+=Ht}Lt.items[Lt.items.length-1].raw=Ht.trimRight(),Lt.items[Lt.items.length-1].text=Je.trimRight(),Lt.raw=Lt.raw.trimRight();var yi=Lt.items.length;for(Me=0;Me<yi;Me++){this.lexer.state.top=!1,Lt.items[Me].tokens=this.lexer.blockTokens(Lt.items[Me].text,[]);var Bi=Lt.items[Me].tokens.filter(function(Wi){return Wi.type==="space"}),ki=Bi.every(function(Wi){for(var Ri=Wi.raw.split(""),Cn=0,ts=Pe(Ri),Hn;!(Hn=ts()).done;){var Ss=Hn.value;if(Ss===`
`&&(Cn+=1),Cn>1)return!0}return!1});!Lt.loose&&Bi.length&&ki&&(Lt.loose=!0,Lt.items[Me].loose=!0)}return Lt}},Zt.html=function(_t){var xt=this.rules.block.html.exec(_t);if(xt){var Ht={type:"html",raw:xt[0],pre:!this.options.sanitizer&&(xt[1]==="pre"||xt[1]==="script"||xt[1]==="style"),text:xt[0]};if(this.options.sanitize){var at=this.options.sanitizer?this.options.sanitizer(xt[0]):Ct(xt[0]);Ht.type="paragraph",Ht.text=at,Ht.tokens=this.lexer.inline(at)}return Ht}},Zt.def=function(_t){var xt=this.rules.block.def.exec(_t);if(xt){xt[3]&&(xt[3]=xt[3].substring(1,xt[3].length-1));var Ht=xt[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Ht,raw:xt[0],href:xt[2],title:xt[3]}}},Zt.table=function(_t){var xt=this.rules.block.table.exec(_t);if(xt){var Ht={type:"table",header:mi(xt[1]).map(function(Q){return{text:Q}}),align:xt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:xt[3]&&xt[3].trim()?xt[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Ht.header.length===Ht.align.length){Ht.raw=xt[0];var at=Ht.align.length,ce,We,Me,ge;for(ce=0;ce<at;ce++)/^ *-+: *$/.test(Ht.align[ce])?Ht.align[ce]="right":/^ *:-+: *$/.test(Ht.align[ce])?Ht.align[ce]="center":/^ *:-+ *$/.test(Ht.align[ce])?Ht.align[ce]="left":Ht.align[ce]=null;for(at=Ht.rows.length,ce=0;ce<at;ce++)Ht.rows[ce]=mi(Ht.rows[ce],Ht.header.length).map(function(Q){return{text:Q}});for(at=Ht.header.length,We=0;We<at;We++)Ht.header[We].tokens=this.lexer.inline(Ht.header[We].text);for(at=Ht.rows.length,We=0;We<at;We++)for(ge=Ht.rows[We],Me=0;Me<ge.length;Me++)ge[Me].tokens=this.lexer.inline(ge[Me].text);return Ht}}},Zt.lheading=function(_t){var xt=this.rules.block.lheading.exec(_t);if(xt)return{type:"heading",raw:xt[0],depth:xt[2].charAt(0)==="="?1:2,text:xt[1],tokens:this.lexer.inline(xt[1])}},Zt.paragraph=function(_t){var xt=this.rules.block.paragraph.exec(_t);if(xt){var Ht=xt[1].charAt(xt[1].length-1)===`
`?xt[1].slice(0,-1):xt[1];return{type:"paragraph",raw:xt[0],text:Ht,tokens:this.lexer.inline(Ht)}}},Zt.text=function(_t){var xt=this.rules.block.text.exec(_t);if(xt)return{type:"text",raw:xt[0],text:xt[0],tokens:this.lexer.inline(xt[0])}},Zt.escape=function(_t){var xt=this.rules.inline.escape.exec(_t);if(xt)return{type:"escape",raw:xt[0],text:Ct(xt[1])}},Zt.tag=function(_t){var xt=this.rules.inline.tag.exec(_t);if(xt)return!this.lexer.state.inLink&&/^<a /i.test(xt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(xt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(xt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(xt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:xt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(xt[0]):Ct(xt[0]):xt[0]}},Zt.link=function(_t){var xt=this.rules.inline.link.exec(_t);if(xt){var Ht=xt[2].trim();if(!this.options.pedantic&&/^</.test(Ht)){if(!/>$/.test(Ht))return;var at=bi(Ht.slice(0,-1),"\\");if((Ht.length-at.length)%2===0)return}else{var ce=Ai(xt[2],"()");if(ce>-1){var We=xt[0].indexOf("!")===0?5:4,Me=We+xt[1].length+ce;xt[2]=xt[2].substring(0,ce),xt[0]=xt[0].substring(0,Me).trim(),xt[3]=""}}var ge=xt[2],Q="";if(this.options.pedantic){var ae=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ge);ae&&(ge=ae[1],Q=ae[3])}else Q=xt[3]?xt[3].slice(1,-1):"";return ge=ge.trim(),/^</.test(ge)&&(this.options.pedantic&&!/>$/.test(Ht)?ge=ge.slice(1):ge=ge.slice(1,-1)),Qi(xt,{href:ge&&ge.replace(this.rules.inline._escapes,"$1"),title:Q&&Q.replace(this.rules.inline._escapes,"$1")},xt[0],this.lexer)}},Zt.reflink=function(_t,xt){var Ht;if((Ht=this.rules.inline.reflink.exec(_t))||(Ht=this.rules.inline.nolink.exec(_t))){var at=(Ht[2]||Ht[1]).replace(/\s+/g," ");if(at=xt[at.toLowerCase()],!at||!at.href){var ce=Ht[0].charAt(0);return{type:"text",raw:ce,text:ce}}return Qi(Ht,at,Ht[0],this.lexer)}},Zt.emStrong=function(_t,xt,Ht){Ht===void 0&&(Ht="");var at=this.rules.inline.emStrong.lDelim.exec(_t);if(at&&!(at[3]&&Ht.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ce=at[1]||at[2]||"";if(!ce||ce&&(Ht===""||this.rules.inline.punctuation.exec(Ht))){var We=at[0].length-1,Me,ge,Q=We,ae=0,xe=at[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(xe.lastIndex=0,xt=xt.slice(-1*_t.length+We);(at=xe.exec(xt))!=null;)if(Me=at[1]||at[2]||at[3]||at[4]||at[5]||at[6],!!Me){if(ge=Me.length,at[3]||at[4]){Q+=ge;continue}else if((at[5]||at[6])&&We%3&&!((We+ge)%3)){ae+=ge;continue}if(Q-=ge,!(Q>0)){if(ge=Math.min(ge,ge+Q+ae),Math.min(We,ge)%2){var Ae=_t.slice(1,We+at.index+ge);return{type:"em",raw:_t.slice(0,We+at.index+ge+1),text:Ae,tokens:this.lexer.inlineTokens(Ae)}}var Je=_t.slice(2,We+at.index+ge-1);return{type:"strong",raw:_t.slice(0,We+at.index+ge+1),text:Je,tokens:this.lexer.inlineTokens(Je)}}}}}},Zt.codespan=function(_t){var xt=this.rules.inline.code.exec(_t);if(xt){var Ht=xt[2].replace(/\n/g," "),at=/[^ ]/.test(Ht),ce=/^ /.test(Ht)&&/ $/.test(Ht);return at&&ce&&(Ht=Ht.substring(1,Ht.length-1)),Ht=Ct(Ht,!0),{type:"codespan",raw:xt[0],text:Ht}}},Zt.br=function(_t){var xt=this.rules.inline.br.exec(_t);if(xt)return{type:"br",raw:xt[0]}},Zt.del=function(_t){var xt=this.rules.inline.del.exec(_t);if(xt)return{type:"del",raw:xt[0],text:xt[2],tokens:this.lexer.inlineTokens(xt[2])}},Zt.autolink=function(_t,xt){var Ht=this.rules.inline.autolink.exec(_t);if(Ht){var at,ce;return Ht[2]==="@"?(at=Ct(this.options.mangle?xt(Ht[1]):Ht[1]),ce="mailto:"+at):(at=Ct(Ht[1]),ce=at),{type:"link",raw:Ht[0],text:at,href:ce,tokens:[{type:"text",raw:at,text:at}]}}},Zt.url=function(_t,xt){var Ht;if(Ht=this.rules.inline.url.exec(_t)){var at,ce;if(Ht[2]==="@")at=Ct(this.options.mangle?xt(Ht[0]):Ht[0]),ce="mailto:"+at;else{var We;do We=Ht[0],Ht[0]=this.rules.inline._backpedal.exec(Ht[0])[0];while(We!==Ht[0]);at=Ct(Ht[0]),Ht[1]==="www."?ce="http://"+at:ce=at}return{type:"link",raw:Ht[0],text:at,href:ce,tokens:[{type:"text",raw:at,text:at}]}}},Zt.inlineText=function(_t,xt){var Ht=this.rules.inline.text.exec(_t);if(Ht){var at;return this.lexer.state.inRawBlock?at=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ht[0]):Ct(Ht[0]):Ht[0]:at=Ct(this.options.smartypants?xt(Ht[0]):Ht[0]),{type:"text",raw:Ht[0],text:at}}},ai}(),Pi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:si,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Pi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Pi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Pi.def=ut(Pi.def).replace("label",Pi._label).replace("title",Pi._title).getRegex(),Pi.bullet=/(?:[*+-]|\d{1,9}[.)])/,Pi.listItemStart=ut(/^( *)(bull) */).replace("bull",Pi.bullet).getRegex(),Pi.list=ut(Pi.list).replace(/bull/g,Pi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Pi.def.source+")").getRegex(),Pi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Pi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Pi.html=ut(Pi.html,"i").replace("comment",Pi._comment).replace("tag",Pi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Pi.paragraph=ut(Pi._paragraph).replace("hr",Pi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi._tag).getRegex(),Pi.blockquote=ut(Pi.blockquote).replace("paragraph",Pi.paragraph).getRegex(),Pi.normal=oi({},Pi),Pi.gfm=oi({},Pi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Pi.gfm.table=ut(Pi.gfm.table).replace("hr",Pi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi._tag).getRegex(),Pi.gfm.paragraph=ut(Pi._paragraph).replace("hr",Pi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Pi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi._tag).getRegex(),Pi.pedantic=oi({},Pi.normal,{html:ut(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Pi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:si,paragraph:ut(Pi.normal._paragraph).replace("hr",Pi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Pi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Li={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:si,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:si,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Li._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Li.punctuation=ut(Li.punctuation).replace(/punctuation/g,Li._punctuation).getRegex(),Li.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Li.escapedEmSt=/\\\*|\\_/g,Li._comment=ut(Pi._comment).replace("(?:-->|$)","-->").getRegex(),Li.emStrong.lDelim=ut(Li.emStrong.lDelim).replace(/punct/g,Li._punctuation).getRegex(),Li.emStrong.rDelimAst=ut(Li.emStrong.rDelimAst,"g").replace(/punct/g,Li._punctuation).getRegex(),Li.emStrong.rDelimUnd=ut(Li.emStrong.rDelimUnd,"g").replace(/punct/g,Li._punctuation).getRegex(),Li._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Li._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Li._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Li.autolink=ut(Li.autolink).replace("scheme",Li._scheme).replace("email",Li._email).getRegex(),Li._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Li.tag=ut(Li.tag).replace("comment",Li._comment).replace("attribute",Li._attribute).getRegex(),Li._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Li._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Li._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Li.link=ut(Li.link).replace("label",Li._label).replace("href",Li._href).replace("title",Li._title).getRegex(),Li.reflink=ut(Li.reflink).replace("label",Li._label).replace("ref",Pi._label).getRegex(),Li.nolink=ut(Li.nolink).replace("ref",Pi._label).getRegex(),Li.reflinkSearch=ut(Li.reflinkSearch,"g").replace("reflink",Li.reflink).replace("nolink",Li.nolink).getRegex(),Li.normal=oi({},Li),Li.pedantic=oi({},Li.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ut(/^!?\[(label)\]\((.*?)\)/).replace("label",Li._label).getRegex(),reflink:ut(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Li._label).getRegex()}),Li.gfm=oi({},Li.normal,{escape:ut(Li.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Li.gfm.url=ut(Li.gfm.url,"i").replace("email",Li.gfm._extended_email).getRegex(),Li.breaks=oi({},Li.gfm,{br:ut(Li.br).replace("{2,}","*").getRegex(),text:ut(Li.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function gn(ai){return ai.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function on(ai){var Zt="",Jt,_t,xt=ai.length;for(Jt=0;Jt<xt;Jt++)_t=ai.charCodeAt(Jt),Math.random()>.5&&(_t="x"+_t.toString(16)),Zt+="&#"+_t+";";return Zt}var Nn=function(){function ai(Jt){this.tokens=[],this.tokens.links=Object.create(null),this.options=Jt||de.defaults,this.options.tokenizer=this.options.tokenizer||new Yi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var _t={block:Pi.normal,inline:Li.normal};this.options.pedantic?(_t.block=Pi.pedantic,_t.inline=Li.pedantic):this.options.gfm&&(_t.block=Pi.gfm,this.options.breaks?_t.inline=Li.breaks:_t.inline=Li.gfm),this.tokenizer.rules=_t}ai.lex=function(_t,xt){var Ht=new ai(xt);return Ht.lex(_t)},ai.lexInline=function(_t,xt){var Ht=new ai(xt);return Ht.inlineTokens(_t)};var Zt=ai.prototype;return Zt.lex=function(_t){_t=_t.replace(/\r\n|\r/g,`
`),this.blockTokens(_t,this.tokens);for(var xt;xt=this.inlineQueue.shift();)this.inlineTokens(xt.src,xt.tokens);return this.tokens},Zt.blockTokens=function(_t,xt){var Ht=this;xt===void 0&&(xt=[]),this.options.pedantic?_t=_t.replace(/\t/g,"    ").replace(/^ +$/gm,""):_t=_t.replace(/^( *)(\t+)/gm,function(Q,ae,xe){return ae+"    ".repeat(xe.length)});for(var at,ce,We,Me;_t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Q){return(at=Q.call({lexer:Ht},_t,xt))?(_t=_t.substring(at.raw.length),xt.push(at),!0):!1}))){if(at=this.tokenizer.space(_t)){_t=_t.substring(at.raw.length),at.raw.length===1&&xt.length>0?xt[xt.length-1].raw+=`
`:xt.push(at);continue}if(at=this.tokenizer.code(_t)){_t=_t.substring(at.raw.length),ce=xt[xt.length-1],ce&&(ce.type==="paragraph"||ce.type==="text")?(ce.raw+=`
`+at.raw,ce.text+=`
`+at.text,this.inlineQueue[this.inlineQueue.length-1].src=ce.text):xt.push(at);continue}if(at=this.tokenizer.fences(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.heading(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.hr(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.blockquote(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.list(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.html(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.def(_t)){_t=_t.substring(at.raw.length),ce=xt[xt.length-1],ce&&(ce.type==="paragraph"||ce.type==="text")?(ce.raw+=`
`+at.raw,ce.text+=`
`+at.raw,this.inlineQueue[this.inlineQueue.length-1].src=ce.text):this.tokens.links[at.tag]||(this.tokens.links[at.tag]={href:at.href,title:at.title});continue}if(at=this.tokenizer.table(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.lheading(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(We=_t,this.options.extensions&&this.options.extensions.startBlock&&function(){var Q=1/0,ae=_t.slice(1),xe=void 0;Ht.options.extensions.startBlock.forEach(function(Ae){xe=Ae.call({lexer:this},ae),typeof xe=="number"&&xe>=0&&(Q=Math.min(Q,xe))}),Q<1/0&&Q>=0&&(We=_t.substring(0,Q+1))}(),this.state.top&&(at=this.tokenizer.paragraph(We))){ce=xt[xt.length-1],Me&&ce.type==="paragraph"?(ce.raw+=`
`+at.raw,ce.text+=`
`+at.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ce.text):xt.push(at),Me=We.length!==_t.length,_t=_t.substring(at.raw.length);continue}if(at=this.tokenizer.text(_t)){_t=_t.substring(at.raw.length),ce=xt[xt.length-1],ce&&ce.type==="text"?(ce.raw+=`
`+at.raw,ce.text+=`
`+at.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ce.text):xt.push(at);continue}if(_t){var ge="Infinite loop on byte: "+_t.charCodeAt(0);if(this.options.silent){console.error(ge);break}else throw new Error(ge)}}return this.state.top=!0,xt},Zt.inline=function(_t,xt){return xt===void 0&&(xt=[]),this.inlineQueue.push({src:_t,tokens:xt}),xt},Zt.inlineTokens=function(_t,xt){var Ht=this;xt===void 0&&(xt=[]);var at,ce,We,Me=_t,ge,Q,ae;if(this.tokens.links){var xe=Object.keys(this.tokens.links);if(xe.length>0)for(;(ge=this.tokenizer.rules.inline.reflinkSearch.exec(Me))!=null;)xe.includes(ge[0].slice(ge[0].lastIndexOf("[")+1,-1))&&(Me=Me.slice(0,ge.index)+"["+Vi("a",ge[0].length-2)+"]"+Me.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ge=this.tokenizer.rules.inline.blockSkip.exec(Me))!=null;)Me=Me.slice(0,ge.index)+"["+Vi("a",ge[0].length-2)+"]"+Me.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ge=this.tokenizer.rules.inline.escapedEmSt.exec(Me))!=null;)Me=Me.slice(0,ge.index)+"++"+Me.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;_t;)if(Q||(ae=""),Q=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Je){return(at=Je.call({lexer:Ht},_t,xt))?(_t=_t.substring(at.raw.length),xt.push(at),!0):!1}))){if(at=this.tokenizer.escape(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.tag(_t)){_t=_t.substring(at.raw.length),ce=xt[xt.length-1],ce&&at.type==="text"&&ce.type==="text"?(ce.raw+=at.raw,ce.text+=at.text):xt.push(at);continue}if(at=this.tokenizer.link(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.reflink(_t,this.tokens.links)){_t=_t.substring(at.raw.length),ce=xt[xt.length-1],ce&&at.type==="text"&&ce.type==="text"?(ce.raw+=at.raw,ce.text+=at.text):xt.push(at);continue}if(at=this.tokenizer.emStrong(_t,Me,ae)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.codespan(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.br(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.del(_t)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(at=this.tokenizer.autolink(_t,on)){_t=_t.substring(at.raw.length),xt.push(at);continue}if(!this.state.inLink&&(at=this.tokenizer.url(_t,on))){_t=_t.substring(at.raw.length),xt.push(at);continue}if(We=_t,this.options.extensions&&this.options.extensions.startInline&&function(){var Je=1/0,vt=_t.slice(1),St=void 0;Ht.options.extensions.startInline.forEach(function(wt){St=wt.call({lexer:this},vt),typeof St=="number"&&St>=0&&(Je=Math.min(Je,St))}),Je<1/0&&Je>=0&&(We=_t.substring(0,Je+1))}(),at=this.tokenizer.inlineText(We,gn)){_t=_t.substring(at.raw.length),at.raw.slice(-1)!=="_"&&(ae=at.raw.slice(-1)),Q=!0,ce=xt[xt.length-1],ce&&ce.type==="text"?(ce.raw+=at.raw,ce.text+=at.text):xt.push(at);continue}if(_t){var Ae="Infinite loop on byte: "+_t.charCodeAt(0);if(this.options.silent){console.error(Ae);break}else throw new Error(Ae)}}return xt},ne(ai,null,[{key:"rules",get:function(){return{block:Pi,inline:Li}}}]),ai}(),ln=function(){function ai(Jt){this.options=Jt||de.defaults}var Zt=ai.prototype;return Zt.code=function(_t,xt,Ht){var at=(xt||"").match(/\S*/)[0];if(this.options.highlight){var ce=this.options.highlight(_t,at);ce!=null&&ce!==_t&&(Ht=!0,_t=ce)}return _t=_t.replace(/\n$/,"")+`
`,at?'<pre><code class="'+this.options.langPrefix+Ct(at,!0)+'">'+(Ht?_t:Ct(_t,!0))+`</code></pre>
`:"<pre><code>"+(Ht?_t:Ct(_t,!0))+`</code></pre>
`},Zt.blockquote=function(_t){return`<blockquote>
`+_t+`</blockquote>
`},Zt.html=function(_t){return _t},Zt.heading=function(_t,xt,Ht,at){if(this.options.headerIds){var ce=this.options.headerPrefix+at.slug(Ht);return"<h"+xt+' id="'+ce+'">'+_t+"</h"+xt+`>
`}return"<h"+xt+">"+_t+"</h"+xt+`>
`},Zt.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Zt.list=function(_t,xt,Ht){var at=xt?"ol":"ul",ce=xt&&Ht!==1?' start="'+Ht+'"':"";return"<"+at+ce+`>
`+_t+"</"+at+`>
`},Zt.listitem=function(_t){return"<li>"+_t+`</li>
`},Zt.checkbox=function(_t){return"<input "+(_t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Zt.paragraph=function(_t){return"<p>"+_t+`</p>
`},Zt.table=function(_t,xt){return xt&&(xt="<tbody>"+xt+"</tbody>"),`<table>
<thead>
`+_t+`</thead>
`+xt+`</table>
`},Zt.tablerow=function(_t){return`<tr>
`+_t+`</tr>
`},Zt.tablecell=function(_t,xt){var Ht=xt.header?"th":"td",at=xt.align?"<"+Ht+' align="'+xt.align+'">':"<"+Ht+">";return at+_t+("</"+Ht+`>
`)},Zt.strong=function(_t){return"<strong>"+_t+"</strong>"},Zt.em=function(_t){return"<em>"+_t+"</em>"},Zt.codespan=function(_t){return"<code>"+_t+"</code>"},Zt.br=function(){return this.options.xhtml?"<br/>":"<br>"},Zt.del=function(_t){return"<del>"+_t+"</del>"},Zt.link=function(_t,xt,Ht){if(_t=Mt(this.options.sanitize,this.options.baseUrl,_t),_t===null)return Ht;var at='<a href="'+Ct(_t)+'"';return xt&&(at+=' title="'+xt+'"'),at+=">"+Ht+"</a>",at},Zt.image=function(_t,xt,Ht){if(_t=Mt(this.options.sanitize,this.options.baseUrl,_t),_t===null)return Ht;var at='<img src="'+_t+'" alt="'+Ht+'"';return xt&&(at+=' title="'+xt+'"'),at+=this.options.xhtml?"/>":">",at},Zt.text=function(_t){return _t},ai}(),Yt=function(){function ai(){}var Zt=ai.prototype;return Zt.strong=function(_t){return _t},Zt.em=function(_t){return _t},Zt.codespan=function(_t){return _t},Zt.del=function(_t){return _t},Zt.html=function(_t){return _t},Zt.text=function(_t){return _t},Zt.link=function(_t,xt,Ht){return""+Ht},Zt.image=function(_t,xt,Ht){return""+Ht},Zt.br=function(){return""},ai}(),ti=function(){function ai(){this.seen={}}var Zt=ai.prototype;return Zt.serialize=function(_t){return _t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Zt.getNextSafeSlug=function(_t,xt){var Ht=_t,at=0;if(this.seen.hasOwnProperty(Ht)){at=this.seen[_t];do at++,Ht=_t+"-"+at;while(this.seen.hasOwnProperty(Ht))}return xt||(this.seen[_t]=at,this.seen[Ht]=0),Ht},Zt.slug=function(_t,xt){xt===void 0&&(xt={});var Ht=this.serialize(_t);return this.getNextSafeSlug(Ht,xt.dryrun)},ai}(),fi=function(){function ai(Jt){this.options=Jt||de.defaults,this.options.renderer=this.options.renderer||new ln,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Yt,this.slugger=new ti}ai.parse=function(_t,xt){var Ht=new ai(xt);return Ht.parse(_t)},ai.parseInline=function(_t,xt){var Ht=new ai(xt);return Ht.parseInline(_t)};var Zt=ai.prototype;return Zt.parse=function(_t,xt){xt===void 0&&(xt=!0);var Ht="",at,ce,We,Me,ge,Q,ae,xe,Ae,Je,vt,St,wt,Lt,Bt,ei,pi,di,hi,yi=_t.length;for(at=0;at<yi;at++){if(Je=_t[at],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Je.type]&&(hi=this.options.extensions.renderers[Je.type].call({parser:this},Je),hi!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Je.type))){Ht+=hi||"";continue}switch(Je.type){case"space":continue;case"hr":{Ht+=this.renderer.hr();continue}case"heading":{Ht+=this.renderer.heading(this.parseInline(Je.tokens),Je.depth,jt(this.parseInline(Je.tokens,this.textRenderer)),this.slugger);continue}case"code":{Ht+=this.renderer.code(Je.text,Je.lang,Je.escaped);continue}case"table":{for(xe="",ae="",Me=Je.header.length,ce=0;ce<Me;ce++)ae+=this.renderer.tablecell(this.parseInline(Je.header[ce].tokens),{header:!0,align:Je.align[ce]});for(xe+=this.renderer.tablerow(ae),Ae="",Me=Je.rows.length,ce=0;ce<Me;ce++){for(Q=Je.rows[ce],ae="",ge=Q.length,We=0;We<ge;We++)ae+=this.renderer.tablecell(this.parseInline(Q[We].tokens),{header:!1,align:Je.align[We]});Ae+=this.renderer.tablerow(ae)}Ht+=this.renderer.table(xe,Ae);continue}case"blockquote":{Ae=this.parse(Je.tokens),Ht+=this.renderer.blockquote(Ae);continue}case"list":{for(vt=Je.ordered,St=Je.start,wt=Je.loose,Me=Je.items.length,Ae="",ce=0;ce<Me;ce++)Bt=Je.items[ce],ei=Bt.checked,pi=Bt.task,Lt="",Bt.task&&(di=this.renderer.checkbox(ei),wt?Bt.tokens.length>0&&Bt.tokens[0].type==="paragraph"?(Bt.tokens[0].text=di+" "+Bt.tokens[0].text,Bt.tokens[0].tokens&&Bt.tokens[0].tokens.length>0&&Bt.tokens[0].tokens[0].type==="text"&&(Bt.tokens[0].tokens[0].text=di+" "+Bt.tokens[0].tokens[0].text)):Bt.tokens.unshift({type:"text",text:di}):Lt+=di),Lt+=this.parse(Bt.tokens,wt),Ae+=this.renderer.listitem(Lt,pi,ei);Ht+=this.renderer.list(Ae,vt,St);continue}case"html":{Ht+=this.renderer.html(Je.text);continue}case"paragraph":{Ht+=this.renderer.paragraph(this.parseInline(Je.tokens));continue}case"text":{for(Ae=Je.tokens?this.parseInline(Je.tokens):Je.text;at+1<yi&&_t[at+1].type==="text";)Je=_t[++at],Ae+=`
`+(Je.tokens?this.parseInline(Je.tokens):Je.text);Ht+=xt?this.renderer.paragraph(Ae):Ae;continue}default:{var Bi='Token with "'+Je.type+'" type was not found.';if(this.options.silent){console.error(Bi);return}else throw new Error(Bi)}}}return Ht},Zt.parseInline=function(_t,xt){xt=xt||this.renderer;var Ht="",at,ce,We,Me=_t.length;for(at=0;at<Me;at++){if(ce=_t[at],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ce.type]&&(We=this.options.extensions.renderers[ce.type].call({parser:this},ce),We!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ce.type))){Ht+=We||"";continue}switch(ce.type){case"escape":{Ht+=xt.text(ce.text);break}case"html":{Ht+=xt.html(ce.text);break}case"link":{Ht+=xt.link(ce.href,ce.title,this.parseInline(ce.tokens,xt));break}case"image":{Ht+=xt.image(ce.href,ce.title,ce.text);break}case"strong":{Ht+=xt.strong(this.parseInline(ce.tokens,xt));break}case"em":{Ht+=xt.em(this.parseInline(ce.tokens,xt));break}case"codespan":{Ht+=xt.codespan(ce.text);break}case"br":{Ht+=xt.br();break}case"del":{Ht+=xt.del(this.parseInline(ce.tokens,xt));break}case"text":{Ht+=xt.text(ce.text);break}default:{var ge='Token with "'+ce.type+'" type was not found.';if(this.options.silent){console.error(ge);return}else throw new Error(ge)}}}return Ht},ai}();function Gt(ai,Zt,Jt){if(typeof ai=="undefined"||ai===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ai!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ai)+", string expected");if(typeof Zt=="function"&&(Jt=Zt,Zt=null),Zt=oi({},Gt.defaults,Zt||{}),$i(Zt),Jt){var _t=Zt.highlight,xt;try{xt=Nn.lex(ai,Zt)}catch(Me){return Jt(Me)}var Ht=function(ge){var Q;if(!ge)try{Zt.walkTokens&&Gt.walkTokens(xt,Zt.walkTokens),Q=fi.parse(xt,Zt)}catch(ae){ge=ae}return Zt.highlight=_t,ge?Jt(ge):Jt(null,Q)};if(!_t||_t.length<3||(delete Zt.highlight,!xt.length))return Ht();var at=0;Gt.walkTokens(xt,function(Me){Me.type==="code"&&(at++,setTimeout(function(){_t(Me.text,Me.lang,function(ge,Q){if(ge)return Ht(ge);Q!=null&&Q!==Me.text&&(Me.text=Q,Me.escaped=!0),at--,at===0&&Ht()})},0))}),at===0&&Ht();return}function ce(Me){if(Me.message+=`
Please report this to https://github.com/markedjs/marked.`,Zt.silent)return"<p>An error occurred:</p><pre>"+Ct(Me.message+"",!0)+"</pre>";throw Me}try{var We=Nn.lex(ai,Zt);if(Zt.walkTokens){if(Zt.async)return Promise.all(Gt.walkTokens(We,Zt.walkTokens)).then(function(){return fi.parse(We,Zt)}).catch(ce);Gt.walkTokens(We,Zt.walkTokens)}return fi.parse(We,Zt)}catch(Me){ce(Me)}}Gt.options=Gt.setOptions=function(ai){return oi(Gt.defaults,ai),gt(Gt.defaults),Gt},Gt.getDefaults=ot,Gt.defaults=de.defaults,Gt.use=function(){for(var ai=arguments.length,Zt=new Array(ai),Jt=0;Jt<ai;Jt++)Zt[Jt]=arguments[Jt];var _t=oi.apply(void 0,[{}].concat(Zt)),xt=Gt.defaults.extensions||{renderers:{},childTokens:{}},Ht;Zt.forEach(function(at){if(at.extensions&&(Ht=!0,at.extensions.forEach(function(We){if(!We.name)throw new Error("extension name required");if(We.renderer){var Me=xt.renderers?xt.renderers[We.name]:null;Me?xt.renderers[We.name]=function(){for(var ge=arguments.length,Q=new Array(ge),ae=0;ae<ge;ae++)Q[ae]=arguments[ae];var xe=We.renderer.apply(this,Q);return xe===!1&&(xe=Me.apply(this,Q)),xe}:xt.renderers[We.name]=We.renderer}if(We.tokenizer){if(!We.level||We.level!=="block"&&We.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");xt[We.level]?xt[We.level].unshift(We.tokenizer):xt[We.level]=[We.tokenizer],We.start&&(We.level==="block"?xt.startBlock?xt.startBlock.push(We.start):xt.startBlock=[We.start]:We.level==="inline"&&(xt.startInline?xt.startInline.push(We.start):xt.startInline=[We.start]))}We.childTokens&&(xt.childTokens[We.name]=We.childTokens)})),at.renderer&&function(){var We=Gt.defaults.renderer||new ln,Me=function(ae){var xe=We[ae];We[ae]=function(){for(var Ae=arguments.length,Je=new Array(Ae),vt=0;vt<Ae;vt++)Je[vt]=arguments[vt];var St=at.renderer[ae].apply(We,Je);return St===!1&&(St=xe.apply(We,Je)),St}};for(var ge in at.renderer)Me(ge);_t.renderer=We}(),at.tokenizer&&function(){var We=Gt.defaults.tokenizer||new Yi,Me=function(ae){var xe=We[ae];We[ae]=function(){for(var Ae=arguments.length,Je=new Array(Ae),vt=0;vt<Ae;vt++)Je[vt]=arguments[vt];var St=at.tokenizer[ae].apply(We,Je);return St===!1&&(St=xe.apply(We,Je)),St}};for(var ge in at.tokenizer)Me(ge);_t.tokenizer=We}(),at.walkTokens){var ce=Gt.defaults.walkTokens;_t.walkTokens=function(We){var Me=[];return Me.push(at.walkTokens.call(this,We)),ce&&(Me=Me.concat(ce.call(this,We))),Me}}Ht&&(_t.extensions=xt),Gt.setOptions(_t)})},Gt.walkTokens=function(ai,Zt){for(var Jt=[],_t=function(){var ce=Ht.value;switch(Jt=Jt.concat(Zt.call(Gt,ce)),ce.type){case"table":{for(var We=Pe(ce.header),Me;!(Me=We()).done;){var ge=Me.value;Jt=Jt.concat(Gt.walkTokens(ge.tokens,Zt))}for(var Q=Pe(ce.rows),ae;!(ae=Q()).done;)for(var xe=ae.value,Ae=Pe(xe),Je;!(Je=Ae()).done;){var vt=Je.value;Jt=Jt.concat(Gt.walkTokens(vt.tokens,Zt))}break}case"list":{Jt=Jt.concat(Gt.walkTokens(ce.items,Zt));break}default:Gt.defaults.extensions&&Gt.defaults.extensions.childTokens&&Gt.defaults.extensions.childTokens[ce.type]?Gt.defaults.extensions.childTokens[ce.type].forEach(function(St){Jt=Jt.concat(Gt.walkTokens(ce[St],Zt))}):ce.tokens&&(Jt=Jt.concat(Gt.walkTokens(ce.tokens,Zt)))}},xt=Pe(ai),Ht;!(Ht=xt()).done;)_t();return Jt},Gt.parseInline=function(ai,Zt){if(typeof ai=="undefined"||ai===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ai!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ai)+", string expected");Zt=oi({},Gt.defaults,Zt||{}),$i(Zt);try{var Jt=Nn.lexInline(ai,Zt);return Zt.walkTokens&&Gt.walkTokens(Jt,Zt.walkTokens),fi.parseInline(Jt,Zt)}catch(_t){if(_t.message+=`
Please report this to https://github.com/markedjs/marked.`,Zt.silent)return"<p>An error occurred:</p><pre>"+Ct(_t.message+"",!0)+"</pre>";throw _t}},Gt.Parser=fi,Gt.parser=fi.parse,Gt.Renderer=ln,Gt.TextRenderer=Yt,Gt.Lexer=Nn,Gt.lexer=Nn.lex,Gt.Tokenizer=Yi,Gt.Slugger=ti,Gt.parse=Gt;var Si=Gt.options,zi=Gt.setOptions,ji=Gt.use,Hi=Gt.walkTokens,tn=Gt.parseInline,sn=Gt,Xi=fi.parse,Oi=Nn.lex;de.Lexer=Nn,de.Parser=fi,de.Renderer=ln,de.Slugger=ti,de.TextRenderer=Yt,de.Tokenizer=Yi,de.getDefaults=ot,de.lexer=Oi,de.marked=Gt,de.options=Si,de.parse=sn,de.parseInline=tn,de.parser=Xi,de.setOptions=zi,de.use=ji,de.walkTokens=Hi,Object.defineProperty(de,"__esModule",{value:!0})})})();var m=s.Lexer||exports.Lexer,b=s.Parser||exports.Parser,c=s.Renderer||exports.Renderer,v=s.Slugger||exports.Slugger,C=s.TextRenderer||exports.TextRenderer,S=s.Tokenizer||exports.Tokenizer,N=s.getDefaults||exports.getDefaults,P=s.lexer||exports.lexer,M=s.marked||exports.marked,D=s.options||exports.options,F=s.parse||exports.parse,B=s.parseInline||exports.parseInline,U=s.parser||exports.parser,A=s.setOptions||exports.setOptions,k=s.use||exports.use,R=s.walkTokens||exports.walkTokens,$=t(65533),J=t(5007),Y=t(23127),j=t(6227),z=t(17416),K=t(28919);const Z=Object.freeze({image:(Le,de,ee)=>{let ne=[],me=[];return Le&&({href:Le,dimensions:ne}=(0,g.v1)(Le),me.push(`src="${(0,g.d9)(Le)}"`)),ee&&me.push(`alt="${(0,g.d9)(ee)}"`),de&&me.push(`title="${(0,g.d9)(de)}"`),ne.length&&(me=me.concat(ne)),"<img "+me.join(" ")+">"},paragraph:Le=>`<p>${Le}</p>`,link:(Le,de,ee)=>typeof Le!="string"?"":(Le===ee&&(ee=(0,g.oR)(ee)),de=typeof de=="string"?(0,g.d9)((0,g.oR)(de)):"",Le=(0,g.oR)(Le),Le=Le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${Le}" title="${de||Le}">${ee}</a>`)});function fe(Le,de={},ee={}){var ne,me;const ue=new i.SL;let Pe=!1;const ot=(0,_.az)(de),gt=function(jt){let Ye;try{Ye=(0,$.Qc)(decodeURIComponent(jt))}catch(ut){}return Ye?(Ye=(0,Y.rs)(Ye,ut=>{if(Le.uris&&Le.uris[ut])return K.o.revive(Le.uris[ut])}),encodeURIComponent(JSON.stringify(Ye))):jt},nt=function(jt,Ye){const ut=Le.uris&&Le.uris[jt];let dt=K.o.revive(ut);return Ye?jt.startsWith(J.lg.data+":")?jt:(dt||(dt=K.o.parse(jt)),J.Gi.uriToBrowserUri(dt).toString(!0)):!dt||K.o.parse(jt).toString()===dt.toString()?jt:(dt.query&&(dt=dt.with({query:gt(dt.query)})),dt.toString())},tt=new M.Renderer;tt.image=Z.image,tt.link=Z.link,tt.paragraph=Z.paragraph;const st=[],It=[];if(de.codeBlockRendererSync?tt.code=(jt,Ye)=>{const ut=l.a.nextId(),dt=de.codeBlockRendererSync(T(Ye),jt);return It.push([ut,dt]),`<div class="code" data-code="${ut}">${(0,z.YU)(jt)}</div>`}:de.codeBlockRenderer&&(tt.code=(jt,Ye)=>{const ut=l.a.nextId(),dt=de.codeBlockRenderer(T(Ye),jt);return st.push(dt.then(bt=>[ut,bt])),`<div class="code" data-code="${ut}">${(0,z.YU)(jt)}</div>`}),de.actionHandler){const jt=function(dt){let bt=dt.target;if(!(bt.tagName!=="A"&&(bt=bt.parentElement,!bt||bt.tagName!=="A")))try{let Mt=bt.dataset.href;Mt&&(Le.baseUri&&(Mt=Re(K.o.from(Le.baseUri),Mt)),de.actionHandler.callback(Mt,dt))}catch(Mt){(0,L.dL)(Mt)}finally{dt.preventDefault()}},Ye=de.actionHandler.disposables.add(new u.Y(ot,"click")),ut=de.actionHandler.disposables.add(new u.Y(ot,"auxclick"));de.actionHandler.disposables.add(E.ju.any(Ye.event,ut.event)(dt=>{const bt=new V.n(dt);!bt.leftButton&&!bt.middleButton||jt(bt)})),de.actionHandler.disposables.add(f.nm(ot,"keydown",dt=>{const bt=new p.y(dt);!bt.equals(10)&&!bt.equals(3)||jt(bt)}))}Le.supportHtml||(ee.sanitizer=jt=>(Le.isTrusted?jt.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?jt:"",ee.sanitize=!0,ee.silent=!0),ee.renderer=tt;let Wt=(ne=Le.value)!==null&&ne!==void 0?ne:"";Wt.length>1e5&&(Wt=`${Wt.substr(0,1e5)}\u2026`),Le.supportThemeIcons&&(Wt=(0,a.f$)(Wt));let Vt;if(de.fillInIncompleteTokens){const jt=Object.assign(Object.assign({},M.defaults),ee),Ye=M.lexer(Wt,jt),ut=se(Ye);Vt=M.parser(ut,jt)}else Vt=M.parse(Wt,ee);Le.supportThemeIcons&&(Vt=(0,I.T)(Vt).map(Ye=>typeof Ye=="string"?Ye:Ye.outerHTML).join(""));const gi=new DOMParser().parseFromString(Ce(Le,Vt),"text/html");if(gi.body.querySelectorAll("img").forEach(jt=>{const Ye=jt.getAttribute("src");if(Ye){let ut=Ye;try{Le.baseUri&&(ut=Re(K.o.from(Le.baseUri),ut))}catch(dt){}jt.src=nt(ut,!0)}}),gi.body.querySelectorAll("a").forEach(jt=>{const Ye=jt.getAttribute("href");if(jt.setAttribute("href",""),!Ye||/^data:|javascript:/i.test(Ye)||/^command:/i.test(Ye)&&!Le.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Ye))jt.replaceWith(...jt.childNodes);else{let ut=nt(Ye,!1);Le.baseUri&&(ut=Re(K.o.from(Le.baseUri),Ye)),jt.dataset.href=ut}}),ot.innerHTML=Ce(Le,gi.body.innerHTML),st.length>0)Promise.all(st).then(jt=>{var Ye,ut;if(Pe)return;const dt=new Map(jt),bt=ot.querySelectorAll("div[data-code]");for(const Mt of bt){const ni=dt.get((Ye=Mt.dataset.code)!==null&&Ye!==void 0?Ye:"");ni&&f.mc(Mt,ni)}(ut=de.asyncRenderCallback)===null||ut===void 0||ut.call(de)});else if(It.length>0){const jt=new Map(It),Ye=ot.querySelectorAll("div[data-code]");for(const ut of Ye){const dt=jt.get((me=ut.dataset.code)!==null&&me!==void 0?me:"");dt&&f.mc(ut,dt)}}if(de.asyncRenderCallback)for(const jt of ot.getElementsByTagName("img")){const Ye=ue.add(f.nm(jt,"load",()=>{Ye.dispose(),de.asyncRenderCallback()}))}return{element:ot,dispose:()=>{Pe=!0,ue.dispose()}}}function T(Le){if(!Le)return"";const de=Le.split(/[\s+|:|,|\{|\?]/,1);return de.length?de[0]:Le}function Re(Le,de){return/^\w[\w\d+.-]*:/.test(de)?de:Le.path.endsWith("/")?(0,j.i3)(Le,de).toString():(0,j.i3)((0,j.XX)(Le),de).toString()}function Ce(Le,de){const{config:ee,allowedSchemes:ne}=pe(Le);O.v5("uponSanitizeAttribute",(ue,Pe)=>{if(Pe.attrName==="style"||Pe.attrName==="class"){if(ue.tagName==="SPAN"){if(Pe.attrName==="style"){Pe.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(Pe.attrValue);return}else if(Pe.attrName==="class"){Pe.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Pe.attrValue);return}}Pe.keepAttr=!1;return}});const me=f._F(ne);try{return O.Nw(de,Object.assign(Object.assign({},ee),{RETURN_TRUSTED_TYPE:!0}))}finally{O.ok("uponSanitizeAttribute"),me.dispose()}}const _e=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function pe(Le){const de=[J.lg.http,J.lg.https,J.lg.mailto,J.lg.data,J.lg.file,J.lg.vscodeFileResource,J.lg.vscodeRemote,J.lg.vscodeRemoteResource];return Le.isTrusted&&de.push(J.lg.command),{config:{ALLOWED_TAGS:[...f.sQ],ALLOWED_ATTR:_e,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:de}}function le(Le){return typeof Le=="string"?Le:oe(Le)}function oe(Le){var de;let ee=(de=Le.value)!==null&&de!==void 0?de:"";ee.length>1e5&&(ee=`${ee.substr(0,1e5)}\u2026`);const ne=M.parse(ee,{renderer:je.value}).replace(/&(#\d+|[a-zA-Z]+);/g,me=>{var ue;return(ue=he.get(me))!==null&&ue!==void 0?ue:me});return Ce({isTrusted:!1},ne).toString()}const he=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),je=new d.o(()=>{const Le=new M.Renderer;return Le.code=de=>de,Le.blockquote=de=>de,Le.html=de=>"",Le.heading=(de,ee,ne)=>de+`
`,Le.hr=()=>"",Le.list=(de,ee)=>de,Le.listitem=de=>de+`
`,Le.paragraph=de=>de+`
`,Le.table=(de,ee)=>de+ee+`
`,Le.tablerow=de=>de,Le.tablecell=(de,ee)=>de+" ",Le.strong=de=>de,Le.em=de=>de,Le.codespan=de=>de,Le.br=()=>`
`,Le.del=de=>de,Le.image=(de,ee,ne)=>"",Le.text=de=>de,Le.link=(de,ee,ne)=>ne,Le});function Xe(Le){let de="";return Le.forEach(ee=>{de+=ee.raw}),de}function Ve(Le){for(const de of Le.tokens)if(de.type==="text"){const ee=de.raw.split(`
`),ne=ee[ee.length-1];if(ne.includes("`"))return Ee(Le);if(ne.includes("**"))return $e(Le);if(ne.match(/\*\w/))return Se(Le);if(ne.match(/(^|\s)__\w/))return Ke(Le);if(ne.match(/(^|\s)_\w/))return we(Le);if(ne.match(/(^|\s)\[.*\]\(\w*/))return ve(Le);if(ne.match(/(^|\s)\[\w/))return Ne(Le)}}function se(Le){let de,ee;for(de=0;de<Le.length;de++){const ne=Le[de];if(ne.type==="paragraph"&&ne.raw.match(/(\n|^)```/)){ee=q(Le.slice(de));break}if(ne.type==="paragraph"&&ne.raw.match(/(\n|^)\|/)){ee=He(Le.slice(de));break}if(de===Le.length-1&&ne.type==="paragraph"){const me=Ve(ne);if(me){ee=[me];break}}}if(ee){const ne=[...Le.slice(0,de),...ee];return ne.links=Le.links,ne}return Le}function q(Le){const de=Xe(Le);return M.lexer(de+"\n```")}function Ee(Le){return ze(Le,"`")}function Se(Le){return ze(Le,"*")}function we(Le){return ze(Le,"_")}function ve(Le){return ze(Le,")")}function Ne(Le){return ze(Le,"](about:blank)")}function $e(Le){return ze(Le,"**")}function Ke(Le){return ze(Le,"__")}function ze(Le,de){const ee=Xe(Array.isArray(Le)?Le:[Le]);return M.lexer(ee+de)[0]}function He(Le){const de=Xe(Le),ee=de.split(`
`);let ne,me=!1;for(let ue=0;ue<ee.length;ue++){const Pe=ee[ue].trim();if(typeof ne=="undefined"&&Pe.match(/^\s*\|/)){const ot=Pe.match(/(\|[^\|]+)(?=\||$)/g);ot&&(ne=ot.length)}else if(typeof ne=="number")if(Pe.match(/^\s*\|/)){if(ue!==ee.length-1)return;me=!0}else return}if(typeof ne=="number"&&ne>0){const ue=me?ee.slice(0,-1).join(`
`):de,Pe=!!ue.match(/\|\s*$/),ot=ue+(Pe?"":"|")+`
|${" --- |".repeat(ne)}`;return M.lexer(ot)}}},64079:function(Rt,Be,t){"use strict";t.d(Be,{n:function(){return I},q:function(){return L}});var f=t(71488);let O=!1,u=null;function _(E){if(!E.parent||E.parent===E)return null;try{const g=E.location,a=E.parent.location;if(g.origin!=="null"&&a.origin!=="null"&&g.origin!==a.origin)return O=!0,null}catch(g){return O=!0,null}return E.parent}class p{static getSameOriginWindowChain(){if(!u){u=[];let g=window,a;do a=_(g),a?u.push({window:g,iframeElement:g.frameElement||null}):u.push({window:g,iframeElement:null}),g=a;while(g)}return u.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(g,a){if(!a||g===a)return{top:0,left:0};let l=0,d=0;const i=this.getSameOriginWindowChain();for(const s of i){if(l+=s.window.scrollY,d+=s.window.scrollX,s.window===a||!s.iframeElement)break;const m=s.iframeElement.getBoundingClientRect();l+=m.top,d+=m.left}return{top:l,left:d}}}var V=t(11138);class I{constructor(g){this.timestamp=Date.now(),this.browserEvent=g,this.leftButton=g.button===0,this.middleButton=g.button===1,this.rightButton=g.button===2,this.buttons=g.buttons,this.target=g.target,this.detail=g.detail||1,g.type==="dblclick"&&(this.detail=2),this.ctrlKey=g.ctrlKey,this.shiftKey=g.shiftKey,this.altKey=g.altKey,this.metaKey=g.metaKey,typeof g.pageX=="number"?(this.posx=g.pageX,this.posy=g.pageY):(this.posx=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=g.clientY+document.body.scrollTop+document.documentElement.scrollTop);const a=p.getPositionOfChildWindowRelativeToAncestorWindow(window,g.view);this.posx-=a.left,this.posy-=a.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class L{constructor(g,a=0,l=0){if(this.browserEvent=g||null,this.target=g?g.target||g.targetNode||g.srcElement:null,this.deltaY=l,this.deltaX=a,g){const d=g,i=g;if(typeof d.wheelDeltaY!="undefined")this.deltaY=d.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS!="undefined"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(g.type==="wheel"){const s=g;s.deltaMode===s.DOM_DELTA_LINE?f.isFirefox&&!V.dz?this.deltaY=-g.deltaY/3:this.deltaY=-g.deltaY:this.deltaY=-g.deltaY/40}if(typeof d.wheelDeltaX!="undefined")f.isSafari&&V.ED?this.deltaX=-(d.wheelDeltaX/120):this.deltaX=d.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS!="undefined"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-g.detail/3;else if(g.type==="wheel"){const s=g;s.deltaMode===s.DOM_DELTA_LINE?f.isFirefox&&!V.dz?this.deltaX=-g.deltaX/3:this.deltaX=-g.deltaX:this.deltaX=-g.deltaX/40}this.deltaY===0&&this.deltaX===0&&g.wheelDelta&&(this.deltaY=g.wheelDelta/120)}}preventDefault(){var g;(g=this.browserEvent)===null||g===void 0||g.preventDefault()}stopPropagation(){var g;(g=this.browserEvent)===null||g===void 0||g.stopPropagation()}}},14209:function(Rt,Be,t){"use strict";t.d(Be,{B:function(){return f}});var f;(function(O){const u={total:0,min:Number.MAX_VALUE,max:0},_=Object.assign({},u),p=Object.assign({},u),V=Object.assign({},u);let I=0;const L={keydown:0,input:0,render:0};function E(){v(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),L.keydown=1,queueMicrotask(g)}O.onKeyDown=E;function g(){L.keydown===1&&(performance.mark("keydown/end"),L.keydown=2)}function a(){performance.mark("input/start"),L.input=1,c()}O.onBeforeInput=a;function l(){L.input===0&&a(),queueMicrotask(d)}O.onInput=l;function d(){L.input===1&&(performance.mark("input/end"),L.input=2)}function i(){v()}O.onKeyUp=i;function s(){v()}O.onSelectionChange=s;function m(){L.keydown===2&&L.input===2&&L.render===0&&(performance.mark("render/start"),L.render=1,queueMicrotask(b),c())}O.onRenderStart=m;function b(){L.render===1&&(performance.mark("render/end"),L.render=2)}function c(){setTimeout(v)}function v(){L.keydown===2&&L.input===2&&L.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),C("keydown",u),C("input",_),C("render",p),C("inputlatency",V),I++,S())}function C(D,F){const B=performance.getEntriesByName(D)[0].duration;F.total+=B,F.min=Math.min(F.min,B),F.max=Math.max(F.max,B)}function S(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),L.keydown=0,L.input=0,L.render=0}function N(){if(I===0)return;const D={keydown:P(u),input:P(_),render:P(p),total:P(V),sampleCount:I};return M(u),M(_),M(p),M(V),I=0,D}O.getAndClearMeasurements=N;function P(D){return{average:D.total/I,max:D.max,min:D.min}}function M(D){D.total=0,D.min=Number.MAX_VALUE,D.max=0}})(f||(f={}))},80265:function(Rt,Be,t){"use strict";t.d(Be,{o:function(){return L},t:function(){return I}});var f=t(34441),O=t(16308),u=t(4848),_=t(38431),p=t(17979),V=function(E,g,a,l){var d=arguments.length,i=d<3?g:l===null?l=Object.getOwnPropertyDescriptor(g,a):l,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(E,g,a,l);else for(var m=E.length-1;m>=0;m--)(s=E[m])&&(i=(d<3?s(i):d>3?s(g,a,i):s(g,a))||i);return d>3&&i&&Object.defineProperty(g,a,i),i},I;(function(E){E.Tap="-monaco-gesturetap",E.Change="-monaco-gesturechange",E.Start="-monaco-gesturestart",E.End="-monaco-gesturesend",E.Contextmenu="-monaco-gesturecontextmenu"})(I||(I={}));class L extends _.JT{constructor(){super(),this.dispatched=!1,this.targets=new p.S,this.ignoreTargets=new p.S,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(f.nm(document,"touchstart",g=>this.onTouchStart(g),{passive:!1})),this._register(f.nm(document,"touchend",g=>this.onTouchEnd(g))),this._register(f.nm(document,"touchmove",g=>this.onTouchMove(g),{passive:!1}))}static addTarget(g){if(!L.isTouchDevice())return _.JT.None;L.INSTANCE||(L.INSTANCE=new L);const a=L.INSTANCE.targets.push(g);return(0,_.OF)(a)}static ignoreTarget(g){if(!L.isTouchDevice())return _.JT.None;L.INSTANCE||(L.INSTANCE=new L);const a=L.INSTANCE.ignoreTargets.push(g);return(0,_.OF)(a)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(g){const a=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let l=0,d=g.targetTouches.length;l<d;l++){const i=g.targetTouches.item(l);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:a,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[a],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};const s=this.newGestureEvent(I.Start,i.target);s.pageX=i.pageX,s.pageY=i.pageY,this.dispatchEvent(s)}this.dispatched&&(g.preventDefault(),g.stopPropagation(),this.dispatched=!1)}onTouchEnd(g){const a=Date.now(),l=Object.keys(this.activeTouches).length;for(let d=0,i=g.changedTouches.length;d<i;d++){const s=g.changedTouches.item(d);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}const m=this.activeTouches[s.identifier],b=Date.now()-m.initialTimeStamp;if(b<L.HOLD_DELAY&&Math.abs(m.initialPageX-O.Gb(m.rollingPageX))<30&&Math.abs(m.initialPageY-O.Gb(m.rollingPageY))<30){const c=this.newGestureEvent(I.Tap,m.initialTarget);c.pageX=O.Gb(m.rollingPageX),c.pageY=O.Gb(m.rollingPageY),this.dispatchEvent(c)}else if(b>=L.HOLD_DELAY&&Math.abs(m.initialPageX-O.Gb(m.rollingPageX))<30&&Math.abs(m.initialPageY-O.Gb(m.rollingPageY))<30){const c=this.newGestureEvent(I.Contextmenu,m.initialTarget);c.pageX=O.Gb(m.rollingPageX),c.pageY=O.Gb(m.rollingPageY),this.dispatchEvent(c)}else if(l===1){const c=O.Gb(m.rollingPageX),v=O.Gb(m.rollingPageY),C=O.Gb(m.rollingTimestamps)-m.rollingTimestamps[0],S=c-m.rollingPageX[0],N=v-m.rollingPageY[0],P=[...this.targets].filter(M=>m.initialTarget instanceof Node&&M.contains(m.initialTarget));this.inertia(P,a,Math.abs(S)/C,S>0?1:-1,c,Math.abs(N)/C,N>0?1:-1,v)}this.dispatchEvent(this.newGestureEvent(I.End,m.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(g.preventDefault(),g.stopPropagation(),this.dispatched=!1)}newGestureEvent(g,a){const l=document.createEvent("CustomEvent");return l.initEvent(g,!1,!0),l.initialTarget=a,l.tapCount=0,l}dispatchEvent(g){if(g.type===I.Tap){const a=new Date().getTime();let l=0;a-this._lastSetTapCountTime>L.CLEAR_TAP_COUNT_TIME?l=1:l=2,this._lastSetTapCountTime=a,g.tapCount=l}else(g.type===I.Change||g.type===I.Contextmenu)&&(this._lastSetTapCountTime=0);if(g.initialTarget instanceof Node){for(const a of this.ignoreTargets)if(a.contains(g.initialTarget))return;for(const a of this.targets)a.contains(g.initialTarget)&&(a.dispatchEvent(g),this.dispatched=!0)}}inertia(g,a,l,d,i,s,m,b){this.handle=f.jL(()=>{const c=Date.now(),v=c-a;let C=0,S=0,N=!0;l+=L.SCROLL_FRICTION*v,s+=L.SCROLL_FRICTION*v,l>0&&(N=!1,C=d*l*v),s>0&&(N=!1,S=m*s*v);const P=this.newGestureEvent(I.Change);P.translationX=C,P.translationY=S,g.forEach(M=>M.dispatchEvent(P)),N||this.inertia(g,c,l,d,i+C,s,m,b+S)})}onTouchMove(g){const a=Date.now();for(let l=0,d=g.changedTouches.length;l<d;l++){const i=g.changedTouches.item(l);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("end of an UNKNOWN touch",i);continue}const s=this.activeTouches[i.identifier],m=this.newGestureEvent(I.Change,s.initialTarget);m.translationX=i.pageX-O.Gb(s.rollingPageX),m.translationY=i.pageY-O.Gb(s.rollingPageY),m.pageX=i.pageX,m.pageY=i.pageY,this.dispatchEvent(m),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(i.pageX),s.rollingPageY.push(i.pageY),s.rollingTimestamps.push(a)}this.dispatched&&(g.preventDefault(),g.stopPropagation(),this.dispatched=!1)}}L.SCROLL_FRICTION=-.005,L.HOLD_DELAY=700,L.CLEAR_TAP_COUNT_TIME=400,V([u.H],L,"isTouchDevice",null)},58352:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return O}});var f=t(20996);function O(u,_){var p;const V=globalThis.MonacoEnvironment;if(V!=null&&V.createTrustedTypesPolicy)try{return V.createTrustedTypesPolicy(u,_)}catch(I){(0,f.dL)(I);return}try{return(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy(u,_)}catch(I){(0,f.dL)(I);return}}},31957:function(Rt,Be,t){"use strict";t.d(Be,{gU:function(){return B},YH:function(){return F},Lc:function(){return U}});var f=t(71488),O=t(89181),u=t(34441),_=t(80265),p=t(83579),V=t(54505),I=t(6544),L=t(10786),E=t(75490),g=t(16308),a=t(56709),l=t(94880),d=t(38431),i=t(11138),s=t(26386);const m=u.$,b="selectOption.entry.template";class c{get templateId(){return b}renderTemplate(k){const R=Object.create(null);return R.root=k,R.text=u.R3(k,m(".option-text")),R.detail=u.R3(k,m(".option-detail")),R.decoratorRight=u.R3(k,m(".option-decorator-right")),R}renderElement(k,R,$){const J=$,Y=k.text,j=k.detail,z=k.decoratorRight,K=k.isDisabled;J.text.textContent=Y,J.detail.textContent=j||"",J.decoratorRight.innerText=z||"",K?J.root.classList.add("option-disabled"):J.root.classList.remove("option-disabled")}disposeTemplate(k){}}class v extends d.JT{constructor(k,R,$,J,Y){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=J,this.selectBoxOptions=Y||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=v.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new a.Q5,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown($),this.selected=R||0,k&&this.setOptions(k,R),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return b}constructSelectDropDown(k){this.contextViewProvider=k,this.selectDropDownContainer=u.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=u.R3(this.selectDropDownContainer,m(".select-box-details-pane"));const R=u.R3(this.selectDropDownContainer,m(".select-box-dropdown-container-width-control")),$=u.R3(R,m(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",u.R3($,this.widthControlElement),this._dropDownPosition=0,this.styleElement=u.dS(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(u.nm(this.selectDropDownContainer,u.tw.DRAG_START,J=>{u.zB.stop(J,!0)}))}registerListeners(){this._register(u.mu(this.selectElement,"change",R=>{this.selected=R.target.selectedIndex,this._onDidSelect.fire({index:R.target.selectedIndex,selected:R.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(u.nm(this.selectElement,u.tw.CLICK,R=>{u.zB.stop(R),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(u.nm(this.selectElement,u.tw.MOUSE_DOWN,R=>{u.zB.stop(R)}));let k;this._register(u.nm(this.selectElement,"touchstart",R=>{k=this._isVisible})),this._register(u.nm(this.selectElement,"touchend",R=>{u.zB.stop(R),k?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(u.nm(this.selectElement,u.tw.KEY_DOWN,R=>{const $=new I.y(R);let J=!1;i.dz?($.keyCode===18||$.keyCode===16||$.keyCode===10||$.keyCode===3)&&(J=!0):($.keyCode===18&&$.altKey||$.keyCode===16&&$.altKey||$.keyCode===10||$.keyCode===3)&&(J=!0),J&&(this.showSelectDropDown(),u.zB.stop(R,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(k,R){g.fS(this.options,k)||(this.options=k,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach(($,J)=>{this.selectElement.add(this.createOption($.text,J,$.isDisabled)),typeof $.description=="string"&&(this._hasDetails=!0)})),R!==void 0&&(this.select(R),this._currentSelection=this.selected)}setOptionsList(){var k;(k=this.selectList)===null||k===void 0||k.splice(0,this.selectList.length,this.options)}select(k){k>=0&&k<this.options.length?this.selected=k:k>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(k){this.selectElement.tabIndex=k?0:-1}render(k){this.container=k,k.classList.add("select-container"),k.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const k=[];this.styles.listFocusBackground&&k.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&k.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&k.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(k.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),k.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),k.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(k.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),k.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&k.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&k.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&k.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&k.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),k.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),k.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=k.join(`
`)}styleSelectElement(){var k,R,$;const J=(k=this.styles.selectBackground)!==null&&k!==void 0?k:"",Y=(R=this.styles.selectForeground)!==null&&R!==void 0?R:"",j=($=this.styles.selectBorder)!==null&&$!==void 0?$:"";this.selectElement.style.backgroundColor=J,this.selectElement.style.color=Y,this.selectElement.style.borderColor=j}styleList(){var k,R;const $=(k=this.styles.selectBackground)!==null&&k!==void 0?k:"",J=u.XT(this.styles.selectListBackground,$);this.selectDropDownListContainer.style.backgroundColor=J,this.selectionDetailsPane.style.backgroundColor=J;const Y=(R=this.styles.focusBorder)!==null&&R!==void 0?R:"";this.selectDropDownContainer.style.outlineColor=Y,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(k,R,$){const J=document.createElement("option");return J.value=k,J.text=k,J.disabled=!!$,J}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:k=>this.renderSelectDropDown(k,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:k=>this.renderSelectDropDown(k),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(k){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),k&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(k,R){return k.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(R),{dispose:()=>{try{k.removeChild(this.selectDropDownContainer)}catch($){}}}}measureMaxDetailsHeight(){let k=0;return this.options.forEach((R,$)=>{this.updateDetail($),this.selectionDetailsPane.offsetHeight>k&&(k=this.selectionDetailsPane.offsetHeight)}),k}layoutSelectDropDown(k){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const R=u.i(this.selectElement),$=getComputedStyle(this.selectElement),J=parseFloat($.getPropertyValue("--dropdown-padding-top"))+parseFloat($.getPropertyValue("--dropdown-padding-bottom")),Y=window.innerHeight-R.top-R.height-(this.selectBoxOptions.minBottomMargin||0),j=R.top-v.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,z=this.selectElement.offsetWidth,K=this.setWidthControlElement(this.widthControlElement),Z=Math.max(K,Math.round(z)).toString()+"px";this.selectDropDownContainer.style.width=Z,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let fe=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const T=this._hasDetails?this._cachedMaxDetailsHeight:0,Re=fe+J+T,Ce=Math.floor((Y-J-T)/this.getHeight()),_e=Math.floor((j-J-T)/this.getHeight());if(k)return R.top+R.height>window.innerHeight-22||R.top<v.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||Ce<1&&_e<1?!1:(Ce<v.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&_e>Ce&&this.options.length>Ce?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(R.top+R.height>window.innerHeight-22||R.top<v.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&Ce<1||this._dropDownPosition===1&&_e<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&Ce+_e<1)return this.hideSelectDropDown(!0),!1;Re>Y&&(fe=Ce*this.getHeight())}else Re>j&&(fe=_e*this.getHeight());return this.selectList.layout(fe),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=fe+J+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=fe+J+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=Z,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(k){let R=0;if(k){let $=0,J=0;this.options.forEach((Y,j)=>{const z=Y.detail?Y.detail.length:0,K=Y.decoratorRight?Y.decoratorRight.length:0,Z=Y.text.length+z+K;Z>J&&($=j,J=Z)}),k.textContent=this.options[$].text+(this.options[$].decoratorRight?this.options[$].decoratorRight+" ":""),R=u.w(k)}return R}createSelectList(k){if(this.selectList)return;this.selectDropDownListContainer=u.R3(k,m(".select-box-dropdown-list-container")),this.listRenderer=new c,this.selectList=new E.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:J=>{let Y=J.text;return J.detail&&(Y+=`. ${J.detail}`),J.decoratorRight&&(Y+=`. ${J.decoratorRight}`),J.description&&(Y+=`. ${J.description}`),Y},getWidgetAriaLabel:()=>(0,s.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>i.dz?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const R=this._register(new V.Y(this.selectDropDownListContainer,"keydown")),$=a.ju.chain(R.event).filter(()=>this.selectList.length>0).map(J=>new I.y(J));this._register($.filter(J=>J.keyCode===3).on(J=>this.onEnter(J),this)),this._register($.filter(J=>J.keyCode===2).on(J=>this.onEnter(J),this)),this._register($.filter(J=>J.keyCode===9).on(J=>this.onEscape(J),this)),this._register($.filter(J=>J.keyCode===16).on(J=>this.onUpArrow(J),this)),this._register($.filter(J=>J.keyCode===18).on(J=>this.onDownArrow(J),this)),this._register($.filter(J=>J.keyCode===12).on(this.onPageDown,this)),this._register($.filter(J=>J.keyCode===11).on(this.onPageUp,this)),this._register($.filter(J=>J.keyCode===14).on(this.onHome,this)),this._register($.filter(J=>J.keyCode===13).on(this.onEnd,this)),this._register($.filter(J=>J.keyCode>=21&&J.keyCode<=56||J.keyCode>=85&&J.keyCode<=113).on(this.onCharacter,this)),this._register(u.nm(this.selectList.getHTMLElement(),u.tw.POINTER_UP,J=>this.onPointerUp(J))),this._register(this.selectList.onMouseOver(J=>typeof J.index!="undefined"&&this.selectList.setFocus([J.index]))),this._register(this.selectList.onDidChangeFocus(J=>this.onListFocus(J))),this._register(u.nm(this.selectDropDownContainer,u.tw.FOCUS_OUT,J=>{!this._isVisible||u.jg(J.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(k){if(!this.selectList.length)return;u.zB.stop(k);const R=k.target;if(!R||R.classList.contains("slider"))return;const $=R.closest(".monaco-list-row");if(!$)return;const J=Number($.getAttribute("data-index")),Y=$.classList.contains("option-disabled");J>=0&&J<this.options.length&&!Y&&(this.selected=J,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(k,R){const $=Y=>{for(let j=0;j<Y.childNodes.length;j++){const z=Y.childNodes.item(j);(z.tagName&&z.tagName.toLowerCase())==="img"?Y.removeChild(z):$(z)}},J=(0,L.ap)({value:k,supportThemeIcons:!0},{actionHandler:R});return J.element.classList.add("select-box-description-markdown"),$(J.element),J.element}onListFocus(k){!this._isVisible||!this._hasDetails||this.updateDetail(k.indexes[0])}updateDetail(k){var R,$;this.selectionDetailsPane.innerText="";const J=this.options[k],Y=(R=J==null?void 0:J.description)!==null&&R!==void 0?R:"",j=($=J==null?void 0:J.descriptionIsMarkdown)!==null&&$!==void 0?$:!1;if(Y){if(j){const z=J.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(Y,z))}else this.selectionDetailsPane.innerText=Y;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(k){u.zB.stop(k),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(k){u.zB.stop(k),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(k){if(this.selected<this.options.length-1){u.zB.stop(k,!0);const R=this.options[this.selected+1].isDisabled;if(R&&this.options.length>this.selected+2)this.selected+=2;else{if(R)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(k){this.selected>0&&(u.zB.stop(k,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(k){u.zB.stop(k),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(k){u.zB.stop(k),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(k){u.zB.stop(k),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(k){u.zB.stop(k),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(k){const R=l.kL.toString(k.keyCode);let $=-1;for(let J=0;J<this.options.length-1;J++)if($=(J+this.selected+1)%this.options.length,this.options[$].text.charAt(0).toUpperCase()===R&&!this.options[$].isDisabled){this.select($),this.selectList.setFocus([$]),this.selectList.reveal(this.selectList.getFocus()[0]),u.zB.stop(k);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}v.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,v.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,v.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class C extends d.JT{constructor(k,R,$,J){super(),this.selected=0,this.selectBoxOptions=J||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new a.Q5),this.styles=$,this.registerListeners(),this.setOptions(k,R)}registerListeners(){this._register(_.o.addTarget(this.selectElement)),[_.t.Tap].forEach(k=>{this._register(u.nm(this.selectElement,k,R=>{this.selectElement.focus()}))}),this._register(u.mu(this.selectElement,"click",k=>{u.zB.stop(k,!0)})),this._register(u.mu(this.selectElement,"change",k=>{this.selectElement.title=k.target.value,this._onDidSelect.fire({index:k.target.selectedIndex,selected:k.target.value})})),this._register(u.mu(this.selectElement,"keydown",k=>{let R=!1;i.dz?(k.keyCode===18||k.keyCode===16||k.keyCode===10)&&(R=!0):(k.keyCode===18&&k.altKey||k.keyCode===10||k.keyCode===3)&&(R=!0),R&&k.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(k,R){(!this.options||!g.fS(this.options,k))&&(this.options=k,this.selectElement.options.length=0,this.options.forEach(($,J)=>{this.selectElement.add(this.createOption($.text,J,$.isDisabled))})),R!==void 0&&this.select(R)}select(k){this.options.length===0?this.selected=0:k>=0&&k<this.options.length?this.selected=k:k>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(k){this.selectElement.tabIndex=k?0:-1}render(k){k.classList.add("select-container"),k.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var k,R,$;this.selectElement&&(this.selectElement.style.backgroundColor=(k=this.styles.selectBackground)!==null&&k!==void 0?k:"",this.selectElement.style.color=(R=this.styles.selectForeground)!==null&&R!==void 0?R:"",this.selectElement.style.borderColor=($=this.styles.selectBorder)!==null&&$!==void 0?$:"")}createOption(k,R,$){const J=document.createElement("option");return J.value=k,J.text=k,J.disabled=!!$,J}}var S=t(88305);class N extends S.${constructor(k,R,$,J,Y){super(),i.dz&&!(Y!=null&&Y.useCustomDrawn)?this.selectBoxDelegate=new C(k,R,J,Y):this.selectBoxDelegate=new v(k,R,$,J,Y),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(k,R){this.selectBoxDelegate.setOptions(k,R)}select(k){this.selectBoxDelegate.select(k)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(k){this.selectBoxDelegate.setFocusable(k)}render(k){this.selectBoxDelegate.render(k)}}var P=t(98299),M=t(14818),D=t(17922);class F extends d.JT{get action(){return this._action}constructor(k,R,$={}){super(),this.options=$,this._context=k||this,this._action=R,R instanceof P.aU&&this._register(R.onDidChange(J=>{this.element&&this.handleActionChangeEvent(J)}))}handleActionChangeEvent(k){k.enabled!==void 0&&this.updateEnabled(),k.checked!==void 0&&this.updateChecked(),k.class!==void 0&&this.updateClass(),k.label!==void 0&&(this.updateLabel(),this.updateTooltip()),k.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new P.Wi)),this._actionRunner}set actionRunner(k){this._actionRunner=k}isEnabled(){return this._action.enabled}setActionContext(k){this._context=k}render(k){const R=this.element=k;this._register(_.o.addTarget(k));const $=this.options&&this.options.draggable;$&&(k.draggable=!0,f.isFirefox&&this._register((0,u.nm)(k,u.tw.DRAG_START,J=>{var Y;return(Y=J.dataTransfer)===null||Y===void 0?void 0:Y.setData(O.g.TEXT,this._action.label)}))),this._register((0,u.nm)(R,_.t.Tap,J=>this.onClick(J,!0))),this._register((0,u.nm)(R,u.tw.MOUSE_DOWN,J=>{$||u.zB.stop(J,!0),this._action.enabled&&J.button===0&&R.classList.add("active")})),i.dz&&this._register((0,u.nm)(R,u.tw.CONTEXT_MENU,J=>{J.button===0&&J.ctrlKey===!0&&this.onClick(J)})),this._register((0,u.nm)(R,u.tw.CLICK,J=>{u.zB.stop(J,!0),this.options&&this.options.isMenu||this.onClick(J)})),this._register((0,u.nm)(R,u.tw.DBLCLICK,J=>{u.zB.stop(J,!0)})),[u.tw.MOUSE_UP,u.tw.MOUSE_OUT].forEach(J=>{this._register((0,u.nm)(R,J,Y=>{u.zB.stop(Y),R.classList.remove("active")}))})}onClick(k,R=!1){var $;u.zB.stop(k,!0);const J=M.Jp(this._context)?!(($=this.options)===null||$===void 0)&&$.useEventAsContext?k:{preserveFocus:R}:this._context;this.actionRunner.run(this._action,J)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(k){this.element&&(this.element.tabIndex=k?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var k;if(!this.element)return;const R=(k=this.getTooltip())!==null&&k!==void 0?k:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(R):(this.customHover=(0,p.g)(this.options.hoverDelegate,this.element,R),this._store.add(this.customHover))):this.element.title=R}updateAriaLabel(){var k;if(this.element){const R=(k=this.getTooltip())!==null&&k!==void 0?k:"";this.element.setAttribute("aria-label",R)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class B extends F{constructor(k,R,$){super(k,R,$),this.options=$,this.options.icon=$.icon!==void 0?$.icon:!1,this.options.label=$.label!==void 0?$.label:!0,this.cssClass=""}render(k){super.render(k),this.element&&(this.label=(0,u.R3)(this.element,(0,u.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&((0,u.R3)(this.element,(0,u.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===P.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(k){this.label&&(this.label.tabIndex=k?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let k=null;return this.action.tooltip?k=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(k=this.action.label,this.options.keybinding&&(k=s.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",k,this.options.keybinding))),k!=null?k:void 0}updateClass(){var k;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(k=this.label)===null||k===void 0||k.classList.remove("codicon")}updateEnabled(){var k,R;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(k=this.element)===null||k===void 0||k.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(R=this.element)===null||R===void 0||R.classList.add("disabled"))}updateAriaLabel(){var k;if(this.label){const R=(k=this.getTooltip())!==null&&k!==void 0?k:"";this.label.setAttribute("aria-label",R)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class U extends F{constructor(k,R,$,J,Y,j,z){super(k,R),this.selectBox=new N($,J,Y,j,z),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(k){this.selectBox.select(k)}registerListeners(){this._register(this.selectBox.onDidSelect(k=>this.runAction(k.selected,k.index)))}runAction(k,R){this.actionRunner.run(this._action,this.getActionContext(k,R))}getActionContext(k,R){return k}setFocusable(k){this.selectBox.setFocusable(k)}focus(){var k;(k=this.selectBox)===null||k===void 0||k.focus()}blur(){var k;(k=this.selectBox)===null||k===void 0||k.blur()}render(k){this.selectBox.render(k)}}},67235:function(Rt,Be,t){"use strict";t.d(Be,{o:function(){return g}});var f=t(34441),O=t(6544),u=t(31957),_=t(98299),p=t(56709),V=t(38431),I=t(14818),L=t(17922),E=function(a,l,d,i){function s(m){return m instanceof d?m:new d(function(b){b(m)})}return new(d||(d=Promise))(function(m,b){function c(S){try{C(i.next(S))}catch(N){b(N)}}function v(S){try{C(i.throw(S))}catch(N){b(N)}}function C(S){S.done?m(S.value):s(S.value).then(c,v)}C((i=i.apply(a,l||[])).next())})};class g extends V.JT{constructor(l,d={}){var i,s,m,b,c,v;super(),this._actionRunnerDisposables=this._register(new V.SL),this.viewItemDisposables=this._register(new V.b2),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Q5({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Q5),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new p.Q5),this.onWillRun=this._onWillRun.event,this.options=d,this._context=(i=d.context)!==null&&i!==void 0?i:null,this._orientation=(s=this.options.orientation)!==null&&s!==void 0?s:0,this._triggerKeys={keyDown:(b=(m=this.options.triggerKeys)===null||m===void 0?void 0:m.keyDown)!==null&&b!==void 0?b:!1,keys:(v=(c=this.options.triggerKeys)===null||c===void 0?void 0:c.keys)!==null&&v!==void 0?v:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new _.Wi,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(N=>this._onDidRun.fire(N))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(N=>this._onWillRun.fire(N))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",d.animated!==!1&&this.domNode.classList.add("animated");let C,S;switch(this._orientation){case 0:C=[15],S=[17];break;case 1:C=[16],S=[18],this.domNode.className+=" vertical";break}this._register(f.nm(this.domNode,f.tw.KEY_DOWN,N=>{const P=new O.y(N);let M=!0;const D=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;C&&(P.equals(C[0])||P.equals(C[1]))?M=this.focusPrevious():S&&(P.equals(S[0])||P.equals(S[1]))?M=this.focusNext():P.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():P.equals(14)?M=this.focusFirst():P.equals(13)?M=this.focusLast():P.equals(2)&&D instanceof u.YH&&D.trapsArrowNavigation?M=this.focusNext():this.isTriggerKeyEvent(P)?this._triggerKeys.keyDown?this.doTrigger(P):this.triggerKeyDown=!0:M=!1,M&&(P.preventDefault(),P.stopPropagation())})),this._register(f.nm(this.domNode,f.tw.KEY_UP,N=>{const P=new O.y(N);this.isTriggerKeyEvent(P)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(P)),P.preventDefault(),P.stopPropagation()):(P.equals(2)||P.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(f.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(f.vY()===this.domNode||!f.jg(f.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),l.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(l){if(this.focusable=l,this.focusable){const d=this.viewItems.find(i=>i instanceof u.YH&&i.isEnabled());d instanceof u.YH&&d.setFocusable(!0)}else this.viewItems.forEach(d=>{d instanceof u.YH&&d.setFocusable(!1)})}isTriggerKeyEvent(l){let d=!1;return this._triggerKeys.keys.forEach(i=>{d=d||l.equals(i)}),d}updateFocusedItem(){for(let l=0;l<this.actionsList.children.length;l++){const d=this.actionsList.children[l];if(f.jg(f.vY(),d)){this.focusedItem=l;break}}}get context(){return this._context}set context(l){this._context=l,this.viewItems.forEach(d=>d.setActionContext(l))}get actionRunner(){return this._actionRunner}set actionRunner(l){this._actionRunner=l,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(d=>this._onDidRun.fire(d))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(d=>this._onWillRun.fire(d))),this.viewItems.forEach(d=>d.actionRunner=l)}getContainer(){return this.domNode}getAction(l){var d;if(typeof l=="number")return(d=this.viewItems[l])===null||d===void 0?void 0:d.action;if(l instanceof HTMLElement){for(;l.parentElement!==this.actionsList;){if(!l.parentElement)return;l=l.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===l)return this.viewItems[i].action}}push(l,d={}){const i=Array.isArray(l)?l:[l];let s=I.hj(d.index)?d.index:null;i.forEach(m=>{const b=document.createElement("li");b.className="action-item",b.setAttribute("role","presentation");let c;const v=Object.assign({hoverDelegate:this.options.hoverDelegate},d);this.options.actionViewItemProvider&&(c=this.options.actionViewItemProvider(m,v)),c||(c=new u.gU(this.context,m,v)),this.options.allowContextMenu||this.viewItemDisposables.set(c,f.nm(b,f.tw.CONTEXT_MENU,C=>{f.zB.stop(C,!0)})),c.actionRunner=this._actionRunner,c.setActionContext(this.context),c.render(b),this.focusable&&c instanceof u.YH&&this.viewItems.length===0&&c.setFocusable(!0),s===null||s<0||s>=this.actionsList.children.length?(this.actionsList.appendChild(b),this.viewItems.push(c)):(this.actionsList.insertBefore(b,this.actionsList.children[s]),this.viewItems.splice(s,0,c),s++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,V.B9)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),f.PO(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(l){let d=!1,i;if(l===void 0?d=!0:typeof l=="number"?i=l:typeof l=="boolean"&&(d=l),d&&typeof this.focusedItem=="undefined"){const s=this.viewItems.findIndex(m=>m.isEnabled());this.focusedItem=s===-1?void 0:s,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(l){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const d=this.focusedItem;let i;do{if(!l&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=d,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==d&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===_.Z0.ID));return this.updateFocus(),!0}focusPrevious(l){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const d=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!l&&this.options.preventLoopNavigation)return this.focusedItem=d,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==d&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===_.Z0.ID));return this.updateFocus(!0),!0}updateFocus(l,d,i=!1){var s;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:d}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((s=this.viewItems[this.previouslyFocusedItem])===null||s===void 0||s.blur());const m=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(m){let b=!0;I.mf(m.focus)||(b=!1),this.options.focusOnlyEnabledItems&&I.mf(m.isEnabled)&&!m.isEnabled()&&(b=!1),m.action.id===_.Z0.ID&&(b=!1),b?(i||this.previouslyFocusedItem!==this.focusedItem)&&(m.focus(l),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:d}),this.previouslyFocusedItem=void 0)}}doTrigger(l){if(typeof this.focusedItem=="undefined")return;const d=this.viewItems[this.focusedItem];if(d instanceof u.YH){const i=d._context===null||d._context===void 0?l:d._context;this.run(d._action,i)}}run(l,d){return E(this,void 0,void 0,function*(){yield this._actionRunner.run(l,d)})}dispose(){this._context=void 0,this.viewItems=(0,V.B9)(this.viewItems),this.getContainer().remove(),super.dispose()}}},79874:function(Rt,Be,t){"use strict";t.d(Be,{Z9:function(){return g},wW:function(){return E},i7:function(){return a}});var f=t(34441),O=t(11138);const u=2e4;let _,p,V,I,L;function E(d){_=document.createElement("div"),_.className="monaco-aria-container";const i=()=>{const m=document.createElement("div");return m.className="monaco-alert",m.setAttribute("role","alert"),m.setAttribute("aria-atomic","true"),_.appendChild(m),m};p=i(),V=i();const s=()=>{const m=document.createElement("div");return m.className="monaco-status",m.setAttribute("role","complementary"),m.setAttribute("aria-live","polite"),m.setAttribute("aria-atomic","true"),_.appendChild(m),m};I=s(),L=s(),d.appendChild(_)}function g(d){_&&(p.textContent!==d?(f.PO(V),l(p,d)):(f.PO(p),l(V,d)))}function a(d){_&&(O.dz?g(d):I.textContent!==d?(f.PO(L),l(I,d)):(f.PO(I),l(L,d)))}function l(d,i){f.PO(d),i.length>u&&(i=i.substr(0,u)),d.textContent=i,d.style.visibility="hidden",d.style.visibility="visible"}},1894:function(Rt,Be,t){"use strict";t.d(Be,{z:function(){return l}});var f=t(34441),O=t(29278),u=t(6544),_=t(10786),p=t(80265),V=t(19111),I=t(86741),L=t(56709),E=t(69008),g=t(38431);const a={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:I.Il.white.toString(),buttonForeground:I.Il.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class l extends g.JT{get onDidClick(){return this._onDidClick.event}constructor(i,s){super(),this._label="",this._onDidClick=this._register(new L.Q5),this.options=s,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button");const m=s.secondary?s.buttonSecondaryBackground:s.buttonBackground,b=s.secondary?s.buttonSecondaryForeground:s.buttonForeground;this._element.style.color=b||"",this._element.style.backgroundColor=m||"",s.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),i.appendChild(this._element),this._register(p.o.addTarget(this._element)),[f.tw.CLICK,p.t.Tap].forEach(c=>{this._register((0,f.nm)(this._element,c,v=>{if(!this.enabled){f.zB.stop(v);return}this._onDidClick.fire(v)}))}),this._register((0,f.nm)(this._element,f.tw.KEY_DOWN,c=>{const v=new u.y(c);let C=!1;this.enabled&&(v.equals(3)||v.equals(10))?(this._onDidClick.fire(c),C=!0):v.equals(9)&&(this._element.blur(),C=!0),C&&f.zB.stop(v,!0)})),this._register((0,f.nm)(this._element,f.tw.MOUSE_OVER,c=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,f.nm)(this._element,f.tw.MOUSE_OUT,c=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,f.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}getContentElements(i){const s=[];for(let m of(0,V.T)(i))if(typeof m=="string"){if(m=m.trim(),m==="")continue;const b=document.createElement("span");b.textContent=m,s.push(b)}else s.push(m);return s}updateBackground(i){let s;this.options.secondary?s=i?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:s=i?this.options.buttonHoverBackground:this.options.buttonBackground,s&&(this._element.style.backgroundColor=s)}get element(){return this._element}set label(i){var s;if(this._label===i||(0,E.Fr)(this._label)&&(0,E.Fr)(i)&&(0,E.g_)(this._label,i))return;this._element.classList.add("monaco-text-button");const m=this.options.supportShortLabel?this._labelElement:this._element;if((0,E.Fr)(i)){const b=(0,_.ap)(i,{inline:!0});b.dispose();const c=(s=b.element.querySelector("p"))===null||s===void 0?void 0:s.innerHTML;if(c){const v=(0,O.Nw)(c,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});m.innerHTML=v}else(0,f.mc)(m)}else this.options.supportIcons?(0,f.mc)(m,...this.getContentElements(i)):m.textContent=i;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,_.et)(i)),this._label=i}get label(){return this._label}set enabled(i){i?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}},89467:function(){"use strict"},19205:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return u}});var f=t(34441),O=t(17416);class u{constructor(p,V,I){this.options=V,this.styles=I,this.count=0,this.element=(0,f.R3)(p,(0,f.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(p){this.count=p,this.render()}setTitleFormat(p){this.titleFormat=p,this.render()}render(){var p,V;this.element.textContent=(0,O.WU)(this.countFormat,this.count),this.element.title=(0,O.WU)(this.titleFormat,this.count),this.element.style.backgroundColor=(p=this.styles.badgeBackground)!==null&&p!==void 0?p:"",this.element.style.color=(V=this.styles.badgeForeground)!==null&&V!==void 0?V:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},19792:function(Rt,Be,t){"use strict";t.d(Be,{C:function(){return E}});var f=t(34441),O=t(31957),u=t(6544),_=t(80265),p=t(98299),V=t(56709);class I extends p.Wi{constructor(a,l){super(),this._onDidChangeVisibility=this._register(new V.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,f.R3)(a,(0,f.$)(".monaco-dropdown")),this._label=(0,f.R3)(this._element,(0,f.$)(".dropdown-label"));let d=l.labelRenderer;d||(d=s=>(s.textContent=l.label||"",null));for(const s of[f.tw.CLICK,f.tw.MOUSE_DOWN,_.t.Tap])this._register((0,f.nm)(this.element,s,m=>f.zB.stop(m,!0)));for(const s of[f.tw.MOUSE_DOWN,_.t.Tap])this._register((0,f.nm)(this._label,s,m=>{m instanceof MouseEvent&&(m.detail>1||m.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,f.nm)(this._label,f.tw.KEY_UP,s=>{const m=new u.y(s);(m.equals(3)||m.equals(10))&&(f.zB.stop(s,!0),this.visible?this.hide():this.show())}));const i=d(this._label);i&&this._register(i),this._register(_.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class L extends I{constructor(a,l){super(a,l),this._actions=[],this._contextMenuProvider=l.contextMenuProvider,this.actions=l.actions||[],this.actionProvider=l.actionProvider,this.menuClassName=l.menuClassName||"",this.menuAsChild=!!l.menuAsChild}set menuOptions(a){this._menuOptions=a}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(a){this._actions=a}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(a,l)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(a,l):void 0,getKeyBinding:a=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(a):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class E extends O.YH{constructor(a,l,d,i=Object.create(null)){super(null,a,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new V.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=l,this.contextMenuProvider=d,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(a){this.actionItem=a;const l=s=>{this.element=(0,f.R3)(s,(0,f.$)("a.action-label"));let m=[];return typeof this.options.classNames=="string"?m=this.options.classNames.split(/\s+/g).filter(b=>!!b):this.options.classNames&&(m=this.options.classNames),m.find(b=>b==="icon")||m.push("codicon"),this.element.classList.add(...m),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},d=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:l,menuAsChild:this.options.menuAsChild,actions:d?this.menuActionsOrProvider:void 0,actionProvider:d?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new L(a,i)),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var m;(m=this.element)===null||m===void 0||m.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return s.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let a=null;return this.action.tooltip?a=this.action.tooltip:this.action.label&&(a=this.action.label),a!=null?a:void 0}setActionContext(a){super.setActionContext(a),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=a:this.dropdownMenu.menuOptions={context:a})}show(){var a;(a=this.dropdownMenu)===null||a===void 0||a.show()}updateEnabled(){var a,l;const d=!this.action.enabled;(a=this.actionItem)===null||a===void 0||a.classList.toggle("disabled",d),(l=this.element)===null||l===void 0||l.classList.toggle("disabled",d)}}},12049:function(Rt,Be,t){"use strict";t.d(Be,{V:function(){return g}});var f=t(34441),O=t(22664),u=t(6364),_=t(88305),p=t(56709),V=t(55873),I=t(26386),L=t(38431);const E=I.NC("defaultLabel","input");class g extends _.${constructor(l,d,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new L.SL,this.additionalToggles=[],this._onDidOptionChange=this._register(new p.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new p.Q5),this._onKeyUp=this._register(new p.Q5),this._onCaseSensitiveKeyDown=this._register(new p.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new p.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||E,this.showCommonFindToggles=!!i.showCommonFindToggles;const s=i.appendCaseSensitiveLabel||"",m=i.appendWholeWordsLabel||"",b=i.appendRegexLabel||"",c=i.history||[],v=!!i.flexibleHeight,C=!!i.flexibleWidth,S=i.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new u.pG(this.domNode,d,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:c,showHistoryHint:i.showHistoryHint,flexibleHeight:v,flexibleWidth:C,flexibleMaxHeight:S,inputBoxStyles:i.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new O.eH(Object.assign({appendTitle:b,isChecked:!1},i.toggleStyles))),this._register(this.regex.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(P=>{this._onRegexKeyDown.fire(P)})),this.wholeWords=this._register(new O.Qx(Object.assign({appendTitle:m,isChecked:!1},i.toggleStyles))),this._register(this.wholeWords.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new O.rk(Object.assign({appendTitle:s,isChecked:!1},i.toggleStyles))),this._register(this.caseSensitive.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(P=>{this._onCaseSensitiveKeyDown.fire(P)}));const N=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,P=>{if(P.equals(15)||P.equals(17)||P.equals(9)){const M=N.indexOf(document.activeElement);if(M>=0){let D=-1;P.equals(17)?D=(M+1)%N.length:P.equals(15)&&(M===0?D=N.length-1:D=M-1),P.equals(9)?(N[M].blur(),this.inputBox.focus()):D>=0&&N[D].focus(),f.zB.stop(P,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i==null?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),l==null||l.appendChild(this.domNode),this._register(f.nm(this.inputBox.inputElement,"compositionstart",N=>{this.imeSessionInProgress=!0})),this._register(f.nm(this.inputBox.inputElement,"compositionend",N=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,N=>this._onKeyDown.fire(N)),this.onkeyup(this.inputBox.inputElement,N=>this._onKeyUp.fire(N)),this.oninput(this.inputBox.inputElement,N=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,N=>this._onMouseDown.fire(N))}get onDidChange(){return this.inputBox.onDidChange}layout(l){this.inputBox.layout(),this.updateInputBoxPadding(l.collapsedFindWidget)}enable(){var l,d,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(l=this.regex)===null||l===void 0||l.enable(),(d=this.wholeWords)===null||d===void 0||d.enable(),(i=this.caseSensitive)===null||i===void 0||i.enable();for(const s of this.additionalToggles)s.enable()}disable(){var l,d,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),(l=this.regex)===null||l===void 0||l.disable(),(d=this.wholeWords)===null||d===void 0||d.disable(),(i=this.caseSensitive)===null||i===void 0||i.disable();for(const s of this.additionalToggles)s.disable()}setFocusInputOnOptionClick(l){this.fixFocusOnOptionClickEnabled=l}setEnabled(l){l?this.enable():this.disable()}setAdditionalToggles(l){for(const d of this.additionalToggles)d.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new L.SL;for(const d of l!=null?l:[])this.additionalTogglesDisposables.add(d),this.controls.appendChild(d.domNode),this.additionalTogglesDisposables.add(d.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(d);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(l=!1){var d,i,s,m,b,c;l?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((i=(d=this.caseSensitive)===null||d===void 0?void 0:d.width())!==null&&i!==void 0?i:0)+((m=(s=this.wholeWords)===null||s===void 0?void 0:s.width())!==null&&m!==void 0?m:0)+((c=(b=this.regex)===null||b===void 0?void 0:b.width())!==null&&c!==void 0?c:0)+this.additionalToggles.reduce((v,C)=>v+C.width(),0)}getValue(){return this.inputBox.value}setValue(l){this.inputBox.value!==l&&(this.inputBox.value=l)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var l,d;return(d=(l=this.caseSensitive)===null||l===void 0?void 0:l.checked)!==null&&d!==void 0?d:!1}setCaseSensitive(l){this.caseSensitive&&(this.caseSensitive.checked=l)}getWholeWords(){var l,d;return(d=(l=this.wholeWords)===null||l===void 0?void 0:l.checked)!==null&&d!==void 0?d:!1}setWholeWords(l){this.wholeWords&&(this.wholeWords.checked=l)}getRegex(){var l,d;return(d=(l=this.regex)===null||l===void 0?void 0:l.checked)!==null&&d!==void 0?d:!1}setRegex(l){this.regex&&(this.regex.checked=l,this.validate())}focusOnCaseSensitive(){var l;(l=this.caseSensitive)===null||l===void 0||l.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(l){this.inputBox.showMessage(l)}clearMessage(){this.inputBox.hideMessage()}}},22664:function(Rt,Be,t){"use strict";t.d(Be,{Qx:function(){return L},eH:function(){return E},rk:function(){return I}});var f=t(23602),O=t(407),u=t(26386);const _=u.NC("caseDescription","Match Case"),p=u.NC("wordsDescription","Match Whole Word"),V=u.NC("regexDescription","Use Regular Expression");class I extends f.Z{constructor(a){super({icon:O.l.caseSensitive,title:_+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class L extends f.Z{constructor(a){super({icon:O.l.wholeWord,title:p+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class E extends f.Z{constructor(a){super({icon:O.l.regex,title:V+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}},86357:function(Rt,Be,t){"use strict";t.d(Be,{q:function(){return _}});var f=t(34441),O=t(19111),u=t(23127);class _{constructor(V,I){var L;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(L=I==null?void 0:I.supportIcons)!==null&&L!==void 0?L:!1,this.domNode=f.R3(V,f.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(V,I=[],L="",E){V||(V=""),E&&(V=_.escapeNewLines(V,I)),!(this.didEverRender&&this.text===V&&this.title===L&&u.fS(this.highlights,I))&&(this.text=V,this.title=L,this.highlights=I,this.render())}render(){const V=[];let I=0;for(const L of this.highlights){if(L.end===L.start)continue;if(I<L.start){const a=this.text.substring(I,L.start);this.supportIcons?V.push(...(0,O.T)(a)):V.push(a),I=L.start}const E=this.text.substring(I,L.end),g=f.$("span.highlight",void 0,...this.supportIcons?(0,O.T)(E):[E]);L.extraClasses&&g.classList.add(...L.extraClasses),V.push(g),I=L.end}if(I<this.text.length){const L=this.text.substring(I);this.supportIcons?V.push(...(0,O.T)(L)):V.push(L)}f.mc(this.domNode,...V),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(V,I){let L=0,E=0;return V.replace(/\r\n|\r|\n/g,(g,a)=>{E=g===`\r
`?-1:0,a+=L;for(const l of I)l.end<=a||(l.start>=a&&(l.start+=E),l.end>=a&&(l.end+=E));return L+=E,"\u23CE"})}}},50963:function(Rt,Be,t){"use strict";t.d(Be,{S:function(){return I},c:function(){return V}});var f=t(34441),O=t(6544),u=t(60018),_=t(38431);const p=f.$;class V extends _.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new u.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class I extends _.JT{static render(E,g,a){return new I(E,g,a)}constructor(E,g,a){super(),this.actionContainer=f.R3(E,p("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=f.R3(this.actionContainer,p("a.action")),this.action.setAttribute("role","button"),g.iconClass&&f.R3(this.action,p(`span.icon.${g.iconClass}`));const l=f.R3(this.action,p("span"));l.textContent=a?`${g.label} (${a})`:g.label,this._register(f.nm(this.actionContainer,f.tw.CLICK,d=>{d.stopPropagation(),d.preventDefault(),g.run(this.actionContainer)})),this._register(f.nm(this.actionContainer,f.tw.KEY_DOWN,d=>{const i=new O.y(d);(i.equals(3)||i.equals(10))&&(d.stopPropagation(),d.preventDefault(),g.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(E){E?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}},65029:function(Rt,Be,t){"use strict";t.d(Be,{g:function(){return L}});var f=t(34441),O=t(86357),u=t(83579),_=t(38431),p=t(23127),V=t(59004);class I{constructor(d){this._element=d}get element(){return this._element}set textContent(d){this.disposed||d===this._textContent||(this._textContent=d,this._element.textContent=d)}set className(d){this.disposed||d===this._className||(this._className=d,this._element.className=d)}set empty(d){this.disposed||d===this._empty||(this._empty=d,this._element.style.marginLeft=d?"0":"")}dispose(){this.disposed=!0}}class L extends _.JT{constructor(d,i){super(),this.customHovers=new Map,this.creationOptions=i,this.domNode=this._register(new I(f.R3(d,f.$(".monaco-icon-label")))),this.labelContainer=f.R3(this.domNode.element,f.$(".monaco-icon-label-container"));const s=f.R3(this.labelContainer,f.$("span.monaco-icon-name-container"));i!=null&&i.supportHighlights||i!=null&&i.supportIcons?this.nameNode=new a(s,!!i.supportIcons):this.nameNode=new E(s),this.hoverDelegate=i==null?void 0:i.hoverDelegate}get element(){return this.domNode.element}setLabel(d,i,s){const m=["monaco-icon-label"],b=["monaco-icon-label-container"];if(s&&(s.extraClasses&&m.push(...s.extraClasses),s.italic&&m.push("italic"),s.strikethrough&&m.push("strikethrough"),s.disabledCommand&&b.push("disabled")),this.domNode.className=m.join(" "),this.labelContainer.className=b.join(" "),this.setupHover(s!=null&&s.descriptionTitle?this.labelContainer:this.element,s==null?void 0:s.title),this.nameNode.setLabel(d,s),i||this.descriptionNode){const c=this.getOrCreateDescriptionNode();c instanceof O.q?(c.set(i||"",s?s.descriptionMatches:void 0,void 0,s==null?void 0:s.labelEscapeNewLines),this.setupHover(c.element,s==null?void 0:s.descriptionTitle)):(c.textContent=i&&(s!=null&&s.labelEscapeNewLines)?O.q.escapeNewLines(i,[]):i||"",this.setupHover(c.element,(s==null?void 0:s.descriptionTitle)||""),c.empty=!i)}}setupHover(d,i){const s=this.customHovers.get(d);if(s&&(s.dispose(),this.customHovers.delete(d)),!i){d.removeAttribute("title");return}if(!this.hoverDelegate)(0,u.O)(d,i);else{const m=(0,u.g)(this.hoverDelegate,d,i);m&&this.customHovers.set(d,m)}}dispose(){super.dispose();for(const d of this.customHovers.values())d.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var d;if(!this.descriptionNode){const i=this._register(new I(f.R3(this.labelContainer,f.$("span.monaco-icon-description-container"))));!((d=this.creationOptions)===null||d===void 0)&&d.supportDescriptionHighlights?this.descriptionNode=new O.q(f.R3(i.element,f.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new I(f.R3(i.element,f.$("span.label-description"))))}return this.descriptionNode}}class E{constructor(d){this.container=d,this.label=void 0,this.singleLabel=void 0}setLabel(d,i){if(!(this.label===d&&(0,p.fS)(this.options,i)))if(this.label=d,this.options=i,typeof d=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=f.R3(this.container,f.$("a.label-name",{id:i==null?void 0:i.domId}))),this.singleLabel.textContent=d;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let s=0;s<d.length;s++){const m=d[s],b=(i==null?void 0:i.domId)&&`${i==null?void 0:i.domId}_${s}`;f.R3(this.container,f.$("a.label-name",{id:b,"data-icon-label-count":d.length,"data-icon-label-index":s,role:"treeitem"},m)),s<d.length-1&&f.R3(this.container,f.$("span.label-separator",void 0,(i==null?void 0:i.separator)||"/"))}}}}function g(l,d,i){if(!i)return;let s=0;return l.map(m=>{const b={start:s,end:s+m.length},c=i.map(v=>V.e.intersect(b,v)).filter(v=>!V.e.isEmpty(v)).map(({start:v,end:C})=>({start:v-s,end:C-s}));return s=b.end+d.length,c})}class a{constructor(d,i){this.container=d,this.supportIcons=i,this.label=void 0,this.singleLabel=void 0}setLabel(d,i){if(!(this.label===d&&(0,p.fS)(this.options,i)))if(this.label=d,this.options=i,typeof d=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new O.q(f.R3(this.container,f.$("a.label-name",{id:i==null?void 0:i.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(d,i==null?void 0:i.matches,void 0,i==null?void 0:i.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const s=(i==null?void 0:i.separator)||"/",m=g(d,s,i==null?void 0:i.matches);for(let b=0;b<d.length;b++){const c=d[b],v=m?m[b]:void 0,C=(i==null?void 0:i.domId)&&`${i==null?void 0:i.domId}_${b}`,S=f.$("a.label-name",{id:C,"data-icon-label-count":d.length,"data-icon-label-index":b,role:"treeitem"});new O.q(f.R3(this.container,S),{supportIcons:this.supportIcons}).set(c,v,void 0,i==null?void 0:i.labelEscapeNewLines),b<d.length-1&&f.R3(S,f.$("span.label-separator",void 0,s))}}}}},83579:function(Rt,Be,t){"use strict";t.d(Be,{O:function(){return g},g:function(){return l}});var f=t(34441),O=t(13484),u=t(97464),_=t(69008),p=t(5858),V=t(38431),I=t(14818),L=t(26386),E=function(d,i,s,m){function b(c){return c instanceof s?c:new s(function(v){v(c)})}return new(s||(s=Promise))(function(c,v){function C(P){try{N(m.next(P))}catch(M){v(M)}}function S(P){try{N(m.throw(P))}catch(M){v(M)}}function N(P){P.done?c(P.value):b(P.value).then(C,S)}N((m=m.apply(d,i||[])).next())})};function g(d,i){(0,I.HD)(i)?d.title=(0,p.x$)(i):i!=null&&i.markdownNotSupportedFallback?d.title=i.markdownNotSupportedFallback:d.removeAttribute("title")}class a{constructor(i,s,m){this.hoverDelegate=i,this.target=s,this.fadeInAnimation=m}update(i,s,m){var b;return E(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let c;if(i===void 0||(0,I.HD)(i)||i instanceof HTMLElement)c=i;else if(!(0,I.mf)(i.markdown))c=(b=i.markdown)!==null&&b!==void 0?b:i.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,L.NC)("iconLabel.loading","Loading..."),s),this._cancellationTokenSource=new u.A;const v=this._cancellationTokenSource.token;if(c=yield i.markdown(v),c===void 0&&(c=i.markdownNotSupportedFallback),this.isDisposed||v.isCancellationRequested)return}this.show(c,s,m)})}show(i,s,m){const b=this._hoverWidget;if(this.hasContent(i)){const c=Object.assign({content:i,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!b},m);this._hoverWidget=this.hoverDelegate.showHover(c,s)}b==null||b.dispose()}hasContent(i){return i?(0,_.Fr)(i)?!!i.value:!0:!1}get isDisposed(){var i;return(i=this._hoverWidget)===null||i===void 0?void 0:i.isDisposed}dispose(){var i,s;(i=this._hoverWidget)===null||i===void 0||i.dispose(),(s=this._cancellationTokenSource)===null||s===void 0||s.dispose(!0),this._cancellationTokenSource=void 0}}function l(d,i,s,m){let b,c;const v=(M,D)=>{var F;const B=c!==void 0;M&&(c==null||c.dispose(),c=void 0),D&&(b==null||b.dispose(),b=void 0),B&&((F=d.onDidHideHover)===null||F===void 0||F.call(d))},C=(M,D,F)=>new O._F(()=>E(this,void 0,void 0,function*(){(!c||c.isDisposed)&&(c=new a(d,F||i,M>0),yield c.update(s,D,m))}),M),S=()=>{if(b)return;const M=new V.SL,D=U=>v(!1,U.fromElement===i);M.add(f.nm(i,f.tw.MOUSE_LEAVE,D,!0));const F=()=>v(!0,!0);M.add(f.nm(i,f.tw.MOUSE_DOWN,F,!0));const B={targetElements:[i],dispose:()=>{}};if(d.placement===void 0||d.placement==="mouse"){const U=A=>{B.x=A.x+10,A.target instanceof HTMLElement&&A.target.classList.contains("action-label")&&v(!0,!0)};M.add(f.nm(i,f.tw.MOUSE_MOVE,U,!0))}M.add(C(d.delay,!1,B)),b=M},N=f.nm(i,f.tw.MOUSE_OVER,S,!0);return{show:M=>{v(!1,!0),C(0,M)},hide:()=>{v(!0,!0)},update:(M,D)=>E(this,void 0,void 0,function*(){s=M,yield c==null?void 0:c.update(s,void 0,D)}),dispose:()=>{N.dispose(),v(!0,!0)}}}},19111:function(Rt,Be,t){"use strict";t.d(Be,{T:function(){return _}});var f=t(34441),O=t(8216);const u=new RegExp(`(\\\\)?\\$\\((${O.k.iconNameExpression}(?:${O.k.iconModifierExpression})?)\\)`,"g");function _(V){const I=new Array;let L,E=0,g=0;for(;(L=u.exec(V))!==null;){g=L.index||0,E<g&&I.push(V.substring(E,g)),E=(L.index||0)+L[0].length;const[,a,l]=L;I.push(a?`$(${l})`:p({id:l}))}return E<V.length&&I.push(V.substring(E)),I}function p(V){const I=f.$("span");return I.classList.add(...O.k.asClassNameArray(V)),I}},6364:function(Rt,Be,t){"use strict";t.d(Be,{pG:function(){return m},g4:function(){return i}});var f=t(34441),O=t(54505),u=t(66578),_=t(67235),p=t(79874),V=t(60018),I=t(88305),L=t(56709);class E{constructor(c,v=0,C=c.length,S=v-1){this.items=c,this.start=v,this.end=C,this.index=S}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class g{constructor(c=[],v=10){this._initialize(c),this._limit=v,this._onChange()}getHistory(){return this._elements}add(c){this._history.delete(c),this._history.add(c),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(c){return this._history.has(c)}_onChange(){this._reduceToLimit();const c=this._elements;this._navigator=new E(c,0,c.length,c.length)}_reduceToLimit(){const c=this._elements;c.length>this._limit&&this._initialize(c.slice(c.length-this._limit))}_currentPosition(){const c=this._navigator.current();return c?this._elements.indexOf(c):-1}_initialize(c){this._history=new Set;for(const v of c)this._history.add(v)}get _elements(){const c=[];return this._history.forEach(v=>c.push(v)),c}}var a=t(23127),l=t(26386);const d=f.$,i={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class s extends I.${constructor(c,v,C){var S;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new L.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new L.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=v,this.options=C,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(S=this.options.tooltip)!==null&&S!==void 0?S:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=f.R3(c,d(".monaco-inputbox.idle"));const N=this.options.flexibleHeight?"textarea":"input",P=f.R3(this.element,d(".ibwrapper"));if(this.input=f.R3(P,d(N+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=f.R3(P,d("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new V.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),f.R3(c,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(F=>this.input.scrollTop=F.scrollTop));const M=this._register(new O.Y(document,"selectionchange")),D=L.ju.filter(M.event,()=>{const F=document.getSelection();return(F==null?void 0:F.anchorNode)===P});this._register(D(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new _.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(c){this.placeholder=c,this.input.setAttribute("placeholder",c)}setTooltip(c){this.tooltip=c,this.input.title=c}get inputElement(){return this.input}get value(){return this.input.value}set value(c){this.input.value!==c&&(this.input.value=c,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:f.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(c=null){this.input.select(),c&&(this.input.setSelectionRange(c.start,c.end),c.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(c){this.input.style.width=`calc(100% - ${c}px)`,this.mirror&&(this.mirror.style.paddingRight=c+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const c=this.cachedContentHeight,v=this.cachedHeight,C=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:c,height:v}),this.scrollableElement.setScrollPosition({scrollTop:C})}showMessage(c,v){if(this.state==="open"&&(0,a.fS)(this.message,c))return;this.message=c,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(c.type));const C=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${f.XT(C.border,"transparent")}`,this.message.content&&(this.hasFocus()||v)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let c=null;return this.validation&&(c=this.validation(this.value),c?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(c)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),c==null?void 0:c.type}stylesForType(c){const v=this.options.inputBoxStyles;switch(c){case 1:return{border:v.inputValidationInfoBorder,background:v.inputValidationInfoBackground,foreground:v.inputValidationInfoForeground};case 2:return{border:v.inputValidationWarningBorder,background:v.inputValidationWarningBackground,foreground:v.inputValidationWarningForeground};default:return{border:v.inputValidationErrorBorder,background:v.inputValidationErrorBackground,foreground:v.inputValidationErrorForeground}}}classForType(c){switch(c){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let c;const v=()=>c.style.width=f.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:S=>{var N,P;if(!this.message)return null;c=f.R3(S,d(".monaco-inputbox-container")),v();const M={inline:!0,className:"monaco-inputbox-message"},D=this.message.formatContent?(0,u.BO)(this.message.content,M):(0,u.IY)(this.message.content,M);D.classList.add(this.classForType(this.message.type));const F=this.stylesForType(this.message.type);return D.style.backgroundColor=(N=F.background)!==null&&N!==void 0?N:"",D.style.color=(P=F.foreground)!==null&&P!==void 0?P:"",D.style.border=F.border?`1px solid ${F.border}`:"",f.R3(c,D),null},onHide:()=>{this.state="closed"},layout:v});let C;this.message.type===3?C=l.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?C=l.NC("alertWarningMessage","Warning: {0}",this.message.content):C=l.NC("alertInfoMessage","Info: {0}",this.message.content),p.Z9(C),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const c=this.value,C=c.charCodeAt(c.length-1)===10?" ":"";(c+C).replace(/\u000c/g,"")?this.mirror.textContent=c+C:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var c,v,C;const S=this.options.inputBoxStyles,N=(c=S.inputBackground)!==null&&c!==void 0?c:"",P=(v=S.inputForeground)!==null&&v!==void 0?v:"",M=(C=S.inputBorder)!==null&&C!==void 0?C:"";this.element.style.backgroundColor=N,this.element.style.color=P,this.input.style.backgroundColor="inherit",this.input.style.color=P,this.element.style.border=`1px solid ${f.XT(M,"transparent")}`}layout(){if(!this.mirror)return;const c=this.cachedContentHeight;this.cachedContentHeight=f.wn(this.mirror),c!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(c){const v=this.inputElement,C=v.selectionStart,S=v.selectionEnd,N=v.value;C!==null&&S!==null&&(this.value=N.substr(0,C)+c+N.substr(S),v.setSelectionRange(C+1,C+1),this.layout())}dispose(){var c;this._hideMessage(),this.message=null,(c=this.actionbar)===null||c===void 0||c.dispose(),super.dispose()}}class m extends s{constructor(c,v,C){const S=l.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),N=` or \u21C5 ${S}`,P=` (\u21C5 ${S})`;super(c,v,C),this._onDidFocus=this._register(new L.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new L.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new g(C.history,100);const M=()=>{if(C.showHistoryHint&&C.showHistoryHint()&&!this.placeholder.endsWith(N)&&!this.placeholder.endsWith(P)&&this.history.getHistory().length){const D=this.placeholder.endsWith(")")?N:P,F=this.placeholder+D;C.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=F:this.setPlaceHolder(F)}};this.observer=new MutationObserver((D,F)=>{D.forEach(B=>{B.target.textContent||M()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>M()),this.onblur(this.input,()=>{const D=F=>{if(this.placeholder.endsWith(F)){const B=this.placeholder.slice(0,this.placeholder.length-F.length);return C.showPlaceholderOnFocus?this.placeholder=B:this.setPlaceHolder(B),!0}else return!1};D(P)||D(N)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(c){this.value&&(c||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let c=this.getNextValue();c&&(c=c===this.value?this.getNextValue():c),this.value=c!=null?c:"",p.i7(this.value?this.value:l.NC("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let c=this.getPreviousValue();c&&(c=c===this.value?this.getPreviousValue():c),c&&(this.value=c,p.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let c=this.history.current();return c||(c=this.history.last(),this.history.next()),c}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}},40186:function(Rt,Be,t){"use strict";t.d(Be,{e:function(){return I},F:function(){return V}});var f=t(34441),O=t(49553),u=t(23127),_=t(26386);const p=f.$,V={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class I{constructor(E,g,a){this.os=g,this.keyElements=new Set,this.options=a||Object.create(null);const l=this.options.keybindingLabelForeground;this.domNode=f.R3(E,p(".monaco-keybinding")),l&&(this.domNode.style.color=l),this.didEverRender=!1,E.appendChild(this.domNode)}get element(){return this.domNode}set(E,g){this.didEverRender&&this.keybinding===E&&I.areSame(this.matches,g)||(this.keybinding=E,this.matches=g,this.render())}render(){var E;if(this.clear(),this.keybinding){const g=this.keybinding.getChords();g[0]&&this.renderChord(this.domNode,g[0],this.matches?this.matches.firstPart:null);for(let l=1;l<g.length;l++)f.R3(this.domNode,p("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,g[l],this.matches?this.matches.chordPart:null);const a=(E=this.options.disableTitle)!==null&&E!==void 0&&E?void 0:this.keybinding.getAriaLabel()||void 0;a!==void 0?this.domNode.title=a:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){f.PO(this.domNode),this.keyElements.clear()}renderChord(E,g,a){const l=O.xo.modifierLabels[this.os];g.ctrlKey&&this.renderKey(E,l.ctrlKey,!!(a!=null&&a.ctrlKey),l.separator),g.shiftKey&&this.renderKey(E,l.shiftKey,!!(a!=null&&a.shiftKey),l.separator),g.altKey&&this.renderKey(E,l.altKey,!!(a!=null&&a.altKey),l.separator),g.metaKey&&this.renderKey(E,l.metaKey,!!(a!=null&&a.metaKey),l.separator);const d=g.keyLabel;d&&this.renderKey(E,d,!!(a!=null&&a.keyCode),"")}renderKey(E,g,a,l){f.R3(E,this.createKeyElement(g,a?".highlight":"")),l&&f.R3(E,p("span.monaco-keybinding-key-separator",void 0,l))}renderUnbound(E){f.R3(E,this.createKeyElement((0,_.NC)("unbound","Unbound")))}createKeyElement(E,g=""){const a=p("span.monaco-keybinding-key"+g,void 0,E);return this.keyElements.add(a),this.options.keybindingLabelBackground&&(a.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(a.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(a.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(a.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),a}static areSame(E,g){return E===g||!E&&!g?!0:!!E&&!!g&&(0,u.fS)(E.firstPart,g.firstPart)&&(0,u.fS)(E.chordPart,g.chordPart)}}},95367:function(Rt,Be,t){"use strict";t.d(Be,{kX:function(){return M},Bv:function(){return A}});var f=t(89181),O=t(34441),u=t(54505),_=t(80265),p=t(60018),V=t(16308),I=t(13484),L=t(4848),E=t(56709),g=t(38431),a=t(59004),l=t(44929);function d(k,R){const $=[];for(const J of R){if(k.start>=J.range.end)continue;if(k.end<J.range.start)break;const Y=a.e.intersect(k,J.range);a.e.isEmpty(Y)||$.push({range:Y,size:J.size})}return $}function i({start:k,end:R},$){return{start:k+$,end:R+$}}function s(k){const R=[];let $=null;for(const J of k){const Y=J.range.start,j=J.range.end,z=J.size;if($&&z===$.size){$.range.end=j;continue}$={range:{start:Y,end:j},size:z},R.push($)}return R}function m(...k){return s(k.reduce((R,$)=>R.concat($),[]))}class b{constructor(){this.groups=[],this._size=0}splice(R,$,J=[]){const Y=J.length-$,j=d({start:0,end:R},this.groups),z=d({start:R+$,end:Number.POSITIVE_INFINITY},this.groups).map(Z=>({range:i(Z.range,Y),size:Z.size})),K=J.map((Z,fe)=>({range:{start:R+fe,end:R+fe+1},size:Z.size}));this.groups=m(j,K,z),this._size=this.groups.reduce((Z,fe)=>Z+fe.size*(fe.range.end-fe.range.start),0)}get count(){const R=this.groups.length;return R?this.groups[R-1].range.end:0}get size(){return this._size}indexAt(R){if(R<0)return-1;let $=0,J=0;for(const Y of this.groups){const j=Y.range.end-Y.range.start,z=J+j*Y.size;if(R<z)return $+Math.floor((R-J)/Y.size);$+=j,J=z}return $}indexAfter(R){return Math.min(this.indexAt(R)+1,this.count)}positionAt(R){if(R<0)return-1;let $=0,J=0;for(const Y of this.groups){const j=Y.range.end-Y.range.start,z=J+j;if(R<z)return $+(R-J)*Y.size;$+=j*Y.size,J=z}return-1}}function c(k){var R;try{(R=k.parentElement)===null||R===void 0||R.removeChild(k)}catch($){}}class v{constructor(R){this.renderers=R,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(R){let $=this.getTemplateCache(R).pop(),J=!1;if($)J=this.transactionNodesPendingRemoval.has($.domNode),J&&this.transactionNodesPendingRemoval.delete($.domNode);else{const Y=(0,O.$)(".monaco-list-row"),z=this.getRenderer(R).renderTemplate(Y);$={domNode:Y,templateId:R,templateData:z}}return{row:$,isReusingConnectedDomNode:J}}release(R){R&&this.releaseRow(R)}transact(R){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{R()}finally{for(const $ of this.transactionNodesPendingRemoval)this.doRemoveNode($);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(R){const{domNode:$,templateId:J}=R;$&&(this.inTransaction?this.transactionNodesPendingRemoval.add($):this.doRemoveNode($)),this.getTemplateCache(J).push(R)}doRemoveNode(R){R.classList.remove("scrolling"),c(R)}getTemplateCache(R){let $=this.cache.get(R);return $||($=[],this.cache.set(R,$)),$}dispose(){this.cache.forEach((R,$)=>{for(const J of R)this.getRenderer($).disposeTemplate(J.templateData),J.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(R){const $=this.renderers.get(R);if(!$)throw new Error(`No renderer found for ${R}`);return $}}var C=t(20996),S=function(k,R,$,J){var Y=arguments.length,j=Y<3?R:J===null?J=Object.getOwnPropertyDescriptor(R,$):J,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(k,R,$,J);else for(var K=k.length-1;K>=0;K--)(z=k[K])&&(j=(Y<3?z(j):Y>3?z(R,$,j):z(R,$))||j);return Y>3&&j&&Object.defineProperty(R,$,j),j};const N={CurrentDragAndDropData:void 0},P={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(k){return[k]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class M{constructor(R){this.elements=R}update(){}getData(){return this.elements}}class D{constructor(R){this.elements=R}update(){}getData(){return this.elements}}class F{constructor(){this.types=[],this.files=[]}update(R){if(R.types&&this.types.splice(0,this.types.length,...R.types),R.files){this.files.splice(0,this.files.length);for(let $=0;$<R.files.length;$++){const J=R.files.item($);J&&(J.size||J.type)&&this.files.push(J)}}}getData(){return{types:this.types,files:this.files}}}function B(k,R){return Array.isArray(k)&&Array.isArray(R)?(0,V.fS)(k,R):k===R}class U{constructor(R){R!=null&&R.getSetSize?this.getSetSize=R.getSetSize.bind(R):this.getSetSize=($,J,Y)=>Y,R!=null&&R.getPosInSet?this.getPosInSet=R.getPosInSet.bind(R):this.getPosInSet=($,J)=>J+1,R!=null&&R.getRole?this.getRole=R.getRole.bind(R):this.getRole=$=>"listitem",R!=null&&R.isChecked?this.isChecked=R.isChecked.bind(R):this.isChecked=$=>{}}}class A{get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(R){if(R!==this._horizontalScrolling){if(R&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=R,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const $ of this.items)this.measureItemWidth($);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,O.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(R,$,J,Y=P){var j,z,K,Z,fe,T,Re,Ce,_e,pe,le,oe;if(this.virtualDelegate=$,this.domId=`list_id_${++A.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new I.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=g.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=g.JT.None,this.onDragLeaveTimeout=g.JT.None,this.disposables=new g.SL,this._onDidChangeContentHeight=new E.Q5,this._onDidChangeContentWidth=new E.Q5,this._horizontalScrolling=!1,Y.horizontalScrolling&&Y.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new b;for(const je of J)this.renderers.set(je.templateId,je);this.cache=this.disposables.add(new v(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof Y.mouseSupport=="boolean"?Y.mouseSupport:!0),this._horizontalScrolling=(j=Y.horizontalScrolling)!==null&&j!==void 0?j:P.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof Y.additionalScrollHeight=="undefined"?0:Y.additionalScrollHeight,this.accessibilityProvider=new U(Y.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((z=Y.transformOptimization)!==null&&z!==void 0?z:P.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(_.o.addTarget(this.rowsContainer)),this.scrollable=new l.Rm({forceIntegerValues:!0,smoothScrollDuration:(K=Y.smoothScrolling)!==null&&K!==void 0&&K?125:0,scheduleAtNextAnimationFrame:je=>(0,O.jL)(je)}),this.scrollableElement=this.disposables.add(new p.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(Z=Y.alwaysConsumeMouseWheel)!==null&&Z!==void 0?Z:P.alwaysConsumeMouseWheel,horizontal:1,vertical:(fe=Y.verticalScrollMode)!==null&&fe!==void 0?fe:P.verticalScrollMode,useShadows:(T=Y.useShadows)!==null&&T!==void 0?T:P.useShadows,mouseWheelScrollSensitivity:Y.mouseWheelScrollSensitivity,fastScrollSensitivity:Y.fastScrollSensitivity,scrollByPage:Y.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),R.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,O.nm)(this.rowsContainer,_.t.Change,je=>this.onTouchChange(je))),this.disposables.add((0,O.nm)(this.scrollableElement.getDomNode(),"scroll",je=>je.target.scrollTop=0)),this.disposables.add((0,O.nm)(this.domNode,"dragover",je=>this.onDragOver(this.toDragEvent(je)))),this.disposables.add((0,O.nm)(this.domNode,"drop",je=>this.onDrop(this.toDragEvent(je)))),this.disposables.add((0,O.nm)(this.domNode,"dragleave",je=>this.onDragLeave(this.toDragEvent(je)))),this.disposables.add((0,O.nm)(this.domNode,"dragend",je=>this.onDragEnd(je))),this.setRowLineHeight=(Re=Y.setRowLineHeight)!==null&&Re!==void 0?Re:P.setRowLineHeight,this.setRowHeight=(Ce=Y.setRowHeight)!==null&&Ce!==void 0?Ce:P.setRowHeight,this.supportDynamicHeights=(_e=Y.supportDynamicHeights)!==null&&_e!==void 0?_e:P.supportDynamicHeights,this.dnd=(pe=Y.dnd)!==null&&pe!==void 0?pe:P.dnd,this.layout((le=Y.initialSize)===null||le===void 0?void 0:le.height,(oe=Y.initialSize)===null||oe===void 0?void 0:oe.width)}updateOptions(R){R.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=R.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),R.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(R.smoothScrolling?125:0),R.horizontalScrolling!==void 0&&(this.horizontalScrolling=R.horizontalScrolling);let $;R.scrollByPage!==void 0&&($=Object.assign(Object.assign({},$!=null?$:{}),{scrollByPage:R.scrollByPage})),R.mouseWheelScrollSensitivity!==void 0&&($=Object.assign(Object.assign({},$!=null?$:{}),{mouseWheelScrollSensitivity:R.mouseWheelScrollSensitivity})),R.fastScrollSensitivity!==void 0&&($=Object.assign(Object.assign({},$!=null?$:{}),{fastScrollSensitivity:R.fastScrollSensitivity})),$&&this.scrollableElement.updateOptions($)}splice(R,$,J=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(R,$,J)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(R,$,J=[]){const Y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j={start:R,end:R+$},z=a.e.intersect(Y,j),K=new Map;for(let q=z.end-1;q>=z.start;q--){const Ee=this.items[q];if(Ee.dragStartDisposable.dispose(),Ee.checkedDisposable.dispose(),Ee.row){let Se=K.get(Ee.templateId);Se||(Se=[],K.set(Ee.templateId,Se));const we=this.renderers.get(Ee.templateId);we&&we.disposeElement&&we.disposeElement(Ee.element,q,Ee.row.templateData,Ee.size),Se.push(Ee.row)}Ee.row=null}const Z={start:R+$,end:this.items.length},fe=a.e.intersect(Z,Y),T=a.e.relativeComplement(Z,Y),Re=J.map(q=>({id:String(this.itemId++),element:q,templateId:this.virtualDelegate.getTemplateId(q),size:this.virtualDelegate.getHeight(q),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(q),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:g.JT.None,checkedDisposable:g.JT.None}));let Ce;R===0&&$>=this.items.length?(this.rangeMap=new b,this.rangeMap.splice(0,0,Re),Ce=this.items,this.items=Re):(this.rangeMap.splice(R,$,Re),Ce=this.items.splice(R,$,...Re));const _e=J.length-$,pe=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),le=i(fe,_e),oe=a.e.intersect(pe,le);for(let q=oe.start;q<oe.end;q++)this.updateItemInDOM(this.items[q],q);const he=a.e.relativeComplement(le,pe);for(const q of he)for(let Ee=q.start;Ee<q.end;Ee++)this.removeItemFromDOM(Ee);const je=T.map(q=>i(q,_e)),Ve=[{start:R,end:R+J.length},...je].map(q=>a.e.intersect(pe,q)),se=this.getNextToLastElement(Ve);for(const q of Ve)for(let Ee=q.start;Ee<q.end;Ee++){const Se=this.items[Ee],we=K.get(Se.templateId),ve=we==null?void 0:we.pop();this.insertItemInDOM(Ee,se,ve)}for(const q of K.values())for(const Ee of q)this.cache.release(Ee);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Ce.map(q=>q.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,O.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let R=0;for(const $ of this.items)typeof $.width!="undefined"&&(R=Math.max(R,$.width));this.scrollWidth=R,this.scrollableElement.setScrollDimensions({scrollWidth:R===0?0:R+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const R of this.items)R.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const R=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),$=this.rangeMap.positionAt(R.start),J=this.rangeMap.positionAt(R.start+1);return J!==-1&&(J-$)/2+$<this.scrollTop?R.start+1:R.start}element(R){return this.items[R].element}domElement(R){const $=this.items[R].row;return $&&$.domNode}elementHeight(R){return this.items[R].size}elementTop(R){return this.rangeMap.positionAt(R)}indexAt(R){return this.rangeMap.indexAt(R)}indexAfter(R){return this.rangeMap.indexAfter(R)}layout(R,$){const J={height:typeof R=="number"?R:(0,O.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,J.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(J),typeof $!="undefined"&&(this.renderWidth=$,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof $=="number"?$:(0,O.FK)(this.domNode)})}render(R,$,J,Y,j,z=!1){const K=this.getRenderRange($,J),Z=a.e.relativeComplement(K,R),fe=a.e.relativeComplement(R,K),T=this.getNextToLastElement(Z);if(z){const Re=a.e.intersect(R,K);for(let Ce=Re.start;Ce<Re.end;Ce++)this.updateItemInDOM(this.items[Ce],Ce)}this.cache.transact(()=>{for(const Re of fe)for(let Ce=Re.start;Ce<Re.end;Ce++)this.removeItemFromDOM(Ce);for(const Re of Z)for(let Ce=Re.start;Ce<Re.end;Ce++)this.insertItemInDOM(Ce,T)}),Y!==void 0&&(this.rowsContainer.style.left=`-${Y}px`),this.rowsContainer.style.top=`-${$}px`,this.horizontalScrolling&&j!==void 0&&(this.rowsContainer.style.width=`${Math.max(j,this.renderWidth)}px`),this.lastRenderTop=$,this.lastRenderHeight=J}insertItemInDOM(R,$,J){const Y=this.items[R];let j=!1;if(!Y.row)if(J)Y.row=J;else{const T=this.cache.alloc(Y.templateId);Y.row=T.row,j=T.isReusingConnectedDomNode}const z=this.accessibilityProvider.getRole(Y.element)||"listitem";Y.row.domNode.setAttribute("role",z);const K=this.accessibilityProvider.isChecked(Y.element);if(typeof K=="boolean")Y.row.domNode.setAttribute("aria-checked",String(!!K));else if(K){const T=Re=>Y.row.domNode.setAttribute("aria-checked",String(!!Re));T(K.value),Y.checkedDisposable=K.onDidChange(T)}(j||!Y.row.domNode.parentElement)&&($?this.rowsContainer.insertBefore(Y.row.domNode,$):this.rowsContainer.appendChild(Y.row.domNode)),this.updateItemInDOM(Y,R);const Z=this.renderers.get(Y.templateId);if(!Z)throw new Error(`No renderer found for template id ${Y.templateId}`);Z==null||Z.renderElement(Y.element,R,Y.row.templateData,Y.size);const fe=this.dnd.getDragURI(Y.element);Y.dragStartDisposable.dispose(),Y.row.domNode.draggable=!!fe,fe&&(Y.dragStartDisposable=(0,O.nm)(Y.row.domNode,"dragstart",T=>this.onDragStart(Y.element,fe,T))),this.horizontalScrolling&&(this.measureItemWidth(Y),this.eventuallyUpdateScrollWidth())}measureItemWidth(R){if(!R.row||!R.row.domNode)return;R.row.domNode.style.width="fit-content",R.width=(0,O.FK)(R.row.domNode);const $=window.getComputedStyle(R.row.domNode);$.paddingLeft&&(R.width+=parseFloat($.paddingLeft)),$.paddingRight&&(R.width+=parseFloat($.paddingRight)),R.row.domNode.style.width=""}updateItemInDOM(R,$){R.row.domNode.style.top=`${this.elementTop($)}px`,this.setRowHeight&&(R.row.domNode.style.height=`${R.size}px`),this.setRowLineHeight&&(R.row.domNode.style.lineHeight=`${R.size}px`),R.row.domNode.setAttribute("data-index",`${$}`),R.row.domNode.setAttribute("data-last-element",$===this.length-1?"true":"false"),R.row.domNode.setAttribute("data-parity",$%2===0?"even":"odd"),R.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(R.element,$,this.length))),R.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(R.element,$))),R.row.domNode.setAttribute("id",this.getElementDomId($)),R.row.domNode.classList.toggle("drop-target",R.dropTarget)}removeItemFromDOM(R){const $=this.items[R];if($.dragStartDisposable.dispose(),$.checkedDisposable.dispose(),$.row){const J=this.renderers.get($.templateId);J&&J.disposeElement&&J.disposeElement($.element,R,$.row.templateData,$.size),this.cache.release($.row),$.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(R,$){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:R,reuseAnimation:$})}get scrollTop(){return this.getScrollTop()}set scrollTop(R){this.setScrollTop(R)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return E.ju.map(this.disposables.add(new u.Y(this.domNode,"click")).event,R=>this.toMouseEvent(R),this.disposables)}get onMouseDblClick(){return E.ju.map(this.disposables.add(new u.Y(this.domNode,"dblclick")).event,R=>this.toMouseEvent(R),this.disposables)}get onMouseMiddleClick(){return E.ju.filter(E.ju.map(this.disposables.add(new u.Y(this.domNode,"auxclick")).event,R=>this.toMouseEvent(R),this.disposables),R=>R.browserEvent.button===1,this.disposables)}get onMouseDown(){return E.ju.map(this.disposables.add(new u.Y(this.domNode,"mousedown")).event,R=>this.toMouseEvent(R),this.disposables)}get onMouseOver(){return E.ju.map(this.disposables.add(new u.Y(this.domNode,"mouseover")).event,R=>this.toMouseEvent(R),this.disposables)}get onMouseOut(){return E.ju.map(this.disposables.add(new u.Y(this.domNode,"mouseout")).event,R=>this.toMouseEvent(R),this.disposables)}get onContextMenu(){return E.ju.any(E.ju.map(this.disposables.add(new u.Y(this.domNode,"contextmenu")).event,R=>this.toMouseEvent(R),this.disposables),E.ju.map(this.disposables.add(new u.Y(this.domNode,_.t.Contextmenu)).event,R=>this.toGestureEvent(R),this.disposables))}get onTouchStart(){return E.ju.map(this.disposables.add(new u.Y(this.domNode,"touchstart")).event,R=>this.toTouchEvent(R),this.disposables)}get onTap(){return E.ju.map(this.disposables.add(new u.Y(this.rowsContainer,_.t.Tap)).event,R=>this.toGestureEvent(R),this.disposables)}toMouseEvent(R){const $=this.getItemIndexFromEventTarget(R.target||null),J=typeof $=="undefined"?void 0:this.items[$],Y=J&&J.element;return{browserEvent:R,index:$,element:Y}}toTouchEvent(R){const $=this.getItemIndexFromEventTarget(R.target||null),J=typeof $=="undefined"?void 0:this.items[$],Y=J&&J.element;return{browserEvent:R,index:$,element:Y}}toGestureEvent(R){const $=this.getItemIndexFromEventTarget(R.initialTarget||null),J=typeof $=="undefined"?void 0:this.items[$],Y=J&&J.element;return{browserEvent:R,index:$,element:Y}}toDragEvent(R){const $=this.getItemIndexFromEventTarget(R.target||null),J=typeof $=="undefined"?void 0:this.items[$],Y=J&&J.element;return{browserEvent:R,index:$,element:Y}}onScroll(R){try{const $=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render($,R.scrollTop,R.height,R.scrollLeft,R.scrollWidth),this.supportDynamicHeights&&this._rerender(R.scrollTop,R.height,R.inSmoothScrolling)}catch($){throw console.error("Got bad scroll event:",R),$}}onTouchChange(R){R.preventDefault(),R.stopPropagation(),this.scrollTop-=R.translationY}onDragStart(R,$,J){var Y,j;if(!J.dataTransfer)return;const z=this.dnd.getDragElements(R);if(J.dataTransfer.effectAllowed="copyMove",J.dataTransfer.setData(f.g.TEXT,$),J.dataTransfer.setDragImage){let K;this.dnd.getDragLabel&&(K=this.dnd.getDragLabel(z,J)),typeof K=="undefined"&&(K=String(z.length));const Z=(0,O.$)(".monaco-drag-image");Z.textContent=K;const T=(Re=>{for(;Re&&!Re.classList.contains("monaco-workbench");)Re=Re.parentElement;return Re||document.body})(this.domNode);T.appendChild(Z),J.dataTransfer.setDragImage(Z,-10,-10),setTimeout(()=>T.removeChild(Z),0)}this.domNode.classList.add("dragging"),this.currentDragData=new M(z),N.CurrentDragAndDropData=new D(z),(j=(Y=this.dnd).onDragStart)===null||j===void 0||j.call(Y,this.currentDragData,J)}onDragOver(R){var $;if(R.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),N.CurrentDragAndDropData&&N.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(R.browserEvent),!R.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(N.CurrentDragAndDropData)this.currentDragData=N.CurrentDragAndDropData;else{if(!R.browserEvent.dataTransfer.types)return!1;this.currentDragData=new F}const J=this.dnd.onDragOver(this.currentDragData,R.element,R.index,R.browserEvent);if(this.canDrop=typeof J=="boolean"?J:J.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;R.browserEvent.dataTransfer.dropEffect=typeof J!="boolean"&&J.effect===0?"copy":"move";let Y;if(typeof J!="boolean"&&J.feedback?Y=J.feedback:typeof R.index=="undefined"?Y=[-1]:Y=[R.index],Y=(0,V.EB)(Y).filter(j=>j>=-1&&j<this.length).sort((j,z)=>j-z),Y=Y[0]===-1?[-1]:Y,B(this.currentDragFeedback,Y))return!0;if(this.currentDragFeedback=Y,this.currentDragFeedbackDisposable.dispose(),Y[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,g.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const j of Y){const z=this.items[j];z.dropTarget=!0,($=z.row)===null||$===void 0||$.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,g.OF)(()=>{var j;for(const z of Y){const K=this.items[z];K.dropTarget=!1,(j=K.row)===null||j===void 0||j.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(R){var $,J;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,I.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((J=($=this.dnd).onDragLeave)===null||J===void 0||J.call($,this.currentDragData,R.element,R.index,R.browserEvent))}onDrop(R){if(!this.canDrop)return;const $=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,N.CurrentDragAndDropData=void 0,!(!$||!R.browserEvent.dataTransfer)&&(R.browserEvent.preventDefault(),$.update(R.browserEvent.dataTransfer),this.dnd.drop($,R.element,R.index,R.browserEvent))}onDragEnd(R){var $,J;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,N.CurrentDragAndDropData=void 0,(J=($=this.dnd).onDragEnd)===null||J===void 0||J.call($,R)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=g.JT.None}setupDragAndDropScrollTopAnimation(R){if(!this.dragOverAnimationDisposable){const $=(0,O.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,O.jt)(this.animateDragAndDropScrollTop.bind(this,$))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,I.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=R.pageY}animateDragAndDropScrollTop(R){if(this.dragOverMouseY===void 0)return;const $=this.dragOverMouseY-R,J=this.renderHeight-35;$<35?this.scrollTop+=Math.max(-14,Math.floor(.3*($-35))):$>J&&(this.scrollTop+=Math.min(14,Math.floor(.3*($-J))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(R){const $=this.scrollableElement.getDomNode();let J=R;for(;J instanceof HTMLElement&&J!==this.rowsContainer&&$.contains(J);){const Y=J.getAttribute("data-index");if(Y){const j=Number(Y);if(!isNaN(j))return j}J=J.parentElement}}getRenderRange(R,$){return{start:this.rangeMap.indexAt(R),end:this.rangeMap.indexAfter(R+$-1)}}_rerender(R,$,J){const Y=this.getRenderRange(R,$);let j,z;R===this.elementTop(Y.start)?(j=Y.start,z=0):Y.end-Y.start>1&&(j=Y.start+1,z=this.elementTop(j)-R);let K=0;for(;;){const Z=this.getRenderRange(R,$);let fe=!1;for(let T=Z.start;T<Z.end;T++){const Re=this.probeDynamicHeight(T);Re!==0&&this.rangeMap.splice(T,1,[this.items[T]]),K+=Re,fe=fe||Re!==0}if(!fe){K!==0&&this.eventuallyUpdateScrollDimensions();const T=a.e.relativeComplement(Y,Z);for(const Ce of T)for(let _e=Ce.start;_e<Ce.end;_e++)this.items[_e].row&&this.removeItemFromDOM(_e);const Re=a.e.relativeComplement(Z,Y);for(const Ce of Re)for(let _e=Ce.start;_e<Ce.end;_e++){const pe=_e+1,le=pe<this.items.length?this.items[pe].row:null,oe=le?le.domNode:null;this.insertItemInDOM(_e,oe)}for(let Ce=Z.start;Ce<Z.end;Ce++)this.items[Ce].row&&this.updateItemInDOM(this.items[Ce],Ce);if(typeof j=="number"){const Ce=this.scrollable.getFutureScrollPosition().scrollTop-R,_e=this.elementTop(j)-z+Ce;this.setScrollTop(_e,J)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(R){var $,J,Y;const j=this.items[R];if(this.virtualDelegate.getDynamicHeight){const fe=this.virtualDelegate.getDynamicHeight(j.element);if(fe!==null){const T=j.size;return j.size=fe,j.lastDynamicHeightWidth=this.renderWidth,fe-T}}if(!j.hasDynamicHeight||j.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(j.element))return 0;const z=j.size;if(j.row)return j.row.domNode.style.height="",j.size=j.row.domNode.offsetHeight,j.lastDynamicHeightWidth=this.renderWidth,j.size-z;const{row:K}=this.cache.alloc(j.templateId);K.domNode.style.height="",this.rowsContainer.appendChild(K.domNode);const Z=this.renderers.get(j.templateId);if(!Z)throw new C.he("Missing renderer for templateId: "+j.templateId);return Z.renderElement(j.element,R,K.templateData,void 0),j.size=K.domNode.offsetHeight,($=Z.disposeElement)===null||$===void 0||$.call(Z,j.element,R,K.templateData,void 0),(Y=(J=this.virtualDelegate).setDynamicHeight)===null||Y===void 0||Y.call(J,j.element,j.size),j.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(K.domNode),this.cache.release(K),j.size-z}getNextToLastElement(R){const $=R[R.length-1];if(!$)return null;const J=this.items[$.end];return!J||!J.row?null:J.row.domNode}getElementDomId(R){return`${this.domId}_${R}`}dispose(){var R;if(this.items){for(const $ of this.items)if($.row){const J=this.renderers.get($.row.templateId);J&&((R=J.disposeElement)===null||R===void 0||R.call(J,$.element,-1,$.row.templateData,void 0),J.disposeTemplate($.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,g.B9)(this.disposables)}}A.InstanceCount=0,S([L.H],A.prototype,"onMouseClick",null),S([L.H],A.prototype,"onMouseDblClick",null),S([L.H],A.prototype,"onMouseMiddleClick",null),S([L.H],A.prototype,"onMouseDown",null),S([L.H],A.prototype,"onMouseOver",null),S([L.H],A.prototype,"onMouseOut",null),S([L.H],A.prototype,"onContextMenu",null),S([L.H],A.prototype,"onTouchStart",null),S([L.H],A.prototype,"onTap",null)},75490:function(Rt,Be,t){"use strict";t.d(Be,{wD:function(){return T},aV:function(){return Ve},sx:function(){return fe},AA:function(){return k},iK:function(){return U},cK:function(){return F},hD:function(){return B},wn:function(){return z},Zo:function(){return j},uZ:function(){return Re}});var f=t(34441),O=t(54505),u=t(6544),_=t(80265),p=t(79874);class V{constructor(q){this.spliceables=q}splice(q,Ee,Se){this.spliceables.forEach(we=>we.splice(q,Ee,Se))}}var I=t(16308),L=t(13484),E=t(86741),g=t(4848),a=t(56709),l=t(4538),d=t(38431),i=t(98726),s=t(11138),m=t(14818),b=t(12591);class c extends Error{constructor(q,Ee){super(`ListError [${q}] ${Ee}`)}}var v=t(95367),C=function(se,q,Ee,Se){var we=arguments.length,ve=we<3?q:Se===null?Se=Object.getOwnPropertyDescriptor(q,Ee):Se,Ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ve=Reflect.decorate(se,q,Ee,Se);else for(var $e=se.length-1;$e>=0;$e--)(Ne=se[$e])&&(ve=(we<3?Ne(ve):we>3?Ne(q,Ee,ve):Ne(q,Ee))||ve);return we>3&&ve&&Object.defineProperty(q,Ee,ve),ve},S=function(se,q,Ee,Se){function we(ve){return ve instanceof Ee?ve:new Ee(function(Ne){Ne(ve)})}return new(Ee||(Ee=Promise))(function(ve,Ne){function $e(He){try{ze(Se.next(He))}catch(Le){Ne(Le)}}function Ke(He){try{ze(Se.throw(He))}catch(Le){Ne(Le)}}function ze(He){He.done?ve(He.value):we(He.value).then($e,Ke)}ze((Se=Se.apply(se,q||[])).next())})};class N{constructor(q){this.trait=q,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(q){return q}renderElement(q,Ee,Se){const we=this.renderedElements.findIndex(ve=>ve.templateData===Se);if(we>=0){const ve=this.renderedElements[we];this.trait.unrender(Se),ve.index=Ee}else{const ve={index:Ee,templateData:Se};this.renderedElements.push(ve)}this.trait.renderIndex(Ee,Se)}splice(q,Ee,Se){const we=[];for(const ve of this.renderedElements)ve.index<q?we.push(ve):ve.index>=q+Ee&&we.push({index:ve.index+Se-Ee,templateData:ve.templateData});this.renderedElements=we}renderIndexes(q){for(const{index:Ee,templateData:Se}of this.renderedElements)q.indexOf(Ee)>-1&&this.trait.renderIndex(Ee,Se)}disposeTemplate(q){const Ee=this.renderedElements.findIndex(Se=>Se.templateData===q);Ee<0||this.renderedElements.splice(Ee,1)}}class P{get name(){return this._trait}get renderer(){return new N(this)}constructor(q){this._trait=q,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new a.Q5,this.onChange=this._onChange.event}splice(q,Ee,Se){var we;Ee=Math.max(0,Math.min(Ee,this.length-q));const ve=Se.length-Ee,Ne=q+Ee,$e=[...this.sortedIndexes.filter(ze=>ze<q),...Se.map((ze,He)=>ze?He+q:-1).filter(ze=>ze!==-1),...this.sortedIndexes.filter(ze=>ze>=Ne).map(ze=>ze+ve)],Ke=this.length+ve;if(this.sortedIndexes.length>0&&$e.length===0&&Ke>0){const ze=(we=this.sortedIndexes.find(He=>He>=q))!==null&&we!==void 0?we:Ke-1;$e.push(Math.min(ze,Ke-1))}this.renderer.splice(q,Ee,Se.length),this._set($e,$e),this.length=Ke}renderIndex(q,Ee){Ee.classList.toggle(this._trait,this.contains(q))}unrender(q){q.classList.remove(this._trait)}set(q,Ee){return this._set(q,[...q].sort(oe),Ee)}_set(q,Ee,Se){const we=this.indexes,ve=this.sortedIndexes;this.indexes=q,this.sortedIndexes=Ee;const Ne=pe(ve,q);return this.renderer.renderIndexes(Ne),this._onChange.fire({indexes:q,browserEvent:Se}),we}get(){return this.indexes}contains(q){return(0,I.ry)(this.sortedIndexes,q,oe)>=0}dispose(){(0,d.B9)(this._onChange)}}C([g.H],P.prototype,"renderer",null);class M extends P{constructor(q){super("selected"),this.setAriaSelected=q}renderIndex(q,Ee){super.renderIndex(q,Ee),this.setAriaSelected&&(this.contains(q)?Ee.setAttribute("aria-selected","true"):Ee.setAttribute("aria-selected","false"))}}class D{constructor(q,Ee,Se){this.trait=q,this.view=Ee,this.identityProvider=Se}splice(q,Ee,Se){if(!this.identityProvider)return this.trait.splice(q,Ee,Se.map(()=>!1));const we=this.trait.get().map(Ne=>this.identityProvider.getId(this.view.element(Ne)).toString()),ve=Se.map(Ne=>we.indexOf(this.identityProvider.getId(Ne).toString())>-1);this.trait.splice(q,Ee,ve)}}function F(se){return se.tagName==="INPUT"||se.tagName==="TEXTAREA"}function B(se){return se.classList.contains("monaco-editor")?!0:se.classList.contains("monaco-list")||!se.parentElement?!1:B(se.parentElement)}function U(se){return se.tagName==="A"&&se.classList.contains("monaco-button")||se.tagName==="DIV"&&se.classList.contains("monaco-button-dropdown")?!0:se.classList.contains("monaco-list")||!se.parentElement?!1:U(se.parentElement)}class A{get onKeyDown(){return this.disposables.add(a.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keydown")).event).filter(q=>!F(q.target)).map(q=>new u.y(q)))}constructor(q,Ee,Se){this.list=q,this.view=Ee,this.disposables=new d.SL,this.multipleSelectionDisposables=new d.SL,this.onKeyDown.filter(we=>we.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(we=>we.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(we=>we.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(we=>we.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(we=>we.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(we=>we.keyCode===9).on(this.onEscape,this,this.disposables),Se.multipleSelectionSupport!==!1&&this.onKeyDown.filter(we=>(s.dz?we.metaKey:we.ctrlKey)&&we.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}updateOptions(q){q.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),q.multipleSelectionSupport&&this.onKeyDown.filter(Ee=>(s.dz?Ee.metaKey:Ee.ctrlKey)&&Ee.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(q){q.preventDefault(),q.stopPropagation(),this.list.setSelection(this.list.getFocus(),q.browserEvent)}onUpArrow(q){q.preventDefault(),q.stopPropagation(),this.list.focusPrevious(1,!1,q.browserEvent);const Ee=this.list.getFocus()[0];this.list.setAnchor(Ee),this.list.reveal(Ee),this.view.domNode.focus()}onDownArrow(q){q.preventDefault(),q.stopPropagation(),this.list.focusNext(1,!1,q.browserEvent);const Ee=this.list.getFocus()[0];this.list.setAnchor(Ee),this.list.reveal(Ee),this.view.domNode.focus()}onPageUpArrow(q){q.preventDefault(),q.stopPropagation(),this.list.focusPreviousPage(q.browserEvent);const Ee=this.list.getFocus()[0];this.list.setAnchor(Ee),this.list.reveal(Ee),this.view.domNode.focus()}onPageDownArrow(q){q.preventDefault(),q.stopPropagation(),this.list.focusNextPage(q.browserEvent);const Ee=this.list.getFocus()[0];this.list.setAnchor(Ee),this.list.reveal(Ee),this.view.domNode.focus()}onCtrlA(q){q.preventDefault(),q.stopPropagation(),this.list.setSelection((0,I.w6)(this.list.length),q.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(q){this.list.getSelection().length&&(q.preventDefault(),q.stopPropagation(),this.list.setSelection([],q.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}C([g.H],A.prototype,"onKeyDown",null);var k;(function(se){se[se.Automatic=0]="Automatic",se[se.Trigger=1]="Trigger"})(k||(k={}));var R;(function(se){se[se.Idle=0]="Idle",se[se.Typing=1]="Typing"})(R||(R={}));const $=new class{mightProducePrintableCharacter(se){return se.ctrlKey||se.metaKey||se.altKey?!1:se.keyCode>=31&&se.keyCode<=56||se.keyCode>=21&&se.keyCode<=30||se.keyCode>=98&&se.keyCode<=107||se.keyCode>=85&&se.keyCode<=95}};class J{constructor(q,Ee,Se,we,ve){this.list=q,this.view=Ee,this.keyboardNavigationLabelProvider=Se,this.keyboardNavigationEventFilter=we,this.delegate=ve,this.enabled=!1,this.state=R.Idle,this.mode=k.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new d.SL,this.disposables=new d.SL,this.updateOptions(q.options)}updateOptions(q){var Ee,Se;!((Ee=q.typeNavigationEnabled)!==null&&Ee!==void 0)||Ee?this.enable():this.disable(),this.mode=(Se=q.typeNavigationMode)!==null&&Se!==void 0?Se:k.Automatic}enable(){if(this.enabled)return;let q=!1;const Ee=this.enabledDisposables.add(a.ju.chain(this.enabledDisposables.add(new O.Y(this.view.domNode,"keydown")).event)).filter(ve=>!F(ve.target)).filter(()=>this.mode===k.Automatic||this.triggered).map(ve=>new u.y(ve)).filter(ve=>q||this.keyboardNavigationEventFilter(ve)).filter(ve=>this.delegate.mightProducePrintableCharacter(ve)).forEach(ve=>f.zB.stop(ve,!0)).map(ve=>ve.browserEvent.key).event,Se=a.ju.debounce(Ee,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);a.ju.reduce(a.ju.any(Ee,Se),(ve,Ne)=>Ne===null?null:(ve||"")+Ne,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Se(this.onClear,this,this.enabledDisposables),Ee(()=>q=!0,void 0,this.enabledDisposables),Se(()=>q=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var q;const Ee=this.list.getFocus();if(Ee.length>0&&Ee[0]===this.previouslyFocused){const Se=(q=this.list.options.accessibilityProvider)===null||q===void 0?void 0:q.getAriaLabel(this.list.element(Ee[0]));Se&&(0,p.Z9)(Se)}this.previouslyFocused=-1}onInput(q){if(!q){this.state=R.Idle,this.triggered=!1;return}const Ee=this.list.getFocus(),Se=Ee.length>0?Ee[0]:0,we=this.state===R.Idle?1:0;this.state=R.Typing;for(let ve=0;ve<this.list.length;ve++){const Ne=(Se+ve+we)%this.list.length,$e=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ne)),Ke=$e&&$e.toString();if(typeof Ke=="undefined"||(0,l.Ji)(q,Ke)){this.previouslyFocused=Se,this.list.setFocus([Ne]),this.list.reveal(Ne);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class Y{constructor(q,Ee){this.list=q,this.view=Ee,this.disposables=new d.SL,this.disposables.add(a.ju.chain(this.disposables.add(new O.Y(Ee.domNode,"keydown")).event)).filter(we=>!F(we.target)).map(we=>new u.y(we)).filter(we=>we.keyCode===2&&!we.ctrlKey&&!we.metaKey&&!we.shiftKey&&!we.altKey).on(this.onTab,this,this.disposables)}onTab(q){if(q.target!==this.view.domNode)return;const Ee=this.list.getFocus();if(Ee.length===0)return;const Se=this.view.domElement(Ee[0]);if(!Se)return;const we=Se.querySelector("[tabIndex]");if(!we||!(we instanceof HTMLElement)||we.tabIndex===-1)return;const ve=window.getComputedStyle(we);ve.visibility==="hidden"||ve.display==="none"||(q.preventDefault(),q.stopPropagation(),we.focus())}dispose(){this.disposables.dispose()}}function j(se){return s.dz?se.browserEvent.metaKey:se.browserEvent.ctrlKey}function z(se){return se.browserEvent.shiftKey}function K(se){return se instanceof MouseEvent&&se.button===2}const Z={isSelectionSingleChangeEvent:j,isSelectionRangeChangeEvent:z};class fe{constructor(q){this.list=q,this.disposables=new d.SL,this._onPointer=new a.Q5,this.onPointer=this._onPointer.event,q.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Z),this.mouseSupport=typeof q.options.mouseSupport=="undefined"||!!q.options.mouseSupport,this.mouseSupport&&(q.onMouseDown(this.onMouseDown,this,this.disposables),q.onContextMenu(this.onContextMenu,this,this.disposables),q.onMouseDblClick(this.onDoubleClick,this,this.disposables),q.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(_.o.addTarget(q.getHTMLElement()))),a.ju.any(q.onMouseClick,q.onMouseMiddleClick,q.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(q){q.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,q.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Z))}isSelectionSingleChangeEvent(q){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(q):!1}isSelectionRangeChangeEvent(q){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(q):!1}isSelectionChangeEvent(q){return this.isSelectionSingleChangeEvent(q)||this.isSelectionRangeChangeEvent(q)}onMouseDown(q){B(q.browserEvent.target)||document.activeElement!==q.browserEvent.target&&this.list.domFocus()}onContextMenu(q){if(F(q.browserEvent.target)||B(q.browserEvent.target))return;const Ee=typeof q.index=="undefined"?[]:[q.index];this.list.setFocus(Ee,q.browserEvent)}onViewPointer(q){if(!this.mouseSupport||F(q.browserEvent.target)||B(q.browserEvent.target)||q.browserEvent.isHandledByList)return;q.browserEvent.isHandledByList=!0;const Ee=q.index;if(typeof Ee=="undefined"){this.list.setFocus([],q.browserEvent),this.list.setSelection([],q.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(q))return this.changeSelection(q);if(this.isSelectionChangeEvent(q))return this.changeSelection(q);this.list.setFocus([Ee],q.browserEvent),this.list.setAnchor(Ee),K(q.browserEvent)||this.list.setSelection([Ee],q.browserEvent),this._onPointer.fire(q)}onDoubleClick(q){if(F(q.browserEvent.target)||B(q.browserEvent.target)||this.isSelectionChangeEvent(q)||q.browserEvent.isHandledByList)return;q.browserEvent.isHandledByList=!0;const Ee=this.list.getFocus();this.list.setSelection(Ee,q.browserEvent)}changeSelection(q){const Ee=q.index;let Se=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(q)){if(typeof Se=="undefined"){const He=this.list.getFocus()[0];Se=He!=null?He:Ee,this.list.setAnchor(Se)}const we=Math.min(Se,Ee),ve=Math.max(Se,Ee),Ne=(0,I.w6)(we,ve+1),$e=this.list.getSelection(),Ke=_e(pe($e,[Se]),Se);if(Ke.length===0)return;const ze=pe(Ne,le($e,Ke));this.list.setSelection(ze,q.browserEvent),this.list.setFocus([Ee],q.browserEvent)}else if(this.isSelectionSingleChangeEvent(q)){const we=this.list.getSelection(),ve=we.filter(Ne=>Ne!==Ee);this.list.setFocus([Ee]),this.list.setAnchor(Ee),we.length===ve.length?this.list.setSelection([...ve,Ee],q.browserEvent):this.list.setSelection(ve,q.browserEvent)}}dispose(){this.disposables.dispose()}}class T{constructor(q,Ee){this.styleElement=q,this.selectorSuffix=Ee}style(q){var Ee,Se;const we=this.selectorSuffix&&`.${this.selectorSuffix}`,ve=[];q.listBackground&&ve.push(`.monaco-list${we} .monaco-list-rows { background: ${q.listBackground}; }`),q.listFocusBackground&&(ve.push(`.monaco-list${we}:focus .monaco-list-row.focused { background-color: ${q.listFocusBackground}; }`),ve.push(`.monaco-list${we}:focus .monaco-list-row.focused:hover { background-color: ${q.listFocusBackground}; }`)),q.listFocusForeground&&ve.push(`.monaco-list${we}:focus .monaco-list-row.focused { color: ${q.listFocusForeground}; }`),q.listActiveSelectionBackground&&(ve.push(`.monaco-list${we}:focus .monaco-list-row.selected { background-color: ${q.listActiveSelectionBackground}; }`),ve.push(`.monaco-list${we}:focus .monaco-list-row.selected:hover { background-color: ${q.listActiveSelectionBackground}; }`)),q.listActiveSelectionForeground&&ve.push(`.monaco-list${we}:focus .monaco-list-row.selected { color: ${q.listActiveSelectionForeground}; }`),q.listActiveSelectionIconForeground&&ve.push(`.monaco-list${we}:focus .monaco-list-row.selected .codicon { color: ${q.listActiveSelectionIconForeground}; }`),q.listFocusAndSelectionBackground&&ve.push(`
				.monaco-drag-image,
				.monaco-list${we}:focus .monaco-list-row.selected.focused { background-color: ${q.listFocusAndSelectionBackground}; }
			`),q.listFocusAndSelectionForeground&&ve.push(`
				.monaco-drag-image,
				.monaco-list${we}:focus .monaco-list-row.selected.focused { color: ${q.listFocusAndSelectionForeground}; }
			`),q.listInactiveFocusForeground&&(ve.push(`.monaco-list${we} .monaco-list-row.focused { color:  ${q.listInactiveFocusForeground}; }`),ve.push(`.monaco-list${we} .monaco-list-row.focused:hover { color:  ${q.listInactiveFocusForeground}; }`)),q.listInactiveSelectionIconForeground&&ve.push(`.monaco-list${we} .monaco-list-row.focused .codicon { color:  ${q.listInactiveSelectionIconForeground}; }`),q.listInactiveFocusBackground&&(ve.push(`.monaco-list${we} .monaco-list-row.focused { background-color:  ${q.listInactiveFocusBackground}; }`),ve.push(`.monaco-list${we} .monaco-list-row.focused:hover { background-color:  ${q.listInactiveFocusBackground}; }`)),q.listInactiveSelectionBackground&&(ve.push(`.monaco-list${we} .monaco-list-row.selected { background-color:  ${q.listInactiveSelectionBackground}; }`),ve.push(`.monaco-list${we} .monaco-list-row.selected:hover { background-color:  ${q.listInactiveSelectionBackground}; }`)),q.listInactiveSelectionForeground&&ve.push(`.monaco-list${we} .monaco-list-row.selected { color: ${q.listInactiveSelectionForeground}; }`),q.listHoverBackground&&ve.push(`.monaco-list${we}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${q.listHoverBackground}; }`),q.listHoverForeground&&ve.push(`.monaco-list${we}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${q.listHoverForeground}; }`);const Ne=(0,f.XT)(q.listFocusAndSelectionOutline,(0,f.XT)(q.listSelectionOutline,(Ee=q.listFocusOutline)!==null&&Ee!==void 0?Ee:""));Ne&&ve.push(`.monaco-list${we}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Ne}; outline-offset: -1px;}`),q.listFocusOutline&&ve.push(`
				.monaco-drag-image,
				.monaco-list${we}:focus .monaco-list-row.focused { outline: 1px solid ${q.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${we}.last-focused .monaco-list-row.focused { outline: 1px solid ${q.listFocusOutline}; outline-offset: -1px; }
			`);const $e=(0,f.XT)(q.listSelectionOutline,(Se=q.listInactiveFocusOutline)!==null&&Se!==void 0?Se:"");$e&&ve.push(`.monaco-list${we} .monaco-list-row.focused.selected { outline: 1px dotted ${$e}; outline-offset: -1px; }`),q.listSelectionOutline&&ve.push(`.monaco-list${we} .monaco-list-row.selected { outline: 1px dotted ${q.listSelectionOutline}; outline-offset: -1px; }`),q.listInactiveFocusOutline&&ve.push(`.monaco-list${we} .monaco-list-row.focused { outline: 1px dotted ${q.listInactiveFocusOutline}; outline-offset: -1px; }`),q.listHoverOutline&&ve.push(`.monaco-list${we} .monaco-list-row:hover { outline: 1px dashed ${q.listHoverOutline}; outline-offset: -1px; }`),q.listDropBackground&&ve.push(`
				.monaco-list${we}.drop-target,
				.monaco-list${we} .monaco-list-rows.drop-target,
				.monaco-list${we} .monaco-list-row.drop-target { background-color: ${q.listDropBackground} !important; color: inherit !important; }
			`),q.tableColumnsBorder&&ve.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${q.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),q.tableOddRowsBackgroundColor&&ve.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${q.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=ve.join(`
`)}}const Re={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:E.Il.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:E.Il.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:E.Il.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},Ce={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function _e(se,q){const Ee=se.indexOf(q);if(Ee===-1)return[];const Se=[];let we=Ee-1;for(;we>=0&&se[we]===q-(Ee-we);)Se.push(se[we--]);for(Se.reverse(),we=Ee;we<se.length&&se[we]===q+(we-Ee);)Se.push(se[we++]);return Se}function pe(se,q){const Ee=[];let Se=0,we=0;for(;Se<se.length||we<q.length;)if(Se>=se.length)Ee.push(q[we++]);else if(we>=q.length)Ee.push(se[Se++]);else if(se[Se]===q[we]){Ee.push(se[Se]),Se++,we++;continue}else se[Se]<q[we]?Ee.push(se[Se++]):Ee.push(q[we++]);return Ee}function le(se,q){const Ee=[];let Se=0,we=0;for(;Se<se.length||we<q.length;)if(Se>=se.length)Ee.push(q[we++]);else if(we>=q.length)Ee.push(se[Se++]);else if(se[Se]===q[we]){Se++,we++;continue}else se[Se]<q[we]?Ee.push(se[Se++]):we++;return Ee}const oe=(se,q)=>se-q;class he{constructor(q,Ee){this._templateId=q,this.renderers=Ee}get templateId(){return this._templateId}renderTemplate(q){return this.renderers.map(Ee=>Ee.renderTemplate(q))}renderElement(q,Ee,Se,we){let ve=0;for(const Ne of this.renderers)Ne.renderElement(q,Ee,Se[ve++],we)}disposeElement(q,Ee,Se,we){var ve;let Ne=0;for(const $e of this.renderers)(ve=$e.disposeElement)===null||ve===void 0||ve.call($e,q,Ee,Se[Ne],we),Ne+=1}disposeTemplate(q){let Ee=0;for(const Se of this.renderers)Se.disposeTemplate(q[Ee++])}}class je{constructor(q){this.accessibilityProvider=q,this.templateId="a18n"}renderTemplate(q){return q}renderElement(q,Ee,Se){const we=this.accessibilityProvider.getAriaLabel(q);we?Se.setAttribute("aria-label",we):Se.removeAttribute("aria-label");const ve=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(q);typeof ve=="number"?Se.setAttribute("aria-level",`${ve}`):Se.removeAttribute("aria-level")}disposeTemplate(q){}}class Xe{constructor(q,Ee){this.list=q,this.dnd=Ee}getDragElements(q){const Ee=this.list.getSelectedElements();return Ee.indexOf(q)>-1?Ee:[q]}getDragURI(q){return this.dnd.getDragURI(q)}getDragLabel(q,Ee){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(q,Ee)}onDragStart(q,Ee){var Se,we;(we=(Se=this.dnd).onDragStart)===null||we===void 0||we.call(Se,q,Ee)}onDragOver(q,Ee,Se,we){return this.dnd.onDragOver(q,Ee,Se,we)}onDragLeave(q,Ee,Se,we){var ve,Ne;(Ne=(ve=this.dnd).onDragLeave)===null||Ne===void 0||Ne.call(ve,q,Ee,Se,we)}onDragEnd(q){var Ee,Se;(Se=(Ee=this.dnd).onDragEnd)===null||Se===void 0||Se.call(Ee,q)}drop(q,Ee,Se,we){this.dnd.drop(q,Ee,Se,we)}}class Ve{get onDidChangeFocus(){return a.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),q=>this.toListEvent(q),this.disposables)}get onDidChangeSelection(){return a.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),q=>this.toListEvent(q),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let q=!1;const Ee=this.disposables.add(a.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keydown")).event)).map(ve=>new u.y(ve)).filter(ve=>q=ve.keyCode===58||ve.shiftKey&&ve.keyCode===68).map(ve=>f.zB.stop(ve,!0)).filter(()=>!1).event,Se=this.disposables.add(a.ju.chain(this.disposables.add(new O.Y(this.view.domNode,"keyup")).event)).forEach(()=>q=!1).map(ve=>new u.y(ve)).filter(ve=>ve.keyCode===58||ve.shiftKey&&ve.keyCode===68).map(ve=>f.zB.stop(ve,!0)).map(({browserEvent:ve})=>{const Ne=this.getFocus(),$e=Ne.length?Ne[0]:void 0,Ke=typeof $e!="undefined"?this.view.element($e):void 0,ze=typeof $e!="undefined"?this.view.domElement($e):this.view.domNode;return{index:$e,element:Ke,anchor:ze,browserEvent:ve}}).event,we=this.disposables.add(a.ju.chain(this.view.onContextMenu)).filter(ve=>!q).map(({element:ve,index:Ne,browserEvent:$e})=>({element:ve,index:Ne,anchor:{x:$e.pageX+1,y:$e.pageY},browserEvent:$e})).event;return a.ju.any(Ee,Se,we)}get onKeyDown(){return this.disposables.add(new O.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return a.ju.signal(this.disposables.add(new O.Y(this.view.domNode,"focus",!0)).event)}constructor(q,Ee,Se,we,ve=Ce){var Ne,$e,Ke,ze;this.user=q,this._options=ve,this.focus=new P("focused"),this.anchor=new P("anchor"),this.eventBufferer=new a.E7,this._ariaLabel="",this.disposables=new d.SL,this._onDidDispose=new a.Q5,this.onDidDispose=this._onDidDispose.event;const He=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Ne=this._options.accessibilityProvider)===null||Ne===void 0?void 0:Ne.getWidgetRole():"list";this.selection=new M(He!=="listbox");const Le=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ve.accessibilityProvider,this.accessibilityProvider&&(Le.push(new je(this.accessibilityProvider)),(Ke=($e=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Ke===void 0||Ke.call($e,this.onDidChangeActiveDescendant,this,this.disposables)),we=we.map(ee=>new he(ee.templateId,[...Le,ee]));const de=Object.assign(Object.assign({},ve),{dnd:ve.dnd&&new Xe(this,ve.dnd)});if(this.view=this.createListView(Ee,Se,we,de),this.view.domNode.setAttribute("role",He),ve.styleController)this.styleController=ve.styleController(this.view.domId);else{const ee=(0,f.dS)(this.view.domNode);this.styleController=new T(ee,this.view.domId)}if(this.spliceable=new V([new D(this.focus,this.view,ve.identityProvider),new D(this.selection,this.view,ve.identityProvider),new D(this.anchor,this.view,ve.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Y(this,this.view)),(typeof ve.keyboardSupport!="boolean"||ve.keyboardSupport)&&(this.keyboardController=new A(this,this.view,ve),this.disposables.add(this.keyboardController)),ve.keyboardNavigationLabelProvider){const ee=ve.keyboardNavigationDelegate||$;this.typeNavigationController=new J(this,this.view,ve.keyboardNavigationLabelProvider,(ze=ve.keyboardNavigationEventFilter)!==null&&ze!==void 0?ze:()=>!0,ee),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(ve),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(q,Ee,Se,we){return new v.Bv(q,Ee,Se,we)}createMouseController(q){return new fe(this)}updateOptions(q={}){var Ee,Se;this._options=Object.assign(Object.assign({},this._options),q),(Ee=this.typeNavigationController)===null||Ee===void 0||Ee.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(q),(Se=this.keyboardController)===null||Se===void 0||Se.updateOptions(q),this.view.updateOptions(q)}get options(){return this._options}splice(q,Ee,Se=[]){if(q<0||q>this.view.length)throw new c(this.user,`Invalid start index: ${q}`);if(Ee<0)throw new c(this.user,`Invalid delete count: ${Ee}`);Ee===0&&Se.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(q,Ee,Se))}rerender(){this.view.rerender()}element(q){return this.view.element(q)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(q){this.view.setScrollTop(q)}get scrollHeight(){return this.view.scrollHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(q){this._ariaLabel=q,this.view.domNode.setAttribute("aria-label",q)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(q,Ee){this.view.layout(q,Ee)}setSelection(q,Ee){for(const Se of q)if(Se<0||Se>=this.length)throw new c(this.user,`Invalid index ${Se}`);this.selection.set(q,Ee)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(q=>this.view.element(q))}setAnchor(q){if(typeof q=="undefined"){this.anchor.set([]);return}if(q<0||q>=this.length)throw new c(this.user,`Invalid index ${q}`);this.anchor.set([q])}getAnchor(){return(0,I.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const q=this.getAnchor();return typeof q=="undefined"?void 0:this.element(q)}setFocus(q,Ee){for(const Se of q)if(Se<0||Se>=this.length)throw new c(this.user,`Invalid index ${Se}`);this.focus.set(q,Ee)}focusNext(q=1,Ee=!1,Se,we){if(this.length===0)return;const ve=this.focus.get(),Ne=this.findNextIndex(ve.length>0?ve[0]+q:0,Ee,we);Ne>-1&&this.setFocus([Ne],Se)}focusPrevious(q=1,Ee=!1,Se,we){if(this.length===0)return;const ve=this.focus.get(),Ne=this.findPreviousIndex(ve.length>0?ve[0]-q:0,Ee,we);Ne>-1&&this.setFocus([Ne],Se)}focusNextPage(q,Ee){return S(this,void 0,void 0,function*(){let Se=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Se=Se===0?0:Se-1;const we=this.getFocus()[0];if(we!==Se&&(we===void 0||Se>we)){const ve=this.findPreviousIndex(Se,!1,Ee);ve>-1&&we!==ve?this.setFocus([ve],q):this.setFocus([Se],q)}else{const ve=this.view.getScrollTop();let Ne=ve+this.view.renderHeight;Se>we&&(Ne-=this.view.elementHeight(Se)),this.view.setScrollTop(Ne),this.view.getScrollTop()!==ve&&(this.setFocus([]),yield(0,L.Vs)(0),yield this.focusNextPage(q,Ee))}})}focusPreviousPage(q,Ee){return S(this,void 0,void 0,function*(){let Se;const we=this.view.getScrollTop();we===0?Se=this.view.indexAt(we):Se=this.view.indexAfter(we-1);const ve=this.getFocus()[0];if(ve!==Se&&(ve===void 0||ve>=Se)){const Ne=this.findNextIndex(Se,!1,Ee);Ne>-1&&ve!==Ne?this.setFocus([Ne],q):this.setFocus([Se],q)}else{const Ne=we;this.view.setScrollTop(we-this.view.renderHeight),this.view.getScrollTop()!==Ne&&(this.setFocus([]),yield(0,L.Vs)(0),yield this.focusPreviousPage(q,Ee))}})}focusLast(q,Ee){if(this.length===0)return;const Se=this.findPreviousIndex(this.length-1,!1,Ee);Se>-1&&this.setFocus([Se],q)}focusFirst(q,Ee){this.focusNth(0,q,Ee)}focusNth(q,Ee,Se){if(this.length===0)return;const we=this.findNextIndex(q,!1,Se);we>-1&&this.setFocus([we],Ee)}findNextIndex(q,Ee=!1,Se){for(let we=0;we<this.length;we++){if(q>=this.length&&!Ee)return-1;if(q=q%this.length,!Se||Se(this.element(q)))return q;q++}return-1}findPreviousIndex(q,Ee=!1,Se){for(let we=0;we<this.length;we++){if(q<0&&!Ee)return-1;if(q=(this.length+q%this.length)%this.length,!Se||Se(this.element(q)))return q;q--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(q=>this.view.element(q))}reveal(q,Ee){if(q<0||q>=this.length)throw new c(this.user,`Invalid index ${q}`);const Se=this.view.getScrollTop(),we=this.view.elementTop(q),ve=this.view.elementHeight(q);if((0,m.hj)(Ee)){const Ne=ve-this.view.renderHeight;this.view.setScrollTop(Ne*(0,i.uZ)(Ee,0,1)+we)}else{const Ne=we+ve,$e=Se+this.view.renderHeight;we<Se&&Ne>=$e||(we<Se||Ne>=$e&&ve>=this.view.renderHeight?this.view.setScrollTop(we):Ne>=$e&&this.view.setScrollTop(Ne-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(q){return this.view.getElementDomId(q)}style(q){this.styleController.style(q)}toListEvent({indexes:q,browserEvent:Ee}){return{indexes:q,elements:q.map(Se=>this.view.element(Se)),browserEvent:Ee}}_onFocusChange(){const q=this.focus.get();this.view.domNode.classList.toggle("element-focused",q.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var q;const Ee=this.focus.get();if(Ee.length>0){let Se;!((q=this.accessibilityProvider)===null||q===void 0)&&q.getActiveDescendantId&&(Se=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ee[0]))),this.view.domNode.setAttribute("aria-activedescendant",Se||this.view.getElementDomId(Ee[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const q=this.selection.get();this.view.domNode.classList.toggle("selection-none",q.length===0),this.view.domNode.classList.toggle("selection-single",q.length===1),this.view.domNode.classList.toggle("selection-multiple",q.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}C([g.H],Ve.prototype,"onDidChangeFocus",null),C([g.H],Ve.prototype,"onDidChangeSelection",null),C([g.H],Ve.prototype,"onContextMenu",null),C([g.H],Ve.prototype,"onKeyDown",null),C([g.H],Ve.prototype,"onDidFocus",null)},56245:function(Rt,Be,t){"use strict";t.d(Be,{S:function(){return f}});const f="monaco-mouse-cursor-text"},52243:function(Rt,Be,t){"use strict";t.d(Be,{l:function(){return a},g:function(){return C}});var f=t(34441),O=t(54505),u=t(80265),_=t(13484),p=t(4848),V=t(56709),I=t(38431),L=t(11138),E=function(S,N,P,M){var D=arguments.length,F=D<3?N:M===null?M=Object.getOwnPropertyDescriptor(N,P):M,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(S,N,P,M);else for(var U=S.length-1;U>=0;U--)(B=S[U])&&(F=(D<3?B(F):D>3?B(N,P,F):B(N,P))||F);return D>3&&F&&Object.defineProperty(N,P,F),F};const g=!1;var a;(function(S){S.North="north",S.South="south",S.East="east",S.West="west"})(a||(a={}));let l=4;const d=new V.Q5;let i=300;const s=new V.Q5;class m{constructor(){this.disposables=new I.SL}get onPointerMove(){return this.disposables.add(new O.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new O.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}E([p.H],m.prototype,"onPointerMove",null),E([p.H],m.prototype,"onPointerUp",null);class b{get onPointerMove(){return this.disposables.add(new O.Y(this.el,u.t.Change)).event}get onPointerUp(){return this.disposables.add(new O.Y(this.el,u.t.End)).event}constructor(N){this.el=N,this.disposables=new I.SL}dispose(){this.disposables.dispose()}}E([p.H],b.prototype,"onPointerMove",null),E([p.H],b.prototype,"onPointerUp",null);class c{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(N){this.factory=N}dispose(){}}E([p.H],c.prototype,"onPointerMove",null),E([p.H],c.prototype,"onPointerUp",null);const v="pointer-events-disabled";class C extends I.JT{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(N){this._state!==N&&(this.el.classList.toggle("disabled",N===0),this.el.classList.toggle("minimum",N===1),this.el.classList.toggle("maximum",N===2),this._state=N,this.onDidEnablementChange.fire(N))}set orthogonalStartSash(N){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),N){const P=M=>{this.orthogonalStartDragHandleDisposables.clear(),M!==0&&(this._orthogonalStartDragHandle=(0,f.R3)(this.el,(0,f.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,I.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new O.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>C.onMouseEnter(N),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new O.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>C.onMouseLeave(N),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(N.onDidEnablementChange.event(P,this)),P(N.state)}this._orthogonalStartSash=N}set orthogonalEndSash(N){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),N){const P=M=>{this.orthogonalEndDragHandleDisposables.clear(),M!==0&&(this._orthogonalEndDragHandle=(0,f.R3)(this.el,(0,f.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,I.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new O.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>C.onMouseEnter(N),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new O.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>C.onMouseLeave(N),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(N.onDidEnablementChange.event(P,this)),P(N.state)}this._orthogonalEndSash=N}constructor(N,P,M){super(),this.hoverDelay=i,this.hoverDelayer=this._register(new _.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new V.Q5),this._onDidStart=this._register(new V.Q5),this._onDidChange=this._register(new V.Q5),this._onDidReset=this._register(new V.Q5),this._onDidEnd=this._register(new V.Q5),this.orthogonalStartSashDisposables=this._register(new I.SL),this.orthogonalStartDragHandleDisposables=this._register(new I.SL),this.orthogonalEndSashDisposables=this._register(new I.SL),this.orthogonalEndDragHandleDisposables=this._register(new I.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,f.R3)(N,(0,f.$)(".monaco-sash")),M.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${M.orthogonalEdge}`),L.dz&&this.el.classList.add("mac");const D=this._register(new O.Y(this.el,"mousedown")).event;this._register(D($=>this.onPointerStart($,new m),this));const F=this._register(new O.Y(this.el,"dblclick")).event;this._register(F(this.onPointerDoublePress,this));const B=this._register(new O.Y(this.el,"mouseenter")).event;this._register(B(()=>C.onMouseEnter(this)));const U=this._register(new O.Y(this.el,"mouseleave")).event;this._register(U(()=>C.onMouseLeave(this))),this._register(u.o.addTarget(this.el));const A=this._register(new O.Y(this.el,u.t.Start)).event;this._register(A($=>this.onPointerStart($,new b(this.el)),this));const k=this._register(new O.Y(this.el,u.t.Tap)).event;let R;this._register(k($=>{if(R){clearTimeout(R),R=void 0,this.onPointerDoublePress($);return}clearTimeout(R),R=setTimeout(()=>R=void 0,250)},this)),typeof M.size=="number"?(this.size=M.size,M.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=l,this._register(d.event($=>{this.size=$,this.layout()}))),this._register(s.event($=>this.hoverDelay=$)),this.layoutProvider=P,this.orthogonalStartSash=M.orthogonalStartSash,this.orthogonalEndSash=M.orthogonalEndSash,this.orientation=M.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",g),this.layout()}onPointerStart(N,P){f.zB.stop(N);let M=!1;if(!N.__orthogonalSashEvent){const j=this.getOrthogonalSash(N);j&&(M=!0,N.__orthogonalSashEvent=!0,j.onPointerStart(N,new c(P)))}if(this.linkedSash&&!N.__linkedSashEvent&&(N.__linkedSashEvent=!0,this.linkedSash.onPointerStart(N,new c(P))),!this.state)return;const D=document.getElementsByTagName("iframe");for(const j of D)j.classList.add(v);const F=N.pageX,B=N.pageY,U=N.altKey,A={startX:F,currentX:F,startY:B,currentY:B,altKey:U};this.el.classList.add("active"),this._onDidStart.fire(A);const k=(0,f.dS)(this.el),R=()=>{let j="";M?j="all-scroll":this.orientation===1?this.state===1?j="s-resize":this.state===2?j="n-resize":j=L.dz?"row-resize":"ns-resize":this.state===1?j="e-resize":this.state===2?j="w-resize":j=L.dz?"col-resize":"ew-resize",k.textContent=`* { cursor: ${j} !important; }`},$=new I.SL;R(),M||this.onDidEnablementChange.event(R,null,$);const J=j=>{f.zB.stop(j,!1);const z={startX:F,currentX:j.pageX,startY:B,currentY:j.pageY,altKey:U};this._onDidChange.fire(z)},Y=j=>{f.zB.stop(j,!1),this.el.removeChild(k),this.el.classList.remove("active"),this._onDidEnd.fire(),$.dispose();for(const z of D)z.classList.remove(v)};P.onPointerMove(J,null,$),P.onPointerUp(Y,null,$),$.add(P)}onPointerDoublePress(N){const P=this.getOrthogonalSash(N);P&&P._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(N,P=!1){N.el.classList.contains("active")?(N.hoverDelayer.cancel(),N.el.classList.add("hover")):N.hoverDelayer.trigger(()=>N.el.classList.add("hover"),N.hoverDelay).then(void 0,()=>{}),!P&&N.linkedSash&&C.onMouseEnter(N.linkedSash,!0)}static onMouseLeave(N,P=!1){N.hoverDelayer.cancel(),N.el.classList.remove("hover"),!P&&N.linkedSash&&C.onMouseLeave(N.linkedSash,!0)}clearSashHoverState(){C.onMouseLeave(this)}layout(){if(this.orientation===0){const N=this.layoutProvider;this.el.style.left=N.getVerticalSashLeft(this)-this.size/2+"px",N.getVerticalSashTop&&(this.el.style.top=N.getVerticalSashTop(this)+"px"),N.getVerticalSashHeight&&(this.el.style.height=N.getVerticalSashHeight(this)+"px")}else{const N=this.layoutProvider;this.el.style.top=N.getHorizontalSashTop(this)-this.size/2+"px",N.getHorizontalSashLeft&&(this.el.style.left=N.getHorizontalSashLeft(this)+"px"),N.getHorizontalSashWidth&&(this.el.style.width=N.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(N){var P;const M=(P=N.initialTarget)!==null&&P!==void 0?P:N.target;if(!(!M||!(M instanceof HTMLElement))&&M.classList.contains("orthogonal-drag-handle"))return M.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},60018:function(Rt,Be,t){"use strict";t.d(Be,{s$:function(){return R},Io:function(){return B},NB:function(){return A},$Z:function(){return k}});var f=t(71488),O=t(34441),u=t(34733),_=t(64079),p=t(97314),V=t(88305),I=t(13484),L=t(8216);const E=11;class g extends V.${constructor(Y){super(),this._onActivate=Y.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=Y.bgWidth+"px",this.bgDomNode.style.height=Y.bgHeight+"px",typeof Y.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof Y.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof Y.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof Y.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=Y.className,this.domNode.classList.add(...L.k.asClassNameArray(Y.icon)),this.domNode.style.position="absolute",this.domNode.style.width=E+"px",this.domNode.style.height=E+"px",typeof Y.top!="undefined"&&(this.domNode.style.top=Y.top+"px"),typeof Y.left!="undefined"&&(this.domNode.style.left=Y.left+"px"),typeof Y.bottom!="undefined"&&(this.domNode.style.bottom=Y.bottom+"px"),typeof Y.right!="undefined"&&(this.domNode.style.right=Y.right+"px"),this._pointerMoveMonitor=this._register(new p.C),this._register(O.mu(this.bgDomNode,O.tw.POINTER_DOWN,j=>this._arrowPointerDown(j))),this._register(O.mu(this.domNode,O.tw.POINTER_DOWN,j=>this._arrowPointerDown(j))),this._pointerdownRepeatTimer=this._register(new I.zh),this._pointerdownScheduleRepeatTimer=this._register(new I._F)}_arrowPointerDown(Y){if(!Y.target||!(Y.target instanceof Element))return;const j=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(j,200),this._pointerMoveMonitor.startMonitoring(Y.target,Y.pointerId,Y.buttons,z=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),Y.preventDefault()}}var a=t(38431);class l extends a.JT{constructor(Y,j,z){super(),this._visibility=Y,this._visibleClassName=j,this._invisibleClassName=z,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new I._F)}setVisibility(Y){this._visibility!==Y&&(this._visibility=Y,this._updateShouldBeVisible())}setShouldBeVisible(Y){this._rawShouldBeVisible=Y,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const Y=this._applyVisibilitySetting();this._shouldBeVisible!==Y&&(this._shouldBeVisible=Y,this.ensureVisibility())}setIsNeeded(Y){this._isNeeded!==Y&&(this._isNeeded=Y,this.ensureVisibility())}setDomNode(Y){this._domNode=Y,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var Y;(Y=this._domNode)===null||Y===void 0||Y.setClassName(this._visibleClassName)},0))}_hide(Y){var j;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(j=this._domNode)===null||j===void 0||j.setClassName(this._invisibleClassName+(Y?" fade":"")))}}var d=t(11138);const i=140;class s extends V.${constructor(Y){super(),this._lazyRender=Y.lazyRender,this._host=Y.host,this._scrollable=Y.scrollable,this._scrollByPage=Y.scrollByPage,this._scrollbarState=Y.scrollbarState,this._visibilityController=this._register(new l(Y.visibility,"visible scrollbar "+Y.extraScrollbarClassName,"invisible scrollbar "+Y.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new p.C),this._shouldRender=!0,this.domNode=(0,u.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(O.nm(this.domNode.domNode,O.tw.POINTER_DOWN,j=>this._domNodePointerDown(j)))}_createArrow(Y){const j=this._register(new g(Y));this.domNode.domNode.appendChild(j.bgDomNode),this.domNode.domNode.appendChild(j.domNode)}_createSlider(Y,j,z,K){this.slider=(0,u.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(Y),this.slider.setLeft(j),typeof z=="number"&&this.slider.setWidth(z),typeof K=="number"&&this.slider.setHeight(K),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(O.nm(this.slider.domNode,O.tw.POINTER_DOWN,Z=>{Z.button===0&&(Z.preventDefault(),this._sliderPointerDown(Z))})),this.onclick(this.slider.domNode,Z=>{Z.leftButton&&Z.stopPropagation()})}_onElementSize(Y){return this._scrollbarState.setVisibleSize(Y)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(Y){return this._scrollbarState.setScrollSize(Y)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(Y){return this._scrollbarState.setScrollPosition(Y)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(Y){Y.target===this.domNode.domNode&&this._onPointerDown(Y)}delegatePointerDown(Y){const j=this.domNode.domNode.getClientRects()[0].top,z=j+this._scrollbarState.getSliderPosition(),K=j+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Z=this._sliderPointerPosition(Y);z<=Z&&Z<=K?Y.button===0&&(Y.preventDefault(),this._sliderPointerDown(Y)):this._onPointerDown(Y)}_onPointerDown(Y){let j,z;if(Y.target===this.domNode.domNode&&typeof Y.offsetX=="number"&&typeof Y.offsetY=="number")j=Y.offsetX,z=Y.offsetY;else{const Z=O.i(this.domNode.domNode);j=Y.pageX-Z.left,z=Y.pageY-Z.top}const K=this._pointerDownRelativePosition(j,z);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(K):this._scrollbarState.getDesiredScrollPositionFromOffset(K)),Y.button===0&&(Y.preventDefault(),this._sliderPointerDown(Y))}_sliderPointerDown(Y){if(!Y.target||!(Y.target instanceof Element))return;const j=this._sliderPointerPosition(Y),z=this._sliderOrthogonalPointerPosition(Y),K=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(Y.target,Y.pointerId,Y.buttons,Z=>{const fe=this._sliderOrthogonalPointerPosition(Z),T=Math.abs(fe-z);if(d.ED&&T>i){this._setDesiredScrollPositionNow(K.getScrollPosition());return}const Ce=this._sliderPointerPosition(Z)-j;this._setDesiredScrollPositionNow(K.getDesiredScrollPositionFromDelta(Ce))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(Y){const j={};this.writeScrollPosition(j,Y),this._scrollable.setScrollPositionNow(j)}updateScrollbarSize(Y){this._updateScrollbarSize(Y),this._scrollbarState.setScrollbarSize(Y),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const m=20;class b{constructor(Y,j,z,K,Z,fe){this._scrollbarSize=Math.round(j),this._oppositeScrollbarSize=Math.round(z),this._arrowSize=Math.round(Y),this._visibleSize=K,this._scrollSize=Z,this._scrollPosition=fe,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new b(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(Y){const j=Math.round(Y);return this._visibleSize!==j?(this._visibleSize=j,this._refreshComputedValues(),!0):!1}setScrollSize(Y){const j=Math.round(Y);return this._scrollSize!==j?(this._scrollSize=j,this._refreshComputedValues(),!0):!1}setScrollPosition(Y){const j=Math.round(Y);return this._scrollPosition!==j?(this._scrollPosition=j,this._refreshComputedValues(),!0):!1}setScrollbarSize(Y){this._scrollbarSize=Math.round(Y)}setOppositeScrollbarSize(Y){this._oppositeScrollbarSize=Math.round(Y)}static _computeValues(Y,j,z,K,Z){const fe=Math.max(0,z-Y),T=Math.max(0,fe-2*j),Re=K>0&&K>z;if(!Re)return{computedAvailableSize:Math.round(fe),computedIsNeeded:Re,computedSliderSize:Math.round(T),computedSliderRatio:0,computedSliderPosition:0};const Ce=Math.round(Math.max(m,Math.floor(z*T/K))),_e=(T-Ce)/(K-z),pe=Z*_e;return{computedAvailableSize:Math.round(fe),computedIsNeeded:Re,computedSliderSize:Math.round(Ce),computedSliderRatio:_e,computedSliderPosition:Math.round(pe)}}_refreshComputedValues(){const Y=b._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=Y.computedAvailableSize,this._computedIsNeeded=Y.computedIsNeeded,this._computedSliderSize=Y.computedSliderSize,this._computedSliderRatio=Y.computedSliderRatio,this._computedSliderPosition=Y.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(Y){if(!this._computedIsNeeded)return 0;const j=Y-this._arrowSize-this._computedSliderSize/2;return Math.round(j/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(Y){if(!this._computedIsNeeded)return 0;const j=Y-this._arrowSize;let z=this._scrollPosition;return j<this._computedSliderPosition?z-=this._visibleSize:z+=this._visibleSize,z}getDesiredScrollPositionFromDelta(Y){if(!this._computedIsNeeded)return 0;const j=this._computedSliderPosition+Y;return Math.round(j/this._computedSliderRatio)}}var c=t(407);class v extends s{constructor(Y,j,z){const K=Y.getScrollDimensions(),Z=Y.getCurrentScrollPosition();if(super({lazyRender:j.lazyRender,host:z,scrollbarState:new b(j.horizontalHasArrows?j.arrowSize:0,j.horizontal===2?0:j.horizontalScrollbarSize,j.vertical===2?0:j.verticalScrollbarSize,K.width,K.scrollWidth,Z.scrollLeft),visibility:j.horizontal,extraScrollbarClassName:"horizontal",scrollable:Y,scrollByPage:j.scrollByPage}),j.horizontalHasArrows){const fe=(j.arrowSize-E)/2,T=(j.horizontalScrollbarSize-E)/2;this._createArrow({className:"scra",icon:c.l.scrollbarButtonLeft,top:T,left:fe,bottom:void 0,right:void 0,bgWidth:j.arrowSize,bgHeight:j.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _.q(null,1,0))}),this._createArrow({className:"scra",icon:c.l.scrollbarButtonRight,top:T,left:void 0,bottom:void 0,right:fe,bgWidth:j.arrowSize,bgHeight:j.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _.q(null,-1,0))})}this._createSlider(Math.floor((j.horizontalScrollbarSize-j.horizontalSliderSize)/2),0,void 0,j.horizontalSliderSize)}_updateSlider(Y,j){this.slider.setWidth(Y),this.slider.setLeft(j)}_renderDomNode(Y,j){this.domNode.setWidth(Y),this.domNode.setHeight(j),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(Y){return this._shouldRender=this._onElementScrollSize(Y.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(Y.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(Y.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(Y,j){return Y}_sliderPointerPosition(Y){return Y.pageX}_sliderOrthogonalPointerPosition(Y){return Y.pageY}_updateScrollbarSize(Y){this.slider.setHeight(Y)}writeScrollPosition(Y,j){Y.scrollLeft=j}updateOptions(Y){this.updateScrollbarSize(Y.horizontal===2?0:Y.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(Y.vertical===2?0:Y.verticalScrollbarSize),this._visibilityController.setVisibility(Y.horizontal),this._scrollByPage=Y.scrollByPage}}class C extends s{constructor(Y,j,z){const K=Y.getScrollDimensions(),Z=Y.getCurrentScrollPosition();if(super({lazyRender:j.lazyRender,host:z,scrollbarState:new b(j.verticalHasArrows?j.arrowSize:0,j.vertical===2?0:j.verticalScrollbarSize,0,K.height,K.scrollHeight,Z.scrollTop),visibility:j.vertical,extraScrollbarClassName:"vertical",scrollable:Y,scrollByPage:j.scrollByPage}),j.verticalHasArrows){const fe=(j.arrowSize-E)/2,T=(j.verticalScrollbarSize-E)/2;this._createArrow({className:"scra",icon:c.l.scrollbarButtonUp,top:fe,left:T,bottom:void 0,right:void 0,bgWidth:j.verticalScrollbarSize,bgHeight:j.arrowSize,onActivate:()=>this._host.onMouseWheel(new _.q(null,0,1))}),this._createArrow({className:"scra",icon:c.l.scrollbarButtonDown,top:void 0,left:T,bottom:fe,right:void 0,bgWidth:j.verticalScrollbarSize,bgHeight:j.arrowSize,onActivate:()=>this._host.onMouseWheel(new _.q(null,0,-1))})}this._createSlider(0,Math.floor((j.verticalScrollbarSize-j.verticalSliderSize)/2),j.verticalSliderSize,void 0)}_updateSlider(Y,j){this.slider.setHeight(Y),this.slider.setTop(j)}_renderDomNode(Y,j){this.domNode.setWidth(j),this.domNode.setHeight(Y),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(Y){return this._shouldRender=this._onElementScrollSize(Y.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(Y.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(Y.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(Y,j){return j}_sliderPointerPosition(Y){return Y.pageY}_sliderOrthogonalPointerPosition(Y){return Y.pageX}_updateScrollbarSize(Y){this.slider.setWidth(Y)}writeScrollPosition(Y,j){Y.scrollTop=j}updateOptions(Y){this.updateScrollbarSize(Y.vertical===2?0:Y.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(Y.vertical),this._scrollByPage=Y.scrollByPage}}var S=t(56709),N=t(44929);const P=500,M=50,D=!0;class F{constructor(Y,j,z){this.timestamp=Y,this.deltaX=j,this.deltaY=z,this.score=0}}class B{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let Y=1,j=0,z=1,K=this._rear;do{const Z=K===this._front?Y:Math.pow(2,-z);if(Y-=Z,j+=this._memory[K].score*Z,K===this._front)break;K=(this._capacity+K-1)%this._capacity,z++}while(!0);return j<=.5}acceptStandardWheelEvent(Y){const j=window.devicePixelRatio/(0,f.getZoomFactor)();d.ED||d.IJ?this.accept(Date.now(),Y.deltaX/j,Y.deltaY/j):this.accept(Date.now(),Y.deltaX,Y.deltaY)}accept(Y,j,z){const K=new F(Y,j,z);K.score=this._computeScore(K),this._front===-1&&this._rear===-1?(this._memory[0]=K,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=K)}_computeScore(Y){if(Math.abs(Y.deltaX)>0&&Math.abs(Y.deltaY)>0)return 1;let j=.5;const z=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(Y.deltaX)||!this._isAlmostInt(Y.deltaY))&&(j+=.25),Math.min(Math.max(j,0),1)}_isAlmostInt(Y){return Math.abs(Math.round(Y)-Y)<.01}}B.INSTANCE=new B;class U extends V.${get options(){return this._options}constructor(Y,j,z){super(),this._onScroll=this._register(new S.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new S.Q5),Y.style.overflow="hidden",this._options=$(j),this._scrollable=z,this._register(this._scrollable.onScroll(Z=>{this._onWillScroll.fire(Z),this._onDidScroll(Z),this._onScroll.fire(Z)}));const K={onMouseWheel:Z=>this._onMouseWheel(Z),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new C(this._scrollable,this._options,K)),this._horizontalScrollbar=this._register(new v(this._scrollable,this._options,K)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(Y),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,u.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,u.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,u.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,Z=>this._onMouseOver(Z)),this.onmouseleave(this._listenOnDomNode,Z=>this._onMouseLeave(Z)),this._hideTimeout=this._register(new I._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,a.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(Y){this._verticalScrollbar.delegatePointerDown(Y)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(Y){this._scrollable.setScrollDimensions(Y,!1)}updateClassName(Y){this._options.className=Y,d.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(Y){typeof Y.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=Y.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof Y.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=Y.mouseWheelScrollSensitivity),typeof Y.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=Y.fastScrollSensitivity),typeof Y.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=Y.scrollPredominantAxis),typeof Y.horizontal!="undefined"&&(this._options.horizontal=Y.horizontal),typeof Y.vertical!="undefined"&&(this._options.vertical=Y.vertical),typeof Y.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=Y.horizontalScrollbarSize),typeof Y.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=Y.verticalScrollbarSize),typeof Y.scrollByPage!="undefined"&&(this._options.scrollByPage=Y.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(Y){this._onMouseWheel(new _.q(Y))}_setListeningToMouseWheel(Y){if(this._mouseWheelToDispose.length>0!==Y&&(this._mouseWheelToDispose=(0,a.B9)(this._mouseWheelToDispose),Y)){const z=K=>{this._onMouseWheel(new _.q(K))};this._mouseWheelToDispose.push(O.nm(this._listenOnDomNode,O.tw.MOUSE_WHEEL,z,{passive:!1}))}}_onMouseWheel(Y){const j=B.INSTANCE;D&&j.acceptStandardWheelEvent(Y);let z=!1;if(Y.deltaY||Y.deltaX){let Z=Y.deltaY*this._options.mouseWheelScrollSensitivity,fe=Y.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(Z)>=Math.abs(fe)?fe=0:Z=0),this._options.flipAxes&&([Z,fe]=[fe,Z]);const T=!d.dz&&Y.browserEvent&&Y.browserEvent.shiftKey;(this._options.scrollYToX||T)&&!fe&&(fe=Z,Z=0),Y.browserEvent&&Y.browserEvent.altKey&&(fe=fe*this._options.fastScrollSensitivity,Z=Z*this._options.fastScrollSensitivity);const Re=this._scrollable.getFutureScrollPosition();let Ce={};if(Z){const _e=M*Z,pe=Re.scrollTop-(_e<0?Math.floor(_e):Math.ceil(_e));this._verticalScrollbar.writeScrollPosition(Ce,pe)}if(fe){const _e=M*fe,pe=Re.scrollLeft-(_e<0?Math.floor(_e):Math.ceil(_e));this._horizontalScrollbar.writeScrollPosition(Ce,pe)}Ce=this._scrollable.validateScrollPosition(Ce),(Re.scrollLeft!==Ce.scrollLeft||Re.scrollTop!==Ce.scrollTop)&&(D&&this._options.mouseWheelSmoothScroll&&j.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Ce):this._scrollable.setScrollPositionNow(Ce),z=!0)}let K=z;!K&&this._options.alwaysConsumeMouseWheel&&(K=!0),!K&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(K=!0),K&&(Y.preventDefault(),Y.stopPropagation())}_onDidScroll(Y){this._shouldRender=this._horizontalScrollbar.onDidScroll(Y)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(Y)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const Y=this._scrollable.getCurrentScrollPosition(),j=Y.scrollTop>0,z=Y.scrollLeft>0,K=z?" left":"",Z=j?" top":"",fe=z||j?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${K}`),this._topShadowDomNode.setClassName(`shadow${Z}`),this._topLeftShadowDomNode.setClassName(`shadow${fe}${Z}${K}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(Y){this._mouseIsOver=!1,this._hide()}_onMouseOver(Y){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),P)}}class A extends U{constructor(Y,j){j=j||{},j.mouseWheelSmoothScroll=!1;const z=new N.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:K=>O.jL(K)});super(Y,j,z),this._register(z)}setScrollPosition(Y){this._scrollable.setScrollPositionNow(Y)}}class k extends U{constructor(Y,j,z){super(Y,j,z)}setScrollPosition(Y){Y.reuseAnimation?this._scrollable.setScrollPositionSmooth(Y,Y.reuseAnimation):this._scrollable.setScrollPositionNow(Y)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class R extends U{constructor(Y,j){j=j||{},j.mouseWheelSmoothScroll=!1;const z=new N.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:K=>O.jL(K)});super(Y,j,z),this._register(z),this._element=Y,this.onScroll(K=>{K.scrollTopChanged&&(this._element.scrollTop=K.scrollTop),K.scrollLeftChanged&&(this._element.scrollLeft=K.scrollLeft)}),this.scanDomNode()}setScrollPosition(Y){this._scrollable.setScrollPositionNow(Y)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function $(J){const Y={lazyRender:typeof J.lazyRender!="undefined"?J.lazyRender:!1,className:typeof J.className!="undefined"?J.className:"",useShadows:typeof J.useShadows!="undefined"?J.useShadows:!0,handleMouseWheel:typeof J.handleMouseWheel!="undefined"?J.handleMouseWheel:!0,flipAxes:typeof J.flipAxes!="undefined"?J.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof J.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?J.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof J.alwaysConsumeMouseWheel!="undefined"?J.alwaysConsumeMouseWheel:!1,scrollYToX:typeof J.scrollYToX!="undefined"?J.scrollYToX:!1,mouseWheelScrollSensitivity:typeof J.mouseWheelScrollSensitivity!="undefined"?J.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof J.fastScrollSensitivity!="undefined"?J.fastScrollSensitivity:5,scrollPredominantAxis:typeof J.scrollPredominantAxis!="undefined"?J.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof J.mouseWheelSmoothScroll!="undefined"?J.mouseWheelSmoothScroll:!0,arrowSize:typeof J.arrowSize!="undefined"?J.arrowSize:11,listenOnDomNode:typeof J.listenOnDomNode!="undefined"?J.listenOnDomNode:null,horizontal:typeof J.horizontal!="undefined"?J.horizontal:1,horizontalScrollbarSize:typeof J.horizontalScrollbarSize!="undefined"?J.horizontalScrollbarSize:10,horizontalSliderSize:typeof J.horizontalSliderSize!="undefined"?J.horizontalSliderSize:0,horizontalHasArrows:typeof J.horizontalHasArrows!="undefined"?J.horizontalHasArrows:!1,vertical:typeof J.vertical!="undefined"?J.vertical:1,verticalScrollbarSize:typeof J.verticalScrollbarSize!="undefined"?J.verticalScrollbarSize:10,verticalHasArrows:typeof J.verticalHasArrows!="undefined"?J.verticalHasArrows:!1,verticalSliderSize:typeof J.verticalSliderSize!="undefined"?J.verticalSliderSize:0,scrollByPage:typeof J.scrollByPage!="undefined"?J.scrollByPage:!1};return Y.horizontalSliderSize=typeof J.horizontalSliderSize!="undefined"?J.horizontalSliderSize:Y.horizontalScrollbarSize,Y.verticalSliderSize=typeof J.verticalSliderSize!="undefined"?J.verticalSliderSize:Y.verticalScrollbarSize,d.dz&&(Y.className+=" mac"),Y}},66238:function(Rt,Be,t){"use strict";t.d(Be,{M:function(){return b},z:function(){return c}});var f=t(34441),O=t(54505),u=t(52243),_=t(60018),p=t(16308),V=t(86741),I=t(56709),L=t(38431),E=t(98726),g=t(44929),a=t(14818);const l={separatorBorder:V.Il.transparent};class d{set size(C){this._size=C}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(C,S){var N,P;C!==this.visible&&(C?(this.size=(0,E.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof S=="number"?S:this.size,this.size=0),this.container.classList.toggle("visible",C),(P=(N=this.view).setVisible)===null||P===void 0||P.call(N,C))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var C;return(C=this.view.proportionalLayout)!==null&&C!==void 0?C:!0}get snap(){return!!this.view.snap}set enabled(C){this.container.style.pointerEvents=C?"":"none"}constructor(C,S,N,P){this.container=C,this.view=S,this.disposable=P,this._cachedVisibleSize=void 0,typeof N=="number"?(this._size=N,this._cachedVisibleSize=void 0,C.classList.add("visible")):(this._size=0,this._cachedVisibleSize=N.cachedVisibleSize)}layout(C,S){this.layoutContainer(C),this.view.layout(this.size,C,S)}dispose(){return this.disposable.dispose(),this.view}}class i extends d{layoutContainer(C){this.container.style.top=`${C}px`,this.container.style.height=`${this.size}px`}}class s extends d{layoutContainer(C){this.container.style.left=`${C}px`,this.container.style.width=`${this.size}px`}}var m;(function(v){v[v.Idle=0]="Idle",v[v.Busy=1]="Busy"})(m||(m={}));var b;(function(v){v.Distribute={type:"distribute"};function C(N){return{type:"split",index:N}}v.Split=C;function S(N){return{type:"invisible",cachedVisibleSize:N}}v.Invisible=S})(b||(b={}));class c extends L.JT{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(C){for(const S of this.sashItems)S.sash.orthogonalStartSash=C;this._orthogonalStartSash=C}set orthogonalEndSash(C){for(const S of this.sashItems)S.sash.orthogonalEndSash=C;this._orthogonalEndSash=C}set startSnappingEnabled(C){this._startSnappingEnabled!==C&&(this._startSnappingEnabled=C,this.updateSashEnablement())}set endSnappingEnabled(C){this._endSnappingEnabled!==C&&(this._endSnappingEnabled=C,this.updateSashEnablement())}constructor(C,S={}){var N,P,M,D,F;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=m.Idle,this._onDidSashChange=this._register(new I.Q5),this._onDidSashReset=this._register(new I.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(N=S.orientation)!==null&&N!==void 0?N:0,this.inverseAltBehavior=(P=S.inverseAltBehavior)!==null&&P!==void 0?P:!1,this.proportionalLayout=(M=S.proportionalLayout)!==null&&M!==void 0?M:!0,this.getSashOrthogonalSize=S.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),C.appendChild(this.el),this.sashContainer=(0,f.R3)(this.el,(0,f.$)(".sash-container")),this.viewContainer=(0,f.$)(".split-view-container"),this.scrollable=new g.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:f.jL}),this.scrollableElement=this._register(new _.$Z(this.viewContainer,{vertical:this.orientation===0?(D=S.scrollbarVisibility)!==null&&D!==void 0?D:1:2,horizontal:this.orientation===1?(F=S.scrollbarVisibility)!==null&&F!==void 0?F:1:2},this.scrollable));const B=this._register(new O.Y(this.viewContainer,"scroll")).event;this._register(B(U=>{const A=this.scrollableElement.getScrollPosition(),k=Math.abs(this.viewContainer.scrollLeft-A.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,R=Math.abs(this.viewContainer.scrollTop-A.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(k!==void 0||R!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:k,scrollTop:R})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(U=>{U.scrollTopChanged&&(this.viewContainer.scrollTop=U.scrollTop),U.scrollLeftChanged&&(this.viewContainer.scrollLeft=U.scrollLeft)})),(0,f.R3)(this.el,this.scrollableElement.getDomNode()),this.style(S.styles||l),S.descriptor&&(this.size=S.descriptor.size,S.descriptor.views.forEach((U,A)=>{const k=a.o8(U.visible)||U.visible?U.size:{type:"invisible",cachedVisibleSize:U.size},R=U.view;this.doAddView(R,k,A,!0)}),this.contentSize=this.viewItems.reduce((U,A)=>U+A.size,0),this.saveProportions())}style(C){C.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",C.separatorBorder.toString()))}addView(C,S,N=this.viewItems.length,P){this.doAddView(C,S,N,P)}layout(C,S){const N=Math.max(this.size,this.contentSize);if(this.size=C,this.layoutContext=S,this.proportions){let P=0;for(let M=0;M<this.viewItems.length;M++){const D=this.viewItems[M],F=this.proportions[M];typeof F=="number"?P+=F:C-=D.size}for(let M=0;M<this.viewItems.length;M++){const D=this.viewItems[M],F=this.proportions[M];typeof F=="number"&&(D.size=(0,E.uZ)(Math.round(F*C/P),D.minimumSize,D.maximumSize))}}else{const P=(0,p.w6)(this.viewItems.length),M=P.filter(F=>this.viewItems[F].priority===1),D=P.filter(F=>this.viewItems[F].priority===2);this.resize(this.viewItems.length-1,C-N,void 0,M,D)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(C=>C.proportionalLayout?C.size/this.contentSize:void 0))}onSashStart({sash:C,start:S,alt:N}){for(const F of this.viewItems)F.enabled=!1;const P=this.sashItems.findIndex(F=>F.sash===C),M=(0,L.F8)((0,f.nm)(document.body,"keydown",F=>D(this.sashDragState.current,F.altKey)),(0,f.nm)(document.body,"keyup",()=>D(this.sashDragState.current,!1))),D=(F,B)=>{const U=this.viewItems.map(J=>J.size);let A=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(B=!B),B)if(P===this.sashItems.length-1){const Y=this.viewItems[P];A=(Y.minimumSize-Y.size)/2,k=(Y.maximumSize-Y.size)/2}else{const Y=this.viewItems[P+1];A=(Y.size-Y.maximumSize)/2,k=(Y.size-Y.minimumSize)/2}let R,$;if(!B){const J=(0,p.w6)(P,-1),Y=(0,p.w6)(P+1,this.viewItems.length),j=J.reduce((_e,pe)=>_e+(this.viewItems[pe].minimumSize-U[pe]),0),z=J.reduce((_e,pe)=>_e+(this.viewItems[pe].viewMaximumSize-U[pe]),0),K=Y.length===0?Number.POSITIVE_INFINITY:Y.reduce((_e,pe)=>_e+(U[pe]-this.viewItems[pe].minimumSize),0),Z=Y.length===0?Number.NEGATIVE_INFINITY:Y.reduce((_e,pe)=>_e+(U[pe]-this.viewItems[pe].viewMaximumSize),0),fe=Math.max(j,Z),T=Math.min(K,z),Re=this.findFirstSnapIndex(J),Ce=this.findFirstSnapIndex(Y);if(typeof Re=="number"){const _e=this.viewItems[Re],pe=Math.floor(_e.viewMinimumSize/2);R={index:Re,limitDelta:_e.visible?fe-pe:fe+pe,size:_e.size}}if(typeof Ce=="number"){const _e=this.viewItems[Ce],pe=Math.floor(_e.viewMinimumSize/2);$={index:Ce,limitDelta:_e.visible?T+pe:T-pe,size:_e.size}}}this.sashDragState={start:F,current:F,index:P,sizes:U,minDelta:A,maxDelta:k,alt:B,snapBefore:R,snapAfter:$,disposable:M}};D(S,N)}onSashChange({current:C}){const{index:S,start:N,sizes:P,alt:M,minDelta:D,maxDelta:F,snapBefore:B,snapAfter:U}=this.sashDragState;this.sashDragState.current=C;const A=C-N,k=this.resize(S,A,P,void 0,void 0,D,F,B,U);if(M){const R=S===this.sashItems.length-1,$=this.viewItems.map(Z=>Z.size),J=R?S:S+1,Y=this.viewItems[J],j=Y.size-Y.maximumSize,z=Y.size-Y.minimumSize,K=R?S-1:S+1;this.resize(K,-k,$,void 0,void 0,j,z)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(C){this._onDidSashChange.fire(C),this.sashDragState.disposable.dispose(),this.saveProportions();for(const S of this.viewItems)S.enabled=!0}onViewChange(C,S){const N=this.viewItems.indexOf(C);N<0||N>=this.viewItems.length||(S=typeof S=="number"?S:C.size,S=(0,E.uZ)(S,C.minimumSize,C.maximumSize),this.inverseAltBehavior&&N>0?(this.resize(N-1,Math.floor((C.size-S)/2)),this.distributeEmptySpace(),this.layoutViews()):(C.size=S,this.relayout([N],void 0)))}resizeView(C,S){if(this.state!==m.Idle)throw new Error("Cant modify splitview");if(this.state=m.Busy,C<0||C>=this.viewItems.length)return;const N=(0,p.w6)(this.viewItems.length).filter(F=>F!==C),P=[...N.filter(F=>this.viewItems[F].priority===1),C],M=N.filter(F=>this.viewItems[F].priority===2),D=this.viewItems[C];S=Math.round(S),S=(0,E.uZ)(S,D.minimumSize,Math.min(D.maximumSize,this.size)),D.size=S,this.relayout(P,M),this.state=m.Idle}distributeViewSizes(){const C=[];let S=0;for(const F of this.viewItems)F.maximumSize-F.minimumSize>0&&(C.push(F),S+=F.size);const N=Math.floor(S/C.length);for(const F of C)F.size=(0,E.uZ)(N,F.minimumSize,F.maximumSize);const P=(0,p.w6)(this.viewItems.length),M=P.filter(F=>this.viewItems[F].priority===1),D=P.filter(F=>this.viewItems[F].priority===2);this.relayout(M,D)}getViewSize(C){return C<0||C>=this.viewItems.length?-1:this.viewItems[C].size}doAddView(C,S,N=this.viewItems.length,P){if(this.state!==m.Idle)throw new Error("Cant modify splitview");this.state=m.Busy;const M=(0,f.$)(".split-view-view");N===this.viewItems.length?this.viewContainer.appendChild(M):this.viewContainer.insertBefore(M,this.viewContainer.children.item(N));const D=C.onDidChange(R=>this.onViewChange(A,R)),F=(0,L.OF)(()=>this.viewContainer.removeChild(M)),B=(0,L.F8)(D,F);let U;typeof S=="number"?U=S:S.type==="split"?U=this.getViewSize(S.index)/2:S.type==="invisible"?U={cachedVisibleSize:S.cachedVisibleSize}:U=C.minimumSize;const A=this.orientation===0?new i(M,C,U,B):new s(M,C,U,B);if(this.viewItems.splice(N,0,A),this.viewItems.length>1){const R={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},$=this.orientation===0?new u.g(this.sashContainer,{getHorizontalSashTop:_e=>this.getSashPosition(_e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:1})):new u.g(this.sashContainer,{getVerticalSashLeft:_e=>this.getSashPosition(_e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:0})),J=this.orientation===0?_e=>({sash:$,start:_e.startY,current:_e.currentY,alt:_e.altKey}):_e=>({sash:$,start:_e.startX,current:_e.currentX,alt:_e.altKey}),j=I.ju.map($.onDidStart,J)(this.onSashStart,this),K=I.ju.map($.onDidChange,J)(this.onSashChange,this),fe=I.ju.map($.onDidEnd,()=>this.sashItems.findIndex(_e=>_e.sash===$))(this.onSashEnd,this),T=$.onDidReset(()=>{const _e=this.sashItems.findIndex(je=>je.sash===$),pe=(0,p.w6)(_e,-1),le=(0,p.w6)(_e+1,this.viewItems.length),oe=this.findFirstSnapIndex(pe),he=this.findFirstSnapIndex(le);typeof oe=="number"&&!this.viewItems[oe].visible||typeof he=="number"&&!this.viewItems[he].visible||this._onDidSashReset.fire(_e)}),Re=(0,L.F8)(j,K,fe,T,$),Ce={sash:$,disposable:Re};this.sashItems.splice(N-1,0,Ce)}M.appendChild(C.element);let k;typeof S!="number"&&S.type==="split"&&(k=[S.index]),P||this.relayout([N],k),this.state=m.Idle,!P&&typeof S!="number"&&S.type==="distribute"&&this.distributeViewSizes()}relayout(C,S){const N=this.viewItems.reduce((P,M)=>P+M.size,0);this.resize(this.viewItems.length-1,this.size-N,void 0,C,S),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(C,S,N=this.viewItems.map(A=>A.size),P,M,D=Number.NEGATIVE_INFINITY,F=Number.POSITIVE_INFINITY,B,U){if(C<0||C>=this.viewItems.length)return 0;const A=(0,p.w6)(C,-1),k=(0,p.w6)(C+1,this.viewItems.length);if(M)for(const Ce of M)(0,p.zI)(A,Ce),(0,p.zI)(k,Ce);if(P)for(const Ce of P)(0,p.al)(A,Ce),(0,p.al)(k,Ce);const R=A.map(Ce=>this.viewItems[Ce]),$=A.map(Ce=>N[Ce]),J=k.map(Ce=>this.viewItems[Ce]),Y=k.map(Ce=>N[Ce]),j=A.reduce((Ce,_e)=>Ce+(this.viewItems[_e].minimumSize-N[_e]),0),z=A.reduce((Ce,_e)=>Ce+(this.viewItems[_e].maximumSize-N[_e]),0),K=k.length===0?Number.POSITIVE_INFINITY:k.reduce((Ce,_e)=>Ce+(N[_e]-this.viewItems[_e].minimumSize),0),Z=k.length===0?Number.NEGATIVE_INFINITY:k.reduce((Ce,_e)=>Ce+(N[_e]-this.viewItems[_e].maximumSize),0),fe=Math.max(j,Z,D),T=Math.min(K,z,F);let Re=!1;if(B){const Ce=this.viewItems[B.index],_e=S>=B.limitDelta;Re=_e!==Ce.visible,Ce.setVisible(_e,B.size)}if(!Re&&U){const Ce=this.viewItems[U.index],_e=S<U.limitDelta;Re=_e!==Ce.visible,Ce.setVisible(_e,U.size)}if(Re)return this.resize(C,S,N,P,M,D,F);S=(0,E.uZ)(S,fe,T);for(let Ce=0,_e=S;Ce<R.length;Ce++){const pe=R[Ce],le=(0,E.uZ)($[Ce]+_e,pe.minimumSize,pe.maximumSize),oe=le-$[Ce];_e-=oe,pe.size=le}for(let Ce=0,_e=S;Ce<J.length;Ce++){const pe=J[Ce],le=(0,E.uZ)(Y[Ce]-_e,pe.minimumSize,pe.maximumSize),oe=le-Y[Ce];_e+=oe,pe.size=le}return S}distributeEmptySpace(C){const S=this.viewItems.reduce((F,B)=>F+B.size,0);let N=this.size-S;const P=(0,p.w6)(this.viewItems.length-1,-1),M=P.filter(F=>this.viewItems[F].priority===1),D=P.filter(F=>this.viewItems[F].priority===2);for(const F of D)(0,p.zI)(P,F);for(const F of M)(0,p.al)(P,F);typeof C=="number"&&(0,p.al)(P,C);for(let F=0;N!==0&&F<P.length;F++){const B=this.viewItems[P[F]],U=(0,E.uZ)(B.size+N,B.minimumSize,B.maximumSize),A=U-B.size;N-=A,B.size=U}}layoutViews(){this.contentSize=this.viewItems.reduce((S,N)=>S+N.size,0);let C=0;for(const S of this.viewItems)S.layout(C,this.layoutContext),C+=S.size;this.sashItems.forEach(S=>S.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let C=!1;const S=this.viewItems.map(B=>C=B.size-B.minimumSize>0||C);C=!1;const N=this.viewItems.map(B=>C=B.maximumSize-B.size>0||C),P=[...this.viewItems].reverse();C=!1;const M=P.map(B=>C=B.size-B.minimumSize>0||C).reverse();C=!1;const D=P.map(B=>C=B.maximumSize-B.size>0||C).reverse();let F=0;for(let B=0;B<this.sashItems.length;B++){const{sash:U}=this.sashItems[B],A=this.viewItems[B];F+=A.size;const k=!(S[B]&&D[B+1]),R=!(N[B]&&M[B+1]);if(k&&R){const $=(0,p.w6)(B,-1),J=(0,p.w6)(B+1,this.viewItems.length),Y=this.findFirstSnapIndex($),j=this.findFirstSnapIndex(J),z=typeof Y=="number"&&!this.viewItems[Y].visible,K=typeof j=="number"&&!this.viewItems[j].visible;z&&M[B]&&(F>0||this.startSnappingEnabled)?U.state=1:K&&S[B]&&(F<this.contentSize||this.endSnappingEnabled)?U.state=2:U.state=0}else k&&!R?U.state=1:!k&&R?U.state=2:U.state=3}}getSashPosition(C){let S=0;for(let N=0;N<this.sashItems.length;N++)if(S+=this.viewItems[N].size,this.sashItems[N].sash===C)return S;return 0}findFirstSnapIndex(C){for(const S of C){const N=this.viewItems[S];if(N.visible&&N.snap)return S}for(const S of C){const N=this.viewItems[S];if(N.visible&&N.maximumSize-N.minimumSize>0)return;if(!N.visible&&N.snap)return S}}dispose(){var C;(C=this.sashDragState)===null||C===void 0||C.disposable.dispose(),(0,L.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(S=>S.disposable.dispose()),this.sashItems=[],super.dispose()}}},23602:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return p},D:function(){return _}});var f=t(88305),O=t(8216),u=t(56709);const _={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class p extends f.${constructor(I){super(),this._onChange=this._register(new u.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new u.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=I,this._checked=this._opts.isChecked;const L=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,L.push(...O.k.asClassNameArray(this._icon))),this._opts.actionClassName&&L.push(...this._opts.actionClassName.split(" ")),this._checked&&L.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...L),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,E=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),E.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,E=>{if(E.keyCode===10||E.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),E.preventDefault(),E.stopPropagation();return}this._onKeyDown.fire(E)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(I){this._checked=I,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},88305:function(Rt,Be,t){"use strict";t.d(Be,{$:function(){return V}});var f=t(34441),O=t(6544),u=t(64079),_=t(80265),p=t(38431);class V extends p.JT{onclick(L,E){this._register(f.nm(L,f.tw.CLICK,g=>E(new u.n(g))))}onmousedown(L,E){this._register(f.nm(L,f.tw.MOUSE_DOWN,g=>E(new u.n(g))))}onmouseover(L,E){this._register(f.nm(L,f.tw.MOUSE_OVER,g=>E(new u.n(g))))}onmouseleave(L,E){this._register(f.nm(L,f.tw.MOUSE_LEAVE,g=>E(new u.n(g))))}onkeydown(L,E){this._register(f.nm(L,f.tw.KEY_DOWN,g=>E(new O.y(g))))}onkeyup(L,E){this._register(f.nm(L,f.tw.KEY_UP,g=>E(new O.y(g))))}oninput(L,E){this._register(f.nm(L,f.tw.INPUT,E))}onblur(L,E){this._register(f.nm(L,f.tw.BLUR,E))}onfocus(L,E){this._register(f.nm(L,f.tw.FOCUS,E))}ignoreGesture(L){return _.o.ignoreTarget(L)}}},98299:function(Rt,Be,t){"use strict";t.d(Be,{Wi:function(){return V},Z0:function(){return I},aU:function(){return p},eZ:function(){return E},wY:function(){return L},xw:function(){return g}});var f=t(56709),O=t(38431),u=t(26386),_=function(a,l,d,i){function s(m){return m instanceof d?m:new d(function(b){b(m)})}return new(d||(d=Promise))(function(m,b){function c(S){try{C(i.next(S))}catch(N){b(N)}}function v(S){try{C(i.throw(S))}catch(N){b(N)}}function C(S){S.done?m(S.value):s(S.value).then(c,v)}C((i=i.apply(a,l||[])).next())})};class p extends O.JT{constructor(l,d="",i="",s=!0,m){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=l,this._label=d,this._cssClass=i,this._enabled=s,this._actionCallback=m}get id(){return this._id}get label(){return this._label}set label(l){this._setLabel(l)}_setLabel(l){this._label!==l&&(this._label=l,this._onDidChange.fire({label:l}))}get tooltip(){return this._tooltip||""}set tooltip(l){this._setTooltip(l)}_setTooltip(l){this._tooltip!==l&&(this._tooltip=l,this._onDidChange.fire({tooltip:l}))}get class(){return this._cssClass}set class(l){this._setClass(l)}_setClass(l){this._cssClass!==l&&(this._cssClass=l,this._onDidChange.fire({class:l}))}get enabled(){return this._enabled}set enabled(l){this._setEnabled(l)}_setEnabled(l){this._enabled!==l&&(this._enabled=l,this._onDidChange.fire({enabled:l}))}get checked(){return this._checked}set checked(l){this._setChecked(l)}_setChecked(l){this._checked!==l&&(this._checked=l,this._onDidChange.fire({checked:l}))}run(l,d){return _(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(l))})}}class V extends O.JT{constructor(){super(...arguments),this._onWillRun=this._register(new f.Q5),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new f.Q5),this.onDidRun=this._onDidRun.event}run(l,d){return _(this,void 0,void 0,function*(){if(!l.enabled)return;this._onWillRun.fire({action:l});let i;try{yield this.runAction(l,d)}catch(s){i=s}this._onDidRun.fire({action:l,error:i})})}runAction(l,d){return _(this,void 0,void 0,function*(){yield l.run(d)})}}class I{constructor(){this.id=I.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...l){let d=[];for(const i of l)i.length&&(d.length?d=[...d,new I,...i]:d=i);return d}run(){return _(this,void 0,void 0,function*(){})}}I.ID="vs.actions.separator";class L{get actions(){return this._actions}constructor(l,d,i,s){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=l,this.label=d,this.class=s,this._actions=i}run(){return _(this,void 0,void 0,function*(){})}}class E extends p{constructor(){super(E.ID,u.NC("submenu.empty","(empty)"),void 0,!1)}}E.ID="vs.actions.empty";function g(a){var l,d;return{id:a.id,label:a.label,class:void 0,enabled:(l=a.enabled)!==null&&l!==void 0?l:!0,checked:(d=a.checked)!==null&&d!==void 0?d:!1,run:()=>_(this,void 0,void 0,function*(){return a.run()}),tooltip:a.label}}},16308:function(Rt,Be,t){"use strict";t.d(Be,{Dc:function(){return R},EB:function(){return i},Gb:function(){return f},H9:function(){return Y},HW:function(){return L},JH:function(){return O},LS:function(){return _},Of:function(){return d},Rs:function(){return a},VJ:function(){return J},W$:function(){return j},XY:function(){return l},Xh:function(){return b},Zv:function(){return v},_2:function(){return P},al:function(){return S},bX:function(){return M},dF:function(){return s},db:function(){return F},fS:function(){return u},fv:function(){return k},jV:function(){return $},kX:function(){return g},lG:function(){return I},ry:function(){return p},tT:function(){return A},vA:function(){return N},vM:function(){return E},w6:function(){return c},zI:function(){return C}});function f(z,K=0){return z[z.length-(1+K)]}function O(z){if(z.length===0)throw new Error("Invalid tail call");return[z.slice(0,z.length-1),z[z.length-1]]}function u(z,K,Z=(fe,T)=>fe===T){if(z===K)return!0;if(!z||!K||z.length!==K.length)return!1;for(let fe=0,T=z.length;fe<T;fe++)if(!Z(z[fe],K[fe]))return!1;return!0}function _(z,K){const Z=z.length-1;K<Z&&(z[K]=z[Z]),z.pop()}function p(z,K,Z){return V(z.length,fe=>Z(z[fe],K))}function V(z,K){let Z=0,fe=z-1;for(;Z<=fe;){const T=(Z+fe)/2|0,Re=K(T);if(Re<0)Z=T+1;else if(Re>0)fe=T-1;else return T}return-(Z+1)}function I(z,K){let Z=0,fe=z.length;if(fe===0)return 0;for(;Z<fe;){const T=Math.floor((Z+fe)/2);K(z[T])?fe=T:Z=T+1}return Z}function L(z,K,Z){if(z=z|0,z>=K.length)throw new TypeError("invalid index");const fe=K[Math.floor(K.length*Math.random())],T=[],Re=[],Ce=[];for(const _e of K){const pe=Z(_e,fe);pe<0?T.push(_e):pe>0?Re.push(_e):Ce.push(_e)}return z<T.length?L(z,T,Z):z<T.length+Ce.length?Ce[0]:L(z-(T.length+Ce.length),Re,Z)}function E(z,K){const Z=[];let fe;for(const T of z.slice(0).sort(K))!fe||K(fe[0],T)!==0?(fe=[T],Z.push(fe)):fe.push(T);return Z}function g(z){return z.filter(K=>!!K)}function a(z){let K=0;for(let Z=0;Z<z.length;Z++)z[Z]&&(z[K]=z[Z],K+=1);z.length=K}function l(z){return!Array.isArray(z)||z.length===0}function d(z){return Array.isArray(z)&&z.length>0}function i(z,K=Z=>Z){const Z=new Set;return z.filter(fe=>{const T=K(fe);return Z.has(T)?!1:(Z.add(T),!0)})}function s(z,K){const Z=m(z,K);if(Z!==-1)return z[Z]}function m(z,K){for(let Z=z.length-1;Z>=0;Z--){const fe=z[Z];if(K(fe))return Z}return-1}function b(z,K){return z.length>0?z[0]:K}function c(z,K){let Z=typeof K=="number"?z:0;typeof K=="number"?Z=z:(Z=0,K=z);const fe=[];if(Z<=K)for(let T=Z;T<K;T++)fe.push(T);else for(let T=Z;T>K;T--)fe.push(T);return fe}function v(z,K,Z){const fe=z.slice(0,K),T=z.slice(K);return fe.concat(Z,T)}function C(z,K){const Z=z.indexOf(K);Z>-1&&(z.splice(Z,1),z.unshift(K))}function S(z,K){const Z=z.indexOf(K);Z>-1&&(z.splice(Z,1),z.push(K))}function N(z,K){for(const Z of K)z.push(Z)}function P(z){return Array.isArray(z)?z:[z]}function M(z,K){for(const Z of z){const fe=K(Z);if(fe!==void 0)return fe}}function D(z,K,Z){const fe=B(z,K),T=z.length,Re=Z.length;z.length=T+Re;for(let Ce=T-1;Ce>=fe;Ce--)z[Ce+Re]=z[Ce];for(let Ce=0;Ce<Re;Ce++)z[Ce+fe]=Z[Ce]}function F(z,K,Z,fe){const T=B(z,K),Re=z.splice(T,Z);return D(z,T,fe),Re}function B(z,K){return K<0?Math.max(K+z.length,0):Math.min(K,z.length)}var U;(function(z){function K(T){return T<0}z.isLessThan=K;function Z(T){return T>0}z.isGreaterThan=Z;function fe(T){return T===0}z.isNeitherLessOrGreaterThan=fe,z.greaterThan=1,z.lessThan=-1,z.neitherLessOrGreaterThan=0})(U||(U={}));function A(z,K){return(Z,fe)=>K(z(Z),z(fe))}const k=(z,K)=>z-K;function R(z,K){if(z.length===0)return;let Z=z[0];for(let fe=1;fe<z.length;fe++){const T=z[fe];K(T,Z)>0&&(Z=T)}return Z}function $(z,K){if(z.length===0)return;let Z=z[0];for(let fe=1;fe<z.length;fe++){const T=z[fe];K(T,Z)>=0&&(Z=T)}return Z}function J(z,K){return R(z,(Z,fe)=>-K(Z,fe))}class Y{constructor(K){this.items=K,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(K){let Z=this.firstIdx;for(;Z<this.items.length&&K(this.items[Z]);)Z++;const fe=Z===this.firstIdx?null:this.items.slice(this.firstIdx,Z);return this.firstIdx=Z,fe}takeFromEndWhile(K){let Z=this.lastIdx;for(;Z>=0&&K(this.items[Z]);)Z--;const fe=Z===this.lastIdx?null:this.items.slice(Z+1,this.lastIdx+1);return this.lastIdx=Z,fe}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const K=this.items[this.firstIdx];return this.firstIdx++,K}takeCount(K){const Z=this.items.slice(this.firstIdx,this.firstIdx+K);return this.firstIdx+=K,Z}}class j{constructor(K){this.iterate=K}toArray(){const K=[];return this.iterate(Z=>(K.push(Z),!0)),K}filter(K){return new j(Z=>this.iterate(fe=>K(fe)?Z(fe):!0))}map(K){return new j(Z=>this.iterate(fe=>Z(K(fe))))}findLast(K){let Z;return this.iterate(fe=>(K(fe)&&(Z=fe),!0)),Z}findLastMaxBy(K){let Z,fe=!0;return this.iterate(T=>((fe||U.isGreaterThan(K(T,Z)))&&(fe=!1,Z=T),!0)),Z}}j.empty=new j(z=>{})},14527:function(Rt,Be,t){"use strict";t.d(Be,{DM:function(){return p},eZ:function(){return _},ok:function(){return O},vE:function(){return u}});var f=t(20996);function O(V,I){if(!V)throw new Error(I?`Assertion failed (${I})`:"Assertion Failed")}function u(V,I="Unreachable"){throw new Error(I)}function _(V){if(!V()){debugger;V(),(0,f.dL)(new f.he("Assertion Failed"))}}function p(V,I){let L=0;for(;L<V.length-1;){const E=V[L],g=V[L+1];if(!I(E,g))return!1;L++}return!0}},13484:function(Rt,Be,t){"use strict";t.d(Be,{Aq:function(){return B},CR:function(){return D},J8:function(){return E},PG:function(){return g},Ps:function(){return v},To:function(){return P},Ue:function(){return M},Vg:function(){return c},Vs:function(){return b},_F:function(){return C},eP:function(){return a},jT:function(){return F},pY:function(){return N},rH:function(){return m},vp:function(){return s},zS:function(){return A},zh:function(){return S}});var f=t(97464),O=t(20996),u=t(56709),_=t(38431),p=t(11138),V=t(808),I=function(k,R,$,J){function Y(j){return j instanceof $?j:new $(function(z){z(j)})}return new($||($=Promise))(function(j,z){function K(T){try{fe(J.next(T))}catch(Re){z(Re)}}function Z(T){try{fe(J.throw(T))}catch(Re){z(Re)}}function fe(T){T.done?j(T.value):Y(T.value).then(K,Z)}fe((J=J.apply(k,R||[])).next())})},L=function(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=k[Symbol.asyncIterator],$;return R?R.call(k):(k=typeof __values=="function"?__values(k):k[Symbol.iterator](),$={},J("next"),J("throw"),J("return"),$[Symbol.asyncIterator]=function(){return this},$);function J(j){$[j]=k[j]&&function(z){return new Promise(function(K,Z){z=k[j](z),Y(K,Z,z.done,z.value)})}}function Y(j,z,K,Z){Promise.resolve(Z).then(function(fe){j({value:fe,done:K})},z)}};function E(k){return!!k&&typeof k.then=="function"}function g(k){const R=new f.A,$=k(R.token),J=new Promise((Y,j)=>{const z=R.token.onCancellationRequested(()=>{z.dispose(),R.dispose(),j(new O.FU)});Promise.resolve($).then(K=>{z.dispose(),R.dispose(),Y(K)},K=>{z.dispose(),R.dispose(),j(K)})});return new class{cancel(){R.cancel()}then(Y,j){return J.then(Y,j)}catch(Y){return this.then(void 0,Y)}finally(Y){return J.finally(Y)}}}function a(k,R,$){return new Promise((J,Y)=>{const j=R.onCancellationRequested(()=>{j.dispose(),J($)});k.then(J,Y).finally(()=>j.dispose())})}class l{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(R){if(this.activePromise){if(this.queuedPromiseFactory=R,!this.queuedPromise){const $=()=>{this.queuedPromise=null;const J=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,J};this.queuedPromise=new Promise(J=>{this.activePromise.then($,$).then(J)})}return new Promise(($,J)=>{this.queuedPromise.then($,J)})}return this.activePromise=R(),new Promise(($,J)=>{this.activePromise.then(Y=>{this.activePromise=null,$(Y)},Y=>{this.activePromise=null,J(Y)})})}}const d=(k,R)=>{let $=!0;const J=setTimeout(()=>{$=!1,R()},k);return{isTriggered:()=>$,dispose:()=>{clearTimeout(J),$=!1}}},i=k=>{let R=!0;return queueMicrotask(()=>{R&&(R=!1,k())}),{isTriggered:()=>R,dispose:()=>{R=!1}}};class s{constructor(R){this.defaultDelay=R,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(R,$=this.defaultDelay){this.task=R,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((Y,j)=>{this.doResolve=Y,this.doReject=j}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const Y=this.task;return this.task=null,Y()}}));const J=()=>{var Y;this.deferred=null,(Y=this.doResolve)===null||Y===void 0||Y.call(this,null)};return this.deferred=$===V.n?i(J):d($,J),this.completionPromise}isTriggered(){var R;return!!(!((R=this.deferred)===null||R===void 0)&&R.isTriggered())}cancel(){var R;this.cancelTimeout(),this.completionPromise&&((R=this.doReject)===null||R===void 0||R.call(this,new O.FU),this.completionPromise=null)}cancelTimeout(){var R;(R=this.deferred)===null||R===void 0||R.dispose(),this.deferred=null}dispose(){this.cancel()}}class m{constructor(R){this.delayer=new s(R),this.throttler=new l}trigger(R,$){return this.delayer.trigger(()=>this.throttler.queue(R),$)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}function b(k,R){return R?new Promise(($,J)=>{const Y=setTimeout(()=>{j.dispose(),$()},k),j=R.onCancellationRequested(()=>{clearTimeout(Y),j.dispose(),J(new O.FU)})}):g($=>b(k,$))}function c(k,R=0){const $=setTimeout(k,R);return(0,_.OF)(()=>clearTimeout($))}function v(k,R=J=>!!J,$=null){let J=0;const Y=k.length,j=()=>{if(J>=Y)return Promise.resolve($);const z=k[J++];return Promise.resolve(z()).then(Z=>R(Z)?Promise.resolve(Z):j())};return j()}class C{constructor(R,$){this._token=-1,typeof R=="function"&&typeof $=="number"&&this.setIfNotSet(R,$)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(R,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,R()},$)}setIfNotSet(R,$){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,R()},$))}}class S{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(R,$){this.cancel(),this._token=setInterval(()=>{R()},$)}}class N{constructor(R,$){this.timeoutToken=-1,this.runner=R,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(R=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,R)}get delay(){return this.timeout}set delay(R){this.timeout=R}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var R;(R=this.runner)===null||R===void 0||R.call(this)}}let P;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?P=k=>{(0,p.fn)(()=>{if(R)return;const $=Date.now()+15;k(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,$-Date.now())}}))});let R=!1;return{dispose(){R||(R=!0)}}}:P=(k,R)=>{const $=requestIdleCallback(k,typeof R=="number"?{timeout:R}:void 0);let J=!1;return{dispose(){J||(J=!0,cancelIdleCallback($))}}}})();class M{constructor(R){this._didRun=!1,this._executor=()=>{try{this._value=R()}catch($){this._error=$}finally{this._didRun=!0}},this._handle=P(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class D{get isRejected(){var R;return((R=this.outcome)===null||R===void 0?void 0:R.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((R,$)=>{this.completeCallback=R,this.errorCallback=$})}complete(R){return new Promise($=>{this.completeCallback(R),this.outcome={outcome:0,value:R},$()})}error(R){return new Promise($=>{this.errorCallback(R),this.outcome={outcome:1,value:R},$()})}cancel(){return this.error(new O.FU)}}var F;(function(k){function R(J){return I(this,void 0,void 0,function*(){let Y;const j=yield Promise.all(J.map(z=>z.then(K=>K,K=>{Y||(Y=K)})));if(typeof Y!="undefined")throw Y;return j})}k.settled=R;function $(J){return new Promise((Y,j)=>I(this,void 0,void 0,function*(){try{yield J(Y,j)}catch(z){j(z)}}))}k.withAsyncBody=$})(F||(F={}));class B{static fromArray(R){return new B($=>{$.emitMany(R)})}static fromPromise(R){return new B($=>I(this,void 0,void 0,function*(){$.emitMany(yield R)}))}static fromPromises(R){return new B($=>I(this,void 0,void 0,function*(){yield Promise.all(R.map(J=>I(this,void 0,void 0,function*(){return $.emitOne(yield J)})))}))}static merge(R){return new B($=>I(this,void 0,void 0,function*(){yield Promise.all(R.map(J=>{var Y,j,z;return I(this,void 0,void 0,function*(){var K,Z,fe,T;try{for(Y=!0,j=L(J);z=yield j.next(),K=z.done,!K;Y=!0){T=z.value,Y=!1;const Re=T;$.emitOne(Re)}}catch(Re){Z={error:Re}}finally{try{!Y&&!K&&(fe=j.return)&&(yield fe.call(j))}finally{if(Z)throw Z.error}}})}))}))}constructor(R){this._state=0,this._results=[],this._error=null,this._onStateChanged=new u.Q5,queueMicrotask(()=>I(this,void 0,void 0,function*(){const $={emitOne:J=>this.emitOne(J),emitMany:J=>this.emitMany(J),reject:J=>this.reject(J)};try{yield Promise.resolve(R($)),this.resolve()}catch(J){this.reject(J)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}}))}[Symbol.asyncIterator](){let R=0;return{next:()=>I(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(R<this._results.length)return{done:!1,value:this._results[R++]};if(this._state===1)return{done:!0,value:void 0};yield u.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(R,$){return new B(J=>I(this,void 0,void 0,function*(){var Y,j,z,K;try{for(var Z=!0,fe=L(R),T;T=yield fe.next(),Y=T.done,!Y;Z=!0){K=T.value,Z=!1;const Re=K;J.emitOne($(Re))}}catch(Re){j={error:Re}}finally{try{!Z&&!Y&&(z=fe.return)&&(yield z.call(fe))}finally{if(j)throw j.error}}}))}map(R){return B.map(this,R)}static filter(R,$){return new B(J=>I(this,void 0,void 0,function*(){var Y,j,z,K;try{for(var Z=!0,fe=L(R),T;T=yield fe.next(),Y=T.done,!Y;Z=!0){K=T.value,Z=!1;const Re=K;$(Re)&&J.emitOne(Re)}}catch(Re){j={error:Re}}finally{try{!Z&&!Y&&(z=fe.return)&&(yield z.call(fe))}finally{if(j)throw j.error}}}))}filter(R){return B.filter(this,R)}static coalesce(R){return B.filter(R,$=>!!$)}coalesce(){return B.coalesce(this)}static toPromise(R){var $,J,Y,j,z,K,Z;return I(this,void 0,void 0,function*(){const fe=[];try{for($=!0,J=L(R);Y=yield J.next(),j=Y.done,!j;$=!0){Z=Y.value,$=!1;const T=Z;fe.push(T)}}catch(T){z={error:T}}finally{try{!$&&!j&&(K=J.return)&&(yield K.call(J))}finally{if(z)throw z.error}}return fe})}toPromise(){return B.toPromise(this)}emitOne(R){this._state===0&&(this._results.push(R),this._onStateChanged.fire())}emitMany(R){this._state===0&&(this._results=this._results.concat(R),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(R){this._state===0&&(this._state=2,this._error=R,this._onStateChanged.fire())}}B.EMPTY=B.fromArray([]);class U extends B{constructor(R,$){super($),this._source=R}cancel(){this._source.cancel()}}function A(k){const R=new f.A,$=k(R.token);return new U(R,J=>I(this,void 0,void 0,function*(){var Y,j,z,K;const Z=R.token.onCancellationRequested(()=>{Z.dispose(),R.dispose(),J.reject(new O.FU)});try{try{for(var fe=!0,T=L($),Re;Re=yield T.next(),Y=Re.done,!Y;fe=!0){K=Re.value,fe=!1;const Ce=K;if(R.token.isCancellationRequested)return;J.emitOne(Ce)}}catch(Ce){j={error:Ce}}finally{try{!fe&&!Y&&(z=T.return)&&(yield z.call(T))}finally{if(j)throw j.error}}Z.dispose(),R.dispose()}catch(Ce){Z.dispose(),R.dispose(),J.reject(Ce)}}))}},77511:function(Rt,Be,t){"use strict";t.d(Be,{Ag:function(){return E},Cg:function(){return l},KN:function(){return V},Q$:function(){return a},T4:function(){return g},mP:function(){return I},oq:function(){return L}});var f=t(51280),O=t(48834).lW;const u=typeof O!="undefined",_=new f.o(()=>new Uint8Array(256));let p;class V{static wrap(i){return u&&!O.isBuffer(i)&&(i=O.from(i.buffer,i.byteOffset,i.byteLength)),new V(i)}constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}toString(){return u?this.buffer.toString():(p||(p=new TextDecoder),p.decode(this.buffer))}}function I(d,i){return d[i+0]<<0>>>0|d[i+1]<<8>>>0}function L(d,i,s){d[s+0]=i&255,i=i>>>8,d[s+1]=i&255}function E(d,i){return d[i]*Math.pow(2,24)+d[i+1]*Math.pow(2,16)+d[i+2]*Math.pow(2,8)+d[i+3]}function g(d,i,s){d[s+3]=i,i=i>>>8,d[s+2]=i,i=i>>>8,d[s+1]=i,i=i>>>8,d[s]=i}function a(d,i){return d[i]}function l(d,i,s){d[s]=i}},88280:function(Rt,Be,t){"use strict";t.d(Be,{b:function(){return O},t:function(){return f}});class f{constructor(_){this.fn=_,this.lastCache=void 0,this.lastArgKey=void 0}get(_){const p=JSON.stringify(_);return this.lastArgKey!==p&&(this.lastArgKey=p,this.lastCache=this.fn(_)),this.lastCache}}class O{get cachedValues(){return this._map}constructor(_){this.fn=_,this._map=new Map}get(_){if(this._map.has(_))return this._map.get(_);const p=this.fn(_);return this._map.set(_,p),p}}},97464:function(Rt,Be,t){"use strict";t.d(Be,{A:function(){return p},T:function(){return u}});var f=t(56709);const O=Object.freeze(function(V,I){const L=setTimeout(V.bind(I),0);return{dispose(){clearTimeout(L)}}});var u;(function(V){function I(L){return L===V.None||L===V.Cancelled||L instanceof _?!0:!L||typeof L!="object"?!1:typeof L.isCancellationRequested=="boolean"&&typeof L.onCancellationRequested=="function"}V.isCancellationToken=I,V.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:f.ju.None}),V.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:O})})(u||(u={}));class _{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?O:(this._emitter||(this._emitter=new f.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class p{constructor(I){this._token=void 0,this._parentListener=void 0,this._parentListener=I&&I.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new _),this._token}cancel(){this._token?this._token instanceof _&&this._token.cancel():this._token=u.Cancelled}dispose(I=!1){var L;I&&this.cancel(),(L=this._parentListener)===null||L===void 0||L.dispose(),this._token?this._token instanceof _&&this._token.dispose():this._token=u.None}}},407:function(Rt,Be,t){"use strict";t.d(Be,{l:function(){return p},u:function(){return _}});var f=t(14818);const O=Object.create(null);function u(V,I){if((0,f.HD)(I)){const L=O[I];if(L===void 0)throw new Error(`${V} references an unknown codicon: ${I}`);I=L}return O[V]=I,{id:V}}function _(){return O}const p={add:u("add",6e4),plus:u("plus",6e4),gistNew:u("gist-new",6e4),repoCreate:u("repo-create",6e4),lightbulb:u("lightbulb",60001),lightBulb:u("light-bulb",60001),repo:u("repo",60002),repoDelete:u("repo-delete",60002),gistFork:u("gist-fork",60003),repoForked:u("repo-forked",60003),gitPullRequest:u("git-pull-request",60004),gitPullRequestAbandoned:u("git-pull-request-abandoned",60004),recordKeys:u("record-keys",60005),keyboard:u("keyboard",60005),tag:u("tag",60006),tagAdd:u("tag-add",60006),tagRemove:u("tag-remove",60006),person:u("person",60007),personFollow:u("person-follow",60007),personOutline:u("person-outline",60007),personFilled:u("person-filled",60007),gitBranch:u("git-branch",60008),gitBranchCreate:u("git-branch-create",60008),gitBranchDelete:u("git-branch-delete",60008),sourceControl:u("source-control",60008),mirror:u("mirror",60009),mirrorPublic:u("mirror-public",60009),star:u("star",60010),starAdd:u("star-add",60010),starDelete:u("star-delete",60010),starEmpty:u("star-empty",60010),comment:u("comment",60011),commentAdd:u("comment-add",60011),alert:u("alert",60012),warning:u("warning",60012),search:u("search",60013),searchSave:u("search-save",60013),logOut:u("log-out",60014),signOut:u("sign-out",60014),logIn:u("log-in",60015),signIn:u("sign-in",60015),eye:u("eye",60016),eyeUnwatch:u("eye-unwatch",60016),eyeWatch:u("eye-watch",60016),circleFilled:u("circle-filled",60017),primitiveDot:u("primitive-dot",60017),closeDirty:u("close-dirty",60017),debugBreakpoint:u("debug-breakpoint",60017),debugBreakpointDisabled:u("debug-breakpoint-disabled",60017),debugHint:u("debug-hint",60017),primitiveSquare:u("primitive-square",60018),edit:u("edit",60019),pencil:u("pencil",60019),info:u("info",60020),issueOpened:u("issue-opened",60020),gistPrivate:u("gist-private",60021),gitForkPrivate:u("git-fork-private",60021),lock:u("lock",60021),mirrorPrivate:u("mirror-private",60021),close:u("close",60022),removeClose:u("remove-close",60022),x:u("x",60022),repoSync:u("repo-sync",60023),sync:u("sync",60023),clone:u("clone",60024),desktopDownload:u("desktop-download",60024),beaker:u("beaker",60025),microscope:u("microscope",60025),vm:u("vm",60026),deviceDesktop:u("device-desktop",60026),file:u("file",60027),fileText:u("file-text",60027),more:u("more",60028),ellipsis:u("ellipsis",60028),kebabHorizontal:u("kebab-horizontal",60028),mailReply:u("mail-reply",60029),reply:u("reply",60029),organization:u("organization",60030),organizationFilled:u("organization-filled",60030),organizationOutline:u("organization-outline",60030),newFile:u("new-file",60031),fileAdd:u("file-add",60031),newFolder:u("new-folder",60032),fileDirectoryCreate:u("file-directory-create",60032),trash:u("trash",60033),trashcan:u("trashcan",60033),history:u("history",60034),clock:u("clock",60034),folder:u("folder",60035),fileDirectory:u("file-directory",60035),symbolFolder:u("symbol-folder",60035),logoGithub:u("logo-github",60036),markGithub:u("mark-github",60036),github:u("github",60036),terminal:u("terminal",60037),console:u("console",60037),repl:u("repl",60037),zap:u("zap",60038),symbolEvent:u("symbol-event",60038),error:u("error",60039),stop:u("stop",60039),variable:u("variable",60040),symbolVariable:u("symbol-variable",60040),array:u("array",60042),symbolArray:u("symbol-array",60042),symbolModule:u("symbol-module",60043),symbolPackage:u("symbol-package",60043),symbolNamespace:u("symbol-namespace",60043),symbolObject:u("symbol-object",60043),symbolMethod:u("symbol-method",60044),symbolFunction:u("symbol-function",60044),symbolConstructor:u("symbol-constructor",60044),symbolBoolean:u("symbol-boolean",60047),symbolNull:u("symbol-null",60047),symbolNumeric:u("symbol-numeric",60048),symbolNumber:u("symbol-number",60048),symbolStructure:u("symbol-structure",60049),symbolStruct:u("symbol-struct",60049),symbolParameter:u("symbol-parameter",60050),symbolTypeParameter:u("symbol-type-parameter",60050),symbolKey:u("symbol-key",60051),symbolText:u("symbol-text",60051),symbolReference:u("symbol-reference",60052),goToFile:u("go-to-file",60052),symbolEnum:u("symbol-enum",60053),symbolValue:u("symbol-value",60053),symbolRuler:u("symbol-ruler",60054),symbolUnit:u("symbol-unit",60054),activateBreakpoints:u("activate-breakpoints",60055),archive:u("archive",60056),arrowBoth:u("arrow-both",60057),arrowDown:u("arrow-down",60058),arrowLeft:u("arrow-left",60059),arrowRight:u("arrow-right",60060),arrowSmallDown:u("arrow-small-down",60061),arrowSmallLeft:u("arrow-small-left",60062),arrowSmallRight:u("arrow-small-right",60063),arrowSmallUp:u("arrow-small-up",60064),arrowUp:u("arrow-up",60065),bell:u("bell",60066),bold:u("bold",60067),book:u("book",60068),bookmark:u("bookmark",60069),debugBreakpointConditionalUnverified:u("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:u("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:u("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:u("debug-breakpoint-data-unverified",60072),debugBreakpointData:u("debug-breakpoint-data",60073),debugBreakpointDataDisabled:u("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:u("debug-breakpoint-log-unverified",60074),debugBreakpointLog:u("debug-breakpoint-log",60075),debugBreakpointLogDisabled:u("debug-breakpoint-log-disabled",60075),briefcase:u("briefcase",60076),broadcast:u("broadcast",60077),browser:u("browser",60078),bug:u("bug",60079),calendar:u("calendar",60080),caseSensitive:u("case-sensitive",60081),check:u("check",60082),checklist:u("checklist",60083),chevronDown:u("chevron-down",60084),dropDownButton:u("drop-down-button",60084),chevronLeft:u("chevron-left",60085),chevronRight:u("chevron-right",60086),chevronUp:u("chevron-up",60087),chromeClose:u("chrome-close",60088),chromeMaximize:u("chrome-maximize",60089),chromeMinimize:u("chrome-minimize",60090),chromeRestore:u("chrome-restore",60091),circle:u("circle",60092),circleOutline:u("circle-outline",60092),debugBreakpointUnverified:u("debug-breakpoint-unverified",60092),circleSlash:u("circle-slash",60093),circuitBoard:u("circuit-board",60094),clearAll:u("clear-all",60095),clippy:u("clippy",60096),closeAll:u("close-all",60097),cloudDownload:u("cloud-download",60098),cloudUpload:u("cloud-upload",60099),code:u("code",60100),collapseAll:u("collapse-all",60101),colorMode:u("color-mode",60102),commentDiscussion:u("comment-discussion",60103),compareChanges:u("compare-changes",60157),creditCard:u("credit-card",60105),dash:u("dash",60108),dashboard:u("dashboard",60109),database:u("database",60110),debugContinue:u("debug-continue",60111),debugDisconnect:u("debug-disconnect",60112),debugPause:u("debug-pause",60113),debugRestart:u("debug-restart",60114),debugStart:u("debug-start",60115),debugStepInto:u("debug-step-into",60116),debugStepOut:u("debug-step-out",60117),debugStepOver:u("debug-step-over",60118),debugStop:u("debug-stop",60119),debug:u("debug",60120),deviceCameraVideo:u("device-camera-video",60121),deviceCamera:u("device-camera",60122),deviceMobile:u("device-mobile",60123),diffAdded:u("diff-added",60124),diffIgnored:u("diff-ignored",60125),diffModified:u("diff-modified",60126),diffRemoved:u("diff-removed",60127),diffRenamed:u("diff-renamed",60128),diff:u("diff",60129),discard:u("discard",60130),editorLayout:u("editor-layout",60131),emptyWindow:u("empty-window",60132),exclude:u("exclude",60133),extensions:u("extensions",60134),eyeClosed:u("eye-closed",60135),fileBinary:u("file-binary",60136),fileCode:u("file-code",60137),fileMedia:u("file-media",60138),filePdf:u("file-pdf",60139),fileSubmodule:u("file-submodule",60140),fileSymlinkDirectory:u("file-symlink-directory",60141),fileSymlinkFile:u("file-symlink-file",60142),fileZip:u("file-zip",60143),files:u("files",60144),filter:u("filter",60145),flame:u("flame",60146),foldDown:u("fold-down",60147),foldUp:u("fold-up",60148),fold:u("fold",60149),folderActive:u("folder-active",60150),folderOpened:u("folder-opened",60151),gear:u("gear",60152),gift:u("gift",60153),gistSecret:u("gist-secret",60154),gist:u("gist",60155),gitCommit:u("git-commit",60156),gitCompare:u("git-compare",60157),gitMerge:u("git-merge",60158),githubAction:u("github-action",60159),githubAlt:u("github-alt",60160),globe:u("globe",60161),grabber:u("grabber",60162),graph:u("graph",60163),gripper:u("gripper",60164),heart:u("heart",60165),home:u("home",60166),horizontalRule:u("horizontal-rule",60167),hubot:u("hubot",60168),inbox:u("inbox",60169),issueClosed:u("issue-closed",60324),issueReopened:u("issue-reopened",60171),issues:u("issues",60172),italic:u("italic",60173),jersey:u("jersey",60174),json:u("json",60175),bracket:u("bracket",60175),kebabVertical:u("kebab-vertical",60176),key:u("key",60177),law:u("law",60178),lightbulbAutofix:u("lightbulb-autofix",60179),linkExternal:u("link-external",60180),link:u("link",60181),listOrdered:u("list-ordered",60182),listUnordered:u("list-unordered",60183),liveShare:u("live-share",60184),loading:u("loading",60185),location:u("location",60186),mailRead:u("mail-read",60187),mail:u("mail",60188),markdown:u("markdown",60189),megaphone:u("megaphone",60190),mention:u("mention",60191),milestone:u("milestone",60192),mortarBoard:u("mortar-board",60193),move:u("move",60194),multipleWindows:u("multiple-windows",60195),mute:u("mute",60196),noNewline:u("no-newline",60197),note:u("note",60198),octoface:u("octoface",60199),openPreview:u("open-preview",60200),package_:u("package",60201),paintcan:u("paintcan",60202),pin:u("pin",60203),play:u("play",60204),run:u("run",60204),plug:u("plug",60205),preserveCase:u("preserve-case",60206),preview:u("preview",60207),project:u("project",60208),pulse:u("pulse",60209),question:u("question",60210),quote:u("quote",60211),radioTower:u("radio-tower",60212),reactions:u("reactions",60213),references:u("references",60214),refresh:u("refresh",60215),regex:u("regex",60216),remoteExplorer:u("remote-explorer",60217),remote:u("remote",60218),remove:u("remove",60219),replaceAll:u("replace-all",60220),replace:u("replace",60221),repoClone:u("repo-clone",60222),repoForcePush:u("repo-force-push",60223),repoPull:u("repo-pull",60224),repoPush:u("repo-push",60225),report:u("report",60226),requestChanges:u("request-changes",60227),rocket:u("rocket",60228),rootFolderOpened:u("root-folder-opened",60229),rootFolder:u("root-folder",60230),rss:u("rss",60231),ruby:u("ruby",60232),saveAll:u("save-all",60233),saveAs:u("save-as",60234),save:u("save",60235),screenFull:u("screen-full",60236),screenNormal:u("screen-normal",60237),searchStop:u("search-stop",60238),server:u("server",60240),settingsGear:u("settings-gear",60241),settings:u("settings",60242),shield:u("shield",60243),smiley:u("smiley",60244),sortPrecedence:u("sort-precedence",60245),splitHorizontal:u("split-horizontal",60246),splitVertical:u("split-vertical",60247),squirrel:u("squirrel",60248),starFull:u("star-full",60249),starHalf:u("star-half",60250),symbolClass:u("symbol-class",60251),symbolColor:u("symbol-color",60252),symbolCustomColor:u("symbol-customcolor",60252),symbolConstant:u("symbol-constant",60253),symbolEnumMember:u("symbol-enum-member",60254),symbolField:u("symbol-field",60255),symbolFile:u("symbol-file",60256),symbolInterface:u("symbol-interface",60257),symbolKeyword:u("symbol-keyword",60258),symbolMisc:u("symbol-misc",60259),symbolOperator:u("symbol-operator",60260),symbolProperty:u("symbol-property",60261),wrench:u("wrench",60261),wrenchSubaction:u("wrench-subaction",60261),symbolSnippet:u("symbol-snippet",60262),tasklist:u("tasklist",60263),telescope:u("telescope",60264),textSize:u("text-size",60265),threeBars:u("three-bars",60266),thumbsdown:u("thumbsdown",60267),thumbsup:u("thumbsup",60268),tools:u("tools",60269),triangleDown:u("triangle-down",60270),triangleLeft:u("triangle-left",60271),triangleRight:u("triangle-right",60272),triangleUp:u("triangle-up",60273),twitter:u("twitter",60274),unfold:u("unfold",60275),unlock:u("unlock",60276),unmute:u("unmute",60277),unverified:u("unverified",60278),verified:u("verified",60279),versions:u("versions",60280),vmActive:u("vm-active",60281),vmOutline:u("vm-outline",60282),vmRunning:u("vm-running",60283),watch:u("watch",60284),whitespace:u("whitespace",60285),wholeWord:u("whole-word",60286),window:u("window",60287),wordWrap:u("word-wrap",60288),zoomIn:u("zoom-in",60289),zoomOut:u("zoom-out",60290),listFilter:u("list-filter",60291),listFlat:u("list-flat",60292),listSelection:u("list-selection",60293),selection:u("selection",60293),listTree:u("list-tree",60294),debugBreakpointFunctionUnverified:u("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:u("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:u("debug-breakpoint-function-disabled",60296),debugStackframeActive:u("debug-stackframe-active",60297),circleSmallFilled:u("circle-small-filled",60298),debugStackframeDot:u("debug-stackframe-dot",60298),debugStackframe:u("debug-stackframe",60299),debugStackframeFocused:u("debug-stackframe-focused",60299),debugBreakpointUnsupported:u("debug-breakpoint-unsupported",60300),symbolString:u("symbol-string",60301),debugReverseContinue:u("debug-reverse-continue",60302),debugStepBack:u("debug-step-back",60303),debugRestartFrame:u("debug-restart-frame",60304),callIncoming:u("call-incoming",60306),callOutgoing:u("call-outgoing",60307),menu:u("menu",60308),expandAll:u("expand-all",60309),feedback:u("feedback",60310),groupByRefType:u("group-by-ref-type",60311),ungroupByRefType:u("ungroup-by-ref-type",60312),account:u("account",60313),bellDot:u("bell-dot",60314),debugConsole:u("debug-console",60315),library:u("library",60316),output:u("output",60317),runAll:u("run-all",60318),syncIgnored:u("sync-ignored",60319),pinned:u("pinned",60320),githubInverted:u("github-inverted",60321),debugAlt:u("debug-alt",60305),serverProcess:u("server-process",60322),serverEnvironment:u("server-environment",60323),pass:u("pass",60324),stopCircle:u("stop-circle",60325),playCircle:u("play-circle",60326),record:u("record",60327),debugAltSmall:u("debug-alt-small",60328),vmConnect:u("vm-connect",60329),cloud:u("cloud",60330),merge:u("merge",60331),exportIcon:u("export",60332),graphLeft:u("graph-left",60333),magnet:u("magnet",60334),notebook:u("notebook",60335),redo:u("redo",60336),checkAll:u("check-all",60337),pinnedDirty:u("pinned-dirty",60338),passFilled:u("pass-filled",60339),circleLargeFilled:u("circle-large-filled",60340),circleLarge:u("circle-large",60341),circleLargeOutline:u("circle-large-outline",60341),combine:u("combine",60342),gather:u("gather",60342),table:u("table",60343),variableGroup:u("variable-group",60344),typeHierarchy:u("type-hierarchy",60345),typeHierarchySub:u("type-hierarchy-sub",60346),typeHierarchySuper:u("type-hierarchy-super",60347),gitPullRequestCreate:u("git-pull-request-create",60348),runAbove:u("run-above",60349),runBelow:u("run-below",60350),notebookTemplate:u("notebook-template",60351),debugRerun:u("debug-rerun",60352),workspaceTrusted:u("workspace-trusted",60353),workspaceUntrusted:u("workspace-untrusted",60354),workspaceUnspecified:u("workspace-unspecified",60355),terminalCmd:u("terminal-cmd",60356),terminalDebian:u("terminal-debian",60357),terminalLinux:u("terminal-linux",60358),terminalPowershell:u("terminal-powershell",60359),terminalTmux:u("terminal-tmux",60360),terminalUbuntu:u("terminal-ubuntu",60361),terminalBash:u("terminal-bash",60362),arrowSwap:u("arrow-swap",60363),copy:u("copy",60364),personAdd:u("person-add",60365),filterFilled:u("filter-filled",60366),wand:u("wand",60367),debugLineByLine:u("debug-line-by-line",60368),inspect:u("inspect",60369),layers:u("layers",60370),layersDot:u("layers-dot",60371),layersActive:u("layers-active",60372),compass:u("compass",60373),compassDot:u("compass-dot",60374),compassActive:u("compass-active",60375),azure:u("azure",60376),issueDraft:u("issue-draft",60377),gitPullRequestClosed:u("git-pull-request-closed",60378),gitPullRequestDraft:u("git-pull-request-draft",60379),debugAll:u("debug-all",60380),debugCoverage:u("debug-coverage",60381),runErrors:u("run-errors",60382),folderLibrary:u("folder-library",60383),debugContinueSmall:u("debug-continue-small",60384),beakerStop:u("beaker-stop",60385),graphLine:u("graph-line",60386),graphScatter:u("graph-scatter",60387),pieChart:u("pie-chart",60388),bracketDot:u("bracket-dot",60389),bracketError:u("bracket-error",60390),lockSmall:u("lock-small",60391),azureDevops:u("azure-devops",60392),verifiedFilled:u("verified-filled",60393),newLine:u("newline",60394),layout:u("layout",60395),layoutActivitybarLeft:u("layout-activitybar-left",60396),layoutActivitybarRight:u("layout-activitybar-right",60397),layoutPanelLeft:u("layout-panel-left",60398),layoutPanelCenter:u("layout-panel-center",60399),layoutPanelJustify:u("layout-panel-justify",60400),layoutPanelRight:u("layout-panel-right",60401),layoutPanel:u("layout-panel",60402),layoutSidebarLeft:u("layout-sidebar-left",60403),layoutSidebarRight:u("layout-sidebar-right",60404),layoutStatusbar:u("layout-statusbar",60405),layoutMenubar:u("layout-menubar",60406),layoutCentered:u("layout-centered",60407),layoutSidebarRightOff:u("layout-sidebar-right-off",60416),layoutPanelOff:u("layout-panel-off",60417),layoutSidebarLeftOff:u("layout-sidebar-left-off",60418),target:u("target",60408),indent:u("indent",60409),recordSmall:u("record-small",60410),errorSmall:u("error-small",60411),arrowCircleDown:u("arrow-circle-down",60412),arrowCircleLeft:u("arrow-circle-left",60413),arrowCircleRight:u("arrow-circle-right",60414),arrowCircleUp:u("arrow-circle-up",60415),heartFilled:u("heart-filled",60420),map:u("map",60421),mapFilled:u("map-filled",60422),circleSmall:u("circle-small",60423),bellSlash:u("bell-slash",60424),bellSlashDot:u("bell-slash-dot",60425),commentUnresolved:u("comment-unresolved",60426),gitPullRequestGoToChanges:u("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:u("git-pull-request-new-changes",60428),searchFuzzy:u("search-fuzzy",60429),commentDraft:u("comment-draft",60430),send:u("send",60431),sparkle:u("sparkle",60432),insert:u("insert",60433),dialogError:u("dialog-error","error"),dialogWarning:u("dialog-warning","warning"),dialogInfo:u("dialog-info","info"),dialogClose:u("dialog-close","close"),treeItemExpanded:u("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:u("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:u("tree-filter-on-type-off","list-selection"),treeFilterClear:u("tree-filter-clear","close"),treeItemLoading:u("tree-item-loading","loading"),menuSelection:u("menu-selection","check"),menuSubmenu:u("menu-submenu","chevron-right"),menuBarMore:u("menubar-more","more"),scrollbarButtonLeft:u("scrollbar-button-left","triangle-left"),scrollbarButtonRight:u("scrollbar-button-right","triangle-right"),scrollbarButtonUp:u("scrollbar-button-up","triangle-up"),scrollbarButtonDown:u("scrollbar-button-down","triangle-down"),toolBarMore:u("toolbar-more","more"),quickInputBack:u("quick-input-back","arrow-left")}},86741:function(Rt,Be,t){"use strict";t.d(Be,{Il:function(){return p},Oz:function(){return u},VS:function(){return O},tx:function(){return _}});function f(V,I){const L=Math.pow(10,I);return Math.round(V*L)/L}class O{constructor(I,L,E,g=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,I))|0,this.g=Math.min(255,Math.max(0,L))|0,this.b=Math.min(255,Math.max(0,E))|0,this.a=f(Math.max(Math.min(1,g),0),3)}static equals(I,L){return I.r===L.r&&I.g===L.g&&I.b===L.b&&I.a===L.a}}class u{constructor(I,L,E,g){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,I),0)|0,this.s=f(Math.max(Math.min(1,L),0),3),this.l=f(Math.max(Math.min(1,E),0),3),this.a=f(Math.max(Math.min(1,g),0),3)}static equals(I,L){return I.h===L.h&&I.s===L.s&&I.l===L.l&&I.a===L.a}static fromRGBA(I){const L=I.r/255,E=I.g/255,g=I.b/255,a=I.a,l=Math.max(L,E,g),d=Math.min(L,E,g);let i=0,s=0;const m=(d+l)/2,b=l-d;if(b>0){switch(s=Math.min(m<=.5?b/(2*m):b/(2-2*m),1),l){case L:i=(E-g)/b+(E<g?6:0);break;case E:i=(g-L)/b+2;break;case g:i=(L-E)/b+4;break}i*=60,i=Math.round(i)}return new u(i,s,m,a)}static _hue2rgb(I,L,E){return E<0&&(E+=1),E>1&&(E-=1),E<1/6?I+(L-I)*6*E:E<1/2?L:E<2/3?I+(L-I)*(2/3-E)*6:I}static toRGBA(I){const L=I.h/360,{s:E,l:g,a}=I;let l,d,i;if(E===0)l=d=i=g;else{const s=g<.5?g*(1+E):g+E-g*E,m=2*g-s;l=u._hue2rgb(m,s,L+1/3),d=u._hue2rgb(m,s,L),i=u._hue2rgb(m,s,L-1/3)}return new O(Math.round(l*255),Math.round(d*255),Math.round(i*255),a)}}class _{constructor(I,L,E,g){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,I),0)|0,this.s=f(Math.max(Math.min(1,L),0),3),this.v=f(Math.max(Math.min(1,E),0),3),this.a=f(Math.max(Math.min(1,g),0),3)}static equals(I,L){return I.h===L.h&&I.s===L.s&&I.v===L.v&&I.a===L.a}static fromRGBA(I){const L=I.r/255,E=I.g/255,g=I.b/255,a=Math.max(L,E,g),l=Math.min(L,E,g),d=a-l,i=a===0?0:d/a;let s;return d===0?s=0:a===L?s=((E-g)/d%6+6)%6:a===E?s=(g-L)/d+2:s=(L-E)/d+4,new _(Math.round(s*60),i,a,I.a)}static toRGBA(I){const{h:L,s:E,v:g,a}=I,l=g*E,d=l*(1-Math.abs(L/60%2-1)),i=g-l;let[s,m,b]=[0,0,0];return L<60?(s=l,m=d):L<120?(s=d,m=l):L<180?(m=l,b=d):L<240?(m=d,b=l):L<300?(s=d,b=l):L<=360&&(s=l,b=d),s=Math.round((s+i)*255),m=Math.round((m+i)*255),b=Math.round((b+i)*255),new O(s,m,b,a)}}class p{static fromHex(I){return p.Format.CSS.parseHex(I)||p.red}static equals(I,L){return!I&&!L?!0:!I||!L?!1:I.equals(L)}get hsla(){return this._hsla?this._hsla:u.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:_.fromRGBA(this.rgba)}constructor(I){if(I)if(I instanceof O)this.rgba=I;else if(I instanceof u)this._hsla=I,this.rgba=u.toRGBA(I);else if(I instanceof _)this._hsva=I,this.rgba=_.toRGBA(I);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(I){return!!I&&O.equals(this.rgba,I.rgba)&&u.equals(this.hsla,I.hsla)&&_.equals(this.hsva,I.hsva)}getRelativeLuminance(){const I=p._relativeLuminanceForComponent(this.rgba.r),L=p._relativeLuminanceForComponent(this.rgba.g),E=p._relativeLuminanceForComponent(this.rgba.b),g=.2126*I+.7152*L+.0722*E;return f(g,4)}static _relativeLuminanceForComponent(I){const L=I/255;return L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(I){const L=this.getRelativeLuminance(),E=I.getRelativeLuminance();return L>E}isDarkerThan(I){const L=this.getRelativeLuminance(),E=I.getRelativeLuminance();return L<E}lighten(I){return new p(new u(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*I,this.hsla.a))}darken(I){return new p(new u(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*I,this.hsla.a))}transparent(I){const{r:L,g:E,b:g,a}=this.rgba;return new p(new O(L,E,g,a*I))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new p(new O(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(I){if(this.isOpaque()||I.rgba.a!==1)return this;const{r:L,g:E,b:g,a}=this.rgba;return new p(new O(I.rgba.r-a*(I.rgba.r-L),I.rgba.g-a*(I.rgba.g-E),I.rgba.b-a*(I.rgba.b-g),1))}toString(){return this._toString||(this._toString=p.Format.CSS.format(this)),this._toString}static getLighterColor(I,L,E){if(I.isLighterThan(L))return I;E=E||.5;const g=I.getRelativeLuminance(),a=L.getRelativeLuminance();return E=E*(a-g)/a,I.lighten(E)}static getDarkerColor(I,L,E){if(I.isDarkerThan(L))return I;E=E||.5;const g=I.getRelativeLuminance(),a=L.getRelativeLuminance();return E=E*(g-a)/g,I.darken(E)}}p.white=new p(new O(255,255,255,1)),p.black=new p(new O(0,0,0,1)),p.red=new p(new O(255,0,0,1)),p.blue=new p(new O(0,0,255,1)),p.green=new p(new O(0,255,0,1)),p.cyan=new p(new O(0,255,255,1)),p.lightgrey=new p(new O(211,211,211,1)),p.transparent=new p(new O(0,0,0,0)),function(V){let I;(function(L){let E;(function(g){function a(S){return S.rgba.a===1?`rgb(${S.rgba.r}, ${S.rgba.g}, ${S.rgba.b})`:V.Format.CSS.formatRGBA(S)}g.formatRGB=a;function l(S){return`rgba(${S.rgba.r}, ${S.rgba.g}, ${S.rgba.b}, ${+S.rgba.a.toFixed(2)})`}g.formatRGBA=l;function d(S){return S.hsla.a===1?`hsl(${S.hsla.h}, ${(S.hsla.s*100).toFixed(2)}%, ${(S.hsla.l*100).toFixed(2)}%)`:V.Format.CSS.formatHSLA(S)}g.formatHSL=d;function i(S){return`hsla(${S.hsla.h}, ${(S.hsla.s*100).toFixed(2)}%, ${(S.hsla.l*100).toFixed(2)}%, ${S.hsla.a.toFixed(2)})`}g.formatHSLA=i;function s(S){const N=S.toString(16);return N.length!==2?"0"+N:N}function m(S){return`#${s(S.rgba.r)}${s(S.rgba.g)}${s(S.rgba.b)}`}g.formatHex=m;function b(S,N=!1){return N&&S.rgba.a===1?V.Format.CSS.formatHex(S):`#${s(S.rgba.r)}${s(S.rgba.g)}${s(S.rgba.b)}${s(Math.round(S.rgba.a*255))}`}g.formatHexA=b;function c(S){return S.isOpaque()?V.Format.CSS.formatHex(S):V.Format.CSS.formatRGBA(S)}g.format=c;function v(S){const N=S.length;if(N===0||S.charCodeAt(0)!==35)return null;if(N===7){const P=16*C(S.charCodeAt(1))+C(S.charCodeAt(2)),M=16*C(S.charCodeAt(3))+C(S.charCodeAt(4)),D=16*C(S.charCodeAt(5))+C(S.charCodeAt(6));return new V(new O(P,M,D,1))}if(N===9){const P=16*C(S.charCodeAt(1))+C(S.charCodeAt(2)),M=16*C(S.charCodeAt(3))+C(S.charCodeAt(4)),D=16*C(S.charCodeAt(5))+C(S.charCodeAt(6)),F=16*C(S.charCodeAt(7))+C(S.charCodeAt(8));return new V(new O(P,M,D,F/255))}if(N===4){const P=C(S.charCodeAt(1)),M=C(S.charCodeAt(2)),D=C(S.charCodeAt(3));return new V(new O(16*P+P,16*M+M,16*D+D))}if(N===5){const P=C(S.charCodeAt(1)),M=C(S.charCodeAt(2)),D=C(S.charCodeAt(3)),F=C(S.charCodeAt(4));return new V(new O(16*P+P,16*M+M,16*D+D,(16*F+F)/255))}return null}g.parseHex=v;function C(S){switch(S){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(E=L.CSS||(L.CSS={}))})(I=V.Format||(V.Format={}))}(p||(p={}))},31837:function(Rt,Be,t){"use strict";t.d(Be,{Hl:function(){return I},Ix:function(){return V},SN:function(){return E},Z0:function(){return a},ZO:function(){return p}});var f=t(16308),O=t(97865),u=t(38577),_=function(l,d,i,s){function m(b){return b instanceof i?b:new i(function(c){c(b)})}return new(i||(i=Promise))(function(b,c){function v(N){try{S(s.next(N))}catch(P){c(P)}}function C(N){try{S(s.throw(N))}catch(P){c(P)}}function S(N){N.done?b(N.value):m(N.value).then(v,C)}S((s=s.apply(l,d||[])).next())})};function p(l){return{asString:()=>_(this,void 0,void 0,function*(){return l}),asFile:()=>{},value:typeof l=="string"?l:void 0}}function V(l,d,i){const s={id:(0,u.R)(),name:l,uri:d,data:i};return{asString:()=>_(this,void 0,void 0,function*(){return""}),asFile:()=>s,value:void 0}}class I{constructor(){this._entries=new Map}get size(){let d=0;for(const i of this._entries)d++;return d}has(d){return this._entries.has(this.toKey(d))}matches(d){const i=[...this._entries.keys()];return O.$.some(this,([s,m])=>m.asFile())&&i.push("files"),g(L(d),i)}get(d){var i;return(i=this._entries.get(this.toKey(d)))===null||i===void 0?void 0:i[0]}append(d,i){const s=this._entries.get(d);s?s.push(i):this._entries.set(this.toKey(d),[i])}replace(d,i){this._entries.set(this.toKey(d),[i])}delete(d){this._entries.delete(this.toKey(d))}*[Symbol.iterator](){for(const[d,i]of this._entries)for(const s of i)yield[d,s]}toKey(d){return L(d)}}function L(l){return l.toLowerCase()}function E(l,d){return g(L(l),d.map(L))}function g(l,d){if(l==="*/*")return d.length>0;if(d.includes(l))return!0;const i=l.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[s,m,b]=i;return b==="*"?d.some(c=>c.startsWith(m+"/")):!1}const a=Object.freeze({create:l=>(0,f.EB)(l.map(d=>d.toString())).join(`\r
`),split:l=>l.split(`\r
`),parse:l=>a.split(l).filter(d=>!d.startsWith("#"))})},4848:function(Rt,Be,t){"use strict";t.d(Be,{H:function(){return f}});function f(O,u,_){let p=null,V=null;if(typeof _.value=="function"?(p="value",V=_.value,V.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof _.get=="function"&&(p="get",V=_.get),!V)throw new Error("not supported");const I=`$memoize$${u}`;_[p]=function(...L){return this.hasOwnProperty(I)||Object.defineProperty(this,I,{configurable:!1,enumerable:!1,writable:!1,value:V.apply(this,L)}),this[I]}}},49927:function(Rt,Be,t){"use strict";t.d(Be,{Hs:function(){return L},a$:function(){return _}});class f{constructor(g,a,l,d){this.originalStart=g,this.originalLength=a,this.modifiedStart=l,this.modifiedLength=d}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var O=t(32916);class u{constructor(g){this.source=g}getElements(){const g=this.source,a=new Int32Array(g.length);for(let l=0,d=g.length;l<d;l++)a[l]=g.charCodeAt(l);return a}}function _(E,g,a){return new L(new u(E),new u(g)).ComputeDiff(a).changes}class p{static Assert(g,a){if(!g)throw new Error(a)}}class V{static Copy(g,a,l,d,i){for(let s=0;s<i;s++)l[d+s]=g[a+s]}static Copy2(g,a,l,d,i){for(let s=0;s<i;s++)l[d+s]=g[a+s]}}class I{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new f(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(g,a){this.m_originalStart=Math.min(this.m_originalStart,g),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_originalCount++}AddModifiedElement(g,a){this.m_originalStart=Math.min(this.m_originalStart,g),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class L{constructor(g,a,l=null){this.ContinueProcessingPredicate=l,this._originalSequence=g,this._modifiedSequence=a;const[d,i,s]=L._getElements(g),[m,b,c]=L._getElements(a);this._hasStrings=s&&c,this._originalStringElements=d,this._originalElementsOrHash=i,this._modifiedStringElements=m,this._modifiedElementsOrHash=b,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(g){return g.length>0&&typeof g[0]=="string"}static _getElements(g){const a=g.getElements();if(L._isStringArray(a)){const l=new Int32Array(a.length);for(let d=0,i=a.length;d<i;d++)l[d]=(0,O.Cv)(a[d],0);return[a,l,!0]}return a instanceof Int32Array?[[],a,!1]:[[],new Int32Array(a),!1]}ElementsAreEqual(g,a){return this._originalElementsOrHash[g]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[g]===this._modifiedStringElements[a]:!0}ElementsAreStrictEqual(g,a){if(!this.ElementsAreEqual(g,a))return!1;const l=L._getStrictElement(this._originalSequence,g),d=L._getStrictElement(this._modifiedSequence,a);return l===d}static _getStrictElement(g,a){return typeof g.getStrictElement=="function"?g.getStrictElement(a):null}OriginalElementsAreEqual(g,a){return this._originalElementsOrHash[g]!==this._originalElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[g]===this._originalStringElements[a]:!0}ModifiedElementsAreEqual(g,a){return this._modifiedElementsOrHash[g]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._modifiedStringElements[g]===this._modifiedStringElements[a]:!0}ComputeDiff(g){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,g)}_ComputeDiff(g,a,l,d,i){const s=[!1];let m=this.ComputeDiffRecursive(g,a,l,d,s);return i&&(m=this.PrettifyChanges(m)),{quitEarly:s[0],changes:m}}ComputeDiffRecursive(g,a,l,d,i){for(i[0]=!1;g<=a&&l<=d&&this.ElementsAreEqual(g,l);)g++,l++;for(;a>=g&&d>=l&&this.ElementsAreEqual(a,d);)a--,d--;if(g>a||l>d){let C;return l<=d?(p.Assert(g===a+1,"originalStart should only be one more than originalEnd"),C=[new f(g,0,l,d-l+1)]):g<=a?(p.Assert(l===d+1,"modifiedStart should only be one more than modifiedEnd"),C=[new f(g,a-g+1,l,0)]):(p.Assert(g===a+1,"originalStart should only be one more than originalEnd"),p.Assert(l===d+1,"modifiedStart should only be one more than modifiedEnd"),C=[]),C}const s=[0],m=[0],b=this.ComputeRecursionPoint(g,a,l,d,s,m,i),c=s[0],v=m[0];if(b!==null)return b;if(!i[0]){const C=this.ComputeDiffRecursive(g,c,l,v,i);let S=[];return i[0]?S=[new f(c+1,a-(c+1)+1,v+1,d-(v+1)+1)]:S=this.ComputeDiffRecursive(c+1,a,v+1,d,i),this.ConcatenateChanges(C,S)}return[new f(g,a-g+1,l,d-l+1)]}WALKTRACE(g,a,l,d,i,s,m,b,c,v,C,S,N,P,M,D,F,B){let U=null,A=null,k=new I,R=a,$=l,J=N[0]-D[0]-d,Y=-1073741824,j=this.m_forwardHistory.length-1;do{const z=J+g;z===R||z<$&&c[z-1]<c[z+1]?(C=c[z+1],P=C-J-d,C<Y&&k.MarkNextChange(),Y=C,k.AddModifiedElement(C+1,P),J=z+1-g):(C=c[z-1]+1,P=C-J-d,C<Y&&k.MarkNextChange(),Y=C-1,k.AddOriginalElement(C,P+1),J=z-1-g),j>=0&&(c=this.m_forwardHistory[j],g=c[0],R=1,$=c.length-1)}while(--j>=-1);if(U=k.getReverseChanges(),B[0]){let z=N[0]+1,K=D[0]+1;if(U!==null&&U.length>0){const Z=U[U.length-1];z=Math.max(z,Z.getOriginalEnd()),K=Math.max(K,Z.getModifiedEnd())}A=[new f(z,S-z+1,K,M-K+1)]}else{k=new I,R=s,$=m,J=N[0]-D[0]-b,Y=1073741824,j=F?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const z=J+i;z===R||z<$&&v[z-1]>=v[z+1]?(C=v[z+1]-1,P=C-J-b,C>Y&&k.MarkNextChange(),Y=C+1,k.AddOriginalElement(C+1,P+1),J=z+1-i):(C=v[z-1],P=C-J-b,C>Y&&k.MarkNextChange(),Y=C,k.AddModifiedElement(C+1,P+1),J=z-1-i),j>=0&&(v=this.m_reverseHistory[j],i=v[0],R=1,$=v.length-1)}while(--j>=-1);A=k.getChanges()}return this.ConcatenateChanges(U,A)}ComputeRecursionPoint(g,a,l,d,i,s,m){let b=0,c=0,v=0,C=0,S=0,N=0;g--,l--,i[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const P=a-g+(d-l),M=P+1,D=new Int32Array(M),F=new Int32Array(M),B=d-l,U=a-g,A=g-l,k=a-d,$=(U-B)%2===0;D[B]=g,F[U]=a,m[0]=!1;for(let J=1;J<=P/2+1;J++){let Y=0,j=0;v=this.ClipDiagonalBound(B-J,J,B,M),C=this.ClipDiagonalBound(B+J,J,B,M);for(let K=v;K<=C;K+=2){K===v||K<C&&D[K-1]<D[K+1]?b=D[K+1]:b=D[K-1]+1,c=b-(K-B)-A;const Z=b;for(;b<a&&c<d&&this.ElementsAreEqual(b+1,c+1);)b++,c++;if(D[K]=b,b+c>Y+j&&(Y=b,j=c),!$&&Math.abs(K-U)<=J-1&&b>=F[K])return i[0]=b,s[0]=c,Z<=F[K]&&1447>0&&J<=1447+1?this.WALKTRACE(B,v,C,A,U,S,N,k,D,F,b,a,i,c,d,s,$,m):null}const z=(Y-g+(j-l)-J)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(Y,z))return m[0]=!0,i[0]=Y,s[0]=j,z>0&&1447>0&&J<=1447+1?this.WALKTRACE(B,v,C,A,U,S,N,k,D,F,b,a,i,c,d,s,$,m):(g++,l++,[new f(g,a-g+1,l,d-l+1)]);S=this.ClipDiagonalBound(U-J,J,U,M),N=this.ClipDiagonalBound(U+J,J,U,M);for(let K=S;K<=N;K+=2){K===S||K<N&&F[K-1]>=F[K+1]?b=F[K+1]-1:b=F[K-1],c=b-(K-U)-k;const Z=b;for(;b>g&&c>l&&this.ElementsAreEqual(b,c);)b--,c--;if(F[K]=b,$&&Math.abs(K-B)<=J&&b<=D[K])return i[0]=b,s[0]=c,Z>=D[K]&&1447>0&&J<=1447+1?this.WALKTRACE(B,v,C,A,U,S,N,k,D,F,b,a,i,c,d,s,$,m):null}if(J<=1447){let K=new Int32Array(C-v+2);K[0]=B-v+1,V.Copy2(D,v,K,1,C-v+1),this.m_forwardHistory.push(K),K=new Int32Array(N-S+2),K[0]=U-S+1,V.Copy2(F,S,K,1,N-S+1),this.m_reverseHistory.push(K)}}return this.WALKTRACE(B,v,C,A,U,S,N,k,D,F,b,a,i,c,d,s,$,m)}PrettifyChanges(g){for(let a=0;a<g.length;a++){const l=g[a],d=a<g.length-1?g[a+1].originalStart:this._originalElementsOrHash.length,i=a<g.length-1?g[a+1].modifiedStart:this._modifiedElementsOrHash.length,s=l.originalLength>0,m=l.modifiedLength>0;for(;l.originalStart+l.originalLength<d&&l.modifiedStart+l.modifiedLength<i&&(!s||this.OriginalElementsAreEqual(l.originalStart,l.originalStart+l.originalLength))&&(!m||this.ModifiedElementsAreEqual(l.modifiedStart,l.modifiedStart+l.modifiedLength));){const c=this.ElementsAreStrictEqual(l.originalStart,l.modifiedStart);if(this.ElementsAreStrictEqual(l.originalStart+l.originalLength,l.modifiedStart+l.modifiedLength)&&!c)break;l.originalStart++,l.modifiedStart++}const b=[null];if(a<g.length-1&&this.ChangesOverlap(g[a],g[a+1],b)){g[a]=b[0],g.splice(a+1,1),a--;continue}}for(let a=g.length-1;a>=0;a--){const l=g[a];let d=0,i=0;if(a>0){const C=g[a-1];d=C.originalStart+C.originalLength,i=C.modifiedStart+C.modifiedLength}const s=l.originalLength>0,m=l.modifiedLength>0;let b=0,c=this._boundaryScore(l.originalStart,l.originalLength,l.modifiedStart,l.modifiedLength);for(let C=1;;C++){const S=l.originalStart-C,N=l.modifiedStart-C;if(S<d||N<i||s&&!this.OriginalElementsAreEqual(S,S+l.originalLength)||m&&!this.ModifiedElementsAreEqual(N,N+l.modifiedLength))break;const M=(S===d&&N===i?5:0)+this._boundaryScore(S,l.originalLength,N,l.modifiedLength);M>c&&(c=M,b=C)}l.originalStart-=b,l.modifiedStart-=b;const v=[null];if(a>0&&this.ChangesOverlap(g[a-1],g[a],v)){g[a-1]=v[0],g.splice(a,1),a++;continue}}if(this._hasStrings)for(let a=1,l=g.length;a<l;a++){const d=g[a-1],i=g[a],s=i.originalStart-d.originalStart-d.originalLength,m=d.originalStart,b=i.originalStart+i.originalLength,c=b-m,v=d.modifiedStart,C=i.modifiedStart+i.modifiedLength,S=C-v;if(s<5&&c<20&&S<20){const N=this._findBetterContiguousSequence(m,c,v,S,s);if(N){const[P,M]=N;(P!==d.originalStart+d.originalLength||M!==d.modifiedStart+d.modifiedLength)&&(d.originalLength=P-d.originalStart,d.modifiedLength=M-d.modifiedStart,i.originalStart=P+s,i.modifiedStart=M+s,i.originalLength=b-i.originalStart,i.modifiedLength=C-i.modifiedStart)}}}return g}_findBetterContiguousSequence(g,a,l,d,i){if(a<i||d<i)return null;const s=g+a-i+1,m=l+d-i+1;let b=0,c=0,v=0;for(let C=g;C<s;C++)for(let S=l;S<m;S++){const N=this._contiguousSequenceScore(C,S,i);N>0&&N>b&&(b=N,c=C,v=S)}return b>0?[c,v]:null}_contiguousSequenceScore(g,a,l){let d=0;for(let i=0;i<l;i++){if(!this.ElementsAreEqual(g+i,a+i))return 0;d+=this._originalStringElements[g+i].length}return d}_OriginalIsBoundary(g){return g<=0||g>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[g])}_OriginalRegionIsBoundary(g,a){if(this._OriginalIsBoundary(g)||this._OriginalIsBoundary(g-1))return!0;if(a>0){const l=g+a;if(this._OriginalIsBoundary(l-1)||this._OriginalIsBoundary(l))return!0}return!1}_ModifiedIsBoundary(g){return g<=0||g>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[g])}_ModifiedRegionIsBoundary(g,a){if(this._ModifiedIsBoundary(g)||this._ModifiedIsBoundary(g-1))return!0;if(a>0){const l=g+a;if(this._ModifiedIsBoundary(l-1)||this._ModifiedIsBoundary(l))return!0}return!1}_boundaryScore(g,a,l,d){const i=this._OriginalRegionIsBoundary(g,a)?1:0,s=this._ModifiedRegionIsBoundary(l,d)?1:0;return i+s}ConcatenateChanges(g,a){const l=[];if(g.length===0||a.length===0)return a.length>0?a:g;if(this.ChangesOverlap(g[g.length-1],a[0],l)){const d=new Array(g.length+a.length-1);return V.Copy(g,0,d,0,g.length-1),d[g.length-1]=l[0],V.Copy(a,1,d,g.length,a.length-1),d}else{const d=new Array(g.length+a.length);return V.Copy(g,0,d,0,g.length),V.Copy(a,0,d,g.length,a.length),d}}ChangesOverlap(g,a,l){if(p.Assert(g.originalStart<=a.originalStart,"Left change is not less than or equal to right change"),p.Assert(g.modifiedStart<=a.modifiedStart,"Left change is not less than or equal to right change"),g.originalStart+g.originalLength>=a.originalStart||g.modifiedStart+g.modifiedLength>=a.modifiedStart){const d=g.originalStart;let i=g.originalLength;const s=g.modifiedStart;let m=g.modifiedLength;return g.originalStart+g.originalLength>=a.originalStart&&(i=a.originalStart+a.originalLength-g.originalStart),g.modifiedStart+g.modifiedLength>=a.modifiedStart&&(m=a.modifiedStart+a.modifiedLength-g.modifiedStart),l[0]=new f(d,i,s,m),!0}else return l[0]=null,!1}ClipDiagonalBound(g,a,l,d){if(g>=0&&g<d)return g;const i=l,s=d-l-1,m=a%2===0;if(g<0){const b=i%2===0;return m===b?0:1}else{const b=s%2===0;return m===b?d-1:d-2}}}},20996:function(Rt,Be,t){"use strict";t.d(Be,{B8:function(){return l},Cp:function(){return _},F0:function(){return E},FU:function(){return L},L6:function(){return a},b1:function(){return g},dL:function(){return u},he:function(){return i},n2:function(){return I},ri:function(){return p}});class f{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(m){setTimeout(()=>{throw m.stack?d.isErrorNoTelemetry(m)?new d(m.message+`

`+m.stack):new Error(m.message+`

`+m.stack):m},0)}}emit(m){this.listeners.forEach(b=>{b(m)})}onUnexpectedError(m){this.unexpectedErrorHandler(m),this.emit(m)}onUnexpectedExternalError(m){this.unexpectedErrorHandler(m)}}const O=new f;function u(s){I(s)||O.onUnexpectedError(s)}function _(s){I(s)||O.onUnexpectedExternalError(s)}function p(s){if(s instanceof Error){const{name:m,message:b}=s,c=s.stacktrace||s.stack;return{$isError:!0,name:m,message:b,stack:c,noTelemetry:d.isErrorNoTelemetry(s)}}return s}const V="Canceled";function I(s){return s instanceof L?!0:s instanceof Error&&s.name===V&&s.message===V}class L extends Error{constructor(){super(V),this.name=this.message}}function E(){const s=new Error(V);return s.name=s.message,s}function g(s){return s?new Error(`Illegal argument: ${s}`):new Error("Illegal argument")}function a(s){return s?new Error(`Illegal state: ${s}`):new Error("Illegal state")}class l extends Error{constructor(m){super("NotSupported"),m&&(this.message=m)}}class d extends Error{constructor(m){super(m),this.name="CodeExpectedError"}static fromError(m){if(m instanceof d)return m;const b=new d;return b.message=m.message,b.stack=m.stack,b}static isErrorNoTelemetry(m){return m.name==="CodeExpectedError"}}class i extends Error{constructor(m){super(m||"An unexpected bug occurred."),Object.setPrototypeOf(this,i.prototype)}}},56709:function(Rt,Be,t){"use strict";t.d(Be,{D0:function(){return v},E7:function(){return N},F3:function(){return s},K3:function(){return c},Q5:function(){return i},SZ:function(){return C},ZD:function(){return P},ju:function(){return L},z5:function(){return S}});var f=t(20996),O=t(89717),u=t(38431),_=t(17979),p=t(69344);const V=!1,I=!1;var L;(function(M){M.None=()=>u.JT.None;function D(Ve){if(I){const{onDidAddListener:se}=Ve,q=l.create();let Ee=0;Ve.onDidAddListener=()=>{++Ee===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),q.print()),se==null||se()}}}function F(Ve,se){return j(Ve,()=>{},0,void 0,!0,void 0,se)}M.defer=F;function B(Ve){return(se,q=null,Ee)=>{let Se=!1,we;return we=Ve(ve=>{if(!Se)return we?we.dispose():Se=!0,se.call(q,ve)},null,Ee),Se&&we.dispose(),we}}M.once=B;function U(Ve,se,q){return Y((Ee,Se=null,we)=>Ve(ve=>Ee.call(Se,se(ve)),null,we),q)}M.map=U;function A(Ve,se,q){return Y((Ee,Se=null,we)=>Ve(ve=>{se(ve),Ee.call(Se,ve)},null,we),q)}M.forEach=A;function k(Ve,se,q){return Y((Ee,Se=null,we)=>Ve(ve=>se(ve)&&Ee.call(Se,ve),null,we),q)}M.filter=k;function R(Ve){return Ve}M.signal=R;function $(...Ve){return(se,q=null,Ee)=>(0,u.F8)(...Ve.map(Se=>Se(we=>se.call(q,we),null,Ee)))}M.any=$;function J(Ve,se,q,Ee){let Se=q;return U(Ve,we=>(Se=se(Se,we),Se),Ee)}M.reduce=J;function Y(Ve,se){let q;const Ee={onWillAddFirstListener(){q=Ve(Se.fire,Se)},onDidRemoveLastListener(){q==null||q.dispose()}};se||D(Ee);const Se=new i(Ee);return se==null||se.add(Se),Se.event}function j(Ve,se,q=100,Ee=!1,Se=!1,we,ve){let Ne,$e,Ke,ze=0,He;const Le={leakWarningThreshold:we,onWillAddFirstListener(){Ne=Ve(ee=>{ze++,$e=se($e,ee),Ee&&!Ke&&(de.fire($e),$e=void 0),He=()=>{const ne=$e;$e=void 0,Ke=void 0,(!Ee||ze>1)&&de.fire(ne),ze=0},typeof q=="number"?(clearTimeout(Ke),Ke=setTimeout(He,q)):Ke===void 0&&(Ke=0,queueMicrotask(He))})},onWillRemoveListener(){Se&&ze>0&&(He==null||He())},onDidRemoveLastListener(){He=void 0,Ne.dispose()}};ve||D(Le);const de=new i(Le);return ve==null||ve.add(de),de.event}M.debounce=j;function z(Ve,se=0,q){return M.debounce(Ve,(Ee,Se)=>Ee?(Ee.push(Se),Ee):[Se],se,void 0,!0,void 0,q)}M.accumulate=z;function K(Ve,se=(Ee,Se)=>Ee===Se,q){let Ee=!0,Se;return k(Ve,we=>{const ve=Ee||!se(we,Se);return Ee=!1,Se=we,ve},q)}M.latch=K;function Z(Ve,se,q){return[M.filter(Ve,se,q),M.filter(Ve,Ee=>!se(Ee),q)]}M.split=Z;function fe(Ve,se=!1,q=[]){let Ee=q.slice(),Se=Ve(Ne=>{Ee?Ee.push(Ne):ve.fire(Ne)});const we=()=>{Ee==null||Ee.forEach(Ne=>ve.fire(Ne)),Ee=null},ve=new i({onWillAddFirstListener(){Se||(Se=Ve(Ne=>ve.fire(Ne)))},onDidAddFirstListener(){Ee&&(se?setTimeout(we):we())},onDidRemoveLastListener(){Se&&Se.dispose(),Se=null}});return ve.event}M.buffer=fe;class T{constructor(se){this.event=se,this.disposables=new u.SL}map(se){return new T(U(this.event,se,this.disposables))}forEach(se){return new T(A(this.event,se,this.disposables))}filter(se){return new T(k(this.event,se,this.disposables))}reduce(se,q){return new T(J(this.event,se,q,this.disposables))}latch(){return new T(K(this.event,void 0,this.disposables))}debounce(se,q=100,Ee=!1,Se=!1,we){return new T(j(this.event,se,q,Ee,Se,we,this.disposables))}on(se,q,Ee){return this.event(se,q,Ee)}once(se,q,Ee){return B(this.event)(se,q,Ee)}dispose(){this.disposables.dispose()}}function Re(Ve){return new T(Ve)}M.chain=Re;function Ce(Ve,se,q=Ee=>Ee){const Ee=(...Ne)=>ve.fire(q(...Ne)),Se=()=>Ve.on(se,Ee),we=()=>Ve.removeListener(se,Ee),ve=new i({onWillAddFirstListener:Se,onDidRemoveLastListener:we});return ve.event}M.fromNodeEventEmitter=Ce;function _e(Ve,se,q=Ee=>Ee){const Ee=(...Ne)=>ve.fire(q(...Ne)),Se=()=>Ve.addEventListener(se,Ee),we=()=>Ve.removeEventListener(se,Ee),ve=new i({onWillAddFirstListener:Se,onDidRemoveLastListener:we});return ve.event}M.fromDOMEventEmitter=_e;function pe(Ve){return new Promise(se=>B(Ve)(se))}M.toPromise=pe;function le(Ve,se){return se(void 0),Ve(q=>se(q))}M.runAndSubscribe=le;function oe(Ve,se){let q=null;function Ee(we){q==null||q.dispose(),q=new u.SL,se(we,q)}Ee(void 0);const Se=Ve(we=>Ee(we));return(0,u.OF)(()=>{Se.dispose(),q==null||q.dispose()})}M.runAndSubscribeWithStore=oe;class he{constructor(se,q){this._observable=se,this._counter=0,this._hasChanged=!1;const Ee={onWillAddFirstListener:()=>{se.addObserver(this)},onDidRemoveLastListener:()=>{se.removeObserver(this)}};q||D(Ee),this.emitter=new i(Ee),q&&q.add(this.emitter)}beginUpdate(se){this._counter++}handlePossibleChange(se){}handleChange(se,q){this._hasChanged=!0}endUpdate(se){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function je(Ve,se){return new he(Ve,se).emitter.event}M.fromObservable=je;function Xe(Ve){return se=>{let q=0,Ee=!1;const Se={beginUpdate(){q++},endUpdate(){q--,q===0&&(Ve.reportChanges(),Ee&&(Ee=!1,se()))},handlePossibleChange(){},handleChange(){Ee=!0}};return Ve.addObserver(Se),{dispose(){Ve.removeObserver(Se)}}}}M.fromObservableLight=Xe})(L||(L={}));class E{constructor(D){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${D}_${E._idPool++}`,E.all.add(this)}start(D){this._stopWatch=new p.G(!0),this.listenerCount=D}stop(){if(this._stopWatch){const D=this._stopWatch.elapsed();this.durations.push(D),this.elapsedOverall+=D,this.invocationCount+=1,this._stopWatch=void 0}}}E.all=new Set,E._idPool=0;let g=-1;class a{constructor(D,F=Math.random().toString(18).slice(2,5)){this.threshold=D,this.name=F,this._warnCountdown=0}dispose(){var D;(D=this._stacks)===null||D===void 0||D.clear()}check(D,F){const B=this.threshold;if(B<=0||F<B)return;this._stacks||(this._stacks=new Map);const U=this._stacks.get(D.value)||0;if(this._stacks.set(D.value,U+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=B*.5;let A,k=0;for(const[R,$]of this._stacks)(!A||k<$)&&(A=R,k=$);console.warn(`[${this.name}] potential listener LEAK detected, having ${F} listeners already. MOST frequent listener (${k}):`),console.warn(A)}return()=>{const A=this._stacks.get(D.value)||0;this._stacks.set(D.value,A-1)}}}class l{static create(){var D;return new l((D=new Error().stack)!==null&&D!==void 0?D:"")}constructor(D){this.value=D}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class d{constructor(D,F,B){this.callback=D,this.callbackThis=F,this.stack=B,this.subscription=new u.dt}invoke(D){this.callback.call(this.callbackThis,D)}}class i{constructor(D){var F,B,U,A,k;this._disposed=!1,this._options=D,this._leakageMon=g>0||!((F=this._options)===null||F===void 0)&&F.leakWarningThreshold?new a((U=(B=this._options)===null||B===void 0?void 0:B.leakWarningThreshold)!==null&&U!==void 0?U:g):void 0,this._perfMon=!((A=this._options)===null||A===void 0)&&A._profName?new E(this._options._profName):void 0,this._deliveryQueue=(k=this._options)===null||k===void 0?void 0:k.deliveryQueue}dispose(){var D,F,B,U;if(!this._disposed){if(this._disposed=!0,this._listeners){if(V){const A=Array.from(this._listeners);queueMicrotask(()=>{var k;for(const R of A)R.subscription.isset()&&(R.subscription.unset(),(k=R.stack)===null||k===void 0||k.print())})}this._listeners.clear()}(D=this._deliveryQueue)===null||D===void 0||D.clear(this),(B=(F=this._options)===null||F===void 0?void 0:F.onDidRemoveLastListener)===null||B===void 0||B.call(F),(U=this._leakageMon)===null||U===void 0||U.dispose()}}get event(){return this._event||(this._event=(D,F,B)=>{var U,A,k;if(this._listeners||(this._listeners=new _.S),this._leakageMon&&this._listeners.size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),u.JT.None;const R=this._listeners.isEmpty();R&&(!((U=this._options)===null||U===void 0)&&U.onWillAddFirstListener)&&this._options.onWillAddFirstListener(this);let $,J;this._leakageMon&&this._listeners.size>=Math.ceil(this._leakageMon.threshold*.2)&&(J=l.create(),$=this._leakageMon.check(J,this._listeners.size+1)),V&&(J=J!=null?J:l.create());const Y=new d(D,F,J),j=this._listeners.push(Y);R&&(!((A=this._options)===null||A===void 0)&&A.onDidAddFirstListener)&&this._options.onDidAddFirstListener(this),!((k=this._options)===null||k===void 0)&&k.onDidAddListener&&this._options.onDidAddListener(this,D,F);const z=Y.subscription.set(()=>{var K,Z;$==null||$(),this._disposed||((Z=(K=this._options)===null||K===void 0?void 0:K.onWillRemoveListener)===null||Z===void 0||Z.call(K,this),j(),this._options&&this._options.onDidRemoveLastListener&&(this._listeners&&!this._listeners.isEmpty()||this._options.onDidRemoveLastListener(this)))});return B instanceof u.SL?B.add(z):Array.isArray(B)&&B.push(z),z}),this._event}fire(D){var F,B,U;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new m((F=this._options)===null||F===void 0?void 0:F.onListenerError));for(const A of this._listeners)this._deliveryQueue.push(this,A,D);(B=this._perfMon)===null||B===void 0||B.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(U=this._perfMon)===null||U===void 0||U.stop()}}hasListeners(){return this._listeners?!this._listeners.isEmpty():!1}}class s{constructor(D=f.dL){this._onListenerError=D,this._queue=new _.S}get size(){return this._queue.size}push(D,F,B){this._queue.push(new b(D,F,B))}clear(D){const F=new _.S;for(const B of this._queue)B.emitter!==D&&F.push(B);this._queue=F}deliver(){for(;this._queue.size>0;){const D=this._queue.shift();try{D.listener.invoke(D.event)}catch(F){this._onListenerError(F)}}}}class m extends s{clear(D){this._queue.clear()}}class b{constructor(D,F,B){this.emitter=D,this.listener=F,this.event=B}}class c extends i{constructor(D){super(D),this._isPaused=0,this._eventQueue=new _.S,this._mergeFn=D==null?void 0:D.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const D=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(D))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(D){this._listeners&&(this._isPaused!==0?this._eventQueue.push(D):super.fire(D))}}class v extends c{constructor(D){var F;super(D),this._delay=(F=D.delay)!==null&&F!==void 0?F:100}fire(D){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(D)}}class C extends i{constructor(D){super(D),this._queuedEvents=[],this._mergeFn=D==null?void 0:D.merge}fire(D){this.hasListeners()&&(this._queuedEvents.push(D),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(F=>super.fire(F)),this._queuedEvents=[]}))}}class S{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new i({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(D){const F={event:D,listener:null};this.events.push(F),this.hasListeners&&this.hook(F);const B=()=>{this.hasListeners&&this.unhook(F);const U=this.events.indexOf(F);this.events.splice(U,1)};return(0,u.OF)((0,O.I)(B))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(D=>this.hook(D))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(D=>this.unhook(D))}hook(D){D.listener=D.event(F=>this.emitter.fire(F))}unhook(D){D.listener&&D.listener.dispose(),D.listener=null}dispose(){this.emitter.dispose()}}class N{constructor(){this.buffers=[]}wrapEvent(D){return(F,B,U)=>D(A=>{const k=this.buffers[this.buffers.length-1];k?k.push(()=>F.call(B,A)):F.call(B,A)},void 0,U)}bufferEvents(D){const F=[];this.buffers.push(F);const B=D();return this.buffers.pop(),F.forEach(U=>U()),B}}class P{constructor(){this.listening=!1,this.inputEvent=L.None,this.inputEventListener=u.JT.None,this.emitter=new i({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(D){this.inputEvent=D,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=D(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},7128:function(Rt,Be,t){"use strict";t.d(Be,{KM:function(){return L},ej:function(){return p},fn:function(){return V},oP:function(){return g},yj:function(){return I}});var f=t(75296),O=t(11138),u=t(17416);function _(a){return a===47||a===92}function p(a){return a.replace(/[\\/]/g,f.KR.sep)}function V(a){return a.indexOf("/")===-1&&(a=p(a)),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a),a}function I(a,l=f.KR.sep){if(!a)return"";const d=a.length,i=a.charCodeAt(0);if(_(i)){if(_(a.charCodeAt(1))&&!_(a.charCodeAt(2))){let m=3;const b=m;for(;m<d&&!_(a.charCodeAt(m));m++);if(b!==m&&!_(a.charCodeAt(m+1))){for(m+=1;m<d;m++)if(_(a.charCodeAt(m)))return a.slice(0,m+1).replace(/[\\/]/g,l)}}return l}else if(E(i)&&a.charCodeAt(1)===58)return _(a.charCodeAt(2))?a.slice(0,2)+l:a.slice(0,2);let s=a.indexOf("://");if(s!==-1){for(s+=3;s<d;s++)if(_(a.charCodeAt(s)))return a.slice(0,s+1)}return""}function L(a,l,d,i=f.ir){if(a===l)return!0;if(!a||!l||l.length>a.length)return!1;if(d){if(!(0,u.ok)(a,l))return!1;if(l.length===a.length)return!0;let m=l.length;return l.charAt(l.length-1)===i&&m--,a.charAt(m)===i}return l.charAt(l.length-1)!==i&&(l+=i),a.indexOf(l)===0}function E(a){return a>=65&&a<=90||a>=97&&a<=122}function g(a,l=O.ED){return l?E(a.charCodeAt(0))&&a.charCodeAt(1)===58:!1}},4538:function(Rt,Be,t){"use strict";t.d(Be,{CL:function(){return Ve},EW:function(){return q},Ji:function(){return p},KZ:function(){return F},Oh:function(){return $},Sy:function(){return L},ir:function(){return I},jB:function(){return J},l7:function(){return we},mB:function(){return Y},mX:function(){return se},or:function(){return u}});var f=t(39832),O=t(17416);function u(...$e){return function(Ke,ze){for(let He=0,Le=$e.length;He<Le;He++){const de=$e[He](Ke,ze);if(de)return de}return null}}const _=V.bind(void 0,!1),p=V.bind(void 0,!0);function V($e,Ke,ze){if(!ze||ze.length<Ke.length)return null;let He;return $e?He=O.ok(ze,Ke):He=ze.indexOf(Ke)===0,He?Ke.length>0?[{start:0,end:Ke.length}]:[]:null}function I($e,Ke){const ze=Ke.toLowerCase().indexOf($e.toLowerCase());return ze===-1?null:[{start:ze,end:ze+$e.length}]}function L($e,Ke){return E($e.toLowerCase(),Ke.toLowerCase(),0,0)}function E($e,Ke,ze,He){if(ze===$e.length)return[];if(He===Ke.length)return null;if($e[ze]===Ke[He]){let Le=null;return(Le=E($e,Ke,ze+1,He+1))?c({start:He,end:He+1},Le):null}return E($e,Ke,ze,He+1)}function g($e){return 97<=$e&&$e<=122}function a($e){return 65<=$e&&$e<=90}function l($e){return 48<=$e&&$e<=57}function d($e){return $e===32||$e===9||$e===10||$e===13}const i=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($e=>i.add($e.charCodeAt(0)));function s($e){return d($e)||i.has($e)}function m($e,Ke){return $e===Ke||s($e)&&s(Ke)}function b($e){return g($e)||a($e)||l($e)}function c($e,Ke){return Ke.length===0?Ke=[$e]:$e.end===Ke[0].start?Ke[0].start=$e.start:Ke.unshift($e),Ke}function v($e,Ke){for(let ze=Ke;ze<$e.length;ze++){const He=$e.charCodeAt(ze);if(a(He)||l(He)||ze>0&&!b($e.charCodeAt(ze-1)))return ze}return $e.length}function C($e,Ke,ze,He){if(ze===$e.length)return[];if(He===Ke.length)return null;if($e[ze]!==Ke[He].toLowerCase())return null;{let Le=null,de=He+1;for(Le=C($e,Ke,ze+1,He+1);!Le&&(de=v(Ke,de))<Ke.length;)Le=C($e,Ke,ze+1,de),de++;return Le===null?null:c({start:He,end:He+1},Le)}}function S($e){let Ke=0,ze=0,He=0,Le=0,de=0;for(let Pe=0;Pe<$e.length;Pe++)de=$e.charCodeAt(Pe),a(de)&&Ke++,g(de)&&ze++,b(de)&&He++,l(de)&&Le++;const ee=Ke/$e.length,ne=ze/$e.length,me=He/$e.length,ue=Le/$e.length;return{upperPercent:ee,lowerPercent:ne,alphaPercent:me,numericPercent:ue}}function N($e){const{upperPercent:Ke,lowerPercent:ze}=$e;return ze===0&&Ke>.6}function P($e){const{upperPercent:Ke,lowerPercent:ze,alphaPercent:He,numericPercent:Le}=$e;return ze>.2&&Ke<.8&&He>.6&&Le<.2}function M($e){let Ke=0,ze=0,He=0,Le=0;for(let de=0;de<$e.length;de++)He=$e.charCodeAt(de),a(He)&&Ke++,g(He)&&ze++,d(He)&&Le++;return(Ke===0||ze===0)&&Le===0?$e.length<=30:Ke<=5}function D($e,Ke){if(!Ke||(Ke=Ke.trim(),Ke.length===0)||!M($e)||Ke.length>60)return null;const ze=S(Ke);if(!P(ze)){if(!N(ze))return null;Ke=Ke.toLowerCase()}let He=null,Le=0;for($e=$e.toLowerCase();Le<Ke.length&&(He=C($e,Ke,0,Le))===null;)Le=v(Ke,Le+1);return He}function F($e,Ke,ze=!1){if(!Ke||Ke.length===0)return null;let He=null,Le=0;for($e=$e.toLowerCase(),Ke=Ke.toLowerCase();Le<Ke.length&&(He=B($e,Ke,0,Le,ze))===null;)Le=U(Ke,Le+1);return He}function B($e,Ke,ze,He,Le){if(ze===$e.length)return[];if(He===Ke.length)return null;if(m($e.charCodeAt(ze),Ke.charCodeAt(He))){let de=null,ee=He+1;if(de=B($e,Ke,ze+1,He+1,Le),!Le)for(;!de&&(ee=U(Ke,ee))<Ke.length;)de=B($e,Ke,ze+1,ee,Le),ee++;return de?$e.charCodeAt(ze)!==Ke.charCodeAt(He)?de:c({start:He,end:He+1},de):null}else return null}function U($e,Ke){for(let ze=Ke;ze<$e.length;ze++)if(s($e.charCodeAt(ze))||ze>0&&s($e.charCodeAt(ze-1)))return ze;return $e.length}const A=u(p,D,I),k=u(p,D,L),R=new f.z6(1e4);function $($e,Ke,ze=!1){if(typeof $e!="string"||typeof Ke!="string")return null;let He=R.get($e);He||(He=new RegExp(O.un($e),"i"),R.set($e,He));const Le=He.exec(Ke);return Le?[{start:Le.index,end:Le.index+Le[0].length}]:ze?k($e,Ke):A($e,Ke)}function J($e,Ke,ze,He,Le,de){const ee=Math.min(13,$e.length);for(;ze<ee;ze++){const ne=q($e,Ke,ze,He,Le,de,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ne)return ne}return[0,de]}function Y($e){if(typeof $e=="undefined")return[];const Ke=[],ze=$e[1];for(let He=$e.length-1;He>1;He--){const Le=$e[He]+ze,de=Ke[Ke.length-1];de&&de.end===Le?de.end=Le+1:Ke.push({start:Le,end:Le+1})}return Ke}const j=128;function z(){const $e=[],Ke=[];for(let ze=0;ze<=j;ze++)Ke[ze]=0;for(let ze=0;ze<=j;ze++)$e.push(Ke.slice(0));return $e}function K($e){const Ke=[];for(let ze=0;ze<=$e;ze++)Ke[ze]=0;return Ke}const Z=K(2*j),fe=K(2*j),T=z(),Re=z(),Ce=z(),_e=!1;function pe($e,Ke,ze,He,Le){function de(ne,me,ue=" "){for(;ne.length<me;)ne=ue+ne;return ne}let ee=` |   |${He.split("").map(ne=>de(ne,3)).join("|")}
`;for(let ne=0;ne<=ze;ne++)ne===0?ee+=" |":ee+=`${Ke[ne-1]}|`,ee+=$e[ne].slice(0,Le+1).map(me=>de(me.toString(),3)).join("|")+`
`;return ee}function le($e,Ke,ze,He){$e=$e.substr(Ke),ze=ze.substr(He),console.log(pe(Re,$e,$e.length,ze,ze.length)),console.log(pe(Ce,$e,$e.length,ze,ze.length)),console.log(pe(T,$e,$e.length,ze,ze.length))}function oe($e,Ke){if(Ke<0||Ke>=$e.length)return!1;const ze=$e.codePointAt(Ke);switch(ze){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!O.C8(ze)}}function he($e,Ke){if(Ke<0||Ke>=$e.length)return!1;switch($e.charCodeAt(Ke)){case 32:case 9:return!0;default:return!1}}function je($e,Ke,ze){return Ke[$e]!==ze[$e]}function Xe($e,Ke,ze,He,Le,de,ee=!1){for(;Ke<ze&&Le<de;)$e[Ke]===He[Le]&&(ee&&(Z[Ke]=Le),Ke+=1),Le+=1;return Ke===ze}var Ve;(function($e){$e.Default=[-100,0];function Ke(ze){return!ze||ze.length===2&&ze[0]===-100&&ze[1]===0}$e.isDefault=Ke})(Ve||(Ve={}));class se{constructor(Ke,ze){this.firstMatchCanBeWeak=Ke,this.boostFullMatch=ze}}se.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function q($e,Ke,ze,He,Le,de,ee=se.default){const ne=$e.length>j?j:$e.length,me=He.length>j?j:He.length;if(ze>=ne||de>=me||ne-ze>me-de||!Xe(Ke,ze,ne,Le,de,me,!0))return;Ee(ne,me,ze,de,Ke,Le);let ue=1,Pe=1,ot=ze,gt=de;const nt=[!1];for(ue=1,ot=ze;ot<ne;ue++,ot++){const Vt=Z[ot],Ct=fe[ot],gi=ot+1<ne?fe[ot+1]:me;for(Pe=Vt-de+1,gt=Vt;gt<gi;Pe++,gt++){let jt=Number.MIN_SAFE_INTEGER,Ye=!1;gt<=Ct&&(jt=Se($e,Ke,ot,ze,He,Le,gt,me,de,T[ue-1][Pe-1]===0,nt));let ut=0;jt!==Number.MAX_SAFE_INTEGER&&(Ye=!0,ut=jt+Re[ue-1][Pe-1]);const dt=gt>Vt,bt=dt?Re[ue][Pe-1]+(T[ue][Pe-1]>0?-5:0):0,Mt=gt>Vt+1&&T[ue][Pe-1]>0,ni=Mt?Re[ue][Pe-2]+(T[ue][Pe-2]>0?-5:0):0;if(Mt&&(!dt||ni>=bt)&&(!Ye||ni>=ut))Re[ue][Pe]=ni,Ce[ue][Pe]=3,T[ue][Pe]=0;else if(dt&&(!Ye||bt>=ut))Re[ue][Pe]=bt,Ce[ue][Pe]=2,T[ue][Pe]=0;else if(Ye)Re[ue][Pe]=ut,Ce[ue][Pe]=1,T[ue][Pe]=T[ue-1][Pe-1]+1;else throw new Error("not possible")}}if(_e&&le($e,ze,He,de),!nt[0]&&!ee.firstMatchCanBeWeak)return;ue--,Pe--;const tt=[Re[ue][Pe],de];let st=0,It=0;for(;ue>=1;){let Vt=Pe;do{const Ct=Ce[ue][Vt];if(Ct===3)Vt=Vt-2;else if(Ct===2)Vt=Vt-1;else break}while(Vt>=1);st>1&&Ke[ze+ue-1]===Le[de+Pe-1]&&!je(Vt+de-1,He,Le)&&st+1>T[ue][Vt]&&(Vt=Pe),Vt===Pe?st++:st=1,It||(It=Vt),ue--,Pe=Vt-1,tt.push(Pe)}me===ne&&ee.boostFullMatch&&(tt[0]+=2);const Wt=It-ne;return tt[0]-=Wt,tt}function Ee($e,Ke,ze,He,Le,de){let ee=$e-1,ne=Ke-1;for(;ee>=ze&&ne>=He;)Le[ee]===de[ne]&&(fe[ee]=ne,ee--),ne--}function Se($e,Ke,ze,He,Le,de,ee,ne,me,ue,Pe){if(Ke[ze]!==de[ee])return Number.MIN_SAFE_INTEGER;let ot=1,gt=!1;return ee===ze-He?ot=$e[ze]===Le[ee]?7:5:je(ee,Le,de)&&(ee===0||!je(ee-1,Le,de))?(ot=$e[ze]===Le[ee]?7:5,gt=!0):oe(de,ee)&&(ee===0||!oe(de,ee-1))?ot=5:(oe(de,ee-1)||he(de,ee-1))&&(ot=5,gt=!0),ot>1&&ze===He&&(Pe[0]=!0),gt||(gt=je(ee,Le,de)||oe(de,ee-1)||he(de,ee-1)),ze===He?ee>me&&(ot-=gt?3:5):ue?ot+=gt?2:0:ot+=gt?0:1,ee+1===ne&&(ot-=gt?3:5),ot}function we($e,Ke,ze,He,Le,de,ee){return ve($e,Ke,ze,He,Le,de,!0,ee)}function ve($e,Ke,ze,He,Le,de,ee,ne){let me=q($e,Ke,ze,He,Le,de,ne);if(me&&!ee)return me;if($e.length>=3){const ue=Math.min(7,$e.length-1);for(let Pe=ze+1;Pe<ue;Pe++){const ot=Ne($e,Pe);if(ot){const gt=q(ot,ot.toLowerCase(),ze,He,Le,de,ne);gt&&(gt[0]-=3,(!me||gt[0]>me[0])&&(me=gt))}}}return me}function Ne($e,Ke){if(Ke+1>=$e.length)return;const ze=$e[Ke],He=$e[Ke+1];if(ze!==He)return $e.slice(0,Ke)+He+ze+$e.slice(Ke+2)}},89717:function(Rt,Be,t){"use strict";t.d(Be,{I:function(){return f}});function f(O){const u=this;let _=!1,p;return function(){return _||(_=!0,p=O.apply(u,arguments)),p}}},32916:function(Rt,Be,t){"use strict";t.d(Be,{Cv:function(){return V},SP:function(){return u},vp:function(){return O},yP:function(){return d}});var f=t(17416);function O(i){return u(i,0)}function u(i,s){switch(typeof i){case"object":return i===null?_(349,s):Array.isArray(i)?I(i,s):L(i,s);case"string":return V(i,s);case"boolean":return p(i,s);case"number":return _(i,s);case"undefined":return _(937,s);default:return _(617,s)}}function _(i,s){return(s<<5)-s+i|0}function p(i,s){return _(i?433:863,s)}function V(i,s){s=_(149417,s);for(let m=0,b=i.length;m<b;m++)s=_(i.charCodeAt(m),s);return s}function I(i,s){return s=_(104579,s),i.reduce((m,b)=>u(b,m),s)}function L(i,s){return s=_(181387,s),Object.keys(i).sort().reduce((m,b)=>(m=V(b,m),u(i[b],m)),s)}function E(i,s,m=32){const b=m-s,c=~((1<<b)-1);return(i<<s|(c&i)>>>b)>>>0}function g(i,s=0,m=i.byteLength,b=0){for(let c=0;c<m;c++)i[s+c]=b}function a(i,s,m="0"){for(;i.length<s;)i=m+i;return i}function l(i,s=32){return i instanceof ArrayBuffer?Array.from(new Uint8Array(i)).map(m=>m.toString(16).padStart(2,"0")).join(""):a((i>>>0).toString(16),s/4)}class d{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(s){const m=s.length;if(m===0)return;const b=this._buff;let c=this._buffLen,v=this._leftoverHighSurrogate,C,S;for(v!==0?(C=v,S=-1,v=0):(C=s.charCodeAt(0),S=0);;){let N=C;if(f.ZG(C))if(S+1<m){const P=s.charCodeAt(S+1);f.YK(P)?(S++,N=f.rL(C,P)):N=65533}else{v=C;break}else f.YK(C)&&(N=65533);if(c=this._push(b,c,N),S++,S<m)C=s.charCodeAt(S);else break}this._buffLen=c,this._leftoverHighSurrogate=v}_push(s,m,b){return b<128?s[m++]=b:b<2048?(s[m++]=192|(b&1984)>>>6,s[m++]=128|(b&63)>>>0):b<65536?(s[m++]=224|(b&61440)>>>12,s[m++]=128|(b&4032)>>>6,s[m++]=128|(b&63)>>>0):(s[m++]=240|(b&1835008)>>>18,s[m++]=128|(b&258048)>>>12,s[m++]=128|(b&4032)>>>6,s[m++]=128|(b&63)>>>0),m>=64&&(this._step(),m-=64,this._totalLen+=64,s[0]=s[64+0],s[1]=s[64+1],s[2]=s[64+2]),m}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),l(this._h0)+l(this._h1)+l(this._h2)+l(this._h3)+l(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,g(this._buff,this._buffLen),this._buffLen>56&&(this._step(),g(this._buff));const s=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(s/4294967296),!1),this._buffDV.setUint32(60,s%4294967296,!1),this._step()}_step(){const s=d._bigBlock32,m=this._buffDV;for(let D=0;D<64;D+=4)s.setUint32(D,m.getUint32(D,!1),!1);for(let D=64;D<320;D+=4)s.setUint32(D,E(s.getUint32(D-12,!1)^s.getUint32(D-32,!1)^s.getUint32(D-56,!1)^s.getUint32(D-64,!1),1),!1);let b=this._h0,c=this._h1,v=this._h2,C=this._h3,S=this._h4,N,P,M;for(let D=0;D<80;D++)D<20?(N=c&v|~c&C,P=1518500249):D<40?(N=c^v^C,P=1859775393):D<60?(N=c&v|c&C|v&C,P=2400959708):(N=c^v^C,P=3395469782),M=E(b,5)+N+S+P+s.getUint32(D*4,!1)&4294967295,S=C,C=v,v=E(c,30),c=b,b=M;this._h0=this._h0+b&4294967295,this._h1=this._h1+c&4294967295,this._h2=this._h2+v&4294967295,this._h3=this._h3+C&4294967295,this._h4=this._h4+S&4294967295}}d._bigBlock32=new DataView(new ArrayBuffer(320))},69008:function(Rt,Be,t){"use strict";t.d(Be,{CP:function(){return I},Fr:function(){return L},W5:function(){return V},d9:function(){return a},g_:function(){return E},oR:function(){return l},v1:function(){return d}});var f=t(20996),O=t(5858),u=t(6227),_=t(17416),p=t(28919);class V{constructor(s="",m=!1){var b,c,v;if(this.value=s,typeof this.value!="string")throw(0,f.b1)("value");typeof m=="boolean"?(this.isTrusted=m,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(b=m.isTrusted)!==null&&b!==void 0?b:void 0,this.supportThemeIcons=(c=m.supportThemeIcons)!==null&&c!==void 0?c:!1,this.supportHtml=(v=m.supportHtml)!==null&&v!==void 0?v:!1)}appendText(s,m=0){return this.value+=g(this.supportThemeIcons?(0,O.Qo)(s):s).replace(/([ \t]+)/g,(b,c)=>"&nbsp;".repeat(c.length)).replace(/\>/gm,"\\>").replace(/\n/g,m===1?`\\
`:`

`),this}appendMarkdown(s){return this.value+=s,this}appendCodeblock(s,m){return this.value+="\n```",this.value+=s,this.value+=`
`,this.value+=m,this.value+="\n```\n",this}appendLink(s,m,b){return this.value+="[",this.value+=this._escape(m,"]"),this.value+="](",this.value+=this._escape(String(s),")"),b&&(this.value+=` "${this._escape(this._escape(b,'"'),")")}"`),this.value+=")",this}_escape(s,m){const b=new RegExp((0,_.ec)(m),"g");return s.replace(b,(c,v)=>s.charAt(v-1)!=="\\"?`\\${c}`:c)}}function I(i){return L(i)?!i.value:Array.isArray(i)?i.every(I):!0}function L(i){return i instanceof V?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||typeof i.isTrusted=="object"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}function E(i,s){return i===s?!0:!i||!s?!1:i.value===s.value&&i.isTrusted===s.isTrusted&&i.supportThemeIcons===s.supportThemeIcons&&i.supportHtml===s.supportHtml&&(i.baseUri===s.baseUri||!!i.baseUri&&!!s.baseUri&&(0,u.Xy)(p.o.from(i.baseUri),p.o.from(s.baseUri)))}function g(i){return i.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function a(i){return i.replace(/"/g,"&quot;")}function l(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function d(i){const s=[],m=i.split("|").map(c=>c.trim());i=m[0];const b=m[1];if(b){const c=/height=(\d+)/.exec(b),v=/width=(\d+)/.exec(b),C=c?c[1]:"",S=v?v[1]:"",N=isFinite(parseInt(S)),P=isFinite(parseInt(C));N&&s.push(`width="${S}"`),P&&s.push(`height="${C}"`)}return{href:i,dimensions:s}}},5858:function(Rt,Be,t){"use strict";t.d(Be,{Gt:function(){return s},Ho:function(){return i},JL:function(){return l},Qo:function(){return I},f$:function(){return E},x$:function(){return a}});var f=t(4538),O=t(17416),u=t(8216);const _="$(",p=new RegExp(`\\$\\(${u.k.iconNameExpression}(?:${u.k.iconModifierExpression})?\\)`,"g"),V=new RegExp(`(\\\\)?${p.source}`,"g");function I(m){return m.replace(V,(b,c)=>c?b:`\\${b}`)}const L=new RegExp(`\\\\${p.source}`,"g");function E(m){return m.replace(L,b=>`\\${b}`)}const g=new RegExp(`(\\s)?(\\\\)?${p.source}(\\s)?`,"g");function a(m){return m.indexOf(_)===-1?m:m.replace(g,(b,c,v,C)=>v?b:c||C||"")}function l(m){return m?m.replace(/\$\((.*?)\)/g,(b,c)=>` ${c} `).trim():""}const d=new RegExp(`\\$\\(${u.k.iconNameCharacter}+\\)`,"g");function i(m){d.lastIndex=0;let b="";const c=[];let v=0;for(;;){const C=d.lastIndex,S=d.exec(m),N=m.substring(C,S==null?void 0:S.index);if(N.length>0){b+=N;for(let P=0;P<N.length;P++)c.push(v)}if(!S)break;v+=S[0].length}return{text:b,iconOffsets:c}}function s(m,b,c=!1){const{text:v,iconOffsets:C}=b;if(!C||C.length===0)return(0,f.Oh)(m,v,c);const S=(0,O.j3)(v," "),N=v.length-S.length,P=(0,f.Oh)(m,S,c);if(P)for(const M of P){const D=C[M.start+N]+N;M.start+=D,M.end+=D}return P}},6100:function(Rt,Be,t){"use strict";t.d(Be,{R:function(){return f},a:function(){return O}});class f{constructor(_){this._prefix=_,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const O=new f("id#")},35990:function(Rt,Be,t){"use strict";t.d(Be,{F:function(){return u}});var f=t(56709);class O{constructor(){this._onDidChange=new f.Q5,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const u=new O},97865:function(Rt,Be,t){"use strict";t.d(Be,{$:function(){return f}});var f;(function(O){function u(v){return v&&typeof v=="object"&&typeof v[Symbol.iterator]=="function"}O.is=u;const _=Object.freeze([]);function p(){return _}O.empty=p;function*V(v){yield v}O.single=V;function I(v){return u(v)?v:V(v)}O.wrap=I;function L(v){return v||_}O.from=L;function E(v){return!v||v[Symbol.iterator]().next().done===!0}O.isEmpty=E;function g(v){return v[Symbol.iterator]().next().value}O.first=g;function a(v,C){for(const S of v)if(C(S))return!0;return!1}O.some=a;function l(v,C){for(const S of v)if(C(S))return S}O.find=l;function*d(v,C){for(const S of v)C(S)&&(yield S)}O.filter=d;function*i(v,C){let S=0;for(const N of v)yield C(N,S++)}O.map=i;function*s(...v){for(const C of v)for(const S of C)yield S}O.concat=s;function m(v,C,S){let N=S;for(const P of v)N=C(N,P);return N}O.reduce=m;function*b(v,C,S=v.length){for(C<0&&(C+=v.length),S<0?S+=v.length:S>v.length&&(S=v.length);C<S;C++)yield v[C]}O.slice=b;function c(v,C=Number.POSITIVE_INFINITY){const S=[];if(C===0)return[S,v];const N=v[Symbol.iterator]();for(let P=0;P<C;P++){const M=N.next();if(M.done)return[S,O.empty()];S.push(M.value)}return[S,{[Symbol.iterator](){return N}}]}O.consume=c})(f||(f={}))},94880:function(Rt,Be,t){"use strict";t.d(Be,{H_:function(){return p},Vd:function(){return g},gx:function(){return d},kL:function(){return l}});class f{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(s,m){this._keyCodeToStr[s]=m,this._strToKeyCode[m.toLowerCase()]=s}keyCodeToStr(s){return this._keyCodeToStr[s]}strToKeyCode(s){return this._strToKeyCode[s.toLowerCase()]||0}}const O=new f,u=new f,_=new f,p=new Array(230),V={},I=[],L=Object.create(null),E=Object.create(null),g=[],a=[];for(let i=0;i<=193;i++)g[i]=-1;for(let i=0;i<=132;i++)a[i]=-1;(function(){const i="",s=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[1,1,"Hyper",0,i,0,i,i,i],[1,2,"Super",0,i,0,i,i,i],[1,3,"Fn",0,i,0,i,i,i],[1,4,"FnLock",0,i,0,i,i,i],[1,5,"Suspend",0,i,0,i,i,i],[1,6,"Resume",0,i,0,i,i,i],[1,7,"Turbo",0,i,0,i,i,i],[1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[1,9,"WakeUp",0,i,0,i,i,i],[0,10,"KeyA",31,"A",65,"VK_A",i,i],[0,11,"KeyB",32,"B",66,"VK_B",i,i],[0,12,"KeyC",33,"C",67,"VK_C",i,i],[0,13,"KeyD",34,"D",68,"VK_D",i,i],[0,14,"KeyE",35,"E",69,"VK_E",i,i],[0,15,"KeyF",36,"F",70,"VK_F",i,i],[0,16,"KeyG",37,"G",71,"VK_G",i,i],[0,17,"KeyH",38,"H",72,"VK_H",i,i],[0,18,"KeyI",39,"I",73,"VK_I",i,i],[0,19,"KeyJ",40,"J",74,"VK_J",i,i],[0,20,"KeyK",41,"K",75,"VK_K",i,i],[0,21,"KeyL",42,"L",76,"VK_L",i,i],[0,22,"KeyM",43,"M",77,"VK_M",i,i],[0,23,"KeyN",44,"N",78,"VK_N",i,i],[0,24,"KeyO",45,"O",79,"VK_O",i,i],[0,25,"KeyP",46,"P",80,"VK_P",i,i],[0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[0,27,"KeyR",48,"R",82,"VK_R",i,i],[0,28,"KeyS",49,"S",83,"VK_S",i,i],[0,29,"KeyT",50,"T",84,"VK_T",i,i],[0,30,"KeyU",51,"U",85,"VK_U",i,i],[0,31,"KeyV",52,"V",86,"VK_V",i,i],[0,32,"KeyW",53,"W",87,"VK_W",i,i],[0,33,"KeyX",54,"X",88,"VK_X",i,i],[0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[0,36,"Digit1",22,"1",49,"VK_1",i,i],[0,37,"Digit2",23,"2",50,"VK_2",i,i],[0,38,"Digit3",24,"3",51,"VK_3",i,i],[0,39,"Digit4",25,"4",52,"VK_4",i,i],[0,40,"Digit5",26,"5",53,"VK_5",i,i],[0,41,"Digit6",27,"6",54,"VK_6",i,i],[0,42,"Digit7",28,"7",55,"VK_7",i,i],[0,43,"Digit8",29,"8",56,"VK_8",i,i],[0,44,"Digit9",30,"9",57,"VK_9",i,i],[0,45,"Digit0",21,"0",48,"VK_0",i,i],[1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,i,0,i,i,i],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[1,64,"F1",59,"F1",112,"VK_F1",i,i],[1,65,"F2",60,"F2",113,"VK_F2",i,i],[1,66,"F3",61,"F3",114,"VK_F3",i,i],[1,67,"F4",62,"F4",115,"VK_F4",i,i],[1,68,"F5",63,"F5",116,"VK_F5",i,i],[1,69,"F6",64,"F6",117,"VK_F6",i,i],[1,70,"F7",65,"F7",118,"VK_F7",i,i],[1,71,"F8",66,"F8",119,"VK_F8",i,i],[1,72,"F9",67,"F9",120,"VK_F9",i,i],[1,73,"F10",68,"F10",121,"VK_F10",i,i],[1,74,"F11",69,"F11",122,"VK_F11",i,i],[1,75,"F12",70,"F12",123,"VK_F12",i,i],[1,76,"PrintScreen",0,i,0,i,i,i],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",i,i],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[1,80,"Home",14,"Home",36,"VK_HOME",i,i],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[1,83,"End",13,"End",35,"VK_END",i,i],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",i,i],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",i,i],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",i,i],[1,94,"NumpadEnter",3,i,0,i,i,i],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",i,i],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",i,i],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",i,i],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",i,i],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",i,i],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",i,i],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",i,i],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",i,i],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",i,i],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",i,i],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",i,i],[1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[1,108,"Power",0,i,0,i,i,i],[1,109,"NumpadEqual",0,i,0,i,i,i],[1,110,"F13",71,"F13",124,"VK_F13",i,i],[1,111,"F14",72,"F14",125,"VK_F14",i,i],[1,112,"F15",73,"F15",126,"VK_F15",i,i],[1,113,"F16",74,"F16",127,"VK_F16",i,i],[1,114,"F17",75,"F17",128,"VK_F17",i,i],[1,115,"F18",76,"F18",129,"VK_F18",i,i],[1,116,"F19",77,"F19",130,"VK_F19",i,i],[1,117,"F20",78,"F20",131,"VK_F20",i,i],[1,118,"F21",79,"F21",132,"VK_F21",i,i],[1,119,"F22",80,"F22",133,"VK_F22",i,i],[1,120,"F23",81,"F23",134,"VK_F23",i,i],[1,121,"F24",82,"F24",135,"VK_F24",i,i],[1,122,"Open",0,i,0,i,i,i],[1,123,"Help",0,i,0,i,i,i],[1,124,"Select",0,i,0,i,i,i],[1,125,"Again",0,i,0,i,i,i],[1,126,"Undo",0,i,0,i,i,i],[1,127,"Cut",0,i,0,i,i,i],[1,128,"Copy",0,i,0,i,i,i],[1,129,"Paste",0,i,0,i,i,i],[1,130,"Find",0,i,0,i,i,i],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",i,i],[1,136,"KanaMode",0,i,0,i,i,i],[0,137,"IntlYen",0,i,0,i,i,i],[1,138,"Convert",0,i,0,i,i,i],[1,139,"NonConvert",0,i,0,i,i,i],[1,140,"Lang1",0,i,0,i,i,i],[1,141,"Lang2",0,i,0,i,i,i],[1,142,"Lang3",0,i,0,i,i,i],[1,143,"Lang4",0,i,0,i,i,i],[1,144,"Lang5",0,i,0,i,i,i],[1,145,"Abort",0,i,0,i,i,i],[1,146,"Props",0,i,0,i,i,i],[1,147,"NumpadParenLeft",0,i,0,i,i,i],[1,148,"NumpadParenRight",0,i,0,i,i,i],[1,149,"NumpadBackspace",0,i,0,i,i,i],[1,150,"NumpadMemoryStore",0,i,0,i,i,i],[1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[1,152,"NumpadMemoryClear",0,i,0,i,i,i],[1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",i,i],[1,156,"NumpadClearEntry",0,i,0,i,i,i],[1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[1,0,i,6,"Alt",18,"VK_MENU",i,i],[1,0,i,57,"Meta",91,"VK_COMMAND",i,i],[1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[1,165,"BrightnessUp",0,i,0,i,i,i],[1,166,"BrightnessDown",0,i,0,i,i,i],[1,167,"MediaPlay",0,i,0,i,i,i],[1,168,"MediaRecord",0,i,0,i,i,i],[1,169,"MediaFastForward",0,i,0,i,i,i],[1,170,"MediaRewind",0,i,0,i,i,i],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",i,i],[1,174,"Eject",0,i,0,i,i,i],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[1,180,"SelectTask",0,i,0,i,i,i],[1,181,"LaunchScreenSaver",0,i,0,i,i,i],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[1,189,"ZoomToggle",0,i,0,i,i,i],[1,190,"MailReply",0,i,0,i,i,i],[1,191,"MailForward",0,i,0,i,i,i],[1,192,"MailSend",0,i,0,i,i,i],[1,0,i,114,"KeyInComposition",229,i,i,i],[1,0,i,116,"ABNT_C2",194,"VK_ABNT_C2",i,i],[1,0,i,96,"OEM_8",223,"VK_OEM_8",i,i],[1,0,i,0,i,0,"VK_KANA",i,i],[1,0,i,0,i,0,"VK_HANGUL",i,i],[1,0,i,0,i,0,"VK_JUNJA",i,i],[1,0,i,0,i,0,"VK_FINAL",i,i],[1,0,i,0,i,0,"VK_HANJA",i,i],[1,0,i,0,i,0,"VK_KANJI",i,i],[1,0,i,0,i,0,"VK_CONVERT",i,i],[1,0,i,0,i,0,"VK_NONCONVERT",i,i],[1,0,i,0,i,0,"VK_ACCEPT",i,i],[1,0,i,0,i,0,"VK_MODECHANGE",i,i],[1,0,i,0,i,0,"VK_SELECT",i,i],[1,0,i,0,i,0,"VK_PRINT",i,i],[1,0,i,0,i,0,"VK_EXECUTE",i,i],[1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[1,0,i,0,i,0,"VK_HELP",i,i],[1,0,i,0,i,0,"VK_APPS",i,i],[1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[1,0,i,0,i,0,"VK_PACKET",i,i],[1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[1,0,i,0,i,0,"VK_ATTN",i,i],[1,0,i,0,i,0,"VK_CRSEL",i,i],[1,0,i,0,i,0,"VK_EXSEL",i,i],[1,0,i,0,i,0,"VK_EREOF",i,i],[1,0,i,0,i,0,"VK_PLAY",i,i],[1,0,i,0,i,0,"VK_ZOOM",i,i],[1,0,i,0,i,0,"VK_NONAME",i,i],[1,0,i,0,i,0,"VK_PA1",i,i],[1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],m=[],b=[];for(const c of s){const[v,C,S,N,P,M,D,F,B]=c;if(b[C]||(b[C]=!0,I[C]=S,L[S]=C,E[S.toLowerCase()]=C,v&&(g[C]=N,N!==0&&N!==3&&N!==5&&N!==4&&N!==6&&N!==57&&(a[N]=C))),!m[N]){if(m[N]=!0,!P)throw new Error(`String representation missing for key code ${N} around scan code ${S}`);O.define(N,P),u.define(N,F||P),_.define(N,B||F||P)}M&&(p[M]=N),D&&(V[D]=N)}a[3]=46})();var l;(function(i){function s(S){return O.keyCodeToStr(S)}i.toString=s;function m(S){return O.strToKeyCode(S)}i.fromString=m;function b(S){return u.keyCodeToStr(S)}i.toUserSettingsUS=b;function c(S){return _.keyCodeToStr(S)}i.toUserSettingsGeneral=c;function v(S){return u.strToKeyCode(S)||_.strToKeyCode(S)}i.fromUserSettings=v;function C(S){if(S>=98&&S<=113)return null;switch(S){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return O.keyCodeToStr(S)}i.toElectronAccelerator=C})(l||(l={}));function d(i,s){const m=(s&65535)<<16>>>0;return(i|m)>>>0}},49553:function(Rt,Be,t){"use strict";t.d(Be,{X4:function(){return _},jC:function(){return p},r6:function(){return V},xo:function(){return u}});var f=t(26386);class O{constructor(E,g,a=g){this.modifierLabels=[null],this.modifierLabels[2]=E,this.modifierLabels[1]=g,this.modifierLabels[3]=a}toLabel(E,g,a){if(g.length===0)return null;const l=[];for(let d=0,i=g.length;d<i;d++){const s=g[d],m=a(s);if(m===null)return null;l[d]=I(s,m,this.modifierLabels[E])}return l.join(" ")}}const u=new O({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:f.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:f.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:f.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),_=new O({ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:f.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),p=new O({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),V=new O({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function I(L,E,g){if(E===null)return"";const a=[];return L.ctrlKey&&a.push(g.ctrlKey),L.shiftKey&&a.push(g.shiftKey),L.altKey&&a.push(g.altKey),L.metaKey&&a.push(g.metaKey),E!==""&&a.push(E),a.join(g.separator)}},21994:function(Rt,Be,t){"use strict";t.d(Be,{$M:function(){return _},Z9:function(){return O},aZ:function(){return I},f1:function(){return L}});var f=t(20996);function O(E,g){if(typeof E=="number"){if(E===0)return null;const a=(E&65535)>>>0,l=(E&4294901760)>>>16;return l!==0?new V([u(a,g),u(l,g)]):new V([u(a,g)])}else{const a=[];for(let l=0;l<E.length;l++)a.push(u(E[l],g));return new V(a)}}function u(E,g){const a=!!(E&2048),l=!!(E&256),d=g===2?l:a,i=!!(E&1024),s=!!(E&512),m=g===2?a:l,b=E&255;return new _(d,i,s,m,b)}class _{constructor(g,a,l,d,i){this.ctrlKey=g,this.shiftKey=a,this.altKey=l,this.metaKey=d,this.keyCode=i}equals(g){return g instanceof _&&this.ctrlKey===g.ctrlKey&&this.shiftKey===g.shiftKey&&this.altKey===g.altKey&&this.metaKey===g.metaKey&&this.keyCode===g.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class p{constructor(g,a,l,d,i){this.ctrlKey=g,this.shiftKey=a,this.altKey=l,this.metaKey=d,this.scanCode=i}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class V{constructor(g){if(g.length===0)throw(0,f.b1)("chords");this.chords=g}}class I{constructor(g,a,l,d,i,s){this.ctrlKey=g,this.shiftKey=a,this.altKey=l,this.metaKey=d,this.keyLabel=i,this.keyAriaLabel=s}}class L{}},51280:function(Rt,Be,t){"use strict";t.d(Be,{o:function(){return f}});class f{constructor(u){this.executor=u,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(u){this._error=u}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},38431:function(Rt,Be,t){"use strict";t.d(Be,{B9:function(){return l},F8:function(){return d},JT:function(){return m},Jz:function(){return C},L6:function(){return c},OF:function(){return i},SL:function(){return s},Wf:function(){return a},XK:function(){return b},b2:function(){return S},dk:function(){return g},dt:function(){return v}});var f=t(89717),O=t(97865);const u=!1;let _=null;function p(N){_=N}if(u){const N="__is_disposable_tracked__";p(new class{trackDisposable(P){const M=new Error("Potentially leaked disposable").stack;setTimeout(()=>{P[N]||console.log(M)},3e3)}setParent(P,M){if(P&&P!==m.None)try{P[N]=!0}catch(D){}}markAsDisposed(P){if(P&&P!==m.None)try{P[N]=!0}catch(M){}}markAsSingleton(P){}})}function V(N){return _==null||_.trackDisposable(N),N}function I(N){_==null||_.markAsDisposed(N)}function L(N,P){_==null||_.setParent(N,P)}function E(N,P){if(_)for(const M of N)_.setParent(M,P)}function g(N){return _==null||_.markAsSingleton(N),N}function a(N){return typeof N.dispose=="function"&&N.dispose.length===0}function l(N){if(O.$.is(N)){const P=[];for(const M of N)if(M)try{M.dispose()}catch(D){P.push(D)}if(P.length===1)throw P[0];if(P.length>1)throw new AggregateError(P,"Encountered errors while disposing of store");return Array.isArray(N)?[]:N}else if(N)return N.dispose(),N}function d(...N){const P=i(()=>l(N));return E(N,P),P}function i(N){const P=V({dispose:(0,f.I)(()=>{I(P),N()})});return P}class s{constructor(){this._toDispose=new Set,this._isDisposed=!1,V(this)}dispose(){this._isDisposed||(I(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{l(this._toDispose)}finally{this._toDispose.clear()}}add(P){if(!P)return P;if(P===this)throw new Error("Cannot register a disposable on itself!");return L(P,this),this._isDisposed?s.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(P),P}}s.DISABLE_DISPOSED_WARNING=!1;class m{constructor(){this._store=new s,V(this),L(this._store,this)}dispose(){I(this),this._store.dispose()}_register(P){if(P===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(P)}}m.None=Object.freeze({dispose(){}});class b{constructor(){this._isDisposed=!1,V(this)}get value(){return this._isDisposed?void 0:this._value}set value(P){var M;this._isDisposed||P===this._value||((M=this._value)===null||M===void 0||M.dispose(),P&&L(P,this),this._value=P)}clear(){this.value=void 0}dispose(){var P;this._isDisposed=!0,I(this),(P=this._value)===null||P===void 0||P.dispose(),this._value=void 0}}class c{constructor(P){this._disposable=P,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class v{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,V(this)}set(P){let M=P;return this.unset=()=>M=void 0,this.isset=()=>M!==void 0,this.dispose=()=>{M&&(M(),M=void 0,I(this))},this}}class C{constructor(P){this.object=P}dispose(){}}class S{constructor(){this._store=new Map,this._isDisposed=!1,V(this)}dispose(){I(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{l(this._store.values())}finally{this._store.clear()}}get(P){return this._store.get(P)}set(P,M,D=!1){var F;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),D||(F=this._store.get(P))===null||F===void 0||F.dispose(),this._store.set(P,M)}deleteAndDispose(P){var M;(M=this._store.get(P))===null||M===void 0||M.dispose(),this._store.delete(P)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},17979:function(Rt,Be,t){"use strict";t.d(Be,{S:function(){return O}});class f{constructor(_){this.element=_,this.next=f.Undefined,this.prev=f.Undefined}}f.Undefined=new f(void 0);class O{constructor(){this._first=f.Undefined,this._last=f.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f.Undefined}clear(){let _=this._first;for(;_!==f.Undefined;){const p=_.next;_.prev=f.Undefined,_.next=f.Undefined,_=p}this._first=f.Undefined,this._last=f.Undefined,this._size=0}unshift(_){return this._insert(_,!1)}push(_){return this._insert(_,!0)}_insert(_,p){const V=new f(_);if(this._first===f.Undefined)this._first=V,this._last=V;else if(p){const L=this._last;this._last=V,V.prev=L,L.next=V}else{const L=this._first;this._first=V,V.next=L,L.prev=V}this._size+=1;let I=!1;return()=>{I||(I=!0,this._remove(V))}}shift(){if(this._first!==f.Undefined){const _=this._first.element;return this._remove(this._first),_}}pop(){if(this._last!==f.Undefined){const _=this._last.element;return this._remove(this._last),_}}_remove(_){if(_.prev!==f.Undefined&&_.next!==f.Undefined){const p=_.prev;p.next=_.next,_.next.prev=p}else _.prev===f.Undefined&&_.next===f.Undefined?(this._first=f.Undefined,this._last=f.Undefined):_.next===f.Undefined?(this._last=this._last.prev,this._last.next=f.Undefined):_.prev===f.Undefined&&(this._first=this._first.next,this._first.prev=f.Undefined);this._size-=1}*[Symbol.iterator](){let _=this._first;for(;_!==f.Undefined;)yield _.element,_=_.next}}},39832:function(Rt,Be,t){"use strict";t.d(Be,{Y9:function(){return _},z6:function(){return V}});var f,O;class u{constructor(L,E){this.uri=L,this.value=E}}class _{constructor(L,E){this[f]="ResourceMap",L instanceof _?(this.map=new Map(L.map),this.toKey=E!=null?E:_.defaultToKey):(this.map=new Map,this.toKey=L!=null?L:_.defaultToKey)}set(L,E){return this.map.set(this.toKey(L),new u(L,E)),this}get(L){var E;return(E=this.map.get(this.toKey(L)))===null||E===void 0?void 0:E.value}has(L){return this.map.has(this.toKey(L))}get size(){return this.map.size}clear(){this.map.clear()}delete(L){return this.map.delete(this.toKey(L))}forEach(L,E){typeof E!="undefined"&&(L=L.bind(E));for(const[g,a]of this.map)L(a.value,a.uri,this)}*values(){for(const L of this.map.values())yield L.value}*keys(){for(const L of this.map.values())yield L.uri}*entries(){for(const L of this.map.values())yield[L.uri,L.value]}*[(f=Symbol.toStringTag,Symbol.iterator)](){for(const[,L]of this.map)yield[L.uri,L.value]}}_.defaultToKey=I=>I.toString();class p{constructor(){this[O]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var L;return(L=this._head)===null||L===void 0?void 0:L.value}get last(){var L;return(L=this._tail)===null||L===void 0?void 0:L.value}has(L){return this._map.has(L)}get(L,E=0){const g=this._map.get(L);if(g)return E!==0&&this.touch(g,E),g.value}set(L,E,g=0){let a=this._map.get(L);if(a)a.value=E,g!==0&&this.touch(a,g);else{switch(a={key:L,value:E,next:void 0,previous:void 0},g){case 0:this.addItemLast(a);break;case 1:this.addItemFirst(a);break;case 2:this.addItemLast(a);break;default:this.addItemLast(a);break}this._map.set(L,a),this._size++}return this}delete(L){return!!this.remove(L)}remove(L){const E=this._map.get(L);if(E)return this._map.delete(L),this.removeItem(E),this._size--,E.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const L=this._head;return this._map.delete(L.key),this.removeItem(L),this._size--,L.value}forEach(L,E){const g=this._state;let a=this._head;for(;a;){if(E?L.bind(E)(a.value,a.key,this):L(a.value,a.key,this),this._state!==g)throw new Error("LinkedMap got modified during iteration.");a=a.next}}keys(){const L=this,E=this._state;let g=this._head;const a={[Symbol.iterator](){return a},next(){if(L._state!==E)throw new Error("LinkedMap got modified during iteration.");if(g){const l={value:g.key,done:!1};return g=g.next,l}else return{value:void 0,done:!0}}};return a}values(){const L=this,E=this._state;let g=this._head;const a={[Symbol.iterator](){return a},next(){if(L._state!==E)throw new Error("LinkedMap got modified during iteration.");if(g){const l={value:g.value,done:!1};return g=g.next,l}else return{value:void 0,done:!0}}};return a}entries(){const L=this,E=this._state;let g=this._head;const a={[Symbol.iterator](){return a},next(){if(L._state!==E)throw new Error("LinkedMap got modified during iteration.");if(g){const l={value:[g.key,g.value],done:!1};return g=g.next,l}else return{value:void 0,done:!0}}};return a}[(O=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(L){if(L>=this.size)return;if(L===0){this.clear();return}let E=this._head,g=this.size;for(;E&&g>L;)this._map.delete(E.key),E=E.next,g--;this._head=E,this._size=g,E&&(E.previous=void 0),this._state++}addItemFirst(L){if(!this._head&&!this._tail)this._tail=L;else if(this._head)L.next=this._head,this._head.previous=L;else throw new Error("Invalid list");this._head=L,this._state++}addItemLast(L){if(!this._head&&!this._tail)this._head=L;else if(this._tail)L.previous=this._tail,this._tail.next=L;else throw new Error("Invalid list");this._tail=L,this._state++}removeItem(L){if(L===this._head&&L===this._tail)this._head=void 0,this._tail=void 0;else if(L===this._head){if(!L.next)throw new Error("Invalid list");L.next.previous=void 0,this._head=L.next}else if(L===this._tail){if(!L.previous)throw new Error("Invalid list");L.previous.next=void 0,this._tail=L.previous}else{const E=L.next,g=L.previous;if(!E||!g)throw new Error("Invalid list");E.previous=g,g.next=E}L.next=void 0,L.previous=void 0,this._state++}touch(L,E){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(E!==1&&E!==2)){if(E===1){if(L===this._head)return;const g=L.next,a=L.previous;L===this._tail?(a.next=void 0,this._tail=a):(g.previous=a,a.next=g),L.previous=void 0,L.next=this._head,this._head.previous=L,this._head=L,this._state++}else if(E===2){if(L===this._tail)return;const g=L.next,a=L.previous;L===this._head?(g.previous=void 0,this._head=g):(g.previous=a,a.next=g),L.next=void 0,L.previous=this._tail,this._tail.next=L,this._tail=L,this._state++}}}toJSON(){const L=[];return this.forEach((E,g)=>{L.push([g,E])}),L}fromJSON(L){this.clear();for(const[E,g]of L)this.set(E,g)}}class V extends p{constructor(L,E=1){super(),this._limit=L,this._ratio=Math.min(Math.max(0,E),1)}get limit(){return this._limit}set limit(L){this._limit=L,this.checkTrim()}get(L,E=2){return super.get(L,E)}peek(L){return super.get(L,0)}set(L,E){return super.set(L,E,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},65533:function(Rt,Be,t){"use strict";t.d(Be,{Pz:function(){return _},Qc:function(){return p}});var f=t(77511),O=t(17416),u=t(28919);function _(L){return JSON.stringify(L,V)}function p(L){let E=JSON.parse(L);return E=I(E),E}function V(L,E){return E instanceof RegExp?{$mid:2,source:E.source,flags:(0,O.mr)(E)}:E}function I(L,E=0){if(!L||E>200)return L;if(typeof L=="object"){switch(L.$mid){case 1:return u.o.revive(L);case 2:return new RegExp(L.source,L.flags);case 16:return new Date(L.source)}if(L instanceof f.KN||L instanceof Uint8Array)return L;if(Array.isArray(L))for(let g=0;g<L.length;++g)L[g]=I(L[g],E+1);else for(const g in L)Object.hasOwnProperty.call(L,g)&&(L[g]=I(L[g],E+1))}return L}},9161:function(Rt,Be,t){"use strict";t.d(Be,{v:function(){return f}});const f=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},5007:function(Rt,Be,t){"use strict";t.d(Be,{Gi:function(){return E},WX:function(){return I},lg:function(){return _}});var f=t(20996),O=t(11138),u=t(28919),_;(function(a){a.inMemory="inmemory",a.vscode="vscode",a.internal="private",a.walkThrough="walkThrough",a.walkThroughSnippet="walkThroughSnippet",a.http="http",a.https="https",a.file="file",a.mailto="mailto",a.untitled="untitled",a.data="data",a.command="command",a.vscodeRemote="vscode-remote",a.vscodeRemoteResource="vscode-remote-resource",a.vscodeUserData="vscode-userdata",a.vscodeCustomEditor="vscode-custom-editor",a.vscodeNotebookCell="vscode-notebook-cell",a.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",a.vscodeNotebookCellOutput="vscode-notebook-cell-output",a.vscodeInteractive="vscode-interactive",a.vscodeInteractiveInput="vscode-interactive-input",a.vscodeSettings="vscode-settings",a.vscodeWorkspaceTrust="vscode-workspace-trust",a.vscodeTerminal="vscode-terminal",a.vscodeChatSesssion="vscode-chat-editor",a.webviewPanel="webview-panel",a.vscodeWebview="vscode-webview",a.extension="extension",a.vscodeFileResource="vscode-file",a.tmp="tmp",a.vsls="vsls",a.vscodeSourceControl="vscode-scm"})(_||(_={}));const p="tkn";class V{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${_.vscodeRemoteResource}`}setPreferredWebSchema(l){this._preferredWebSchema=l}rewrite(l){if(this._delegate)try{return this._delegate(l)}catch(c){return f.dL(c),l}const d=l.authority;let i=this._hosts[d];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const s=this._ports[d],m=this._connectionTokens[d];let b=`path=${encodeURIComponent(l.path)}`;return typeof m=="string"&&(b+=`&${p}=${encodeURIComponent(m)}`),u.o.from({scheme:O.$L?this._preferredWebSchema:_.vscodeRemoteResource,authority:`${i}:${s}`,path:this._remoteResourcesPath,query:b})}}const I=new V;class L{uriToBrowserUri(l){return l.scheme===_.vscodeRemote?I.rewrite(l):l.scheme===_.file&&(O.tY||O.n2&&O.li.origin===`${_.vscodeFileResource}://${L.FALLBACK_AUTHORITY}`)?l.with({scheme:_.vscodeFileResource,authority:l.authority||L.FALLBACK_AUTHORITY,query:null,fragment:null}):l}}L.FALLBACK_AUTHORITY="vscode-app";const E=new L;var g;(function(a){const l=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);a.CoopAndCoep=Object.freeze(l.get("3"));const d="vscode-coi";function i(m){let b;typeof m=="string"?b=new URL(m).searchParams:m instanceof URL?b=m.searchParams:u.o.isUri(m)&&(b=new URL(m.toString(!0)).searchParams);const c=b==null?void 0:b.get(d);if(c)return l.get(c)}a.getHeadersFromQuery=i;function s(m,b,c){if(!globalThis.crossOriginIsolated)return;const v=b&&c?"3":c?"2":"1";m instanceof URLSearchParams?m.set(d,v):m[d]=v}a.addSearchParam=s})(g||(g={}))},98726:function(Rt,Be,t){"use strict";t.d(Be,{N:function(){return u},nM:function(){return O},uZ:function(){return f}});function f(_,p,V){return Math.min(Math.max(_,p),V)}class O{constructor(){this._n=1,this._val=0}update(p){return this._val=this._val+(p-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class u{constructor(p){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(p),this._values.fill(0,0,p)}update(p){const V=this._values[this._index];return this._values[this._index]=p,this._index=(this._index+1)%this._values.length,this._sum-=V,this._sum+=p,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},23127:function(Rt,Be,t){"use strict";t.d(Be,{$E:function(){return g},I8:function(){return O},IU:function(){return a},_A:function(){return u},fS:function(){return L},jB:function(){return I},rs:function(){return p}});var f=t(14818);function O(l){if(!l||typeof l!="object"||l instanceof RegExp)return l;const d=Array.isArray(l)?[]:{};return Object.entries(l).forEach(([i,s])=>{d[i]=s&&typeof s=="object"?O(s):s}),d}function u(l){if(!l||typeof l!="object")return l;const d=[l];for(;d.length>0;){const i=d.shift();Object.freeze(i);for(const s in i)if(_.call(i,s)){const m=i[s];typeof m=="object"&&!Object.isFrozen(m)&&!(0,f.fU)(m)&&d.push(m)}}return l}const _=Object.prototype.hasOwnProperty;function p(l,d){return V(l,d,new Set)}function V(l,d,i){if((0,f.Jp)(l))return l;const s=d(l);if(typeof s!="undefined")return s;if(Array.isArray(l)){const m=[];for(const b of l)m.push(V(b,d,i));return m}if((0,f.Kn)(l)){if(i.has(l))throw new Error("Cannot clone recursive data-structure");i.add(l);const m={};for(const b in l)_.call(l,b)&&(m[b]=V(l[b],d,i));return i.delete(l),m}return l}function I(l,d,i=!0){return(0,f.Kn)(l)?((0,f.Kn)(d)&&Object.keys(d).forEach(s=>{s in l?i&&((0,f.Kn)(l[s])&&(0,f.Kn)(d[s])?I(l[s],d[s],i):l[s]=d[s]):l[s]=d[s]}),l):d}function L(l,d){if(l===d)return!0;if(l==null||d===null||d===void 0||typeof l!=typeof d||typeof l!="object"||Array.isArray(l)!==Array.isArray(d))return!1;let i,s;if(Array.isArray(l)){if(l.length!==d.length)return!1;for(i=0;i<l.length;i++)if(!L(l[i],d[i]))return!1}else{const m=[];for(s in l)m.push(s);m.sort();const b=[];for(s in d)b.push(s);if(b.sort(),!L(m,b))return!1;for(i=0;i<m.length;i++)if(!L(l[m[i]],d[m[i]]))return!1}return!0}function E(l){let d=[],i=Object.getPrototypeOf(l);for(;Object.prototype!==i;)d=d.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return d}function g(l){const d=[];for(const i of E(l))typeof l[i]=="function"&&d.push(i);return d}function a(l,d){const i=m=>function(){const b=Array.prototype.slice.call(arguments,0);return d(m,b)},s={};for(const m of l)s[m]=i(m);return s}},99338:function(Rt,Be,t){"use strict";t.d(Be,{EH:function(){return u.EH},Dz:function(){return V},nK:function(){return O.nK},$g:function(){return i},rD:function(){return L},GN:function(){return l},aq:function(){return g},uh:function(){return f.uh},PS:function(){return f.PS}});var f=t(12620),O=t(77506),u=t(31283),_=t(38431),p=t(67908);function V(b){return new I(b)}class I extends f.Nc{constructor(c){super(),this.value=c}get debugName(){return this.toString()}get(){return this.value}addObserver(c){}removeObserver(c){}toString(){return`Const: ${this.value}`}}function L(b,c){return new E(b,c)}class E extends f.hm{constructor(c,v){super(),this.event=c,this.getValue=v,this.hasValue=!1,this.handleEvent=C=>{var S;const N=this.getValue(C),P=!this.hasValue||this.value!==N;(S=(0,p.jl)())===null||S===void 0||S.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:N,change:void 0,didChange:P}),P&&(this.value=N,this.hasValue&&(0,f.PS)(M=>{for(const D of this.observers)M.updateObserver(D,this),D.handleChange(this,void 0)},()=>{const M=this.getDebugName();return"Event fired"+(M?`: ${M}`:"")}),this.hasValue=!0)}}getDebugName(){return(0,f.$P)(this.getValue)}get debugName(){const c=this.getDebugName();return"From Event"+(c?`: ${c}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this.getValue(void 0)}}(function(b){b.Observer=E})(L||(L={}));function g(b,c){return new a(b,c)}class a extends f.hm{constructor(c,v){super(),this.debugName=c,this.event=v,this.handleEvent=()=>{(0,f.PS)(C=>{for(const S of this.observers)C.updateObserver(S,this),S.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function l(b){return new d(b)}class d extends f.hm{constructor(c){super(),this.debugName=c}trigger(c,v){if(!c){(0,f.PS)(C=>{this.trigger(C,v)},()=>`Trigger signal ${this.debugName}`);return}for(const C of this.observers)c.updateObserver(C,this),C.handleChange(this,v)}get(){}}function i(b,c){const v=new s(c!=null?c:!1);return b.addObserver(v),c&&b.reportChanges(),(0,_.OF)(()=>{b.removeObserver(v)})}class s{constructor(c){this.forceRecompute=c,this.counter=0}beginUpdate(c){this.counter++}endUpdate(c){this.counter--,this.counter===0&&this.forceRecompute&&c.reportChanges()}handlePossibleChange(c){}handleChange(c,v){}}!1&&(0,p.EK)(new p.Qy)},31283:function(Rt,Be,t){"use strict";t.d(Be,{EH:function(){return _},b2:function(){return p}});var f=t(14527),O=t(38431),u=t(67908);function _(L,E){return new I(L,E,void 0,void 0)}function p(L,E){return V(E,L)}function V(L,E){const g=new O.SL,a=_(E,l=>{g.clear(),L(l,g)});return(0,O.OF)(()=>{a.dispose(),g.dispose()})}class I{constructor(E,g,a,l){var d,i;this.debugName=E,this.runFn=g,this.createChangeSummary=a,this._handleChange=l,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(d=this.createChangeSummary)===null||d===void 0?void 0:d.call(this),(i=(0,u.jl)())===null||i===void 0||i.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const E of this.dependencies)E.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var E,g;if(this.state===3)return;const a=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=a,this.state=3,(E=(0,u.jl)())===null||E===void 0||E.handleAutorunTriggered(this);try{const l=this.changeSummary;this.changeSummary=(g=this.createChangeSummary)===null||g===void 0?void 0:g.call(this),this.runFn(this,l)}finally{for(const l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const E of this.dependencies)if(E.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,f.eZ)(()=>this.updateCount>=0)}handlePossibleChange(E){this.state===3&&this.dependencies.has(E)&&!this.dependenciesToBeRemoved.has(E)&&(this.state=1)}handleChange(E,g){this.dependencies.has(E)&&!this.dependenciesToBeRemoved.has(E)&&(!this._handleChange||this._handleChange({changedObservable:E,change:g,didChange:l=>l===E},this.changeSummary))&&(this.state=2)}readObservable(E){if(this.disposed)return E.get();E.addObserver(this);const g=E.get();return this.dependencies.add(E),this.dependenciesToBeRemoved.delete(E),g}}(function(L){L.Observer=I})(_||(_={}))},12620:function(Rt,Be,t){"use strict";t.d(Be,{$P:function(){return E},DN:function(){return l},Nc:function(){return _},PS:function(){return V},Qv:function(){return u},c8:function(){return I},hm:function(){return p},uh:function(){return g}});var f=t(67908);let O;function u(i){O=i}class _{get TChange(){return null}reportChanges(){this.get()}read(s){return s?s.readObservable(this):this.get()}map(s){return O(()=>{const m=E(s);return m!==void 0?m:`${this.debugName} (mapped)`},m=>s(this.read(m),m))}}class p extends _{constructor(){super(...arguments),this.observers=new Set}addObserver(s){const m=this.observers.size;this.observers.add(s),m===0&&this.onFirstObserverAdded()}removeObserver(s){this.observers.delete(s)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function V(i,s){var m,b;const c=new L(i,s);try{(m=(0,f.jl)())===null||m===void 0||m.handleBeginTransaction(c),i(c)}finally{c.finish(),(b=(0,f.jl)())===null||b===void 0||b.handleEndTransaction()}}function I(i,s,m){i?s(i):V(s,m)}class L{constructor(s,m){this.fn=s,this._getDebugName=m,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():E(this.fn)}updateObserver(s,m){this.updatingObservers.push({observer:s,observable:m}),s.beginUpdate(m)}finish(){const s=this.updatingObservers;this.updatingObservers=null;for(const{observer:m,observable:b}of s)m.endUpdate(b)}}function E(i){const s=i.toString(),b=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(s),c=b?b[1]:void 0;return c==null?void 0:c.trim()}function g(i,s){return new a(i,s)}class a extends p{constructor(s,m){super(),this.debugName=s,this._value=m}get(){return this._value}set(s,m,b){var c;if(this._value===s)return;let v;m||(m=v=new L(()=>{},()=>`Setting ${this.debugName}`));try{const C=this._value;this._setValue(s),(c=(0,f.jl)())===null||c===void 0||c.handleObservableChanged(this,{oldValue:C,newValue:s,change:b,didChange:!0});for(const S of this.observers)m.updateObserver(S,this),S.handleChange(this,b)}finally{v&&v.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(s){this._value=s}}function l(i,s){return new d(i,s)}class d extends a{_setValue(s){this._value!==s&&(this._value&&this._value.dispose(),this._value=s)}dispose(){var s;(s=this._value)===null||s===void 0||s.dispose()}}},77506:function(Rt,Be,t){"use strict";t.d(Be,{aK:function(){return p},nK:function(){return _}});var f=t(20996),O=t(12620),u=t(67908);function _(I,L){return new V(I,L,void 0,void 0)}function p(I,L,E){return new V(I,E,L.createEmptyChangeSummary,L.handleChange)}(0,O.Qv)(_);class V extends O.hm{get debugName(){return typeof this._debugName=="function"?this._debugName():this._debugName}constructor(L,E,g,a){var l,d;super(),this._debugName=L,this.computeFn=E,this.createChangeSummary=g,this._handleChange=a,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(l=this.createChangeSummary)===null||l===void 0?void 0:l.call(this),(d=(0,u.jl)())===null||d===void 0||d.handleDerivedCreated(this)}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const L of this.dependencies)L.removeObserver(this);this.dependencies.clear()}get(){var L;if(this.observers.size===0){const E=this.computeFn(this,(L=this.createChangeSummary)===null||L===void 0?void 0:L.call(this));return this.onLastObserverRemoved(),E}else{do{if(this.state===1){this.state=3;for(const E of this.dependencies)if(E.reportChanges(),this.state===2)break}this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var L,E;if(this.state===3)return;const g=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=g;const a=this.state!==0,l=this.value;this.state=3;const d=this.changeSummary;this.changeSummary=(L=this.createChangeSummary)===null||L===void 0?void 0:L.call(this);try{this.value=this.computeFn(this,d)}finally{for(const s of this.dependenciesToBeRemoved)s.removeObserver(this);this.dependenciesToBeRemoved.clear()}const i=a&&l!==this.value;if((E=(0,u.jl)())===null||E===void 0||E.handleDerivedRecomputed(this,{oldValue:l,newValue:this.value,change:void 0,didChange:i}),i)for(const s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(L){this.updateCount++;const E=this.updateCount===1;if(this.state===3&&(this.state=1,!E))for(const g of this.observers)g.handlePossibleChange(this);if(E)for(const g of this.observers)g.beginUpdate(this)}endUpdate(L){if(this.updateCount--,this.updateCount===0){const E=[...this.observers];for(const g of E)g.endUpdate(this)}if(this.updateCount<0)throw new f.he}handlePossibleChange(L){if(this.state===3&&this.dependencies.has(L)&&!this.dependenciesToBeRemoved.has(L)){this.state=1;for(const E of this.observers)E.handlePossibleChange(this)}}handleChange(L,E){if(this.dependencies.has(L)&&!this.dependenciesToBeRemoved.has(L)){const g=this._handleChange?this._handleChange({changedObservable:L,change:E,didChange:l=>l===L},this.changeSummary):!0,a=this.state===3;if(g&&(this.state===1||a)&&(this.state=2,a))for(const l of this.observers)l.handlePossibleChange(this)}}readObservable(L){L.addObserver(this);const E=L.get();return this.dependencies.add(L),this.dependenciesToBeRemoved.delete(L),E}addObserver(L){const E=!this.observers.has(L)&&this.updateCount>0;super.addObserver(L),E&&L.beginUpdate(this)}removeObserver(L){const E=this.observers.has(L)&&this.updateCount>0;super.removeObserver(L),E&&L.endUpdate(this)}}},67908:function(Rt,Be,t){"use strict";t.d(Be,{EK:function(){return O},Qy:function(){return _},jl:function(){return u}});let f;function O(i){f=i}function u(){return f}class _{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(s){return p([V(l("|  ",this.indentation)),s])}formatInfo(s){return s.didChange?[V(" "),L(E(s.oldValue,70),{color:"red",strikeThrough:!0}),V(" "),L(E(s.newValue,60),{color:"green"})]:[V(" (unchanged)")]}handleObservableChanged(s,m){console.log(...this.textToConsoleArgs([I("observable value changed"),L(s.debugName,{color:"BlueViolet"}),...this.formatInfo(m)]))}formatChanges(s){if(s.size!==0)return L(" (changed deps: "+[...s].map(m=>m.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(s){const m=s.handleChange;this.changedObservablesSets.set(s,new Set),s.handleChange=(b,c)=>(this.changedObservablesSets.get(s).add(b),m.apply(s,[b,c]))}handleDerivedRecomputed(s,m){const b=this.changedObservablesSets.get(s);console.log(...this.textToConsoleArgs([I("derived recomputed"),L(s.debugName,{color:"BlueViolet"}),...this.formatInfo(m),this.formatChanges(b)])),b.clear()}handleFromEventObservableTriggered(s,m){console.log(...this.textToConsoleArgs([I("observable from event triggered"),L(s.debugName,{color:"BlueViolet"}),...this.formatInfo(m)]))}handleAutorunCreated(s){const m=s.handleChange;this.changedObservablesSets.set(s,new Set),s.handleChange=(b,c)=>(this.changedObservablesSets.get(s).add(b),m.apply(s,[b,c]))}handleAutorunTriggered(s){const m=this.changedObservablesSets.get(s);console.log(...this.textToConsoleArgs([I("autorun"),L(s.debugName,{color:"BlueViolet"}),this.formatChanges(m)])),m.clear()}handleBeginTransaction(s){let m=s.getDebugName();m===void 0&&(m=""),console.log(...this.textToConsoleArgs([I("transaction"),L(m,{color:"BlueViolet"})])),this.indentation++}handleEndTransaction(){this.indentation--}}function p(i){const s=new Array,b={};let c="";function v(S){if("length"in S)for(const N of S)N&&v(N);else"text"in S?(c+=`%c${S.text}`,s.push(S.style),S.data&&Object.assign(b,S.data)):"data"in S&&Object.assign(b,S.data)}v(i);const C=[c,...s];return Object.keys(b).length>0&&C.push(b),C}function V(i){return L(i,{color:"black"})}function I(i){return L(d(`${i}: `,10),{color:"black",bold:!0})}function L(i,s={color:"black"}){function m(c){return Object.entries(c).reduce((v,[C,S])=>`${v}${C}:${S};`,"")}const b={color:s.color};return s.strikeThrough&&(b["text-decoration"]="line-through"),s.bold&&(b["font-weight"]="bold"),{text:i,style:m(b)}}function E(i,s){switch(typeof i){case"number":return""+i;case"string":return i.length+2<=s?`"${i}"`:`"${i.substr(0,s-7)}"+...`;case"boolean":return i?"true":"false";case"undefined":return"undefined";case"object":return i===null?"null":Array.isArray(i)?g(i,s):a(i,s);case"symbol":return i.toString();case"function":return`[[Function${i.name?" "+i.name:""}]]`;default:return""+i}}function g(i,s){let m="[ ",b=!0;for(const c of i){if(b||(m+=", "),m.length-5>s){m+="...";break}b=!1,m+=`${E(c,s-m.length)}`}return m+=" ]",m}function a(i,s){let m="{ ",b=!0;for(const[c,v]of Object.entries(i)){if(b||(m+=", "),m.length-5>s){m+="...";break}b=!1,m+=`${c}: ${E(v,s-m.length)}`}return m+=" }",m}function l(i,s){let m="";for(let b=1;b<=s;b++)m+=i;return m}function d(i,s){for(;i.length<s;)i+=" ";return i}},75296:function(Rt,Be,t){"use strict";t.d(Be,{EZ:function(){return $},XX:function(){return R},DZ:function(){return J},Fv:function(){return U},KR:function(){return B},Gf:function(){return k},DB:function(){return A},ir:function(){return Y},Ku:function(){return D}});var f=t(11138),O=t(34406);let u;if(typeof f.li.vscode!="undefined"&&typeof f.li.vscode.process!="undefined"){const j=f.li.vscode.process;u={get platform(){return j.platform},get arch(){return j.arch},get env(){return j.env},cwd(){return j.cwd()}}}else typeof O!="undefined"?u={get platform(){return O.platform},get arch(){return O.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/_/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/_/"}.VSCODE_CWD||O.cwd()}}:u={get platform(){return f.ED?"win32":f.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const _=u.cwd,p=u.env,V=u.platform,I=65,L=97,E=90,g=122,a=46,l=47,d=92,i=58,s=63;class m extends Error{constructor(z,K,Z){let fe;typeof K=="string"&&K.indexOf("not ")===0?(fe="must not be",K=K.replace(/^not /,"")):fe="must be";const T=z.indexOf(".")!==-1?"property":"argument";let Re=`The "${z}" ${T} ${fe} of type ${K}`;Re+=`. Received type ${typeof Z}`,super(Re),this.code="ERR_INVALID_ARG_TYPE"}}function b(j,z){if(j===null||typeof j!="object")throw new m(z,"Object",j)}function c(j,z){if(typeof j!="string")throw new m(z,"string",j)}const v=V==="win32";function C(j){return j===l||j===d}function S(j){return j===l}function N(j){return j>=I&&j<=E||j>=L&&j<=g}function P(j,z,K,Z){let fe="",T=0,Re=-1,Ce=0,_e=0;for(let pe=0;pe<=j.length;++pe){if(pe<j.length)_e=j.charCodeAt(pe);else{if(Z(_e))break;_e=l}if(Z(_e)){if(!(Re===pe-1||Ce===1))if(Ce===2){if(fe.length<2||T!==2||fe.charCodeAt(fe.length-1)!==a||fe.charCodeAt(fe.length-2)!==a){if(fe.length>2){const le=fe.lastIndexOf(K);le===-1?(fe="",T=0):(fe=fe.slice(0,le),T=fe.length-1-fe.lastIndexOf(K)),Re=pe,Ce=0;continue}else if(fe.length!==0){fe="",T=0,Re=pe,Ce=0;continue}}z&&(fe+=fe.length>0?`${K}..`:"..",T=2)}else fe.length>0?fe+=`${K}${j.slice(Re+1,pe)}`:fe=j.slice(Re+1,pe),T=pe-Re-1;Re=pe,Ce=0}else _e===a&&Ce!==-1?++Ce:Ce=-1}return fe}function M(j,z){b(z,"pathObject");const K=z.dir||z.root,Z=z.base||`${z.name||""}${z.ext||""}`;return K?K===z.root?`${K}${Z}`:`${K}${j}${Z}`:Z}const D={resolve(...j){let z="",K="",Z=!1;for(let fe=j.length-1;fe>=-1;fe--){let T;if(fe>=0){if(T=j[fe],c(T,"path"),T.length===0)continue}else z.length===0?T=_():(T={NODE_ENV:"production",PUBLIC_PATH:"/_/"}[`=${z}`]||_(),(T===void 0||T.slice(0,2).toLowerCase()!==z.toLowerCase()&&T.charCodeAt(2)===d)&&(T=`${z}\\`));const Re=T.length;let Ce=0,_e="",pe=!1;const le=T.charCodeAt(0);if(Re===1)C(le)&&(Ce=1,pe=!0);else if(C(le))if(pe=!0,C(T.charCodeAt(1))){let oe=2,he=oe;for(;oe<Re&&!C(T.charCodeAt(oe));)oe++;if(oe<Re&&oe!==he){const je=T.slice(he,oe);for(he=oe;oe<Re&&C(T.charCodeAt(oe));)oe++;if(oe<Re&&oe!==he){for(he=oe;oe<Re&&!C(T.charCodeAt(oe));)oe++;(oe===Re||oe!==he)&&(_e=`\\\\${je}\\${T.slice(he,oe)}`,Ce=oe)}}}else Ce=1;else N(le)&&T.charCodeAt(1)===i&&(_e=T.slice(0,2),Ce=2,Re>2&&C(T.charCodeAt(2))&&(pe=!0,Ce=3));if(_e.length>0)if(z.length>0){if(_e.toLowerCase()!==z.toLowerCase())continue}else z=_e;if(Z){if(z.length>0)break}else if(K=`${T.slice(Ce)}\\${K}`,Z=pe,pe&&z.length>0)break}return K=P(K,!Z,"\\",C),Z?`${z}\\${K}`:`${z}${K}`||"."},normalize(j){c(j,"path");const z=j.length;if(z===0)return".";let K=0,Z,fe=!1;const T=j.charCodeAt(0);if(z===1)return S(T)?"\\":j;if(C(T))if(fe=!0,C(j.charCodeAt(1))){let Ce=2,_e=Ce;for(;Ce<z&&!C(j.charCodeAt(Ce));)Ce++;if(Ce<z&&Ce!==_e){const pe=j.slice(_e,Ce);for(_e=Ce;Ce<z&&C(j.charCodeAt(Ce));)Ce++;if(Ce<z&&Ce!==_e){for(_e=Ce;Ce<z&&!C(j.charCodeAt(Ce));)Ce++;if(Ce===z)return`\\\\${pe}\\${j.slice(_e)}\\`;Ce!==_e&&(Z=`\\\\${pe}\\${j.slice(_e,Ce)}`,K=Ce)}}}else K=1;else N(T)&&j.charCodeAt(1)===i&&(Z=j.slice(0,2),K=2,z>2&&C(j.charCodeAt(2))&&(fe=!0,K=3));let Re=K<z?P(j.slice(K),!fe,"\\",C):"";return Re.length===0&&!fe&&(Re="."),Re.length>0&&C(j.charCodeAt(z-1))&&(Re+="\\"),Z===void 0?fe?`\\${Re}`:Re:fe?`${Z}\\${Re}`:`${Z}${Re}`},isAbsolute(j){c(j,"path");const z=j.length;if(z===0)return!1;const K=j.charCodeAt(0);return C(K)||z>2&&N(K)&&j.charCodeAt(1)===i&&C(j.charCodeAt(2))},join(...j){if(j.length===0)return".";let z,K;for(let T=0;T<j.length;++T){const Re=j[T];c(Re,"path"),Re.length>0&&(z===void 0?z=K=Re:z+=`\\${Re}`)}if(z===void 0)return".";let Z=!0,fe=0;if(typeof K=="string"&&C(K.charCodeAt(0))){++fe;const T=K.length;T>1&&C(K.charCodeAt(1))&&(++fe,T>2&&(C(K.charCodeAt(2))?++fe:Z=!1))}if(Z){for(;fe<z.length&&C(z.charCodeAt(fe));)fe++;fe>=2&&(z=`\\${z.slice(fe)}`)}return D.normalize(z)},relative(j,z){if(c(j,"from"),c(z,"to"),j===z)return"";const K=D.resolve(j),Z=D.resolve(z);if(K===Z||(j=K.toLowerCase(),z=Z.toLowerCase(),j===z))return"";let fe=0;for(;fe<j.length&&j.charCodeAt(fe)===d;)fe++;let T=j.length;for(;T-1>fe&&j.charCodeAt(T-1)===d;)T--;const Re=T-fe;let Ce=0;for(;Ce<z.length&&z.charCodeAt(Ce)===d;)Ce++;let _e=z.length;for(;_e-1>Ce&&z.charCodeAt(_e-1)===d;)_e--;const pe=_e-Ce,le=Re<pe?Re:pe;let oe=-1,he=0;for(;he<le;he++){const Xe=j.charCodeAt(fe+he);if(Xe!==z.charCodeAt(Ce+he))break;Xe===d&&(oe=he)}if(he!==le){if(oe===-1)return Z}else{if(pe>le){if(z.charCodeAt(Ce+he)===d)return Z.slice(Ce+he+1);if(he===2)return Z.slice(Ce+he)}Re>le&&(j.charCodeAt(fe+he)===d?oe=he:he===2&&(oe=3)),oe===-1&&(oe=0)}let je="";for(he=fe+oe+1;he<=T;++he)(he===T||j.charCodeAt(he)===d)&&(je+=je.length===0?"..":"\\..");return Ce+=oe,je.length>0?`${je}${Z.slice(Ce,_e)}`:(Z.charCodeAt(Ce)===d&&++Ce,Z.slice(Ce,_e))},toNamespacedPath(j){if(typeof j!="string"||j.length===0)return j;const z=D.resolve(j);if(z.length<=2)return j;if(z.charCodeAt(0)===d){if(z.charCodeAt(1)===d){const K=z.charCodeAt(2);if(K!==s&&K!==a)return`\\\\?\\UNC\\${z.slice(2)}`}}else if(N(z.charCodeAt(0))&&z.charCodeAt(1)===i&&z.charCodeAt(2)===d)return`\\\\?\\${z}`;return j},dirname(j){c(j,"path");const z=j.length;if(z===0)return".";let K=-1,Z=0;const fe=j.charCodeAt(0);if(z===1)return C(fe)?j:".";if(C(fe)){if(K=Z=1,C(j.charCodeAt(1))){let Ce=2,_e=Ce;for(;Ce<z&&!C(j.charCodeAt(Ce));)Ce++;if(Ce<z&&Ce!==_e){for(_e=Ce;Ce<z&&C(j.charCodeAt(Ce));)Ce++;if(Ce<z&&Ce!==_e){for(_e=Ce;Ce<z&&!C(j.charCodeAt(Ce));)Ce++;if(Ce===z)return j;Ce!==_e&&(K=Z=Ce+1)}}}}else N(fe)&&j.charCodeAt(1)===i&&(K=z>2&&C(j.charCodeAt(2))?3:2,Z=K);let T=-1,Re=!0;for(let Ce=z-1;Ce>=Z;--Ce)if(C(j.charCodeAt(Ce))){if(!Re){T=Ce;break}}else Re=!1;if(T===-1){if(K===-1)return".";T=K}return j.slice(0,T)},basename(j,z){z!==void 0&&c(z,"ext"),c(j,"path");let K=0,Z=-1,fe=!0,T;if(j.length>=2&&N(j.charCodeAt(0))&&j.charCodeAt(1)===i&&(K=2),z!==void 0&&z.length>0&&z.length<=j.length){if(z===j)return"";let Re=z.length-1,Ce=-1;for(T=j.length-1;T>=K;--T){const _e=j.charCodeAt(T);if(C(_e)){if(!fe){K=T+1;break}}else Ce===-1&&(fe=!1,Ce=T+1),Re>=0&&(_e===z.charCodeAt(Re)?--Re===-1&&(Z=T):(Re=-1,Z=Ce))}return K===Z?Z=Ce:Z===-1&&(Z=j.length),j.slice(K,Z)}for(T=j.length-1;T>=K;--T)if(C(j.charCodeAt(T))){if(!fe){K=T+1;break}}else Z===-1&&(fe=!1,Z=T+1);return Z===-1?"":j.slice(K,Z)},extname(j){c(j,"path");let z=0,K=-1,Z=0,fe=-1,T=!0,Re=0;j.length>=2&&j.charCodeAt(1)===i&&N(j.charCodeAt(0))&&(z=Z=2);for(let Ce=j.length-1;Ce>=z;--Ce){const _e=j.charCodeAt(Ce);if(C(_e)){if(!T){Z=Ce+1;break}continue}fe===-1&&(T=!1,fe=Ce+1),_e===a?K===-1?K=Ce:Re!==1&&(Re=1):K!==-1&&(Re=-1)}return K===-1||fe===-1||Re===0||Re===1&&K===fe-1&&K===Z+1?"":j.slice(K,fe)},format:M.bind(null,"\\"),parse(j){c(j,"path");const z={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return z;const K=j.length;let Z=0,fe=j.charCodeAt(0);if(K===1)return C(fe)?(z.root=z.dir=j,z):(z.base=z.name=j,z);if(C(fe)){if(Z=1,C(j.charCodeAt(1))){let oe=2,he=oe;for(;oe<K&&!C(j.charCodeAt(oe));)oe++;if(oe<K&&oe!==he){for(he=oe;oe<K&&C(j.charCodeAt(oe));)oe++;if(oe<K&&oe!==he){for(he=oe;oe<K&&!C(j.charCodeAt(oe));)oe++;oe===K?Z=oe:oe!==he&&(Z=oe+1)}}}}else if(N(fe)&&j.charCodeAt(1)===i){if(K<=2)return z.root=z.dir=j,z;if(Z=2,C(j.charCodeAt(2))){if(K===3)return z.root=z.dir=j,z;Z=3}}Z>0&&(z.root=j.slice(0,Z));let T=-1,Re=Z,Ce=-1,_e=!0,pe=j.length-1,le=0;for(;pe>=Z;--pe){if(fe=j.charCodeAt(pe),C(fe)){if(!_e){Re=pe+1;break}continue}Ce===-1&&(_e=!1,Ce=pe+1),fe===a?T===-1?T=pe:le!==1&&(le=1):T!==-1&&(le=-1)}return Ce!==-1&&(T===-1||le===0||le===1&&T===Ce-1&&T===Re+1?z.base=z.name=j.slice(Re,Ce):(z.name=j.slice(Re,T),z.base=j.slice(Re,Ce),z.ext=j.slice(T,Ce))),Re>0&&Re!==Z?z.dir=j.slice(0,Re-1):z.dir=z.root,z},sep:"\\",delimiter:";",win32:null,posix:null},F=(()=>{if(v){const j=/\\/g;return()=>{const z=_().replace(j,"/");return z.slice(z.indexOf("/"))}}return()=>_()})(),B={resolve(...j){let z="",K=!1;for(let Z=j.length-1;Z>=-1&&!K;Z--){const fe=Z>=0?j[Z]:F();c(fe,"path"),fe.length!==0&&(z=`${fe}/${z}`,K=fe.charCodeAt(0)===l)}return z=P(z,!K,"/",S),K?`/${z}`:z.length>0?z:"."},normalize(j){if(c(j,"path"),j.length===0)return".";const z=j.charCodeAt(0)===l,K=j.charCodeAt(j.length-1)===l;return j=P(j,!z,"/",S),j.length===0?z?"/":K?"./":".":(K&&(j+="/"),z?`/${j}`:j)},isAbsolute(j){return c(j,"path"),j.length>0&&j.charCodeAt(0)===l},join(...j){if(j.length===0)return".";let z;for(let K=0;K<j.length;++K){const Z=j[K];c(Z,"path"),Z.length>0&&(z===void 0?z=Z:z+=`/${Z}`)}return z===void 0?".":B.normalize(z)},relative(j,z){if(c(j,"from"),c(z,"to"),j===z||(j=B.resolve(j),z=B.resolve(z),j===z))return"";const K=1,Z=j.length,fe=Z-K,T=1,Re=z.length-T,Ce=fe<Re?fe:Re;let _e=-1,pe=0;for(;pe<Ce;pe++){const oe=j.charCodeAt(K+pe);if(oe!==z.charCodeAt(T+pe))break;oe===l&&(_e=pe)}if(pe===Ce)if(Re>Ce){if(z.charCodeAt(T+pe)===l)return z.slice(T+pe+1);if(pe===0)return z.slice(T+pe)}else fe>Ce&&(j.charCodeAt(K+pe)===l?_e=pe:pe===0&&(_e=0));let le="";for(pe=K+_e+1;pe<=Z;++pe)(pe===Z||j.charCodeAt(pe)===l)&&(le+=le.length===0?"..":"/..");return`${le}${z.slice(T+_e)}`},toNamespacedPath(j){return j},dirname(j){if(c(j,"path"),j.length===0)return".";const z=j.charCodeAt(0)===l;let K=-1,Z=!0;for(let fe=j.length-1;fe>=1;--fe)if(j.charCodeAt(fe)===l){if(!Z){K=fe;break}}else Z=!1;return K===-1?z?"/":".":z&&K===1?"//":j.slice(0,K)},basename(j,z){z!==void 0&&c(z,"ext"),c(j,"path");let K=0,Z=-1,fe=!0,T;if(z!==void 0&&z.length>0&&z.length<=j.length){if(z===j)return"";let Re=z.length-1,Ce=-1;for(T=j.length-1;T>=0;--T){const _e=j.charCodeAt(T);if(_e===l){if(!fe){K=T+1;break}}else Ce===-1&&(fe=!1,Ce=T+1),Re>=0&&(_e===z.charCodeAt(Re)?--Re===-1&&(Z=T):(Re=-1,Z=Ce))}return K===Z?Z=Ce:Z===-1&&(Z=j.length),j.slice(K,Z)}for(T=j.length-1;T>=0;--T)if(j.charCodeAt(T)===l){if(!fe){K=T+1;break}}else Z===-1&&(fe=!1,Z=T+1);return Z===-1?"":j.slice(K,Z)},extname(j){c(j,"path");let z=-1,K=0,Z=-1,fe=!0,T=0;for(let Re=j.length-1;Re>=0;--Re){const Ce=j.charCodeAt(Re);if(Ce===l){if(!fe){K=Re+1;break}continue}Z===-1&&(fe=!1,Z=Re+1),Ce===a?z===-1?z=Re:T!==1&&(T=1):z!==-1&&(T=-1)}return z===-1||Z===-1||T===0||T===1&&z===Z-1&&z===K+1?"":j.slice(z,Z)},format:M.bind(null,"/"),parse(j){c(j,"path");const z={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return z;const K=j.charCodeAt(0)===l;let Z;K?(z.root="/",Z=1):Z=0;let fe=-1,T=0,Re=-1,Ce=!0,_e=j.length-1,pe=0;for(;_e>=Z;--_e){const le=j.charCodeAt(_e);if(le===l){if(!Ce){T=_e+1;break}continue}Re===-1&&(Ce=!1,Re=_e+1),le===a?fe===-1?fe=_e:pe!==1&&(pe=1):fe!==-1&&(pe=-1)}if(Re!==-1){const le=T===0&&K?1:T;fe===-1||pe===0||pe===1&&fe===Re-1&&fe===T+1?z.base=z.name=j.slice(le,Re):(z.name=j.slice(le,fe),z.base=j.slice(le,Re),z.ext=j.slice(fe,Re))}return T>0?z.dir=j.slice(0,T-1):K&&(z.dir="/"),z},sep:"/",delimiter:":",win32:null,posix:null};B.win32=D.win32=D,B.posix=D.posix=B;const U=v?D.normalize:B.normalize,A=v?D.resolve:B.resolve,k=v?D.relative:B.relative,R=v?D.dirname:B.dirname,$=v?D.basename:B.basename,J=v?D.extname:B.extname,Y=v?D.sep:B.sep},11138:function(Rt,Be,t){"use strict";t.d(Be,{$L:function(){return A},ED:function(){return D},G6:function(){return _e},IJ:function(){return B},OS:function(){return K},dK:function(){return Y},dz:function(){return F},fn:function(){return z},gn:function(){return R},i7:function(){return Re},li:function(){return C},n2:function(){return k},r:function(){return T},tY:function(){return U},tq:function(){return $},un:function(){return pe},vU:function(){return Ce}});var f=t(26386),O=t(34406),u;const _="en";let p=!1,V=!1,I=!1,L=!1,E=!1,g=!1,a=!1,l=!1,d=!1,i=!1,s,m=_,b=null,c=null,v;const C=typeof self=="object"?self:typeof t.g=="object"?t.g:{};let S;typeof C.vscode!="undefined"&&typeof C.vscode.process!="undefined"?S=C.vscode.process:typeof O!="undefined"&&(S=O);const N=typeof((u=S==null?void 0:S.versions)===null||u===void 0?void 0:u.electron)=="string",P=N&&(S==null?void 0:S.type)==="renderer";if(typeof navigator=="object"&&!P)v=navigator.userAgent,p=v.indexOf("Windows")>=0,V=v.indexOf("Macintosh")>=0,l=(v.indexOf("Macintosh")>=0||v.indexOf("iPad")>=0||v.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,I=v.indexOf("Linux")>=0,i=(v==null?void 0:v.indexOf("Mobi"))>=0,g=!0,s=f.aj(f.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||_,m=s,b=navigator.language;else if(typeof S=="object"){p=S.platform==="win32",V=S.platform==="darwin",I=S.platform==="linux",L=I&&!!S.env.SNAP&&!!S.env.SNAP_REVISION,a=N,d=!!S.env.CI||!!S.env.BUILD_ARTIFACTSTAGINGDIRECTORY,s=_,m=_;const oe=S.env.VSCODE_NLS_CONFIG;if(oe)try{const he=JSON.parse(oe),je=he.availableLanguages["*"];s=he.locale,b=he.osLocale,m=je||_,c=he._translationsConfigFile}catch(he){}E=!0}else console.error("Unable to resolve platform.");let M=0;V?M=1:p?M=3:I&&(M=2);const D=p,F=V,B=I,U=E,A=g,k=g&&typeof C.importScripts=="function",R=l,$=i,J=v,Y=m,j=typeof C.postMessage=="function"&&!C.importScripts,z=(()=>{if(j){const oe=[];C.addEventListener("message",je=>{if(je.data&&je.data.vscodeScheduleAsyncWork)for(let Xe=0,Ve=oe.length;Xe<Ve;Xe++){const se=oe[Xe];if(se.id===je.data.vscodeScheduleAsyncWork){oe.splice(Xe,1),se.callback();return}}});let he=0;return je=>{const Xe=++he;oe.push({id:Xe,callback:je}),C.postMessage({vscodeScheduleAsyncWork:Xe},"*")}}return oe=>setTimeout(oe)})(),K=V||l?2:p?1:3;let Z=!0,fe=!1;function T(){if(!fe){fe=!0;const oe=new Uint8Array(2);oe[0]=1,oe[1]=2,Z=new Uint16Array(oe.buffer)[0]===512+1}return Z}const Re=!!(J&&J.indexOf("Chrome")>=0),Ce=!!(J&&J.indexOf("Firefox")>=0),_e=!!(!Re&&J&&J.indexOf("Safari")>=0),pe=!!(J&&J.indexOf("Edg/")>=0),le=!!(J&&J.indexOf("Android")>=0)},59004:function(Rt,Be,t){"use strict";t.d(Be,{e:function(){return f}});var f;(function(O){function u(I,L){if(I.start>=L.end||L.start>=I.end)return{start:0,end:0};const E=Math.max(I.start,L.start),g=Math.min(I.end,L.end);return g-E<=0?{start:0,end:0}:{start:E,end:g}}O.intersect=u;function _(I){return I.end-I.start<=0}O.isEmpty=_;function p(I,L){return!_(u(I,L))}O.intersects=p;function V(I,L){const E=[],g={start:I.start,end:Math.min(L.start,I.end)},a={start:Math.max(L.end,I.start),end:I.end};return _(g)||E.push(g),_(a)||E.push(a),E}O.relativeComplement=V})(f||(f={}))},6227:function(Rt,Be,t){"use strict";t.d(Be,{AH:function(){return C},DZ:function(){return b},EZ:function(){return m},Hx:function(){return s},SF:function(){return E},Vb:function(){return U},Vo:function(){return v},XX:function(){return c},Xy:function(){return l},i3:function(){return N},lX:function(){return S},z_:function(){return I}});var f=t(7128),O=t(5007),u=t(75296),_=t(11138),p=t(17416),V=t(28919);function I(A){return(0,V.q)(A,!0)}class L{constructor(k){this._ignorePathCasing=k}compare(k,R,$=!1){return k===R?0:(0,p.qu)(this.getComparisonKey(k,$),this.getComparisonKey(R,$))}isEqual(k,R,$=!1){return k===R?!0:!k||!R?!1:this.getComparisonKey(k,$)===this.getComparisonKey(R,$)}getComparisonKey(k,R=!1){return k.with({path:this._ignorePathCasing(k)?k.path.toLowerCase():void 0,fragment:R?null:void 0}).toString()}isEqualOrParent(k,R,$=!1){if(k.scheme===R.scheme){if(k.scheme===O.lg.file)return f.KM(I(k),I(R),this._ignorePathCasing(k))&&k.query===R.query&&($||k.fragment===R.fragment);if(M(k.authority,R.authority))return f.KM(k.path,R.path,this._ignorePathCasing(k),"/")&&k.query===R.query&&($||k.fragment===R.fragment)}return!1}joinPath(k,...R){return V.o.joinPath(k,...R)}basenameOrAuthority(k){return m(k)||k.authority}basename(k){return u.KR.basename(k.path)}extname(k){return u.KR.extname(k.path)}dirname(k){if(k.path.length===0)return k;let R;return k.scheme===O.lg.file?R=V.o.file(u.XX(I(k))).path:(R=u.KR.dirname(k.path),k.authority&&R.length&&R.charCodeAt(0)!==47&&(console.error(`dirname("${k.toString})) resulted in a relative path`),R="/")),k.with({path:R})}normalizePath(k){if(!k.path.length)return k;let R;return k.scheme===O.lg.file?R=V.o.file(u.Fv(I(k))).path:R=u.KR.normalize(k.path),k.with({path:R})}relativePath(k,R){if(k.scheme!==R.scheme||!M(k.authority,R.authority))return;if(k.scheme===O.lg.file){const Y=u.Gf(I(k),I(R));return _.ED?f.ej(Y):Y}let $=k.path||"/";const J=R.path||"/";if(this._ignorePathCasing(k)){let Y=0;for(const j=Math.min($.length,J.length);Y<j&&!($.charCodeAt(Y)!==J.charCodeAt(Y)&&$.charAt(Y).toLowerCase()!==J.charAt(Y).toLowerCase());Y++);$=J.substr(0,Y)+$.substr(Y)}return u.KR.relative($,J)}resolvePath(k,R){if(k.scheme===O.lg.file){const $=V.o.file(u.DB(I(k),R));return k.with({authority:$.authority,path:$.path})}return R=f.fn(R),k.with({path:u.KR.resolve(k.path,R)})}isAbsolutePath(k){return!!k.path&&k.path[0]==="/"}isEqualAuthority(k,R){return k===R||k!==void 0&&R!==void 0&&(0,p.qq)(k,R)}hasTrailingPathSeparator(k,R=u.ir){if(k.scheme===O.lg.file){const $=I(k);return $.length>f.yj($).length&&$[$.length-1]===R}else{const $=k.path;return $.length>1&&$.charCodeAt($.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(k.fsPath)}}removeTrailingPathSeparator(k,R=u.ir){return D(k,R)?k.with({path:k.path.substr(0,k.path.length-1)}):k}addTrailingPathSeparator(k,R=u.ir){let $=!1;if(k.scheme===O.lg.file){const J=I(k);$=J!==void 0&&J.length===f.yj(J).length&&J[J.length-1]===R}else{R="/";const J=k.path;$=J.length===1&&J.charCodeAt(J.length-1)===47}return!$&&!D(k,R)?k.with({path:k.path+"/"}):k}}const E=new L(()=>!1),g=new L(A=>A.scheme===O.lg.file?!_.IJ:!0),a=new L(A=>!0),l=E.isEqual.bind(E),d=E.isEqualOrParent.bind(E),i=E.getComparisonKey.bind(E),s=E.basenameOrAuthority.bind(E),m=E.basename.bind(E),b=E.extname.bind(E),c=E.dirname.bind(E),v=E.joinPath.bind(E),C=E.normalizePath.bind(E),S=E.relativePath.bind(E),N=E.resolvePath.bind(E),P=E.isAbsolutePath.bind(E),M=E.isEqualAuthority.bind(E),D=E.hasTrailingPathSeparator.bind(E),F=E.removeTrailingPathSeparator.bind(E),B=E.addTrailingPathSeparator.bind(E);var U;(function(A){A.META_DATA_LABEL="label",A.META_DATA_DESCRIPTION="description",A.META_DATA_SIZE="size",A.META_DATA_MIME="mime";function k(R){const $=new Map;R.path.substring(R.path.indexOf(";")+1,R.path.lastIndexOf(";")).split(";").forEach(j=>{const[z,K]=j.split(":");z&&K&&$.set(z,K)});const Y=R.path.substring(0,R.path.indexOf(";"));return Y&&$.set(A.META_DATA_MIME,Y),$}A.parseMetaData=k})(U||(U={}))},44929:function(Rt,Be,t){"use strict";t.d(Be,{Rm:function(){return _}});var f=t(56709),O=t(38431);class u{constructor(l,d,i,s,m,b,c){this._forceIntegerValues=l,this._scrollStateBrand=void 0,this._forceIntegerValues&&(d=d|0,i=i|0,s=s|0,m=m|0,b=b|0,c=c|0),this.rawScrollLeft=s,this.rawScrollTop=c,d<0&&(d=0),s+d>i&&(s=i-d),s<0&&(s=0),m<0&&(m=0),c+m>b&&(c=b-m),c<0&&(c=0),this.width=d,this.scrollWidth=i,this.scrollLeft=s,this.height=m,this.scrollHeight=b,this.scrollTop=c}equals(l){return this.rawScrollLeft===l.rawScrollLeft&&this.rawScrollTop===l.rawScrollTop&&this.width===l.width&&this.scrollWidth===l.scrollWidth&&this.scrollLeft===l.scrollLeft&&this.height===l.height&&this.scrollHeight===l.scrollHeight&&this.scrollTop===l.scrollTop}withScrollDimensions(l,d){return new u(this._forceIntegerValues,typeof l.width!="undefined"?l.width:this.width,typeof l.scrollWidth!="undefined"?l.scrollWidth:this.scrollWidth,d?this.rawScrollLeft:this.scrollLeft,typeof l.height!="undefined"?l.height:this.height,typeof l.scrollHeight!="undefined"?l.scrollHeight:this.scrollHeight,d?this.rawScrollTop:this.scrollTop)}withScrollPosition(l){return new u(this._forceIntegerValues,this.width,this.scrollWidth,typeof l.scrollLeft!="undefined"?l.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof l.scrollTop!="undefined"?l.scrollTop:this.rawScrollTop)}createScrollEvent(l,d){const i=this.width!==l.width,s=this.scrollWidth!==l.scrollWidth,m=this.scrollLeft!==l.scrollLeft,b=this.height!==l.height,c=this.scrollHeight!==l.scrollHeight,v=this.scrollTop!==l.scrollTop;return{inSmoothScrolling:d,oldWidth:l.width,oldScrollWidth:l.scrollWidth,oldScrollLeft:l.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:l.height,oldScrollHeight:l.scrollHeight,oldScrollTop:l.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:s,scrollLeftChanged:m,heightChanged:b,scrollHeightChanged:c,scrollTopChanged:v}}}class _ extends O.JT{constructor(l){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new f.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=l.smoothScrollDuration,this._scheduleAtNextAnimationFrame=l.scheduleAtNextAnimationFrame,this._state=new u(l.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(l){this._smoothScrollDuration=l}validateScrollPosition(l){return this._state.withScrollPosition(l)}getScrollDimensions(){return this._state}setScrollDimensions(l,d){var i;const s=this._state.withScrollDimensions(l,d);this._setState(s,!!this._smoothScrolling),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(l){const d=this._state.withScrollPosition(l);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(d,!1)}setScrollPositionSmooth(l,d){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(l);if(this._smoothScrolling){l={scrollLeft:typeof l.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:l.scrollLeft,scrollTop:typeof l.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:l.scrollTop};const i=this._state.withScrollPosition(l);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let s;d?s=new L(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):s=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=s}else{const i=this._state.withScrollPosition(l);this._smoothScrolling=L.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const l=this._smoothScrolling.tick(),d=this._state.withScrollPosition(l);if(this._setState(d,!0),!!this._smoothScrolling){if(l.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(l,d){const i=this._state;i.equals(l)||(this._state=l,this._onScroll.fire(this._state.createScrollEvent(i,d)))}}class p{constructor(l,d,i){this.scrollLeft=l,this.scrollTop=d,this.isDone=i}}function V(a,l){const d=l-a;return function(i){return a+d*g(i)}}function I(a,l,d){return function(i){return i<d?a(i/d):l((i-d)/(1-d))}}class L{constructor(l,d,i,s){this.from=l,this.to=d,this.duration=s,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(l,d,i){if(Math.abs(l-d)>2.5*i){let m,b;return l<d?(m=l+.75*i,b=d-.75*i):(m=l-.75*i,b=d+.75*i),I(V(l,m),V(b,d),.33)}return V(l,d)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(l){this.to=l.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(l){const d=(l-this.startTime)/this.duration;if(d<1){const i=this.scrollLeft(d),s=this.scrollTop(d);return new p(i,s,!1)}return new p(this.to.scrollLeft,this.to.scrollTop,!0)}combine(l,d,i){return L.start(l,d,i)}static start(l,d,i){i=i+10;const s=Date.now()-10;return new L(l,d,s,i)}}function E(a){return Math.pow(a,3)}function g(a){return 1-E(1-a)}},87068:function(Rt,Be,t){"use strict";var f=t(17416),O;(function(u){u[u.Ignore=0]="Ignore",u[u.Info=1]="Info",u[u.Warning=2]="Warning",u[u.Error=3]="Error"})(O||(O={})),function(u){const _="error",p="warning",V="warn",I="info",L="ignore";function E(a){return a?f.qq(_,a)?u.Error:f.qq(p,a)||f.qq(V,a)?u.Warning:f.qq(I,a)?u.Info:u.Ignore:u.Ignore}u.fromValue=E;function g(a){switch(a){case u.Error:return _;case u.Warning:return p;case u.Info:return I;default:return L}}u.toString=g}(O||(O={})),Be.Z=O},69344:function(Rt,Be,t){"use strict";t.d(Be,{G:function(){return u}});var f=t(11138);const O=f.li.performance&&typeof f.li.performance.now=="function";class u{static create(p=!0){return new u(p)}constructor(p){this._highResolution=O&&p,this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?f.li.performance.now():Date.now()}}},17416:function(Rt,Be,t){"use strict";t.d(Be,{$i:function(){return oe},B4:function(){return He},C8:function(){return Ve},GF:function(){return i},HO:function(){return T},IO:function(){return s},J_:function(){return Re},K7:function(){return Xe},Kw:function(){return Ee},LC:function(){return c},Mh:function(){return k},P1:function(){return R},PJ:function(){return Se},Qe:function(){return he},R1:function(){return d},T5:function(){return D},TT:function(){return N},Ut:function(){return pe},V8:function(){return v},W1:function(){return Z},WU:function(){return V},YK:function(){return J},YU:function(){return I},ZG:function(){return $},ZH:function(){return j},ZK:function(){return Le},ab:function(){return je},c1:function(){return se},df:function(){return B},ec:function(){return L},fy:function(){return E},j3:function(){return g},j_:function(){return M},m5:function(){return _},mK:function(){return F},mr:function(){return m},oH:function(){return $e},oL:function(){return a},ok:function(){return A},ow:function(){return C},qq:function(){return U},qu:function(){return S},rL:function(){return Y},uS:function(){return q},un:function(){return l},uq:function(){return b},vH:function(){return fe},vU:function(){return de},zY:function(){return P}});var f=t(88280),O=t(51280),u;function _(ee){return!ee||typeof ee!="string"?!0:ee.trim().length===0}const p=/{(\d+)}/g;function V(ee,...ne){return ne.length===0?ee:ee.replace(p,function(me,ue){const Pe=parseInt(ue,10);return isNaN(Pe)||Pe<0||Pe>=ne.length?me:ne[Pe]})}function I(ee){return ee.replace(/[<>&]/g,function(ne){switch(ne){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ne}})}function L(ee){return ee.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function E(ee,ne=" "){const me=g(ee,ne);return a(me,ne)}function g(ee,ne){if(!ee||!ne)return ee;const me=ne.length;if(me===0||ee.length===0)return ee;let ue=0;for(;ee.indexOf(ne,ue)===ue;)ue=ue+me;return ee.substring(ue)}function a(ee,ne){if(!ee||!ne)return ee;const me=ne.length,ue=ee.length;if(me===0||ue===0)return ee;let Pe=ue,ot=-1;for(;ot=ee.lastIndexOf(ne,Pe-1),!(ot===-1||ot+me!==Pe);){if(ot===0)return"";Pe=ot}return ee.substring(0,Pe)}function l(ee){return ee.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function d(ee){return ee.replace(/\*/g,"")}function i(ee,ne,me={}){if(!ee)throw new Error("Cannot create regex from empty string");ne||(ee=L(ee)),me.wholeWord&&(/\B/.test(ee.charAt(0))||(ee="\\b"+ee),/\B/.test(ee.charAt(ee.length-1))||(ee=ee+"\\b"));let ue="";return me.global&&(ue+="g"),me.matchCase||(ue+="i"),me.multiline&&(ue+="m"),me.unicode&&(ue+="u"),new RegExp(ee,ue)}function s(ee){return ee.source==="^"||ee.source==="^$"||ee.source==="$"||ee.source==="^\\s*$"?!1:!!(ee.exec("")&&ee.lastIndex===0)}function m(ee){return(ee.global?"g":"")+(ee.ignoreCase?"i":"")+(ee.multiline?"m":"")+(ee.unicode?"u":"")}function b(ee){return ee.split(/\r\n|\r|\n/)}function c(ee){for(let ne=0,me=ee.length;ne<me;ne++){const ue=ee.charCodeAt(ne);if(ue!==32&&ue!==9)return ne}return-1}function v(ee,ne=0,me=ee.length){for(let ue=ne;ue<me;ue++){const Pe=ee.charCodeAt(ue);if(Pe!==32&&Pe!==9)return ee.substring(ne,ue)}return ee.substring(ne,me)}function C(ee,ne=ee.length-1){for(let me=ne;me>=0;me--){const ue=ee.charCodeAt(me);if(ue!==32&&ue!==9)return me}return-1}function S(ee,ne){return ee<ne?-1:ee>ne?1:0}function N(ee,ne,me=0,ue=ee.length,Pe=0,ot=ne.length){for(;me<ue&&Pe<ot;me++,Pe++){const tt=ee.charCodeAt(me),st=ne.charCodeAt(Pe);if(tt<st)return-1;if(tt>st)return 1}const gt=ue-me,nt=ot-Pe;return gt<nt?-1:gt>nt?1:0}function P(ee,ne){return M(ee,ne,0,ee.length,0,ne.length)}function M(ee,ne,me=0,ue=ee.length,Pe=0,ot=ne.length){for(;me<ue&&Pe<ot;me++,Pe++){let tt=ee.charCodeAt(me),st=ne.charCodeAt(Pe);if(tt===st)continue;if(tt>=128||st>=128)return N(ee.toLowerCase(),ne.toLowerCase(),me,ue,Pe,ot);F(tt)&&(tt-=32),F(st)&&(st-=32);const It=tt-st;if(It!==0)return It}const gt=ue-me,nt=ot-Pe;return gt<nt?-1:gt>nt?1:0}function D(ee){return ee>=48&&ee<=57}function F(ee){return ee>=97&&ee<=122}function B(ee){return ee>=65&&ee<=90}function U(ee,ne){return ee.length===ne.length&&M(ee,ne)===0}function A(ee,ne){const me=ne.length;return ne.length>ee.length?!1:M(ee,ne,0,me)===0}function k(ee,ne){const me=Math.min(ee.length,ne.length);let ue;for(ue=0;ue<me;ue++)if(ee.charCodeAt(ue)!==ne.charCodeAt(ue))return ue;return me}function R(ee,ne){const me=Math.min(ee.length,ne.length);let ue;const Pe=ee.length-1,ot=ne.length-1;for(ue=0;ue<me;ue++)if(ee.charCodeAt(Pe-ue)!==ne.charCodeAt(ot-ue))return ue;return me}function $(ee){return 55296<=ee&&ee<=56319}function J(ee){return 56320<=ee&&ee<=57343}function Y(ee,ne){return(ee-55296<<10)+(ne-56320)+65536}function j(ee,ne,me){const ue=ee.charCodeAt(me);if($(ue)&&me+1<ne){const Pe=ee.charCodeAt(me+1);if(J(Pe))return Y(ue,Pe)}return ue}function z(ee,ne){const me=ee.charCodeAt(ne-1);if(J(me)&&ne>1){const ue=ee.charCodeAt(ne-2);if($(ue))return Y(ue,me)}return me}class K{get offset(){return this._offset}constructor(ne,me=0){this._str=ne,this._len=ne.length,this._offset=me}setOffset(ne){this._offset=ne}prevCodePoint(){const ne=z(this._str,this._offset);return this._offset-=ne>=65536?2:1,ne}nextCodePoint(){const ne=j(this._str,this._len,this._offset);return this._offset+=ne>=65536?2:1,ne}eol(){return this._offset>=this._len}}class Z{get offset(){return this._iterator.offset}constructor(ne,me=0){this._iterator=new K(ne,me)}nextGraphemeLength(){const ne=ve.getInstance(),me=this._iterator,ue=me.offset;let Pe=ne.getGraphemeBreakType(me.nextCodePoint());for(;!me.eol();){const ot=me.offset,gt=ne.getGraphemeBreakType(me.nextCodePoint());if(we(Pe,gt)){me.setOffset(ot);break}Pe=gt}return me.offset-ue}prevGraphemeLength(){const ne=ve.getInstance(),me=this._iterator,ue=me.offset;let Pe=ne.getGraphemeBreakType(me.prevCodePoint());for(;me.offset>0;){const ot=me.offset,gt=ne.getGraphemeBreakType(me.prevCodePoint());if(we(gt,Pe)){me.setOffset(ot);break}Pe=gt}return ue-me.offset}eol(){return this._iterator.eol()}}function fe(ee,ne){return new Z(ee,ne).nextGraphemeLength()}function T(ee,ne){return new Z(ee,ne).prevGraphemeLength()}function Re(ee,ne){ne>0&&J(ee.charCodeAt(ne))&&ne--;const me=ne+fe(ee,ne);return[me-T(ee,me),me]}let Ce;function _e(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function pe(ee){return Ce||(Ce=_e()),Ce.test(ee)}const le=/^[\t\n\r\x20-\x7E]*$/;function oe(ee){return le.test(ee)}const he=/[\u2028\u2029]/;function je(ee){return he.test(ee)}function Xe(ee){return ee>=11904&&ee<=55215||ee>=63744&&ee<=64255||ee>=65281&&ee<=65374}function Ve(ee){return ee>=127462&&ee<=127487||ee===8986||ee===8987||ee===9200||ee===9203||ee>=9728&&ee<=10175||ee===11088||ee===11093||ee>=127744&&ee<=128591||ee>=128640&&ee<=128764||ee>=128992&&ee<=129008||ee>=129280&&ee<=129535||ee>=129648&&ee<=129782}const se=String.fromCharCode(65279);function q(ee){return!!(ee&&ee.length>0&&ee.charCodeAt(0)===65279)}function Ee(ee,ne=!1){return ee?(ne&&(ee=ee.replace(/\\./g,"")),ee.toLowerCase()!==ee):!1}function Se(ee){return ee=ee%(2*26),ee<26?String.fromCharCode(97+ee):String.fromCharCode(65+ee-26)}function we(ee,ne){return ee===0?ne!==5&&ne!==7:ee===2&&ne===3?!1:ee===4||ee===2||ee===3||ne===4||ne===2||ne===3?!0:!(ee===8&&(ne===8||ne===9||ne===11||ne===12)||(ee===11||ee===9)&&(ne===9||ne===10)||(ee===12||ee===10)&&ne===10||ne===5||ne===13||ne===7||ee===1||ee===13&&ne===14||ee===6&&ne===6)}class ve{static getInstance(){return ve._INSTANCE||(ve._INSTANCE=new ve),ve._INSTANCE}constructor(){this._data=Ne()}getGraphemeBreakType(ne){if(ne<32)return ne===10?3:ne===13?2:4;if(ne<127)return 0;const me=this._data,ue=me.length/3;let Pe=1;for(;Pe<=ue;)if(ne<me[3*Pe])Pe=2*Pe;else if(ne>me[3*Pe+1])Pe=2*Pe+1;else return me[3*Pe+2];return 0}}ve._INSTANCE=null;function Ne(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function $e(ee,ne){if(ee===0)return 0;const me=Ke(ee,ne);if(me!==void 0)return me;const ue=new K(ne,ee);return ue.prevCodePoint(),ue.offset}function Ke(ee,ne){const me=new K(ne,ee);let ue=me.prevCodePoint();for(;ze(ue)||ue===65039||ue===8419;){if(me.offset===0)return;ue=me.prevCodePoint()}if(!Ve(ue))return;let Pe=me.offset;return Pe>0&&me.prevCodePoint()===8205&&(Pe=me.offset),Pe}function ze(ee){return 127995<=ee&&ee<=127999}const He="\xA0";class Le{static getInstance(ne){return Le.cache.get(Array.from(ne))}static getLocales(){return Le._locales.value}constructor(ne){this.confusableDictionary=ne}isAmbiguous(ne){return this.confusableDictionary.has(ne)}getPrimaryConfusable(ne){return this.confusableDictionary.get(ne)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}u=Le,Le.ambiguousCharacterData=new O.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Le.cache=new f.t(ee=>{function ne(st){const It=new Map;for(let Wt=0;Wt<st.length;Wt+=2)It.set(st[Wt],st[Wt+1]);return It}function me(st,It){const Wt=new Map(st);for(const[Vt,Ct]of It)Wt.set(Vt,Ct);return Wt}function ue(st,It){if(!st)return It;const Wt=new Map;for(const[Vt,Ct]of st)It.has(Vt)&&Wt.set(Vt,Ct);return Wt}const Pe=u.ambiguousCharacterData.value;let ot=ee.filter(st=>!st.startsWith("_")&&st in Pe);ot.length===0&&(ot=["_default"]);let gt;for(const st of ot){const It=ne(Pe[st]);gt=ue(gt,It)}const nt=ne(Pe._common),tt=me(nt,gt);return new Le(tt)}),Le._locales=new O.o(()=>Object.keys(Le.ambiguousCharacterData.value).filter(ee=>!ee.startsWith("_")));class de{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(de.getRawData())),this._data}static isInvisibleCharacter(ne){return de.getData().has(ne)}static get codePoints(){return de.getData()}}de._data=void 0},808:function(Rt,Be,t){"use strict";t.d(Be,{n:function(){return f}});const f=Symbol("MicrotaskDelay")},87057:function(Rt,Be,t){"use strict";t.d(Be,{Id:function(){return I}});var f=t(17416);class O{constructor(){this._value="",this._pos=0}reset(E){return this._value=E,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(E){const g=E.charCodeAt(0),a=this._value.charCodeAt(this._pos);return g-a}value(){return this._value[this._pos]}}class u{constructor(E=!0){this._caseSensitive=E}reset(E){return this._value=E,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let E=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(E)this._from++;else break;else E=!1;return this}cmp(E){return this._caseSensitive?(0,f.TT)(E,this._value,0,E.length,this._from,this._to):(0,f.j_)(E,this._value,0,E.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class _{constructor(E=!0,g=!0){this._splitOnBackslash=E,this._caseSensitive=g}reset(E){this._from=0,this._to=0,this._value=E,this._valueLen=E.length;for(let g=E.length-1;g>=0;g--,this._valueLen--){const a=this._value.charCodeAt(g);if(!(a===47||this._splitOnBackslash&&a===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let E=!0;for(;this._to<this._valueLen;this._to++){const g=this._value.charCodeAt(this._to);if(g===47||this._splitOnBackslash&&g===92)if(E)this._from++;else break;else E=!1}return this}cmp(E){return this._caseSensitive?(0,f.TT)(E,this._value,0,E.length,this._from,this._to):(0,f.j_)(E,this._value,0,E.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class p{constructor(E,g){this._ignorePathCasing=E,this._ignoreQueryAndFragment=g,this._states=[],this._stateIdx=0}reset(E){return this._value=E,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new _(!1,!this._ignorePathCasing(E)),this._pathIterator.reset(E.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(E)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(E){if(this._states[this._stateIdx]===1)return(0,f.zY)(E,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,f.zY)(E,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(E);if(this._states[this._stateIdx]===4)return(0,f.qu)(E,this._value.query);if(this._states[this._stateIdx]===5)return(0,f.qu)(E,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class V{constructor(){this.height=1}rotateLeft(){const E=this.right;return this.right=E.left,E.left=this,this.updateHeight(),E.updateHeight(),E}rotateRight(){const E=this.left;return this.left=E.right,E.right=this,this.updateHeight(),E.updateHeight(),E}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var E,g;return(g=(E=this.left)===null||E===void 0?void 0:E.height)!==null&&g!==void 0?g:0}get heightRight(){var E,g;return(g=(E=this.right)===null||E===void 0?void 0:E.height)!==null&&g!==void 0?g:0}}class I{static forUris(E=()=>!1,g=()=>!1){return new I(new p(E,g))}static forStrings(){return new I(new O)}static forConfigKeys(){return new I(new u)}constructor(E){this._iter=E}clear(){this._root=void 0}set(E,g){const a=this._iter.reset(E);let l;this._root||(this._root=new V,this._root.segment=a.value());const d=[];for(l=this._root;;){const s=a.cmp(l.segment);if(s>0)l.left||(l.left=new V,l.left.segment=a.value()),d.push([-1,l]),l=l.left;else if(s<0)l.right||(l.right=new V,l.right.segment=a.value()),d.push([1,l]),l=l.right;else if(a.hasNext())a.next(),l.mid||(l.mid=new V,l.mid.segment=a.value()),d.push([0,l]),l=l.mid;else break}const i=l.value;l.value=g,l.key=E;for(let s=d.length-1;s>=0;s--){const m=d[s][1];m.updateHeight();const b=m.balanceFactor();if(b<-1||b>1){const c=d[s][0],v=d[s+1][0];if(c===1&&v===1)d[s][1]=m.rotateLeft();else if(c===-1&&v===-1)d[s][1]=m.rotateRight();else if(c===1&&v===-1)m.right=d[s+1][1]=d[s+1][1].rotateRight(),d[s][1]=m.rotateLeft();else if(c===-1&&v===1)m.left=d[s+1][1]=d[s+1][1].rotateLeft(),d[s][1]=m.rotateRight();else throw new Error;if(s>0)switch(d[s-1][0]){case-1:d[s-1][1].left=d[s][1];break;case 1:d[s-1][1].right=d[s][1];break;case 0:d[s-1][1].mid=d[s][1];break}else this._root=d[0][1]}}return i}get(E){var g;return(g=this._getNode(E))===null||g===void 0?void 0:g.value}_getNode(E){const g=this._iter.reset(E);let a=this._root;for(;a;){const l=g.cmp(a.segment);if(l>0)a=a.left;else if(l<0)a=a.right;else if(g.hasNext())g.next(),a=a.mid;else break}return a}has(E){const g=this._getNode(E);return!((g==null?void 0:g.value)===void 0&&(g==null?void 0:g.mid)===void 0)}delete(E){return this._delete(E,!1)}deleteSuperstr(E){return this._delete(E,!0)}_delete(E,g){var a;const l=this._iter.reset(E),d=[];let i=this._root;for(;i;){const s=l.cmp(i.segment);if(s>0)d.push([-1,i]),i=i.left;else if(s<0)d.push([1,i]),i=i.right;else if(l.hasNext())l.next(),d.push([0,i]),i=i.mid;else break}if(i){if(g?(i.left=void 0,i.mid=void 0,i.right=void 0,i.height=1):(i.key=void 0,i.value=void 0),!i.mid&&!i.value)if(i.left&&i.right){const s=this._min(i.right);if(s.key){const{key:m,value:b,segment:c}=s;this._delete(s.key,!1),i.key=m,i.value=b,i.segment=c}}else{const s=(a=i.left)!==null&&a!==void 0?a:i.right;if(d.length>0){const[m,b]=d[d.length-1];switch(m){case-1:b.left=s;break;case 0:b.mid=s;break;case 1:b.right=s;break}}else this._root=s}for(let s=d.length-1;s>=0;s--){const m=d[s][1];m.updateHeight();const b=m.balanceFactor();if(b>1?(m.right.balanceFactor()>=0||(m.right=m.right.rotateRight()),d[s][1]=m.rotateLeft()):b<-1&&(m.left.balanceFactor()<=0||(m.left=m.left.rotateLeft()),d[s][1]=m.rotateRight()),s>0)switch(d[s-1][0]){case-1:d[s-1][1].left=d[s][1];break;case 1:d[s-1][1].right=d[s][1];break;case 0:d[s-1][1].mid=d[s][1];break}else this._root=d[0][1]}}}_min(E){for(;E.left;)E=E.left;return E}findSubstr(E){const g=this._iter.reset(E);let a=this._root,l;for(;a;){const d=g.cmp(a.segment);if(d>0)a=a.left;else if(d<0)a=a.right;else if(g.hasNext())g.next(),l=a.value||l,a=a.mid;else break}return a&&a.value||l}findSuperstr(E){return this._findSuperstrOrElement(E,!1)}_findSuperstrOrElement(E,g){const a=this._iter.reset(E);let l=this._root;for(;l;){const d=a.cmp(l.segment);if(d>0)l=l.left;else if(d<0)l=l.right;else if(a.hasNext())a.next(),l=l.mid;else return l.mid?this._entries(l.mid):g?l.value:void 0}}forEach(E){for(const[g,a]of this)E(a,g)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(E){const g=[];return this._dfsEntries(E,g),g[Symbol.iterator]()}_dfsEntries(E,g){E&&(E.left&&this._dfsEntries(E.left,g),E.value&&g.push([E.key,E.value]),E.mid&&this._dfsEntries(E.mid,g),E.right&&this._dfsEntries(E.right,g))}}},8216:function(Rt,Be,t){"use strict";t.d(Be,{k:function(){return u}});var f=t(407),O;(function(_){function p(V){return V&&typeof V=="object"&&typeof V.id=="string"}_.isThemeColor=p})(O||(O={}));var u;(function(_){_.iconNameSegment="[A-Za-z0-9]+",_.iconNameExpression="[A-Za-z0-9-]+",_.iconModifierExpression="~[A-Za-z]+",_.iconNameCharacter="[A-Za-z0-9~-]";const p=new RegExp(`^(${_.iconNameExpression})(${_.iconModifierExpression})?$`);function V(m){const b=p.exec(m.id);if(!b)return V(f.l.error);const[,c,v]=b,C=["codicon","codicon-"+c];return v&&C.push("codicon-modifier-"+v.substring(1)),C}_.asClassNameArray=V;function I(m){return V(m).join(" ")}_.asClassName=I;function L(m){return"."+V(m).join(".")}_.asCSSSelector=L;function E(m){return m&&typeof m=="object"&&typeof m.id=="string"&&(typeof m.color=="undefined"||O.isThemeColor(m.color))}_.isThemeIcon=E;const g=new RegExp(`^\\$\\((${_.iconNameExpression}(?:${_.iconModifierExpression})?)\\)$`);function a(m){const b=g.exec(m);if(!b)return;const[,c]=b;return{id:c}}_.fromString=a;function l(m){return{id:m}}_.fromId=l;function d(m,b){let c=m.id;const v=c.lastIndexOf("~");return v!==-1&&(c=c.substring(0,v)),b&&(c=`${c}~${b}`),{id:c}}_.modify=d;function i(m){const b=m.id.lastIndexOf("~");if(b!==-1)return m.id.substring(b+1)}_.getModifier=i;function s(m,b){var c,v;return m.id===b.id&&((c=m.color)===null||c===void 0?void 0:c.id)===((v=b.color)===null||v===void 0?void 0:v.id)}_.isEqual=s})(u||(u={}))},14818:function(Rt,Be,t){"use strict";t.d(Be,{$K:function(){return L},D8:function(){return d},HD:function(){return f},Jp:function(){return E},Kn:function(){return O},M2:function(){return m},TW:function(){return p},cW:function(){return a},f6:function(){return s},fU:function(){return u},hj:function(){return _},jn:function(){return V},mf:function(){return l},o8:function(){return I},p_:function(){return g}});function f(b){return typeof b=="string"}function O(b){return typeof b=="object"&&b!==null&&!Array.isArray(b)&&!(b instanceof RegExp)&&!(b instanceof Date)}function u(b){const c=Object.getPrototypeOf(Uint8Array);return typeof b=="object"&&b instanceof c}function _(b){return typeof b=="number"&&!isNaN(b)}function p(b){return!!b&&typeof b[Symbol.iterator]=="function"}function V(b){return b===!0||b===!1}function I(b){return typeof b=="undefined"}function L(b){return!E(b)}function E(b){return I(b)||b===null}function g(b,c){if(!b)throw new Error(c?`Unexpected type, expected '${c}'`:"Unexpected type")}function a(b){if(E(b))throw new Error("Assertion Failed: argument is undefined or null");return b}function l(b){return typeof b=="function"}function d(b,c){const v=Math.min(b.length,c.length);for(let C=0;C<v;C++)i(b[C],c[C])}function i(b,c){if(f(c)){if(typeof b!==c)throw new Error(`argument does not match constraint: typeof ${c}`)}else if(l(c)){try{if(b instanceof c)return}catch(v){}if(!E(b)&&b.constructor===c||c.length===1&&c.call(void 0,b)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function s(b){return b===null?void 0:b}function m(b){return typeof b=="undefined"?null:b}},79886:function(Rt,Be,t){"use strict";t.d(Be,{A:function(){return O},K:function(){return f}});function f(u){return u<0?0:u>255?255:u|0}function O(u){return u<0?0:u>4294967295?4294967295:u|0}},28919:function(Rt,Be,t){"use strict";t.d(Be,{o:function(){return l},q:function(){return c}});var f=t(75296),O=t(11138);const u=/^\w[\w\d+.-]*$/,_=/^\//,p=/^\/\//;function V(P,M){if(!P.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${P.authority}", path: "${P.path}", query: "${P.query}", fragment: "${P.fragment}"}`);if(P.scheme&&!u.test(P.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(P.path){if(P.authority){if(!_.test(P.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(P.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function I(P,M){return!P&&!M?"file":P}function L(P,M){switch(P){case"https":case"http":case"file":M?M[0]!==g&&(M=g+M):M=g;break}return M}const E="",g="/",a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class l{static isUri(M){return M instanceof l?!0:M?typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function":!1}constructor(M,D,F,B,U,A=!1){typeof M=="object"?(this.scheme=M.scheme||E,this.authority=M.authority||E,this.path=M.path||E,this.query=M.query||E,this.fragment=M.fragment||E):(this.scheme=I(M,A),this.authority=D||E,this.path=L(this.scheme,F||E),this.query=B||E,this.fragment=U||E,V(this,A))}get fsPath(){return c(this,!1)}with(M){if(!M)return this;let{scheme:D,authority:F,path:B,query:U,fragment:A}=M;return D===void 0?D=this.scheme:D===null&&(D=E),F===void 0?F=this.authority:F===null&&(F=E),B===void 0?B=this.path:B===null&&(B=E),U===void 0?U=this.query:U===null&&(U=E),A===void 0?A=this.fragment:A===null&&(A=E),D===this.scheme&&F===this.authority&&B===this.path&&U===this.query&&A===this.fragment?this:new i(D,F,B,U,A)}static parse(M,D=!1){const F=a.exec(M);return F?new i(F[2]||E,N(F[4]||E),N(F[5]||E),N(F[7]||E),N(F[9]||E),D):new i(E,E,E,E,E)}static file(M){let D=E;if(O.ED&&(M=M.replace(/\\/g,g)),M[0]===g&&M[1]===g){const F=M.indexOf(g,2);F===-1?(D=M.substring(2),M=g):(D=M.substring(2,F),M=M.substring(F)||g)}return new i("file",D,M,E,E)}static from(M,D){return new i(M.scheme,M.authority,M.path,M.query,M.fragment,D)}static joinPath(M,...D){if(!M.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let F;return O.ED&&M.scheme==="file"?F=l.file(f.Ku.join(c(M,!0),...D)).path:F=f.KR.join(M.path,...D),M.with({path:F})}toString(M=!1){return v(this,M)}toJSON(){return this}static revive(M){var D,F;if(M){if(M instanceof l)return M;{const B=new i(M);return B._formatted=(D=M.external)!==null&&D!==void 0?D:null,B._fsPath=M._sep===d&&(F=M.fsPath)!==null&&F!==void 0?F:null,B}}else return M}}const d=O.ED?1:void 0;class i extends l{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=c(this,!1)),this._fsPath}toString(M=!1){return M?v(this,!0):(this._formatted||(this._formatted=v(this,!1)),this._formatted)}toJSON(){const M={$mid:1};return this._fsPath&&(M.fsPath=this._fsPath,M._sep=d),this._formatted&&(M.external=this._formatted),this.path&&(M.path=this.path),this.scheme&&(M.scheme=this.scheme),this.authority&&(M.authority=this.authority),this.query&&(M.query=this.query),this.fragment&&(M.fragment=this.fragment),M}}const s={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function m(P,M,D){let F,B=-1;for(let U=0;U<P.length;U++){const A=P.charCodeAt(U);if(A>=97&&A<=122||A>=65&&A<=90||A>=48&&A<=57||A===45||A===46||A===95||A===126||M&&A===47||D&&A===91||D&&A===93||D&&A===58)B!==-1&&(F+=encodeURIComponent(P.substring(B,U)),B=-1),F!==void 0&&(F+=P.charAt(U));else{F===void 0&&(F=P.substr(0,U));const k=s[A];k!==void 0?(B!==-1&&(F+=encodeURIComponent(P.substring(B,U)),B=-1),F+=k):B===-1&&(B=U)}}return B!==-1&&(F+=encodeURIComponent(P.substring(B))),F!==void 0?F:P}function b(P){let M;for(let D=0;D<P.length;D++){const F=P.charCodeAt(D);F===35||F===63?(M===void 0&&(M=P.substr(0,D)),M+=s[F]):M!==void 0&&(M+=P[D])}return M!==void 0?M:P}function c(P,M){let D;return P.authority&&P.path.length>1&&P.scheme==="file"?D=`//${P.authority}${P.path}`:P.path.charCodeAt(0)===47&&(P.path.charCodeAt(1)>=65&&P.path.charCodeAt(1)<=90||P.path.charCodeAt(1)>=97&&P.path.charCodeAt(1)<=122)&&P.path.charCodeAt(2)===58?M?D=P.path.substr(1):D=P.path[1].toLowerCase()+P.path.substr(2):D=P.path,O.ED&&(D=D.replace(/\//g,"\\")),D}function v(P,M){const D=M?b:m;let F="",{scheme:B,authority:U,path:A,query:k,fragment:R}=P;if(B&&(F+=B,F+=":"),(U||B==="file")&&(F+=g,F+=g),U){let $=U.indexOf("@");if($!==-1){const J=U.substr(0,$);U=U.substr($+1),$=J.lastIndexOf(":"),$===-1?F+=D(J,!1,!1):(F+=D(J.substr(0,$),!1,!1),F+=":",F+=D(J.substr($+1),!1,!0)),F+="@"}U=U.toLowerCase(),$=U.lastIndexOf(":"),$===-1?F+=D(U,!1,!0):(F+=D(U.substr(0,$),!1,!0),F+=U.substr($))}if(A){if(A.length>=3&&A.charCodeAt(0)===47&&A.charCodeAt(2)===58){const $=A.charCodeAt(1);$>=65&&$<=90&&(A=`/${String.fromCharCode($+32)}:${A.substr(3)}`)}else if(A.length>=2&&A.charCodeAt(1)===58){const $=A.charCodeAt(0);$>=65&&$<=90&&(A=`${String.fromCharCode($+32)}:${A.substr(2)}`)}F+=D(A,!0,!1)}return k&&(F+="?",F+=D(k,!1,!1)),R&&(F+="#",F+=M?R:m(R,!1,!1)),F}function C(P){try{return decodeURIComponent(P)}catch(M){return P.length>3?P.substr(0,3)+C(P.substr(3)):P}}const S=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(P){return P.match(S)?P.replace(S,M=>C(M)):P}},38577:function(Rt,Be,t){"use strict";t.d(Be,{R:function(){return f}});const f=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let O;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?O=crypto.getRandomValues.bind(crypto):O=function(p){for(let V=0;V<p.length;V++)p[V]=Math.floor(Math.random()*256);return p};const u=new Uint8Array(16),_=[];for(let p=0;p<256;p++)_.push(p.toString(16).padStart(2,"0"));return function(){O(u),u[6]=u[6]&15|64,u[8]=u[8]&63|128;let V=0,I="";return I+=_[u[V++]],I+=_[u[V++]],I+=_[u[V++]],I+=_[u[V++]],I+="-",I+=_[u[V++]],I+=_[u[V++]],I+="-",I+=_[u[V++]],I+=_[u[V++]],I+="-",I+=_[u[V++]],I+=_[u[V++]],I+="-",I+=_[u[V++]],I+=_[u[V++]],I+=_[u[V++]],I+=_[u[V++]],I+=_[u[V++]],I+=_[u[V++]],I}}()},71344:function(Rt,Be,t){"use strict";t.d(Be,{N:function(){return O}});var f=t(34733);function O(u,_){u instanceof f.Z?(u.setFontFamily(_.getMassagedFontFamily()),u.setFontWeight(_.fontWeight),u.setFontSize(_.fontSize),u.setFontFeatureSettings(_.fontFeatureSettings),u.setFontVariationSettings(_.fontVariationSettings),u.setLineHeight(_.lineHeight),u.setLetterSpacing(_.letterSpacing)):(u.style.fontFamily=_.getMassagedFontFamily(),u.style.fontWeight=_.fontWeight,u.style.fontSize=_.fontSize+"px",u.style.fontFeatureSettings=_.fontFeatureSettings,u.style.fontVariationSettings=_.fontVariationSettings,u.style.lineHeight=_.lineHeight+"px",u.style.letterSpacing=_.letterSpacing+"px")}},8220:function(Rt,Be,t){"use strict";t.d(Be,{I:function(){return u}});var f=t(38431),O=t(56709);class u extends f.JT{constructor(p,V){super(),this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=p,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,V)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(p=>{p&&p[0]&&p[0].contentRect?this.observe({width:p[0].contentRect.width,height:p[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(p){this.measureReferenceDomElement(!0,p)}measureReferenceDomElement(p,V){let I=0,L=0;V?(I=V.width,L=V.height):this._referenceDomElement&&(I=this._referenceDomElement.clientWidth,L=this._referenceDomElement.clientHeight),I=Math.max(5,I),L=Math.max(5,L),(this._width!==I||this._height!==L)&&(this._width=I,this._height=L,p&&this._onDidChange.fire())}}},15125:function(Rt,Be,t){"use strict";t.d(Be,{g:function(){return l}});var f=t(71488),O=t(56709),u=t(38431),_=t(71344);class p{constructor(i,s){this.chr=i,this.type=s,this.width=0}fulfill(i){this.width=i}}class V{constructor(i,s){this._bareFontInfo=i,this._requests=s,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const i=document.createElement("div");i.style.position="absolute",i.style.top="-50000px",i.style.width="50000px";const s=document.createElement("div");(0,_.N)(s,this._bareFontInfo),i.appendChild(s);const m=document.createElement("div");(0,_.N)(m,this._bareFontInfo),m.style.fontWeight="bold",i.appendChild(m);const b=document.createElement("div");(0,_.N)(b,this._bareFontInfo),b.style.fontStyle="italic",i.appendChild(b);const c=[];for(const v of this._requests){let C;v.type===0&&(C=s),v.type===2&&(C=m),v.type===1&&(C=b),C.appendChild(document.createElement("br"));const S=document.createElement("span");V._render(S,v),C.appendChild(S),c.push(S)}this._container=i,this._testElements=c}static _render(i,s){if(s.chr===" "){let m="\xA0";for(let b=0;b<8;b++)m+=m;i.innerText=m}else{let m=s.chr;for(let b=0;b<8;b++)m+=m;i.textContent=m}}_readFromDomElements(){for(let i=0,s=this._requests.length;i<s;i++){const m=this._requests[i],b=this._testElements[i];m.fulfill(b.offsetWidth/256)}}}function I(d,i){new V(d,i).read()}var L=t(70054),E=t(5921);class g extends u.JT{constructor(){super(),this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._cache=new a,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new a,this._onDidChange.fire()}_writeToCache(i,s){this._cache.put(i,s),!s.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const i=this._cache.getValues();let s=!1;for(const m of i)m.isTrusted||(s=!0,this._cache.remove(m));s&&this._onDidChange.fire()}readFontInfo(i){if(!this._cache.has(i)){let s=this._actualReadFontInfo(i);(s.typicalHalfwidthCharacterWidth<=2||s.typicalFullwidthCharacterWidth<=2||s.spaceWidth<=2||s.maxDigitWidth<=2)&&(s=new E.pR({pixelRatio:f.PixelRatio.value,fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,fontVariationSettings:s.fontVariationSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:s.isMonospace,typicalHalfwidthCharacterWidth:Math.max(s.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(s.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:s.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(s.spaceWidth,5),middotWidth:Math.max(s.middotWidth,5),wsmiddotWidth:Math.max(s.wsmiddotWidth,5),maxDigitWidth:Math.max(s.maxDigitWidth,5)},!1)),this._writeToCache(i,s)}return this._cache.get(i)}_createRequest(i,s,m,b){const c=new p(i,s);return m.push(c),b==null||b.push(c),c}_actualReadFontInfo(i){const s=[],m=[],b=this._createRequest("n",0,s,m),c=this._createRequest("\uFF4D",0,s,null),v=this._createRequest(" ",0,s,m),C=this._createRequest("0",0,s,m),S=this._createRequest("1",0,s,m),N=this._createRequest("2",0,s,m),P=this._createRequest("3",0,s,m),M=this._createRequest("4",0,s,m),D=this._createRequest("5",0,s,m),F=this._createRequest("6",0,s,m),B=this._createRequest("7",0,s,m),U=this._createRequest("8",0,s,m),A=this._createRequest("9",0,s,m),k=this._createRequest("\u2192",0,s,m),R=this._createRequest("\uFFEB",0,s,null),$=this._createRequest("\xB7",0,s,m),J=this._createRequest(String.fromCharCode(11825),0,s,null),Y="|/-_ilm%";for(let fe=0,T=Y.length;fe<T;fe++)this._createRequest(Y.charAt(fe),0,s,m),this._createRequest(Y.charAt(fe),1,s,m),this._createRequest(Y.charAt(fe),2,s,m);I(i,s);const j=Math.max(C.width,S.width,N.width,P.width,M.width,D.width,F.width,B.width,U.width,A.width);let z=i.fontFeatureSettings===L.n0.OFF;const K=m[0].width;for(let fe=1,T=m.length;z&&fe<T;fe++){const Re=K-m[fe].width;if(Re<-.001||Re>.001){z=!1;break}}let Z=!0;return z&&R.width!==K&&(Z=!1),R.width>k.width&&(Z=!1),new E.pR({pixelRatio:f.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:z,typicalHalfwidthCharacterWidth:b.width,typicalFullwidthCharacterWidth:c.width,canUseHalfwidthRightwardsArrow:Z,spaceWidth:v.width,middotWidth:$.width,wsmiddotWidth:J.width,maxDigitWidth:j},!0)}}class a{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(i){const s=i.getId();return!!this._values[s]}get(i){const s=i.getId();return this._values[s]}put(i,s){const m=i.getId();this._keys[m]=i,this._values[m]=s}remove(i){const s=i.getId();delete this._keys[s],delete this._values[s]}getValues(){return Object.keys(this._keys).map(i=>this._values[i])}}const l=new g},10432:function(Rt,Be,t){"use strict";t.d(Be,{n:function(){return u}});var f=t(56709);class O{constructor(){this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new f.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(p){return p==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}setTabFocusMode(p,V){V==="terminalFocus"?this._tabFocusTerminal=p:this._tabFocusEditor=p,this._onDidChangeTabFocus.fire()}}const u=new O},10521:function(Rt,Be,t){"use strict";t.d(Be,{Fz:function(){return b},Nl:function(){return s},RA:function(){return i},Tj:function(){return v},pd:function(){return d}});var f=t(71488),O=t(34441),u=t(54505),_=t(6544),p=t(14209),V=t(13484),I=t(56709),L=t(38431),E=t(9161),g=t(17416),a=t(60153),l=t(57841),d;(function(C){C.Tap="-monaco-textarea-synthetic-tap"})(d||(d={}));const i={forceCopyWithSyntaxHighlighting:!1};class s{constructor(){this._lastState=null}set(S,N){this._lastState={lastCopiedValue:S,data:N}}get(S){return this._lastState&&this._lastState.lastCopiedValue===S?this._lastState.data:(this._lastState=null,null)}}s.INSTANCE=new s;class m{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(S){S=S||"";const N={text:S,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=S.length,N}}class b extends L.JT{get textAreaState(){return this._textAreaState}constructor(S,N,P,M){super(),this._host=S,this._textArea=N,this._OS=P,this._browser=M,this._onFocus=this._register(new I.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new I.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new I.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new I.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new I.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new I.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new I.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new I.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new I.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new I.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new I.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new V.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new V.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=a.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let D=null;this._register(this._textArea.onKeyDown(F=>{const B=new _.y(F);(B.keyCode===114||this._currentComposition&&B.keyCode===1)&&B.stopPropagation(),B.equals(9)&&B.preventDefault(),D=B,this._onKeyDown.fire(B)})),this._register(this._textArea.onKeyUp(F=>{const B=new _.y(F);this._onKeyUp.fire(B)})),this._register(this._textArea.onCompositionStart(F=>{a.al&&console.log("[compositionstart]",F);const B=new m;if(this._currentComposition){this._currentComposition=B;return}if(this._currentComposition=B,this._OS===2&&D&&D.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===F.data&&(D.code==="ArrowRight"||D.code==="ArrowLeft")){a.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",F),B.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:F.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:F.data});return}this._onCompositionStart.fire({data:F.data})})),this._register(this._textArea.onCompositionUpdate(F=>{a.al&&console.log("[compositionupdate]",F);const B=this._currentComposition;if(!B)return;if(this._browser.isAndroid){const A=a.un.readFromTextArea(this._textArea,this._textAreaState),k=a.un.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(k),this._onCompositionUpdate.fire(F);return}const U=B.handleCompositionUpdate(F.data);this._textAreaState=a.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(U),this._onCompositionUpdate.fire(F)})),this._register(this._textArea.onCompositionEnd(F=>{a.al&&console.log("[compositionend]",F);const B=this._currentComposition;if(!B)return;if(this._currentComposition=null,this._browser.isAndroid){const A=a.un.readFromTextArea(this._textArea,this._textAreaState),k=a.un.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(k),this._onCompositionEnd.fire();return}const U=B.handleCompositionUpdate(F.data);this._textAreaState=a.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(U),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(F=>{if(a.al&&console.log("[input]",F),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const B=a.un.readFromTextArea(this._textArea,this._textAreaState),U=a.un.deduceInput(this._textAreaState,B,this._OS===2);U.replacePrevCharCnt===0&&U.text.length===1&&(g.ZG(U.text.charCodeAt(0))||U.text.charCodeAt(0)===127)||(this._textAreaState=B,(U.text!==""||U.replacePrevCharCnt!==0||U.replaceNextCharCnt!==0||U.positionDelta!==0)&&this._onType.fire(U))})),this._register(this._textArea.onCut(F=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(F),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(F=>{this._ensureClipboardGetsEditorSelection(F)})),this._register(this._textArea.onPaste(F=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),F.preventDefault(),!F.clipboardData)return;let[B,U]=c.getTextData(F.clipboardData);B&&(U=U||s.INSTANCE.get(B),this._onPaste.fire({text:B,metadata:U}))})),this._register(this._textArea.onFocus(()=>{const F=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!F&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let S=0;return O.nm(document,"selectionchange",N=>{if(p.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const P=Date.now(),M=P-S;if(S=P,M<5)return;const D=P-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),D<100||!this._textAreaState.selection)return;const F=this._textArea.getValue();if(this._textAreaState.value!==F)return;const B=this._textArea.getSelectionStart(),U=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===B&&this._textAreaState.selectionEnd===U)return;const A=this._textAreaState.deduceEditorPosition(B),k=this._host.deduceModelPosition(A[0],A[1],A[2]),R=this._textAreaState.deduceEditorPosition(U),$=this._host.deduceModelPosition(R[0],R[1],R[2]),J=new l.Y(k.lineNumber,k.column,$.lineNumber,$.column);this._onSelectionChangeRequest.fire(J)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(S){this._hasFocus!==S&&(this._hasFocus=S,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(S,N){this._hasFocus||(N=N.collapseSelection()),N.writeToTextArea(S,this._textArea,this._hasFocus),this._textAreaState=N}writeScreenReaderContent(S){this._currentComposition||this._setAndWriteTextAreaState(S,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(S){const N=this._host.getDataToCopy(),P={version:1,isFromEmptySelection:N.isFromEmptySelection,multicursorText:N.multicursorText,mode:N.mode};s.INSTANCE.set(this._browser.isFirefox?N.text.replace(/\r\n/g,`
`):N.text,P),S.preventDefault(),S.clipboardData&&c.setTextData(S.clipboardData,N.text,N.html,P)}}class c{static getTextData(S){const N=S.getData(E.v.text);let P=null;const M=S.getData("vscode-editor-data");if(typeof M=="string")try{P=JSON.parse(M),P.version!==1&&(P=null)}catch(D){}return N.length===0&&P===null&&S.files.length>0?[Array.prototype.slice.call(S.files,0).map(F=>F.name).join(`
`),null]:[N,P]}static setTextData(S,N,P,M){S.setData(E.v.text,N),typeof P=="string"&&S.setData("text/html",P),S.setData("vscode-editor-data",JSON.stringify(M))}}class v extends L.JT{constructor(S){super(),this._actual=S,this.onKeyDown=this._register(new u.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new u.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new u.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new u.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new u.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new u.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new u.Y(this._actual,"input")).event,this.onCut=this._register(new u.Y(this._actual,"cut")).event,this.onCopy=this._register(new u.Y(this._actual,"copy")).event,this.onPaste=this._register(new u.Y(this._actual,"paste")).event,this.onFocus=this._register(new u.Y(this._actual,"focus")).event,this.onBlur=this._register(new u.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new I.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>p.B.onKeyDown())),this._register(this.onBeforeInput(()=>p.B.onBeforeInput())),this._register(this.onInput(()=>p.B.onInput())),this._register(this.onKeyUp(()=>p.B.onKeyUp())),this._register(O.nm(this._actual,d.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const S=O.Ay(this._actual);return S?S.activeElement===this._actual:O.Uw(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(S){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(S,N){const P=this._actual;P.value!==N&&(this.setIgnoreSelectionChangeTime("setValue"),P.value=N)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(S,N,P){const M=this._actual;let D=null;const F=O.Ay(M);F?D=F.activeElement:D=document.activeElement;const B=D===M,U=M.selectionStart,A=M.selectionEnd;if(B&&U===N&&A===P){f.isFirefox&&window.parent!==window&&M.focus();return}if(B){this.setIgnoreSelectionChangeTime("setSelectionRange"),M.setSelectionRange(N,P),f.isFirefox&&window.parent!==window&&M.focus();return}try{const k=O.vL(M);this.setIgnoreSelectionChangeTime("setSelectionRange"),M.focus(),M.setSelectionRange(N,P),O._0(M,k)}catch(k){}}}},60153:function(Rt,Be,t){"use strict";t.d(Be,{al:function(){return u},ee:function(){return p},un:function(){return _}});var f=t(17416),O=t(50038);const u=!1;class _{constructor(I,L,E,g,a){this.value=I,this.selectionStart=L,this.selectionEnd=E,this.selection=g,this.newlineCountBeforeSelection=a}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(I,L){const E=I.getValue(),g=I.getSelectionStart(),a=I.getSelectionEnd();let l;if(L){const d=E.substring(0,g),i=L.value.substring(0,L.selectionStart);d===i&&(l=L.newlineCountBeforeSelection)}return new _(E,g,a,null,l)}collapseSelection(){return this.selectionStart===this.value.length?this:new _(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(I,L,E){u&&console.log(`writeToTextArea ${I}: ${this.toString()}`),L.setValue(I,this.value),E&&L.setSelectionRange(I,this.selectionStart,this.selectionEnd)}deduceEditorPosition(I){var L,E,g,a,l,d,i,s;if(I<=this.selectionStart){const c=this.value.substring(I,this.selectionStart);return this._finishDeduceEditorPosition((E=(L=this.selection)===null||L===void 0?void 0:L.getStartPosition())!==null&&E!==void 0?E:null,c,-1)}if(I>=this.selectionEnd){const c=this.value.substring(this.selectionEnd,I);return this._finishDeduceEditorPosition((a=(g=this.selection)===null||g===void 0?void 0:g.getEndPosition())!==null&&a!==void 0?a:null,c,1)}const m=this.value.substring(this.selectionStart,I);if(m.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((d=(l=this.selection)===null||l===void 0?void 0:l.getStartPosition())!==null&&d!==void 0?d:null,m,1);const b=this.value.substring(I,this.selectionEnd);return this._finishDeduceEditorPosition((s=(i=this.selection)===null||i===void 0?void 0:i.getEndPosition())!==null&&s!==void 0?s:null,b,-1)}_finishDeduceEditorPosition(I,L,E){let g=0,a=-1;for(;(a=L.indexOf(`
`,a+1))!==-1;)g++;return[I,E*L.length,g]}static deduceInput(I,L,E){if(!I)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};u&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${I.toString()}`),console.log(`CURRENT STATE: ${L.toString()}`));const g=Math.min(f.Mh(I.value,L.value),I.selectionStart,L.selectionStart),a=Math.min(f.P1(I.value,L.value),I.value.length-I.selectionEnd,L.value.length-L.selectionEnd),l=I.value.substring(g,I.value.length-a),d=L.value.substring(g,L.value.length-a),i=I.selectionStart-g,s=I.selectionEnd-g,m=L.selectionStart-g,b=L.selectionEnd-g;if(u&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${l}>, selectionStart: ${i}, selectionEnd: ${s}`),console.log(`AFTER DIFFING CURRENT STATE: <${d}>, selectionStart: ${m}, selectionEnd: ${b}`)),m===b){const v=I.selectionStart-g;return u&&console.log(`REMOVE PREVIOUS: ${v} chars`),{text:d,replacePrevCharCnt:v,replaceNextCharCnt:0,positionDelta:0}}const c=s-i;return{text:d,replacePrevCharCnt:c,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(I,L){if(!I)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(u&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${I.toString()}`),console.log(`CURRENT STATE: ${L.toString()}`)),I.value===L.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:L.selectionEnd-I.selectionEnd};const E=Math.min(f.Mh(I.value,L.value),I.selectionEnd),g=Math.min(f.P1(I.value,L.value),I.value.length-I.selectionEnd),a=I.value.substring(E,I.value.length-g),l=L.value.substring(E,L.value.length-g),d=I.selectionStart-E,i=I.selectionEnd-E,s=L.selectionStart-E,m=L.selectionEnd-E;return u&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${d}, selectionEnd: ${i}`),console.log(`AFTER DIFFING CURRENT STATE: <${l}>, selectionStart: ${s}, selectionEnd: ${m}`)),{text:l,replacePrevCharCnt:i,replaceNextCharCnt:a.length-i,positionDelta:m-l.length}}}_.EMPTY=new _("",0,0,null,void 0);class p{static _getPageOfLine(I,L){return Math.floor((I-1)/L)}static _getRangeForPage(I,L){const E=I*L,g=E+1,a=E+L;return new O.e(g,1,a+1,1)}static fromEditorSelection(I,L,E,g){const l=p._getPageOfLine(L.startLineNumber,E),d=p._getRangeForPage(l,E),i=p._getPageOfLine(L.endLineNumber,E),s=p._getRangeForPage(i,E);let m=d.intersectRanges(new O.e(1,1,L.startLineNumber,L.startColumn));if(g&&I.getValueLengthInRange(m,1)>500){const P=I.modifyPosition(m.getEndPosition(),-500);m=O.e.fromPositions(P,m.getEndPosition())}const b=I.getValueInRange(m,1),c=I.getLineCount(),v=I.getLineMaxColumn(c);let C=s.intersectRanges(new O.e(L.endLineNumber,L.endColumn,c,v));if(g&&I.getValueLengthInRange(C,1)>500){const P=I.modifyPosition(C.getStartPosition(),500);C=O.e.fromPositions(C.getStartPosition(),P)}const S=I.getValueInRange(C,1);let N;if(l===i||l+1===i)N=I.getValueInRange(L,1);else{const P=d.intersectRanges(L),M=s.intersectRanges(L);N=I.getValueInRange(P,1)+String.fromCharCode(8230)+I.getValueInRange(M,1)}return g&&N.length>2*500&&(N=N.substring(0,500)+String.fromCharCode(8230)+N.substring(N.length-500,N.length)),new _(b+N+S,b.length,b.length+N.length,L,m.endLineNumber-m.startLineNumber)}}},68076:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CoreEditingCommands:function(){return F},CoreEditorCommand:function(){return c},CoreNavigationCommands:function(){return N},EditorScroll_:function(){return v},RevealLine_:function(){return C}});var f=t(26386),O=t(71488),u=t(14818),_=t(79874),p=t(55298),V=t(5603),I=t(60854),L=t(8964),E=t(50038);class g{static columnSelect(k,R,$,J,Y,j){const z=Math.abs(Y-$)+1,K=$>Y,Z=J>j,fe=J<j,T=[];for(let Re=0;Re<z;Re++){const Ce=$+(K?-Re:Re),_e=k.columnFromVisibleColumn(R,Ce,J),pe=k.columnFromVisibleColumn(R,Ce,j),le=k.visibleColumnFromColumn(R,new L.L(Ce,_e)),oe=k.visibleColumnFromColumn(R,new L.L(Ce,pe));fe&&(le>j||oe<J)||Z&&(oe>J||le<j)||T.push(new I.rS(new E.e(Ce,_e,Ce,_e),0,0,new L.L(Ce,pe),0))}if(T.length===0)for(let Re=0;Re<z;Re++){const Ce=$+(K?-Re:Re),_e=R.getLineMaxColumn(Ce);T.push(new I.rS(new E.e(Ce,_e,Ce,_e),0,0,new L.L(Ce,_e),0))}return{viewStates:T,reversed:K,fromLineNumber:$,fromVisualColumn:J,toLineNumber:Y,toVisualColumn:j}}static columnSelectLeft(k,R,$){let J=$.toViewVisualColumn;return J>0&&J--,g.columnSelect(k,R,$.fromViewLineNumber,$.fromViewVisualColumn,$.toViewLineNumber,J)}static columnSelectRight(k,R,$){let J=0;const Y=Math.min($.fromViewLineNumber,$.toViewLineNumber),j=Math.max($.fromViewLineNumber,$.toViewLineNumber);for(let K=Y;K<=j;K++){const Z=R.getLineMaxColumn(K),fe=k.visibleColumnFromColumn(R,new L.L(K,Z));J=Math.max(J,fe)}let z=$.toViewVisualColumn;return z<J&&z++,this.columnSelect(k,R,$.fromViewLineNumber,$.fromViewVisualColumn,$.toViewLineNumber,z)}static columnSelectUp(k,R,$,J){const Y=J?k.pageSize:1,j=Math.max(1,$.toViewLineNumber-Y);return this.columnSelect(k,R,$.fromViewLineNumber,$.fromViewVisualColumn,j,$.toViewVisualColumn)}static columnSelectDown(k,R,$,J){const Y=J?k.pageSize:1,j=Math.min(R.getLineCount(),$.toViewLineNumber+Y);return this.columnSelect(k,R,$.fromViewLineNumber,$.fromViewVisualColumn,j,$.toViewVisualColumn)}}var a=t(24048),l=t(81953),d=t(96124),i=t(21081),s=t(76826),m=t(47679);const b=0;class c extends p._l{runEditorCommand(k,R,$){const J=R._getViewModel();J&&this.runCoreEditorCommand(J,$||{})}}var v;(function(A){const k=function($){if(!u.Kn($))return!1;const J=$;return!(!u.HD(J.to)||!u.o8(J.by)&&!u.HD(J.by)||!u.o8(J.value)&&!u.hj(J.value)||!u.o8(J.revealCursor)&&!u.jn(J.revealCursor))};A.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:k,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},A.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},A.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function R($){let J;switch($.to){case A.RawDirection.Up:J=1;break;case A.RawDirection.Right:J=2;break;case A.RawDirection.Down:J=3;break;case A.RawDirection.Left:J=4;break;default:return null}let Y;switch($.by){case A.RawUnit.Line:Y=1;break;case A.RawUnit.WrappedLine:Y=2;break;case A.RawUnit.Page:Y=3;break;case A.RawUnit.HalfPage:Y=4;break;case A.RawUnit.Editor:Y=5;break;case A.RawUnit.Column:Y=6;break;default:Y=2}const j=Math.floor($.value||1),z=!!$.revealCursor;return{direction:J,unit:Y,value:j,revealCursor:z,select:!!$.select}}A.parse=R})(v||(v={}));var C;(function(A){const k=function(R){if(!u.Kn(R))return!1;const $=R;return!(!u.hj($.lineNumber)&&!u.HD($.lineNumber)||!u.o8($.at)&&!u.HD($.at))};A.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:k,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},A.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(C||(C={}));class S{constructor(k){k.addImplementation(1e4,"code-editor",(R,$)=>{const J=R.get(V.$).getFocusedCodeEditor();return J&&J.hasTextFocus()?this._runEditorCommand(R,J,$):!1}),k.addImplementation(1e3,"generic-dom-input-textarea",(R,$)=>{const J=document.activeElement;return J&&["input","textarea"].indexOf(J.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),k.addImplementation(0,"generic-dom",(R,$)=>{const J=R.get(V.$).getActiveCodeEditor();return J?(J.focus(),this._runEditorCommand(R,J,$)):!1})}_runEditorCommand(k,R,$){const J=this.runEditorCommand(k,R,$);return J||!0}}var N;(function(A){class k extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){if(!je.position)return;he.model.pushStackElement(),he.setCursorStates(je.source,3,[l.P.moveTo(he,he.getPrimaryCursorState(),this._inSelectionMode,je.position,je.viewPosition)])&&je.revealType!==2&&he.revealPrimaryCursor(je.source,!0,!0)}}A.MoveTo=(0,p.fK)(new k({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),A.MoveToSelect=(0,p.fK)(new k({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class R extends c{runCoreEditorCommand(he,je){he.model.pushStackElement();const Xe=this._getColumnSelectResult(he,he.getPrimaryCursorState(),he.getCursorColumnSelectData(),je);Xe!==null&&(he.setCursorStates(je.source,3,Xe.viewStates.map(Ve=>I.Vi.fromViewState(Ve))),he.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Xe.fromLineNumber,fromViewVisualColumn:Xe.fromVisualColumn,toViewLineNumber:Xe.toLineNumber,toViewVisualColumn:Xe.toVisualColumn}),Xe.reversed?he.revealTopMostCursor(je.source):he.revealBottomMostCursor(je.source))}}A.ColumnSelect=(0,p.fK)(new class extends R{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(oe,he,je,Xe){if(typeof Xe.position=="undefined"||typeof Xe.viewPosition=="undefined"||typeof Xe.mouseColumn=="undefined")return null;const Ve=oe.model.validatePosition(Xe.position),se=oe.coordinatesConverter.validateViewPosition(new L.L(Xe.viewPosition.lineNumber,Xe.viewPosition.column),Ve),q=Xe.doColumnSelect?je.fromViewLineNumber:se.lineNumber,Ee=Xe.doColumnSelect?je.fromViewVisualColumn:Xe.mouseColumn-1;return g.columnSelect(oe.cursorConfig,oe,q,Ee,se.lineNumber,Xe.mouseColumn-1)}}),A.CursorColumnSelectLeft=(0,p.fK)(new class extends R{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(oe,he,je,Xe){return g.columnSelectLeft(oe.cursorConfig,oe,je)}}),A.CursorColumnSelectRight=(0,p.fK)(new class extends R{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(oe,he,je,Xe){return g.columnSelectRight(oe.cursorConfig,oe,je)}});class $ extends R{constructor(he){super(he),this._isPaged=he.isPaged}_getColumnSelectResult(he,je,Xe,Ve){return g.columnSelectUp(he.cursorConfig,he,Xe,this._isPaged)}}A.CursorColumnSelectUp=(0,p.fK)(new $({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:3600,linux:{primary:0}}})),A.CursorColumnSelectPageUp=(0,p.fK)(new $({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:3595,linux:{primary:0}}}));class J extends R{constructor(he){super(he),this._isPaged=he.isPaged}_getColumnSelectResult(he,je,Xe,Ve){return g.columnSelectDown(he.cursorConfig,he,Xe,this._isPaged)}}A.CursorColumnSelectDown=(0,p.fK)(new J({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:3602,linux:{primary:0}}})),A.CursorColumnSelectPageDown=(0,p.fK)(new J({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:3596,linux:{primary:0}}}));class Y extends c{constructor(){super({id:"cursorMove",precondition:void 0,description:l.N.description})}runCoreEditorCommand(he,je){const Xe=l.N.parse(je);Xe&&this._runCursorMove(he,je.source,Xe)}_runCursorMove(he,je,Xe){he.model.pushStackElement(),he.setCursorStates(je,3,Y._move(he,he.getCursorStates(),Xe)),he.revealPrimaryCursor(je,!0)}static _move(he,je,Xe){const Ve=Xe.select,se=Xe.value;switch(Xe.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return l.P.simpleMove(he,je,Xe.direction,Ve,se,Xe.unit);case 11:case 13:case 12:case 14:return l.P.viewportMove(he,je,Xe.direction,Ve,se);default:return null}}}A.CursorMoveImpl=Y,A.CursorMove=(0,p.fK)(new Y);class j extends c{constructor(he){super(he),this._staticArgs=he.args}runCoreEditorCommand(he,je){let Xe=this._staticArgs;this._staticArgs.value===-1&&(Xe={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:je.pageSize||he.cursorConfig.pageSize}),he.model.pushStackElement(),he.setCursorStates(je.source,3,l.P.simpleMove(he,he.getCursorStates(),Xe.direction,Xe.select,Xe.value,Xe.unit)),he.revealPrimaryCursor(je.source,!0)}}A.CursorLeft=(0,p.fK)(new j({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),A.CursorLeftSelect=(0,p.fK)(new j({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:1039}})),A.CursorRight=(0,p.fK)(new j({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),A.CursorRightSelect=(0,p.fK)(new j({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:1041}})),A.CursorUp=(0,p.fK)(new j({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),A.CursorUpSelect=(0,p.fK)(new j({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),A.CursorPageUp=(0,p.fK)(new j({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:11}})),A.CursorPageUpSelect=(0,p.fK)(new j({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:1035}})),A.CursorDown=(0,p.fK)(new j({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),A.CursorDownSelect=(0,p.fK)(new j({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),A.CursorPageDown=(0,p.fK)(new j({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:12}})),A.CursorPageDownSelect=(0,p.fK)(new j({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:1036}})),A.CreateCursor=(0,p.fK)(new class extends c{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(oe,he){if(!he.position)return;let je;he.wholeLine?je=l.P.line(oe,oe.getPrimaryCursorState(),!1,he.position,he.viewPosition):je=l.P.moveTo(oe,oe.getPrimaryCursorState(),!1,he.position,he.viewPosition);const Xe=oe.getCursorStates();if(Xe.length>1){const Ve=je.modelState?je.modelState.position:null,se=je.viewState?je.viewState.position:null;for(let q=0,Ee=Xe.length;q<Ee;q++){const Se=Xe[q];if(!(Ve&&!Se.modelState.selection.containsPosition(Ve))&&!(se&&!Se.viewState.selection.containsPosition(se))){Xe.splice(q,1),oe.model.pushStackElement(),oe.setCursorStates(he.source,3,Xe);return}}}Xe.push(je),oe.model.pushStackElement(),oe.setCursorStates(he.source,3,Xe)}}),A.LastCursorMoveToSelect=(0,p.fK)(new class extends c{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(oe,he){if(!he.position)return;const je=oe.getLastAddedCursorIndex(),Xe=oe.getCursorStates(),Ve=Xe.slice(0);Ve[je]=l.P.moveTo(oe,Xe[je],!0,he.position,he.viewPosition),oe.model.pushStackElement(),oe.setCursorStates(he.source,3,Ve)}});class z extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){he.model.pushStackElement(),he.setCursorStates(je.source,3,l.P.moveToBeginningOfLine(he,he.getCursorStates(),this._inSelectionMode)),he.revealPrimaryCursor(je.source,!0)}}A.CursorHome=(0,p.fK)(new z({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),A.CursorHomeSelect=(0,p.fK)(new z({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class K extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){he.model.pushStackElement(),he.setCursorStates(je.source,3,this._exec(he.getCursorStates())),he.revealPrimaryCursor(je.source,!0)}_exec(he){const je=[];for(let Xe=0,Ve=he.length;Xe<Ve;Xe++){const se=he[Xe],q=se.modelState.position.lineNumber;je[Xe]=I.Vi.fromModelState(se.modelState.move(this._inSelectionMode,q,1,0))}return je}}A.CursorLineStart=(0,p.fK)(new K({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:287}}})),A.CursorLineStartSelect=(0,p.fK)(new K({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1311}}}));class Z extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){he.model.pushStackElement(),he.setCursorStates(je.source,3,l.P.moveToEndOfLine(he,he.getCursorStates(),this._inSelectionMode,je.sticky||!1)),he.revealPrimaryCursor(je.source,!0)}}A.CursorEnd=(0,p.fK)(new Z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:b,kbExpr:i.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),A.CursorEndSelect=(0,p.fK)(new Z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:b,kbExpr:i.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class fe extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){he.model.pushStackElement(),he.setCursorStates(je.source,3,this._exec(he,he.getCursorStates())),he.revealPrimaryCursor(je.source,!0)}_exec(he,je){const Xe=[];for(let Ve=0,se=je.length;Ve<se;Ve++){const q=je[Ve],Ee=q.modelState.position.lineNumber,Se=he.model.getLineMaxColumn(Ee);Xe[Ve]=I.Vi.fromModelState(q.modelState.move(this._inSelectionMode,Ee,Se,0))}return Xe}}A.CursorLineEnd=(0,p.fK)(new fe({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:291}}})),A.CursorLineEndSelect=(0,p.fK)(new fe({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1315}}}));class T extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){he.model.pushStackElement(),he.setCursorStates(je.source,3,l.P.moveToBeginningOfBuffer(he,he.getCursorStates(),this._inSelectionMode)),he.revealPrimaryCursor(je.source,!0)}}A.CursorTop=(0,p.fK)(new T({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:2062,mac:{primary:2064}}})),A.CursorTopSelect=(0,p.fK)(new T({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class Re extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){he.model.pushStackElement(),he.setCursorStates(je.source,3,l.P.moveToEndOfBuffer(he,he.getCursorStates(),this._inSelectionMode)),he.revealPrimaryCursor(je.source,!0)}}A.CursorBottom=(0,p.fK)(new Re({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:2061,mac:{primary:2066}}})),A.CursorBottomSelect=(0,p.fK)(new Re({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class Ce extends c{constructor(){super({id:"editorScroll",precondition:void 0,description:v.description})}determineScrollMethod(he){const je=[6],Xe=[1,2,3,4,5,6],Ve=[4,2],se=[1,3];return je.includes(he.unit)&&Ve.includes(he.direction)?this._runHorizontalEditorScroll.bind(this):Xe.includes(he.unit)&&se.includes(he.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(he,je){const Xe=v.parse(je);if(!Xe)return;const Ve=this.determineScrollMethod(Xe);Ve&&Ve(he,je.source,Xe)}_runVerticalEditorScroll(he,je,Xe){const Ve=this._computeDesiredScrollTop(he,Xe);if(Xe.revealCursor){const se=he.getCompletelyVisibleViewRangeAtScrollTop(Ve);he.setCursorStates(je,3,[l.P.findPositionInViewportIfOutside(he,he.getPrimaryCursorState(),se,Xe.select)])}he.viewLayout.setScrollPosition({scrollTop:Ve},0)}_computeDesiredScrollTop(he,je){if(je.unit===1){const se=he.viewLayout.getFutureViewport(),q=he.getCompletelyVisibleViewRangeAtScrollTop(se.top),Ee=he.coordinatesConverter.convertViewRangeToModelRange(q);let Se;je.direction===1?Se=Math.max(1,Ee.startLineNumber-je.value):Se=Math.min(he.model.getLineCount(),Ee.startLineNumber+je.value);const we=he.coordinatesConverter.convertModelPositionToViewPosition(new L.L(Se,1));return he.viewLayout.getVerticalOffsetForLineNumber(we.lineNumber)}if(je.unit===5){let se=0;return je.direction===3&&(se=he.model.getLineCount()-he.cursorConfig.pageSize),he.viewLayout.getVerticalOffsetForLineNumber(se)}let Xe;je.unit===3?Xe=he.cursorConfig.pageSize*je.value:je.unit===4?Xe=Math.round(he.cursorConfig.pageSize/2)*je.value:Xe=je.value;const Ve=(je.direction===1?-1:1)*Xe;return he.viewLayout.getCurrentScrollTop()+Ve*he.cursorConfig.lineHeight}_runHorizontalEditorScroll(he,je,Xe){const Ve=this._computeDesiredScrollLeft(he,Xe);he.viewLayout.setScrollPosition({scrollLeft:Ve},0)}_computeDesiredScrollLeft(he,je){const Xe=(je.direction===4?-1:1)*je.value;return he.viewLayout.getCurrentScrollLeft()+Xe*he.cursorConfig.typicalHalfwidthCharacterWidth}}A.EditorScrollImpl=Ce,A.EditorScroll=(0,p.fK)(new Ce),A.ScrollLineUp=(0,p.fK)(new class extends c{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(oe,he){A.EditorScroll.runCoreEditorCommand(oe,{to:v.RawDirection.Up,by:v.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:he.source})}}),A.ScrollPageUp=(0,p.fK)(new class extends c{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(oe,he){A.EditorScroll.runCoreEditorCommand(oe,{to:v.RawDirection.Up,by:v.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:he.source})}}),A.ScrollEditorTop=(0,p.fK)(new class extends c{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(oe,he){A.EditorScroll.runCoreEditorCommand(oe,{to:v.RawDirection.Up,by:v.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:he.source})}}),A.ScrollLineDown=(0,p.fK)(new class extends c{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(oe,he){A.EditorScroll.runCoreEditorCommand(oe,{to:v.RawDirection.Down,by:v.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:he.source})}}),A.ScrollPageDown=(0,p.fK)(new class extends c{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(oe,he){A.EditorScroll.runCoreEditorCommand(oe,{to:v.RawDirection.Down,by:v.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:he.source})}}),A.ScrollEditorBottom=(0,p.fK)(new class extends c{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(oe,he){A.EditorScroll.runCoreEditorCommand(oe,{to:v.RawDirection.Down,by:v.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:he.source})}}),A.ScrollLeft=(0,p.fK)(new class extends c{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(oe,he){A.EditorScroll.runCoreEditorCommand(oe,{to:v.RawDirection.Left,by:v.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:he.source})}}),A.ScrollRight=(0,p.fK)(new class extends c{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(oe,he){A.EditorScroll.runCoreEditorCommand(oe,{to:v.RawDirection.Right,by:v.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:he.source})}});class _e extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){je.position&&(he.model.pushStackElement(),he.setCursorStates(je.source,3,[l.P.word(he,he.getPrimaryCursorState(),this._inSelectionMode,je.position)]),je.revealType!==2&&he.revealPrimaryCursor(je.source,!0,!0))}}A.WordSelect=(0,p.fK)(new _e({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),A.WordSelectDrag=(0,p.fK)(new _e({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),A.LastCursorWordSelect=(0,p.fK)(new class extends c{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(oe,he){if(!he.position)return;const je=oe.getLastAddedCursorIndex(),Xe=oe.getCursorStates(),Ve=Xe.slice(0),se=Xe[je];Ve[je]=l.P.word(oe,se,se.modelState.hasSelection(),he.position),oe.model.pushStackElement(),oe.setCursorStates(he.source,3,Ve)}});class pe extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){je.position&&(he.model.pushStackElement(),he.setCursorStates(je.source,3,[l.P.line(he,he.getPrimaryCursorState(),this._inSelectionMode,je.position,je.viewPosition)]),je.revealType!==2&&he.revealPrimaryCursor(je.source,!1,!0))}}A.LineSelect=(0,p.fK)(new pe({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),A.LineSelectDrag=(0,p.fK)(new pe({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class le extends c{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode}runCoreEditorCommand(he,je){if(!je.position)return;const Xe=he.getLastAddedCursorIndex(),Ve=he.getCursorStates(),se=Ve.slice(0);se[Xe]=l.P.line(he,Ve[Xe],this._inSelectionMode,je.position,je.viewPosition),he.model.pushStackElement(),he.setCursorStates(je.source,3,se)}}A.LastCursorLineSelect=(0,p.fK)(new le({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),A.LastCursorLineSelectDrag=(0,p.fK)(new le({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),A.CancelSelection=(0,p.fK)(new class extends c{constructor(){super({id:"cancelSelection",precondition:i.u.hasNonEmptySelection,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(oe,he){oe.model.pushStackElement(),oe.setCursorStates(he.source,3,[l.P.cancelSelection(oe,oe.getPrimaryCursorState())]),oe.revealPrimaryCursor(he.source,!0)}}),A.RemoveSecondaryCursors=(0,p.fK)(new class extends c{constructor(){super({id:"removeSecondaryCursors",precondition:i.u.hasMultipleSelections,kbOpts:{weight:b+1,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(oe,he){oe.model.pushStackElement(),oe.setCursorStates(he.source,3,[oe.getPrimaryCursorState()]),oe.revealPrimaryCursor(he.source,!0),(0,_.i7)(f.NC("removedCursor","Removed secondary cursors"))}}),A.RevealLine=(0,p.fK)(new class extends c{constructor(){super({id:"revealLine",precondition:void 0,description:C.description})}runCoreEditorCommand(oe,he){const je=he,Xe=je.lineNumber||0;let Ve=typeof Xe=="number"?Xe+1:parseInt(Xe)+1;Ve<1&&(Ve=1);const se=oe.model.getLineCount();Ve>se&&(Ve=se);const q=new E.e(Ve,1,Ve,oe.model.getLineMaxColumn(Ve));let Ee=0;if(je.at)switch(je.at){case C.RawAtArgument.Top:Ee=3;break;case C.RawAtArgument.Center:Ee=1;break;case C.RawAtArgument.Bottom:Ee=4;break;default:break}const Se=oe.coordinatesConverter.convertModelRangeToViewRange(q);oe.revealRange(he.source,!1,Se,Ee,0)}}),A.SelectAll=new class extends S{constructor(){super(p.Sq)}runDOMCommand(){O.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(oe,he,je){const Xe=he._getViewModel();Xe&&this.runCoreEditorCommand(Xe,je)}runCoreEditorCommand(oe,he){oe.model.pushStackElement(),oe.setCursorStates("keyboard",3,[l.P.selectAll(oe,oe.getPrimaryCursorState())])}},A.SetSelection=(0,p.fK)(new class extends c{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(oe,he){he.selection&&(oe.model.pushStackElement(),oe.setCursorStates(he.source,3,[I.Vi.fromModelSelection(he.selection)]))}})})(N||(N={}));const P=s.Ao.and(i.u.textInputFocus,i.u.columnSelection);function M(A,k){m.W.registerKeybindingRule({id:A,primary:k,when:P,weight:b+1})}M(N.CursorColumnSelectLeft.id,1039),M(N.CursorColumnSelectRight.id,1041),M(N.CursorColumnSelectUp.id,1040),M(N.CursorColumnSelectPageUp.id,1035),M(N.CursorColumnSelectDown.id,1042),M(N.CursorColumnSelectPageDown.id,1036);function D(A){return A.register(),A}var F;(function(A){class k extends p._l{runEditorCommand($,J,Y){const j=J._getViewModel();j&&this.runCoreEditingCommand(J,j,Y||{})}}A.CoreEditingCommand=k,A.LineBreakInsert=(0,p.fK)(new class extends k{constructor(){super({id:"lineBreakInsert",precondition:i.u.writable,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(R,$,J){R.pushUndoStop(),R.executeCommands(this.id,d.u6.lineBreakInsert($.cursorConfig,$.model,$.getCursorStates().map(Y=>Y.modelState.selection)))}}),A.Outdent=(0,p.fK)(new class extends k{constructor(){super({id:"outdent",precondition:i.u.writable,kbOpts:{weight:b,kbExpr:s.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(R,$,J){R.pushUndoStop(),R.executeCommands(this.id,d.u6.outdent($.cursorConfig,$.model,$.getCursorStates().map(Y=>Y.modelState.selection))),R.pushUndoStop()}}),A.Tab=(0,p.fK)(new class extends k{constructor(){super({id:"tab",precondition:i.u.writable,kbOpts:{weight:b,kbExpr:s.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(R,$,J){R.pushUndoStop(),R.executeCommands(this.id,d.u6.tab($.cursorConfig,$.model,$.getCursorStates().map(Y=>Y.modelState.selection))),R.pushUndoStop()}}),A.DeleteLeft=(0,p.fK)(new class extends k{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(R,$,J){const[Y,j]=a.A.deleteLeft($.getPrevEditOperationType(),$.cursorConfig,$.model,$.getCursorStates().map(z=>z.modelState.selection),$.getCursorAutoClosedCharacters());Y&&R.pushUndoStop(),R.executeCommands(this.id,j),$.setPrevEditOperationType(2)}}),A.DeleteRight=(0,p.fK)(new class extends k{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:b,kbExpr:i.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(R,$,J){const[Y,j]=a.A.deleteRight($.getPrevEditOperationType(),$.cursorConfig,$.model,$.getCursorStates().map(z=>z.modelState.selection));Y&&R.pushUndoStop(),R.executeCommands(this.id,j),$.setPrevEditOperationType(3)}}),A.Undo=new class extends S{constructor(){super(p.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(R,$,J){if(!(!$.hasModel()||$.getOption(88)===!0))return $.getModel().undo()}},A.Redo=new class extends S{constructor(){super(p.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(R,$,J){if(!(!$.hasModel()||$.getOption(88)===!0))return $.getModel().redo()}}})(F||(F={}));class B extends p.mY{constructor(k,R,$){super({id:k,precondition:void 0,description:$}),this._handlerId=R}runCommand(k,R){const $=k.get(V.$).getFocusedCodeEditor();$&&$.trigger("keyboard",this._handlerId,R)}}function U(A,k){D(new B("default:"+A,A)),D(new B(A,A,k))}U("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),U("replacePreviousChar"),U("compositionType"),U("compositionStart"),U("compositionEnd"),U("paste"),U("cut")},48115:function(Rt,Be,t){"use strict";t.d(Be,{B:function(){return I},L:function(){return g}});var f=t(89181),O=t(31837),u=t(9161),_=t(28919),p=t(42829),V=function(a,l,d,i){function s(m){return m instanceof d?m:new d(function(b){b(m)})}return new(d||(d=Promise))(function(m,b){function c(S){try{C(i.next(S))}catch(N){b(N)}}function v(S){try{C(i.throw(S))}catch(N){b(N)}}function C(S){S.done?m(S.value):s(S.value).then(c,v)}C((i=i.apply(a,l||[])).next())})};function I(a){const l=new O.Hl;for(const d of a.items){const i=d.type;if(d.kind==="string"){const s=new Promise(m=>d.getAsString(m));l.append(i,(0,O.ZO)(s))}else if(d.kind==="file"){const s=d.getAsFile();s&&l.append(i,L(s))}}return l}function L(a){const l=a.path?_.o.parse(a.path):void 0;return(0,O.Ix)(a.name,l,()=>V(this,void 0,void 0,function*(){return new Uint8Array(yield a.arrayBuffer())}))}const E=Object.freeze([p.Km.EDITORS,p.Km.FILES,f.g.RESOURCES,f.g.INTERNAL_URI_LIST]);function g(a,l=!1){const d=I(a),i=d.get(f.g.INTERNAL_URI_LIST);if(i)d.replace(u.v.uriList,i);else if(l||!d.has(u.v.uriList)){const s=[];for(const m of a.items){const b=m.getAsFile();if(b){const c=b.path;try{c?s.push(_.o.file(c).toString()):s.push(_.o.parse(b.name,!0).toString())}catch(v){}}}s.length&&d.replace(u.v.uriList,(0,O.ZO)(O.Z0.create(s)))}for(const s of E)d.delete(s);return d}},86086:function(Rt,Be,t){"use strict";t.d(Be,{CL:function(){return O},Pi:function(){return p},QI:function(){return u}});var f=t(6390);function O(V){return V&&typeof V.getEditorType=="function"?V.getEditorType()===f.g.ICodeEditor:!1}function u(V){return V&&typeof V.getEditorType=="function"?V.getEditorType()===f.g.IDiffEditor:!1}function _(V){return!!V&&typeof V=="object"&&typeof V.onDidChangeActiveEditor=="function"}function p(V){return O(V)?V:u(V)?V.getModifiedEditor():_(V)&&O(V.activeCodeEditor)?V.activeCodeEditor:null}},31396:function(Rt,Be,t){"use strict";t.d(Be,{AL:function(){return m},N5:function(){return i},Pp:function(){return l},YN:function(){return I},gy:function(){return d},kG:function(){return a},rU:function(){return L},t7:function(){return b},tC:function(){return s}});var f=t(34441),O=t(97314),u=t(64079),_=t(13484),p=t(38431),V=t(92537);class I{constructor(S,N){this.x=S,this.y=N,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new L(this.x-window.scrollX,this.y-window.scrollY)}}class L{constructor(S,N){this.clientX=S,this.clientY=N,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new I(this.clientX+window.scrollX,this.clientY+window.scrollY)}}class E{constructor(S,N,P,M){this.x=S,this.y=N,this.width=P,this.height=M,this._editorPagePositionBrand=void 0}}class g{constructor(S,N){this.x=S,this.y=N,this._positionRelativeToEditorBrand=void 0}}function a(C){const S=f.i(C);return new E(S.left,S.top,S.width,S.height)}function l(C,S,N){const P=S.width/C.offsetWidth,M=S.height/C.offsetHeight,D=(N.x-S.x)/P,F=(N.y-S.y)/M;return new g(D,F)}class d extends u.n{constructor(S,N,P){super(S),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=N,this.pos=new I(this.posx,this.posy),this.editorPos=a(P),this.relativePos=l(P,this.editorPos,this.pos)}}class i{constructor(S){this._editorViewDomNode=S}_create(S){return new d(S,!1,this._editorViewDomNode)}onContextMenu(S,N){return f.nm(S,"contextmenu",P=>{N(this._create(P))})}onMouseUp(S,N){return f.nm(S,"mouseup",P=>{N(this._create(P))})}onMouseDown(S,N){return f.nm(S,f.tw.MOUSE_DOWN,P=>{N(this._create(P))})}onPointerDown(S,N){return f.nm(S,f.tw.POINTER_DOWN,P=>{N(this._create(P),P.pointerId)})}onMouseLeave(S,N){return f.nm(S,f.tw.MOUSE_LEAVE,P=>{N(this._create(P))})}onMouseMove(S,N){return f.nm(S,"mousemove",P=>N(this._create(P)))}}class s{constructor(S){this._editorViewDomNode=S}_create(S){return new d(S,!1,this._editorViewDomNode)}onPointerUp(S,N){return f.nm(S,"pointerup",P=>{N(this._create(P))})}onPointerDown(S,N){return f.nm(S,f.tw.POINTER_DOWN,P=>{N(this._create(P),P.pointerId)})}onPointerLeave(S,N){return f.nm(S,f.tw.POINTER_LEAVE,P=>{N(this._create(P))})}onPointerMove(S,N){return f.nm(S,"pointermove",P=>N(this._create(P)))}}class m extends p.JT{constructor(S){super(),this._editorViewDomNode=S,this._globalPointerMoveMonitor=this._register(new O.C),this._keydownListener=null}startMonitoring(S,N,P,M,D){this._keydownListener=f.mu(document,"keydown",F=>{F.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,F.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(S,N,P,F=>{M(new d(F,!0,this._editorViewDomNode))},F=>{this._keydownListener.dispose(),D(F)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class b{constructor(S){this._editor=S,this._instanceId=++b._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new _.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(S){const N=this.getOrCreateRule(S);return N.increaseRefCount(),{className:N.className,dispose:()=>{N.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(S){const N=this.computeUniqueKey(S);let P=this._rules.get(N);if(!P){const M=this._counter++;P=new c(N,`dyn-rule-${this._instanceId}-${M}`,f.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,S),this._rules.set(N,P)}return P}computeUniqueKey(S){return JSON.stringify(S)}garbageCollect(){for(const S of this._rules.values())S.hasReferences()||(this._rules.delete(S.key),S.dispose())}}b._idPool=0;class c{constructor(S,N,P,M){this.key=S,this.className=N,this.properties=M,this._referenceCount=0,this._styleElement=f.dS(P),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(S,N){let P=`.${S} {`;for(const M in N){const D=N[M];let F;typeof D=="object"?F=(0,V.n_1)(D.id):F=D;const B=v(M);P+=`
	${B}: ${F};`}return P+=`
}`,P}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function v(C){return C.replace(/(^[A-Z])/,([S])=>S.toLowerCase()).replace(/([A-Z])/g,([S])=>`-${S.toLowerCase()}`)}},55298:function(Rt,Be,t){"use strict";t.d(Be,{AJ:function(){return b},QG:function(){return B},Qr:function(){return D},R6:function(){return C},Sq:function(){return j},Uc:function(){return A},_K:function(){return U},_l:function(){return v},fK:function(){return M},jY:function(){return S},kz:function(){return Y},mY:function(){return m},n_:function(){return J},rn:function(){return F},sb:function(){return P},x1:function(){return N}});var f=t(26386),O=t(28919),u=t(5603),_=t(8964),p=t(65041),V=t(91223),I=t(21208),L=t(80793),E=t(76826),g=t(44333),a=t(47679),l=t(6325),d=t(68554),i=t(14818),s=t(59271);class m{constructor(K){this.id=K.id,this.precondition=K.precondition,this._kbOpts=K.kbOpts,this._menuOpts=K.menuOpts,this._description=K.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const K=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const Z of K){let fe=Z.kbExpr;this.precondition&&(fe?fe=E.Ao.and(fe,this.precondition):fe=this.precondition);const T={id:this.id,weight:Z.weight,args:Z.args,when:fe,primary:Z.primary,secondary:Z.secondary,win:Z.win,linux:Z.linux,mac:Z.mac};a.W.registerKeybindingRule(T)}}L.P.registerCommand({id:this.id,handler:(K,Z)=>this.runCommand(K,Z),description:this._description})}_registerMenuItem(K){I.BH.appendMenuItem(K.menuId,{group:K.group,command:{id:this.id,title:K.title,icon:K.icon,precondition:this.precondition},when:K.when,order:K.order})}}class b extends m{constructor(){super(...arguments),this._implementations=[]}addImplementation(K,Z,fe){return this._implementations.push({priority:K,name:Z,implementation:fe}),this._implementations.sort((T,Re)=>Re.priority-T.priority),{dispose:()=>{for(let T=0;T<this._implementations.length;T++)if(this._implementations[T].implementation===fe){this._implementations.splice(T,1);return}}}}runCommand(K,Z){const fe=K.get(s.VZ);fe.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const T of this._implementations){const Re=T.implementation(K,Z);if(Re)return fe.trace(`Command '${this.id}' was handled by '${T.name}'.`),typeof Re=="boolean"?void 0:Re}fe.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class c extends m{constructor(K,Z){super(Z),this.command=K}runCommand(K,Z){return this.command.runCommand(K,Z)}}class v extends m{static bindToContribution(K){return class extends v{constructor(fe){super(fe),this._callback=fe.handler}runEditorCommand(fe,T,Re){const Ce=K(T);Ce&&this._callback(Ce,Re)}}}static runEditorCommand(K,Z,fe,T){const Re=K.get(u.$),Ce=Re.getFocusedCodeEditor()||Re.getActiveCodeEditor();if(Ce)return Ce.invokeWithinContext(_e=>{if(_e.get(E.i6).contextMatchesRules((0,i.f6)(fe)))return T(_e,Ce,Z)})}runCommand(K,Z){return v.runEditorCommand(K,Z,this.precondition,(fe,T,Re)=>this.runEditorCommand(fe,T,Re))}}class C extends v{static convertOptions(K){let Z;Array.isArray(K.menuOpts)?Z=K.menuOpts:K.menuOpts?Z=[K.menuOpts]:Z=[];function fe(T){return T.menuId||(T.menuId=I.eH.EditorContext),T.title||(T.title=K.label),T.when=E.Ao.and(K.precondition,T.when),T}return Array.isArray(K.contextMenuOpts)?Z.push(...K.contextMenuOpts.map(fe)):K.contextMenuOpts&&Z.push(fe(K.contextMenuOpts)),K.menuOpts=Z,K}constructor(K){super(C.convertOptions(K)),this.label=K.label,this.alias=K.alias}runEditorCommand(K,Z,fe){return this.reportTelemetry(K,Z),this.run(K,Z,fe||{})}reportTelemetry(K,Z){K.get(d.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class S extends C{constructor(){super(...arguments),this._implementations=[]}addImplementation(K,Z){return this._implementations.push([K,Z]),this._implementations.sort((fe,T)=>T[0]-fe[0]),{dispose:()=>{for(let fe=0;fe<this._implementations.length;fe++)if(this._implementations[fe][1]===Z){this._implementations.splice(fe,1);return}}}}run(K,Z,fe){for(const T of this._implementations){const Re=T[1](K,Z,fe);if(Re)return typeof Re=="boolean"?void 0:Re}}}class N extends I.Ke{run(K,...Z){const fe=K.get(u.$),T=fe.getFocusedCodeEditor()||fe.getActiveCodeEditor();if(T)return T.invokeWithinContext(Re=>{var Ce;const _e=Re.get(E.i6),pe=Re.get(s.VZ);if(!_e.contextMatchesRules((0,i.f6)(this.desc.precondition))){pe.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(Ce=this.desc.precondition)===null||Ce===void 0?void 0:Ce.serialize());return}return this.runEditorCommand(Re,T,...Z)})}}function P(z,K){L.P.registerCommand(z,function(Z,...fe){const T=Z.get(g.TG),[Re,Ce]=fe;(0,i.p_)(O.o.isUri(Re)),(0,i.p_)(_.L.isIPosition(Ce));const _e=Z.get(p.q).getModel(Re);if(_e){const pe=_.L.lift(Ce);return T.invokeFunction(K,_e,pe,...fe.slice(2))}return Z.get(V.S).createModelReference(Re).then(pe=>new Promise((le,oe)=>{try{const he=T.invokeFunction(K,pe.object.textEditorModel,_.L.lift(Ce),fe.slice(2));le(he)}catch(he){oe(he)}}).finally(()=>{pe.dispose()}))})}function M(z){return R.INSTANCE.registerEditorCommand(z),z}function D(z){const K=new z;return R.INSTANCE.registerEditorAction(K),K}function F(z){return R.INSTANCE.registerEditorAction(z),z}function B(z){R.INSTANCE.registerEditorAction(z)}function U(z,K,Z){R.INSTANCE.registerEditorContribution(z,K,Z)}var A;(function(z){function K(Ce){return R.INSTANCE.getEditorCommand(Ce)}z.getEditorCommand=K;function Z(){return R.INSTANCE.getEditorActions()}z.getEditorActions=Z;function fe(){return R.INSTANCE.getEditorContributions()}z.getEditorContributions=fe;function T(Ce){return R.INSTANCE.getEditorContributions().filter(_e=>Ce.indexOf(_e.id)>=0)}z.getSomeEditorContributions=T;function Re(){return R.INSTANCE.getDiffEditorContributions()}z.getDiffEditorContributions=Re})(A||(A={}));const k={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(K,Z,fe){this.editorContributions.push({id:K,ctor:Z,instantiation:fe})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(K){K.register(),this.editorActions.push(K)}getEditorActions(){return this.editorActions}registerEditorCommand(K){K.register(),this.editorCommands[K.id]=K}getEditorCommand(K){return this.editorCommands[K]||null}}R.INSTANCE=new R,l.B.add(k.EditorCommonContributions,R.INSTANCE);function $(z){return z.register(),z}const J=$(new b({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:I.eH.MenubarEditMenu,group:"1_do",title:f.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:I.eH.CommandPalette,group:"",title:f.NC("undo","Undo"),order:1}]}));$(new c(J,{id:"default:undo",precondition:void 0}));const Y=$(new b({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:I.eH.MenubarEditMenu,group:"1_do",title:f.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:I.eH.CommandPalette,group:"",title:f.NC("redo","Redo"),order:1}]}));$(new c(Y,{id:"default:redo",precondition:void 0}));const j=$(new b({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:I.eH.MenubarSelectionMenu,group:"1_basic",title:f.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:I.eH.CommandPalette,group:"",title:f.NC("selectAll","Select All"),order:1}]}))},53028:function(Rt,Be,t){"use strict";t.d(Be,{Gl:function(){return V},fo:function(){return p},vu:function(){return _}});var f=t(44333),O=t(28919),u=t(14818);const _=(0,f.yh)("IWorkspaceEditService");class p{constructor(E){this.metadata=E}static convert(E){return E.edits.map(g=>{if(V.is(g))return V.lift(g);if(I.is(g))return I.lift(g);throw new Error("Unsupported edit")})}}class V extends p{static is(E){return E instanceof V?!0:(0,u.Kn)(E)&&O.o.isUri(E.resource)&&(0,u.Kn)(E.textEdit)}static lift(E){return E instanceof V?E:new V(E.resource,E.textEdit,E.versionId,E.metadata)}constructor(E,g,a=void 0,l){super(l),this.resource=E,this.textEdit=g,this.versionId=a}}class I extends p{static is(E){return E instanceof I?!0:(0,u.Kn)(E)&&(!!E.newResource||!!E.oldResource)}static lift(E){return E instanceof I?E:new I(E.oldResource,E.newResource,E.options,E.metadata)}constructor(E,g,a={},l){super(l),this.oldResource=E,this.newResource=g,this.options=a}}},5603:function(Rt,Be,t){"use strict";t.d(Be,{$:function(){return O}});var f=t(44333);const O=(0,f.yh)("codeEditorService")},41364:function(Rt,Be,t){"use strict";t.d(Be,{Q8:function(){return Me},eu:function(){return _t}});var f=t(13484),O=t(38431),u=t(20996),_=t(56709),p=t(23127),V=t(11138),I=t(17416);const L="$initialize";let E=!1;function g(ge){V.$L&&(E||(E=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(ge.message))}class a{constructor(Q,ae,xe,Ae){this.vsWorker=Q,this.req=ae,this.method=xe,this.args=Ae,this.type=0}}class l{constructor(Q,ae,xe,Ae){this.vsWorker=Q,this.seq=ae,this.res=xe,this.err=Ae,this.type=1}}class d{constructor(Q,ae,xe,Ae){this.vsWorker=Q,this.req=ae,this.eventName=xe,this.arg=Ae,this.type=2}}class i{constructor(Q,ae,xe){this.vsWorker=Q,this.req=ae,this.event=xe,this.type=3}}class s{constructor(Q,ae){this.vsWorker=Q,this.req=ae,this.type=4}}class m{constructor(Q){this._workerId=-1,this._handler=Q,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(Q){this._workerId=Q}sendMessage(Q,ae){const xe=String(++this._lastSentReq);return new Promise((Ae,Je)=>{this._pendingReplies[xe]={resolve:Ae,reject:Je},this._send(new a(this._workerId,xe,Q,ae))})}listen(Q,ae){let xe=null;const Ae=new _.Q5({onWillAddFirstListener:()=>{xe=String(++this._lastSentReq),this._pendingEmitters.set(xe,Ae),this._send(new d(this._workerId,xe,Q,ae))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(xe),this._send(new s(this._workerId,xe)),xe=null}});return Ae.event}handleMessage(Q){!Q||!Q.vsWorker||this._workerId!==-1&&Q.vsWorker!==this._workerId||this._handleMessage(Q)}_handleMessage(Q){switch(Q.type){case 1:return this._handleReplyMessage(Q);case 0:return this._handleRequestMessage(Q);case 2:return this._handleSubscribeEventMessage(Q);case 3:return this._handleEventMessage(Q);case 4:return this._handleUnsubscribeEventMessage(Q)}}_handleReplyMessage(Q){if(!this._pendingReplies[Q.seq]){console.warn("Got reply to unknown seq");return}const ae=this._pendingReplies[Q.seq];if(delete this._pendingReplies[Q.seq],Q.err){let xe=Q.err;Q.err.$isError&&(xe=new Error,xe.name=Q.err.name,xe.message=Q.err.message,xe.stack=Q.err.stack),ae.reject(xe);return}ae.resolve(Q.res)}_handleRequestMessage(Q){const ae=Q.req;this._handler.handleMessage(Q.method,Q.args).then(Ae=>{this._send(new l(this._workerId,ae,Ae,void 0))},Ae=>{Ae.detail instanceof Error&&(Ae.detail=(0,u.ri)(Ae.detail)),this._send(new l(this._workerId,ae,void 0,(0,u.ri)(Ae)))})}_handleSubscribeEventMessage(Q){const ae=Q.req,xe=this._handler.handleEvent(Q.eventName,Q.arg)(Ae=>{this._send(new i(this._workerId,ae,Ae))});this._pendingEvents.set(ae,xe)}_handleEventMessage(Q){if(!this._pendingEmitters.has(Q.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(Q.req).fire(Q.event)}_handleUnsubscribeEventMessage(Q){if(!this._pendingEvents.has(Q.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(Q.req).dispose(),this._pendingEvents.delete(Q.req)}_send(Q){const ae=[];if(Q.type===0)for(let xe=0;xe<Q.args.length;xe++)Q.args[xe]instanceof ArrayBuffer&&ae.push(Q.args[xe]);else Q.type===1&&Q.res instanceof ArrayBuffer&&ae.push(Q.res);this._handler.sendMessage(Q,ae)}}class b extends O.JT{constructor(Q,ae,xe){super();let Ae=null;this._worker=this._register(Q.create("vs/base/common/worker/simpleWorker",Bt=>{this._protocol.handleMessage(Bt)},Bt=>{Ae==null||Ae(Bt)})),this._protocol=new m({sendMessage:(Bt,ei)=>{this._worker.postMessage(Bt,ei)},handleMessage:(Bt,ei)=>{if(typeof xe[Bt]!="function")return Promise.reject(new Error("Missing method "+Bt+" on main thread host."));try{return Promise.resolve(xe[Bt].apply(xe,ei))}catch(pi){return Promise.reject(pi)}},handleEvent:(Bt,ei)=>{if(v(Bt)){const pi=xe[Bt].call(xe,ei);if(typeof pi!="function")throw new Error(`Missing dynamic event ${Bt} on main thread host.`);return pi}if(c(Bt)){const pi=xe[Bt];if(typeof pi!="function")throw new Error(`Missing event ${Bt} on main thread host.`);return pi}throw new Error(`Malformed event name ${Bt}`)}}),this._protocol.setWorkerId(this._worker.getId());let Je=null;const vt=globalThis.require;typeof vt!="undefined"&&typeof vt.getConfig=="function"?Je=vt.getConfig():typeof globalThis.requirejs!="undefined"&&(Je=globalThis.requirejs.s.contexts._.config);const St=(0,p.$E)(xe);this._onModuleLoaded=this._protocol.sendMessage(L,[this._worker.getId(),JSON.parse(JSON.stringify(Je)),ae,St]);const wt=(Bt,ei)=>this._request(Bt,ei),Lt=(Bt,ei)=>this._protocol.listen(Bt,ei);this._lazyProxy=new Promise((Bt,ei)=>{Ae=ei,this._onModuleLoaded.then(pi=>{Bt(C(pi,wt,Lt))},pi=>{ei(pi),this._onError("Worker failed to load "+ae,pi)})})}getProxyObject(){return this._lazyProxy}_request(Q,ae){return new Promise((xe,Ae)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(Q,ae).then(xe,Ae)},Ae)})}_onError(Q,ae){console.error(Q),console.info(ae)}}function c(ge){return ge[0]==="o"&&ge[1]==="n"&&I.df(ge.charCodeAt(2))}function v(ge){return/^onDynamic/.test(ge)&&I.df(ge.charCodeAt(9))}function C(ge,Q,ae){const xe=vt=>function(){const St=Array.prototype.slice.call(arguments,0);return Q(vt,St)},Ae=vt=>function(St){return ae(vt,St)},Je={};for(const vt of ge){if(v(vt)){Je[vt]=Ae(vt);continue}if(c(vt)){Je[vt]=ae(vt,void 0);continue}Je[vt]=xe(vt)}return Je}class S{constructor(Q,ae){this._requestHandlerFactory=ae,this._requestHandler=null,this._protocol=new m({sendMessage:(xe,Ae)=>{Q(xe,Ae)},handleMessage:(xe,Ae)=>this._handleMessage(xe,Ae),handleEvent:(xe,Ae)=>this._handleEvent(xe,Ae)})}onmessage(Q){this._protocol.handleMessage(Q)}_handleMessage(Q,ae){if(Q===L)return this.initialize(ae[0],ae[1],ae[2],ae[3]);if(!this._requestHandler||typeof this._requestHandler[Q]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+Q));try{return Promise.resolve(this._requestHandler[Q].apply(this._requestHandler,ae))}catch(xe){return Promise.reject(xe)}}_handleEvent(Q,ae){if(!this._requestHandler)throw new Error("Missing requestHandler");if(v(Q)){const xe=this._requestHandler[Q].call(this._requestHandler,ae);if(typeof xe!="function")throw new Error(`Missing dynamic event ${Q} on request handler.`);return xe}if(c(Q)){const xe=this._requestHandler[Q];if(typeof xe!="function")throw new Error(`Missing event ${Q} on request handler.`);return xe}throw new Error(`Malformed event name ${Q}`)}initialize(Q,ae,xe,Ae){this._protocol.setWorkerId(Q);const St=C(Ae,(wt,Lt)=>this._protocol.sendMessage(wt,Lt),(wt,Lt)=>this._protocol.listen(wt,Lt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(St),Promise.resolve(getAllMethodNames(this._requestHandler))):(ae&&(typeof ae.baseUrl!="undefined"&&delete ae.baseUrl,typeof ae.paths!="undefined"&&typeof ae.paths.vs!="undefined"&&delete ae.paths.vs,typeof ae.trustedTypesPolicy!==void 0&&delete ae.trustedTypesPolicy,ae.catchError=!0,globalThis.require.config(ae)),new Promise((wt,Lt)=>{const Bt=globalThis.require;Bt([xe],ei=>{if(this._requestHandler=ei.create(St),!this._requestHandler){Lt(new Error("No RequestHandler!"));return}wt(getAllMethodNames(this._requestHandler))},Lt)}))}}function N(ge){return new S(ge,null)}var P=t(58352);const M=(0,P.Z)("defaultWorkerFactory",{createScriptURL:ge=>ge});function D(ge){const Q=globalThis.MonacoEnvironment;if(Q){if(typeof Q.getWorker=="function")return Q.getWorker("workerMain.js",ge);if(typeof Q.getWorkerUrl=="function"){const ae=Q.getWorkerUrl("workerMain.js",ge);return new Worker(M?M.createScriptURL(ae):ae,{name:ge})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function F(ge){return typeof ge.then=="function"}class B{constructor(Q,ae,xe,Ae,Je){this.id=ae;const vt=D(xe);F(vt)?this.worker=vt:this.worker=Promise.resolve(vt),this.postMessage(Q,[]),this.worker.then(St=>{St.onmessage=function(wt){Ae(wt.data)},St.onmessageerror=Je,typeof St.addEventListener=="function"&&St.addEventListener("error",Je)})}getId(){return this.id}postMessage(Q,ae){var xe;(xe=this.worker)===null||xe===void 0||xe.then(Ae=>Ae.postMessage(Q,ae))}dispose(){var Q;(Q=this.worker)===null||Q===void 0||Q.then(ae=>ae.terminate()),this.worker=null}}class U{constructor(Q){this._label=Q,this._webWorkerFailedBeforeError=!1}create(Q,ae,xe){const Ae=++U.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new B(Q,Ae,this._label||"anonymous"+Ae,ae,Je=>{g(Je),this._webWorkerFailedBeforeError=Je,xe(Je)})}}U.LAST_WORKER_ID=0;var A=t(50038),k=t(64603),R=t(49927),$=t(28919),J=t(8964),Y=t(82808);class j{constructor(Q,ae,xe,Ae){this._uri=Q,this._lines=ae,this._eol=xe,this._versionId=Ae,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(Q){Q.eol&&Q.eol!==this._eol&&(this._eol=Q.eol,this._lineStarts=null);const ae=Q.changes;for(const xe of ae)this._acceptDeleteRange(xe.range),this._acceptInsertText(new J.L(xe.range.startLineNumber,xe.range.startColumn),xe.text);this._versionId=Q.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const Q=this._eol.length,ae=this._lines.length,xe=new Uint32Array(ae);for(let Ae=0;Ae<ae;Ae++)xe[Ae]=this._lines[Ae].length+Q;this._lineStarts=new Y.oQ(xe)}}_setLineText(Q,ae){this._lines[Q]=ae,this._lineStarts&&this._lineStarts.setValue(Q,this._lines[Q].length+this._eol.length)}_acceptDeleteRange(Q){if(Q.startLineNumber===Q.endLineNumber){if(Q.startColumn===Q.endColumn)return;this._setLineText(Q.startLineNumber-1,this._lines[Q.startLineNumber-1].substring(0,Q.startColumn-1)+this._lines[Q.startLineNumber-1].substring(Q.endColumn-1));return}this._setLineText(Q.startLineNumber-1,this._lines[Q.startLineNumber-1].substring(0,Q.startColumn-1)+this._lines[Q.endLineNumber-1].substring(Q.endColumn-1)),this._lines.splice(Q.startLineNumber,Q.endLineNumber-Q.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(Q.startLineNumber,Q.endLineNumber-Q.startLineNumber)}_acceptInsertText(Q,ae){if(ae.length===0)return;const xe=(0,I.uq)(ae);if(xe.length===1){this._setLineText(Q.lineNumber-1,this._lines[Q.lineNumber-1].substring(0,Q.column-1)+xe[0]+this._lines[Q.lineNumber-1].substring(Q.column-1));return}xe[xe.length-1]+=this._lines[Q.lineNumber-1].substring(Q.column-1),this._setLineText(Q.lineNumber-1,this._lines[Q.lineNumber-1].substring(0,Q.column-1)+xe[0]);const Ae=new Uint32Array(xe.length-1);for(let Je=1;Je<xe.length;Je++)this._lines.splice(Q.lineNumber+Je-1,0,xe[Je]),Ae[Je-1]=xe[Je].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(Q.lineNumber,Ae)}}var z=t(52676),K=t(55224);class Z{constructor(Q,ae,xe){const Ae=new Uint8Array(Q*ae);for(let Je=0,vt=Q*ae;Je<vt;Je++)Ae[Je]=xe;this._data=Ae,this.rows=Q,this.cols=ae}get(Q,ae){return this._data[Q*this.cols+ae]}set(Q,ae,xe){this._data[Q*this.cols+ae]=xe}}class fe{constructor(Q){let ae=0,xe=0;for(let Je=0,vt=Q.length;Je<vt;Je++){const[St,wt,Lt]=Q[Je];wt>ae&&(ae=wt),St>xe&&(xe=St),Lt>xe&&(xe=Lt)}ae++,xe++;const Ae=new Z(xe,ae,0);for(let Je=0,vt=Q.length;Je<vt;Je++){const[St,wt,Lt]=Q[Je];Ae.set(St,wt,Lt)}this._states=Ae,this._maxCharCode=ae}nextState(Q,ae){return ae<0||ae>=this._maxCharCode?0:this._states.get(Q,ae)}}let T=null;function Re(){return T===null&&(T=new fe([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),T}let Ce=null;function _e(){if(Ce===null){Ce=new K.N(0);const ge=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let ae=0;ae<ge.length;ae++)Ce.set(ge.charCodeAt(ae),1);const Q=".,;:";for(let ae=0;ae<Q.length;ae++)Ce.set(Q.charCodeAt(ae),2)}return Ce}class pe{static _createLink(Q,ae,xe,Ae,Je){let vt=Je-1;do{const St=ae.charCodeAt(vt);if(Q.get(St)!==2)break;vt--}while(vt>Ae);if(Ae>0){const St=ae.charCodeAt(Ae-1),wt=ae.charCodeAt(vt);(St===40&&wt===41||St===91&&wt===93||St===123&&wt===125)&&vt--}return{range:{startLineNumber:xe,startColumn:Ae+1,endLineNumber:xe,endColumn:vt+2},url:ae.substring(Ae,vt+1)}}static computeLinks(Q,ae=Re()){const xe=_e(),Ae=[];for(let Je=1,vt=Q.getLineCount();Je<=vt;Je++){const St=Q.getLineContent(Je),wt=St.length;let Lt=0,Bt=0,ei=0,pi=1,di=!1,hi=!1,yi=!1,Bi=!1;for(;Lt<wt;){let ki=!1;const Wi=St.charCodeAt(Lt);if(pi===13){let Ri;switch(Wi){case 40:di=!0,Ri=0;break;case 41:Ri=di?0:1;break;case 91:yi=!0,hi=!0,Ri=0;break;case 93:yi=!1,Ri=hi?0:1;break;case 123:Bi=!0,Ri=0;break;case 125:Ri=Bi?0:1;break;case 39:case 34:case 96:ei===Wi?Ri=1:ei===39||ei===34||ei===96?Ri=0:Ri=1;break;case 42:Ri=ei===42?1:0;break;case 124:Ri=ei===124?1:0;break;case 32:Ri=yi?0:1;break;default:Ri=xe.get(Wi)}Ri===1&&(Ae.push(pe._createLink(xe,St,Je,Bt,Lt)),ki=!0)}else if(pi===12){let Ri;Wi===91?(hi=!0,Ri=0):Ri=xe.get(Wi),Ri===1?ki=!0:pi=13}else pi=ae.nextState(pi,Wi),pi===0&&(ki=!0);ki&&(pi=1,di=!1,hi=!1,Bi=!1,Bt=Lt+1,ei=Wi),Lt++}pi===13&&Ae.push(pe._createLink(xe,St,Je,Bt,wt))}return Ae}}function le(ge){return!ge||typeof ge.getLineCount!="function"||typeof ge.getLineContent!="function"?[]:pe.computeLinks(ge)}class oe{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(Q,ae,xe,Ae,Je){if(Q&&ae){const vt=this.doNavigateValueSet(ae,Je);if(vt)return{range:Q,value:vt}}if(xe&&Ae){const vt=this.doNavigateValueSet(Ae,Je);if(vt)return{range:xe,value:vt}}return null}doNavigateValueSet(Q,ae){const xe=this.numberReplace(Q,ae);return xe!==null?xe:this.textReplace(Q,ae)}numberReplace(Q,ae){const xe=Math.pow(10,Q.length-(Q.lastIndexOf(".")+1));let Ae=Number(Q);const Je=parseFloat(Q);return!isNaN(Ae)&&!isNaN(Je)&&Ae===Je?Ae===0&&!ae?null:(Ae=Math.floor(Ae*xe),Ae+=ae?xe:-xe,String(Ae/xe)):null}textReplace(Q,ae){return this.valueSetsReplace(this._defaultValueSet,Q,ae)}valueSetsReplace(Q,ae,xe){let Ae=null;for(let Je=0,vt=Q.length;Ae===null&&Je<vt;Je++)Ae=this.valueSetReplace(Q[Je],ae,xe);return Ae}valueSetReplace(Q,ae,xe){let Ae=Q.indexOf(ae);return Ae>=0?(Ae+=xe?1:-1,Ae<0?Ae=Q.length-1:Ae%=Q.length,Q[Ae]):null}}oe.INSTANCE=new oe;var he=t(79375),je=t(69344),Xe=t(83969),Ve=t(5800),se=t(14527),q=t(4407);const Ee=3;class Se{computeDiff(Q,ae,xe){var Ae;const vt=new He(Q,ae,{maxComputationTime:xe.maxComputationTimeMs,shouldIgnoreTrimWhitespace:xe.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),St=[];let wt=null;for(const Lt of vt.changes){let Bt;Lt.originalEndLineNumber===0?Bt=new q.z(Lt.originalStartLineNumber+1,Lt.originalStartLineNumber+1):Bt=new q.z(Lt.originalStartLineNumber,Lt.originalEndLineNumber+1);let ei;Lt.modifiedEndLineNumber===0?ei=new q.z(Lt.modifiedStartLineNumber+1,Lt.modifiedStartLineNumber+1):ei=new q.z(Lt.modifiedStartLineNumber,Lt.modifiedEndLineNumber+1);let pi=new Ve.f0(Bt,ei,(Ae=Lt.charChanges)===null||Ae===void 0?void 0:Ae.map(di=>new Ve.iy(new A.e(di.originalStartLineNumber,di.originalStartColumn,di.originalEndLineNumber,di.originalEndColumn),new A.e(di.modifiedStartLineNumber,di.modifiedStartColumn,di.modifiedEndLineNumber,di.modifiedEndColumn))));wt&&(wt.modifiedRange.endLineNumberExclusive===pi.modifiedRange.startLineNumber||wt.originalRange.endLineNumberExclusive===pi.originalRange.startLineNumber)&&(pi=new Ve.f0(wt.originalRange.join(pi.originalRange),wt.modifiedRange.join(pi.modifiedRange),wt.innerChanges&&pi.innerChanges?wt.innerChanges.concat(pi.innerChanges):void 0),St.pop()),St.push(pi),wt=pi}return(0,se.eZ)(()=>(0,se.DM)(St,(Lt,Bt)=>Bt.originalRange.startLineNumber-Lt.originalRange.endLineNumberExclusive===Bt.modifiedRange.startLineNumber-Lt.modifiedRange.endLineNumberExclusive&&Lt.originalRange.endLineNumberExclusive<Bt.originalRange.startLineNumber&&Lt.modifiedRange.endLineNumberExclusive<Bt.modifiedRange.startLineNumber)),new Ve.hZ(St,vt.quitEarly)}}function we(ge,Q,ae,xe){return new R.Hs(ge,Q,ae).ComputeDiff(xe)}class ve{constructor(Q){const ae=[],xe=[];for(let Ae=0,Je=Q.length;Ae<Je;Ae++)ae[Ae]=Le(Q[Ae],1),xe[Ae]=de(Q[Ae],1);this.lines=Q,this._startColumns=ae,this._endColumns=xe}getElements(){const Q=[];for(let ae=0,xe=this.lines.length;ae<xe;ae++)Q[ae]=this.lines[ae].substring(this._startColumns[ae]-1,this._endColumns[ae]-1);return Q}getStrictElement(Q){return this.lines[Q]}getStartLineNumber(Q){return Q+1}getEndLineNumber(Q){return Q+1}createCharSequence(Q,ae,xe){const Ae=[],Je=[],vt=[];let St=0;for(let wt=ae;wt<=xe;wt++){const Lt=this.lines[wt],Bt=Q?this._startColumns[wt]:1,ei=Q?this._endColumns[wt]:Lt.length+1;for(let pi=Bt;pi<ei;pi++)Ae[St]=Lt.charCodeAt(pi-1),Je[St]=wt+1,vt[St]=pi,St++;!Q&&wt<xe&&(Ae[St]=10,Je[St]=wt+1,vt[St]=Lt.length+1,St++)}return new Ne(Ae,Je,vt)}}class Ne{constructor(Q,ae,xe){this._charCodes=Q,this._lineNumbers=ae,this._columns=xe}toString(){return"["+this._charCodes.map((Q,ae)=>(Q===10?"\\n":String.fromCharCode(Q))+`-(${this._lineNumbers[ae]},${this._columns[ae]})`).join(", ")+"]"}_assertIndex(Q,ae){if(Q<0||Q>=ae.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(Q){return Q>0&&Q===this._lineNumbers.length?this.getEndLineNumber(Q-1):(this._assertIndex(Q,this._lineNumbers),this._lineNumbers[Q])}getEndLineNumber(Q){return Q===-1?this.getStartLineNumber(Q+1):(this._assertIndex(Q,this._lineNumbers),this._charCodes[Q]===10?this._lineNumbers[Q]+1:this._lineNumbers[Q])}getStartColumn(Q){return Q>0&&Q===this._columns.length?this.getEndColumn(Q-1):(this._assertIndex(Q,this._columns),this._columns[Q])}getEndColumn(Q){return Q===-1?this.getStartColumn(Q+1):(this._assertIndex(Q,this._columns),this._charCodes[Q]===10?1:this._columns[Q]+1)}}class $e{constructor(Q,ae,xe,Ae,Je,vt,St,wt){this.originalStartLineNumber=Q,this.originalStartColumn=ae,this.originalEndLineNumber=xe,this.originalEndColumn=Ae,this.modifiedStartLineNumber=Je,this.modifiedStartColumn=vt,this.modifiedEndLineNumber=St,this.modifiedEndColumn=wt}static createFromDiffChange(Q,ae,xe){const Ae=ae.getStartLineNumber(Q.originalStart),Je=ae.getStartColumn(Q.originalStart),vt=ae.getEndLineNumber(Q.originalStart+Q.originalLength-1),St=ae.getEndColumn(Q.originalStart+Q.originalLength-1),wt=xe.getStartLineNumber(Q.modifiedStart),Lt=xe.getStartColumn(Q.modifiedStart),Bt=xe.getEndLineNumber(Q.modifiedStart+Q.modifiedLength-1),ei=xe.getEndColumn(Q.modifiedStart+Q.modifiedLength-1);return new $e(Ae,Je,vt,St,wt,Lt,Bt,ei)}}function Ke(ge){if(ge.length<=1)return ge;const Q=[ge[0]];let ae=Q[0];for(let xe=1,Ae=ge.length;xe<Ae;xe++){const Je=ge[xe],vt=Je.originalStart-(ae.originalStart+ae.originalLength),St=Je.modifiedStart-(ae.modifiedStart+ae.modifiedLength);Math.min(vt,St)<Ee?(ae.originalLength=Je.originalStart+Je.originalLength-ae.originalStart,ae.modifiedLength=Je.modifiedStart+Je.modifiedLength-ae.modifiedStart):(Q.push(Je),ae=Je)}return Q}class ze{constructor(Q,ae,xe,Ae,Je){this.originalStartLineNumber=Q,this.originalEndLineNumber=ae,this.modifiedStartLineNumber=xe,this.modifiedEndLineNumber=Ae,this.charChanges=Je}static createFromDiffResult(Q,ae,xe,Ae,Je,vt,St){let wt,Lt,Bt,ei,pi;if(ae.originalLength===0?(wt=xe.getStartLineNumber(ae.originalStart)-1,Lt=0):(wt=xe.getStartLineNumber(ae.originalStart),Lt=xe.getEndLineNumber(ae.originalStart+ae.originalLength-1)),ae.modifiedLength===0?(Bt=Ae.getStartLineNumber(ae.modifiedStart)-1,ei=0):(Bt=Ae.getStartLineNumber(ae.modifiedStart),ei=Ae.getEndLineNumber(ae.modifiedStart+ae.modifiedLength-1)),vt&&ae.originalLength>0&&ae.originalLength<20&&ae.modifiedLength>0&&ae.modifiedLength<20&&Je()){const di=xe.createCharSequence(Q,ae.originalStart,ae.originalStart+ae.originalLength-1),hi=Ae.createCharSequence(Q,ae.modifiedStart,ae.modifiedStart+ae.modifiedLength-1);if(di.getElements().length>0&&hi.getElements().length>0){let yi=we(di,hi,Je,!0).changes;St&&(yi=Ke(yi)),pi=[];for(let Bi=0,ki=yi.length;Bi<ki;Bi++)pi.push($e.createFromDiffChange(yi[Bi],di,hi))}}return new ze(wt,Lt,Bt,ei,pi)}}class He{constructor(Q,ae,xe){this.shouldComputeCharChanges=xe.shouldComputeCharChanges,this.shouldPostProcessCharChanges=xe.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=xe.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=xe.shouldMakePrettyDiff,this.originalLines=Q,this.modifiedLines=ae,this.original=new ve(Q),this.modified=new ve(ae),this.continueLineDiff=ee(xe.maxComputationTime),this.continueCharDiff=ee(xe.maxComputationTime===0?0:Math.min(xe.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const Q=we(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),ae=Q.changes,xe=Q.quitEarly;if(this.shouldIgnoreTrimWhitespace){const St=[];for(let wt=0,Lt=ae.length;wt<Lt;wt++)St.push(ze.createFromDiffResult(this.shouldIgnoreTrimWhitespace,ae[wt],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:xe,changes:St}}const Ae=[];let Je=0,vt=0;for(let St=-1,wt=ae.length;St<wt;St++){const Lt=St+1<wt?ae[St+1]:null,Bt=Lt?Lt.originalStart:this.originalLines.length,ei=Lt?Lt.modifiedStart:this.modifiedLines.length;for(;Je<Bt&&vt<ei;){const pi=this.originalLines[Je],di=this.modifiedLines[vt];if(pi!==di){{let hi=Le(pi,1),yi=Le(di,1);for(;hi>1&&yi>1;){const Bi=pi.charCodeAt(hi-2),ki=di.charCodeAt(yi-2);if(Bi!==ki)break;hi--,yi--}(hi>1||yi>1)&&this._pushTrimWhitespaceCharChange(Ae,Je+1,1,hi,vt+1,1,yi)}{let hi=de(pi,1),yi=de(di,1);const Bi=pi.length+1,ki=di.length+1;for(;hi<Bi&&yi<ki;){const Wi=pi.charCodeAt(hi-1),Ri=pi.charCodeAt(yi-1);if(Wi!==Ri)break;hi++,yi++}(hi<Bi||yi<ki)&&this._pushTrimWhitespaceCharChange(Ae,Je+1,hi,Bi,vt+1,yi,ki)}}Je++,vt++}Lt&&(Ae.push(ze.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Lt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Je+=Lt.originalLength,vt+=Lt.modifiedLength)}return{quitEarly:xe,changes:Ae}}_pushTrimWhitespaceCharChange(Q,ae,xe,Ae,Je,vt,St){if(this._mergeTrimWhitespaceCharChange(Q,ae,xe,Ae,Je,vt,St))return;let wt;this.shouldComputeCharChanges&&(wt=[new $e(ae,xe,ae,Ae,Je,vt,Je,St)]),Q.push(new ze(ae,ae,Je,Je,wt))}_mergeTrimWhitespaceCharChange(Q,ae,xe,Ae,Je,vt,St){const wt=Q.length;if(wt===0)return!1;const Lt=Q[wt-1];return Lt.originalEndLineNumber===0||Lt.modifiedEndLineNumber===0?!1:Lt.originalEndLineNumber===ae&&Lt.modifiedEndLineNumber===Je?(this.shouldComputeCharChanges&&Lt.charChanges&&Lt.charChanges.push(new $e(ae,xe,ae,Ae,Je,vt,Je,St)),!0):Lt.originalEndLineNumber+1===ae&&Lt.modifiedEndLineNumber+1===Je?(Lt.originalEndLineNumber=ae,Lt.modifiedEndLineNumber=Je,this.shouldComputeCharChanges&&Lt.charChanges&&Lt.charChanges.push(new $e(ae,xe,ae,Ae,Je,vt,Je,St)),!0):!1}}function Le(ge,Q){const ae=I.LC(ge);return ae===-1?Q:ae+1}function de(ge,Q){const ae=I.ow(ge);return ae===-1?Q:ae+2}function ee(ge){if(ge===0)return()=>!0;const Q=Date.now();return()=>Date.now()-Q<ge}var ne=t(7335);class me{static trivial(Q,ae){return new me([new ue(new ne.q(0,Q.length),new ne.q(0,ae.length))],!1)}static trivialTimedOut(Q,ae){return new me([new ue(new ne.q(0,Q.length),new ne.q(0,ae.length))],!0)}constructor(Q,ae){this.diffs=Q,this.hitTimeout=ae}}class ue{constructor(Q,ae){this.seq1Range=Q,this.seq2Range=ae}reverse(){return new ue(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(Q){return new ue(this.seq1Range.join(Q.seq1Range),this.seq2Range.join(Q.seq2Range))}}class Pe{isValid(){return!0}}Pe.instance=new Pe;class ot{constructor(Q){if(this.timeout=Q,this.startTime=Date.now(),this.valid=!0,Q<=0)throw new u.he("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class gt{constructor(Q,ae){this.width=Q,this.height=ae,this.array=[],this.array=new Array(Q*ae)}get(Q,ae){return this.array[Q+ae*this.width]}set(Q,ae,xe){this.array[Q+ae*this.width]=xe}}class nt{compute(Q,ae,xe=Pe.instance,Ae){if(Q.length===0||ae.length===0)return me.trivial(Q,ae);const Je=new gt(Q.length,ae.length),vt=new gt(Q.length,ae.length),St=new gt(Q.length,ae.length);for(let hi=0;hi<Q.length;hi++)for(let yi=0;yi<ae.length;yi++){if(!xe.isValid())return me.trivialTimedOut(Q,ae);const Bi=hi===0?0:Je.get(hi-1,yi),ki=yi===0?0:Je.get(hi,yi-1);let Wi;Q.getElement(hi)===ae.getElement(yi)?(hi===0||yi===0?Wi=0:Wi=Je.get(hi-1,yi-1),hi>0&&yi>0&&vt.get(hi-1,yi-1)===3&&(Wi+=St.get(hi-1,yi-1)),Wi+=Ae?Ae(hi,yi):1):Wi=-1;const Ri=Math.max(Bi,ki,Wi);if(Ri===Wi){const Cn=hi>0&&yi>0?St.get(hi-1,yi-1):0;St.set(hi,yi,Cn+1),vt.set(hi,yi,3)}else Ri===Bi?(St.set(hi,yi,0),vt.set(hi,yi,1)):Ri===ki&&(St.set(hi,yi,0),vt.set(hi,yi,2));Je.set(hi,yi,Ri)}const wt=[];let Lt=Q.length,Bt=ae.length;function ei(hi,yi){(hi+1!==Lt||yi+1!==Bt)&&wt.push(new ue(new ne.q(hi+1,Lt),new ne.q(yi+1,Bt))),Lt=hi,Bt=yi}let pi=Q.length-1,di=ae.length-1;for(;pi>=0&&di>=0;)vt.get(pi,di)===3?(ei(pi,di),pi--,di--):vt.get(pi,di)===1?pi--:di--;return ei(-1,-1),wt.reverse(),new me(wt,!1)}}function tt(ge,Q,ae){let xe=ae;return xe=It(ge,Q,xe),xe=Wt(ge,Q,xe),xe}function st(ge,Q,ae){const xe=[];for(const Ae of ae){const Je=xe[xe.length-1];if(!Je){xe.push(Ae);continue}Ae.seq1Range.start-Je.seq1Range.endExclusive<=2||Ae.seq2Range.start-Je.seq2Range.endExclusive<=2?xe[xe.length-1]=new ue(Je.seq1Range.join(Ae.seq1Range),Je.seq2Range.join(Ae.seq2Range)):xe.push(Ae)}return xe}function It(ge,Q,ae){const xe=[];ae.length>0&&xe.push(ae[0]);for(let Ae=1;Ae<ae.length;Ae++){const Je=xe[xe.length-1],vt=ae[Ae];if(vt.seq1Range.isEmpty){let St=!0;const wt=vt.seq1Range.start-Je.seq1Range.endExclusive;for(let Lt=1;Lt<=wt;Lt++)if(Q.getElement(vt.seq2Range.start-Lt)!==Q.getElement(vt.seq2Range.endExclusive-Lt)){St=!1;break}if(St){xe[xe.length-1]=new ue(Je.seq1Range,new ne.q(Je.seq2Range.start,vt.seq2Range.endExclusive-wt));continue}}xe.push(vt)}return xe}function Wt(ge,Q,ae){if(!ge.getBoundaryScore||!Q.getBoundaryScore)return ae;for(let xe=0;xe<ae.length;xe++){const Ae=ae[xe];if(Ae.seq1Range.isEmpty){const Je=xe>0?ae[xe-1].seq2Range.endExclusive:-1,vt=xe+1<ae.length?ae[xe+1].seq2Range.start:Q.length;ae[xe]=Vt(Ae,ge,Q,vt,Je)}else if(Ae.seq2Range.isEmpty){const Je=xe>0?ae[xe-1].seq1Range.endExclusive:-1,vt=xe+1<ae.length?ae[xe+1].seq1Range.start:ge.length;ae[xe]=Vt(Ae.reverse(),Q,ge,vt,Je).reverse()}}return ae}function Vt(ge,Q,ae,xe,Ae){let vt=1;for(;ge.seq2Range.start-vt>Ae&&ae.getElement(ge.seq2Range.start-vt)===ae.getElement(ge.seq2Range.endExclusive-vt)&&vt<20;)vt++;vt--;let St=0;for(;ge.seq2Range.start+St<xe&&ae.getElement(ge.seq2Range.start+St)===ae.getElement(ge.seq2Range.endExclusive+St)&&St<20;)St++;if(vt===0&&St===0)return ge;let wt=0,Lt=-1;for(let Bt=-vt;Bt<=St;Bt++){const ei=ge.seq2Range.start+Bt,pi=ge.seq2Range.endExclusive+Bt,di=ge.seq1Range.start+Bt,hi=Q.getBoundaryScore(di)+ae.getBoundaryScore(ei)+ae.getBoundaryScore(pi);hi>Lt&&(Lt=hi,wt=Bt)}return wt!==0?new ue(ge.seq1Range.delta(wt),ge.seq2Range.delta(wt)):ge}class Ct{compute(Q,ae,xe=Pe.instance){if(Q.length===0||ae.length===0)return me.trivial(Q,ae);function Ae(di,hi){for(;di<Q.length&&hi<ae.length&&Q.getElement(di)===ae.getElement(hi);)di++,hi++;return di}let Je=0;const vt=new jt;vt.set(0,Ae(0,0));const St=new Ye;St.set(0,vt.get(0)===0?null:new gi(null,0,0,vt.get(0)));let wt=0;e:for(;;)for(Je++,wt=-Je;wt<=Je;wt+=2){if(!xe.isValid())return me.trivialTimedOut(Q,ae);const di=wt===Je?-1:vt.get(wt+1),hi=wt===-Je?-1:vt.get(wt-1)+1,yi=Math.min(Math.max(di,hi),Q.length),Bi=yi-wt,ki=Ae(yi,Bi);vt.set(wt,ki);const Wi=yi===di?St.get(wt+1):St.get(wt-1);if(St.set(wt,ki!==yi?new gi(Wi,yi,Bi,ki-yi):Wi),vt.get(wt)===Q.length&&vt.get(wt)-wt===ae.length)break e}let Lt=St.get(wt);const Bt=[];let ei=Q.length,pi=ae.length;for(;;){const di=Lt?Lt.x+Lt.length:0,hi=Lt?Lt.y+Lt.length:0;if((di!==ei||hi!==pi)&&Bt.push(new ue(new ne.q(di,ei),new ne.q(hi,pi))),!Lt)break;ei=Lt.x,pi=Lt.y,Lt=Lt.prev}return Bt.reverse(),new me(Bt,!1)}}class gi{constructor(Q,ae,xe,Ae){this.prev=Q,this.x=ae,this.y=xe,this.length=Ae}}class jt{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(Q){return Q<0?(Q=-Q-1,this.negativeArr[Q]):this.positiveArr[Q]}set(Q,ae){if(Q<0){if(Q=-Q-1,Q>=this.negativeArr.length){const xe=this.negativeArr;this.negativeArr=new Int32Array(xe.length*2),this.negativeArr.set(xe)}this.negativeArr[Q]=ae}else{if(Q>=this.positiveArr.length){const xe=this.positiveArr;this.positiveArr=new Int32Array(xe.length*2),this.positiveArr.set(xe)}this.positiveArr[Q]=ae}}}class Ye{constructor(){this.positiveArr=[],this.negativeArr=[]}get(Q){return Q<0?(Q=-Q-1,this.negativeArr[Q]):this.positiveArr[Q]}set(Q,ae){Q<0?(Q=-Q-1,this.negativeArr[Q]=ae):this.positiveArr[Q]=ae}}class ut{constructor(){this.dynamicProgrammingDiffing=new nt,this.myersDiffingAlgorithm=new Ct}computeDiff(Q,ae,xe){const Ae=xe.maxComputationTimeMs===0?Pe.instance:new ot(xe.maxComputationTimeMs),Je=!xe.ignoreTrimWhitespace,vt=new Map;function St(Cn){let ts=vt.get(Cn);return ts===void 0&&(ts=vt.size,vt.set(Cn,ts)),ts}const wt=Q.map(Cn=>St(Cn.trim())),Lt=ae.map(Cn=>St(Cn.trim())),Bt=new yt(wt,Q),ei=new yt(Lt,ae),pi=(()=>Bt.length+ei.length<1500?this.dynamicProgrammingDiffing.compute(Bt,ei,Ae,(Cn,ts)=>Q[Cn]===ae[ts]?ae[ts].length===0?.1:1+Math.log(1+ae[ts].length):.99):this.myersDiffingAlgorithm.compute(Bt,ei))();let di=pi.diffs,hi=pi.hitTimeout;di=tt(Bt,ei,di);const yi=[],Bi=Cn=>{if(Je)for(let ts=0;ts<Cn;ts++){const Hn=ki+ts,Ss=Wi+ts;if(Q[Hn]!==ae[Ss]){const mn=this.refineDiff(Q,ae,new ue(new ne.q(Hn,Hn+1),new ne.q(Ss,Ss+1)),Ae,Je);for(const wi of mn.mappings)yi.push(wi);mn.hitTimeout&&(hi=!0)}}};let ki=0,Wi=0;for(const Cn of di){(0,se.eZ)(()=>Cn.seq1Range.start-ki===Cn.seq2Range.start-Wi);const ts=Cn.seq1Range.start-ki;Bi(ts),ki=Cn.seq1Range.endExclusive,Wi=Cn.seq2Range.endExclusive;const Hn=this.refineDiff(Q,ae,Cn,Ae,Je);Hn.hitTimeout&&(hi=!0);for(const Ss of Hn.mappings)yi.push(Ss)}Bi(Q.length-ki);const Ri=Mt(yi,Q,ae);return new Ve.hZ(Ri,hi)}refineDiff(Q,ae,xe,Ae,Je){const vt=new Qt(Q,xe.seq1Range,Je),St=new Qt(ae,xe.seq2Range,Je),wt=vt.length+St.length<500?this.dynamicProgrammingDiffing.compute(vt,St,Ae):this.myersDiffingAlgorithm.compute(vt,St,Ae);let Lt=wt.diffs;return Lt=tt(vt,St,Lt),Lt=dt(vt,St,Lt),Lt=st(vt,St,Lt),{mappings:Lt.map(ei=>new Ve.iy(vt.translateRange(ei.seq1Range),St.translateRange(ei.seq2Range))),hitTimeout:wt.hitTimeout}}}function dt(ge,Q,ae){const xe=[];let Ae;function Je(){if(!Ae)return;const St=Ae.s1Range.length-Ae.deleted,wt=Ae.s2Range.length-Ae.added;Math.max(Ae.deleted,Ae.added)+(Ae.count-1)>St&&xe.push(new ue(Ae.s1Range,Ae.s2Range)),Ae=void 0}for(const St of ae){let wt=function(di,hi){var yi,Bi,ki,Wi;if(!Ae||!Ae.s1Range.containsRange(di)||!Ae.s2Range.containsRange(hi))if(Ae&&!(Ae.s1Range.endExclusive<di.start&&Ae.s2Range.endExclusive<hi.start)){const ts=ne.q.tryCreate(Ae.s1Range.endExclusive,di.start),Hn=ne.q.tryCreate(Ae.s2Range.endExclusive,hi.start);Ae.deleted+=(yi=ts==null?void 0:ts.length)!==null&&yi!==void 0?yi:0,Ae.added+=(Bi=Hn==null?void 0:Hn.length)!==null&&Bi!==void 0?Bi:0,Ae.s1Range=Ae.s1Range.join(di),Ae.s2Range=Ae.s2Range.join(hi)}else Je(),Ae={added:0,deleted:0,count:0,s1Range:di,s2Range:hi};const Ri=di.intersect(St.seq1Range),Cn=hi.intersect(St.seq2Range);Ae.count++,Ae.deleted+=(ki=Ri==null?void 0:Ri.length)!==null&&ki!==void 0?ki:0,Ae.added+=(Wi=Cn==null?void 0:Cn.length)!==null&&Wi!==void 0?Wi:0};const Lt=ge.findWordContaining(St.seq1Range.start-1),Bt=Q.findWordContaining(St.seq2Range.start-1),ei=ge.findWordContaining(St.seq1Range.endExclusive),pi=Q.findWordContaining(St.seq2Range.endExclusive);Lt&&ei&&Bt&&pi&&Lt.equals(ei)&&Bt.equals(pi)?wt(Lt,Bt):(Lt&&Bt&&wt(Lt,Bt),ei&&pi&&wt(ei,pi))}return Je(),bt(ae,xe)}function bt(ge,Q){const ae=[];for(;ge.length>0||Q.length>0;){const xe=ge[0],Ae=Q[0];let Je;xe&&(!Ae||xe.seq1Range.start<Ae.seq1Range.start)?Je=ge.shift():Je=Q.shift(),ae.length>0&&ae[ae.length-1].seq1Range.endExclusive>=Je.seq1Range.start?ae[ae.length-1]=ae[ae.length-1].join(Je):ae.push(Je)}return ae}function Mt(ge,Q,ae){const xe=[];for(const Ae of qt(ge.map(Je=>ni(Je,Q,ae)),(Je,vt)=>Je.originalRange.overlapOrTouch(vt.originalRange)||Je.modifiedRange.overlapOrTouch(vt.modifiedRange))){const Je=Ae[0],vt=Ae[Ae.length-1];xe.push(new Ve.f0(Je.originalRange.join(vt.originalRange),Je.modifiedRange.join(vt.modifiedRange),Ae.map(St=>St.innerChanges[0])))}return(0,se.eZ)(()=>(0,se.DM)(xe,(Ae,Je)=>Je.originalRange.startLineNumber-Ae.originalRange.endLineNumberExclusive===Je.modifiedRange.startLineNumber-Ae.modifiedRange.endLineNumberExclusive&&Ae.originalRange.endLineNumberExclusive<Je.originalRange.startLineNumber&&Ae.modifiedRange.endLineNumberExclusive<Je.modifiedRange.startLineNumber)),xe}function ni(ge,Q,ae){let xe=0,Ae=0;ge.modifiedRange.startColumn-1>=ae[ge.modifiedRange.startLineNumber-1].length&&ge.originalRange.startColumn-1>=Q[ge.originalRange.startLineNumber-1].length&&(xe=1),ge.modifiedRange.endColumn===1&&ge.originalRange.endColumn===1&&ge.originalRange.startLineNumber+xe<=ge.originalRange.endLineNumber&&ge.modifiedRange.startLineNumber+xe<=ge.modifiedRange.endLineNumber&&(Ae=-1);const Je=new q.z(ge.originalRange.startLineNumber+xe,ge.originalRange.endLineNumber+1+Ae),vt=new q.z(ge.modifiedRange.startLineNumber+xe,ge.modifiedRange.endLineNumber+1+Ae);return new Ve.f0(Je,vt,[ge])}function*qt(ge,Q){let ae,xe;for(const Ae of ge)xe!==void 0&&Q(xe,Ae)?ae.push(Ae):(ae&&(yield ae),ae=[Ae]),xe=Ae;ae&&(yield ae)}class yt{constructor(Q,ae){this.trimmedHash=Q,this.lines=ae}getElement(Q){return this.trimmedHash[Q]}get length(){return this.trimmedHash.length}getBoundaryScore(Q){const ae=Q===0?0:At(this.lines[Q-1]),xe=Q===this.lines.length?0:At(this.lines[Q]);return 1e3-(ae+xe)}}function At(ge){let Q=0;for(;Q<ge.length&&(ge.charCodeAt(Q)===32||ge.charCodeAt(Q)===9);)Q++;return Q}class Qt{constructor(Q,ae,xe){this.lines=Q,this.considerWhitespaceChanges=xe,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.offsetByLine=[];let Ae=!1;ae.start>0&&ae.endExclusive>=Q.length&&(ae=new ne.q(ae.start-1,ae.endExclusive),Ae=!0),this.lineRange=ae;for(let Je=this.lineRange.start;Je<this.lineRange.endExclusive;Je++){let vt=Q[Je],St=0;if(Ae)St=vt.length,vt="",Ae=!1;else if(!xe){const wt=vt.trimStart();St=vt.length-wt.length,vt=wt.trimEnd()}this.offsetByLine.push(St);for(let wt=0;wt<vt.length;wt++)this.elements.push(vt.charCodeAt(wt));Je<Q.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLineMinusOne[Je-this.lineRange.start]=this.elements.length)}this.offsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return[...this.elements].map(Q=>String.fromCharCode(Q)).join("")}getElement(Q){return this.elements[Q]}get length(){return this.elements.length}getBoundaryScore(Q){const ae=bi(Q>0?this.elements[Q-1]:-1),xe=bi(Q<this.elements.length?this.elements[Q]:-1);if(ae===6&&xe===7)return 0;let Ae=0;return ae!==xe&&(Ae+=10,xe===1&&(Ae+=1)),Ae+=mi(ae),Ae+=mi(xe),Ae}translateOffset(Q){if(this.lineRange.isEmpty)return new J.L(this.lineRange.start+1,1);let ae=0,xe=this.firstCharOffsetByLineMinusOne.length;for(;ae<xe;){const Je=Math.floor((ae+xe)/2);this.firstCharOffsetByLineMinusOne[Je]>Q?xe=Je:ae=Je+1}const Ae=ae===0?0:this.firstCharOffsetByLineMinusOne[ae-1];return new J.L(this.lineRange.start+ae+1,Q-Ae+1+this.offsetByLine[ae])}translateRange(Q){return A.e.fromPositions(this.translateOffset(Q.start),this.translateOffset(Q.endExclusive))}findWordContaining(Q){if(Q<0||Q>=this.elements.length||!si(this.elements[Q]))return;let ae=Q;for(;ae>0&&si(this.elements[ae-1]);)ae--;let xe=Q;for(;xe<this.elements.length&&si(this.elements[xe]);)xe++;return new ne.q(ae,xe)}}function si(ge){return ge>=97&&ge<=122||ge>=65&&ge<=90||ge>=48&&ge<=57}const oi={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function mi(ge){return oi[ge]}function bi(ge){return ge===10?7:ge===13?6:Ai(ge)?5:ge>=97&&ge<=122?0:ge>=65&&ge<=90?1:ge>=48&&ge<=57?2:ge===-1?3:4}function Ai(ge){return ge===32||ge===9}const $i={legacy:new Se,advanced:new ut};var Vi=t(86741);function Qi(ge){const Q=[];for(const ae of ge){const xe=Number(ae);(xe||xe===0&&ae.replace(/\s/g,"")!=="")&&Q.push(xe)}return Q}function fn(ge,Q,ae,xe){return{red:ge/255,blue:ae/255,green:Q/255,alpha:xe}}function Yi(ge,Q){const ae=Q.index,xe=Q[0].length;if(!ae)return;const Ae=ge.positionAt(ae);return{startLineNumber:Ae.lineNumber,startColumn:Ae.column,endLineNumber:Ae.lineNumber,endColumn:Ae.column+xe}}function Pi(ge,Q){if(!ge)return;const ae=Vi.Il.Format.CSS.parseHex(Q);if(ae)return{range:ge,color:fn(ae.rgba.r,ae.rgba.g,ae.rgba.b,ae.rgba.a)}}function Li(ge,Q,ae){if(!ge||Q.length!==1)return;const Ae=Q[0].values(),Je=Qi(Ae);return{range:ge,color:fn(Je[0],Je[1],Je[2],ae?Je[3]:1)}}function gn(ge,Q,ae){if(!ge||Q.length!==1)return;const Ae=Q[0].values(),Je=Qi(Ae),vt=new Vi.Il(new Vi.Oz(Je[0],Je[1]/100,Je[2]/100,ae?Je[3]:1));return{range:ge,color:fn(vt.rgba.r,vt.rgba.g,vt.rgba.b,vt.rgba.a)}}function on(ge,Q){return typeof ge=="string"?[...ge.matchAll(Q)]:ge.findMatches(Q)}function Nn(ge){const Q=[],xe=on(ge,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(xe.length>0)for(const Ae of xe){const Je=Ae.filter(Lt=>Lt!==void 0),vt=Je[1],St=Je[2];if(!St)continue;let wt;if(vt==="rgb"){const Lt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;wt=Li(Yi(ge,Ae),on(St,Lt),!1)}else if(vt==="rgba"){const Lt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;wt=Li(Yi(ge,Ae),on(St,Lt),!0)}else if(vt==="hsl"){const Lt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;wt=gn(Yi(ge,Ae),on(St,Lt),!1)}else if(vt==="hsla"){const Lt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;wt=gn(Yi(ge,Ae),on(St,Lt),!0)}else vt==="#"&&(wt=Pi(Yi(ge,Ae),vt+St));wt&&Q.push(wt)}return Q}function ln(ge){return!ge||typeof ge.getValue!="function"||typeof ge.positionAt!="function"?[]:Nn(ge)}var Yt=function(ge,Q,ae,xe){function Ae(Je){return Je instanceof ae?Je:new ae(function(vt){vt(Je)})}return new(ae||(ae=Promise))(function(Je,vt){function St(Bt){try{Lt(xe.next(Bt))}catch(ei){vt(ei)}}function wt(Bt){try{Lt(xe.throw(Bt))}catch(ei){vt(ei)}}function Lt(Bt){Bt.done?Je(Bt.value):Ae(Bt.value).then(St,wt)}Lt((xe=xe.apply(ge,Q||[])).next())})};class ti extends j{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(Q){const ae=[];for(let xe=0;xe<this._lines.length;xe++){const Ae=this._lines[xe],Je=this.offsetAt(new J.L(xe+1,1)),vt=Ae.matchAll(Q);for(const St of vt)(St.index||St.index===0)&&(St.index=St.index+Je),ae.push(St)}return ae}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(Q){return this._lines[Q-1]}getWordAtPosition(Q,ae){const xe=(0,z.t2)(Q.column,(0,z.eq)(ae),this._lines[Q.lineNumber-1],0);return xe?new A.e(Q.lineNumber,xe.startColumn,Q.lineNumber,xe.endColumn):null}words(Q){const ae=this._lines,xe=this._wordenize.bind(this);let Ae=0,Je="",vt=0,St=[];return{*[Symbol.iterator](){for(;;)if(vt<St.length){const wt=Je.substring(St[vt].start,St[vt].end);vt+=1,yield wt}else if(Ae<ae.length)Je=ae[Ae],St=xe(Je,Q),vt=0,Ae+=1;else break}}}getLineWords(Q,ae){const xe=this._lines[Q-1],Ae=this._wordenize(xe,ae),Je=[];for(const vt of Ae)Je.push({word:xe.substring(vt.start,vt.end),startColumn:vt.start+1,endColumn:vt.end+1});return Je}_wordenize(Q,ae){const xe=[];let Ae;for(ae.lastIndex=0;(Ae=ae.exec(Q))&&Ae[0].length!==0;)xe.push({start:Ae.index,end:Ae.index+Ae[0].length});return xe}getValueInRange(Q){if(Q=this._validateRange(Q),Q.startLineNumber===Q.endLineNumber)return this._lines[Q.startLineNumber-1].substring(Q.startColumn-1,Q.endColumn-1);const ae=this._eol,xe=Q.startLineNumber-1,Ae=Q.endLineNumber-1,Je=[];Je.push(this._lines[xe].substring(Q.startColumn-1));for(let vt=xe+1;vt<Ae;vt++)Je.push(this._lines[vt]);return Je.push(this._lines[Ae].substring(0,Q.endColumn-1)),Je.join(ae)}offsetAt(Q){return Q=this._validatePosition(Q),this._ensureLineStarts(),this._lineStarts.getPrefixSum(Q.lineNumber-2)+(Q.column-1)}positionAt(Q){Q=Math.floor(Q),Q=Math.max(0,Q),this._ensureLineStarts();const ae=this._lineStarts.getIndexOf(Q),xe=this._lines[ae.index].length;return{lineNumber:1+ae.index,column:1+Math.min(ae.remainder,xe)}}_validateRange(Q){const ae=this._validatePosition({lineNumber:Q.startLineNumber,column:Q.startColumn}),xe=this._validatePosition({lineNumber:Q.endLineNumber,column:Q.endColumn});return ae.lineNumber!==Q.startLineNumber||ae.column!==Q.startColumn||xe.lineNumber!==Q.endLineNumber||xe.column!==Q.endColumn?{startLineNumber:ae.lineNumber,startColumn:ae.column,endLineNumber:xe.lineNumber,endColumn:xe.column}:Q}_validatePosition(Q){if(!J.L.isIPosition(Q))throw new Error("bad position");let{lineNumber:ae,column:xe}=Q,Ae=!1;if(ae<1)ae=1,xe=1,Ae=!0;else if(ae>this._lines.length)ae=this._lines.length,xe=this._lines[ae-1].length+1,Ae=!0;else{const Je=this._lines[ae-1].length+1;xe<1?(xe=1,Ae=!0):xe>Je&&(xe=Je,Ae=!0)}return Ae?{lineNumber:ae,column:xe}:Q}}class fi{constructor(Q,ae){this._host=Q,this._models=Object.create(null),this._foreignModuleFactory=ae,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(Q){return this._models[Q]}_getModels(){const Q=[];return Object.keys(this._models).forEach(ae=>Q.push(this._models[ae])),Q}acceptNewModel(Q){this._models[Q.url]=new ti($.o.parse(Q.url),Q.lines,Q.EOL,Q.versionId)}acceptModelChanged(Q,ae){if(!this._models[Q])return;this._models[Q].onEvents(ae)}acceptRemovedModel(Q){this._models[Q]&&delete this._models[Q]}computeUnicodeHighlights(Q,ae,xe){return Yt(this,void 0,void 0,function*(){const Ae=this._getModel(Q);return Ae?Xe.a.computeUnicodeHighlights(Ae,ae,xe):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(Q,ae,xe,Ae){return Yt(this,void 0,void 0,function*(){const Je=this._getModel(Q),vt=this._getModel(ae);return!Je||!vt?null:fi.computeDiff(Je,vt,xe,Ae)})}static computeDiff(Q,ae,xe,Ae){const Je=Ae==="advanced"?$i.advanced:$i.legacy,vt=Q.getLinesContent(),St=ae.getLinesContent(),wt=Je.computeDiff(vt,St,xe);return{identical:wt.changes.length>0?!1:this._modelsAreIdentical(Q,ae),quitEarly:wt.hitTimeout,changes:wt.changes.map(Bt=>{var ei;return[Bt.originalRange.startLineNumber,Bt.originalRange.endLineNumberExclusive,Bt.modifiedRange.startLineNumber,Bt.modifiedRange.endLineNumberExclusive,(ei=Bt.innerChanges)===null||ei===void 0?void 0:ei.map(pi=>[pi.originalRange.startLineNumber,pi.originalRange.startColumn,pi.originalRange.endLineNumber,pi.originalRange.endColumn,pi.modifiedRange.startLineNumber,pi.modifiedRange.startColumn,pi.modifiedRange.endLineNumber,pi.modifiedRange.endColumn])]})}}static _modelsAreIdentical(Q,ae){const xe=Q.getLineCount(),Ae=ae.getLineCount();if(xe!==Ae)return!1;for(let Je=1;Je<=xe;Je++){const vt=Q.getLineContent(Je),St=ae.getLineContent(Je);if(vt!==St)return!1}return!0}computeMoreMinimalEdits(Q,ae,xe){return Yt(this,void 0,void 0,function*(){const Ae=this._getModel(Q);if(!Ae)return ae;const Je=[];let vt;ae=ae.slice(0).sort((St,wt)=>{if(St.range&&wt.range)return A.e.compareRangesUsingStarts(St.range,wt.range);const Lt=St.range?0:1,Bt=wt.range?0:1;return Lt-Bt});for(let{range:St,text:wt,eol:Lt}of ae){if(typeof Lt=="number"&&(vt=Lt),A.e.isEmpty(St)&&!wt)continue;const Bt=Ae.getValueInRange(St);if(wt=wt.replace(/\r\n|\n|\r/g,Ae.eol),Bt===wt)continue;if(Math.max(wt.length,Bt.length)>fi._diffLimit){Je.push({range:St,text:wt});continue}const ei=(0,R.a$)(Bt,wt,xe),pi=Ae.offsetAt(A.e.lift(St).getStartPosition());for(const di of ei){const hi=Ae.positionAt(pi+di.originalStart),yi=Ae.positionAt(pi+di.originalStart+di.originalLength),Bi={text:wt.substr(di.modifiedStart,di.modifiedLength),range:{startLineNumber:hi.lineNumber,startColumn:hi.column,endLineNumber:yi.lineNumber,endColumn:yi.column}};Ae.getValueInRange(Bi.range)!==Bi.text&&Je.push(Bi)}}return typeof vt=="number"&&Je.push({eol:vt,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Je})}computeLinks(Q){return Yt(this,void 0,void 0,function*(){const ae=this._getModel(Q);return ae?le(ae):null})}computeDefaultDocumentColors(Q){return Yt(this,void 0,void 0,function*(){const ae=this._getModel(Q);return ae?ln(ae):null})}textualSuggest(Q,ae,xe,Ae){return Yt(this,void 0,void 0,function*(){const Je=new je.G(!0),vt=new RegExp(xe,Ae),St=new Set;e:for(const wt of Q){const Lt=this._getModel(wt);if(Lt){for(const Bt of Lt.words(vt))if(!(Bt===ae||!isNaN(Number(Bt)))&&(St.add(Bt),St.size>fi._suggestionsLimit))break e}}return{words:Array.from(St),duration:Je.elapsed()}})}computeWordRanges(Q,ae,xe,Ae){return Yt(this,void 0,void 0,function*(){const Je=this._getModel(Q);if(!Je)return Object.create(null);const vt=new RegExp(xe,Ae),St=Object.create(null);for(let wt=ae.startLineNumber;wt<ae.endLineNumber;wt++){const Lt=Je.getLineWords(wt,vt);for(const Bt of Lt){if(!isNaN(Number(Bt.word)))continue;let ei=St[Bt.word];ei||(ei=[],St[Bt.word]=ei),ei.push({startLineNumber:wt,startColumn:Bt.startColumn,endLineNumber:wt,endColumn:Bt.endColumn})}}return St})}navigateValueSet(Q,ae,xe,Ae,Je){return Yt(this,void 0,void 0,function*(){const vt=this._getModel(Q);if(!vt)return null;const St=new RegExp(Ae,Je);ae.startColumn===ae.endColumn&&(ae={startLineNumber:ae.startLineNumber,startColumn:ae.startColumn,endLineNumber:ae.endLineNumber,endColumn:ae.endColumn+1});const wt=vt.getValueInRange(ae),Lt=vt.getWordAtPosition({lineNumber:ae.startLineNumber,column:ae.startColumn},St);if(!Lt)return null;const Bt=vt.getValueInRange(Lt);return oe.INSTANCE.navigateValueSet(ae,wt,Lt,Bt,xe)})}loadForeignModule(Q,ae,xe){const Ae=(St,wt)=>this._host.fhr(St,wt),vt={host:(0,p.IU)(xe,Ae),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(vt,ae),Promise.resolve((0,p.$E)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(Q,ae){if(!this._foreignModule||typeof this._foreignModule[Q]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+Q));try{return Promise.resolve(this._foreignModule[Q].apply(this._foreignModule,ae))}catch(xe){return Promise.reject(xe)}}}fi._diffLimit=1e5,fi._suggestionsLimit=1e4;function Gt(ge){return new fi(ge,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,he.O)());var Si=t(65041),zi=t(16576),ji=t(16308),Hi=t(59271),tn=t(35921),sn=function(ge,Q,ae,xe){var Ae=arguments.length,Je=Ae<3?Q:xe===null?xe=Object.getOwnPropertyDescriptor(Q,ae):xe,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Je=Reflect.decorate(ge,Q,ae,xe);else for(var St=ge.length-1;St>=0;St--)(vt=ge[St])&&(Je=(Ae<3?vt(Je):Ae>3?vt(Q,ae,Je):vt(Q,ae))||Je);return Ae>3&&Je&&Object.defineProperty(Q,ae,Je),Je},Xi=function(ge,Q){return function(ae,xe){Q(ae,xe,ge)}},Oi=function(ge,Q,ae,xe){function Ae(Je){return Je instanceof ae?Je:new ae(function(vt){vt(Je)})}return new(ae||(ae=Promise))(function(Je,vt){function St(Bt){try{Lt(xe.next(Bt))}catch(ei){vt(ei)}}function wt(Bt){try{Lt(xe.throw(Bt))}catch(ei){vt(ei)}}function Lt(Bt){Bt.done?Je(Bt.value):Ae(Bt.value).then(St,wt)}Lt((xe=xe.apply(ge,Q||[])).next())})};const ai=60*1e3,Zt=5*60*1e3;function Jt(ge,Q){const ae=ge.getModel(Q);return!(!ae||ae.isTooLargeForSyncing())}let _t=class extends O.JT{constructor(Q,ae,xe,Ae,Je){super(),this._modelService=Q,this._workerManager=this._register(new Ht(this._modelService,Ae)),this._logService=xe,this._register(Je.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(vt,St)=>Jt(this._modelService,vt.uri)?this._workerManager.withWorker().then(wt=>wt.computeLinks(vt.uri)).then(wt=>wt&&{links:wt}):Promise.resolve({links:[]})})),this._register(Je.completionProvider.register("*",new xt(this._workerManager,ae,this._modelService,Ae)))}dispose(){super.dispose()}canComputeUnicodeHighlights(Q){return Jt(this._modelService,Q)}computedUnicodeHighlights(Q,ae,xe){return this._workerManager.withWorker().then(Ae=>Ae.computedUnicodeHighlights(Q,ae,xe))}computeDiff(Q,ae,xe,Ae){return Oi(this,void 0,void 0,function*(){const Je=yield this._workerManager.withWorker().then(St=>St.computeDiff(Q,ae,xe,Ae));return Je?{identical:Je.identical,quitEarly:Je.quitEarly,changes:Je.changes.map(St=>{var wt;return new Ve.f0(new q.z(St[0],St[1]),new q.z(St[2],St[3]),(wt=St[4])===null||wt===void 0?void 0:wt.map(Lt=>new Ve.iy(new A.e(Lt[0],Lt[1],Lt[2],Lt[3]),new A.e(Lt[4],Lt[5],Lt[6],Lt[7]))))})}:null})}computeMoreMinimalEdits(Q,ae,xe=!1){if((0,ji.Of)(ae)){if(!Jt(this._modelService,Q))return Promise.resolve(ae);const Ae=je.G.create(!0),Je=this._workerManager.withWorker().then(vt=>vt.computeMoreMinimalEdits(Q,ae,xe));return Je.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",Q.toString(!0),Ae.elapsed())),Promise.race([Je,(0,f.Vs)(1e3).then(()=>ae)])}else return Promise.resolve(void 0)}canNavigateValueSet(Q){return Jt(this._modelService,Q)}navigateValueSet(Q,ae,xe){return this._workerManager.withWorker().then(Ae=>Ae.navigateValueSet(Q,ae,xe))}canComputeWordRanges(Q){return Jt(this._modelService,Q)}computeWordRanges(Q,ae){return this._workerManager.withWorker().then(xe=>xe.computeWordRanges(Q,ae))}};_t=sn([Xi(0,Si.q),Xi(1,zi.V),Xi(2,Hi.VZ),Xi(3,k.c_),Xi(4,tn.p)],_t);class xt{constructor(Q,ae,xe,Ae){this.languageConfigurationService=Ae,this._debugDisplayName="wordbasedCompletions",this._workerManager=Q,this._configurationService=ae,this._modelService=xe}provideCompletionItems(Q,ae){return Oi(this,void 0,void 0,function*(){const xe=this._configurationService.getValue(Q.uri,ae,"editor");if(!xe.wordBasedSuggestions)return;const Ae=[];if(xe.wordBasedSuggestionsMode==="currentDocument")Jt(this._modelService,Q.uri)&&Ae.push(Q.uri);else for(const ei of this._modelService.getModels())Jt(this._modelService,ei.uri)&&(ei===Q?Ae.unshift(ei.uri):(xe.wordBasedSuggestionsMode==="allDocuments"||ei.getLanguageId()===Q.getLanguageId())&&Ae.push(ei.uri));if(Ae.length===0)return;const Je=this.languageConfigurationService.getLanguageConfiguration(Q.getLanguageId()).getWordDefinition(),vt=Q.getWordAtPosition(ae),St=vt?new A.e(ae.lineNumber,vt.startColumn,ae.lineNumber,vt.endColumn):A.e.fromPositions(ae),wt=St.setEndPosition(ae.lineNumber,ae.column),Bt=yield(yield this._workerManager.withWorker()).textualSuggest(Ae,vt==null?void 0:vt.word,Je);if(Bt)return{duration:Bt.duration,suggestions:Bt.words.map(ei=>({kind:18,label:ei,insertText:ei,range:{insert:wt,replace:St}}))}})}}class Ht extends O.JT{constructor(Q,ae){super(),this.languageConfigurationService=ae,this._modelService=Q,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new f.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Zt/2)),this._register(this._modelService.onModelRemoved(Ae=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>Zt&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Me(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class at extends O.JT{constructor(Q,ae,xe){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=Q,this._modelService=ae,!xe){const Ae=new f.zh;Ae.cancelAndSet(()=>this._checkStopModelSync(),Math.round(ai/2)),this._register(Ae)}}dispose(){for(const Q in this._syncedModels)(0,O.B9)(this._syncedModels[Q]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(Q,ae){for(const xe of Q){const Ae=xe.toString();this._syncedModels[Ae]||this._beginModelSync(xe,ae),this._syncedModels[Ae]&&(this._syncedModelsLastUsedTime[Ae]=new Date().getTime())}}_checkStopModelSync(){const Q=new Date().getTime(),ae=[];for(const xe in this._syncedModelsLastUsedTime)Q-this._syncedModelsLastUsedTime[xe]>ai&&ae.push(xe);for(const xe of ae)this._stopModelSync(xe)}_beginModelSync(Q,ae){const xe=this._modelService.getModel(Q);if(!xe||!ae&&xe.isTooLargeForSyncing())return;const Ae=Q.toString();this._proxy.acceptNewModel({url:xe.uri.toString(),lines:xe.getLinesContent(),EOL:xe.getEOL(),versionId:xe.getVersionId()});const Je=new O.SL;Je.add(xe.onDidChangeContent(vt=>{this._proxy.acceptModelChanged(Ae.toString(),vt)})),Je.add(xe.onWillDispose(()=>{this._stopModelSync(Ae)})),Je.add((0,O.OF)(()=>{this._proxy.acceptRemovedModel(Ae)})),this._syncedModels[Ae]=Je}_stopModelSync(Q){const ae=this._syncedModels[Q];delete this._syncedModels[Q],delete this._syncedModelsLastUsedTime[Q],(0,O.B9)(ae)}}class ce{constructor(Q){this._instance=Q,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class We{constructor(Q){this._workerClient=Q}fhr(Q,ae){return this._workerClient.fhr(Q,ae)}}class Me extends O.JT{constructor(Q,ae,xe,Ae){super(),this.languageConfigurationService=Ae,this._disposed=!1,this._modelService=Q,this._keepIdleModels=ae,this._workerFactory=new U(xe),this._worker=null,this._modelManager=null}fhr(Q,ae){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new b(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new We(this)))}catch(Q){g(Q),this._worker=new ce(new fi(new We(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,Q=>(g(Q),this._worker=new ce(new fi(new We(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(Q){return this._modelManager||(this._modelManager=this._register(new at(Q,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(Q,ae=!1){return Oi(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,u.F0)()):this._getProxy().then(xe=>(this._getOrCreateModelManager(xe).ensureSyncedResources(Q,ae),xe))})}computedUnicodeHighlights(Q,ae,xe){return this._withSyncedResources([Q]).then(Ae=>Ae.computeUnicodeHighlights(Q.toString(),ae,xe))}computeDiff(Q,ae,xe,Ae){return this._withSyncedResources([Q,ae],!0).then(Je=>Je.computeDiff(Q.toString(),ae.toString(),xe,Ae))}computeMoreMinimalEdits(Q,ae,xe){return this._withSyncedResources([Q]).then(Ae=>Ae.computeMoreMinimalEdits(Q.toString(),ae,xe))}computeLinks(Q){return this._withSyncedResources([Q]).then(ae=>ae.computeLinks(Q.toString()))}computeDefaultDocumentColors(Q){return this._withSyncedResources([Q]).then(ae=>ae.computeDefaultDocumentColors(Q.toString()))}textualSuggest(Q,ae,xe){return Oi(this,void 0,void 0,function*(){const Ae=yield this._withSyncedResources(Q),Je=xe.source,vt=(0,I.mr)(xe);return Ae.textualSuggest(Q.map(St=>St.toString()),ae,Je,vt)})}computeWordRanges(Q,ae){return this._withSyncedResources([Q]).then(xe=>{const Ae=this._modelService.getModel(Q);if(!Ae)return Promise.resolve(null);const Je=this.languageConfigurationService.getLanguageConfiguration(Ae.getLanguageId()).getWordDefinition(),vt=Je.source,St=(0,I.mr)(Je);return xe.computeWordRanges(Q.toString(),ae,vt,St)})}navigateValueSet(Q,ae,xe){return this._withSyncedResources([Q]).then(Ae=>{const Je=this._modelService.getModel(Q);if(!Je)return null;const vt=this.languageConfigurationService.getLanguageConfiguration(Je.getLanguageId()).getWordDefinition(),St=vt.source,wt=(0,I.mr)(vt);return Ae.navigateValueSet(Q.toString(),ae,xe,St,wt)})}dispose(){super.dispose(),this._disposed=!0}}},48423:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return f}});class f{static capture(u){if(u.getScrollTop()===0||u.hasPendingScrollAnimation())return new f(u.getScrollTop(),u.getContentHeight(),null,0,null);let _=null,p=0;const V=u.getVisibleRanges();if(V.length>0){_=V[0].getStartPosition();const I=u.getTopForPosition(_.lineNumber,_.column);p=u.getScrollTop()-I}return new f(u.getScrollTop(),u.getContentHeight(),_,p,u.getPosition())}constructor(u,_,p,V,I){this._initialScrollTop=u,this._initialContentHeight=_,this._visiblePosition=p,this._visiblePositionScrollDelta=V,this._cursorPosition=I}restore(u){if(!(this._initialContentHeight===u.getContentHeight()&&this._initialScrollTop===u.getScrollTop())&&this._visiblePosition){const _=u.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);u.setScrollTop(_+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(u){if(this._initialContentHeight===u.getContentHeight()&&this._initialScrollTop===u.getScrollTop())return;const _=u.getPosition();if(!this._cursorPosition||!_)return;const p=u.getTopForLineNumber(_.lineNumber)-u.getTopForLineNumber(this._cursorPosition.lineNumber);u.setScrollTop(u.getScrollTop()+p)}}},39143:function(Rt,Be,t){"use strict";t.d(Be,{Gm:function(){return zn}});var f=t(52919),O=t(55298),u=function(Et,e,o,y){var W=arguments.length,G=W<3?e:y===null?y=Object.getOwnPropertyDescriptor(e,o):y,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(Et,e,o,y);else for(var Oe=Et.length-1;Oe>=0;Oe--)(be=Et[Oe])&&(G=(W<3?be(G):W>3?be(e,o,G):be(e,o))||G);return W>3&&G&&Object.defineProperty(e,o,G),G},_=function(Et,e){return function(o,y){e(o,y,Et)}};let p=class{constructor(e,o){}dispose(){}};p.ID="editor.contrib.markerDecorations",p=u([_(1,f.i)],p),(0,O._K)(p.ID,p,0);var V=t(26386),I=t(34441),L=t(20996),E=t(56709),g=t(38431),a=t(5007),l=t(71488),d=t(16308),i=t(23127),s=t(11138),m=t(8220),b=t(15125);class c{constructor(e,o){this.key=e,this.migrate=o}apply(e){const o=c._read(e,this.key),y=G=>c._read(e,G),W=(G,be)=>c._write(e,G,be);this.migrate(o,y,W)}static _read(e,o){if(typeof e=="undefined")return;const y=o.indexOf(".");if(y>=0){const W=o.substring(0,y);return this._read(e[W],o.substring(y+1))}return e[o]}static _write(e,o,y){const W=o.indexOf(".");if(W>=0){const G=o.substring(0,W);e[G]=e[G]||{},this._write(e[G],o.substring(W+1),y);return}e[o]=y}}c.items=[];function v(Et,e){c.items.push(new c(Et,e))}function C(Et,e){v(Et,(o,y,W)=>{if(typeof o!="undefined"){for(const[G,be]of e)if(o===G){W(Et,be);return}}})}function S(Et){c.items.forEach(e=>e.apply(Et))}C("wordWrap",[[!0,"on"],[!1,"off"]]),C("lineNumbers",[[!0,"on"],[!1,"off"]]),C("cursorBlinking",[["visible","solid"]]),C("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),C("renderLineHighlight",[[!0,"line"],[!1,"none"]]),C("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),C("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),C("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),C("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),C("autoIndent",[[!1,"advanced"],[!0,"full"]]),C("matchBrackets",[[!0,"always"],[!1,"never"]]),C("renderFinalNewline",[[!0,"on"],[!1,"off"]]),C("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),v("autoClosingBrackets",(Et,e,o)=>{Et===!1&&(o("autoClosingBrackets","never"),typeof e("autoClosingQuotes")=="undefined"&&o("autoClosingQuotes","never"),typeof e("autoSurround")=="undefined"&&o("autoSurround","never"))}),v("renderIndentGuides",(Et,e,o)=>{typeof Et!="undefined"&&(o("renderIndentGuides",void 0),typeof e("guides.indentation")=="undefined"&&o("guides.indentation",!!Et))}),v("highlightActiveIndentGuide",(Et,e,o)=>{typeof Et!="undefined"&&(o("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")=="undefined"&&o("guides.highlightActiveIndentation",!!Et))});const N={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};v("suggest.filteredTypes",(Et,e,o)=>{if(Et&&typeof Et=="object"){for(const y of Object.entries(N))Et[y[0]]===!1&&typeof e(`suggest.${y[1]}`)=="undefined"&&o(`suggest.${y[1]}`,!1);o("suggest.filteredTypes",void 0)}}),v("quickSuggestions",(Et,e,o)=>{if(typeof Et=="boolean"){const y=Et?"on":"off";o("quickSuggestions",{comments:y,strings:y,other:y})}}),v("experimental.stickyScroll.enabled",(Et,e,o)=>{typeof Et=="boolean"&&(o("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")=="undefined"&&o("stickyScroll.enabled",Et))}),v("experimental.stickyScroll.maxLineCount",(Et,e,o)=>{typeof Et=="number"&&(o("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")=="undefined"&&o("stickyScroll.maxLineCount",Et))});var P=t(10432),M=t(70054),D=t(14963),F=t(5921),B=t(18708),U=function(Et,e,o,y){var W=arguments.length,G=W<3?e:y===null?y=Object.getOwnPropertyDescriptor(e,o):y,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(Et,e,o,y);else for(var Oe=Et.length-1;Oe>=0;Oe--)(be=Et[Oe])&&(G=(W<3?be(G):W>3?be(e,o,G):be(e,o))||G);return W>3&&G&&Object.defineProperty(e,o,G),G},A=function(Et,e){return function(o,y){e(o,y,Et)}};let k=class extends g.JT{constructor(e,o,y,W){super(),this._accessibilityService=W,this._onDidChange=this._register(new E.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new E.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new M.LJ,this.isSimpleWidget=e,this._containerObserver=this._register(new m.I(y,o.dimension)),this._rawOptions=z(o),this._validatedOptions=j.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(11)&&this._containerObserver.startObserving(),this._register(D.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(P.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(b.g.onDidChange(()=>this._recomputeOptions())),this._register(l.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),o=j.checkEquals(this.options,e);o!==null&&(this.options=e,this._onDidChangeFast.fire(o),this._onDidChange.fire(o))}_computeOptions(){const e=this._readEnvConfiguration(),o=F.E4.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),y=this._readFontInfo(o),W={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:y,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:P.n.getTabFocusMode("editorFocus"),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return j.computeOptions(this._validatedOptions,W)}_readEnvConfiguration(){return{extraEditorClassName:$(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:l.isWebKit||l.isFirefox,pixelRatio:l.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return b.g.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const o=z(e);j.applyUpdate(this._rawOptions,o)&&(this._validatedOptions=j.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const o=R(e);this._lineNumbersDigitCount!==o&&(this._lineNumbersDigitCount=o,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};k=U([A(3,B.F)],k);function R(Et){let e=0;for(;Et;)Et=Math.floor(Et/10),e++;return e||1}function $(){let Et="";return!l.isSafari&&!l.isWebkitWebView&&(Et+="no-user-select "),l.isSafari&&(Et+="no-minimap-shadow ",Et+="enable-user-select "),s.dz&&(Et+="mac "),Et}class J{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,o){this._values[e]=o}}class Y{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,o){this._values[e]=o}}class j{static validateOptions(e){const o=new J;for(const y of M.Bc){const W=y.name==="_never_"?void 0:e[y.name];o._write(y.id,y.validate(W))}return o}static computeOptions(e,o){const y=new Y;for(const W of M.Bc)y._write(W.id,W.compute(o,y,e._read(W.id)));return y}static _deepEquals(e,o){if(typeof e!="object"||typeof o!="object"||!e||!o)return e===o;if(Array.isArray(e)||Array.isArray(o))return Array.isArray(e)&&Array.isArray(o)?d.fS(e,o):!1;if(Object.keys(e).length!==Object.keys(o).length)return!1;for(const y in e)if(!j._deepEquals(e[y],o[y]))return!1;return!0}static checkEquals(e,o){const y=[];let W=!1;for(const G of M.Bc){const be=!j._deepEquals(e._read(G.id),o._read(G.id));y[G.id]=be,be&&(W=!0)}return W?new M.Bb(y):null}static applyUpdate(e,o){let y=!1;for(const W of M.Bc)if(o.hasOwnProperty(W.name)){const G=W.applyUpdate(e[W.name],o[W.name]);e[W.name]=G.newValue,y=y||G.didChange}return y}}function z(Et){const e=i.I8(Et);return S(e),e}var K=t(5603),Z=t(57841),fe=t(34733),T=t(80265),Re=t(64079),Ce=t(31396);class _e extends g.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let o=!1;for(let y=0,W=e.length;y<W;y++){const G=e[y];switch(G.type){case 0:this.onCompositionStart(G)&&(o=!0);break;case 1:this.onCompositionEnd(G)&&(o=!0);break;case 2:this.onConfigurationChanged(G)&&(o=!0);break;case 3:this.onCursorStateChanged(G)&&(o=!0);break;case 4:this.onDecorationsChanged(G)&&(o=!0);break;case 5:this.onFlushed(G)&&(o=!0);break;case 6:this.onFocusChanged(G)&&(o=!0);break;case 7:this.onLanguageConfigurationChanged(G)&&(o=!0);break;case 8:this.onLineMappingChanged(G)&&(o=!0);break;case 9:this.onLinesChanged(G)&&(o=!0);break;case 10:this.onLinesDeleted(G)&&(o=!0);break;case 11:this.onLinesInserted(G)&&(o=!0);break;case 12:this.onRevealRangeRequest(G)&&(o=!0);break;case 13:this.onScrollChanged(G)&&(o=!0);break;case 15:this.onTokensChanged(G)&&(o=!0);break;case 14:this.onThemeChanged(G)&&(o=!0);break;case 16:this.onTokensColorsChanged(G)&&(o=!0);break;case 17:this.onZonesChanged(G)&&(o=!0);break;default:console.info("View received unknown event: "),console.info(G)}}o&&(this._shouldRender=!0)}}class pe extends _e{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class le{static write(e,o){e.setAttribute("data-mprt",String(o))}static read(e){const o=e.getAttribute("data-mprt");return o===null?0:parseInt(o,10)}static collect(e,o){const y=[];let W=0;for(;e&&e!==document.body&&e!==o;)e.nodeType===e.ELEMENT_NODE&&(y[W++]=this.read(e)),e=e.parentElement;const G=new Uint8Array(W);for(let be=0;be<W;be++)G[be]=y[W-be-1];return G}}class oe{constructor(e,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const y=this._viewLayout.getCurrentViewport();this.scrollTop=y.top,this.scrollLeft=y.left,this.viewportWidth=y.width,this.viewportHeight=y.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,o){return this._viewLayout.getVerticalOffsetForLineNumber(e,o)}getVerticalOffsetAfterLineNumber(e,o){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,o)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class he extends oe{constructor(e,o,y){super(e,o),this._renderingContextBrand=void 0,this._viewLines=y}linesVisibleRangesForRange(e,o){return this._viewLines.linesVisibleRangesForRange(e,o)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class je{constructor(e,o,y){this.outsideRenderedLine=e,this.lineNumber=o,this.ranges=y}}class Xe{static from(e){const o=new Array(e.length);for(let y=0,W=e.length;y<W;y++){const G=e[y];o[y]=new Xe(G.left,G.width)}return o}constructor(e,o){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(o)}toString(){return`[${this.left},${this.width}]`}}class Ve{constructor(e,o){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(e,o){return e.left-o.left}}class se{constructor(e,o){this.outsideRenderedLine=e,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}class q{constructor(e,o){this.outsideRenderedLine=e,this.ranges=o}}class Ee{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,o){e.selectNodeContents(o)}static _readClientRects(e,o,y,W,G){const be=this._createRange();try{return be.setStart(e,o),be.setEnd(y,W),be.getClientRects()}catch(Oe){return null}finally{this._detachRange(be,G)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(Ve.compare);const o=[];let y=0,W=e[0];for(let G=1,be=e.length;G<be;G++){const Oe=e[G];W.left+W.width+.9>=Oe.left?W.width=Math.max(W.width,Oe.left+Oe.width-W.left):(o[y++]=W,W=Oe)}return o[y++]=W,o}static _createHorizontalRangesFromClientRects(e,o,y){if(!e||e.length===0)return null;const W=[];for(let G=0,be=e.length;G<be;G++){const Oe=e[G];W[G]=new Ve(Math.max(0,(Oe.left-o)/y),Oe.width/y)}return this._mergeAdjacentRanges(W)}static readHorizontalRanges(e,o,y,W,G,be){const Ze=e.children.length-1;if(0>Ze)return null;if(o=Math.min(Ze,Math.max(0,o)),W=Math.min(Ze,Math.max(0,W)),o===W&&y===G&&y===0&&!e.children[o].firstChild){const Ft=e.children[o].getClientRects();return be.markDidDomLayout(),this._createHorizontalRangesFromClientRects(Ft,be.clientRectDeltaLeft,be.clientRectScale)}o!==W&&W>0&&G===0&&(W--,G=1073741824);let et=e.children[o].firstChild,it=e.children[W].firstChild;if((!et||!it)&&(!et&&y===0&&o>0&&(et=e.children[o-1].firstChild,y=1073741824),!it&&G===0&&W>0&&(it=e.children[W-1].firstChild,G=1073741824)),!et||!it)return null;y=Math.min(et.textContent.length,Math.max(0,y)),G=Math.min(it.textContent.length,Math.max(0,G));const pt=this._readClientRects(et,y,it,G,be.endNode);return be.markDidDomLayout(),this._createHorizontalRangesFromClientRects(pt,be.clientRectDeltaLeft,be.clientRectScale)}}var Se=t(69756),we=t(75398),ve=t(49914);const Ne=function(){return s.tY?!0:!(s.IJ||l.isFirefox||l.isSafari)}();let $e=!0;class Ke{constructor(e,o){this.themeType=o;const y=e.options,W=y.get(48);y.get(36)==="off"?this.renderWhitespace=y.get(95):this.renderWhitespace="none",this.renderControlCharacters=y.get(90),this.spaceWidth=W.spaceWidth,this.middotWidth=W.middotWidth,this.wsmiddotWidth=W.wsmiddotWidth,this.useMonospaceOptimizations=W.isMonospace&&!y.get(31),this.canUseHalfwidthRightwardsArrow=W.canUseHalfwidthRightwardsArrow,this.lineHeight=y.get(64),this.stopRenderingLineAfter=y.get(113),this.fontLigatures=y.get(49)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class ze{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,fe.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(0,ve.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,o,y,W){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const G=y.getViewLineRenderingData(e),be=this._options,Oe=Se.Kp.filter(G.inlineDecorations,e,G.minColumn,G.maxColumn);let Ze=null;if((0,ve.c3)(be.themeType)||this._options.renderWhitespace==="selection"){const Ft=y.selections;for(const Ot of Ft){if(Ot.endLineNumber<e||Ot.startLineNumber>e)continue;const Xt=Ot.startLineNumber===e?Ot.startColumn:G.minColumn,ii=Ot.endLineNumber===e?Ot.endColumn:G.maxColumn;Xt<ii&&((0,ve.c3)(be.themeType)&&Oe.push(new Se.Kp(Xt,ii,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(Ze||(Ze=[]),Ze.push(new we.zG(Xt-1,ii-1))))}}const et=new we.IJ(be.useMonospaceOptimizations,be.canUseHalfwidthRightwardsArrow,G.content,G.continuesWithWrappedLine,G.isBasicASCII,G.containsRTL,G.minColumn-1,G.tokens,Oe,G.tabSize,G.startVisibleColumn,be.spaceWidth,be.middotWidth,be.wsmiddotWidth,be.stopRenderingLineAfter,be.renderWhitespace,be.renderControlCharacters,be.fontLigatures!==M.n0.OFF,Ze);if(this._renderedViewLine&&this._renderedViewLine.input.equals(et))return!1;W.appendString('<div style="top:'),W.appendString(String(o)),W.appendString("px;height:"),W.appendString(String(this._options.lineHeight)),W.appendString('px;" class="'),W.appendString(ze.CLASS_NAME),W.appendString('">');const it=(0,we.d1)(et,W);W.appendString("</div>");let pt=null;return $e&&Ne&&G.isBasicASCII&&be.useMonospaceOptimizations&&it.containsForeignElements===0&&(pt=new He(this._renderedViewLine?this._renderedViewLine.domNode:null,et,it.characterMapping)),pt||(pt=ee(this._renderedViewLine?this._renderedViewLine.domNode:null,et,it.characterMapping,it.containsRTL,it.containsForeignElements)),this._renderedViewLine=pt,!0}layoutLine(e,o){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(o),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof He:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof He?this._renderedViewLine.monospaceAssumptionsAreValid():$e}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof He&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,o,y,W){if(!this._renderedViewLine)return null;o=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,o)),y=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,y));const G=this._renderedViewLine.input.stopRenderingLineAfter;if(G!==-1&&o>G+1&&y>G+1)return new q(!0,[new Ve(this.getWidth(W),0)]);G!==-1&&o>G+1&&(o=G+1),G!==-1&&y>G+1&&(y=G+1);const be=this._renderedViewLine.getVisibleRangesForRange(e,o,y,W);return be&&be.length>0?new q(!1,be):null}getColumnOfNodeOffset(e,o,y){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,o,y):1}}ze.CLASS_NAME="view-line";class He{constructor(e,o,y){this._cachedWidth=-1,this.domNode=e,this.input=o;const W=Math.floor(o.lineContent.length/300);if(W>0){this._keyColumnPixelOffsetCache=new Float32Array(W);for(let G=0;G<W;G++)this._keyColumnPixelOffsetCache[G]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=y,this._charWidth=o.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const o=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*o)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return $e;if(this.input.lineContent.length<300){const e=this.getWidth(null),o=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-o)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),$e=!1)}return $e}toSlowRenderedLine(){return ee(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,o,y,W){const G=this._getColumnPixelOffset(e,o,W),be=this._getColumnPixelOffset(e,y,W);return[new Ve(G,be-G)]}_getColumnPixelOffset(e,o,y){if(o<=300){const et=this._characterMapping.getHorizontalOffset(o);return this._charWidth*et}const W=Math.floor((o-1)/300)-1,G=(W+1)*300+1;let be=-1;if(this._keyColumnPixelOffsetCache&&(be=this._keyColumnPixelOffsetCache[W],be===-1&&(be=this._actualReadPixelOffset(e,G,y),this._keyColumnPixelOffsetCache[W]=be)),be===-1){const et=this._characterMapping.getHorizontalOffset(o);return this._charWidth*et}const Oe=this._characterMapping.getHorizontalOffset(G),Ze=this._characterMapping.getHorizontalOffset(o);return be+this._charWidth*(Ze-Oe)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,o,y){if(!this.domNode)return-1;const W=this._characterMapping.getDomPosition(o),G=Ee.readHorizontalRanges(this._getReadingTarget(this.domNode),W.partIndex,W.charIndex,W.partIndex,W.charIndex,y);return!G||G.length===0?-1:G[0].left}getColumnOfNodeOffset(e,o,y){const W=o.textContent.length;let G=-1;for(;o;)o=o.previousSibling,G++;return this._characterMapping.getColumn(new we.Nd(G,y),W)}}class Le{constructor(e,o,y,W,G){if(this.domNode=e,this.input=o,this._characterMapping=y,this._isWhitespaceOnly=/^\s*$/.test(o.lineContent),this._containsForeignElements=G,this._cachedWidth=-1,this._pixelOffsetCache=null,!W||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let be=0,Oe=this._characterMapping.length;be<=Oe;be++)this._pixelOffsetCache[be]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,o,y,W){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const G=this._readPixelOffset(this.domNode,e,o,W);if(G===-1)return null;const be=this._readPixelOffset(this.domNode,e,y,W);return be===-1?null:[new Ve(G,be-G)]}return this._readVisibleRangesForRange(this.domNode,e,o,y,W)}_readVisibleRangesForRange(e,o,y,W,G){if(y===W){const be=this._readPixelOffset(e,o,y,G);return be===-1?null:[new Ve(be,0)]}else return this._readRawVisibleRangesForRange(e,y,W,G)}_readPixelOffset(e,o,y,W){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(W);const G=this._getReadingTarget(e);return G.firstChild?(W.markDidDomLayout(),G.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const G=this._pixelOffsetCache[y];if(G!==-1)return G;const be=this._actualReadPixelOffset(e,o,y,W);return this._pixelOffsetCache[y]=be,be}return this._actualReadPixelOffset(e,o,y,W)}_actualReadPixelOffset(e,o,y,W){if(this._characterMapping.length===0){const Ze=Ee.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,W);return!Ze||Ze.length===0?-1:Ze[0].left}if(y===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(W);const G=this._characterMapping.getDomPosition(y),be=Ee.readHorizontalRanges(this._getReadingTarget(e),G.partIndex,G.charIndex,G.partIndex,G.charIndex,W);if(!be||be.length===0)return-1;const Oe=be[0].left;if(this.input.isBasicASCII){const Ze=this._characterMapping.getHorizontalOffset(y),et=Math.round(this.input.spaceWidth*Ze);if(Math.abs(et-Oe)<=1)return et}return Oe}_readRawVisibleRangesForRange(e,o,y,W){if(o===1&&y===this._characterMapping.length)return[new Ve(0,this.getWidth(W))];const G=this._characterMapping.getDomPosition(o),be=this._characterMapping.getDomPosition(y);return Ee.readHorizontalRanges(this._getReadingTarget(e),G.partIndex,G.charIndex,be.partIndex,be.charIndex,W)}getColumnOfNodeOffset(e,o,y){const W=o.textContent.length;let G=-1;for(;o;)o=o.previousSibling,G++;return this._characterMapping.getColumn(new we.Nd(G,y),W)}}class de extends Le{_readVisibleRangesForRange(e,o,y,W,G){const be=super._readVisibleRangesForRange(e,o,y,W,G);if(!be||be.length===0||y===W||y===1&&W===this._characterMapping.length)return be;if(!this.input.containsRTL){const Oe=this._readPixelOffset(e,o,W,G);if(Oe!==-1){const Ze=be[be.length-1];Ze.left<Oe&&(Ze.width=Oe-Ze.left)}}return be}}const ee=function(){return l.isWebKit?ne:me}();function ne(Et,e,o,y,W){return new de(Et,e,o,y,W)}function me(Et,e,o,y,W){return new Le(Et,e,o,y,W)}var ue=t(8964),Pe=t(50038),ot=t(61669),gt=t(81831);class nt{constructor(e=null){this.hitTarget=e,this.type=0}}class tt{constructor(e,o,y){this.position=e,this.spanNode=o,this.injectedText=y,this.type=1}}var st;(function(Et){function e(o,y,W){const G=o.getPositionFromDOMInfo(y,W);return G?new tt(G,y,null):new nt(y)}Et.createFromDOMInfo=e})(st||(st={}));class It{constructor(e,o){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=o}}class Wt{static _deduceRage(e,o=null){return!o&&e?new Pe.e(e.lineNumber,e.column,e.lineNumber,e.column):o!=null?o:null}static createUnknown(e,o,y){return{type:0,element:e,mouseColumn:o,position:y,range:this._deduceRage(y)}}static createTextarea(e,o){return{type:1,element:e,mouseColumn:o,position:null,range:null}}static createMargin(e,o,y,W,G,be){return{type:e,element:o,mouseColumn:y,position:W,range:G,detail:be}}static createViewZone(e,o,y,W,G){return{type:e,element:o,mouseColumn:y,position:W,range:this._deduceRage(W),detail:G}}static createContentText(e,o,y,W,G){return{type:6,element:e,mouseColumn:o,position:y,range:this._deduceRage(y,W),detail:G}}static createContentEmpty(e,o,y,W){return{type:7,element:e,mouseColumn:o,position:y,range:this._deduceRage(y),detail:W}}static createContentWidget(e,o,y){return{type:9,element:e,mouseColumn:o,position:null,range:null,detail:y}}static createScrollbar(e,o,y){return{type:11,element:e,mouseColumn:o,position:y,range:this._deduceRage(y)}}static createOverlayWidget(e,o,y){return{type:12,element:e,mouseColumn:o,position:null,range:null,detail:y}}static createOutsideEditor(e,o,y,W){return{type:13,element:null,mouseColumn:e,position:o,range:this._deduceRage(o),outsidePosition:y,outsideDistance:W}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Vt{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Ct{constructor(e,o,y){this.viewModel=e.viewModel;const W=e.configuration.options;this.layoutInfo=W.get(140),this.viewDomNode=o.viewDomNode,this.lineHeight=W.get(64),this.stickyTabStops=W.get(112),this.typicalHalfwidthCharacterWidth=W.get(48).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=e,this._viewHelper=o}getZoneAtCoord(e){return Ct.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,o){const y=e.viewLayout.getWhitespaceAtVerticalOffset(o);if(y){const W=y.verticalOffset+y.height/2,G=e.viewModel.getLineCount();let be=null,Oe,Ze=null;return y.afterLineNumber!==G&&(Ze=new ue.L(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(be=new ue.L(y.afterLineNumber,e.viewModel.getLineMaxColumn(y.afterLineNumber))),Ze===null?Oe=be:be===null?Oe=Ze:o<W?Oe=be:Oe=Ze,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:be,positionAfter:Ze,position:Oe}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const W=this._context.viewModel.getLineCount(),G=this._context.viewModel.getLineMaxColumn(W);return{range:new Pe.e(W,G,W,G),isAfterLines:!0}}const o=this._context.viewLayout.getLineNumberAtVerticalOffset(e),y=this._context.viewModel.getLineMaxColumn(o);return{range:new Pe.e(o,1,o,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,o){return Ct._findAttribute(e,o,this._viewHelper.viewDomNode)}static _findAttribute(e,o,y){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(o))return e.getAttribute(o);if(e===y)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,o){return this._viewHelper.visibleRangeForPosition(e,o)}getPositionFromDOMInfo(e,o){return this._viewHelper.getPositionFromDOMInfo(e,o)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class gi{constructor(e,o,y,W){this.editorPos=o,this.pos=y,this.relativePos=W,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,dt._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class jt extends gi{constructor(e,o,y,W,G){super(e,o,y,W),this._ctx=e,G?(this.target=G,this.targetPath=le.collect(G,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?ot.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return Wt.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return Wt.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,o,y,W){return Wt.createMargin(e,this.target,this._getMouseColumn(o),o,y,W)}fulfillViewZone(e,o,y){return Wt.createViewZone(e,this.target,this._getMouseColumn(o),o,y)}fulfillContentText(e,o,y){return Wt.createContentText(this.target,this._getMouseColumn(e),e,o,y)}fulfillContentEmpty(e,o){return Wt.createContentEmpty(this.target,this._getMouseColumn(e),e,o)}fulfillContentWidget(e){return Wt.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return Wt.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return Wt.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new jt(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const Ye={isAfterLines:!0};function ut(Et){return{isAfterLines:!1,horizontalDistanceToText:Et}}class dt{constructor(e,o){this._context=e,this._viewHelper=o}mouseTargetIsWidget(e){const o=e.target,y=le.collect(o,this._viewHelper.viewDomNode);return!!(Vt.isChildOfContentWidgets(y)||Vt.isChildOfOverflowingContentWidgets(y)||Vt.isChildOfOverlayWidgets(y))}createMouseTarget(e,o,y,W,G){const be=new Ct(this._context,this._viewHelper,e),Oe=new jt(be,o,y,W,G);try{const Ze=dt._createMouseTarget(be,Oe,!1);if(Ze.type===6&&be.stickyTabStops&&Ze.position!==null){const et=dt._snapToSoftTabBoundary(Ze.position,be.viewModel),it=Pe.e.fromPositions(et,et).plusRange(Ze.range);return Oe.fulfillContentText(et,it,Ze.detail)}return Ze}catch(Ze){return Oe.fulfillUnknown()}}static _createMouseTarget(e,o,y){if(o.target===null){if(y)return o.fulfillUnknown();const be=dt._doHitTest(e,o);return be.type===1?dt.createMouseTargetFromHitTestPosition(e,o,be.spanNode,be.position,be.injectedText):this._createMouseTarget(e,o.withTarget(be.hitTarget),!0)}const W=o;let G=null;return G=G||dt._hitTestContentWidget(e,W),G=G||dt._hitTestOverlayWidget(e,W),G=G||dt._hitTestMinimap(e,W),G=G||dt._hitTestScrollbarSlider(e,W),G=G||dt._hitTestViewZone(e,W),G=G||dt._hitTestMargin(e,W),G=G||dt._hitTestViewCursor(e,W),G=G||dt._hitTestTextArea(e,W),G=G||dt._hitTestViewLines(e,W,y),G=G||dt._hitTestScrollbar(e,W),G||o.fulfillUnknown()}static _hitTestContentWidget(e,o){if(Vt.isChildOfContentWidgets(o.targetPath)||Vt.isChildOfOverflowingContentWidgets(o.targetPath)){const y=e.findAttribute(o.target,"widgetId");return y?o.fulfillContentWidget(y):o.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,o){if(Vt.isChildOfOverlayWidgets(o.targetPath)){const y=e.findAttribute(o.target,"widgetId");return y?o.fulfillOverlayWidget(y):o.fulfillUnknown()}return null}static _hitTestViewCursor(e,o){if(o.target){const y=e.lastRenderData.lastViewCursorsRenderData;for(const W of y)if(o.target===W.domNode)return o.fulfillContentText(W.position,null,{mightBeForeignElement:!1,injectedText:null})}if(o.isInContentArea){const y=e.lastRenderData.lastViewCursorsRenderData,W=o.mouseContentHorizontalOffset,G=o.mouseVerticalOffset;for(const be of y){if(W<be.contentLeft||W>be.contentLeft+be.width)continue;const Oe=e.getVerticalOffsetForLineNumber(be.position.lineNumber);if(Oe<=G&&G<=Oe+be.height)return o.fulfillContentText(be.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,o){const y=e.getZoneAtCoord(o.mouseVerticalOffset);if(y){const W=o.isInContentArea?8:5;return o.fulfillViewZone(W,y.position,y)}return null}static _hitTestTextArea(e,o){return Vt.isTextArea(o.targetPath)?e.lastRenderData.lastTextareaPosition?o.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):o.fulfillTextarea():null}static _hitTestMargin(e,o){if(o.isInMarginArea){const y=e.getFullLineRangeAtCoord(o.mouseVerticalOffset),W=y.range.getStartPosition();let G=Math.abs(o.relativePos.x);const be={isAfterLines:y.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:G};return G-=e.layoutInfo.glyphMarginLeft,G<=e.layoutInfo.glyphMarginWidth?o.fulfillMargin(2,W,y.range,be):(G-=e.layoutInfo.glyphMarginWidth,G<=e.layoutInfo.lineNumbersWidth?o.fulfillMargin(3,W,y.range,be):(G-=e.layoutInfo.lineNumbersWidth,o.fulfillMargin(4,W,y.range,be)))}return null}static _hitTestViewLines(e,o,y){if(!Vt.isChildOfViewLines(o.targetPath))return null;if(e.isInTopPadding(o.mouseVerticalOffset))return o.fulfillContentEmpty(new ue.L(1,1),Ye);if(e.isAfterLines(o.mouseVerticalOffset)||e.isInBottomPadding(o.mouseVerticalOffset)){const G=e.viewModel.getLineCount(),be=e.viewModel.getLineMaxColumn(G);return o.fulfillContentEmpty(new ue.L(G,be),Ye)}if(y){if(Vt.isStrictChildOfViewLines(o.targetPath)){const G=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset);if(e.viewModel.getLineLength(G)===0){const Oe=e.getLineWidth(G),Ze=ut(o.mouseContentHorizontalOffset-Oe);return o.fulfillContentEmpty(new ue.L(G,1),Ze)}const be=e.getLineWidth(G);if(o.mouseContentHorizontalOffset>=be){const Oe=ut(o.mouseContentHorizontalOffset-be),Ze=new ue.L(G,e.viewModel.getLineMaxColumn(G));return o.fulfillContentEmpty(Ze,Oe)}}return o.fulfillUnknown()}const W=dt._doHitTest(e,o);return W.type===1?dt.createMouseTargetFromHitTestPosition(e,o,W.spanNode,W.position,W.injectedText):this._createMouseTarget(e,o.withTarget(W.hitTarget),!0)}static _hitTestMinimap(e,o){if(Vt.isChildOfMinimap(o.targetPath)){const y=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),W=e.viewModel.getLineMaxColumn(y);return o.fulfillScrollbar(new ue.L(y,W))}return null}static _hitTestScrollbarSlider(e,o){if(Vt.isChildOfScrollableElement(o.targetPath)&&o.target&&o.target.nodeType===1){const y=o.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const W=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),G=e.viewModel.getLineMaxColumn(W);return o.fulfillScrollbar(new ue.L(W,G))}}return null}static _hitTestScrollbar(e,o){if(Vt.isChildOfScrollableElement(o.targetPath)){const y=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),W=e.viewModel.getLineMaxColumn(y);return o.fulfillScrollbar(new ue.L(y,W))}return null}getMouseColumn(e){const o=this._context.configuration.options,y=o.get(140),W=this._context.viewLayout.getCurrentScrollLeft()+e.x-y.contentLeft;return dt._getMouseColumn(W,o.get(48).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,o){return e<0?1:Math.round(e/o)+1}static createMouseTargetFromHitTestPosition(e,o,y,W,G){const be=W.lineNumber,Oe=W.column,Ze=e.getLineWidth(be);if(o.mouseContentHorizontalOffset>Ze){const _i=ut(o.mouseContentHorizontalOffset-Ze);return o.fulfillContentEmpty(W,_i)}const et=e.visibleRangeForPosition(be,Oe);if(!et)return o.fulfillUnknown(W);const it=et.left;if(Math.abs(o.mouseContentHorizontalOffset-it)<1)return o.fulfillContentText(W,null,{mightBeForeignElement:!!G,injectedText:G});const pt=[];if(pt.push({offset:et.left,column:Oe}),Oe>1){const _i=e.visibleRangeForPosition(be,Oe-1);_i&&pt.push({offset:_i.left,column:Oe-1})}const Ft=e.viewModel.getLineMaxColumn(be);if(Oe<Ft){const _i=e.visibleRangeForPosition(be,Oe+1);_i&&pt.push({offset:_i.left,column:Oe+1})}pt.sort((_i,Ti)=>_i.offset-Ti.offset);const Ot=o.pos.toClientCoordinates(),Xt=y.getBoundingClientRect(),ii=Xt.left<=Ot.clientX&&Ot.clientX<=Xt.right;let ri=null;for(let _i=1;_i<pt.length;_i++){const Ti=pt[_i-1],xi=pt[_i];if(Ti.offset<=o.mouseContentHorizontalOffset&&o.mouseContentHorizontalOffset<=xi.offset){ri=new Pe.e(be,Ti.column,be,xi.column);const Zi=Math.abs(Ti.offset-o.mouseContentHorizontalOffset),Ki=Math.abs(xi.offset-o.mouseContentHorizontalOffset);W=Zi<Ki?new ue.L(be,Ti.column):new ue.L(be,xi.column);break}}return o.fulfillContentText(W,ri,{mightBeForeignElement:!ii||!!G,injectedText:G})}static _doHitTestWithCaretRangeFromPoint(e,o){const y=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),W=e.getVerticalOffsetForLineNumber(y),G=W+e.lineHeight;if(!(y===e.viewModel.getLineCount()&&o.mouseVerticalOffset>G)){const Oe=Math.floor((W+G)/2);let Ze=o.pos.y+(Oe-o.mouseVerticalOffset);Ze<=o.editorPos.y&&(Ze=o.editorPos.y+1),Ze>=o.editorPos.y+o.editorPos.height&&(Ze=o.editorPos.y+o.editorPos.height-1);const et=new Ce.YN(o.pos.x,Ze),it=this._actualDoHitTestWithCaretRangeFromPoint(e,et.toClientCoordinates());if(it.type===1)return it}return this._actualDoHitTestWithCaretRangeFromPoint(e,o.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,o){const y=I.Ay(e.viewDomNode);let W;if(y?typeof y.caretRangeFromPoint=="undefined"?W=bt(y,o.clientX,o.clientY):W=y.caretRangeFromPoint(o.clientX,o.clientY):W=document.caretRangeFromPoint(o.clientX,o.clientY),!W||!W.startContainer)return new nt;const G=W.startContainer;if(G.nodeType===G.TEXT_NODE){const be=G.parentNode,Oe=be?be.parentNode:null,Ze=Oe?Oe.parentNode:null;return(Ze&&Ze.nodeType===Ze.ELEMENT_NODE?Ze.className:null)===ze.CLASS_NAME?st.createFromDOMInfo(e,be,W.startOffset):new nt(G.parentNode)}else if(G.nodeType===G.ELEMENT_NODE){const be=G.parentNode,Oe=be?be.parentNode:null;return(Oe&&Oe.nodeType===Oe.ELEMENT_NODE?Oe.className:null)===ze.CLASS_NAME?st.createFromDOMInfo(e,G,G.textContent.length):new nt(G)}return new nt}static _doHitTestWithCaretPositionFromPoint(e,o){const y=document.caretPositionFromPoint(o.clientX,o.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const W=y.offsetNode.parentNode,G=W?W.parentNode:null,be=G?G.parentNode:null;return(be&&be.nodeType===be.ELEMENT_NODE?be.className:null)===ze.CLASS_NAME?st.createFromDOMInfo(e,y.offsetNode.parentNode,y.offset):new nt(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const W=y.offsetNode.parentNode,G=W&&W.nodeType===W.ELEMENT_NODE?W.className:null,be=W?W.parentNode:null,Oe=be&&be.nodeType===be.ELEMENT_NODE?be.className:null;if(G===ze.CLASS_NAME){const Ze=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(Ze)return st.createFromDOMInfo(e,Ze,0)}else if(Oe===ze.CLASS_NAME)return st.createFromDOMInfo(e,y.offsetNode,0)}return new nt(y.offsetNode)}static _snapToSoftTabBoundary(e,o){const y=o.getLineContent(e.lineNumber),{tabSize:W}=o.model.getOptions(),G=gt.l.atomicPosition(y,e.column-1,W,2);return G!==-1?new ue.L(e.lineNumber,G+1):e}static _doHitTest(e,o){let y=new nt;if(typeof document.caretRangeFromPoint=="function"?y=this._doHitTestWithCaretRangeFromPoint(e,o):document.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(e,o.pos.toClientCoordinates())),y.type===1){const W=e.viewModel.getInjectedTextAt(y.position),G=e.viewModel.normalizePosition(y.position,2);(W||!G.equals(y.position))&&(y=new tt(G,y.spanNode,W))}return y}}function bt(Et,e,o){const y=document.createRange();let W=Et.elementFromPoint(e,o);if(W!==null){for(;W&&W.firstChild&&W.firstChild.nodeType!==W.firstChild.TEXT_NODE&&W.lastChild&&W.lastChild.firstChild;)W=W.lastChild;const G=W.getBoundingClientRect(),be=window.getComputedStyle(W,null).getPropertyValue("font-style"),Oe=window.getComputedStyle(W,null).getPropertyValue("font-variant"),Ze=window.getComputedStyle(W,null).getPropertyValue("font-weight"),et=window.getComputedStyle(W,null).getPropertyValue("font-size"),it=window.getComputedStyle(W,null).getPropertyValue("line-height"),pt=window.getComputedStyle(W,null).getPropertyValue("font-family"),Ft=`${be} ${Oe} ${Ze} ${et}/${it} ${pt}`,Ot=W.innerText;let Xt=G.left,ii=0,ri;if(e>G.left+G.width)ii=Ot.length;else{const _i=Mt.getInstance();for(let Ti=0;Ti<Ot.length+1;Ti++){if(ri=_i.getCharWidth(Ot.charAt(Ti),Ft)/2,Xt+=ri,e<Xt){ii=Ti;break}Xt+=ri}}y.setStart(W.firstChild,ii),y.setEnd(W.firstChild,ii)}return y}class Mt{static getInstance(){return Mt._INSTANCE||(Mt._INSTANCE=new Mt),Mt._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,o){const y=e+o;if(this._cache[y])return this._cache[y];const W=this._canvas.getContext("2d");W.font=o;const be=W.measureText(e).width;return this._cache[y]=be,be}}Mt._INSTANCE=null;var ni=t(60018);class qt extends _e{constructor(e,o,y){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=o,this.viewHelper=y,this.mouseTargetFactory=new dt(this._context,y),this._mouseDownOperation=this._register(new yt(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(be,Oe)=>this._createMouseTarget(be,Oe),be=>this._getMouseColumn(be))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(140).height;const W=new Ce.N5(this.viewHelper.viewDomNode);this._register(W.onContextMenu(this.viewHelper.viewDomNode,be=>this._onContextMenu(be,!0))),this._register(W.onMouseMove(this.viewHelper.viewDomNode,be=>{this._onMouseMove(be),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=I.nm(document,"mousemove",Oe=>{this.viewHelper.viewDomNode.contains(Oe.target)||this._onMouseLeave(new Ce.gy(Oe,!1,this.viewHelper.viewDomNode))}))})),this._register(W.onMouseUp(this.viewHelper.viewDomNode,be=>this._onMouseUp(be))),this._register(W.onMouseLeave(this.viewHelper.viewDomNode,be=>this._onMouseLeave(be)));let G=0;this._register(W.onPointerDown(this.viewHelper.viewDomNode,(be,Oe)=>{G=Oe})),this._register(I.nm(this.viewHelper.viewDomNode,I.tw.POINTER_UP,be=>{this._mouseDownOperation.onPointerUp()})),this._register(W.onMouseDown(this.viewHelper.viewDomNode,be=>this._onMouseDown(be,G))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=ni.Io.INSTANCE;let o=0,y=D.C.getZoomLevel(),W=!1,G=0;const be=Ze=>{if(this.viewController.emitMouseWheel(Ze),!this._context.configuration.options.get(73))return;const et=new Re.q(Ze);if(e.acceptStandardWheelEvent(et),e.isPhysicalMouseWheel()){if(Oe(Ze)){const it=D.C.getZoomLevel(),pt=et.deltaY>0?1:-1;D.C.setZoomLevel(it+pt),et.preventDefault(),et.stopPropagation()}}else Date.now()-o>50&&(y=D.C.getZoomLevel(),W=Oe(Ze),G=0),o=Date.now(),G+=et.deltaY,W&&(D.C.setZoomLevel(y+G/5),et.preventDefault(),et.stopPropagation())};this._register(I.nm(this.viewHelper.viewDomNode,I.tw.MOUSE_WHEEL,be,{capture:!0,passive:!1}));function Oe(Ze){return s.dz?(Ze.metaKey||Ze.ctrlKey)&&!Ze.shiftKey&&!Ze.altKey:Ze.ctrlKey&&!Ze.metaKey&&!Ze.shiftKey&&!Ze.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(140)){const o=this._context.configuration.options.get(140).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,o){const W=new Ce.rU(e,o).toPageCoordinates(),G=(0,Ce.kG)(this.viewHelper.viewDomNode);if(W.y<G.y||W.y>G.y+G.height||W.x<G.x||W.x>G.x+G.width)return null;const be=(0,Ce.Pp)(this.viewHelper.viewDomNode,G,W);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),G,W,be,null)}_createMouseTarget(e,o){let y=e.target;if(!this.viewHelper.viewDomNode.contains(y)){const W=I.Ay(this.viewHelper.viewDomNode);W&&(y=W.elementsFromPoint(e.posx,e.posy).find(G=>this.viewHelper.viewDomNode.contains(G)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,o?y:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,o){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,o)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,o){const y=this._createMouseTarget(e,!0),W=y.type===6||y.type===7,G=y.type===2||y.type===3||y.type===4,be=y.type===3,Oe=this._context.configuration.options.get(105),Ze=y.type===8||y.type===5,et=y.type===9;let it=e.leftButton||e.middleButton;s.dz&&e.leftButton&&e.ctrlKey&&(it=!1);const pt=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(it&&(W||be&&Oe))pt(),this._mouseDownOperation.start(y.type,e,o);else if(G)e.preventDefault();else if(Ze){const Ft=y.detail;it&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Ft.viewZoneId)&&(pt(),this._mouseDownOperation.start(y.type,e,o),e.preventDefault())}else et&&this.viewHelper.shouldSuppressMouseDownOnWidget(y.detail)&&(pt(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:y})}}class yt extends g.JT{constructor(e,o,y,W,G,be){super(),this._context=e,this._viewController=o,this._viewHelper=y,this._mouseTargetFactory=W,this._createMouseTarget=G,this._getMouseColumn=be,this._mouseMoveMonitor=this._register(new Ce.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new At(this._context,this._viewHelper,this._mouseTargetFactory,(Oe,Ze,et)=>this._dispatchMouse(Oe,Ze,et))),this._mouseState=new si,this._currentSelection=new Z.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const o=this._findMousePosition(e,!1);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:o}):o.type===13&&(o.outsidePosition==="above"||o.outsidePosition==="below")?this._topBottomDragScrolling.start(o,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(o,!0,1)))}start(e,o,y){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const W=this._findMousePosition(o,!0);if(!W||!W.position)return;this._mouseState.trySetCount(o.detail,W.position),o.detail=this._mouseState.count;const G=this._context.configuration.options;if(!G.get(88)&&G.get(33)&&!G.get(20)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&W.type===6&&W.position&&this._currentSelection.containsPosition(W.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,y,o.buttons,be=>this._onMouseDownThenMove(be),be=>{const Oe=this._findMousePosition(this._lastMouseEvent,!1);be&&be instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Oe?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(W,o.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,y,o.buttons,be=>this._onMouseDownThenMove(be),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const o=e.editorPos,y=this._context.viewModel,W=this._context.viewLayout,G=this._getMouseColumn(e);if(e.posy<o.y){const Oe=o.y-e.posy,Ze=Math.max(W.getCurrentScrollTop()-Oe,0),et=Ct.getZoneAtCoord(this._context,Ze);if(et){const pt=this._helpPositionJumpOverViewZone(et);if(pt)return Wt.createOutsideEditor(G,pt,"above",Oe)}const it=W.getLineNumberAtVerticalOffset(Ze);return Wt.createOutsideEditor(G,new ue.L(it,1),"above",Oe)}if(e.posy>o.y+o.height){const Oe=e.posy-o.y-o.height,Ze=W.getCurrentScrollTop()+e.relativePos.y,et=Ct.getZoneAtCoord(this._context,Ze);if(et){const pt=this._helpPositionJumpOverViewZone(et);if(pt)return Wt.createOutsideEditor(G,pt,"below",Oe)}const it=W.getLineNumberAtVerticalOffset(Ze);return Wt.createOutsideEditor(G,new ue.L(it,y.getLineMaxColumn(it)),"below",Oe)}const be=W.getLineNumberAtVerticalOffset(W.getCurrentScrollTop()+e.relativePos.y);if(e.posx<o.x){const Oe=o.x-e.posx;return Wt.createOutsideEditor(G,new ue.L(be,1),"left",Oe)}if(e.posx>o.x+o.width){const Oe=e.posx-o.x-o.width;return Wt.createOutsideEditor(G,new ue.L(be,y.getLineMaxColumn(be)),"right",Oe)}return null}_findMousePosition(e,o){const y=this._getPositionOutsideEditor(e);if(y)return y;const W=this._createMouseTarget(e,o);if(!W.position)return null;if(W.type===8||W.type===5){const be=this._helpPositionJumpOverViewZone(W.detail);if(be)return Wt.createViewZone(W.type,W.element,W.mouseColumn,be,W.detail)}return W}_helpPositionJumpOverViewZone(e){const o=new ue.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),y=e.positionBefore,W=e.positionAfter;return y&&W?y.isBefore(o)?y:W:null}_dispatchMouse(e,o,y){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:y,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class At extends g.JT{constructor(e,o,y,W){super(),this._context=e,this._viewHelper=o,this._mouseTargetFactory=y,this._dispatchMouse=W,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,o){this._operation?this._operation.setPosition(e,o):this._operation=new Qt(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,o)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class Qt extends g.JT{constructor(e,o,y,W,G,be){super(),this._context=e,this._viewHelper=o,this._mouseTargetFactory=y,this._dispatchMouse=W,this._position=G,this._mouseEvent=be,this._lastTime=Date.now(),this._animationFrameDisposable=I.jL(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(e,o){this._position=e,this._mouseEvent=o}_tick(){const e=Date.now(),o=e-this._lastTime;return this._lastTime=e,o}_getScrollSpeed(){const e=this._context.configuration.options.get(64),o=this._context.configuration.options.get(140).height/e,y=this._position.outsideDistance/e;return y<=1.5?Math.max(30,o*(1+y)):y<=3?Math.max(60,o*(2+y)):Math.max(200,o*(7+y))}_execute(){const e=this._context.configuration.options.get(64),o=this._getScrollSpeed(),y=this._tick(),W=o*(y/1e3)*e,G=this._position.outsidePosition==="above"?-W:W;this._context.viewModel.viewLayout.deltaScrollNow(0,G),this._viewHelper.renderNow();const be=this._context.viewLayout.getLinesViewportData(),Oe=this._position.outsidePosition==="above"?be.startLineNumber:be.endLineNumber;let Ze;{const et=(0,Ce.kG)(this._viewHelper.viewDomNode),it=this._context.configuration.options.get(140).horizontalScrollbarHeight,pt=new Ce.YN(this._mouseEvent.pos.x,et.y+et.height-it-.1),Ft=(0,Ce.Pp)(this._viewHelper.viewDomNode,et,pt);Ze=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),et,pt,Ft,null)}(!Ze.position||Ze.position.lineNumber!==Oe)&&(this._position.outsidePosition==="above"?Ze=Wt.createOutsideEditor(this._position.mouseColumn,new ue.L(Oe,1),"above",this._position.outsideDistance):Ze=Wt.createOutsideEditor(this._position.mouseColumn,new ue.L(Oe,this._context.viewModel.getLineMaxColumn(Oe)),"below",this._position.outsideDistance)),this._dispatchMouse(Ze,!0,2),this._animationFrameDisposable=I.jL(()=>this._execute())}}class si{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,o){const y=new Date().getTime();y-this._lastSetMouseDownCountTime>si.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=y,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}si.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var oi=t(83092),mi=t(10521);class bi extends qt{constructor(e,o,y){super(e,o,y),this._register(T.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(I.nm(this.viewHelper.linesContentDomNode,T.t.Tap,G=>this.onTap(G))),this._register(I.nm(this.viewHelper.linesContentDomNode,T.t.Change,G=>this.onChange(G))),this._register(I.nm(this.viewHelper.linesContentDomNode,T.t.Contextmenu,G=>this._onContextMenu(new Ce.gy(G,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(I.nm(this.viewHelper.linesContentDomNode,"pointerdown",G=>{const be=G.pointerType;if(be==="mouse"){this._lastPointerType="mouse";return}else be==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const W=new Ce.tC(this.viewHelper.viewDomNode);this._register(W.onPointerMove(this.viewHelper.viewDomNode,G=>this._onMouseMove(G))),this._register(W.onPointerUp(this.viewHelper.viewDomNode,G=>this._onMouseUp(G))),this._register(W.onPointerLeave(this.viewHelper.viewDomNode,G=>this._onMouseLeave(G))),this._register(W.onPointerDown(this.viewHelper.viewDomNode,(G,be)=>this._onMouseDown(G,be)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new Ce.gy(e,!1,this.viewHelper.viewDomNode),!1);o.position&&this.viewController.dispatchMouse({position:o.position,mouseColumn:o.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:o.type===6&&o.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,o){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,o)}}class Ai extends qt{constructor(e,o,y){super(e,o,y),this._register(T.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(I.nm(this.viewHelper.linesContentDomNode,T.t.Tap,W=>this.onTap(W))),this._register(I.nm(this.viewHelper.linesContentDomNode,T.t.Change,W=>this.onChange(W))),this._register(I.nm(this.viewHelper.linesContentDomNode,T.t.Contextmenu,W=>this._onContextMenu(new Ce.gy(W,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new Ce.gy(e,!1,this.viewHelper.viewDomNode),!1);if(o.position){const y=document.createEvent("CustomEvent");y.initEvent(mi.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(y),this.viewController.moveTo(o.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class $i extends g.JT{constructor(e,o,y){super(),s.gn&&oi.D.pointerEvents?this.handler=this._register(new bi(e,o,y)):window.TouchEvent?this.handler=this._register(new Ai(e,o,y)):this.handler=this._register(new qt(e,o,y))}getTargetAtClientPoint(e,o){return this.handler.getTargetAtClientPoint(e,o)}}var Vi=t(17416),Qi=t(71344),fn=t(60153);class Yi extends _e{}var Pi=t(58566),Li=t(44411);class gn extends Yi{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new ue.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(64);const o=e.get(65);this._renderLineNumbers=o.renderType,this._renderCustomLineNumbers=o.renderFn,this._renderFinalNewline=e.get(91);const y=e.get(140);this._lineNumbersLeft=y.lineNumbersLeft,this._lineNumbersWidth=y.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const o=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(o);let y=!1;return this._activeLineNumber!==o.lineNumber&&(this._activeLineNumber=o.lineNumber,y=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(y=!0),y}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const o=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(e,1));if(o.column!==1)return"";const y=o.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(y);if(this._renderLineNumbers===2){const W=Math.abs(this._lastCursorModelPosition.lineNumber-y);return W===0?'<span class="relative-current-line-number">'+y+"</span>":String(W)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===y||y%10===0?String(y):"":String(y)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const o=s.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",y=e.visibleRange.startLineNumber,W=e.visibleRange.endLineNumber,G=this._context.viewModel.getLineCount(),be=[];for(let Oe=y;Oe<=W;Oe++){const Ze=Oe-y,et=this._getLineRenderLineNumber(Oe);if(!et){be[Ze]="";continue}let it="";if(Oe===G&&this._context.viewModel.getLineLength(Oe)===0){if(this._renderFinalNewline==="off"){be[Ze]="";continue}this._renderFinalNewline==="dimmed"&&(it=" dimmed-line-number")}Oe===this._activeLineNumber&&(it=" active-line-number"),be[Ze]=`<div class="${gn.CLASS_NAME}${o}${it}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${et}</div>`}this._renderResult=be}render(e,o){if(!this._renderResult)return"";const y=o-e;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}gn.CLASS_NAME="line-numbers",(0,Pi.Ic)((Et,e)=>{const o=Et.getColor(Li.hw),y=Et.getColor(Li.Bj);y?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${y}; }`):o&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${o.transparent(.4)}; }`)});class on extends pe{constructor(e){super(e);const o=this._context.configuration.options,y=o.get(140);this._canUseLayerHinting=!o.get(30),this._contentLeft=y.contentLeft,this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,this._domNode=(0,fe.X)(document.createElement("div")),this._domNode.setClassName(on.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,fe.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(on.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const o=this._context.configuration.options,y=o.get(140);return this._canUseLayerHinting=!o.get(30),this._contentLeft=y.contentLeft,this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const o=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-o);const y=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(y),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(y)}}on.CLASS_NAME="glyph-margin",on.OUTER_CLASS_NAME="margin";var Nn=t(31599),ln=t(56245),Yt=t(36082),ti=t(86741),fi=t(35990);class Gt{constructor(e,o,y,W,G){this._context=e,this.modelLineNumber=o,this.distanceToModelLineStart=y,this.widthOfHiddenLineTextBefore=W,this.distanceToModelLineEnd=G,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const o=new ue.L(this.modelLineNumber,this.distanceToModelLineStart+1),y=new ue.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Si=l.isFirefox;class zi extends pe{constructor(e,o,y){super(e),this._primaryCursorPosition=new ue.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=o,this._visibleRangeProvider=y,this._scrollLeft=0,this._scrollTop=0;const W=this._context.configuration.options,G=W.get(140);this._setAccessibilityOptions(W),this._contentLeft=G.contentLeft,this._contentWidth=G.contentWidth,this._contentHeight=G.height,this._fontInfo=W.get(48),this._lineHeight=W.get(64),this._emptySelectionClipboard=W.get(35),this._copyWithSyntaxHighlighting=W.get(23),this._visibleTextArea=null,this._selections=[new Z.Y(1,1,1,1)],this._modelSelections=[new Z.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,fe.X)(document.createElement("textarea")),le.write(this.textArea,6),this.textArea.setClassName(`inputarea ${ln.S}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:be}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${be*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(W)),this.textArea.setAttribute("tabindex",String(W.get(120))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",V.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,fe.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Oe={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:it=>this._context.viewModel.getLineMaxColumn(it),getValueInRange:(it,pt)=>this._context.viewModel.getValueInRange(it,pt),getValueLengthInRange:(it,pt)=>this._context.viewModel.getValueLengthInRange(it,pt),modifyPosition:(it,pt)=>this._context.viewModel.modifyPosition(it,pt)},Ze={getDataToCopy:()=>{const it=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,s.ED),pt=this._context.viewModel.model.getEOL(),Ft=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Ot=Array.isArray(it)?it:null,Xt=Array.isArray(it)?it.join(pt):it;let ii,ri=null;if(mi.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Xt.length<65536){const _i=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);_i&&(ii=_i.html,ri=_i.mode)}return{isFromEmptySelection:Ft,multicursorText:Ot,text:Xt,html:ii,mode:ri}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const it=this._selections[0];if(s.dz&&it.isEmpty()){const Ft=it.getStartPosition();let Ot=this._getWordBeforePosition(Ft);if(Ot.length===0&&(Ot=this._getCharacterBeforePosition(Ft)),Ot.length>0)return new fn.un(Ot,Ot.length,Ot.length,Pe.e.fromPositions(Ft),0)}const pt=500;if(s.dz&&!it.isEmpty()&&Oe.getValueLengthInRange(it,0)<pt){const Ft=Oe.getValueInRange(it,0);return new fn.un(Ft,0,Ft.length,it,0)}if(l.isSafari&&!it.isEmpty()){const Ft="vscode-placeholder";return new fn.un(Ft,0,Ft.length,null,void 0)}return fn.un.EMPTY}if(l.isAndroid){const it=this._selections[0];if(it.isEmpty()){const pt=it.getStartPosition(),[Ft,Ot]=this._getAndroidWordAtPosition(pt);if(Ft.length>0)return new fn.un(Ft,Ot,Ot,Pe.e.fromPositions(pt),0)}return fn.un.EMPTY}return fn.ee.fromEditorSelection(Oe,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(it,pt,Ft)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(it,pt,Ft)},et=this._register(new mi.Tj(this.textArea.domNode));this._textAreaInput=this._register(new mi.Fz(Ze,et,s.OS,l)),this._register(this._textAreaInput.onKeyDown(it=>{this._viewController.emitKeyDown(it)})),this._register(this._textAreaInput.onKeyUp(it=>{this._viewController.emitKeyUp(it)})),this._register(this._textAreaInput.onPaste(it=>{let pt=!1,Ft=null,Ot=null;it.metadata&&(pt=this._emptySelectionClipboard&&!!it.metadata.isFromEmptySelection,Ft=typeof it.metadata.multicursorText!="undefined"?it.metadata.multicursorText:null,Ot=it.metadata.mode),this._viewController.paste(it.text,pt,Ft,Ot)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(it=>{it.replacePrevCharCnt||it.replaceNextCharCnt||it.positionDelta?(fn.al&&console.log(` => compositionType: <<${it.text}>>, ${it.replacePrevCharCnt}, ${it.replaceNextCharCnt}, ${it.positionDelta}`),this._viewController.compositionType(it.text,it.replacePrevCharCnt,it.replaceNextCharCnt,it.positionDelta)):(fn.al&&console.log(` => type: <<${it.text}>>`),this._viewController.type(it.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(it=>{this._viewController.setSelection(it)})),this._register(this._textAreaInput.onCompositionStart(it=>{const pt=this.textArea.domNode,Ft=this._modelSelections[0],{distanceToModelLineStart:Ot,widthOfHiddenTextBefore:Xt}=(()=>{const ri=pt.value.substring(0,Math.min(pt.selectionStart,pt.selectionEnd)),_i=ri.lastIndexOf(`
`),Ti=ri.substring(_i+1),xi=Ti.lastIndexOf("	"),Zi=Ti.length-xi-1,Ki=Ft.getStartPosition(),un=Math.min(Ki.column-1,Zi),dn=Ki.column-1-un,hn=Ti.substring(0,Ti.length-un),{tabSize:Ui}=this._context.viewModel.model.getOptions(),Sn=ji(hn,this._fontInfo,Ui);return{distanceToModelLineStart:dn,widthOfHiddenTextBefore:Sn}})(),{distanceToModelLineEnd:ii}=(()=>{const ri=pt.value.substring(Math.max(pt.selectionStart,pt.selectionEnd)),_i=ri.indexOf(`
`),Ti=_i===-1?ri:ri.substring(0,_i),xi=Ti.indexOf("	"),Zi=xi===-1?Ti.length:Ti.length-xi-1,Ki=Ft.getEndPosition(),un=Math.min(this._context.viewModel.model.getLineMaxColumn(Ki.lineNumber)-Ki.column,Zi);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Ki.lineNumber)-Ki.column-un}})();this._context.viewModel.revealRange("keyboard",!0,Pe.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Gt(this._context,Ft.startLineNumber,Ot,Xt,ii),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${ln.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(it=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${ln.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(fi.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeScreenReaderContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const o='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',y=this._context.viewModel.getLineContent(e.lineNumber),W=(0,Nn.u)(o);let G=!0,be=e.column,Oe=!0,Ze=e.column,et=0;for(;et<50&&(G||Oe);){if(G&&be<=1&&(G=!1),G){const it=y.charCodeAt(be-2);W.get(it)!==0?G=!1:be--}if(Oe&&Ze>y.length&&(Oe=!1),Oe){const it=y.charCodeAt(Ze-1);W.get(it)!==0?Oe=!1:Ze++}et++}return[y.substring(be-1,Ze-1),e.column-be]}_getWordBeforePosition(e){const o=this._context.viewModel.getLineContent(e.lineNumber),y=(0,Nn.u)(this._context.configuration.options.get(126));let W=e.column,G=0;for(;W>1;){const be=o.charCodeAt(W-2);if(y.get(be)!==0||G>50)return o.substring(W-1,e.column-1);G++,W--}return o.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const y=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!Vi.ZG(y.charCodeAt(0)))return y}return""}_getAriaLabel(e){return e.get(2)===1?V.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",s.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const o=e.get(3);this._accessibilitySupport===2&&o===M.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=o;const W=e.get(140).wrappingColumn;if(W!==-1&&this._accessibilitySupport!==1){const G=e.get(48);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(W*G.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=Si?0:1}onConfigurationChanged(e){const o=this._context.configuration.options,y=o.get(140);this._setAccessibilityOptions(o),this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._contentHeight=y.height,this._fontInfo=o.get(48),this._lineHeight=o.get(64),this._emptySelectionClipboard=o.get(35),this._copyWithSyntaxHighlighting=o.get(23),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:W}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${W*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(120))),(e.hasChanged(32)||e.hasChanged(88))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!fi.F.enabled||e.get(32)&&e.get(88)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var o;this._primaryCursorPosition=new ue.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(o=this._visibleTextArea)===null||o===void 0||o.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const W=this._visibleTextArea.visibleTextareaStart,G=this._visibleTextArea.visibleTextareaEnd,be=this._visibleTextArea.startPosition,Oe=this._visibleTextArea.endPosition;if(be&&Oe&&W&&G&&G.left>=this._scrollLeft&&W.left<=this._scrollLeft+this._contentWidth){const Ze=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,et=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let it=this._visibleTextArea.widthOfHiddenLineTextBefore,pt=this._contentLeft+W.left-this._scrollLeft,Ft=G.left-W.left+1;if(pt<this._contentLeft){const Ti=this._contentLeft-pt;pt+=Ti,it+=Ti,Ft-=Ti}Ft>this._contentWidth&&(Ft=this._contentWidth);const Ot=this._context.viewModel.getViewLineData(be.lineNumber),Xt=Ot.tokens.findTokenIndexAtOffset(be.column-1),ii=Ot.tokens.findTokenIndexAtOffset(Oe.column-1),ri=Xt===ii,_i=this._visibleTextArea.definePresentation(ri?Ot.tokens.getPresentation(Xt):null);this.textArea.domNode.scrollTop=et*this._lineHeight,this.textArea.domNode.scrollLeft=it,this._doRender({lastRenderPosition:null,top:Ze,left:pt,width:Ft,height:this._lineHeight,useCover:!1,color:(Yt.RW.getColorMap()||[])[_i.foreground],italic:_i.italic,bold:_i.bold,underline:_i.underline,strikethrough:_i.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const o=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(o<this._contentLeft||o>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const y=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(y<0||y>this._contentHeight){this._renderAtTopLeft();return}if(s.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:this._textAreaWrapping?this._contentLeft:o,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const W=(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&e!==void 0?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=W*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:this._textAreaWrapping?this._contentLeft:o,width:this._textAreaWidth,height:Si?0:1,useCover:!1})}_newlinecount(e){let o=0,y=-1;do{if(y=e.indexOf(`
`,y+1),y===-1)break;o++}while(!0);return o}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:Si?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const o=this.textArea,y=this.textAreaCover;(0,Qi.N)(o,this._fontInfo),o.setTop(e.top),o.setLeft(e.left),o.setWidth(e.width),o.setHeight(e.height),o.setColor(e.color?ti.Il.Format.CSS.formatHex(e.color):""),o.setFontStyle(e.italic?"italic":""),e.bold&&o.setFontWeight("bold"),o.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),y.setTop(e.useCover?e.top:0),y.setLeft(e.useCover?e.left:0),y.setWidth(e.useCover?e.width:0),y.setHeight(e.useCover?e.height:0);const W=this._context.configuration.options;W.get(55)?y.setClassName("monaco-editor-background textAreaCover "+on.OUTER_CLASS_NAME):W.get(65).renderType!==0?y.setClassName("monaco-editor-background textAreaCover "+gn.CLASS_NAME):y.setClassName("monaco-editor-background textAreaCover")}}function ji(Et,e,o){if(Et.length===0)return 0;const y=document.createElement("div");y.style.position="absolute",y.style.top="-50000px",y.style.width="50000px";const W=document.createElement("span");(0,Qi.N)(W,e),W.style.whiteSpace="pre",W.style.tabSize=`${o*e.spaceWidth}px`,W.append(Et),y.appendChild(W),document.body.appendChild(y);const G=W.offsetWidth;return document.body.removeChild(y),G}var Hi=t(68076);class tn{constructor(e,o,y,W){this.configuration=e,this.viewModel=o,this.userInputEvents=y,this.commandDelegate=W}paste(e,o,y,W){this.commandDelegate.paste(e,o,y,W)}type(e){this.commandDelegate.type(e)}compositionType(e,o,y,W){this.commandDelegate.compositionType(e,o,y,W)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Hi.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const o=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<o?new ue.L(e.lineNumber,o):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(75)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(75)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const o=this.configuration.options,y=s.IJ&&o.get(103),W=o.get(20);e.middleButton&&!y?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):W?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,o){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:o}}moveTo(e,o){Hi.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_moveToSelect(e,o){Hi.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_columnSelect(e,o,y){e=this._validateViewColumn(e),Hi.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:o,doColumnSelect:y})}_createCursor(e,o){e=this._validateViewColumn(e),Hi.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:o})}_lastCursorMoveToSelect(e,o){Hi.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_wordSelect(e,o){Hi.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_wordSelectDrag(e,o){Hi.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorWordSelect(e,o){Hi.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lineSelect(e,o){Hi.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lineSelectDrag(e,o){Hi.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorLineSelect(e,o){Hi.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorLineSelectDrag(e,o){Hi.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_selectAll(){Hi.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class sn{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var o;(o=this.onKeyDown)===null||o===void 0||o.call(this,e)}emitKeyUp(e){var o;(o=this.onKeyUp)===null||o===void 0||o.call(this,e)}emitContextMenu(e){var o;(o=this.onContextMenu)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var o;(o=this.onMouseMove)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var o;(o=this.onMouseLeave)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var o;(o=this.onMouseDown)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var o;(o=this.onMouseUp)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var o;(o=this.onMouseDrag)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var o;(o=this.onMouseDrop)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var o;(o=this.onMouseWheel)===null||o===void 0||o.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return sn.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,o){const y=Object.assign({},e);return y.position&&(y.position=o.convertViewPositionToModelPosition(y.position)),y.range&&(y.range=o.convertViewRangeToModelRange(y.range)),(y.type===5||y.type===8)&&(y.detail=this.convertViewToModelViewZoneData(y.detail,o)),y}static convertViewToModelViewZoneData(e,o){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?o.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?o.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:o.convertViewPositionToModelPosition(e.position),afterLineNumber:o.convertViewPositionToModelPosition(new ue.L(e.afterLineNumber,1)).lineNumber}}}var Xi=t(58352),Oi=t(12342);class ai{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,o){this._lines=o,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const o=e-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new L.he("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(e,o){if(this.getCount()===0)return null;const y=this.getStartLineNumber(),W=this.getEndLineNumber();if(o<y){const Ze=o-e+1;return this._rendLineNumberStart-=Ze,null}if(e>W)return null;let G=0,be=0;for(let Ze=y;Ze<=W;Ze++){const et=Ze-this._rendLineNumberStart;e<=Ze&&Ze<=o&&(be===0?(G=et,be=1):be++)}if(e<y){let Ze=0;o<y?Ze=o-e+1:Ze=y-e,this._rendLineNumberStart-=Ze}return this._lines.splice(G,be)}onLinesChanged(e,o){const y=e+o-1;if(this.getCount()===0)return!1;const W=this.getStartLineNumber(),G=this.getEndLineNumber();let be=!1;for(let Oe=e;Oe<=y;Oe++)Oe>=W&&Oe<=G&&(this._lines[Oe-this._rendLineNumberStart].onContentChanged(),be=!0);return be}onLinesInserted(e,o){if(this.getCount()===0)return null;const y=o-e+1,W=this.getStartLineNumber(),G=this.getEndLineNumber();if(e<=W)return this._rendLineNumberStart+=y,null;if(e>G)return null;if(y+e>G)return this._lines.splice(e-this._rendLineNumberStart,G-e+1);const be=[];for(let pt=0;pt<y;pt++)be[pt]=this._createLine();const Oe=e-this._rendLineNumberStart,Ze=this._lines.slice(0,Oe),et=this._lines.slice(Oe,this._lines.length-y),it=this._lines.slice(this._lines.length-y,this._lines.length);return this._lines=Ze.concat(be).concat(et),it}onTokensChanged(e){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),y=this.getEndLineNumber();let W=!1;for(let G=0,be=e.length;G<be;G++){const Oe=e[G];if(Oe.toLineNumber<o||Oe.fromLineNumber>y)continue;const Ze=Math.max(o,Oe.fromLineNumber),et=Math.min(y,Oe.toLineNumber);for(let it=Ze;it<=et;it++){const pt=it-this._rendLineNumberStart;this._lines[pt].onTokensChanged(),W=!0}}return W}}class Zt{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new ai(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,fe.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(140)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const o=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(o)for(let y=0,W=o.length;y<W;y++){const G=o[y].getDomNode();G&&this.domNode.domNode.removeChild(G)}return!0}onLinesInserted(e){const o=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(o)for(let y=0,W=o.length;y<W;y++){const G=o[y].getDomNode();G&&this.domNode.domNode.removeChild(G)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const o=this._linesCollection._get(),y=new Jt(this.domNode.domNode,this._host,e),W={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},G=y.render(W,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(G.rendLineNumberStart,G.lines)}}class Jt{constructor(e,o,y){this.domNode=e,this.host=o,this.viewportData=y}render(e,o,y,W){const G={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(G.rendLineNumberStart+G.linesLength-1<o||y<G.rendLineNumberStart){G.rendLineNumberStart=o,G.linesLength=y-o+1,G.lines=[];for(let be=o;be<=y;be++)G.lines[be-o]=this.host.createVisibleLine();return this._finishRendering(G,!0,W),G}if(this._renderUntouchedLines(G,Math.max(o-G.rendLineNumberStart,0),Math.min(y-G.rendLineNumberStart,G.linesLength-1),W,o),G.rendLineNumberStart>o){const be=o,Oe=Math.min(y,G.rendLineNumberStart-1);be<=Oe&&(this._insertLinesBefore(G,be,Oe,W,o),G.linesLength+=Oe-be+1)}else if(G.rendLineNumberStart<o){const be=Math.min(G.linesLength,o-G.rendLineNumberStart);be>0&&(this._removeLinesBefore(G,be),G.linesLength-=be)}if(G.rendLineNumberStart=o,G.rendLineNumberStart+G.linesLength-1<y){const be=G.rendLineNumberStart+G.linesLength,Oe=y;be<=Oe&&(this._insertLinesAfter(G,be,Oe,W,o),G.linesLength+=Oe-be+1)}else if(G.rendLineNumberStart+G.linesLength-1>y){const be=Math.max(0,y-G.rendLineNumberStart+1),Ze=G.linesLength-1-be+1;Ze>0&&(this._removeLinesAfter(G,Ze),G.linesLength-=Ze)}return this._finishRendering(G,!1,W),G}_renderUntouchedLines(e,o,y,W,G){const be=e.rendLineNumberStart,Oe=e.lines;for(let Ze=o;Ze<=y;Ze++){const et=be+Ze;Oe[Ze].layoutLine(et,W[et-G])}}_insertLinesBefore(e,o,y,W,G){const be=[];let Oe=0;for(let Ze=o;Ze<=y;Ze++)be[Oe++]=this.host.createVisibleLine();e.lines=be.concat(e.lines)}_removeLinesBefore(e,o){for(let y=0;y<o;y++){const W=e.lines[y].getDomNode();W&&this.domNode.removeChild(W)}e.lines.splice(0,o)}_insertLinesAfter(e,o,y,W,G){const be=[];let Oe=0;for(let Ze=o;Ze<=y;Ze++)be[Oe++]=this.host.createVisibleLine();e.lines=e.lines.concat(be)}_removeLinesAfter(e,o){const y=e.linesLength-o;for(let W=0;W<o;W++){const G=e.lines[y+W].getDomNode();G&&this.domNode.removeChild(G)}e.lines.splice(y,o)}_finishRenderingNewLines(e,o,y,W){Jt._ttPolicy&&(y=Jt._ttPolicy.createHTML(y));const G=this.domNode.lastChild;o||!G?this.domNode.innerHTML=y:G.insertAdjacentHTML("afterend",y);let be=this.domNode.lastChild;for(let Oe=e.linesLength-1;Oe>=0;Oe--){const Ze=e.lines[Oe];W[Oe]&&(Ze.setDomNode(be),be=be.previousSibling)}}_finishRenderingInvalidLines(e,o,y){const W=document.createElement("div");Jt._ttPolicy&&(o=Jt._ttPolicy.createHTML(o)),W.innerHTML=o;for(let G=0;G<e.linesLength;G++){const be=e.lines[G];if(y[G]){const Oe=W.firstChild,Ze=be.getDomNode();Ze.parentNode.replaceChild(Oe,Ze),be.setDomNode(Oe)}}}_finishRendering(e,o,y){const W=Jt._sb,G=e.linesLength,be=e.lines,Oe=e.rendLineNumberStart,Ze=[];{W.reset();let et=!1;for(let it=0;it<G;it++){const pt=be[it];Ze[it]=!1,!(pt.getDomNode()||!pt.renderLine(it+Oe,y[it],this.viewportData,W))&&(Ze[it]=!0,et=!0)}et&&this._finishRenderingNewLines(e,o,W.build(),Ze)}{W.reset();let et=!1;const it=[];for(let pt=0;pt<G;pt++){const Ft=be[pt];it[pt]=!1,!(Ze[pt]||!Ft.renderLine(pt+Oe,y[pt],this.viewportData,W))&&(it[pt]=!0,et=!0)}et&&this._finishRenderingInvalidLines(e,W.build(),it)}}}Jt._ttPolicy=(0,Xi.Z)("editorViewLayer",{createHTML:Et=>Et}),Jt._sb=new Oi.HT(1e5);class _t extends pe{constructor(e){super(e),this._visibleLines=new Zt(this),this.domNode=this._visibleLines.domNode;const y=this._context.configuration.options.get(48);(0,Qi.N)(this.domNode,y),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,o=this._dynamicOverlays.length;e<o;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,o=this._dynamicOverlays.length;e<o;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new xt(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const o=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let be=o;be<=y;be++)this._visibleLines.getVisibleLine(be).onConfigurationChanged(e);const G=this._context.configuration.options.get(48);return(0,Qi.N)(this.domNode,G),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const o=this._dynamicOverlays.filter(y=>y.shouldRender());for(let y=0,W=o.length;y<W;y++){const G=o[y];G.prepareRender(e),G.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class xt{constructor(e,o){this._configuration=e,this._lineHeight=this._configuration.options.get(64),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,fe.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(64)}renderLine(e,o,y,W){let G="";for(let be=0,Oe=this._dynamicOverlays.length;be<Oe;be++){const Ze=this._dynamicOverlays[be];G+=Ze.render(y.startLineNumber,e)}return this._renderedContent===G?!1:(this._renderedContent=G,W.appendString('<div style="position:absolute;top:'),W.appendString(String(o)),W.appendString("px;width:100%;height:"),W.appendString(String(this._lineHeight)),W.appendString('px;">'),W.appendString(G),W.appendString("</div>"),!0)}layoutLine(e,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}class Ht extends _t{constructor(e){super(e);const y=this._context.configuration.options.get(140);this._contentWidth=y.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const y=this._context.configuration.options.get(140);return this._contentWidth=y.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class at extends _t{constructor(e){super(e);const o=this._context.configuration.options,y=o.get(140);this._contentLeft=y.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Qi.N)(this.domNode,o.get(48))}onConfigurationChanged(e){const o=this._context.configuration.options;(0,Qi.N)(this.domNode,o.get(48));const y=o.get(140);return this._contentLeft=y.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const o=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}class ce extends pe{constructor(e,o){super(e),this._viewDomNode=o,this._widgets={},this.domNode=(0,fe.X)(document.createElement("div")),le.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,fe.X)(document.createElement("div")),le.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const o=Object.keys(this._widgets);for(const y of o)this._widgets[y].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const o of e)this._widgets[o].updateAnchorViewPosition()}addWidget(e){const o=new We(this._context,this._viewDomNode,e);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(e,o,y,W,G){this._widgets[e.getId()].setPosition(o,y,W,G),this.setShouldRender()}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const y=this._widgets[o];delete this._widgets[o];const W=y.domNode.domNode;W.parentNode.removeChild(W),W.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const o=Object.keys(this._widgets);for(const y of o)this._widgets[y].onBeforeRender(e)}prepareRender(e){const o=Object.keys(this._widgets);for(const y of o)this._widgets[y].prepareRender(e)}render(e){const o=Object.keys(this._widgets);for(const y of o)this._widgets[y].render(e)}}class We{constructor(e,o,y){this._primaryAnchor=new Me(null,null),this._secondaryAnchor=new Me(null,null),this._context=e,this._viewDomNode=o,this._actual=y,this.domNode=(0,fe.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const W=this._context.configuration.options,G=W.get(140);this._fixedOverflowWidgets=W.get(40),this._contentWidth=G.contentWidth,this._contentLeft=G.contentLeft,this._lineHeight=W.get(64),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const o=this._context.configuration.options;if(this._lineHeight=o.get(64),e.hasChanged(140)){const y=o.get(140);this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,o,y){this._affinity=e,this._primaryAnchor=W(o,this._context.viewModel,this._affinity),this._secondaryAnchor=W(y,this._context.viewModel,this._affinity);function W(G,be,Oe){if(!G)return new Me(null,null);const Ze=be.model.validatePosition(G);if(be.coordinatesConverter.modelPositionIsVisible(Ze)){const et=be.coordinatesConverter.convertModelPositionToViewPosition(Ze,Oe!=null?Oe:void 0);return new Me(G,et)}return new Me(G,null)}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,o,y,W){this._setPosition(W,e,o),this._preference=y,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,o,y,W){const G=e.top,be=G,Oe=e.top+e.height,Ze=W.viewportHeight-Oe,et=G-y,it=be>=y,pt=Oe,Ft=Ze>=y;let Ot=e.left;return Ot+o>W.scrollLeft+W.viewportWidth&&(Ot=W.scrollLeft+W.viewportWidth-o),Ot<W.scrollLeft&&(Ot=W.scrollLeft),{fitsAbove:it,aboveTop:et,fitsBelow:Ft,belowTop:pt,left:Ot}}_layoutHorizontalSegmentInPage(e,o,y,W){const Oe=Math.max(15,o.left-W),Ze=Math.min(o.left+o.width+W,e.width-15);let et=o.left+y-window.scrollX;if(et+W>Ze){const it=et-(Ze-W);et-=it,y-=it}if(et<Oe){const it=et-Oe;et-=it,y-=it}return[y,et]}_layoutBoxInPage(e,o,y,W){const G=e.top-y,be=e.top+e.height,Oe=I.i(this._viewDomNode.domNode),Ze=Oe.top+G-window.scrollY,et=Oe.top+be-window.scrollY,it=I.D6(document.body),[pt,Ft]=this._layoutHorizontalSegmentInPage(it,Oe,e.left-W.scrollLeft+this._contentLeft,o),Ot=22,Xt=22,ii=Ze>=Ot,ri=et+y<=it.height-Xt;return this._fixedOverflowWidgets?{fitsAbove:ii,aboveTop:Math.max(Ze,Ot),fitsBelow:ri,belowTop:et,left:Ft}:{fitsAbove:ii,aboveTop:G,fitsBelow:ri,belowTop:be,left:pt}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new ge(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var o,y;const W=Oe(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),G=((o=this._secondaryAnchor.viewPosition)===null||o===void 0?void 0:o.lineNumber)===((y=this._primaryAnchor.viewPosition)===null||y===void 0?void 0:y.lineNumber)?this._secondaryAnchor.viewPosition:null,be=Oe(G,this._affinity,this._lineHeight);return{primary:W,secondary:be};function Oe(Ze,et,it){if(!Ze)return null;const pt=e.visibleRangeForPosition(Ze);if(!pt)return null;const Ft=Ze.column===1&&et===3?0:pt.left,Ot=e.getVerticalOffsetForLineNumber(Ze.lineNumber)-e.scrollTop;return new Q(Ot,Ft,it)}}_reduceAnchorCoordinates(e,o,y){if(!o)return e;const W=this._context.configuration.options.get(48);let G=o.left;return G<e.left?G=Math.max(G,e.left-y+W.typicalFullwidthCharacterWidth):G=Math.min(G,e.left+y-W.typicalFullwidthCharacterWidth),new Q(e.top,G,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:o,secondary:y}=this._getAnchorsCoordinates(e);if(!o)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let be=null;if(typeof this._actual.beforeRender=="function"&&(be=ae(this._actual.beforeRender,this._actual)),be)this._cachedDomNodeOffsetWidth=be.width,this._cachedDomNodeOffsetHeight=be.height;else{const Ze=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Ze.width),this._cachedDomNodeOffsetHeight=Math.round(Ze.height)}}const W=this._reduceAnchorCoordinates(o,y,this._cachedDomNodeOffsetWidth);let G;this.allowEditorOverflow?G=this._layoutBoxInPage(W,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):G=this._layoutBoxInViewport(W,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let be=1;be<=2;be++)for(const Oe of this._preference)if(Oe===1){if(!G)return null;if(be===2||G.fitsAbove)return{coordinate:new ge(G.aboveTop,G.left),position:1}}else if(Oe===2){if(!G)return null;if(be===2||G.fitsBelow)return{coordinate:new ge(G.belowTop,G.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new ge(W.top,W.left)),position:0}:{coordinate:new ge(W.top,W.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&ae(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&ae(this._actual.afterRender,this._actual,this._renderData.position)}}class Me{constructor(e,o){this.modelPosition=e,this.viewPosition=o}}class ge{constructor(e,o){this.top=e,this.left=o,this._coordinateBrand=void 0}}class Q{constructor(e,o,y){this.top=e,this.left=o,this.height=y,this._anchorCoordinateBrand=void 0}}function ae(Et,e,...o){try{return Et.call(e,...o)}catch(y){return null}}class xe extends Yi{constructor(e){super(),this._context=e;const o=this._context.configuration.options,y=o.get(140);this._lineHeight=o.get(64),this._renderLineHighlight=o.get(92),this._renderLineHighlightOnlyWhenFocus=o.get(93),this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Z.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const o=this._selections.map(W=>W.positionLineNumber);o.sort((W,G)=>W-G),d.fS(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,e=!0);const y=this._selections.every(W=>W.isEmpty());return this._selectionIsEmpty!==y&&(this._selectionIsEmpty=y,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const o=this._context.configuration.options,y=o.get(140);return this._lineHeight=o.get(64),this._renderLineHighlight=o.get(92),this._renderLineHighlightOnlyWhenFocus=o.get(93),this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const o=this._renderOne(e),y=e.visibleRange.startLineNumber,W=e.visibleRange.endLineNumber,G=this._cursorLineNumbers.length;let be=0;const Oe=[];for(let Ze=y;Ze<=W;Ze++){const et=Ze-y;for(;be<G&&this._cursorLineNumbers[be]<Ze;)be++;be<G&&this._cursorLineNumbers[be]===Ze?Oe[et]=o:Oe[et]=""}this._renderData=Oe}render(e,o){if(!this._renderData)return"";const y=o-e;return y>=this._renderData.length?"":this._renderData[y]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Ae extends xe{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Je extends xe{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Pi.Ic)((Et,e)=>{const o=Et.getColor(Li.Kh);if(o&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${o}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${o}; border: none; }`)),!o||o.isTransparent()||Et.defines(Li.Mm)){const y=Et.getColor(Li.Mm);y&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${y}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${y}; }`),(0,ve.c3)(Et.type)&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class vt extends Yi{constructor(e){super(),this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const o=e.getDecorationsInViewport();let y=[],W=0;for(let Ze=0,et=o.length;Ze<et;Ze++){const it=o[Ze];it.options.className&&(y[W++]=it)}y=y.sort((Ze,et)=>{if(Ze.options.zIndex<et.options.zIndex)return-1;if(Ze.options.zIndex>et.options.zIndex)return 1;const it=Ze.options.className,pt=et.options.className;return it<pt?-1:it>pt?1:Pe.e.compareRangesUsingStarts(Ze.range,et.range)});const G=e.visibleRange.startLineNumber,be=e.visibleRange.endLineNumber,Oe=[];for(let Ze=G;Ze<=be;Ze++){const et=Ze-G;Oe[et]=""}this._renderWholeLineDecorations(e,y,Oe),this._renderNormalDecorations(e,y,Oe),this._renderResult=Oe}_renderWholeLineDecorations(e,o,y){const W=String(this._lineHeight),G=e.visibleRange.startLineNumber,be=e.visibleRange.endLineNumber;for(let Oe=0,Ze=o.length;Oe<Ze;Oe++){const et=o[Oe];if(!et.options.isWholeLine)continue;const it='<div class="cdr '+et.options.className+'" style="left:0;width:100%;height:'+W+'px;"></div>',pt=Math.max(et.range.startLineNumber,G),Ft=Math.min(et.range.endLineNumber,be);for(let Ot=pt;Ot<=Ft;Ot++){const Xt=Ot-G;y[Xt]+=it}}}_renderNormalDecorations(e,o,y){const W=String(this._lineHeight),G=e.visibleRange.startLineNumber;let be=null,Oe=!1,Ze=null;for(let et=0,it=o.length;et<it;et++){const pt=o[et];if(pt.options.isWholeLine)continue;const Ft=pt.options.className,Ot=!!pt.options.showIfCollapsed;let Xt=pt.range;if(Ot&&Xt.endColumn===1&&Xt.endLineNumber!==Xt.startLineNumber&&(Xt=new Pe.e(Xt.startLineNumber,Xt.startColumn,Xt.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Xt.endLineNumber-1))),be===Ft&&Oe===Ot&&Pe.e.areIntersectingOrTouching(Ze,Xt)){Ze=Pe.e.plusRange(Ze,Xt);continue}be!==null&&this._renderNormalDecoration(e,Ze,be,Oe,W,G,y),be=Ft,Oe=Ot,Ze=Xt}be!==null&&this._renderNormalDecoration(e,Ze,be,Oe,W,G,y)}_renderNormalDecoration(e,o,y,W,G,be,Oe){const Ze=e.linesVisibleRangesForRange(o,y==="findMatch");if(Ze)for(let et=0,it=Ze.length;et<it;et++){const pt=Ze[et];if(pt.outsideRenderedLine)continue;const Ft=pt.lineNumber-be;if(W&&pt.ranges.length===1){const Ot=pt.ranges[0];if(Ot.width<this._typicalHalfwidthCharacterWidth){const Xt=Math.round(Ot.left+Ot.width/2),ii=Math.max(0,Math.round(Xt-this._typicalHalfwidthCharacterWidth/2));pt.ranges[0]=new Xe(ii,this._typicalHalfwidthCharacterWidth)}}for(let Ot=0,Xt=pt.ranges.length;Ot<Xt;Ot++){const ii=pt.ranges[Ot],ri='<div class="cdr '+y+'" style="left:'+String(ii.left)+"px;width:"+String(ii.width)+"px;height:"+G+'px;"></div>';Oe[Ft]+=ri}}}render(e,o){if(!this._renderResult)return"";const y=o-e;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}class St extends pe{constructor(e,o,y,W){super(e);const G=this._context.configuration.options,be=G.get(99),Oe=G.get(72),Ze=G.get(38),et=G.get(102),it={listenOnDomNode:y.domNode,className:"editor-scrollable "+(0,Pi.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:be.vertical,horizontal:be.horizontal,verticalHasArrows:be.verticalHasArrows,horizontalHasArrows:be.horizontalHasArrows,verticalScrollbarSize:be.verticalScrollbarSize,verticalSliderSize:be.verticalSliderSize,horizontalScrollbarSize:be.horizontalScrollbarSize,horizontalSliderSize:be.horizontalSliderSize,handleMouseWheel:be.handleMouseWheel,alwaysConsumeMouseWheel:be.alwaysConsumeMouseWheel,arrowSize:be.arrowSize,mouseWheelScrollSensitivity:Oe,fastScrollSensitivity:Ze,scrollPredominantAxis:et,scrollByPage:be.scrollByPage};this.scrollbar=this._register(new ni.$Z(o.domNode,it,this._context.viewLayout.getScrollable())),le.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,fe.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const pt=(Ft,Ot,Xt)=>{const ii={};if(Ot){const ri=Ft.scrollTop;ri&&(ii.scrollTop=this._context.viewLayout.getCurrentScrollTop()+ri,Ft.scrollTop=0)}if(Xt){const ri=Ft.scrollLeft;ri&&(ii.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+ri,Ft.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(ii,1)};this._register(I.nm(y.domNode,"scroll",Ft=>pt(y.domNode,!0,!0))),this._register(I.nm(o.domNode,"scroll",Ft=>pt(o.domNode,!0,!1))),this._register(I.nm(W.domNode,"scroll",Ft=>pt(W.domNode,!0,!1))),this._register(I.nm(this.scrollbarDomNode.domNode,"scroll",Ft=>pt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,o=e.get(140);this.scrollbarDomNode.setLeft(o.contentLeft),e.get(70).side==="right"?this.scrollbarDomNode.setWidth(o.contentWidth+o.minimap.minimapWidth):this.scrollbarDomNode.setWidth(o.contentWidth),this.scrollbarDomNode.setHeight(o.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(99)||e.hasChanged(72)||e.hasChanged(38)){const o=this._context.configuration.options,y=o.get(99),W=o.get(72),G=o.get(38),be=o.get(102),Oe={vertical:y.vertical,horizontal:y.horizontal,verticalScrollbarSize:y.verticalScrollbarSize,horizontalScrollbarSize:y.horizontalScrollbarSize,scrollByPage:y.scrollByPage,handleMouseWheel:y.handleMouseWheel,mouseWheelScrollSensitivity:W,fastScrollSensitivity:G,scrollPredominantAxis:be};this.scrollbar.updateOptions(Oe)}return e.hasChanged(140)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,Pi.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class wt{constructor(e,o,y,W,G){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+o,this.className=String(y),this.zIndex=W!=null?W:0,this.decorationLane=G!=null?G:1}}class Lt{constructor(e,o){this.className=e,this.zIndex=o}}class Bt{constructor(){this.lanes=[]}add(e,o){for(;e>=this.lanes.length;)this.lanes.push([]);this.lanes[e].push(o)}getLaneDecorations(e){return e<this.lanes.length?this.lanes[e]:[]}isEmpty(){for(const e of this.lanes)if(e.length>0)return!1;return!0}}class ei extends Yi{_render(e,o,y,W){const G=[];for(let Ze=e;Ze<=o;Ze++){const et=Ze-e;G[et]=new Bt}if(y.length===0)return G;y.sort((Ze,et)=>Ze.className===et.className?Ze.startLineNumber===et.startLineNumber?Ze.endLineNumber-et.endLineNumber:Ze.startLineNumber-et.startLineNumber:Ze.className<et.className?-1:1);let be=null,Oe=0;for(let Ze=0,et=y.length;Ze<et;Ze++){const it=y[Ze],pt=it.className,Ft=it.zIndex;let Ot=Math.max(it.startLineNumber,e)-e;const Xt=Math.min(it.endLineNumber,o)-e,ii=Math.min(it.decorationLane,W);be===pt?(Ot=Math.max(Oe+1,Ot),Oe=Math.max(Oe,Xt)):(be=pt,Oe=Xt);for(let ri=Ot;ri<=Oe;ri++)G[ri].add(ii,new Lt(pt,Ft))}return G}}class pi extends ei{constructor(e){super(),this._context=e;const o=this._context.configuration.options,y=o.get(140);this._lineHeight=o.get(64),this._glyphMargin=o.get(55),this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,this._glyphMarginDecorationLaneCount=y.glyphMarginDecorationLaneCount,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,y=o.get(140);return this._lineHeight=o.get(64),this._glyphMargin=o.get(55),this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,this._glyphMarginDecorationLaneCount=y.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){var o;const y=e.getDecorationsInViewport(),W=[];let G=0;for(let be=0,Oe=y.length;be<Oe;be++){const Ze=y[be],et=Ze.options.glyphMarginClassName,it=Ze.options.zIndex,pt=(o=Ze.options.glyphMargin)===null||o===void 0?void 0:o.position;et&&(W[G++]=new wt(Ze.range.startLineNumber,Ze.range.endLineNumber,et,it,pt))}return W}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,y=e.visibleRange.endLineNumber,W=this._getDecorations(e),G=this._render(o,y,W,this._glyphMarginDecorationLaneCount),be=this._lineHeight.toString(),Ze='" style="width:'+Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount).toString()+"px;height:"+be+"px;",et=[];for(let it=o;it<=y;it++){const pt=it-o,Ft=G[pt];if(Ft.isEmpty())et[pt]="";else{let Ot="";for(let Xt=1;Xt<=this._glyphMarginDecorationLaneCount;Xt+=1){const ii=Ft.getLaneDecorations(Xt);if(ii.length===0)continue;ii.sort((xi,Zi)=>Zi.zIndex-xi.zIndex);const ri=ii[0],_i=[ri.className];for(let xi=1;xi<ii.length;xi+=1){const Zi=ii[xi];if(Zi.zIndex!==ri.zIndex)break;_i.push(Zi.className)}const Ti=(this._glyphMarginLeft+(Xt-1)*this._lineHeight).toString();Ot+='<div class="cgmr codicon '+_i.join(" ")+Ze+"left:"+Ti+'px;"></div>'}et[pt]=Ot}}this._renderResult=et}render(e,o){if(!this._renderResult)return"";const y=o-e;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}var di=t(14818),hi=t(32382),yi=t(79777);class Bi extends Yi{constructor(e){super(),this._context=e,this._primaryPosition=null;const o=this._context.configuration.options,y=o.get(141),W=o.get(48);this._lineHeight=o.get(64),this._spaceWidth=W.spaceWidth,this._maxIndentLeft=y.wrappingColumn===-1?-1:y.wrappingColumn*W.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(14),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,y=o.get(141),W=o.get(48);return this._lineHeight=o.get(64),this._spaceWidth=W.spaceWidth,this._maxIndentLeft=y.wrappingColumn===-1?-1:y.wrappingColumn*W.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(14),!0}onCursorStateChanged(e){var o;const W=e.selections[0].getPosition();return!((o=this._primaryPosition)===null||o===void 0)&&o.equals(W)?!1:(this._primaryPosition=W,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var o,y,W,G;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const be=e.visibleRange.startLineNumber,Oe=e.visibleRange.endLineNumber,Ze=e.scrollWidth,et=this._lineHeight,it=this._primaryPosition,pt=this.getGuidesByLine(be,Math.min(Oe+1,this._context.viewModel.getLineCount()),it),Ft=[];for(let Ot=be;Ot<=Oe;Ot++){const Xt=Ot-be,ii=pt[Xt];let ri="";const _i=(y=(o=e.visibleRangeForPosition(new ue.L(Ot,1)))===null||o===void 0?void 0:o.left)!==null&&y!==void 0?y:0;for(const Ti of ii){const xi=Ti.column===-1?_i+(Ti.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new ue.L(Ot,Ti.column)).left;if(xi>Ze||this._maxIndentLeft>0&&xi>this._maxIndentLeft)break;const Zi=Ti.horizontalLine?Ti.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Ki=Ti.horizontalLine?((G=(W=e.visibleRangeForPosition(new ue.L(Ot,Ti.horizontalLine.endColumn)))===null||W===void 0?void 0:W.left)!==null&&G!==void 0?G:xi+this._spaceWidth)-xi:this._spaceWidth;ri+=`<div class="core-guide ${Ti.className} ${Zi}" style="left:${xi}px;height:${et}px;width:${Ki}px"></div>`}Ft[Xt]=ri}this._renderResult=Ft}getGuidesByLine(e,o,y){const W=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,o,y,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?yi.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?yi.s6.EnabledForActive:yi.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,G=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,o):null;let be=0,Oe=0,Ze=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&y){const pt=this._context.viewModel.getActiveIndentGuide(y.lineNumber,e,o);be=pt.startLineNumber,Oe=pt.endLineNumber,Ze=pt.indent}const{indentSize:et}=this._context.viewModel.model.getOptions(),it=[];for(let pt=e;pt<=o;pt++){const Ft=new Array;it.push(Ft);const Ot=W?W[pt-e]:[],Xt=new d.H9(Ot),ii=G?G[pt-e]:0;for(let ri=1;ri<=ii;ri++){const _i=(ri-1)*et+1,Ti=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||Ot.length===0)&&be<=pt&&pt<=Oe&&ri===Ze;Ft.push(...Xt.takeWhile(Zi=>Zi.visibleColumn<_i)||[]);const xi=Xt.peek();(!xi||xi.visibleColumn!==_i||xi.horizontalLine)&&Ft.push(new yi.UO(_i,-1,Ti?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}Ft.push(...Xt.takeWhile(ri=>!0)||[])}return it}render(e,o){if(!this._renderResult)return"";const y=o-e;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}function ki(Et){if(!(Et&&Et.isTransparent()))return Et}(0,Pi.Ic)((Et,e)=>{const o=[{bracketColor:Li.zJ,guideColor:Li.oV,guideColorActive:Li.Qb},{bracketColor:Li.Vs,guideColor:Li.m$,guideColorActive:Li.m3},{bracketColor:Li.CE,guideColor:Li.DS,guideColorActive:Li.To},{bracketColor:Li.UP,guideColor:Li.lS,guideColorActive:Li.L7},{bracketColor:Li.r0,guideColor:Li.Jn,guideColorActive:Li.HV},{bracketColor:Li.m1,guideColor:Li.YF,guideColorActive:Li.f9}],y=new hi.W,W=o.map(G=>{var be,Oe;const Ze=Et.getColor(G.bracketColor),et=Et.getColor(G.guideColor),it=Et.getColor(G.guideColorActive),pt=ki((be=ki(et))!==null&&be!==void 0?be:Ze==null?void 0:Ze.transparent(.3)),Ft=ki((Oe=ki(it))!==null&&Oe!==void 0?Oe:Ze);if(!(!pt||!Ft))return{guideColor:pt,guideColorActive:Ft}}).filter(di.$K);if(W.length>0){for(let G=0;G<30;G++){const be=W[G%W.length];e.addRule(`.monaco-editor .${y.getInlineClassNameOfLevel(G).replace(/ /g,".")} { --guide-color: ${be.guideColor}; --guide-color-active: ${be.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${y.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${y.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${y.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});var Wi=t(13484);class Ri{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,o){this._domNode=e,this.endNode=o,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class Cn{constructor(){this._currentVisibleRange=new Pe.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class ts{constructor(e,o,y,W,G,be,Oe){this.minimalReveal=e,this.lineNumber=o,this.startColumn=y,this.endColumn=W,this.startScrollTop=G,this.stopScrollTop=be,this.scrollType=Oe,this.type="range",this.minLineNumber=o,this.maxLineNumber=o}}class Hn{constructor(e,o,y,W,G){this.minimalReveal=e,this.selections=o,this.startScrollTop=y,this.stopScrollTop=W,this.scrollType=G,this.type="selections";let be=o[0].startLineNumber,Oe=o[0].endLineNumber;for(let Ze=1,et=o.length;Ze<et;Ze++){const it=o[Ze];be=Math.min(be,it.startLineNumber),Oe=Math.max(Oe,it.endLineNumber)}this.minLineNumber=be,this.maxLineNumber=Oe}}class Ss extends pe{constructor(e,o){super(e),this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Zt(this),this.domNode=this._visibleLines.domNode;const y=this._context.configuration,W=this._context.configuration.options,G=W.get(48),be=W.get(141);this._lineHeight=W.get(64),this._typicalHalfwidthCharacterWidth=G.typicalHalfwidthCharacterWidth,this._isViewportWrapping=be.isViewportWrapping,this._revealHorizontalRightPadding=W.get(96),this._cursorSurroundingLines=W.get(27),this._cursorSurroundingLinesStyle=W.get(28),this._canUseLayerHinting=!W.get(30),this._viewLineOptions=new Ke(y,this._context.theme.type),le.write(this.domNode,7),this.domNode.setClassName(`view-lines ${ln.S}`),(0,Qi.N)(this.domNode,G),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Wi.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Wi.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Cn,this._horizontalRevealRequest=null,this._stickyScrollEnabled=W.get(111).enabled,this._maxNumberStickyLines=W.get(111).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new ze(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(141)&&(this._maxLineWidth=0);const o=this._context.configuration.options,y=o.get(48),W=o.get(141);return this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this._isViewportWrapping=W.isViewportWrapping,this._revealHorizontalRightPadding=o.get(96),this._cursorSurroundingLines=o.get(27),this._cursorSurroundingLinesStyle=o.get(28),this._canUseLayerHinting=!o.get(30),this._stickyScrollEnabled=o.get(111).enabled,this._maxNumberStickyLines=o.get(111).maxLineCount,(0,Qi.N)(this.domNode,y),this._onOptionsMaybeChanged(),e.hasChanged(140)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,o=new Ke(e,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const y=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();for(let G=y;G<=W;G++)this._visibleLines.getVisibleLine(G).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const o=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();let W=!1;for(let G=o;G<=y;G++)W=this._visibleLines.getVisibleLine(G).onSelectionChanged()||W;return W}onDecorationsChanged(e){{const o=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let W=o;W<=y;W++)this._visibleLines.getVisibleLine(W).onDecorationsChanged()}return!0}onFlushed(e){const o=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,o}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(o===-1)return!1;let y=this._context.viewLayout.validateScrollPosition({scrollTop:o});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?y={scrollTop:y.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new ts(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),y.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Hn(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),y.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const G=Math.abs(this._context.viewLayout.getCurrentScrollTop()-y.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(y,G),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),y=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<o||e.scrollTop>y)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,o){const y=this._getViewLineDomNode(e);if(y===null)return null;const W=this._getLineNumberFor(y);if(W===-1||W<1||W>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(W)===1)return new ue.L(W,1);const G=this._visibleLines.getStartLineNumber(),be=this._visibleLines.getEndLineNumber();if(W<G||W>be)return null;let Oe=this._visibleLines.getVisibleLine(W).getColumnOfNodeOffset(W,e,o);const Ze=this._context.viewModel.getLineMinColumn(W);return Oe<Ze&&(Oe=Ze),new ue.L(W,Oe)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===ze.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const o=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let W=o;W<=y;W++){const G=this._visibleLines.getVisibleLine(W);if(e===G.getDomNode())return W}return-1}getLineWidth(e){const o=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();if(e<o||e>y)return-1;const W=new Ri(this.domNode.domNode,this._textRangeRestingSpot),G=this._visibleLines.getVisibleLine(e).getWidth(W);return this._updateLineWidthsSlowIfDomDidLayout(W),G}linesVisibleRangesForRange(e,o){if(this.shouldRender())return null;const y=e.endLineNumber,W=Pe.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!W)return null;const G=[];let be=0;const Oe=new Ri(this.domNode.domNode,this._textRangeRestingSpot);let Ze=0;o&&(Ze=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(W.startLineNumber,1)).lineNumber);const et=this._visibleLines.getStartLineNumber(),it=this._visibleLines.getEndLineNumber();for(let pt=W.startLineNumber;pt<=W.endLineNumber;pt++){if(pt<et||pt>it)continue;const Ft=pt===W.startLineNumber?W.startColumn:1,Ot=pt===W.endLineNumber?W.endColumn:this._context.viewModel.getLineMaxColumn(pt),Xt=this._visibleLines.getVisibleLine(pt).getVisibleRangesForRange(pt,Ft,Ot,Oe);if(Xt){if(o&&pt<y){const ii=Ze;Ze=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(pt+1,1)).lineNumber,ii!==Ze&&(Xt.ranges[Xt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}G[be++]=new je(Xt.outsideRenderedLine,pt,Xe.from(Xt.ranges))}}return this._updateLineWidthsSlowIfDomDidLayout(Oe),be===0?null:G}_visibleRangesForLineRange(e,o,y){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const W=new Ri(this.domNode.domNode,this._textRangeRestingSpot),G=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,o,y,W);return this._updateLineWidthsSlowIfDomDidLayout(W),G}visibleRangeForPosition(e){const o=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return o?new se(o.outsideRenderedLine,o.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const o=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();let W=1,G=!0;for(let be=o;be<=y;be++){const Oe=this._visibleLines.getVisibleLine(be);if(e&&!Oe.getWidthIsFast()){G=!1;continue}W=Math.max(W,Oe.getWidth(null))}return G&&o===1&&y===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(W),G}_checkMonospaceFontAssumptions(){let e=-1,o=-1;const y=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();for(let G=y;G<=W;G++){const be=this._visibleLines.getVisibleLine(G);if(be.needsMonospaceFontCheck()){const Oe=be.getWidth(null);Oe>o&&(o=Oe,e=G)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let G=y;G<=W;G++)this._visibleLines.getVisibleLine(G).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const y=this._horizontalRevealRequest;if(e.startLineNumber<=y.minLineNumber&&y.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const W=this._computeScrollLeftToReveal(y);W&&(this._isViewportWrapping||this._ensureMaxLineWidth(W.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:W.scrollLeft},y.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),s.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const y=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();for(let G=y;G<=W;G++)if(this._visibleLines.getVisibleLine(G).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const o=Math.ceil(e);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,o,y,W,G,be){const Oe=e.top,Ze=e.height,et=Oe+Ze;let it,pt,Ft;if(G&&G.length>0){let _i=G[0].startLineNumber,Ti=G[0].endLineNumber;for(let xi=1,Zi=G.length;xi<Zi;xi++){const Ki=G[xi];_i=Math.min(_i,Ki.startLineNumber),Ti=Math.max(Ti,Ki.endLineNumber)}it=!1,pt=this._context.viewLayout.getVerticalOffsetForLineNumber(_i),Ft=this._context.viewLayout.getVerticalOffsetForLineNumber(Ti)+this._lineHeight}else if(W)it=!0,pt=this._context.viewLayout.getVerticalOffsetForLineNumber(W.startLineNumber),Ft=this._context.viewLayout.getVerticalOffsetForLineNumber(W.endLineNumber)+this._lineHeight;else return-1;const Ot=(o==="mouse"||y)&&this._cursorSurroundingLinesStyle==="default";let Xt=0,ii=0;if(Ot)y||(Xt=this._lineHeight);else{const _i=Math.min(Ze/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?Xt=Math.max(_i,this._maxNumberStickyLines)*this._lineHeight:Xt=_i*this._lineHeight,ii=Math.max(0,_i-1)*this._lineHeight}y||(be===0||be===4)&&(ii+=this._lineHeight),pt-=Xt,Ft+=ii;let ri;if(Ft-pt>Ze){if(!it)return-1;ri=pt}else if(be===5||be===6)if(be===6&&Oe<=pt&&Ft<=et)ri=Oe;else{const _i=Math.max(5*this._lineHeight,Ze*.2),Ti=pt-_i,xi=Ft-Ze;ri=Math.max(xi,Ti)}else if(be===1||be===2)if(be===2&&Oe<=pt&&Ft<=et)ri=Oe;else{const _i=(pt+Ft)/2;ri=Math.max(0,_i-Ze/2)}else ri=this._computeMinimumScrolling(Oe,et,pt,Ft,be===3,be===4);return ri}_computeScrollLeftToReveal(e){const o=this._context.viewLayout.getCurrentViewport(),y=this._context.configuration.options.get(140),W=o.left,G=W+o.width-y.verticalScrollbarWidth;let be=1073741824,Oe=0;if(e.type==="range"){const et=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!et)return null;for(const it of et.ranges)be=Math.min(be,Math.round(it.left)),Oe=Math.max(Oe,Math.round(it.left+it.width))}else for(const et of e.selections){if(et.startLineNumber!==et.endLineNumber)return null;const it=this._visibleRangesForLineRange(et.startLineNumber,et.startColumn,et.endColumn);if(!it)return null;for(const pt of it.ranges)be=Math.min(be,Math.round(pt.left)),Oe=Math.max(Oe,Math.round(pt.left+pt.width))}return e.minimalReveal||(be=Math.max(0,be-Ss.HORIZONTAL_EXTRA_PX),Oe+=this._revealHorizontalRightPadding),e.type==="selections"&&Oe-be>o.width?null:{scrollLeft:this._computeMinimumScrolling(W,G,be,Oe),maxHorizontalOffset:Oe}}_computeMinimumScrolling(e,o,y,W,G,be){e=e|0,o=o|0,y=y|0,W=W|0,G=!!G,be=!!be;const Oe=o-e;if(W-y<Oe){if(G)return y;if(be)return Math.max(0,W-Oe);if(y<e)return y;if(W>o)return Math.max(0,W-Oe)}else return y;return e}}Ss.HORIZONTAL_EXTRA_PX=30;class mn extends ei{constructor(e){super(),this._context=e;const y=this._context.configuration.options.get(140);this._decorationsLeft=y.decorationsLeft,this._decorationsWidth=y.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const y=this._context.configuration.options.get(140);return this._decorationsLeft=y.decorationsLeft,this._decorationsWidth=y.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),y=[];let W=0;for(let G=0,be=o.length;G<be;G++){const Oe=o[G],Ze=Oe.options.linesDecorationsClassName,et=Oe.options.zIndex;Ze&&(y[W++]=new wt(Oe.range.startLineNumber,Oe.range.endLineNumber,Ze,et));const it=Oe.options.firstLineDecorationClassName;it&&(y[W++]=new wt(Oe.range.startLineNumber,Oe.range.startLineNumber,it,et))}return y}prepareRender(e){const o=e.visibleRange.startLineNumber,y=e.visibleRange.endLineNumber,W=this._render(o,y,this._getDecorations(e),1),G=this._decorationsLeft.toString(),be=this._decorationsWidth.toString(),Oe='" style="left:'+G+"px;width:"+be+'px;"></div>',Ze=[];for(let et=o;et<=y;et++){const it=et-o,pt=W[it].getLaneDecorations(1);let Ft="";for(const Ot of pt)Ft+='<div class="cldr '+Ot.className+Oe;Ze[it]=Ft}this._renderResult=Ze}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}class wi extends ei{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),y=[];let W=0;for(let G=0,be=o.length;G<be;G++){const Oe=o[G],Ze=Oe.options.marginClassName,et=Oe.options.zIndex;Ze&&(y[W++]=new wt(Oe.range.startLineNumber,Oe.range.endLineNumber,Ze,et))}return y}prepareRender(e){const o=e.visibleRange.startLineNumber,y=e.visibleRange.endLineNumber,W=this._render(o,y,this._getDecorations(e),1),G=[];for(let be=o;be<=y;be++){const Oe=be-o,Ze=W[Oe].getLaneDecorations(1);let et="";for(const it of Ze)et+='<div class="cmdr '+it.className+'" style=""></div>';G[Oe]=et}this._renderResult=G}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}var Fi=t(97314);class rn{constructor(e,o,y,W){this._rgba8Brand=void 0,this.r=rn._clamp(e),this.g=rn._clamp(o),this.b=rn._clamp(y),this.a=rn._clamp(W)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}rn.Empty=new rn(0,0,0,0);class jn extends g.JT{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,g.dk)(new jn)),this._INSTANCE}constructor(){super(),this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Yt.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=Yt.RW.getColorMap();if(!e){this._colors=[rn.Empty],this._backgroundIsLight=!0;return}this._colors=[rn.Empty];for(let y=1;y<e.length;y++){const W=e[y].rgba;this._colors[y]=new rn(W.r,W.g,W.b,Math.round(W.a*255))}const o=e[2].getRelativeLuminance();this._backgroundIsLight=o>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}jn._INSTANCE=null;var ns=t(71278),ys=t(92537);const Ms=(()=>{const Et=[];for(let e=32;e<=126;e++)Et.push(e);return Et.push(65533),Et})(),ws=(Et,e)=>(Et-=32,Et<0||Et>96?e<=2?(Et+96)%96:96-1:Et);var Mn=t(79886);class Ds{constructor(e,o){this.scale=o,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ds.soften(e,12/15),this.charDataLight=Ds.soften(e,50/60)}static soften(e,o){const y=new Uint8ClampedArray(e.length);for(let W=0,G=e.length;W<G;W++)y[W]=(0,Mn.K)(e[W]*o);return y}renderChar(e,o,y,W,G,be,Oe,Ze,et,it,pt){const Ft=1*this.scale,Ot=2*this.scale,Xt=pt?1:Ot;if(o+Ft>e.width||y+Xt>e.height){console.warn("bad render request outside image data");return}const ii=it?this.charDataLight:this.charDataNormal,ri=ws(W,et),_i=e.width*4,Ti=Oe.r,xi=Oe.g,Zi=Oe.b,Ki=G.r-Ti,un=G.g-xi,dn=G.b-Zi,hn=Math.max(be,Ze),Ui=e.data;let Sn=ri*Ft*Ot,On=y*_i+o*4;for(let xn=0;xn<Xt;xn++){let Dn=On;for(let _s=0;_s<Ft;_s++){const ds=ii[Sn++]/255*(be/255);Ui[Dn++]=Ti+Ki*ds,Ui[Dn++]=xi+un*ds,Ui[Dn++]=Zi+dn*ds,Ui[Dn++]=hn}On+=_i}}blockRenderChar(e,o,y,W,G,be,Oe,Ze){const et=1*this.scale,it=2*this.scale,pt=Ze?1:it;if(o+et>e.width||y+pt>e.height){console.warn("bad render request outside image data");return}const Ft=e.width*4,Ot=.5*(G/255),Xt=be.r,ii=be.g,ri=be.b,_i=W.r-Xt,Ti=W.g-ii,xi=W.b-ri,Zi=Xt+_i*Ot,Ki=ii+Ti*Ot,un=ri+xi*Ot,dn=Math.max(G,Oe),hn=e.data;let Ui=y*Ft+o*4;for(let Sn=0;Sn<pt;Sn++){let On=Ui;for(let xn=0;xn<et;xn++)hn[On++]=Zi,hn[On++]=Ki,hn[On++]=un,hn[On++]=dn;Ui+=Ft}}}var oo=t(89717);const Eo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},To=Et=>{const e=new Uint8ClampedArray(Et.length/2);for(let o=0;o<Et.length;o+=2)e[o>>1]=Eo[Et[o]]<<4|Eo[Et[o+1]]&15;return e},Xs={1:(0,oo.I)(()=>To("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,oo.I)(()=>To("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Ws{static create(e,o){if(this.lastCreated&&e===this.lastCreated.scale&&o===this.lastFontFamily)return this.lastCreated;let y;return Xs[e]?y=new Ds(Xs[e](),e):y=Ws.createFromSampleData(Ws.createSampleData(o).data,e),this.lastFontFamily=o,this.lastCreated=y,y}static createSampleData(e){const o=document.createElement("canvas"),y=o.getContext("2d");o.style.height="16px",o.height=16,o.width=96*10,o.style.width=96*10+"px",y.fillStyle="#ffffff",y.font=`bold 16px ${e}`,y.textBaseline="middle";let W=0;for(const G of Ms)y.fillText(String.fromCharCode(G),W,16/2),W+=10;return y.getImageData(0,0,96*10,16)}static createFromSampleData(e,o){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const W=Ws._downsample(e,o);return new Ds(W,o)}static _downsampleChar(e,o,y,W,G){const be=1*G,Oe=2*G;let Ze=W,et=0;for(let it=0;it<Oe;it++){const pt=it/Oe*16,Ft=(it+1)/Oe*16;for(let Ot=0;Ot<be;Ot++){const Xt=Ot/be*10,ii=(Ot+1)/be*10;let ri=0,_i=0;for(let xi=pt;xi<Ft;xi++){const Zi=o+Math.floor(xi)*3840,Ki=1-(xi-Math.floor(xi));for(let un=Xt;un<ii;un++){const dn=1-(un-Math.floor(un)),hn=Zi+Math.floor(un)*4,Ui=dn*Ki;_i+=Ui,ri+=e[hn]*e[hn+3]/255*Ui}}const Ti=ri/_i;et=Math.max(et,Ti),y[Ze++]=(0,Mn.K)(Ti)}}return et}static _downsample(e,o){const y=2*o*1*o,W=y*96,G=new Uint8ClampedArray(W);let be=0,Oe=0,Ze=0;for(let et=0;et<96;et++)Ze=Math.max(Ze,this._downsampleChar(e,Oe,G,be,o)),be+=y,Oe+=10*4;if(Ze>0){const et=255/Ze;for(let it=0;it<W;it++)G[it]*=et}return G}}var Es=t(41913);const Vs=140,yo=2;class $t{constructor(e,o,y){const W=e.options,G=W.get(138),be=W.get(140),Oe=be.minimap,Ze=W.get(48),et=W.get(70);this.renderMinimap=Oe.renderMinimap,this.size=et.size,this.minimapHeightIsEditorHeight=Oe.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=W.get(101),this.paddingTop=W.get(81).top,this.paddingBottom=W.get(81).bottom,this.showSlider=et.showSlider,this.autohide=et.autohide,this.pixelRatio=G,this.typicalHalfwidthCharacterWidth=Ze.typicalHalfwidthCharacterWidth,this.lineHeight=W.get(64),this.minimapLeft=Oe.minimapLeft,this.minimapWidth=Oe.minimapWidth,this.minimapHeight=be.height,this.canvasInnerWidth=Oe.minimapCanvasInnerWidth,this.canvasInnerHeight=Oe.minimapCanvasInnerHeight,this.canvasOuterWidth=Oe.minimapCanvasOuterWidth,this.canvasOuterHeight=Oe.minimapCanvasOuterHeight,this.isSampling=Oe.minimapIsSampling,this.editorHeight=be.height,this.fontScale=Oe.minimapScale,this.minimapLineHeight=Oe.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,oo.I)(()=>Ws.create(this.fontScale,Ze.fontFamily)),this.defaultBackgroundColor=y.getColor(2),this.backgroundColor=$t._getMinimapBackground(o,this.defaultBackgroundColor),this.foregroundAlpha=$t._getMinimapForegroundOpacity(o)}static _getMinimapBackground(e,o){const y=e.getColor(ys.kVY);return y?new rn(y.rgba.r,y.rgba.g,y.rgba.b,Math.round(255*y.rgba.a)):o}static _getMinimapForegroundOpacity(e){const o=e.getColor(ys.Itd);return o?rn._clamp(Math.round(255*o.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class re{constructor(e,o,y,W,G,be,Oe,Ze,et){this.scrollTop=e,this.scrollHeight=o,this.sliderNeeded=y,this._computedSliderRatio=W,this.sliderTop=G,this.sliderHeight=be,this.topPaddingLineCount=Oe,this.startLineNumber=Ze,this.endLineNumber=et}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const o=Math.max(this.startLineNumber,e.startLineNumber),y=Math.min(this.endLineNumber,e.endLineNumber);return o>y?null:[o,y]}getYForLineNumber(e,o){return+(e-this.startLineNumber+this.topPaddingLineCount)*o}static create(e,o,y,W,G,be,Oe,Ze,et,it,pt){const Ft=e.pixelRatio,Ot=e.minimapLineHeight,Xt=Math.floor(e.canvasInnerHeight/Ot),ii=e.lineHeight;if(e.minimapHeightIsEditorHeight){let un=Ze*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(un+=Math.max(0,G-e.lineHeight-e.paddingBottom));const dn=Math.max(1,Math.floor(G*G/un)),hn=Math.max(0,e.minimapHeight-dn),Ui=hn/(it-G),Sn=et*Ui,On=hn>0,xn=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),Dn=Math.floor(e.paddingTop/e.lineHeight);return new re(et,it,On,Ui,Sn,dn,Dn,1,Math.min(Oe,xn))}let ri;if(be&&y!==Oe){const un=y-o+1;ri=Math.floor(un*Ot/Ft)}else{const un=G/ii;ri=Math.floor(un*Ot/Ft)}const _i=Math.floor(e.paddingTop/ii);let Ti=Math.floor(e.paddingBottom/ii);if(e.scrollBeyondLastLine){const un=G/ii;Ti=Math.max(Ti,un-1)}let xi;if(Ti>0){const un=G/ii;xi=(_i+Oe+Ti-un-1)*Ot/Ft}else xi=Math.max(0,(_i+Oe)*Ot/Ft-ri);xi=Math.min(e.minimapHeight-ri,xi);const Zi=xi/(it-G),Ki=et*Zi;if(Xt>=_i+Oe+Ti){const un=xi>0;return new re(et,it,un,Zi,Ki,ri,_i,1,Oe)}else{let un;o>1?un=o+_i:un=Math.max(1,et/ii);let dn,hn=Math.max(1,Math.floor(un-Ki*Ft/Ot));hn<_i?(dn=_i-hn+1,hn=1):(dn=0,hn=Math.max(1,hn-_i)),pt&&pt.scrollHeight===it&&(pt.scrollTop>et&&(hn=Math.min(hn,pt.startLineNumber),dn=Math.max(dn,pt.topPaddingLineCount)),pt.scrollTop<et&&(hn=Math.max(hn,pt.startLineNumber),dn=Math.min(dn,pt.topPaddingLineCount)));const Ui=Math.min(Oe,hn-dn+Xt-1),Sn=(et-W)/ii;let On;return et>e.paddingTop?On=(o-hn+dn+Sn)*Ot/Ft:On=et/e.paddingTop*(dn+Sn)*Ot/Ft,new re(et,it,!0,Zi,On,ri,dn,hn,Ui)}}}class ke{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}ke.INVALID=new ke(-1);class lt{constructor(e,o,y){this.renderedLayout=e,this._imageData=o,this._renderedLines=new ai(()=>ke.INVALID),this._renderedLines._set(e.startLineNumber,y)}linesEquals(e){if(!this.scrollEquals(e))return!1;const y=this._renderedLines._get().lines;for(let W=0,G=y.length;W<G;W++)if(y[W].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,o){return this._renderedLines.onLinesChanged(e,o)}onLinesDeleted(e,o){this._renderedLines.onLinesDeleted(e,o)}onLinesInserted(e,o){this._renderedLines.onLinesInserted(e,o)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class Ge{constructor(e,o,y,W){this._backgroundFillData=Ge._createBackgroundFillData(o,y,W),this._buffers=[e.createImageData(o,y),e.createImageData(o,y)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,o,y){const W=y.r,G=y.g,be=y.b,Oe=y.a,Ze=new Uint8ClampedArray(e*o*4);let et=0;for(let it=0;it<o;it++)for(let pt=0;pt<e;pt++)Ze[et]=W,Ze[et+1]=G,Ze[et+2]=be,Ze[et+3]=Oe,et+=4;return Ze}}class w{static compute(e,o,y){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:W}=M.gk.computeContainedMinimapLineCount({viewLineCount:o,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),G=o/W,be=G/2;if(!y||y.minimapLines.length===0){const ri=[];if(ri[0]=1,W>1){for(let _i=0,Ti=W-1;_i<Ti;_i++)ri[_i]=Math.round(_i*G+be);ri[W-1]=o}return[new w(G,ri),[]]}const Oe=y.minimapLines,Ze=Oe.length,et=[];let it=0,pt=0,Ft=1;const Ot=10;let Xt=[],ii=null;for(let ri=0;ri<W;ri++){const _i=Math.max(Ft,Math.round(ri*G)),Ti=Math.max(_i,Math.round((ri+1)*G));for(;it<Ze&&Oe[it]<_i;){if(Xt.length<Ot){const Zi=it+1+pt;ii&&ii.type==="deleted"&&ii._oldIndex===it-1?ii.deleteToLineNumber++:(ii={type:"deleted",_oldIndex:it,deleteFromLineNumber:Zi,deleteToLineNumber:Zi},Xt.push(ii)),pt--}it++}let xi;if(it<Ze&&Oe[it]<=Ti)xi=Oe[it],it++;else if(ri===0?xi=1:ri+1===W?xi=o:xi=Math.round(ri*G+be),Xt.length<Ot){const Zi=it+1+pt;ii&&ii.type==="inserted"&&ii._i===ri-1?ii.insertToLineNumber++:(ii={type:"inserted",_i:ri,insertFromLineNumber:Zi,insertToLineNumber:Zi},Xt.push(ii)),pt++}et[ri]=xi,Ft=xi}if(Xt.length<Ot)for(;it<Ze;){const ri=it+1+pt;ii&&ii.type==="deleted"&&ii._oldIndex===it-1?ii.deleteToLineNumber++:(ii={type:"deleted",_oldIndex:it,deleteFromLineNumber:ri,deleteToLineNumber:ri},Xt.push(ii)),pt--,it++}else Xt=[{type:"flush"}];return[new w(G,et),Xt]}constructor(e,o){this.samplingRatio=e,this.minimapLines=o}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,o){let y=this.modelLineToMinimapLine(e)-1;for(;y>0&&this.minimapLines[y-1]>=e;)y--;let W=this.modelLineToMinimapLine(o)-1;for(;W+1<this.minimapLines.length&&this.minimapLines[W+1]<=o;)W++;if(y===W){const G=this.minimapLines[y];if(G<e||G>o)return null}return[y+1,W+1]}decorationLineRangeToMinimapLineRange(e,o){let y=this.modelLineToMinimapLine(e),W=this.modelLineToMinimapLine(o);return e!==o&&W===y&&(W===this.minimapLines.length?y>1&&y--:W++),[y,W]}onLinesDeleted(e){const o=e.toLineNumber-e.fromLineNumber+1;let y=this.minimapLines.length,W=0;for(let G=this.minimapLines.length-1;G>=0&&!(this.minimapLines[G]<e.fromLineNumber);G--)this.minimapLines[G]<=e.toLineNumber?(this.minimapLines[G]=Math.max(1,e.fromLineNumber-1),y=Math.min(y,G),W=Math.max(W,G)):this.minimapLines[G]-=o;return[y,W]}onLinesInserted(e){const o=e.toLineNumber-e.fromLineNumber+1;for(let y=this.minimapLines.length-1;y>=0&&!(this.minimapLines[y]<e.fromLineNumber);y--)this.minimapLines[y]+=o}}class H extends pe{constructor(e){super(e),this.tokensColorTracker=jn.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new $t(this._context.configuration,this._context.theme,this.tokensColorTracker);const[o]=w.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=o,this._shouldCheckSampling=!1,this._actual=new ie(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new $t(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const o=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return o?this._actual.onLinesChanged(o[0],o[1]-o[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[o,y]=this._samplingState.onLinesDeleted(e);return o<=y&&this._actual.onLinesChanged(o+1,y-o+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const o=[];for(const y of e.ranges){const W=this._samplingState.modelLineRangeToMinimapLineRange(y.fromLineNumber,y.toLineNumber);W&&o.push({fromLineNumber:W[0],toLineNumber:W[1]})}return o.length?this._actual.onTokensChanged(o):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let o=e.visibleRange.startLineNumber,y=e.visibleRange.endLineNumber;this._samplingState&&(o=this._samplingState.modelLineToMinimapLine(o),y=this._samplingState.modelLineToMinimapLine(y));const W={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:o,viewportEndLineNumber:y,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(o),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(W)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[o,y]=w.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=o,e&&this._samplingState)for(const W of y)switch(W.type){case"deleted":this._actual.onLinesDeleted(W.deleteFromLineNumber,W.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(W.insertFromLineNumber,W.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,o,y){if(this._samplingState){const W=[];for(let G=0,be=o-e+1;G<be;G++)y[G]?W[G]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+G-1]):W[G]=null;return W}return this._context.viewModel.getMinimapLinesRenderingData(e,o,y).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[o,y]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Z.Y(o,e.startColumn,y,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,o){let y;if(this._samplingState){const G=this._samplingState.minimapLines[e-1],be=this._samplingState.minimapLines[o-1];y=new Pe.e(G,1,be,this._context.viewModel.getLineMaxColumn(be))}else y=new Pe.e(e,1,o,this._context.viewModel.getLineMaxColumn(o));const W=this._context.viewModel.getMinimapDecorationsInRange(y);if(this._samplingState){const G=[];for(const be of W){if(!be.options.minimap)continue;const Oe=be.range,Ze=this._samplingState.modelLineToMinimapLine(Oe.startLineNumber),et=this._samplingState.modelLineToMinimapLine(Oe.endLineNumber);G.push(new ns.$l(new Pe.e(Ze,Oe.startColumn,et,Oe.endColumn),be.options))}return G}return W}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new Pe.e(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class ie extends g.JT{constructor(e,o){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=o,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(ys.ov3),this._domNode=(0,fe.X)(document.createElement("div")),le.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,fe.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,fe.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,fe.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,fe.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,fe.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=I.mu(this._domNode.domNode,I.tw.POINTER_DOWN,y=>{if(y.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(y.button===0&&this._lastRenderData){const et=I.i(this._slider.domNode),it=et.top+et.height/2;this._startSliderDragging(y,it,this._lastRenderData.renderedLayout)}return}const G=this._model.options.minimapLineHeight,be=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*y.offsetY;let Ze=Math.floor(be/G)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;Ze=Math.min(Ze,this._model.getLineCount()),this._model.revealLineNumber(Ze)}),this._sliderPointerMoveMonitor=new Fi.C,this._sliderPointerDownListener=I.mu(this._slider.domNode,I.tw.POINTER_DOWN,y=>{y.preventDefault(),y.stopPropagation(),y.button===0&&this._lastRenderData&&this._startSliderDragging(y,y.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=T.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=I.nm(this._domNode.domNode,T.t.Start,y=>{y.preventDefault(),y.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(y))},{passive:!1}),this._sliderTouchMoveListener=I.nm(this._domNode.domNode,T.t.Change,y=>{y.preventDefault(),y.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(y)},{passive:!1}),this._sliderTouchEndListener=I.mu(this._domNode.domNode,T.t.End,y=>{y.preventDefault(),y.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,o,y){if(!e.target||!(e.target instanceof Element))return;const W=e.pageX;this._slider.toggleClassName("active",!0);const G=(be,Oe)=>{const Ze=I.i(this._domNode.domNode),et=Math.min(Math.abs(Oe-W),Math.abs(Oe-Ze.left),Math.abs(Oe-Ze.left-Ze.width));if(s.ED&&et>Vs){this._model.setScrollTop(y.scrollTop);return}const it=be-o;this._model.setScrollTop(y.getDesiredScrollTopFromDelta(it))};e.pageY!==o&&G(e.pageY,W),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,be=>G(be.pageY,be.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const o=this._domNode.domNode.getBoundingClientRect().top,y=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-o);this._model.setScrollTop(y)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Ge(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,o){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,o):!1}onLinesDeleted(e,o){var y;return(y=this._lastRenderData)===null||y===void 0||y.onLinesDeleted(e,o),!0}onLinesInserted(e,o){var y;return(y=this._lastRenderData)===null||y===void 0||y.onLinesInserted(e,o),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(ys.ov3),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const y=re.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(y.sliderNeeded?"block":"none"),this._slider.setTop(y.sliderTop),this._slider.setHeight(y.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(y.sliderHeight),this.renderDecorations(y),this._lastRenderData=this.renderLines(y)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const o=this._model.getSelections();o.sort(Pe.e.compareRangesUsingStarts);const y=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);y.sort((Ft,Ot)=>(Ft.options.zIndex||0)-(Ot.options.zIndex||0));const{canvasInnerWidth:W,canvasInnerHeight:G}=this._model.options,be=this._model.options.minimapLineHeight,Oe=this._model.options.minimapCharWidth,Ze=this._model.getOptions().tabSize,et=this._decorationsCanvas.domNode.getContext("2d");et.clearRect(0,0,W,G);const it=new De(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(et,o,it,e,be),this._renderDecorationsLineHighlights(et,y,it,e,be);const pt=new De(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(et,o,pt,e,be,Ze,Oe,W),this._renderDecorationsHighlights(et,y,pt,e,be,Ze,Oe,W)}}_renderSelectionLineHighlights(e,o,y,W,G){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let be=0,Oe=0;for(const Ze of o){const et=W.intersectWithViewport(Ze);if(!et)continue;const[it,pt]=et;for(let Xt=it;Xt<=pt;Xt++)y.set(Xt,!0);const Ft=W.getYForLineNumber(it,G),Ot=W.getYForLineNumber(pt,G);Oe>=Ft||(Oe>be&&e.fillRect(M.y0,be,e.canvas.width,Oe-be),be=Ft),Oe=Ot}Oe>be&&e.fillRect(M.y0,be,e.canvas.width,Oe-be)}_renderDecorationsLineHighlights(e,o,y,W,G){const be=new Map;for(let Oe=o.length-1;Oe>=0;Oe--){const Ze=o[Oe],et=Ze.options.minimap;if(!et||et.position!==Es.F5.Inline)continue;const it=W.intersectWithViewport(Ze.range);if(!it)continue;const[pt,Ft]=it,Ot=et.getColor(this._theme.value);if(!Ot||Ot.isTransparent())continue;let Xt=be.get(Ot.toString());Xt||(Xt=Ot.transparent(.5).toString(),be.set(Ot.toString(),Xt)),e.fillStyle=Xt;for(let ii=pt;ii<=Ft;ii++){if(y.has(ii))continue;y.set(ii,!0);const ri=W.getYForLineNumber(pt,G);e.fillRect(M.y0,ri,e.canvas.width,G)}}}_renderSelectionsHighlights(e,o,y,W,G,be,Oe,Ze){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const et of o){const it=W.intersectWithViewport(et);if(!it)continue;const[pt,Ft]=it;for(let Ot=pt;Ot<=Ft;Ot++)this.renderDecorationOnLine(e,y,et,this._selectionColor,W,Ot,G,G,be,Oe,Ze)}}_renderDecorationsHighlights(e,o,y,W,G,be,Oe,Ze){for(const et of o){const it=et.options.minimap;if(!it)continue;const pt=W.intersectWithViewport(et.range);if(!pt)continue;const[Ft,Ot]=pt,Xt=it.getColor(this._theme.value);if(!(!Xt||Xt.isTransparent()))for(let ii=Ft;ii<=Ot;ii++)switch(it.position){case Es.F5.Inline:this.renderDecorationOnLine(e,y,et.range,Xt,W,ii,G,G,be,Oe,Ze);continue;case Es.F5.Gutter:{const ri=W.getYForLineNumber(ii,G),_i=2;this.renderDecoration(e,Xt,_i,ri,yo,G);continue}}}}renderDecorationOnLine(e,o,y,W,G,be,Oe,Ze,et,it,pt){const Ft=G.getYForLineNumber(be,Ze);if(Ft+Oe<0||Ft>this._model.options.canvasInnerHeight)return;const{startLineNumber:Ot,endLineNumber:Xt}=y,ii=Ot===be?y.startColumn:1,ri=Xt===be?y.endColumn:this._model.getLineMaxColumn(be),_i=this.getXOffsetForPosition(o,be,ii,et,it,pt),Ti=this.getXOffsetForPosition(o,be,ri,et,it,pt);this.renderDecoration(e,W,_i,Ft,Ti-_i,Oe)}getXOffsetForPosition(e,o,y,W,G,be){if(y===1)return M.y0;if((y-1)*G>=be)return be;let Ze=e.get(o);if(!Ze){const et=this._model.getLineContent(o);Ze=[M.y0];let it=M.y0;for(let pt=1;pt<et.length+1;pt++){const Ft=et.charCodeAt(pt-1),Ot=Ft===9?W*G:Vi.K7(Ft)?2*G:G,Xt=it+Ot;if(Xt>=be){Ze[pt]=be;break}Ze[pt]=Xt,it=Xt}e.set(o,Ze)}return y-1<Ze.length?Ze[y-1]:be}renderDecoration(e,o,y,W,G,be){e.fillStyle=o&&o.toString()||"",e.fillRect(y,W,G,be)}renderLines(e){const o=e.startLineNumber,y=e.endLineNumber,W=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const ds=this._lastRenderData._get();return new lt(e,ds.imageData,ds.lines)}const G=this._getBuffer();if(!G)return null;const[be,Oe,Ze]=ie._renderUntouchedLines(G,e.topPaddingLineCount,o,y,W,this._lastRenderData),et=this._model.getMinimapLinesRenderingData(o,y,Ze),it=this._model.getOptions().tabSize,pt=this._model.options.defaultBackgroundColor,Ft=this._model.options.backgroundColor,Ot=this._model.options.foregroundAlpha,Xt=this._model.tokensColorTracker,ii=Xt.backgroundIsLight(),ri=this._model.options.renderMinimap,_i=this._model.options.charRenderer(),Ti=this._model.options.fontScale,xi=this._model.options.minimapCharWidth,Ki=(ri===1?2:2+1)*Ti,un=W>Ki?Math.floor((W-Ki)/2):0,dn=Ft.a/255,hn=new rn(Math.round((Ft.r-pt.r)*dn+pt.r),Math.round((Ft.g-pt.g)*dn+pt.g),Math.round((Ft.b-pt.b)*dn+pt.b),255);let Ui=e.topPaddingLineCount*W;const Sn=[];for(let ds=0,Cs=y-o+1;ds<Cs;ds++)Ze[ds]&&ie._renderLine(G,hn,Ft.a,ii,ri,xi,Xt,Ot,_i,Ui,un,it,et[ds],Ti,W),Sn[ds]=new ke(Ui),Ui+=W;const On=be===-1?0:be,Dn=(Oe===-1?G.height:Oe)-On;return this._canvas.domNode.getContext("2d").putImageData(G,0,0,0,On,G.width,Dn),new lt(e,G,Sn)}static _renderUntouchedLines(e,o,y,W,G,be){const Oe=[];if(!be){for(let Ui=0,Sn=W-y+1;Ui<Sn;Ui++)Oe[Ui]=!0;return[-1,-1,Oe]}const Ze=be._get(),et=Ze.imageData.data,it=Ze.rendLineNumberStart,pt=Ze.lines,Ft=pt.length,Ot=e.width,Xt=e.data,ii=(W-y+1)*G*Ot*4;let ri=-1,_i=-1,Ti=-1,xi=-1,Zi=-1,Ki=-1,un=o*G;for(let Ui=y;Ui<=W;Ui++){const Sn=Ui-y,On=Ui-it,xn=On>=0&&On<Ft?pt[On].dy:-1;if(xn===-1){Oe[Sn]=!0,un+=G;continue}const Dn=xn*Ot*4,_s=(xn+G)*Ot*4,ds=un*Ot*4,Cs=(un+G)*Ot*4;xi===Dn&&Ki===ds?(xi=_s,Ki=Cs):(Ti!==-1&&(Xt.set(et.subarray(Ti,xi),Zi),ri===-1&&Ti===0&&Ti===Zi&&(ri=xi),_i===-1&&xi===ii&&Ti===Zi&&(_i=Ti)),Ti=Dn,xi=_s,Zi=ds,Ki=Cs),Oe[Sn]=!1,un+=G}Ti!==-1&&(Xt.set(et.subarray(Ti,xi),Zi),ri===-1&&Ti===0&&Ti===Zi&&(ri=xi),_i===-1&&xi===ii&&Ti===Zi&&(_i=Ti));const dn=ri===-1?-1:ri/(Ot*4),hn=_i===-1?-1:_i/(Ot*4);return[dn,hn,Oe]}static _renderLine(e,o,y,W,G,be,Oe,Ze,et,it,pt,Ft,Ot,Xt,ii){const ri=Ot.content,_i=Ot.tokens,Ti=e.width-be,xi=ii===1;let Zi=M.y0,Ki=0,un=0;for(let dn=0,hn=_i.getCount();dn<hn;dn++){const Ui=_i.getEndOffset(dn),Sn=_i.getForeground(dn),On=Oe.getColor(Sn);for(;Ki<Ui;Ki++){if(Zi>Ti)return;const xn=ri.charCodeAt(Ki);if(xn===9){const Dn=Ft-(Ki+un)%Ft;un+=Dn-1,Zi+=Dn*be}else if(xn===32)Zi+=be;else{const Dn=Vi.K7(xn)?2:1;for(let _s=0;_s<Dn;_s++)if(G===2?et.blockRenderChar(e,Zi,it+pt,On,Ze,o,y,xi):et.renderChar(e,Zi,it+pt,xn,On,Ze,o,y,Xt,W,xi),Zi+=be,Zi>Ti)return}}}}}class De{constructor(e,o,y){this._startLineNumber=e,this._endLineNumber=o,this._defaultValue=y,this._values=[];for(let W=0,G=this._endLineNumber-this._startLineNumber+1;W<G;W++)this._values[W]=y}has(e){return this.get(e)!==this._defaultValue}set(e,o){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=o)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class Fe extends pe{constructor(e){super(e);const y=this._context.configuration.options.get(140);this._widgets={},this._verticalScrollbarWidth=y.verticalScrollbarWidth,this._minimapWidth=y.minimap.minimapWidth,this._horizontalScrollbarHeight=y.horizontalScrollbarHeight,this._editorHeight=y.height,this._editorWidth=y.width,this._domNode=(0,fe.X)(document.createElement("div")),le.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const y=this._context.configuration.options.get(140);return this._verticalScrollbarWidth=y.verticalScrollbarWidth,this._minimapWidth=y.minimap.minimapWidth,this._horizontalScrollbarHeight=y.horizontalScrollbarHeight,this._editorHeight=y.height,this._editorWidth=y.width,!0}addWidget(e){const o=(0,fe.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:o},o.setPosition("absolute"),o.setAttribute("widgetId",e.getId()),this._domNode.appendChild(o),this.setShouldRender()}setWidgetPosition(e,o){const y=this._widgets[e.getId()];return y.preference===o?!1:(y.preference=o,this.setShouldRender(),!0)}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const W=this._widgets[o].domNode.domNode;delete this._widgets[o],W.parentNode.removeChild(W),this.setShouldRender()}}_renderWidget(e){const o=e.domNode;if(e.preference===null){o.setTop("");return}if(e.preference===0)o.setTop(0),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const y=o.domNode.clientHeight;o.setTop(this._editorHeight-y-2*this._horizontalScrollbarHeight),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(o.setTop(0),o.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const o=Object.keys(this._widgets);for(let y=0,W=o.length;y<W;y++){const G=o[y];this._renderWidget(this._widgets[G])}}}class Qe{constructor(e,o){const y=e.options;this.lineHeight=y.get(64),this.pixelRatio=y.get(138),this.overviewRulerLanes=y.get(80),this.renderBorder=y.get(79);const W=o.getColor(Li.zw);this.borderColor=W?W.toString():null,this.hideCursor=y.get(57);const G=o.getColor(Li.n0);this.cursorColor=G?G.transparent(.7).toString():null,this.themeType=o.type;const be=y.get(70),Oe=be.enabled,Ze=be.side,et=o.getColor(Li.e_),it=Yt.RW.getDefaultBackground();et?this.backgroundColor=et:Oe&&Ze==="right"?this.backgroundColor=it:this.backgroundColor=null;const Ft=y.get(140).overviewRuler;this.top=Ft.top,this.right=Ft.right,this.domWidth=Ft.width,this.domHeight=Ft.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Ot,Xt]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Ot,this.w=Xt}_initLanes(e,o,y){const W=o-e;if(y>=3){const G=Math.floor(W/3),be=Math.floor(W/3),Oe=W-G-be,Ze=e,et=Ze+G,it=Ze+G+Oe;return[[0,Ze,et,Ze,it,Ze,et,Ze],[0,G,Oe,G+Oe,be,G+Oe+be,Oe+be,G+Oe+be]]}else if(y===2){const G=Math.floor(W/2),be=W-G,Oe=e,Ze=Oe+G;return[[0,Oe,Oe,Oe,Ze,Oe,Oe,Oe],[0,G,G,G,be,G+be,G+be,G+be]]}else{const G=e,be=W;return[[0,G,G,G,G,G,G,G],[0,be,be,be,be,be,be,be]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&ti.Il.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class ft extends pe{constructor(e){super(e),this._domNode=(0,fe.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Yt.RW.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const o=new Qe(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(o)?!1:(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let o=0,y=e.selections.length;o<y;o++)this._cursorPositions[o]=e.selections[o].getPosition();return this._cursorPositions.sort(ue.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?ti.Il.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const o=this._settings.canvasWidth,y=this._settings.canvasHeight,W=this._settings.lineHeight,G=this._context.viewLayout,be=this._context.viewLayout.getScrollHeight(),Oe=y/be,Ze=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),et=6*this._settings.pixelRatio|0,it=et/2|0,pt=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(pt.fillStyle=ti.Il.Format.CSS.formatHexA(e),pt.fillRect(0,0,o,y)):(pt.clearRect(0,0,o,y),pt.fillStyle=ti.Il.Format.CSS.formatHexA(e),pt.fillRect(0,0,o,y)):pt.clearRect(0,0,o,y);const Ft=this._settings.x,Ot=this._settings.w;Ze.sort(ns.SQ.cmp);for(const Xt of Ze){const ii=Xt.color,ri=Xt.data;pt.fillStyle=ii;let _i=0,Ti=0,xi=0;for(let Zi=0,Ki=ri.length/3;Zi<Ki;Zi++){const un=ri[3*Zi],dn=ri[3*Zi+1],hn=ri[3*Zi+2];let Ui=G.getVerticalOffsetForLineNumber(dn)*Oe|0,Sn=(G.getVerticalOffsetForLineNumber(hn)+W)*Oe|0;if(Sn-Ui<et){let xn=(Ui+Sn)/2|0;xn<it?xn=it:xn+it>y&&(xn=y-it),Ui=xn-it,Sn=xn+it}Ui>xi+1||un!==_i?(Zi!==0&&pt.fillRect(Ft[_i],Ti,Ot[_i],xi-Ti),_i=un,Ti=Ui,xi=Sn):Sn>xi&&(xi=Sn)}pt.fillRect(Ft[_i],Ti,Ot[_i],xi-Ti)}if(!this._settings.hideCursor&&this._settings.cursorColor){const Xt=2*this._settings.pixelRatio|0,ii=Xt/2|0,ri=this._settings.x[7],_i=this._settings.w[7];pt.fillStyle=this._settings.cursorColor;let Ti=-100,xi=-100;for(let Zi=0,Ki=this._cursorPositions.length;Zi<Ki;Zi++){const un=this._cursorPositions[Zi];let dn=G.getVerticalOffsetForLineNumber(un.lineNumber)*Oe|0;dn<ii?dn=ii:dn+ii>y&&(dn=y-ii);const hn=dn-ii,Ui=hn+Xt;hn>xi+1?(Zi!==0&&pt.fillRect(ri,Ti,_i,xi-Ti),Ti=hn,xi=Ui):Ui>xi&&(xi=Ui)}pt.fillRect(ri,Ti,_i,xi-Ti)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(pt.beginPath(),pt.lineWidth=1,pt.strokeStyle=this._settings.borderColor,pt.moveTo(0,0),pt.lineTo(0,y),pt.stroke(),pt.moveTo(0,0),pt.lineTo(o,0),pt.stroke())}}var mt=t(43128);class Pt extends _e{constructor(e,o){super(),this._context=e;const y=this._context.configuration.options;this._domNode=(0,fe.X)(document.createElement("canvas")),this._domNode.setClassName(o),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new mt.Tj(W=>this._context.viewLayout.getVerticalOffsetForLineNumber(W)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(y.get(64)),this._zoneManager.setPixelRatio(y.get(138)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return e.hasChanged(64)&&(this._zoneManager.setLineHeight(o.get(64)),this._render()),e.hasChanged(138)&&(this._zoneManager.setPixelRatio(o.get(138)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let o=!1;o=this._zoneManager.setDOMWidth(e.width)||o,o=this._zoneManager.setDOMHeight(e.height)||o,o&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),y=this._zoneManager.resolveColorZones(),W=this._zoneManager.getId2Color(),G=this._domNode.domNode.getContext("2d");return G.clearRect(0,0,e,o),y.length>0&&this._renderOneLane(G,y,W,e),!0}_renderOneLane(e,o,y,W){let G=0,be=0,Oe=0;for(const Ze of o){const et=Ze.colorId,it=Ze.from,pt=Ze.to;et!==G?(e.fillRect(0,be,W,Oe-be),G=et,e.fillStyle=y[G],be=it,Oe=pt):Oe>=it?Oe=Math.max(Oe,pt):(e.fillRect(0,be,W,Oe-be),be=it,Oe=pt)}e.fillRect(0,be,W,Oe-be)}}class Tt extends pe{constructor(e){super(e),this.domNode=(0,fe.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const o=this._context.configuration.options;this._rulers=o.get(98),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._rulers=o.get(98),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,o=this._rulers.length;if(e===o)return;if(e<o){const{tabSize:W}=this._context.viewModel.model.getOptions(),G=W;let be=o-e;for(;be>0;){const Oe=(0,fe.X)(document.createElement("div"));Oe.setClassName("view-ruler"),Oe.setWidth(G),this.domNode.appendChild(Oe),this._renderedRulers.push(Oe),be--}return}let y=e-o;for(;y>0;){const W=this._renderedRulers.pop();this.domNode.removeChild(W),y--}}render(e){this._ensureRulersCount();for(let o=0,y=this._rulers.length;o<y;o++){const W=this._renderedRulers[o],G=this._rulers[o];W.setBoxShadow(G.color?`1px 0 0 0 ${G.color} inset`:""),W.setHeight(Math.min(e.scrollHeight,1e6)),W.setLeft(G.column*this._typicalHalfwidthCharacterWidth)}}}class Dt extends pe{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const y=this._context.configuration.options.get(99);this._useShadows=y.useShadows,this._domNode=(0,fe.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const o=this._context.configuration.options.get(140);o.minimap.renderMinimap===0||o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?this._width=o.width:this._width=o.width-o.verticalScrollbarWidth}onConfigurationChanged(e){const y=this._context.configuration.options.get(99);return this._useShadows=y.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class zt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class ui{constructor(e,o){this.lineNumber=e,this.ranges=o}}function Di(Et){return new zt(Et)}function Ni(Et){return new ui(Et.lineNumber,Et.ranges.map(Di))}class Ei extends Yi{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(64),this._roundedSelection=o.get(97),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(64),this._roundedSelection=o.get(97),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let o=0,y=e.length;o<y;o++)if(e[o].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,o,y){const W=this._typicalHalfwidthCharacterWidth/4;let G=null,be=null;if(y&&y.length>0&&o.length>0){const Oe=o[0].lineNumber;if(Oe===e.startLineNumber)for(let et=0;!G&&et<y.length;et++)y[et].lineNumber===Oe&&(G=y[et].ranges[0]);const Ze=o[o.length-1].lineNumber;if(Ze===e.endLineNumber)for(let et=y.length-1;!be&&et>=0;et--)y[et].lineNumber===Ze&&(be=y[et].ranges[0]);G&&!G.startStyle&&(G=null),be&&!be.startStyle&&(be=null)}for(let Oe=0,Ze=o.length;Oe<Ze;Oe++){const et=o[Oe].ranges[0],it=et.left,pt=et.left+et.width,Ft={top:0,bottom:0},Ot={top:0,bottom:0};if(Oe>0){const Xt=o[Oe-1].ranges[0].left,ii=o[Oe-1].ranges[0].left+o[Oe-1].ranges[0].width;qi(it-Xt)<W?Ft.top=2:it>Xt&&(Ft.top=1),qi(pt-ii)<W?Ot.top=2:Xt<pt&&pt<ii&&(Ot.top=1)}else G&&(Ft.top=G.startStyle.top,Ot.top=G.endStyle.top);if(Oe+1<Ze){const Xt=o[Oe+1].ranges[0].left,ii=o[Oe+1].ranges[0].left+o[Oe+1].ranges[0].width;qi(it-Xt)<W?Ft.bottom=2:Xt<it&&it<ii&&(Ft.bottom=1),qi(pt-ii)<W?Ot.bottom=2:pt<ii&&(Ot.bottom=1)}else be&&(Ft.bottom=be.startStyle.bottom,Ot.bottom=be.endStyle.bottom);et.startStyle=Ft,et.endStyle=Ot}}_getVisibleRangesWithStyle(e,o,y){const G=(o.linesVisibleRangesForRange(e,!0)||[]).map(Ni);return!this._visibleRangesHaveGaps(G)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(o.visibleRange,G,y),G}_createSelectionPiece(e,o,y,W,G){return'<div class="cslr '+y+'" style="top:'+e.toString()+"px;left:"+W.toString()+"px;width:"+G.toString()+"px;height:"+o+'px;"></div>'}_actualRenderOneSelection(e,o,y,W){if(W.length===0)return;const G=!!W[0].ranges[0].startStyle,be=this._lineHeight.toString(),Oe=(this._lineHeight-1).toString(),Ze=W[0].lineNumber,et=W[W.length-1].lineNumber;for(let it=0,pt=W.length;it<pt;it++){const Ft=W[it],Ot=Ft.lineNumber,Xt=Ot-o,ii=y&&(Ot===et||Ot===Ze)?Oe:be,ri=y&&Ot===Ze?1:0;let _i="",Ti="";for(let xi=0,Zi=Ft.ranges.length;xi<Zi;xi++){const Ki=Ft.ranges[xi];if(G){const dn=Ki.startStyle,hn=Ki.endStyle;if(dn.top===1||dn.bottom===1){_i+=this._createSelectionPiece(ri,ii,Ei.SELECTION_CLASS_NAME,Ki.left-Ei.ROUNDED_PIECE_WIDTH,Ei.ROUNDED_PIECE_WIDTH);let Ui=Ei.EDITOR_BACKGROUND_CLASS_NAME;dn.top===1&&(Ui+=" "+Ei.SELECTION_TOP_RIGHT),dn.bottom===1&&(Ui+=" "+Ei.SELECTION_BOTTOM_RIGHT),_i+=this._createSelectionPiece(ri,ii,Ui,Ki.left-Ei.ROUNDED_PIECE_WIDTH,Ei.ROUNDED_PIECE_WIDTH)}if(hn.top===1||hn.bottom===1){_i+=this._createSelectionPiece(ri,ii,Ei.SELECTION_CLASS_NAME,Ki.left+Ki.width,Ei.ROUNDED_PIECE_WIDTH);let Ui=Ei.EDITOR_BACKGROUND_CLASS_NAME;hn.top===1&&(Ui+=" "+Ei.SELECTION_TOP_LEFT),hn.bottom===1&&(Ui+=" "+Ei.SELECTION_BOTTOM_LEFT),_i+=this._createSelectionPiece(ri,ii,Ui,Ki.left+Ki.width,Ei.ROUNDED_PIECE_WIDTH)}}let un=Ei.SELECTION_CLASS_NAME;if(G){const dn=Ki.startStyle,hn=Ki.endStyle;dn.top===0&&(un+=" "+Ei.SELECTION_TOP_LEFT),dn.bottom===0&&(un+=" "+Ei.SELECTION_BOTTOM_LEFT),hn.top===0&&(un+=" "+Ei.SELECTION_TOP_RIGHT),hn.bottom===0&&(un+=" "+Ei.SELECTION_BOTTOM_RIGHT)}Ti+=this._createSelectionPiece(ri,ii,un,Ki.left,Ki.width)}e[Xt][0]+=_i,e[Xt][1]+=Ti}}prepareRender(e){const o=[],y=e.visibleRange.startLineNumber,W=e.visibleRange.endLineNumber;for(let be=y;be<=W;be++){const Oe=be-y;o[Oe]=["",""]}const G=[];for(let be=0,Oe=this._selections.length;be<Oe;be++){const Ze=this._selections[be];if(Ze.isEmpty()){G[be]=null;continue}const et=this._getVisibleRangesWithStyle(Ze,e,this._previousFrameVisibleRangesWithStyle[be]);G[be]=et,this._actualRenderOneSelection(o,y,this._selections.length>1,et)}this._previousFrameVisibleRangesWithStyle=G,this._renderResult=o.map(([be,Oe])=>be+Oe)}render(e,o){if(!this._renderResult)return"";const y=o-e;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}Ei.SELECTION_CLASS_NAME="selected-text",Ei.SELECTION_TOP_LEFT="top-left-radius",Ei.SELECTION_BOTTOM_LEFT="bottom-left-radius",Ei.SELECTION_TOP_RIGHT="top-right-radius",Ei.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Ei.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Ei.ROUNDED_PIECE_WIDTH=10,(0,Pi.Ic)((Et,e)=>{const o=Et.getColor(ys.yb5);o&&!o.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)});function qi(Et){return Et<0?-Et:Et}class yn{constructor(e,o,y,W,G,be,Oe){this.top=e,this.left=o,this.paddingLeft=y,this.width=W,this.height=G,this.textContent=be,this.textContentClassName=Oe}}class cn{constructor(e){this._context=e;const o=this._context.configuration.options,y=o.get(48);this._cursorStyle=o.get(26),this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(29),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,fe.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${ln.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Qi.N)(this._domNode,y),this._domNode.setDisplay("none"),this._position=new ue.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const o=this._context.configuration.options,y=o.get(48);return this._cursorStyle=o.get(26),this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(29),this._typicalHalfwidthCharacterWidth),(0,Qi.N)(this._domNode,y),!0}onCursorPositionChanged(e,o){return o?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:o}=this._position,y=this._context.viewModel.getLineContent(e),[W,G]=Vi.J_(y,o-1);return[new ue.L(e,W+1),y.substring(W,G)]}_prepareRender(e){let o="",y="";const[W,G]=this._getGraphemeAwarePosition();if(this._cursorStyle===M.d2.Line||this._cursorStyle===M.d2.LineThin){const Ft=e.visibleRangeForPosition(W);if(!Ft||Ft.outsideRenderedLine)return null;let Ot;this._cursorStyle===M.d2.Line?(Ot=I.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Ot>2&&(o=G,y=this._getTokenClassName(W))):Ot=I.Uh(1);let Xt=Ft.left,ii=0;Ot>=2&&Xt>=1&&(ii=1,Xt-=ii);const ri=e.getVerticalOffsetForLineNumber(W.lineNumber)-e.bigNumbersDelta;return new yn(ri,Xt,ii,Ot,this._lineHeight,o,y)}const be=e.linesVisibleRangesForRange(new Pe.e(W.lineNumber,W.column,W.lineNumber,W.column+G.length),!1);if(!be||be.length===0)return null;const Oe=be[0];if(Oe.outsideRenderedLine||Oe.ranges.length===0)return null;const Ze=Oe.ranges[0],et=G==="	"?this._typicalHalfwidthCharacterWidth:Ze.width<1?this._typicalHalfwidthCharacterWidth:Ze.width;this._cursorStyle===M.d2.Block&&(o=G,y=this._getTokenClassName(W));let it=e.getVerticalOffsetForLineNumber(W.lineNumber)-e.bigNumbersDelta,pt=this._lineHeight;return(this._cursorStyle===M.d2.Underline||this._cursorStyle===M.d2.UnderlineThin)&&(it+=this._lineHeight-2,pt=2),new yn(it,Ze.left,0,et,pt,o,y)}_getTokenClassName(e){const o=this._context.viewModel.getViewLineData(e.lineNumber),y=o.tokens.findTokenIndexAtOffset(e.column-1);return o.tokens.getClassName(y)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${ln.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class $n extends pe{constructor(e){super(e);const o=this._context.configuration.options;this._readOnly=o.get(88),this._cursorBlinking=o.get(24),this._cursorStyle=o.get(26),this._cursorSmoothCaretAnimation=o.get(25),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new cn(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,fe.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Wi._F,this._cursorFlatBlinkInterval=new Wi.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const o=this._context.configuration.options;this._readOnly=o.get(88),this._cursorBlinking=o.get(24),this._cursorStyle=o.get(26),this._cursorSmoothCaretAnimation=o.get(25),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let y=0,W=this._secondaryCursors.length;y<W;y++)this._secondaryCursors[y].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,o,y){const W=this._secondaryCursors.length!==o.length||this._cursorSmoothCaretAnimation==="explicit"&&y!==3;if(this._primaryCursor.onCursorPositionChanged(e,W),this._updateBlinking(),this._secondaryCursors.length<o.length){const G=o.length-this._secondaryCursors.length;for(let be=0;be<G;be++){const Oe=new cn(this._context);this._domNode.domNode.insertBefore(Oe.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Oe)}}else if(this._secondaryCursors.length>o.length){const G=this._secondaryCursors.length-o.length;for(let be=0;be<G;be++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let G=0;G<o.length;G++)this._secondaryCursors[G].onCursorPositionChanged(o[G],W)}onCursorStateChanged(e){const o=[];for(let W=0,G=e.selections.length;W<G;W++)o[W]=e.selections[W].getPosition();this._onCursorPositionChanged(o[0],o.slice(1),e.reason);const y=e.selections[0].isEmpty();return this._selectionIsEmpty!==y&&(this._selectionIsEmpty=y,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const o=y=>{for(let W=0,G=e.ranges.length;W<G;W++)if(e.ranges[W].fromLineNumber<=y.lineNumber&&y.lineNumber<=e.ranges[W].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(const y of this._secondaryCursors)if(o(y.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),o=e===0,y=e===5;o?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!o&&!y&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},$n.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},$n.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case M.d2.Line:e+=" cursor-line-style";break;case M.d2.Block:e+=" cursor-block-style";break;case M.d2.Underline:e+=" cursor-underline-style";break;case M.d2.LineThin:e+=" cursor-line-thin-style";break;case M.d2.BlockOutline:e+=" cursor-block-outline-style";break;case M.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let o=0,y=this._secondaryCursors.length;o<y;o++)this._secondaryCursors[o].prepareRender(e)}render(e){const o=[];let y=0;const W=this._primaryCursor.render(e);W&&(o[y++]=W);for(let G=0,be=this._secondaryCursors.length;G<be;G++){const Oe=this._secondaryCursors[G].render(e);Oe&&(o[y++]=Oe)}this._renderData=o}getLastRenderData(){return this._renderData}}$n.BLINK_INTERVAL=500,(0,Pi.Ic)((Et,e)=>{const o=Et.getColor(Li.n0);if(o){let y=Et.getColor(Li.fY);y||(y=o.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${y}; }`),(0,ve.c3)(Et.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${y}; border-right: 1px solid ${y}; }`)}});const Ps=()=>{throw new Error("Invalid change accessor")};class vs extends pe{constructor(e){super(e);const o=this._context.configuration.options,y=o.get(140);this._lineHeight=o.get(64),this._contentWidth=y.contentWidth,this._contentLeft=y.contentLeft,this.domNode=(0,fe.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,fe.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),o=new Map;for(const W of e)o.set(W.id,W);let y=!1;return this._context.viewModel.changeWhitespace(W=>{const G=Object.keys(this._zones);for(let be=0,Oe=G.length;be<Oe;be++){const Ze=G[be],et=this._zones[Ze],it=this._computeWhitespaceProps(et.delegate);et.isInHiddenArea=it.isInHiddenArea;const pt=o.get(Ze);pt&&(pt.afterLineNumber!==it.afterViewLineNumber||pt.height!==it.heightInPx)&&(W.changeOneWhitespace(Ze,it.afterViewLineNumber,it.heightInPx),this._safeCallOnComputedHeight(et.delegate,it.heightInPx),y=!0)}}),y}onConfigurationChanged(e){const o=this._context.configuration.options,y=o.get(140);return this._lineHeight=o.get(64),this._contentWidth=y.contentWidth,this._contentLeft=y.contentLeft,e.hasChanged(64)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){var o,y;return(y=(o=e.ordinal)!==null&&o!==void 0?o:e.afterColumn)!==null&&y!==void 0?y:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let o;if(typeof e.afterColumn!="undefined")o=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const be=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;o=new ue.L(be,this._context.viewModel.model.getLineMaxColumn(be))}let y;o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?y=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):y=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const W=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,e.afterColumnAffinity),G=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(y);return{isInHiddenArea:!G,afterViewLineNumber:W.lineNumber,heightInPx:G?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let o=!1;return this._context.viewModel.changeWhitespace(y=>{const W={addZone:G=>(o=!0,this._addZone(y,G)),removeZone:G=>{G&&(o=this._removeZone(y,G)||o)},layoutZone:G=>{G&&(o=this._layoutZone(y,G)||o)}};xs(e,W),W.addZone=Ps,W.removeZone=Ps,W.layoutZone=Ps}),o}_addZone(e,o){const y=this._computeWhitespaceProps(o),G={whitespaceId:e.insertWhitespace(y.afterViewLineNumber,this._getZoneOrdinal(o),y.heightInPx,y.minWidthInPx),delegate:o,isInHiddenArea:y.isInHiddenArea,isVisible:!1,domNode:(0,fe.X)(o.domNode),marginDomNode:o.marginDomNode?(0,fe.X)(o.marginDomNode):null};return this._safeCallOnComputedHeight(G.delegate,y.heightInPx),G.domNode.setPosition("absolute"),G.domNode.domNode.style.width="100%",G.domNode.setDisplay("none"),G.domNode.setAttribute("monaco-view-zone",G.whitespaceId),this.domNode.appendChild(G.domNode),G.marginDomNode&&(G.marginDomNode.setPosition("absolute"),G.marginDomNode.domNode.style.width="100%",G.marginDomNode.setDisplay("none"),G.marginDomNode.setAttribute("monaco-view-zone",G.whitespaceId),this.marginDomNode.appendChild(G.marginDomNode)),this._zones[G.whitespaceId]=G,this.setShouldRender(),G.whitespaceId}_removeZone(e,o){if(this._zones.hasOwnProperty(o)){const y=this._zones[o];return delete this._zones[o],e.removeWhitespace(y.whitespaceId),y.domNode.removeAttribute("monaco-visible-view-zone"),y.domNode.removeAttribute("monaco-view-zone"),y.domNode.domNode.parentNode.removeChild(y.domNode.domNode),y.marginDomNode&&(y.marginDomNode.removeAttribute("monaco-visible-view-zone"),y.marginDomNode.removeAttribute("monaco-view-zone"),y.marginDomNode.domNode.parentNode.removeChild(y.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,o){if(this._zones.hasOwnProperty(o)){const y=this._zones[o],W=this._computeWhitespaceProps(y.delegate);return y.isInHiddenArea=W.isInHiddenArea,e.changeOneWhitespace(y.whitespaceId,W.afterViewLineNumber,W.heightInPx),this._safeCallOnComputedHeight(y.delegate,W.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,o){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(o)}catch(y){(0,L.dL)(y)}}_safeCallOnDomNodeTop(e,o){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(o)}catch(y){(0,L.dL)(y)}}prepareRender(e){}render(e){const o=e.viewportData.whitespaceViewportData,y={};let W=!1;for(const be of o)this._zones[be.id].isInHiddenArea||(y[be.id]=be,W=!0);const G=Object.keys(this._zones);for(let be=0,Oe=G.length;be<Oe;be++){const Ze=G[be],et=this._zones[Ze];let it=0,pt=0,Ft="none";y.hasOwnProperty(Ze)?(it=y[Ze].verticalOffset-e.bigNumbersDelta,pt=y[Ze].height,Ft="block",et.isVisible||(et.domNode.setAttribute("monaco-visible-view-zone","true"),et.isVisible=!0),this._safeCallOnDomNodeTop(et.delegate,e.getScrolledTopFromAbsoluteTop(y[Ze].verticalOffset))):(et.isVisible&&(et.domNode.removeAttribute("monaco-visible-view-zone"),et.isVisible=!1),this._safeCallOnDomNodeTop(et.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),et.domNode.setTop(it),et.domNode.setHeight(pt),et.domNode.setDisplay(Ft),et.marginDomNode&&(et.marginDomNode.setTop(it),et.marginDomNode.setHeight(pt),et.marginDomNode.setDisplay(Ft))}W&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function xs(Et,e){try{return Et(e)}catch(o){(0,L.dL)(o)}}class go{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class Rs{constructor(e,o,y){this.configuration=e,this.theme=new go(o),this.viewModel=y,this.viewLayout=y.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class xo{constructor(e,o,y,W){this.selections=e,this.startLineNumber=o.startLineNumber|0,this.endLineNumber=o.endLineNumber|0,this.relativeVerticalOffset=o.relativeVerticalOffset,this.bigNumbersDelta=o.bigNumbersDelta|0,this.whitespaceViewportData=y,this._model=W,this.visibleRange=new Pe.e(o.startLineNumber,this._model.getLineMinColumn(o.startLineNumber),o.endLineNumber,this._model.getLineMaxColumn(o.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class ao extends pe{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,fe.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const y=this._context.configuration.options.get(140),W=y.contentWidth-y.verticalScrollbarWidth;this.contentWidth!==W&&(this.contentWidth=W,e=!0);const G=y.contentLeft;return this.contentLeft!==G&&(this.contentLeft=G,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){var o;let y=0;const W=e.getDecorationsInViewport();for(const G of W){if(!G.options.blockClassName)continue;let be=this.blocks[y];be||(be=this.blocks[y]=(0,fe.X)(document.createElement("div")),this.domNode.appendChild(be));let Oe,Ze;G.options.blockIsAfterEnd?(Oe=e.getVerticalOffsetAfterLineNumber(G.range.endLineNumber,!1),Ze=e.getVerticalOffsetAfterLineNumber(G.range.endLineNumber,!0)):(Oe=e.getVerticalOffsetForLineNumber(G.range.startLineNumber,!0),Ze=G.range.isEmpty()&&!G.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(G.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(G.range.endLineNumber,!0));const[et,it,pt,Ft]=(o=G.options.blockPadding)!==null&&o!==void 0?o:[0,0,0,0];be.setClassName("blockDecorations-block "+G.options.blockClassName),be.setLeft(this.contentLeft-Ft),be.setWidth(this.contentWidth+Ft+it),be.setTop(Oe-e.scrollTop-et),be.setHeight(Ze-Oe+et+pt),y++}for(let G=y;G<this.blocks.length;G++)this.blocks[G].domNode.remove();this.blocks.length=y}}var mo=t(14209);class Gs extends Yi{constructor(e){super(),this._context=e,this._options=new po(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=new po(this._context.configuration);return this._options.equals(o)?e.hasChanged(140):(this._options=o,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,W=e.visibleRange.endLineNumber-o+1,G=new Array(W);for(let Oe=0;Oe<W;Oe++)G[Oe]=!0;const be=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,G);this._renderResult=[];for(let Oe=e.viewportData.startLineNumber;Oe<=e.viewportData.endLineNumber;Oe++){const Ze=Oe-e.viewportData.startLineNumber,et=be.data[Ze];let it=null;if(this._options.renderWhitespace==="selection"){const pt=this._selection;for(const Ft of pt){if(Ft.endLineNumber<Oe||Ft.startLineNumber>Oe)continue;const Ot=Ft.startLineNumber===Oe?Ft.startColumn:et.minColumn,Xt=Ft.endLineNumber===Oe?Ft.endColumn:et.maxColumn;Ot<Xt&&(it||(it=[]),it.push(new we.zG(Ot-1,Xt-1)))}}this._renderResult[Ze]=this._applyRenderWhitespace(e,Oe,it,et)}}_applyRenderWhitespace(e,o,y,W){if(this._options.renderWhitespace==="selection"&&!y||this._options.renderWhitespace==="trailing"&&W.continuesWithWrappedLine)return"";const G=this._context.theme.getColor(Li.dI),be=this._options.renderWithSVG,Oe=W.content,Ze=this._options.stopRenderingLineAfter===-1?Oe.length:Math.min(this._options.stopRenderingLineAfter,Oe.length),et=W.continuesWithWrappedLine,it=W.minColumn-1,pt=this._options.renderWhitespace==="boundary",Ft=this._options.renderWhitespace==="trailing",Ot=this._options.lineHeight,Xt=this._options.middotWidth,ii=this._options.wsmiddotWidth,ri=this._options.spaceWidth,_i=Math.abs(ii-ri),Ti=Math.abs(Xt-ri),xi=_i<Ti?11825:183,Zi=this._options.canUseHalfwidthRightwardsArrow;let Ki="",un=!1,dn=Vi.LC(Oe),hn;dn===-1?(un=!0,dn=Ze,hn=Ze):hn=Vi.ow(Oe);let Ui=0,Sn=y&&y[Ui],On=0;for(let xn=it;xn<Ze;xn++){const Dn=Oe.charCodeAt(xn);if(Sn&&xn>=Sn.endOffset&&(Ui++,Sn=y&&y[Ui]),Dn!==9&&Dn!==32||Ft&&!un&&xn<=hn)continue;if(pt&&xn>=dn&&xn<=hn&&Dn===32){const ds=xn-1>=0?Oe.charCodeAt(xn-1):0,Cs=xn+1<Ze?Oe.charCodeAt(xn+1):0;if(ds!==32&&Cs!==32)continue}if(pt&&et&&xn===Ze-1){const ds=xn-1>=0?Oe.charCodeAt(xn-1):0;if(Dn===32&&ds!==32&&ds!==9)continue}if(y&&(!Sn||Sn.startOffset>xn||Sn.endOffset<=xn))continue;const _s=e.visibleRangeForPosition(new ue.L(o,xn+1));_s&&(be?(On=Math.max(On,_s.left),Dn===9?Ki+=this._renderArrow(Ot,ri,_s.left):Ki+=`<circle cx="${(_s.left+ri/2).toFixed(2)}" cy="${(Ot/2).toFixed(2)}" r="${(ri/7).toFixed(2)}" />`):Dn===9?Ki+=`<div class="mwh" style="left:${_s.left}px;height:${Ot}px;">${Zi?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:Ki+=`<div class="mwh" style="left:${_s.left}px;height:${Ot}px;">${String.fromCharCode(xi)}</div>`)}return be?(On=Math.round(On+ri),`<svg style="position:absolute;width:${On}px;height:${Ot}px" viewBox="0 0 ${On} ${Ot}" xmlns="http://www.w3.org/2000/svg" fill="${G}">`+Ki+"</svg>"):Ki}_renderArrow(e,o,y){const W=o/7,G=o,be=e/2,Oe=y,Ze={x:0,y:W/2},et={x:100/125*G,y:Ze.y},it={x:et.x-.2*et.x,y:et.y+.2*et.x},pt={x:it.x+.1*et.x,y:it.y+.1*et.x},Ft={x:pt.x+.35*et.x,y:pt.y-.35*et.x},Ot={x:Ft.x,y:-Ft.y},Xt={x:pt.x,y:-pt.y},ii={x:it.x,y:-it.y},ri={x:et.x,y:-et.y},_i={x:Ze.x,y:-Ze.y};return`<path d="M ${[Ze,et,it,pt,Ft,Ot,Xt,ii,ri,_i].map(Zi=>`${(Oe+Zi.x).toFixed(2)} ${(be+Zi.y).toFixed(2)}`).join(" L ")}" />`}render(e,o){if(!this._renderResult)return"";const y=o-e;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}class po{constructor(e){const o=e.options,y=o.get(48),W=o.get(36);W==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):W==="svg"?(this.renderWhitespace=o.get(95),this.renderWithSVG=!0):(this.renderWhitespace=o.get(95),this.renderWithSVG=!1),this.spaceWidth=y.spaceWidth,this.middotWidth=y.middotWidth,this.wsmiddotWidth=y.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=y.canUseHalfwidthRightwardsArrow,this.lineHeight=o.get(64),this.stopRenderingLineAfter=o.get(113)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}class Js extends _e{constructor(e,o,y,W,G,be){super(),this._selections=[new Z.Y(1,1,1,1)],this._renderAnimationFrame=null;const Oe=new tn(o,W,G,e);this._context=new Rs(o,y,W),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new zi(this._context,Oe,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,fe.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,fe.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,fe.X)(document.createElement("div")),le.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new St(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Ss(this._context,this._linesContent),this._viewZones=new vs(this._context),this._viewParts.push(this._viewZones);const Ze=new ft(this._context);this._viewParts.push(Ze);const et=new Dt(this._context);this._viewParts.push(et);const it=new Ht(this._context);this._viewParts.push(it),it.addDynamicOverlay(new Ae(this._context)),it.addDynamicOverlay(new Ei(this._context)),it.addDynamicOverlay(new Bi(this._context)),it.addDynamicOverlay(new vt(this._context)),it.addDynamicOverlay(new Gs(this._context));const pt=new at(this._context);this._viewParts.push(pt),pt.addDynamicOverlay(new Je(this._context)),pt.addDynamicOverlay(new pi(this._context)),pt.addDynamicOverlay(new wi(this._context)),pt.addDynamicOverlay(new mn(this._context)),pt.addDynamicOverlay(new gn(this._context));const Ft=new on(this._context);Ft.getDomNode().appendChild(this._viewZones.marginDomNode),Ft.getDomNode().appendChild(pt.getDomNode()),this._viewParts.push(Ft),this._contentWidgets=new ce(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new $n(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Fe(this._context),this._viewParts.push(this._overlayWidgets);const Ot=new Tt(this._context);this._viewParts.push(Ot);const Xt=new ao(this._context);this._viewParts.push(Xt);const ii=new H(this._context);if(this._viewParts.push(ii),Ze){const ri=this._scrollbar.getOverviewRulerLayoutInfo();ri.parent.insertBefore(Ze.getDomNode(),ri.insertBefore)}this._linesContent.appendChild(it.getDomNode()),this._linesContent.appendChild(Ot.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Ft.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(et.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ii.getDomNode()),this._overflowGuardContainer.appendChild(Xt.domNode),this.domNode.appendChild(this._overflowGuardContainer),be?be.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new $i(this._context,Oe,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){mo.B.onRenderStart(),this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],o=this._textAreaHandler.getLastRenderData();return new It(e,o)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,o)),visibleRangeForPosition:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new ue.L(e,o))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const o=this._context.configuration.options.get(140);this.domNode.setWidth(o.width),this.domNode.setHeight(o.height),this._overflowGuardContainer.setWidth(o.width),this._overflowGuardContainer.setHeight(o.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(137)+" "+(0,Pi.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=I.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){ko(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let o=0;for(const y of this._viewParts)y.shouldRender()&&(e[o++]=y);return e}_actualRender(){if(!I.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const o=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(o.startLineNumber,o.endLineNumber,o.centeredLineNumber);const y=new xo(this._selections,o,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(y),this._viewLines.shouldRender()&&(this._viewLines.renderText(y),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const W=new he(this._context.viewLayout,y,this._viewLines);for(const G of e)G.prepareRender(W);for(const G of e)G.render(W),G.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,o){const y=this._context.viewModel.model.validatePosition({lineNumber:e,column:o}),W=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y);this._flushAccumulatedAndRenderNow();const G=this._viewLines.visibleRangeForPosition(new ue.L(W.lineNumber,W.column));return G?G.left:-1}getTargetAtClientPoint(e,o){const y=this._pointerHandler.getTargetAtClientPoint(e,o);return y?sn.convertViewToModelMouseTarget(y,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new Pt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,o){if(o){this._viewLines.forceShouldRender();for(const y of this._viewParts)y.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var o,y,W,G,be,Oe,Ze,et;this._contentWidgets.setWidgetPosition(e.widget,(y=(o=e.position)===null||o===void 0?void 0:o.position)!==null&&y!==void 0?y:null,(G=(W=e.position)===null||W===void 0?void 0:W.secondaryPosition)!==null&&G!==void 0?G:null,(Oe=(be=e.position)===null||be===void 0?void 0:be.preference)!==null&&Oe!==void 0?Oe:null,(et=(Ze=e.position)===null||Ze===void 0?void 0:Ze.positionAffinity)!==null&&et!==void 0?et:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const o=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,o)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function ko(Et){try{return Et()}catch(e){(0,L.dL)(e)}}var wo=t(36031),Cr=t(6390),ms=t(21081),dr=t(45007),As=t(60854);class Xn{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new As.rS(new Pe.e(1,1,1,1),0,0,new ue.L(1,1),0),new As.rS(new Pe.e(1,1,1,1),0,0,new ue.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new As.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const o=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!o.isEmpty()?Z.Y.fromRange(o.collapseToEnd(),this.modelState.selection.getDirection()):Z.Y.fromRange(o,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,o,y){this._setState(e,o,y)}static _validatePositionWithCache(e,o,y,W){return o.equals(y)?W:e.normalizePosition(o,2)}static _validateViewState(e,o){const y=o.position,W=o.selectionStart.getStartPosition(),G=o.selectionStart.getEndPosition(),be=e.normalizePosition(y,2),Oe=this._validatePositionWithCache(e,W,y,be),Ze=this._validatePositionWithCache(e,G,W,Oe);return y.equals(be)&&W.equals(Oe)&&G.equals(Ze)?o:new As.rS(Pe.e.fromPositions(Oe,Ze),o.selectionStartKind,o.selectionStartLeftoverVisibleColumns+W.column-Oe.column,be,o.leftoverVisibleColumns+y.column-be.column)}_setState(e,o,y){if(y&&(y=Xn._validateViewState(e.viewModel,y)),o){const W=e.model.validateRange(o.selectionStart),G=o.selectionStart.equalsRange(W)?o.selectionStartLeftoverVisibleColumns:0,be=e.model.validatePosition(o.position),Oe=o.position.equals(be)?o.leftoverVisibleColumns:0;o=new As.rS(W,o.selectionStartKind,G,be,Oe)}else{if(!y)return;const W=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(y.selectionStart)),G=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(y.position));o=new As.rS(W,y.selectionStartKind,y.selectionStartLeftoverVisibleColumns,G,y.leftoverVisibleColumns)}if(y){const W=e.coordinatesConverter.validateViewRange(y.selectionStart,o.selectionStart),G=e.coordinatesConverter.validateViewPosition(y.position,o.position);y=new As.rS(W,o.selectionStartKind,o.selectionStartLeftoverVisibleColumns,G,o.leftoverVisibleColumns)}else{const W=e.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(o.selectionStart.startLineNumber,o.selectionStart.startColumn)),G=e.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(o.selectionStart.endLineNumber,o.selectionStart.endColumn)),be=new Pe.e(W.lineNumber,W.column,G.lineNumber,G.column),Oe=e.coordinatesConverter.convertModelPositionToViewPosition(o.position);y=new As.rS(be,o.selectionStartKind,o.selectionStartLeftoverVisibleColumns,Oe,o.leftoverVisibleColumns)}this.modelState=o,this.viewState=y,this._updateTrackedRange(e)}}class hs{constructor(e){this.context=e,this.cursors=[new Xn(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return(0,d.VJ)(this.cursors,(0,d.tT)(e=>e.viewState.position,ue.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,d.jV)(this.cursors,(0,d.tT)(e=>e.viewState.position,ue.L.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(As.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const o=this.cursors.length-1,y=e.length;if(o<y){const W=y-o;for(let G=0;G<W;G++)this._addSecondaryCursor()}else if(o>y){const W=o-y;for(let G=0;G<W;G++)this._removeSecondaryCursor(this.cursors.length-2)}for(let W=0;W<y;W++)this.cursors[W+1].setState(this.context,e[W].modelState,e[W].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Xn(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),o=[];for(let y=0,W=e.length;y<W;y++)o.push({index:y,selection:e[y].modelState.selection});o.sort((0,d.tT)(y=>y.selection,Pe.e.compareRangesUsingStarts));for(let y=0;y<o.length-1;y++){const W=o[y],G=o[y+1],be=W.selection,Oe=G.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Ze;if(Oe.isEmpty()||be.isEmpty()?Ze=Oe.getStartPosition().isBeforeOrEqual(be.getEndPosition()):Ze=Oe.getStartPosition().isBefore(be.getEndPosition()),Ze){const et=W.index<G.index?y:y+1,it=W.index<G.index?y+1:y,pt=o[it].index,Ft=o[et].index,Ot=o[it].selection,Xt=o[et].selection;if(!Ot.equalsSelection(Xt)){const ii=Ot.plusRange(Xt),ri=Ot.selectionStartLineNumber===Ot.startLineNumber&&Ot.selectionStartColumn===Ot.startColumn,_i=Xt.selectionStartLineNumber===Xt.startLineNumber&&Xt.selectionStartColumn===Xt.startColumn;let Ti;pt===this.lastAddedCursorIndex?(Ti=ri,this.lastAddedCursorIndex=Ft):Ti=_i;let xi;Ti?xi=new Z.Y(ii.startLineNumber,ii.startColumn,ii.endLineNumber,ii.endColumn):xi=new Z.Y(ii.endLineNumber,ii.endColumn,ii.startLineNumber,ii.startColumn),o[et].selection=xi;const Zi=As.Vi.fromModelSelection(xi);e[Ft].setState(this.context,Zi.modelState,Zi.viewState)}for(const ii of o)ii.index>pt&&ii.index--;e.splice(pt,1),o.splice(it,1),this._removeSecondaryCursor(pt-1),y--}}}}class js{constructor(e,o,y,W){this._cursorContextBrand=void 0,this.model=e,this.viewModel=o,this.coordinatesConverter=y,this.cursorConfig=W}}var cs=t(24048),Os=t(96124),uo=t(30828);class sr{constructor(){this.type=0}}class ur{constructor(){this.type=1}}class Rr{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class hr{constructor(e,o,y){this.selections=e,this.modelSelections=o,this.reason=y,this.type=3}}class or{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}class Or{constructor(){this.type=5}}class Pa{constructor(e){this.type=6,this.isFocused=e}}class _a{constructor(){this.type=7}}class br{constructor(){this.type=8}}class na{constructor(e,o){this.fromLineNumber=e,this.count=o,this.type=9}}class Yo{constructor(e,o){this.type=10,this.fromLineNumber=e,this.toLineNumber=o}}class Ar{constructor(e,o){this.type=11,this.fromLineNumber=e,this.toLineNumber=o}}class kr{constructor(e,o,y,W,G,be,Oe){this.source=e,this.minimalReveal=o,this.range=y,this.selections=W,this.verticalType=G,this.revealHorizontal=be,this.scrollType=Oe,this.type=12}}class Ca{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class ba{constructor(e){this.theme=e,this.type=14}}class Hs{constructor(e){this.type=15,this.ranges=e}}class Sr{constructor(){this.type=16}}class Us{constructor(){this.type=17}}class Fr extends g.JT{constructor(){super(),this._onEvent=this._register(new E.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let o=0,y=this._outgoingEvents.length;o<y;o++){const W=this._outgoingEvents[o].kind===e.kind?this._outgoingEvents[o].attemptToMerge(e):null;if(W){this._outgoingEvents[o]=W;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let o=0,y=this._eventHandlers.length;o<y;o++)this._eventHandlers[o]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let o=0;o<this._eventHandlers.length;o++)if(this._eventHandlers[o]===e){this._eventHandlers.splice(o,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Oo),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,o=this._collector.viewEvents;this._collector=null;for(const y of e)this._addOutgoingEvent(y);o.length>0&&this._emitMany(o)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const o=this._eventHandlers.slice(0);for(const y of o)y.handleEvents(e)}}}class Oo{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class Xo{constructor(e,o,y,W){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=o,this.contentWidth=y,this.contentHeight=W,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Xo(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Fo{constructor(e,o){this.kind=1,this.oldHasFocus=e,this.hasFocus=o}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new Fo(this.oldHasFocus,e.hasFocus)}}class Io{constructor(e,o,y,W,G,be,Oe,Ze){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=o,this._oldScrollHeight=y,this._oldScrollTop=W,this.scrollWidth=G,this.scrollLeft=be,this.scrollHeight=Oe,this.scrollTop=Ze,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Io(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class wn{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Jo{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class $o{constructor(e,o,y,W,G,be,Oe){this.kind=6,this.oldSelections=e,this.selections=o,this.oldModelVersionId=y,this.modelVersionId=W,this.source=G,this.reason=be,this.reachedMaxCursorCount=Oe}static _selectionsAreEqual(e,o){if(!e&&!o)return!0;if(!e||!o)return!1;const y=e.length,W=o.length;if(y!==W)return!1;for(let G=0;G<y;G++)if(!e[G].equalsSelection(o[G]))return!1;return!0}isNoOp(){return $o._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new $o(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class lo{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Ys{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class Bo{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Wo{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class yr{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class es{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class Jn{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class to extends g.JT{constructor(e,o,y,W){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=y,this.context=new js(this._model,this._viewModel,this._coordinatesConverter,W),this._cursors=new hs(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,g.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new js(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const y=this._autoClosedActions[o];y.isValid(e)||(y.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,o,y,W){let G=!1;const be=this.context.cursorConfig.multiCursorLimit;W!==null&&W.length>be&&(W=W.slice(0,be),G=!0);const Oe=qs.from(this._model,this);return this._cursors.setStates(W),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,o,y,Oe,G)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,o,y,W,G,be){const Oe=this._cursors.getViewPositions();let Ze=null,et=null;Oe.length>1?et=this._cursors.getViewSelections():Ze=Pe.e.fromPositions(Oe[0],Oe[0]),e.emitViewEvent(new kr(o,y,Ze,et,W,G,be))}saveState(){const e=[],o=this._cursors.getSelections();for(let y=0,W=o.length;y<W;y++){const G=o[y];e.push({inSelectionMode:!G.isEmpty(),selectionStart:{lineNumber:G.selectionStartLineNumber,column:G.selectionStartColumn},position:{lineNumber:G.positionLineNumber,column:G.positionColumn}})}return e}restoreState(e,o){const y=[];for(let W=0,G=o.length;W<G;W++){const be=o[W];let Oe=1,Ze=1;be.position&&be.position.lineNumber&&(Oe=be.position.lineNumber),be.position&&be.position.column&&(Ze=be.position.column);let et=Oe,it=Ze;be.selectionStart&&be.selectionStart.lineNumber&&(et=be.selectionStart.lineNumber),be.selectionStart&&be.selectionStart.column&&(it=be.selectionStart.column),y.push({selectionStartLineNumber:et,selectionStartColumn:it,positionLineNumber:Oe,positionColumn:Ze})}this.setStates(e,"restoreState",0,As.Vi.fromModelSelections(y)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,o){if(o instanceof uo.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const y=o.rawContentChangedEvent;if(this._knownModelVersionId=y.versionId,this._isHandling)return;const W=y.containsEvent(1);if(this._prevEditOperationType=0,W)this._cursors.dispose(),this._cursors=new hs(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&y.resultingSelection&&y.resultingSelection.length>0){const G=As.Vi.fromModelSelections(y.resultingSelection);this.setStates(e,"modelChange",y.isUndoing?5:y.isRedoing?6:2,G)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const G=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,As.Vi.fromModelSelections(G))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),o=e.viewState.selectionStart.getStartPosition(),y=e.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,o),toViewLineNumber:y.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,y)}}getSelections(){return this._cursors.getSelections()}setSelections(e,o,y,W){this.setStates(e,o,W,As.Vi.fromModelSelections(y))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,o){const y=[],W=[];for(let Oe=0,Ze=e.length;Oe<Ze;Oe++)y.push({range:e[Oe],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),W.push({range:o[Oe],options:{description:"auto-closed-enclosing",stickiness:1}});const G=this._model.deltaDecorations([],y),be=this._model.deltaDecorations([],W);this._autoClosedActions.push(new Co(this._model,G,be))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const o=Ho.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(o){this._interpretCommandResult(o);const y=[],W=[];for(let G=0;G<e.commands.length;G++){const be=e.commands[G];be instanceof Os.g_&&be.enclosingRange&&be.closeCharacterRange&&(y.push(be.closeCharacterRange),W.push(be.enclosingRange))}y.length>0&&this._pushAutoClosedAction(y,W),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,o,y,W,G){const be=qs.from(this._model,this);if(be.equals(W))return!1;const Oe=this._cursors.getSelections(),Ze=this._cursors.getViewSelections();if(e.emitViewEvent(new hr(Ze,Oe,y)),!W||W.cursorState.length!==be.cursorState.length||be.cursorState.some((et,it)=>!et.modelState.equals(W.cursorState[it].modelState))){const et=W?W.cursorState.map(pt=>pt.modelState.selection):null,it=W?W.modelVersionId:0;e.emitOutgoingEvent(new $o(et,Oe,it,be.modelVersionId,o||"keyboard",y,G))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const o=[];for(let y=0,W=e.length;y<W;y++){const G=e[y];if(!G.text||G.text.indexOf(`
`)>=0)return null;const be=G.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!be)return null;const Oe=be[1],Ze=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Oe);if(!Ze||Ze.length!==1)return null;const et=Ze[0].open,it=G.text.length-be[2].length-1,pt=G.text.lastIndexOf(et,it-1);if(pt===-1)return null;o.push([pt,it])}return o}executeEdits(e,o,y,W){let G=null;o==="snippet"&&(G=this._findAutoClosingPairs(y)),G&&(y[0]._isTracked=!0);const be=[],Oe=[],Ze=this._model.pushEditOperations(this.getSelections(),y,et=>{if(G)for(let pt=0,Ft=G.length;pt<Ft;pt++){const[Ot,Xt]=G[pt],ii=et[pt],ri=ii.range.startLineNumber,_i=ii.range.startColumn-1+Ot,Ti=ii.range.startColumn-1+Xt;be.push(new Pe.e(ri,Ti+1,ri,Ti+2)),Oe.push(new Pe.e(ri,_i+1,ri,Ti+2))}const it=W(et);return it&&(this._isHandling=!0),it});Ze&&(this._isHandling=!1,this.setSelections(e,o,Ze,0)),be.length>0&&this._pushAutoClosedAction(be,Oe)}_executeEdit(e,o,y,W=0){if(this.context.cursorConfig.readOnly)return;const G=qs.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(be){(0,L.dL)(be)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,y,W,G,!1)&&this.revealPrimary(o,y,!1,0,!0,0)}getAutoClosedCharacters(){return Co.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new bo(this._model,this.getSelections())}endComposition(e,o){const y=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{o==="keyboard"&&this._executeEditOperation(Os.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,y,this.getSelections(),this.getAutoClosedCharacters()))},e,o)}type(e,o,y){this._executeEdit(()=>{if(y==="keyboard"){const W=o.length;let G=0;for(;G<W;){const be=Vi.vH(o,G),Oe=o.substr(G,be);this._executeEditOperation(Os.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Oe)),G+=be}}else this._executeEditOperation(Os.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},e,y)}compositionType(e,o,y,W,G,be){if(o.length===0&&y===0&&W===0){if(G!==0){const Oe=this.getSelections().map(Ze=>{const et=Ze.getPosition();return new Z.Y(et.lineNumber,et.column+G,et.lineNumber,et.column+G)});this.setSelections(e,be,Oe,0)}return}this._executeEdit(()=>{this._executeEditOperation(Os.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,y,W,G))},e,be)}paste(e,o,y,W,G){this._executeEdit(()=>{this._executeEditOperation(Os.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),o,y,W||[]))},e,G,4)}cut(e,o){this._executeEdit(()=>{this._executeEditOperation(cs.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,o)}executeCommand(e,o,y){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new As.Tp(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,y)}executeCommands(e,o,y){this._executeEdit(()=>{this._executeEditOperation(new As.Tp(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,y)}}class qs{static from(e,o){return new qs(e.getVersionId(),o.getCursorStates())}constructor(e,o){this.modelVersionId=e,this.cursorState=o}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let o=0,y=this.cursorState.length;o<y;o++)if(!this.cursorState[o].equals(e.cursorState[o]))return!1;return!0}}class Co{static getAllAutoClosedCharacters(e){let o=[];for(const y of e)o=o.concat(y.getAutoClosedCharactersRanges());return o}constructor(e,o,y){this._model=e,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=y}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const y=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);y&&e.push(y)}return e}isValid(e){const o=[];for(let y=0;y<this._autoClosedEnclosingDecorations.length;y++){const W=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[y]);if(W&&(o.push(W),W.startLineNumber!==W.endLineNumber))return!1}o.sort(Pe.e.compareRangesUsingStarts),e.sort(Pe.e.compareRangesUsingStarts);for(let y=0;y<e.length;y++)if(y>=o.length||!o[y].strictContainsRange(e[y]))return!1;return!0}}class Ho{static executeCommands(e,o,y){const W={model:e,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},G=this._innerExecuteCommands(W,y);for(let be=0,Oe=W.trackedRanges.length;be<Oe;be++)W.model._setTrackedRange(W.trackedRanges[be],null,0);return G}static _innerExecuteCommands(e,o){if(this._arrayIsEmpty(o))return null;const y=this._getEditOperations(e,o);if(y.operations.length===0)return null;const W=y.operations,G=this._getLoserCursorMap(W);if(G.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const be=[];for(let et=0,it=W.length;et<it;et++)G.hasOwnProperty(W[et].identifier.major.toString())||be.push(W[et]);y.hadTrackedEditOperation&&be.length>0&&(be[0]._isTracked=!0);let Oe=e.model.pushEditOperations(e.selectionsBefore,be,et=>{const it=[];for(let Ot=0;Ot<e.selectionsBefore.length;Ot++)it[Ot]=[];for(const Ot of et)Ot.identifier&&it[Ot.identifier.major].push(Ot);const pt=(Ot,Xt)=>Ot.identifier.minor-Xt.identifier.minor,Ft=[];for(let Ot=0;Ot<e.selectionsBefore.length;Ot++)it[Ot].length>0?(it[Ot].sort(pt),Ft[Ot]=o[Ot].computeCursorState(e.model,{getInverseEditOperations:()=>it[Ot],getTrackedSelection:Xt=>{const ii=parseInt(Xt,10),ri=e.model._getTrackedRange(e.trackedRanges[ii]);return e.trackedRangesDirection[ii]===0?new Z.Y(ri.startLineNumber,ri.startColumn,ri.endLineNumber,ri.endColumn):new Z.Y(ri.endLineNumber,ri.endColumn,ri.startLineNumber,ri.startColumn)}})):Ft[Ot]=e.selectionsBefore[Ot];return Ft});Oe||(Oe=e.selectionsBefore);const Ze=[];for(const et in G)G.hasOwnProperty(et)&&Ze.push(parseInt(et,10));Ze.sort((et,it)=>it-et);for(const et of Ze)Oe.splice(et,1);return Oe}static _arrayIsEmpty(e){for(let o=0,y=e.length;o<y;o++)if(e[o])return!1;return!0}static _getEditOperations(e,o){let y=[],W=!1;for(let G=0,be=o.length;G<be;G++){const Oe=o[G];if(Oe){const Ze=this._getEditOperationsFromCommand(e,G,Oe);y=y.concat(Ze.operations),W=W||Ze.hadTrackedEditOperation}}return{operations:y,hadTrackedEditOperation:W}}static _getEditOperationsFromCommand(e,o,y){const W=[];let G=0;const be=(pt,Ft,Ot=!1)=>{Pe.e.isEmpty(pt)&&Ft===""||W.push({identifier:{major:o,minor:G++},range:pt,text:Ft,forceMoveMarkers:Ot,isAutoWhitespaceEdit:y.insertsAutoWhitespace})};let Oe=!1;const it={addEditOperation:be,addTrackedEditOperation:(pt,Ft,Ot)=>{Oe=!0,be(pt,Ft,Ot)},trackSelection:(pt,Ft)=>{const Ot=Z.Y.liftSelection(pt);let Xt;if(Ot.isEmpty())if(typeof Ft=="boolean")Ft?Xt=2:Xt=3;else{const _i=e.model.getLineMaxColumn(Ot.startLineNumber);Ot.startColumn===_i?Xt=2:Xt=3}else Xt=1;const ii=e.trackedRanges.length,ri=e.model._setTrackedRange(null,Ot,Xt);return e.trackedRanges[ii]=ri,e.trackedRangesDirection[ii]=Ot.getDirection(),ii.toString()}};try{y.getEditOperations(e.model,it)}catch(pt){return(0,L.dL)(pt),{operations:[],hadTrackedEditOperation:!1}}return{operations:W,hadTrackedEditOperation:Oe}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((y,W)=>-Pe.e.compareRangesUsingEnds(y.range,W.range));const o={};for(let y=1;y<e.length;y++){const W=e[y-1],G=e[y];if(Pe.e.getStartPosition(W.range).isBefore(Pe.e.getEndPosition(G.range))){let be;W.identifier.major>G.identifier.major?be=W.identifier.major:be=G.identifier.major,o[be.toString()]=!0;for(let Oe=0;Oe<e.length;Oe++)e[Oe].identifier.major===be&&(e.splice(Oe,1),Oe<y&&y--,Oe--);y>0&&y--}}return o}}class No{constructor(e,o,y){this.text=e,this.startSelection=o,this.endSelection=y}}class bo{static _capture(e,o){const y=[];for(const W of o){if(W.startLineNumber!==W.endLineNumber)return null;y.push(new No(e.getLineContent(W.startLineNumber),W.startColumn-1,W.endColumn-1))}return y}constructor(e,o){this._original=bo._capture(e,o)}deduceOutcome(e,o){if(!this._original)return null;const y=bo._capture(e,o);if(!y||this._original.length!==y.length)return null;const W=[];for(let G=0,be=this._original.length;G<be;G++)W.push(bo._deduceOutcome(this._original[G],y[G]));return W}static _deduceOutcome(e,o){const y=Math.min(e.startSelection,o.startSelection,Vi.Mh(e.text,o.text)),W=Math.min(e.text.length-e.endSelection,o.text.length-o.endSelection,Vi.P1(e.text,o.text)),G=e.text.substring(y,e.text.length-W),be=o.text.substring(y,o.text.length-W);return new Os.Nu(G,e.startSelection-y,e.endSelection-y,be,o.startSelection-y,o.endSelection-y)}}var qa=t(90638),el=t(7358),Kr=t(44929);class Ra{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const o=this._inserts,y=this._changes,W=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(o,y,W)}}class Oa{constructor(e,o,y,W,G){this.id=e,this.afterLineNumber=o,this.ordinal=y,this.height=W,this.minWidth=G,this.prefixSum=0}}class $r{constructor(e,o,y,W){this._instanceId=Vi.PJ(++$r.INSTANCE_COUNT),this._pendingChanges=new Ra,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=o,this._paddingTop=y,this._paddingBottom=W}static findInsertionIndex(e,o,y){let W=0,G=e.length;for(;W<G;){const be=W+G>>>1;o===e[be].afterLineNumber?y<e[be].ordinal?G=be:W=be+1:o<e[be].afterLineNumber?G=be:W=be+1}return W}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,o){this._paddingTop=e,this._paddingBottom=o}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let o=!1;try{e({insertWhitespace:(W,G,be,Oe)=>{o=!0,W=W|0,G=G|0,be=be|0,Oe=Oe|0;const Ze=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Oa(Ze,W,G,be,Oe)),Ze},changeOneWhitespace:(W,G,be)=>{o=!0,G=G|0,be=be|0,this._pendingChanges.change({id:W,newAfterLineNumber:G,newHeight:be})},removeWhitespace:W=>{o=!0,this._pendingChanges.remove({id:W})}})}finally{this._pendingChanges.commit(this)}return o}_commitPendingChanges(e,o,y){if((e.length>0||y.length>0)&&(this._minWidth=-1),e.length+o.length+y.length<=1){for(const Ze of e)this._insertWhitespace(Ze);for(const Ze of o)this._changeOneWhitespace(Ze.id,Ze.newAfterLineNumber,Ze.newHeight);for(const Ze of y){const et=this._findWhitespaceIndex(Ze.id);et!==-1&&this._removeWhitespace(et)}return}const W=new Set;for(const Ze of y)W.add(Ze.id);const G=new Map;for(const Ze of o)G.set(Ze.id,Ze);const be=Ze=>{const et=[];for(const it of Ze)if(!W.has(it.id)){if(G.has(it.id)){const pt=G.get(it.id);it.afterLineNumber=pt.newAfterLineNumber,it.height=pt.newHeight}et.push(it)}return et},Oe=be(this._arr).concat(be(e));Oe.sort((Ze,et)=>Ze.afterLineNumber===et.afterLineNumber?Ze.ordinal-et.ordinal:Ze.afterLineNumber-et.afterLineNumber),this._arr=Oe,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const o=$r.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(o,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)}_findWhitespaceIndex(e){const o=this._arr;for(let y=0,W=o.length;y<W;y++)if(o[y].id===e)return y;return-1}_changeOneWhitespace(e,o,y){const W=this._findWhitespaceIndex(e);if(W!==-1&&(this._arr[W].height!==y&&(this._arr[W].height=y,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,W-1)),this._arr[W].afterLineNumber!==o)){const G=this._arr[W];this._removeWhitespace(W),G.afterLineNumber=o,this._insertWhitespace(G)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount-=o-e+1;for(let y=0,W=this._arr.length;y<W;y++){const G=this._arr[y].afterLineNumber;e<=G&&G<=o?this._arr[y].afterLineNumber=e-1:G>o&&(this._arr[y].afterLineNumber-=o-e+1)}}onLinesInserted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount+=o-e+1;for(let y=0,W=this._arr.length;y<W;y++){const G=this._arr[y].afterLineNumber;e<=G&&(this._arr[y].afterLineNumber+=o-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let o=Math.max(0,this._prefixSumValidIndex+1);o===0&&(this._arr[0].prefixSum=this._arr[0].height,o++);for(let y=o;y<=e;y++)this._arr[y].prefixSum=this._arr[y-1].prefixSum+this._arr[y].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,o=this.getWhitespacesTotalHeight();return e+o+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const o=this._findLastWhitespaceBeforeLineNumber(e);return o===-1?0:this.getWhitespacesAccumulatedHeight(o)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const o=this._arr;let y=0,W=o.length-1;for(;y<=W;){const be=(W-y|0)/2|0,Oe=y+be|0;if(o[Oe].afterLineNumber<e){if(Oe+1>=o.length||o[Oe+1].afterLineNumber>=e)return Oe;y=Oe+1|0}else W=Oe-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const y=this._findLastWhitespaceBeforeLineNumber(e)+1;return y<this._arr.length?y:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;let y;e>1?y=this._lineHeight*(e-1):y=0;const W=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(o?1:0));return y+W+this._paddingTop}getVerticalOffsetAfterLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;const y=this._lineHeight*e,W=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(o?1:0));return y+W+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let o=0,y=this._arr.length;o<y;o++)e=Math.max(e,this._arr[o].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>o}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>=o-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const o=this._lineCount|0,y=this._lineHeight;let W=1,G=o;for(;W<G;){const be=(W+G)/2|0,Oe=this.getVerticalOffsetForLineNumber(be)|0;if(e>=Oe+y)W=be+1;else{if(e>=Oe)return be;G=be}}return W>o?o:W}getLinesViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const y=this._lineHeight,W=this.getLineNumberAtOrAfterVerticalOffset(e)|0,G=this.getVerticalOffsetForLineNumber(W)|0;let be=this._lineCount|0,Oe=this.getFirstWhitespaceIndexAfterLineNumber(W)|0;const Ze=this.getWhitespacesCount()|0;let et,it;Oe===-1?(Oe=Ze,it=be+1,et=0):(it=this.getAfterLineNumberForWhitespaceIndex(Oe)|0,et=this.getHeightForWhitespaceIndex(Oe)|0);let pt=G,Ft=pt;const Ot=5e5;let Xt=0;G>=Ot&&(Xt=Math.floor(G/Ot)*Ot,Xt=Math.floor(Xt/y)*y,Ft-=Xt);const ii=[],ri=e+(o-e)/2;let _i=-1;for(let Ki=W;Ki<=be;Ki++){if(_i===-1){const un=pt,dn=pt+y;(un<=ri&&ri<dn||un>ri)&&(_i=Ki)}for(pt+=y,ii[Ki-W]=Ft,Ft+=y;it===Ki;)Ft+=et,pt+=et,Oe++,Oe>=Ze?it=be+1:(it=this.getAfterLineNumberForWhitespaceIndex(Oe)|0,et=this.getHeightForWhitespaceIndex(Oe)|0);if(pt>=o){be=Ki;break}}_i===-1&&(_i=be);const Ti=this.getVerticalOffsetForLineNumber(be)|0;let xi=W,Zi=be;return xi<Zi&&G<e&&xi++,xi<Zi&&Ti+y>o&&Zi--,{bigNumbersDelta:Xt,startLineNumber:W,endLineNumber:be,relativeVerticalOffset:ii,centeredLineNumber:_i,completelyVisibleStartLineNumber:xi,completelyVisibleEndLineNumber:Zi}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const o=this.getAfterLineNumberForWhitespaceIndex(e);let y;o>=1?y=this._lineHeight*o:y=0;let W;return e>0?W=this.getWhitespacesAccumulatedHeight(e-1):W=0,y+W+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let o=0,y=this.getWhitespacesCount()-1;if(y<0)return-1;const W=this.getVerticalOffsetForWhitespaceIndex(y),G=this.getHeightForWhitespaceIndex(y);if(e>=W+G)return-1;for(;o<y;){const be=Math.floor((o+y)/2),Oe=this.getVerticalOffsetForWhitespaceIndex(be),Ze=this.getHeightForWhitespaceIndex(be);if(e>=Oe+Ze)o=be+1;else{if(e>=Oe)return be;y=be}}return o}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const o=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(o<0||o>=this.getWhitespacesCount())return null;const y=this.getVerticalOffsetForWhitespaceIndex(o);if(y>e)return null;const W=this.getHeightForWhitespaceIndex(o),G=this.getIdForWhitespaceIndex(o),be=this.getAfterLineNumberForWhitespaceIndex(o);return{id:G,afterLineNumber:be,verticalOffset:y,height:W}}getWhitespaceViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const y=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),W=this.getWhitespacesCount()-1;if(y<0)return[];const G=[];for(let be=y;be<=W;be++){const Oe=this.getVerticalOffsetForWhitespaceIndex(be),Ze=this.getHeightForWhitespaceIndex(be);if(Oe>=o)break;G.push({id:this.getIdForWhitespaceIndex(be),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(be),verticalOffset:Oe,height:Ze})}return G}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}$r.INSTANCE_COUNT=0;const tl=125;class co{constructor(e,o,y,W){e=e|0,o=o|0,y=y|0,W=W|0,e<0&&(e=0),o<0&&(o=0),y<0&&(y=0),W<0&&(W=0),this.width=e,this.contentWidth=o,this.scrollWidth=Math.max(e,o),this.height=y,this.contentHeight=W,this.scrollHeight=Math.max(y,W)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class wr extends g.JT{constructor(e,o){super(),this._onDidContentSizeChange=this._register(new E.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new co(0,0,0,0),this._scrollable=this._register(new Kr.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const o=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const y=o.contentWidth!==e.contentWidth,W=o.contentHeight!==e.contentHeight;(y||W)&&this._onDidContentSizeChange.fire(new Xo(o.contentWidth,o.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class il extends g.JT{constructor(e,o,y){super(),this._configuration=e;const W=this._configuration.options,G=W.get(140),be=W.get(81);this._linesLayout=new $r(o,W.get(64),be.top,be.bottom),this._scrollable=this._register(new wr(0,y)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new co(G.contentWidth,0,G.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(110)?tl:0)}onConfigurationChanged(e){const o=this._configuration.options;if(e.hasChanged(64)&&this._linesLayout.setLineHeight(o.get(64)),e.hasChanged(81)){const y=o.get(81);this._linesLayout.setPadding(y.top,y.bottom)}if(e.hasChanged(140)){const y=o.get(140),W=y.contentWidth,G=y.height,be=this._scrollable.getScrollDimensions(),Oe=be.contentWidth;this._scrollable.setScrollDimensions(new co(W,be.contentWidth,G,this._getContentHeight(W,G,Oe)))}else this._updateHeight();e.hasChanged(110)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,o){this._linesLayout.onLinesDeleted(e,o)}onLinesInserted(e,o){this._linesLayout.onLinesInserted(e,o)}_getHorizontalScrollbarHeight(e,o){const W=this._configuration.options.get(99);return W.horizontal===2||e>=o?0:W.horizontalScrollbarSize}_getContentHeight(e,o,y){const W=this._configuration.options;let G=this._linesLayout.getLinesTotalHeight();return W.get(101)?G+=Math.max(0,o-W.get(64)-W.get(81).bottom):G+=this._getHorizontalScrollbarHeight(e,y),G}_updateHeight(){const e=this._scrollable.getScrollDimensions(),o=e.width,y=e.height,W=e.contentWidth;this._scrollable.setScrollDimensions(new co(o,e.contentWidth,y,this._getContentHeight(o,y,W)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new ns.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new ns.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}_computeContentWidth(e){const o=this._configuration.options,y=o.get(141),W=o.get(48),G=o.get(140);if(y.isViewportWrapping){const be=o.get(70);return e>G.contentWidth+W.typicalHalfwidthCharacterWidth&&be.enabled&&be.side==="right"?e+G.verticalScrollbarWidth:e}else{const be=o.get(100)*W.typicalHalfwidthCharacterWidth,Oe=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+be+G.verticalScrollbarWidth,Oe)}}setMaxLineWidth(e){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new co(o.width,this._computeContentWidth(e),o.height,o.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),o=e.scrollTop,y=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),W=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(y);return{scrollTop:o,scrollTopWithoutViewZones:o-W,scrollLeft:e.scrollLeft}}changeWhitespace(e){const o=this._linesLayout.changeWhitespace(e);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,o)}getVerticalOffsetAfterLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,o)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const o=this._scrollable.getScrollDimensions();return e+o.height>o.scrollHeight&&(e=o.scrollHeight-o.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+o.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,o){o===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,o){const y=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:y.scrollLeft+e,scrollTop:y.scrollTop+o})}}var Aa=t(82807),Sa=t(10403);function fr(Et,e){return Et===null?e?oa.INSTANCE:gr.INSTANCE:new sa(Et,e)}class sa{constructor(e,o){this._projectionData=e,this._isVisible=o}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,o,y){this._assertVisible();const W=y>0?this._projectionData.breakOffsets[y-1]:0,G=this._projectionData.breakOffsets[y];let be;if(this._projectionData.injectionOffsets!==null){const Oe=this._projectionData.injectionOffsets.map((et,it)=>new uo.gk(0,0,et+1,this._projectionData.injectionOptions[it],0));be=uo.gk.applyInjectedText(e.getLineContent(o),Oe).substring(W,G)}else be=e.getValueInRange({startLineNumber:o,startColumn:W+1,endLineNumber:o,endColumn:G+1});return y>0&&(be=ra(this._projectionData.wrappedTextIndentLength)+be),be}getViewLineLength(e,o,y){return this._assertVisible(),this._projectionData.getLineLength(y)}getViewLineMinColumn(e,o,y){return this._assertVisible(),this._projectionData.getMinOutputOffset(y)+1}getViewLineMaxColumn(e,o,y){return this._assertVisible(),this._projectionData.getMaxOutputOffset(y)+1}getViewLineData(e,o,y){const W=new Array;return this.getViewLinesData(e,o,y,1,0,[!0],W),W[0]}getViewLinesData(e,o,y,W,G,be,Oe){this._assertVisible();const Ze=this._projectionData,et=Ze.injectionOffsets,it=Ze.injectionOptions;let pt=null;if(et){pt=[];let Ot=0,Xt=0;for(let ii=0;ii<Ze.getOutputLineCount();ii++){const ri=new Array;pt[ii]=ri;const _i=ii>0?Ze.breakOffsets[ii-1]:0,Ti=Ze.breakOffsets[ii];for(;Xt<et.length;){const xi=it[Xt].content.length,Zi=et[Xt]+Ot,Ki=Zi+xi;if(Zi>Ti)break;if(_i<Ki){const un=it[Xt];if(un.inlineClassName){const dn=ii>0?Ze.wrappedTextIndentLength:0,hn=dn+Math.max(Zi-_i,0),Ui=dn+Math.min(Ki-_i,Ti);hn!==Ui&&ri.push(new ns.Wx(hn,Ui,un.inlineClassName,un.inlineClassNameAffectsLetterSpacing))}}if(Ki<=Ti)Ot+=xi,Xt++;else break}}}let Ft;et?Ft=e.tokenization.getLineTokens(o).withInserted(et.map((Ot,Xt)=>({offset:Ot,text:it[Xt].content,tokenMetadata:Sa.A.defaultTokenMetadata}))):Ft=e.tokenization.getLineTokens(o);for(let Ot=y;Ot<y+W;Ot++){const Xt=G+Ot-y;if(!be[Xt]){Oe[Xt]=null;continue}Oe[Xt]=this._getViewLineData(Ft,pt?pt[Ot]:null,Ot)}}_getViewLineData(e,o,y){this._assertVisible();const W=this._projectionData,G=y>0?W.wrappedTextIndentLength:0,be=y>0?W.breakOffsets[y-1]:0,Oe=W.breakOffsets[y],Ze=e.sliceAndInflate(be,Oe,G);let et=Ze.getLineContent();y>0&&(et=ra(W.wrappedTextIndentLength)+et);const it=this._projectionData.getMinOutputOffset(y)+1,pt=et.length+1,Ft=y+1<this.getViewLineCount(),Ot=y===0?0:W.breakOffsetsVisibleColumn[y-1];return new ns.IP(et,Ft,it,pt,Ot,Ze,o)}getModelColumnOfViewPosition(e,o){return this._assertVisible(),this._projectionData.translateToInputOffset(e,o-1)+1}getViewPositionOfModelPosition(e,o,y=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(o-1,y).toPosition(e)}getViewLineNumberOfModelPosition(e,o){this._assertVisible();const y=this._projectionData.translateToOutputPosition(o-1);return e+y.outputLineIndex}normalizePosition(e,o,y){const W=o.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,o.column-1,y).toPosition(W)}getInjectedTextAt(e,o){return this._projectionData.getInjectedText(e,o-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class oa{constructor(){}isVisible(){return!0}setVisible(e){return e?this:gr.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,o,y){return e.getLineContent(o)}getViewLineLength(e,o,y){return e.getLineLength(o)}getViewLineMinColumn(e,o,y){return e.getLineMinColumn(o)}getViewLineMaxColumn(e,o,y){return e.getLineMaxColumn(o)}getViewLineData(e,o,y){const W=e.tokenization.getLineTokens(o),G=W.getLineContent();return new ns.IP(G,!1,1,G.length+1,0,W.inflate(),null)}getViewLinesData(e,o,y,W,G,be,Oe){if(!be[G]){Oe[G]=null;return}Oe[G]=this.getViewLineData(e,o,0)}getModelColumnOfViewPosition(e,o){return o}getViewPositionOfModelPosition(e,o){return new ue.L(e,o)}getViewLineNumberOfModelPosition(e,o){return e}normalizePosition(e,o,y){return o}getInjectedTextAt(e,o){return null}}oa.INSTANCE=new oa;class gr{constructor(){}isVisible(){return!1}setVisible(e){return e?oa.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,o,y){throw new Error("Not supported")}getViewLineLength(e,o,y){throw new Error("Not supported")}getViewLineMinColumn(e,o,y){throw new Error("Not supported")}getViewLineMaxColumn(e,o,y){throw new Error("Not supported")}getViewLineData(e,o,y){throw new Error("Not supported")}getViewLinesData(e,o,y,W,G,be,Oe){throw new Error("Not supported")}getModelColumnOfViewPosition(e,o){throw new Error("Not supported")}getViewPositionOfModelPosition(e,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,o){throw new Error("Not supported")}normalizePosition(e,o,y){throw new Error("Not supported")}getInjectedTextAt(e,o){throw new Error("Not supported")}}gr.INSTANCE=new gr;const ya=[""];function ra(Et){if(Et>=ya.length)for(let e=1;e<=Et;e++)ya[e]=aa(e);return ya[Et]}function aa(Et){return new Array(Et+1).join(" ")}var wa=t(82808);class nl{constructor(e,o,y,W,G,be,Oe,Ze,et,it){this._editorId=e,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=y,this._monospaceLineBreaksComputerFactory=W,this.fontInfo=G,this.tabSize=be,this.wrappingStrategy=Oe,this.wrappingColumn=Ze,this.wrappingIndent=et,this.wordBreak=it,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Br(this)}_constructLines(e,o){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const y=this.model.getLinesContent(),W=this.model.getInjectedTextDecorations(this._editorId),G=y.length,be=this.createLineBreaksComputer(),Oe=new d.H9(uo.gk.fromDecorations(W));for(let ii=0;ii<G;ii++){const ri=Oe.takeWhile(_i=>_i.lineNumber===ii+1);be.addRequest(y[ii],ri,o?o[ii]:null)}const Ze=be.finalize(),et=[],it=this.hiddenAreasDecorationIds.map(ii=>this.model.getDecorationRange(ii)).sort(Pe.e.compareRangesUsingStarts);let pt=1,Ft=0,Ot=-1,Xt=Ot+1<it.length?Ft+1:G+2;for(let ii=0;ii<G;ii++){const ri=ii+1;ri===Xt&&(Ot++,pt=it[Ot].startLineNumber,Ft=it[Ot].endLineNumber,Xt=Ot+1<it.length?Ft+1:G+2);const _i=ri>=pt&&ri<=Ft,Ti=fr(Ze[ii],!_i);et[ii]=Ti.getViewLineCount(),this.modelLineProjections[ii]=Ti}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new wa.Ck(et)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const o=e.map(Ft=>this.model.validateRange(Ft)),y=sl(o),W=this.hiddenAreasDecorationIds.map(Ft=>this.model.getDecorationRange(Ft)).sort(Pe.e.compareRangesUsingStarts);if(y.length===W.length){let Ft=!1;for(let Ot=0;Ot<y.length;Ot++)if(!y[Ot].equalsRange(W[Ot])){Ft=!0;break}if(!Ft)return!1}const G=y.map(Ft=>({range:Ft,options:dr.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,G);const be=y;let Oe=1,Ze=0,et=-1,it=et+1<be.length?Ze+1:this.modelLineProjections.length+2,pt=!1;for(let Ft=0;Ft<this.modelLineProjections.length;Ft++){const Ot=Ft+1;Ot===it&&(et++,Oe=be[et].startLineNumber,Ze=be[et].endLineNumber,it=et+1<be.length?Ze+1:this.modelLineProjections.length+2);let Xt=!1;if(Ot>=Oe&&Ot<=Ze?this.modelLineProjections[Ft].isVisible()&&(this.modelLineProjections[Ft]=this.modelLineProjections[Ft].setVisible(!1),Xt=!0):(pt=!0,this.modelLineProjections[Ft].isVisible()||(this.modelLineProjections[Ft]=this.modelLineProjections[Ft].setVisible(!0),Xt=!0)),Xt){const ii=this.modelLineProjections[Ft].getViewLineCount();this.projectedModelLineLineCounts.setValue(Ft,ii)}}return pt||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,o){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,o,y,W,G){const be=this.fontInfo.equals(e),Oe=this.wrappingStrategy===o,Ze=this.wrappingColumn===y,et=this.wrappingIndent===W,it=this.wordBreak===G;if(be&&Oe&&Ze&&et&&it)return!1;const pt=be&&Oe&&!Ze&&et&&it;this.fontInfo=e,this.wrappingStrategy=o,this.wrappingColumn=y,this.wrappingIndent=W,this.wordBreak=G;let Ft=null;if(pt){Ft=[];for(let Ot=0,Xt=this.modelLineProjections.length;Ot<Xt;Ot++)Ft[Ot]=this.modelLineProjections[Ot].getProjectionData()}return this._constructLines(!1,Ft),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,o,y){if(!e||e<=this._validModelVersionId)return null;const W=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,G=this.projectedModelLineLineCounts.getPrefixSum(y);return this.modelLineProjections.splice(o-1,y-o+1),this.projectedModelLineLineCounts.removeValues(o-1,y-o+1),new Yo(W,G)}onModelLinesInserted(e,o,y,W){if(!e||e<=this._validModelVersionId)return null;const G=o>2&&!this.modelLineProjections[o-2].isVisible(),be=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1;let Oe=0;const Ze=[],et=[];for(let it=0,pt=W.length;it<pt;it++){const Ft=fr(W[it],!G);Ze.push(Ft);const Ot=Ft.getViewLineCount();Oe+=Ot,et[it]=Ot}return this.modelLineProjections=this.modelLineProjections.slice(0,o-1).concat(Ze).concat(this.modelLineProjections.slice(o-1)),this.projectedModelLineLineCounts.insertValues(o-1,et),new Ar(be,be+Oe-1)}onModelLineChanged(e,o,y){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const W=o-1,G=this.modelLineProjections[W].getViewLineCount(),be=this.modelLineProjections[W].isVisible(),Oe=fr(y,be);this.modelLineProjections[W]=Oe;const Ze=this.modelLineProjections[W].getViewLineCount();let et=!1,it=0,pt=-1,Ft=0,Ot=-1,Xt=0,ii=-1;G>Ze?(it=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,pt=it+Ze-1,Xt=pt+1,ii=Xt+(G-Ze)-1,et=!0):G<Ze?(it=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,pt=it+G-1,Ft=pt+1,Ot=Ft+(Ze-G)-1,et=!0):(it=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,pt=it+Ze-1),this.projectedModelLineLineCounts.setValue(W,Ze);const ri=it<=pt?new na(it,pt-it+1):null,_i=Ft<=Ot?new Ar(Ft,Ot):null,Ti=Xt<=ii?new Yo(Xt,ii):null;return[et,ri,_i,Ti]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const o=this.getViewLineCount();return e>o?o:e|0}getActiveIndentGuide(e,o,y){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o),y=this._toValidViewLineNumber(y);const W=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),G=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),be=this.convertViewPositionToModelPosition(y,this.getViewLineMinColumn(y)),Oe=this.model.guides.getActiveIndentGuide(W.lineNumber,G.lineNumber,be.lineNumber),Ze=this.convertModelPositionToViewPosition(Oe.startLineNumber,1),et=this.convertModelPositionToViewPosition(Oe.endLineNumber,this.model.getLineMaxColumn(Oe.endLineNumber));return{startLineNumber:Ze.lineNumber,endLineNumber:et.lineNumber,indent:Oe.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const o=this.projectedModelLineLineCounts.getIndexOf(e-1),y=o.index,W=o.remainder;return new La(y+1,W)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],y=o.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),W=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,y);return new ue.L(e.modelLineNumber,W)}getModelEndPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],y=o.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),W=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,y);return new ue.L(e.modelLineNumber,W)}getViewLineInfosGroupedByModelRanges(e,o){const y=this.getViewLineInfo(e),W=this.getViewLineInfo(o),G=new Array;let be=this.getModelStartPositionOfViewLine(y),Oe=new Array;for(let Ze=y.modelLineNumber;Ze<=W.modelLineNumber;Ze++){const et=this.modelLineProjections[Ze-1];if(et.isVisible()){const it=Ze===y.modelLineNumber?y.modelLineWrappedLineIdx:0,pt=Ze===W.modelLineNumber?W.modelLineWrappedLineIdx+1:et.getViewLineCount();for(let Ft=it;Ft<pt;Ft++)Oe.push(new La(Ze,Ft))}if(!et.isVisible()&&be){const it=new ue.L(Ze-1,this.model.getLineMaxColumn(Ze-1)+1),pt=Pe.e.fromPositions(be,it);G.push(new rr(pt,Oe)),Oe=[],be=null}else et.isVisible()&&!be&&(be=new ue.L(Ze,1))}if(be){const Ze=Pe.e.fromPositions(be,this.getModelEndPositionOfViewLine(W));G.push(new rr(Ze,Oe))}return G}getViewLinesBracketGuides(e,o,y,W){const G=y?this.convertViewPositionToModelPosition(y.lineNumber,y.column):null,be=[];for(const Oe of this.getViewLineInfosGroupedByModelRanges(e,o)){const Ze=Oe.modelRange.startLineNumber,et=this.model.guides.getLinesBracketGuides(Ze,Oe.modelRange.endLineNumber,G,W);for(const it of Oe.viewLines){const Ft=et[it.modelLineNumber-Ze].map(Ot=>{if(Ot.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,Ot.forWrappedLinesAfterColumn).lineNumber>=it.modelLineWrappedLineIdx||Ot.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,Ot.forWrappedLinesBeforeOrAtColumn).lineNumber<it.modelLineWrappedLineIdx)return;if(!Ot.horizontalLine)return Ot;let Xt=-1;if(Ot.column!==-1){const _i=this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,Ot.column);if(_i.lineNumber===it.modelLineWrappedLineIdx)Xt=_i.column;else if(_i.lineNumber<it.modelLineWrappedLineIdx)Xt=this.getMinColumnOfViewLine(it);else if(_i.lineNumber>it.modelLineWrappedLineIdx)return}const ii=this.convertModelPositionToViewPosition(it.modelLineNumber,Ot.horizontalLine.endColumn),ri=this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,Ot.horizontalLine.endColumn);return ri.lineNumber===it.modelLineWrappedLineIdx?new yi.UO(Ot.visibleColumn,Xt,Ot.className,new yi.vW(Ot.horizontalLine.top,ii.column),-1,-1):ri.lineNumber<it.modelLineWrappedLineIdx||Ot.visibleColumn!==-1?void 0:new yi.UO(Ot.visibleColumn,Xt,Ot.className,new yi.vW(Ot.horizontalLine.top,this.getMaxColumnOfViewLine(it)),-1,-1)});be.push(Ft.filter(Ot=>!!Ot))}}return be}getViewLinesIndentGuides(e,o){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const y=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),W=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let G=[];const be=[],Oe=[],Ze=y.lineNumber-1,et=W.lineNumber-1;let it=null;for(let Xt=Ze;Xt<=et;Xt++){const ii=this.modelLineProjections[Xt];if(ii.isVisible()){const ri=ii.getViewLineNumberOfModelPosition(0,Xt===Ze?y.column:1),_i=ii.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Xt+1)),Ti=_i-ri+1;let xi=0;Ti>1&&ii.getViewLineMinColumn(this.model,Xt+1,_i)===1&&(xi=ri===0?1:2),be.push(Ti),Oe.push(xi),it===null&&(it=new ue.L(Xt+1,0))}else it!==null&&(G=G.concat(this.model.guides.getLinesIndentGuides(it.lineNumber,Xt)),it=null)}it!==null&&(G=G.concat(this.model.guides.getLinesIndentGuides(it.lineNumber,W.lineNumber)),it=null);const pt=o-e+1,Ft=new Array(pt);let Ot=0;for(let Xt=0,ii=G.length;Xt<ii;Xt++){let ri=G[Xt];const _i=Math.min(pt-Ot,be[Xt]),Ti=Oe[Xt];let xi;Ti===2?xi=0:Ti===1?xi=1:xi=_i;for(let Zi=0;Zi<_i;Zi++)Zi===xi&&(ri=0),Ft[Ot++]=ri}return Ft}getViewLineContent(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineContent(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineLength(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineLength(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineData(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineData(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLinesData(e,o,y){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const W=this.projectedModelLineLineCounts.getIndexOf(e-1);let G=e;const be=W.index,Oe=W.remainder,Ze=[];for(let et=be,it=this.model.getLineCount();et<it;et++){const pt=this.modelLineProjections[et];if(!pt.isVisible())continue;const Ft=et===be?Oe:0;let Ot=pt.getViewLineCount()-Ft,Xt=!1;if(G+Ot>o&&(Xt=!0,Ot=o-G+1),pt.getViewLinesData(this.model,et+1,Ft,Ot,G-e,y,Ze),G+=Ot,Xt)break}return Ze}validateViewPosition(e,o,y){e=this._toValidViewLineNumber(e);const W=this.projectedModelLineLineCounts.getIndexOf(e-1),G=W.index,be=W.remainder,Oe=this.modelLineProjections[G],Ze=Oe.getViewLineMinColumn(this.model,G+1,be),et=Oe.getViewLineMaxColumn(this.model,G+1,be);o<Ze&&(o=Ze),o>et&&(o=et);const it=Oe.getModelColumnOfViewPosition(be,o);return this.model.validatePosition(new ue.L(G+1,it)).equals(y)?new ue.L(e,o):this.convertModelPositionToViewPosition(y.lineNumber,y.column)}validateViewRange(e,o){const y=this.validateViewPosition(e.startLineNumber,e.startColumn,o.getStartPosition()),W=this.validateViewPosition(e.endLineNumber,e.endColumn,o.getEndPosition());return new Pe.e(y.lineNumber,y.column,W.lineNumber,W.column)}convertViewPositionToModelPosition(e,o){const y=this.getViewLineInfo(e),W=this.modelLineProjections[y.modelLineNumber-1].getModelColumnOfViewPosition(y.modelLineWrappedLineIdx,o);return this.model.validatePosition(new ue.L(y.modelLineNumber,W))}convertViewRangeToModelRange(e){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),y=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Pe.e(o.lineNumber,o.column,y.lineNumber,y.column)}convertModelPositionToViewPosition(e,o,y=2){const W=this.model.validatePosition(new ue.L(e,o)),G=W.lineNumber,be=W.column;let Oe=G-1,Ze=!1;for(;Oe>0&&!this.modelLineProjections[Oe].isVisible();)Oe--,Ze=!0;if(Oe===0&&!this.modelLineProjections[Oe].isVisible())return new ue.L(1,1);const et=1+this.projectedModelLineLineCounts.getPrefixSum(Oe);let it;return Ze?it=this.modelLineProjections[Oe].getViewPositionOfModelPosition(et,this.model.getLineMaxColumn(Oe+1),y):it=this.modelLineProjections[G-1].getViewPositionOfModelPosition(et,be,y),it}convertModelRangeToViewRange(e,o=0){if(e.isEmpty()){const y=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,o);return Pe.e.fromPositions(y)}else{const y=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),W=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Pe.e(y.lineNumber,y.column,W.lineNumber,W.column)}}getViewLineNumberOfModelPosition(e,o){let y=e-1;if(this.modelLineProjections[y].isVisible()){const G=1+this.projectedModelLineLineCounts.getPrefixSum(y);return this.modelLineProjections[y].getViewLineNumberOfModelPosition(G,o)}for(;y>0&&!this.modelLineProjections[y].isVisible();)y--;if(y===0&&!this.modelLineProjections[y].isVisible())return 1;const W=1+this.projectedModelLineLineCounts.getPrefixSum(y);return this.modelLineProjections[y].getViewLineNumberOfModelPosition(W,this.model.getLineMaxColumn(y+1))}getDecorationsInRange(e,o,y,W,G){const be=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),Oe=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(Oe.lineNumber-be.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Pe.e(be.lineNumber,1,Oe.lineNumber,Oe.column),o,y,W,G);let Ze=[];const et=be.lineNumber-1,it=Oe.lineNumber-1;let pt=null;for(let ii=et;ii<=it;ii++)if(this.modelLineProjections[ii].isVisible())pt===null&&(pt=new ue.L(ii+1,ii===et?be.column:1));else if(pt!==null){const _i=this.model.getLineMaxColumn(ii);Ze=Ze.concat(this.model.getDecorationsInRange(new Pe.e(pt.lineNumber,pt.column,ii,_i),o,y,W)),pt=null}pt!==null&&(Ze=Ze.concat(this.model.getDecorationsInRange(new Pe.e(pt.lineNumber,pt.column,Oe.lineNumber,Oe.column),o,y,W)),pt=null),Ze.sort((ii,ri)=>{const _i=Pe.e.compareRangesUsingStarts(ii.range,ri.range);return _i===0?ii.id<ri.id?-1:ii.id>ri.id?1:0:_i});const Ft=[];let Ot=0,Xt=null;for(const ii of Ze){const ri=ii.id;Xt!==ri&&(Xt=ri,Ft[Ot++]=ii)}return Ft}getInjectedTextAt(e){const o=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].getInjectedTextAt(o.modelLineWrappedLineIdx,e.column)}normalizePosition(e,o){const y=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[y.modelLineNumber-1].normalizePosition(y.modelLineWrappedLineIdx,e,o)}getLineIndentColumn(e){const o=this.getViewLineInfo(e);return o.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(o.modelLineNumber):0}}function sl(Et){if(Et.length===0)return[];const e=Et.slice();e.sort(Pe.e.compareRangesUsingStarts);const o=[];let y=e[0].startLineNumber,W=e[0].endLineNumber;for(let G=1,be=e.length;G<be;G++){const Oe=e[G];Oe.startLineNumber>W+1?(o.push(new Pe.e(y,1,W,1)),y=Oe.startLineNumber,W=Oe.endLineNumber):Oe.endLineNumber>W&&(W=Oe.endLineNumber)}return o.push(new Pe.e(y,1,W,1)),o}class La{constructor(e,o){this.modelLineNumber=e,this.modelLineWrappedLineIdx=o}}class rr{constructor(e,o){this.modelRange=e,this.viewLines=o}}class Br{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,o){return this._lines.validateViewPosition(e.lineNumber,e.column,o)}validateViewRange(e,o){return this._lines.validateViewRange(e,o)}convertModelPositionToViewPosition(e,o){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,o)}convertModelRangeToViewRange(e,o){return this._lines.convertModelRangeToViewRange(e,o)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,o){return this._lines.getViewLineNumberOfModelPosition(e,o)}}class Wr{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new ol(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,o,y,W){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(o,y,W)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,o,y){return new Yo(o,y)}onModelLinesInserted(e,o,y,W){return new Ar(o,y)}onModelLineChanged(e,o,y){return[!1,new na(o,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,o,y){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,o,y){return new Array(o-e+1).fill([])}getViewLinesIndentGuides(e,o){const y=o-e+1,W=new Array(y);for(let G=0;G<y;G++)W[G]=0;return W}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const o=this.model.tokenization.getLineTokens(e),y=o.getLineContent();return new ns.IP(y,!1,1,y.length+1,0,o.inflate(),null)}getViewLinesData(e,o,y){const W=this.model.getLineCount();e=Math.min(Math.max(1,e),W),o=Math.min(Math.max(1,o),W);const G=[];for(let be=e;be<=o;be++){const Oe=be-e;G[Oe]=y[Oe]?this.getViewLineData(be):null}return G}getDecorationsInRange(e,o,y,W,G){return this.model.getDecorationsInRange(e,o,y,W,G)}normalizePosition(e,o){return this.model.normalizePosition(e,o)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class ol{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,o){return this._validPosition(o)}validateViewRange(e,o){return this._validRange(o)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const o=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>o)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,o){return e}}const rl=!0;class al extends g.JT{constructor(e,o,y,W,G,be,Oe,Ze,et){if(super(),this.languageConfigurationService=Oe,this._themeService=Ze,this._attachedView=et,this.hiddenAreasModel=new Uo,this.previousHiddenAreas=[],this._editorId=e,this._configuration=o,this.model=y,this._eventDispatcher=new Fr,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new As.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Wi.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=Gr.create(this.model),rl&&this.model.isTooLargeForTokenization())this._lines=new Wr(this.model);else{const it=this._configuration.options,pt=it.get(48),Ft=it.get(134),Ot=it.get(141),Xt=it.get(133),ii=it.get(125);this._lines=new nl(this._editorId,this.model,W,G,pt,this.model.getOptions().tabSize,Ft,Ot.wrappingColumn,Xt,ii)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new to(y,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new il(this._configuration,this.getLineCount(),be)),this._register(this.viewLayout.onDidScroll(it=>{it.scrollTopChanged&&this._handleVisibleLinesChanged(),it.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new Ca(it)),this._eventDispatcher.emitOutgoingEvent(new Io(it.oldScrollWidth,it.oldScrollLeft,it.oldScrollHeight,it.oldScrollTop,it.scrollWidth,it.scrollLeft,it.scrollHeight,it.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(it=>{this._eventDispatcher.emitOutgoingEvent(it)})),this._decorations=new Aa.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(it=>{try{const pt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(pt,it)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(jn.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Sr)})),this._register(this._themeService.onDidColorThemeChange(it=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new ba(it))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),o=new Pe.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(o)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new Pa(e)),this._eventDispatcher.emitOutgoingEvent(new Fo(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new sr)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new ur)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new ue.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),o=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new la(o,this._viewportStart.startLineDelta)}return new la(null,0)}_onConfigurationChanged(e,o){const y=this._captureStableViewport(),W=this._configuration.options,G=W.get(48),be=W.get(134),Oe=W.get(141),Ze=W.get(133),et=W.get(125);this._lines.setWrappingSettings(G,be,Oe.wrappingColumn,Ze,et)&&(e.emitViewEvent(new Or),e.emitViewEvent(new br),e.emitViewEvent(new or(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),o.hasChanged(88)&&(this._decorations.reset(),e.emitViewEvent(new or(null))),e.emitViewEvent(new Rr(o)),this.viewLayout.onConfigurationChanged(o),y.recoverViewportStart(this.coordinatesConverter,this.viewLayout),As.LM.shouldRecreate(o)&&(this.cursorConfig=new As.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const y=this._eventDispatcher.beginEmitViewEvents();let W=!1,G=!1;const be=e instanceof uo.fV?e.rawContentChangedEvent.changes:e.changes,Oe=e instanceof uo.fV?e.rawContentChangedEvent.versionId:null,Ze=this._lines.createLineBreaksComputer();for(const pt of be)switch(pt.changeType){case 4:{for(let Ft=0;Ft<pt.detail.length;Ft++){const Ot=pt.detail[Ft];let Xt=pt.injectedTexts[Ft];Xt&&(Xt=Xt.filter(ii=>!ii.ownerId||ii.ownerId===this._editorId)),Ze.addRequest(Ot,Xt,null)}break}case 2:{let Ft=null;pt.injectedText&&(Ft=pt.injectedText.filter(Ot=>!Ot.ownerId||Ot.ownerId===this._editorId)),Ze.addRequest(pt.detail,Ft,null);break}}const et=Ze.finalize(),it=new d.H9(et);for(const pt of be)switch(pt.changeType){case 1:{this._lines.onModelFlushed(),y.emitViewEvent(new Or),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),W=!0;break}case 3:{const Ft=this._lines.onModelLinesDeleted(Oe,pt.fromLineNumber,pt.toLineNumber);Ft!==null&&(y.emitViewEvent(Ft),this.viewLayout.onLinesDeleted(Ft.fromLineNumber,Ft.toLineNumber)),W=!0;break}case 4:{const Ft=it.takeCount(pt.detail.length),Ot=this._lines.onModelLinesInserted(Oe,pt.fromLineNumber,pt.toLineNumber,Ft);Ot!==null&&(y.emitViewEvent(Ot),this.viewLayout.onLinesInserted(Ot.fromLineNumber,Ot.toLineNumber)),W=!0;break}case 2:{const Ft=it.dequeue(),[Ot,Xt,ii,ri]=this._lines.onModelLineChanged(Oe,pt.lineNumber,Ft);G=Ot,Xt&&y.emitViewEvent(Xt),ii&&(y.emitViewEvent(ii),this.viewLayout.onLinesInserted(ii.fromLineNumber,ii.toLineNumber)),ri&&(y.emitViewEvent(ri),this.viewLayout.onLinesDeleted(ri.fromLineNumber,ri.toLineNumber));break}case 5:break}Oe!==null&&this._lines.acceptVersionId(Oe),this.viewLayout.onHeightMaybeChanged(),!W&&G&&(y.emitViewEvent(new br),y.emitViewEvent(new or(null)),this._cursor.onLineMappingChanged(y),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const o=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&o){const y=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(y){const W=this.coordinatesConverter.convertModelPositionToViewPosition(y.getStartPosition()),G=this.viewLayout.getVerticalOffsetForLineNumber(W.lineNumber);this.viewLayout.setScrollPosition({scrollTop:G+this._viewportStart.startLineDelta},1)}}try{const y=this._eventDispatcher.beginEmitViewEvents();e instanceof uo.fV&&y.emitOutgoingEvent(new yr(e.contentChangedEvent)),this._cursor.onModelContentChanged(y,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(e=>{const o=[];for(let y=0,W=e.ranges.length;y<W;y++){const G=e.ranges[y],be=this.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(G.fromLineNumber,1)).lineNumber,Oe=this.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(G.toLineNumber,this.model.getLineMaxColumn(G.toLineNumber))).lineNumber;o[y]={fromLineNumber:be,toLineNumber:Oe}}this._eventDispatcher.emitSingleViewEvent(new Hs(o)),this._eventDispatcher.emitOutgoingEvent(new Jn(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new _a),this.cursorConfig=new As.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Wo(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new As.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Bo(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const o=this._eventDispatcher.beginEmitViewEvents();o.emitViewEvent(new Or),o.emitViewEvent(new br),o.emitViewEvent(new or(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new As.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new es(e))})),this._register(this.model.onDidChangeDecorations(e=>{var o,y;if(this._decorations.onModelDecorationsChanged(),e.affectsGlyphMargin){const W=this.model.getAllMarginDecorations();let G=!1;W.sort((Ze,et)=>Pe.e.compareRangesUsingStarts(Ze.range,et.range));let be=null,Oe=null;for(const Ze of W){const et=(y=(o=Ze.options.glyphMargin)===null||o===void 0?void 0:o.position)!==null&&y!==void 0?y:Es.U.Left;if(et===Es.U.Left&&(!be||Pe.e.compareRangesUsingEnds(be,Ze.range)<0)&&(be=Ze.range),et===Es.U.Right&&(!Oe||Pe.e.compareRangesUsingEnds(Oe,Ze.range)<0)&&(Oe=Ze.range),be&&Oe){if(be.endLineNumber<Oe.startLineNumber){be=null;continue}if(Oe.endLineNumber<be.startLineNumber){Oe=null;continue}G=!0;break}}this._configuration.setGlyphMarginDecorationLaneCount(G?2:1)}this._eventDispatcher.emitSingleViewEvent(new or(e)),this._eventDispatcher.emitOutgoingEvent(new Ys(e))}))}setHiddenAreas(e,o){this.hiddenAreasModel.setHiddenAreas(o,e);const y=this.hiddenAreasModel.getMergedRanges();if(y===this.previousHiddenAreas)return;this.previousHiddenAreas=y;const W=this._captureStableViewport();let G=!1;try{const be=this._eventDispatcher.beginEmitViewEvents();G=this._lines.setHiddenAreas(y),G&&(be.emitViewEvent(new Or),be.emitViewEvent(new br),be.emitViewEvent(new or(null)),this._cursor.onLineMappingChanged(be),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),W.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),G&&this._eventDispatcher.emitOutgoingEvent(new Jo)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(140),o=this._configuration.options.get(64),y=Math.max(20,Math.round(e.height/o)),W=this.viewLayout.getLinesViewportData(),G=Math.max(1,W.completelyVisibleStartLineNumber-y),be=Math.min(this.getLineCount(),W.completelyVisibleEndLineNumber+y);return this._toModelVisibleRanges(new Pe.e(G,this.getLineMinColumn(G),be,this.getLineMaxColumn(be)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const o=this.coordinatesConverter.convertViewRangeToModelRange(e),y=this._lines.getHiddenAreas();if(y.length===0)return[o];const W=[];let G=0,be=o.startLineNumber,Oe=o.startColumn;const Ze=o.endLineNumber,et=o.endColumn;for(let it=0,pt=y.length;it<pt;it++){const Ft=y[it].startLineNumber,Ot=y[it].endLineNumber;Ot<be||Ft>Ze||(be<Ft&&(W[G++]=new Pe.e(be,Oe,Ft-1,this.model.getLineMaxColumn(Ft-1))),be=Ot+1,Oe=1)}return(be<Ze||be===Ze&&Oe<et)&&(W[G++]=new Pe.e(be,Oe,Ze,et)),W}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),o=e.completelyVisibleStartLineNumber,y=e.completelyVisibleEndLineNumber;return new Pe.e(o,this.getLineMinColumn(o),y,this.getLineMaxColumn(y))}getCompletelyVisibleViewRangeAtScrollTop(e){const o=this.viewLayout.getLinesViewportDataAtScrollTop(e),y=o.completelyVisibleStartLineNumber,W=o.completelyVisibleEndLineNumber;return new Pe.e(y,this.getLineMinColumn(y),W,this.getLineMaxColumn(W))}saveState(){const e=this.viewLayout.saveState(),o=e.scrollTop,y=this.viewLayout.getLineNumberAtVerticalOffset(o),W=this.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(y,this.getLineMinColumn(y))),G=this.viewLayout.getVerticalOffsetForLineNumber(y)-o;return{scrollLeft:e.scrollLeft,firstPosition:W,firstPositionDeltaTop:G}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const o=this.model.validatePosition(e.firstPosition),y=this.coordinatesConverter.convertModelPositionToViewPosition(o),W=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:W}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,o,y){this._viewportStart.update(this,e)}getActiveIndentGuide(e,o,y){return this._lines.getActiveIndentGuide(e,o,y)}getLinesIndentGuides(e,o){return this._lines.getViewLinesIndentGuides(e,o)}getBracketGuidesInRangeByLine(e,o,y,W){return this._lines.getViewLinesBracketGuides(e,o,y,W)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const o=Vi.LC(this.getLineContent(e));return o===-1?0:o+1}getLineLastNonWhitespaceColumn(e){const o=Vi.ow(this.getLineContent(e));return o===-1?0:o+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,o){const W=this._decorations.getDecorationsViewportData(e).inlineDecorations[o-e.startLineNumber];return this._getViewLineRenderingData(o,W)}getViewLineRenderingData(e){const o=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,o)}_getViewLineRenderingData(e,o){const y=this.model.mightContainRTL(),W=this.model.mightContainNonBasicASCII(),G=this.getTabSize(),be=this._lines.getViewLineData(e);return be.inlineDecorations&&(o=[...o,...be.inlineDecorations.map(Oe=>Oe.toInlineDecoration(e))]),new ns.wA(be.minColumn,be.maxColumn,be.content,be.continuesWithWrappedLine,y,W,be.tokens,o,G,be.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,o,y){const W=this._lines.getViewLinesData(e,o,y);return new ns.ud(this.getTabSize(),W)}getAllOverviewRulerDecorations(e){const o=this.model.getOverviewRulerDecorations(this._editorId,(0,M.$J)(this._configuration.options)),y=new Vr;for(const W of o){const G=W.options,be=G.overviewRuler;if(!be)continue;const Oe=be.position;if(Oe===0)continue;const Ze=be.getColor(e.value),et=this.coordinatesConverter.getViewLineNumberOfModelPosition(W.range.startLineNumber,W.range.startColumn),it=this.coordinatesConverter.getViewLineNumberOfModelPosition(W.range.endLineNumber,W.range.endColumn);y.accept(Ze,G.zIndex,et,it,Oe)}return y.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const o of e){const y=o.options.overviewRuler;y==null||y.invalidateCachedColor();const W=o.options.minimap;W==null||W.invalidateCachedColor()}}getValueInRange(e,o){const y=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(y,o)}getValueLengthInRange(e,o){const y=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(y,o)}modifyPosition(e,o){const y=this.coordinatesConverter.convertViewPositionToModelPosition(e);return this.model.modifyPosition(y,o)}deduceModelPositionRelativeToViewPosition(e,o,y){const W=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(o<0?o-=y:o+=y);const be=this.model.getOffsetAt(W)+o;return this.model.getPositionAt(be)}getPlainTextToCopy(e,o,y){const W=y?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Pe.e.compareRangesUsingStarts);let G=!1,be=!1;for(const Ze of e)Ze.isEmpty()?G=!0:be=!0;if(!be){if(!o)return"";const Ze=e.map(it=>it.startLineNumber);let et="";for(let it=0;it<Ze.length;it++)it>0&&Ze[it-1]===Ze[it]||(et+=this.model.getLineContent(Ze[it])+W);return et}if(G&&o){const Ze=[];let et=0;for(const it of e){const pt=it.startLineNumber;it.isEmpty()?pt!==et&&Ze.push(this.model.getLineContent(pt)):Ze.push(this.model.getValueInRange(it,y?2:0)),et=pt}return Ze.length===1?Ze[0]:Ze}const Oe=[];for(const Ze of e)Ze.isEmpty()||Oe.push(this.model.getValueInRange(Ze,y?2:0));return Oe.length===1?Oe[0]:Oe}getRichTextToCopy(e,o){const y=this.model.getLanguageId();if(y===qa.bd||e.length!==1)return null;let W=e[0];if(W.isEmpty()){if(!o)return null;const it=W.startLineNumber;W=new Pe.e(it,this.model.getLineMinColumn(it),it,this.model.getLineMaxColumn(it))}const G=this._configuration.options.get(48),be=this._getColorMap(),Ze=/[:;\\\/<>]/.test(G.fontFamily)||G.fontFamily===M.hL.fontFamily;let et;return Ze?et=M.hL.fontFamily:(et=G.fontFamily,et=et.replace(/"/g,"'"),/[,']/.test(et)||/[+ ]/.test(et)&&(et=`'${et}'`),et=`${et}, ${M.hL.fontFamily}`),{mode:y,html:`<div style="color: ${be[1]};background-color: ${be[2]};font-family: ${et};font-weight: ${G.fontWeight};font-size: ${G.fontSize}px;line-height: ${G.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(W,be)+"</div>"}}_getHTMLToCopy(e,o){const y=e.startLineNumber,W=e.startColumn,G=e.endLineNumber,be=e.endColumn,Oe=this.getTabSize();let Ze="";for(let et=y;et<=G;et++){const it=this.model.tokenization.getLineTokens(et),pt=it.getLineContent(),Ft=et===y?W-1:0,Ot=et===G?be-1:pt.length;pt===""?Ze+="<br>":Ze+=(0,el.Fq)(pt,it.inflate(),o,Ft,Ot,Oe,s.ED)}return Ze}_getColorMap(){const e=Yt.RW.getColorMap(),o=["#000000"];if(e)for(let y=1,W=e.length;y<W;y++)o[y]=ti.Il.Format.CSS.formatHex(e[y]);return o}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,o,y){return this._withViewEventsCollector(W=>this._cursor.setStates(W,e,o,y))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,o,y=0){this._withViewEventsCollector(W=>this._cursor.setSelections(W,e,o,y))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(o=>this._cursor.restoreState(o,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new lo);return}this._withViewEventsCollector(e)}executeEdits(e,o,y){this._executeCursorEdit(W=>this._cursor.executeEdits(W,e,o,y))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(o=>this._cursor.endComposition(o,e))}type(e,o){this._executeCursorEdit(y=>this._cursor.type(y,e,o))}compositionType(e,o,y,W,G){this._executeCursorEdit(be=>this._cursor.compositionType(be,e,o,y,W,G))}paste(e,o,y,W){this._executeCursorEdit(G=>this._cursor.paste(G,e,o,y,W))}cut(e){this._executeCursorEdit(o=>this._cursor.cut(o,e))}executeCommand(e,o){this._executeCursorEdit(y=>this._cursor.executeCommand(y,e,o))}executeCommands(e,o){this._executeCursorEdit(y=>this._cursor.executeCommands(y,e,o))}revealPrimaryCursor(e,o,y=!1){this._withViewEventsCollector(W=>this._cursor.revealPrimary(W,e,y,0,o,0))}revealTopMostCursor(e){const o=this._cursor.getTopMostViewPosition(),y=new Pe.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(W=>W.emitViewEvent(new kr(e,!1,y,null,0,!0,0)))}revealBottomMostCursor(e){const o=this._cursor.getBottomMostViewPosition(),y=new Pe.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(W=>W.emitViewEvent(new kr(e,!1,y,null,0,!0,0)))}revealRange(e,o,y,W,G){this._withViewEventsCollector(be=>be.emitViewEvent(new kr(e,!1,y,null,W,o,G)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Us),this._eventDispatcher.emitOutgoingEvent(new wn))}_withViewEventsCollector(e){try{const o=this._eventDispatcher.beginEmitViewEvents();return e(o)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,o){return this._lines.normalizePosition(e,o)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Gr{static create(e){const o=e._setTrackedRange(null,new Pe.e(1,1,1,1),1);return new Gr(e,1,!1,o,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,o,y,W,G){this._model=e,this._viewLineNumber=o,this._isValid=y,this._modelTrackedRange=W,this._startLineDelta=G}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,o){const y=e.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(o,e.getLineMinColumn(o))),W=e.model._setTrackedRange(this._modelTrackedRange,new Pe.e(y.lineNumber,y.column,y.lineNumber,y.column),1),G=e.viewLayout.getVerticalOffsetForLineNumber(o),be=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=o,this._isValid=!0,this._modelTrackedRange=W,this._startLineDelta=be-G}invalidate(){this._isValid=!1}}class Vr{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,o,y,W,G){const be=this._asMap[e];if(be){const Oe=be.data,Ze=Oe[Oe.length-3],et=Oe[Oe.length-1];if(Ze===G&&et+1>=y){W>et&&(Oe[Oe.length-1]=W);return}Oe.push(G,y,W)}else{const Oe=new ns.SQ(e,o,[G,y,W]);this._asMap[e]=Oe,this.asArray.push(Oe)}}}class Uo{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,o){const y=this.hiddenAreas.get(e);y&&Da(y,o)||(this.hiddenAreas.set(e,o),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((o,y)=>Hr(o,y),[]);return Da(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function Hr(Et,e){const o=[];let y=0,W=0;for(;y<Et.length&&W<e.length;){const G=Et[y],be=e[W];if(G.endLineNumber<be.startLineNumber-1)o.push(Et[y++]);else if(be.endLineNumber<G.startLineNumber-1)o.push(e[W++]);else{const Oe=Math.min(G.startLineNumber,be.startLineNumber),Ze=Math.max(G.endLineNumber,be.endLineNumber);o.push(new Pe.e(Oe,1,Ze,1)),y++,W++}}for(;y<Et.length;)o.push(Et[y++]);for(;W<e.length;)o.push(e[W++]);return o}function Da(Et,e){if(Et.length!==e.length)return!1;for(let o=0;o<Et.length;o++)if(!Et[o].equalsRange(e[o]))return!1;return!0}class la{constructor(e,o){this.viewportStartModelPosition=e,this.startLineDelta=o}recoverViewportStart(e,o){if(!this.viewportStartModelPosition)return;const y=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),W=o.getVerticalOffsetForLineNumber(y.lineNumber);o.setScrollPosition({scrollTop:W+this.startLineDelta},1)}}var ca=t(80793),ka=t(76826),ll=t(44333),cl=t(28596),Fa=t(97968),dl=t(55224),Ba=t(14527);class Zr{constructor(e,o,y,W,G){this.injectionOffsets=e,this.injectionOptions=o,this.breakOffsets=y,this.breakOffsetsVisibleColumn=W,this.wrappedTextIndentLength=G}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const o=e>0?this.breakOffsets[e-1]:0;let W=this.breakOffsets[e]-o;return e>0&&(W+=this.wrappedTextIndentLength),W}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,o){e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength));let W=e===0?o:this.breakOffsets[e-1]+o;if(this.injectionOffsets!==null)for(let G=0;G<this.injectionOffsets.length&&W>this.injectionOffsets[G];G++)W<this.injectionOffsets[G]+this.injectionOptions[G].content.length?W=this.injectionOffsets[G]:W-=this.injectionOptions[G].content.length;return W}translateToOutputPosition(e,o=2){let y=e;if(this.injectionOffsets!==null)for(let W=0;W<this.injectionOffsets.length&&!(e<this.injectionOffsets[W]||o!==1&&e===this.injectionOffsets[W]);W++)y+=this.injectionOptions[W].content.length;return this.offsetInInputWithInjectionsToOutputPosition(y,o)}offsetInInputWithInjectionsToOutputPosition(e,o=2){let y=0,W=this.breakOffsets.length-1,G=0,be=0;for(;y<=W;){G=y+(W-y)/2|0;const Ze=this.breakOffsets[G];if(be=G>0?this.breakOffsets[G-1]:0,o===0)if(e<=be)W=G-1;else if(e>Ze)y=G+1;else break;else if(e<be)W=G-1;else if(e>=Ze)y=G+1;else break}let Oe=e-be;return G>0&&(Oe+=this.wrappedTextIndentLength),new Lr(G,Oe)}normalizeOutputPosition(e,o,y){if(this.injectionOffsets!==null){const W=this.outputPositionToOffsetInInputWithInjections(e,o),G=this.normalizeOffsetInInputWithInjectionsAroundInjections(W,y);if(G!==W)return this.offsetInInputWithInjectionsToOutputPosition(G,y)}if(y===0){if(e>0&&o===this.getMinOutputOffset(e))return new Lr(e-1,this.getMaxOutputOffset(e-1))}else if(y===1){const W=this.getOutputLineCount()-1;if(e<W&&o===this.getMaxOutputOffset(e))return new Lr(e+1,this.getMinOutputOffset(e+1))}return new Lr(e,o)}outputPositionToOffsetInInputWithInjections(e,o){return e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+o}normalizeOffsetInInputWithInjectionsAroundInjections(e,o){const y=this.getInjectedTextAtOffset(e);if(!y)return e;if(o===2){if(e===y.offsetInInputWithInjections+y.length&&Qr(this.injectionOptions[y.injectedTextIndex].cursorStops))return y.offsetInInputWithInjections+y.length;{let W=y.offsetInInputWithInjections;if(da(this.injectionOptions[y.injectedTextIndex].cursorStops))return W;let G=y.injectedTextIndex-1;for(;G>=0&&this.injectionOffsets[G]===this.injectionOffsets[y.injectedTextIndex]&&!(Qr(this.injectionOptions[G].cursorStops)||(W-=this.injectionOptions[G].content.length,da(this.injectionOptions[G].cursorStops)));)G--;return W}}else if(o===1||o===4){let W=y.offsetInInputWithInjections+y.length,G=y.injectedTextIndex;for(;G+1<this.injectionOffsets.length&&this.injectionOffsets[G+1]===this.injectionOffsets[G];)W+=this.injectionOptions[G+1].content.length,G++;return W}else if(o===0||o===3){let W=y.offsetInInputWithInjections,G=y.injectedTextIndex;for(;G-1>=0&&this.injectionOffsets[G-1]===this.injectionOffsets[G];)W-=this.injectionOptions[G-1].content.length,G--;return W}(0,Ba.vE)(o)}getInjectedText(e,o){const y=this.outputPositionToOffsetInInputWithInjections(e,o),W=this.getInjectedTextAtOffset(y);return W?{options:this.injectionOptions[W.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const o=this.injectionOffsets,y=this.injectionOptions;if(o!==null){let W=0;for(let G=0;G<o.length;G++){const be=y[G].content.length,Oe=o[G]+W,Ze=o[G]+W+be;if(Oe>e)break;if(e<=Ze)return{injectedTextIndex:G,offsetInInputWithInjections:Oe,length:be};W+=be}}}}function Qr(Et){return Et==null?!0:Et===Es.RM.Right||Et===Es.RM.Both}function da(Et){return Et==null?!0:Et===Es.RM.Left||Et===Es.RM.Both}class Dl{constructor(e){this.options=e}}class Lr{constructor(e,o){this.outputLineIndex=e,this.outputOffset=o}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new ue.L(e+this.outputLineIndex,this.outputOffset+1)}}class Dr{static create(e){return new Dr(e.get(129),e.get(128))}constructor(e,o){this.classifier=new Wa(e,o)}createLineBreaksComputer(e,o,y,W,G){const be=[],Oe=[],Ze=[];return{addRequest:(et,it,pt)=>{be.push(et),Oe.push(it),Ze.push(pt)},finalize:()=>{const et=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,it=[];for(let pt=0,Ft=be.length;pt<Ft;pt++){const Ot=Oe[pt],Xt=Ze[pt];Xt&&!Xt.injectionOptions&&!Ot?it[pt]=Yr(this.classifier,Xt,be[pt],o,y,et,W,G):it[pt]=Ea(this.classifier,be[pt],Ot,o,y,et,W,G)}return Va.length=0,ho.length=0,it}}}}class Wa extends dl.N{constructor(e,o){super(0);for(let y=0;y<e.length;y++)this.set(e.charCodeAt(y),1);for(let y=0;y<o.length;y++)this.set(o.charCodeAt(y),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Va=[],ho=[];function Yr(Et,e,o,y,W,G,be,Oe){if(W===-1)return null;const Ze=o.length;if(Ze<=1)return null;const et=Oe==="keepAll",it=e.breakOffsets,pt=e.breakOffsetsVisibleColumn,Ft=Kt(o,y,W,G,be),Ot=W-Ft,Xt=Va,ii=ho;let ri=0,_i=0,Ti=0,xi=W;const Zi=it.length;let Ki=0;if(Ki>=0){let un=Math.abs(pt[Ki]-xi);for(;Ki+1<Zi;){const dn=Math.abs(pt[Ki+1]-xi);if(dn>=un)break;un=dn,Ki++}}for(;Ki<Zi;){let un=Ki<0?0:it[Ki],dn=Ki<0?0:pt[Ki];_i>un&&(un=_i,dn=Ti);let hn=0,Ui=0,Sn=0,On=0;if(dn<=xi){let Dn=dn,_s=un===0?0:o.charCodeAt(un-1),ds=un===0?0:Et.get(_s),Cs=!0;for(let Ns=un;Ns<Ze;Ns++){const Zs=Ns,bs=o.charCodeAt(Ns);let ks,vo;if(Vi.ZG(bs)?(Ns++,ks=0,vo=2):(ks=Et.get(bs),vo=Ue(bs,Dn,y,G)),Zs>_i&&kt(_s,ds,bs,ks,et)&&(hn=Zs,Ui=Dn),Dn+=vo,Dn>xi){Zs>_i?(Sn=Zs,On=Dn-vo):(Sn=Ns+1,On=Dn),Dn-Ui>Ot&&(hn=0),Cs=!1;break}_s=bs,ds=ks}if(Cs){ri>0&&(Xt[ri]=it[it.length-1],ii[ri]=pt[it.length-1],ri++);break}}if(hn===0){let Dn=dn,_s=o.charCodeAt(un),ds=Et.get(_s),Cs=!1;for(let Ns=un-1;Ns>=_i;Ns--){const Zs=Ns+1,bs=o.charCodeAt(Ns);if(bs===9){Cs=!0;break}let ks,vo;if(Vi.YK(bs)?(Ns--,ks=0,vo=2):(ks=Et.get(bs),vo=Vi.K7(bs)?G:1),Dn<=xi){if(Sn===0&&(Sn=Zs,On=Dn),Dn<=xi-Ot)break;if(kt(bs,ks,_s,ds,et)){hn=Zs,Ui=Dn;break}}Dn-=vo,_s=bs,ds=ks}if(hn!==0){const Ns=Ot-(On-Ui);if(Ns<=y){const Zs=o.charCodeAt(Sn);let bs;Vi.ZG(Zs)?bs=2:bs=Ue(Zs,On,y,G),Ns-bs<0&&(hn=0)}}if(Cs){Ki--;continue}}if(hn===0&&(hn=Sn,Ui=On),hn<=_i){const Dn=o.charCodeAt(_i);Vi.ZG(Dn)?(hn=_i+2,Ui=Ti+2):(hn=_i+1,Ui=Ti+Ue(Dn,Ti,y,G))}for(_i=hn,Xt[ri]=hn,Ti=Ui,ii[ri]=Ui,ri++,xi=Ui+Ot;Ki<0||Ki<Zi&&pt[Ki]<Ui;)Ki++;let xn=Math.abs(pt[Ki]-xi);for(;Ki+1<Zi;){const Dn=Math.abs(pt[Ki+1]-xi);if(Dn>=xn)break;xn=Dn,Ki++}}return ri===0?null:(Xt.length=ri,ii.length=ri,Va=e.breakOffsets,ho=e.breakOffsetsVisibleColumn,e.breakOffsets=Xt,e.breakOffsetsVisibleColumn=ii,e.wrappedTextIndentLength=Ft,e)}function Ea(Et,e,o,y,W,G,be,Oe){const Ze=uo.gk.applyInjectedText(e,o);let et,it;if(o&&o.length>0?(et=o.map(Ui=>Ui.options),it=o.map(Ui=>Ui.column-1)):(et=null,it=null),W===-1)return et?new Zr(it,et,[Ze.length],[],0):null;const pt=Ze.length;if(pt<=1)return et?new Zr(it,et,[Ze.length],[],0):null;const Ft=Oe==="keepAll",Ot=Kt(Ze,y,W,G,be),Xt=W-Ot,ii=[],ri=[];let _i=0,Ti=0,xi=0,Zi=W,Ki=Ze.charCodeAt(0),un=Et.get(Ki),dn=Ue(Ki,0,y,G),hn=1;Vi.ZG(Ki)&&(dn+=1,Ki=Ze.charCodeAt(1),un=Et.get(Ki),hn++);for(let Ui=hn;Ui<pt;Ui++){const Sn=Ui,On=Ze.charCodeAt(Ui);let xn,Dn;Vi.ZG(On)?(Ui++,xn=0,Dn=2):(xn=Et.get(On),Dn=Ue(On,dn,y,G)),kt(Ki,un,On,xn,Ft)&&(Ti=Sn,xi=dn),dn+=Dn,dn>Zi&&((Ti===0||dn-xi>Xt)&&(Ti=Sn,xi=dn-Dn),ii[_i]=Ti,ri[_i]=xi,_i++,Zi=xi+Xt,Ti=0),Ki=On,un=xn}return _i===0&&(!o||o.length===0)?null:(ii[_i]=pt,ri[_i]=dn,new Zr(it,et,ii,ri,Ot))}function Ue(Et,e,o,y){return Et===9?o-e%o:Vi.K7(Et)||Et<32?y:1}function rt(Et,e){return e-Et%e}function kt(Et,e,o,y,W){return o!==32&&(e===2&&y!==2||e!==1&&y===1||!W&&e===3&&y!==2||!W&&y===3&&e!==1)}function Kt(Et,e,o,y,W){let G=0;if(W!==0){const be=Vi.LC(Et);if(be!==-1){for(let Ze=0;Ze<be;Ze++){const et=Et.charCodeAt(Ze)===9?rt(G,e):1;G+=et}const Oe=W===3?2:W===2?1:0;for(let Ze=0;Ze<Oe;Ze++){const et=rt(G,e);G+=et}G+y>o&&(G=0)}}return G}const Ut=(0,Xi.Z)("domLineBreaksComputer",{createHTML:Et=>Et});class li{static create(){return new li}constructor(){}createLineBreaksComputer(e,o,y,W,G){const be=[],Oe=[];return{addRequest:(Ze,et,it)=>{be.push(Ze),Oe.push(et)},finalize:()=>vi(be,e,o,y,W,G,Oe)}}}function vi(Et,e,o,y,W,G,be){var Oe;function Ze(Ui){const Sn=be[Ui];if(Sn){const On=uo.gk.applyInjectedText(Et[Ui],Sn),xn=Sn.map(_s=>_s.options),Dn=Sn.map(_s=>_s.column-1);return new Zr(Dn,xn,[On.length],[],0)}else return null}if(y===-1){const Ui=[];for(let Sn=0,On=Et.length;Sn<On;Sn++)Ui[Sn]=Ze(Sn);return Ui}const et=Math.round(y*e.typicalHalfwidthCharacterWidth),pt=Math.round(o*(W===3?2:W===2?1:0)),Ft=Math.ceil(e.spaceWidth*pt),Ot=document.createElement("div");(0,Qi.N)(Ot,e);const Xt=new Oi.HT(1e4),ii=[],ri=[],_i=[],Ti=[],xi=[];for(let Ui=0;Ui<Et.length;Ui++){const Sn=uo.gk.applyInjectedText(Et[Ui],be[Ui]);let On=0,xn=0,Dn=et;if(W!==0)if(On=Vi.LC(Sn),On===-1)On=0;else{for(let Ns=0;Ns<On;Ns++){const Zs=Sn.charCodeAt(Ns)===9?o-xn%o:1;xn+=Zs}const Cs=Math.ceil(e.spaceWidth*xn);Cs+e.typicalFullwidthCharacterWidth>et?(On=0,xn=0):Dn=et-Cs}const _s=Sn.substr(On),ds=Mi(_s,xn,o,Dn,Xt,Ft);ii[Ui]=On,ri[Ui]=xn,_i[Ui]=_s,Ti[Ui]=ds[0],xi[Ui]=ds[1]}const Zi=Xt.build(),Ki=(Oe=Ut==null?void 0:Ut.createHTML(Zi))!==null&&Oe!==void 0?Oe:Zi;Ot.innerHTML=Ki,Ot.style.position="absolute",Ot.style.top="10000",G==="keepAll"?(Ot.style.wordBreak="keep-all",Ot.style.overflowWrap="anywhere"):(Ot.style.wordBreak="inherit",Ot.style.overflowWrap="break-word"),document.body.appendChild(Ot);const un=document.createRange(),dn=Array.prototype.slice.call(Ot.children,0),hn=[];for(let Ui=0;Ui<Et.length;Ui++){const Sn=dn[Ui],On=Ii(un,Sn,_i[Ui],Ti[Ui]);if(On===null){hn[Ui]=Ze(Ui);continue}const xn=ii[Ui],Dn=ri[Ui]+pt,_s=xi[Ui],ds=[];for(let bs=0,ks=On.length;bs<ks;bs++)ds[bs]=_s[On[bs]];if(xn!==0)for(let bs=0,ks=On.length;bs<ks;bs++)On[bs]+=xn;let Cs,Ns;const Zs=be[Ui];Zs?(Cs=Zs.map(bs=>bs.options),Ns=Zs.map(bs=>bs.column-1)):(Cs=null,Ns=null),hn[Ui]=new Zr(Ns,Cs,On,ds,Dn)}return document.body.removeChild(Ot),hn}function Mi(Et,e,o,y,W,G){if(G!==0){const Ft=String(G);W.appendString('<div style="text-indent: -'),W.appendString(Ft),W.appendString("px; padding-left: "),W.appendString(Ft),W.appendString("px; box-sizing: border-box; width:")}else W.appendString('<div style="width:');W.appendString(String(y)),W.appendString('px;">');const be=Et.length;let Oe=e,Ze=0;const et=[],it=[];let pt=0<be?Et.charCodeAt(0):0;W.appendString("<span>");for(let Ft=0;Ft<be;Ft++){Ft!==0&&Ft%16384===0&&W.appendString("</span><span>"),et[Ft]=Ze,it[Ft]=Oe;const Ot=pt;pt=Ft+1<be?Et.charCodeAt(Ft+1):0;let Xt=1,ii=1;switch(Ot){case 9:Xt=o-Oe%o,ii=Xt;for(let ri=1;ri<=Xt;ri++)ri<Xt?W.appendCharCode(160):W.appendASCIICharCode(32);break;case 32:pt===32?W.appendCharCode(160):W.appendASCIICharCode(32);break;case 60:W.appendString("&lt;");break;case 62:W.appendString("&gt;");break;case 38:W.appendString("&amp;");break;case 0:W.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:W.appendCharCode(65533);break;default:Vi.K7(Ot)&&ii++,Ot<32?W.appendCharCode(9216+Ot):W.appendCharCode(Ot)}Ze+=Xt,Oe+=ii}return W.appendString("</span>"),et[Et.length]=Ze,it[Et.length]=Oe,W.appendString("</div>"),[et,it]}function Ii(Et,e,o,y){if(o.length<=1)return null;const W=Array.prototype.slice.call(e.children,0),G=[];try{Ji(Et,W,y,0,null,o.length-1,null,G)}catch(be){return console.log(be),null}return G.length===0?null:(G.push(o.length),G)}function Ji(Et,e,o,y,W,G,be,Oe){if(y===G||(W=W||nn(Et,e,o[y],o[y+1]),be=be||nn(Et,e,o[G],o[G+1]),Math.abs(W[0].top-be[0].top)<=.1))return;if(y+1===G){Oe.push(G);return}const Ze=y+(G-y)/2|0,et=nn(Et,e,o[Ze],o[Ze+1]);Ji(Et,e,o,y,W,Ze,et,Oe),Ji(Et,e,o,Ze,et,G,be,Oe)}function nn(Et,e,o,y){return Et.setStart(e[o/16384|0].firstChild,o%16384),Et.setEnd(e[y/16384|0].firstChild,y%16384),Et.getClientRects()}var en=t(61958),_n=t(64603),kn=t(35921);class pn extends g.JT{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new g.b2),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,o,y){this._editor=e,this._instantiationService=y;for(const W of o){if(this._pending.has(W.id)){(0,L.dL)(new Error(`Cannot have two contributions with the same id ${W.id}`));continue}this._pending.set(W.id,W)}this._instantiateSome(0),this._register((0,Wi.To)(()=>{this._instantiateSome(1)})),this._register((0,Wi.To)(()=>{this._instantiateSome(2)})),this._register((0,Wi.To)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[o,y]of this._instances)typeof y.saveViewState=="function"&&(e[o]=y.saveViewState());return e}restoreViewState(e){for(const[o,y]of this._instances)typeof y.restoreViewState=="function"&&y.restoreViewState(e[o])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,Wi.To)(()=>{this._instantiateSome(1)},50))}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const o=this._findPendingContributionsByInstantiation(e);for(const y of o)this._instantiateById(y.id)}_findPendingContributionsByInstantiation(e){const o=[];for(const[,y]of this._pending)y.instantiation===e&&o.push(y);return o}_instantiateById(e){const o=this._pending.get(e);if(o){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const y=this._instantiationService.createInstance(o.ctor,this._editor);this._instances.set(o.id,y),typeof y.restoreViewState=="function"&&o.instantiation!==0&&console.warn(`Editor contribution '${o.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(y){(0,L.dL)(y)}}}}var Bn=function(Et,e,o,y){var W=arguments.length,G=W<3?e:y===null?y=Object.getOwnPropertyDescriptor(e,o):y,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(Et,e,o,y);else for(var Oe=Et.length-1;Oe>=0;Oe--)(be=Et[Oe])&&(G=(W<3?be(G):W>3?be(e,o,G):be(e,o))||G);return W>3&&G&&Object.defineProperty(e,o,G),G},Tn=function(Et,e){return function(o,y){e(o,y,Et)}},Un=function(Et,e,o,y){function W(G){return G instanceof o?G:new o(function(be){be(G)})}return new(o||(o=Promise))(function(G,be){function Oe(it){try{et(y.next(it))}catch(pt){be(pt)}}function Ze(it){try{et(y.throw(it))}catch(pt){be(pt)}}function et(it){it.done?G(it.value):W(it.value).then(Oe,Ze)}et((y=y.apply(Et,e||[])).next())})};let Pn=0;class En{constructor(e,o,y,W,G,be){this.model=e,this.viewModel=o,this.view=y,this.hasRealView=W,this.listenersToRemove=G,this.attachedView=be}dispose(){(0,g.B9)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let zn=class Xa extends g.JT{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(e,o,y,W,G,be,Oe,Ze,et,it,pt,Ft){super(),this.languageConfigurationService=pt,this._deliveryQueue=new E.F3,this._contributions=this._register(new pn),this._onDidDispose=this._register(new E.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new an(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Kn({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Kn({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new an(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new an(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new an(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new an(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new an(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new an(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new an(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new an(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new an(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new an(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new an(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new an(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new an(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new an(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new an(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new an(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new an(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new E.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),G.willCreateCodeEditor();const Ot=Object.assign({},o);this._domElement=e,this._overflowWidgetsDomNode=Ot.overflowWidgetsDomNode,delete Ot.overflowWidgetsDomNode,this._id=++Pn,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=y.telemetryData,this._configuration=this._register(this._createConfiguration(y.isSimpleWidget||!1,Ot,it)),this._register(this._configuration.onDidChange(ri=>{this._onDidChangeConfiguration.fire(ri);const _i=this._configuration.options;if(ri.hasChanged(140)){const Ti=_i.get(140);this._onDidLayoutChange.fire(Ti)}})),this._contextKeyService=this._register(Oe.createScoped(this._domElement)),this._notificationService=et,this._codeEditorService=G,this._commandService=be,this._themeService=Ze,this._register(new Wn(this,this._contextKeyService)),this._register(new os(this,this._contextKeyService,Ft)),this._instantiationService=W.createChild(new cl.y([ka.i6,this._contextKeyService])),this._modelData=null,this._focusTracker=new An(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Xt;Array.isArray(y.contributions)?Xt=y.contributions:Xt=O.Uc.getEditorContributions(),this._contributions.initialize(this,Xt,this._instantiationService);for(const ri of O.Uc.getEditorActions()){if(this._actions.has(ri.id)){(0,L.dL)(new Error(`Cannot have two actions with the same id ${ri.id}`));continue}const _i=new wo.p(ri.id,ri.label,ri.alias,(0,di.f6)(ri.precondition),()=>this._instantiationService.invokeFunction(Ti=>Promise.resolve(ri.runEditorCommand(Ti,this,null))),this._contextKeyService);this._actions.set(_i.id,_i)}const ii=()=>!this._configuration.options.get(88)&&this._configuration.options.get(34).enabled;this._register(new I.eg(this._domElement,{onDragEnter:()=>{},onDragOver:ri=>{if(!ii())return;const _i=this.getTargetAtClientPoint(ri.clientX,ri.clientY);_i!=null&&_i.position&&this.showDropIndicatorAt(_i.position)},onDrop:ri=>Un(this,void 0,void 0,function*(){if(!ii()||(this.removeDropIndicator(),!ri.dataTransfer))return;const _i=this.getTargetAtClientPoint(ri.clientX,ri.clientY);_i!=null&&_i.position&&this._onDropIntoEditor.fire({position:_i.position,event:ri})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var o;(o=this._modelData)===null||o===void 0||o.view.writeScreenReaderContent(e)}_createConfiguration(e,o,y){return new k(e,o,this._domElement,y)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Cr.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?en.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(126),e):null}getValue(e=null){if(!this._modelData)return"";const o=!!(e&&e.preserveBOM);let y=0;return e&&e.lineEnding&&e.lineEnding===`
`?y=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(y=2),this._modelData.model.getValue(y,o)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const o=e;if(this._modelData===null&&o===null||this._modelData&&this._modelData.model===o)return;const y=this.hasTextFocus(),W=this._detachModel();this._attachModel(o),y&&this.hasModel()&&this.focus();const G={oldModelUrl:W?W.uri:null,newModelUrl:o?o.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(G),this._postDetachModelCleanup(W),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const o=this._decorationTypeSubtypes[e];for(const y in o)this._removeDecorationType(e+"-"+y)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,o,y,W){const G=e.model.validatePosition({lineNumber:o,column:y}),be=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(G);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(be.lineNumber,W)}getTopForLineNumber(e,o=!1){return this._modelData?Xa._getVerticalOffsetForPosition(this._modelData,e,1,o):-1}getTopForPosition(e,o){return this._modelData?Xa._getVerticalOffsetForPosition(this._modelData,e,o,!1):-1}static _getVerticalOffsetForPosition(e,o,y,W=!1){const G=e.model.validatePosition({lineNumber:o,column:y}),be=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(G);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(be.lineNumber,W)}getBottomForLineNumber(e,o=!1){return this._modelData?Xa._getVerticalOffsetAfterPosition(this._modelData,e,1,o):-1}setHiddenAreas(e,o){var y;(y=this._modelData)===null||y===void 0||y.viewModel.setHiddenAreas(e.map(W=>Pe.e.lift(W)),o)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const o=this._modelData.model.validatePosition(e),y=this._modelData.model.getOptions().tabSize;return ot.i.visibleColumnFromColumn(this._modelData.model.getLineContent(o.lineNumber),o.column,y)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,o="api"){if(this._modelData){if(!ue.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,o,y,W){if(!this._modelData)return;if(!Pe.e.isIRange(e))throw new Error("Invalid arguments");const G=this._modelData.model.validateRange(e),be=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(G);this._modelData.viewModel.revealRange("api",y,be,o,W)}revealLine(e,o=0){this._revealLine(e,0,o)}revealLineInCenter(e,o=0){this._revealLine(e,1,o)}revealLineInCenterIfOutsideViewport(e,o=0){this._revealLine(e,2,o)}revealLineNearTop(e,o=0){this._revealLine(e,5,o)}_revealLine(e,o,y){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e,1,e,1),o,!1,y)}revealPosition(e,o=0){this._revealPosition(e,0,!0,o)}revealPositionInCenter(e,o=0){this._revealPosition(e,1,!0,o)}revealPositionInCenterIfOutsideViewport(e,o=0){this._revealPosition(e,2,!0,o)}revealPositionNearTop(e,o=0){this._revealPosition(e,5,!0,o)}_revealPosition(e,o,y,W){if(!ue.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e.lineNumber,e.column,e.lineNumber,e.column),o,y,W)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,o="api"){const y=Z.Y.isISelection(e),W=Pe.e.isIRange(e);if(!y&&!W)throw new Error("Invalid arguments");if(y)this._setSelectionImpl(e,o);else if(W){const G={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(G,o)}}_setSelectionImpl(e,o){if(!this._modelData)return;const y=new Z.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(o,[y])}revealLines(e,o,y=0){this._revealLines(e,o,0,y)}revealLinesInCenter(e,o,y=0){this._revealLines(e,o,1,y)}revealLinesInCenterIfOutsideViewport(e,o,y=0){this._revealLines(e,o,2,y)}revealLinesNearTop(e,o,y=0){this._revealLines(e,o,5,y)}_revealLines(e,o,y,W){if(typeof e!="number"||typeof o!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pe.e(e,1,o,1),y,!1,W)}revealRange(e,o=0,y=!1,W=!0){this._revealRange(e,y?1:0,W,o)}revealRangeInCenter(e,o=0){this._revealRange(e,1,!0,o)}revealRangeInCenterIfOutsideViewport(e,o=0){this._revealRange(e,2,!0,o)}revealRangeNearTop(e,o=0){this._revealRange(e,5,!0,o)}revealRangeNearTopIfOutsideViewport(e,o=0){this._revealRange(e,6,!0,o)}revealRangeAtTop(e,o=0){this._revealRange(e,3,!0,o)}_revealRange(e,o,y,W){if(!Pe.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Pe.e.lift(e),o,y,W)}setSelections(e,o="api",y=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let W=0,G=e.length;W<G;W++)if(!Z.Y.isISelection(e[W]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,e,y)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},o)}}setScrollTop(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},o)}}setScrollPosition(e,o=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,o)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),o=this._modelData.viewModel.saveCursorState(),y=this._modelData.viewModel.saveState();return{cursorState:o,viewState:y,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const o=e;if(o&&o.cursorState&&o.viewState){const y=o.cursorState;Array.isArray(y)?y.length>0&&this._modelData.viewModel.restoreCursorState(y):this._modelData.viewModel.restoreCursorState([y]),this._contributions.restoreViewState(o.contributionsState||{});const W=this._modelData.viewModel.reduceRestoreState(o.viewState);this._modelData.view.restoreState(W)}}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(o=>o.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,o,y){switch(y=y||{},o){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const G=y;this._type(e,G.text||"");return}case"replacePreviousChar":{const G=y;this._compositionType(e,G.text||"",G.replaceCharCnt||0,0,0);return}case"compositionType":{const G=y;this._compositionType(e,G.text||"",G.replacePrevCharCnt||0,G.replaceNextCharCnt||0,G.positionDelta||0);return}case"paste":{const G=y;this._paste(e,G.text||"",G.pasteOnNewLine||!1,G.multicursorText||null,G.mode||null);return}case"cut":this._cut(e);return}const W=this.getAction(o);if(W){Promise.resolve(W.run(y)).then(void 0,L.dL);return}this._modelData&&(this._triggerEditorCommand(e,o,y)||this._triggerCommand(o,y))}_triggerCommand(e,o){this._commandService.executeCommand(e,o)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,o){!this._modelData||o.length===0||(e==="keyboard"&&this._onWillType.fire(o),this._modelData.viewModel.type(o,e),e==="keyboard"&&this._onDidType.fire(o))}_compositionType(e,o,y,W,G){this._modelData&&this._modelData.viewModel.compositionType(o,y,W,G,e)}_paste(e,o,y,W,G){if(!this._modelData||o.length===0)return;const be=this._modelData.viewModel,Oe=be.getSelection().getStartPosition();be.paste(o,y,W,e);const Ze=be.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Pe.e(Oe.lineNumber,Oe.column,Ze.lineNumber,Ze.column),languageId:G})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,o,y){const W=O.Uc.getEditorCommand(o);return W?(y=y||{},y.source=e,this._instantiationService.invokeFunction(G=>{Promise.resolve(W.runEditorCommand(G,this,y)).then(void 0,L.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(88)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(88)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,o,y){if(!this._modelData||this._configuration.options.get(88))return!1;let W;return y?Array.isArray(y)?W=()=>y:W=y:W=()=>null,this._modelData.viewModel.executeEdits(e,o,W),!0}executeCommand(e,o){this._modelData&&this._modelData.viewModel.executeCommand(o,e)}executeCommands(e,o){this._modelData&&this._modelData.viewModel.executeCommands(o,e)}createDecorationsCollection(e){return new ls(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,M.$J)(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,(0,M.$J)(this._configuration.options)):null}deltaDecorations(e,o){return this._modelData?e.length===0&&o.length===0?e:this._modelData.model.deltaDecorations(e,o,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(o=>{o.deltaDecorations(e,[])})}removeDecorationsByType(e){const o=this._decorationTypeKeysToIds[e];o&&this.deltaDecorations(o,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(140)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const o={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(o)}layoutContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const y=this._contentWidgets[o];y.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(y)}}removeContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const y=this._contentWidgets[o];delete this._contentWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(y)}}addOverlayWidget(e){const o={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(o)}layoutOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const y=this._overlayWidgets[o];y.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(y)}}removeOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const y=this._overlayWidgets[o];delete this._overlayWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(y)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,o){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,o)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const o=this._modelData.model.validatePosition(e),y=this._configuration.options,W=y.get(140),G=Xa._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),be=this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+W.glyphMarginWidth+W.lineNumbersWidth+W.decorationsWidth-this.getScrollLeft();return{top:G,left:be,height:y.get(64)}}getOffsetForColumn(e,o){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,o)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){(0,Qi.N)(e,this._configuration.options.get(48))}setBanner(e,o){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?o:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const o=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const y=e.onBeforeAttached(),W=new al(this._id,this._configuration,e,li.create(),Dr.create(this._configuration.options),Oe=>I.jL(Oe),this.languageConfigurationService,this._themeService,y);o.push(e.onWillDispose(()=>this.setModel(null))),o.push(W.onEvent(Oe=>{switch(Oe.kind){case 0:this._onDidContentSizeChange.fire(Oe);break;case 1:this._editorTextFocus.setValue(Oe.hasFocus);break;case 2:this._onDidScrollChange.fire(Oe);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(Oe.reachedMaxCursorCount){const pt=this.getOption(77),Ft=V.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",pt);this._notificationService.prompt(Fa.zb.Warning,Ft,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:V.NC("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const Ze=[];for(let pt=0,Ft=Oe.selections.length;pt<Ft;pt++)Ze[pt]=Oe.selections[pt].getPosition();const et={position:Ze[0],secondaryPositions:Ze.slice(1),reason:Oe.reason,source:Oe.source};this._onDidChangeCursorPosition.fire(et);const it={selection:Oe.selections[0],secondarySelections:Oe.selections.slice(1),modelVersionId:Oe.modelVersionId,oldSelections:Oe.oldSelections,oldModelVersionId:Oe.oldModelVersionId,source:Oe.source,reason:Oe.reason};this._onDidChangeCursorSelection.fire(it);break}case 7:this._onDidChangeModelDecorations.fire(Oe.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(Oe.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Oe.event);break;case 10:this._onDidChangeModelContent.fire(Oe.event);break;case 11:this._onDidChangeModelOptions.fire(Oe.event);break;case 12:this._onDidChangeModelTokens.fire(Oe.event);break}}));const[G,be]=this._createView(W);if(be){this._domElement.appendChild(G.domNode.domNode);let Oe=Object.keys(this._contentWidgets);for(let Ze=0,et=Oe.length;Ze<et;Ze++){const it=Oe[Ze];G.addContentWidget(this._contentWidgets[it])}Oe=Object.keys(this._overlayWidgets);for(let Ze=0,et=Oe.length;Ze<et;Ze++){const it=Oe[Ze];G.addOverlayWidget(this._overlayWidgets[it])}G.render(!1,!0),G.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new En(e,W,G,be,o,y)}_createView(e){let o;this.isSimpleWidget?o={paste:(G,be,Oe,Ze)=>{this._paste("keyboard",G,be,Oe,Ze)},type:G=>{this._type("keyboard",G)},compositionType:(G,be,Oe,Ze)=>{this._compositionType("keyboard",G,be,Oe,Ze)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:o={paste:(G,be,Oe,Ze)=>{const et={text:G,pasteOnNewLine:be,multicursorText:Oe,mode:Ze};this._commandService.executeCommand("paste",et)},type:G=>{const be={text:G};this._commandService.executeCommand("type",be)},compositionType:(G,be,Oe,Ze)=>{if(Oe||Ze){const et={text:G,replacePrevCharCnt:be,replaceNextCharCnt:Oe,positionDelta:Ze};this._commandService.executeCommand("compositionType",et)}else{const et={text:G,replaceCharCnt:be};this._commandService.executeCommand("replacePreviousChar",et)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const y=new sn(e.coordinatesConverter);return y.onKeyDown=G=>this._onKeyDown.fire(G),y.onKeyUp=G=>this._onKeyUp.fire(G),y.onContextMenu=G=>this._onContextMenu.fire(G),y.onMouseMove=G=>this._onMouseMove.fire(G),y.onMouseLeave=G=>this._onMouseLeave.fire(G),y.onMouseDown=G=>this._onMouseDown.fire(G),y.onMouseUp=G=>this._onMouseUp.fire(G),y.onMouseDrag=G=>this._onMouseDrag.fire(G),y.onMouseDrop=G=>this._onMouseDrop.fire(G),y.onMouseDropCanceled=G=>this._onMouseDropCanceled.fire(G),y.onMouseWheel=G=>this._onMouseWheel.fire(G),[new Js(o,this._configuration,this._themeService.getColorTheme(),e,y,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,o=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),o&&this._domElement.contains(o)&&this._domElement.removeChild(o),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const o=[{range:new Pe.e(e.lineNumber,e.column,e.lineNumber,e.column),options:Xa.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(o),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};zn.dropIntoEditorDecorationOptions=dr.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),zn=Bn([Tn(3,ll.TG),Tn(4,K.$),Tn(5,ca.H),Tn(6,ka.i6),Tn(7,Pi.XE),Tn(8,Fa.lT),Tn(9,B.F),Tn(10,_n.c_),Tn(11,kn.p)],zn);class Kn extends g.JT{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new E.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new E.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const o=e?2:1;this._value!==o&&(this._value=o,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class an extends E.Q5{constructor(e,o){super({deliveryQueue:o}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class Wn extends g.JT{constructor(e,o){super(),this._editor=e,o.createKey("editorId",e.getId()),this._editorSimpleInput=ms.u.editorSimpleInput.bindTo(o),this._editorFocus=ms.u.focus.bindTo(o),this._textInputFocus=ms.u.textInputFocus.bindTo(o),this._editorTextFocus=ms.u.editorTextFocus.bindTo(o),this._editorTabMovesFocus=ms.u.tabMovesFocus.bindTo(o),this._editorReadonly=ms.u.readOnly.bindTo(o),this._inDiffEditor=ms.u.inDiffEditor.bindTo(o),this._editorColumnSelection=ms.u.columnSelection.bindTo(o),this._hasMultipleSelections=ms.u.hasMultipleSelections.bindTo(o),this._hasNonEmptySelection=ms.u.hasNonEmptySelection.bindTo(o),this._canUndo=ms.u.canUndo.bindTo(o),this._canRedo=ms.u.canRedo.bindTo(o),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(P.n.onDidChangeTabFocus(()=>this._editorTabMovesFocus.set(P.n.getTabFocusMode("editorFocus")))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(P.n.getTabFocusMode("editorFocus")),this._editorReadonly.set(e.get(88)),this._inDiffEditor.set(e.get(59)),this._editorColumnSelection.set(e.get(20))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(o=>!o.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class os extends g.JT{constructor(e,o,y){super(),this._editor=e,this._contextKeyService=o,this._languageFeaturesService=y,this._langId=ms.u.languageId.bindTo(o),this._hasCompletionItemProvider=ms.u.hasCompletionItemProvider.bindTo(o),this._hasCodeActionsProvider=ms.u.hasCodeActionsProvider.bindTo(o),this._hasCodeLensProvider=ms.u.hasCodeLensProvider.bindTo(o),this._hasDefinitionProvider=ms.u.hasDefinitionProvider.bindTo(o),this._hasDeclarationProvider=ms.u.hasDeclarationProvider.bindTo(o),this._hasImplementationProvider=ms.u.hasImplementationProvider.bindTo(o),this._hasTypeDefinitionProvider=ms.u.hasTypeDefinitionProvider.bindTo(o),this._hasHoverProvider=ms.u.hasHoverProvider.bindTo(o),this._hasDocumentHighlightProvider=ms.u.hasDocumentHighlightProvider.bindTo(o),this._hasDocumentSymbolProvider=ms.u.hasDocumentSymbolProvider.bindTo(o),this._hasReferenceProvider=ms.u.hasReferenceProvider.bindTo(o),this._hasRenameProvider=ms.u.hasRenameProvider.bindTo(o),this._hasSignatureHelpProvider=ms.u.hasSignatureHelpProvider.bindTo(o),this._hasInlayHintsProvider=ms.u.hasInlayHintsProvider.bindTo(o),this._hasDocumentFormattingProvider=ms.u.hasDocumentFormattingProvider.bindTo(o),this._hasDocumentSelectionFormattingProvider=ms.u.hasDocumentSelectionFormattingProvider.bindTo(o),this._hasMultipleDocumentFormattingProvider=ms.u.hasMultipleDocumentFormattingProvider.bindTo(o),this._hasMultipleDocumentSelectionFormattingProvider=ms.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),this._isInWalkThrough=ms.u.isInWalkThroughSnippet.bindTo(o);const W=()=>this._update();this._register(e.onDidChangeModel(W)),this._register(e.onDidChangeModelLanguage(W)),this._register(y.completionProvider.onDidChange(W)),this._register(y.codeActionProvider.onDidChange(W)),this._register(y.codeLensProvider.onDidChange(W)),this._register(y.definitionProvider.onDidChange(W)),this._register(y.declarationProvider.onDidChange(W)),this._register(y.implementationProvider.onDidChange(W)),this._register(y.typeDefinitionProvider.onDidChange(W)),this._register(y.hoverProvider.onDidChange(W)),this._register(y.documentHighlightProvider.onDidChange(W)),this._register(y.documentSymbolProvider.onDidChange(W)),this._register(y.referenceProvider.onDidChange(W)),this._register(y.renameProvider.onDidChange(W)),this._register(y.documentFormattingEditProvider.onDidChange(W)),this._register(y.documentRangeFormattingEditProvider.onDidChange(W)),this._register(y.signatureHelpProvider.onDidChange(W)),this._register(y.inlayHintsProvider.onDidChange(W)),W()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===a.lg.walkThroughSnippet)})}}class An extends g.JT{constructor(e){super(),this._onChange=this._register(new E.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(I.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class ls{get length(){return this._decorationIds.length}constructor(e,o){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(o)&&o.length>0&&this.set(o)}onDidChange(e,o,y){return this._editor.onDidChangeModelDecorations(W=>{this._isChangingDecorations||e.call(o,W)},y)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),o=[];for(const y of this._decorationIds){const W=e.getDecorationRange(y);W&&o.push(W)}return o}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(o=>{this._decorationIds=o.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}const Ln=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),rs=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Rn(Et){return Ln+encodeURIComponent(Et.toString())+rs}const as=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Is=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function zs(Et){return as+encodeURIComponent(Et.toString())+Is}(0,Pi.Ic)((Et,e)=>{const o=Et.getColor(ys.lXJ);o&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Rn(o)}") repeat-x bottom left; }`);const y=Et.getColor(ys.uoC);y&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Rn(y)}") repeat-x bottom left; }`);const W=Et.getColor(ys.c63);W&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Rn(W)}") repeat-x bottom left; }`);const G=Et.getColor(ys.Dut);G&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${zs(G)}") no-repeat bottom left; }`);const be=Et.getColor(Li.zu);be&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${be.rgba.a}; }`)})},77957:function(Rt,Be,t){"use strict";t.d(Be,{H:function(){return i}});var f=t(23127),O=t(5603),u=t(39143),_=t(80793),p=t(76826),V=t(44333),I=t(97968),L=t(58566),E=t(18708),g=t(64603),a=t(35921),l=function(s,m,b,c){var v=arguments.length,C=v<3?m:c===null?c=Object.getOwnPropertyDescriptor(m,b):c,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(s,m,b,c);else for(var N=s.length-1;N>=0;N--)(S=s[N])&&(C=(v<3?S(C):v>3?S(m,b,C):S(m,b))||C);return v>3&&C&&Object.defineProperty(m,b,C),C},d=function(s,m){return function(b,c){m(b,c,s)}};let i=class extends u.Gm{constructor(m,b,c,v,C,S,N,P,M,D,F,B,U){super(m,Object.assign(Object.assign({},v.getRawOptions()),{overflowWidgetsDomNode:v.getOverflowWidgetsDomNode()}),c,C,S,N,P,M,D,F,B,U),this._parentEditor=v,this._overwriteOptions=b,super.updateOptions(this._overwriteOptions),this._register(v.onDidChangeConfiguration(A=>this._onParentConfigurationChanged(A)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(m){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(m){f.jB(this._overwriteOptions,m,!0),super.updateOptions(this._overwriteOptions)}};i=l([d(4,V.TG),d(5,O.$),d(6,_.H),d(7,p.i6),d(8,L.XE),d(9,I.lT),d(10,E.F),d(11,g.c_),d(12,a.p)],i)},38050:function(Rt,Be,t){"use strict";t.d(Be,{OY:function(){return u},Sj:function(){return _},T4:function(){return O},Uo:function(){return p},hP:function(){return V}});var f=t(57841);class O{constructor(L,E,g=!1){this._range=L,this._text=E,this.insertsAutoWhitespace=g}getEditOperations(L,E){E.addTrackedEditOperation(this._range,this._text)}computeCursorState(L,E){const a=E.getInverseEditOperations()[0].range;return f.Y.fromPositions(a.getEndPosition())}}class u{constructor(L,E){this._range=L,this._text=E}getEditOperations(L,E){E.addTrackedEditOperation(this._range,this._text)}computeCursorState(L,E){const a=E.getInverseEditOperations()[0].range;return f.Y.fromRange(a,0)}}class _{constructor(L,E,g=!1){this._range=L,this._text=E,this.insertsAutoWhitespace=g}getEditOperations(L,E){E.addTrackedEditOperation(this._range,this._text)}computeCursorState(L,E){const a=E.getInverseEditOperations()[0].range;return f.Y.fromPositions(a.getStartPosition())}}class p{constructor(L,E,g,a,l=!1){this._range=L,this._text=E,this._columnDeltaOffset=a,this._lineNumberDeltaOffset=g,this.insertsAutoWhitespace=l}getEditOperations(L,E){E.addTrackedEditOperation(this._range,this._text)}computeCursorState(L,E){const a=E.getInverseEditOperations()[0].range;return f.Y.fromPositions(a.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class V{constructor(L,E,g,a=!1){this._range=L,this._text=E,this._initialSelection=g,this._forceMoveMarkers=a,this._selectionId=null}getEditOperations(L,E){E.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=E.trackSelection(this._initialSelection)}computeCursorState(L,E){return E.getTrackedSelection(this._selectionId)}}},8453:function(Rt,Be,t){"use strict";t.d(Be,{U:function(){return a}});var f=t(17416),O=t(61669),u=t(50038),_=t(57841),p=t(14),V=t(64603),I=function(l,d,i,s){var m=arguments.length,b=m<3?d:s===null?s=Object.getOwnPropertyDescriptor(d,i):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,d,i,s);else for(var v=l.length-1;v>=0;v--)(c=l[v])&&(b=(m<3?c(b):m>3?c(d,i,b):c(d,i))||b);return m>3&&b&&Object.defineProperty(d,i,b),b},L=function(l,d){return function(i,s){d(i,s,l)}};const E=Object.create(null);function g(l,d){if(d<=0)return"";E[l]||(E[l]=["",l]);const i=E[l];for(let s=i.length;s<=d;s++)i[s]=i[s-1]+l;return i[d]}let a=class lc{static unshiftIndent(d,i,s,m,b){const c=O.i.visibleColumnFromColumn(d,i,s);if(b){const v=g(" ",m),S=O.i.prevIndentTabStop(c,m)/m;return g(v,S)}else{const v="	",S=O.i.prevRenderTabStop(c,s)/s;return g(v,S)}}static shiftIndent(d,i,s,m,b){const c=O.i.visibleColumnFromColumn(d,i,s);if(b){const v=g(" ",m),S=O.i.nextIndentTabStop(c,m)/m;return g(v,S)}else{const v="	",S=O.i.nextRenderTabStop(c,s)/s;return g(v,S)}}constructor(d,i,s){this._languageConfigurationService=s,this._opts=i,this._selection=d,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(d,i,s){this._useLastEditRangeForCursorEndPosition?d.addTrackedEditOperation(i,s):d.addEditOperation(i,s)}getEditOperations(d,i){const s=this._selection.startLineNumber;let m=this._selection.endLineNumber;this._selection.endColumn===1&&s!==m&&(m=m-1);const{tabSize:b,indentSize:c,insertSpaces:v}=this._opts,C=s===m;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(d.getLineContent(s))&&(this._useLastEditRangeForCursorEndPosition=!0);let S=0,N=0;for(let P=s;P<=m;P++,S=N){N=0;const M=d.getLineContent(P);let D=f.LC(M);if(this._opts.isUnshift&&(M.length===0||D===0)||!C&&!this._opts.isUnshift&&M.length===0)continue;if(D===-1&&(D=M.length),P>1&&O.i.visibleColumnFromColumn(M,D+1,b)%c!==0&&d.tokenization.isCheapToTokenize(P-1)){const U=(0,p.A)(this._opts.autoIndent,d,new u.e(P-1,d.getLineMaxColumn(P-1),P-1,d.getLineMaxColumn(P-1)),this._languageConfigurationService);if(U){if(N=S,U.appendText)for(let A=0,k=U.appendText.length;A<k&&N<c&&U.appendText.charCodeAt(A)===32;A++)N++;U.removeText&&(N=Math.max(0,N-U.removeText));for(let A=0;A<N&&!(D===0||M.charCodeAt(D-1)!==32);A++)D--}}if(this._opts.isUnshift&&D===0)continue;let F;this._opts.isUnshift?F=lc.unshiftIndent(M,D+1,b,c,v):F=lc.shiftIndent(M,D+1,b,c,v),this._addEditOperation(i,new u.e(P,1,P,D+1),F),P===s&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=D+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&d.getLineLength(s)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const S=v?g(" ",c):"	";for(let N=s;N<=m;N++){const P=d.getLineContent(N);let M=f.LC(P);if(!(this._opts.isUnshift&&(P.length===0||M===0))&&!(!C&&!this._opts.isUnshift&&P.length===0)&&(M===-1&&(M=P.length),!(this._opts.isUnshift&&M===0)))if(this._opts.isUnshift){M=Math.min(M,c);for(let D=0;D<M;D++)if(P.charCodeAt(D)===9){M=D+1;break}this._addEditOperation(i,new u.e(N,1,N,M+1),"")}else this._addEditOperation(i,new u.e(N,1,N,1),S),N===s&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=i.trackSelection(this._selection)}computeCursorState(d,i){if(this._useLastEditRangeForCursorEndPosition){const m=i.getInverseEditOperations()[0];return new _.Y(m.range.endLineNumber,m.range.endColumn,m.range.endLineNumber,m.range.endColumn)}const s=i.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const m=this._selection.startColumn;return s.startColumn<=m?s:s.getDirection()===0?new _.Y(s.startLineNumber,m,s.endLineNumber,s.endColumn):new _.Y(s.endLineNumber,s.endColumn,s.startLineNumber,m)}return s}};a=I([L(2,V.c_)],a)},86689:function(Rt,Be,t){"use strict";t.d(Be,{Pe:function(){return l},ei:function(){return a},wk:function(){return V}});var f=t(70054),O=t(56318),u=t(26386),_=t(12326),p=t(6325);const V=Object.freeze({id:"editor",order:5,type:"object",title:u.NC("editorConfigurationTitle","Editor"),scope:5}),I=Object.assign(Object.assign({},V),{properties:{"editor.tabSize":{type:"number",default:O.D.tabSize,minimum:1,markdownDescription:u.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:u.NC("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:O.D.insertSpaces,markdownDescription:u.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:O.D.detectIndentation,markdownDescription:u.NC("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:O.D.trimAutoWhitespace,description:u.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:O.D.largeFileOptimizations,description:u.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:u.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[u.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),u.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),u.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:u.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[u.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),u.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),u.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:u.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:u.NC("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:u.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:u.NC("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:u.NC("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:u.NC("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only.")},"editor.language.brackets":{type:["array","null"],default:null,description:u.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:u.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:u.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:u.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:u.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:u.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:u.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:u.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:u.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:u.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:u.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:u.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:u.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[u.NC("wordWrap.off","Lines will never wrap."),u.NC("wordWrap.on","Lines will wrap at the viewport width."),u.NC("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:"legacy",markdownEnumDescriptions:[u.NC("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),u.NC("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.experimental.collapseUnchangedRegions":{type:"boolean",default:!1,description:u.NC("collapseUnchangedRegions","Controls whether the diff editor shows unchanged regions. Only works when 'diffEditor.experimental.useVersion2' is set.")},"diffEditor.experimental.useVersion2":{type:"boolean",default:!1,description:u.NC("useVersion2","Controls whether the diff editor uses the new or the old implementation.")}}});function L(i){return typeof i.type!="undefined"||typeof i.anyOf!="undefined"}for(const i of f.Bc){const s=i.schema;if(typeof s!="undefined")if(L(s))I.properties[`editor.${i.name}`]=s;else for(const m in s)Object.hasOwnProperty.call(s,m)&&(I.properties[m]=s[m])}let E=null;function g(){return E===null&&(E=Object.create(null),Object.keys(I.properties).forEach(i=>{E[i]=!0})),E}function a(i){return g()[`editor.${i}`]||!1}function l(i){return g()[`diffEditor.${i}`]||!1}p.B.as(_.IP.Configuration).registerConfiguration(I)},70054:function(Rt,Be,t){"use strict";t.d(Be,{$J:function(){return we},Av:function(){return Ke},BH:function(){return gi},Bb:function(){return L},Bc:function(){return Vt},Bo:function(){return j},LJ:function(){return E},L_:function(){return v},NY:function(){return N},O7:function(){return s},Zc:function(){return b},d2:function(){return A},gk:function(){return Re},hL:function(){return Wt},n0:function(){return Y},qt:function(){return ze},rk:function(){return a},y0:function(){return I}});var f=t(26386),O=t(11138),u=t(52676),_=t(16308),p=t(23127),V=t(56318);const I=8;class L{constructor(Ye){this._values=Ye}hasChanged(Ye){return this._values[Ye]}}class E{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class g{constructor(Ye,ut,dt,bt){this.id=Ye,this.name=ut,this.defaultValue=dt,this.schema=bt}applyUpdate(Ye,ut){return l(Ye,ut)}compute(Ye,ut,dt){return dt}}class a{constructor(Ye,ut){this.newValue=Ye,this.didChange=ut}}function l(jt,Ye){if(typeof jt!="object"||typeof Ye!="object"||!jt||!Ye)return new a(Ye,jt!==Ye);if(Array.isArray(jt)||Array.isArray(Ye)){const dt=Array.isArray(jt)&&Array.isArray(Ye)&&_.fS(jt,Ye);return new a(Ye,!dt)}let ut=!1;for(const dt in Ye)if(Ye.hasOwnProperty(dt)){const bt=l(jt[dt],Ye[dt]);bt.didChange&&(jt[dt]=bt.newValue,ut=!0)}return new a(jt,ut)}class d{constructor(Ye){this.schema=void 0,this.id=Ye,this.name="_never_",this.defaultValue=void 0}applyUpdate(Ye,ut){return l(Ye,ut)}validate(Ye){return this.defaultValue}}class i{constructor(Ye,ut,dt,bt){this.id=Ye,this.name=ut,this.defaultValue=dt,this.schema=bt}applyUpdate(Ye,ut){return l(Ye,ut)}validate(Ye){return typeof Ye=="undefined"?this.defaultValue:Ye}compute(Ye,ut,dt){return dt}}function s(jt,Ye){return typeof jt=="undefined"?Ye:jt==="false"?!1:!!jt}class m extends i{constructor(Ye,ut,dt,bt=void 0){typeof bt!="undefined"&&(bt.type="boolean",bt.default=dt),super(Ye,ut,dt,bt)}validate(Ye){return s(Ye,this.defaultValue)}}function b(jt,Ye,ut,dt){if(typeof jt=="undefined")return Ye;let bt=parseInt(jt,10);return isNaN(bt)?Ye:(bt=Math.max(ut,bt),bt=Math.min(dt,bt),bt|0)}class c extends i{static clampedInt(Ye,ut,dt,bt){return b(Ye,ut,dt,bt)}constructor(Ye,ut,dt,bt,Mt,ni=void 0){typeof ni!="undefined"&&(ni.type="integer",ni.default=dt,ni.minimum=bt,ni.maximum=Mt),super(Ye,ut,dt,ni),this.minimum=bt,this.maximum=Mt}validate(Ye){return c.clampedInt(Ye,this.defaultValue,this.minimum,this.maximum)}}function v(jt,Ye,ut,dt){if(typeof jt=="undefined")return Ye;const bt=C.float(jt,Ye);return C.clamp(bt,ut,dt)}class C extends i{static clamp(Ye,ut,dt){return Ye<ut?ut:Ye>dt?dt:Ye}static float(Ye,ut){if(typeof Ye=="number")return Ye;if(typeof Ye=="undefined")return ut;const dt=parseFloat(Ye);return isNaN(dt)?ut:dt}constructor(Ye,ut,dt,bt,Mt){typeof Mt!="undefined"&&(Mt.type="number",Mt.default=dt),super(Ye,ut,dt,Mt),this.validationFn=bt}validate(Ye){return this.validationFn(C.float(Ye,this.defaultValue))}}class S extends i{static string(Ye,ut){return typeof Ye!="string"?ut:Ye}constructor(Ye,ut,dt,bt=void 0){typeof bt!="undefined"&&(bt.type="string",bt.default=dt),super(Ye,ut,dt,bt)}validate(Ye){return S.string(Ye,this.defaultValue)}}function N(jt,Ye,ut,dt){return typeof jt!="string"?Ye:dt&&jt in dt?dt[jt]:ut.indexOf(jt)===-1?Ye:jt}class P extends i{constructor(Ye,ut,dt,bt,Mt=void 0){typeof Mt!="undefined"&&(Mt.type="string",Mt.enum=bt,Mt.default=dt),super(Ye,ut,dt,Mt),this._allowedValues=bt}validate(Ye){return N(Ye,this.defaultValue,this._allowedValues)}}class M extends g{constructor(Ye,ut,dt,bt,Mt,ni,qt=void 0){typeof qt!="undefined"&&(qt.type="string",qt.enum=Mt,qt.default=bt),super(Ye,ut,dt,qt),this._allowedValues=Mt,this._convert=ni}validate(Ye){return typeof Ye!="string"?this.defaultValue:this._allowedValues.indexOf(Ye)===-1?this.defaultValue:this._convert(Ye)}}function D(jt){switch(jt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class F extends g{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[f.NC("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached"),f.NC("accessibilitySupport.on","Optimize for usage with a Screen Reader"),f.NC("accessibilitySupport.off","Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:f.NC("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(Ye){switch(Ye){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ye,ut,dt){return dt===0?Ye.accessibilitySupport:dt}}class B extends g{constructor(){const Ye={insertSpace:!0,ignoreEmptyLines:!0};super(21,"comments",Ye,{"editor.comments.insertSpace":{type:"boolean",default:Ye.insertSpace,description:f.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ye.ignoreEmptyLines,description:f.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{insertSpace:s(ut.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:s(ut.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function U(jt){switch(jt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var A;(function(jt){jt[jt.Line=1]="Line",jt[jt.Block=2]="Block",jt[jt.Underline=3]="Underline",jt[jt.LineThin=4]="LineThin",jt[jt.BlockOutline=5]="BlockOutline",jt[jt.UnderlineThin=6]="UnderlineThin"})(A||(A={}));function k(jt){switch(jt){case"line":return A.Line;case"block":return A.Block;case"underline":return A.Underline;case"line-thin":return A.LineThin;case"block-outline":return A.BlockOutline;case"underline-thin":return A.UnderlineThin}}class R extends d{constructor(){super(137)}compute(Ye,ut,dt){const bt=["monaco-editor"];return ut.get(37)&&bt.push(ut.get(37)),Ye.extraEditorClassName&&bt.push(Ye.extraEditorClassName),ut.get(71)==="default"?bt.push("mouse-default"):ut.get(71)==="copy"&&bt.push("mouse-copy"),ut.get(107)&&bt.push("showUnused"),ut.get(135)&&bt.push("showDeprecated"),bt.join(" ")}}class $ extends m{constructor(){super(35,"emptySelectionClipboard",!0,{description:f.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ye,ut,dt){return dt&&Ye.emptySelectionClipboard}}class J extends g{constructor(){const Ye={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(39,"find",Ye,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ye.cursorMoveOnType,description:f.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ye.seedSearchStringFromSelection,enumDescriptions:[f.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),f.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),f.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:f.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ye.autoFindInSelection,enumDescriptions:[f.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),f.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),f.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:f.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ye.globalFindClipboard,description:f.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:O.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ye.addExtraSpaceOnTop,description:f.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ye.loop,description:f.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{cursorMoveOnType:s(ut.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Ye.seedSearchStringFromSelection=="boolean"?Ye.seedSearchStringFromSelection?"always":"never":N(ut.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Ye.autoFindInSelection=="boolean"?Ye.autoFindInSelection?"always":"never":N(ut.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:s(ut.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:s(ut.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:s(ut.loop,this.defaultValue.loop)}}}class Y extends g{constructor(){super(49,"fontLigatures",Y.OFF,{anyOf:[{type:"boolean",description:f.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:f.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:f.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Ye){return typeof Ye=="undefined"?this.defaultValue:typeof Ye=="string"?Ye==="false"?Y.OFF:Ye==="true"?Y.ON:Ye:Ye?Y.ON:Y.OFF}}Y.OFF='"liga" off, "calt" off',Y.ON='"liga" on, "calt" on';class j extends g{constructor(){super(52,"fontVariations",j.OFF,{anyOf:[{type:"boolean",description:f.NC("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:f.NC("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:f.NC("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Ye){return typeof Ye=="undefined"?this.defaultValue:typeof Ye=="string"?Ye==="false"?j.OFF:Ye==="true"?j.TRANSLATE:Ye:Ye?j.TRANSLATE:j.OFF}compute(Ye,ut,dt){return Ye.fontInfo.fontVariationSettings}}j.OFF="normal",j.TRANSLATE="translate";class z extends d{constructor(){super(48)}compute(Ye,ut,dt){return Ye.fontInfo}}class K extends i{constructor(){super(50,"fontSize",Wt.fontSize,{type:"number",minimum:6,maximum:100,default:Wt.fontSize,description:f.NC("fontSize","Controls the font size in pixels.")})}validate(Ye){const ut=C.float(Ye,this.defaultValue);return ut===0?Wt.fontSize:C.clamp(ut,6,100)}compute(Ye,ut,dt){return Ye.fontInfo.fontSize}}class Z extends g{constructor(){super(51,"fontWeight",Wt.fontWeight,{anyOf:[{type:"number",minimum:Z.MINIMUM_VALUE,maximum:Z.MAXIMUM_VALUE,errorMessage:f.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Z.SUGGESTION_VALUES}],default:Wt.fontWeight,description:f.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Ye){return Ye==="normal"||Ye==="bold"?Ye:String(c.clampedInt(Ye,Wt.fontWeight,Z.MINIMUM_VALUE,Z.MAXIMUM_VALUE))}}Z.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Z.MINIMUM_VALUE=1,Z.MAXIMUM_VALUE=1e3;class fe extends g{constructor(){const Ye={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ut={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ye.multiple,enumDescriptions:[f.NC("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),f.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),f.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},dt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(56,"gotoLocation",Ye,{"editor.gotoLocation.multiple":{deprecationMessage:f.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},ut),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},ut),"editor.gotoLocation.multipleDeclarations":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},ut),"editor.gotoLocation.multipleImplementations":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},ut),"editor.gotoLocation.multipleReferences":Object.assign({description:f.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},ut),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ye.alternativeDefinitionCommand,enum:dt,description:f.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ye.alternativeTypeDefinitionCommand,enum:dt,description:f.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ye.alternativeDeclarationCommand,enum:dt,description:f.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ye.alternativeImplementationCommand,enum:dt,description:f.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ye.alternativeReferenceCommand,enum:dt,description:f.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ye){var ut,dt,bt,Mt,ni;if(!Ye||typeof Ye!="object")return this.defaultValue;const qt=Ye;return{multiple:N(qt.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(ut=qt.multipleDefinitions)!==null&&ut!==void 0?ut:N(qt.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(dt=qt.multipleTypeDefinitions)!==null&&dt!==void 0?dt:N(qt.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(bt=qt.multipleDeclarations)!==null&&bt!==void 0?bt:N(qt.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Mt=qt.multipleImplementations)!==null&&Mt!==void 0?Mt:N(qt.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(ni=qt.multipleReferences)!==null&&ni!==void 0?ni:N(qt.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:S.string(qt.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:S.string(qt.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:S.string(qt.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:S.string(qt.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:S.string(qt.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class T extends g{constructor(){const Ye={enabled:!0,delay:300,sticky:!0,above:!0};super(58,"hover",Ye,{"editor.hover.enabled":{type:"boolean",default:Ye.enabled,description:f.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ye.delay,minimum:0,maximum:1e4,description:f.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ye.sticky,description:f.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ye.above,description:f.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{enabled:s(ut.enabled,this.defaultValue.enabled),delay:c.clampedInt(ut.delay,this.defaultValue.delay,0,1e4),sticky:s(ut.sticky,this.defaultValue.sticky),above:s(ut.above,this.defaultValue.above)}}}class Re extends d{constructor(){super(140)}compute(Ye,ut,dt){return Re.computeLayout(ut,{memory:Ye.memory,outerWidth:Ye.outerWidth,outerHeight:Ye.outerHeight,isDominatedByLongLines:Ye.isDominatedByLongLines,lineHeight:Ye.fontInfo.lineHeight,viewLineCount:Ye.viewLineCount,lineNumbersDigitCount:Ye.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ye.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ye.fontInfo.maxDigitWidth,pixelRatio:Ye.pixelRatio,glyphMarginDecorationLaneCount:Ye.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(Ye){const ut=Ye.height/Ye.lineHeight,dt=Math.floor(Ye.paddingTop/Ye.lineHeight);let bt=Math.floor(Ye.paddingBottom/Ye.lineHeight);Ye.scrollBeyondLastLine&&(bt=Math.max(bt,ut-1));const Mt=(dt+Ye.viewLineCount+bt)/(Ye.pixelRatio*Ye.height),ni=Math.floor(Ye.viewLineCount/Mt);return{typicalViewportLineCount:ut,extraLinesBeforeFirstLine:dt,extraLinesBeyondLastLine:bt,desiredRatio:Mt,minimapLineCount:ni}}static _computeMinimapLayout(Ye,ut){const dt=Ye.outerWidth,bt=Ye.outerHeight,Mt=Ye.pixelRatio;if(!Ye.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Mt*bt),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:bt};const ni=ut.stableMinimapLayoutInput,qt=ni&&Ye.outerHeight===ni.outerHeight&&Ye.lineHeight===ni.lineHeight&&Ye.typicalHalfwidthCharacterWidth===ni.typicalHalfwidthCharacterWidth&&Ye.pixelRatio===ni.pixelRatio&&Ye.scrollBeyondLastLine===ni.scrollBeyondLastLine&&Ye.paddingTop===ni.paddingTop&&Ye.paddingBottom===ni.paddingBottom&&Ye.minimap.enabled===ni.minimap.enabled&&Ye.minimap.side===ni.minimap.side&&Ye.minimap.size===ni.minimap.size&&Ye.minimap.showSlider===ni.minimap.showSlider&&Ye.minimap.renderCharacters===ni.minimap.renderCharacters&&Ye.minimap.maxColumn===ni.minimap.maxColumn&&Ye.minimap.scale===ni.minimap.scale&&Ye.verticalScrollbarWidth===ni.verticalScrollbarWidth&&Ye.isViewportWrapping===ni.isViewportWrapping,yt=Ye.lineHeight,At=Ye.typicalHalfwidthCharacterWidth,Qt=Ye.scrollBeyondLastLine,si=Ye.minimap.renderCharacters;let oi=Mt>=2?Math.round(Ye.minimap.scale*2):Ye.minimap.scale;const mi=Ye.minimap.maxColumn,bi=Ye.minimap.size,Ai=Ye.minimap.side,$i=Ye.verticalScrollbarWidth,Vi=Ye.viewLineCount,Qi=Ye.remainingWidth,fn=Ye.isViewportWrapping,Yi=si?2:3;let Pi=Math.floor(Mt*bt);const Li=Pi/Mt;let gn=!1,on=!1,Nn=Yi*oi,ln=oi/Mt,Yt=1;if(bi==="fill"||bi==="fit"){const{typicalViewportLineCount:Hi,extraLinesBeforeFirstLine:tn,extraLinesBeyondLastLine:sn,desiredRatio:Xi,minimapLineCount:Oi}=Re.computeContainedMinimapLineCount({viewLineCount:Vi,scrollBeyondLastLine:Qt,paddingTop:Ye.paddingTop,paddingBottom:Ye.paddingBottom,height:bt,lineHeight:yt,pixelRatio:Mt});if(Vi/Oi>1)gn=!0,on=!0,oi=1,Nn=1,ln=oi/Mt;else{let Zt=!1,Jt=oi+1;if(bi==="fit"){const _t=Math.ceil((tn+Vi+sn)*Nn);fn&&qt&&Qi<=ut.stableFitRemainingWidth?(Zt=!0,Jt=ut.stableFitMaxMinimapScale):Zt=_t>Pi}if(bi==="fill"||Zt){gn=!0;const _t=oi;Nn=Math.min(yt*Mt,Math.max(1,Math.floor(1/Xi))),fn&&qt&&Qi<=ut.stableFitRemainingWidth&&(Jt=ut.stableFitMaxMinimapScale),oi=Math.min(Jt,Math.max(1,Math.floor(Nn/Yi))),oi>_t&&(Yt=Math.min(2,oi/_t)),ln=oi/Mt/Yt,Pi=Math.ceil(Math.max(Hi,tn+Vi+sn)*Nn),fn?(ut.stableMinimapLayoutInput=Ye,ut.stableFitRemainingWidth=Qi,ut.stableFitMaxMinimapScale=oi):(ut.stableMinimapLayoutInput=null,ut.stableFitRemainingWidth=0)}}}const ti=Math.floor(mi*ln),fi=Math.min(ti,Math.max(0,Math.floor((Qi-$i-2)*ln/(At+ln)))+I);let Gt=Math.floor(Mt*fi);const Si=Gt/Mt;Gt=Math.floor(Gt*Yt);const zi=si?1:2,ji=Ai==="left"?0:dt-fi-$i;return{renderMinimap:zi,minimapLeft:ji,minimapWidth:fi,minimapHeightIsEditorHeight:gn,minimapIsSampling:on,minimapScale:oi,minimapLineHeight:Nn,minimapCanvasInnerWidth:Gt,minimapCanvasInnerHeight:Pi,minimapCanvasOuterWidth:Si,minimapCanvasOuterHeight:Li}}static computeLayout(Ye,ut){const dt=ut.outerWidth|0,bt=ut.outerHeight|0,Mt=ut.lineHeight|0,ni=ut.lineNumbersDigitCount|0,qt=ut.typicalHalfwidthCharacterWidth,yt=ut.maxDigitWidth,At=ut.pixelRatio,Qt=ut.viewLineCount,si=Ye.get(132),oi=si==="inherit"?Ye.get(131):si,mi=oi==="inherit"?Ye.get(127):oi,bi=Ye.get(130),Ai=ut.isDominatedByLongLines,$i=Ye.get(55),Vi=Ye.get(65).renderType!==0,Qi=Ye.get(66),fn=Ye.get(101),Yi=Ye.get(81),Pi=Ye.get(70),Li=Ye.get(99),gn=Li.verticalScrollbarSize,on=Li.verticalHasArrows,Nn=Li.arrowSize,ln=Li.horizontalScrollbarSize,Yt=Ye.get(41),ti=Ye.get(106)!=="never";let fi=Ye.get(63);Yt&&ti&&(fi+=16);let Gt=0;if(Vi){const Ht=Math.max(ni,Qi);Gt=Math.round(Ht*yt)}let Si=0;$i&&(Si=Mt*ut.glyphMarginDecorationLaneCount);let zi=0,ji=zi+Si,Hi=ji+Gt,tn=Hi+fi;const sn=dt-Si-Gt-fi;let Xi=!1,Oi=!1,ai=-1;oi==="inherit"&&Ai?(Xi=!0,Oi=!0):mi==="on"||mi==="bounded"?Oi=!0:mi==="wordWrapColumn"&&(ai=bi);const Zt=Re._computeMinimapLayout({outerWidth:dt,outerHeight:bt,lineHeight:Mt,typicalHalfwidthCharacterWidth:qt,pixelRatio:At,scrollBeyondLastLine:fn,paddingTop:Yi.top,paddingBottom:Yi.bottom,minimap:Pi,verticalScrollbarWidth:gn,viewLineCount:Qt,remainingWidth:sn,isViewportWrapping:Oi},ut.memory||new E);Zt.renderMinimap!==0&&Zt.minimapLeft===0&&(zi+=Zt.minimapWidth,ji+=Zt.minimapWidth,Hi+=Zt.minimapWidth,tn+=Zt.minimapWidth);const Jt=sn-Zt.minimapWidth,_t=Math.max(1,Math.floor((Jt-gn-2)/qt)),xt=on?Nn:0;return Oi&&(ai=Math.max(1,_t),mi==="bounded"&&(ai=Math.min(ai,bi))),{width:dt,height:bt,glyphMarginLeft:zi,glyphMarginWidth:Si,glyphMarginDecorationLaneCount:ut.glyphMarginDecorationLaneCount,lineNumbersLeft:ji,lineNumbersWidth:Gt,decorationsLeft:Hi,decorationsWidth:fi,contentLeft:tn,contentWidth:Jt,minimap:Zt,viewportColumn:_t,isWordWrapMinified:Xi,isViewportWrapping:Oi,wrappingColumn:ai,verticalScrollbarWidth:gn,horizontalScrollbarHeight:ln,overviewRuler:{top:xt,width:gn,height:bt-2*xt,right:0}}}}class Ce extends g{constructor(){super(134,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[f.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),f.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:f.NC("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(Ye){return N(Ye,"simple",["simple","advanced"])}compute(Ye,ut,dt){return ut.get(2)===2?"advanced":dt}}class _e extends g{constructor(){const Ye={enabled:!0};super(62,"lightbulb",Ye,{"editor.lightbulb.enabled":{type:"boolean",default:Ye.enabled,description:f.NC("codeActions","Enables the Code Action lightbulb in the editor.")}})}validate(Ye){return!Ye||typeof Ye!="object"?this.defaultValue:{enabled:s(Ye.enabled,this.defaultValue.enabled)}}}class pe extends g{constructor(){const Ye={enabled:!1,maxLineCount:5,defaultModel:"outlineModel"};super(111,"stickyScroll",Ye,{"editor.stickyScroll.enabled":{type:"boolean",default:Ye.enabled,description:f.NC("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Ye.maxLineCount,minimum:1,maximum:10,description:f.NC("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Ye.defaultModel,description:f.NC("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{enabled:s(ut.enabled,this.defaultValue.enabled),maxLineCount:c.clampedInt(ut.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:N(ut.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"])}}}class le extends g{constructor(){const Ye={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(136,"inlayHints",Ye,{"editor.inlayHints.enabled":{type:"string",default:Ye.enabled,description:f.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[f.NC("editor.inlayHints.on","Inlay hints are enabled"),f.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",O.dz?"Ctrl+Option":"Ctrl+Alt"),f.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",O.dz?"Ctrl+Option":"Ctrl+Alt"),f.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Ye.fontSize,markdownDescription:f.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Ye.fontFamily,markdownDescription:f.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Ye.padding,description:f.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return typeof ut.enabled=="boolean"&&(ut.enabled=ut.enabled?"on":"off"),{enabled:N(ut.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:c.clampedInt(ut.fontSize,this.defaultValue.fontSize,0,100),fontFamily:S.string(ut.fontFamily,this.defaultValue.fontFamily),padding:s(ut.padding,this.defaultValue.padding)}}}class oe extends g{constructor(){super(63,"lineDecorationsWidth",10)}validate(Ye){return typeof Ye=="string"&&/^\d+(\.\d+)?ch$/.test(Ye)?-parseFloat(Ye.substring(0,Ye.length-2)):c.clampedInt(Ye,this.defaultValue,0,1e3)}compute(Ye,ut,dt){return dt<0?c.clampedInt(-dt*Ye.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):dt}}class he extends C{constructor(){super(64,"lineHeight",Wt.lineHeight,Ye=>C.clamp(Ye,0,150),{markdownDescription:f.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Ye,ut,dt){return Ye.fontInfo.lineHeight}}class je extends g{constructor(){const Ye={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(70,"minimap",Ye,{"editor.minimap.enabled":{type:"boolean",default:Ye.enabled,description:f.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Ye.autohide,description:f.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[f.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),f.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),f.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ye.size,description:f.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ye.side,description:f.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ye.showSlider,description:f.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ye.scale,minimum:1,maximum:3,enum:[1,2,3],description:f.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ye.renderCharacters,description:f.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ye.maxColumn,description:f.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{enabled:s(ut.enabled,this.defaultValue.enabled),autohide:s(ut.autohide,this.defaultValue.autohide),size:N(ut.size,this.defaultValue.size,["proportional","fill","fit"]),side:N(ut.side,this.defaultValue.side,["right","left"]),showSlider:N(ut.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:s(ut.renderCharacters,this.defaultValue.renderCharacters),scale:c.clampedInt(ut.scale,1,1,3),maxColumn:c.clampedInt(ut.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Xe(jt){return jt==="ctrlCmd"?O.dz?"metaKey":"ctrlKey":"altKey"}class Ve extends g{constructor(){super(81,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:f.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:f.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{top:c.clampedInt(ut.top,0,0,1e3),bottom:c.clampedInt(ut.bottom,0,0,1e3)}}}class se extends g{constructor(){const Ye={enabled:!0,cycle:!0};super(83,"parameterHints",Ye,{"editor.parameterHints.enabled":{type:"boolean",default:Ye.enabled,description:f.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ye.cycle,description:f.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{enabled:s(ut.enabled,this.defaultValue.enabled),cycle:s(ut.cycle,this.defaultValue.cycle)}}}class q extends d{constructor(){super(138)}compute(Ye,ut,dt){return Ye.pixelRatio}}class Ee extends g{constructor(){const Ye={other:"on",comments:"off",strings:"off"},ut=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[f.NC("on","Quick suggestions show inside the suggest widget"),f.NC("inline","Quick suggestions show as ghost text"),f.NC("off","Quick suggestions are disabled")]}];super(86,"quickSuggestions",Ye,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:ut,default:Ye.strings,description:f.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:ut,default:Ye.comments,description:f.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:ut,default:Ye.other,description:f.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Ye,markdownDescription:f.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Ye}validate(Ye){if(typeof Ye=="boolean"){const At=Ye?"on":"off";return{comments:At,strings:At,other:At}}if(!Ye||typeof Ye!="object")return this.defaultValue;const{other:ut,comments:dt,strings:bt}=Ye,Mt=["on","inline","off"];let ni,qt,yt;return typeof ut=="boolean"?ni=ut?"on":"off":ni=N(ut,this.defaultValue.other,Mt),typeof dt=="boolean"?qt=dt?"on":"off":qt=N(dt,this.defaultValue.comments,Mt),typeof bt=="boolean"?yt=bt?"on":"off":yt=N(bt,this.defaultValue.strings,Mt),{other:ni,comments:qt,strings:yt}}}class Se extends g{constructor(){super(65,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[f.NC("lineNumbers.off","Line numbers are not rendered."),f.NC("lineNumbers.on","Line numbers are rendered as absolute number."),f.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),f.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:f.NC("lineNumbers","Controls the display of line numbers.")})}validate(Ye){let ut=this.defaultValue.renderType,dt=this.defaultValue.renderFn;return typeof Ye!="undefined"&&(typeof Ye=="function"?(ut=4,dt=Ye):Ye==="interval"?ut=3:Ye==="relative"?ut=2:Ye==="on"?ut=1:ut=0),{renderType:ut,renderFn:dt}}}function we(jt){const Ye=jt.get(94);return Ye==="editable"?jt.get(88):Ye!=="on"}class ve extends g{constructor(){const Ye=[],ut={type:"number",description:f.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(98,"rulers",Ye,{type:"array",items:{anyOf:[ut,{type:["object"],properties:{column:ut,color:{type:"string",description:f.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ye,description:f.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ye){if(Array.isArray(Ye)){const ut=[];for(const dt of Ye)if(typeof dt=="number")ut.push({column:c.clampedInt(dt,0,0,1e4),color:null});else if(dt&&typeof dt=="object"){const bt=dt;ut.push({column:c.clampedInt(bt.column,0,0,1e4),color:bt.color})}return ut.sort((dt,bt)=>dt.column-bt.column),ut}return this.defaultValue}}function Ne(jt,Ye){if(typeof jt!="string")return Ye;switch(jt){case"hidden":return 2;case"visible":return 3;default:return 1}}class $e extends g{constructor(){const Ye={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(99,"scrollbar",Ye,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[f.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),f.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),f.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:f.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[f.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),f.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),f.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:f.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ye.verticalScrollbarSize,description:f.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ye.horizontalScrollbarSize,description:f.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ye.scrollByPage,description:f.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye,dt=c.clampedInt(ut.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),bt=c.clampedInt(ut.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:c.clampedInt(ut.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ne(ut.vertical,this.defaultValue.vertical),horizontal:Ne(ut.horizontal,this.defaultValue.horizontal),useShadows:s(ut.useShadows,this.defaultValue.useShadows),verticalHasArrows:s(ut.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:s(ut.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:s(ut.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:s(ut.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:dt,horizontalSliderSize:c.clampedInt(ut.horizontalSliderSize,dt,0,1e3),verticalScrollbarSize:bt,verticalSliderSize:c.clampedInt(ut.verticalSliderSize,bt,0,1e3),scrollByPage:s(ut.scrollByPage,this.defaultValue.scrollByPage)}}}const Ke="inUntrustedWorkspace",ze={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class He extends g{constructor(){const Ye={nonBasicASCII:Ke,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Ke,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(121,"unicodeHighlight",Ye,{[ze.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ke],default:Ye.nonBasicASCII,description:f.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[ze.invisibleCharacters]:{restricted:!0,type:"boolean",default:Ye.invisibleCharacters,description:f.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[ze.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Ye.ambiguousCharacters,description:f.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[ze.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ke],default:Ye.includeComments,description:f.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[ze.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ke],default:Ye.includeStrings,description:f.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[ze.allowedCharacters]:{restricted:!0,type:"object",default:Ye.allowedCharacters,description:f.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[ze.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Ye.allowedLocales,description:f.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Ye,ut){let dt=!1;ut.allowedCharacters&&Ye&&(p.fS(Ye.allowedCharacters,ut.allowedCharacters)||(Ye=Object.assign(Object.assign({},Ye),{allowedCharacters:ut.allowedCharacters}),dt=!0)),ut.allowedLocales&&Ye&&(p.fS(Ye.allowedLocales,ut.allowedLocales)||(Ye=Object.assign(Object.assign({},Ye),{allowedLocales:ut.allowedLocales}),dt=!0));const bt=super.applyUpdate(Ye,ut);return dt?new a(bt.newValue,!0):bt}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{nonBasicASCII:ne(ut.nonBasicASCII,Ke,[!0,!1,Ke]),invisibleCharacters:s(ut.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:s(ut.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ne(ut.includeComments,Ke,[!0,!1,Ke]),includeStrings:ne(ut.includeStrings,Ke,[!0,!1,Ke]),allowedCharacters:this.validateBooleanMap(Ye.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Ye.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Ye,ut){if(typeof Ye!="object"||!Ye)return ut;const dt={};for(const[bt,Mt]of Object.entries(Ye))Mt===!0&&(dt[bt]=!0);return dt}}class Le extends g{constructor(){const Ye={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(60,"inlineSuggest",Ye,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ye.enabled,description:f.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Ye.showToolbar,enum:["always","onHover"],enumDescriptions:[f.NC("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),f.NC("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:f.NC("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Ye.suppressSuggestions,description:f.NC("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{enabled:s(ut.enabled,this.defaultValue.enabled),mode:N(ut.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:N(ut.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:s(ut.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:s(ut.keepOnBlur,this.defaultValue.keepOnBlur)}}}class de extends g{constructor(){const Ye={enabled:V.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:V.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(13,"bracketPairColorization",Ye,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ye.enabled,markdownDescription:f.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Ye.independentColorPoolPerBracketType,description:f.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{enabled:s(ut.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:s(ut.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class ee extends g{constructor(){const Ye={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(14,"guides",Ye,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[f.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),f.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),f.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ye.bracketPairs,description:f.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[f.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),f.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),f.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ye.bracketPairsHorizontal,description:f.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ye.highlightActiveBracketPair,description:f.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Ye.indentation,description:f.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[f.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),f.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),f.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Ye.highlightActiveIndentation,description:f.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{bracketPairs:ne(ut.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ne(ut.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:s(ut.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:s(ut.indentation,this.defaultValue.indentation),highlightActiveIndentation:ne(ut.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function ne(jt,Ye,ut){const dt=ut.indexOf(jt);return dt===-1?Ye:ut[dt]}class me extends g{constructor(){const Ye={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(114,"suggest",Ye,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[f.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),f.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ye.insertMode,description:f.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ye.filterGraceful,description:f.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ye.localityBonus,description:f.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ye.shareSuggestSelections,markdownDescription:f.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[f.NC("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),f.NC("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),f.NC("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),f.NC("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Ye.selectionMode,markdownDescription:f.NC("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ye.snippetsPreventQuickSuggestions,description:f.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ye.showIcons,description:f.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ye.showStatusBar,description:f.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ye.preview,description:f.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ye.showInlineDetails,description:f.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:f.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:f.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:f.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{insertMode:N(ut.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:s(ut.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:s(ut.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:s(ut.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:s(ut.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:N(ut.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:s(ut.showIcons,this.defaultValue.showIcons),showStatusBar:s(ut.showStatusBar,this.defaultValue.showStatusBar),preview:s(ut.preview,this.defaultValue.preview),previewMode:N(ut.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:s(ut.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:s(ut.showMethods,this.defaultValue.showMethods),showFunctions:s(ut.showFunctions,this.defaultValue.showFunctions),showConstructors:s(ut.showConstructors,this.defaultValue.showConstructors),showDeprecated:s(ut.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:s(ut.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:s(ut.showFields,this.defaultValue.showFields),showVariables:s(ut.showVariables,this.defaultValue.showVariables),showClasses:s(ut.showClasses,this.defaultValue.showClasses),showStructs:s(ut.showStructs,this.defaultValue.showStructs),showInterfaces:s(ut.showInterfaces,this.defaultValue.showInterfaces),showModules:s(ut.showModules,this.defaultValue.showModules),showProperties:s(ut.showProperties,this.defaultValue.showProperties),showEvents:s(ut.showEvents,this.defaultValue.showEvents),showOperators:s(ut.showOperators,this.defaultValue.showOperators),showUnits:s(ut.showUnits,this.defaultValue.showUnits),showValues:s(ut.showValues,this.defaultValue.showValues),showConstants:s(ut.showConstants,this.defaultValue.showConstants),showEnums:s(ut.showEnums,this.defaultValue.showEnums),showEnumMembers:s(ut.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:s(ut.showKeywords,this.defaultValue.showKeywords),showWords:s(ut.showWords,this.defaultValue.showWords),showColors:s(ut.showColors,this.defaultValue.showColors),showFiles:s(ut.showFiles,this.defaultValue.showFiles),showReferences:s(ut.showReferences,this.defaultValue.showReferences),showFolders:s(ut.showFolders,this.defaultValue.showFolders),showTypeParameters:s(ut.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:s(ut.showSnippets,this.defaultValue.showSnippets),showUsers:s(ut.showUsers,this.defaultValue.showUsers),showIssues:s(ut.showIssues,this.defaultValue.showIssues)}}}class ue extends g{constructor(){super(109,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:f.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Ye){return!Ye||typeof Ye!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:s(Ye.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Pe extends g{constructor(){super(133,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[f.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),f.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),f.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),f.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:f.NC("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(Ye){switch(Ye){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Ye,ut,dt){return ut.get(2)===2?0:dt}}class ot extends d{constructor(){super(141)}compute(Ye,ut,dt){const bt=ut.get(140);return{isDominatedByLongLines:Ye.isDominatedByLongLines,isWordWrapMinified:bt.isWordWrapMinified,isViewportWrapping:bt.isViewportWrapping,wrappingColumn:bt.wrappingColumn}}}class gt extends g{constructor(){const Ye={enabled:!0,showDropSelector:"afterDrop"};super(34,"dropIntoEditor",Ye,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Ye.enabled,markdownDescription:f.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:f.NC("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[f.NC("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),f.NC("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{enabled:s(ut.enabled,this.defaultValue.enabled),showDropSelector:N(ut.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class nt extends g{constructor(){const Ye={enabled:!0,showPasteSelector:"afterPaste"};super(82,"pasteAs",Ye,{"editor.pasteAs.enabled":{type:"boolean",default:Ye.enabled,markdownDescription:f.NC("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:f.NC("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[f.NC("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),f.NC("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(Ye){if(!Ye||typeof Ye!="object")return this.defaultValue;const ut=Ye;return{enabled:s(ut.enabled,this.defaultValue.enabled),showPasteSelector:N(ut.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const tt="Consolas, 'Courier New', monospace",st="Menlo, Monaco, 'Courier New', monospace",It="'Droid Sans Mono', 'monospace', monospace",Wt={fontFamily:O.dz?st:O.IJ?It:tt,fontWeight:"normal",fontSize:O.dz?12:14,lineHeight:0,letterSpacing:0},Vt=[];function Ct(jt){return Vt[jt.id]=jt,jt}const gi={acceptSuggestionOnCommitCharacter:Ct(new m(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:f.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ct(new P(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",f.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:f.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ct(new F),accessibilityPageSize:Ct(new c(3,"accessibilityPageSize",10,1,1073741824,{description:f.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:Ct(new S(4,"ariaLabel",f.NC("editorViewAccessibleLabel","Editor content"))),screenReaderAnnounceInlineSuggestion:Ct(new m(6,"screenReaderAnnounceInlineSuggestion",!0,{description:f.NC("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:Ct(new P(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),f.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:f.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Ct(new P(7,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",f.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:f.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ct(new P(8,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",f.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:f.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ct(new P(9,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",f.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),f.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:f.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ct(new M(10,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],D,{enumDescriptions:[f.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),f.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),f.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),f.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),f.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:f.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ct(new m(11,"automaticLayout",!1)),autoSurround:Ct(new P(12,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[f.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),f.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),f.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:f.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ct(new de),bracketPairGuides:Ct(new ee),stickyTabStops:Ct(new m(112,"stickyTabStops",!1,{description:f.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ct(new m(15,"codeLens",!0,{description:f.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ct(new S(16,"codeLensFontFamily","",{description:f.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ct(new c(17,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:f.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ct(new m(18,"colorDecorators",!0,{description:f.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorsLimit:Ct(new c(19,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:f.NC("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:Ct(new m(20,"columnSelection",!1,{description:f.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ct(new B),contextmenu:Ct(new m(22,"contextmenu",!0)),copyWithSyntaxHighlighting:Ct(new m(23,"copyWithSyntaxHighlighting",!0,{description:f.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ct(new M(24,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],U,{description:f.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ct(new P(25,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[f.NC("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),f.NC("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),f.NC("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:f.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ct(new M(26,"cursorStyle",A.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],k,{description:f.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ct(new c(27,"cursorSurroundingLines",0,0,1073741824,{description:f.NC("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ct(new P(28,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[f.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),f.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:f.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Ct(new c(29,"cursorWidth",0,0,1073741824,{markdownDescription:f.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ct(new m(30,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ct(new m(31,"disableMonospaceOptimizations",!1)),domReadOnly:Ct(new m(32,"domReadOnly",!1)),dragAndDrop:Ct(new m(33,"dragAndDrop",!0,{description:f.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ct(new $),dropIntoEditor:Ct(new gt),stickyScroll:Ct(new pe),experimentalWhitespaceRendering:Ct(new P(36,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[f.NC("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),f.NC("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),f.NC("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:f.NC("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:Ct(new S(37,"extraEditorClassName","")),fastScrollSensitivity:Ct(new C(38,"fastScrollSensitivity",5,jt=>jt<=0?5:jt,{markdownDescription:f.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ct(new J),fixedOverflowWidgets:Ct(new m(40,"fixedOverflowWidgets",!1)),folding:Ct(new m(41,"folding",!0,{description:f.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ct(new P(42,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[f.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),f.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:f.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ct(new m(43,"foldingHighlight",!0,{description:f.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ct(new m(44,"foldingImportsByDefault",!1,{description:f.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Ct(new c(45,"foldingMaximumRegions",5e3,10,65e3,{description:f.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Ct(new m(46,"unfoldOnClickAfterEndOfLine",!1,{description:f.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ct(new S(47,"fontFamily",Wt.fontFamily,{description:f.NC("fontFamily","Controls the font family.")})),fontInfo:Ct(new z),fontLigatures2:Ct(new Y),fontSize:Ct(new K),fontWeight:Ct(new Z),fontVariations:Ct(new j),formatOnPaste:Ct(new m(53,"formatOnPaste",!1,{description:f.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ct(new m(54,"formatOnType",!1,{description:f.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ct(new m(55,"glyphMargin",!0,{description:f.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ct(new fe),hideCursorInOverviewRuler:Ct(new m(57,"hideCursorInOverviewRuler",!1,{description:f.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ct(new T),inDiffEditor:Ct(new m(59,"inDiffEditor",!1)),letterSpacing:Ct(new C(61,"letterSpacing",Wt.letterSpacing,jt=>C.clamp(jt,-5,20),{description:f.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ct(new _e),lineDecorationsWidth:Ct(new oe),lineHeight:Ct(new he),lineNumbers:Ct(new Se),lineNumbersMinChars:Ct(new c(66,"lineNumbersMinChars",5,1,300)),linkedEditing:Ct(new m(67,"linkedEditing",!1,{description:f.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:Ct(new m(68,"links",!0,{description:f.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ct(new P(69,"matchBrackets","always",["always","near","never"],{description:f.NC("matchBrackets","Highlight matching brackets.")})),minimap:Ct(new je),mouseStyle:Ct(new P(71,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ct(new C(72,"mouseWheelScrollSensitivity",1,jt=>jt===0?1:jt,{markdownDescription:f.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ct(new m(73,"mouseWheelZoom",!1,{markdownDescription:f.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ct(new m(74,"multiCursorMergeOverlapping",!0,{description:f.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ct(new M(75,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Xe,{markdownEnumDescriptions:[f.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),f.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:f.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ct(new P(76,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[f.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),f.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:f.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:Ct(new c(77,"multiCursorLimit",1e4,1,1e5,{markdownDescription:f.NC("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:Ct(new m(78,"occurrencesHighlight",!0,{description:f.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Ct(new m(79,"overviewRulerBorder",!0,{description:f.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ct(new c(80,"overviewRulerLanes",3,0,3)),padding:Ct(new Ve),pasteAs:Ct(new nt),parameterHints:Ct(new se),peekWidgetDefaultFocus:Ct(new P(84,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[f.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),f.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:f.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Ct(new m(85,"definitionLinkOpensInPeek",!1,{description:f.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ct(new Ee),quickSuggestionsDelay:Ct(new c(87,"quickSuggestionsDelay",10,0,1073741824,{description:f.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ct(new m(88,"readOnly",!1)),renameOnType:Ct(new m(89,"renameOnType",!1,{description:f.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:f.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ct(new m(90,"renderControlCharacters",!0,{description:f.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ct(new P(91,"renderFinalNewline",O.IJ?"dimmed":"on",["off","on","dimmed"],{description:f.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ct(new P(92,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",f.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:f.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ct(new m(93,"renderLineHighlightOnlyWhenFocus",!1,{description:f.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ct(new P(94,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ct(new P(95,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",f.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),f.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),f.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:f.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ct(new c(96,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Ct(new m(97,"roundedSelection",!0,{description:f.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ct(new ve),scrollbar:Ct(new $e),scrollBeyondLastColumn:Ct(new c(100,"scrollBeyondLastColumn",4,0,1073741824,{description:f.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ct(new m(101,"scrollBeyondLastLine",!0,{description:f.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ct(new m(102,"scrollPredominantAxis",!0,{description:f.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ct(new m(103,"selectionClipboard",!0,{description:f.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:O.IJ})),selectionHighlight:Ct(new m(104,"selectionHighlight",!0,{description:f.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ct(new m(105,"selectOnLineNumbers",!0)),showFoldingControls:Ct(new P(106,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[f.NC("showFoldingControls.always","Always show the folding controls."),f.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),f.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:f.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ct(new m(107,"showUnused",!0,{description:f.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:Ct(new m(135,"showDeprecated",!0,{description:f.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ct(new le),snippetSuggestions:Ct(new P(108,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[f.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),f.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),f.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),f.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:f.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ct(new ue),smoothScrolling:Ct(new m(110,"smoothScrolling",!1,{description:f.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ct(new c(113,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ct(new me),inlineSuggest:Ct(new Le),suggestFontSize:Ct(new c(115,"suggestFontSize",0,0,1e3,{markdownDescription:f.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Ct(new c(116,"suggestLineHeight",0,0,1e3,{markdownDescription:f.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ct(new m(117,"suggestOnTriggerCharacters",!0,{description:f.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ct(new P(118,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[f.NC("suggestSelection.first","Always select the first suggestion."),f.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),f.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:f.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ct(new P(119,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[f.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),f.NC("tabCompletion.off","Disable tab completions."),f.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:f.NC("tabCompletion","Enables tab completions.")})),tabIndex:Ct(new c(120,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ct(new He),unusualLineTerminators:Ct(new P(122,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[f.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),f.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),f.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:f.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ct(new m(123,"useShadowDOM",!0)),useTabStops:Ct(new m(124,"useTabStops",!0,{description:f.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:Ct(new P(125,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[f.NC("wordBreak.normal","Use the default line break rule."),f.NC("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:f.NC("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:Ct(new S(126,"wordSeparators",u.vu,{description:f.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ct(new P(127,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[f.NC("wordWrap.off","Lines will never wrap."),f.NC("wordWrap.on","Lines will wrap at the viewport width."),f.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),f.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:f.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ct(new S(128,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ct(new S(129,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ct(new c(130,"wordWrapColumn",80,1,1073741824,{markdownDescription:f.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ct(new P(131,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ct(new P(132,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Ct(new R),defaultColorDecorators:Ct(new m(142,"defaultColorDecorators",!1,{markdownDescription:f.NC("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:Ct(new q),tabFocusMode:Ct(new m(139,"tabFocusMode",!1,{markdownDescription:f.NC("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:Ct(new Re),wrappingInfo:Ct(new ot),wrappingIndent:Ct(new Pe),wrappingStrategy:Ct(new Ce)}},14963:function(Rt,Be,t){"use strict";t.d(Be,{C:function(){return O}});var f=t(56709);const O=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new f.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(u){u=Math.min(Math.max(-5,u),20),this._zoomLevel!==u&&(this._zoomLevel=u,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},5921:function(Rt,Be,t){"use strict";t.d(Be,{E4:function(){return V},pR:function(){return L}});var f=t(11138),O=t(70054),u=t(14963);const _=f.dz?1.5:1.35,p=8;class V{static createFromValidatedSettings(g,a,l){const d=g.get(47),i=g.get(51),s=g.get(50),m=g.get(49),b=g.get(52),c=g.get(64),v=g.get(61);return V._create(d,i,s,m,b,c,v,a,l)}static _create(g,a,l,d,i,s,m,b,c){s===0?s=_*l:s<p&&(s=s*l),s=Math.round(s),s<p&&(s=p);const v=1+(c?0:u.C.getZoomLevel()*.1);return l*=v,s*=v,i===O.Bo.TRANSLATE&&(a==="normal"||a==="bold"?i=O.Bo.OFF:(i=`'wght' ${parseInt(a,10)}`,a="normal")),new V({pixelRatio:b,fontFamily:g,fontWeight:a,fontSize:l,fontFeatureSettings:d,fontVariationSettings:i,lineHeight:s,letterSpacing:m})}constructor(g){this._bareFontInfoBrand=void 0,this.pixelRatio=g.pixelRatio,this.fontFamily=String(g.fontFamily),this.fontWeight=String(g.fontWeight),this.fontSize=g.fontSize,this.fontFeatureSettings=g.fontFeatureSettings,this.fontVariationSettings=g.fontVariationSettings,this.lineHeight=g.lineHeight|0,this.letterSpacing=g.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const g=O.hL.fontFamily,a=V._wrapInQuotes(this.fontFamily);return g&&this.fontFamily!==g?`${a}, ${g}`:a}static _wrapInQuotes(g){return/[,"']/.test(g)?g:/[+ ]/.test(g)?`"${g}"`:g}}const I=2;class L extends V{constructor(g,a){super(g),this._editorStylingBrand=void 0,this.version=I,this.isTrusted=a,this.isMonospace=g.isMonospace,this.typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=g.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=g.canUseHalfwidthRightwardsArrow,this.spaceWidth=g.spaceWidth,this.middotWidth=g.middotWidth,this.wsmiddotWidth=g.wsmiddotWidth,this.maxDigitWidth=g.maxDigitWidth}equals(g){return this.fontFamily===g.fontFamily&&this.fontWeight===g.fontWeight&&this.fontSize===g.fontSize&&this.fontFeatureSettings===g.fontFeatureSettings&&this.fontVariationSettings===g.fontVariationSettings&&this.lineHeight===g.lineHeight&&this.letterSpacing===g.letterSpacing&&this.typicalHalfwidthCharacterWidth===g.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===g.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.maxDigitWidth===g.maxDigitWidth}}},55224:function(Rt,Be,t){"use strict";t.d(Be,{N:function(){return O},q:function(){return u}});var f=t(79886);class O{constructor(p){const V=(0,f.K)(p);this._defaultValue=V,this._asciiMap=O._createAsciiMap(V),this._map=new Map}static _createAsciiMap(p){const V=new Uint8Array(256);return V.fill(p),V}set(p,V){const I=(0,f.K)(V);p>=0&&p<256?this._asciiMap[p]=I:this._map.set(p,I)}get(p){return p>=0&&p<256?this._asciiMap[p]:this._map.get(p)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class u{constructor(){this._actual=new O(0)}add(p){this._actual.set(p,1)}has(p){return this._actual.get(p)===1}clear(){return this._actual.clear()}}},61669:function(Rt,Be,t){"use strict";t.d(Be,{i:function(){return O}});var f=t(17416);class O{static _nextVisibleColumn(_,p,V){return _===9?O.nextRenderTabStop(p,V):f.K7(_)||f.C8(_)?p+2:p+1}static visibleColumnFromColumn(_,p,V){const I=Math.min(p-1,_.length),L=_.substring(0,I),E=new f.W1(L);let g=0;for(;!E.eol();){const a=f.ZH(L,I,E.offset);E.nextGraphemeLength(),g=this._nextVisibleColumn(a,g,V)}return g}static columnFromVisibleColumn(_,p,V){if(p<=0)return 1;const I=_.length,L=new f.W1(_);let E=0,g=1;for(;!L.eol();){const a=f.ZH(_,I,L.offset);L.nextGraphemeLength();const l=this._nextVisibleColumn(a,E,V),d=L.offset+1;if(l>=p){const i=p-E;return l-p<i?d:g}E=l,g=d}return I+1}static nextRenderTabStop(_,p){return _+p-_%p}static nextIndentTabStop(_,p){return _+p-_%p}static prevRenderTabStop(_,p){return Math.max(0,_-1-(_-1)%p)}static prevIndentTabStop(_,p){return Math.max(0,_-1-(_-1)%p)}}},19083:function(Rt,Be,t){"use strict";t.d(Be,{h:function(){return O}});var f=t(50038);class O{static insert(_,p){return{range:new f.e(_.lineNumber,_.column,_.lineNumber,_.column),text:p,forceMoveMarkers:!0}}static delete(_){return{range:_,text:null}}static replace(_,p){return{range:_,text:p}}static replaceMove(_,p){return{range:_,text:p,forceMoveMarkers:!0}}}},44411:function(Rt,Be,t){"use strict";t.d(Be,{Bj:function(){return v},CE:function(){return fe},DS:function(){return oe},HV:function(){return Se},Jn:function(){return je},Kh:function(){return p},L7:function(){return Ee},Mm:function(){return V},Qb:function(){return Ve},Re:function(){return j},To:function(){return q},UP:function(){return T},Vs:function(){return Z},YF:function(){return Xe},Ym:function(){return s},dI:function(){return d},eS:function(){return z},e_:function(){return D},f9:function(){return we},fY:function(){return l},hw:function(){return m},lK:function(){return Y},lS:function(){return he},m$:function(){return le},m1:function(){return Ce},m3:function(){return se},m9:function(){return J},n0:function(){return a},oV:function(){return pe},r0:function(){return Re},tR:function(){return i},ts:function(){return _e},zJ:function(){return K},zu:function(){return U},zw:function(){return M}});var f=t(26386),O=t(86741),u=t(92537),_=t(58566);const p=(0,u.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),V=(0,u.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:u.lRK},f.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),I=(0,u.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},f.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),L=(0,u.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:u.xL1,hcLight:u.xL1},f.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),E=(0,u.P6G)("editor.symbolHighlightBackground",{dark:u.MUv,light:u.MUv,hcDark:null,hcLight:null},f.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),g=(0,u.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:u.xL1,hcLight:u.xL1},f.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),a=(0,u.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:O.Il.black,hcDark:O.Il.white,hcLight:"#0F4A85"},f.NC("caret","Color of the editor cursor.")),l=(0,u.P6G)("editorCursor.background",null,f.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),d=(0,u.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},f.NC("editorWhitespaces","Color of whitespace characters in the editor.")),i=(0,u.P6G)("editorIndentGuide.background",{dark:d,light:d,hcDark:d,hcLight:d},f.NC("editorIndentGuides","Color of the editor indentation guides.")),s=(0,u.P6G)("editorIndentGuide.activeBackground",{dark:d,light:d,hcDark:d,hcLight:d},f.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),m=(0,u.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:O.Il.white,hcLight:"#292929"},f.NC("editorLineNumbers","Color of editor line numbers.")),b=(0,u.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:u.xL1,hcLight:u.xL1},f.NC("editorActiveLineNumber","Color of editor active line number"),!1,f.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),c=(0,u.P6G)("editorLineNumber.activeForeground",{dark:b,light:b,hcDark:b,hcLight:b},f.NC("editorActiveLineNumber","Color of editor active line number")),v=(0,u.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),C=(0,u.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:O.Il.lightgrey,hcDark:O.Il.white,hcLight:"#292929"},f.NC("editorRuler","Color of the editor rulers.")),S=(0,u.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},f.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),N=(0,u.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},f.NC("editorBracketMatchBackground","Background color behind matching brackets")),P=(0,u.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:u.lRK,hcLight:u.lRK},f.NC("editorBracketMatchBorder","Color for matching brackets boxes")),M=(0,u.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},f.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),D=(0,u.P6G)("editorOverviewRuler.background",null,f.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),F=(0,u.P6G)("editorGutter.background",{dark:u.cvW,light:u.cvW,hcDark:u.cvW,hcLight:u.cvW},f.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),B=(0,u.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:O.Il.fromHex("#fff").transparent(.8),hcLight:u.lRK},f.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),U=(0,u.P6G)("editorUnnecessaryCode.opacity",{dark:O.Il.fromHex("#000a"),light:O.Il.fromHex("#0007"),hcDark:null,hcLight:null},f.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),A=(0,u.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:O.Il.fromHex("#fff").transparent(.8),hcLight:O.Il.fromHex("#292929").transparent(.8)},f.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),k=(0,u.P6G)("editorGhostText.foreground",{dark:O.Il.fromHex("#ffffff56"),light:O.Il.fromHex("#0007"),hcDark:null,hcLight:null},f.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),R=(0,u.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),$=new O.Il(new O.VS(0,122,204,.6)),J=(0,u.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:$,light:$,hcDark:$,hcLight:$},f.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Y=(0,u.P6G)("editorOverviewRuler.errorForeground",{dark:new O.Il(new O.VS(255,18,18,.7)),light:new O.Il(new O.VS(255,18,18,.7)),hcDark:new O.Il(new O.VS(255,50,50,1)),hcLight:"#B5200D"},f.NC("overviewRuleError","Overview ruler marker color for errors.")),j=(0,u.P6G)("editorOverviewRuler.warningForeground",{dark:u.uoC,light:u.uoC,hcDark:u.pW3,hcLight:u.pW3},f.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),z=(0,u.P6G)("editorOverviewRuler.infoForeground",{dark:u.c63,light:u.c63,hcDark:u.T83,hcLight:u.T83},f.NC("overviewRuleInfo","Overview ruler marker color for infos.")),K=(0,u.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},f.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Z=(0,u.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},f.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),fe=(0,u.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},f.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),T=(0,u.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Re=(0,u.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ce=(0,u.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),_e=(0,u.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new O.Il(new O.VS(255,18,18,.8)),light:new O.Il(new O.VS(255,18,18,.8)),hcDark:new O.Il(new O.VS(255,50,50,1)),hcLight:""},f.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),pe=(0,u.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),le=(0,u.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),oe=(0,u.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),he=(0,u.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),je=(0,u.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Xe=(0,u.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Ve=(0,u.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),se=(0,u.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),q=(0,u.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ee=(0,u.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Se=(0,u.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),we=(0,u.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),ve=(0,u.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},f.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),Ne=(0,u.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},f.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,_.Ic)(($e,Ke)=>{const ze=$e.getColor(u.cvW),He=$e.getColor(p),Le=He&&!He.isTransparent()?He:ze;Le&&Ke.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Le}; }`)})},58570:function(Rt,Be,t){"use strict";t.d(Be,{Q:function(){return f}});function f(O){let u=0,_=0,p=0,V=0;for(let I=0,L=O.length;I<L;I++){const E=O.charCodeAt(I);E===13?(u===0&&(_=I),u++,I+1<L&&O.charCodeAt(I+1)===10?(V|=2,I++):V|=3,p=I+1):E===10&&(V|=1,u===0&&(_=I),u++,p=I+1)}return u===0&&(_=O.length),[u,_,O.length-p,V]}},5184:function(Rt,Be,t){"use strict";t.d(Be,{x:function(){return _}});var f=t(17416),O=t(61669);function u(p,V,I){let L=0;for(let g=0;g<p.length;g++)p.charAt(g)==="	"?L=O.i.nextIndentTabStop(L,V):L++;let E="";if(!I){const g=Math.floor(L/V);L=L%V;for(let a=0;a<g;a++)E+="	"}for(let g=0;g<L;g++)E+=" ";return E}function _(p,V,I){let L=f.LC(p);return L===-1&&(L=p.length),u(p.substring(0,L),V,I)+p.substring(L)}},4407:function(Rt,Be,t){"use strict";t.d(Be,{z:function(){return u}});var f=t(20996),O=t(50038);class u{static fromRange(p){return new u(p.startLineNumber,p.endLineNumber)}static joinMany(p){if(p.length===0)return[];let V=p[0];for(let I=1;I<p.length;I++)V=this.join(V,p[I]);return V}static join(p,V){if(p.length===0)return V;if(V.length===0)return p;const I=[];let L=0,E=0,g=null;for(;L<p.length||E<V.length;){let a=null;if(L<p.length&&E<V.length){const l=p[L],d=V[E];l.startLineNumber<d.startLineNumber?(a=l,L++):(a=d,E++)}else L<p.length?(a=p[L],L++):(a=V[E],E++);g===null?g=a:g.endLineNumberExclusive>=a.startLineNumber?g=new u(g.startLineNumber,Math.max(g.endLineNumberExclusive,a.endLineNumberExclusive)):(I.push(g),g=a)}return g!==null&&I.push(g),I}static ofLength(p,V){return new u(p,p+V)}constructor(p,V){if(p>V)throw new f.he(`startLineNumber ${p} cannot be after endLineNumberExclusive ${V}`);this.startLineNumber=p,this.endLineNumberExclusive=V}contains(p){return this.startLineNumber<=p&&p<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(p){return new u(this.startLineNumber+p,this.endLineNumberExclusive+p)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(p){return new u(Math.min(this.startLineNumber,p.startLineNumber),Math.max(this.endLineNumberExclusive,p.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(p){const V=Math.max(this.startLineNumber,p.startLineNumber),I=Math.min(this.endLineNumberExclusive,p.endLineNumberExclusive);if(V<=I)return new u(V,I)}intersectsStrict(p){return this.startLineNumber<p.endLineNumberExclusive&&p.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(p){return this.startLineNumber<=p.endLineNumberExclusive&&p.startLineNumber<=this.endLineNumberExclusive}equals(p){return this.startLineNumber===p.startLineNumber&&this.endLineNumberExclusive===p.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new O.e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new O.e(this.startLineNumber,1,this.endLineNumberExclusive,1)}}},7335:function(Rt,Be,t){"use strict";t.d(Be,{q:function(){return O}});var f=t(20996);class O{static addRange(_,p){let V=0;for(;V<p.length&&p[V].endExclusive<_.start;)V++;let I=V;for(;I<p.length&&p[I].start<=_.endExclusive;)I++;if(V===I)p.splice(V,0,_);else{const L=Math.min(_.start,p[V].start),E=Math.max(_.endExclusive,p[I-1].endExclusive);p.splice(V,I-V,new O(L,E))}}static tryCreate(_,p){if(!(_>p))return new O(_,p)}constructor(_,p){if(this.start=_,this.endExclusive=p,_>p)throw new f.he(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(_){return new O(this.start+_,this.endExclusive+_)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(_){return this.start===_.start&&this.endExclusive===_.endExclusive}containsRange(_){return this.start<=_.start&&_.endExclusive<=this.endExclusive}join(_){return new O(Math.min(this.start,_.start),Math.max(this.endExclusive,_.endExclusive))}intersect(_){const p=Math.max(this.start,_.start),V=Math.min(this.endExclusive,_.endExclusive);if(p<=V)return new O(p,V)}}},8964:function(Rt,Be,t){"use strict";t.d(Be,{L:function(){return f}});class f{constructor(u,_){this.lineNumber=u,this.column=_}with(u=this.lineNumber,_=this.column){return u===this.lineNumber&&_===this.column?this:new f(u,_)}delta(u=0,_=0){return this.with(this.lineNumber+u,this.column+_)}equals(u){return f.equals(this,u)}static equals(u,_){return!u&&!_?!0:!!u&&!!_&&u.lineNumber===_.lineNumber&&u.column===_.column}isBefore(u){return f.isBefore(this,u)}static isBefore(u,_){return u.lineNumber<_.lineNumber?!0:_.lineNumber<u.lineNumber?!1:u.column<_.column}isBeforeOrEqual(u){return f.isBeforeOrEqual(this,u)}static isBeforeOrEqual(u,_){return u.lineNumber<_.lineNumber?!0:_.lineNumber<u.lineNumber?!1:u.column<=_.column}static compare(u,_){const p=u.lineNumber|0,V=_.lineNumber|0;if(p===V){const I=u.column|0,L=_.column|0;return I-L}return p-V}clone(){return new f(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(u){return new f(u.lineNumber,u.column)}static isIPosition(u){return u&&typeof u.lineNumber=="number"&&typeof u.column=="number"}}},50038:function(Rt,Be,t){"use strict";t.d(Be,{e:function(){return O}});var f=t(8964);class O{constructor(_,p,V,I){_>V||_===V&&p>I?(this.startLineNumber=V,this.startColumn=I,this.endLineNumber=_,this.endColumn=p):(this.startLineNumber=_,this.startColumn=p,this.endLineNumber=V,this.endColumn=I)}isEmpty(){return O.isEmpty(this)}static isEmpty(_){return _.startLineNumber===_.endLineNumber&&_.startColumn===_.endColumn}containsPosition(_){return O.containsPosition(this,_)}static containsPosition(_,p){return!(p.lineNumber<_.startLineNumber||p.lineNumber>_.endLineNumber||p.lineNumber===_.startLineNumber&&p.column<_.startColumn||p.lineNumber===_.endLineNumber&&p.column>_.endColumn)}static strictContainsPosition(_,p){return!(p.lineNumber<_.startLineNumber||p.lineNumber>_.endLineNumber||p.lineNumber===_.startLineNumber&&p.column<=_.startColumn||p.lineNumber===_.endLineNumber&&p.column>=_.endColumn)}containsRange(_){return O.containsRange(this,_)}static containsRange(_,p){return!(p.startLineNumber<_.startLineNumber||p.endLineNumber<_.startLineNumber||p.startLineNumber>_.endLineNumber||p.endLineNumber>_.endLineNumber||p.startLineNumber===_.startLineNumber&&p.startColumn<_.startColumn||p.endLineNumber===_.endLineNumber&&p.endColumn>_.endColumn)}strictContainsRange(_){return O.strictContainsRange(this,_)}static strictContainsRange(_,p){return!(p.startLineNumber<_.startLineNumber||p.endLineNumber<_.startLineNumber||p.startLineNumber>_.endLineNumber||p.endLineNumber>_.endLineNumber||p.startLineNumber===_.startLineNumber&&p.startColumn<=_.startColumn||p.endLineNumber===_.endLineNumber&&p.endColumn>=_.endColumn)}plusRange(_){return O.plusRange(this,_)}static plusRange(_,p){let V,I,L,E;return p.startLineNumber<_.startLineNumber?(V=p.startLineNumber,I=p.startColumn):p.startLineNumber===_.startLineNumber?(V=p.startLineNumber,I=Math.min(p.startColumn,_.startColumn)):(V=_.startLineNumber,I=_.startColumn),p.endLineNumber>_.endLineNumber?(L=p.endLineNumber,E=p.endColumn):p.endLineNumber===_.endLineNumber?(L=p.endLineNumber,E=Math.max(p.endColumn,_.endColumn)):(L=_.endLineNumber,E=_.endColumn),new O(V,I,L,E)}intersectRanges(_){return O.intersectRanges(this,_)}static intersectRanges(_,p){let V=_.startLineNumber,I=_.startColumn,L=_.endLineNumber,E=_.endColumn;const g=p.startLineNumber,a=p.startColumn,l=p.endLineNumber,d=p.endColumn;return V<g?(V=g,I=a):V===g&&(I=Math.max(I,a)),L>l?(L=l,E=d):L===l&&(E=Math.min(E,d)),V>L||V===L&&I>E?null:new O(V,I,L,E)}equalsRange(_){return O.equalsRange(this,_)}static equalsRange(_,p){return!_&&!p?!0:!!_&&!!p&&_.startLineNumber===p.startLineNumber&&_.startColumn===p.startColumn&&_.endLineNumber===p.endLineNumber&&_.endColumn===p.endColumn}getEndPosition(){return O.getEndPosition(this)}static getEndPosition(_){return new f.L(_.endLineNumber,_.endColumn)}getStartPosition(){return O.getStartPosition(this)}static getStartPosition(_){return new f.L(_.startLineNumber,_.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(_,p){return new O(this.startLineNumber,this.startColumn,_,p)}setStartPosition(_,p){return new O(_,p,this.endLineNumber,this.endColumn)}collapseToStart(){return O.collapseToStart(this)}static collapseToStart(_){return new O(_.startLineNumber,_.startColumn,_.startLineNumber,_.startColumn)}collapseToEnd(){return O.collapseToEnd(this)}static collapseToEnd(_){return new O(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn)}delta(_){return new O(this.startLineNumber+_,this.startColumn,this.endLineNumber+_,this.endColumn)}static fromPositions(_,p=_){return new O(_.lineNumber,_.column,p.lineNumber,p.column)}static lift(_){return _?new O(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):null}static isIRange(_){return _&&typeof _.startLineNumber=="number"&&typeof _.startColumn=="number"&&typeof _.endLineNumber=="number"&&typeof _.endColumn=="number"}static areIntersectingOrTouching(_,p){return!(_.endLineNumber<p.startLineNumber||_.endLineNumber===p.startLineNumber&&_.endColumn<p.startColumn||p.endLineNumber<_.startLineNumber||p.endLineNumber===_.startLineNumber&&p.endColumn<_.startColumn)}static areIntersecting(_,p){return!(_.endLineNumber<p.startLineNumber||_.endLineNumber===p.startLineNumber&&_.endColumn<=p.startColumn||p.endLineNumber<_.startLineNumber||p.endLineNumber===_.startLineNumber&&p.endColumn<=_.startColumn)}static compareRangesUsingStarts(_,p){if(_&&p){const L=_.startLineNumber|0,E=p.startLineNumber|0;if(L===E){const g=_.startColumn|0,a=p.startColumn|0;if(g===a){const l=_.endLineNumber|0,d=p.endLineNumber|0;if(l===d){const i=_.endColumn|0,s=p.endColumn|0;return i-s}return l-d}return g-a}return L-E}return(_?1:0)-(p?1:0)}static compareRangesUsingEnds(_,p){return _.endLineNumber===p.endLineNumber?_.endColumn===p.endColumn?_.startLineNumber===p.startLineNumber?_.startColumn-p.startColumn:_.startLineNumber-p.startLineNumber:_.endColumn-p.endColumn:_.endLineNumber-p.endLineNumber}static spansMultipleLines(_){return _.endLineNumber>_.startLineNumber}toJSON(){return this}}},57841:function(Rt,Be,t){"use strict";t.d(Be,{Y:function(){return u}});var f=t(8964),O=t(50038);class u extends O.e{constructor(p,V,I,L){super(p,V,I,L),this.selectionStartLineNumber=p,this.selectionStartColumn=V,this.positionLineNumber=I,this.positionColumn=L}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(p){return u.selectionsEqual(this,p)}static selectionsEqual(p,V){return p.selectionStartLineNumber===V.selectionStartLineNumber&&p.selectionStartColumn===V.selectionStartColumn&&p.positionLineNumber===V.positionLineNumber&&p.positionColumn===V.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(p,V){return this.getDirection()===0?new u(this.startLineNumber,this.startColumn,p,V):new u(p,V,this.startLineNumber,this.startColumn)}getPosition(){return new f.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new f.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(p,V){return this.getDirection()===0?new u(p,V,this.endLineNumber,this.endColumn):new u(this.endLineNumber,this.endColumn,p,V)}static fromPositions(p,V=p){return new u(p.lineNumber,p.column,V.lineNumber,V.column)}static fromRange(p,V){return V===0?new u(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):new u(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn)}static liftSelection(p){return new u(p.selectionStartLineNumber,p.selectionStartColumn,p.positionLineNumber,p.positionColumn)}static selectionsArrEqual(p,V){if(p&&!V||!p&&V)return!1;if(!p&&!V)return!0;if(p.length!==V.length)return!1;for(let I=0,L=p.length;I<L;I++)if(!this.selectionsEqual(p[I],V[I]))return!1;return!0}static isISelection(p){return p&&typeof p.selectionStartLineNumber=="number"&&typeof p.selectionStartColumn=="number"&&typeof p.positionLineNumber=="number"&&typeof p.positionColumn=="number"}static createWithDirection(p,V,I,L,E){return E===0?new u(p,V,I,L):new u(I,L,p,V)}}},12342:function(Rt,Be,t){"use strict";t.d(Be,{HT:function(){return l},kH:function(){return g},oe:function(){return E}});var f=t(17416),O=t(11138),u=t(77511);let _;function p(){return _||(_=new TextDecoder("UTF-16LE")),_}let V;function I(){return V||(V=new TextDecoder("UTF-16BE")),V}let L;function E(){return L||(L=O.r()?p():I()),L}function g(d,i,s){const m=new Uint16Array(d.buffer,i,s);return s>0&&(m[0]===65279||m[0]===65534)?a(d,i,s):p().decode(m)}function a(d,i,s){const m=[];let b=0;for(let c=0;c<s;c++){const v=u.mP(d,i);i+=2,m[b++]=String.fromCharCode(v)}return m.join("")}class l{constructor(i){this._capacity=i|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const i=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return E().decode(i)}_flushBuffer(){const i=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[i]:this._completedStrings[this._completedStrings.length]=i}appendCharCode(i){const s=this._capacity-this._bufferLength;s<=1&&(s===0||f.ZG(i))&&this._flushBuffer(),this._buffer[this._bufferLength++]=i}appendASCIICharCode(i){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=i}appendString(i){const s=i.length;if(this._bufferLength+s>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=i;return}for(let m=0;m<s;m++)this._buffer[this._bufferLength++]=i.charCodeAt(m)}}},79989:function(Rt,Be,t){"use strict";t.d(Be,{b:function(){return p},q:function(){return _}});var f=t(77511),O=t(12342);function u(I){return I.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class _{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(L,E,g,a){this.oldPosition=L,this.oldText=E,this.newPosition=g,this.newText=a}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${u(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${u(this.oldText)}")`:`(replace@${this.oldPosition} "${u(this.oldText)}" with "${u(this.newText)}")`}static _writeStringSize(L){return 4+2*L.length}static _writeString(L,E,g){const a=E.length;f.T4(L,a,g),g+=4;for(let l=0;l<a;l++)f.oq(L,E.charCodeAt(l),g),g+=2;return g}static _readString(L,E){const g=f.Ag(L,E);return E+=4,(0,O.kH)(L,E,g)}writeSize(){return 4+4+_._writeStringSize(this.oldText)+_._writeStringSize(this.newText)}write(L,E){return f.T4(L,this.oldPosition,E),E+=4,f.T4(L,this.newPosition,E),E+=4,E=_._writeString(L,this.oldText,E),E=_._writeString(L,this.newText,E),E}static read(L,E,g){const a=f.Ag(L,E);E+=4;const l=f.Ag(L,E);E+=4;const d=_._readString(L,E);E+=_._writeStringSize(d);const i=_._readString(L,E);return E+=_._writeStringSize(i),g.push(new _(a,d,l,i)),E}}function p(I,L){return I===null||I.length===0?L:new V(I,L).compress()}class V{constructor(L,E){this._prevEdits=L,this._currEdits=E,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let L=0,E=0,g=this._getPrev(L),a=this._getCurr(E);for(;L<this._prevLen||E<this._currLen;){if(g===null){this._acceptCurr(a),a=this._getCurr(++E);continue}if(a===null){this._acceptPrev(g),g=this._getPrev(++L);continue}if(a.oldEnd<=g.newPosition){this._acceptCurr(a),a=this._getCurr(++E);continue}if(g.newEnd<=a.oldPosition){this._acceptPrev(g),g=this._getPrev(++L);continue}if(a.oldPosition<g.newPosition){const[m,b]=V._splitCurr(a,g.newPosition-a.oldPosition);this._acceptCurr(m),a=b;continue}if(g.newPosition<a.oldPosition){const[m,b]=V._splitPrev(g,a.oldPosition-g.newPosition);this._acceptPrev(m),g=b;continue}let i,s;if(a.oldEnd===g.newEnd)i=g,s=a,g=this._getPrev(++L),a=this._getCurr(++E);else if(a.oldEnd<g.newEnd){const[m,b]=V._splitPrev(g,a.oldLength);i=m,s=a,g=b,a=this._getCurr(++E)}else{const[m,b]=V._splitCurr(a,g.newLength);i=g,s=m,g=this._getPrev(++L),a=b}this._result[this._resultLen++]=new _(i.oldPosition,i.oldText,s.newPosition,s.newText),this._prevDeltaOffset+=i.newLength-i.oldLength,this._currDeltaOffset+=s.newLength-s.oldLength}const l=V._merge(this._result);return V._removeNoOps(l)}_acceptCurr(L){this._result[this._resultLen++]=V._rebaseCurr(this._prevDeltaOffset,L),this._currDeltaOffset+=L.newLength-L.oldLength}_getCurr(L){return L<this._currLen?this._currEdits[L]:null}_acceptPrev(L){this._result[this._resultLen++]=V._rebasePrev(this._currDeltaOffset,L),this._prevDeltaOffset+=L.newLength-L.oldLength}_getPrev(L){return L<this._prevLen?this._prevEdits[L]:null}static _rebaseCurr(L,E){return new _(E.oldPosition-L,E.oldText,E.newPosition,E.newText)}static _rebasePrev(L,E){return new _(E.oldPosition,E.oldText,E.newPosition+L,E.newText)}static _splitPrev(L,E){const g=L.newText.substr(0,E),a=L.newText.substr(E);return[new _(L.oldPosition,L.oldText,L.newPosition,g),new _(L.oldEnd,"",L.newPosition+E,a)]}static _splitCurr(L,E){const g=L.oldText.substr(0,E),a=L.oldText.substr(E);return[new _(L.oldPosition,g,L.newPosition,L.newText),new _(L.oldPosition+E,a,L.newEnd,"")]}static _merge(L){if(L.length===0)return L;const E=[];let g=0,a=L[0];for(let l=1;l<L.length;l++){const d=L[l];a.oldEnd===d.oldPosition?a=new _(a.oldPosition,a.oldText+d.oldText,a.newPosition,a.newText+d.newText):(E[g++]=a,a=d)}return E[g++]=a,E}static _removeNoOps(L){if(L.length===0)return L;const E=[];let g=0;for(let a=0;a<L.length;a++){const l=L[a];l.oldText!==l.newText&&(E[g++]=l)}return E}}},56318:function(Rt,Be,t){"use strict";t.d(Be,{D:function(){return f}});const f={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},31599:function(Rt,Be,t){"use strict";t.d(Be,{u:function(){return _}});var f=t(55224);class O extends f.N{constructor(V){super(0);for(let I=0,L=V.length;I<L;I++)this.set(V.charCodeAt(I),2);this.set(32,1),this.set(9,1)}}function u(p){const V={};return I=>(V.hasOwnProperty(I)||(V[I]=p(I)),V[I])}const _=u(p=>new O(p))},52676:function(Rt,Be,t){"use strict";t.d(Be,{Af:function(){return p},eq:function(){return V},t2:function(){return L},vu:function(){return u}});var f=t(97865),O=t(17979);const u="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function _(g=""){let a="(-?\\d*\\.\\d\\w*)|([^";for(const l of u)g.indexOf(l)>=0||(a+="\\"+l);return a+="\\s]+)",new RegExp(a,"g")}const p=_();function V(g){let a=p;if(g&&g instanceof RegExp)if(g.global)a=g;else{let l="g";g.ignoreCase&&(l+="i"),g.multiline&&(l+="m"),g.unicode&&(l+="u"),a=new RegExp(g.source,l)}return a.lastIndex=0,a}const I=new O.S;I.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function L(g,a,l,d,i){if(i||(i=f.$.first(I)),l.length>i.maxLen){let v=g-i.maxLen/2;return v<0?v=0:d+=v,l=l.substring(v,g+i.maxLen/2),L(g,a,l,d,i)}const s=Date.now(),m=g-1-d;let b=-1,c=null;for(let v=1;!(Date.now()-s>=i.timeBudget);v++){const C=m-i.windowSize*v;a.lastIndex=Math.max(0,C);const S=E(a,l,m,b);if(!S&&c||(c=S,C<=0))break;b=C}if(c){const v={word:c[0],startColumn:d+1+c.index,endColumn:d+1+c.index+c[0].length};return a.lastIndex=0,v}return null}function E(g,a,l,d){let i;for(;i=g.exec(a);){const s=i.index||0;if(s<=l&&g.lastIndex>=l)return i;if(d>0&&s>d)return null}return null}},81831:function(Rt,Be,t){"use strict";t.d(Be,{l:function(){return O}});var f=t(61669);class O{static whitespaceVisibleColumn(_,p,V){const I=_.length;let L=0,E=-1,g=-1;for(let a=0;a<I;a++){if(a===p)return[E,g,L];switch(L%V===0&&(E=a,g=L),_.charCodeAt(a)){case 32:L+=1;break;case 9:L=f.i.nextRenderTabStop(L,V);break;default:return[-1,-1,-1]}}return p===I?[E,g,L]:[-1,-1,-1]}static atomicPosition(_,p,V,I){const L=_.length,[E,g,a]=O.whitespaceVisibleColumn(_,p,V);if(a===-1)return-1;let l;switch(I){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%V===0)return p;l=a%V<=V/2;break}if(l){if(E===-1)return-1;let s=g;for(let m=E;m<L;++m){if(s===g+V)return E;switch(_.charCodeAt(m)){case 32:s+=1;break;case 9:s=f.i.nextRenderTabStop(s,V);break;default:return-1}}return s===g+V?E:-1}const d=f.i.nextRenderTabStop(a,V);let i=a;for(let s=p;s<L;s++){if(i===d)return s;switch(_.charCodeAt(s)){case 32:i+=1;break;case 9:i=f.i.nextRenderTabStop(i,V);break;default:return-1}}return i===d?L:-1}}},24048:function(Rt,Be,t){"use strict";t.d(Be,{A:function(){return L}});var f=t(17416),O=t(38050),u=t(60854),_=t(61669),p=t(27319),V=t(50038),I=t(8964);class L{static deleteRight(g,a,l,d){const i=[];let s=g!==3;for(let m=0,b=d.length;m<b;m++){const c=d[m];let v=c;if(v.isEmpty()){const C=c.getPosition(),S=p.o.right(a,l,C);v=new V.e(S.lineNumber,S.column,C.lineNumber,C.column)}if(v.isEmpty()){i[m]=null;continue}v.startLineNumber!==v.endLineNumber&&(s=!0),i[m]=new O.T4(v,"")}return[s,i]}static isAutoClosingPairDelete(g,a,l,d,i,s,m){if(a==="never"&&l==="never"||g==="never")return!1;for(let b=0,c=s.length;b<c;b++){const v=s[b],C=v.getPosition();if(!v.isEmpty())return!1;const S=i.getLineContent(C.lineNumber);if(C.column<2||C.column>=S.length+1)return!1;const N=S.charAt(C.column-2),P=d.get(N);if(!P)return!1;if((0,u.LN)(N)){if(l==="never")return!1}else if(a==="never")return!1;const M=S.charAt(C.column-1);let D=!1;for(const F of P)F.open===N&&F.close===M&&(D=!0);if(!D)return!1;if(g==="auto"){let F=!1;for(let B=0,U=m.length;B<U;B++){const A=m[B];if(C.lineNumber===A.startLineNumber&&C.column===A.startColumn){F=!0;break}}if(!F)return!1}}return!0}static _runAutoClosingPairDelete(g,a,l){const d=[];for(let i=0,s=l.length;i<s;i++){const m=l[i].getPosition(),b=new V.e(m.lineNumber,m.column-1,m.lineNumber,m.column+1);d[i]=new O.T4(b,"")}return[!0,d]}static deleteLeft(g,a,l,d,i){if(this.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,l,d,i))return this._runAutoClosingPairDelete(a,l,d);const s=[];let m=g!==2;for(let b=0,c=d.length;b<c;b++){const v=L.getDeleteRange(d[b],l,a);if(v.isEmpty()){s[b]=null;continue}v.startLineNumber!==v.endLineNumber&&(m=!0),s[b]=new O.T4(v,"")}return[m,s]}static getDeleteRange(g,a,l){if(!g.isEmpty())return g;const d=g.getPosition();if(l.useTabStops&&d.column>1){const i=a.getLineContent(d.lineNumber),s=f.LC(i),m=s===-1?i.length+1:s+1;if(d.column<=m){const b=l.visibleColumnFromColumn(a,d),c=_.i.prevIndentTabStop(b,l.indentSize),v=l.columnFromVisibleColumn(a,d.lineNumber,c);return new V.e(d.lineNumber,v,d.lineNumber,d.column)}}return V.e.fromPositions(L.getPositionAfterDeleteLeft(d,a),d)}static getPositionAfterDeleteLeft(g,a){if(g.column>1){const l=f.oH(g.column-1,a.getLineContent(g.lineNumber));return g.with(void 0,l+1)}else if(g.lineNumber>1){const l=g.lineNumber-1;return new I.L(l,a.getLineMaxColumn(l))}else return g}static cut(g,a,l){const d=[];let i=null;l.sort((s,m)=>I.L.compare(s.getStartPosition(),m.getEndPosition()));for(let s=0,m=l.length;s<m;s++){const b=l[s];if(b.isEmpty())if(g.emptySelectionClipboard){const c=b.getPosition();let v,C,S,N;c.lineNumber<a.getLineCount()?(v=c.lineNumber,C=1,S=c.lineNumber+1,N=1):c.lineNumber>1&&(i==null?void 0:i.endLineNumber)!==c.lineNumber?(v=c.lineNumber-1,C=a.getLineMaxColumn(c.lineNumber-1),S=c.lineNumber,N=a.getLineMaxColumn(c.lineNumber)):(v=c.lineNumber,C=1,S=c.lineNumber,N=a.getLineMaxColumn(c.lineNumber));const P=new V.e(v,C,S,N);i=P,P.isEmpty()?d[s]=null:d[s]=new O.T4(P,"")}else d[s]=null;else d[s]=new O.T4(b,"")}return new u.Tp(0,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},81953:function(Rt,Be,t){"use strict";t.d(Be,{N:function(){return L},P:function(){return I}});var f=t(14818),O=t(60854),u=t(27319),_=t(61958),p=t(8964),V=t(50038);class I{static addCursorDown(g,a,l){const d=[];let i=0;for(let s=0,m=a.length;s<m;s++){const b=a[s];d[i++]=new O.Vi(b.modelState,b.viewState),l?d[i++]=O.Vi.fromModelState(u.o.translateDown(g.cursorConfig,g.model,b.modelState)):d[i++]=O.Vi.fromViewState(u.o.translateDown(g.cursorConfig,g,b.viewState))}return d}static addCursorUp(g,a,l){const d=[];let i=0;for(let s=0,m=a.length;s<m;s++){const b=a[s];d[i++]=new O.Vi(b.modelState,b.viewState),l?d[i++]=O.Vi.fromModelState(u.o.translateUp(g.cursorConfig,g.model,b.modelState)):d[i++]=O.Vi.fromViewState(u.o.translateUp(g.cursorConfig,g,b.viewState))}return d}static moveToBeginningOfLine(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i];d[i]=this._moveToLineStart(g,m,l)}return d}static _moveToLineStart(g,a,l){const d=a.viewState.position.column,i=a.modelState.position.column,s=d===i,m=a.viewState.position.lineNumber,b=g.getLineFirstNonWhitespaceColumn(m);return!s&&!(d===b)?this._moveToLineStartByView(g,a,l):this._moveToLineStartByModel(g,a,l)}static _moveToLineStartByView(g,a,l){return O.Vi.fromViewState(u.o.moveToBeginningOfLine(g.cursorConfig,g,a.viewState,l))}static _moveToLineStartByModel(g,a,l){return O.Vi.fromModelState(u.o.moveToBeginningOfLine(g.cursorConfig,g.model,a.modelState,l))}static moveToEndOfLine(g,a,l,d){const i=[];for(let s=0,m=a.length;s<m;s++){const b=a[s];i[s]=this._moveToLineEnd(g,b,l,d)}return i}static _moveToLineEnd(g,a,l,d){const i=a.viewState.position,s=g.getLineMaxColumn(i.lineNumber),m=i.column===s,b=a.modelState.position,c=g.model.getLineMaxColumn(b.lineNumber),v=s-i.column===c-b.column;return m||v?this._moveToLineEndByModel(g,a,l,d):this._moveToLineEndByView(g,a,l,d)}static _moveToLineEndByView(g,a,l,d){return O.Vi.fromViewState(u.o.moveToEndOfLine(g.cursorConfig,g,a.viewState,l,d))}static _moveToLineEndByModel(g,a,l,d){return O.Vi.fromModelState(u.o.moveToEndOfLine(g.cursorConfig,g.model,a.modelState,l,d))}static expandLineSelection(g,a){const l=[];for(let d=0,i=a.length;d<i;d++){const s=a[d],m=s.modelState.selection.startLineNumber,b=g.model.getLineCount();let c=s.modelState.selection.endLineNumber,v;c===b?v=g.model.getLineMaxColumn(b):(c++,v=1),l[d]=O.Vi.fromModelState(new O.rS(new V.e(m,1,m,1),0,0,new p.L(c,v),0))}return l}static moveToBeginningOfBuffer(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i];d[i]=O.Vi.fromModelState(u.o.moveToBeginningOfBuffer(g.cursorConfig,g.model,m.modelState,l))}return d}static moveToEndOfBuffer(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i];d[i]=O.Vi.fromModelState(u.o.moveToEndOfBuffer(g.cursorConfig,g.model,m.modelState,l))}return d}static selectAll(g,a){const l=g.model.getLineCount(),d=g.model.getLineMaxColumn(l);return O.Vi.fromModelState(new O.rS(new V.e(1,1,1,1),0,0,new p.L(l,d),0))}static line(g,a,l,d,i){const s=g.model.validatePosition(d),m=i?g.coordinatesConverter.validateViewPosition(new p.L(i.lineNumber,i.column),s):g.coordinatesConverter.convertModelPositionToViewPosition(s);if(!l){const c=g.model.getLineCount();let v=s.lineNumber+1,C=1;return v>c&&(v=c,C=g.model.getLineMaxColumn(v)),O.Vi.fromModelState(new O.rS(new V.e(s.lineNumber,1,v,C),2,0,new p.L(v,C),0))}const b=a.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<b)return O.Vi.fromViewState(a.viewState.move(!0,m.lineNumber,1,0));if(s.lineNumber>b){const c=g.getLineCount();let v=m.lineNumber+1,C=1;return v>c&&(v=c,C=g.getLineMaxColumn(v)),O.Vi.fromViewState(a.viewState.move(!0,v,C,0))}else{const c=a.modelState.selectionStart.getEndPosition();return O.Vi.fromModelState(a.modelState.move(!0,c.lineNumber,c.column,0))}}static word(g,a,l,d){const i=g.model.validatePosition(d);return O.Vi.fromModelState(_.w.word(g.cursorConfig,g.model,a.modelState,l,i))}static cancelSelection(g,a){if(!a.modelState.hasSelection())return new O.Vi(a.modelState,a.viewState);const l=a.viewState.position.lineNumber,d=a.viewState.position.column;return O.Vi.fromViewState(new O.rS(new V.e(l,d,l,d),0,0,new p.L(l,d),0))}static moveTo(g,a,l,d,i){if(l){if(a.modelState.selectionStartKind===1)return this.word(g,a,l,d);if(a.modelState.selectionStartKind===2)return this.line(g,a,l,d,i)}const s=g.model.validatePosition(d),m=i?g.coordinatesConverter.validateViewPosition(new p.L(i.lineNumber,i.column),s):g.coordinatesConverter.convertModelPositionToViewPosition(s);return O.Vi.fromViewState(a.viewState.move(l,m.lineNumber,m.column,0))}static simpleMove(g,a,l,d,i,s){switch(l){case 0:return s===4?this._moveHalfLineLeft(g,a,d):this._moveLeft(g,a,d,i);case 1:return s===4?this._moveHalfLineRight(g,a,d):this._moveRight(g,a,d,i);case 2:return s===2?this._moveUpByViewLines(g,a,d,i):this._moveUpByModelLines(g,a,d,i);case 3:return s===2?this._moveDownByViewLines(g,a,d,i):this._moveDownByModelLines(g,a,d,i);case 4:return s===2?a.map(m=>O.Vi.fromViewState(u.o.moveToPrevBlankLine(g.cursorConfig,g,m.viewState,d))):a.map(m=>O.Vi.fromModelState(u.o.moveToPrevBlankLine(g.cursorConfig,g.model,m.modelState,d)));case 5:return s===2?a.map(m=>O.Vi.fromViewState(u.o.moveToNextBlankLine(g.cursorConfig,g,m.viewState,d))):a.map(m=>O.Vi.fromModelState(u.o.moveToNextBlankLine(g.cursorConfig,g.model,m.modelState,d)));case 6:return this._moveToViewMinColumn(g,a,d);case 7:return this._moveToViewFirstNonWhitespaceColumn(g,a,d);case 8:return this._moveToViewCenterColumn(g,a,d);case 9:return this._moveToViewMaxColumn(g,a,d);case 10:return this._moveToViewLastNonWhitespaceColumn(g,a,d);default:return null}}static viewportMove(g,a,l,d,i){const s=g.getCompletelyVisibleViewRange(),m=g.coordinatesConverter.convertViewRangeToModelRange(s);switch(l){case 11:{const b=this._firstLineNumberInRange(g.model,m,i),c=g.model.getLineFirstNonWhitespaceColumn(b);return[this._moveToModelPosition(g,a[0],d,b,c)]}case 13:{const b=this._lastLineNumberInRange(g.model,m,i),c=g.model.getLineFirstNonWhitespaceColumn(b);return[this._moveToModelPosition(g,a[0],d,b,c)]}case 12:{const b=Math.round((m.startLineNumber+m.endLineNumber)/2),c=g.model.getLineFirstNonWhitespaceColumn(b);return[this._moveToModelPosition(g,a[0],d,b,c)]}case 14:{const b=[];for(let c=0,v=a.length;c<v;c++){const C=a[c];b[c]=this.findPositionInViewportIfOutside(g,C,s,d)}return b}default:return null}}static findPositionInViewportIfOutside(g,a,l,d){const i=a.viewState.position.lineNumber;if(l.startLineNumber<=i&&i<=l.endLineNumber-1)return new O.Vi(a.modelState,a.viewState);{let s;i>l.endLineNumber-1?s=l.endLineNumber-1:i<l.startLineNumber?s=l.startLineNumber:s=i;const m=u.o.vertical(g.cursorConfig,g,i,a.viewState.position.column,a.viewState.leftoverVisibleColumns,s,!1);return O.Vi.fromViewState(a.viewState.move(d,m.lineNumber,m.column,m.leftoverVisibleColumns))}}static _firstLineNumberInRange(g,a,l){let d=a.startLineNumber;return a.startColumn!==g.getLineMinColumn(d)&&d++,Math.min(a.endLineNumber,d+l-1)}static _lastLineNumberInRange(g,a,l){let d=a.startLineNumber;return a.startColumn!==g.getLineMinColumn(d)&&d++,Math.max(d,a.endLineNumber-l+1)}static _moveLeft(g,a,l,d){return a.map(i=>O.Vi.fromViewState(u.o.moveLeft(g.cursorConfig,g,i.viewState,l,d)))}static _moveHalfLineLeft(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i],b=m.viewState.position.lineNumber,c=Math.round(g.getLineContent(b).length/2);d[i]=O.Vi.fromViewState(u.o.moveLeft(g.cursorConfig,g,m.viewState,l,c))}return d}static _moveRight(g,a,l,d){return a.map(i=>O.Vi.fromViewState(u.o.moveRight(g.cursorConfig,g,i.viewState,l,d)))}static _moveHalfLineRight(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i],b=m.viewState.position.lineNumber,c=Math.round(g.getLineContent(b).length/2);d[i]=O.Vi.fromViewState(u.o.moveRight(g.cursorConfig,g,m.viewState,l,c))}return d}static _moveDownByViewLines(g,a,l,d){const i=[];for(let s=0,m=a.length;s<m;s++){const b=a[s];i[s]=O.Vi.fromViewState(u.o.moveDown(g.cursorConfig,g,b.viewState,l,d))}return i}static _moveDownByModelLines(g,a,l,d){const i=[];for(let s=0,m=a.length;s<m;s++){const b=a[s];i[s]=O.Vi.fromModelState(u.o.moveDown(g.cursorConfig,g.model,b.modelState,l,d))}return i}static _moveUpByViewLines(g,a,l,d){const i=[];for(let s=0,m=a.length;s<m;s++){const b=a[s];i[s]=O.Vi.fromViewState(u.o.moveUp(g.cursorConfig,g,b.viewState,l,d))}return i}static _moveUpByModelLines(g,a,l,d){const i=[];for(let s=0,m=a.length;s<m;s++){const b=a[s];i[s]=O.Vi.fromModelState(u.o.moveUp(g.cursorConfig,g.model,b.modelState,l,d))}return i}static _moveToViewPosition(g,a,l,d,i){return O.Vi.fromViewState(a.viewState.move(l,d,i,0))}static _moveToModelPosition(g,a,l,d,i){return O.Vi.fromModelState(a.modelState.move(l,d,i,0))}static _moveToViewMinColumn(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i],b=m.viewState.position.lineNumber,c=g.getLineMinColumn(b);d[i]=this._moveToViewPosition(g,m,l,b,c)}return d}static _moveToViewFirstNonWhitespaceColumn(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i],b=m.viewState.position.lineNumber,c=g.getLineFirstNonWhitespaceColumn(b);d[i]=this._moveToViewPosition(g,m,l,b,c)}return d}static _moveToViewCenterColumn(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i],b=m.viewState.position.lineNumber,c=Math.round((g.getLineMaxColumn(b)+g.getLineMinColumn(b))/2);d[i]=this._moveToViewPosition(g,m,l,b,c)}return d}static _moveToViewMaxColumn(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i],b=m.viewState.position.lineNumber,c=g.getLineMaxColumn(b);d[i]=this._moveToViewPosition(g,m,l,b,c)}return d}static _moveToViewLastNonWhitespaceColumn(g,a,l){const d=[];for(let i=0,s=a.length;i<s;i++){const m=a[i],b=m.viewState.position.lineNumber,c=g.getLineLastNonWhitespaceColumn(b);d[i]=this._moveToViewPosition(g,m,l,b,c)}return d}}var L;(function(E){const g=function(l){if(!f.Kn(l))return!1;const d=l;return!(!f.HD(d.to)||!f.o8(d.select)&&!f.jn(d.select)||!f.o8(d.by)&&!f.HD(d.by)||!f.o8(d.value)&&!f.hj(d.value))};E.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:g,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},E.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},E.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function a(l){if(!l.to)return null;let d;switch(l.to){case E.RawDirection.Left:d=0;break;case E.RawDirection.Right:d=1;break;case E.RawDirection.Up:d=2;break;case E.RawDirection.Down:d=3;break;case E.RawDirection.PrevBlankLine:d=4;break;case E.RawDirection.NextBlankLine:d=5;break;case E.RawDirection.WrappedLineStart:d=6;break;case E.RawDirection.WrappedLineFirstNonWhitespaceCharacter:d=7;break;case E.RawDirection.WrappedLineColumnCenter:d=8;break;case E.RawDirection.WrappedLineEnd:d=9;break;case E.RawDirection.WrappedLineLastNonWhitespaceCharacter:d=10;break;case E.RawDirection.ViewPortTop:d=11;break;case E.RawDirection.ViewPortBottom:d=13;break;case E.RawDirection.ViewPortCenter:d=12;break;case E.RawDirection.ViewPortIfOutside:d=14;break;default:return null}let i=0;switch(l.by){case E.RawUnit.Line:i=1;break;case E.RawUnit.WrappedLine:i=2;break;case E.RawUnit.Character:i=3;break;case E.RawUnit.HalfLine:i=4;break}return{direction:d,unit:i,select:!!l.select,value:l.value||1}}E.parse=a})(L||(L={}))},27319:function(Rt,Be,t){"use strict";t.d(Be,{o:function(){return L}});var f=t(60854),O=t(61669),u=t(8964),_=t(50038),p=t(17416),V=t(81831);class I{constructor(g,a,l){this._cursorPositionBrand=void 0,this.lineNumber=g,this.column=a,this.leftoverVisibleColumns=l}}class L{static leftPosition(g,a){if(a.column>g.getLineMinColumn(a.lineNumber))return a.delta(void 0,-p.HO(g.getLineContent(a.lineNumber),a.column-1));if(a.lineNumber>1){const l=a.lineNumber-1;return new u.L(l,g.getLineMaxColumn(l))}else return a}static leftPositionAtomicSoftTabs(g,a,l){if(a.column<=g.getLineIndentColumn(a.lineNumber)){const d=g.getLineMinColumn(a.lineNumber),i=g.getLineContent(a.lineNumber),s=V.l.atomicPosition(i,a.column-1,l,0);if(s!==-1&&s+1>=d)return new u.L(a.lineNumber,s+1)}return this.leftPosition(g,a)}static left(g,a,l){const d=g.stickyTabStops?L.leftPositionAtomicSoftTabs(a,l,g.tabSize):L.leftPosition(a,l);return new I(d.lineNumber,d.column,0)}static moveLeft(g,a,l,d,i){let s,m;if(l.hasSelection()&&!d)s=l.selection.startLineNumber,m=l.selection.startColumn;else{const b=l.position.delta(void 0,-(i-1)),c=a.normalizePosition(L.clipPositionColumn(b,a),0),v=L.left(g,a,c);s=v.lineNumber,m=v.column}return l.move(d,s,m,0)}static clipPositionColumn(g,a){return new u.L(g.lineNumber,L.clipRange(g.column,a.getLineMinColumn(g.lineNumber),a.getLineMaxColumn(g.lineNumber)))}static clipRange(g,a,l){return g<a?a:g>l?l:g}static rightPosition(g,a,l){return l<g.getLineMaxColumn(a)?l=l+p.vH(g.getLineContent(a),l-1):a<g.getLineCount()&&(a=a+1,l=g.getLineMinColumn(a)),new u.L(a,l)}static rightPositionAtomicSoftTabs(g,a,l,d,i){if(l<g.getLineIndentColumn(a)){const s=g.getLineContent(a),m=V.l.atomicPosition(s,l-1,d,1);if(m!==-1)return new u.L(a,m+1)}return this.rightPosition(g,a,l)}static right(g,a,l){const d=g.stickyTabStops?L.rightPositionAtomicSoftTabs(a,l.lineNumber,l.column,g.tabSize,g.indentSize):L.rightPosition(a,l.lineNumber,l.column);return new I(d.lineNumber,d.column,0)}static moveRight(g,a,l,d,i){let s,m;if(l.hasSelection()&&!d)s=l.selection.endLineNumber,m=l.selection.endColumn;else{const b=l.position.delta(void 0,i-1),c=a.normalizePosition(L.clipPositionColumn(b,a),1),v=L.right(g,a,c);s=v.lineNumber,m=v.column}return l.move(d,s,m,0)}static vertical(g,a,l,d,i,s,m,b){const c=O.i.visibleColumnFromColumn(a.getLineContent(l),d,g.tabSize)+i,v=a.getLineCount(),C=l===1&&d===1,S=l===v&&d===a.getLineMaxColumn(l),N=s<l?C:S;if(l=s,l<1?(l=1,m?d=a.getLineMinColumn(l):d=Math.min(a.getLineMaxColumn(l),d)):l>v?(l=v,m?d=a.getLineMaxColumn(l):d=Math.min(a.getLineMaxColumn(l),d)):d=g.columnFromVisibleColumn(a,l,c),N?i=0:i=c-O.i.visibleColumnFromColumn(a.getLineContent(l),d,g.tabSize),b!==void 0){const P=new u.L(l,d),M=a.normalizePosition(P,b);i=i+(d-M.column),l=M.lineNumber,d=M.column}return new I(l,d,i)}static down(g,a,l,d,i,s,m){return this.vertical(g,a,l,d,i,l+s,m,4)}static moveDown(g,a,l,d,i){let s,m;l.hasSelection()&&!d?(s=l.selection.endLineNumber,m=l.selection.endColumn):(s=l.position.lineNumber,m=l.position.column);const b=L.down(g,a,s,m,l.leftoverVisibleColumns,i,!0);return l.move(d,b.lineNumber,b.column,b.leftoverVisibleColumns)}static translateDown(g,a,l){const d=l.selection,i=L.down(g,a,d.selectionStartLineNumber,d.selectionStartColumn,l.selectionStartLeftoverVisibleColumns,1,!1),s=L.down(g,a,d.positionLineNumber,d.positionColumn,l.leftoverVisibleColumns,1,!1);return new f.rS(new _.e(i.lineNumber,i.column,i.lineNumber,i.column),0,i.leftoverVisibleColumns,new u.L(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(g,a,l,d,i,s,m){return this.vertical(g,a,l,d,i,l-s,m,3)}static moveUp(g,a,l,d,i){let s,m;l.hasSelection()&&!d?(s=l.selection.startLineNumber,m=l.selection.startColumn):(s=l.position.lineNumber,m=l.position.column);const b=L.up(g,a,s,m,l.leftoverVisibleColumns,i,!0);return l.move(d,b.lineNumber,b.column,b.leftoverVisibleColumns)}static translateUp(g,a,l){const d=l.selection,i=L.up(g,a,d.selectionStartLineNumber,d.selectionStartColumn,l.selectionStartLeftoverVisibleColumns,1,!1),s=L.up(g,a,d.positionLineNumber,d.positionColumn,l.leftoverVisibleColumns,1,!1);return new f.rS(new _.e(i.lineNumber,i.column,i.lineNumber,i.column),0,i.leftoverVisibleColumns,new u.L(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(g,a){return g.getLineFirstNonWhitespaceColumn(a)===0}static moveToPrevBlankLine(g,a,l,d){let i=l.position.lineNumber;for(;i>1&&this._isBlankLine(a,i);)i--;for(;i>1&&!this._isBlankLine(a,i);)i--;return l.move(d,i,a.getLineMinColumn(i),0)}static moveToNextBlankLine(g,a,l,d){const i=a.getLineCount();let s=l.position.lineNumber;for(;s<i&&this._isBlankLine(a,s);)s++;for(;s<i&&!this._isBlankLine(a,s);)s++;return l.move(d,s,a.getLineMinColumn(s),0)}static moveToBeginningOfLine(g,a,l,d){const i=l.position.lineNumber,s=a.getLineMinColumn(i),m=a.getLineFirstNonWhitespaceColumn(i)||s;let b;return l.position.column===m?b=s:b=m,l.move(d,i,b,0)}static moveToEndOfLine(g,a,l,d,i){const s=l.position.lineNumber,m=a.getLineMaxColumn(s);return l.move(d,s,m,i?1073741824-m:0)}static moveToBeginningOfBuffer(g,a,l,d){return l.move(d,1,1,0)}static moveToEndOfBuffer(g,a,l,d){const i=a.getLineCount(),s=a.getLineMaxColumn(i);return l.move(d,i,s,0)}}},96124:function(Rt,Be,t){"use strict";t.d(Be,{Nu:function(){return v},u6:function(){return b},g_:function(){return c}});var f=t(20996),O=t(17416),u=t(38050),_=t(8453),p=t(50038),V=t(57841);class I{constructor(D,F,B){this._range=D,this._charBeforeSelection=F,this._charAfterSelection=B}getEditOperations(D,F){F.addTrackedEditOperation(new p.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),F.addTrackedEditOperation(new p.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(D,F){const B=F.getInverseEditOperations(),U=B[0].range,A=B[1].range;return new V.Y(U.endLineNumber,U.endColumn,A.endLineNumber,A.endColumn-this._charAfterSelection.length)}}class L{constructor(D,F,B){this._position=D,this._text=F,this._charAfter=B}getEditOperations(D,F){F.addTrackedEditOperation(new p.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(D,F){const U=F.getInverseEditOperations()[0].range;return new V.Y(U.endLineNumber,U.startColumn,U.endLineNumber,U.endColumn-this._charAfter.length)}}var E=t(60854),g=t(31599),a=t(8964),l=t(50282),d=t(64603),i=t(23189),s=t(89026),m=t(14);class b{static indent(D,F,B){if(F===null||B===null)return[];const U=[];for(let A=0,k=B.length;A<k;A++)U[A]=new _.U(B[A],{isUnshift:!1,tabSize:D.tabSize,indentSize:D.indentSize,insertSpaces:D.insertSpaces,useTabStops:D.useTabStops,autoIndent:D.autoIndent},D.languageConfigurationService);return U}static outdent(D,F,B){const U=[];for(let A=0,k=B.length;A<k;A++)U[A]=new _.U(B[A],{isUnshift:!0,tabSize:D.tabSize,indentSize:D.indentSize,insertSpaces:D.insertSpaces,useTabStops:D.useTabStops,autoIndent:D.autoIndent},D.languageConfigurationService);return U}static shiftIndent(D,F,B){return B=B||1,_.U.shiftIndent(F,F.length+B,D.tabSize,D.indentSize,D.insertSpaces)}static unshiftIndent(D,F,B){return B=B||1,_.U.unshiftIndent(F,F.length+B,D.tabSize,D.indentSize,D.insertSpaces)}static _distributedPaste(D,F,B,U){const A=[];for(let k=0,R=B.length;k<R;k++)A[k]=new u.T4(B[k],U[k]);return new E.Tp(0,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(D,F,B,U,A){const k=[];for(let R=0,$=B.length;R<$;R++){const J=B[R],Y=J.getPosition();if(A&&!J.isEmpty()&&(A=!1),A&&U.indexOf(`
`)!==U.length-1&&(A=!1),A){const j=new p.e(Y.lineNumber,1,Y.lineNumber,1);k[R]=new u.hP(j,U,J,!0)}else k[R]=new u.T4(J,U)}return new E.Tp(0,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(D,F,B,U,A){if(U||F.length===1)return null;if(A&&A.length===F.length)return A;if(D.multiCursorPaste==="spread"){B.charCodeAt(B.length-1)===10&&(B=B.substr(0,B.length-1)),B.charCodeAt(B.length-1)===13&&(B=B.substr(0,B.length-1));const k=O.uq(B);if(k.length===F.length)return k}return null}static paste(D,F,B,U,A,k){const R=this._distributePasteToCursors(D,B,U,A,k);return R?(B=B.sort(p.e.compareRangesUsingStarts),this._distributedPaste(D,F,B,R)):this._simplePaste(D,F,B,U,A)}static _goodIndentForLine(D,F,B){let U=null,A="";const k=(0,s.r7)(D.autoIndent,F,B,!1,D.languageConfigurationService);if(k)U=k.action,A=k.indentation;else if(B>1){let R;for(R=B-1;R>=1;R--){const Y=F.getLineContent(R);if(O.ow(Y)>=0)break}if(R<1)return null;const $=F.getLineMaxColumn(R),J=(0,m.A)(D.autoIndent,F,new p.e(R,$,R,$),D.languageConfigurationService);J&&(A=J.indentation+J.appendText)}return U&&(U===l.wU.Indent&&(A=b.shiftIndent(D,A)),U===l.wU.Outdent&&(A=b.unshiftIndent(D,A)),A=D.normalizeIndentation(A)),A||null}static _replaceJumpToNextIndent(D,F,B,U){let A="";const k=B.getStartPosition();if(D.insertSpaces){const R=D.visibleColumnFromColumn(F,k),$=D.indentSize,J=$-R%$;for(let Y=0;Y<J;Y++)A+=" "}else A="	";return new u.T4(B,A,U)}static tab(D,F,B){const U=[];for(let A=0,k=B.length;A<k;A++){const R=B[A];if(R.isEmpty()){const $=F.getLineContent(R.startLineNumber);if(/^\s*$/.test($)&&F.tokenization.isCheapToTokenize(R.startLineNumber)){let J=this._goodIndentForLine(D,F,R.startLineNumber);J=J||"	";const Y=D.normalizeIndentation(J);if(!$.startsWith(Y)){U[A]=new u.T4(new p.e(R.startLineNumber,1,R.startLineNumber,$.length+1),Y,!0);continue}}U[A]=this._replaceJumpToNextIndent(D,F,R,!0)}else{if(R.startLineNumber===R.endLineNumber){const $=F.getLineMaxColumn(R.startLineNumber);if(R.startColumn!==1||R.endColumn!==$){U[A]=this._replaceJumpToNextIndent(D,F,R,!1);continue}}U[A]=new _.U(R,{isUnshift:!1,tabSize:D.tabSize,indentSize:D.indentSize,insertSpaces:D.insertSpaces,useTabStops:D.useTabStops,autoIndent:D.autoIndent},D.languageConfigurationService)}}return U}static compositionType(D,F,B,U,A,k,R,$){const J=U.map(Y=>this._compositionType(B,Y,A,k,R,$));return new E.Tp(4,J,{shouldPushStackElementBefore:S(D,4),shouldPushStackElementAfter:!1})}static _compositionType(D,F,B,U,A,k){if(!F.isEmpty())return null;const R=F.getPosition(),$=Math.max(1,R.column-U),J=Math.min(D.getLineMaxColumn(R.lineNumber),R.column+A),Y=new p.e(R.lineNumber,$,R.lineNumber,J);return D.getValueInRange(Y)===B&&k===0?null:new u.Uo(Y,B,0,k)}static _typeCommand(D,F,B){return B?new u.Sj(D,F,!0):new u.T4(D,F,!0)}static _enter(D,F,B,U){if(D.autoIndent===0)return b._typeCommand(U,`
`,B);if(!F.tokenization.isCheapToTokenize(U.getStartPosition().lineNumber)||D.autoIndent===1){const $=F.getLineContent(U.startLineNumber),J=O.V8($).substring(0,U.startColumn-1);return b._typeCommand(U,`
`+D.normalizeIndentation(J),B)}const A=(0,m.A)(D.autoIndent,F,U,D.languageConfigurationService);if(A){if(A.indentAction===l.wU.None)return b._typeCommand(U,`
`+D.normalizeIndentation(A.indentation+A.appendText),B);if(A.indentAction===l.wU.Indent)return b._typeCommand(U,`
`+D.normalizeIndentation(A.indentation+A.appendText),B);if(A.indentAction===l.wU.IndentOutdent){const $=D.normalizeIndentation(A.indentation),J=D.normalizeIndentation(A.indentation+A.appendText),Y=`
`+J+`
`+$;return B?new u.Sj(U,Y,!0):new u.Uo(U,Y,-1,J.length-$.length,!0)}else if(A.indentAction===l.wU.Outdent){const $=b.unshiftIndent(D,A.indentation);return b._typeCommand(U,`
`+D.normalizeIndentation($+A.appendText),B)}}const k=F.getLineContent(U.startLineNumber),R=O.V8(k).substring(0,U.startColumn-1);if(D.autoIndent>=4){const $=(0,s.UF)(D.autoIndent,F,U,{unshiftIndent:J=>b.unshiftIndent(D,J),shiftIndent:J=>b.shiftIndent(D,J),normalizeIndentation:J=>D.normalizeIndentation(J)},D.languageConfigurationService);if($){let J=D.visibleColumnFromColumn(F,U.getEndPosition());const Y=U.endColumn,j=F.getLineContent(U.endLineNumber),z=O.LC(j);if(z>=0?U=U.setEndPosition(U.endLineNumber,Math.max(U.endColumn,z+1)):U=U.setEndPosition(U.endLineNumber,F.getLineMaxColumn(U.endLineNumber)),B)return new u.Sj(U,`
`+D.normalizeIndentation($.afterEnter),!0);{let K=0;return Y<=z+1&&(D.insertSpaces||(J=Math.ceil(J/D.indentSize)),K=Math.min(J+1-D.normalizeIndentation($.afterEnter).length-1,0)),new u.Uo(U,`
`+D.normalizeIndentation($.afterEnter),0,K,!0)}}}return b._typeCommand(U,`
`+D.normalizeIndentation(R),B)}static _isAutoIndentType(D,F,B){if(D.autoIndent<4)return!1;for(let U=0,A=B.length;U<A;U++)if(!F.tokenization.isCheapToTokenize(B[U].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(D,F,B,U){const A=(0,d.u0)(F,B.startLineNumber,B.startColumn),k=(0,s.$9)(D.autoIndent,F,B,U,{shiftIndent:R=>b.shiftIndent(D,R),unshiftIndent:R=>b.unshiftIndent(D,R)},D.languageConfigurationService);if(k===null)return null;if(k!==D.normalizeIndentation(A)){const R=F.getLineFirstNonWhitespaceColumn(B.startLineNumber);return R===0?b._typeCommand(new p.e(B.startLineNumber,1,B.endLineNumber,B.endColumn),D.normalizeIndentation(k)+U,!1):b._typeCommand(new p.e(B.startLineNumber,1,B.endLineNumber,B.endColumn),D.normalizeIndentation(k)+F.getLineContent(B.startLineNumber).substring(R-1,B.startColumn-1)+U,!1)}return null}static _isAutoClosingOvertype(D,F,B,U,A){if(D.autoClosingOvertype==="never"||!D.autoClosingPairs.autoClosingPairsCloseSingleChar.has(A))return!1;for(let k=0,R=B.length;k<R;k++){const $=B[k];if(!$.isEmpty())return!1;const J=$.getPosition(),Y=F.getLineContent(J.lineNumber);if(Y.charAt(J.column-1)!==A)return!1;const z=(0,E.LN)(A);if((J.column>2?Y.charCodeAt(J.column-2):0)===92&&z)return!1;if(D.autoClosingOvertype==="auto"){let Z=!1;for(let fe=0,T=U.length;fe<T;fe++){const Re=U[fe];if(J.lineNumber===Re.startLineNumber&&J.column===Re.startColumn){Z=!0;break}}if(!Z)return!1}}return!0}static _runAutoClosingOvertype(D,F,B,U,A){const k=[];for(let R=0,$=U.length;R<$;R++){const Y=U[R].getPosition(),j=new p.e(Y.lineNumber,Y.column,Y.lineNumber,Y.column+1);k[R]=new u.T4(j,A)}return new E.Tp(4,k,{shouldPushStackElementBefore:S(D,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(D,F){const B=F.charAt(0),U=D.autoClosingPairs.autoClosingPairsOpenByStart.get(B)||[],A=D.autoClosingPairs.autoClosingPairsCloseByStart.get(B)||[],k=U.some($=>F.startsWith($.open)),R=A.some($=>F.startsWith($.close));return!k&&R}static _findAutoClosingPairOpen(D,F,B,U){const A=D.autoClosingPairs.autoClosingPairsOpenByEnd.get(U);if(!A)return null;let k=null;for(const R of A)if(k===null||R.open.length>k.open.length){let $=!0;for(const J of B)if(F.getValueInRange(new p.e(J.lineNumber,J.column-R.open.length+1,J.lineNumber,J.column))+U!==R.open){$=!1;break}$&&(k=R)}return k}static _findContainedAutoClosingPair(D,F){if(F.open.length<=1)return null;const B=F.close.charAt(F.close.length-1),U=D.autoClosingPairs.autoClosingPairsCloseByEnd.get(B)||[];let A=null;for(const k of U)k.open!==F.open&&F.open.includes(k.open)&&F.close.endsWith(k.close)&&(!A||k.open.length>A.open.length)&&(A=k);return A}static _getAutoClosingPairClose(D,F,B,U,A){const k=(0,E.LN)(U),R=k?D.autoClosingQuotes:D.autoClosingBrackets,$=k?D.shouldAutoCloseBefore.quote:D.shouldAutoCloseBefore.bracket;if(R==="never")return null;for(const Z of B)if(!Z.isEmpty())return null;const J=B.map(Z=>{const fe=Z.getPosition();return A?{lineNumber:fe.lineNumber,beforeColumn:fe.column-U.length,afterColumn:fe.column}:{lineNumber:fe.lineNumber,beforeColumn:fe.column,afterColumn:fe.column}}),Y=this._findAutoClosingPairOpen(D,F,J.map(Z=>new a.L(Z.lineNumber,Z.beforeColumn)),U);if(!Y)return null;const j=this._findContainedAutoClosingPair(D,Y),z=j?j.close:"";let K=!0;for(const Z of J){const{lineNumber:fe,beforeColumn:T,afterColumn:Re}=Z,Ce=F.getLineContent(fe),_e=Ce.substring(0,T-1),pe=Ce.substring(Re-1);if(pe.startsWith(z)||(K=!1),pe.length>0){const je=pe.charAt(0);if(!b._isBeforeClosingBrace(D,pe)&&!$(je))return null}if(Y.open.length===1&&(U==="'"||U==='"')&&R!=="always"){const je=(0,g.u)(D.wordSeparators);if(_e.length>0){const Xe=_e.charCodeAt(_e.length-1);if(je.get(Xe)===0)return null}}if(!F.tokenization.isCheapToTokenize(fe))return null;F.tokenization.forceTokenization(fe);const le=F.tokenization.getLineTokens(fe),oe=(0,i.wH)(le,T-1);if(!Y.shouldAutoClose(oe,T-oe.firstCharOffset))return null;const he=Y.findNeutralCharacter();if(he){const je=F.tokenization.getTokenTypeIfInsertingCharacter(fe,T,he);if(!Y.isOK(je))return null}}return K?Y.close.substring(0,Y.close.length-z.length):Y.close}static _runAutoClosingOpenCharType(D,F,B,U,A,k,R){const $=[];for(let J=0,Y=U.length;J<Y;J++){const j=U[J];$[J]=new c(j,A,!k,R)}return new E.Tp(4,$,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(D,F){return(0,E.LN)(F)?D.autoSurround==="quotes"||D.autoSurround==="languageDefined":D.autoSurround==="brackets"||D.autoSurround==="languageDefined"}static _isSurroundSelectionType(D,F,B,U){if(!b._shouldSurroundChar(D,U)||!D.surroundingPairs.hasOwnProperty(U))return!1;const A=(0,E.LN)(U);for(const k of B){if(k.isEmpty())return!1;let R=!0;for(let $=k.startLineNumber;$<=k.endLineNumber;$++){const J=F.getLineContent($),Y=$===k.startLineNumber?k.startColumn-1:0,j=$===k.endLineNumber?k.endColumn-1:J.length,z=J.substring(Y,j);if(/[^ \t]/.test(z)){R=!1;break}}if(R)return!1;if(A&&k.startLineNumber===k.endLineNumber&&k.startColumn+1===k.endColumn){const $=F.getValueInRange(k);if((0,E.LN)($))return!1}}return!0}static _runSurroundSelectionType(D,F,B,U,A){const k=[];for(let R=0,$=U.length;R<$;R++){const J=U[R],Y=F.surroundingPairs[A];k[R]=new I(J,A,Y)}return new E.Tp(0,k,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(D,F,B){return!!(B.length===1&&F.tokenization.isCheapToTokenize(B[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(D,F,B,U,A){if(!F.electricChars.hasOwnProperty(A)||!U.isEmpty())return null;const k=U.getPosition();B.tokenization.forceTokenization(k.lineNumber);const R=B.tokenization.getLineTokens(k.lineNumber);let $;try{$=F.onElectricCharacter(A,R,k.column)}catch(J){return(0,f.dL)(J),null}if(!$)return null;if($.matchOpenBracket){const J=(R.getLineContent()+A).lastIndexOf($.matchOpenBracket)+1,Y=B.bracketPairs.findMatchingBracketUp($.matchOpenBracket,{lineNumber:k.lineNumber,column:J},500);if(Y){if(Y.startLineNumber===k.lineNumber)return null;const j=B.getLineContent(Y.startLineNumber),z=O.V8(j),K=F.normalizeIndentation(z),Z=B.getLineContent(k.lineNumber),fe=B.getLineFirstNonWhitespaceColumn(k.lineNumber)||k.column,T=Z.substring(fe-1,k.column-1),Re=K+T+A,Ce=new p.e(k.lineNumber,1,k.lineNumber,k.column),_e=new u.T4(Ce,Re);return new E.Tp(C(Re,D),[_e],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(D,F,B,U,A,k){if(!U)return null;let R=null;for(const j of U)if(R===null)R=j.insertedText;else if(R!==j.insertedText)return null;if(!R||R.length!==1)return null;const $=R;let J=!1;for(const j of U)if(j.deletedText.length!==0){J=!0;break}if(J){if(!b._shouldSurroundChar(F,$)||!F.surroundingPairs.hasOwnProperty($))return null;const j=(0,E.LN)($);for(const Z of U)if(Z.deletedSelectionStart!==0||Z.deletedSelectionEnd!==Z.deletedText.length||/^[ \t]+$/.test(Z.deletedText)||j&&(0,E.LN)(Z.deletedText))return null;const z=[];for(const Z of A){if(!Z.isEmpty())return null;z.push(Z.getPosition())}if(z.length!==U.length)return null;const K=[];for(let Z=0,fe=z.length;Z<fe;Z++)K.push(new L(z[Z],U[Z].deletedText,F.surroundingPairs[$]));return new E.Tp(4,K,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(F,B,A,k,$)){const j=A.map(z=>new u.T4(new p.e(z.positionLineNumber,z.positionColumn,z.positionLineNumber,z.positionColumn+1),"",!1));return new E.Tp(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const Y=this._getAutoClosingPairClose(F,B,A,$,!0);return Y!==null?this._runAutoClosingOpenCharType(D,F,B,A,$,!0,Y):null}static typeWithInterceptors(D,F,B,U,A,k,R){if(!D&&R===`
`){const Y=[];for(let j=0,z=A.length;j<z;j++)Y[j]=b._enter(B,U,!1,A[j]);return new E.Tp(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!D&&this._isAutoIndentType(B,U,A)){const Y=[];let j=!1;for(let z=0,K=A.length;z<K;z++)if(Y[z]=this._runAutoIndentType(B,U,A[z],R),!Y[z]){j=!0;break}if(!j)return new E.Tp(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(B,U,A,k,R))return this._runAutoClosingOvertype(F,B,U,A,R);if(!D){const Y=this._getAutoClosingPairClose(B,U,A,R,!1);if(Y)return this._runAutoClosingOpenCharType(F,B,U,A,R,!1,Y)}if(!D&&this._isSurroundSelectionType(B,U,A,R))return this._runSurroundSelectionType(F,B,U,A,R);if(!D&&this._isTypeInterceptorElectricChar(B,U,A)){const Y=this._typeInterceptorElectricChar(F,B,U,A[0],R);if(Y)return Y}const $=[];for(let Y=0,j=A.length;Y<j;Y++)$[Y]=new u.T4(A[Y],R);const J=C(R,F);return new E.Tp(J,$,{shouldPushStackElementBefore:S(F,J),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(D,F,B,U,A){const k=[];for(let $=0,J=U.length;$<J;$++)k[$]=new u.T4(U[$],A);const R=C(A,D);return new E.Tp(R,k,{shouldPushStackElementBefore:S(D,R),shouldPushStackElementAfter:!1})}static lineInsertBefore(D,F,B){if(F===null||B===null)return[];const U=[];for(let A=0,k=B.length;A<k;A++){let R=B[A].positionLineNumber;if(R===1)U[A]=new u.Sj(new p.e(1,1,1,1),`
`);else{R--;const $=F.getLineMaxColumn(R);U[A]=this._enter(D,F,!1,new p.e(R,$,R,$))}}return U}static lineInsertAfter(D,F,B){if(F===null||B===null)return[];const U=[];for(let A=0,k=B.length;A<k;A++){const R=B[A].positionLineNumber,$=F.getLineMaxColumn(R);U[A]=this._enter(D,F,!1,new p.e(R,$,R,$))}return U}static lineBreakInsert(D,F,B){const U=[];for(let A=0,k=B.length;A<k;A++)U[A]=this._enter(D,F,!0,B[A]);return U}}class c extends u.Uo{constructor(D,F,B,U){super(D,(B?F:"")+U,0,-U.length),this._openCharacter=F,this._closeCharacter=U,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(D,F){const U=F.getInverseEditOperations()[0].range;return this.closeCharacterRange=new p.e(U.startLineNumber,U.endColumn-this._closeCharacter.length,U.endLineNumber,U.endColumn),this.enclosingRange=new p.e(U.startLineNumber,U.endColumn-this._openCharacter.length-this._closeCharacter.length,U.endLineNumber,U.endColumn),super.computeCursorState(D,F)}}class v{constructor(D,F,B,U,A,k){this.deletedText=D,this.deletedSelectionStart=F,this.deletedSelectionEnd=B,this.insertedText=U,this.insertedSelectionStart=A,this.insertedSelectionEnd=k}}function C(M,D){return M===" "?D===5||D===6?6:5:4}function S(M,D){return P(M)&&!P(D)?!0:M===5?!1:N(M)!==N(D)}function N(M){return M===6||M===5?"space":M}function P(M){return M===4||M===5||M===6}},61958:function(Rt,Be,t){"use strict";t.d(Be,{L:function(){return L},w:function(){return I}});var f=t(17416),O=t(60854),u=t(24048),_=t(31599),p=t(8964),V=t(50038);class I{static _createWord(a,l,d,i,s){return{start:i,end:s,wordType:l,nextCharClass:d}}static _findPreviousWordOnLine(a,l,d){const i=l.getLineContent(d.lineNumber);return this._doFindPreviousWordOnLine(i,a,d)}static _doFindPreviousWordOnLine(a,l,d){let i=0;for(let s=d.column-2;s>=0;s--){const m=a.charCodeAt(s),b=l.get(m);if(b===0){if(i===2)return this._createWord(a,i,b,s+1,this._findEndOfWord(a,l,i,s+1));i=1}else if(b===2){if(i===1)return this._createWord(a,i,b,s+1,this._findEndOfWord(a,l,i,s+1));i=2}else if(b===1&&i!==0)return this._createWord(a,i,b,s+1,this._findEndOfWord(a,l,i,s+1))}return i!==0?this._createWord(a,i,1,0,this._findEndOfWord(a,l,i,0)):null}static _findEndOfWord(a,l,d,i){const s=a.length;for(let m=i;m<s;m++){const b=a.charCodeAt(m),c=l.get(b);if(c===1||d===1&&c===2||d===2&&c===0)return m}return s}static _findNextWordOnLine(a,l,d){const i=l.getLineContent(d.lineNumber);return this._doFindNextWordOnLine(i,a,d)}static _doFindNextWordOnLine(a,l,d){let i=0;const s=a.length;for(let m=d.column-1;m<s;m++){const b=a.charCodeAt(m),c=l.get(b);if(c===0){if(i===2)return this._createWord(a,i,c,this._findStartOfWord(a,l,i,m-1),m);i=1}else if(c===2){if(i===1)return this._createWord(a,i,c,this._findStartOfWord(a,l,i,m-1),m);i=2}else if(c===1&&i!==0)return this._createWord(a,i,c,this._findStartOfWord(a,l,i,m-1),m)}return i!==0?this._createWord(a,i,1,this._findStartOfWord(a,l,i,s-1),s):null}static _findStartOfWord(a,l,d,i){for(let s=i;s>=0;s--){const m=a.charCodeAt(s),b=l.get(m);if(b===1||d===1&&b===2||d===2&&b===0)return s+1}return 0}static moveWordLeft(a,l,d,i){let s=d.lineNumber,m=d.column;m===1&&s>1&&(s=s-1,m=l.getLineMaxColumn(s));let b=I._findPreviousWordOnLine(a,l,new p.L(s,m));if(i===0)return new p.L(s,b?b.start+1:1);if(i===1)return b&&b.wordType===2&&b.end-b.start===1&&b.nextCharClass===0&&(b=I._findPreviousWordOnLine(a,l,new p.L(s,b.start+1))),new p.L(s,b?b.start+1:1);if(i===3){for(;b&&b.wordType===2;)b=I._findPreviousWordOnLine(a,l,new p.L(s,b.start+1));return new p.L(s,b?b.start+1:1)}return b&&m<=b.end+1&&(b=I._findPreviousWordOnLine(a,l,new p.L(s,b.start+1))),new p.L(s,b?b.end+1:1)}static _moveWordPartLeft(a,l){const d=l.lineNumber,i=a.getLineMaxColumn(d);if(l.column===1)return d>1?new p.L(d-1,a.getLineMaxColumn(d-1)):l;const s=a.getLineContent(d);for(let m=l.column-1;m>1;m--){const b=s.charCodeAt(m-2),c=s.charCodeAt(m-1);if(b===95&&c!==95)return new p.L(d,m);if(b===45&&c!==45)return new p.L(d,m);if((f.mK(b)||f.T5(b))&&f.df(c))return new p.L(d,m);if(f.df(b)&&f.df(c)&&m+1<i){const v=s.charCodeAt(m);if(f.mK(v)||f.T5(v))return new p.L(d,m)}}return new p.L(d,1)}static moveWordRight(a,l,d,i){let s=d.lineNumber,m=d.column,b=!1;m===l.getLineMaxColumn(s)&&s<l.getLineCount()&&(b=!0,s=s+1,m=1);let c=I._findNextWordOnLine(a,l,new p.L(s,m));if(i===2)c&&c.wordType===2&&c.end-c.start===1&&c.nextCharClass===0&&(c=I._findNextWordOnLine(a,l,new p.L(s,c.end+1))),c?m=c.end+1:m=l.getLineMaxColumn(s);else if(i===3){for(b&&(m=0);c&&(c.wordType===2||c.start+1<=m);)c=I._findNextWordOnLine(a,l,new p.L(s,c.end+1));c?m=c.start+1:m=l.getLineMaxColumn(s)}else c&&!b&&m>=c.start+1&&(c=I._findNextWordOnLine(a,l,new p.L(s,c.end+1))),c?m=c.start+1:m=l.getLineMaxColumn(s);return new p.L(s,m)}static _moveWordPartRight(a,l){const d=l.lineNumber,i=a.getLineMaxColumn(d);if(l.column===i)return d<a.getLineCount()?new p.L(d+1,1):l;const s=a.getLineContent(d);for(let m=l.column+1;m<i;m++){const b=s.charCodeAt(m-2),c=s.charCodeAt(m-1);if(b!==95&&c===95)return new p.L(d,m);if(b!==45&&c===45)return new p.L(d,m);if((f.mK(b)||f.T5(b))&&f.df(c))return new p.L(d,m);if(f.df(b)&&f.df(c)&&m+1<i){const v=s.charCodeAt(m);if(f.mK(v)||f.T5(v))return new p.L(d,m)}}return new p.L(d,i)}static _deleteWordLeftWhitespace(a,l){const d=a.getLineContent(l.lineNumber),i=l.column-2,s=f.ow(d,i);return s+1<i?new V.e(l.lineNumber,s+2,l.lineNumber,l.column):null}static deleteWordLeft(a,l){const d=a.wordSeparators,i=a.model,s=a.selection,m=a.whitespaceHeuristics;if(!s.isEmpty())return s;if(u.A.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,a.model,[a.selection],a.autoClosedCharacters)){const S=a.selection.getPosition();return new V.e(S.lineNumber,S.column-1,S.lineNumber,S.column+1)}const b=new p.L(s.positionLineNumber,s.positionColumn);let c=b.lineNumber,v=b.column;if(c===1&&v===1)return null;if(m){const S=this._deleteWordLeftWhitespace(i,b);if(S)return S}let C=I._findPreviousWordOnLine(d,i,b);return l===0?C?v=C.start+1:v>1?v=1:(c--,v=i.getLineMaxColumn(c)):(C&&v<=C.end+1&&(C=I._findPreviousWordOnLine(d,i,new p.L(c,C.start+1))),C?v=C.end+1:v>1?v=1:(c--,v=i.getLineMaxColumn(c))),new V.e(c,v,b.lineNumber,b.column)}static deleteInsideWord(a,l,d){if(!d.isEmpty())return d;const i=new p.L(d.positionLineNumber,d.positionColumn),s=this._deleteInsideWordWhitespace(l,i);return s||this._deleteInsideWordDetermineDeleteRange(a,l,i)}static _charAtIsWhitespace(a,l){const d=a.charCodeAt(l);return d===32||d===9}static _deleteInsideWordWhitespace(a,l){const d=a.getLineContent(l.lineNumber),i=d.length;if(i===0)return null;let s=Math.max(l.column-2,0);if(!this._charAtIsWhitespace(d,s))return null;let m=Math.min(l.column-1,i-1);if(!this._charAtIsWhitespace(d,m))return null;for(;s>0&&this._charAtIsWhitespace(d,s-1);)s--;for(;m+1<i&&this._charAtIsWhitespace(d,m+1);)m++;return new V.e(l.lineNumber,s+1,l.lineNumber,m+2)}static _deleteInsideWordDetermineDeleteRange(a,l,d){const i=l.getLineContent(d.lineNumber),s=i.length;if(s===0)return d.lineNumber>1?new V.e(d.lineNumber-1,l.getLineMaxColumn(d.lineNumber-1),d.lineNumber,1):d.lineNumber<l.getLineCount()?new V.e(d.lineNumber,1,d.lineNumber+1,1):new V.e(d.lineNumber,1,d.lineNumber,1);const m=S=>S.start+1<=d.column&&d.column<=S.end+1,b=(S,N)=>(S=Math.min(S,d.column),N=Math.max(N,d.column),new V.e(d.lineNumber,S,d.lineNumber,N)),c=S=>{let N=S.start+1,P=S.end+1,M=!1;for(;P-1<s&&this._charAtIsWhitespace(i,P-1);)M=!0,P++;if(!M)for(;N>1&&this._charAtIsWhitespace(i,N-2);)N--;return b(N,P)},v=I._findPreviousWordOnLine(a,l,d);if(v&&m(v))return c(v);const C=I._findNextWordOnLine(a,l,d);return C&&m(C)?c(C):v&&C?b(v.end+1,C.start+1):v?b(v.start+1,v.end+1):C?b(C.start+1,C.end+1):b(1,s+1)}static _deleteWordPartLeft(a,l){if(!l.isEmpty())return l;const d=l.getPosition(),i=I._moveWordPartLeft(a,d);return new V.e(d.lineNumber,d.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(a,l){const d=a.length;for(let i=l;i<d;i++){const s=a.charAt(i);if(s!==" "&&s!=="	")return i}return d}static _deleteWordRightWhitespace(a,l){const d=a.getLineContent(l.lineNumber),i=l.column-1,s=this._findFirstNonWhitespaceChar(d,i);return i+1<s?new V.e(l.lineNumber,l.column,l.lineNumber,s+1):null}static deleteWordRight(a,l){const d=a.wordSeparators,i=a.model,s=a.selection,m=a.whitespaceHeuristics;if(!s.isEmpty())return s;const b=new p.L(s.positionLineNumber,s.positionColumn);let c=b.lineNumber,v=b.column;const C=i.getLineCount(),S=i.getLineMaxColumn(c);if(c===C&&v===S)return null;if(m){const P=this._deleteWordRightWhitespace(i,b);if(P)return P}let N=I._findNextWordOnLine(d,i,b);return l===2?N?v=N.end+1:v<S||c===C?v=S:(c++,N=I._findNextWordOnLine(d,i,new p.L(c,1)),N?v=N.start+1:v=i.getLineMaxColumn(c)):(N&&v>=N.start+1&&(N=I._findNextWordOnLine(d,i,new p.L(c,N.end+1))),N?v=N.start+1:v<S||c===C?v=S:(c++,N=I._findNextWordOnLine(d,i,new p.L(c,1)),N?v=N.start+1:v=i.getLineMaxColumn(c))),new V.e(c,v,b.lineNumber,b.column)}static _deleteWordPartRight(a,l){if(!l.isEmpty())return l;const d=l.getPosition(),i=I._moveWordPartRight(a,d);return new V.e(d.lineNumber,d.column,i.lineNumber,i.column)}static _createWordAtPosition(a,l,d){const i=new V.e(l,d.start+1,l,d.end+1);return{word:a.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(a,l,d){const i=(0,_.u)(l),s=I._findPreviousWordOnLine(i,a,d);if(s&&s.wordType===1&&s.start<=d.column-1&&d.column-1<=s.end)return I._createWordAtPosition(a,d.lineNumber,s);const m=I._findNextWordOnLine(i,a,d);return m&&m.wordType===1&&m.start<=d.column-1&&d.column-1<=m.end?I._createWordAtPosition(a,d.lineNumber,m):null}static word(a,l,d,i,s){const m=(0,_.u)(a.wordSeparators),b=I._findPreviousWordOnLine(m,l,s),c=I._findNextWordOnLine(m,l,s);if(!i){let P,M;return b&&b.wordType===1&&b.start<=s.column-1&&s.column-1<=b.end?(P=b.start+1,M=b.end+1):c&&c.wordType===1&&c.start<=s.column-1&&s.column-1<=c.end?(P=c.start+1,M=c.end+1):(b?P=b.end+1:P=1,c?M=c.start+1:M=l.getLineMaxColumn(s.lineNumber)),new O.rS(new V.e(s.lineNumber,P,s.lineNumber,M),1,0,new p.L(s.lineNumber,M),0)}let v,C;b&&b.wordType===1&&b.start<s.column-1&&s.column-1<b.end?(v=b.start+1,C=b.end+1):c&&c.wordType===1&&c.start<s.column-1&&s.column-1<c.end?(v=c.start+1,C=c.end+1):(v=s.column,C=s.column);const S=s.lineNumber;let N;if(d.selectionStart.containsPosition(s))N=d.selectionStart.endColumn;else if(s.isBeforeOrEqual(d.selectionStart.getStartPosition())){N=v;const P=new p.L(S,N);d.selectionStart.containsPosition(P)&&(N=d.selectionStart.endColumn)}else{N=C;const P=new p.L(S,N);d.selectionStart.containsPosition(P)&&(N=d.selectionStart.startColumn)}return d.move(!0,S,N,0)}}class L extends I{static deleteWordPartLeft(a){const l=E([I.deleteWordLeft(a,0),I.deleteWordLeft(a,2),I._deleteWordPartLeft(a.model,a.selection)]);return l.sort(V.e.compareRangesUsingEnds),l[2]}static deleteWordPartRight(a){const l=E([I.deleteWordRight(a,0),I.deleteWordRight(a,2),I._deleteWordPartRight(a.model,a.selection)]);return l.sort(V.e.compareRangesUsingStarts),l[0]}static moveWordPartLeft(a,l,d){const i=E([I.moveWordLeft(a,l,d,0),I.moveWordLeft(a,l,d,2),I._moveWordPartLeft(l,d)]);return i.sort(p.L.compare),i[2]}static moveWordPartRight(a,l,d){const i=E([I.moveWordRight(a,l,d,0),I.moveWordRight(a,l,d,2),I._moveWordPartRight(l,d)]);return i.sort(p.L.compare),i[0]}}function E(g){return g.filter(a=>!!a)}},60854:function(Rt,Be,t){"use strict";t.d(Be,{LM:function(){return g},LN:function(){return m},Tp:function(){return s},Vi:function(){return a},rS:function(){return i}});var f=t(8964),O=t(50038),u=t(57841),_=t(23189),p=t(61669),V=t(5184);const I=()=>!0,L=()=>!1,E=b=>b===" "||b==="	";class g{static shouldRecreate(c){return c.hasChanged(140)||c.hasChanged(126)||c.hasChanged(35)||c.hasChanged(74)||c.hasChanged(76)||c.hasChanged(77)||c.hasChanged(5)||c.hasChanged(9)||c.hasChanged(7)||c.hasChanged(8)||c.hasChanged(12)||c.hasChanged(124)||c.hasChanged(48)||c.hasChanged(88)}constructor(c,v,C,S){this.languageConfigurationService=S,this._cursorMoveConfigurationBrand=void 0,this._languageId=c;const N=C.options,P=N.get(140),M=N.get(48);this.readOnly=N.get(88),this.tabSize=v.tabSize,this.indentSize=v.indentSize,this.insertSpaces=v.insertSpaces,this.stickyTabStops=N.get(112),this.lineHeight=M.lineHeight,this.typicalHalfwidthCharacterWidth=M.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(P.height/this.lineHeight)-2),this.useTabStops=N.get(124),this.wordSeparators=N.get(126),this.emptySelectionClipboard=N.get(35),this.copyWithSyntaxHighlighting=N.get(23),this.multiCursorMergeOverlapping=N.get(74),this.multiCursorPaste=N.get(76),this.multiCursorLimit=N.get(77),this.autoClosingBrackets=N.get(5),this.autoClosingQuotes=N.get(9),this.autoClosingDelete=N.get(7),this.autoClosingOvertype=N.get(8),this.autoSurround=N.get(12),this.autoIndent=N.get(10),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(c,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(c,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(c).getAutoClosingPairs();const D=this.languageConfigurationService.getLanguageConfiguration(c).getSurroundingPairs();if(D)for(const F of D)this.surroundingPairs[F.open]=F.close}get electricChars(){var c;if(!this._electricChars){this._electricChars={};const v=(c=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||c===void 0?void 0:c.getElectricCharacters();if(v)for(const C of v)this._electricChars[C]=!0}return this._electricChars}onElectricCharacter(c,v,C){const S=(0,_.wH)(v,C-1),N=this.languageConfigurationService.getLanguageConfiguration(S.languageId).electricCharacter;return N?N.onElectricCharacter(c,S,C-S.firstCharOffset):null}normalizeIndentation(c){return(0,V.x)(c,this.indentSize,this.insertSpaces)}_getShouldAutoClose(c,v,C){switch(v){case"beforeWhitespace":return E;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(c,C);case"always":return I;case"never":return L}}_getLanguageDefinedShouldAutoClose(c,v){const C=this.languageConfigurationService.getLanguageConfiguration(c).getAutoCloseBeforeSet(v);return S=>C.indexOf(S)!==-1}visibleColumnFromColumn(c,v){return p.i.visibleColumnFromColumn(c.getLineContent(v.lineNumber),v.column,this.tabSize)}columnFromVisibleColumn(c,v,C){const S=p.i.columnFromVisibleColumn(c.getLineContent(v),C,this.tabSize),N=c.getLineMinColumn(v);if(S<N)return N;const P=c.getLineMaxColumn(v);return S>P?P:S}}class a{static fromModelState(c){return new l(c)}static fromViewState(c){return new d(c)}static fromModelSelection(c){const v=u.Y.liftSelection(c),C=new i(O.e.fromPositions(v.getSelectionStart()),0,0,v.getPosition(),0);return a.fromModelState(C)}static fromModelSelections(c){const v=[];for(let C=0,S=c.length;C<S;C++)v[C]=this.fromModelSelection(c[C]);return v}constructor(c,v){this._cursorStateBrand=void 0,this.modelState=c,this.viewState=v}equals(c){return this.viewState.equals(c.viewState)&&this.modelState.equals(c.modelState)}}class l{constructor(c){this.modelState=c,this.viewState=null}}class d{constructor(c){this.modelState=null,this.viewState=c}}class i{constructor(c,v,C,S,N){this.selectionStart=c,this.selectionStartKind=v,this.selectionStartLeftoverVisibleColumns=C,this.position=S,this.leftoverVisibleColumns=N,this._singleCursorStateBrand=void 0,this.selection=i._computeSelection(this.selectionStart,this.position)}equals(c){return this.selectionStartLeftoverVisibleColumns===c.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===c.leftoverVisibleColumns&&this.selectionStartKind===c.selectionStartKind&&this.position.equals(c.position)&&this.selectionStart.equalsRange(c.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(c,v,C,S){return c?new i(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new f.L(v,C),S):new i(new O.e(v,C,v,C),0,S,new f.L(v,C),S)}static _computeSelection(c,v){return c.isEmpty()||!v.isBeforeOrEqual(c.getStartPosition())?u.Y.fromPositions(c.getStartPosition(),v):u.Y.fromPositions(c.getEndPosition(),v)}}class s{constructor(c,v,C){this._editOperationResultBrand=void 0,this.type=c,this.commands=v,this.shouldPushStackElementBefore=C.shouldPushStackElementBefore,this.shouldPushStackElementAfter=C.shouldPushStackElementAfter}}function m(b){return b==="'"||b==='"'||b==="`"}},5800:function(Rt,Be,t){"use strict";t.d(Be,{f0:function(){return u},hZ:function(){return O},iy:function(){return _}});var f=t(4407);class O{constructor(V,I){this.changes=V,this.hitTimeout=I}}class u{static inverse(V,I,L){const E=[];let g=1,a=1;for(const d of V){const i=new u(new f.z(g,d.originalRange.startLineNumber),new f.z(a,d.modifiedRange.startLineNumber),void 0);i.modifiedRange.isEmpty||E.push(i),g=d.originalRange.endLineNumberExclusive,a=d.modifiedRange.endLineNumberExclusive}const l=new u(new f.z(g,I+1),new f.z(a,L+1),void 0);return l.modifiedRange.isEmpty||E.push(l),E}constructor(V,I,L){this.originalRange=V,this.modifiedRange=I,this.innerChanges=L}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}get changedLineCount(){return Math.max(this.originalRange.length,this.modifiedRange.length)}}class _{constructor(V,I){this.originalRange=V,this.modifiedRange=I}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}},36031:function(Rt,Be,t){"use strict";t.d(Be,{p:function(){return f}});class f{constructor(u,_,p,V,I,L){this.id=u,this.label=_,this.alias=p,this._precondition=V,this._run=I,this._contextKeyService=L}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(u){return this.isSupported()?this._run(u):Promise.resolve(void 0)}}},6390:function(Rt,Be,t){"use strict";t.d(Be,{g:function(){return f}});const f={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},21081:function(Rt,Be,t){"use strict";t.d(Be,{u:function(){return u}});var f=t(26386),O=t(76826),u;(function(_){_.editorSimpleInput=new O.uy("editorSimpleInput",!1,!0),_.editorTextFocus=new O.uy("editorTextFocus",!1,f.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),_.focus=new O.uy("editorFocus",!1,f.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),_.textInputFocus=new O.uy("textInputFocus",!1,f.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),_.readOnly=new O.uy("editorReadonly",!1,f.NC("editorReadonly","Whether the editor is read only")),_.inDiffEditor=new O.uy("inDiffEditor",!1,f.NC("inDiffEditor","Whether the context is a diff editor")),_.isEmbeddedDiffEditor=new O.uy("isEmbeddedDiffEditor",!1,f.NC("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),_.columnSelection=new O.uy("editorColumnSelection",!1,f.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),_.writable=_.readOnly.toNegated(),_.hasNonEmptySelection=new O.uy("editorHasSelection",!1,f.NC("editorHasSelection","Whether the editor has text selected")),_.hasOnlyEmptySelection=_.hasNonEmptySelection.toNegated(),_.hasMultipleSelections=new O.uy("editorHasMultipleSelections",!1,f.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),_.hasSingleSelection=_.hasMultipleSelections.toNegated(),_.tabMovesFocus=new O.uy("editorTabMovesFocus",!1,f.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),_.tabDoesNotMoveFocus=_.tabMovesFocus.toNegated(),_.isInWalkThroughSnippet=new O.uy("isInEmbeddedEditor",!1,!0),_.canUndo=new O.uy("canUndo",!1,!0),_.canRedo=new O.uy("canRedo",!1,!0),_.hoverVisible=new O.uy("editorHoverVisible",!1,f.NC("editorHoverVisible","Whether the editor hover is visible")),_.hoverFocused=new O.uy("editorHoverFocused",!1,f.NC("editorHoverFocused","Whether the editor hover is focused")),_.stickyScrollFocused=new O.uy("stickyScrollFocused",!1,f.NC("stickyScrollFocused","Whether the sticky scroll is focused")),_.stickyScrollVisible=new O.uy("stickyScrollVisible",!1,f.NC("stickyScrollVisible","Whether the sticky scroll is visible")),_.standaloneColorPickerVisible=new O.uy("standaloneColorPickerVisible",!1,f.NC("standaloneColorPickerVisible","Whether the standalone color picker is visible")),_.standaloneColorPickerFocused=new O.uy("standaloneColorPickerFocused",!1,f.NC("standaloneColorPickerFocused","Whether the standalone color picker is focused")),_.inCompositeEditor=new O.uy("inCompositeEditor",void 0,f.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),_.notInCompositeEditor=_.inCompositeEditor.toNegated(),_.languageId=new O.uy("editorLangId","",f.NC("editorLangId","The language identifier of the editor")),_.hasCompletionItemProvider=new O.uy("editorHasCompletionItemProvider",!1,f.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),_.hasCodeActionsProvider=new O.uy("editorHasCodeActionsProvider",!1,f.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),_.hasCodeLensProvider=new O.uy("editorHasCodeLensProvider",!1,f.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),_.hasDefinitionProvider=new O.uy("editorHasDefinitionProvider",!1,f.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),_.hasDeclarationProvider=new O.uy("editorHasDeclarationProvider",!1,f.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),_.hasImplementationProvider=new O.uy("editorHasImplementationProvider",!1,f.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),_.hasTypeDefinitionProvider=new O.uy("editorHasTypeDefinitionProvider",!1,f.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),_.hasHoverProvider=new O.uy("editorHasHoverProvider",!1,f.NC("editorHasHoverProvider","Whether the editor has a hover provider")),_.hasDocumentHighlightProvider=new O.uy("editorHasDocumentHighlightProvider",!1,f.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),_.hasDocumentSymbolProvider=new O.uy("editorHasDocumentSymbolProvider",!1,f.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),_.hasReferenceProvider=new O.uy("editorHasReferenceProvider",!1,f.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),_.hasRenameProvider=new O.uy("editorHasRenameProvider",!1,f.NC("editorHasRenameProvider","Whether the editor has a rename provider")),_.hasSignatureHelpProvider=new O.uy("editorHasSignatureHelpProvider",!1,f.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),_.hasInlayHintsProvider=new O.uy("editorHasInlayHintsProvider",!1,f.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),_.hasDocumentFormattingProvider=new O.uy("editorHasDocumentFormattingProvider",!1,f.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),_.hasDocumentSelectionFormattingProvider=new O.uy("editorHasDocumentSelectionFormattingProvider",!1,f.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),_.hasMultipleDocumentFormattingProvider=new O.uy("editorHasMultipleDocumentFormattingProvider",!1,f.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),_.hasMultipleDocumentSelectionFormattingProvider=new O.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,f.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(u||(u={}))},56072:function(Rt,Be,t){"use strict";t.d(Be,{n:function(){return u},y:function(){return O}});const f=[];function O(_){f.push(_)}function u(){return f.slice(0)}},24506:function(Rt,Be,t){"use strict";t.d(Be,{N:function(){return f}});class f{static getLanguageId(u){return(u&255)>>>0}static getTokenType(u){return(u&768)>>>8}static containsBalancedBrackets(u){return(u&1024)!==0}static getFontStyle(u){return(u&30720)>>>11}static getForeground(u){return(u&16744448)>>>15}static getBackground(u){return(u&4278190080)>>>24}static getClassNameFromMetadata(u){let p="mtk"+this.getForeground(u);const V=this.getFontStyle(u);return V&1&&(p+=" mtki"),V&2&&(p+=" mtkb"),V&4&&(p+=" mtku"),V&8&&(p+=" mtks"),p}static getInlineStyleFromMetadata(u,_){const p=this.getForeground(u),V=this.getFontStyle(u);let I=`color: ${_[p]};`;V&1&&(I+="font-style: italic;"),V&2&&(I+="font-weight: bold;");let L="";return V&4&&(L+=" underline"),V&8&&(L+=" line-through"),L&&(I+=`text-decoration:${L};`),I}static getPresentationFromMetadata(u){const _=this.getForeground(u),p=this.getFontStyle(u);return{foreground:_,italic:!!(p&1),bold:!!(p&2),underline:!!(p&4),strikethrough:!!(p&8)}}}},36082:function(Rt,Be,t){"use strict";t.d(Be,{mY:function(){return C},gX:function(){return l},MY:function(){return m},DI:function(){return a},AD:function(){return v},gl:function(){return S},bw:function(){return d},MO:function(){return N},ln:function(){return i},WW:function(){return s},uZ:function(){return c},WU:function(){return E},RW:function(){return P},hG:function(){return g},vx:function(){return b}});var f=t(407),O=t(28919),u=t(50038),_=t(56709),p=t(38431),V=function(M,D,F,B){function U(A){return A instanceof F?A:new F(function(k){k(A)})}return new(F||(F=Promise))(function(A,k){function R(Y){try{J(B.next(Y))}catch(j){k(j)}}function $(Y){try{J(B.throw(Y))}catch(j){k(j)}}function J(Y){Y.done?A(Y.value):U(Y.value).then(R,$)}J((B=B.apply(M,D||[])).next())})};class I{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new _.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(D){this._onDidChange.fire({changedLanguages:D,changedColorMap:!1})}register(D,F){return this._tokenizationSupports.set(D,F),this.handleChange([D]),(0,p.OF)(()=>{this._tokenizationSupports.get(D)===F&&(this._tokenizationSupports.delete(D),this.handleChange([D]))})}get(D){return this._tokenizationSupports.get(D)||null}registerFactory(D,F){var B;(B=this._factories.get(D))===null||B===void 0||B.dispose();const U=new L(this,D,F);return this._factories.set(D,U),(0,p.OF)(()=>{const A=this._factories.get(D);!A||A!==U||(this._factories.delete(D),A.dispose())})}getOrCreate(D){return V(this,void 0,void 0,function*(){const F=this.get(D);if(F)return F;const B=this._factories.get(D);return!B||B.isResolved?null:(yield B.resolve(),this.get(D))})}isResolved(D){if(this.get(D))return!0;const B=this._factories.get(D);return!!(!B||B.isResolved)}setColorMap(D){this._colorMap=D,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class L extends p.JT{get isResolved(){return this._isResolved}constructor(D,F,B){super(),this._registry=D,this._languageId=F,this._factory=B,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return V(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return V(this,void 0,void 0,function*(){const D=yield this._factory.tokenizationSupport;this._isResolved=!0,D&&!this._isDisposed&&this._register(this._registry.register(this._languageId,D))})}}class E{constructor(D,F,B){this.offset=D,this.type=F,this.language=B,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class g{constructor(D,F){this.tokens=D,this.endState=F,this._tokenizationResultBrand=void 0}}class a{constructor(D,F){this.tokens=D,this.endState=F,this._encodedTokenizationResultBrand=void 0}}var l;(function(M){const D=new Map;D.set(0,f.l.symbolMethod),D.set(1,f.l.symbolFunction),D.set(2,f.l.symbolConstructor),D.set(3,f.l.symbolField),D.set(4,f.l.symbolVariable),D.set(5,f.l.symbolClass),D.set(6,f.l.symbolStruct),D.set(7,f.l.symbolInterface),D.set(8,f.l.symbolModule),D.set(9,f.l.symbolProperty),D.set(10,f.l.symbolEvent),D.set(11,f.l.symbolOperator),D.set(12,f.l.symbolUnit),D.set(13,f.l.symbolValue),D.set(15,f.l.symbolEnum),D.set(14,f.l.symbolConstant),D.set(15,f.l.symbolEnum),D.set(16,f.l.symbolEnumMember),D.set(17,f.l.symbolKeyword),D.set(27,f.l.symbolSnippet),D.set(18,f.l.symbolText),D.set(19,f.l.symbolColor),D.set(20,f.l.symbolFile),D.set(21,f.l.symbolReference),D.set(22,f.l.symbolCustomColor),D.set(23,f.l.symbolFolder),D.set(24,f.l.symbolTypeParameter),D.set(25,f.l.account),D.set(26,f.l.issues);function F(A){let k=D.get(A);return k||(console.info("No codicon found for CompletionItemKind "+A),k=f.l.symbolProperty),k}M.toIcon=F;const B=new Map;B.set("method",0),B.set("function",1),B.set("constructor",2),B.set("field",3),B.set("variable",4),B.set("class",5),B.set("struct",6),B.set("interface",7),B.set("module",8),B.set("property",9),B.set("event",10),B.set("operator",11),B.set("unit",12),B.set("value",13),B.set("constant",14),B.set("enum",15),B.set("enum-member",16),B.set("enumMember",16),B.set("keyword",17),B.set("snippet",27),B.set("text",18),B.set("color",19),B.set("file",20),B.set("reference",21),B.set("customcolor",22),B.set("folder",23),B.set("type-parameter",24),B.set("typeParameter",24),B.set("account",25),B.set("issue",26);function U(A,k){let R=B.get(A);return typeof R=="undefined"&&!k&&(R=9),R}M.fromString=U})(l||(l={}));var d;(function(M){M[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit"})(d||(d={}));class i{constructor(D,F,B,U){this.range=D,this.text=F,this.completionKind=B,this.isSnippetText=U}equals(D){return u.e.lift(this.range).equalsRange(D.range)&&this.text===D.text&&this.completionKind===D.completionKind&&this.isSnippetText===D.isSnippetText}}var s;(function(M){M[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange"})(s||(s={}));var m;(function(M){M[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write"})(m||(m={}));function b(M){return M&&O.o.isUri(M.uri)&&u.e.isIRange(M.range)&&(u.e.isIRange(M.originSelectionRange)||u.e.isIRange(M.targetSelectionRange))}var c;(function(M){const D=new Map;D.set(0,f.l.symbolFile),D.set(1,f.l.symbolModule),D.set(2,f.l.symbolNamespace),D.set(3,f.l.symbolPackage),D.set(4,f.l.symbolClass),D.set(5,f.l.symbolMethod),D.set(6,f.l.symbolProperty),D.set(7,f.l.symbolField),D.set(8,f.l.symbolConstructor),D.set(9,f.l.symbolEnum),D.set(10,f.l.symbolInterface),D.set(11,f.l.symbolFunction),D.set(12,f.l.symbolVariable),D.set(13,f.l.symbolConstant),D.set(14,f.l.symbolString),D.set(15,f.l.symbolNumber),D.set(16,f.l.symbolBoolean),D.set(17,f.l.symbolArray),D.set(18,f.l.symbolObject),D.set(19,f.l.symbolKey),D.set(20,f.l.symbolNull),D.set(21,f.l.symbolEnumMember),D.set(22,f.l.symbolStruct),D.set(23,f.l.symbolEvent),D.set(24,f.l.symbolOperator),D.set(25,f.l.symbolTypeParameter);function F(B){let U=D.get(B);return U||(console.info("No codicon found for SymbolKind "+B),U=f.l.symbolProperty),U}M.toIcon=F})(c||(c={}));class v{static fromValue(D){switch(D){case"comment":return v.Comment;case"imports":return v.Imports;case"region":return v.Region}return new v(D)}constructor(D){this.value=D}}v.Comment=new v("comment"),v.Imports=new v("imports"),v.Region=new v("region");var C;(function(M){function D(F){return!F||typeof F!="object"?!1:typeof F.id=="string"&&typeof F.title=="string"}M.is=D})(C||(C={}));var S;(function(M){M[M.Type=1]="Type",M[M.Parameter=2]="Parameter"})(S||(S={}));class N{constructor(D){this.createSupport=D,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(D=>{D&&D.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const P=new I},89026:function(Rt,Be,t){"use strict";t.d(Be,{$9:function(){return E},UF:function(){return L},n8:function(){return I},r7:function(){return V},tI:function(){return g}});var f=t(17416),O=t(50282),u=t(23189),_=t(64603);function p(a,l,d){const i=a.tokenization.getLanguageIdAtPosition(l,0);if(l>1){let s,m=-1;for(s=l-1;s>=1;s--){if(a.tokenization.getLanguageIdAtPosition(s,0)!==i)return m;const b=a.getLineContent(s);if(d.shouldIgnore(b)||/^\s+$/.test(b)||b===""){m=s;continue}return s}}return-1}function V(a,l,d,i=!0,s){if(a<4)return null;const m=s.getLanguageConfiguration(l.tokenization.getLanguageId()).indentRulesSupport;if(!m)return null;if(d<=1)return{indentation:"",action:null};for(let v=d-1;v>0&&l.getLineContent(v)==="";v--)if(v===1)return{indentation:"",action:null};const b=p(l,d,m);if(b<0)return null;if(b<1)return{indentation:"",action:null};const c=l.getLineContent(b);if(m.shouldIncrease(c)||m.shouldIndentNextLine(c))return{indentation:f.V8(c),action:O.wU.Indent,line:b};if(m.shouldDecrease(c))return{indentation:f.V8(c),action:null,line:b};{if(b===1)return{indentation:f.V8(l.getLineContent(b)),action:null,line:b};const v=b-1,C=m.getIndentMetadata(l.getLineContent(v));if(!(C&3)&&C&4){let S=0;for(let N=v-1;N>0;N--)if(!m.shouldIndentNextLine(l.getLineContent(N))){S=N;break}return{indentation:f.V8(l.getLineContent(S+1)),action:null,line:S+1}}if(i)return{indentation:f.V8(l.getLineContent(b)),action:null,line:b};for(let S=b;S>0;S--){const N=l.getLineContent(S);if(m.shouldIncrease(N))return{indentation:f.V8(N),action:O.wU.Indent,line:S};if(m.shouldIndentNextLine(N)){let P=0;for(let M=S-1;M>0;M--)if(!m.shouldIndentNextLine(l.getLineContent(S))){P=M;break}return{indentation:f.V8(l.getLineContent(P+1)),action:null,line:P+1}}else if(m.shouldDecrease(N))return{indentation:f.V8(N),action:null,line:S}}return{indentation:f.V8(l.getLineContent(1)),action:null,line:1}}}function I(a,l,d,i,s,m){if(a<4)return null;const b=m.getLanguageConfiguration(d);if(!b)return null;const c=m.getLanguageConfiguration(d).indentRulesSupport;if(!c)return null;const v=V(a,l,i,void 0,m),C=l.getLineContent(i);if(v){const S=v.line;if(S!==void 0){let N=!0;for(let P=S;P<i-1;P++)if(!/^\s*$/.test(l.getLineContent(P))){N=!1;break}if(N){const P=b.onEnter(a,"",l.getLineContent(S),"");if(P){let M=f.V8(l.getLineContent(S));return P.removeText&&(M=M.substring(0,M.length-P.removeText)),P.indentAction===O.wU.Indent||P.indentAction===O.wU.IndentOutdent?M=s.shiftIndent(M):P.indentAction===O.wU.Outdent&&(M=s.unshiftIndent(M)),c.shouldDecrease(C)&&(M=s.unshiftIndent(M)),P.appendText&&(M+=P.appendText),f.V8(M)}}}return c.shouldDecrease(C)?v.action===O.wU.Indent?v.indentation:s.unshiftIndent(v.indentation):v.action===O.wU.Indent?s.shiftIndent(v.indentation):v.indentation}return null}function L(a,l,d,i,s){if(a<4)return null;l.tokenization.forceTokenization(d.startLineNumber);const m=l.tokenization.getLineTokens(d.startLineNumber),b=(0,u.wH)(m,d.startColumn-1),c=b.getLineContent();let v=!1,C;b.firstCharOffset>0&&m.getLanguageId(0)!==b.languageId?(v=!0,C=c.substr(0,d.startColumn-1-b.firstCharOffset)):C=m.getLineContent().substring(0,d.startColumn-1);let S;d.isEmpty()?S=c.substr(d.startColumn-1-b.firstCharOffset):S=(0,_.n2)(l,d.endLineNumber,d.endColumn).getLineContent().substr(d.endColumn-1-b.firstCharOffset);const N=s.getLanguageConfiguration(b.languageId).indentRulesSupport;if(!N)return null;const P=C,M=f.V8(C),D={tokenization:{getLineTokens:A=>l.tokenization.getLineTokens(A),getLanguageId:()=>l.getLanguageId(),getLanguageIdAtPosition:(A,k)=>l.getLanguageIdAtPosition(A,k)},getLineContent:A=>A===d.startLineNumber?P:l.getLineContent(A)},F=f.V8(m.getLineContent()),B=V(a,D,d.startLineNumber+1,void 0,s);if(!B){const A=v?F:M;return{beforeEnter:A,afterEnter:A}}let U=v?F:B.indentation;return B.action===O.wU.Indent&&(U=i.shiftIndent(U)),N.shouldDecrease(S)&&(U=i.unshiftIndent(U)),{beforeEnter:v?F:M,afterEnter:U}}function E(a,l,d,i,s,m){if(a<4)return null;const b=(0,_.n2)(l,d.startLineNumber,d.startColumn);if(b.firstCharOffset)return null;const c=m.getLanguageConfiguration(b.languageId).indentRulesSupport;if(!c)return null;const v=b.getLineContent(),C=v.substr(0,d.startColumn-1-b.firstCharOffset);let S;if(d.isEmpty()?S=v.substr(d.startColumn-1-b.firstCharOffset):S=(0,_.n2)(l,d.endLineNumber,d.endColumn).getLineContent().substr(d.endColumn-1-b.firstCharOffset),!c.shouldDecrease(C+S)&&c.shouldDecrease(C+i+S)){const N=V(a,l,d.startLineNumber,!1,m);if(!N)return null;let P=N.indentation;return N.action!==O.wU.Indent&&(P=s.unshiftIndent(P)),P}return null}function g(a,l,d){const i=d.getLanguageConfiguration(a.getLanguageId()).indentRulesSupport;return!i||l<1||l>a.getLineCount()?null:i.getIndentMetadata(a.getLineContent(l))}},14:function(Rt,Be,t){"use strict";t.d(Be,{A:function(){return u}});var f=t(50282),O=t(64603);function u(_,p,V,I){const L=(0,O.n2)(p,V.startLineNumber,V.startColumn),E=I.getLanguageConfiguration(L.languageId);if(!E)return null;const g=L.getLineContent(),a=g.substr(0,V.startColumn-1-L.firstCharOffset);let l;V.isEmpty()?l=g.substr(V.startColumn-1-L.firstCharOffset):l=(0,O.n2)(p,V.endLineNumber,V.endColumn).getLineContent().substr(V.endColumn-1-L.firstCharOffset);let d="";if(V.startLineNumber>1&&L.firstCharOffset===0){const v=(0,O.n2)(p,V.startLineNumber-1);v.languageId===L.languageId&&(d=v.getLineContent())}const i=E.onEnter(_,d,a,l);if(!i)return null;const s=i.indentAction;let m=i.appendText;const b=i.removeText||0;m?s===f.wU.Indent&&(m="	"+m):s===f.wU.Indent||s===f.wU.IndentOutdent?m="	":m="";let c=(0,O.u0)(p,V.startLineNumber,V.startColumn);return b&&(c=c.substring(0,c.length-b)),{indentAction:s,appendText:m,removeText:b,indentation:c}}},47626:function(Rt,Be,t){"use strict";t.d(Be,{O:function(){return O}});var f=t(44333);const O=(0,f.yh)("languageService")},50282:function(Rt,Be,t){"use strict";t.d(Be,{V6:function(){return O},c$:function(){return u},wU:function(){return f}});var f;(function(p){p[p.None=0]="None",p[p.Indent=1]="Indent",p[p.IndentOutdent=2]="IndentOutdent",p[p.Outdent=3]="Outdent"})(f||(f={}));class O{constructor(V){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=V.open,this.close=V.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(V.notIn))for(let I=0,L=V.notIn.length;I<L;I++)switch(V.notIn[I]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(V){switch(V){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(V,I){if(V.getTokenCount()===0)return!0;const L=V.findTokenIndexAtOffset(I-2),E=V.getStandardTokenType(L);return this.isOK(E)}_findNeutralCharacterInRange(V,I){for(let L=V;L<=I;L++){const E=String.fromCharCode(L);if(!this.open.includes(E)&&!this.close.includes(E))return E}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class u{constructor(V){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const I of V)_(this.autoClosingPairsOpenByStart,I.open.charAt(0),I),_(this.autoClosingPairsOpenByEnd,I.open.charAt(I.open.length-1),I),_(this.autoClosingPairsCloseByStart,I.close.charAt(0),I),_(this.autoClosingPairsCloseByEnd,I.close.charAt(I.close.length-1),I),I.close.length===1&&I.open.length===1&&_(this.autoClosingPairsCloseSingleChar,I.close,I)}}function _(p,V,I){p.has(V)?p.get(V).push(I):p.set(V,[I])}},64603:function(Rt,Be,t){"use strict";t.d(Be,{c_:function(){return A},u0:function(){return j},n2:function(){return z}});var f=t(56709),O=t(38431),u=t(17416),_=t(52676),p=t(50282),V=t(23189);class I{constructor(pe){if(pe.autoClosingPairs?this._autoClosingPairs=pe.autoClosingPairs.map(le=>new p.V6(le)):pe.brackets?this._autoClosingPairs=pe.brackets.map(le=>new p.V6({open:le[0],close:le[1]})):this._autoClosingPairs=[],pe.__electricCharacterSupport&&pe.__electricCharacterSupport.docComment){const le=pe.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new p.V6({open:le.open,close:le.close||""}))}this._autoCloseBeforeForQuotes=typeof pe.autoCloseBefore=="string"?pe.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof pe.autoCloseBefore=="string"?pe.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=pe.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(pe){return pe?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var L=t(16308),E=t(16673);class g{constructor(pe){this._richEditBrackets=pe}getElectricCharacters(){const pe=[];if(this._richEditBrackets)for(const le of this._richEditBrackets.brackets)for(const oe of le.close){const he=oe.charAt(oe.length-1);pe.push(he)}return(0,L.EB)(pe)}onElectricCharacter(pe,le,oe){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const he=le.findTokenIndexAtOffset(oe-1);if((0,V.Bu)(le.getStandardTokenType(he)))return null;const je=this._richEditBrackets.reversedRegex,Xe=le.getLineContent().substring(0,oe-1)+pe,Ve=E.Vr.findPrevBracketInRange(je,1,Xe,0,Xe.length);if(!Ve)return null;const se=Xe.substring(Ve.startColumn-1,Ve.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[se])return null;const Ee=le.getActualLineContentBefore(Ve.startColumn-1);return/^\s*$/.test(Ee)?{matchOpenBracket:se}:null}}function a(_e){return _e.global&&(_e.lastIndex=0),!0}class l{constructor(pe){this._indentationRules=pe}shouldIncrease(pe){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&a(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(pe))}shouldDecrease(pe){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&a(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(pe))}shouldIndentNextLine(pe){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&a(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(pe))}shouldIgnore(pe){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&a(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(pe))}getIndentMetadata(pe){let le=0;return this.shouldIncrease(pe)&&(le+=1),this.shouldDecrease(pe)&&(le+=2),this.shouldIndentNextLine(pe)&&(le+=4),this.shouldIgnore(pe)&&(le+=8),le}}var d=t(20996);class i{constructor(pe){pe=pe||{},pe.brackets=pe.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],pe.brackets.forEach(le=>{const oe=i._createOpenBracketRegExp(le[0]),he=i._createCloseBracketRegExp(le[1]);oe&&he&&this._brackets.push({open:le[0],openRegExp:oe,close:le[1],closeRegExp:he})}),this._regExpRules=pe.onEnterRules||[]}onEnter(pe,le,oe,he){if(pe>=3)for(let je=0,Xe=this._regExpRules.length;je<Xe;je++){const Ve=this._regExpRules[je];if([{reg:Ve.beforeText,text:oe},{reg:Ve.afterText,text:he},{reg:Ve.previousLineText,text:le}].every(q=>q.reg?(q.reg.lastIndex=0,q.reg.test(q.text)):!0))return Ve.action}if(pe>=2&&oe.length>0&&he.length>0)for(let je=0,Xe=this._brackets.length;je<Xe;je++){const Ve=this._brackets[je];if(Ve.openRegExp.test(oe)&&Ve.closeRegExp.test(he))return{indentAction:p.wU.IndentOutdent}}if(pe>=2&&oe.length>0){for(let je=0,Xe=this._brackets.length;je<Xe;je++)if(this._brackets[je].openRegExp.test(oe))return{indentAction:p.wU.Indent}}return null}static _createOpenBracketRegExp(pe){let le=u.ec(pe);return/\B/.test(le.charAt(0))||(le="\\b"+le),le+="\\s*$",i._safeRegExp(le)}static _createCloseBracketRegExp(pe){let le=u.ec(pe);return/\B/.test(le.charAt(le.length-1))||(le=le+"\\b"),le="^\\s*"+le,i._safeRegExp(le)}static _safeRegExp(pe){try{return new RegExp(pe)}catch(le){return(0,d.dL)(le),null}}}var s=t(44333),m=t(71177),b=t(47626),c=t(53061),v=t(90638),C=t(88280);class S{constructor(pe,le){this.languageId=pe;const oe=le.brackets?N(le.brackets):[],he=new C.b(Ve=>{const se=new Set;return{info:new M(this,Ve,se),closing:se}}),je=new C.b(Ve=>{const se=new Set,q=new Set;return{info:new D(this,Ve,se,q),opening:se,openingColorized:q}});for(const[Ve,se]of oe){const q=he.get(Ve),Ee=je.get(se);q.closing.add(Ee.info),Ee.opening.add(q.info)}const Xe=le.colorizedBracketPairs?N(le.colorizedBracketPairs):oe.filter(Ve=>!(Ve[0]==="<"&&Ve[1]===">"));for(const[Ve,se]of Xe){const q=he.get(Ve),Ee=je.get(se);q.closing.add(Ee.info),Ee.openingColorized.add(q.info),Ee.opening.add(q.info)}this._openingBrackets=new Map([...he.cachedValues].map(([Ve,se])=>[Ve,se.info])),this._closingBrackets=new Map([...je.cachedValues].map(([Ve,se])=>[Ve,se.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(pe){return this._openingBrackets.get(pe)}getClosingBracketInfo(pe){return this._closingBrackets.get(pe)}getBracketInfo(pe){return this.getOpeningBracketInfo(pe)||this.getClosingBracketInfo(pe)}}function N(_e){return _e.filter(([pe,le])=>pe!==""&&le!=="")}class P{constructor(pe,le){this.config=pe,this.bracketText=le}get languageId(){return this.config.languageId}}class M extends P{constructor(pe,le,oe){super(pe,le),this.openedBrackets=oe,this.isOpeningBracket=!0}}class D extends P{constructor(pe,le,oe,he){super(pe,le),this.openingBrackets=oe,this.openingColorizedBrackets=he,this.isOpeningBracket=!1}closes(pe){return pe.config!==this.config?!1:this.openingBrackets.has(pe)}closesColorized(pe){return pe.config!==this.config?!1:this.openingColorizedBrackets.has(pe)}getOpeningBrackets(){return[...this.openingBrackets]}}var F=function(_e,pe,le,oe){var he=arguments.length,je=he<3?pe:oe===null?oe=Object.getOwnPropertyDescriptor(pe,le):oe,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(_e,pe,le,oe);else for(var Ve=_e.length-1;Ve>=0;Ve--)(Xe=_e[Ve])&&(je=(he<3?Xe(je):he>3?Xe(pe,le,je):Xe(pe,le))||je);return he>3&&je&&Object.defineProperty(pe,le,je),je},B=function(_e,pe){return function(le,oe){pe(le,oe,_e)}};class U{constructor(pe){this.languageId=pe}affects(pe){return this.languageId?this.languageId===pe:!0}}const A=(0,s.yh)("languageConfigurationService");let k=class extends O.JT{constructor(pe,le){super(),this.configurationService=pe,this.languageService=le,this._registry=this._register(new Re),this.onDidChangeEmitter=this._register(new f.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const oe=new Set(Object.values($));this._register(this.configurationService.onDidChangeConfiguration(he=>{const je=he.change.keys.some(Ve=>oe.has(Ve)),Xe=he.change.overrides.filter(([Ve,se])=>se.some(q=>oe.has(q))).map(([Ve])=>Ve);if(je)this.configurations.clear(),this.onDidChangeEmitter.fire(new U(void 0));else for(const Ve of Xe)this.languageService.isRegisteredLanguageId(Ve)&&(this.configurations.delete(Ve),this.onDidChangeEmitter.fire(new U(Ve)))})),this._register(this._registry.onDidChange(he=>{this.configurations.delete(he.languageId),this.onDidChangeEmitter.fire(new U(he.languageId))}))}register(pe,le,oe){return this._registry.register(pe,le,oe)}getLanguageConfiguration(pe){let le=this.configurations.get(pe);return le||(le=R(pe,this._registry,this.configurationService,this.languageService),this.configurations.set(pe,le)),le}};k=F([B(0,m.Ui),B(1,b.O)],k);function R(_e,pe,le,oe){let he=pe.getLanguageConfiguration(_e);if(!he){if(!oe.isRegisteredLanguageId(_e))return new Ce(_e,{});he=new Ce(_e,{})}const je=J(he.languageId,le),Xe=Z([he.underlyingConfig,je]);return new Ce(he.languageId,Xe)}const $={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function J(_e,pe){const le=pe.getValue($.brackets,{overrideIdentifier:_e}),oe=pe.getValue($.colorizedBracketPairs,{overrideIdentifier:_e});return{brackets:Y(le),colorizedBracketPairs:Y(oe)}}function Y(_e){if(Array.isArray(_e))return _e.map(pe=>{if(!(!Array.isArray(pe)||pe.length!==2))return[pe[0],pe[1]]}).filter(pe=>!!pe)}function j(_e,pe,le){const oe=_e.getLineContent(pe);let he=u.V8(oe);return he.length>le-1&&(he=he.substring(0,le-1)),he}function z(_e,pe,le){_e.tokenization.forceTokenization(pe);const oe=_e.tokenization.getLineTokens(pe),he=typeof le=="undefined"?_e.getLineMaxColumn(pe)-1:le-1;return(0,V.wH)(oe,he)}class K{constructor(pe){this.languageId=pe,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(pe,le){const oe=new fe(pe,le,++this._order);return this._entries.push(oe),this._resolved=null,(0,O.OF)(()=>{for(let he=0;he<this._entries.length;he++)if(this._entries[he]===oe){this._entries.splice(he,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const pe=this._resolve();pe&&(this._resolved=new Ce(this.languageId,pe))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(fe.cmp),Z(this._entries.map(pe=>pe.configuration)))}}function Z(_e){let pe={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const le of _e)pe={comments:le.comments||pe.comments,brackets:le.brackets||pe.brackets,wordPattern:le.wordPattern||pe.wordPattern,indentationRules:le.indentationRules||pe.indentationRules,onEnterRules:le.onEnterRules||pe.onEnterRules,autoClosingPairs:le.autoClosingPairs||pe.autoClosingPairs,surroundingPairs:le.surroundingPairs||pe.surroundingPairs,autoCloseBefore:le.autoCloseBefore||pe.autoCloseBefore,folding:le.folding||pe.folding,colorizedBracketPairs:le.colorizedBracketPairs||pe.colorizedBracketPairs,__electricCharacterSupport:le.__electricCharacterSupport||pe.__electricCharacterSupport};return pe}class fe{constructor(pe,le,oe){this.configuration=pe,this.priority=le,this.order=oe}static cmp(pe,le){return pe.priority===le.priority?pe.order-le.order:pe.priority-le.priority}}class T{constructor(pe){this.languageId=pe}}class Re extends O.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(v.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(pe,le,oe=0){let he=this._entries.get(pe);he||(he=new K(pe),this._entries.set(pe,he));const je=he.register(le,oe);return this._onDidChange.fire(new T(pe)),(0,O.OF)(()=>{je.dispose(),this._onDidChange.fire(new T(pe))})}getLanguageConfiguration(pe){const le=this._entries.get(pe);return(le==null?void 0:le.getResolvedConfiguration())||null}}class Ce{constructor(pe,le){this.languageId=pe,this.underlyingConfig=le,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i(this.underlyingConfig):null,this.comments=Ce._handleComments(this.underlyingConfig),this.characterPair=new I(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||_.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new l(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new S(pe,this.underlyingConfig)}getWordDefinition(){return(0,_.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new E.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new g(this.brackets)),this._electricCharacter}onEnter(pe,le,oe,he){return this._onEnterSupport?this._onEnterSupport.onEnter(pe,le,oe,he):null}getAutoClosingPairs(){return new p.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(pe){return this.characterPair.getAutoCloseBeforeSet(pe)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(pe){const le=pe.comments;if(!le)return null;const oe={};if(le.lineComment&&(oe.lineCommentToken=le.lineComment),le.blockComment){const[he,je]=le.blockComment;oe.blockCommentStartToken=he,oe.blockCommentEndToken=je}return oe}}(0,c.z)(A,k,1)},90638:function(Rt,Be,t){"use strict";t.d(Be,{bd:function(){return E},dQ:function(){return L}});var f=t(26386),O=t(56709),u=t(6325),_=t(9161),p=t(12326);const V={ModesRegistry:"editor.modesRegistry"};class I{constructor(){this._onDidChangeLanguages=new O.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(l){return this._languages.push(l),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let d=0,i=this._languages.length;d<i;d++)if(this._languages[d]===l){this._languages.splice(d,1);return}}}}getLanguages(){return this._languages}}const L=new I;u.B.add(V.ModesRegistry,L);const E="plaintext",g=".txt";L.registerLanguage({id:E,extensions:[g],aliases:[f.NC("plainText.alias","Plain Text"),"text"],mimetypes:[_.v.text]}),u.B.as(p.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},93375:function(Rt,Be,t){"use strict";t.d(Be,{Dy:function(){return _},Ri:function(){return u},TJ:function(){return O}});var f=t(36082);const O=new class{clone(){return this}equals(p){return this===p}};function u(p,V){return new f.hG([new f.WU(0,"",p)],V)}function _(p,V){const I=new Uint32Array(2);return I[0]=0,I[1]=(p<<0|0|0|32768|2<<24)>>>0,new f.DI(I,V===null?O:V)}},23189:function(Rt,Be,t){"use strict";t.d(Be,{Bu:function(){return u},wH:function(){return f}});function f(_,p){const V=_.getCount(),I=_.findTokenIndexAtOffset(p),L=_.getLanguageId(I);let E=I;for(;E+1<V&&_.getLanguageId(E+1)===L;)E++;let g=I;for(;g>0&&_.getLanguageId(g-1)===L;)g--;return new O(_,L,g,E+1,_.getStartOffset(g),_.getEndOffset(E))}class O{constructor(p,V,I,L,E,g){this._scopedLineTokensBrand=void 0,this._actual=p,this.languageId=V,this._firstTokenIndex=I,this._lastTokenIndex=L,this.firstCharOffset=E,this._lastCharOffset=g}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(p){return this._actual.getLineContent().substring(0,this.firstCharOffset+p)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(p){return this._actual.findTokenIndexAtOffset(p+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(p){return this._actual.getStandardTokenType(p+this._firstTokenIndex)}}function u(_){return(_&3)!==0}},16673:function(Rt,Be,t){"use strict";t.d(Be,{EA:function(){return V},Vr:function(){return b}});var f=t(17416),O=t(12342),u=t(50038);class _{constructor(v,C,S,N,P,M){this._richEditBracketBrand=void 0,this.languageId=v,this.index=C,this.open=S,this.close=N,this.forwardRegex=P,this.reversedRegex=M,this._openSet=_._toSet(this.open),this._closeSet=_._toSet(this.close)}isOpen(v){return this._openSet.has(v)}isClose(v){return this._closeSet.has(v)}static _toSet(v){const C=new Set;for(const S of v)C.add(S);return C}}function p(c){const v=c.length;c=c.map(M=>[M[0].toLowerCase(),M[1].toLowerCase()]);const C=[];for(let M=0;M<v;M++)C[M]=M;const S=(M,D)=>{const[F,B]=M,[U,A]=D;return F===U||F===A||B===U||B===A},N=(M,D)=>{const F=Math.min(M,D),B=Math.max(M,D);for(let U=0;U<v;U++)C[U]===B&&(C[U]=F)};for(let M=0;M<v;M++){const D=c[M];for(let F=M+1;F<v;F++){const B=c[F];S(D,B)&&N(C[M],C[F])}}const P=[];for(let M=0;M<v;M++){const D=[],F=[];for(let B=0;B<v;B++)if(C[B]===M){const[U,A]=c[B];D.push(U),F.push(A)}D.length>0&&P.push({open:D,close:F})}return P}class V{constructor(v,C){this._richEditBracketsBrand=void 0;const S=p(C);this.brackets=S.map((N,P)=>new _(v,P,N.open,N.close,g(N.open,N.close,S,P),a(N.open,N.close,S,P))),this.forwardRegex=l(this.brackets),this.reversedRegex=d(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const N of this.brackets){for(const P of N.open)this.textIsBracket[P]=N,this.textIsOpenBracket[P]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,P.length);for(const P of N.close)this.textIsBracket[P]=N,this.textIsOpenBracket[P]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,P.length)}}}function I(c,v,C,S){for(let N=0,P=v.length;N<P;N++){if(N===C)continue;const M=v[N];for(const D of M.open)D.indexOf(c)>=0&&S.push(D);for(const D of M.close)D.indexOf(c)>=0&&S.push(D)}}function L(c,v){return c.length-v.length}function E(c){if(c.length<=1)return c;const v=[],C=new Set;for(const S of c)C.has(S)||(v.push(S),C.add(S));return v}function g(c,v,C,S){let N=[];N=N.concat(c),N=N.concat(v);for(let P=0,M=N.length;P<M;P++)I(N[P],C,S,N);return N=E(N),N.sort(L),N.reverse(),s(N)}function a(c,v,C,S){let N=[];N=N.concat(c),N=N.concat(v);for(let P=0,M=N.length;P<M;P++)I(N[P],C,S,N);return N=E(N),N.sort(L),N.reverse(),s(N.map(m))}function l(c){let v=[];for(const C of c){for(const S of C.open)v.push(S);for(const S of C.close)v.push(S)}return v=E(v),s(v)}function d(c){let v=[];for(const C of c){for(const S of C.open)v.push(S);for(const S of C.close)v.push(S)}return v=E(v),s(v.map(m))}function i(c){const v=/^[\w ]+$/.test(c);return c=f.ec(c),v?`\\b${c}\\b`:c}function s(c){const v=`(${c.map(i).join(")|(")})`;return f.GF(v,!0)}const m=function(){function c(S){const N=new Uint16Array(S.length);let P=0;for(let M=S.length-1;M>=0;M--)N[P++]=S.charCodeAt(M);return O.oe().decode(N)}let v=null,C=null;return function(N){return v!==N&&(v=N,C=c(v)),C}}();class b{static _findPrevBracketInText(v,C,S,N){const P=S.match(v);if(!P)return null;const M=S.length-(P.index||0),D=P[0].length,F=N+M;return new u.e(C,F-D+1,C,F+1)}static findPrevBracketInRange(v,C,S,N,P){const D=m(S).substring(S.length-P,S.length-N);return this._findPrevBracketInText(v,C,D,N)}static findNextBracketInText(v,C,S,N){const P=S.match(v);if(!P)return null;const M=P.index||0,D=P[0].length;if(D===0)return null;const F=N+M;return new u.e(C,F+1,C,F+1+D)}static findNextBracketInRange(v,C,S,N,P){const M=S.substring(N,P);return this.findNextBracketInText(v,C,M,N)}}},7358:function(Rt,Be,t){"use strict";t.d(Be,{C2:function(){return I},Fq:function(){return L}});var f=t(17416),O=t(10403),u=t(36082),_=t(93375),p=function(g,a,l,d){function i(s){return s instanceof l?s:new l(function(m){m(s)})}return new(l||(l=Promise))(function(s,m){function b(C){try{v(d.next(C))}catch(S){m(S)}}function c(C){try{v(d.throw(C))}catch(S){m(S)}}function v(C){C.done?s(C.value):i(C.value).then(b,c)}v((d=d.apply(g,a||[])).next())})};const V={getInitialState:()=>_.TJ,tokenizeEncoded:(g,a,l)=>(0,_.Dy)(0,l)};function I(g,a,l){return p(this,void 0,void 0,function*(){if(!l)return E(a,g.languageIdCodec,V);const d=yield u.RW.getOrCreate(l);return E(a,g.languageIdCodec,d||V)})}function L(g,a,l,d,i,s,m){let b="<div>",c=d,v=0,C=!0;for(let S=0,N=a.getCount();S<N;S++){const P=a.getEndOffset(S);if(P<=d)continue;let M="";for(;c<P&&c<i;c++){const D=g.charCodeAt(c);switch(D){case 9:{let F=s-(c+v)%s;for(v+=F-1;F>0;)m&&C?(M+="&#160;",C=!1):(M+=" ",C=!0),F--;break}case 60:M+="&lt;",C=!1;break;case 62:M+="&gt;",C=!1;break;case 38:M+="&amp;",C=!1;break;case 0:M+="&#00;",C=!1;break;case 65279:case 8232:case 8233:case 133:M+="\uFFFD",C=!1;break;case 13:M+="&#8203",C=!1;break;case 32:m&&C?(M+="&#160;",C=!1):(M+=" ",C=!0);break;default:M+=String.fromCharCode(D),C=!1}}if(b+=`<span style="${a.getInlineStyle(S,l)}">${M}</span>`,P>i||c>=i)break}return b+="</div>",b}function E(g,a,l){let d='<div class="monaco-tokenized-source">';const i=f.uq(g);let s=l.getInitialState();for(let m=0,b=i.length;m<b;m++){const c=i[m];m>0&&(d+="<br/>");const v=l.tokenizeEncoded(c,!0,s);O.A.convertToEndOffset(v.tokens,c.length);const S=new O.A(v.tokens,c,a).inflate();let N=0;for(let P=0,M=S.getCount();P<M;P++){const D=S.getClassName(P),F=S.getEndOffset(P);d+=`<span class="${D}">${f.YU(c.substring(N,F))}</span>`,N=F}s=v.endState}return d+="</div>",d}},41913:function(Rt,Be,t){"use strict";t.d(Be,{F5:function(){return _},Hf:function(){return L},Qi:function(){return E},RM:function(){return p},Tx:function(){return g},U:function(){return u},dJ:function(){return V},je:function(){return a},pt:function(){return l},sh:function(){return O},tk:function(){return I}});var f=t(23127),O;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(O||(O={}));var u;(function(d){d[d.Left=1]="Left",d[d.Right=2]="Right"})(u||(u={}));var _;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(_||(_={}));var p;(function(d){d[d.Both=0]="Both",d[d.Right=1]="Right",d[d.Left=2]="Left",d[d.None=3]="None"})(p||(p={}));class V{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(i){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,i.tabSize|0),i.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,i.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!i.insertSpaces,this.defaultEOL=i.defaultEOL|0,this.trimAutoWhitespace=!!i.trimAutoWhitespace,this.bracketPairColorizationOptions=i.bracketPairColorizationOptions}equals(i){return this.tabSize===i.tabSize&&this._indentSizeIsTabSize===i._indentSizeIsTabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace&&(0,f.fS)(this.bracketPairColorizationOptions,i.bracketPairColorizationOptions)}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}class I{constructor(i,s){this._findMatchBrand=void 0,this.range=i,this.matches=s}}function L(d){return d&&typeof d.read=="function"}class E{constructor(i,s,m,b,c,v){this.identifier=i,this.range=s,this.text=m,this.forceMoveMarkers=b,this.isAutoWhitespaceEdit=c,this._isTracked=v}}class g{constructor(i,s,m){this.regex=i,this.wordSeparators=s,this.simpleSearch=m}}class a{constructor(i,s,m){this.reverseEdits=i,this.changes=s,this.trimAutoWhitespaceLineNumbers=m}}function l(d){return!d.isTooLargeForSyncing()&&!d.isForSimpleWidget}},86432:function(Rt,Be,t){"use strict";t.d(Be,{BH:function(){return i},Dm:function(){return m},Kd:function(){return V},Y0:function(){return I},n2:function(){return s}});var f=t(20996),O=t(61669),u=t(24944),_=t(39623);class p{get length(){return this._length}constructor(c){this._length=c}}class V extends p{static create(c,v,C){let S=c.length;return v&&(S=(0,u.Ii)(S,v.length)),C&&(S=(0,u.Ii)(S,C.length)),new V(S,c,v,C,v?v.missingOpeningBracketIds:_.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(c){switch(c){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const c=[];return c.push(this.openingBracket),this.child&&c.push(this.child),this.closingBracket&&c.push(this.closingBracket),c}constructor(c,v,C,S,N){super(c),this.openingBracket=v,this.child=C,this.closingBracket=S,this.missingOpeningBracketIds=N}canBeReused(c){return!(this.closingBracket===null||c.intersects(this.missingOpeningBracketIds))}deepClone(){return new V(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(c,v){return this.child?this.child.computeMinIndentation((0,u.Ii)(c,this.openingBracket.length),v):Number.MAX_SAFE_INTEGER}}class I extends p{static create23(c,v,C,S=!1){let N=c.length,P=c.missingOpeningBracketIds;if(c.listHeight!==v.listHeight)throw new Error("Invalid list heights");if(N=(0,u.Ii)(N,v.length),P=P.merge(v.missingOpeningBracketIds),C){if(c.listHeight!==C.listHeight)throw new Error("Invalid list heights");N=(0,u.Ii)(N,C.length),P=P.merge(C.missingOpeningBracketIds)}return S?new E(N,c.listHeight+1,c,v,C,P):new L(N,c.listHeight+1,c,v,C,P)}static getEmpty(){return new a(u.xl,0,[],_.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(c,v,C){super(c),this.listHeight=v,this._missingOpeningBracketIds=C,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const c=this.childrenLength;if(c===0)return;const v=this.getChild(c-1),C=v.kind===4?v.toMutable():v;return v!==C&&this.setChild(c-1,C),C}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const v=this.getChild(0),C=v.kind===4?v.toMutable():v;return v!==C&&this.setChild(0,C),C}canBeReused(c){if(c.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let v=this;for(;v.kind===4;){const C=v.childrenLength;if(C===0)throw new f.he;v=v.getChild(C-1)}return v.canBeReused(c)}handleChildrenChanged(){this.throwIfImmutable();const c=this.childrenLength;let v=this.getChild(0).length,C=this.getChild(0).missingOpeningBracketIds;for(let S=1;S<c;S++){const N=this.getChild(S);v=(0,u.Ii)(v,N.length),C=C.merge(N.missingOpeningBracketIds)}this._length=v,this._missingOpeningBracketIds=C,this.cachedMinIndentation=-1}computeMinIndentation(c,v){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let C=Number.MAX_SAFE_INTEGER,S=c;for(let N=0;N<this.childrenLength;N++){const P=this.getChild(N);P&&(C=Math.min(C,P.computeMinIndentation(S,v)),S=(0,u.Ii)(S,P.length))}return this.cachedMinIndentation=C,C}}class L extends I{get childrenLength(){return this._item3!==null?3:2}getChild(c){switch(c){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(c,v){switch(c){case 0:this._item1=v;return;case 1:this._item2=v;return;case 2:this._item3=v;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(c,v,C,S,N,P){super(c,v,P),this._item1=C,this._item2=S,this._item3=N}deepClone(){return new L(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=c,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item3;return this._item3=null,this.handleChildrenChanged(),c}prependChildOfSameHeight(c){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=c,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const c=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),c}toMutable(){return this}}class E extends L{toMutable(){return new L(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class g extends I{get childrenLength(){return this._children.length}getChild(c){return this._children[c]}setChild(c,v){this._children[c]=v}get children(){return this._children}constructor(c,v,C,S){super(c,v,S),this._children=C}deepClone(){const c=new Array(this._children.length);for(let v=0;v<this._children.length;v++)c[v]=this._children[v].deepClone();return new g(this.length,this.listHeight,c,this.missingOpeningBracketIds)}appendChildOfSameHeight(c){this.throwIfImmutable(),this._children.push(c),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const c=this._children.pop();return this.handleChildrenChanged(),c}prependChildOfSameHeight(c){this.throwIfImmutable(),this._children.unshift(c),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const c=this._children.shift();return this.handleChildrenChanged(),c}toMutable(){return this}}class a extends g{toMutable(){return new g(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const l=[];class d extends p{get listHeight(){return 0}get childrenLength(){return 0}getChild(c){return null}get children(){return l}deepClone(){return this}}class i extends d{get kind(){return 0}get missingOpeningBracketIds(){return _.tS.getEmpty()}canBeReused(c){return!0}computeMinIndentation(c,v){const C=(0,u.Hw)(c),S=(C.columnCount===0?C.lineCount:C.lineCount+1)+1,N=(0,u.W9)((0,u.Ii)(c,this.length))+1;let P=Number.MAX_SAFE_INTEGER;for(let M=S;M<=N;M++){const D=v.getLineFirstNonWhitespaceColumn(M),F=v.getLineContent(M);if(D===0)continue;const B=O.i.visibleColumnFromColumn(F,D,v.getOptions().tabSize);P=Math.min(P,B)}return P}}class s extends d{static create(c,v,C){return new s(c,v,C)}get kind(){return 1}get missingOpeningBracketIds(){return _.tS.getEmpty()}constructor(c,v,C){super(c),this.bracketInfo=v,this.bracketIds=C}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(c){return!1}computeMinIndentation(c,v){return Number.MAX_SAFE_INTEGER}}class m extends d{get kind(){return 3}constructor(c,v){super(v),this.missingOpeningBracketIds=c}canBeReused(c){return!c.intersects(this.missingOpeningBracketIds)}computeMinIndentation(c,v){return Number.MAX_SAFE_INTEGER}}},39410:function(Rt,Be,t){"use strict";t.d(Be,{Q:function(){return u},Y:function(){return _}});var f=t(50038),O=t(24944);class u{static fromModelContentChanges(I){return I.map(E=>{const g=f.e.lift(E.range);return new u((0,O.PZ)(g.getStartPosition()),(0,O.PZ)(g.getEndPosition()),(0,O.oR)(E.text))}).reverse()}constructor(I,L,E){this.startOffset=I,this.endOffset=L,this.newLength=E}toString(){return`[${(0,O.Hw)(this.startOffset)}...${(0,O.Hw)(this.endOffset)}) -> ${(0,O.Hw)(this.newLength)}`}}class _{constructor(I){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=I.map(L=>p.from(L))}getOffsetBeforeChange(I){return this.adjustNextEdit(I),this.translateCurToOld(I)}getDistanceToNextChange(I){this.adjustNextEdit(I);const L=this.edits[this.nextEditIdx],E=L?this.translateOldToCur(L.offsetObj):null;return E===null?null:(0,O.BE)(I,E)}translateOldToCur(I){return I.lineCount===this.deltaLineIdxInOld?(0,O.Hg)(I.lineCount+this.deltaOldToNewLineCount,I.columnCount+this.deltaOldToNewColumnCount):(0,O.Hg)(I.lineCount+this.deltaOldToNewLineCount,I.columnCount)}translateCurToOld(I){const L=(0,O.Hw)(I);return L.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,O.Hg)(L.lineCount-this.deltaOldToNewLineCount,L.columnCount-this.deltaOldToNewColumnCount):(0,O.Hg)(L.lineCount-this.deltaOldToNewLineCount,L.columnCount)}adjustNextEdit(I){for(;this.nextEditIdx<this.edits.length;){const L=this.edits[this.nextEditIdx],E=this.translateOldToCur(L.endOffsetAfterObj);if((0,O.By)(E,I)){this.nextEditIdx++;const g=(0,O.Hw)(E),a=(0,O.Hw)(this.translateOldToCur(L.endOffsetBeforeObj)),l=g.lineCount-a.lineCount;this.deltaOldToNewLineCount+=l;const d=this.deltaLineIdxInOld===L.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,i=g.columnCount-a.columnCount;this.deltaOldToNewColumnCount=d+i,this.deltaLineIdxInOld=L.endOffsetBeforeObj.lineCount}else break}}}class p{static from(I){return new p(I.startOffset,I.endOffset,I.newLength)}constructor(I,L,E){this.endOffsetBeforeObj=(0,O.Hw)(L),this.endOffsetAfterObj=(0,O.Hw)((0,O.Ii)(I,E)),this.offsetObj=(0,O.Hw)(I)}}},47978:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return L}});var f=t(17416),O=t(86432),u=t(24944),_=t(39623),p=t(7264);class V{static createFromLanguage(g,a){function l(i){return a.getKey(`${i.languageId}:::${i.bracketText}`)}const d=new Map;for(const i of g.bracketsNew.openingBrackets){const s=(0,u.Hg)(0,i.bracketText.length),m=l(i),b=_.tS.getEmpty().add(m,_.Qw);d.set(i.bracketText,new p.WU(s,1,m,b,O.n2.create(s,i,b)))}for(const i of g.bracketsNew.closingBrackets){const s=(0,u.Hg)(0,i.bracketText.length);let m=_.tS.getEmpty();const b=i.getOpeningBrackets();for(const c of b)m=m.add(l(c),_.Qw);d.set(i.bracketText,new p.WU(s,2,l(b[0]),m,O.n2.create(s,i,m)))}return new V(d)}constructor(g){this.map=g,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const g=[...this.map.keys()];return g.sort(),g.reverse(),g.map(a=>I(a)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const g=this.getRegExpStr();this._regExpGlobal=g?new RegExp(g,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(g){return this.map.get(g.toLowerCase())}findClosingTokenText(g){for(const[a,l]of this.map)if(l.kind===2&&l.bracketIds.intersects(g))return a}get isEmpty(){return this.map.size===0}}function I(E){let g=(0,f.ec)(E);return/^[\w ]+/.test(E)&&(g=`\\b${g}`),/[\w ]+$/.test(E)&&(g=`${g}\\b`),g}class L{constructor(g,a){this.denseKeyProvider=g,this.getLanguageConfiguration=a,this.languageIdToBracketTokens=new Map}didLanguageChange(g){return this.languageIdToBracketTokens.has(g)}getSingleLanguageBracketTokens(g){let a=this.languageIdToBracketTokens.get(g);return a||(a=V.createFromLanguage(this.getLanguageConfiguration(g),this.denseKeyProvider),this.languageIdToBracketTokens.set(g,a)),a}}},24944:function(Rt,Be,t){"use strict";t.d(Be,{BE:function(){return s},By:function(){return b},F_:function(){return a},Hg:function(){return L},Hw:function(){return E},Ii:function(){return l},PZ:function(){return v},Qw:function(){return C},VR:function(){return m},W9:function(){return g},Zq:function(){return c},av:function(){return _},oR:function(){return S},rM:function(){return i},tQ:function(){return d},xd:function(){return V},xl:function(){return p}});var f=t(17416),O=t(50038);class u{constructor(P,M){this.lineCount=P,this.columnCount=M}toString(){return`${this.lineCount},${this.columnCount}`}}u.zero=new u(0,0);function _(N,P,M,D){return N!==M?L(M-N,D):L(0,D-P)}const p=0;function V(N){return N===0}const I=Math.pow(2,26);function L(N,P){return N*I+P}function E(N){const P=N,M=Math.floor(P/I),D=P-M*I;return new u(M,D)}function g(N){return Math.floor(N/I)}function a(N){return N}function l(N,P){let M=N+P;return P>=I&&(M=M-N%I),M}function d(N,P){return N.reduce((M,D)=>l(M,P(D)),p)}function i(N,P){return N===P}function s(N,P){const M=N,D=P;if(D-M<=0)return p;const B=Math.floor(M/I),U=Math.floor(D/I),A=D-U*I;if(B===U){const k=M-B*I;return L(0,A-k)}else return L(U-B,A)}function m(N,P){return N<P}function b(N,P){return N<=P}function c(N,P){return N>=P}function v(N){return L(N.lineNumber-1,N.column-1)}function C(N,P){const M=N,D=Math.floor(M/I),F=M-D*I,B=P,U=Math.floor(B/I),A=B-U*I;return new O.e(D+1,F+1,U+1,A+1)}function S(N){const P=(0,f.uq)(N);return L(P.length-1,P[P.length-1].length)}},77597:function(Rt,Be,t){"use strict";t.d(Be,{w:function(){return i}});var f=t(86432),O=t(39410),u=t(39623),_=t(24944);function p(m){if(m.length===0)return null;if(m.length===1)return m[0];let b=0;function c(){if(b>=m.length)return null;const N=b,P=m[N].listHeight;for(b++;b<m.length&&m[b].listHeight===P;)b++;return b-N>=2?V(N===0&&b===m.length?m:m.slice(N,b),!1):m[N]}let v=c(),C=c();if(!C)return v;for(let N=c();N;N=c())I(v,C)<=I(C,N)?(v=L(v,C),C=N):C=L(C,N);return L(v,C)}function V(m,b=!1){if(m.length===0)return null;if(m.length===1)return m[0];let c=m.length;for(;c>3;){const v=c>>1;for(let C=0;C<v;C++){const S=C<<1;m[C]=f.Y0.create23(m[S],m[S+1],S+3===c?m[S+2]:null,b)}c=v}return f.Y0.create23(m[0],m[1],c>=3?m[2]:null,b)}function I(m,b){return Math.abs(m.listHeight-b.listHeight)}function L(m,b){return m.listHeight===b.listHeight?f.Y0.create23(m,b,null,!1):m.listHeight>b.listHeight?E(m,b):g(b,m)}function E(m,b){m=m.toMutable();let c=m;const v=[];let C;for(;;){if(b.listHeight===c.listHeight){C=b;break}if(c.kind!==4)throw new Error("unexpected");v.push(c),c=c.makeLastElementMutable()}for(let S=v.length-1;S>=0;S--){const N=v[S];C?N.childrenLength>=3?C=f.Y0.create23(N.unappendChild(),C,null,!1):(N.appendChildOfSameHeight(C),C=void 0):N.handleChildrenChanged()}return C?f.Y0.create23(m,C,null,!1):m}function g(m,b){m=m.toMutable();let c=m;const v=[];for(;b.listHeight!==c.listHeight;){if(c.kind!==4)throw new Error("unexpected");v.push(c),c=c.makeFirstElementMutable()}let C=b;for(let S=v.length-1;S>=0;S--){const N=v[S];C?N.childrenLength>=3?C=f.Y0.create23(C,N.unprependChild(),null,!1):(N.prependChildOfSameHeight(C),C=void 0):N.handleChildrenChanged()}return C?f.Y0.create23(C,m,null,!1):m}class a{constructor(b){this.lastOffset=_.xl,this.nextNodes=[b],this.offsets=[_.xl],this.idxs=[]}readLongestNodeAt(b,c){if((0,_.VR)(b,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=b;;){const v=d(this.nextNodes);if(!v)return;const C=d(this.offsets);if((0,_.VR)(b,C))return;if((0,_.VR)(C,b))if((0,_.Ii)(C,v.length)<=b)this.nextNodeAfterCurrent();else{const S=l(v);S!==-1?(this.nextNodes.push(v.getChild(S)),this.offsets.push(C),this.idxs.push(S)):this.nextNodeAfterCurrent()}else{if(c(v))return this.nextNodeAfterCurrent(),v;{const S=l(v);if(S===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(v.getChild(S)),this.offsets.push(C),this.idxs.push(S)}}}}nextNodeAfterCurrent(){for(;;){const b=d(this.offsets),c=d(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const v=d(this.nextNodes),C=l(v,this.idxs[this.idxs.length-1]);if(C!==-1){this.nextNodes.push(v.getChild(C)),this.offsets.push((0,_.Ii)(b,c.length)),this.idxs[this.idxs.length-1]=C;break}else this.idxs.pop()}}}function l(m,b=-1){for(;;){if(b++,b>=m.childrenLength)return-1;if(m.getChild(b))return b}}function d(m){return m.length>0?m[m.length-1]:void 0}function i(m,b,c,v){return new s(m,b,c,v).parseDocument()}class s{constructor(b,c,v,C){if(this.tokenizer=b,this.createImmutableLists=C,this._itemsConstructed=0,this._itemsFromCache=0,v&&C)throw new Error("Not supported");this.oldNodeReader=v?new a(v):void 0,this.positionMapper=new O.Y(c)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let b=this.parseList(u.tS.getEmpty(),0);return b||(b=f.Y0.getEmpty()),b}parseList(b,c){const v=[];for(;;){let S=this.tryReadChildFromCache(b);if(!S){const N=this.tokenizer.peek();if(!N||N.kind===2&&N.bracketIds.intersects(b))break;S=this.parseChild(b,c+1)}S.kind===4&&S.childrenLength===0||v.push(S)}return this.oldNodeReader?p(v):V(v,this.createImmutableLists)}tryReadChildFromCache(b){if(this.oldNodeReader){const c=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(c===null||!(0,_.xd)(c)){const v=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),C=>c!==null&&!(0,_.VR)(C.length,c)?!1:C.canBeReused(b));if(v)return this._itemsFromCache++,this.tokenizer.skip(v.length),v}}}parseChild(b,c){this._itemsConstructed++;const v=this.tokenizer.read();switch(v.kind){case 2:return new f.Dm(v.bracketIds,v.length);case 0:return v.astNode;case 1:{if(c>300)return new f.BH(v.length);const C=b.merge(v.bracketIds),S=this.parseList(C,c+1),N=this.tokenizer.peek();return N&&N.kind===2&&(N.bracketId===v.bracketId||N.bracketIds.intersects(v.bracketIds))?(this.tokenizer.read(),f.Kd.create(v.astNode,S,N.astNode)):f.Kd.create(v.astNode,S,null)}default:throw new Error("unexpected")}}}},39623:function(Rt,Be,t){"use strict";t.d(Be,{FE:function(){return _},Qw:function(){return u},tS:function(){return O}});const f=[];class O{static create(V,I){if(V<=128&&I.length===0){let L=O.cache[V];return L||(L=new O(V,I),O.cache[V]=L),L}return new O(V,I)}static getEmpty(){return this.empty}constructor(V,I){this.items=V,this.additionalItems=I}add(V,I){const L=I.getKey(V);let E=L>>5;if(E===0){const a=1<<L|this.items;return a===this.items?this:O.create(a,this.additionalItems)}E--;const g=this.additionalItems.slice(0);for(;g.length<E;)g.push(0);return g[E]|=1<<(L&31),O.create(this.items,g)}merge(V){const I=this.items|V.items;if(this.additionalItems===f&&V.additionalItems===f)return I===this.items?this:I===V.items?V:O.create(I,f);const L=[];for(let E=0;E<Math.max(this.additionalItems.length,V.additionalItems.length);E++){const g=this.additionalItems[E]||0,a=V.additionalItems[E]||0;L.push(g|a)}return O.create(I,L)}intersects(V){if(this.items&V.items)return!0;for(let I=0;I<Math.min(this.additionalItems.length,V.additionalItems.length);I++)if(this.additionalItems[I]&V.additionalItems[I])return!0;return!1}}O.cache=new Array(129),O.empty=O.create(0,f);const u={getKey(p){return p}};class _{constructor(){this.items=new Map}getKey(V){let I=this.items.get(V);return I===void 0&&(I=this.items.size,this.items.set(V,I)),I}}},7264:function(Rt,Be,t){"use strict";t.d(Be,{WU:function(){return V},g:function(){return E},xH:function(){return I}});var f=t(20996),O=t(24506),u=t(86432),_=t(24944),p=t(39623);class V{constructor(a,l,d,i,s){this.length=a,this.kind=l,this.bracketId=d,this.bracketIds=i,this.astNode=s}}class I{constructor(a,l){this.textModel=a,this.bracketTokens=l,this.reader=new L(this.textModel,this.bracketTokens),this._offset=_.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=a.getLineCount(),this.textBufferLastLineLength=a.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,_.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(a){this.didPeek=!1,this._offset=(0,_.Ii)(this._offset,a);const l=(0,_.Hw)(this._offset);this.reader.setPosition(l.lineCount,l.columnCount)}read(){let a;return this.peeked?(this.didPeek=!1,a=this.peeked):a=this.reader.read(),a&&(this._offset=(0,_.Ii)(this._offset,a.length)),a}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class L{constructor(a,l){this.textModel=a,this.bracketTokens=l,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=a.getLineCount(),this.textBufferLastLineLength=a.getLineLength(this.textBufferLineCount)}setPosition(a,l){a===this.lineIdx?(this.lineCharOffset=l,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=a,this.lineCharOffset=l,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const s=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,_.F_)(s.length),s}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const a=this.lineIdx,l=this.lineCharOffset;let d=0;for(;;){const s=this.lineTokens,m=s.getCount();let b=null;if(this.lineTokenOffset<m){const c=s.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<m&&c===s.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const v=O.N.getTokenType(c)===0,C=O.N.containsBalancedBrackets(c),S=s.getEndOffset(this.lineTokenOffset);if(C&&v&&this.lineCharOffset<S){const N=s.getLanguageId(this.lineTokenOffset),P=this.line.substring(this.lineCharOffset,S),M=this.bracketTokens.getSingleLanguageBracketTokens(N),D=M.regExpGlobal;if(D){D.lastIndex=0;const F=D.exec(P);F&&(b=M.getToken(F[0]),b&&(this.lineCharOffset+=F.index))}}if(d+=S-this.lineCharOffset,b)if(a!==this.lineIdx||l!==this.lineCharOffset){this.peekedToken=b;break}else return this.lineCharOffset+=(0,_.F_)(b.length),b;else this.lineTokenOffset++,this.lineCharOffset=S}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,d+=33,d>1e3))break;if(d>1500)break}const i=(0,_.av)(a,l,this.lineIdx,this.lineCharOffset);return new V(i,0,-1,p.tS.getEmpty(),new u.BH(i))}}class E{constructor(a,l){this.text=a,this._offset=_.xl,this.idx=0;const d=l.getRegExpStr(),i=d?new RegExp(d+`|
`,"gi"):null,s=[];let m,b=0,c=0,v=0,C=0;const S=[];for(let M=0;M<60;M++)S.push(new V((0,_.Hg)(0,M),0,-1,p.tS.getEmpty(),new u.BH((0,_.Hg)(0,M))));const N=[];for(let M=0;M<60;M++)N.push(new V((0,_.Hg)(1,M),0,-1,p.tS.getEmpty(),new u.BH((0,_.Hg)(1,M))));if(i)for(i.lastIndex=0;(m=i.exec(a))!==null;){const M=m.index,D=m[0];if(D===`
`)b++,c=M+1;else{if(v!==M){let F;if(C===b){const B=M-v;if(B<S.length)F=S[B];else{const U=(0,_.Hg)(0,B);F=new V(U,0,-1,p.tS.getEmpty(),new u.BH(U))}}else{const B=b-C,U=M-c;if(B===1&&U<N.length)F=N[U];else{const A=(0,_.Hg)(B,U);F=new V(A,0,-1,p.tS.getEmpty(),new u.BH(A))}}s.push(F)}s.push(l.getToken(D)),v=M+D.length,C=b}}const P=a.length;if(v!==P){const M=C===b?(0,_.Hg)(0,P-v):(0,_.Hg)(b-C,P-c);s.push(new V(M,0,-1,p.tS.getEmpty(),new u.BH(M)))}this.length=(0,_.Hg)(b,P-c),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(a){throw new f.B8}}},75565:function(Rt,Be,t){"use strict";t.d(Be,{NL:function(){return i},e9:function(){return d}});var f=t(26386),O=t(20996),u=t(57841),_=t(28919),p=t(79989),V=t(77511),I=t(6227);function L(s){return s.toString()}class E{static create(m,b){const c=m.getAlternativeVersionId(),v=l(m);return new E(c,c,v,v,b,b,[])}constructor(m,b,c,v,C,S,N){this.beforeVersionId=m,this.afterVersionId=b,this.beforeEOL=c,this.afterEOL=v,this.beforeCursorState=C,this.afterCursorState=S,this.changes=N}append(m,b,c,v,C){b.length>0&&(this.changes=(0,p.b)(this.changes,b)),this.afterEOL=c,this.afterVersionId=v,this.afterCursorState=C}static _writeSelectionsSize(m){return 4+4*4*(m?m.length:0)}static _writeSelections(m,b,c){if(V.T4(m,b?b.length:0,c),c+=4,b)for(const v of b)V.T4(m,v.selectionStartLineNumber,c),c+=4,V.T4(m,v.selectionStartColumn,c),c+=4,V.T4(m,v.positionLineNumber,c),c+=4,V.T4(m,v.positionColumn,c),c+=4;return c}static _readSelections(m,b,c){const v=V.Ag(m,b);b+=4;for(let C=0;C<v;C++){const S=V.Ag(m,b);b+=4;const N=V.Ag(m,b);b+=4;const P=V.Ag(m,b);b+=4;const M=V.Ag(m,b);b+=4,c.push(new u.Y(S,N,P,M))}return b}serialize(){let m=10+E._writeSelectionsSize(this.beforeCursorState)+E._writeSelectionsSize(this.afterCursorState)+4;for(const v of this.changes)m+=v.writeSize();const b=new Uint8Array(m);let c=0;V.T4(b,this.beforeVersionId,c),c+=4,V.T4(b,this.afterVersionId,c),c+=4,V.Cg(b,this.beforeEOL,c),c+=1,V.Cg(b,this.afterEOL,c),c+=1,c=E._writeSelections(b,this.beforeCursorState,c),c=E._writeSelections(b,this.afterCursorState,c),V.T4(b,this.changes.length,c),c+=4;for(const v of this.changes)c=v.write(b,c);return b.buffer}static deserialize(m){const b=new Uint8Array(m);let c=0;const v=V.Ag(b,c);c+=4;const C=V.Ag(b,c);c+=4;const S=V.Q$(b,c);c+=1;const N=V.Q$(b,c);c+=1;const P=[];c=E._readSelections(b,c,P);const M=[];c=E._readSelections(b,c,M);const D=V.Ag(b,c);c+=4;const F=[];for(let B=0;B<D;B++)c=p.q.read(b,c,F);return new E(v,C,S,N,P,M,F)}}class g{get type(){return 0}get resource(){return _.o.isUri(this.model)?this.model:this.model.uri}constructor(m,b,c,v){this.label=m,this.code=b,this.model=c,this._data=E.create(c,v)}toString(){return(this._data instanceof E?this._data:E.deserialize(this._data)).changes.map(b=>b.toString()).join(", ")}matchesResource(m){return(_.o.isUri(this.model)?this.model:this.model.uri).toString()===m.toString()}setModel(m){this.model=m}canAppend(m){return this.model===m&&this._data instanceof E}append(m,b,c,v,C){this._data instanceof E&&this._data.append(m,b,c,v,C)}close(){this._data instanceof E&&(this._data=this._data.serialize())}open(){this._data instanceof E||(this._data=E.deserialize(this._data))}undo(){if(_.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof E&&(this._data=this._data.serialize());const m=E.deserialize(this._data);this.model._applyUndo(m.changes,m.beforeEOL,m.beforeVersionId,m.beforeCursorState)}redo(){if(_.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof E&&(this._data=this._data.serialize());const m=E.deserialize(this._data);this.model._applyRedo(m.changes,m.afterEOL,m.afterVersionId,m.afterCursorState)}heapSize(){return this._data instanceof E&&(this._data=this._data.serialize()),this._data.byteLength+168}}class a{get resources(){return this._editStackElementsArr.map(m=>m.resource)}constructor(m,b,c){this.label=m,this.code=b,this.type=1,this._isOpen=!0,this._editStackElementsArr=c.slice(0),this._editStackElementsMap=new Map;for(const v of this._editStackElementsArr){const C=L(v.resource);this._editStackElementsMap.set(C,v)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(m){const b=L(m);return this._editStackElementsMap.has(b)}setModel(m){const b=L(_.o.isUri(m)?m:m.uri);this._editStackElementsMap.has(b)&&this._editStackElementsMap.get(b).setModel(m)}canAppend(m){if(!this._isOpen)return!1;const b=L(m.uri);return this._editStackElementsMap.has(b)?this._editStackElementsMap.get(b).canAppend(m):!1}append(m,b,c,v,C){const S=L(m.uri);this._editStackElementsMap.get(S).append(m,b,c,v,C)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const m of this._editStackElementsArr)m.undo()}redo(){for(const m of this._editStackElementsArr)m.redo()}heapSize(m){const b=L(m);return this._editStackElementsMap.has(b)?this._editStackElementsMap.get(b).heapSize():0}split(){return this._editStackElementsArr}toString(){const m=[];for(const b of this._editStackElementsArr)m.push(`${(0,I.EZ)(b.resource)}: ${b}`);return`{${m.join(", ")}}`}}function l(s){return s.getEOL()===`
`?0:1}function d(s){return s?s instanceof g||s instanceof a:!1}class i{constructor(m,b){this._model=m,this._undoRedoService=b}pushStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);d(m)&&m.close()}popStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);d(m)&&m.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(m,b){const c=this._undoRedoService.getLastElement(this._model.uri);if(d(c)&&c.canAppend(this._model))return c;const v=new g(f.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,m);return this._undoRedoService.pushElement(v,b),v}pushEOL(m){const b=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(m),b.append(this._model,[],l(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(m,b,c,v){const C=this._getOrCreateEditStackElement(m,v),S=this._model.applyEdits(b,!0),N=i._computeCursorState(c,S),P=S.map((M,D)=>({index:D,textChange:M.textChange}));return P.sort((M,D)=>M.textChange.oldPosition===D.textChange.oldPosition?M.index-D.index:M.textChange.oldPosition-D.textChange.oldPosition),C.append(this._model,P.map(M=>M.textChange),l(this._model),this._model.getAlternativeVersionId(),N),N}static _computeCursorState(m,b){try{return m?m(b):null}catch(c){return(0,O.dL)(c),null}}}},32382:function(Rt,Be,t){"use strict";t.d(Be,{W:function(){return g},l:function(){return E}});var f=t(16308),O=t(17416),u=t(61669),_=t(50038),p=t(83388),V=t(6287),I=t(79777),L=t(20996);class E extends p.U{constructor(l,d){super(),this.textModel=l,this.languageConfigurationService=d}getLanguageConfiguration(l){return this.languageConfigurationService.getLanguageConfiguration(l)}_computeIndentLevel(l){return(0,V.q)(this.textModel.getLineContent(l+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(l,d,i){this.assertNotDisposed();const s=this.textModel.getLineCount();if(l<1||l>s)throw new L.he("Illegal value for lineNumber");const m=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,b=!!(m&&m.offSide);let c=-2,v=-1,C=-2,S=-1;const N=Y=>{if(c!==-1&&(c===-2||c>Y-1)){c=-1,v=-1;for(let j=Y-2;j>=0;j--){const z=this._computeIndentLevel(j);if(z>=0){c=j,v=z;break}}}if(C===-2){C=-1,S=-1;for(let j=Y;j<s;j++){const z=this._computeIndentLevel(j);if(z>=0){C=j,S=z;break}}}};let P=-2,M=-1,D=-2,F=-1;const B=Y=>{if(P===-2){P=-1,M=-1;for(let j=Y-2;j>=0;j--){const z=this._computeIndentLevel(j);if(z>=0){P=j,M=z;break}}}if(D!==-1&&(D===-2||D<Y-1)){D=-1,F=-1;for(let j=Y;j<s;j++){const z=this._computeIndentLevel(j);if(z>=0){D=j,F=z;break}}}};let U=0,A=!0,k=0,R=!0,$=0,J=0;for(let Y=0;A||R;Y++){const j=l-Y,z=l+Y;Y>1&&(j<1||j<d)&&(A=!1),Y>1&&(z>s||z>i)&&(R=!1),Y>5e4&&(A=!1,R=!1);let K=-1;if(A&&j>=1){const fe=this._computeIndentLevel(j-1);fe>=0?(C=j-1,S=fe,K=Math.ceil(fe/this.textModel.getOptions().indentSize)):(N(j),K=this._getIndentLevelForWhitespaceLine(b,v,S))}let Z=-1;if(R&&z<=s){const fe=this._computeIndentLevel(z-1);fe>=0?(P=z-1,M=fe,Z=Math.ceil(fe/this.textModel.getOptions().indentSize)):(B(z),Z=this._getIndentLevelForWhitespaceLine(b,M,F))}if(Y===0){J=K;continue}if(Y===1){if(z<=s&&Z>=0&&J+1===Z){A=!1,U=z,k=z,$=Z;continue}if(j>=1&&K>=0&&K-1===J){R=!1,U=j,k=j,$=K;continue}if(U=l,k=l,$=J,$===0)return{startLineNumber:U,endLineNumber:k,indent:$}}A&&(K>=$?U=j:A=!1),R&&(Z>=$?k=z:R=!1)}return{startLineNumber:U,endLineNumber:k,indent:$}}getLinesBracketGuides(l,d,i,s){var m;const b=[];for(let P=l;P<=d;P++)b.push([]);const c=!0,v=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new _.e(l,1,d,this.textModel.getLineMaxColumn(d))).toArray();let C;if(i&&v.length>0){const P=(l<=i.lineNumber&&i.lineNumber<=d?v:this.textModel.bracketPairs.getBracketPairsInRange(_.e.fromPositions(i)).toArray()).filter(M=>_.e.strictContainsPosition(M.range,i));C=(m=(0,f.dF)(P,M=>c||M.range.startLineNumber!==M.range.endLineNumber))===null||m===void 0?void 0:m.range}const S=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,N=new g;for(const P of v){if(!P.closingBracketRange)continue;const M=C&&P.range.equalsRange(C);if(!M&&!s.includeInactive)continue;const D=N.getInlineClassName(P.nestingLevel,P.nestingLevelOfEqualBracketType,S)+(s.highlightActive&&M?" "+N.activeClassName:""),F=P.openingBracketRange.getStartPosition(),B=P.closingBracketRange.getStartPosition(),U=s.horizontalGuides===I.s6.Enabled||s.horizontalGuides===I.s6.EnabledForActive&&M;if(P.range.startLineNumber===P.range.endLineNumber){c&&U&&b[P.range.startLineNumber-l].push(new I.UO(-1,P.openingBracketRange.getEndPosition().column,D,new I.vW(!1,B.column),-1,-1));continue}const A=this.getVisibleColumnFromPosition(B),k=this.getVisibleColumnFromPosition(P.openingBracketRange.getStartPosition()),R=Math.min(k,A,P.minVisibleColumnIndentation+1);let $=!1;O.LC(this.textModel.getLineContent(P.closingBracketRange.startLineNumber))<P.closingBracketRange.startColumn-1&&($=!0);const j=Math.max(F.lineNumber,l),z=Math.min(B.lineNumber,d),K=$?1:0;for(let Z=j;Z<z+K;Z++)b[Z-l].push(new I.UO(R,-1,D,null,Z===F.lineNumber?F.column:-1,Z===B.lineNumber?B.column:-1));U&&(F.lineNumber>=l&&k>R&&b[F.lineNumber-l].push(new I.UO(R,-1,D,new I.vW(!1,F.column),-1,-1)),B.lineNumber<=d&&A>R&&b[B.lineNumber-l].push(new I.UO(R,-1,D,new I.vW(!$,B.column),-1,-1)))}for(const P of b)P.sort((M,D)=>M.visibleColumn-D.visibleColumn);return b}getVisibleColumnFromPosition(l){return u.i.visibleColumnFromColumn(this.textModel.getLineContent(l.lineNumber),l.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(l,d){this.assertNotDisposed();const i=this.textModel.getLineCount();if(l<1||l>i)throw new Error("Illegal value for startLineNumber");if(d<1||d>i)throw new Error("Illegal value for endLineNumber");const s=this.textModel.getOptions(),m=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,b=!!(m&&m.offSide),c=new Array(d-l+1);let v=-2,C=-1,S=-2,N=-1;for(let P=l;P<=d;P++){const M=P-l,D=this._computeIndentLevel(P-1);if(D>=0){v=P-1,C=D,c[M]=Math.ceil(D/s.indentSize);continue}if(v===-2){v=-1,C=-1;for(let F=P-2;F>=0;F--){const B=this._computeIndentLevel(F);if(B>=0){v=F,C=B;break}}}if(S!==-1&&(S===-2||S<P-1)){S=-1,N=-1;for(let F=P;F<i;F++){const B=this._computeIndentLevel(F);if(B>=0){S=F,N=B;break}}}c[M]=this._getIndentLevelForWhitespaceLine(b,C,N)}return c}_getIndentLevelForWhitespaceLine(l,d,i){const s=this.textModel.getOptions();return d===-1||i===-1?0:d<i?1+Math.floor(d/s.indentSize):d===i||l?Math.ceil(i/s.indentSize):1+Math.floor(i/s.indentSize)}}class g{constructor(){this.activeClassName="indent-active"}getInlineClassName(l,d,i){return this.getInlineClassNameOfLevel(i?d:l)}getInlineClassNameOfLevel(l){return`bracket-indent-guide lvl-${l%30}`}}},82808:function(Rt,Be,t){"use strict";t.d(Be,{Ck:function(){return _},oQ:function(){return u}});var f=t(16308),O=t(79886);class u{constructor(I){this.values=I,this.prefixSum=new Uint32Array(I.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(I,L){I=(0,O.A)(I);const E=this.values,g=this.prefixSum,a=L.length;return a===0?!1:(this.values=new Uint32Array(E.length+a),this.values.set(E.subarray(0,I),0),this.values.set(E.subarray(I),I+a),this.values.set(L,I),I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(g.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(I,L){return I=(0,O.A)(I),L=(0,O.A)(L),this.values[I]===L?!1:(this.values[I]=L,I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),!0)}removeValues(I,L){I=(0,O.A)(I),L=(0,O.A)(L);const E=this.values,g=this.prefixSum;if(I>=E.length)return!1;const a=E.length-I;return L>=a&&(L=a),L===0?!1:(this.values=new Uint32Array(E.length-L),this.values.set(E.subarray(0,I),0),this.values.set(E.subarray(I+L),I),this.prefixSum=new Uint32Array(this.values.length),I-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=I-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(g.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(I){return I<0?0:(I=(0,O.A)(I),this._getPrefixSum(I))}_getPrefixSum(I){if(I<=this.prefixSumValidIndex[0])return this.prefixSum[I];let L=this.prefixSumValidIndex[0]+1;L===0&&(this.prefixSum[0]=this.values[0],L++),I>=this.values.length&&(I=this.values.length-1);for(let E=L;E<=I;E++)this.prefixSum[E]=this.prefixSum[E-1]+this.values[E];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],I),this.prefixSum[I]}getIndexOf(I){I=Math.floor(I),this.getTotalSum();let L=0,E=this.values.length-1,g=0,a=0,l=0;for(;L<=E;)if(g=L+(E-L)/2|0,a=this.prefixSum[g],l=a-this.values[g],I<l)E=g-1;else if(I>=a)L=g+1;else break;return new p(g,I-l)}}class _{constructor(I){this._values=I,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(I){return this._ensureValid(),I===0?0:this._prefixSum[I-1]}getIndexOf(I){this._ensureValid();const L=this._indexBySum[I],E=L>0?this._prefixSum[L-1]:0;return new p(L,I-E)}removeValues(I,L){this._values.splice(I,L),this._invalidate(I)}insertValues(I,L){this._values=(0,f.Zv)(this._values,I,L),this._invalidate(I)}_invalidate(I){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,I-1)}_ensureValid(){if(!this._isValid){for(let I=this._validEndIndex+1,L=this._values.length;I<L;I++){const E=this._values[I],g=I>0?this._prefixSum[I-1]:0;this._prefixSum[I]=g+E;for(let a=0;a<E;a++)this._indexBySum[g+a]=I}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(I,L){this._values[I]!==L&&(this._values[I]=L,this._invalidate(I))}}class p{constructor(I,L){this.index=I,this.remainder=L,this._prefixSumIndexOfResultBrand=void 0,this.index=I,this.remainder=L}}},45007:function(Rt,Be,t){"use strict";t.d(Be,{HS:function(){return Ws},qx:function(){return Es},yO:function(){return ns}});var f=t(16308),O=t(86741),u=t(20996),_=t(56709),p=t(38431),V=t(17416),I=t(28919),L=t(58570),E=t(5184),g=t(8964),a=t(50038),l=t(57841),d=t(56318),i=t(47626),s=t(64603),m=t(41913),b=t(23189),c=t(16673);class v{constructor(w,H,ie,De){this.range=w,this.nestingLevel=H,this.nestingLevelOfEqualBracketType=ie,this.isInvalid=De}}class C{constructor(w,H,ie,De,Fe,Qe){this.range=w,this.openingBracketRange=H,this.closingBracketRange=ie,this.nestingLevel=De,this.nestingLevelOfEqualBracketType=Fe,this.bracketPairNode=Qe}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class S extends C{constructor(w,H,ie,De,Fe,Qe,ft){super(w,H,ie,De,Fe,Qe),this.minVisibleColumnIndentation=ft}}var N=t(39410),P=t(47978),M=t(24944),D=t(77597),F=t(39623),B=t(7264);function U(Ge,w){if(Ge.length===0)return w;if(w.length===0)return Ge;const H=new f.H9(k(Ge)),ie=k(w);ie.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let De=H.dequeue();function Fe(Pt){if(Pt===void 0){const Dt=H.takeWhile(zt=>!0)||[];return De&&Dt.unshift(De),Dt}const Tt=[];for(;De&&!(0,M.xd)(Pt);){const[Dt,zt]=De.splitAt(Pt);Tt.push(Dt),Pt=(0,M.BE)(Dt.lengthAfter,Pt),De=zt!=null?zt:H.dequeue()}return(0,M.xd)(Pt)||Tt.push(new A(!1,Pt,Pt)),Tt}const Qe=[];function ft(Pt,Tt,Dt){if(Qe.length>0&&(0,M.rM)(Qe[Qe.length-1].endOffset,Pt)){const zt=Qe[Qe.length-1];Qe[Qe.length-1]=new N.Q(zt.startOffset,Tt,(0,M.Ii)(zt.newLength,Dt))}else Qe.push({startOffset:Pt,endOffset:Tt,newLength:Dt})}let mt=M.xl;for(const Pt of ie){const Tt=Fe(Pt.lengthBefore);if(Pt.modified){const Dt=(0,M.tQ)(Tt,ui=>ui.lengthBefore),zt=(0,M.Ii)(mt,Dt);ft(mt,zt,Pt.lengthAfter),mt=zt}else for(const Dt of Tt){const zt=mt;mt=(0,M.Ii)(mt,Dt.lengthBefore),Dt.modified&&ft(zt,mt,Dt.lengthAfter)}}return Qe}class A{constructor(w,H,ie){this.modified=w,this.lengthBefore=H,this.lengthAfter=ie}splitAt(w){const H=(0,M.BE)(w,this.lengthAfter);return(0,M.rM)(H,M.xl)?[this,void 0]:this.modified?[new A(this.modified,this.lengthBefore,w),new A(this.modified,M.xl,H)]:[new A(this.modified,w,w),new A(this.modified,H,H)]}toString(){return`${this.modified?"M":"U"}:${(0,M.Hw)(this.lengthBefore)} -> ${(0,M.Hw)(this.lengthAfter)}`}}function k(Ge){const w=[];let H=M.xl;for(const ie of Ge){const De=(0,M.BE)(H,ie.startOffset);(0,M.xd)(De)||w.push(new A(!1,De,De));const Fe=(0,M.BE)(ie.startOffset,ie.endOffset);w.push(new A(!0,Fe,ie.newLength)),H=ie.endOffset}return w}class R extends p.JT{didLanguageChange(w){return this.brackets.didLanguageChange(w)}constructor(w,H){if(super(),this.textModel=w,this.getLanguageConfiguration=H,this.didChangeEmitter=new _.Q5,this.denseKeyProvider=new F.FE,this.brackets=new P.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],w.tokenization.hasTokens)w.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const ie=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),De=new B.g(this.textModel.getValue(),ie);this.initialAstWithoutTokens=(0,D.w)(De,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const w=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,w||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:w}){const H=w.map(ie=>new N.Q((0,M.Hg)(ie.fromLineNumber-1,0),(0,M.Hg)(ie.toLineNumber,0),(0,M.Hg)(ie.toLineNumber-ie.fromLineNumber+1,0)));this.handleEdits(H,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(w){const H=N.Q.fromModelContentChanges(w.changes);this.handleEdits(H,!1)}handleEdits(w,H){const ie=U(this.queuedTextEdits,w);this.queuedTextEdits=ie,this.initialAstWithoutTokens&&!H&&(this.queuedTextEditsForInitialAstWithoutTokens=U(this.queuedTextEditsForInitialAstWithoutTokens,w))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(w,H,ie){const Fe=H,Qe=new B.xH(this.textModel,this.brackets);return(0,D.w)(Qe,w,Fe,ie)}getBracketsInRange(w,H){this.flushQueue();const ie=(0,M.Hg)(w.startLineNumber-1,w.startColumn-1),De=(0,M.Hg)(w.endLineNumber-1,w.endColumn-1);return new f.W$(Fe=>{const Qe=this.initialAstWithoutTokens||this.astWithTokens;Y(Qe,M.xl,Qe.length,ie,De,Fe,0,0,new Map,H)})}getBracketPairsInRange(w,H){this.flushQueue();const ie=(0,M.PZ)(w.getStartPosition()),De=(0,M.PZ)(w.getEndPosition());return new f.W$(Fe=>{const Qe=this.initialAstWithoutTokens||this.astWithTokens,ft=new j(Fe,H,this.textModel);z(Qe,M.xl,Qe.length,ie,De,ft,0,new Map)})}getFirstBracketAfter(w){this.flushQueue();const H=this.initialAstWithoutTokens||this.astWithTokens;return J(H,M.xl,H.length,(0,M.PZ)(w))}getFirstBracketBefore(w){this.flushQueue();const H=this.initialAstWithoutTokens||this.astWithTokens;return $(H,M.xl,H.length,(0,M.PZ)(w))}}function $(Ge,w,H,ie){if(Ge.kind===4||Ge.kind===2){const De=[];for(const Fe of Ge.children)H=(0,M.Ii)(w,Fe.length),De.push({nodeOffsetStart:w,nodeOffsetEnd:H}),w=H;for(let Fe=De.length-1;Fe>=0;Fe--){const{nodeOffsetStart:Qe,nodeOffsetEnd:ft}=De[Fe];if((0,M.VR)(Qe,ie)){const mt=$(Ge.children[Fe],Qe,ft,ie);if(mt)return mt}}return null}else{if(Ge.kind===3)return null;if(Ge.kind===1){const De=(0,M.Qw)(w,H);return{bracketInfo:Ge.bracketInfo,range:De}}}return null}function J(Ge,w,H,ie){if(Ge.kind===4||Ge.kind===2){for(const De of Ge.children){if(H=(0,M.Ii)(w,De.length),(0,M.VR)(ie,H)){const Fe=J(De,w,H,ie);if(Fe)return Fe}w=H}return null}else{if(Ge.kind===3)return null;if(Ge.kind===1){const De=(0,M.Qw)(w,H);return{bracketInfo:Ge.bracketInfo,range:De}}}return null}function Y(Ge,w,H,ie,De,Fe,Qe,ft,mt,Pt,Tt=!1){if(Qe>200)return!0;e:for(;;)switch(Ge.kind){case 4:{const Dt=Ge.childrenLength;for(let zt=0;zt<Dt;zt++){const ui=Ge.getChild(zt);if(ui){if(H=(0,M.Ii)(w,ui.length),(0,M.By)(w,De)&&(0,M.Zq)(H,ie)){if((0,M.Zq)(H,De)){Ge=ui;continue e}if(!Y(ui,w,H,ie,De,Fe,Qe,0,mt,Pt))return!1}w=H}}return!0}case 2:{const Dt=!Pt||!Ge.closingBracket||Ge.closingBracket.bracketInfo.closesColorized(Ge.openingBracket.bracketInfo);let zt=0;if(mt){let Di=mt.get(Ge.openingBracket.text);Di===void 0&&(Di=0),zt=Di,Dt&&(Di++,mt.set(Ge.openingBracket.text,Di))}const ui=Ge.childrenLength;for(let Di=0;Di<ui;Di++){const Ni=Ge.getChild(Di);if(Ni){if(H=(0,M.Ii)(w,Ni.length),(0,M.By)(w,De)&&(0,M.Zq)(H,ie)){if((0,M.Zq)(H,De)&&Ni.kind!==1){Ge=Ni,Dt?(Qe++,ft=zt+1):ft=zt;continue e}if((Dt||Ni.kind!==1||!Ge.closingBracket)&&!Y(Ni,w,H,ie,De,Fe,Dt?Qe+1:Qe,Dt?zt+1:zt,mt,Pt,!Ge.closingBracket))return!1}w=H}}return mt==null||mt.set(Ge.openingBracket.text,zt),!0}case 3:{const Dt=(0,M.Qw)(w,H);return Fe(new v(Dt,Qe-1,0,!0))}case 1:{const Dt=(0,M.Qw)(w,H);return Fe(new v(Dt,Qe-1,ft-1,Tt))}case 0:return!0}}class j{constructor(w,H,ie){this.push=w,this.includeMinIndentation=H,this.textModel=ie}}function z(Ge,w,H,ie,De,Fe,Qe,ft){var mt;if(Qe>200)return!0;let Pt=!0;if(Ge.kind===2){let Tt=0;if(ft){let ui=ft.get(Ge.openingBracket.text);ui===void 0&&(ui=0),Tt=ui,ui++,ft.set(Ge.openingBracket.text,ui)}const Dt=(0,M.Ii)(w,Ge.openingBracket.length);let zt=-1;if(Fe.includeMinIndentation&&(zt=Ge.computeMinIndentation(w,Fe.textModel)),Pt=Fe.push(new S((0,M.Qw)(w,H),(0,M.Qw)(w,Dt),Ge.closingBracket?(0,M.Qw)((0,M.Ii)(Dt,((mt=Ge.child)===null||mt===void 0?void 0:mt.length)||M.xl),H):void 0,Qe,Tt,Ge,zt)),w=Dt,Pt&&Ge.child){const ui=Ge.child;if(H=(0,M.Ii)(w,ui.length),(0,M.By)(w,De)&&(0,M.Zq)(H,ie)&&(Pt=z(ui,w,H,ie,De,Fe,Qe+1,ft),!Pt))return!1}ft==null||ft.set(Ge.openingBracket.text,Tt)}else{let Tt=w;for(const Dt of Ge.children){const zt=Tt;if(Tt=(0,M.Ii)(Tt,Dt.length),(0,M.By)(zt,De)&&(0,M.By)(ie,Tt)&&(Pt=z(Dt,zt,Tt,ie,De,Fe,Qe,ft),!Pt))return!1}}return Pt}class K extends p.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(w,H){super(),this.textModel=w,this.languageConfigurationService=H,this.bracketPairsTree=this._register(new p.XK),this.onDidChangeEmitter=new _.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(ie=>{var De;(!ie.languageId||!((De=this.bracketPairsTree.value)===null||De===void 0)&&De.object.didLanguageChange(ie.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(w){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(w){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(w){var H;(H=this.bracketPairsTree.value)===null||H===void 0||H.object.handleContentChanged(w)}handleDidChangeBackgroundTokenizationState(){var w;(w=this.bracketPairsTree.value)===null||w===void 0||w.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(w){var H;(H=this.bracketPairsTree.value)===null||H===void 0||H.object.handleDidChangeTokens(w)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const w=new p.SL;this.bracketPairsTree.value=Z(w.add(new R(this.textModel,H=>this.languageConfigurationService.getLanguageConfiguration(H))),w),w.add(this.bracketPairsTree.value.object.onDidChange(H=>this.onDidChangeEmitter.fire(H))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(w){var H;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((H=this.bracketPairsTree.value)===null||H===void 0?void 0:H.object.getBracketPairsInRange(w,!1))||f.W$.empty}getBracketPairsInRangeWithMinIndentation(w){var H;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((H=this.bracketPairsTree.value)===null||H===void 0?void 0:H.object.getBracketPairsInRange(w,!0))||f.W$.empty}getBracketsInRange(w,H=!1){var ie;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ie=this.bracketPairsTree.value)===null||ie===void 0?void 0:ie.object.getBracketsInRange(w,H))||f.W$.empty}findMatchingBracketUp(w,H,ie){const De=this.textModel.validatePosition(H),Fe=this.textModel.getLanguageIdAtPosition(De.lineNumber,De.column);if(this.canBuildAST){const Qe=this.languageConfigurationService.getLanguageConfiguration(Fe).bracketsNew.getClosingBracketInfo(w);if(!Qe)return null;const ft=this.getBracketPairsInRange(a.e.fromPositions(H,H)).findLast(mt=>Qe.closes(mt.openingBracketInfo));return ft?ft.openingBracketRange:null}else{const Qe=w.toLowerCase(),ft=this.languageConfigurationService.getLanguageConfiguration(Fe).brackets;if(!ft)return null;const mt=ft.textIsBracket[Qe];return mt?Re(this._findMatchingBracketUp(mt,De,fe(ie))):null}}matchBracket(w,H){if(this.canBuildAST){const ie=this.getBracketPairsInRange(a.e.fromPositions(w,w)).filter(De=>De.closingBracketRange!==void 0&&(De.openingBracketRange.containsPosition(w)||De.closingBracketRange.containsPosition(w))).findLastMaxBy((0,f.tT)(De=>De.openingBracketRange.containsPosition(w)?De.openingBracketRange:De.closingBracketRange,a.e.compareRangesUsingStarts));return ie?[ie.openingBracketRange,ie.closingBracketRange]:null}else{const ie=fe(H);return this._matchBracket(this.textModel.validatePosition(w),ie)}}_establishBracketSearchOffsets(w,H,ie,De){const Fe=H.getCount(),Qe=H.getLanguageId(De);let ft=Math.max(0,w.column-1-ie.maxBracketLength);for(let Pt=De-1;Pt>=0;Pt--){const Tt=H.getEndOffset(Pt);if(Tt<=ft)break;if((0,b.Bu)(H.getStandardTokenType(Pt))||H.getLanguageId(Pt)!==Qe){ft=Tt;break}}let mt=Math.min(H.getLineContent().length,w.column-1+ie.maxBracketLength);for(let Pt=De+1;Pt<Fe;Pt++){const Tt=H.getStartOffset(Pt);if(Tt>=mt)break;if((0,b.Bu)(H.getStandardTokenType(Pt))||H.getLanguageId(Pt)!==Qe){mt=Tt;break}}return{searchStartOffset:ft,searchEndOffset:mt}}_matchBracket(w,H){const ie=w.lineNumber,De=this.textModel.tokenization.getLineTokens(ie),Fe=this.textModel.getLineContent(ie),Qe=De.findTokenIndexAtOffset(w.column-1);if(Qe<0)return null;const ft=this.languageConfigurationService.getLanguageConfiguration(De.getLanguageId(Qe)).brackets;if(ft&&!(0,b.Bu)(De.getStandardTokenType(Qe))){let{searchStartOffset:mt,searchEndOffset:Pt}=this._establishBracketSearchOffsets(w,De,ft,Qe),Tt=null;for(;;){const Dt=c.Vr.findNextBracketInRange(ft.forwardRegex,ie,Fe,mt,Pt);if(!Dt)break;if(Dt.startColumn<=w.column&&w.column<=Dt.endColumn){const zt=Fe.substring(Dt.startColumn-1,Dt.endColumn-1).toLowerCase(),ui=this._matchFoundBracket(Dt,ft.textIsBracket[zt],ft.textIsOpenBracket[zt],H);if(ui){if(ui instanceof T)return null;Tt=ui}}mt=Dt.endColumn-1}if(Tt)return Tt}if(Qe>0&&De.getStartOffset(Qe)===w.column-1){const mt=Qe-1,Pt=this.languageConfigurationService.getLanguageConfiguration(De.getLanguageId(mt)).brackets;if(Pt&&!(0,b.Bu)(De.getStandardTokenType(mt))){const{searchStartOffset:Tt,searchEndOffset:Dt}=this._establishBracketSearchOffsets(w,De,Pt,mt),zt=c.Vr.findPrevBracketInRange(Pt.reversedRegex,ie,Fe,Tt,Dt);if(zt&&zt.startColumn<=w.column&&w.column<=zt.endColumn){const ui=Fe.substring(zt.startColumn-1,zt.endColumn-1).toLowerCase(),Di=this._matchFoundBracket(zt,Pt.textIsBracket[ui],Pt.textIsOpenBracket[ui],H);if(Di)return Di instanceof T?null:Di}}}return null}_matchFoundBracket(w,H,ie,De){if(!H)return null;const Fe=ie?this._findMatchingBracketDown(H,w.getEndPosition(),De):this._findMatchingBracketUp(H,w.getStartPosition(),De);return Fe?Fe instanceof T?Fe:[w,Fe]:null}_findMatchingBracketUp(w,H,ie){const De=w.languageId,Fe=w.reversedRegex;let Qe=-1,ft=0;const mt=(Pt,Tt,Dt,zt)=>{for(;;){if(ie&&++ft%100===0&&!ie())return T.INSTANCE;const ui=c.Vr.findPrevBracketInRange(Fe,Pt,Tt,Dt,zt);if(!ui)break;const Di=Tt.substring(ui.startColumn-1,ui.endColumn-1).toLowerCase();if(w.isOpen(Di)?Qe++:w.isClose(Di)&&Qe--,Qe===0)return ui;zt=ui.startColumn-1}return null};for(let Pt=H.lineNumber;Pt>=1;Pt--){const Tt=this.textModel.tokenization.getLineTokens(Pt),Dt=Tt.getCount(),zt=this.textModel.getLineContent(Pt);let ui=Dt-1,Di=zt.length,Ni=zt.length;Pt===H.lineNumber&&(ui=Tt.findTokenIndexAtOffset(H.column-1),Di=H.column-1,Ni=H.column-1);let Ei=!0;for(;ui>=0;ui--){const qi=Tt.getLanguageId(ui)===De&&!(0,b.Bu)(Tt.getStandardTokenType(ui));if(qi)Ei?Di=Tt.getStartOffset(ui):(Di=Tt.getStartOffset(ui),Ni=Tt.getEndOffset(ui));else if(Ei&&Di!==Ni){const yn=mt(Pt,zt,Di,Ni);if(yn)return yn}Ei=qi}if(Ei&&Di!==Ni){const qi=mt(Pt,zt,Di,Ni);if(qi)return qi}}return null}_findMatchingBracketDown(w,H,ie){const De=w.languageId,Fe=w.forwardRegex;let Qe=1,ft=0;const mt=(Tt,Dt,zt,ui)=>{for(;;){if(ie&&++ft%100===0&&!ie())return T.INSTANCE;const Di=c.Vr.findNextBracketInRange(Fe,Tt,Dt,zt,ui);if(!Di)break;const Ni=Dt.substring(Di.startColumn-1,Di.endColumn-1).toLowerCase();if(w.isOpen(Ni)?Qe++:w.isClose(Ni)&&Qe--,Qe===0)return Di;zt=Di.endColumn-1}return null},Pt=this.textModel.getLineCount();for(let Tt=H.lineNumber;Tt<=Pt;Tt++){const Dt=this.textModel.tokenization.getLineTokens(Tt),zt=Dt.getCount(),ui=this.textModel.getLineContent(Tt);let Di=0,Ni=0,Ei=0;Tt===H.lineNumber&&(Di=Dt.findTokenIndexAtOffset(H.column-1),Ni=H.column-1,Ei=H.column-1);let qi=!0;for(;Di<zt;Di++){const yn=Dt.getLanguageId(Di)===De&&!(0,b.Bu)(Dt.getStandardTokenType(Di));if(yn)qi||(Ni=Dt.getStartOffset(Di)),Ei=Dt.getEndOffset(Di);else if(qi&&Ni!==Ei){const cn=mt(Tt,ui,Ni,Ei);if(cn)return cn}qi=yn}if(qi&&Ni!==Ei){const yn=mt(Tt,ui,Ni,Ei);if(yn)return yn}}return null}findPrevBracket(w){var H;const ie=this.textModel.validatePosition(w);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((H=this.bracketPairsTree.value)===null||H===void 0?void 0:H.object.getFirstBracketBefore(ie))||null;let De=null,Fe=null,Qe=null;for(let ft=ie.lineNumber;ft>=1;ft--){const mt=this.textModel.tokenization.getLineTokens(ft),Pt=mt.getCount(),Tt=this.textModel.getLineContent(ft);let Dt=Pt-1,zt=Tt.length,ui=Tt.length;if(ft===ie.lineNumber){Dt=mt.findTokenIndexAtOffset(ie.column-1),zt=ie.column-1,ui=ie.column-1;const Ni=mt.getLanguageId(Dt);De!==Ni&&(De=Ni,Fe=this.languageConfigurationService.getLanguageConfiguration(De).brackets,Qe=this.languageConfigurationService.getLanguageConfiguration(De).bracketsNew)}let Di=!0;for(;Dt>=0;Dt--){const Ni=mt.getLanguageId(Dt);if(De!==Ni){if(Fe&&Qe&&Di&&zt!==ui){const qi=c.Vr.findPrevBracketInRange(Fe.reversedRegex,ft,Tt,zt,ui);if(qi)return this._toFoundBracket(Qe,qi);Di=!1}De=Ni,Fe=this.languageConfigurationService.getLanguageConfiguration(De).brackets,Qe=this.languageConfigurationService.getLanguageConfiguration(De).bracketsNew}const Ei=!!Fe&&!(0,b.Bu)(mt.getStandardTokenType(Dt));if(Ei)Di?zt=mt.getStartOffset(Dt):(zt=mt.getStartOffset(Dt),ui=mt.getEndOffset(Dt));else if(Qe&&Fe&&Di&&zt!==ui){const qi=c.Vr.findPrevBracketInRange(Fe.reversedRegex,ft,Tt,zt,ui);if(qi)return this._toFoundBracket(Qe,qi)}Di=Ei}if(Qe&&Fe&&Di&&zt!==ui){const Ni=c.Vr.findPrevBracketInRange(Fe.reversedRegex,ft,Tt,zt,ui);if(Ni)return this._toFoundBracket(Qe,Ni)}}return null}findNextBracket(w){var H;const ie=this.textModel.validatePosition(w);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((H=this.bracketPairsTree.value)===null||H===void 0?void 0:H.object.getFirstBracketAfter(ie))||null;const De=this.textModel.getLineCount();let Fe=null,Qe=null,ft=null;for(let mt=ie.lineNumber;mt<=De;mt++){const Pt=this.textModel.tokenization.getLineTokens(mt),Tt=Pt.getCount(),Dt=this.textModel.getLineContent(mt);let zt=0,ui=0,Di=0;if(mt===ie.lineNumber){zt=Pt.findTokenIndexAtOffset(ie.column-1),ui=ie.column-1,Di=ie.column-1;const Ei=Pt.getLanguageId(zt);Fe!==Ei&&(Fe=Ei,Qe=this.languageConfigurationService.getLanguageConfiguration(Fe).brackets,ft=this.languageConfigurationService.getLanguageConfiguration(Fe).bracketsNew)}let Ni=!0;for(;zt<Tt;zt++){const Ei=Pt.getLanguageId(zt);if(Fe!==Ei){if(ft&&Qe&&Ni&&ui!==Di){const yn=c.Vr.findNextBracketInRange(Qe.forwardRegex,mt,Dt,ui,Di);if(yn)return this._toFoundBracket(ft,yn);Ni=!1}Fe=Ei,Qe=this.languageConfigurationService.getLanguageConfiguration(Fe).brackets,ft=this.languageConfigurationService.getLanguageConfiguration(Fe).bracketsNew}const qi=!!Qe&&!(0,b.Bu)(Pt.getStandardTokenType(zt));if(qi)Ni||(ui=Pt.getStartOffset(zt)),Di=Pt.getEndOffset(zt);else if(ft&&Qe&&Ni&&ui!==Di){const yn=c.Vr.findNextBracketInRange(Qe.forwardRegex,mt,Dt,ui,Di);if(yn)return this._toFoundBracket(ft,yn)}Ni=qi}if(ft&&Qe&&Ni&&ui!==Di){const Ei=c.Vr.findNextBracketInRange(Qe.forwardRegex,mt,Dt,ui,Di);if(Ei)return this._toFoundBracket(ft,Ei)}}return null}findEnclosingBrackets(w,H){const ie=this.textModel.validatePosition(w);if(this.canBuildAST){const ui=a.e.fromPositions(ie),Di=this.getBracketPairsInRange(a.e.fromPositions(ie,ie)).findLast(Ni=>Ni.closingBracketRange!==void 0&&Ni.range.strictContainsRange(ui));return Di?[Di.openingBracketRange,Di.closingBracketRange]:null}const De=fe(H),Fe=this.textModel.getLineCount(),Qe=new Map;let ft=[];const mt=(ui,Di)=>{if(!Qe.has(ui)){const Ni=[];for(let Ei=0,qi=Di?Di.brackets.length:0;Ei<qi;Ei++)Ni[Ei]=0;Qe.set(ui,Ni)}ft=Qe.get(ui)};let Pt=0;const Tt=(ui,Di,Ni,Ei,qi)=>{for(;;){if(De&&++Pt%100===0&&!De())return T.INSTANCE;const yn=c.Vr.findNextBracketInRange(ui.forwardRegex,Di,Ni,Ei,qi);if(!yn)break;const cn=Ni.substring(yn.startColumn-1,yn.endColumn-1).toLowerCase(),$n=ui.textIsBracket[cn];if($n&&($n.isOpen(cn)?ft[$n.index]++:$n.isClose(cn)&&ft[$n.index]--,ft[$n.index]===-1))return this._matchFoundBracket(yn,$n,!1,De);Ei=yn.endColumn-1}return null};let Dt=null,zt=null;for(let ui=ie.lineNumber;ui<=Fe;ui++){const Di=this.textModel.tokenization.getLineTokens(ui),Ni=Di.getCount(),Ei=this.textModel.getLineContent(ui);let qi=0,yn=0,cn=0;if(ui===ie.lineNumber){qi=Di.findTokenIndexAtOffset(ie.column-1),yn=ie.column-1,cn=ie.column-1;const Ps=Di.getLanguageId(qi);Dt!==Ps&&(Dt=Ps,zt=this.languageConfigurationService.getLanguageConfiguration(Dt).brackets,mt(Dt,zt))}let $n=!0;for(;qi<Ni;qi++){const Ps=Di.getLanguageId(qi);if(Dt!==Ps){if(zt&&$n&&yn!==cn){const xs=Tt(zt,ui,Ei,yn,cn);if(xs)return Re(xs);$n=!1}Dt=Ps,zt=this.languageConfigurationService.getLanguageConfiguration(Dt).brackets,mt(Dt,zt)}const vs=!!zt&&!(0,b.Bu)(Di.getStandardTokenType(qi));if(vs)$n||(yn=Di.getStartOffset(qi)),cn=Di.getEndOffset(qi);else if(zt&&$n&&yn!==cn){const xs=Tt(zt,ui,Ei,yn,cn);if(xs)return Re(xs)}$n=vs}if(zt&&$n&&yn!==cn){const Ps=Tt(zt,ui,Ei,yn,cn);if(Ps)return Re(Ps)}}return null}_toFoundBracket(w,H){if(!H)return null;let ie=this.textModel.getValueInRange(H);ie=ie.toLowerCase();const De=w.getBracketInfo(ie);return De?{range:H,bracketInfo:De}:null}}function Z(Ge,w){return{object:Ge,dispose:()=>w==null?void 0:w.dispose()}}function fe(Ge){if(typeof Ge=="undefined")return()=>!0;{const w=Date.now();return()=>Date.now()-w<=Ge}}class T{constructor(){this._searchCanceledBrand=void 0}}T.INSTANCE=new T;function Re(Ge){return Ge instanceof T?null:Ge}var Ce=t(44411),_e=t(58566);class pe extends p.JT{constructor(w){super(),this.textModel=w,this.colorProvider=new le,this.onDidChangeEmitter=new _.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=w.getOptions().bracketPairColorizationOptions,this._register(w.bracketPairs.onDidChange(H=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(w){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(w,H,ie,De){return De?[]:H===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(w,!0).map(Qe=>({id:`bracket${Qe.range.toString()}-${Qe.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Qe,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Qe.range})).toArray():[]}getAllDecorations(w,H){return w===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new a.e(1,1,this.textModel.getLineCount(),1),w,H):[]}}class le{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(w,H){return w.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(H?w.nestingLevelOfEqualBracketType:w.nestingLevel)}getInlineClassNameOfLevel(w){return`bracket-highlighting-${w%30}`}}(0,_e.Ic)((Ge,w)=>{const H=[Ce.zJ,Ce.Vs,Ce.CE,Ce.UP,Ce.r0,Ce.m1],ie=new le;w.addRule(`.monaco-editor .${ie.unexpectedClosingBracketClassName} { color: ${Ge.getColor(Ce.ts)}; }`);const De=H.map(Fe=>Ge.getColor(Fe)).filter(Fe=>!!Fe).filter(Fe=>!Fe.isTransparent());for(let Fe=0;Fe<30;Fe++){const Qe=De[Fe%De.length];w.addRule(`.monaco-editor .${ie.getInlineClassNameOfLevel(Fe)} { color: ${Qe}; }`)}});var oe=t(75565),he=t(32382);class je{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Xe(Ge,w,H,ie,De){De.spacesDiff=0,De.looksLikeAlignment=!1;let Fe;for(Fe=0;Fe<w&&Fe<ie;Fe++){const zt=Ge.charCodeAt(Fe),ui=H.charCodeAt(Fe);if(zt!==ui)break}let Qe=0,ft=0;for(let zt=Fe;zt<w;zt++)Ge.charCodeAt(zt)===32?Qe++:ft++;let mt=0,Pt=0;for(let zt=Fe;zt<ie;zt++)H.charCodeAt(zt)===32?mt++:Pt++;if(Qe>0&&ft>0||mt>0&&Pt>0)return;const Tt=Math.abs(ft-Pt),Dt=Math.abs(Qe-mt);if(Tt===0){De.spacesDiff=Dt,Dt>0&&0<=mt-1&&mt-1<Ge.length&&mt<H.length&&H.charCodeAt(mt)!==32&&Ge.charCodeAt(mt-1)===32&&Ge.charCodeAt(Ge.length-1)===44&&(De.looksLikeAlignment=!0);return}if(Dt%Tt===0){De.spacesDiff=Dt/Tt;return}}function Ve(Ge,w,H){const ie=Math.min(Ge.getLineCount(),1e4);let De=0,Fe=0,Qe="",ft=0;const mt=[2,4,6,8,3,5,7],Pt=8,Tt=[0,0,0,0,0,0,0,0,0],Dt=new je;for(let Di=1;Di<=ie;Di++){const Ni=Ge.getLineLength(Di),Ei=Ge.getLineContent(Di),qi=Ni<=65536;let yn=!1,cn=0,$n=0,Ps=0;for(let xs=0,go=Ni;xs<go;xs++){const Rs=qi?Ei.charCodeAt(xs):Ge.getLineCharCode(Di,xs);if(Rs===9)Ps++;else if(Rs===32)$n++;else{yn=!0,cn=xs;break}}if(!yn||(Ps>0?De++:$n>1&&Fe++,Xe(Qe,ft,Ei,cn,Dt),Dt.looksLikeAlignment&&!(H&&w===Dt.spacesDiff)))continue;const vs=Dt.spacesDiff;vs<=Pt&&Tt[vs]++,Qe=Ei,ft=cn}let zt=H;De!==Fe&&(zt=De<Fe);let ui=w;if(zt){let Di=zt?0:.1*ie;mt.forEach(Ni=>{const Ei=Tt[Ni];Ei>Di&&(Di=Ei,ui=Ni)}),ui===4&&Tt[4]>0&&Tt[2]>0&&Tt[2]>=Tt[4]/2&&(ui=2)}return{insertSpaces:zt,tabSize:ui}}function se(Ge){return(Ge.metadata&1)>>>0}function q(Ge,w){Ge.metadata=Ge.metadata&254|w<<0}function Ee(Ge){return(Ge.metadata&2)>>>1===1}function Se(Ge,w){Ge.metadata=Ge.metadata&253|(w?1:0)<<1}function we(Ge){return(Ge.metadata&4)>>>2===1}function ve(Ge,w){Ge.metadata=Ge.metadata&251|(w?1:0)<<2}function Ne(Ge){return(Ge.metadata&64)>>>6===1}function $e(Ge,w){Ge.metadata=Ge.metadata&191|(w?1:0)<<6}function Ke(Ge){return(Ge.metadata&24)>>>3}function ze(Ge,w){Ge.metadata=Ge.metadata&231|w<<3}function He(Ge){return(Ge.metadata&32)>>>5===1}function Le(Ge,w){Ge.metadata=Ge.metadata&223|(w?1:0)<<5}class de{constructor(w,H,ie){this.metadata=0,this.parent=this,this.left=this,this.right=this,q(this,1),this.start=H,this.end=ie,this.delta=0,this.maxEnd=ie,this.id=w,this.ownerId=0,this.options=null,ve(this,!1),$e(this,!1),ze(this,1),Le(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=H,this.cachedAbsoluteEnd=ie,this.range=null,Se(this,!1)}reset(w,H,ie,De){this.start=H,this.end=ie,this.maxEnd=ie,this.cachedVersionId=w,this.cachedAbsoluteStart=H,this.cachedAbsoluteEnd=ie,this.range=De}setOptions(w){this.options=w;const H=this.options.className;ve(this,H==="squiggly-error"||H==="squiggly-warning"||H==="squiggly-info"),$e(this,this.options.glyphMarginClassName!==null),ze(this,this.options.stickiness),Le(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(w,H,ie){this.cachedVersionId!==ie&&(this.range=null),this.cachedVersionId=ie,this.cachedAbsoluteStart=w,this.cachedAbsoluteEnd=H}detach(){this.parent=null,this.left=null,this.right=null}}const ee=new de(null,0,0);ee.parent=ee,ee.left=ee,ee.right=ee,q(ee,0);class ne{constructor(){this.root=ee,this.requestNormalizeDelta=!1}intervalSearch(w,H,ie,De,Fe,Qe){return this.root===ee?[]:It(this,w,H,ie,De,Fe,Qe)}search(w,H,ie,De){return this.root===ee?[]:st(this,w,H,ie,De)}collectNodesFromOwner(w){return nt(this,w)}collectNodesPostOrder(){return tt(this)}insert(w){Wt(this,w),this._normalizeDeltaIfNecessary()}delete(w){Ct(this,w),this._normalizeDeltaIfNecessary()}resolveNode(w,H){const ie=w;let De=0;for(;w!==this.root;)w===w.parent.right&&(De+=w.parent.delta),w=w.parent;const Fe=ie.start+De,Qe=ie.end+De;ie.setCachedOffsets(Fe,Qe,H)}acceptReplace(w,H,ie,De){const Fe=ot(this,w,w+H);for(let Qe=0,ft=Fe.length;Qe<ft;Qe++){const mt=Fe[Qe];Ct(this,mt)}this._normalizeDeltaIfNecessary(),gt(this,w,w+H,ie),this._normalizeDeltaIfNecessary();for(let Qe=0,ft=Fe.length;Qe<ft;Qe++){const mt=Fe[Qe];mt.start=mt.cachedAbsoluteStart,mt.end=mt.cachedAbsoluteEnd,Pe(mt,w,w+H,ie,De),mt.maxEnd=mt.end,Wt(this,mt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,me(this))}}function me(Ge){let w=Ge.root,H=0;for(;w!==ee;){if(w.left!==ee&&!Ee(w.left)){w=w.left;continue}if(w.right!==ee&&!Ee(w.right)){H+=w.delta,w=w.right;continue}w.start=H+w.start,w.end=H+w.end,w.delta=0,bt(w),Se(w,!0),Se(w.left,!1),Se(w.right,!1),w===w.parent.right&&(H-=w.parent.delta),w=w.parent}Se(Ge.root,!1)}function ue(Ge,w,H,ie){return Ge<H?!0:Ge>H||ie===1?!1:ie===2?!0:w}function Pe(Ge,w,H,ie,De){const Fe=Ke(Ge),Qe=Fe===0||Fe===2,ft=Fe===1||Fe===2,mt=H-w,Pt=ie,Tt=Math.min(mt,Pt),Dt=Ge.start;let zt=!1;const ui=Ge.end;let Di=!1;w<=Dt&&ui<=H&&He(Ge)&&(Ge.start=w,zt=!0,Ge.end=w,Di=!0);{const Ei=De?1:mt>0?2:0;!zt&&ue(Dt,Qe,w,Ei)&&(zt=!0),!Di&&ue(ui,ft,w,Ei)&&(Di=!0)}if(Tt>0&&!De){const Ei=mt>Pt?2:0;!zt&&ue(Dt,Qe,w+Tt,Ei)&&(zt=!0),!Di&&ue(ui,ft,w+Tt,Ei)&&(Di=!0)}{const Ei=De?1:0;!zt&&ue(Dt,Qe,H,Ei)&&(Ge.start=w+Pt,zt=!0),!Di&&ue(ui,ft,H,Ei)&&(Ge.end=w+Pt,Di=!0)}const Ni=Pt-mt;zt||(Ge.start=Math.max(0,Dt+Ni)),Di||(Ge.end=Math.max(0,ui+Ni)),Ge.start>Ge.end&&(Ge.end=Ge.start)}function ot(Ge,w,H){let ie=Ge.root,De=0,Fe=0,Qe=0,ft=0;const mt=[];let Pt=0;for(;ie!==ee;){if(Ee(ie)){Se(ie.left,!1),Se(ie.right,!1),ie===ie.parent.right&&(De-=ie.parent.delta),ie=ie.parent;continue}if(!Ee(ie.left)){if(Fe=De+ie.maxEnd,Fe<w){Se(ie,!0);continue}if(ie.left!==ee){ie=ie.left;continue}}if(Qe=De+ie.start,Qe>H){Se(ie,!0);continue}if(ft=De+ie.end,ft>=w&&(ie.setCachedOffsets(Qe,ft,0),mt[Pt++]=ie),Se(ie,!0),ie.right!==ee&&!Ee(ie.right)){De+=ie.delta,ie=ie.right;continue}}return Se(Ge.root,!1),mt}function gt(Ge,w,H,ie){let De=Ge.root,Fe=0,Qe=0,ft=0;const mt=ie-(H-w);for(;De!==ee;){if(Ee(De)){Se(De.left,!1),Se(De.right,!1),De===De.parent.right&&(Fe-=De.parent.delta),bt(De),De=De.parent;continue}if(!Ee(De.left)){if(Qe=Fe+De.maxEnd,Qe<w){Se(De,!0);continue}if(De.left!==ee){De=De.left;continue}}if(ft=Fe+De.start,ft>H){De.start+=mt,De.end+=mt,De.delta+=mt,(De.delta<-1073741824||De.delta>1073741824)&&(Ge.requestNormalizeDelta=!0),Se(De,!0);continue}if(Se(De,!0),De.right!==ee&&!Ee(De.right)){Fe+=De.delta,De=De.right;continue}}Se(Ge.root,!1)}function nt(Ge,w){let H=Ge.root;const ie=[];let De=0;for(;H!==ee;){if(Ee(H)){Se(H.left,!1),Se(H.right,!1),H=H.parent;continue}if(H.left!==ee&&!Ee(H.left)){H=H.left;continue}if(H.ownerId===w&&(ie[De++]=H),Se(H,!0),H.right!==ee&&!Ee(H.right)){H=H.right;continue}}return Se(Ge.root,!1),ie}function tt(Ge){let w=Ge.root;const H=[];let ie=0;for(;w!==ee;){if(Ee(w)){Se(w.left,!1),Se(w.right,!1),w=w.parent;continue}if(w.left!==ee&&!Ee(w.left)){w=w.left;continue}if(w.right!==ee&&!Ee(w.right)){w=w.right;continue}H[ie++]=w,Se(w,!0)}return Se(Ge.root,!1),H}function st(Ge,w,H,ie,De){let Fe=Ge.root,Qe=0,ft=0,mt=0;const Pt=[];let Tt=0;for(;Fe!==ee;){if(Ee(Fe)){Se(Fe.left,!1),Se(Fe.right,!1),Fe===Fe.parent.right&&(Qe-=Fe.parent.delta),Fe=Fe.parent;continue}if(Fe.left!==ee&&!Ee(Fe.left)){Fe=Fe.left;continue}ft=Qe+Fe.start,mt=Qe+Fe.end,Fe.setCachedOffsets(ft,mt,ie);let Dt=!0;if(w&&Fe.ownerId&&Fe.ownerId!==w&&(Dt=!1),H&&we(Fe)&&(Dt=!1),De&&!Ne(Fe)&&(Dt=!1),Dt&&(Pt[Tt++]=Fe),Se(Fe,!0),Fe.right!==ee&&!Ee(Fe.right)){Qe+=Fe.delta,Fe=Fe.right;continue}}return Se(Ge.root,!1),Pt}function It(Ge,w,H,ie,De,Fe,Qe){let ft=Ge.root,mt=0,Pt=0,Tt=0,Dt=0;const zt=[];let ui=0;for(;ft!==ee;){if(Ee(ft)){Se(ft.left,!1),Se(ft.right,!1),ft===ft.parent.right&&(mt-=ft.parent.delta),ft=ft.parent;continue}if(!Ee(ft.left)){if(Pt=mt+ft.maxEnd,Pt<w){Se(ft,!0);continue}if(ft.left!==ee){ft=ft.left;continue}}if(Tt=mt+ft.start,Tt>H){Se(ft,!0);continue}if(Dt=mt+ft.end,Dt>=w){ft.setCachedOffsets(Tt,Dt,Fe);let Di=!0;ie&&ft.ownerId&&ft.ownerId!==ie&&(Di=!1),De&&we(ft)&&(Di=!1),Qe&&!Ne(ft)&&(Di=!1),Di&&(zt[ui++]=ft)}if(Se(ft,!0),ft.right!==ee&&!Ee(ft.right)){mt+=ft.delta,ft=ft.right;continue}}return Se(Ge.root,!1),zt}function Wt(Ge,w){if(Ge.root===ee)return w.parent=ee,w.left=ee,w.right=ee,q(w,0),Ge.root=w,Ge.root;Vt(Ge,w),Mt(w.parent);let H=w;for(;H!==Ge.root&&se(H.parent)===1;)if(H.parent===H.parent.parent.left){const ie=H.parent.parent.right;se(ie)===1?(q(H.parent,0),q(ie,0),q(H.parent.parent,1),H=H.parent.parent):(H===H.parent.right&&(H=H.parent,Ye(Ge,H)),q(H.parent,0),q(H.parent.parent,1),ut(Ge,H.parent.parent))}else{const ie=H.parent.parent.left;se(ie)===1?(q(H.parent,0),q(ie,0),q(H.parent.parent,1),H=H.parent.parent):(H===H.parent.left&&(H=H.parent,ut(Ge,H)),q(H.parent,0),q(H.parent.parent,1),Ye(Ge,H.parent.parent))}return q(Ge.root,0),w}function Vt(Ge,w){let H=0,ie=Ge.root;const De=w.start,Fe=w.end;for(;;)if(ni(De,Fe,ie.start+H,ie.end+H)<0)if(ie.left===ee){w.start-=H,w.end-=H,w.maxEnd-=H,ie.left=w;break}else ie=ie.left;else if(ie.right===ee){w.start-=H+ie.delta,w.end-=H+ie.delta,w.maxEnd-=H+ie.delta,ie.right=w;break}else H+=ie.delta,ie=ie.right;w.parent=ie,w.left=ee,w.right=ee,q(w,1)}function Ct(Ge,w){let H,ie;if(w.left===ee?(H=w.right,ie=w,H.delta+=w.delta,(H.delta<-1073741824||H.delta>1073741824)&&(Ge.requestNormalizeDelta=!0),H.start+=w.delta,H.end+=w.delta):w.right===ee?(H=w.left,ie=w):(ie=gi(w.right),H=ie.right,H.start+=ie.delta,H.end+=ie.delta,H.delta+=ie.delta,(H.delta<-1073741824||H.delta>1073741824)&&(Ge.requestNormalizeDelta=!0),ie.start+=w.delta,ie.end+=w.delta,ie.delta=w.delta,(ie.delta<-1073741824||ie.delta>1073741824)&&(Ge.requestNormalizeDelta=!0)),ie===Ge.root){Ge.root=H,q(H,0),w.detach(),jt(),bt(H),Ge.root.parent=ee;return}const De=se(ie)===1;if(ie===ie.parent.left?ie.parent.left=H:ie.parent.right=H,ie===w?H.parent=ie.parent:(ie.parent===w?H.parent=ie:H.parent=ie.parent,ie.left=w.left,ie.right=w.right,ie.parent=w.parent,q(ie,se(w)),w===Ge.root?Ge.root=ie:w===w.parent.left?w.parent.left=ie:w.parent.right=ie,ie.left!==ee&&(ie.left.parent=ie),ie.right!==ee&&(ie.right.parent=ie)),w.detach(),De){Mt(H.parent),ie!==w&&(Mt(ie),Mt(ie.parent)),jt();return}Mt(H),Mt(H.parent),ie!==w&&(Mt(ie),Mt(ie.parent));let Fe;for(;H!==Ge.root&&se(H)===0;)H===H.parent.left?(Fe=H.parent.right,se(Fe)===1&&(q(Fe,0),q(H.parent,1),Ye(Ge,H.parent),Fe=H.parent.right),se(Fe.left)===0&&se(Fe.right)===0?(q(Fe,1),H=H.parent):(se(Fe.right)===0&&(q(Fe.left,0),q(Fe,1),ut(Ge,Fe),Fe=H.parent.right),q(Fe,se(H.parent)),q(H.parent,0),q(Fe.right,0),Ye(Ge,H.parent),H=Ge.root)):(Fe=H.parent.left,se(Fe)===1&&(q(Fe,0),q(H.parent,1),ut(Ge,H.parent),Fe=H.parent.left),se(Fe.left)===0&&se(Fe.right)===0?(q(Fe,1),H=H.parent):(se(Fe.left)===0&&(q(Fe.right,0),q(Fe,1),Ye(Ge,Fe),Fe=H.parent.left),q(Fe,se(H.parent)),q(H.parent,0),q(Fe.left,0),ut(Ge,H.parent),H=Ge.root));q(H,0),jt()}function gi(Ge){for(;Ge.left!==ee;)Ge=Ge.left;return Ge}function jt(){ee.parent=ee,ee.delta=0,ee.start=0,ee.end=0}function Ye(Ge,w){const H=w.right;H.delta+=w.delta,(H.delta<-1073741824||H.delta>1073741824)&&(Ge.requestNormalizeDelta=!0),H.start+=w.delta,H.end+=w.delta,w.right=H.left,H.left!==ee&&(H.left.parent=w),H.parent=w.parent,w.parent===ee?Ge.root=H:w===w.parent.left?w.parent.left=H:w.parent.right=H,H.left=w,w.parent=H,bt(w),bt(H)}function ut(Ge,w){const H=w.left;w.delta-=H.delta,(w.delta<-1073741824||w.delta>1073741824)&&(Ge.requestNormalizeDelta=!0),w.start-=H.delta,w.end-=H.delta,w.left=H.right,H.right!==ee&&(H.right.parent=w),H.parent=w.parent,w.parent===ee?Ge.root=H:w===w.parent.right?w.parent.right=H:w.parent.left=H,H.right=w,w.parent=H,bt(w),bt(H)}function dt(Ge){let w=Ge.end;if(Ge.left!==ee){const H=Ge.left.maxEnd;H>w&&(w=H)}if(Ge.right!==ee){const H=Ge.right.maxEnd+Ge.delta;H>w&&(w=H)}return w}function bt(Ge){Ge.maxEnd=dt(Ge)}function Mt(Ge){for(;Ge!==ee;){const w=dt(Ge);if(Ge.maxEnd===w)return;Ge.maxEnd=w,Ge=Ge.parent}}function ni(Ge,w,H,ie){return Ge===H?w-ie:Ge-H}class qt{constructor(w,H){this.piece=w,this.color=H,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==yt)return At(this.right);let w=this;for(;w.parent!==yt&&w.parent.left!==w;)w=w.parent;return w.parent===yt?yt:w.parent}prev(){if(this.left!==yt)return Qt(this.left);let w=this;for(;w.parent!==yt&&w.parent.right!==w;)w=w.parent;return w.parent===yt?yt:w.parent}detach(){this.parent=null,this.left=null,this.right=null}}const yt=new qt(null,0);yt.parent=yt,yt.left=yt,yt.right=yt,yt.color=0;function At(Ge){for(;Ge.left!==yt;)Ge=Ge.left;return Ge}function Qt(Ge){for(;Ge.right!==yt;)Ge=Ge.right;return Ge}function si(Ge){return Ge===yt?0:Ge.size_left+Ge.piece.length+si(Ge.right)}function oi(Ge){return Ge===yt?0:Ge.lf_left+Ge.piece.lineFeedCnt+oi(Ge.right)}function mi(){yt.parent=yt}function bi(Ge,w){const H=w.right;H.size_left+=w.size_left+(w.piece?w.piece.length:0),H.lf_left+=w.lf_left+(w.piece?w.piece.lineFeedCnt:0),w.right=H.left,H.left!==yt&&(H.left.parent=w),H.parent=w.parent,w.parent===yt?Ge.root=H:w.parent.left===w?w.parent.left=H:w.parent.right=H,H.left=w,w.parent=H}function Ai(Ge,w){const H=w.left;w.left=H.right,H.right!==yt&&(H.right.parent=w),H.parent=w.parent,w.size_left-=H.size_left+(H.piece?H.piece.length:0),w.lf_left-=H.lf_left+(H.piece?H.piece.lineFeedCnt:0),w.parent===yt?Ge.root=H:w===w.parent.right?w.parent.right=H:w.parent.left=H,H.right=w,w.parent=H}function $i(Ge,w){let H,ie;if(w.left===yt?(ie=w,H=ie.right):w.right===yt?(ie=w,H=ie.left):(ie=At(w.right),H=ie.right),ie===Ge.root){Ge.root=H,H.color=0,w.detach(),mi(),Ge.root.parent=yt;return}const De=ie.color===1;if(ie===ie.parent.left?ie.parent.left=H:ie.parent.right=H,ie===w?(H.parent=ie.parent,fn(Ge,H)):(ie.parent===w?H.parent=ie:H.parent=ie.parent,fn(Ge,H),ie.left=w.left,ie.right=w.right,ie.parent=w.parent,ie.color=w.color,w===Ge.root?Ge.root=ie:w===w.parent.left?w.parent.left=ie:w.parent.right=ie,ie.left!==yt&&(ie.left.parent=ie),ie.right!==yt&&(ie.right.parent=ie),ie.size_left=w.size_left,ie.lf_left=w.lf_left,fn(Ge,ie)),w.detach(),H.parent.left===H){const Qe=si(H),ft=oi(H);if(Qe!==H.parent.size_left||ft!==H.parent.lf_left){const mt=Qe-H.parent.size_left,Pt=ft-H.parent.lf_left;H.parent.size_left=Qe,H.parent.lf_left=ft,Qi(Ge,H.parent,mt,Pt)}}if(fn(Ge,H.parent),De){mi();return}let Fe;for(;H!==Ge.root&&H.color===0;)H===H.parent.left?(Fe=H.parent.right,Fe.color===1&&(Fe.color=0,H.parent.color=1,bi(Ge,H.parent),Fe=H.parent.right),Fe.left.color===0&&Fe.right.color===0?(Fe.color=1,H=H.parent):(Fe.right.color===0&&(Fe.left.color=0,Fe.color=1,Ai(Ge,Fe),Fe=H.parent.right),Fe.color=H.parent.color,H.parent.color=0,Fe.right.color=0,bi(Ge,H.parent),H=Ge.root)):(Fe=H.parent.left,Fe.color===1&&(Fe.color=0,H.parent.color=1,Ai(Ge,H.parent),Fe=H.parent.left),Fe.left.color===0&&Fe.right.color===0?(Fe.color=1,H=H.parent):(Fe.left.color===0&&(Fe.right.color=0,Fe.color=1,bi(Ge,Fe),Fe=H.parent.left),Fe.color=H.parent.color,H.parent.color=0,Fe.left.color=0,Ai(Ge,H.parent),H=Ge.root));H.color=0,mi()}function Vi(Ge,w){for(fn(Ge,w);w!==Ge.root&&w.parent.color===1;)if(w.parent===w.parent.parent.left){const H=w.parent.parent.right;H.color===1?(w.parent.color=0,H.color=0,w.parent.parent.color=1,w=w.parent.parent):(w===w.parent.right&&(w=w.parent,bi(Ge,w)),w.parent.color=0,w.parent.parent.color=1,Ai(Ge,w.parent.parent))}else{const H=w.parent.parent.left;H.color===1?(w.parent.color=0,H.color=0,w.parent.parent.color=1,w=w.parent.parent):(w===w.parent.left&&(w=w.parent,Ai(Ge,w)),w.parent.color=0,w.parent.parent.color=1,bi(Ge,w.parent.parent))}Ge.root.color=0}function Qi(Ge,w,H,ie){for(;w!==Ge.root&&w!==yt;)w.parent.left===w&&(w.parent.size_left+=H,w.parent.lf_left+=ie),w=w.parent}function fn(Ge,w){let H=0,ie=0;if(w!==Ge.root){for(;w!==Ge.root&&w===w.parent.right;)w=w.parent;if(w!==Ge.root)for(w=w.parent,H=si(w.left)-w.size_left,ie=oi(w.left)-w.lf_left,w.size_left+=H,w.lf_left+=ie;w!==Ge.root&&(H!==0||ie!==0);)w.parent.left===w&&(w.parent.size_left+=H,w.parent.lf_left+=ie),w=w.parent}}var Yi=t(58461);const Pi=65535;function Li(Ge){let w;return Ge[Ge.length-1]<65536?w=new Uint16Array(Ge.length):w=new Uint32Array(Ge.length),w.set(Ge,0),w}class gn{constructor(w,H,ie,De,Fe){this.lineStarts=w,this.cr=H,this.lf=ie,this.crlf=De,this.isBasicASCII=Fe}}function on(Ge,w=!0){const H=[0];let ie=1;for(let De=0,Fe=Ge.length;De<Fe;De++){const Qe=Ge.charCodeAt(De);Qe===13?De+1<Fe&&Ge.charCodeAt(De+1)===10?(H[ie++]=De+2,De++):H[ie++]=De+1:Qe===10&&(H[ie++]=De+1)}return w?Li(H):H}function Nn(Ge,w){Ge.length=0,Ge[0]=0;let H=1,ie=0,De=0,Fe=0,Qe=!0;for(let mt=0,Pt=w.length;mt<Pt;mt++){const Tt=w.charCodeAt(mt);Tt===13?mt+1<Pt&&w.charCodeAt(mt+1)===10?(Fe++,Ge[H++]=mt+2,mt++):(ie++,Ge[H++]=mt+1):Tt===10?(De++,Ge[H++]=mt+1):Qe&&Tt!==9&&(Tt<32||Tt>126)&&(Qe=!1)}const ft=new gn(Li(Ge),ie,De,Fe,Qe);return Ge.length=0,ft}class ln{constructor(w,H,ie,De,Fe){this.bufferIndex=w,this.start=H,this.end=ie,this.lineFeedCnt=De,this.length=Fe}}class Yt{constructor(w,H){this.buffer=w,this.lineStarts=H}}class ti{constructor(w,H){this._pieces=[],this._tree=w,this._BOM=H,this._index=0,w.root!==yt&&w.iterate(w.root,ie=>(ie!==yt&&this._pieces.push(ie.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class fi{constructor(w){this._limit=w,this._cache=[]}get(w){for(let H=this._cache.length-1;H>=0;H--){const ie=this._cache[H];if(ie.nodeStartOffset<=w&&ie.nodeStartOffset+ie.node.piece.length>=w)return ie}return null}get2(w){for(let H=this._cache.length-1;H>=0;H--){const ie=this._cache[H];if(ie.nodeStartLineNumber&&ie.nodeStartLineNumber<w&&ie.nodeStartLineNumber+ie.node.piece.lineFeedCnt>=w)return ie}return null}set(w){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(w)}validate(w){let H=!1;const ie=this._cache;for(let De=0;De<ie.length;De++){const Fe=ie[De];if(Fe.node.parent===null||Fe.nodeStartOffset>=w){ie[De]=null,H=!0;continue}}if(H){const De=[];for(const Fe of ie)Fe!==null&&De.push(Fe);this._cache=De}}}class Gt{constructor(w,H,ie){this.create(w,H,ie)}create(w,H,ie){this._buffers=[new Yt("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=yt,this._lineCnt=1,this._length=0,this._EOL=H,this._EOLLength=H.length,this._EOLNormalized=ie;let De=null;for(let Fe=0,Qe=w.length;Fe<Qe;Fe++)if(w[Fe].buffer.length>0){w[Fe].lineStarts||(w[Fe].lineStarts=on(w[Fe].buffer));const ft=new ln(Fe+1,{line:0,column:0},{line:w[Fe].lineStarts.length-1,column:w[Fe].buffer.length-w[Fe].lineStarts[w[Fe].lineStarts.length-1]},w[Fe].lineStarts.length-1,w[Fe].buffer.length);this._buffers.push(w[Fe]),De=this.rbInsertRight(De,ft)}this._searchCache=new fi(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(w){const H=Pi,ie=H-Math.floor(H/3),De=ie*2;let Fe="",Qe=0;const ft=[];if(this.iterate(this.root,mt=>{const Pt=this.getNodeContent(mt),Tt=Pt.length;if(Qe<=ie||Qe+Tt<De)return Fe+=Pt,Qe+=Tt,!0;const Dt=Fe.replace(/\r\n|\r|\n/g,w);return ft.push(new Yt(Dt,on(Dt))),Fe=Pt,Qe=Tt,!0}),Qe>0){const mt=Fe.replace(/\r\n|\r|\n/g,w);ft.push(new Yt(mt,on(mt)))}this.create(ft,w,!0)}getEOL(){return this._EOL}setEOL(w){this._EOL=w,this._EOLLength=this._EOL.length,this.normalizeEOL(w)}createSnapshot(w){return new ti(this,w)}getOffsetAt(w,H){let ie=0,De=this.root;for(;De!==yt;)if(De.left!==yt&&De.lf_left+1>=w)De=De.left;else if(De.lf_left+De.piece.lineFeedCnt+1>=w){ie+=De.size_left;const Fe=this.getAccumulatedValue(De,w-De.lf_left-2);return ie+=Fe+H-1}else w-=De.lf_left+De.piece.lineFeedCnt,ie+=De.size_left+De.piece.length,De=De.right;return ie}getPositionAt(w){w=Math.floor(w),w=Math.max(0,w);let H=this.root,ie=0;const De=w;for(;H!==yt;)if(H.size_left!==0&&H.size_left>=w)H=H.left;else if(H.size_left+H.piece.length>=w){const Fe=this.getIndexOf(H,w-H.size_left);if(ie+=H.lf_left+Fe.index,Fe.index===0){const Qe=this.getOffsetAt(ie+1,1),ft=De-Qe;return new g.L(ie+1,ft+1)}return new g.L(ie+1,Fe.remainder+1)}else if(w-=H.size_left+H.piece.length,ie+=H.lf_left+H.piece.lineFeedCnt,H.right===yt){const Fe=this.getOffsetAt(ie+1,1),Qe=De-w-Fe;return new g.L(ie+1,Qe+1)}else H=H.right;return new g.L(1,1)}getValueInRange(w,H){if(w.startLineNumber===w.endLineNumber&&w.startColumn===w.endColumn)return"";const ie=this.nodeAt2(w.startLineNumber,w.startColumn),De=this.nodeAt2(w.endLineNumber,w.endColumn),Fe=this.getValueInRange2(ie,De);return H?H!==this._EOL||!this._EOLNormalized?Fe.replace(/\r\n|\r|\n/g,H):H===this.getEOL()&&this._EOLNormalized?Fe:Fe.replace(/\r\n|\r|\n/g,H):Fe}getValueInRange2(w,H){if(w.node===H.node){const ft=w.node,mt=this._buffers[ft.piece.bufferIndex].buffer,Pt=this.offsetInBuffer(ft.piece.bufferIndex,ft.piece.start);return mt.substring(Pt+w.remainder,Pt+H.remainder)}let ie=w.node;const De=this._buffers[ie.piece.bufferIndex].buffer,Fe=this.offsetInBuffer(ie.piece.bufferIndex,ie.piece.start);let Qe=De.substring(Fe+w.remainder,Fe+ie.piece.length);for(ie=ie.next();ie!==yt;){const ft=this._buffers[ie.piece.bufferIndex].buffer,mt=this.offsetInBuffer(ie.piece.bufferIndex,ie.piece.start);if(ie===H.node){Qe+=ft.substring(mt,mt+H.remainder);break}else Qe+=ft.substr(mt,ie.piece.length);ie=ie.next()}return Qe}getLinesContent(){const w=[];let H=0,ie="",De=!1;return this.iterate(this.root,Fe=>{if(Fe===yt)return!0;const Qe=Fe.piece;let ft=Qe.length;if(ft===0)return!0;const mt=this._buffers[Qe.bufferIndex].buffer,Pt=this._buffers[Qe.bufferIndex].lineStarts,Tt=Qe.start.line,Dt=Qe.end.line;let zt=Pt[Tt]+Qe.start.column;if(De&&(mt.charCodeAt(zt)===10&&(zt++,ft--),w[H++]=ie,ie="",De=!1,ft===0))return!0;if(Tt===Dt)return!this._EOLNormalized&&mt.charCodeAt(zt+ft-1)===13?(De=!0,ie+=mt.substr(zt,ft-1)):ie+=mt.substr(zt,ft),!0;ie+=this._EOLNormalized?mt.substring(zt,Math.max(zt,Pt[Tt+1]-this._EOLLength)):mt.substring(zt,Pt[Tt+1]).replace(/(\r\n|\r|\n)$/,""),w[H++]=ie;for(let ui=Tt+1;ui<Dt;ui++)ie=this._EOLNormalized?mt.substring(Pt[ui],Pt[ui+1]-this._EOLLength):mt.substring(Pt[ui],Pt[ui+1]).replace(/(\r\n|\r|\n)$/,""),w[H++]=ie;return!this._EOLNormalized&&mt.charCodeAt(Pt[Dt]+Qe.end.column-1)===13?(De=!0,Qe.end.column===0?H--:ie=mt.substr(Pt[Dt],Qe.end.column-1)):ie=mt.substr(Pt[Dt],Qe.end.column),!0}),De&&(w[H++]=ie,ie=""),w[H++]=ie,w}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(w){return this._lastVisitedLine.lineNumber===w?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=w,w===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(w):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(w,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(w).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(w){if(w.remainder===w.node.piece.length){const H=w.node.next();if(!H)return 0;const ie=this._buffers[H.piece.bufferIndex],De=this.offsetInBuffer(H.piece.bufferIndex,H.piece.start);return ie.buffer.charCodeAt(De)}else{const H=this._buffers[w.node.piece.bufferIndex],De=this.offsetInBuffer(w.node.piece.bufferIndex,w.node.piece.start)+w.remainder;return H.buffer.charCodeAt(De)}}getLineCharCode(w,H){const ie=this.nodeAt2(w,H+1);return this._getCharCode(ie)}getLineLength(w){if(w===this.getLineCount()){const H=this.getOffsetAt(w,1);return this.getLength()-H}return this.getOffsetAt(w+1,1)-this.getOffsetAt(w,1)-this._EOLLength}findMatchesInNode(w,H,ie,De,Fe,Qe,ft,mt,Pt,Tt,Dt){const zt=this._buffers[w.piece.bufferIndex],ui=this.offsetInBuffer(w.piece.bufferIndex,w.piece.start),Di=this.offsetInBuffer(w.piece.bufferIndex,Fe),Ni=this.offsetInBuffer(w.piece.bufferIndex,Qe);let Ei;const qi={line:0,column:0};let yn,cn;H._wordSeparators?(yn=zt.buffer.substring(Di,Ni),cn=$n=>$n+Di,H.reset(0)):(yn=zt.buffer,cn=$n=>$n,H.reset(Di));do if(Ei=H.next(yn),Ei){if(cn(Ei.index)>=Ni)return Tt;this.positionInBuffer(w,cn(Ei.index)-ui,qi);const $n=this.getLineFeedCnt(w.piece.bufferIndex,Fe,qi),Ps=qi.line===Fe.line?qi.column-Fe.column+De:qi.column+1,vs=Ps+Ei[0].length;if(Dt[Tt++]=(0,Yi.iE)(new a.e(ie+$n,Ps,ie+$n,vs),Ei,mt),cn(Ei.index)+Ei[0].length>=Ni||Tt>=Pt)return Tt}while(Ei);return Tt}findMatchesLineByLine(w,H,ie,De){const Fe=[];let Qe=0;const ft=new Yi.sz(H.wordSeparators,H.regex);let mt=this.nodeAt2(w.startLineNumber,w.startColumn);if(mt===null)return[];const Pt=this.nodeAt2(w.endLineNumber,w.endColumn);if(Pt===null)return[];let Tt=this.positionInBuffer(mt.node,mt.remainder);const Dt=this.positionInBuffer(Pt.node,Pt.remainder);if(mt.node===Pt.node)return this.findMatchesInNode(mt.node,ft,w.startLineNumber,w.startColumn,Tt,Dt,H,ie,De,Qe,Fe),Fe;let zt=w.startLineNumber,ui=mt.node;for(;ui!==Pt.node;){const Ni=this.getLineFeedCnt(ui.piece.bufferIndex,Tt,ui.piece.end);if(Ni>=1){const qi=this._buffers[ui.piece.bufferIndex].lineStarts,yn=this.offsetInBuffer(ui.piece.bufferIndex,ui.piece.start),cn=qi[Tt.line+Ni],$n=zt===w.startLineNumber?w.startColumn:1;if(Qe=this.findMatchesInNode(ui,ft,zt,$n,Tt,this.positionInBuffer(ui,cn-yn),H,ie,De,Qe,Fe),Qe>=De)return Fe;zt+=Ni}const Ei=zt===w.startLineNumber?w.startColumn-1:0;if(zt===w.endLineNumber){const qi=this.getLineContent(zt).substring(Ei,w.endColumn-1);return Qe=this._findMatchesInLine(H,ft,qi,w.endLineNumber,Ei,Qe,Fe,ie,De),Fe}if(Qe=this._findMatchesInLine(H,ft,this.getLineContent(zt).substr(Ei),zt,Ei,Qe,Fe,ie,De),Qe>=De)return Fe;zt++,mt=this.nodeAt2(zt,1),ui=mt.node,Tt=this.positionInBuffer(mt.node,mt.remainder)}if(zt===w.endLineNumber){const Ni=zt===w.startLineNumber?w.startColumn-1:0,Ei=this.getLineContent(zt).substring(Ni,w.endColumn-1);return Qe=this._findMatchesInLine(H,ft,Ei,w.endLineNumber,Ni,Qe,Fe,ie,De),Fe}const Di=zt===w.startLineNumber?w.startColumn:1;return Qe=this.findMatchesInNode(Pt.node,ft,zt,Di,Tt,Dt,H,ie,De,Qe,Fe),Fe}_findMatchesInLine(w,H,ie,De,Fe,Qe,ft,mt,Pt){const Tt=w.wordSeparators;if(!mt&&w.simpleSearch){const zt=w.simpleSearch,ui=zt.length,Di=ie.length;let Ni=-ui;for(;(Ni=ie.indexOf(zt,Ni+ui))!==-1;)if((!Tt||(0,Yi.cM)(Tt,ie,Di,Ni,ui))&&(ft[Qe++]=new m.tk(new a.e(De,Ni+1+Fe,De,Ni+1+ui+Fe),null),Qe>=Pt))return Qe;return Qe}let Dt;H.reset(0);do if(Dt=H.next(ie),Dt&&(ft[Qe++]=(0,Yi.iE)(new a.e(De,Dt.index+1+Fe,De,Dt.index+1+Dt[0].length+Fe),Dt,mt),Qe>=Pt))return Qe;while(Dt);return Qe}insert(w,H,ie=!1){if(this._EOLNormalized=this._EOLNormalized&&ie,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==yt){const{node:De,remainder:Fe,nodeStartOffset:Qe}=this.nodeAt(w),ft=De.piece,mt=ft.bufferIndex,Pt=this.positionInBuffer(De,Fe);if(De.piece.bufferIndex===0&&ft.end.line===this._lastChangeBufferPos.line&&ft.end.column===this._lastChangeBufferPos.column&&Qe+ft.length===w&&H.length<Pi){this.appendToNode(De,H),this.computeBufferMetadata();return}if(Qe===w)this.insertContentToNodeLeft(H,De),this._searchCache.validate(w);else if(Qe+De.piece.length>w){const Tt=[];let Dt=new ln(ft.bufferIndex,Pt,ft.end,this.getLineFeedCnt(ft.bufferIndex,Pt,ft.end),this.offsetInBuffer(mt,ft.end)-this.offsetInBuffer(mt,Pt));if(this.shouldCheckCRLF()&&this.endWithCR(H)&&this.nodeCharCodeAt(De,Fe)===10){const Ni={line:Dt.start.line+1,column:0};Dt=new ln(Dt.bufferIndex,Ni,Dt.end,this.getLineFeedCnt(Dt.bufferIndex,Ni,Dt.end),Dt.length-1),H+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(H))if(this.nodeCharCodeAt(De,Fe-1)===13){const Ni=this.positionInBuffer(De,Fe-1);this.deleteNodeTail(De,Ni),H="\r"+H,De.piece.length===0&&Tt.push(De)}else this.deleteNodeTail(De,Pt);else this.deleteNodeTail(De,Pt);const zt=this.createNewPieces(H);Dt.length>0&&this.rbInsertRight(De,Dt);let ui=De;for(let Di=0;Di<zt.length;Di++)ui=this.rbInsertRight(ui,zt[Di]);this.deleteNodes(Tt)}else this.insertContentToNodeRight(H,De)}else{const De=this.createNewPieces(H);let Fe=this.rbInsertLeft(null,De[0]);for(let Qe=1;Qe<De.length;Qe++)Fe=this.rbInsertRight(Fe,De[Qe])}this.computeBufferMetadata()}delete(w,H){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",H<=0||this.root===yt)return;const ie=this.nodeAt(w),De=this.nodeAt(w+H),Fe=ie.node,Qe=De.node;if(Fe===Qe){const zt=this.positionInBuffer(Fe,ie.remainder),ui=this.positionInBuffer(Fe,De.remainder);if(ie.nodeStartOffset===w){if(H===Fe.piece.length){const Di=Fe.next();$i(this,Fe),this.validateCRLFWithPrevNode(Di),this.computeBufferMetadata();return}this.deleteNodeHead(Fe,ui),this._searchCache.validate(w),this.validateCRLFWithPrevNode(Fe),this.computeBufferMetadata();return}if(ie.nodeStartOffset+Fe.piece.length===w+H){this.deleteNodeTail(Fe,zt),this.validateCRLFWithNextNode(Fe),this.computeBufferMetadata();return}this.shrinkNode(Fe,zt,ui),this.computeBufferMetadata();return}const ft=[],mt=this.positionInBuffer(Fe,ie.remainder);this.deleteNodeTail(Fe,mt),this._searchCache.validate(w),Fe.piece.length===0&&ft.push(Fe);const Pt=this.positionInBuffer(Qe,De.remainder);this.deleteNodeHead(Qe,Pt),Qe.piece.length===0&&ft.push(Qe);const Tt=Fe.next();for(let zt=Tt;zt!==yt&&zt!==Qe;zt=zt.next())ft.push(zt);const Dt=Fe.piece.length===0?Fe.prev():Fe;this.deleteNodes(ft),this.validateCRLFWithNextNode(Dt),this.computeBufferMetadata()}insertContentToNodeLeft(w,H){const ie=[];if(this.shouldCheckCRLF()&&this.endWithCR(w)&&this.startWithLF(H)){const Qe=H.piece,ft={line:Qe.start.line+1,column:0},mt=new ln(Qe.bufferIndex,ft,Qe.end,this.getLineFeedCnt(Qe.bufferIndex,ft,Qe.end),Qe.length-1);H.piece=mt,w+=`
`,Qi(this,H,-1,-1),H.piece.length===0&&ie.push(H)}const De=this.createNewPieces(w);let Fe=this.rbInsertLeft(H,De[De.length-1]);for(let Qe=De.length-2;Qe>=0;Qe--)Fe=this.rbInsertLeft(Fe,De[Qe]);this.validateCRLFWithPrevNode(Fe),this.deleteNodes(ie)}insertContentToNodeRight(w,H){this.adjustCarriageReturnFromNext(w,H)&&(w+=`
`);const ie=this.createNewPieces(w),De=this.rbInsertRight(H,ie[0]);let Fe=De;for(let Qe=1;Qe<ie.length;Qe++)Fe=this.rbInsertRight(Fe,ie[Qe]);this.validateCRLFWithPrevNode(De)}positionInBuffer(w,H,ie){const De=w.piece,Fe=w.piece.bufferIndex,Qe=this._buffers[Fe].lineStarts,mt=Qe[De.start.line]+De.start.column+H;let Pt=De.start.line,Tt=De.end.line,Dt=0,zt=0,ui=0;for(;Pt<=Tt&&(Dt=Pt+(Tt-Pt)/2|0,ui=Qe[Dt],Dt!==Tt);)if(zt=Qe[Dt+1],mt<ui)Tt=Dt-1;else if(mt>=zt)Pt=Dt+1;else break;return ie?(ie.line=Dt,ie.column=mt-ui,null):{line:Dt,column:mt-ui}}getLineFeedCnt(w,H,ie){if(ie.column===0)return ie.line-H.line;const De=this._buffers[w].lineStarts;if(ie.line===De.length-1)return ie.line-H.line;const Fe=De[ie.line+1],Qe=De[ie.line]+ie.column;if(Fe>Qe+1)return ie.line-H.line;const ft=Qe-1;return this._buffers[w].buffer.charCodeAt(ft)===13?ie.line-H.line+1:ie.line-H.line}offsetInBuffer(w,H){return this._buffers[w].lineStarts[H.line]+H.column}deleteNodes(w){for(let H=0;H<w.length;H++)$i(this,w[H])}createNewPieces(w){if(w.length>Pi){const Tt=[];for(;w.length>Pi;){const zt=w.charCodeAt(Pi-1);let ui;zt===13||zt>=55296&&zt<=56319?(ui=w.substring(0,Pi-1),w=w.substring(Pi-1)):(ui=w.substring(0,Pi),w=w.substring(Pi));const Di=on(ui);Tt.push(new ln(this._buffers.length,{line:0,column:0},{line:Di.length-1,column:ui.length-Di[Di.length-1]},Di.length-1,ui.length)),this._buffers.push(new Yt(ui,Di))}const Dt=on(w);return Tt.push(new ln(this._buffers.length,{line:0,column:0},{line:Dt.length-1,column:w.length-Dt[Dt.length-1]},Dt.length-1,w.length)),this._buffers.push(new Yt(w,Dt)),Tt}let H=this._buffers[0].buffer.length;const ie=on(w,!1);let De=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===H&&H!==0&&this.startWithLF(w)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},De=this._lastChangeBufferPos;for(let Tt=0;Tt<ie.length;Tt++)ie[Tt]+=H+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ie.slice(1)),this._buffers[0].buffer+="_"+w,H+=1}else{if(H!==0)for(let Tt=0;Tt<ie.length;Tt++)ie[Tt]+=H;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ie.slice(1)),this._buffers[0].buffer+=w}const Fe=this._buffers[0].buffer.length,Qe=this._buffers[0].lineStarts.length-1,ft=Fe-this._buffers[0].lineStarts[Qe],mt={line:Qe,column:ft},Pt=new ln(0,De,mt,this.getLineFeedCnt(0,De,mt),Fe-H);return this._lastChangeBufferPos=mt,[Pt]}getLineRawContent(w,H=0){let ie=this.root,De="";const Fe=this._searchCache.get2(w);if(Fe){ie=Fe.node;const Qe=this.getAccumulatedValue(ie,w-Fe.nodeStartLineNumber-1),ft=this._buffers[ie.piece.bufferIndex].buffer,mt=this.offsetInBuffer(ie.piece.bufferIndex,ie.piece.start);if(Fe.nodeStartLineNumber+ie.piece.lineFeedCnt===w)De=ft.substring(mt+Qe,mt+ie.piece.length);else{const Pt=this.getAccumulatedValue(ie,w-Fe.nodeStartLineNumber);return ft.substring(mt+Qe,mt+Pt-H)}}else{let Qe=0;const ft=w;for(;ie!==yt;)if(ie.left!==yt&&ie.lf_left>=w-1)ie=ie.left;else if(ie.lf_left+ie.piece.lineFeedCnt>w-1){const mt=this.getAccumulatedValue(ie,w-ie.lf_left-2),Pt=this.getAccumulatedValue(ie,w-ie.lf_left-1),Tt=this._buffers[ie.piece.bufferIndex].buffer,Dt=this.offsetInBuffer(ie.piece.bufferIndex,ie.piece.start);return Qe+=ie.size_left,this._searchCache.set({node:ie,nodeStartOffset:Qe,nodeStartLineNumber:ft-(w-1-ie.lf_left)}),Tt.substring(Dt+mt,Dt+Pt-H)}else if(ie.lf_left+ie.piece.lineFeedCnt===w-1){const mt=this.getAccumulatedValue(ie,w-ie.lf_left-2),Pt=this._buffers[ie.piece.bufferIndex].buffer,Tt=this.offsetInBuffer(ie.piece.bufferIndex,ie.piece.start);De=Pt.substring(Tt+mt,Tt+ie.piece.length);break}else w-=ie.lf_left+ie.piece.lineFeedCnt,Qe+=ie.size_left+ie.piece.length,ie=ie.right}for(ie=ie.next();ie!==yt;){const Qe=this._buffers[ie.piece.bufferIndex].buffer;if(ie.piece.lineFeedCnt>0){const ft=this.getAccumulatedValue(ie,0),mt=this.offsetInBuffer(ie.piece.bufferIndex,ie.piece.start);return De+=Qe.substring(mt,mt+ft-H),De}else{const ft=this.offsetInBuffer(ie.piece.bufferIndex,ie.piece.start);De+=Qe.substr(ft,ie.piece.length)}ie=ie.next()}return De}computeBufferMetadata(){let w=this.root,H=1,ie=0;for(;w!==yt;)H+=w.lf_left+w.piece.lineFeedCnt,ie+=w.size_left+w.piece.length,w=w.right;this._lineCnt=H,this._length=ie,this._searchCache.validate(this._length)}getIndexOf(w,H){const ie=w.piece,De=this.positionInBuffer(w,H),Fe=De.line-ie.start.line;if(this.offsetInBuffer(ie.bufferIndex,ie.end)-this.offsetInBuffer(ie.bufferIndex,ie.start)===H){const Qe=this.getLineFeedCnt(w.piece.bufferIndex,ie.start,De);if(Qe!==Fe)return{index:Qe,remainder:0}}return{index:Fe,remainder:De.column}}getAccumulatedValue(w,H){if(H<0)return 0;const ie=w.piece,De=this._buffers[ie.bufferIndex].lineStarts,Fe=ie.start.line+H+1;return Fe>ie.end.line?De[ie.end.line]+ie.end.column-De[ie.start.line]-ie.start.column:De[Fe]-De[ie.start.line]-ie.start.column}deleteNodeTail(w,H){const ie=w.piece,De=ie.lineFeedCnt,Fe=this.offsetInBuffer(ie.bufferIndex,ie.end),Qe=H,ft=this.offsetInBuffer(ie.bufferIndex,Qe),mt=this.getLineFeedCnt(ie.bufferIndex,ie.start,Qe),Pt=mt-De,Tt=ft-Fe,Dt=ie.length+Tt;w.piece=new ln(ie.bufferIndex,ie.start,Qe,mt,Dt),Qi(this,w,Tt,Pt)}deleteNodeHead(w,H){const ie=w.piece,De=ie.lineFeedCnt,Fe=this.offsetInBuffer(ie.bufferIndex,ie.start),Qe=H,ft=this.getLineFeedCnt(ie.bufferIndex,Qe,ie.end),mt=this.offsetInBuffer(ie.bufferIndex,Qe),Pt=ft-De,Tt=Fe-mt,Dt=ie.length+Tt;w.piece=new ln(ie.bufferIndex,Qe,ie.end,ft,Dt),Qi(this,w,Tt,Pt)}shrinkNode(w,H,ie){const De=w.piece,Fe=De.start,Qe=De.end,ft=De.length,mt=De.lineFeedCnt,Pt=H,Tt=this.getLineFeedCnt(De.bufferIndex,De.start,Pt),Dt=this.offsetInBuffer(De.bufferIndex,H)-this.offsetInBuffer(De.bufferIndex,Fe);w.piece=new ln(De.bufferIndex,De.start,Pt,Tt,Dt),Qi(this,w,Dt-ft,Tt-mt);const zt=new ln(De.bufferIndex,ie,Qe,this.getLineFeedCnt(De.bufferIndex,ie,Qe),this.offsetInBuffer(De.bufferIndex,Qe)-this.offsetInBuffer(De.bufferIndex,ie)),ui=this.rbInsertRight(w,zt);this.validateCRLFWithPrevNode(ui)}appendToNode(w,H){this.adjustCarriageReturnFromNext(H,w)&&(H+=`
`);const ie=this.shouldCheckCRLF()&&this.startWithLF(H)&&this.endWithCR(w),De=this._buffers[0].buffer.length;this._buffers[0].buffer+=H;const Fe=on(H,!1);for(let ui=0;ui<Fe.length;ui++)Fe[ui]+=De;if(ie){const ui=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:De-ui}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Fe.slice(1));const Qe=this._buffers[0].lineStarts.length-1,ft=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Qe],mt={line:Qe,column:ft},Pt=w.piece.length+H.length,Tt=w.piece.lineFeedCnt,Dt=this.getLineFeedCnt(0,w.piece.start,mt),zt=Dt-Tt;w.piece=new ln(w.piece.bufferIndex,w.piece.start,mt,Dt,Pt),this._lastChangeBufferPos=mt,Qi(this,w,H.length,zt)}nodeAt(w){let H=this.root;const ie=this._searchCache.get(w);if(ie)return{node:ie.node,nodeStartOffset:ie.nodeStartOffset,remainder:w-ie.nodeStartOffset};let De=0;for(;H!==yt;)if(H.size_left>w)H=H.left;else if(H.size_left+H.piece.length>=w){De+=H.size_left;const Fe={node:H,remainder:w-H.size_left,nodeStartOffset:De};return this._searchCache.set(Fe),Fe}else w-=H.size_left+H.piece.length,De+=H.size_left+H.piece.length,H=H.right;return null}nodeAt2(w,H){let ie=this.root,De=0;for(;ie!==yt;)if(ie.left!==yt&&ie.lf_left>=w-1)ie=ie.left;else if(ie.lf_left+ie.piece.lineFeedCnt>w-1){const Fe=this.getAccumulatedValue(ie,w-ie.lf_left-2),Qe=this.getAccumulatedValue(ie,w-ie.lf_left-1);return De+=ie.size_left,{node:ie,remainder:Math.min(Fe+H-1,Qe),nodeStartOffset:De}}else if(ie.lf_left+ie.piece.lineFeedCnt===w-1){const Fe=this.getAccumulatedValue(ie,w-ie.lf_left-2);if(Fe+H-1<=ie.piece.length)return{node:ie,remainder:Fe+H-1,nodeStartOffset:De};H-=ie.piece.length-Fe;break}else w-=ie.lf_left+ie.piece.lineFeedCnt,De+=ie.size_left+ie.piece.length,ie=ie.right;for(ie=ie.next();ie!==yt;){if(ie.piece.lineFeedCnt>0){const Fe=this.getAccumulatedValue(ie,0),Qe=this.offsetOfNode(ie);return{node:ie,remainder:Math.min(H-1,Fe),nodeStartOffset:Qe}}else if(ie.piece.length>=H-1){const Fe=this.offsetOfNode(ie);return{node:ie,remainder:H-1,nodeStartOffset:Fe}}else H-=ie.piece.length;ie=ie.next()}return null}nodeCharCodeAt(w,H){if(w.piece.lineFeedCnt<1)return-1;const ie=this._buffers[w.piece.bufferIndex],De=this.offsetInBuffer(w.piece.bufferIndex,w.piece.start)+H;return ie.buffer.charCodeAt(De)}offsetOfNode(w){if(!w)return 0;let H=w.size_left;for(;w!==this.root;)w.parent.right===w&&(H+=w.parent.size_left+w.parent.piece.length),w=w.parent;return H}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(w){if(typeof w=="string")return w.charCodeAt(0)===10;if(w===yt||w.piece.lineFeedCnt===0)return!1;const H=w.piece,ie=this._buffers[H.bufferIndex].lineStarts,De=H.start.line,Fe=ie[De]+H.start.column;return De===ie.length-1||ie[De+1]>Fe+1?!1:this._buffers[H.bufferIndex].buffer.charCodeAt(Fe)===10}endWithCR(w){return typeof w=="string"?w.charCodeAt(w.length-1)===13:w===yt||w.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(w,w.piece.length-1)===13}validateCRLFWithPrevNode(w){if(this.shouldCheckCRLF()&&this.startWithLF(w)){const H=w.prev();this.endWithCR(H)&&this.fixCRLF(H,w)}}validateCRLFWithNextNode(w){if(this.shouldCheckCRLF()&&this.endWithCR(w)){const H=w.next();this.startWithLF(H)&&this.fixCRLF(w,H)}}fixCRLF(w,H){const ie=[],De=this._buffers[w.piece.bufferIndex].lineStarts;let Fe;w.piece.end.column===0?Fe={line:w.piece.end.line-1,column:De[w.piece.end.line]-De[w.piece.end.line-1]-1}:Fe={line:w.piece.end.line,column:w.piece.end.column-1};const Qe=w.piece.length-1,ft=w.piece.lineFeedCnt-1;w.piece=new ln(w.piece.bufferIndex,w.piece.start,Fe,ft,Qe),Qi(this,w,-1,-1),w.piece.length===0&&ie.push(w);const mt={line:H.piece.start.line+1,column:0},Pt=H.piece.length-1,Tt=this.getLineFeedCnt(H.piece.bufferIndex,mt,H.piece.end);H.piece=new ln(H.piece.bufferIndex,mt,H.piece.end,Tt,Pt),Qi(this,H,-1,-1),H.piece.length===0&&ie.push(H);const Dt=this.createNewPieces(`\r
`);this.rbInsertRight(w,Dt[0]);for(let zt=0;zt<ie.length;zt++)$i(this,ie[zt])}adjustCarriageReturnFromNext(w,H){if(this.shouldCheckCRLF()&&this.endWithCR(w)){const ie=H.next();if(this.startWithLF(ie)){if(w+=`
`,ie.piece.length===1)$i(this,ie);else{const De=ie.piece,Fe={line:De.start.line+1,column:0},Qe=De.length-1,ft=this.getLineFeedCnt(De.bufferIndex,Fe,De.end);ie.piece=new ln(De.bufferIndex,Fe,De.end,ft,Qe),Qi(this,ie,-1,-1)}return!0}}return!1}iterate(w,H){if(w===yt)return H(yt);const ie=this.iterate(w.left,H);return ie&&H(w)&&this.iterate(w.right,H)}getNodeContent(w){if(w===yt)return"";const H=this._buffers[w.piece.bufferIndex],ie=w.piece,De=this.offsetInBuffer(ie.bufferIndex,ie.start),Fe=this.offsetInBuffer(ie.bufferIndex,ie.end);return H.buffer.substring(De,Fe)}getPieceContent(w){const H=this._buffers[w.bufferIndex],ie=this.offsetInBuffer(w.bufferIndex,w.start),De=this.offsetInBuffer(w.bufferIndex,w.end);return H.buffer.substring(ie,De)}rbInsertRight(w,H){const ie=new qt(H,1);if(ie.left=yt,ie.right=yt,ie.parent=yt,ie.size_left=0,ie.lf_left=0,this.root===yt)this.root=ie,ie.color=0;else if(w.right===yt)w.right=ie,ie.parent=w;else{const Fe=At(w.right);Fe.left=ie,ie.parent=Fe}return Vi(this,ie),ie}rbInsertLeft(w,H){const ie=new qt(H,1);if(ie.left=yt,ie.right=yt,ie.parent=yt,ie.size_left=0,ie.lf_left=0,this.root===yt)this.root=ie,ie.color=0;else if(w.left===yt)w.left=ie,ie.parent=w;else{const De=Qt(w.left);De.right=ie,ie.parent=De}return Vi(this,ie),ie}}var Si=t(79989);class zi extends p.JT{constructor(w,H,ie,De,Fe,Qe,ft){super(),this._onDidChangeContent=this._register(new _.Q5),this._BOM=H,this._mightContainNonBasicASCII=!Qe,this._mightContainRTL=De,this._mightContainUnusualLineTerminators=Fe,this._pieceTree=new Gt(w,ie,ft)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(w){return this._pieceTree.createSnapshot(w?this._BOM:"")}getOffsetAt(w,H){return this._pieceTree.getOffsetAt(w,H)}getPositionAt(w){return this._pieceTree.getPositionAt(w)}getRangeAt(w,H){const ie=w+H,De=this.getPositionAt(w),Fe=this.getPositionAt(ie);return new a.e(De.lineNumber,De.column,Fe.lineNumber,Fe.column)}getValueInRange(w,H=0){if(w.isEmpty())return"";const ie=this._getEndOfLine(H);return this._pieceTree.getValueInRange(w,ie)}getValueLengthInRange(w,H=0){if(w.isEmpty())return 0;if(w.startLineNumber===w.endLineNumber)return w.endColumn-w.startColumn;const ie=this.getOffsetAt(w.startLineNumber,w.startColumn),De=this.getOffsetAt(w.endLineNumber,w.endColumn);let Fe=0;const Qe=this._getEndOfLine(H),ft=this.getEOL();if(Qe.length!==ft.length){const mt=Qe.length-ft.length,Pt=w.endLineNumber-w.startLineNumber;Fe=mt*Pt}return De-ie+Fe}getCharacterCountInRange(w,H=0){if(this._mightContainNonBasicASCII){let ie=0;const De=w.startLineNumber,Fe=w.endLineNumber;for(let Qe=De;Qe<=Fe;Qe++){const ft=this.getLineContent(Qe),mt=Qe===De?w.startColumn-1:0,Pt=Qe===Fe?w.endColumn-1:ft.length;for(let Tt=mt;Tt<Pt;Tt++)V.ZG(ft.charCodeAt(Tt))?(ie=ie+1,Tt=Tt+1):ie=ie+1}return ie+=this._getEndOfLine(H).length*(Fe-De),ie}return this.getValueLengthInRange(w,H)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(w){return this._pieceTree.getLineContent(w)}getLineCharCode(w,H){return this._pieceTree.getLineCharCode(w,H)}getLineLength(w){return this._pieceTree.getLineLength(w)}getLineFirstNonWhitespaceColumn(w){const H=V.LC(this.getLineContent(w));return H===-1?0:H+1}getLineLastNonWhitespaceColumn(w){const H=V.ow(this.getLineContent(w));return H===-1?0:H+2}_getEndOfLine(w){switch(w){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(w){this._pieceTree.setEOL(w)}applyEdits(w,H,ie){let De=this._mightContainRTL,Fe=this._mightContainUnusualLineTerminators,Qe=this._mightContainNonBasicASCII,ft=!0,mt=[];for(let Ni=0;Ni<w.length;Ni++){const Ei=w[Ni];ft&&Ei._isTracked&&(ft=!1);const qi=Ei.range;if(Ei.text){let vs=!0;Qe||(vs=!V.$i(Ei.text),Qe=vs),!De&&vs&&(De=V.Ut(Ei.text)),!Fe&&vs&&(Fe=V.ab(Ei.text))}let yn="",cn=0,$n=0,Ps=0;if(Ei.text){let vs;[cn,$n,Ps,vs]=(0,L.Q)(Ei.text);const xs=this.getEOL();vs===0||vs===(xs===`\r
`?2:1)?yn=Ei.text:yn=Ei.text.replace(/\r\n|\r|\n/g,xs)}mt[Ni]={sortIndex:Ni,identifier:Ei.identifier||null,range:qi,rangeOffset:this.getOffsetAt(qi.startLineNumber,qi.startColumn),rangeLength:this.getValueLengthInRange(qi),text:yn,eolCount:cn,firstLineLength:$n,lastLineLength:Ps,forceMoveMarkers:!!Ei.forceMoveMarkers,isAutoWhitespaceEdit:Ei.isAutoWhitespaceEdit||!1}}mt.sort(zi._sortOpsAscending);let Pt=!1;for(let Ni=0,Ei=mt.length-1;Ni<Ei;Ni++){const qi=mt[Ni].range.getEndPosition(),yn=mt[Ni+1].range.getStartPosition();if(yn.isBeforeOrEqual(qi)){if(yn.isBefore(qi))throw new Error("Overlapping ranges are not allowed!");Pt=!0}}ft&&(mt=this._reduceOperations(mt));const Tt=ie||H?zi._getInverseEditRanges(mt):[],Dt=[];if(H)for(let Ni=0;Ni<mt.length;Ni++){const Ei=mt[Ni],qi=Tt[Ni];if(Ei.isAutoWhitespaceEdit&&Ei.range.isEmpty())for(let yn=qi.startLineNumber;yn<=qi.endLineNumber;yn++){let cn="";yn===qi.startLineNumber&&(cn=this.getLineContent(Ei.range.startLineNumber),V.LC(cn)!==-1)||Dt.push({lineNumber:yn,oldContent:cn})}}let zt=null;if(ie){let Ni=0;zt=[];for(let Ei=0;Ei<mt.length;Ei++){const qi=mt[Ei],yn=Tt[Ei],cn=this.getValueInRange(qi.range),$n=qi.rangeOffset+Ni;Ni+=qi.text.length-cn.length,zt[Ei]={sortIndex:qi.sortIndex,identifier:qi.identifier,range:yn,text:cn,textChange:new Si.q(qi.rangeOffset,cn,$n,qi.text)}}Pt||zt.sort((Ei,qi)=>Ei.sortIndex-qi.sortIndex)}this._mightContainRTL=De,this._mightContainUnusualLineTerminators=Fe,this._mightContainNonBasicASCII=Qe;const ui=this._doApplyEdits(mt);let Di=null;if(H&&Dt.length>0){Dt.sort((Ni,Ei)=>Ei.lineNumber-Ni.lineNumber),Di=[];for(let Ni=0,Ei=Dt.length;Ni<Ei;Ni++){const qi=Dt[Ni].lineNumber;if(Ni>0&&Dt[Ni-1].lineNumber===qi)continue;const yn=Dt[Ni].oldContent,cn=this.getLineContent(qi);cn.length===0||cn===yn||V.LC(cn)!==-1||Di.push(qi)}}return this._onDidChangeContent.fire(),new m.je(zt,ui,Di)}_reduceOperations(w){return w.length<1e3?w:[this._toSingleEditOperation(w)]}_toSingleEditOperation(w){let H=!1;const ie=w[0].range,De=w[w.length-1].range,Fe=new a.e(ie.startLineNumber,ie.startColumn,De.endLineNumber,De.endColumn);let Qe=ie.startLineNumber,ft=ie.startColumn;const mt=[];for(let ui=0,Di=w.length;ui<Di;ui++){const Ni=w[ui],Ei=Ni.range;H=H||Ni.forceMoveMarkers,mt.push(this.getValueInRange(new a.e(Qe,ft,Ei.startLineNumber,Ei.startColumn))),Ni.text.length>0&&mt.push(Ni.text),Qe=Ei.endLineNumber,ft=Ei.endColumn}const Pt=mt.join(""),[Tt,Dt,zt]=(0,L.Q)(Pt);return{sortIndex:0,identifier:w[0].identifier,range:Fe,rangeOffset:this.getOffsetAt(Fe.startLineNumber,Fe.startColumn),rangeLength:this.getValueLengthInRange(Fe,0),text:Pt,eolCount:Tt,firstLineLength:Dt,lastLineLength:zt,forceMoveMarkers:H,isAutoWhitespaceEdit:!1}}_doApplyEdits(w){w.sort(zi._sortOpsDescending);const H=[];for(let ie=0;ie<w.length;ie++){const De=w[ie],Fe=De.range.startLineNumber,Qe=De.range.startColumn,ft=De.range.endLineNumber,mt=De.range.endColumn;if(Fe===ft&&Qe===mt&&De.text.length===0)continue;De.text?(this._pieceTree.delete(De.rangeOffset,De.rangeLength),this._pieceTree.insert(De.rangeOffset,De.text,!0)):this._pieceTree.delete(De.rangeOffset,De.rangeLength);const Pt=new a.e(Fe,Qe,ft,mt);H.push({range:Pt,rangeLength:De.rangeLength,text:De.text,rangeOffset:De.rangeOffset,forceMoveMarkers:De.forceMoveMarkers})}return H}findMatchesLineByLine(w,H,ie,De){return this._pieceTree.findMatchesLineByLine(w,H,ie,De)}static _getInverseEditRanges(w){const H=[];let ie=0,De=0,Fe=null;for(let Qe=0,ft=w.length;Qe<ft;Qe++){const mt=w[Qe];let Pt,Tt;Fe?Fe.range.endLineNumber===mt.range.startLineNumber?(Pt=ie,Tt=De+(mt.range.startColumn-Fe.range.endColumn)):(Pt=ie+(mt.range.startLineNumber-Fe.range.endLineNumber),Tt=mt.range.startColumn):(Pt=mt.range.startLineNumber,Tt=mt.range.startColumn);let Dt;if(mt.text.length>0){const zt=mt.eolCount+1;zt===1?Dt=new a.e(Pt,Tt,Pt,Tt+mt.firstLineLength):Dt=new a.e(Pt,Tt,Pt+zt-1,mt.lastLineLength+1)}else Dt=new a.e(Pt,Tt,Pt,Tt);ie=Dt.endLineNumber,De=Dt.endColumn,H.push(Dt),Fe=mt}return H}static _sortOpsAscending(w,H){const ie=a.e.compareRangesUsingEnds(w.range,H.range);return ie===0?w.sortIndex-H.sortIndex:ie}static _sortOpsDescending(w,H){const ie=a.e.compareRangesUsingEnds(w.range,H.range);return ie===0?H.sortIndex-w.sortIndex:-ie}}class ji{constructor(w,H,ie,De,Fe,Qe,ft,mt,Pt){this._chunks=w,this._bom=H,this._cr=ie,this._lf=De,this._crlf=Fe,this._containsRTL=Qe,this._containsUnusualLineTerminators=ft,this._isBasicASCII=mt,this._normalizeEOL=Pt}_getEOL(w){const H=this._cr+this._lf+this._crlf,ie=this._cr+this._crlf;return H===0?w===1?`
`:`\r
`:ie>H/2?`\r
`:`
`}create(w){const H=this._getEOL(w),ie=this._chunks;if(this._normalizeEOL&&(H===`\r
`&&(this._cr>0||this._lf>0)||H===`
`&&(this._cr>0||this._crlf>0)))for(let Fe=0,Qe=ie.length;Fe<Qe;Fe++){const ft=ie[Fe].buffer.replace(/\r\n|\r|\n/g,H),mt=on(ft);ie[Fe]=new Yt(ft,mt)}const De=new zi(ie,this._bom,H,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:De,disposable:De}}}class Hi{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(w){if(w.length===0)return;this.chunks.length===0&&V.uS(w)&&(this.BOM=V.c1,w=w.substr(1));const H=w.charCodeAt(w.length-1);H===13||H>=55296&&H<=56319?(this._acceptChunk1(w.substr(0,w.length-1),!1),this._hasPreviousChar=!0,this._previousChar=H):(this._acceptChunk1(w,!1),this._hasPreviousChar=!1,this._previousChar=H)}_acceptChunk1(w,H){!H&&w.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+w):this._acceptChunk2(w))}_acceptChunk2(w){const H=Nn(this._tmpLineStarts,w);this.chunks.push(new Yt(w,H.lineStarts)),this.cr+=H.cr,this.lf+=H.lf,this.crlf+=H.crlf,H.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=V.Ut(w)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=V.ab(w)))}finish(w=!0){return this._finish(),new ji(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,w)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const w=this.chunks[this.chunks.length-1];w.buffer+=String.fromCharCode(this._previousChar);const H=on(w.buffer);w.lineStarts=H,this._previousChar===13&&this.cr++}}}var tn=t(13484),sn=t(4407),Xi=t(52676),Oi=t(36082),ai=t(83388),Zt=t(11138),Jt=t(69344),_t=t(7335),xt=t(93375);class Ht{constructor(w){this._default=w,this._store=[]}get(w){return w<this._store.length?this._store[w]:this._default}set(w,H){for(;w>=this._store.length;)this._store[this._store.length]=this._default;this._store[w]=H}replace(w,H,ie){if(w>=this._store.length)return;if(H===0){this.insert(w,ie);return}else if(ie===0){this.delete(w,H);return}const De=this._store.slice(0,w),Fe=this._store.slice(w+H),Qe=at(ie,this._default);this._store=De.concat(Qe,Fe)}delete(w,H){H===0||w>=this._store.length||this._store.splice(w,H)}insert(w,H){if(H===0||w>=this._store.length)return;const ie=[];for(let De=0;De<H;De++)ie[De]=this._default;this._store=(0,f.Zv)(this._store,w,ie)}}function at(Ge,w){const H=[];for(let ie=0;ie<Ge;ie++)H[ie]=w;return H}class ce{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(w,H){this._startLineNumber=w,this._tokens=H}getLineTokens(w){return this._tokens[w-this._startLineNumber]}appendLineTokens(w){this._tokens.push(w)}}class We{constructor(){this._tokens=[]}add(w,H){if(this._tokens.length>0){const ie=this._tokens[this._tokens.length-1];if(ie.endLineNumber+1===w){ie.appendLineTokens(H);return}}this._tokens.push(new ce(w,[H]))}finalize(){return this._tokens}}var Me=t(10403);class ge{constructor(w,H){this.tokenizationSupport=H,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new ae(w)}getStartState(w){return w===1?this.initialState:this.store.getEndState(w-1)}}class Q extends ge{constructor(w,H,ie,De){super(w,H),this._textModel=ie,this._languageIdCodec=De}updateTokensUntilLine(w,H){const ie=this._textModel.getLanguageId();for(;;){const De=this.store.getFirstInvalidEndStateLineNumber();if(!De||De>H)break;const Fe=this._textModel.getLineContent(De),Qe=this.getStartState(De),ft=Je(this._languageIdCodec,ie,this.tokenizationSupport,Fe,!0,Qe);w.add(De,ft.tokens),this.store.setEndState(De,ft.endState)}}getTokenTypeIfInsertingCharacter(w,H){const ie=this.getStartState(w.lineNumber);if(!ie)return 0;const De=this._textModel.getLanguageId(),Fe=this._textModel.getLineContent(w.lineNumber),Qe=Fe.substring(0,w.column-1)+H+Fe.substring(w.column-1),ft=Je(this._languageIdCodec,De,this.tokenizationSupport,Qe,!0,ie),mt=new Me.A(ft.tokens,Qe,this._languageIdCodec);if(mt.getCount()===0)return 0;const Pt=mt.findTokenIndexAtOffset(w.column-1);return mt.getStandardTokenType(Pt)}tokenizeLineWithEdit(w,H,ie){const De=w.lineNumber,Fe=w.column,Qe=this.getStartState(De);if(!Qe)return null;const ft=this._textModel.getLineContent(De),mt=ft.substring(0,Fe-1)+ie+ft.substring(Fe-1+H),Pt=this._textModel.getLanguageIdAtPosition(De,0),Tt=Je(this._languageIdCodec,Pt,this.tokenizationSupport,mt,!0,Qe);return new Me.A(Tt.tokens,mt,this._languageIdCodec)}isCheapToTokenize(w){const H=this.store.getFirstInvalidEndStateLineNumberOrMax();return w<H||w===H&&this._textModel.getLineLength(w)<2048}tokenizeHeuristically(w,H,ie){if(ie<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(H<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(w,ie),{heuristicTokens:!1};let De=this.guessStartState(H);const Fe=this._textModel.getLanguageId();for(let Qe=H;Qe<=ie;Qe++){const ft=this._textModel.getLineContent(Qe),mt=Je(this._languageIdCodec,Fe,this.tokenizationSupport,ft,!0,De);w.add(Qe,mt.tokens),De=mt.endState}return{heuristicTokens:!0}}guessStartState(w){let H=this._textModel.getLineFirstNonWhitespaceColumn(w);const ie=[];let De=null;for(let ft=w-1;H>1&&ft>=1;ft--){const mt=this._textModel.getLineFirstNonWhitespaceColumn(ft);if(mt!==0&&mt<H&&(ie.push(this._textModel.getLineContent(ft)),H=mt,De=this.getStartState(ft),De))break}De||(De=this.tokenizationSupport.getInitialState()),ie.reverse();const Fe=this._textModel.getLanguageId();let Qe=De;for(const ft of ie)Qe=Je(this._languageIdCodec,Fe,this.tokenizationSupport,ft,!1,Qe).endState;return Qe}}class ae{constructor(w){this.lineCount=w,this.tokenizationStateStore=new xe,this._invalidEndStatesLineNumbers=new Ae,this._invalidEndStatesLineNumbers.addRange(new _t.q(1,w+1))}getEndState(w){return this.tokenizationStateStore.getEndState(w)}setEndState(w,H){for(;;){const De=this._invalidEndStatesLineNumbers.min;if(De!==null&&De<=w)this._invalidEndStatesLineNumbers.removeMin();else break}const ie=this.tokenizationStateStore.setEndState(w,H);return ie&&w<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new _t.q(w+1,w+2)),ie}acceptChange(w,H){this.lineCount+=H-w.length,this.tokenizationStateStore.acceptChange(w,H),this._invalidEndStatesLineNumbers.addRangeAndResize(new _t.q(w.startLineNumber,w.endLineNumberExclusive),H)}acceptChanges(w){for(const H of w){const[ie]=(0,L.Q)(H.text);this.acceptChange(new sn.z(H.range.startLineNumber,H.range.endLineNumber+1),ie+1)}}invalidateEndStateRange(w){this._invalidEndStatesLineNumbers.addRange(new _t.q(w.startLineNumber,w.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this._invalidEndStatesLineNumbers.min||Number.MAX_SAFE_INTEGER}isTokenizationComplete(){return this._invalidEndStatesLineNumbers.min===null}}class xe{constructor(){this._lineEndStates=new Ht(null)}getEndState(w){return this._lineEndStates.get(w)}setEndState(w,H){const ie=this._lineEndStates.get(w);return ie&&ie.equals(H)?!1:(this._lineEndStates.set(w,H),!0)}acceptChange(w,H){let ie=w.length;H>0&&ie>0&&(ie--,H--),this._lineEndStates.replace(w.startLineNumber,ie,H)}}class Ae{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}removeMin(){if(this._ranges.length===0)return null;const w=this._ranges[0];return w.start+1===w.endExclusive?this._ranges.shift():this._ranges[0]=new _t.q(w.start+1,w.endExclusive),w.start}addRange(w){_t.q.addRange(w,this._ranges)}addRangeAndResize(w,H){let ie=0;for(;!(ie>=this._ranges.length||w.start<=this._ranges[ie].endExclusive);)ie++;let De=ie;for(;!(De>=this._ranges.length||w.endExclusive<this._ranges[De].start);)De++;const Fe=H-w.length;for(let Qe=De;Qe<this._ranges.length;Qe++)this._ranges[Qe]=this._ranges[Qe].delta(Fe);if(ie===De){const Qe=new _t.q(w.start,w.start+H);Qe.isEmpty||this._ranges.splice(ie,0,Qe)}else{const Qe=Math.min(w.start,this._ranges[ie].start),ft=Math.max(w.endExclusive,this._ranges[De-1].endExclusive),mt=new _t.q(Qe,ft+Fe);mt.isEmpty?this._ranges.splice(ie,De-ie):this._ranges.splice(ie,De-ie,mt)}}toString(){return this._ranges.map(w=>w.toString()).join(" + ")}}function Je(Ge,w,H,ie,De,Fe){let Qe=null;if(H)try{Qe=H.tokenizeEncoded(ie,De,Fe.clone())}catch(ft){(0,u.dL)(ft)}return Qe||(Qe=(0,xt.Dy)(Ge.encodeLanguageId(w),Fe)),Me.A.convertToEndOffset(Qe.tokens,ie.length),Qe}class vt{constructor(w,H){this._tokenizerWithStateStore=w,this._backgroundTokenStore=H,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,tn.To)(w=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(w)}))}_backgroundTokenizeWithDeadline(w){const H=Date.now()+w.timeRemaining(),ie=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<H?(0,Zt.fn)(ie):this._beginBackgroundTokenization())};ie()}_backgroundTokenizeForAtLeast1ms(){const w=this._tokenizerWithStateStore._textModel.getLineCount(),H=new We,ie=Jt.G.create(!1);do if(ie.elapsed()>1||this._tokenizeOneInvalidLine(H)>=w)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(H.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.isTokenizationComplete():!1}_tokenizeOneInvalidLine(w){if(!this._tokenizerWithStateStore||!this._hasLinesToTokenize())return this._tokenizerWithStateStore._textModel.getLineCount()+1;const H=this._tokenizerWithStateStore.store.getFirstInvalidEndStateLineNumber();return this._tokenizerWithStateStore.updateTokensUntilLine(w,H),H}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.isTokenizationComplete()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(w,H){this._tokenizerWithStateStore.store.invalidateEndStateRange(new sn.z(w,H))}}const St=new Uint32Array(0).buffer;class wt{static deleteBeginning(w,H){return w===null||w===St?w:wt.delete(w,0,H)}static deleteEnding(w,H){if(w===null||w===St)return w;const ie=Lt(w),De=ie[ie.length-2];return wt.delete(w,H,De)}static delete(w,H,ie){if(w===null||w===St||H===ie)return w;const De=Lt(w),Fe=De.length>>>1;if(H===0&&De[De.length-2]===ie)return St;const Qe=Me.A.findIndexInTokensArray(De,H),ft=Qe>0?De[Qe-1<<1]:0,mt=De[Qe<<1];if(ie<mt){const ui=ie-H;for(let Di=Qe;Di<Fe;Di++)De[Di<<1]-=ui;return w}let Pt,Tt;ft!==H?(De[Qe<<1]=H,Pt=Qe+1<<1,Tt=H):(Pt=Qe<<1,Tt=ft);const Dt=ie-H;for(let ui=Qe+1;ui<Fe;ui++){const Di=De[ui<<1]-Dt;Di>Tt&&(De[Pt++]=Di,De[Pt++]=De[(ui<<1)+1],Tt=Di)}if(Pt===De.length)return w;const zt=new Uint32Array(Pt);return zt.set(De.subarray(0,Pt),0),zt.buffer}static append(w,H){if(H===St)return w;if(w===St)return H;if(w===null)return w;if(H===null)return null;const ie=Lt(w),De=Lt(H),Fe=De.length>>>1,Qe=new Uint32Array(ie.length+De.length);Qe.set(ie,0);let ft=ie.length;const mt=ie[ie.length-2];for(let Pt=0;Pt<Fe;Pt++)Qe[ft++]=De[Pt<<1]+mt,Qe[ft++]=De[(Pt<<1)+1];return Qe.buffer}static insert(w,H,ie){if(w===null||w===St)return w;const De=Lt(w),Fe=De.length>>>1;let Qe=Me.A.findIndexInTokensArray(De,H);Qe>0&&De[Qe-1<<1]===H&&Qe--;for(let ft=Qe;ft<Fe;ft++)De[ft<<1]+=ie;return w}}function Lt(Ge){return Ge instanceof Uint32Array?Ge:new Uint32Array(Ge)}var Bt=t(24506);class ei{constructor(w){this._lineTokens=[],this._len=0,this._languageIdCodec=w}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(w,H,ie){let De=null;if(H<this._len&&(De=this._lineTokens[H]),De!==null&&De!==St)return new Me.A(Lt(De),ie,this._languageIdCodec);const Fe=new Uint32Array(2);return Fe[0]=ie.length,Fe[1]=pi(this._languageIdCodec.encodeLanguageId(w)),new Me.A(Fe,ie,this._languageIdCodec)}static _massageTokens(w,H,ie){const De=ie?Lt(ie):null;if(H===0){let Fe=!1;if(De&&De.length>1&&(Fe=Bt.N.getLanguageId(De[1])!==w),!Fe)return St}if(!De||De.length===0){const Fe=new Uint32Array(2);return Fe[0]=H,Fe[1]=pi(w),Fe.buffer}return De[De.length-2]=H,De.byteOffset===0&&De.byteLength===De.buffer.byteLength?De.buffer:De}_ensureLine(w){for(;w>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(w,H){H!==0&&(w+H>this._len&&(H=this._len-w),this._lineTokens.splice(w,H),this._len-=H)}_insertLines(w,H){if(H===0)return;const ie=[];for(let De=0;De<H;De++)ie[De]=null;this._lineTokens=f.Zv(this._lineTokens,w,ie),this._len+=H}setTokens(w,H,ie,De,Fe){const Qe=ei._massageTokens(this._languageIdCodec.encodeLanguageId(w),ie,De);this._ensureLine(H);const ft=this._lineTokens[H];return this._lineTokens[H]=Qe,Fe?!ei._equals(ft,Qe):!1}static _equals(w,H){if(!w||!H)return!w&&!H;const ie=Lt(w),De=Lt(H);if(ie.length!==De.length)return!1;for(let Fe=0,Qe=ie.length;Fe<Qe;Fe++)if(ie[Fe]!==De[Fe])return!1;return!0}acceptEdit(w,H,ie){this._acceptDeleteRange(w),this._acceptInsertText(new g.L(w.startLineNumber,w.startColumn),H,ie)}_acceptDeleteRange(w){const H=w.startLineNumber-1;if(H>=this._len)return;if(w.startLineNumber===w.endLineNumber){if(w.startColumn===w.endColumn)return;this._lineTokens[H]=wt.delete(this._lineTokens[H],w.startColumn-1,w.endColumn-1);return}this._lineTokens[H]=wt.deleteEnding(this._lineTokens[H],w.startColumn-1);const ie=w.endLineNumber-1;let De=null;ie<this._len&&(De=wt.deleteBeginning(this._lineTokens[ie],w.endColumn-1)),this._lineTokens[H]=wt.append(this._lineTokens[H],De),this._deleteLines(w.startLineNumber,w.endLineNumber-w.startLineNumber)}_acceptInsertText(w,H,ie){if(H===0&&ie===0)return;const De=w.lineNumber-1;if(!(De>=this._len)){if(H===0){this._lineTokens[De]=wt.insert(this._lineTokens[De],w.column-1,ie);return}this._lineTokens[De]=wt.deleteEnding(this._lineTokens[De],w.column-1),this._lineTokens[De]=wt.insert(this._lineTokens[De],w.column-1,ie),this._insertLines(w.lineNumber,H)}}setMultilineTokens(w,H){if(w.length===0)return{changes:[]};const ie=[];for(let De=0,Fe=w.length;De<Fe;De++){const Qe=w[De];let ft=0,mt=0,Pt=!1;for(let Tt=Qe.startLineNumber;Tt<=Qe.endLineNumber;Tt++)Pt?(this.setTokens(H.getLanguageId(),Tt-1,H.getLineLength(Tt),Qe.getLineTokens(Tt),!1),mt=Tt):this.setTokens(H.getLanguageId(),Tt-1,H.getLineLength(Tt),Qe.getLineTokens(Tt),!0)&&(Pt=!0,ft=Tt,mt=Tt);Pt&&ie.push({fromLineNumber:ft,toLineNumber:mt})}return{changes:ie}}}function pi(Ge){return(Ge<<0|0|0|32768|2<<24|1024)>>>0}class di{constructor(w){this._pieces=[],this._isComplete=!1,this._languageIdCodec=w}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(w,H){this._pieces=w||[],this._isComplete=H}setPartial(w,H){let ie=w;if(H.length>0){const Fe=H[0].getRange(),Qe=H[H.length-1].getRange();if(!Fe||!Qe)return w;ie=w.plusRange(Fe).plusRange(Qe)}let De=null;for(let Fe=0,Qe=this._pieces.length;Fe<Qe;Fe++){const ft=this._pieces[Fe];if(ft.endLineNumber<ie.startLineNumber)continue;if(ft.startLineNumber>ie.endLineNumber){De=De||{index:Fe};break}if(ft.removeTokens(ie),ft.isEmpty()){this._pieces.splice(Fe,1),Fe--,Qe--;continue}if(ft.endLineNumber<ie.startLineNumber)continue;if(ft.startLineNumber>ie.endLineNumber){De=De||{index:Fe};continue}const[mt,Pt]=ft.split(ie);if(mt.isEmpty()){De=De||{index:Fe};continue}Pt.isEmpty()||(this._pieces.splice(Fe,1,mt,Pt),Fe++,Qe++,De=De||{index:Fe})}return De=De||{index:this._pieces.length},H.length>0&&(this._pieces=f.Zv(this._pieces,De.index,H)),ie}isComplete(){return this._isComplete}addSparseTokens(w,H){if(H.getLineContent().length===0)return H;const ie=this._pieces;if(ie.length===0)return H;const De=di._findFirstPieceWithLine(ie,w),Fe=ie[De].getLineTokens(w);if(!Fe)return H;const Qe=H.getCount(),ft=Fe.getCount();let mt=0;const Pt=[];let Tt=0,Dt=0;const zt=(ui,Di)=>{ui!==Dt&&(Dt=ui,Pt[Tt++]=ui,Pt[Tt++]=Di)};for(let ui=0;ui<ft;ui++){const Di=Fe.getStartCharacter(ui),Ni=Fe.getEndCharacter(ui),Ei=Fe.getMetadata(ui),qi=((Ei&1?2048:0)|(Ei&2?4096:0)|(Ei&4?8192:0)|(Ei&8?16384:0)|(Ei&16?16744448:0)|(Ei&32?4278190080:0))>>>0,yn=~qi>>>0;for(;mt<Qe&&H.getEndOffset(mt)<=Di;)zt(H.getEndOffset(mt),H.getMetadata(mt)),mt++;for(mt<Qe&&H.getStartOffset(mt)<Di&&zt(Di,H.getMetadata(mt));mt<Qe&&H.getEndOffset(mt)<Ni;)zt(H.getEndOffset(mt),H.getMetadata(mt)&yn|Ei&qi),mt++;if(mt<Qe)zt(Ni,H.getMetadata(mt)&yn|Ei&qi),H.getEndOffset(mt)===Ni&&mt++;else{const cn=Math.min(Math.max(0,mt-1),Qe-1);zt(Ni,H.getMetadata(cn)&yn|Ei&qi)}}for(;mt<Qe;)zt(H.getEndOffset(mt),H.getMetadata(mt)),mt++;return new Me.A(new Uint32Array(Pt),H.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(w,H){let ie=0,De=w.length-1;for(;ie<De;){let Fe=ie+Math.floor((De-ie)/2);if(w[Fe].endLineNumber<H)ie=Fe+1;else if(w[Fe].startLineNumber>H)De=Fe-1;else{for(;Fe>ie&&w[Fe-1].startLineNumber<=H&&H<=w[Fe-1].endLineNumber;)Fe--;return Fe}}return ie}acceptEdit(w,H,ie,De,Fe){for(const Qe of this._pieces)Qe.acceptEdit(w,H,ie,De,Fe)}}class hi extends ai.U{constructor(w,H,ie,De,Fe,Qe){super(),this._languageService=w,this._languageConfigurationService=H,this._textModel=ie,this._bracketPairsTextModelPart=De,this._languageId=Fe,this._attachedViews=Qe,this._semanticTokens=new di(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new _.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new _.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new _.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new yi(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(ft=>{ft.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(ft=>{this._emitModelTokensChangedEvent(ft)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(ft=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(w){if(w.isFlush)this._semanticTokens.flush();else if(!w.isEolChange)for(const H of w.changes){const[ie,De,Fe]=(0,L.Q)(H.text);this._semanticTokens.acceptEdit(H.range,ie,De,Fe,H.text.length>0?H.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(w)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(w){this.validateLineNumber(w);const H=this.grammarTokens.getLineTokens(w);return this._semanticTokens.addSparseTokens(w,H)}_emitModelTokensChangedEvent(w){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(w),this._onDidChangeTokens.fire(w))}validateLineNumber(w){if(w<1||w>this._textModel.getLineCount())throw new u.he("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(w){this.validateLineNumber(w),this.grammarTokens.forceTokenization(w)}isCheapToTokenize(w){return this.validateLineNumber(w),this.grammarTokens.isCheapToTokenize(w)}tokenizeIfCheap(w){this.validateLineNumber(w),this.grammarTokens.tokenizeIfCheap(w)}getTokenTypeIfInsertingCharacter(w,H,ie){return this.grammarTokens.getTokenTypeIfInsertingCharacter(w,H,ie)}tokenizeLineWithEdit(w,H,ie){return this.grammarTokens.tokenizeLineWithEdit(w,H,ie)}setSemanticTokens(w,H){this._semanticTokens.set(w,H),this._emitModelTokensChangedEvent({semanticTokensApplied:w!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(w,H){if(this.hasCompleteSemanticTokens())return;const ie=this._textModel.validateRange(this._semanticTokens.setPartial(w,H));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:ie.startLineNumber,toLineNumber:ie.endLineNumber}]})}getWordAtPosition(w){this.assertNotDisposed();const H=this._textModel.validatePosition(w),ie=this._textModel.getLineContent(H.lineNumber),De=this.getLineTokens(H.lineNumber),Fe=De.findTokenIndexAtOffset(H.column-1),[Qe,ft]=hi._findLanguageBoundaries(De,Fe),mt=(0,Xi.t2)(H.column,this.getLanguageConfiguration(De.getLanguageId(Fe)).getWordDefinition(),ie.substring(Qe,ft),Qe);if(mt&&mt.startColumn<=w.column&&w.column<=mt.endColumn)return mt;if(Fe>0&&Qe===H.column-1){const[Pt,Tt]=hi._findLanguageBoundaries(De,Fe-1),Dt=(0,Xi.t2)(H.column,this.getLanguageConfiguration(De.getLanguageId(Fe-1)).getWordDefinition(),ie.substring(Pt,Tt),Pt);if(Dt&&Dt.startColumn<=w.column&&w.column<=Dt.endColumn)return Dt}return null}getLanguageConfiguration(w){return this._languageConfigurationService.getLanguageConfiguration(w)}static _findLanguageBoundaries(w,H){const ie=w.getLanguageId(H);let De=0;for(let Qe=H;Qe>=0&&w.getLanguageId(Qe)===ie;Qe--)De=w.getStartOffset(Qe);let Fe=w.getLineContent().length;for(let Qe=H,ft=w.getCount();Qe<ft&&w.getLanguageId(Qe)===ie;Qe++)Fe=w.getEndOffset(Qe);return[De,Fe]}getWordUntilPosition(w){const H=this.getWordAtPosition(w);return H?{word:H.word.substr(0,w.column-H.startColumn),startColumn:H.startColumn,endColumn:w.column}:{word:"",startColumn:w.column,endColumn:w.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(w,H){const ie=this._textModel.validatePosition(new g.L(w,H)),De=this.getLineTokens(ie.lineNumber);return De.getLanguageId(De.findTokenIndexAtOffset(ie.column-1))}setLanguageId(w,H="api"){if(this._languageId===w)return;const ie={oldLanguage:this._languageId,newLanguage:w,source:H};this._languageId=w,this._bracketPairsTextModelPart.handleDidChangeLanguage(ie),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(ie),this._onDidChangeLanguageConfiguration.fire({})}}class yi extends p.JT{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(w,H,ie,De){super(),this._languageIdCodec=w,this._textModel=H,this.getLanguageId=ie,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new p.XK),this._tokens=new ei(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new p.XK),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new _.Q5),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new _.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new p.b2),this._register(Oi.RW.onDidChange(Fe=>{const Qe=this.getLanguageId();Fe.changedLanguages.indexOf(Qe)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(De.onDidChangeVisibleRanges(({view:Fe,state:Qe})=>{if(Qe){let ft=this._attachedViewStates.get(Fe);ft||(ft=new Bi(()=>this.refreshRanges(ft.lineRanges)),this._attachedViewStates.set(Fe,ft)),ft.handleStateChange(Qe)}else this._attachedViewStates.deleteAndDispose(Fe)}))}resetTokenization(w=!0){var H;this._tokens.flush(),(H=this._debugBackgroundTokens)===null||H===void 0||H.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new ae(this._textModel.getLineCount())),w&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const ie=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const Qe=Oi.RW.get(this.getLanguageId());if(!Qe)return[null,null];let ft;try{ft=Qe.getInitialState()}catch(mt){return(0,u.dL)(mt),[null,null]}return[Qe,ft]},[De,Fe]=ie();if(De&&Fe?this._tokenizer=new Q(this._textModel.getLineCount(),De,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const Qe={setTokens:ft=>{this.setTokens(ft)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const ft=2;this._backgroundTokenizationState=ft,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(ft,mt)=>{var Pt,Tt,Dt;if(!mt)throw new u.he;const zt=(Tt=(Pt=this._tokenizer)===null||Pt===void 0?void 0:Pt.store.getFirstInvalidEndStateLineNumber())!==null&&Tt!==void 0?Tt:void 0;zt!==void 0&&ft>=zt&&((Dt=this._tokenizer)===null||Dt===void 0||Dt.store.setEndState(ft,mt))}};De&&De.createBackgroundTokenizer&&!De.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=De.createBackgroundTokenizer(this._textModel,Qe)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new vt(this._tokenizer,Qe),this._defaultBackgroundTokenizer.handleChanges()),De!=null&&De.backgroundTokenizerShouldOnlyVerifyTokens&&De.createBackgroundTokenizer?(this._debugBackgroundTokens=new ei(this._languageIdCodec),this._debugBackgroundStates=new ae(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=De.createBackgroundTokenizer(this._textModel,{setTokens:ft=>{var mt;(mt=this._debugBackgroundTokens)===null||mt===void 0||mt.setMultilineTokens(ft,this._textModel)},backgroundTokenizationFinished(){},setEndState:(ft,mt)=>{var Pt;(Pt=this._debugBackgroundStates)===null||Pt===void 0||Pt.setEndState(ft,mt)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var w;(w=this._defaultBackgroundTokenizer)===null||w===void 0||w.handleChanges()}handleDidChangeContent(w){var H,ie,De;if(w.isFlush)this.resetTokenization(!1);else if(!w.isEolChange){for(const Fe of w.changes){const[Qe,ft]=(0,L.Q)(Fe.text);this._tokens.acceptEdit(Fe.range,Qe,ft),(H=this._debugBackgroundTokens)===null||H===void 0||H.acceptEdit(Fe.range,Qe,ft)}(ie=this._debugBackgroundStates)===null||ie===void 0||ie.acceptChanges(w.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(w.changes),(De=this._defaultBackgroundTokenizer)===null||De===void 0||De.handleChanges()}}setTokens(w){const{changes:H}=this._tokens.setMultilineTokens(w,this._textModel);return H.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:H}),{changes:H}}refreshAllVisibleLineTokens(){const w=sn.z.joinMany([...this._attachedViewStates].map(([H,ie])=>ie.lineRanges));this.refreshRanges(w)}refreshRanges(w){for(const H of w)this.refreshRange(H.startLineNumber,H.endLineNumberExclusive-1)}refreshRange(w,H){var ie,De;if(!this._tokenizer)return;w=Math.max(1,Math.min(this._textModel.getLineCount(),w)),H=Math.min(this._textModel.getLineCount(),H);const Fe=new We,{heuristicTokens:Qe}=this._tokenizer.tokenizeHeuristically(Fe,w,H),ft=this.setTokens(Fe.finalize());if(Qe)for(const mt of ft.changes)(ie=this._backgroundTokenizer.value)===null||ie===void 0||ie.requestTokens(mt.fromLineNumber,mt.toLineNumber+1);(De=this._defaultBackgroundTokenizer)===null||De===void 0||De.checkFinished()}forceTokenization(w){var H,ie;const De=new We;(H=this._tokenizer)===null||H===void 0||H.updateTokensUntilLine(De,w),this.setTokens(De.finalize()),(ie=this._defaultBackgroundTokenizer)===null||ie===void 0||ie.checkFinished()}isCheapToTokenize(w){return this._tokenizer?this._tokenizer.isCheapToTokenize(w):!0}tokenizeIfCheap(w){this.isCheapToTokenize(w)&&this.forceTokenization(w)}getLineTokens(w){var H;const ie=this._textModel.getLineContent(w),De=this._tokens.getTokens(this._textModel.getLanguageId(),w-1,ie);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>w&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>w){const Fe=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),w-1,ie);!De.equals(Fe)&&(!((H=this._debugBackgroundTokenizer.value)===null||H===void 0)&&H.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(w)}return De}getTokenTypeIfInsertingCharacter(w,H,ie){if(!this._tokenizer)return 0;const De=this._textModel.validatePosition(new g.L(w,H));return this.forceTokenization(De.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(De,ie)}tokenizeLineWithEdit(w,H,ie){if(!this._tokenizer)return null;const De=this._textModel.validatePosition(w);return this.forceTokenization(De.lineNumber),this._tokenizer.tokenizeLineWithEdit(De,H,ie)}get hasTokens(){return this._tokens.hasTokens}}class Bi extends p.JT{get lineRanges(){return this._lineRanges}constructor(w){super(),this._refreshTokens=w,this.runner=this._register(new tn.pY(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,f.fS)(this._computedLineRanges,this._lineRanges)||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(w){this._lineRanges=w.visibleLineRanges,w.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}var ki=t(30828),Wi=t(48900),Ri=function(Ge,w,H,ie){var De=arguments.length,Fe=De<3?w:ie===null?ie=Object.getOwnPropertyDescriptor(w,H):ie,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Fe=Reflect.decorate(Ge,w,H,ie);else for(var ft=Ge.length-1;ft>=0;ft--)(Qe=Ge[ft])&&(Fe=(De<3?Qe(Fe):De>3?Qe(w,H,Fe):Qe(w,H))||Fe);return De>3&&Fe&&Object.defineProperty(w,H,Fe),Fe},Cn=function(Ge,w){return function(H,ie){w(H,ie,Ge)}};function ts(Ge){const w=new Hi;return w.acceptChunk(Ge),w.finish()}function Hn(Ge){const w=new Hi;let H;for(;typeof(H=Ge.read())=="string";)w.acceptChunk(H);return w.finish()}function Ss(Ge,w){let H;return typeof Ge=="string"?H=ts(Ge):m.Hf(Ge)?H=Hn(Ge):H=Ge,H.create(w)}let mn=0;const wi=999,Fi=1e4;class rn{constructor(w){this._source=w,this._eos=!1}read(){if(this._eos)return null;const w=[];let H=0,ie=0;do{const De=this._source.read();if(De===null)return this._eos=!0,H===0?null:w.join("");if(De.length>0&&(w[H++]=De,ie+=De.length),ie>=64*1024)return w.join("")}while(!0)}}const jn=()=>{throw new Error("Invalid change accessor")};let ns=class bl extends p.JT{static resolveOptions(w,H){if(H.detectIndentation){const ie=Ve(w,H.tabSize,H.insertSpaces);return new m.dJ({tabSize:ie.tabSize,indentSize:"tabSize",insertSpaces:ie.insertSpaces,trimAutoWhitespace:H.trimAutoWhitespace,defaultEOL:H.defaultEOL,bracketPairColorizationOptions:H.bracketPairColorizationOptions})}return new m.dJ(H)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(w){return this._eventEmitter.slowEvent(H=>w(H.contentChangedEvent))}onDidChangeContentOrInjectedText(w){return(0,p.F8)(this._eventEmitter.fastEvent(H=>w(H)),this._onDidChangeInjectedText.event(H=>w(H)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(w,H,ie,De=null,Fe,Qe,ft){super(),this._undoRedoService=Fe,this._languageService=Qe,this._languageConfigurationService=ft,this._onWillDispose=this._register(new _.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new $t(ui=>this.handleBeforeFireDecorationsChangedEvent(ui))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new _.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new _.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new _.Q5),this._eventEmitter=this._register(new re),this._languageSelectionListener=this._register(new p.XK),this._deltaDecorationCallCnt=0,this._attachedViews=new ke,mn++,this.id="$model"+mn,this.isForSimpleWidget=ie.isForSimpleWidget,typeof De=="undefined"||De===null?this._associatedResource=I.o.parse("inmemory://model/"+mn):this._associatedResource=De,this._attachedEditorCount=0;const{textBuffer:mt,disposable:Pt}=Ss(w,ie.defaultEOL);this._buffer=mt,this._bufferDisposable=Pt,this._options=bl.resolveOptions(this._buffer,ie);const Tt=typeof H=="string"?H:H.languageId;typeof H!="string"&&(this._languageSelectionListener.value=H.onDidChange(()=>this._setLanguage(H.languageId))),this._bracketPairs=this._register(new K(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new he.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new pe(this)),this._tokenizationTextModelPart=new hi(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Tt,this._attachedViews);const Dt=this._buffer.getLineCount(),zt=this._buffer.getValueLengthInRange(new a.e(1,1,Dt,this._buffer.getLineLength(Dt)+1),0);ie.largeFileOptimizations?this._isTooLargeForTokenization=zt>bl.LARGE_FILE_SIZE_THRESHOLD||Dt>bl.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=zt>bl._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=V.PJ(mn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Mn,this._commandManager=new oe.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Tt)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const w=new zi([],"",`
`,!1,!1,!0,!0);w.dispose(),this._buffer=w,this._bufferDisposable=p.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(w,H){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(H),this._bracketPairs.handleDidChangeContent(H),this._eventEmitter.fire(new ki.fV(w,H)))}setValue(w){if(this._assertNotDisposed(),w==null)throw(0,u.b1)();const{textBuffer:H,disposable:ie}=Ss(w,this._options.defaultEOL);this._setValueFromTextBuffer(H,ie)}_createContentChanged2(w,H,ie,De,Fe,Qe,ft,mt){return{changes:[{range:w,rangeOffset:H,rangeLength:ie,text:De}],eol:this._buffer.getEOL(),isEolChange:mt,versionId:this.getVersionId(),isUndoing:Fe,isRedoing:Qe,isFlush:ft}}_setValueFromTextBuffer(w,H){this._assertNotDisposed();const ie=this.getFullModelRange(),De=this.getValueLengthInRange(ie),Fe=this.getLineCount(),Qe=this.getLineMaxColumn(Fe);this._buffer=w,this._bufferDisposable.dispose(),this._bufferDisposable=H,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Mn,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new ki.dQ([new ki.Jx],this._versionId,!1,!1),this._createContentChanged2(new a.e(1,1,Fe,Qe),0,De,this.getValue(),!1,!1,!0,!1))}setEOL(w){this._assertNotDisposed();const H=w===1?`\r
`:`
`;if(this._buffer.getEOL()===H)return;const ie=this.getFullModelRange(),De=this.getValueLengthInRange(ie),Fe=this.getLineCount(),Qe=this.getLineMaxColumn(Fe);this._onBeforeEOLChange(),this._buffer.setEOL(H),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new ki.dQ([new ki.CZ],this._versionId,!1,!1),this._createContentChanged2(new a.e(1,1,Fe,Qe),0,De,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const w=this.getVersionId(),H=this._decorationsTree.collectNodesPostOrder();for(let ie=0,De=H.length;ie<De;ie++){const Fe=H[ie],Qe=Fe.range,ft=Fe.cachedAbsoluteStart-Fe.start,mt=this._buffer.getOffsetAt(Qe.startLineNumber,Qe.startColumn),Pt=this._buffer.getOffsetAt(Qe.endLineNumber,Qe.endColumn);Fe.cachedAbsoluteStart=mt,Fe.cachedAbsoluteEnd=Pt,Fe.cachedVersionId=w,Fe.start=mt-ft,Fe.end=Pt-ft,bt(Fe)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(w){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(w)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let w=0,H=0;const ie=this._buffer.getLineCount();for(let De=1;De<=ie;De++){const Fe=this._buffer.getLineLength(De);Fe>=Fi?H+=Fe:w+=Fe}return H>w}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(w){this._assertNotDisposed();const H=typeof w.tabSize!="undefined"?w.tabSize:this._options.tabSize,ie=typeof w.indentSize!="undefined"?w.indentSize:this._options.originalIndentSize,De=typeof w.insertSpaces!="undefined"?w.insertSpaces:this._options.insertSpaces,Fe=typeof w.trimAutoWhitespace!="undefined"?w.trimAutoWhitespace:this._options.trimAutoWhitespace,Qe=typeof w.bracketColorizationOptions!="undefined"?w.bracketColorizationOptions:this._options.bracketPairColorizationOptions,ft=new m.dJ({tabSize:H,indentSize:ie,insertSpaces:De,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Fe,bracketPairColorizationOptions:Qe});if(this._options.equals(ft))return;const mt=this._options.createChangeEvent(ft);this._options=ft,this._bracketPairs.handleDidChangeOptions(mt),this._decorationProvider.handleDidChangeOptions(mt),this._onDidChangeOptions.fire(mt)}detectIndentation(w,H){this._assertNotDisposed();const ie=Ve(this._buffer,H,w);this.updateOptions({insertSpaces:ie.insertSpaces,tabSize:ie.tabSize,indentSize:ie.tabSize})}normalizeIndentation(w){return this._assertNotDisposed(),(0,E.x)(w,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(w=null){const H=this.findMatches(V.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(w,H.map(ie=>({range:ie.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(w){this._assertNotDisposed();const H=this._validatePosition(w.lineNumber,w.column,0);return this._buffer.getOffsetAt(H.lineNumber,H.column)}getPositionAt(w){this._assertNotDisposed();const H=Math.min(this._buffer.getLength(),Math.max(0,w));return this._buffer.getPositionAt(H)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(w){this._versionId=w}_overwriteAlternativeVersionId(w){this._alternativeVersionId=w}_overwriteInitialUndoRedoSnapshot(w){this._initialUndoRedoSnapshot=w}getValue(w,H=!1){this._assertNotDisposed();const ie=this.getFullModelRange(),De=this.getValueInRange(ie,w);return H?this._buffer.getBOM()+De:De}createSnapshot(w=!1){return new rn(this._buffer.createSnapshot(w))}getValueLength(w,H=!1){this._assertNotDisposed();const ie=this.getFullModelRange(),De=this.getValueLengthInRange(ie,w);return H?this._buffer.getBOM().length+De:De}getValueInRange(w,H=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(w),H)}getValueLengthInRange(w,H=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(w),H)}getCharacterCountInRange(w,H=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(w),H)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(w){if(this._assertNotDisposed(),w<1||w>this.getLineCount())throw new u.he("Illegal value for lineNumber");return this._buffer.getLineContent(w)}getLineLength(w){if(this._assertNotDisposed(),w<1||w>this.getLineCount())throw new u.he("Illegal value for lineNumber");return this._buffer.getLineLength(w)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(w){return this._assertNotDisposed(),1}getLineMaxColumn(w){if(this._assertNotDisposed(),w<1||w>this.getLineCount())throw new u.he("Illegal value for lineNumber");return this._buffer.getLineLength(w)+1}getLineFirstNonWhitespaceColumn(w){if(this._assertNotDisposed(),w<1||w>this.getLineCount())throw new u.he("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(w)}getLineLastNonWhitespaceColumn(w){if(this._assertNotDisposed(),w<1||w>this.getLineCount())throw new u.he("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(w)}_validateRangeRelaxedNoAllocations(w){const H=this._buffer.getLineCount(),ie=w.startLineNumber,De=w.startColumn;let Fe=Math.floor(typeof ie=="number"&&!isNaN(ie)?ie:1),Qe=Math.floor(typeof De=="number"&&!isNaN(De)?De:1);if(Fe<1)Fe=1,Qe=1;else if(Fe>H)Fe=H,Qe=this.getLineMaxColumn(Fe);else if(Qe<=1)Qe=1;else{const Dt=this.getLineMaxColumn(Fe);Qe>=Dt&&(Qe=Dt)}const ft=w.endLineNumber,mt=w.endColumn;let Pt=Math.floor(typeof ft=="number"&&!isNaN(ft)?ft:1),Tt=Math.floor(typeof mt=="number"&&!isNaN(mt)?mt:1);if(Pt<1)Pt=1,Tt=1;else if(Pt>H)Pt=H,Tt=this.getLineMaxColumn(Pt);else if(Tt<=1)Tt=1;else{const Dt=this.getLineMaxColumn(Pt);Tt>=Dt&&(Tt=Dt)}return ie===Fe&&De===Qe&&ft===Pt&&mt===Tt&&w instanceof a.e&&!(w instanceof l.Y)?w:new a.e(Fe,Qe,Pt,Tt)}_isValidPosition(w,H,ie){if(typeof w!="number"||typeof H!="number"||isNaN(w)||isNaN(H)||w<1||H<1||(w|0)!==w||(H|0)!==H)return!1;const De=this._buffer.getLineCount();if(w>De)return!1;if(H===1)return!0;const Fe=this.getLineMaxColumn(w);if(H>Fe)return!1;if(ie===1){const Qe=this._buffer.getLineCharCode(w,H-2);if(V.ZG(Qe))return!1}return!0}_validatePosition(w,H,ie){const De=Math.floor(typeof w=="number"&&!isNaN(w)?w:1),Fe=Math.floor(typeof H=="number"&&!isNaN(H)?H:1),Qe=this._buffer.getLineCount();if(De<1)return new g.L(1,1);if(De>Qe)return new g.L(Qe,this.getLineMaxColumn(Qe));if(Fe<=1)return new g.L(De,1);const ft=this.getLineMaxColumn(De);if(Fe>=ft)return new g.L(De,ft);if(ie===1){const mt=this._buffer.getLineCharCode(De,Fe-2);if(V.ZG(mt))return new g.L(De,Fe-1)}return new g.L(De,Fe)}validatePosition(w){return this._assertNotDisposed(),w instanceof g.L&&this._isValidPosition(w.lineNumber,w.column,1)?w:this._validatePosition(w.lineNumber,w.column,1)}_isValidRange(w,H){const ie=w.startLineNumber,De=w.startColumn,Fe=w.endLineNumber,Qe=w.endColumn;if(!this._isValidPosition(ie,De,0)||!this._isValidPosition(Fe,Qe,0))return!1;if(H===1){const ft=De>1?this._buffer.getLineCharCode(ie,De-2):0,mt=Qe>1&&Qe<=this._buffer.getLineLength(Fe)?this._buffer.getLineCharCode(Fe,Qe-2):0,Pt=V.ZG(ft),Tt=V.ZG(mt);return!Pt&&!Tt}return!0}validateRange(w){if(this._assertNotDisposed(),w instanceof a.e&&!(w instanceof l.Y)&&this._isValidRange(w,1))return w;const ie=this._validatePosition(w.startLineNumber,w.startColumn,0),De=this._validatePosition(w.endLineNumber,w.endColumn,0),Fe=ie.lineNumber,Qe=ie.column,ft=De.lineNumber,mt=De.column;{const Pt=Qe>1?this._buffer.getLineCharCode(Fe,Qe-2):0,Tt=mt>1&&mt<=this._buffer.getLineLength(ft)?this._buffer.getLineCharCode(ft,mt-2):0,Dt=V.ZG(Pt),zt=V.ZG(Tt);return!Dt&&!zt?new a.e(Fe,Qe,ft,mt):Fe===ft&&Qe===mt?new a.e(Fe,Qe-1,ft,mt-1):Dt&&zt?new a.e(Fe,Qe-1,ft,mt+1):Dt?new a.e(Fe,Qe-1,ft,mt):new a.e(Fe,Qe,ft,mt+1)}return new a.e(Fe,Qe,ft,mt)}modifyPosition(w,H){this._assertNotDisposed();const ie=this.getOffsetAt(w)+H;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,ie)))}getFullModelRange(){this._assertNotDisposed();const w=this.getLineCount();return new a.e(1,1,w,this.getLineMaxColumn(w))}findMatchesLineByLine(w,H,ie,De){return this._buffer.findMatchesLineByLine(w,H,ie,De)}findMatches(w,H,ie,De,Fe,Qe,ft=wi){this._assertNotDisposed();let mt=null;H!==null&&(Array.isArray(H)||(H=[H]),H.every(Dt=>a.e.isIRange(Dt))&&(mt=H.map(Dt=>this.validateRange(Dt)))),mt===null&&(mt=[this.getFullModelRange()]),mt=mt.sort((Dt,zt)=>Dt.startLineNumber-zt.startLineNumber||Dt.startColumn-zt.startColumn);const Pt=[];Pt.push(mt.reduce((Dt,zt)=>a.e.areIntersecting(Dt,zt)?Dt.plusRange(zt):(Pt.push(Dt),zt)));let Tt;if(!ie&&w.indexOf(`
`)<0){const zt=new Yi.bc(w,ie,De,Fe).parseSearchRequest();if(!zt)return[];Tt=ui=>this.findMatchesLineByLine(ui,zt,Qe,ft)}else Tt=Dt=>Yi.pM.findMatches(this,new Yi.bc(w,ie,De,Fe),Dt,Qe,ft);return Pt.map(Tt).reduce((Dt,zt)=>Dt.concat(zt),[])}findNextMatch(w,H,ie,De,Fe,Qe){this._assertNotDisposed();const ft=this.validatePosition(H);if(!ie&&w.indexOf(`
`)<0){const Pt=new Yi.bc(w,ie,De,Fe).parseSearchRequest();if(!Pt)return null;const Tt=this.getLineCount();let Dt=new a.e(ft.lineNumber,ft.column,Tt,this.getLineMaxColumn(Tt)),zt=this.findMatchesLineByLine(Dt,Pt,Qe,1);return Yi.pM.findNextMatch(this,new Yi.bc(w,ie,De,Fe),ft,Qe),zt.length>0||(Dt=new a.e(1,1,ft.lineNumber,this.getLineMaxColumn(ft.lineNumber)),zt=this.findMatchesLineByLine(Dt,Pt,Qe,1),zt.length>0)?zt[0]:null}return Yi.pM.findNextMatch(this,new Yi.bc(w,ie,De,Fe),ft,Qe)}findPreviousMatch(w,H,ie,De,Fe,Qe){this._assertNotDisposed();const ft=this.validatePosition(H);return Yi.pM.findPreviousMatch(this,new Yi.bc(w,ie,De,Fe),ft,Qe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(w){if((this.getEOL()===`
`?0:1)!==w)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(w)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(w){return w instanceof m.Qi?w:new m.Qi(w.identifier||null,this.validateRange(w.range),w.text,w.forceMoveMarkers||!1,w.isAutoWhitespaceEdit||!1,w._isTracked||!1)}_validateEditOperations(w){const H=[];for(let ie=0,De=w.length;ie<De;ie++)H[ie]=this._validateEditOperation(w[ie]);return H}pushEditOperations(w,H,ie,De){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(w,this._validateEditOperations(H),ie,De)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(w,H,ie,De){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Fe=H.map(ft=>({range:this.validateRange(ft.range),text:ft.text}));let Qe=!0;if(w)for(let ft=0,mt=w.length;ft<mt;ft++){const Pt=w[ft];let Tt=!1;for(let Dt=0,zt=Fe.length;Dt<zt;Dt++){const ui=Fe[Dt].range,Di=ui.startLineNumber>Pt.endLineNumber,Ni=Pt.startLineNumber>ui.endLineNumber;if(!Di&&!Ni){Tt=!0;break}}if(!Tt){Qe=!1;break}}if(Qe)for(let ft=0,mt=this._trimAutoWhitespaceLines.length;ft<mt;ft++){const Pt=this._trimAutoWhitespaceLines[ft],Tt=this.getLineMaxColumn(Pt);let Dt=!0;for(let zt=0,ui=Fe.length;zt<ui;zt++){const Di=Fe[zt].range,Ni=Fe[zt].text;if(!(Pt<Di.startLineNumber||Pt>Di.endLineNumber)&&!(Pt===Di.startLineNumber&&Di.startColumn===Tt&&Di.isEmpty()&&Ni&&Ni.length>0&&Ni.charAt(0)===`
`)&&!(Pt===Di.startLineNumber&&Di.startColumn===1&&Di.isEmpty()&&Ni&&Ni.length>0&&Ni.charAt(Ni.length-1)===`
`)){Dt=!1;break}}if(Dt){const zt=new a.e(Pt,1,Pt,Tt);H.push(new m.Qi(null,zt,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(w,H,ie,De)}_applyUndo(w,H,ie,De){const Fe=w.map(Qe=>{const ft=this.getPositionAt(Qe.newPosition),mt=this.getPositionAt(Qe.newEnd);return{range:new a.e(ft.lineNumber,ft.column,mt.lineNumber,mt.column),text:Qe.oldText}});this._applyUndoRedoEdits(Fe,H,!0,!1,ie,De)}_applyRedo(w,H,ie,De){const Fe=w.map(Qe=>{const ft=this.getPositionAt(Qe.oldPosition),mt=this.getPositionAt(Qe.oldEnd);return{range:new a.e(ft.lineNumber,ft.column,mt.lineNumber,mt.column),text:Qe.newText}});this._applyUndoRedoEdits(Fe,H,!1,!0,ie,De)}_applyUndoRedoEdits(w,H,ie,De,Fe,Qe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=ie,this._isRedoing=De,this.applyEdits(w,!1),this.setEOL(H),this._overwriteAlternativeVersionId(Fe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Qe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(w,H=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const ie=this._validateEditOperations(w);return this._doApplyEdits(ie,H)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(w,H){const ie=this._buffer.getLineCount(),De=this._buffer.applyEdits(w,this._options.trimAutoWhitespace,H),Fe=this._buffer.getLineCount(),Qe=De.changes;if(this._trimAutoWhitespaceLines=De.trimAutoWhitespaceLineNumbers,Qe.length!==0){for(let Pt=0,Tt=Qe.length;Pt<Tt;Pt++){const Dt=Qe[Pt];this._decorationsTree.acceptReplace(Dt.rangeOffset,Dt.rangeLength,Dt.text.length,Dt.forceMoveMarkers)}const ft=[];this._increaseVersionId();let mt=ie;for(let Pt=0,Tt=Qe.length;Pt<Tt;Pt++){const Dt=Qe[Pt],[zt]=(0,L.Q)(Dt.text);this._onDidChangeDecorations.fire();const ui=Dt.range.startLineNumber,Di=Dt.range.endLineNumber,Ni=Di-ui,Ei=zt,qi=Math.min(Ni,Ei),yn=Ei-Ni,cn=Fe-mt-yn+ui,$n=cn,Ps=cn+Ei,vs=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new g.L($n,1)),this.getOffsetAt(new g.L(Ps,this.getLineMaxColumn(Ps))),0),xs=ki.gk.fromDecorations(vs),go=new f.H9(xs);for(let Rs=qi;Rs>=0;Rs--){const xo=ui+Rs,ao=cn+Rs;go.takeFromEndWhile(Gs=>Gs.lineNumber>ao);const mo=go.takeFromEndWhile(Gs=>Gs.lineNumber===ao);ft.push(new ki.rU(xo,this.getLineContent(ao),mo))}if(qi<Ni){const Rs=ui+qi;ft.push(new ki.lN(Rs+1,Di))}if(qi<Ei){const Rs=new f.H9(xs),xo=ui+qi,ao=Ei-qi,mo=Fe-mt-ao+xo+1,Gs=[],po=[];for(let Js=0;Js<ao;Js++){const ko=mo+Js;po[Js]=this.getLineContent(ko),Rs.takeWhile(wo=>wo.lineNumber<ko),Gs[Js]=Rs.takeWhile(wo=>wo.lineNumber===ko)}ft.push(new ki.Tx(xo+1,ui+Ei,po,Gs))}mt+=yn}this._emitContentChangedEvent(new ki.dQ(ft,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Qe,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return De.reverseEdits===null?void 0:De.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(w){if(w===null||w.size===0)return;const ie=Array.from(w).map(De=>new ki.rU(De,this.getLineContent(De),this._getInjectedTextInLine(De)));this._onDidChangeInjectedText.fire(new ki.D8(ie))}changeDecorations(w,H=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(H,w)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(w,H){const ie={addDecoration:(Fe,Qe)=>this._deltaDecorationsImpl(w,[],[{range:Fe,options:Qe}])[0],changeDecoration:(Fe,Qe)=>{this._changeDecorationImpl(Fe,Qe)},changeDecorationOptions:(Fe,Qe)=>{this._changeDecorationOptionsImpl(Fe,yo(Qe))},removeDecoration:Fe=>{this._deltaDecorationsImpl(w,[Fe],[])},deltaDecorations:(Fe,Qe)=>Fe.length===0&&Qe.length===0?[]:this._deltaDecorationsImpl(w,Fe,Qe)};let De=null;try{De=H(ie)}catch(Fe){(0,u.dL)(Fe)}return ie.addDecoration=jn,ie.changeDecoration=jn,ie.changeDecorationOptions=jn,ie.removeDecoration=jn,ie.deltaDecorations=jn,De}deltaDecorations(w,H,ie=0){if(this._assertNotDisposed(),w||(w=[]),w.length===0&&H.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,u.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(ie,w,H)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(w){return this.getDecorationRange(w)}_setTrackedRange(w,H,ie){const De=w?this._decorations[w]:null;if(!De)return H?this._deltaDecorationsImpl(0,[],[{range:H,options:Vs[ie]}],!0)[0]:null;if(!H)return this._decorationsTree.delete(De),delete this._decorations[De.id],null;const Fe=this._validateRangeRelaxedNoAllocations(H),Qe=this._buffer.getOffsetAt(Fe.startLineNumber,Fe.startColumn),ft=this._buffer.getOffsetAt(Fe.endLineNumber,Fe.endColumn);return this._decorationsTree.delete(De),De.reset(this.getVersionId(),Qe,ft,Fe),De.setOptions(Vs[ie]),this._decorationsTree.insert(De),De.id}removeAllDecorationsWithOwnerId(w){if(this._isDisposed)return;const H=this._decorationsTree.collectNodesFromOwner(w);for(let ie=0,De=H.length;ie<De;ie++){const Fe=H[ie];this._decorationsTree.delete(Fe),delete this._decorations[Fe.id]}}getDecorationOptions(w){const H=this._decorations[w];return H?H.options:null}getDecorationRange(w){const H=this._decorations[w];return H?this._decorationsTree.getNodeRange(this,H):null}getLineDecorations(w,H=0,ie=!1){return w<1||w>this.getLineCount()?[]:this.getLinesDecorations(w,w,H,ie)}getLinesDecorations(w,H,ie=0,De=!1,Fe=!1){const Qe=this.getLineCount(),ft=Math.min(Qe,Math.max(1,w)),mt=Math.min(Qe,Math.max(1,H)),Pt=this.getLineMaxColumn(mt),Tt=new a.e(ft,1,mt,Pt),Dt=this._getDecorationsInRange(Tt,ie,De,Fe);return(0,f.vA)(Dt,this._decorationProvider.getDecorationsInRange(Tt,ie,De)),Dt}getDecorationsInRange(w,H=0,ie=!1,De=!1,Fe=!1){const Qe=this.validateRange(w),ft=this._getDecorationsInRange(Qe,H,ie,Fe);return(0,f.vA)(ft,this._decorationProvider.getDecorationsInRange(Qe,H,ie,De)),ft}getOverviewRulerDecorations(w=0,H=!1){return this._decorationsTree.getAll(this,w,H,!0,!1)}getInjectedTextDecorations(w=0){return this._decorationsTree.getAllInjectedText(this,w)}_getInjectedTextInLine(w){const H=this._buffer.getOffsetAt(w,1),ie=H+this._buffer.getLineLength(w),De=this._decorationsTree.getInjectedTextInInterval(this,H,ie,0);return ki.gk.fromDecorations(De).filter(Fe=>Fe.lineNumber===w)}getAllDecorations(w=0,H=!1){let ie=this._decorationsTree.getAll(this,w,H,!1,!1);return ie=ie.concat(this._decorationProvider.getAllDecorations(w,H)),ie}getAllMarginDecorations(w=0){return this._decorationsTree.getAll(this,w,!1,!1,!0)}_getDecorationsInRange(w,H,ie,De){const Fe=this._buffer.getOffsetAt(w.startLineNumber,w.startColumn),Qe=this._buffer.getOffsetAt(w.endLineNumber,w.endColumn);return this._decorationsTree.getAllInInterval(this,Fe,Qe,H,ie,De)}getRangeAt(w,H){return this._buffer.getRangeAt(w,H-w)}_changeDecorationImpl(w,H){const ie=this._decorations[w];if(!ie)return;if(ie.options.after){const ft=this.getDecorationRange(w);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ft.endLineNumber)}if(ie.options.before){const ft=this.getDecorationRange(w);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ft.startLineNumber)}const De=this._validateRangeRelaxedNoAllocations(H),Fe=this._buffer.getOffsetAt(De.startLineNumber,De.startColumn),Qe=this._buffer.getOffsetAt(De.endLineNumber,De.endColumn);this._decorationsTree.delete(ie),ie.reset(this.getVersionId(),Fe,Qe,De),this._decorationsTree.insert(ie),this._onDidChangeDecorations.checkAffectedAndFire(ie.options),ie.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(De.endLineNumber),ie.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(De.startLineNumber)}_changeDecorationOptionsImpl(w,H){const ie=this._decorations[w];if(!ie)return;const De=!!(ie.options.overviewRuler&&ie.options.overviewRuler.color),Fe=!!(H.overviewRuler&&H.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(ie.options),this._onDidChangeDecorations.checkAffectedAndFire(H),ie.options.after||H.after){const Qe=this._decorationsTree.getNodeRange(this,ie);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Qe.endLineNumber)}if(ie.options.before||H.before){const Qe=this._decorationsTree.getNodeRange(this,ie);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Qe.startLineNumber)}De!==Fe?(this._decorationsTree.delete(ie),ie.setOptions(H),this._decorationsTree.insert(ie)):ie.setOptions(H)}_deltaDecorationsImpl(w,H,ie,De=!1){const Fe=this.getVersionId(),Qe=H.length;let ft=0;const mt=ie.length;let Pt=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Tt=new Array(mt);for(;ft<Qe||Pt<mt;){let Dt=null;if(ft<Qe){do Dt=this._decorations[H[ft++]];while(!Dt&&ft<Qe);if(Dt){if(Dt.options.after){const zt=this._decorationsTree.getNodeRange(this,Dt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(zt.endLineNumber)}if(Dt.options.before){const zt=this._decorationsTree.getNodeRange(this,Dt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(zt.startLineNumber)}this._decorationsTree.delete(Dt),De||this._onDidChangeDecorations.checkAffectedAndFire(Dt.options)}}if(Pt<mt){if(!Dt){const qi=++this._lastDecorationId,yn=`${this._instanceId};${qi}`;Dt=new de(yn,0,0),this._decorations[yn]=Dt}const zt=ie[Pt],ui=this._validateRangeRelaxedNoAllocations(zt.range),Di=yo(zt.options),Ni=this._buffer.getOffsetAt(ui.startLineNumber,ui.startColumn),Ei=this._buffer.getOffsetAt(ui.endLineNumber,ui.endColumn);Dt.ownerId=w,Dt.reset(Fe,Ni,Ei,ui),Dt.setOptions(Di),Dt.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ui.endLineNumber),Dt.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ui.startLineNumber),De||this._onDidChangeDecorations.checkAffectedAndFire(Di),this._decorationsTree.insert(Dt),Tt[Pt]=Dt.id,Pt++}else Dt&&delete this._decorations[Dt.id]}return Tt}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(w,H){typeof w=="string"?(this._languageSelectionListener.clear(),this._setLanguage(w,H)):(this._languageSelectionListener.value=w.onDidChange(()=>this._setLanguage(w.languageId,H)),this._setLanguage(w.languageId,H))}_setLanguage(w,H){this.tokenization.setLanguageId(w,H),this._languageService.requestRichLanguageFeatures(w)}getLanguageIdAtPosition(w,H){return this.tokenization.getLanguageIdAtPosition(w,H)}getWordAtPosition(w){return this._tokenizationTextModelPart.getWordAtPosition(w)}getWordUntilPosition(w){return this._tokenizationTextModelPart.getWordUntilPosition(w)}normalizePosition(w,H){return w}getLineIndentColumn(w){return ys(this.getLineContent(w))+1}};ns._MODEL_SYNC_LIMIT=50*1024*1024,ns.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,ns.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,ns.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:d.D.tabSize,indentSize:d.D.indentSize,insertSpaces:d.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:d.D.trimAutoWhitespace,largeFileOptimizations:d.D.largeFileOptimizations,bracketPairColorizationOptions:d.D.bracketPairColorizationOptions},ns=Ri([Cn(4,Wi.tJ),Cn(5,i.O),Cn(6,s.c_)],ns);function ys(Ge){let w=0;for(const H of Ge)if(H===" "||H==="	")w++;else break;return w}function Ms(Ge){return!!(Ge.options.overviewRuler&&Ge.options.overviewRuler.color)}function ws(Ge){return!!Ge.options.after||!!Ge.options.before}class Mn{constructor(){this._decorationsTree0=new ne,this._decorationsTree1=new ne,this._injectedTextDecorationsTree=new ne}ensureAllNodesHaveRanges(w){this.getAll(w,0,!1,!1,!1)}_ensureNodesHaveRanges(w,H){for(const ie of H)ie.range===null&&(ie.range=w.getRangeAt(ie.cachedAbsoluteStart,ie.cachedAbsoluteEnd));return H}getAllInInterval(w,H,ie,De,Fe,Qe){const ft=w.getVersionId(),mt=this._intervalSearch(H,ie,De,Fe,ft,Qe);return this._ensureNodesHaveRanges(w,mt)}_intervalSearch(w,H,ie,De,Fe,Qe){const ft=this._decorationsTree0.intervalSearch(w,H,ie,De,Fe,Qe),mt=this._decorationsTree1.intervalSearch(w,H,ie,De,Fe,Qe),Pt=this._injectedTextDecorationsTree.intervalSearch(w,H,ie,De,Fe,Qe);return ft.concat(mt).concat(Pt)}getInjectedTextInInterval(w,H,ie,De){const Fe=w.getVersionId(),Qe=this._injectedTextDecorationsTree.intervalSearch(H,ie,De,!1,Fe,!1);return this._ensureNodesHaveRanges(w,Qe).filter(ft=>ft.options.showIfCollapsed||!ft.range.isEmpty())}getAllInjectedText(w,H){const ie=w.getVersionId(),De=this._injectedTextDecorationsTree.search(H,!1,ie,!1);return this._ensureNodesHaveRanges(w,De).filter(Fe=>Fe.options.showIfCollapsed||!Fe.range.isEmpty())}getAll(w,H,ie,De,Fe){const Qe=w.getVersionId(),ft=this._search(H,ie,De,Qe,Fe);return this._ensureNodesHaveRanges(w,ft)}_search(w,H,ie,De,Fe){if(ie)return this._decorationsTree1.search(w,H,De,Fe);{const Qe=this._decorationsTree0.search(w,H,De,Fe),ft=this._decorationsTree1.search(w,H,De,Fe),mt=this._injectedTextDecorationsTree.search(w,H,De,Fe);return Qe.concat(ft).concat(mt)}}collectNodesFromOwner(w){const H=this._decorationsTree0.collectNodesFromOwner(w),ie=this._decorationsTree1.collectNodesFromOwner(w),De=this._injectedTextDecorationsTree.collectNodesFromOwner(w);return H.concat(ie).concat(De)}collectNodesPostOrder(){const w=this._decorationsTree0.collectNodesPostOrder(),H=this._decorationsTree1.collectNodesPostOrder(),ie=this._injectedTextDecorationsTree.collectNodesPostOrder();return w.concat(H).concat(ie)}insert(w){ws(w)?this._injectedTextDecorationsTree.insert(w):Ms(w)?this._decorationsTree1.insert(w):this._decorationsTree0.insert(w)}delete(w){ws(w)?this._injectedTextDecorationsTree.delete(w):Ms(w)?this._decorationsTree1.delete(w):this._decorationsTree0.delete(w)}getNodeRange(w,H){const ie=w.getVersionId();return H.cachedVersionId!==ie&&this._resolveNode(H,ie),H.range===null&&(H.range=w.getRangeAt(H.cachedAbsoluteStart,H.cachedAbsoluteEnd)),H.range}_resolveNode(w,H){ws(w)?this._injectedTextDecorationsTree.resolveNode(w,H):Ms(w)?this._decorationsTree1.resolveNode(w,H):this._decorationsTree0.resolveNode(w,H)}acceptReplace(w,H,ie,De){this._decorationsTree0.acceptReplace(w,H,ie,De),this._decorationsTree1.acceptReplace(w,H,ie,De),this._injectedTextDecorationsTree.acceptReplace(w,H,ie,De)}}function Ds(Ge){return Ge.replace(/[^a-z0-9\-_]/gi," ")}class oo{constructor(w){this.color=w.color||"",this.darkColor=w.darkColor||""}}class Eo extends oo{constructor(w){super(w),this._resolvedColor=null,this.position=typeof w.position=="number"?w.position:m.sh.Center}getColor(w){return this._resolvedColor||(w.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,w):this._resolvedColor=this._resolveColor(this.color,w)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(w,H){if(typeof w=="string")return w;const ie=w?H.getColor(w.id):null;return ie?ie.toString():""}}class To{constructor(w){var H;this.position=(H=w==null?void 0:w.position)!==null&&H!==void 0?H:m.U.Left}}class Xs extends oo{constructor(w){super(w),this.position=w.position}getColor(w){return this._resolvedColor||(w.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,w):this._resolvedColor=this._resolveColor(this.color,w)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(w,H){return typeof w=="string"?O.Il.fromHex(w):H.getColor(w.id)}}class Ws{static from(w){return w instanceof Ws?w:new Ws(w)}constructor(w){this.content=w.content||"",this.inlineClassName=w.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=w.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=w.attachedData||null,this.cursorStops=w.cursorStops||null}}class Es{static register(w){return new Es(w)}static createDynamic(w){return new Es(w)}constructor(w){var H,ie,De,Fe,Qe;this.description=w.description,this.blockClassName=w.blockClassName?Ds(w.blockClassName):null,this.blockDoesNotCollapse=(H=w.blockDoesNotCollapse)!==null&&H!==void 0?H:null,this.blockIsAfterEnd=(ie=w.blockIsAfterEnd)!==null&&ie!==void 0?ie:null,this.blockPadding=(De=w.blockPadding)!==null&&De!==void 0?De:null,this.stickiness=w.stickiness||0,this.zIndex=w.zIndex||0,this.className=w.className?Ds(w.className):null,this.hoverMessage=w.hoverMessage||null,this.glyphMarginHoverMessage=w.glyphMarginHoverMessage||null,this.isWholeLine=w.isWholeLine||!1,this.showIfCollapsed=w.showIfCollapsed||!1,this.collapseOnReplaceEdit=w.collapseOnReplaceEdit||!1,this.overviewRuler=w.overviewRuler?new Eo(w.overviewRuler):null,this.minimap=w.minimap?new Xs(w.minimap):null,this.glyphMargin=w.glyphMarginClassName?new To(w.glyphMargin):null,this.glyphMarginClassName=w.glyphMarginClassName?Ds(w.glyphMarginClassName):null,this.linesDecorationsClassName=w.linesDecorationsClassName?Ds(w.linesDecorationsClassName):null,this.firstLineDecorationClassName=w.firstLineDecorationClassName?Ds(w.firstLineDecorationClassName):null,this.marginClassName=w.marginClassName?Ds(w.marginClassName):null,this.inlineClassName=w.inlineClassName?Ds(w.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=w.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=w.beforeContentClassName?Ds(w.beforeContentClassName):null,this.afterContentClassName=w.afterContentClassName?Ds(w.afterContentClassName):null,this.after=w.after?Ws.from(w.after):null,this.before=w.before?Ws.from(w.before):null,this.hideInCommentTokens=(Fe=w.hideInCommentTokens)!==null&&Fe!==void 0?Fe:!1,this.hideInStringTokens=(Qe=w.hideInStringTokens)!==null&&Qe!==void 0?Qe:!1}}Es.EMPTY=Es.register({description:"empty"});const Vs=[Es.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Es.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Es.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Es.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function yo(Ge){return Ge instanceof Es?Ge:Es.createDynamic(Ge)}class $t extends p.JT{constructor(w){super(),this.handleBeforeFire=w,this._actual=this._register(new _.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var w;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(w=this._affectedInjectedTextLines)===null||w===void 0||w.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(w){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(w)}checkAffectedAndFire(w){this._affectsMinimap||(this._affectsMinimap=!!(w.minimap&&w.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(w.overviewRuler&&w.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!w.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const w={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(w)}}class re extends p.JT{constructor(){super(),this._fastEmitter=this._register(new _.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new _.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(w=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=w;const H=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(H),this._slowEmitter.fire(H)}}fire(w){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(w):this._deferredEvent=w;return}this._fastEmitter.fire(w),this._slowEmitter.fire(w)}}class ke{constructor(){this._onDidChangeVisibleRanges=new _.Q5,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const w=new lt(H=>{this._onDidChangeVisibleRanges.fire({view:w,state:H})});return this._views.add(w),w}detachView(w){this._views.delete(w),this._onDidChangeVisibleRanges.fire({view:w,state:void 0})}}class lt{constructor(w){this.handleStateChange=w}setVisibleLines(w,H){const ie=w.map(De=>new sn.z(De.startLineNumber,De.endLineNumber+1));this.handleStateChange({visibleLineRanges:ie,stabilized:H})}}},83388:function(Rt,Be,t){"use strict";t.d(Be,{U:function(){return O}});var f=t(38431);class O extends f.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},58461:function(Rt,Be,t){"use strict";t.d(Be,{bc:function(){return I},cM:function(){return i},iE:function(){return E},pM:function(){return a},sz:function(){return s}});var f=t(17416),O=t(31599),u=t(8964),_=t(50038),p=t(41913);const V=999;class I{constructor(b,c,v,C){this.searchString=b,this.isRegex=c,this.matchCase=v,this.wordSeparators=C}parseSearchRequest(){if(this.searchString==="")return null;let b;this.isRegex?b=L(this.searchString):b=this.searchString.indexOf(`
`)>=0;let c=null;try{c=f.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:b,global:!0,unicode:!0})}catch(C){return null}if(!c)return null;let v=!this.isRegex&&!b;return v&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(v=this.matchCase),new p.Tx(c,this.wordSeparators?(0,O.u)(this.wordSeparators):null,v?this.searchString:null)}}function L(m){if(!m||m.length===0)return!1;for(let b=0,c=m.length;b<c;b++){const v=m.charCodeAt(b);if(v===10)return!0;if(v===92){if(b++,b>=c)break;const C=m.charCodeAt(b);if(C===110||C===114||C===87)return!0}}return!1}function E(m,b,c){if(!c)return new p.tk(m,null);const v=[];for(let C=0,S=b.length;C<S;C++)v[C]=b[C];return new p.tk(m,v)}class g{constructor(b){const c=[];let v=0;for(let C=0,S=b.length;C<S;C++)b.charCodeAt(C)===10&&(c[v++]=C);this._lineFeedsOffsets=c}findLineFeedCountBeforeOffset(b){const c=this._lineFeedsOffsets;let v=0,C=c.length-1;if(C===-1||b<=c[0])return 0;for(;v<C;){const S=v+((C-v)/2>>0);c[S]>=b?C=S-1:c[S+1]>=b?(v=S,C=S):v=S+1}return v+1}}class a{static findMatches(b,c,v,C,S){const N=c.parseSearchRequest();return N?N.regex.multiline?this._doFindMatchesMultiline(b,v,new s(N.wordSeparators,N.regex),C,S):this._doFindMatchesLineByLine(b,v,N,C,S):[]}static _getMultilineMatchRange(b,c,v,C,S,N){let P,M=0;C?(M=C.findLineFeedCountBeforeOffset(S),P=c+S+M):P=c+S;let D;if(C){const A=C.findLineFeedCountBeforeOffset(S+N.length)-M;D=P+N.length+A}else D=P+N.length;const F=b.getPositionAt(P),B=b.getPositionAt(D);return new _.e(F.lineNumber,F.column,B.lineNumber,B.column)}static _doFindMatchesMultiline(b,c,v,C,S){const N=b.getOffsetAt(c.getStartPosition()),P=b.getValueInRange(c,1),M=b.getEOL()===`\r
`?new g(P):null,D=[];let F=0,B;for(v.reset(0);B=v.next(P);)if(D[F++]=E(this._getMultilineMatchRange(b,N,P,M,B.index,B[0]),B,C),F>=S)return D;return D}static _doFindMatchesLineByLine(b,c,v,C,S){const N=[];let P=0;if(c.startLineNumber===c.endLineNumber){const D=b.getLineContent(c.startLineNumber).substring(c.startColumn-1,c.endColumn-1);return P=this._findMatchesInLine(v,D,c.startLineNumber,c.startColumn-1,P,N,C,S),N}const M=b.getLineContent(c.startLineNumber).substring(c.startColumn-1);P=this._findMatchesInLine(v,M,c.startLineNumber,c.startColumn-1,P,N,C,S);for(let D=c.startLineNumber+1;D<c.endLineNumber&&P<S;D++)P=this._findMatchesInLine(v,b.getLineContent(D),D,0,P,N,C,S);if(P<S){const D=b.getLineContent(c.endLineNumber).substring(0,c.endColumn-1);P=this._findMatchesInLine(v,D,c.endLineNumber,0,P,N,C,S)}return N}static _findMatchesInLine(b,c,v,C,S,N,P,M){const D=b.wordSeparators;if(!P&&b.simpleSearch){const U=b.simpleSearch,A=U.length,k=c.length;let R=-A;for(;(R=c.indexOf(U,R+A))!==-1;)if((!D||i(D,c,k,R,A))&&(N[S++]=new p.tk(new _.e(v,R+1+C,v,R+1+A+C),null),S>=M))return S;return S}const F=new s(b.wordSeparators,b.regex);let B;F.reset(0);do if(B=F.next(c),B&&(N[S++]=E(new _.e(v,B.index+1+C,v,B.index+1+B[0].length+C),B,P),S>=M))return S;while(B);return S}static findNextMatch(b,c,v,C){const S=c.parseSearchRequest();if(!S)return null;const N=new s(S.wordSeparators,S.regex);return S.regex.multiline?this._doFindNextMatchMultiline(b,v,N,C):this._doFindNextMatchLineByLine(b,v,N,C)}static _doFindNextMatchMultiline(b,c,v,C){const S=new u.L(c.lineNumber,1),N=b.getOffsetAt(S),P=b.getLineCount(),M=b.getValueInRange(new _.e(S.lineNumber,S.column,P,b.getLineMaxColumn(P)),1),D=b.getEOL()===`\r
`?new g(M):null;v.reset(c.column-1);const F=v.next(M);return F?E(this._getMultilineMatchRange(b,N,M,D,F.index,F[0]),F,C):c.lineNumber!==1||c.column!==1?this._doFindNextMatchMultiline(b,new u.L(1,1),v,C):null}static _doFindNextMatchLineByLine(b,c,v,C){const S=b.getLineCount(),N=c.lineNumber,P=b.getLineContent(N),M=this._findFirstMatchInLine(v,P,N,c.column,C);if(M)return M;for(let D=1;D<=S;D++){const F=(N+D-1)%S,B=b.getLineContent(F+1),U=this._findFirstMatchInLine(v,B,F+1,1,C);if(U)return U}return null}static _findFirstMatchInLine(b,c,v,C,S){b.reset(C-1);const N=b.next(c);return N?E(new _.e(v,N.index+1,v,N.index+1+N[0].length),N,S):null}static findPreviousMatch(b,c,v,C){const S=c.parseSearchRequest();if(!S)return null;const N=new s(S.wordSeparators,S.regex);return S.regex.multiline?this._doFindPreviousMatchMultiline(b,v,N,C):this._doFindPreviousMatchLineByLine(b,v,N,C)}static _doFindPreviousMatchMultiline(b,c,v,C){const S=this._doFindMatchesMultiline(b,new _.e(1,1,c.lineNumber,c.column),v,C,10*V);if(S.length>0)return S[S.length-1];const N=b.getLineCount();return c.lineNumber!==N||c.column!==b.getLineMaxColumn(N)?this._doFindPreviousMatchMultiline(b,new u.L(N,b.getLineMaxColumn(N)),v,C):null}static _doFindPreviousMatchLineByLine(b,c,v,C){const S=b.getLineCount(),N=c.lineNumber,P=b.getLineContent(N).substring(0,c.column-1),M=this._findLastMatchInLine(v,P,N,C);if(M)return M;for(let D=1;D<=S;D++){const F=(S+N-D-1)%S,B=b.getLineContent(F+1),U=this._findLastMatchInLine(v,B,F+1,C);if(U)return U}return null}static _findLastMatchInLine(b,c,v,C){let S=null,N;for(b.reset(0);N=b.next(c);)S=E(new _.e(v,N.index+1,v,N.index+1+N[0].length),N,C);return S}}function l(m,b,c,v,C){if(v===0)return!0;const S=b.charCodeAt(v-1);if(m.get(S)!==0||S===13||S===10)return!0;if(C>0){const N=b.charCodeAt(v);if(m.get(N)!==0)return!0}return!1}function d(m,b,c,v,C){if(v+C===c)return!0;const S=b.charCodeAt(v+C);if(m.get(S)!==0||S===13||S===10)return!0;if(C>0){const N=b.charCodeAt(v+C-1);if(m.get(N)!==0)return!0}return!1}function i(m,b,c,v,C){return l(m,b,c,v,C)&&d(m,b,c,v,C)}class s{constructor(b,c){this._wordSeparators=b,this._searchRegex=c,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(b){this._searchRegex.lastIndex=b,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(b){const c=b.length;let v;do{if(this._prevMatchStartIndex+this._prevMatchLength===c||(v=this._searchRegex.exec(b),!v))return null;const C=v.index,S=v[0].length;if(C===this._prevMatchStartIndex&&S===this._prevMatchLength){if(S===0){f.ZH(b,c,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=C,this._prevMatchLength=S,!this._wordSeparators||i(this._wordSeparators,b,c,C,S))return v}while(v);return null}}},6287:function(Rt,Be,t){"use strict";t.d(Be,{q:function(){return f}});function f(O,u){let _=0,p=0;const V=O.length;for(;p<V;){const I=O.charCodeAt(p);if(I===32)_++;else if(I===9)_=_-_%u+u;else break;p++}return p===V?-1:_}},79375:function(Rt,Be,t){"use strict";t.d(Be,{O:function(){return a}});var f=t(97464),O=t(56709),u=t(94880),_=t(28919),p=t(8964),V=t(50038),I=t(57841),L=t(36082),E=t(8420);class g{static chord(d,i){return(0,u.gx)(d,i)}}g.CtrlCmd=2048,g.Shift=1024,g.Alt=512,g.WinCtrl=256;function a(){return{editor:void 0,languages:void 0,CancellationTokenSource:f.A,Emitter:O.Q5,KeyCode:E.VD,KeyMod:g,Position:p.L,Range:V.e,Selection:I.Y,SelectionDirection:E.a$,MarkerSeverity:E.ZL,MarkerTag:E.eB,Uri:_.o,Token:L.WU}}},30363:function(Rt,Be,t){"use strict";t.d(Be,{p:function(){return O}});var f=t(44333);const O=(0,f.yh)("editorWorkerService")},69060:function(Rt,Be,t){"use strict";t.d(Be,{A:function(){return g}});var f=t(32916),O=t(39832),u=t(98726),_=t(53061),p=t(44333),V=t(59271),I=t(48786),L=function(i,s,m,b){var c=arguments.length,v=c<3?s:b===null?b=Object.getOwnPropertyDescriptor(s,m):b,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(i,s,m,b);else for(var S=i.length-1;S>=0;S--)(C=i[S])&&(v=(c<3?C(v):c>3?C(s,m,v):C(s,m))||v);return c>3&&v&&Object.defineProperty(s,m,v),v},E=function(i,s){return function(m,b){s(m,b,i)}};const g=(0,p.yh)("ILanguageFeatureDebounceService");var a;(function(i){const s=new WeakMap;let m=0;function b(c){let v=s.get(c);return v===void 0&&(v=++m,s.set(c,v)),v}i.of=b})(a||(a={}));class l{constructor(s,m,b,c,v,C){this._logService=s,this._name=m,this._registry=b,this._default=c,this._min=v,this._max=C,this._cache=new O.z6(50,.7)}_key(s){return s.id+this._registry.all(s).reduce((m,b)=>(0,f.SP)(a.of(b),m),0)}get(s){const m=this._key(s),b=this._cache.get(m);return b?(0,u.uZ)(b.value,this._min,this._max):this.default()}update(s,m){const b=this._key(s);let c=this._cache.get(b);c||(c=new u.N(6),this._cache.set(b,c));const v=(0,u.uZ)(c.update(m),this._min,this._max);return(0,I.xn)(s.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${s.uri.toString()} is ${v}ms`),v}_overall(){const s=new u.nM;for(const[,m]of this._cache)s.update(m.value);return s.value}default(){const s=this._overall()|0||this._default;return(0,u.uZ)(s,this._min,this._max)}}let d=class{constructor(s){this._logService=s,this._data=new Map}for(s,m,b){var c,v,C;const S=(c=b==null?void 0:b.min)!==null&&c!==void 0?c:50,N=(v=b==null?void 0:b.max)!==null&&v!==void 0?v:Math.pow(S,2),P=(C=b==null?void 0:b.key)!==null&&C!==void 0?C:void 0,M=`${a.of(s)},${S}${P?","+P:""}`;let D=this._data.get(M);return D||(D=new l(this._logService,m,s,this._overallAverage()|0||S*1.5,S,N),this._data.set(M,D)),D}_overallAverage(){const s=new u.nM;for(const m of this._data.values())s.update(m.default());return s.value}};d=L([E(0,V.VZ)],d),(0,_.z)(g,d,1)},35921:function(Rt,Be,t){"use strict";t.d(Be,{p:function(){return O}});var f=t(44333);const O=(0,f.yh)("ILanguageFeaturesService")},52919:function(Rt,Be,t){"use strict";t.d(Be,{i:function(){return O}});var f=t(44333);const O=(0,f.yh)("markerDecorationsService")},65041:function(Rt,Be,t){"use strict";t.d(Be,{q:function(){return O}});var f=t(44333);const O=(0,f.yh)("modelService")},91223:function(Rt,Be,t){"use strict";t.d(Be,{S:function(){return O}});var f=t(44333);const O=(0,f.yh)("textModelService")},76263:function(Rt,Be,t){"use strict";t.d(Be,{$:function(){return d},h:function(){return i}});var f=t(24506),O=t(58566),u=t(59271),_=t(8964),p=t(50038),V=t(58570);class I{static create(c,v){return new I(c,new L(v))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(c,v){this._startLineNumber=c,this._tokens=v,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(c){return this._startLineNumber<=c&&c<=this._endLineNumber?this._tokens.getLineTokens(c-this._startLineNumber):null}getRange(){const c=this._tokens.getRange();return c&&new p.e(this._startLineNumber+c.startLineNumber,c.startColumn,this._startLineNumber+c.endLineNumber,c.endColumn)}removeTokens(c){const v=c.startLineNumber-this._startLineNumber,C=c.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(v,c.startColumn-1,C,c.endColumn-1),this._updateEndLineNumber()}split(c){const v=c.startLineNumber-this._startLineNumber,C=c.endLineNumber-this._startLineNumber,[S,N,P]=this._tokens.split(v,c.startColumn-1,C,c.endColumn-1);return[new I(this._startLineNumber,S),new I(this._startLineNumber+P,N)]}applyEdit(c,v){const[C,S,N]=(0,V.Q)(v);this.acceptEdit(c,C,S,N,v.length>0?v.charCodeAt(0):0)}acceptEdit(c,v,C,S,N){this._acceptDeleteRange(c),this._acceptInsertText(new _.L(c.startLineNumber,c.startColumn),v,C,S,N),this._updateEndLineNumber()}_acceptDeleteRange(c){if(c.startLineNumber===c.endLineNumber&&c.startColumn===c.endColumn)return;const v=c.startLineNumber-this._startLineNumber,C=c.endLineNumber-this._startLineNumber;if(C<0){const N=C-v;this._startLineNumber-=N;return}const S=this._tokens.getMaxDeltaLine();if(!(v>=S+1)){if(v<0&&C>=S+1){this._startLineNumber=0,this._tokens.clear();return}if(v<0){const N=-v;this._startLineNumber-=N,this._tokens.acceptDeleteRange(c.startColumn-1,0,0,C,c.endColumn-1)}else this._tokens.acceptDeleteRange(0,v,c.startColumn-1,C,c.endColumn-1)}}_acceptInsertText(c,v,C,S,N){if(v===0&&C===0)return;const P=c.lineNumber-this._startLineNumber;if(P<0){this._startLineNumber+=v;return}const M=this._tokens.getMaxDeltaLine();P>=M+1||this._tokens.acceptInsertText(P,c.column-1,v,C,S,N)}}class L{constructor(c){this._tokens=c,this._tokenCount=c.length/4}toString(c){const v=[];for(let C=0;C<this._tokenCount;C++)v.push(`(${this._getDeltaLine(C)+c},${this._getStartCharacter(C)}-${this._getEndCharacter(C)})`);return`[${v.join(",")}]`}getMaxDeltaLine(){const c=this._getTokenCount();return c===0?-1:this._getDeltaLine(c-1)}getRange(){const c=this._getTokenCount();if(c===0)return null;const v=this._getStartCharacter(0),C=this._getDeltaLine(c-1),S=this._getEndCharacter(c-1);return new p.e(0,v+1,C,S+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(c){return this._tokens[4*c]}_getStartCharacter(c){return this._tokens[4*c+1]}_getEndCharacter(c){return this._tokens[4*c+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(c){let v=0,C=this._getTokenCount()-1;for(;v<C;){const S=v+Math.floor((C-v)/2),N=this._getDeltaLine(S);if(N<c)v=S+1;else if(N>c)C=S-1;else{let P=S;for(;P>v&&this._getDeltaLine(P-1)===c;)P--;let M=S;for(;M<C&&this._getDeltaLine(M+1)===c;)M++;return new E(this._tokens.subarray(4*P,4*M+4))}}return this._getDeltaLine(v)===c?new E(this._tokens.subarray(4*v,4*v+4)):null}clear(){this._tokenCount=0}removeTokens(c,v,C,S){const N=this._tokens,P=this._tokenCount;let M=0,D=!1,F=0;for(let B=0;B<P;B++){const U=4*B,A=N[U],k=N[U+1],R=N[U+2],$=N[U+3];if((A>c||A===c&&R>=v)&&(A<C||A===C&&k<=S))D=!0;else{if(M===0&&(F=A),D){const J=4*M;N[J]=A-F,N[J+1]=k,N[J+2]=R,N[J+3]=$}M++}}return this._tokenCount=M,F}split(c,v,C,S){const N=this._tokens,P=this._tokenCount,M=[],D=[];let F=M,B=0,U=0;for(let A=0;A<P;A++){const k=4*A,R=N[k],$=N[k+1],J=N[k+2],Y=N[k+3];if(R>c||R===c&&J>=v){if(R<C||R===C&&$<=S)continue;F!==D&&(F=D,B=0,U=R)}F[B++]=R-U,F[B++]=$,F[B++]=J,F[B++]=Y}return[new L(new Uint32Array(M)),new L(new Uint32Array(D)),U]}acceptDeleteRange(c,v,C,S,N){const P=this._tokens,M=this._tokenCount,D=S-v;let F=0,B=!1;for(let U=0;U<M;U++){const A=4*U;let k=P[A],R=P[A+1],$=P[A+2];const J=P[A+3];if(k<v||k===v&&$<=C){F++;continue}else if(k===v&&R<C)k===S&&$>N?$-=N-C:$=C;else if(k===v&&R===C)if(k===S&&$>N)$-=N-C;else{B=!0;continue}else if(k<S||k===S&&R<N)if(k===S&&$>N)k=v,R=C,$=R+($-N);else{B=!0;continue}else if(k>S){if(D===0&&!B){F=M;break}k-=D}else if(k===S&&R>=N)c&&k===0&&(R+=c,$+=c),k-=D,R-=N-C,$-=N-C;else throw new Error("Not possible!");const Y=4*F;P[Y]=k,P[Y+1]=R,P[Y+2]=$,P[Y+3]=J,F++}this._tokenCount=F}acceptInsertText(c,v,C,S,N,P){const M=C===0&&S===1&&(P>=48&&P<=57||P>=65&&P<=90||P>=97&&P<=122),D=this._tokens,F=this._tokenCount;for(let B=0;B<F;B++){const U=4*B;let A=D[U],k=D[U+1],R=D[U+2];if(!(A<c||A===c&&R<v)){if(A===c&&R===v)if(M)R+=1;else continue;else if(A===c&&k<v&&v<R)C===0?R+=S:R=v;else{if(A===c&&k===v&&M)continue;if(A===c)if(A+=C,C===0)k+=S,R+=S;else{const $=R-k;k=N+(k-v),R=k+$}else A+=C}D[U]=A,D[U+1]=k,D[U+2]=R}}}}class E{constructor(c){this._tokens=c}getCount(){return this._tokens.length/4}getStartCharacter(c){return this._tokens[4*c+1]}getEndCharacter(c){return this._tokens[4*c+2]}getMetadata(c){return this._tokens[4*c+3]}}var g=t(47626),a=function(b,c,v,C){var S=arguments.length,N=S<3?c:C===null?C=Object.getOwnPropertyDescriptor(c,v):C,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,c,v,C);else for(var M=b.length-1;M>=0;M--)(P=b[M])&&(N=(S<3?P(N):S>3?P(c,v,N):P(c,v))||N);return S>3&&N&&Object.defineProperty(c,v,N),N},l=function(b,c){return function(v,C){c(v,C,b)}};let d=class{constructor(c,v,C,S){this._legend=c,this._themeService=v,this._languageService=C,this._logService=S,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new m}getMetadata(c,v,C){const S=this._languageService.languageIdCodec.encodeLanguageId(C),N=this._hashTable.get(c,v,S);let P;if(N)P=N.metadata,this._logService.getLevel()===u.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${c} / ${v}: foreground ${f.N.getForeground(P)}, fontStyle ${f.N.getFontStyle(P).toString(2)}`);else{let M=this._legend.tokenTypes[c];const D=[];if(M){let F=v;for(let U=0;F>0&&U<this._legend.tokenModifiers.length;U++)F&1&&D.push(this._legend.tokenModifiers[U]),F=F>>1;F>0&&this._logService.getLevel()===u.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${v.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),D.push("not-in-legend"));const B=this._themeService.getColorTheme().getTokenStyleMetadata(M,D,C);if(typeof B=="undefined")P=2147483647;else{if(P=0,typeof B.italic!="undefined"){const U=(B.italic?1:0)<<11;P|=U|1}if(typeof B.bold!="undefined"){const U=(B.bold?2:0)<<11;P|=U|2}if(typeof B.underline!="undefined"){const U=(B.underline?4:0)<<11;P|=U|4}if(typeof B.strikethrough!="undefined"){const U=(B.strikethrough?8:0)<<11;P|=U|8}if(B.foreground){const U=B.foreground<<15;P|=U|16}P===0&&(P=2147483647)}}else this._logService.getLevel()===u.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${c} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),P=2147483647,M="not-in-legend";this._hashTable.add(c,v,S,P),this._logService.getLevel()===u.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${c} (${M}) / ${v} (${D.join(" ")}): foreground ${f.N.getForeground(P)}, fontStyle ${f.N.getFontStyle(P).toString(2)}`)}return P}warnOverlappingSemanticTokens(c,v){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${c}, column ${v}`))}warnInvalidLengthSemanticTokens(c,v){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${c}, column ${v}`))}warnInvalidEditStart(c,v,C,S,N){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${c}, resultId: ${v}) at edit #${C}: The provided start offset ${S} is outside the previous data (length ${N}).`))}};d=a([l(1,O.XE),l(2,g.O),l(3,u.VZ)],d);function i(b,c,v){const C=b.data,S=b.data.length/5|0,N=Math.max(Math.ceil(S/1024),400),P=[];let M=0,D=1,F=0;for(;M<S;){const B=M;let U=Math.min(B+N,S);if(U<S){let j=U;for(;j-1>B&&C[5*j]===0;)j--;if(j-1===B){let z=U;for(;z+1<S&&C[5*z]===0;)z++;U=z}else U=j}let A=new Uint32Array((U-B)*4),k=0,R=0,$=0,J=0;for(;M<U;){const j=5*M,z=C[j],K=C[j+1],Z=D+z|0,fe=z===0?F+K|0:K,T=C[j+2],Re=fe+T|0,Ce=C[j+3],_e=C[j+4];if(Re<=fe)c.warnInvalidLengthSemanticTokens(Z,fe+1);else if($===Z&&J>fe)c.warnOverlappingSemanticTokens(Z,fe+1);else{const pe=c.getMetadata(Ce,_e,v);pe!==2147483647&&(R===0&&(R=Z),A[k]=Z-R,A[k+1]=fe,A[k+2]=Re,A[k+3]=pe,k+=4,$=Z,J=Re)}D=Z,F=fe,M++}k!==A.length&&(A=A.subarray(0,k));const Y=I.create(R,A);P.push(Y)}return P}class s{constructor(c,v,C,S){this.tokenTypeIndex=c,this.tokenModifierSet=v,this.languageId=C,this.metadata=S,this.next=null}}class m{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=m._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<m._SIZES.length?2/3*this._currentLength:0),this._elements=[],m._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(c,v){for(let C=0;C<v;C++)c[C]=null}_hash2(c,v){return(c<<5)-c+v|0}_hashFunc(c,v,C){return this._hash2(this._hash2(c,v),C)%this._currentLength}get(c,v,C){const S=this._hashFunc(c,v,C);let N=this._elements[S];for(;N;){if(N.tokenTypeIndex===c&&N.tokenModifierSet===v&&N.languageId===C)return N;N=N.next}return null}add(c,v,C,S){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const N=this._elements;this._currentLengthIndex++,this._currentLength=m._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<m._SIZES.length?2/3*this._currentLength:0),this._elements=[],m._nullOutEntries(this._elements,this._currentLength);for(const P of N){let M=P;for(;M;){const D=M.next;M.next=null,this._add(M),M=D}}}this._add(new s(c,v,C,S))}_add(c){const v=this._hashFunc(c.tokenTypeIndex,c.tokenModifierSet,c.languageId);c.next=this._elements[v],this._elements[v]=c}}m._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},76567:function(Rt,Be,t){"use strict";t.d(Be,{s:function(){return O}});var f=t(44333);const O=(0,f.yh)("semanticTokensStylingService")},16576:function(Rt,Be,t){"use strict";t.d(Be,{V:function(){return O},y:function(){return u}});var f=t(44333);const O=(0,f.yh)("textResourceConfigurationService"),u=(0,f.yh)("textResourcePropertiesService")},83969:function(Rt,Be,t){"use strict";t.d(Be,{a:function(){return V}});var f=t(50038),O=t(58461),u=t(17416),_=t(14527),p=t(52676);class V{static computeUnicodeHighlights(a,l,d){const i=d?d.startLineNumber:1,s=d?d.endLineNumber:a.getLineCount(),m=new L(l),b=m.getCandidateCodePoints();let c;b==="allNonBasicAscii"?c=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):c=new RegExp(`${I(Array.from(b))}`,"g");const v=new O.sz(null,c),C=[];let S=!1,N,P=0,M=0,D=0;e:for(let F=i,B=s;F<=B;F++){const U=a.getLineContent(F),A=U.length;v.reset(0);do if(N=v.next(U),N){let k=N.index,R=N.index+N[0].length;if(k>0){const j=U.charCodeAt(k-1);u.ZG(j)&&k--}if(R+1<A){const j=U.charCodeAt(R-1);u.ZG(j)&&R++}const $=U.substring(k,R);let J=(0,p.t2)(k+1,p.Af,U,0);J&&J.endColumn<=k+1&&(J=null);const Y=m.shouldHighlightNonBasicASCII($,J?J.word:null);if(Y!==0){Y===3?P++:Y===2?M++:Y===1?D++:(0,_.vE)(Y);const j=1e3;if(C.length>=j){S=!0;break e}C.push(new f.e(F,k+1,F,R+1))}}while(N)}return{ranges:C,hasMore:S,ambiguousCharacterCount:P,invisibleCharacterCount:M,nonBasicAsciiCharacterCount:D}}static computeUnicodeHighlightReason(a,l){const d=new L(l);switch(d.shouldHighlightNonBasicASCII(a,null)){case 0:return null;case 2:return{kind:1};case 3:{const s=a.codePointAt(0),m=d.ambiguousCharacters.getPrimaryConfusable(s),b=u.ZK.getLocales().filter(c=>!u.ZK.getInstance(new Set([...l.allowedLocales,c])).isAmbiguous(s));return{kind:0,confusableWith:String.fromCodePoint(m),notAmbiguousInLocales:b}}case 1:return{kind:2}}}}function I(g,a){return`[${u.ec(g.map(d=>String.fromCodePoint(d)).join(""))}]`}class L{constructor(a){this.options=a,this.allowedCodePoints=new Set(a.allowedCodePoints),this.ambiguousCharacters=u.ZK.getInstance(new Set(a.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const a=new Set;if(this.options.invisibleCharacters)for(const l of u.vU.codePoints)E(String.fromCodePoint(l))||a.add(l);if(this.options.ambiguousCharacters)for(const l of this.ambiguousCharacters.getConfusableCodePoints())a.add(l);for(const l of this.allowedCodePoints)a.delete(l);return a}shouldHighlightNonBasicASCII(a,l){const d=a.codePointAt(0);if(this.allowedCodePoints.has(d))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,s=!1;if(l)for(const m of l){const b=m.codePointAt(0),c=u.$i(m);i=i||c,!c&&!this.ambiguousCharacters.isAmbiguous(b)&&!u.vU.isInvisibleCharacter(b)&&(s=!0)}return!i&&s?0:this.options.invisibleCharacters&&!E(a)&&u.vU.isInvisibleCharacter(d)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(d)?3:0}}function E(g){return g===" "||g===`
`||g==="	"}},8420:function(Rt,Be,t){"use strict";t.d(Be,{E$:function(){return D},F5:function(){return P},Ij:function(){return V},In:function(){return z},Lu:function(){return U},MG:function(){return M},MY:function(){return g},OI:function(){return Z},RM:function(){return b},U:function(){return s},VD:function(){return C},Vi:function(){return L},WW:function(){return J},ZL:function(){return S},_x:function(){return E},a$:function(){return $},a7:function(){return u},ao:function(){return f},bw:function(){return v},cR:function(){return Y},cm:function(){return _},d2:function(){return K},eB:function(){return N},g4:function(){return k},g_:function(){return R},gl:function(){return c},gm:function(){return d},jl:function(){return i},np:function(){return O},py:function(){return B},r3:function(){return I},r4:function(){return j},rf:function(){return a},sh:function(){return F},up:function(){return fe},vQ:function(){return A},wT:function(){return l},wU:function(){return m},we:function(){return p}});var f;(function(T){T[T.Unknown=0]="Unknown",T[T.Disabled=1]="Disabled",T[T.Enabled=2]="Enabled"})(f||(f={}));var O;(function(T){T[T.Invoke=1]="Invoke",T[T.Auto=2]="Auto"})(O||(O={}));var u;(function(T){T[T.None=0]="None",T[T.KeepWhitespace=1]="KeepWhitespace",T[T.InsertAsSnippet=4]="InsertAsSnippet"})(u||(u={}));var _;(function(T){T[T.Method=0]="Method",T[T.Function=1]="Function",T[T.Constructor=2]="Constructor",T[T.Field=3]="Field",T[T.Variable=4]="Variable",T[T.Class=5]="Class",T[T.Struct=6]="Struct",T[T.Interface=7]="Interface",T[T.Module=8]="Module",T[T.Property=9]="Property",T[T.Event=10]="Event",T[T.Operator=11]="Operator",T[T.Unit=12]="Unit",T[T.Value=13]="Value",T[T.Constant=14]="Constant",T[T.Enum=15]="Enum",T[T.EnumMember=16]="EnumMember",T[T.Keyword=17]="Keyword",T[T.Text=18]="Text",T[T.Color=19]="Color",T[T.File=20]="File",T[T.Reference=21]="Reference",T[T.Customcolor=22]="Customcolor",T[T.Folder=23]="Folder",T[T.TypeParameter=24]="TypeParameter",T[T.User=25]="User",T[T.Issue=26]="Issue",T[T.Snippet=27]="Snippet"})(_||(_={}));var p;(function(T){T[T.Deprecated=1]="Deprecated"})(p||(p={}));var V;(function(T){T[T.Invoke=0]="Invoke",T[T.TriggerCharacter=1]="TriggerCharacter",T[T.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(V||(V={}));var I;(function(T){T[T.EXACT=0]="EXACT",T[T.ABOVE=1]="ABOVE",T[T.BELOW=2]="BELOW"})(I||(I={}));var L;(function(T){T[T.NotSet=0]="NotSet",T[T.ContentFlush=1]="ContentFlush",T[T.RecoverFromMarkers=2]="RecoverFromMarkers",T[T.Explicit=3]="Explicit",T[T.Paste=4]="Paste",T[T.Undo=5]="Undo",T[T.Redo=6]="Redo"})(L||(L={}));var E;(function(T){T[T.LF=1]="LF",T[T.CRLF=2]="CRLF"})(E||(E={}));var g;(function(T){T[T.Text=0]="Text",T[T.Read=1]="Read",T[T.Write=2]="Write"})(g||(g={}));var a;(function(T){T[T.None=0]="None",T[T.Keep=1]="Keep",T[T.Brackets=2]="Brackets",T[T.Advanced=3]="Advanced",T[T.Full=4]="Full"})(a||(a={}));var l;(function(T){T[T.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",T[T.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",T[T.accessibilitySupport=2]="accessibilitySupport",T[T.accessibilityPageSize=3]="accessibilityPageSize",T[T.ariaLabel=4]="ariaLabel",T[T.autoClosingBrackets=5]="autoClosingBrackets",T[T.screenReaderAnnounceInlineSuggestion=6]="screenReaderAnnounceInlineSuggestion",T[T.autoClosingDelete=7]="autoClosingDelete",T[T.autoClosingOvertype=8]="autoClosingOvertype",T[T.autoClosingQuotes=9]="autoClosingQuotes",T[T.autoIndent=10]="autoIndent",T[T.automaticLayout=11]="automaticLayout",T[T.autoSurround=12]="autoSurround",T[T.bracketPairColorization=13]="bracketPairColorization",T[T.guides=14]="guides",T[T.codeLens=15]="codeLens",T[T.codeLensFontFamily=16]="codeLensFontFamily",T[T.codeLensFontSize=17]="codeLensFontSize",T[T.colorDecorators=18]="colorDecorators",T[T.colorDecoratorsLimit=19]="colorDecoratorsLimit",T[T.columnSelection=20]="columnSelection",T[T.comments=21]="comments",T[T.contextmenu=22]="contextmenu",T[T.copyWithSyntaxHighlighting=23]="copyWithSyntaxHighlighting",T[T.cursorBlinking=24]="cursorBlinking",T[T.cursorSmoothCaretAnimation=25]="cursorSmoothCaretAnimation",T[T.cursorStyle=26]="cursorStyle",T[T.cursorSurroundingLines=27]="cursorSurroundingLines",T[T.cursorSurroundingLinesStyle=28]="cursorSurroundingLinesStyle",T[T.cursorWidth=29]="cursorWidth",T[T.disableLayerHinting=30]="disableLayerHinting",T[T.disableMonospaceOptimizations=31]="disableMonospaceOptimizations",T[T.domReadOnly=32]="domReadOnly",T[T.dragAndDrop=33]="dragAndDrop",T[T.dropIntoEditor=34]="dropIntoEditor",T[T.emptySelectionClipboard=35]="emptySelectionClipboard",T[T.experimentalWhitespaceRendering=36]="experimentalWhitespaceRendering",T[T.extraEditorClassName=37]="extraEditorClassName",T[T.fastScrollSensitivity=38]="fastScrollSensitivity",T[T.find=39]="find",T[T.fixedOverflowWidgets=40]="fixedOverflowWidgets",T[T.folding=41]="folding",T[T.foldingStrategy=42]="foldingStrategy",T[T.foldingHighlight=43]="foldingHighlight",T[T.foldingImportsByDefault=44]="foldingImportsByDefault",T[T.foldingMaximumRegions=45]="foldingMaximumRegions",T[T.unfoldOnClickAfterEndOfLine=46]="unfoldOnClickAfterEndOfLine",T[T.fontFamily=47]="fontFamily",T[T.fontInfo=48]="fontInfo",T[T.fontLigatures=49]="fontLigatures",T[T.fontSize=50]="fontSize",T[T.fontWeight=51]="fontWeight",T[T.fontVariations=52]="fontVariations",T[T.formatOnPaste=53]="formatOnPaste",T[T.formatOnType=54]="formatOnType",T[T.glyphMargin=55]="glyphMargin",T[T.gotoLocation=56]="gotoLocation",T[T.hideCursorInOverviewRuler=57]="hideCursorInOverviewRuler",T[T.hover=58]="hover",T[T.inDiffEditor=59]="inDiffEditor",T[T.inlineSuggest=60]="inlineSuggest",T[T.letterSpacing=61]="letterSpacing",T[T.lightbulb=62]="lightbulb",T[T.lineDecorationsWidth=63]="lineDecorationsWidth",T[T.lineHeight=64]="lineHeight",T[T.lineNumbers=65]="lineNumbers",T[T.lineNumbersMinChars=66]="lineNumbersMinChars",T[T.linkedEditing=67]="linkedEditing",T[T.links=68]="links",T[T.matchBrackets=69]="matchBrackets",T[T.minimap=70]="minimap",T[T.mouseStyle=71]="mouseStyle",T[T.mouseWheelScrollSensitivity=72]="mouseWheelScrollSensitivity",T[T.mouseWheelZoom=73]="mouseWheelZoom",T[T.multiCursorMergeOverlapping=74]="multiCursorMergeOverlapping",T[T.multiCursorModifier=75]="multiCursorModifier",T[T.multiCursorPaste=76]="multiCursorPaste",T[T.multiCursorLimit=77]="multiCursorLimit",T[T.occurrencesHighlight=78]="occurrencesHighlight",T[T.overviewRulerBorder=79]="overviewRulerBorder",T[T.overviewRulerLanes=80]="overviewRulerLanes",T[T.padding=81]="padding",T[T.pasteAs=82]="pasteAs",T[T.parameterHints=83]="parameterHints",T[T.peekWidgetDefaultFocus=84]="peekWidgetDefaultFocus",T[T.definitionLinkOpensInPeek=85]="definitionLinkOpensInPeek",T[T.quickSuggestions=86]="quickSuggestions",T[T.quickSuggestionsDelay=87]="quickSuggestionsDelay",T[T.readOnly=88]="readOnly",T[T.renameOnType=89]="renameOnType",T[T.renderControlCharacters=90]="renderControlCharacters",T[T.renderFinalNewline=91]="renderFinalNewline",T[T.renderLineHighlight=92]="renderLineHighlight",T[T.renderLineHighlightOnlyWhenFocus=93]="renderLineHighlightOnlyWhenFocus",T[T.renderValidationDecorations=94]="renderValidationDecorations",T[T.renderWhitespace=95]="renderWhitespace",T[T.revealHorizontalRightPadding=96]="revealHorizontalRightPadding",T[T.roundedSelection=97]="roundedSelection",T[T.rulers=98]="rulers",T[T.scrollbar=99]="scrollbar",T[T.scrollBeyondLastColumn=100]="scrollBeyondLastColumn",T[T.scrollBeyondLastLine=101]="scrollBeyondLastLine",T[T.scrollPredominantAxis=102]="scrollPredominantAxis",T[T.selectionClipboard=103]="selectionClipboard",T[T.selectionHighlight=104]="selectionHighlight",T[T.selectOnLineNumbers=105]="selectOnLineNumbers",T[T.showFoldingControls=106]="showFoldingControls",T[T.showUnused=107]="showUnused",T[T.snippetSuggestions=108]="snippetSuggestions",T[T.smartSelect=109]="smartSelect",T[T.smoothScrolling=110]="smoothScrolling",T[T.stickyScroll=111]="stickyScroll",T[T.stickyTabStops=112]="stickyTabStops",T[T.stopRenderingLineAfter=113]="stopRenderingLineAfter",T[T.suggest=114]="suggest",T[T.suggestFontSize=115]="suggestFontSize",T[T.suggestLineHeight=116]="suggestLineHeight",T[T.suggestOnTriggerCharacters=117]="suggestOnTriggerCharacters",T[T.suggestSelection=118]="suggestSelection",T[T.tabCompletion=119]="tabCompletion",T[T.tabIndex=120]="tabIndex",T[T.unicodeHighlighting=121]="unicodeHighlighting",T[T.unusualLineTerminators=122]="unusualLineTerminators",T[T.useShadowDOM=123]="useShadowDOM",T[T.useTabStops=124]="useTabStops",T[T.wordBreak=125]="wordBreak",T[T.wordSeparators=126]="wordSeparators",T[T.wordWrap=127]="wordWrap",T[T.wordWrapBreakAfterCharacters=128]="wordWrapBreakAfterCharacters",T[T.wordWrapBreakBeforeCharacters=129]="wordWrapBreakBeforeCharacters",T[T.wordWrapColumn=130]="wordWrapColumn",T[T.wordWrapOverride1=131]="wordWrapOverride1",T[T.wordWrapOverride2=132]="wordWrapOverride2",T[T.wrappingIndent=133]="wrappingIndent",T[T.wrappingStrategy=134]="wrappingStrategy",T[T.showDeprecated=135]="showDeprecated",T[T.inlayHints=136]="inlayHints",T[T.editorClassName=137]="editorClassName",T[T.pixelRatio=138]="pixelRatio",T[T.tabFocusMode=139]="tabFocusMode",T[T.layoutInfo=140]="layoutInfo",T[T.wrappingInfo=141]="wrappingInfo",T[T.defaultColorDecorators=142]="defaultColorDecorators"})(l||(l={}));var d;(function(T){T[T.TextDefined=0]="TextDefined",T[T.LF=1]="LF",T[T.CRLF=2]="CRLF"})(d||(d={}));var i;(function(T){T[T.LF=0]="LF",T[T.CRLF=1]="CRLF"})(i||(i={}));var s;(function(T){T[T.Left=1]="Left",T[T.Right=2]="Right"})(s||(s={}));var m;(function(T){T[T.None=0]="None",T[T.Indent=1]="Indent",T[T.IndentOutdent=2]="IndentOutdent",T[T.Outdent=3]="Outdent"})(m||(m={}));var b;(function(T){T[T.Both=0]="Both",T[T.Right=1]="Right",T[T.Left=2]="Left",T[T.None=3]="None"})(b||(b={}));var c;(function(T){T[T.Type=1]="Type",T[T.Parameter=2]="Parameter"})(c||(c={}));var v;(function(T){T[T.Automatic=0]="Automatic",T[T.Explicit=1]="Explicit"})(v||(v={}));var C;(function(T){T[T.DependsOnKbLayout=-1]="DependsOnKbLayout",T[T.Unknown=0]="Unknown",T[T.Backspace=1]="Backspace",T[T.Tab=2]="Tab",T[T.Enter=3]="Enter",T[T.Shift=4]="Shift",T[T.Ctrl=5]="Ctrl",T[T.Alt=6]="Alt",T[T.PauseBreak=7]="PauseBreak",T[T.CapsLock=8]="CapsLock",T[T.Escape=9]="Escape",T[T.Space=10]="Space",T[T.PageUp=11]="PageUp",T[T.PageDown=12]="PageDown",T[T.End=13]="End",T[T.Home=14]="Home",T[T.LeftArrow=15]="LeftArrow",T[T.UpArrow=16]="UpArrow",T[T.RightArrow=17]="RightArrow",T[T.DownArrow=18]="DownArrow",T[T.Insert=19]="Insert",T[T.Delete=20]="Delete",T[T.Digit0=21]="Digit0",T[T.Digit1=22]="Digit1",T[T.Digit2=23]="Digit2",T[T.Digit3=24]="Digit3",T[T.Digit4=25]="Digit4",T[T.Digit5=26]="Digit5",T[T.Digit6=27]="Digit6",T[T.Digit7=28]="Digit7",T[T.Digit8=29]="Digit8",T[T.Digit9=30]="Digit9",T[T.KeyA=31]="KeyA",T[T.KeyB=32]="KeyB",T[T.KeyC=33]="KeyC",T[T.KeyD=34]="KeyD",T[T.KeyE=35]="KeyE",T[T.KeyF=36]="KeyF",T[T.KeyG=37]="KeyG",T[T.KeyH=38]="KeyH",T[T.KeyI=39]="KeyI",T[T.KeyJ=40]="KeyJ",T[T.KeyK=41]="KeyK",T[T.KeyL=42]="KeyL",T[T.KeyM=43]="KeyM",T[T.KeyN=44]="KeyN",T[T.KeyO=45]="KeyO",T[T.KeyP=46]="KeyP",T[T.KeyQ=47]="KeyQ",T[T.KeyR=48]="KeyR",T[T.KeyS=49]="KeyS",T[T.KeyT=50]="KeyT",T[T.KeyU=51]="KeyU",T[T.KeyV=52]="KeyV",T[T.KeyW=53]="KeyW",T[T.KeyX=54]="KeyX",T[T.KeyY=55]="KeyY",T[T.KeyZ=56]="KeyZ",T[T.Meta=57]="Meta",T[T.ContextMenu=58]="ContextMenu",T[T.F1=59]="F1",T[T.F2=60]="F2",T[T.F3=61]="F3",T[T.F4=62]="F4",T[T.F5=63]="F5",T[T.F6=64]="F6",T[T.F7=65]="F7",T[T.F8=66]="F8",T[T.F9=67]="F9",T[T.F10=68]="F10",T[T.F11=69]="F11",T[T.F12=70]="F12",T[T.F13=71]="F13",T[T.F14=72]="F14",T[T.F15=73]="F15",T[T.F16=74]="F16",T[T.F17=75]="F17",T[T.F18=76]="F18",T[T.F19=77]="F19",T[T.F20=78]="F20",T[T.F21=79]="F21",T[T.F22=80]="F22",T[T.F23=81]="F23",T[T.F24=82]="F24",T[T.NumLock=83]="NumLock",T[T.ScrollLock=84]="ScrollLock",T[T.Semicolon=85]="Semicolon",T[T.Equal=86]="Equal",T[T.Comma=87]="Comma",T[T.Minus=88]="Minus",T[T.Period=89]="Period",T[T.Slash=90]="Slash",T[T.Backquote=91]="Backquote",T[T.BracketLeft=92]="BracketLeft",T[T.Backslash=93]="Backslash",T[T.BracketRight=94]="BracketRight",T[T.Quote=95]="Quote",T[T.OEM_8=96]="OEM_8",T[T.IntlBackslash=97]="IntlBackslash",T[T.Numpad0=98]="Numpad0",T[T.Numpad1=99]="Numpad1",T[T.Numpad2=100]="Numpad2",T[T.Numpad3=101]="Numpad3",T[T.Numpad4=102]="Numpad4",T[T.Numpad5=103]="Numpad5",T[T.Numpad6=104]="Numpad6",T[T.Numpad7=105]="Numpad7",T[T.Numpad8=106]="Numpad8",T[T.Numpad9=107]="Numpad9",T[T.NumpadMultiply=108]="NumpadMultiply",T[T.NumpadAdd=109]="NumpadAdd",T[T.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",T[T.NumpadSubtract=111]="NumpadSubtract",T[T.NumpadDecimal=112]="NumpadDecimal",T[T.NumpadDivide=113]="NumpadDivide",T[T.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",T[T.ABNT_C1=115]="ABNT_C1",T[T.ABNT_C2=116]="ABNT_C2",T[T.AudioVolumeMute=117]="AudioVolumeMute",T[T.AudioVolumeUp=118]="AudioVolumeUp",T[T.AudioVolumeDown=119]="AudioVolumeDown",T[T.BrowserSearch=120]="BrowserSearch",T[T.BrowserHome=121]="BrowserHome",T[T.BrowserBack=122]="BrowserBack",T[T.BrowserForward=123]="BrowserForward",T[T.MediaTrackNext=124]="MediaTrackNext",T[T.MediaTrackPrevious=125]="MediaTrackPrevious",T[T.MediaStop=126]="MediaStop",T[T.MediaPlayPause=127]="MediaPlayPause",T[T.LaunchMediaPlayer=128]="LaunchMediaPlayer",T[T.LaunchMail=129]="LaunchMail",T[T.LaunchApp2=130]="LaunchApp2",T[T.Clear=131]="Clear",T[T.MAX_VALUE=132]="MAX_VALUE"})(C||(C={}));var S;(function(T){T[T.Hint=1]="Hint",T[T.Info=2]="Info",T[T.Warning=4]="Warning",T[T.Error=8]="Error"})(S||(S={}));var N;(function(T){T[T.Unnecessary=1]="Unnecessary",T[T.Deprecated=2]="Deprecated"})(N||(N={}));var P;(function(T){T[T.Inline=1]="Inline",T[T.Gutter=2]="Gutter"})(P||(P={}));var M;(function(T){T[T.UNKNOWN=0]="UNKNOWN",T[T.TEXTAREA=1]="TEXTAREA",T[T.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",T[T.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",T[T.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",T[T.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",T[T.CONTENT_TEXT=6]="CONTENT_TEXT",T[T.CONTENT_EMPTY=7]="CONTENT_EMPTY",T[T.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",T[T.CONTENT_WIDGET=9]="CONTENT_WIDGET",T[T.OVERVIEW_RULER=10]="OVERVIEW_RULER",T[T.SCROLLBAR=11]="SCROLLBAR",T[T.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",T[T.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(M||(M={}));var D;(function(T){T[T.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",T[T.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",T[T.TOP_CENTER=2]="TOP_CENTER"})(D||(D={}));var F;(function(T){T[T.Left=1]="Left",T[T.Center=2]="Center",T[T.Right=4]="Right",T[T.Full=7]="Full"})(F||(F={}));var B;(function(T){T[T.Left=0]="Left",T[T.Right=1]="Right",T[T.None=2]="None",T[T.LeftOfInjectedText=3]="LeftOfInjectedText",T[T.RightOfInjectedText=4]="RightOfInjectedText"})(B||(B={}));var U;(function(T){T[T.Off=0]="Off",T[T.On=1]="On",T[T.Relative=2]="Relative",T[T.Interval=3]="Interval",T[T.Custom=4]="Custom"})(U||(U={}));var A;(function(T){T[T.None=0]="None",T[T.Text=1]="Text",T[T.Blocks=2]="Blocks"})(A||(A={}));var k;(function(T){T[T.Smooth=0]="Smooth",T[T.Immediate=1]="Immediate"})(k||(k={}));var R;(function(T){T[T.Auto=1]="Auto",T[T.Hidden=2]="Hidden",T[T.Visible=3]="Visible"})(R||(R={}));var $;(function(T){T[T.LTR=0]="LTR",T[T.RTL=1]="RTL"})($||($={}));var J;(function(T){T[T.Invoke=1]="Invoke",T[T.TriggerCharacter=2]="TriggerCharacter",T[T.ContentChange=3]="ContentChange"})(J||(J={}));var Y;(function(T){T[T.File=0]="File",T[T.Module=1]="Module",T[T.Namespace=2]="Namespace",T[T.Package=3]="Package",T[T.Class=4]="Class",T[T.Method=5]="Method",T[T.Property=6]="Property",T[T.Field=7]="Field",T[T.Constructor=8]="Constructor",T[T.Enum=9]="Enum",T[T.Interface=10]="Interface",T[T.Function=11]="Function",T[T.Variable=12]="Variable",T[T.Constant=13]="Constant",T[T.String=14]="String",T[T.Number=15]="Number",T[T.Boolean=16]="Boolean",T[T.Array=17]="Array",T[T.Object=18]="Object",T[T.Key=19]="Key",T[T.Null=20]="Null",T[T.EnumMember=21]="EnumMember",T[T.Struct=22]="Struct",T[T.Event=23]="Event",T[T.Operator=24]="Operator",T[T.TypeParameter=25]="TypeParameter"})(Y||(Y={}));var j;(function(T){T[T.Deprecated=1]="Deprecated"})(j||(j={}));var z;(function(T){T[T.Hidden=0]="Hidden",T[T.Blink=1]="Blink",T[T.Smooth=2]="Smooth",T[T.Phase=3]="Phase",T[T.Expand=4]="Expand",T[T.Solid=5]="Solid"})(z||(z={}));var K;(function(T){T[T.Line=1]="Line",T[T.Block=2]="Block",T[T.Underline=3]="Underline",T[T.LineThin=4]="LineThin",T[T.BlockOutline=5]="BlockOutline",T[T.UnderlineThin=6]="UnderlineThin"})(K||(K={}));var Z;(function(T){T[T.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",T[T.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",T[T.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",T[T.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Z||(Z={}));var fe;(function(T){T[T.None=0]="None",T[T.Same=1]="Same",T[T.Indent=2]="Indent",T[T.DeepIndent=3]="DeepIndent"})(fe||(fe={}))},83485:function(Rt,Be,t){"use strict";t.d(Be,{B8:function(){return L},Oe:function(){return O},UX:function(){return V},aq:function(){return I},iN:function(){return g},ld:function(){return p},qq:function(){return _},ug:function(){return u},xi:function(){return E}});var f=t(26386),O;(function(a){a.noSelection=f.NC("noSelection","No selection"),a.singleSelectionRange=f.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),a.singleSelection=f.NC("singleSelection","Line {0}, Column {1}"),a.multiSelectionRange=f.NC("multiSelectionRange","{0} selections ({1} characters selected)"),a.multiSelection=f.NC("multiSelection","{0} selections"),a.emergencyConfOn=f.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),a.openingDocs=f.NC("openingDocs","Now opening the Editor Accessibility documentation page."),a.readonlyDiffEditor=f.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),a.editableDiffEditor=f.NC("editableDiffEditor"," in a pane of a diff editor."),a.readonlyEditor=f.NC("readonlyEditor"," in a read-only code editor"),a.editableEditor=f.NC("editableEditor"," in a code editor"),a.changeConfigToOnMac=f.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),a.changeConfigToOnWinLinux=f.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),a.auto_on=f.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),a.auto_off=f.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),a.tabFocusModeOnMsg=f.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),a.tabFocusModeOnMsgNoKb=f.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),a.tabFocusModeOffMsg=f.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),a.tabFocusModeOffMsgNoKb=f.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),a.openDocMac=f.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),a.openDocWinLinux=f.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),a.outroMsg=f.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),a.showAccessibilityHelpAction=f.NC("showAccessibilityHelpAction","Show Accessibility Help"),a.accessibilityHelpTitle=f.NC("accessibilityHelpTitle","Accessibility Help")})(O||(O={}));var u;(function(a){a.inspectTokensAction=f.NC("inspectTokens","Developer: Inspect Tokens")})(u||(u={}));var _;(function(a){a.gotoLineActionLabel=f.NC("gotoLineActionLabel","Go to Line/Column...")})(_||(_={}));var p;(function(a){a.helpQuickAccessActionLabel=f.NC("helpQuickAccess","Show all Quick Access Providers")})(p||(p={}));var V;(function(a){a.quickCommandActionLabel=f.NC("quickCommandActionLabel","Command Palette"),a.quickCommandHelp=f.NC("quickCommandActionHelp","Show And Run Commands")})(V||(V={}));var I;(function(a){a.quickOutlineActionLabel=f.NC("quickOutlineActionLabel","Go to Symbol..."),a.quickOutlineByCategoryActionLabel=f.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(I||(I={}));var L;(function(a){a.editorViewAccessibleLabel=f.NC("editorViewAccessibleLabel","Editor content"),a.accessibilityHelpMessage=f.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(L||(L={}));var E;(function(a){a.toggleHighContrast=f.NC("toggleHighContrast","Toggle High Contrast Theme")})(E||(E={}));var g;(function(a){a.bulkEditServiceSummary=f.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(g||(g={}))},30828:function(Rt,Be,t){"use strict";t.d(Be,{CZ:function(){return V},D8:function(){return L},Jx:function(){return f},Tx:function(){return p},dQ:function(){return I},fV:function(){return E},gk:function(){return O},lN:function(){return _},rU:function(){return u}});class f{constructor(){this.changeType=1}}class O{static applyInjectedText(a,l){if(!l||l.length===0)return a;let d="",i=0;for(const s of l)d+=a.substring(i,s.column-1),i=s.column-1,d+=s.options.content;return d+=a.substring(i),d}static fromDecorations(a){const l=[];for(const d of a)d.options.before&&d.options.before.content.length>0&&l.push(new O(d.ownerId,d.range.startLineNumber,d.range.startColumn,d.options.before,0)),d.options.after&&d.options.after.content.length>0&&l.push(new O(d.ownerId,d.range.endLineNumber,d.range.endColumn,d.options.after,1));return l.sort((d,i)=>d.lineNumber===i.lineNumber?d.column===i.column?d.order-i.order:d.column-i.column:d.lineNumber-i.lineNumber),l}constructor(a,l,d,i,s){this.ownerId=a,this.lineNumber=l,this.column=d,this.options=i,this.order=s}}class u{constructor(a,l,d){this.changeType=2,this.lineNumber=a,this.detail=l,this.injectedText=d}}class _{constructor(a,l){this.changeType=3,this.fromLineNumber=a,this.toLineNumber=l}}class p{constructor(a,l,d,i){this.changeType=4,this.injectedTexts=i,this.fromLineNumber=a,this.toLineNumber=l,this.detail=d}}class V{constructor(){this.changeType=5}}class I{constructor(a,l,d,i){this.changes=a,this.versionId=l,this.isUndoing=d,this.isRedoing=i,this.resultingSelection=null}containsEvent(a){for(let l=0,d=this.changes.length;l<d;l++)if(this.changes[l].changeType===a)return!0;return!1}static merge(a,l){const d=[].concat(a.changes).concat(l.changes),i=l.versionId,s=a.isUndoing||l.isUndoing,m=a.isRedoing||l.isRedoing;return new I(d,i,s,m)}}class L{constructor(a){this.changes=a}}class E{constructor(a,l){this.rawContentChangedEvent=a,this.contentChangedEvent=l}merge(a){const l=I.merge(this.rawContentChangedEvent,a.rawContentChangedEvent),d=E._mergeChangeEvents(this.contentChangedEvent,a.contentChangedEvent);return new E(l,d)}static _mergeChangeEvents(a,l){const d=[].concat(a.changes).concat(l.changes),i=l.eol,s=l.versionId,m=a.isUndoing||l.isUndoing,b=a.isRedoing||l.isRedoing,c=a.isFlush||l.isFlush,v=a.isEolChange&&l.isEolChange;return{changes:d,eol:i,isEolChange:v,versionId:s,isUndoing:m,isRedoing:b,isFlush:c}}}},79777:function(Rt,Be,t){"use strict";t.d(Be,{UO:function(){return O},s6:function(){return f},vW:function(){return u}});var f;(function(_){_[_.Disabled=0]="Disabled",_[_.EnabledForActive=1]="EnabledForActive",_[_.Enabled=2]="Enabled"})(f||(f={}));class O{constructor(p,V,I,L,E,g){if(this.visibleColumn=p,this.column=V,this.className=I,this.horizontalLine=L,this.forWrappedLinesAfterColumn=E,this.forWrappedLinesBeforeOrAtColumn=g,p!==-1==(V!==-1))throw new Error}}class u{constructor(p,V){this.top=p,this.endColumn=V}}},10403:function(Rt,Be,t){"use strict";t.d(Be,{A:function(){return O}});var f=t(24506);class O{static createEmpty(p,V){const I=O.defaultTokenMetadata,L=new Uint32Array(2);return L[0]=p.length,L[1]=I,new O(L,p,V)}constructor(p,V,I){this._lineTokensBrand=void 0,this._tokens=p,this._tokensCount=this._tokens.length>>>1,this._text=V,this._languageIdCodec=I}equals(p){return p instanceof O?this.slicedEquals(p,0,this._tokensCount):!1}slicedEquals(p,V,I){if(this._text!==p._text||this._tokensCount!==p._tokensCount)return!1;const L=V<<1,E=L+(I<<1);for(let g=L;g<E;g++)if(this._tokens[g]!==p._tokens[g])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(p){return p>0?this._tokens[p-1<<1]:0}getMetadata(p){return this._tokens[(p<<1)+1]}getLanguageId(p){const V=this._tokens[(p<<1)+1],I=f.N.getLanguageId(V);return this._languageIdCodec.decodeLanguageId(I)}getStandardTokenType(p){const V=this._tokens[(p<<1)+1];return f.N.getTokenType(V)}getForeground(p){const V=this._tokens[(p<<1)+1];return f.N.getForeground(V)}getClassName(p){const V=this._tokens[(p<<1)+1];return f.N.getClassNameFromMetadata(V)}getInlineStyle(p,V){const I=this._tokens[(p<<1)+1];return f.N.getInlineStyleFromMetadata(I,V)}getPresentation(p){const V=this._tokens[(p<<1)+1];return f.N.getPresentationFromMetadata(V)}getEndOffset(p){return this._tokens[p<<1]}findTokenIndexAtOffset(p){return O.findIndexInTokensArray(this._tokens,p)}inflate(){return this}sliceAndInflate(p,V,I){return new u(this,p,V,I)}static convertToEndOffset(p,V){const L=(p.length>>>1)-1;for(let E=0;E<L;E++)p[E<<1]=p[E+1<<1];p[L<<1]=V}static findIndexInTokensArray(p,V){if(p.length<=2)return 0;let I=0,L=(p.length>>>1)-1;for(;I<L;){const E=I+Math.floor((L-I)/2),g=p[E<<1];if(g===V)return E+1;g<V?I=E+1:g>V&&(L=E)}return I}withInserted(p){if(p.length===0)return this;let V=0,I=0,L="";const E=new Array;let g=0;for(;;){const a=V<this._tokensCount?this._tokens[V<<1]:-1,l=I<p.length?p[I]:null;if(a!==-1&&(l===null||a<=l.offset)){L+=this._text.substring(g,a);const d=this._tokens[(V<<1)+1];E.push(L.length,d),V++,g=a}else if(l){if(l.offset>g){L+=this._text.substring(g,l.offset);const d=this._tokens[(V<<1)+1];E.push(L.length,d),g=l.offset}L+=l.text,E.push(L.length,l.tokenMetadata),I++}else break}return new O(new Uint32Array(E),L,this._languageIdCodec)}}O.defaultTokenMetadata=(32768|2<<24)>>>0;class u{constructor(p,V,I,L){this._source=p,this._startOffset=V,this._endOffset=I,this._deltaOffset=L,this._firstTokenIndex=p.findTokenIndexAtOffset(V),this._tokensCount=0;for(let E=this._firstTokenIndex,g=p.getCount();E<g&&!(p.getStartOffset(E)>=I);E++)this._tokensCount++}getMetadata(p){return this._source.getMetadata(this._firstTokenIndex+p)}getLanguageId(p){return this._source.getLanguageId(this._firstTokenIndex+p)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(p){return p instanceof u?this._startOffset===p._startOffset&&this._endOffset===p._endOffset&&this._deltaOffset===p._deltaOffset&&this._source.slicedEquals(p._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(p){return this._source.getForeground(this._firstTokenIndex+p)}getEndOffset(p){const V=this._source.getEndOffset(this._firstTokenIndex+p);return Math.min(this._endOffset,V)-this._startOffset+this._deltaOffset}getClassName(p){return this._source.getClassName(this._firstTokenIndex+p)}getInlineStyle(p,V){return this._source.getInlineStyle(this._firstTokenIndex+p,V)}getPresentation(p){return this._source.getPresentation(this._firstTokenIndex+p)}findTokenIndexAtOffset(p){return this._source.findTokenIndexAtOffset(p+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},69756:function(Rt,Be,t){"use strict";t.d(Be,{Kp:function(){return O},k:function(){return p}});var f=t(17416);class O{constructor(I,L,E,g){this.startColumn=I,this.endColumn=L,this.className=E,this.type=g,this._lineDecorationBrand=void 0}static _equals(I,L){return I.startColumn===L.startColumn&&I.endColumn===L.endColumn&&I.className===L.className&&I.type===L.type}static equalsArr(I,L){const E=I.length,g=L.length;if(E!==g)return!1;for(let a=0;a<E;a++)if(!O._equals(I[a],L[a]))return!1;return!0}static extractWrapped(I,L,E){if(I.length===0)return I;const g=L+1,a=E+1,l=E-L,d=[];let i=0;for(const s of I)s.endColumn<=g||s.startColumn>=a||(d[i++]=new O(Math.max(1,s.startColumn-g+1),Math.min(l+1,s.endColumn-g+1),s.className,s.type));return d}static filter(I,L,E,g){if(I.length===0)return[];const a=[];let l=0;for(let d=0,i=I.length;d<i;d++){const s=I[d],m=s.range;if(m.endLineNumber<L||m.startLineNumber>L||m.isEmpty()&&(s.type===0||s.type===3))continue;const b=m.startLineNumber===L?m.startColumn:E,c=m.endLineNumber===L?m.endColumn:g;a[l++]=new O(b,c,s.inlineClassName,s.type)}return a}static _typeCompare(I,L){const E=[2,0,1,3];return E[I]-E[L]}static compare(I,L){if(I.startColumn!==L.startColumn)return I.startColumn-L.startColumn;if(I.endColumn!==L.endColumn)return I.endColumn-L.endColumn;const E=O._typeCompare(I.type,L.type);return E!==0?E:I.className!==L.className?I.className<L.className?-1:1:0}}class u{constructor(I,L,E,g){this.startOffset=I,this.endOffset=L,this.className=E,this.metadata=g}}class _{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(I){let L=0;for(let E=0,g=I.length;E<g;E++)L|=I[E];return L}consumeLowerThan(I,L,E){for(;this.count>0&&this.stopOffsets[0]<I;){let g=0;for(;g+1<this.count&&this.stopOffsets[g]===this.stopOffsets[g+1];)g++;E.push(new u(L,this.stopOffsets[g],this.classNames.join(" "),_._metadata(this.metadata))),L=this.stopOffsets[g]+1,this.stopOffsets.splice(0,g+1),this.classNames.splice(0,g+1),this.metadata.splice(0,g+1),this.count-=g+1}return this.count>0&&L<I&&(E.push(new u(L,I-1,this.classNames.join(" "),_._metadata(this.metadata))),L=I),L}insert(I,L,E){if(this.count===0||this.stopOffsets[this.count-1]<=I)this.stopOffsets.push(I),this.classNames.push(L),this.metadata.push(E);else for(let g=0;g<this.count;g++)if(this.stopOffsets[g]>=I){this.stopOffsets.splice(g,0,I),this.classNames.splice(g,0,L),this.metadata.splice(g,0,E);break}this.count++}}class p{static normalize(I,L){if(L.length===0)return[];const E=[],g=new _;let a=0;for(let l=0,d=L.length;l<d;l++){const i=L[l];let s=i.startColumn,m=i.endColumn;const b=i.className,c=i.type===1?2:i.type===2?4:0;if(s>1){const S=I.charCodeAt(s-2);f.ZG(S)&&s--}if(m>1){const S=I.charCodeAt(m-2);f.ZG(S)&&m--}const v=s-1,C=m-2;a=g.consumeLowerThan(v,a,E),g.count===0&&(a=v),g.insert(C,b,c)}return g.consumeLowerThan(1073741824,a,E),E}}},75398:function(Rt,Be,t){"use strict";t.d(Be,{Nd:function(){return L},zG:function(){return V},IJ:function(){return I},d1:function(){return a},tF:function(){return d}});var f=t(26386),O=t(17416),u=t(12342),_=t(69756);class p{constructor(F,B,U,A){this.endIndex=F,this.type=B,this.metadata=U,this.containsRTL=A,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class V{constructor(F,B){this.startOffset=F,this.endOffset=B}equals(F){return this.startOffset===F.startOffset&&this.endOffset===F.endOffset}}class I{constructor(F,B,U,A,k,R,$,J,Y,j,z,K,Z,fe,T,Re,Ce,_e,pe){this.useMonospaceOptimizations=F,this.canUseHalfwidthRightwardsArrow=B,this.lineContent=U,this.continuesWithWrappedLine=A,this.isBasicASCII=k,this.containsRTL=R,this.fauxIndentLength=$,this.lineTokens=J,this.lineDecorations=Y.sort(_.Kp.compare),this.tabSize=j,this.startVisibleColumn=z,this.spaceWidth=K,this.stopRenderingLineAfter=T,this.renderWhitespace=Re==="all"?4:Re==="boundary"?1:Re==="selection"?2:Re==="trailing"?3:0,this.renderControlCharacters=Ce,this.fontLigatures=_e,this.selectionsOnLine=pe&&pe.sort((he,je)=>he.startOffset<je.startOffset?-1:1);const le=Math.abs(fe-K),oe=Math.abs(Z-K);le<oe?(this.renderSpaceWidth=fe,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=Z,this.renderSpaceCharCode=183)}sameSelection(F){if(this.selectionsOnLine===null)return F===null;if(F===null||F.length!==this.selectionsOnLine.length)return!1;for(let B=0;B<this.selectionsOnLine.length;B++)if(!this.selectionsOnLine[B].equals(F[B]))return!1;return!0}equals(F){return this.useMonospaceOptimizations===F.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===F.canUseHalfwidthRightwardsArrow&&this.lineContent===F.lineContent&&this.continuesWithWrappedLine===F.continuesWithWrappedLine&&this.isBasicASCII===F.isBasicASCII&&this.containsRTL===F.containsRTL&&this.fauxIndentLength===F.fauxIndentLength&&this.tabSize===F.tabSize&&this.startVisibleColumn===F.startVisibleColumn&&this.spaceWidth===F.spaceWidth&&this.renderSpaceWidth===F.renderSpaceWidth&&this.renderSpaceCharCode===F.renderSpaceCharCode&&this.stopRenderingLineAfter===F.stopRenderingLineAfter&&this.renderWhitespace===F.renderWhitespace&&this.renderControlCharacters===F.renderControlCharacters&&this.fontLigatures===F.fontLigatures&&_.Kp.equalsArr(this.lineDecorations,F.lineDecorations)&&this.lineTokens.equals(F.lineTokens)&&this.sameSelection(F.selectionsOnLine)}}class L{constructor(F,B){this.partIndex=F,this.charIndex=B}}class E{static getPartIndex(F){return(F&4294901760)>>>16}static getCharIndex(F){return(F&65535)>>>0}constructor(F,B){this.length=F,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(F,B,U,A){const k=(B<<16|U<<0)>>>0;this._data[F-1]=k,this._horizontalOffset[F-1]=A}getHorizontalOffset(F){return this._horizontalOffset.length===0?0:this._horizontalOffset[F-1]}charOffsetToPartData(F){return this.length===0?0:F<0?this._data[0]:F>=this.length?this._data[this.length-1]:this._data[F]}getDomPosition(F){const B=this.charOffsetToPartData(F-1),U=E.getPartIndex(B),A=E.getCharIndex(B);return new L(U,A)}getColumn(F,B){return this.partDataToCharOffset(F.partIndex,B,F.charIndex)+1}partDataToCharOffset(F,B,U){if(this.length===0)return 0;const A=(F<<16|U<<0)>>>0;let k=0,R=this.length-1;for(;k+1<R;){const T=k+R>>>1,Re=this._data[T];if(Re===A)return T;Re>A?R=T:k=T}if(k===R)return k;const $=this._data[k],J=this._data[R];if($===A)return k;if(J===A)return R;const Y=E.getPartIndex($),j=E.getCharIndex($),z=E.getPartIndex(J);let K;Y!==z?K=B:K=E.getCharIndex(J);const Z=U-j,fe=K-U;return Z<=fe?k:R}}class g{constructor(F,B,U){this._renderLineOutputBrand=void 0,this.characterMapping=F,this.containsRTL=B,this.containsForeignElements=U}}function a(D,F){if(D.lineContent.length===0){if(D.lineDecorations.length>0){F.appendString("<span>");let B=0,U=0,A=0;for(const R of D.lineDecorations)(R.type===1||R.type===2)&&(F.appendString('<span class="'),F.appendString(R.className),F.appendString('"></span>'),R.type===1&&(A|=1,B++),R.type===2&&(A|=2,U++));F.appendString("</span>");const k=new E(1,B+U);return k.setColumnInfo(1,B,0,0),new g(k,!1,A)}return F.appendString("<span><span></span></span>"),new g(new E(0,0),!1,0)}return N(s(D),F)}class l{constructor(F,B,U,A){this.characterMapping=F,this.html=B,this.containsRTL=U,this.containsForeignElements=A}}function d(D){const F=new u.HT(1e4),B=a(D,F);return new l(B.characterMapping,F.build(),B.containsRTL,B.containsForeignElements)}class i{constructor(F,B,U,A,k,R,$,J,Y,j,z,K,Z,fe,T,Re){this.fontIsMonospace=F,this.canUseHalfwidthRightwardsArrow=B,this.lineContent=U,this.len=A,this.isOverflowing=k,this.overflowingCharCount=R,this.parts=$,this.containsForeignElements=J,this.fauxIndentLength=Y,this.tabSize=j,this.startVisibleColumn=z,this.containsRTL=K,this.spaceWidth=Z,this.renderSpaceCharCode=fe,this.renderWhitespace=T,this.renderControlCharacters=Re}}function s(D){const F=D.lineContent;let B,U,A;D.stopRenderingLineAfter!==-1&&D.stopRenderingLineAfter<F.length?(B=!0,U=F.length-D.stopRenderingLineAfter,A=D.stopRenderingLineAfter):(B=!1,U=0,A=F.length);let k=m(F,D.containsRTL,D.lineTokens,D.fauxIndentLength,A);D.renderControlCharacters&&!D.isBasicASCII&&(k=v(F,k)),(D.renderWhitespace===4||D.renderWhitespace===1||D.renderWhitespace===2&&D.selectionsOnLine||D.renderWhitespace===3&&!D.continuesWithWrappedLine)&&(k=C(D,F,A,k));let R=0;if(D.lineDecorations.length>0){for(let $=0,J=D.lineDecorations.length;$<J;$++){const Y=D.lineDecorations[$];Y.type===3||Y.type===1?R|=1:Y.type===2&&(R|=2)}k=S(F,A,k,D.lineDecorations)}return D.containsRTL||(k=b(F,k,!D.isBasicASCII||D.fontLigatures)),new i(D.useMonospaceOptimizations,D.canUseHalfwidthRightwardsArrow,F,A,B,U,k,R,D.fauxIndentLength,D.tabSize,D.startVisibleColumn,D.containsRTL,D.spaceWidth,D.renderSpaceCharCode,D.renderWhitespace,D.renderControlCharacters)}function m(D,F,B,U,A){const k=[];let R=0;U>0&&(k[R++]=new p(U,"",0,!1));let $=U;for(let J=0,Y=B.getCount();J<Y;J++){const j=B.getEndOffset(J);if(j<=U)continue;const z=B.getClassName(J);if(j>=A){const Z=F?O.Ut(D.substring($,A)):!1;k[R++]=new p(A,z,0,Z);break}const K=F?O.Ut(D.substring($,j)):!1;k[R++]=new p(j,z,0,K),$=j}return k}function b(D,F,B){let U=0;const A=[];let k=0;if(B)for(let R=0,$=F.length;R<$;R++){const J=F[R],Y=J.endIndex;if(U+50<Y){const j=J.type,z=J.metadata,K=J.containsRTL;let Z=-1,fe=U;for(let T=U;T<Y;T++)D.charCodeAt(T)===32&&(Z=T),Z!==-1&&T-fe>=50&&(A[k++]=new p(Z+1,j,z,K),fe=Z+1,Z=-1);fe!==Y&&(A[k++]=new p(Y,j,z,K))}else A[k++]=J;U=Y}else for(let R=0,$=F.length;R<$;R++){const J=F[R],Y=J.endIndex,j=Y-U;if(j>50){const z=J.type,K=J.metadata,Z=J.containsRTL,fe=Math.ceil(j/50);for(let T=1;T<fe;T++){const Re=U+T*50;A[k++]=new p(Re,z,K,Z)}A[k++]=new p(Y,z,K,Z)}else A[k++]=J;U=Y}return A}function c(D){return D<32?D!==9:D===127||D>=8234&&D<=8238||D>=8294&&D<=8297||D>=8206&&D<=8207||D===1564}function v(D,F){const B=[];let U=new p(0,"",0,!1),A=0;for(const k of F){const R=k.endIndex;for(;A<R;A++){const $=D.charCodeAt(A);c($)&&(A>U.endIndex&&(U=new p(A,k.type,k.metadata,k.containsRTL),B.push(U)),U=new p(A+1,"mtkcontrol",k.metadata,!1),B.push(U))}A>U.endIndex&&(U=new p(R,k.type,k.metadata,k.containsRTL),B.push(U))}return B}function C(D,F,B,U){const A=D.continuesWithWrappedLine,k=D.fauxIndentLength,R=D.tabSize,$=D.startVisibleColumn,J=D.useMonospaceOptimizations,Y=D.selectionsOnLine,j=D.renderWhitespace===1,z=D.renderWhitespace===3,K=D.renderSpaceWidth!==D.spaceWidth,Z=[];let fe=0,T=0,Re=U[T].type,Ce=U[T].containsRTL,_e=U[T].endIndex;const pe=U.length;let le=!1,oe=O.LC(F),he;oe===-1?(le=!0,oe=B,he=B):he=O.ow(F);let je=!1,Xe=0,Ve=Y&&Y[Xe],se=$%R;for(let Ee=k;Ee<B;Ee++){const Se=F.charCodeAt(Ee);Ve&&Ee>=Ve.endOffset&&(Xe++,Ve=Y&&Y[Xe]);let we;if(Ee<oe||Ee>he)we=!0;else if(Se===9)we=!0;else if(Se===32)if(j)if(je)we=!0;else{const ve=Ee+1<B?F.charCodeAt(Ee+1):0;we=ve===32||ve===9}else we=!0;else we=!1;if(we&&Y&&(we=!!Ve&&Ve.startOffset<=Ee&&Ve.endOffset>Ee),we&&z&&(we=le||Ee>he),we&&Ce&&Ee>=oe&&Ee<=he&&(we=!1),je){if(!we||!J&&se>=R){if(K){const ve=fe>0?Z[fe-1].endIndex:k;for(let Ne=ve+1;Ne<=Ee;Ne++)Z[fe++]=new p(Ne,"mtkw",1,!1)}else Z[fe++]=new p(Ee,"mtkw",1,!1);se=se%R}}else(Ee===_e||we&&Ee>k)&&(Z[fe++]=new p(Ee,Re,0,Ce),se=se%R);for(Se===9?se=R:O.K7(Se)?se+=2:se++,je=we;Ee===_e&&(T++,T<pe);)Re=U[T].type,Ce=U[T].containsRTL,_e=U[T].endIndex}let q=!1;if(je)if(A&&j){const Ee=B>0?F.charCodeAt(B-1):0,Se=B>1?F.charCodeAt(B-2):0;Ee===32&&Se!==32&&Se!==9||(q=!0)}else q=!0;if(q)if(K){const Ee=fe>0?Z[fe-1].endIndex:k;for(let Se=Ee+1;Se<=B;Se++)Z[fe++]=new p(Se,"mtkw",1,!1)}else Z[fe++]=new p(B,"mtkw",1,!1);else Z[fe++]=new p(B,Re,0,Ce);return Z}function S(D,F,B,U){U.sort(_.Kp.compare);const A=_.k.normalize(D,U),k=A.length;let R=0;const $=[];let J=0,Y=0;for(let z=0,K=B.length;z<K;z++){const Z=B[z],fe=Z.endIndex,T=Z.type,Re=Z.metadata,Ce=Z.containsRTL;for(;R<k&&A[R].startOffset<fe;){const _e=A[R];if(_e.startOffset>Y&&(Y=_e.startOffset,$[J++]=new p(Y,T,Re,Ce)),_e.endOffset+1<=fe)Y=_e.endOffset+1,$[J++]=new p(Y,T+" "+_e.className,Re|_e.metadata,Ce),R++;else{Y=fe,$[J++]=new p(Y,T+" "+_e.className,Re|_e.metadata,Ce);break}}fe>Y&&(Y=fe,$[J++]=new p(Y,T,Re,Ce))}const j=B[B.length-1].endIndex;if(R<k&&A[R].startOffset===j)for(;R<k&&A[R].startOffset===j;){const z=A[R];$[J++]=new p(Y,z.className,z.metadata,!1),R++}return $}function N(D,F){const B=D.fontIsMonospace,U=D.canUseHalfwidthRightwardsArrow,A=D.containsForeignElements,k=D.lineContent,R=D.len,$=D.isOverflowing,J=D.overflowingCharCount,Y=D.parts,j=D.fauxIndentLength,z=D.tabSize,K=D.startVisibleColumn,Z=D.containsRTL,fe=D.spaceWidth,T=D.renderSpaceCharCode,Re=D.renderWhitespace,Ce=D.renderControlCharacters,_e=new E(R+1,Y.length);let pe=!1,le=0,oe=K,he=0,je=0,Xe=0;Z?F.appendString('<span dir="ltr">'):F.appendString("<span>");for(let Ve=0,se=Y.length;Ve<se;Ve++){const q=Y[Ve],Ee=q.endIndex,Se=q.type,we=q.containsRTL,ve=Re!==0&&q.isWhitespace(),Ne=ve&&!B&&(Se==="mtkw"||!A),$e=le===Ee&&q.isPseudoAfter();if(he=0,F.appendString("<span "),we&&F.appendString('style="unicode-bidi:isolate" '),F.appendString('class="'),F.appendString(Ne?"mtkz":Se),F.appendASCIICharCode(34),ve){let Ke=0;{let ze=le,He=oe;for(;ze<Ee;ze++){const de=(k.charCodeAt(ze)===9?z-He%z:1)|0;Ke+=de,ze>=j&&(He+=de)}}for(Ne&&(F.appendString(' style="width:'),F.appendString(String(fe*Ke)),F.appendString('px"')),F.appendASCIICharCode(62);le<Ee;le++){_e.setColumnInfo(le+1,Ve-Xe,he,je),Xe=0;const ze=k.charCodeAt(le);let He,Le;if(ze===9){He=z-oe%z|0,Le=He,!U||Le>1?F.appendCharCode(8594):F.appendCharCode(65515);for(let de=2;de<=Le;de++)F.appendCharCode(160)}else He=2,Le=1,F.appendCharCode(T),F.appendCharCode(8204);he+=He,je+=Le,le>=j&&(oe+=Le)}}else for(F.appendASCIICharCode(62);le<Ee;le++){_e.setColumnInfo(le+1,Ve-Xe,he,je),Xe=0;const Ke=k.charCodeAt(le);let ze=1,He=1;switch(Ke){case 9:ze=z-oe%z,He=ze;for(let Le=1;Le<=ze;Le++)F.appendCharCode(160);break;case 32:F.appendCharCode(160);break;case 60:F.appendString("&lt;");break;case 62:F.appendString("&gt;");break;case 38:F.appendString("&amp;");break;case 0:Ce?F.appendCharCode(9216):F.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:F.appendCharCode(65533);break;default:O.K7(Ke)&&He++,Ce&&Ke<32?F.appendCharCode(9216+Ke):Ce&&Ke===127?F.appendCharCode(9249):Ce&&c(Ke)?(F.appendString("[U+"),F.appendString(P(Ke)),F.appendString("]"),ze=8,He=ze):F.appendCharCode(Ke)}he+=ze,je+=He,le>=j&&(oe+=He)}$e?Xe++:Xe=0,le>=R&&!pe&&q.isPseudoAfter()&&(pe=!0,_e.setColumnInfo(le+1,Ve,he,je)),F.appendString("</span>")}return pe||_e.setColumnInfo(R+1,Y.length-1,he,je),$&&(F.appendString('<span class="mtkoverflow">'),F.appendString(f.NC("showMore","Show more ({0})",M(J))),F.appendString("</span>")),F.appendString("</span>"),new g(_e,Z,A)}function P(D){return D.toString(16).toUpperCase().padStart(4,"0")}function M(D){return D<1024?f.NC("overflow.chars","{0} chars",D):D<1024*1024?`${(D/1024).toFixed(1)} KB`:`${(D/1024/1024).toFixed(1)} MB`}},71278:function(Rt,Be,t){"use strict";t.d(Be,{$l:function(){return E},$t:function(){return I},IP:function(){return p},SQ:function(){return g},Wx:function(){return L},l_:function(){return u},ud:function(){return _},wA:function(){return V}});var f=t(17416),O=t(50038);class u{constructor(l,d,i,s){this._viewportBrand=void 0,this.top=l|0,this.left=d|0,this.width=i|0,this.height=s|0}}class _{constructor(l,d){this.tabSize=l,this.data=d}}class p{constructor(l,d,i,s,m,b,c){this._viewLineDataBrand=void 0,this.content=l,this.continuesWithWrappedLine=d,this.minColumn=i,this.maxColumn=s,this.startVisibleColumn=m,this.tokens=b,this.inlineDecorations=c}}class V{constructor(l,d,i,s,m,b,c,v,C,S){this.minColumn=l,this.maxColumn=d,this.content=i,this.continuesWithWrappedLine=s,this.isBasicASCII=V.isBasicASCII(i,b),this.containsRTL=V.containsRTL(i,this.isBasicASCII,m),this.tokens=c,this.inlineDecorations=v,this.tabSize=C,this.startVisibleColumn=S}static isBasicASCII(l,d){return d?f.$i(l):!0}static containsRTL(l,d,i){return!d&&i?f.Ut(l):!1}}class I{constructor(l,d,i){this.range=l,this.inlineClassName=d,this.type=i}}class L{constructor(l,d,i,s){this.startOffset=l,this.endOffset=d,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=s}toInlineDecoration(l){return new I(new O.e(l,this.startOffset+1,l,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class E{constructor(l,d){this._viewModelDecorationBrand=void 0,this.range=l,this.options=d}}class g{constructor(l,d,i){this.color=l,this.zIndex=d,this.data=i}static cmp(l,d){return l.zIndex===d.zIndex?l.color<d.color?-1:l.color>d.color?1:0:l.zIndex-d.zIndex}}},43128:function(Rt,Be,t){"use strict";t.d(Be,{EY:function(){return O},Tj:function(){return u}});class f{constructor(p,V,I){this._colorZoneBrand=void 0,this.from=p|0,this.to=V|0,this.colorId=I|0}static compare(p,V){return p.colorId===V.colorId?p.from===V.from?p.to-V.to:p.from-V.from:p.colorId-V.colorId}}class O{constructor(p,V,I,L){this._overviewRulerZoneBrand=void 0,this.startLineNumber=p,this.endLineNumber=V,this.heightInLines=I,this.color=L,this._colorZone=null}static compare(p,V){return p.color===V.color?p.startLineNumber===V.startLineNumber?p.heightInLines===V.heightInLines?p.endLineNumber-V.endLineNumber:p.heightInLines-V.heightInLines:p.startLineNumber-V.startLineNumber:p.color<V.color?-1:1}setColorZone(p){this._colorZone=p}getColorZones(){return this._colorZone}}class u{constructor(p){this._getVerticalOffsetForLine=p,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(p){this._zones=p,this._zones.sort(O.compare)}setLineHeight(p){return this._lineHeight===p?!1:(this._lineHeight=p,this._colorZonesInvalid=!0,!0)}setPixelRatio(p){this._pixelRatio=p,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(p){return this._domWidth===p?!1:(this._domWidth=p,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(p){return this._domHeight===p?!1:(this._domHeight=p,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(p){return this._outerHeight===p?!1:(this._outerHeight=p,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const p=this._colorZonesInvalid,V=Math.floor(this._lineHeight),I=Math.floor(this.getCanvasHeight()),L=Math.floor(this._outerHeight),E=I/L,g=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,d=this._zones.length;l<d;l++){const i=this._zones[l];if(!p){const M=i.getColorZones();if(M){a.push(M);continue}}const s=this._getVerticalOffsetForLine(i.startLineNumber),m=i.heightInLines===0?this._getVerticalOffsetForLine(i.endLineNumber)+V:s+i.heightInLines*V,b=Math.floor(E*s),c=Math.floor(E*m);let v=Math.floor((b+c)/2),C=c-v;C<g&&(C=g),v-C<0&&(v=C),v+C>I&&(v=I-C);const S=i.color;let N=this._color2Id[S];N||(N=++this._lastAssignedId,this._color2Id[S]=N,this._id2Color[N]=S);const P=new f(v-C,v+C,N);i.setColorZone(P),a.push(P)}return this._colorZonesInvalid=!1,a.sort(f.compare),a}}},82807:function(Rt,Be,t){"use strict";t.d(Be,{$t:function(){return I},CU:function(){return p},Fd:function(){return V},zg:function(){return L}});var f=t(8964),O=t(50038),u=t(71278),_=t(70054);class p{constructor(a,l,d,i,s){this.editorId=a,this.model=l,this.configuration=d,this._linesCollection=i,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(a){const l=a.id;let d=this._decorationsCache[l];if(!d){const i=a.range,s=a.options;let m;if(s.isWholeLine){const b=this._coordinatesConverter.convertModelPositionToViewPosition(new f.L(i.startLineNumber,1),0),c=this._coordinatesConverter.convertModelPositionToViewPosition(new f.L(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)),1);m=new O.e(b.lineNumber,b.column,c.lineNumber,c.column)}else m=this._coordinatesConverter.convertModelRangeToViewRange(i,1);d=new u.$l(m,s),this._decorationsCache[l]=d}return d}getMinimapDecorationsInRange(a){return this._getDecorationsInRange(a,!0,!1).decorations}getDecorationsViewportData(a){let l=this._cachedModelDecorationsResolver!==null;return l=l&&a.equalsRange(this._cachedModelDecorationsResolverViewRange),l||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(a,!1,!1),this._cachedModelDecorationsResolverViewRange=a),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(a,l=!1,d=!1){const i=new O.e(a,this._linesCollection.getViewLineMinColumn(a),a,this._linesCollection.getViewLineMaxColumn(a));return this._getDecorationsInRange(i,l,d).inlineDecorations[0]}_getDecorationsInRange(a,l,d){const i=this._linesCollection.getDecorationsInRange(a,this.editorId,(0,_.$J)(this.configuration.options),l,d),s=a.startLineNumber,m=a.endLineNumber,b=[];let c=0;const v=[];for(let C=s;C<=m;C++)v[C-s]=[];for(let C=0,S=i.length;C<S;C++){const N=i[C],P=N.options;if(!V(this.model,N))continue;const M=this._getOrCreateViewModelDecoration(N),D=M.range;if(b[c++]=M,P.inlineClassName){const F=new u.$t(D,P.inlineClassName,P.inlineClassNameAffectsLetterSpacing?3:0),B=Math.max(s,D.startLineNumber),U=Math.min(m,D.endLineNumber);for(let A=B;A<=U;A++)v[A-s].push(F)}if(P.beforeContentClassName&&s<=D.startLineNumber&&D.startLineNumber<=m){const F=new u.$t(new O.e(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn),P.beforeContentClassName,1);v[D.startLineNumber-s].push(F)}if(P.afterContentClassName&&s<=D.endLineNumber&&D.endLineNumber<=m){const F=new u.$t(new O.e(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn),P.afterContentClassName,2);v[D.endLineNumber-s].push(F)}}return{decorations:b,inlineDecorations:v}}}function V(g,a){return!(a.options.hideInCommentTokens&&I(g,a)||a.options.hideInStringTokens&&L(g,a))}function I(g,a){return E(g,a.range,l=>l===1)}function L(g,a){return E(g,a.range,l=>l===2)}function E(g,a,l){for(let d=a.startLineNumber;d<=a.endLineNumber;d++){const i=g.tokenization.getLineTokens(d),s=d===a.startLineNumber,m=d===a.endLineNumber;let b=s?i.findTokenIndexAtOffset(a.startColumn-1):0;for(;b<i.getCount()&&!(m&&i.getStartOffset(b)>a.endColumn-1);){if(!l(i.getStandardTokenType(b)))return!1;b++}}return!0}},91845:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{SelectionAnchorSet:function(){return l}});var f=t(79874),O=t(69008),u=t(94880),_=t(55298),p=t(57841),V=t(21081),I=t(26386),L=t(76826),E=function(c,v,C,S){var N=arguments.length,P=N<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,C):S,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(c,v,C,S);else for(var D=c.length-1;D>=0;D--)(M=c[D])&&(P=(N<3?M(P):N>3?M(v,C,P):M(v,C))||P);return N>3&&P&&Object.defineProperty(v,C,P),P},g=function(c,v){return function(C,S){v(C,S,c)}},a=function(c,v,C,S){function N(P){return P instanceof C?P:new C(function(M){M(P)})}return new(C||(C=Promise))(function(P,M){function D(U){try{B(S.next(U))}catch(A){M(A)}}function F(U){try{B(S.throw(U))}catch(A){M(A)}}function B(U){U.done?P(U.value):N(U.value).then(D,F)}B((S=S.apply(c,v||[])).next())})};const l=new L.uy("selectionAnchorSet",!1);let d=class Vc{static get(v){return v.getContribution(Vc.ID)}constructor(v,C){this.editor=v,this.selectionAnchorSetContextKey=l.bindTo(C),this.modelChangeListener=v.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const v=this.editor.getPosition();this.editor.changeDecorations(C=>{this.decorationId&&C.removeDecoration(this.decorationId),this.decorationId=C.addDecoration(p.Y.fromPositions(v,v),{description:"selection-anchor",stickiness:1,hoverMessage:new O.W5().appendText((0,I.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,f.Z9)((0,I.NC)("anchorSet","Anchor set at {0}:{1}",v.lineNumber,v.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const v=this.editor.getModel().getDecorationRange(this.decorationId);v&&this.editor.setPosition(v.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const v=this.editor.getModel().getDecorationRange(this.decorationId);if(v){const C=this.editor.getPosition();this.editor.setSelection(p.Y.fromPositions(v.getStartPosition(),C)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const v=this.decorationId;this.editor.changeDecorations(C=>{C.removeDecoration(v),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};d.ID="editor.contrib.selectionAnchorController",d=E([g(1,L.i6)],d);class i extends _.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,I.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:V.u.editorTextFocus,primary:(0,u.gx)(2089,2080),weight:100}})}run(v,C){var S;return a(this,void 0,void 0,function*(){(S=d.get(C))===null||S===void 0||S.setSelectionAnchor()})}}class s extends _.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,I.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:l})}run(v,C){var S;return a(this,void 0,void 0,function*(){(S=d.get(C))===null||S===void 0||S.goToSelectionAnchor()})}}class m extends _.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,I.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:l,kbOpts:{kbExpr:V.u.editorTextFocus,primary:(0,u.gx)(2089,2089),weight:100}})}run(v,C){var S;return a(this,void 0,void 0,function*(){(S=d.get(C))===null||S===void 0||S.selectFromAnchorToCursor()})}}class b extends _.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,I.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:l,kbOpts:{kbExpr:V.u.editorTextFocus,primary:9,weight:100}})}run(v,C){var S;return a(this,void 0,void 0,function*(){(S=d.get(C))===null||S===void 0||S.cancelSelectionAnchor()})}}(0,_._K)(d.ID,d,4),(0,_.Qr)(i),(0,_.Qr)(s),(0,_.Qr)(m),(0,_.Qr)(b)},78295:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{BracketMatchingController:function(){return v}});var f=t(13484),O=t(38431),u=t(55298),_=t(8964),p=t(50038),V=t(57841),I=t(21081),L=t(41913),E=t(45007),g=t(26386),a=t(21208),l=t(92537),d=t(58566);const i=(0,l.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},g.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class s extends u.R6{constructor(){super({id:"editor.action.jumpToBracket",label:g.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3165,weight:100}})}run(S,N){var P;(P=v.get(N))===null||P===void 0||P.jumpToBracket()}}class m extends u.R6{constructor(){super({id:"editor.action.selectToBracket",label:g.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(S,N,P){var M;let D=!0;P&&P.selectBrackets===!1&&(D=!1),(M=v.get(N))===null||M===void 0||M.selectToBracket(D)}}class b extends u.R6{constructor(){super({id:"editor.action.removeBrackets",label:g.NC("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:I.u.editorTextFocus,primary:2561,weight:100}})}run(S,N){var P;(P=v.get(N))===null||P===void 0||P.removeBrackets(this.id)}}class c{constructor(S,N,P){this.position=S,this.brackets=N,this.options=P}}class v extends O.JT{static get(S){return S.getContribution(v.ID)}constructor(S){super(),this._editor=S,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new f.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(69),this._updateBracketsSoon.schedule(),this._register(S.onDidChangeCursorPosition(N=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(S.onDidChangeModelContent(N=>{this._updateBracketsSoon.schedule()})),this._register(S.onDidChangeModel(N=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(S.onDidChangeModelLanguageConfiguration(N=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(S.onDidChangeConfiguration(N=>{N.hasChanged(69)&&(this._matchBrackets=this._editor.getOption(69),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(S.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(S.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const S=this._editor.getModel(),N=this._editor.getSelections().map(P=>{const M=P.getStartPosition(),D=S.bracketPairs.matchBracket(M);let F=null;if(D)D[0].containsPosition(M)&&!D[1].containsPosition(M)?F=D[1].getStartPosition():D[1].containsPosition(M)&&(F=D[0].getStartPosition());else{const B=S.bracketPairs.findEnclosingBrackets(M);if(B)F=B[1].getStartPosition();else{const U=S.bracketPairs.findNextBracket(M);U&&U.range&&(F=U.range.getStartPosition())}}return F?new V.Y(F.lineNumber,F.column,F.lineNumber,F.column):new V.Y(M.lineNumber,M.column,M.lineNumber,M.column)});this._editor.setSelections(N),this._editor.revealRange(N[0])}selectToBracket(S){if(!this._editor.hasModel())return;const N=this._editor.getModel(),P=[];this._editor.getSelections().forEach(M=>{const D=M.getStartPosition();let F=N.bracketPairs.matchBracket(D);if(!F&&(F=N.bracketPairs.findEnclosingBrackets(D),!F)){const A=N.bracketPairs.findNextBracket(D);A&&A.range&&(F=N.bracketPairs.matchBracket(A.range.getStartPosition()))}let B=null,U=null;if(F){F.sort(p.e.compareRangesUsingStarts);const[A,k]=F;if(B=S?A.getStartPosition():A.getEndPosition(),U=S?k.getEndPosition():k.getStartPosition(),k.containsPosition(D)){const R=B;B=U,U=R}}B&&U&&P.push(new V.Y(B.lineNumber,B.column,U.lineNumber,U.column))}),P.length>0&&(this._editor.setSelections(P),this._editor.revealRange(P[0]))}removeBrackets(S){if(!this._editor.hasModel())return;const N=this._editor.getModel();this._editor.getSelections().forEach(P=>{const M=P.getPosition();let D=N.bracketPairs.matchBracket(M);D||(D=N.bracketPairs.findEnclosingBrackets(M)),D&&(this._editor.pushUndoStop(),this._editor.executeEdits(S,[{range:D[0],text:""},{range:D[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const S=[];let N=0;for(const P of this._lastBracketsData){const M=P.brackets;M&&(S[N++]={range:M[0],options:P.options},S[N++]={range:M[1],options:P.options})}this._decorations.set(S)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const S=this._editor.getSelections();if(S.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const N=this._editor.getModel(),P=N.getVersionId();let M=[];this._lastVersionId===P&&(M=this._lastBracketsData);const D=[];let F=0;for(let R=0,$=S.length;R<$;R++){const J=S[R];J.isEmpty()&&(D[F++]=J.getStartPosition())}D.length>1&&D.sort(_.L.compare);const B=[];let U=0,A=0;const k=M.length;for(let R=0,$=D.length;R<$;R++){const J=D[R];for(;A<k&&M[A].position.isBefore(J);)A++;if(A<k&&M[A].position.equals(J))B[U++]=M[A];else{let Y=N.bracketPairs.matchBracket(J,20),j=v._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Y&&this._matchBrackets==="always"&&(Y=N.bracketPairs.findEnclosingBrackets(J,20),j=v._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),B[U++]=new c(J,Y,j)}}this._lastBracketsData=B,this._lastVersionId=P}}v.ID="editor.contrib.bracketMatchingController",v._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=E.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,d.EN)(i),position:L.sh.Center}}),v._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=E.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,u._K)(v.ID,v,1),(0,u.Qr)(m),(0,u.Qr)(s),(0,u.Qr)(b),a.BH.appendMenuItem(a.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:g.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},65253:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(21081),u=t(50038),_=t(57841);class p{constructor(a,l){this._selection=a,this._isMovingLeft=l}getEditOperations(a,l){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const d=this._selection.startLineNumber,i=this._selection.startColumn,s=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&s===a.getLineMaxColumn(d)))if(this._isMovingLeft){const m=new u.e(d,i-1,d,i),b=a.getValueInRange(m);l.addEditOperation(m,null),l.addEditOperation(new u.e(d,s,d,s),b)}else{const m=new u.e(d,s,d,s+1),b=a.getValueInRange(m);l.addEditOperation(m,null),l.addEditOperation(new u.e(d,i,d,i),b)}}computeCursorState(a,l){return this._isMovingLeft?new _.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new _.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var V=t(26386);class I extends f.R6{constructor(a,l){super(l),this.left=a}run(a,l){if(!l.hasModel())return;const d=[],i=l.getSelections();for(const s of i)d.push(new p(s,this.left));l.pushUndoStop(),l.executeCommands(this.id,d),l.pushUndoStop()}}class L extends I{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:V.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:O.u.writable})}}class E extends I{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:V.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:O.u.writable})}}(0,f.Qr)(L),(0,f.Qr)(E)},75845:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(38050),u=t(27319),_=t(50038),p=t(21081),V=t(26386);class I extends f.R6{constructor(){super({id:"editor.action.transposeLetters",label:V.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(E,g){if(!g.hasModel())return;const a=g.getModel(),l=[],d=g.getSelections();for(const i of d){if(!i.isEmpty())continue;const s=i.startLineNumber,m=i.startColumn,b=a.getLineMaxColumn(s);if(s===1&&(m===1||m===2&&b===2))continue;const c=m===b?i.getPosition():u.o.rightPosition(a,i.getPosition().lineNumber,i.getPosition().column),v=u.o.leftPosition(a,c),C=u.o.leftPosition(a,v),S=a.getValueInRange(_.e.fromPositions(C,v)),N=a.getValueInRange(_.e.fromPositions(v,c)),P=_.e.fromPositions(C,c);l.push(new O.T4(P,N+S))}l.length>0&&(g.pushUndoStop(),g.executeCommands(this.id,l),g.pushUndoStop())}}(0,f.Qr)(I)},78788:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CopyAction:function(){return c},CutAction:function(){return b},PasteAction:function(){return v}});var f=t(71488),O=t(11138),u=t(10521),_=t(55298),p=t(5603),V=t(21081),I=t(26386),L=t(21208),E=t(51941),g=t(76826),a=function(N,P,M,D){function F(B){return B instanceof M?B:new M(function(U){U(B)})}return new(M||(M=Promise))(function(B,U){function A($){try{R(D.next($))}catch(J){U(J)}}function k($){try{R(D.throw($))}catch(J){U(J)}}function R($){$.done?B($.value):F($.value).then(A,k)}R((D=D.apply(N,P||[])).next())})};const l="9_cutcopypaste",d=O.tY||document.queryCommandSupported("cut"),i=O.tY||document.queryCommandSupported("copy"),s=typeof navigator.clipboard=="undefined"||f.isFirefox?document.queryCommandSupported("paste"):!0;function m(N){return N.register(),N}const b=d?m(new _.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:O.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:L.eH.MenubarEditMenu,group:"2_ccp",title:I.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:L.eH.EditorContext,group:l,title:I.NC("actions.clipboard.cutLabel","Cut"),when:V.u.writable,order:1},{menuId:L.eH.CommandPalette,group:"",title:I.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:L.eH.SimpleEditorContext,group:l,title:I.NC("actions.clipboard.cutLabel","Cut"),when:V.u.writable,order:1}]})):void 0,c=i?m(new _.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:O.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:L.eH.MenubarEditMenu,group:"2_ccp",title:I.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:L.eH.EditorContext,group:l,title:I.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:L.eH.CommandPalette,group:"",title:I.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:L.eH.SimpleEditorContext,group:l,title:I.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;L.BH.appendMenuItem(L.eH.MenubarEditMenu,{submenu:L.eH.MenubarCopy,title:{value:I.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),L.BH.appendMenuItem(L.eH.EditorContext,{submenu:L.eH.EditorContextCopy,title:{value:I.NC("copy as","Copy As"),original:"Copy As"},group:l,order:3}),L.BH.appendMenuItem(L.eH.EditorContext,{submenu:L.eH.EditorContextShare,title:{value:I.NC("share","Share"),original:"Share"},group:"11_share",order:-1,when:g.Ao.and(g.Ao.notEquals("resourceScheme","output"),V.u.editorTextFocus)}),L.BH.appendMenuItem(L.eH.EditorTitleContext,{submenu:L.eH.EditorTitleContextShare,title:{value:I.NC("share","Share"),original:"Share"},group:"11_share",order:-1}),L.BH.appendMenuItem(L.eH.ExplorerContext,{submenu:L.eH.ExplorerContextShare,title:{value:I.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const v=s?m(new _.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:O.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:L.eH.MenubarEditMenu,group:"2_ccp",title:I.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:L.eH.EditorContext,group:l,title:I.NC("actions.clipboard.pasteLabel","Paste"),when:V.u.writable,order:4},{menuId:L.eH.CommandPalette,group:"",title:I.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:L.eH.SimpleEditorContext,group:l,title:I.NC("actions.clipboard.pasteLabel","Paste"),when:V.u.writable,order:4}]})):void 0;class C extends _.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:I.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:V.u.textInputFocus,primary:0,weight:100}})}run(P,M){!M.hasModel()||!M.getOption(35)&&M.getSelection().isEmpty()||(u.RA.forceCopyWithSyntaxHighlighting=!0,M.focus(),document.execCommand("copy"),u.RA.forceCopyWithSyntaxHighlighting=!1)}}function S(N,P){N&&(N.addImplementation(1e4,"code-editor",(M,D)=>{const F=M.get(p.$).getFocusedCodeEditor();if(F&&F.hasTextFocus()){const B=F.getOption(35),U=F.getSelection();return U&&U.isEmpty()&&!B||document.execCommand(P),!0}return!1}),N.addImplementation(0,"generic-dom",(M,D)=>(document.execCommand(P),!0)))}S(b,"cut"),S(c,"copy"),v&&(v.addImplementation(1e4,"code-editor",(N,P)=>{const M=N.get(p.$),D=N.get(E.p),F=M.getFocusedCodeEditor();return F&&F.hasTextFocus()?!document.execCommand("paste")&&O.$L?(()=>a(void 0,void 0,void 0,function*(){const U=yield D.readText();if(U!==""){const A=u.Nl.INSTANCE.get(U);let k=!1,R=null,$=null;A&&(k=F.getOption(35)&&!!A.isFromEmptySelection,R=typeof A.multicursorText!="undefined"?A.multicursorText:null,$=A.mode),F.trigger("keyboard","paste",{text:U,pasteOnNewLine:k,multicursorText:R,mode:$})}}))():!0:!1}),v.addImplementation(0,"generic-dom",(N,P)=>(document.execCommand("paste"),!0))),i&&(0,_.Qr)(C)},83915:function(Rt,Be,t){"use strict";t.d(Be,{Bb:function(){return N},LR:function(){return J},MN:function(){return P},RB:function(){return v},TM:function(){return D},UX:function(){return $},aI:function(){return U},cz:function(){return C},pZ:function(){return S},uH:function(){return M}});var f=t(16308),O=t(97464),u=t(20996),_=t(38431),p=t(28919),V=t(53028),I=t(50038),L=t(57841),E=t(35921),g=t(65041),a=t(44426),l=t(26386),d=t(80793),i=t(97968),s=t(79969),m=t(68554),b=t(66129),c=function(j,z,K,Z){function fe(T){return T instanceof K?T:new K(function(Re){Re(T)})}return new(K||(K=Promise))(function(T,Re){function Ce(le){try{pe(Z.next(le))}catch(oe){Re(oe)}}function _e(le){try{pe(Z.throw(le))}catch(oe){Re(oe)}}function pe(le){le.done?T(le.value):fe(le.value).then(Ce,_e)}pe((Z=Z.apply(j,z||[])).next())})};const v="editor.action.codeAction",C="editor.action.quickFix",S="editor.action.autoFix",N="editor.action.refactor",P="editor.action.sourceAction",M="editor.action.organizeImports",D="editor.action.fixAll";class F extends _.JT{static codeActionsPreferredComparator(z,K){return z.isPreferred&&!K.isPreferred?-1:!z.isPreferred&&K.isPreferred?1:0}static codeActionsComparator({action:z},{action:K}){return(0,f.Of)(z.diagnostics)?(0,f.Of)(K.diagnostics)?F.codeActionsPreferredComparator(z,K):-1:(0,f.Of)(K.diagnostics)?1:F.codeActionsPreferredComparator(z,K)}constructor(z,K,Z){super(),this.documentation=K,this._register(Z),this.allActions=[...z].sort(F.codeActionsComparator),this.validActions=this.allActions.filter(({action:fe})=>!fe.disabled)}get hasAutoFix(){return this.validActions.some(({action:z})=>!!z.kind&&b.yN.QuickFix.contains(new b.yN(z.kind))&&!!z.isPreferred)}}const B={actions:[],documentation:void 0};function U(j,z,K,Z,fe,T){var Re;return c(this,void 0,void 0,function*(){const Ce=Z.filter||{},_e={only:(Re=Ce.include)===null||Re===void 0?void 0:Re.value,trigger:Z.type},pe=new a.YQ(z,T),le=A(j,z,Ce),oe=new _.SL,he=le.map(Xe=>c(this,void 0,void 0,function*(){try{fe.report(Xe);const Ve=yield Xe.provideCodeActions(z,K,_e,pe.token);if(Ve&&oe.add(Ve),pe.token.isCancellationRequested)return B;const se=((Ve==null?void 0:Ve.actions)||[]).filter(Ee=>Ee&&(0,b.Yl)(Ce,Ee)),q=R(Xe,se,Ce.include);return{actions:se.map(Ee=>new b.bA(Ee,Xe)),documentation:q}}catch(Ve){if((0,u.n2)(Ve))throw Ve;return(0,u.Cp)(Ve),B}})),je=j.onDidChange(()=>{const Xe=j.all(z);(0,f.fS)(Xe,le)||pe.cancel()});try{const Xe=yield Promise.all(he),Ve=Xe.map(q=>q.actions).flat(),se=[...(0,f.kX)(Xe.map(q=>q.documentation)),...k(j,z,Z,Ve)];return new F(Ve,se,oe)}finally{je.dispose(),pe.dispose()}})}function A(j,z,K){return j.all(z).filter(Z=>Z.providedCodeActionKinds?Z.providedCodeActionKinds.some(fe=>(0,b.EU)(K,new b.yN(fe))):!0)}function*k(j,z,K,Z){var fe,T,Re;if(z&&Z.length)for(const Ce of j.all(z))Ce._getAdditionalMenuItems&&(yield*(fe=Ce._getAdditionalMenuItems)===null||fe===void 0?void 0:fe.call(Ce,{trigger:K.type,only:(Re=(T=K.filter)===null||T===void 0?void 0:T.include)===null||Re===void 0?void 0:Re.value},Z.map(_e=>_e.action)))}function R(j,z,K){if(!j.documentation)return;const Z=j.documentation.map(fe=>({kind:new b.yN(fe.kind),command:fe.command}));if(K){let fe;for(const T of Z)T.kind.contains(K)&&(fe?fe.kind.contains(T.kind)&&(fe=T):fe=T);if(fe)return fe==null?void 0:fe.command}for(const fe of z)if(fe.kind){for(const T of Z)if(T.kind.contains(new b.yN(fe.kind)))return T.command}}var $;(function(j){j.OnSave="onSave",j.FromProblemsView="fromProblemsView",j.FromCodeActions="fromCodeActions"})($||($={}));function J(j,z,K,Z,fe=O.T.None){var T;return c(this,void 0,void 0,function*(){const Re=j.get(V.vu),Ce=j.get(d.H),_e=j.get(m.b),pe=j.get(i.lT);if(_e.publicLog2("codeAction.applyCodeAction",{codeActionTitle:z.action.title,codeActionKind:z.action.kind,codeActionIsPreferred:!!z.action.isPreferred,reason:K}),yield z.resolve(fe),!fe.isCancellationRequested&&!(!((T=z.action.edit)===null||T===void 0)&&T.edits.length&&!(yield Re.apply(z.action.edit,{editor:Z==null?void 0:Z.editor,label:z.action.title,quotableLabel:z.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:K!==$.OnSave,showPreview:Z==null?void 0:Z.preview})).isApplied)&&z.action.command)try{yield Ce.executeCommand(z.action.command.id,...z.action.command.arguments||[])}catch(le){const oe=Y(le);pe.error(typeof oe=="string"?oe:l.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Y(j){return typeof j=="string"?j:j instanceof Error&&typeof j.message=="string"?j.message:void 0}d.P.registerCommand("_executeCodeActionProvider",function(j,z,K,Z,fe){return c(this,void 0,void 0,function*(){if(!(z instanceof p.o))throw(0,u.b1)();const{codeActionProvider:T}=j.get(E.p),Re=j.get(g.q).getModel(z);if(!Re)throw(0,u.b1)();const Ce=L.Y.isISelection(K)?L.Y.liftSelection(K):I.e.isIRange(K)?Re.validateRange(K):void 0;if(!Ce)throw(0,u.b1)();const _e=typeof Z=="string"?new b.yN(Z):void 0,pe=yield U(T,Re,Ce,{type:1,triggerAction:b.aQ.Default,filter:{includeSourceActions:!0,include:_e}},s.Ex.None,O.T.None),le=[],oe=Math.min(pe.validActions.length,typeof fe=="number"?fe:0);for(let he=0;he<oe;he++)le.push(pe.validActions[he].resolve(O.T.None));try{return yield Promise.all(le),pe.validActions.map(he=>he.action)}finally{setTimeout(()=>pe.dispose(),100)}})})},58927:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(86689),u=t(17416),_=t(21081),p=t(83915),V=t(26386),I=t(76826),L=t(66129),E=t(28689),g=t(37295);function a(M){return I.Ao.regex(g.fj.keys()[0],new RegExp("(\\s|^)"+(0,u.ec)(M.value)+"\\b"))}const l={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:V.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:V.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[V.NC("args.schema.apply.first","Always apply the first returned code action."),V.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),V.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:V.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function d(M,D,F,B,U=L.aQ.Default){if(M.hasModel()){const A=E.G.get(M);A==null||A.manualTriggerAtCurrentPosition(D,U,F,B)}}class i extends f.R6{constructor(){super({id:p.cz,label:V.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:I.Ao.and(_.u.writable,_.u.hasCodeActionsProvider),kbOpts:{kbExpr:_.u.textInputFocus,primary:2137,weight:100}})}run(D,F){return d(F,V.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,L.aQ.QuickFix)}}class s extends f._l{constructor(){super({id:p.RB,precondition:I.Ao.and(_.u.writable,_.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:l}]}})}runEditorCommand(D,F,B){const U=L.wZ.fromUser(B,{kind:L.yN.Empty,apply:"ifSingle"});return d(F,typeof(B==null?void 0:B.kind)=="string"?U.preferred?V.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",B.kind):V.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",B.kind):U.preferred?V.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):V.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:U.kind,includeSourceActions:!0,onlyIncludePreferredActions:U.preferred},U.apply)}}class m extends f.R6{constructor(){super({id:p.Bb,label:V.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:I.Ao.and(_.u.writable,_.u.hasCodeActionsProvider),kbOpts:{kbExpr:_.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:I.Ao.and(_.u.writable,a(L.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:l}]}})}run(D,F,B){const U=L.wZ.fromUser(B,{kind:L.yN.Refactor,apply:"never"});return d(F,typeof(B==null?void 0:B.kind)=="string"?U.preferred?V.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",B.kind):V.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",B.kind):U.preferred?V.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):V.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:L.yN.Refactor.contains(U.kind)?U.kind:L.yN.None,onlyIncludePreferredActions:U.preferred},U.apply,L.aQ.Refactor)}}class b extends f.R6{constructor(){super({id:p.MN,label:V.NC("source.label","Source Action..."),alias:"Source Action...",precondition:I.Ao.and(_.u.writable,_.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:I.Ao.and(_.u.writable,a(L.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:l}]}})}run(D,F,B){const U=L.wZ.fromUser(B,{kind:L.yN.Source,apply:"never"});return d(F,typeof(B==null?void 0:B.kind)=="string"?U.preferred?V.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",B.kind):V.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",B.kind):U.preferred?V.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):V.NC("editor.action.source.noneMessage","No source actions available"),{include:L.yN.Source.contains(U.kind)?U.kind:L.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:U.preferred},U.apply,L.aQ.SourceAction)}}class c extends f.R6{constructor(){super({id:p.uH,label:V.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:I.Ao.and(_.u.writable,a(L.yN.SourceOrganizeImports)),kbOpts:{kbExpr:_.u.textInputFocus,primary:1581,weight:100}})}run(D,F){return d(F,V.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:L.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",L.aQ.OrganizeImports)}}class v extends f.R6{constructor(){super({id:p.TM,label:V.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:I.Ao.and(_.u.writable,a(L.yN.SourceFixAll))})}run(D,F){return d(F,V.NC("fixAll.noneMessage","No fix all action available"),{include:L.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",L.aQ.FixAll)}}class C extends f.R6{constructor(){super({id:p.pZ,label:V.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:I.Ao.and(_.u.writable,a(L.yN.QuickFix)),kbOpts:{kbExpr:_.u.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(D,F){return d(F,V.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:L.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",L.aQ.AutoFix)}}var S=t(78417),N=t(12326),P=t(6325);(0,f._K)(E.G.ID,E.G,3),(0,f._K)(S.f.ID,S.f,4),(0,f.Qr)(i),(0,f.Qr)(m),(0,f.Qr)(b),(0,f.Qr)(c),(0,f.Qr)(C),(0,f.Qr)(v),(0,f.fK)(new s),P.B.as(N.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},O.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:V.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}))},28689:function(Rt,Be,t){"use strict";t.d(Be,{G:function(){return He}});var f=t(34441),O=t(20996),u=t(51280),_=t(38431),p=t(8964),V=t(35921),I=t(83915),L=t(66129),E=t(62297),g=function(Le,de,ee,ne){var me=arguments.length,ue=me<3?de:ne===null?ne=Object.getOwnPropertyDescriptor(de,ee):ne,Pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(Le,de,ee,ne);else for(var ot=Le.length-1;ot>=0;ot--)(Pe=Le[ot])&&(ue=(me<3?Pe(ue):me>3?Pe(de,ee,ue):Pe(de,ee))||ue);return me>3&&ue&&Object.defineProperty(de,ee,ue),ue},a=function(Le,de){return function(ee,ne){de(ee,ne,Le)}};let l=class Hc{constructor(de){this.keybindingService=de}getResolver(){const de=new u.o(()=>this.keybindingService.getKeybindings().filter(ee=>Hc.codeActionCommands.indexOf(ee.command)>=0).filter(ee=>ee.resolvedKeybinding).map(ee=>{let ne=ee.commandArgs;return ee.command===I.uH?ne={kind:L.yN.SourceOrganizeImports.value}:ee.command===I.TM&&(ne={kind:L.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:ee.resolvedKeybinding},L.wZ.fromUser(ne,{kind:L.yN.None,apply:"never"}))}));return ee=>{if(ee.kind){const ne=this.bestKeybindingForCodeAction(ee,de.value);return ne==null?void 0:ne.resolvedKeybinding}}}bestKeybindingForCodeAction(de,ee){if(!de.kind)return;const ne=new L.yN(de.kind);return ee.filter(me=>me.kind.contains(ne)).filter(me=>me.preferred?de.isPreferred:!0).reduceRight((me,ue)=>me?me.kind.contains(ue.kind)?ue:me:ue,void 0)}};l.codeActionCommands=[I.Bb,I.RB,I.MN,I.uH,I.TM],l=g([a(0,E.d)],l);var d=t(89467),i=t(407),s=t(27187),m=t(26386);const b=Object.freeze({kind:L.yN.Empty,title:(0,m.NC)("codeAction.widget.id.more","More Actions...")}),c=Object.freeze([{kind:L.yN.QuickFix,title:(0,m.NC)("codeAction.widget.id.quickfix","Quick Fix...")},{kind:L.yN.RefactorExtract,title:(0,m.NC)("codeAction.widget.id.extract","Extract..."),icon:i.l.wrench},{kind:L.yN.RefactorInline,title:(0,m.NC)("codeAction.widget.id.inline","Inline..."),icon:i.l.wrench},{kind:L.yN.RefactorRewrite,title:(0,m.NC)("codeAction.widget.id.convert","Rewrite..."),icon:i.l.wrench},{kind:L.yN.RefactorMove,title:(0,m.NC)("codeAction.widget.id.move","Move..."),icon:i.l.wrench},{kind:L.yN.SurroundWith,title:(0,m.NC)("codeAction.widget.id.surround","Surround With..."),icon:i.l.symbolSnippet},{kind:L.yN.Source,title:(0,m.NC)("codeAction.widget.id.source","Source Action..."),icon:i.l.symbolFile},b]);function v(Le,de,ee){if(!de)return Le.map(ue=>({kind:"action",item:ue,group:b,disabled:!!ue.action.disabled,label:ue.action.disabled||ue.action.title}));const ne=c.map(ue=>({group:ue,actions:[]}));for(const ue of Le){const Pe=ue.action.kind?new L.yN(ue.action.kind):L.yN.None;for(const ot of ne)if(ot.group.kind.contains(Pe)){ot.actions.push(ue);break}}const me=[];for(const ue of ne)if(ue.actions.length){me.push({kind:"header",group:ue.group});for(const Pe of ue.actions)me.push({kind:"action",item:Pe,group:ue.group,label:Pe.action.title,disabled:!!Pe.action.disabled,keybinding:ee(Pe.action)})}return me}var C=t(78417),S=t(91591),N=t(67235),P=t(40186),M=t(75490),D=t(11138),F=t(8216),B=t(36953),U=t(60140),A=t(92537),k=function(Le,de,ee,ne){var me=arguments.length,ue=me<3?de:ne===null?ne=Object.getOwnPropertyDescriptor(de,ee):ne,Pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(Le,de,ee,ne);else for(var ot=Le.length-1;ot>=0;ot--)(Pe=Le[ot])&&(ue=(me<3?Pe(ue):me>3?Pe(de,ee,ue):Pe(de,ee))||ue);return me>3&&ue&&Object.defineProperty(de,ee,ue),ue},R=function(Le,de){return function(ee,ne){de(ee,ne,Le)}};const $="acceptSelectedCodeAction",J="previewSelectedCodeAction";class Y{get templateId(){return"header"}renderTemplate(de){de.classList.add("group-header");const ee=document.createElement("span");return de.append(ee),{container:de,text:ee}}renderElement(de,ee,ne){var me,ue;ne.text.textContent=(ue=(me=de.group)===null||me===void 0?void 0:me.title)!==null&&ue!==void 0?ue:""}disposeTemplate(de){}}let j=class{get templateId(){return"action"}constructor(de,ee){this._supportsPreview=de,this._keybindingService=ee}renderTemplate(de){de.classList.add(this.templateId);const ee=document.createElement("div");ee.className="icon",de.append(ee);const ne=document.createElement("span");ne.className="title",de.append(ne);const me=new P.e(de,D.OS);return{container:de,icon:ee,text:ne,keybinding:me}}renderElement(de,ee,ne){var me,ue,Pe;if(!((me=de.group)===null||me===void 0)&&me.icon?(ne.icon.className=F.k.asClassName(de.group.icon),de.group.icon.color&&(ne.icon.style.color=(0,A.n_1)(de.group.icon.color.id))):(ne.icon.className=F.k.asClassName(i.l.lightBulb),ne.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!de.item||!de.label)return;ne.text.textContent=fe(de.label),ne.keybinding.set(de.keybinding),f.iJ(!!de.keybinding,ne.keybinding.element);const ot=(ue=this._keybindingService.lookupKeybinding($))===null||ue===void 0?void 0:ue.getLabel(),gt=(Pe=this._keybindingService.lookupKeybinding(J))===null||Pe===void 0?void 0:Pe.getLabel();ne.container.classList.toggle("option-disabled",de.disabled),de.disabled?ne.container.title=de.label:ot&&gt?this._supportsPreview?ne.container.title=(0,m.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",ot,gt):ne.container.title=(0,m.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",ot):ne.container.title=""}disposeTemplate(de){}};j=k([R(1,E.d)],j);class z extends UIEvent{constructor(){super("acceptSelectedAction")}}class K extends UIEvent{constructor(){super("previewSelectedAction")}}let Z=class extends _.JT{constructor(de,ee,ne,me,ue,Pe){super(),this._delegate=me,this._contextViewService=ue,this._keybindingService=Pe,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const ot={getHeight:gt=>gt.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:gt=>gt.kind};this._list=this._register(new M.aV(de,this.domNode,ot,[new j(ee,this._keybindingService),new Y],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:gt=>{if(gt.kind==="action"){let nt=gt.label?fe(gt==null?void 0:gt.label):"";return gt.disabled&&(nt=(0,m.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",nt,gt.disabled)),nt}return null},getWidgetAriaLabel:()=>(0,m.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:gt=>gt.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(U.O2),this._register(this._list.onMouseClick(gt=>this.onListClick(gt))),this._register(this._list.onMouseOver(gt=>this.onListHover(gt))),this._register(this._list.onDidChangeFocus(()=>this._list.domFocus())),this._register(this._list.onDidChangeSelection(gt=>this.onListSelection(gt))),this._allMenuItems=ne,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(de){return!de.disabled&&de.kind==="action"}hide(de){this._delegate.onHide(de),this._contextViewService.hideContextView()}layout(de){const ee=this._allMenuItems.filter(nt=>nt.kind==="header").length,me=this._allMenuItems.length*this._actionLineHeight+ee*this._headerLineHeight-ee*this._actionLineHeight;this._list.layout(me);const ue=this._allMenuItems.map((nt,tt)=>{const st=document.getElementById(this._list.getElementID(tt));if(st){st.style.width="auto";const It=st.getBoundingClientRect().width;return st.style.width="",It}return 0}),Pe=Math.max(...ue,de),ot=.7,gt=Math.min(me,document.body.clientHeight*ot);return this._list.layout(gt,Pe),this.domNode.style.height=`${gt}px`,this._list.domFocus(),Pe}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(de){const ee=this._list.getFocus();if(ee.length===0)return;const ne=ee[0],me=this._list.element(ne);if(!this.focusCondition(me))return;const ue=de?new K:new z;this._list.setSelection([ne],ue)}onListSelection(de){if(!de.elements.length)return;const ee=de.elements[0];ee.item&&this.focusCondition(ee)?this._delegate.onSelect(ee.item,de.browserEvent instanceof K):this._list.setSelection([])}onListHover(de){this._list.setFocus(typeof de.index=="number"?[de.index]:[])}onListClick(de){de.element&&this.focusCondition(de.element)&&this._list.setFocus([])}};Z=k([R(4,B.u),R(5,E.d)],Z);function fe(Le){return Le.replace(/\r\n|\r|\n/g," ")}var T=t(21208),Re=t(76826),Ce=t(53061),_e=t(44333),pe=function(Le,de,ee,ne){var me=arguments.length,ue=me<3?de:ne===null?ne=Object.getOwnPropertyDescriptor(de,ee):ne,Pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(Le,de,ee,ne);else for(var ot=Le.length-1;ot>=0;ot--)(Pe=Le[ot])&&(ue=(me<3?Pe(ue):me>3?Pe(de,ee,ue):Pe(de,ee))||ue);return me>3&&ue&&Object.defineProperty(de,ee,ue),ue},le=function(Le,de){return function(ee,ne){de(ee,ne,Le)}};const oe={Visible:new Re.uy("codeActionMenuVisible",!1,(0,m.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},he=(0,_e.yh)("actionWidgetService");let je=class extends _.JT{get isVisible(){return oe.Visible.getValue(this._contextKeyService)||!1}constructor(de,ee,ne){super(),this._contextViewService=de,this._contextKeyService=ee,this._instantiationService=ne,this._list=this._register(new _.XK)}show(de,ee,ne,me,ue,Pe,ot){const gt=oe.Visible.bindTo(this._contextKeyService),nt=this._instantiationService.createInstance(Z,de,ee,ne,me);this._contextViewService.showContextView({getAnchor:()=>ue,render:tt=>(gt.set(!0),this._renderWidget(tt,nt,ot!=null?ot:[])),onHide:tt=>{gt.reset(),this._onWidgetClosed(tt)}},Pe,!1)}acceptSelected(de){var ee;(ee=this._list.value)===null||ee===void 0||ee.acceptSelected(de)}focusPrevious(){var de,ee;(ee=(de=this._list)===null||de===void 0?void 0:de.value)===null||ee===void 0||ee.focusPrevious()}focusNext(){var de,ee;(ee=(de=this._list)===null||de===void 0?void 0:de.value)===null||ee===void 0||ee.focusNext()}hide(){var de;(de=this._list.value)===null||de===void 0||de.hide(),this._list.clear()}_renderWidget(de,ee,ne){var me;const ue=document.createElement("div");if(ue.classList.add("action-widget"),de.appendChild(ue),this._list.value=ee,this._list.value)ue.appendChild(this._list.value.domNode);else throw new Error("List has no value");const Pe=new _.SL,ot=document.createElement("div"),gt=de.appendChild(ot);gt.classList.add("context-view-block"),Pe.add(f.nm(gt,f.tw.MOUSE_DOWN,Vt=>Vt.stopPropagation()));const nt=document.createElement("div"),tt=de.appendChild(nt);tt.classList.add("context-view-pointerBlock"),Pe.add(f.nm(tt,f.tw.POINTER_MOVE,()=>tt.remove())),Pe.add(f.nm(tt,f.tw.MOUSE_DOWN,()=>tt.remove()));let st=0;if(ne.length){const Vt=this._createActionBar(".action-widget-action-bar",ne);Vt&&(ue.appendChild(Vt.getContainer().parentElement),Pe.add(Vt),st=Vt.getContainer().offsetWidth)}const It=(me=this._list.value)===null||me===void 0?void 0:me.layout(st);ue.style.width=`${It}px`;const Wt=Pe.add(f.go(de));return Pe.add(Wt.onDidBlur(()=>this.hide())),Pe}_createActionBar(de,ee){if(!ee.length)return;const ne=f.$(de),me=new N.o(ne);return me.push(ee,{icon:!1,label:!0}),me}_onWidgetClosed(de){var ee;(ee=this._list.value)===null||ee===void 0||ee.hide(de)}};je=pe([le(0,B.u),le(1,Re.i6),le(2,_e.TG)],je),(0,Ce.z)(he,je,1);const Xe=100+1e3;(0,T.r1)(class extends T.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,m.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:oe.Visible,keybinding:{weight:Xe,primary:9,secondary:[1033]}})}run(Le){Le.get(he).hide()}}),(0,T.r1)(class extends T.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,m.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:oe.Visible,keybinding:{weight:Xe,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(Le){const de=Le.get(he);de instanceof je&&de.focusPrevious()}}),(0,T.r1)(class extends T.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,m.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:oe.Visible,keybinding:{weight:Xe,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(Le){const de=Le.get(he);de instanceof je&&de.focusNext()}}),(0,T.r1)(class extends T.Ke{constructor(){super({id:$,title:{value:(0,m.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:oe.Visible,keybinding:{weight:Xe,primary:3,secondary:[2137]}})}run(Le){const de=Le.get(he);de instanceof je&&de.acceptSelected()}}),(0,T.r1)(class extends T.Ke{constructor(){super({id:J,title:{value:(0,m.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:oe.Visible,keybinding:{weight:Xe,primary:2051}})}run(Le){const de=Le.get(he);de instanceof je&&de.acceptSelected(!0)}});var Ve=t(80793),se=t(71177),q=t(36156),Ee=t(79969),Se=t(37295),we=function(Le,de,ee,ne){var me=arguments.length,ue=me<3?de:ne===null?ne=Object.getOwnPropertyDescriptor(de,ee):ne,Pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(Le,de,ee,ne);else for(var ot=Le.length-1;ot>=0;ot--)(Pe=Le[ot])&&(ue=(me<3?Pe(ue):me>3?Pe(de,ee,ue):Pe(de,ee))||ue);return me>3&&ue&&Object.defineProperty(de,ee,ue),ue},ve=function(Le,de){return function(ee,ne){de(ee,ne,Le)}},Ne=function(Le,de,ee,ne){function me(ue){return ue instanceof ee?ue:new ee(function(Pe){Pe(ue)})}return new(ee||(ee=Promise))(function(ue,Pe){function ot(tt){try{nt(ne.next(tt))}catch(st){Pe(st)}}function gt(tt){try{nt(ne.throw(tt))}catch(st){Pe(st)}}function nt(tt){tt.done?ue(tt.value):me(tt.value).then(ot,gt)}nt((ne=ne.apply(Le,de||[])).next())})},$e=function(Le,de,ee,ne,me){if(ne==="m")throw new TypeError("Private method is not writable");if(ne==="a"&&!me)throw new TypeError("Private accessor was defined without a setter");if(typeof de=="function"?Le!==de||!me:!de.has(Le))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ne==="a"?me.call(Le,ee):me?me.value=ee:de.set(Le,ee),ee},Ke=function(Le,de,ee,ne){if(ee==="a"&&!ne)throw new TypeError("Private accessor was defined without a getter");if(typeof de=="function"?Le!==de||!ne:!de.has(Le))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ee==="m"?ne:ee==="a"?ne.call(Le):ne?ne.value:de.get(Le)},ze;let He=class Uc extends _.JT{static get(de){return de.getContribution(Uc.ID)}constructor(de,ee,ne,me,ue,Pe,ot,gt,nt,tt){super(),this._commandService=ot,this._configurationService=gt,this._actionWidgetService=nt,this._instantiationService=tt,this._activeCodeActions=this._register(new _.XK),this._showDisabled=!1,ze.set(this,!1),this._editor=de,this._model=this._register(new Se.Jt(this._editor,ue.codeActionProvider,ee,ne,Pe)),this._register(this._model.onDidChangeState(st=>this.update(st))),this._lightBulbWidget=new u.o(()=>{const st=this._editor.getContribution(C.f.ID);return st&&this._register(st.onClick(It=>this.showCodeActionList(It.actions,It,{includeDisabledActions:!1,fromLightbulb:!0}))),st}),this._resolver=me.createInstance(l),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){$e(this,ze,!0,"f"),super.dispose()}showCodeActions(de,ee,ne){return this.showCodeActionList(ee,ne,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(de,ee,ne,me){var ue;if(!this._editor.hasModel())return;(ue=S.O.get(this._editor))===null||ue===void 0||ue.closeMessage();const Pe=this._editor.getPosition();this._trigger({type:1,triggerAction:ee,filter:ne,autoApply:me,context:{notAvailableMessage:de,position:Pe}})}_trigger(de){return this._model.trigger(de)}_applyCodeAction(de,ee,ne){return Ne(this,void 0,void 0,function*(){try{yield this._instantiationService.invokeFunction(I.LR,de,I.UX.FromCodeActions,{preview:ne,editor:this._editor})}finally{ee&&this._trigger({type:2,triggerAction:L.aQ.QuickFix,filter:{}})}})}update(de){var ee,ne,me,ue,Pe,ot,gt;return Ne(this,void 0,void 0,function*(){if(de.type!==1){(ee=this._lightBulbWidget.rawValue)===null||ee===void 0||ee.hide();return}let nt;try{nt=yield de.actions}catch(tt){(0,O.dL)(tt);return}if(!Ke(this,ze,"f"))if((ne=this._lightBulbWidget.value)===null||ne===void 0||ne.update(nt,de.trigger,de.position),de.trigger.type===1){if(!((me=de.trigger.filter)===null||me===void 0)&&me.include){const st=this.tryGetValidActionToApply(de.trigger,nt);if(st){try{(ue=this._lightBulbWidget.value)===null||ue===void 0||ue.hide(),yield this._applyCodeAction(st,!1,!1)}finally{nt.dispose()}return}if(de.trigger.context){const It=this.getInvalidActionThatWouldHaveBeenApplied(de.trigger,nt);if(It&&It.action.disabled){(Pe=S.O.get(this._editor))===null||Pe===void 0||Pe.showMessage(It.action.disabled,de.trigger.context.position),nt.dispose();return}}}const tt=!!(!((ot=de.trigger.filter)===null||ot===void 0)&&ot.include);if(de.trigger.context&&(!nt.allActions.length||!tt&&!nt.validActions.length)){(gt=S.O.get(this._editor))===null||gt===void 0||gt.showMessage(de.trigger.context.notAvailableMessage,de.trigger.context.position),this._activeCodeActions.value=nt,nt.dispose();return}this._activeCodeActions.value=nt,this.showCodeActionList(nt,this.toCoords(de.position),{includeDisabledActions:tt,fromLightbulb:!1})}else this._actionWidgetService.isVisible?nt.dispose():this._activeCodeActions.value=nt})}getInvalidActionThatWouldHaveBeenApplied(de,ee){if(ee.allActions.length&&(de.autoApply==="first"&&ee.validActions.length===0||de.autoApply==="ifSingle"&&ee.allActions.length===1))return ee.allActions.find(({action:ne})=>ne.disabled)}tryGetValidActionToApply(de,ee){if(ee.validActions.length&&(de.autoApply==="first"&&ee.validActions.length>0||de.autoApply==="ifSingle"&&ee.validActions.length===1))return ee.validActions[0]}showCodeActionList(de,ee,ne){return Ne(this,void 0,void 0,function*(){const me=this._editor.getDomNode();if(!me)return;const ue=ne.includeDisabledActions&&(this._showDisabled||de.validActions.length===0)?de.allActions:de.validActions;if(!ue.length)return;const Pe=p.L.isIPosition(ee)?this.toCoords(ee):ee,ot={onSelect:(gt,nt)=>Ne(this,void 0,void 0,function*(){this._applyCodeAction(gt,!0,!!nt),this._actionWidgetService.hide()}),onHide:()=>{var gt;(gt=this._editor)===null||gt===void 0||gt.focus()}};this._actionWidgetService.show("codeActionWidget",!0,v(ue,this._shouldShowHeaders(),this._resolver.getResolver()),ot,Pe,me,this._getActionBarActions(de,ee,ne))})}toCoords(de){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(de,1),this._editor.render();const ee=this._editor.getScrolledVisiblePosition(de),ne=(0,f.i)(this._editor.getDomNode()),me=ne.left+ee.left,ue=ne.top+ee.top+ee.height;return{x:me,y:ue}}_shouldShowHeaders(){var de;const ee=(de=this._editor)===null||de===void 0?void 0:de.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:ee==null?void 0:ee.uri})}_getActionBarActions(de,ee,ne){if(ne.fromLightbulb)return[];const me=de.documentation.map(ue=>{var Pe;return{id:ue.id,label:ue.title,tooltip:(Pe=ue.tooltip)!==null&&Pe!==void 0?Pe:"",class:void 0,enabled:!0,run:()=>{var ot;return this._commandService.executeCommand(ue.id,...(ot=ue.arguments)!==null&&ot!==void 0?ot:[])}}});return ne.includeDisabledActions&&de.validActions.length>0&&de.allActions.length!==de.validActions.length&&me.push(this._showDisabled?{id:"hideMoreActions",label:(0,m.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(de,ee,ne))}:{id:"showMoreActions",label:(0,m.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(de,ee,ne))}),me}};ze=new WeakMap,He.ID="editor.contrib.codeActionController",He=we([ve(1,q.lT),ve(2,Re.i6),ve(3,_e.TG),ve(4,V.p),ve(5,Ee.ek),ve(6,Ve.H),ve(7,se.Ui),ve(8,he),ve(9,_e.TG)],He)},37295:function(Rt,Be,t){"use strict";t.d(Be,{Jt:function(){return b},fj:function(){return d}});var f=t(13484),O=t(20996),u=t(56709),_=t(38431),p=t(6227),V=t(76826),I=t(79969),L=t(66129),E=t(83915),g=function(c,v,C,S){if(C==="a"&&!S)throw new TypeError("Private accessor was defined without a getter");if(typeof v=="function"?c!==v||!S:!v.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return C==="m"?S:C==="a"?S.call(c):S?S.value:v.get(c)},a=function(c,v,C,S,N){if(S==="m")throw new TypeError("Private method is not writable");if(S==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof v=="function"?c!==v||!N:!v.has(c))throw new TypeError("Cannot write private member to an object whose class did not declare it");return S==="a"?N.call(c,C):N?N.value=C:v.set(c,C),C},l;const d=new V.uy("supportedCodeAction","");class i extends _.JT{constructor(v,C,S,N=250){super(),this._editor=v,this._markerService=C,this._signalChange=S,this._delay=N,this._autoTriggerTimer=this._register(new f._F),this._register(this._markerService.onMarkerChanged(P=>this._onMarkerChanges(P))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(v){const C=this._getRangeOfSelectionUnlessWhitespaceEnclosed(v);this._signalChange(C?{trigger:v,selection:C}:void 0)}_onMarkerChanges(v){const C=this._editor.getModel();C&&v.some(S=>(0,p.Xy)(S,C.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:L.aQ.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(v){if(!this._editor.hasModel())return;const C=this._editor.getModel(),S=this._editor.getSelection();if(S.isEmpty()&&v.type===2){const{lineNumber:N,column:P}=S.getPosition(),M=C.getLineContent(N);if(M.length===0)return;if(P===1){if(/\s/.test(M[0]))return}else if(P===C.getLineMaxColumn(N)){if(/\s/.test(M[M.length-1]))return}else if(/\s/.test(M[P-2])&&/\s/.test(M[P-1]))return}return S}}var s;(function(c){c.Empty={type:0};class v{constructor(S,N,P){this.trigger=S,this.position=N,this._cancellablePromise=P,this.type=1,this.actions=P.catch(M=>{if((0,O.n2)(M))return m;throw M})}cancel(){this._cancellablePromise.cancel()}}c.Triggered=v})(s||(s={}));const m=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class b extends _.JT{constructor(v,C,S,N,P){super(),this._editor=v,this._registry=C,this._markerService=S,this._progressService=P,this._codeActionOracle=this._register(new _.XK),this._state=s.Empty,this._onDidChangeState=this._register(new u.Q5),this.onDidChangeState=this._onDidChangeState.event,l.set(this,!1),this._supportedCodeActions=d.bindTo(N),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){g(this,l,"f")||(a(this,l,!0,"f"),super.dispose(),this.setState(s.Empty,!0))}_update(){if(g(this,l,"f"))return;this._codeActionOracle.value=void 0,this.setState(s.Empty);const v=this._editor.getModel();if(v&&this._registry.has(v)&&!this._editor.getOption(88)){const C=this._registry.all(v).flatMap(S=>{var N;return(N=S.providedCodeActionKinds)!==null&&N!==void 0?N:[]});this._supportedCodeActions.set(C.join(" ")),this._codeActionOracle.value=new i(this._editor,this._markerService,S=>{var N;if(!S){this.setState(s.Empty);return}const P=(0,f.PG)(M=>(0,E.aI)(this._registry,v,S.selection,S.trigger,I.Ex.None,M));S.trigger.type===1&&((N=this._progressService)===null||N===void 0||N.showWhile(P,250)),this.setState(new s.Triggered(S.trigger,S.selection.getStartPosition(),P))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:L.aQ.Default})}else this._supportedCodeActions.reset()}trigger(v){var C;(C=this._codeActionOracle.value)===null||C===void 0||C.trigger(v)}setState(v,C){v!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=v,!C&&!g(this,l,"f")&&this._onDidChangeState.fire(v))}}l=new WeakMap},78417:function(Rt,Be,t){"use strict";t.d(Be,{f:function(){return s}});var f=t(34441),O=t(80265),u=t(407),_=t(56709),p=t(38431),V=t(8216),I=t(14818),L=t(6287),E=t(83915),g=t(26386),a=t(62297),l=function(m,b,c,v){var C=arguments.length,S=C<3?b:v===null?v=Object.getOwnPropertyDescriptor(b,c):v,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,b,c,v);else for(var P=m.length-1;P>=0;P--)(N=m[P])&&(S=(C<3?N(S):C>3?N(b,c,S):N(b,c))||S);return C>3&&S&&Object.defineProperty(b,c,S),S},d=function(m,b){return function(c,v){b(c,v,m)}},i;(function(m){m.Hidden={type:0};class b{constructor(v,C,S,N){this.actions=v,this.trigger=C,this.editorPosition=S,this.widgetPosition=N,this.type=1}}m.Showing=b})(i||(i={}));let s=class zc extends p.JT{constructor(b,c){super(),this._editor=b,this._onClick=this._register(new _.Q5),this.onClick=this._onClick.event,this._state=i.Hidden,this._domNode=f.$("div.lightBulbWidget"),this._register(O.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(v=>{const C=this._editor.getModel();(this.state.type!==1||!C||this.state.editorPosition.lineNumber>=C.getLineCount())&&this.hide()})),this._register(f.GQ(this._domNode,v=>{if(this.state.type!==1)return;this._editor.focus(),v.preventDefault();const{top:C,height:S}=f.i(this._domNode),N=this._editor.getOption(64);let P=Math.floor(N/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(P+=N),this._onClick.fire({x:v.posx,y:C+S+P,actions:this.state.actions,trigger:this.state.trigger})})),this._register(f.nm(this._domNode,"mouseenter",v=>{(v.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(v=>{v.hasChanged(62)&&!this._editor.getOption(62).enabled&&this.hide()})),this._register(_.ju.runAndSubscribe(c.onDidUpdateKeybindings,()=>{var v,C;this._preferredKbLabel=(0,I.f6)((v=c.lookupKeybinding(E.pZ))===null||v===void 0?void 0:v.getLabel()),this._quickFixKbLabel=(0,I.f6)((C=c.lookupKeybinding(E.cz))===null||C===void 0?void 0:C.getLabel()),this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(b,c,v){if(b.validActions.length<=0)return this.hide();const C=this._editor.getOptions();if(!C.get(62).enabled)return this.hide();const S=this._editor.getModel();if(!S)return this.hide();const{lineNumber:N,column:P}=S.validatePosition(v),M=S.getOptions().tabSize,D=C.get(48),F=S.getLineContent(N),B=(0,L.q)(F,M),U=D.spaceWidth*B>22,A=R=>R>2&&this._editor.getTopForLineNumber(R)===this._editor.getTopForLineNumber(R-1);let k=N;if(!U){if(N>1&&!A(N-1))k-=1;else if(!A(N+1))k+=1;else if(P*D.spaceWidth<22)return this.hide()}this.state=new i.Showing(b,c,v,{position:{lineNumber:k,column:1},preference:zc._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==i.Hidden&&(this.state=i.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(b){this._state=b,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...V.k.asClassNameArray(u.l.lightBulb)),this._domNode.classList.add(...V.k.asClassNameArray(u.l.lightbulbAutofix)),this._preferredKbLabel)){this.title=g.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel);return}this._domNode.classList.remove(...V.k.asClassNameArray(u.l.lightbulbAutofix)),this._domNode.classList.add(...V.k.asClassNameArray(u.l.lightBulb)),this._quickFixKbLabel?this.title=g.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=g.NC("codeAction","Show Code Actions")}set title(b){this._domNode.title=b}};s.ID="editor.contrib.lightbulbWidget",s._posPref=[0],s=l([d(1,a.d)],s)},66129:function(Rt,Be,t){"use strict";t.d(Be,{EU:function(){return p},Yl:function(){return V},aQ:function(){return _},bA:function(){return E},wZ:function(){return L},yN:function(){return u}});var f=t(20996),O=function(g,a,l,d){function i(s){return s instanceof l?s:new l(function(m){m(s)})}return new(l||(l=Promise))(function(s,m){function b(C){try{v(d.next(C))}catch(S){m(S)}}function c(C){try{v(d.throw(C))}catch(S){m(S)}}function v(C){C.done?s(C.value):i(C.value).then(b,c)}v((d=d.apply(g,a||[])).next())})};class u{constructor(a){this.value=a}equals(a){return this.value===a.value}contains(a){return this.equals(a)||this.value===""||a.value.startsWith(this.value+u.sep)}intersects(a){return this.contains(a)||a.contains(this)}append(a){return new u(this.value+u.sep+a)}}u.sep=".",u.None=new u("@@none@@"),u.Empty=new u(""),u.QuickFix=new u("quickfix"),u.Refactor=new u("refactor"),u.RefactorExtract=u.Refactor.append("extract"),u.RefactorInline=u.Refactor.append("inline"),u.RefactorMove=u.Refactor.append("move"),u.RefactorRewrite=u.Refactor.append("rewrite"),u.Source=new u("source"),u.SourceOrganizeImports=u.Source.append("organizeImports"),u.SourceFixAll=u.Source.append("fixAll"),u.SurroundWith=u.Refactor.append("surround");var _;(function(g){g.Refactor="refactor",g.RefactorPreview="refactor preview",g.Lightbulb="lightbulb",g.Default="other (default)",g.SourceAction="source action",g.QuickFix="quick fix action",g.FixAll="fix all",g.OrganizeImports="organize imports",g.AutoFix="auto fix",g.QuickFixHover="quick fix hover window",g.OnSave="save participants",g.ProblemsView="problems view"})(_||(_={}));function p(g,a){return!(g.include&&!g.include.intersects(a)||g.excludes&&g.excludes.some(l=>I(a,l,g.include))||!g.includeSourceActions&&u.Source.contains(a))}function V(g,a){const l=a.kind?new u(a.kind):void 0;return!(g.include&&(!l||!g.include.contains(l))||g.excludes&&l&&g.excludes.some(d=>I(l,d,g.include))||!g.includeSourceActions&&l&&u.Source.contains(l)||g.onlyIncludePreferredActions&&!a.isPreferred)}function I(g,a,l){return!(!a.contains(g)||l&&a.contains(l))}class L{static fromUser(a,l){return!a||typeof a!="object"?new L(l.kind,l.apply,!1):new L(L.getKindFromUser(a,l.kind),L.getApplyFromUser(a,l.apply),L.getPreferredUser(a))}static getApplyFromUser(a,l){switch(typeof a.apply=="string"?a.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return l}}static getKindFromUser(a,l){return typeof a.kind=="string"?new u(a.kind):l}static getPreferredUser(a){return typeof a.preferred=="boolean"?a.preferred:!1}constructor(a,l,d){this.kind=a,this.apply=l,this.preferred=d}}class E{constructor(a,l){this.action=a,this.provider=l}resolve(a){var l;return O(this,void 0,void 0,function*(){if(!((l=this.provider)===null||l===void 0)&&l.resolveCodeAction&&!this.action.edit){let d;try{d=yield this.provider.resolveCodeAction(this.action,a)}catch(i){(0,f.Cp)(i)}d&&(this.action.edit=d.edit)}return this})}}},40650:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CodeLensContribution:function(){return _e}});var f=t(13484),O=t(20996),u=t(38431),_=t(48423),p=t(55298),V=t(70054),I=t(21081),L=t(97464),E=t(14818),g=t(28919),a=t(65041),l=t(80793),d=t(35921),i=function(pe,le,oe,he){function je(Xe){return Xe instanceof oe?Xe:new oe(function(Ve){Ve(Xe)})}return new(oe||(oe=Promise))(function(Xe,Ve){function se(Se){try{Ee(he.next(Se))}catch(we){Ve(we)}}function q(Se){try{Ee(he.throw(Se))}catch(we){Ve(we)}}function Ee(Se){Se.done?Xe(Se.value):je(Se.value).then(se,q)}Ee((he=he.apply(pe,le||[])).next())})};class s{constructor(){this.lenses=[],this._disposables=new u.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(le,oe){this._disposables.add(le);for(const he of le.lenses)this.lenses.push({symbol:he,provider:oe})}}function m(pe,le,oe){return i(this,void 0,void 0,function*(){const he=pe.ordered(le),je=new Map,Xe=new s,Ve=he.map((se,q)=>i(this,void 0,void 0,function*(){je.set(se,q);try{const Ee=yield Promise.resolve(se.provideCodeLenses(le,oe));Ee&&Xe.add(Ee,se)}catch(Ee){(0,O.Cp)(Ee)}}));return yield Promise.all(Ve),Xe.lenses=Xe.lenses.sort((se,q)=>se.symbol.range.startLineNumber<q.symbol.range.startLineNumber?-1:se.symbol.range.startLineNumber>q.symbol.range.startLineNumber?1:je.get(se.provider)<je.get(q.provider)?-1:je.get(se.provider)>je.get(q.provider)?1:se.symbol.range.startColumn<q.symbol.range.startColumn?-1:se.symbol.range.startColumn>q.symbol.range.startColumn?1:0),Xe})}l.P.registerCommand("_executeCodeLensProvider",function(pe,...le){let[oe,he]=le;(0,E.p_)(g.o.isUri(oe)),(0,E.p_)(typeof he=="number"||!he);const{codeLensProvider:je}=pe.get(d.p),Xe=pe.get(a.q).getModel(oe);if(!Xe)throw(0,O.b1)();const Ve=[],se=new u.SL;return m(je,Xe,L.T.None).then(q=>{se.add(q);const Ee=[];for(const Se of q.lenses)he==null||Se.symbol.command?Ve.push(Se.symbol):he-- >0&&Se.provider.resolveCodeLens&&Ee.push(Promise.resolve(Se.provider.resolveCodeLens(Xe,Se.symbol,L.T.None)).then(we=>Ve.push(we||Se.symbol)));return Promise.all(Ee)}).then(()=>Ve).finally(()=>{setTimeout(()=>se.dispose(),100)})});var b=t(89717),c=t(39832),v=t(50038),C=t(53061),S=t(44333),N=t(63536),P=function(pe,le,oe,he){var je=arguments.length,Xe=je<3?le:he===null?he=Object.getOwnPropertyDescriptor(le,oe):he,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Xe=Reflect.decorate(pe,le,oe,he);else for(var se=pe.length-1;se>=0;se--)(Ve=pe[se])&&(Xe=(je<3?Ve(Xe):je>3?Ve(le,oe,Xe):Ve(le,oe))||Xe);return je>3&&Xe&&Object.defineProperty(le,oe,Xe),Xe},M=function(pe,le){return function(oe,he){le(oe,he,pe)}};const D=(0,S.yh)("ICodeLensCache");class F{constructor(le,oe){this.lineCount=le,this.data=oe}}let B=class{constructor(le){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new c.z6(20,.75);const oe="codelens/cache";(0,f.To)(()=>le.remove(oe,1));const he="codelens/cache2",je=le.get(he,1,"{}");this._deserialize(je),(0,b.I)(le.onWillSaveState)(Xe=>{Xe.reason===N.fk.SHUTDOWN&&le.store(he,this._serialize(),1,1)})}put(le,oe){const he=oe.lenses.map(Ve=>{var se;return{range:Ve.symbol.range,command:Ve.symbol.command&&{id:"",title:(se=Ve.symbol.command)===null||se===void 0?void 0:se.title}}}),je=new s;je.add({lenses:he,dispose:()=>{}},this._fakeProvider);const Xe=new F(le.getLineCount(),je);this._cache.set(le.uri.toString(),Xe)}get(le){const oe=this._cache.get(le.uri.toString());return oe&&oe.lineCount===le.getLineCount()?oe.data:void 0}delete(le){this._cache.delete(le.uri.toString())}_serialize(){const le=Object.create(null);for(const[oe,he]of this._cache){const je=new Set;for(const Xe of he.data.lenses)je.add(Xe.symbol.range.startLineNumber);le[oe]={lineCount:he.lineCount,lines:[...je.values()]}}return JSON.stringify(le)}_deserialize(le){try{const oe=JSON.parse(le);for(const he in oe){const je=oe[he],Xe=[];for(const se of je.lines)Xe.push({range:new v.e(se,1,se,11)});const Ve=new s;Ve.add({lenses:Xe,dispose(){}},this._fakeProvider),this._cache.set(he,new F(je.lineCount,Ve))}}catch(oe){}}};B=P([M(0,N.Uy)],B),(0,C.z)(D,B,1);var U=t(34441),A=t(19111),k=t(45007);class R{constructor(le,oe,he){this.afterColumn=1073741824,this.afterLineNumber=le,this.heightInPx=oe,this._onHeight=he,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(le){this._lastHeight===void 0?this._lastHeight=le:this._lastHeight!==le&&(this._lastHeight=le,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class ${constructor(le,oe){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=le,this._id=`codelens.widget-${$._idPool++}`,this.updatePosition(oe),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(le,oe){this._commands.clear();const he=[];let je=!1;for(let Xe=0;Xe<le.length;Xe++){const Ve=le[Xe];if(Ve&&(je=!0,Ve.command)){const se=(0,A.T)(Ve.command.title.trim());Ve.command.id?(he.push(U.$("a",{id:String(Xe),title:Ve.command.tooltip,role:"button"},...se)),this._commands.set(String(Xe),Ve.command)):he.push(U.$("span",{title:Ve.command.tooltip},...se)),Xe+1<le.length&&he.push(U.$("span",void 0,"\xA0|\xA0"))}}je?(U.mc(this._domNode,...he),this._isEmpty&&oe&&this._domNode.classList.add("fadein"),this._isEmpty=!1):U.mc(this._domNode,U.$("span",void 0,"no commands"))}getCommand(le){return le.parentElement===this._domNode?this._commands.get(le.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(le){const oe=this._editor.getModel().getLineFirstNonWhitespaceColumn(le);this._widgetPosition={position:{lineNumber:le,column:oe},preference:[1]}}getPosition(){return this._widgetPosition||null}}$._idPool=0;class J{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(le,oe){this._addDecorations.push(le),this._addDecorationsCallbacks.push(oe)}removeDecoration(le){this._removeDecorations.push(le)}commit(le){const oe=le.deltaDecorations(this._removeDecorations,this._addDecorations);for(let he=0,je=oe.length;he<je;he++)this._addDecorationsCallbacks[he](oe[he])}}const Y=k.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class j{constructor(le,oe,he,je,Xe,Ve){this._isDisposed=!1,this._editor=oe,this._data=le,this._decorationIds=[];let se;const q=[];this._data.forEach((Ee,Se)=>{Ee.symbol.command&&q.push(Ee.symbol),he.addDecoration({range:Ee.symbol.range,options:Y},we=>this._decorationIds[Se]=we),se?se=v.e.plusRange(se,Ee.symbol.range):se=v.e.lift(Ee.symbol.range)}),this._viewZone=new R(se.startLineNumber-1,Xe,Ve),this._viewZoneId=je.addZone(this._viewZone),q.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(q,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new $(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(le,oe){this._decorationIds.forEach(le.removeDecoration,le),this._decorationIds=[],oe==null||oe.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((le,oe)=>{const he=this._editor.getModel().getDecorationRange(le),je=this._data[oe].symbol;return!!(he&&v.e.isEmpty(je.range)===he.isEmpty())})}updateCodeLensSymbols(le,oe){this._decorationIds.forEach(oe.removeDecoration,oe),this._decorationIds=[],this._data=le,this._data.forEach((he,je)=>{oe.addDecoration({range:he.symbol.range,options:Y},Xe=>this._decorationIds[je]=Xe)})}updateHeight(le,oe){this._viewZone.heightInPx=le,oe.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(le){if(!this._viewZone.isVisible())return null;for(let oe=0;oe<this._decorationIds.length;oe++){const he=le.getDecorationRange(this._decorationIds[oe]);he&&(this._data[oe].symbol.range=he)}return this._data}updateCommands(le){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(le,!0);for(let oe=0;oe<this._data.length;oe++){const he=le[oe];if(he){const{symbol:je}=this._data[oe];je.command=he.command||je.command}}}getCommand(le){var oe;return(oe=this._contentWidget)===null||oe===void 0?void 0:oe.getCommand(le)}getLineNumber(){const le=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return le?le.startLineNumber:-1}update(le){if(this.isValid()){const oe=this._editor.getModel().getDecorationRange(this._decorationIds[0]);oe&&(this._viewZone.afterLineNumber=oe.startLineNumber-1,le.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(oe.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var z=t(26386),K=t(97968),Z=t(38785),fe=t(69060),T=function(pe,le,oe,he){var je=arguments.length,Xe=je<3?le:he===null?he=Object.getOwnPropertyDescriptor(le,oe):he,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Xe=Reflect.decorate(pe,le,oe,he);else for(var se=pe.length-1;se>=0;se--)(Ve=pe[se])&&(Xe=(je<3?Ve(Xe):je>3?Ve(le,oe,Xe):Ve(le,oe))||Xe);return je>3&&Xe&&Object.defineProperty(le,oe,Xe),Xe},Re=function(pe,le){return function(oe,he){le(oe,he,pe)}},Ce=function(pe,le,oe,he){function je(Xe){return Xe instanceof oe?Xe:new oe(function(Ve){Ve(Xe)})}return new(oe||(oe=Promise))(function(Xe,Ve){function se(Se){try{Ee(he.next(Se))}catch(we){Ve(we)}}function q(Se){try{Ee(he.throw(Se))}catch(we){Ve(we)}}function Ee(Se){Se.done?Xe(Se.value):je(Se.value).then(se,q)}Ee((he=he.apply(pe,le||[])).next())})};let _e=class{constructor(le,oe,he,je,Xe,Ve){this._editor=le,this._languageFeaturesService=oe,this._commandService=je,this._notificationService=Xe,this._codeLensCache=Ve,this._disposables=new u.SL,this._localToDispose=new u.SL,this._lenses=[],this._oldCodeLensModels=new u.SL,this._provideCodeLensDebounce=he.for(oe.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=he.for(oe.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new f.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(se=>{(se.hasChanged(48)||se.hasChanged(17)||se.hasChanged(16))&&this._updateLensStyle(),se.hasChanged(15)&&this._onModelChange()})),this._disposables.add(oe.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var le;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(le=this._currentCodeLensModel)===null||le===void 0||le.dispose()}_getLayoutInfo(){const le=Math.max(1.3,this._editor.getOption(64)/this._editor.getOption(50));let oe=this._editor.getOption(17);return(!oe||oe<5)&&(oe=this._editor.getOption(50)*.9|0),{fontSize:oe,codeLensHeight:oe*le|0}}_updateLensStyle(){const{codeLensHeight:le,fontSize:oe}=this._getLayoutInfo(),he=this._editor.getOption(16),je=this._editor.getOption(48),{style:Xe}=this._editor.getContainerDomNode();Xe.setProperty("--vscode-editorCodeLens-lineHeight",`${le}px`),Xe.setProperty("--vscode-editorCodeLens-fontSize",`${oe}px`),Xe.setProperty("--vscode-editorCodeLens-fontFeatureSettings",je.fontFeatureSettings),he&&(Xe.setProperty("--vscode-editorCodeLens-fontFamily",he),Xe.setProperty("--vscode-editorCodeLens-fontFamilyDefault",V.hL.fontFamily)),this._editor.changeViewZones(Ve=>{for(const se of this._lenses)se.updateHeight(le,Ve)})}_localDispose(){var le,oe,he;(le=this._getCodeLensModelPromise)===null||le===void 0||le.cancel(),this._getCodeLensModelPromise=void 0,(oe=this._resolveCodeLensesPromise)===null||oe===void 0||oe.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(he=this._currentCodeLensModel)===null||he===void 0||he.dispose()}_onModelChange(){this._localDispose();const le=this._editor.getModel();if(!le||!this._editor.getOption(15))return;const oe=this._codeLensCache.get(le);if(oe&&this._renderCodeLensSymbols(oe),!this._languageFeaturesService.codeLensProvider.has(le)){oe&&this._localToDispose.add((0,f.Vg)(()=>{const je=this._codeLensCache.get(le);oe===je&&(this._codeLensCache.delete(le),this._onModelChange())},30*1e3));return}for(const je of this._languageFeaturesService.codeLensProvider.all(le))if(typeof je.onDidChange=="function"){const Xe=je.onDidChange(()=>he.schedule());this._localToDispose.add(Xe)}const he=new f.pY(()=>{var je;const Xe=Date.now();(je=this._getCodeLensModelPromise)===null||je===void 0||je.cancel(),this._getCodeLensModelPromise=(0,f.PG)(Ve=>m(this._languageFeaturesService.codeLensProvider,le,Ve)),this._getCodeLensModelPromise.then(Ve=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=Ve,this._codeLensCache.put(le,Ve);const se=this._provideCodeLensDebounce.update(le,Date.now()-Xe);he.delay=se,this._renderCodeLensSymbols(Ve),this._resolveCodeLensesInViewportSoon()},O.dL)},this._provideCodeLensDebounce.get(le));this._localToDispose.add(he),this._localToDispose.add((0,u.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var je;this._editor.changeDecorations(Xe=>{this._editor.changeViewZones(Ve=>{const se=[];let q=-1;this._lenses.forEach(Se=>{!Se.isValid()||q===Se.getLineNumber()?se.push(Se):(Se.update(Ve),q=Se.getLineNumber())});const Ee=new J;se.forEach(Se=>{Se.dispose(Ee,Ve),this._lenses.splice(this._lenses.indexOf(Se),1)}),Ee.commit(Xe)})}),he.schedule(),this._resolveCodeLensesScheduler.cancel(),(je=this._resolveCodeLensesPromise)===null||je===void 0||je.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{he.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(je=>{je.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,u.OF)(()=>{if(this._editor.getModel()){const je=_.Z.capture(this._editor);this._editor.changeDecorations(Xe=>{this._editor.changeViewZones(Ve=>{this._disposeAllLenses(Xe,Ve)})}),je.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(je=>{if(je.target.type!==9)return;let Xe=je.target.element;if((Xe==null?void 0:Xe.tagName)==="SPAN"&&(Xe=Xe.parentElement),(Xe==null?void 0:Xe.tagName)==="A")for(const Ve of this._lenses){const se=Ve.getCommand(Xe);if(se){this._commandService.executeCommand(se.id,...se.arguments||[]).catch(q=>this._notificationService.error(q));break}}})),he.schedule()}_disposeAllLenses(le,oe){const he=new J;for(const je of this._lenses)je.dispose(he,oe);le&&he.commit(le),this._lenses.length=0}_renderCodeLensSymbols(le){if(!this._editor.hasModel())return;const oe=this._editor.getModel().getLineCount(),he=[];let je;for(const se of le.lenses){const q=se.symbol.range.startLineNumber;q<1||q>oe||(je&&je[je.length-1].symbol.range.startLineNumber===q?je.push(se):(je=[se],he.push(je)))}if(!he.length&&!this._lenses.length)return;const Xe=_.Z.capture(this._editor),Ve=this._getLayoutInfo();this._editor.changeDecorations(se=>{this._editor.changeViewZones(q=>{const Ee=new J;let Se=0,we=0;for(;we<he.length&&Se<this._lenses.length;){const ve=he[we][0].symbol.range.startLineNumber,Ne=this._lenses[Se].getLineNumber();Ne<ve?(this._lenses[Se].dispose(Ee,q),this._lenses.splice(Se,1)):Ne===ve?(this._lenses[Se].updateCodeLensSymbols(he[we],Ee),we++,Se++):(this._lenses.splice(Se,0,new j(he[we],this._editor,Ee,q,Ve.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Se++,we++)}for(;Se<this._lenses.length;)this._lenses[Se].dispose(Ee,q),this._lenses.splice(Se,1);for(;we<he.length;)this._lenses.push(new j(he[we],this._editor,Ee,q,Ve.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),we++;Ee.commit(se)})}),Xe.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var le;(le=this._resolveCodeLensesPromise)===null||le===void 0||le.cancel(),this._resolveCodeLensesPromise=void 0;const oe=this._editor.getModel();if(!oe)return;const he=[],je=[];if(this._lenses.forEach(se=>{const q=se.computeIfNecessary(oe);q&&(he.push(q),je.push(se))}),he.length===0)return;const Xe=Date.now(),Ve=(0,f.PG)(se=>{const q=he.map((Ee,Se)=>{const we=new Array(Ee.length),ve=Ee.map((Ne,$e)=>!Ne.symbol.command&&typeof Ne.provider.resolveCodeLens=="function"?Promise.resolve(Ne.provider.resolveCodeLens(oe,Ne.symbol,se)).then(Ke=>{we[$e]=Ke},O.Cp):(we[$e]=Ne.symbol,Promise.resolve(void 0)));return Promise.all(ve).then(()=>{!se.isCancellationRequested&&!je[Se].isDisposed()&&je[Se].updateCommands(we)})});return Promise.all(q)});this._resolveCodeLensesPromise=Ve,this._resolveCodeLensesPromise.then(()=>{const se=this._resolveCodeLensesDebounce.update(oe,Date.now()-Xe);this._resolveCodeLensesScheduler.delay=se,this._currentCodeLensModel&&this._codeLensCache.put(oe,this._currentCodeLensModel),this._oldCodeLensModels.clear(),Ve===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},se=>{(0,O.dL)(se),Ve===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};_e.ID="css.editor.codeLens",_e=T([Re(1,d.p),Re(2,fe.A),Re(3,l.H),Re(4,K.lT),Re(5,D)],_e),(0,p._K)(_e.ID,_e,1),(0,p.Qr)(class extends p.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:I.u.hasCodeLensProvider,label:(0,z.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(le,oe){return Ce(this,void 0,void 0,function*(){if(!oe.hasModel())return;const he=le.get(Z.eJ),je=le.get(l.H),Xe=le.get(K.lT),Ve=oe.getSelection().positionLineNumber,se=oe.getContribution(_e.ID);if(!se)return;const q=se.getModel();if(!q)return;const Ee=[];for(const we of q.lenses)we.symbol.command&&we.symbol.range.startLineNumber===Ve&&Ee.push({label:we.symbol.command.title,command:we.symbol.command});if(Ee.length===0)return;const Se=yield he.pick(Ee,{canPickMany:!1});if(Se){if(q.isDisposed)return yield je.executeCommand(this.id);try{yield je.executeCommand(Se.command.id,...Se.command.arguments||[])}catch(we){Xe.error(we)}}})}})},43235:function(Rt,Be,t){"use strict";t.d(Be,{E:function(){return a},R:function(){return l}});var f=t(97464),O=t(20996),u=t(28919),_=t(50038),p=t(65041),V=t(80793),I=t(35921),L=t(89698),E=t(71177),g=function(c,v,C,S){function N(P){return P instanceof C?P:new C(function(M){M(P)})}return new(C||(C=Promise))(function(P,M){function D(U){try{B(S.next(U))}catch(A){M(A)}}function F(U){try{B(S.throw(U))}catch(A){M(A)}}function B(U){U.done?P(U.value):N(U.value).then(D,F)}B((S=S.apply(c,v||[])).next())})};function a(c,v,C,S=!0){return g(this,void 0,void 0,function*(){return m(new d,c,v,C,S)})}function l(c,v,C,S){return Promise.resolve(C.provideColorPresentations(c,v,S))}class d{constructor(){}compute(v,C,S,N){return g(this,void 0,void 0,function*(){const P=yield v.provideDocumentColors(C,S);if(Array.isArray(P))for(const M of P)N.push({colorInfo:M,provider:v});return Array.isArray(P)})}}class i{constructor(){}compute(v,C,S,N){return g(this,void 0,void 0,function*(){const P=yield v.provideDocumentColors(C,S);if(Array.isArray(P))for(const M of P)N.push({range:M.range,color:[M.color.red,M.color.green,M.color.blue,M.color.alpha]});return Array.isArray(P)})}}class s{constructor(v){this.colorInfo=v}compute(v,C,S,N){return g(this,void 0,void 0,function*(){const P=yield v.provideColorPresentations(C,this.colorInfo,f.T.None);return Array.isArray(P)&&N.push(...P),Array.isArray(P)})}}function m(c,v,C,S,N){return g(this,void 0,void 0,function*(){let P=!1,M;const D=[],F=v.ordered(C);for(let B=F.length-1;B>=0;B--){const U=F[B];if(U instanceof L.G)M=U;else try{(yield c.compute(U,C,S,D))&&(P=!0)}catch(A){(0,O.Cp)(A)}}return P?D:M&&N?(yield c.compute(M,C,S,D),D):[]})}function b(c,v){const{colorProvider:C}=c.get(I.p),S=c.get(p.q).getModel(v);if(!S)throw(0,O.b1)();const N=c.get(E.Ui).getValue("editor.defaultColorDecorators",{resource:v});return{model:S,colorProviderRegistry:C,isDefaultColorDecoratorsEnabled:N}}V.P.registerCommand("_executeDocumentColorProvider",function(c,...v){const[C]=v;if(!(C instanceof u.o))throw(0,O.b1)();const{model:S,colorProviderRegistry:N,isDefaultColorDecoratorsEnabled:P}=b(c,C);return m(new i,N,S,f.T.None,P)}),V.P.registerCommand("_executeColorPresentationProvider",function(c,...v){const[C,S]=v,{uri:N,range:P}=S;if(!(N instanceof u.o)||!Array.isArray(C)||C.length!==4||!_.e.isIRange(P))throw(0,O.b1)();const{model:M,colorProviderRegistry:D,isDefaultColorDecoratorsEnabled:F}=b(c,N),[B,U,A,k]=C;return m(new s({range:P,color:{red:B,green:U,blue:A,alpha:k}}),D,M,f.T.None,F)})},53114:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{ColorContribution:function(){return L}});var f=t(38431),O=t(55298),u=t(50038),_=t(74319),p=t(27045),V=t(83776),I=t(72223);class L extends f.JT{constructor(g){super(),this._editor=g,this._register(g.onMouseDown(a=>this.onMouseDown(a)))}dispose(){super.dispose()}onMouseDown(g){const a=g.target;if(a.type!==6||!a.detail.injectedText||a.detail.injectedText.options.attachedData!==_.Ak||!a.range)return;const l=this._editor.getContribution(V.ModesHoverController.ID);if(l&&!l.isColorPickerVisible()){const d=new u.e(a.range.startLineNumber,a.range.startColumn+1,a.range.endLineNumber,a.range.endColumn+1);l.showContentHover(d,1,0,!1)}}}L.ID="editor.contrib.colorContribution",(0,O._K)(L.ID,L,2),I.Ae.register(p.nh)},74319:function(Rt,Be,t){"use strict";t.d(Be,{Ak:function(){return v},if:function(){return C}});var f=t(13484),O=t(86741),u=t(20996),_=t(56709),p=t(38431),V=t(69344),I=t(17416),L=t(31396),E=t(55298),g=t(50038),a=t(45007),l=t(69060),d=t(35921),i=t(43235),s=t(71177),m=function(N,P,M,D){var F=arguments.length,B=F<3?P:D===null?D=Object.getOwnPropertyDescriptor(P,M):D,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,P,M,D);else for(var A=N.length-1;A>=0;A--)(U=N[A])&&(B=(F<3?U(B):F>3?U(P,M,B):U(P,M))||B);return F>3&&B&&Object.defineProperty(P,M,B),B},b=function(N,P){return function(M,D){P(M,D,N)}},c=function(N,P,M,D){function F(B){return B instanceof M?B:new M(function(U){U(B)})}return new(M||(M=Promise))(function(B,U){function A($){try{R(D.next($))}catch(J){U(J)}}function k($){try{R(D.throw($))}catch(J){U(J)}}function R($){$.done?B($.value):F($.value).then(A,k)}R((D=D.apply(N,P||[])).next())})};const v=Object.create({});let C=class jc extends p.JT{constructor(P,M,D,F){super(),this._editor=P,this._configurationService=M,this._languageFeaturesService=D,this._localToDispose=this._register(new p.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new L.t7(this._editor),this._decoratorLimitReporter=new S,this._colorDecorationClassRefs=this._register(new p.SL),this._debounceInformation=F.for(D.colorProvider,"Document Colors",{min:jc.RECOMPUTE_TIME}),this._register(P.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(P.onDidChangeModelLanguage(()=>this.updateColors())),this._register(D.colorProvider.onDidChange(()=>this.updateColors())),this._register(P.onDidChangeConfiguration(B=>{const U=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(142);const A=U!==this._isColorDecoratorsEnabled||B.hasChanged(19),k=B.hasChanged(142);(A||k)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(142),this.updateColors()}isEnabled(){const P=this._editor.getModel();if(!P)return!1;const M=P.getLanguageId(),D=this._configurationService.getValue(M);if(D&&typeof D=="object"){const F=D.colorDecorators;if(F&&F.enable!==void 0&&!F.enable)return F.enable}return this._editor.getOption(18)}static get(P){return P.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const P=this._editor.getModel();!P||!this._languageFeaturesService.colorProvider.has(P)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new f._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(P)))})),this.beginCompute())}beginCompute(){return c(this,void 0,void 0,function*(){this._computePromise=(0,f.PG)(P=>c(this,void 0,void 0,function*(){const M=this._editor.getModel();if(!M)return[];const D=new V.G(!1),F=yield(0,i.E)(this._languageFeaturesService.colorProvider,M,P,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(M,D.elapsed()),F}));try{const P=yield this._computePromise;this.updateDecorations(P),this.updateColorDecorators(P),this._computePromise=null}catch(P){(0,u.dL)(P)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(P){const M=P.map(D=>({range:{startLineNumber:D.colorInfo.range.startLineNumber,startColumn:D.colorInfo.range.startColumn,endLineNumber:D.colorInfo.range.endLineNumber,endColumn:D.colorInfo.range.endColumn},options:a.qx.EMPTY}));this._editor.changeDecorations(D=>{this._decorationsIds=D.deltaDecorations(this._decorationsIds,M),this._colorDatas=new Map,this._decorationsIds.forEach((F,B)=>this._colorDatas.set(F,P[B]))})}updateColorDecorators(P){this._colorDecorationClassRefs.clear();const M=[],D=this._editor.getOption(19);for(let B=0;B<P.length&&M.length<D;B++){const{red:U,green:A,blue:k,alpha:R}=P[B].colorInfo.color,$=new O.VS(Math.round(U*255),Math.round(A*255),Math.round(k*255),R),J=`rgba(${$.r}, ${$.g}, ${$.b}, ${$.a})`,Y=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:J}));M.push({range:{startLineNumber:P[B].colorInfo.range.startLineNumber,startColumn:P[B].colorInfo.range.startColumn,endLineNumber:P[B].colorInfo.range.endLineNumber,endColumn:P[B].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:I.B4,inlineClassName:`${Y.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:v}}})}const F=D<P.length?D:!1;this._decoratorLimitReporter.update(P.length,F),this._colorDecoratorIds.set(M)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(P){const M=this._editor.getModel();if(!M)return null;const D=M.getDecorationsInRange(g.e.fromPositions(P,P)).filter(F=>this._colorDatas.has(F.id));return D.length===0?null:this._colorDatas.get(D[0].id)}isColorDecoration(P){return this._colorDecoratorIds.has(P)}};C.ID="editor.contrib.colorDetector",C.RECOMPUTE_TIME=1e3,C=m([b(1,s.Ui),b(2,d.p),b(3,l.A)],C);class S{constructor(){this._onDidChange=new _.Q5,this._computed=0,this._limited=!1}update(P,M){(P!==this._computed||M!==this._limited)&&(this._computed=P,this._limited=M,this._onDidChange.fire())}}(0,E._K)(C.ID,C,1)},27045:function(Rt,Be,t){"use strict";t.d(Be,{nh:function(){return j},PQ:function(){return K}});var f=t(13484),O=t(97464),u=t(86741),_=t(38431),p=t(50038),V=t(43235),I=t(74319),L=t(56709);class E{get color(){return this._color}set color(_e){this._color.equals(_e)||(this._color=_e,this._onDidChangeColor.fire(_e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(_e){this._colorPresentations=_e,this.presentationIndex>_e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(_e,pe,le){this.presentationIndex=le,this._onColorFlushed=new L.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new L.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new L.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=_e,this._color=_e,this._colorPresentations=pe}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(_e,pe){let le=-1;for(let oe=0;oe<this.colorPresentations.length;oe++)if(pe.toLowerCase()===this.colorPresentations[oe].label){le=oe;break}if(le===-1){const oe=pe.split("(")[0].toLowerCase();for(let he=0;he<this.colorPresentations.length;he++)if(this.colorPresentations[he].label.toLowerCase().startsWith(oe)){le=he;break}}le!==-1&&le!==this.presentationIndex&&(this.presentationIndex=le,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var g=t(71488),a=t(34441),l=t(97314),d=t(88305),i=t(407),s=t(8216),m=t(21548),b=t(26386),c=t(92537),v=t(89528);const C=a.$;class S extends _.JT{constructor(_e,pe,le,oe=!1){super(),this.model=pe,this.showingStandaloneColorPicker=oe,this._closeButton=null,this._domNode=C(".colorpicker-header"),a.R3(_e,this._domNode),this._pickedColorNode=a.R3(this._domNode,C(".picked-color"));const he=(0,b.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",he),this._originalColorNode=a.R3(this._domNode,C(".original-color")),this._originalColorNode.style.backgroundColor=u.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=le.getColorTheme().getColor(c.yJx)||u.Il.white,this._register(le.onDidColorThemeChange(je=>{this.backgroundColor=je.getColor(c.yJx)||u.Il.white})),this._register(a.nm(this._pickedColorNode,a.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(a.nm(this._originalColorNode,a.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(pe.onDidChangeColor(this.onDidChangeColor,this)),this._register(pe.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=u.Il.Format.CSS.format(pe.color)||"",this._pickedColorNode.classList.toggle("light",pe.color.rgba.a<.5?this.backgroundColor.isLighter():pe.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new N(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(_e){this._pickedColorNode.style.backgroundColor=u.Il.Format.CSS.format(_e)||"",this._pickedColorNode.classList.toggle("light",_e.rgba.a<.5?this.backgroundColor.isLighter():_e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this._pickedColorNode.prepend(C(".codicon.codicon-color-mode"))}}class N extends _.JT{constructor(_e){super(),this._onClicked=this._register(new L.Q5),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),a.R3(_e,this._button);const pe=document.createElement("div");pe.classList.add("close-button-inner-div"),a.R3(this._button,pe),a.R3(pe,C(".button"+s.k.asCSSSelector((0,v.q5)("color-picker-close",i.l.close,(0,b.NC)("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class P extends _.JT{constructor(_e,pe,le,oe=!1){super(),this.model=pe,this.pixelRatio=le,this._insertButton=null,this._domNode=C(".colorpicker-body"),a.R3(_e,this._domNode),this._saturationBox=new M(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new F(this._domNode,this.model,oe),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new B(this._domNode,this.model,oe),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),oe&&(this._insertButton=this._register(new U(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:_e,v:pe}){const le=this.model.color.hsva;this.model.color=new u.Il(new u.tx(le.h,_e,pe,le.a))}onDidOpacityChange(_e){const pe=this.model.color.hsva;this.model.color=new u.Il(new u.tx(pe.h,pe.s,pe.v,_e))}onDidHueChange(_e){const pe=this.model.color.hsva,le=(1-_e)*360;this.model.color=new u.Il(new u.tx(le===360?0:le,pe.s,pe.v,pe.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class M extends _.JT{constructor(_e,pe,le){super(),this.model=pe,this.pixelRatio=le,this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new L.Q5,this.onColorFlushed=this._onColorFlushed.event,this._domNode=C(".saturation-wrap"),a.R3(_e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",a.R3(this._domNode,this._canvas),this.selection=C(".saturation-selection"),a.R3(this._domNode,this.selection),this.layout(),this._register(a.nm(this._domNode,a.tw.POINTER_DOWN,oe=>this.onPointerDown(oe))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(_e){if(!_e.target||!(_e.target instanceof Element))return;this.monitor=this._register(new l.C);const pe=a.i(this._domNode);_e.target!==this.selection&&this.onDidChangePosition(_e.offsetX,_e.offsetY),this.monitor.startMonitoring(_e.target,_e.pointerId,_e.buttons,oe=>this.onDidChangePosition(oe.pageX-pe.left,oe.pageY-pe.top),()=>null);const le=a.nm(document,a.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),le.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(_e,pe){const le=Math.max(0,Math.min(1,_e/this.width)),oe=Math.max(0,Math.min(1,1-pe/this.height));this.paintSelection(le,oe),this._onDidChange.fire({s:le,v:oe})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const _e=this.model.color.hsva;this.paintSelection(_e.s,_e.v)}paint(){const _e=this.model.color.hsva,pe=new u.Il(new u.tx(_e.h,1,1,1)),le=this._canvas.getContext("2d"),oe=le.createLinearGradient(0,0,this._canvas.width,0);oe.addColorStop(0,"rgba(255, 255, 255, 1)"),oe.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),oe.addColorStop(1,"rgba(255, 255, 255, 0)");const he=le.createLinearGradient(0,0,0,this._canvas.height);he.addColorStop(0,"rgba(0, 0, 0, 0)"),he.addColorStop(1,"rgba(0, 0, 0, 1)"),le.rect(0,0,this._canvas.width,this._canvas.height),le.fillStyle=u.Il.Format.CSS.format(pe),le.fill(),le.fillStyle=oe,le.fill(),le.fillStyle=he,le.fill()}paintSelection(_e,pe){this.selection.style.left=`${_e*this.width}px`,this.selection.style.top=`${this.height-pe*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class D extends _.JT{constructor(_e,pe,le=!1){super(),this.model=pe,this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new L.Q5,this.onColorFlushed=this._onColorFlushed.event,le?(this.domNode=a.R3(_e,C(".standalone-strip")),this.overlay=a.R3(this.domNode,C(".standalone-overlay"))):(this.domNode=a.R3(_e,C(".strip")),this.overlay=a.R3(this.domNode,C(".overlay"))),this.slider=a.R3(this.domNode,C(".slider")),this.slider.style.top="0px",this._register(a.nm(this.domNode,a.tw.POINTER_DOWN,oe=>this.onPointerDown(oe))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const _e=this.getValue(this.model.color);this.updateSliderPosition(_e)}onPointerDown(_e){if(!_e.target||!(_e.target instanceof Element))return;const pe=this._register(new l.C),le=a.i(this.domNode);this.domNode.classList.add("grabbing"),_e.target!==this.slider&&this.onDidChangeTop(_e.offsetY),pe.startMonitoring(_e.target,_e.pointerId,_e.buttons,he=>this.onDidChangeTop(he.pageY-le.top),()=>null);const oe=a.nm(document,a.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),oe.dispose(),pe.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(_e){const pe=Math.max(0,Math.min(1,1-_e/this.height));this.updateSliderPosition(pe),this._onDidChange.fire(pe)}updateSliderPosition(_e){this.slider.style.top=`${(1-_e)*this.height}px`}}class F extends D{constructor(_e,pe,le=!1){super(_e,pe,le),this.domNode.classList.add("opacity-strip"),this._register(pe.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(_e){const{r:pe,g:le,b:oe}=_e.rgba,he=new u.Il(new u.VS(pe,le,oe,1)),je=new u.Il(new u.VS(pe,le,oe,0));this.overlay.style.background=`linear-gradient(to bottom, ${he} 0%, ${je} 100%)`}getValue(_e){return _e.hsva.a}}class B extends D{constructor(_e,pe,le=!1){super(_e,pe,le),this.domNode.classList.add("hue-strip")}getValue(_e){return 1-_e.hsva.h/360}}class U extends _.JT{constructor(_e){super(),this._onClicked=this._register(new L.Q5),this.onClicked=this._onClicked.event,this._button=a.R3(_e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=pe=>{this._onClicked.fire()}}get button(){return this._button}}class A extends d.${constructor(_e,pe,le,oe,he=!1){super(),this.model=pe,this.pixelRatio=le,this._register(g.PixelRatio.onDidChange(()=>this.layout()));const je=C(".colorpicker-widget");_e.appendChild(je),this.header=this._register(new S(je,this.model,oe,he)),this.body=this._register(new P(je,this.model,this.pixelRatio,he))}layout(){this.body.layout()}}var k=t(58566),R=function(Ce,_e,pe,le){var oe=arguments.length,he=oe<3?_e:le===null?le=Object.getOwnPropertyDescriptor(_e,pe):le,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(Ce,_e,pe,le);else for(var Xe=Ce.length-1;Xe>=0;Xe--)(je=Ce[Xe])&&(he=(oe<3?je(he):oe>3?je(_e,pe,he):je(_e,pe))||he);return oe>3&&he&&Object.defineProperty(_e,pe,he),he},$=function(Ce,_e){return function(pe,le){_e(pe,le,Ce)}},J=function(Ce,_e,pe,le){function oe(he){return he instanceof pe?he:new pe(function(je){je(he)})}return new(pe||(pe=Promise))(function(he,je){function Xe(q){try{se(le.next(q))}catch(Ee){je(Ee)}}function Ve(q){try{se(le.throw(q))}catch(Ee){je(Ee)}}function se(q){q.done?he(q.value):oe(q.value).then(Xe,Ve)}se((le=le.apply(Ce,_e||[])).next())})};class Y{constructor(_e,pe,le,oe){this.owner=_e,this.range=pe,this.model=le,this.provider=oe,this.forceShowAtRange=!0}isValidForHoverAnchor(_e){return _e.type===1&&this.range.startColumn<=_e.range.startColumn&&this.range.endColumn>=_e.range.endColumn}}let j=class{constructor(_e,pe){this._editor=_e,this._themeService=pe,this.hoverOrdinal=2}computeSync(_e,pe){return[]}computeAsync(_e,pe,le){return f.Aq.fromPromise(this._computeAsync(_e,pe,le))}_computeAsync(_e,pe,le){return J(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const oe=I.if.get(this._editor);if(!oe)return[];for(const he of pe){if(!oe.isColorDecoration(he))continue;const je=oe.getColorData(he.range.getStartPosition());if(je)return[yield Z(this,this._editor.getModel(),je.colorInfo,je.provider)]}return[]})}renderHoverParts(_e,pe){return fe(this,this._editor,this._themeService,pe,_e)}};j=R([$(1,k.XE)],j);class z{constructor(_e,pe,le,oe){this.owner=_e,this.range=pe,this.model=le,this.provider=oe}}let K=class{constructor(_e,pe){this._editor=_e,this._themeService=pe,this._color=null}createColorHover(_e,pe,le){return J(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!I.if.get(this._editor))return null;const he=yield(0,V.E)(le,this._editor.getModel(),O.T.None);let je=null,Xe=null;for(const Ee of he){const Se=Ee.colorInfo;p.e.containsRange(Se.range,_e.range)&&(je=Se,Xe=Ee.provider)}const Ve=je!=null?je:_e,se=Xe!=null?Xe:pe,q=!!je;return{colorHover:yield Z(this,this._editor.getModel(),Ve,se),foundInEditor:q}})}updateEditorModel(_e){return J(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const pe=_e.model;let le=new p.e(_e.range.startLineNumber,_e.range.startColumn,_e.range.endLineNumber,_e.range.endColumn);this._color&&(yield Re(this._editor.getModel(),pe,this._color,le,_e),le=T(this._editor,le,pe))})}renderHoverParts(_e,pe){return fe(this,this._editor,this._themeService,pe,_e)}set color(_e){this._color=_e}get color(){return this._color}};K=R([$(1,k.XE)],K);function Z(Ce,_e,pe,le){return J(this,void 0,void 0,function*(){const oe=_e.getValueInRange(pe.range),{red:he,green:je,blue:Xe,alpha:Ve}=pe.color,se=new u.VS(Math.round(he*255),Math.round(je*255),Math.round(Xe*255),Ve),q=new u.Il(se),Ee=yield(0,V.R)(_e,pe,le,O.T.None),Se=new E(q,[],0);return Se.colorPresentations=Ee||[],Se.guessColorPresentation(q,oe),Ce instanceof j?new Y(Ce,p.e.lift(pe.range),Se,le):new z(Ce,p.e.lift(pe.range),Se,le)})}function fe(Ce,_e,pe,le,oe){if(le.length===0||!_e.hasModel())return _.JT.None;const he=new _.SL,je=le[0],Xe=_e.getModel(),Ve=je.model,se=he.add(new A(oe.fragment,Ve,_e.getOption(138),pe,Ce instanceof K));oe.setColorPicker(se);let q=new p.e(je.range.startLineNumber,je.range.startColumn,je.range.endLineNumber,je.range.endColumn);if(Ce instanceof K){const Ee=le[0].model.color;Ce.color=Ee,Re(Xe,Ve,Ee,q,je),he.add(Ve.onColorFlushed(Se=>{Ce.color=Se}))}else he.add(Ve.onColorFlushed(Ee=>J(this,void 0,void 0,function*(){yield Re(Xe,Ve,Ee,q,je),q=T(_e,q,Ve,oe)})));return he.add(Ve.onDidChangeColor(Ee=>{Re(Xe,Ve,Ee,q,je)})),he}function T(Ce,_e,pe,le){let oe,he;if(pe.presentation.textEdit){oe=[pe.presentation.textEdit],he=new p.e(pe.presentation.textEdit.range.startLineNumber,pe.presentation.textEdit.range.startColumn,pe.presentation.textEdit.range.endLineNumber,pe.presentation.textEdit.range.endColumn);const je=Ce.getModel()._setTrackedRange(null,he,3);Ce.pushUndoStop(),Ce.executeEdits("colorpicker",oe),he=Ce.getModel()._getTrackedRange(je)||he}else oe=[{range:_e,text:pe.presentation.label,forceMoveMarkers:!1}],he=_e.setEndPosition(_e.endLineNumber,_e.startColumn+pe.presentation.label.length),Ce.pushUndoStop(),Ce.executeEdits("colorpicker",oe);return pe.presentation.additionalTextEdits&&(oe=[...pe.presentation.additionalTextEdits],Ce.executeEdits("colorpicker",oe),le&&le.hide()),Ce.pushUndoStop(),he}function Re(Ce,_e,pe,le,oe){return J(this,void 0,void 0,function*(){const he=yield(0,V.R)(Ce,{range:le,color:{red:pe.rgba.r/255,green:pe.rgba.g/255,blue:pe.rgba.b/255,alpha:pe.rgba.a}},oe.provider,O.T.None);_e.colorPresentations=he||[]})}},89698:function(Rt,Be,t){"use strict";t.d(Be,{G:function(){return a}});var f=t(86741),O=t(41364),u=t(65041),_=t(64603),p=t(38431),V=t(35921),I=t(56072),L=function(d,i,s,m){var b=arguments.length,c=b<3?i:m===null?m=Object.getOwnPropertyDescriptor(i,s):m,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(d,i,s,m);else for(var C=d.length-1;C>=0;C--)(v=d[C])&&(c=(b<3?v(c):b>3?v(i,s,c):v(i,s))||c);return b>3&&c&&Object.defineProperty(i,s,c),c},E=function(d,i){return function(s,m){i(s,m,d)}},g=function(d,i,s,m){function b(c){return c instanceof s?c:new s(function(v){v(c)})}return new(s||(s=Promise))(function(c,v){function C(P){try{N(m.next(P))}catch(M){v(M)}}function S(P){try{N(m.throw(P))}catch(M){v(M)}}function N(P){P.done?c(P.value):b(P.value).then(C,S)}N((m=m.apply(d,i||[])).next())})};class a{constructor(i,s){this._editorWorkerClient=new O.Q8(i,!1,"editorWorkerService",s)}provideDocumentColors(i,s){return g(this,void 0,void 0,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(i.uri)})}provideColorPresentations(i,s,m){const b=s.range,c=s.color,v=c.alpha,C=new f.Il(new f.VS(Math.round(255*c.red),Math.round(255*c.green),Math.round(255*c.blue),v)),S=v?f.Il.Format.CSS.formatRGB(C):f.Il.Format.CSS.formatRGBA(C),N=v?f.Il.Format.CSS.formatHSL(C):f.Il.Format.CSS.formatHSLA(C),P=v?f.Il.Format.CSS.formatHex(C):f.Il.Format.CSS.formatHexA(C),M=[];return M.push({label:S,textEdit:{range:b,text:S}}),M.push({label:N,textEdit:{range:b,text:N}}),M.push({label:P,textEdit:{range:b,text:P}}),M}}let l=class extends p.JT{constructor(i,s,m){super(),this._register(m.colorProvider.register("*",new a(i,s)))}};l=L([E(0,u.q),E(1,_.c_),E(2,V.p)],l),(0,I.y)(l)},76471:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{ShowOrFocusStandaloneColorPicker:function(){return F}});var f=t(55298),O=t(26386),u=t(38431),_=t(27045),p=t(44333),V=t(58806),I=t(62297),L=t(56709),E=t(35921),g=t(21081),a=t(76826),l=t(65041),d=t(64603),i=t(89698),s=t(34441),m=t(21548),b=function(A,k,R,$){var J=arguments.length,Y=J<3?k:$===null?$=Object.getOwnPropertyDescriptor(k,R):$,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(A,k,R,$);else for(var z=A.length-1;z>=0;z--)(j=A[z])&&(Y=(J<3?j(Y):J>3?j(k,R,Y):j(k,R))||Y);return J>3&&Y&&Object.defineProperty(k,R,Y),Y},c=function(A,k){return function(R,$){k(R,$,A)}},v=function(A,k,R,$){function J(Y){return Y instanceof R?Y:new R(function(j){j(Y)})}return new(R||(R=Promise))(function(Y,j){function z(fe){try{Z($.next(fe))}catch(T){j(T)}}function K(fe){try{Z($.throw(fe))}catch(T){j(T)}}function Z(fe){fe.done?Y(fe.value):J(fe.value).then(z,K)}Z(($=$.apply(A,k||[])).next())})};let C=class Kc extends u.JT{constructor(k,R,$,J,Y,j,z){super(),this._editor=k,this._modelService=$,this._keybindingService=J,this._instantiationService=Y,this._languageFeatureService=j,this._languageConfigurationService=z,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=g.u.standaloneColorPickerVisible.bindTo(R),this._standaloneColorPickerFocused=g.u.standaloneColorPickerFocused.bindTo(R)}showOrFocus(){var k;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(k=this._standaloneColorPickerWidget)===null||k===void 0||k.focus():this._standaloneColorPickerWidget=new P(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var k;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(k=this._standaloneColorPickerWidget)===null||k===void 0||k.hide(),this._editor.focus()}insertColor(){var k;(k=this._standaloneColorPickerWidget)===null||k===void 0||k.updateEditor(),this.hide()}static get(k){return k.getContribution(Kc.ID)}};C.ID="editor.contrib.standaloneColorPickerController",C=b([c(1,a.i6),c(2,l.q),c(3,I.d),c(4,p.TG),c(5,E.p),c(6,d.c_)],C),(0,f._K)(C.ID,C,1);const S=8,N=22;let P=class $c extends u.JT{constructor(k,R,$,J,Y,j,z,K){var Z;super(),this._editor=k,this._standaloneColorPickerVisible=R,this._standaloneColorPickerFocused=$,this._modelService=Y,this._keybindingService=j,this._languageFeaturesService=z,this._languageConfigurationService=K,this.body=document.createElement("div"),this._position=void 0,this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new L.Q5),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=J.createInstance(_.PQ,this._editor),this._position=(Z=this._editor._getViewModel())===null||Z===void 0?void 0:Z.getPrimaryCursorState().viewState.position;const fe=this._editor.getSelection(),T=fe?{startLineNumber:fe.startLineNumber,startColumn:fe.startColumn,endLineNumber:fe.endLineNumber,endColumn:fe.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},Re=this._register(s.go(this.body));this._register(Re.onDidBlur(Ce=>{this.hide()})),this._register(Re.onDidFocus(Ce=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(Ce=>{var _e;const pe=(_e=Ce.target.element)===null||_e===void 0?void 0:_e.classList;pe&&pe.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(Ce=>{this._render(Ce.value,Ce.foundInEditor)})),this._start(T),this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return $c.ID}getDomNode(){return this.body}getPosition(){if(!this._position)return null;const k=this._editor.getOption(58).above;return{position:this._position,secondaryPosition:this._position,preference:k?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this.body.focus()}_start(k){return v(this,void 0,void 0,function*(){const R=yield this._computeAsync(k);R&&this._onResult.fire(new M(R.result,R.foundInEditor))})}_computeAsync(k){return v(this,void 0,void 0,function*(){if(!this._editor.hasModel())return null;const R={range:k,color:{red:0,green:0,blue:0,alpha:1}},$=yield this._standaloneColorPickerParticipant.createColorHover(R,new i.G(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return $?{result:$.colorHover,foundInEditor:$.foundInEditor}:null})}_render(k,R){const $=document.createDocumentFragment(),J=this._register(new V.mR(this._keybindingService));let Y;const j={fragment:$,statusBar:J,setColorPicker:pe=>Y=pe,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=k,this._register(this._standaloneColorPickerParticipant.renderHoverParts(j,[k])),Y===void 0)return;this.body.classList.add("standalone-colorpicker-body"),this.body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this.body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this.body.tabIndex=0,this.body.appendChild($),Y.layout();const z=Y.body,K=z.saturationBox.domNode.clientWidth,Z=z.domNode.clientWidth-K-N-S,fe=Y.body.enterButton;fe==null||fe.onClicked(()=>{this.updateEditor(),this.hide()});const T=Y.header,Re=T.pickedColorNode;Re.style.width=K+S+"px";const Ce=T.originalColorNode;Ce.style.width=Z+"px";const _e=Y.header.closeButton;_e==null||_e.onClicked(()=>{this.hide()}),R&&(fe&&(fe.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(k.range)),this._editor.layoutContentWidget(this)}};P.ID="editor.contrib.standaloneColorPickerWidget",P=b([c(3,p.TG),c(4,l.q),c(5,I.d),c(6,E.p),c(7,d.c_)],P);class M{constructor(k,R){this.value=k,this.foundInEditor=R}}var D=t(21208);class F extends f.x1{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,O.NC)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:(0,O.NC)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:D.eH.CommandPalette}]})}runEditorCommand(k,R){var $;($=C.get(R))===null||$===void 0||$.showOrFocus()}}class B extends f.R6{constructor(){super({id:"editor.action.hideColorPicker",label:(0,O.NC)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:g.u.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(k,R){var $;($=C.get(R))===null||$===void 0||$.hide()}}class U extends f.R6{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,O.NC)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:g.u.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(k,R){var $;($=C.get(R))===null||$===void 0||$.insertColor()}}(0,f.Qr)(B),(0,f.Qr)(U),(0,D.r1)(F)},21678:function(Rt,Be,t){"use strict";t.r(Be);var f=t(94880),O=t(55298),u=t(50038),_=t(21081),p=t(64603),V=t(19083),I=t(8964),L=t(57841);class E{constructor(C,S,N){this.languageConfigurationService=N,this._selection=C,this._insertSpace=S,this._usedEndToken=null}static _haystackHasNeedleAtOffset(C,S,N){if(N<0)return!1;const P=S.length,M=C.length;if(N+P>M)return!1;for(let D=0;D<P;D++){const F=C.charCodeAt(N+D),B=S.charCodeAt(D);if(F!==B&&!(F>=65&&F<=90&&F+32===B)&&!(B>=65&&B<=90&&B+32===F))return!1}return!0}_createOperationsForBlockComment(C,S,N,P,M,D){const F=C.startLineNumber,B=C.startColumn,U=C.endLineNumber,A=C.endColumn,k=M.getLineContent(F),R=M.getLineContent(U);let $=k.lastIndexOf(S,B-1+S.length),J=R.indexOf(N,A-1-N.length);if($!==-1&&J!==-1)if(F===U)k.substring($+S.length,J).indexOf(N)>=0&&($=-1,J=-1);else{const j=k.substring($+S.length),z=R.substring(0,J);(j.indexOf(N)>=0||z.indexOf(N)>=0)&&($=-1,J=-1)}let Y;$!==-1&&J!==-1?(P&&$+S.length<k.length&&k.charCodeAt($+S.length)===32&&(S=S+" "),P&&J>0&&R.charCodeAt(J-1)===32&&(N=" "+N,J-=1),Y=E._createRemoveBlockCommentOperations(new u.e(F,$+S.length+1,U,J+1),S,N)):(Y=E._createAddBlockCommentOperations(C,S,N,this._insertSpace),this._usedEndToken=Y.length===1?N:null);for(const j of Y)D.addTrackedEditOperation(j.range,j.text)}static _createRemoveBlockCommentOperations(C,S,N){const P=[];return u.e.isEmpty(C)?P.push(V.h.delete(new u.e(C.startLineNumber,C.startColumn-S.length,C.endLineNumber,C.endColumn+N.length))):(P.push(V.h.delete(new u.e(C.startLineNumber,C.startColumn-S.length,C.startLineNumber,C.startColumn))),P.push(V.h.delete(new u.e(C.endLineNumber,C.endColumn,C.endLineNumber,C.endColumn+N.length)))),P}static _createAddBlockCommentOperations(C,S,N,P){const M=[];return u.e.isEmpty(C)?M.push(V.h.replace(new u.e(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn),S+"  "+N)):(M.push(V.h.insert(new I.L(C.startLineNumber,C.startColumn),S+(P?" ":""))),M.push(V.h.insert(new I.L(C.endLineNumber,C.endColumn),(P?" ":"")+N))),M}getEditOperations(C,S){const N=this._selection.startLineNumber,P=this._selection.startColumn;C.tokenization.tokenizeIfCheap(N);const M=C.getLanguageIdAtPosition(N,P),D=this.languageConfigurationService.getLanguageConfiguration(M).comments;!D||!D.blockCommentStartToken||!D.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,D.blockCommentStartToken,D.blockCommentEndToken,this._insertSpace,C,S)}computeCursorState(C,S){const N=S.getInverseEditOperations();if(N.length===2){const P=N[0],M=N[1];return new L.Y(P.range.endLineNumber,P.range.endColumn,M.range.startLineNumber,M.range.startColumn)}else{const P=N[0].range,M=this._usedEndToken?-this._usedEndToken.length-1:0;return new L.Y(P.endLineNumber,P.endColumn+M,P.endLineNumber,P.endColumn+M)}}}var g=t(17416);class a{constructor(C,S,N,P,M,D,F){this.languageConfigurationService=C,this._selection=S,this._tabSize=N,this._type=P,this._insertSpace=M,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=D,this._ignoreFirstLine=F||!1}static _gatherPreflightCommentStrings(C,S,N,P){C.tokenization.tokenizeIfCheap(S);const M=C.getLanguageIdAtPosition(S,1),D=P.getLanguageConfiguration(M).comments,F=D?D.lineCommentToken:null;if(!F)return null;const B=[];for(let U=0,A=N-S+1;U<A;U++)B[U]={ignore:!1,commentStr:F,commentStrOffset:0,commentStrLength:F.length};return B}static _analyzeLines(C,S,N,P,M,D,F,B){let U=!0,A;C===0?A=!0:C===1?A=!1:A=!0;for(let k=0,R=P.length;k<R;k++){const $=P[k],J=M+k;if(J===M&&F){$.ignore=!0;continue}const Y=N.getLineContent(J),j=g.LC(Y);if(j===-1){$.ignore=D,$.commentStrOffset=Y.length;continue}if(U=!1,$.ignore=!1,$.commentStrOffset=j,A&&!E._haystackHasNeedleAtOffset(Y,$.commentStr,j)&&(C===0?A=!1:C===1||($.ignore=!0)),A&&S){const z=j+$.commentStrLength;z<Y.length&&Y.charCodeAt(z)===32&&($.commentStrLength+=1)}}if(C===0&&U){A=!1;for(let k=0,R=P.length;k<R;k++)P[k].ignore=!1}return{supported:!0,shouldRemoveComments:A,lines:P}}static _gatherPreflightData(C,S,N,P,M,D,F,B){const U=a._gatherPreflightCommentStrings(N,P,M,B);return U===null?{supported:!1}:a._analyzeLines(C,S,N,U,P,D,F,B)}_executeLineComments(C,S,N,P){let M;N.shouldRemoveComments?M=a._createRemoveLineCommentsOperations(N.lines,P.startLineNumber):(a._normalizeInsertionPoint(C,N.lines,P.startLineNumber,this._tabSize),M=this._createAddLineCommentsOperations(N.lines,P.startLineNumber));const D=new I.L(P.positionLineNumber,P.positionColumn);for(let F=0,B=M.length;F<B;F++)S.addEditOperation(M[F].range,M[F].text),u.e.isEmpty(M[F].range)&&u.e.getStartPosition(M[F].range).equals(D)&&C.getLineContent(D.lineNumber).length+1===D.column&&(this._deltaColumn=(M[F].text||"").length);this._selectionId=S.trackSelection(P)}_attemptRemoveBlockComment(C,S,N,P){let M=S.startLineNumber,D=S.endLineNumber;const F=P.length+Math.max(C.getLineFirstNonWhitespaceColumn(S.startLineNumber),S.startColumn);let B=C.getLineContent(M).lastIndexOf(N,F-1),U=C.getLineContent(D).indexOf(P,S.endColumn-1-N.length);return B!==-1&&U===-1&&(U=C.getLineContent(M).indexOf(P,B+N.length),D=M),B===-1&&U!==-1&&(B=C.getLineContent(D).lastIndexOf(N,U),M=D),S.isEmpty()&&(B===-1||U===-1)&&(B=C.getLineContent(M).indexOf(N),B!==-1&&(U=C.getLineContent(M).indexOf(P,B+N.length))),B!==-1&&C.getLineContent(M).charCodeAt(B+N.length)===32&&(N+=" "),U!==-1&&C.getLineContent(D).charCodeAt(U-1)===32&&(P=" "+P,U-=1),B!==-1&&U!==-1?E._createRemoveBlockCommentOperations(new u.e(M,B+N.length+1,D,U+1),N,P):null}_executeBlockComment(C,S,N){C.tokenization.tokenizeIfCheap(N.startLineNumber);const P=C.getLanguageIdAtPosition(N.startLineNumber,1),M=this.languageConfigurationService.getLanguageConfiguration(P).comments;if(!M||!M.blockCommentStartToken||!M.blockCommentEndToken)return;const D=M.blockCommentStartToken,F=M.blockCommentEndToken;let B=this._attemptRemoveBlockComment(C,N,D,F);if(!B){if(N.isEmpty()){const U=C.getLineContent(N.startLineNumber);let A=g.LC(U);A===-1&&(A=U.length),B=E._createAddBlockCommentOperations(new u.e(N.startLineNumber,A+1,N.startLineNumber,U.length+1),D,F,this._insertSpace)}else B=E._createAddBlockCommentOperations(new u.e(N.startLineNumber,C.getLineFirstNonWhitespaceColumn(N.startLineNumber),N.endLineNumber,C.getLineMaxColumn(N.endLineNumber)),D,F,this._insertSpace);B.length===1&&(this._deltaColumn=D.length+1)}this._selectionId=S.trackSelection(N);for(const U of B)S.addEditOperation(U.range,U.text)}getEditOperations(C,S){let N=this._selection;if(this._moveEndPositionDown=!1,N.startLineNumber===N.endLineNumber&&this._ignoreFirstLine){S.addEditOperation(new u.e(N.startLineNumber,C.getLineMaxColumn(N.startLineNumber),N.startLineNumber+1,1),N.startLineNumber===C.getLineCount()?"":`
`),this._selectionId=S.trackSelection(N);return}N.startLineNumber<N.endLineNumber&&N.endColumn===1&&(this._moveEndPositionDown=!0,N=N.setEndPosition(N.endLineNumber-1,C.getLineMaxColumn(N.endLineNumber-1)));const P=a._gatherPreflightData(this._type,this._insertSpace,C,N.startLineNumber,N.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return P.supported?this._executeLineComments(C,S,P,N):this._executeBlockComment(C,S,N)}computeCursorState(C,S){let N=S.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(N=N.setEndPosition(N.endLineNumber+1,1)),new L.Y(N.selectionStartLineNumber,N.selectionStartColumn+this._deltaColumn,N.positionLineNumber,N.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(C,S){const N=[];for(let P=0,M=C.length;P<M;P++){const D=C[P];D.ignore||N.push(V.h.delete(new u.e(S+P,D.commentStrOffset+1,S+P,D.commentStrOffset+D.commentStrLength+1)))}return N}_createAddLineCommentsOperations(C,S){const N=[],P=this._insertSpace?" ":"";for(let M=0,D=C.length;M<D;M++){const F=C[M];F.ignore||N.push(V.h.insert(new I.L(S+M,F.commentStrOffset+1),F.commentStr+P))}return N}static nextVisibleColumn(C,S,N,P){return N?C+(S-C%S):C+P}static _normalizeInsertionPoint(C,S,N,P){let M=1073741824,D,F;for(let B=0,U=S.length;B<U;B++){if(S[B].ignore)continue;const A=C.getLineContent(N+B);let k=0;for(let R=0,$=S[B].commentStrOffset;k<M&&R<$;R++)k=a.nextVisibleColumn(k,P,A.charCodeAt(R)===9,1);k<M&&(M=k)}M=Math.floor(M/P)*P;for(let B=0,U=S.length;B<U;B++){if(S[B].ignore)continue;const A=C.getLineContent(N+B);let k=0;for(D=0,F=S[B].commentStrOffset;k<M&&D<F;D++)k=a.nextVisibleColumn(k,P,A.charCodeAt(D)===9,1);k>M?S[B].commentStrOffset=D-1:S[B].commentStrOffset=D}}}var l=t(26386),d=t(21208);class i extends O.R6{constructor(C,S){super(S),this._type=C}run(C,S){const N=C.get(p.c_);if(!S.hasModel())return;const P=S.getModel(),M=[],D=P.getOptions(),F=S.getOption(21),B=S.getSelections().map((A,k)=>({selection:A,index:k,ignoreFirstLine:!1}));B.sort((A,k)=>u.e.compareRangesUsingStarts(A.selection,k.selection));let U=B[0];for(let A=1;A<B.length;A++){const k=B[A];U.selection.endLineNumber===k.selection.startLineNumber&&(U.index<k.index?k.ignoreFirstLine=!0:(U.ignoreFirstLine=!0,U=k))}for(const A of B)M.push(new a(N,A.selection,D.tabSize,this._type,F.insertSpace,F.ignoreEmptyLines,A.ignoreFirstLine));S.pushUndoStop(),S.executeCommands(this.id,M),S.pushUndoStop()}}class s extends i{constructor(){super(0,{id:"editor.action.commentLine",label:l.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:_.u.writable,kbOpts:{kbExpr:_.u.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:d.eH.MenubarEditMenu,group:"5_insert",title:l.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class m extends i{constructor(){super(1,{id:"editor.action.addCommentLine",label:l.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:_.u.writable,kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,f.gx)(2089,2081),weight:100}})}}class b extends i{constructor(){super(2,{id:"editor.action.removeCommentLine",label:l.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:_.u.writable,kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,f.gx)(2089,2099),weight:100}})}}class c extends O.R6{constructor(){super({id:"editor.action.blockComment",label:l.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:_.u.writable,kbOpts:{kbExpr:_.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:d.eH.MenubarEditMenu,group:"5_insert",title:l.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(C,S){const N=C.get(p.c_);if(!S.hasModel())return;const P=S.getOption(21),M=[],D=S.getSelections();for(const F of D)M.push(new E(F,P.insertSpace,N));S.pushUndoStop(),S.executeCommands(this.id,M),S.pushUndoStop()}}(0,O.Qr)(s),(0,O.Qr)(m),(0,O.Qr)(b),(0,O.Qr)(c)},39994:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{ContextMenuController:function(){return b}});var f=t(34441),O=t(31957),u=t(98299),_=t(38431),p=t(11138),V=t(55298),I=t(21081),L=t(26386),E=t(21208),g=t(76826),a=t(36953),l=t(62297),d=t(71177),i=t(83799),s=function(v,C,S,N){var P=arguments.length,M=P<3?C:N===null?N=Object.getOwnPropertyDescriptor(C,S):N,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(v,C,S,N);else for(var F=v.length-1;F>=0;F--)(D=v[F])&&(M=(P<3?D(M):P>3?D(C,S,M):D(C,S))||M);return P>3&&M&&Object.defineProperty(C,S,M),M},m=function(v,C){return function(S,N){C(S,N,v)}};let b=class Gc{static get(C){return C.getContribution(Gc.ID)}constructor(C,S,N,P,M,D,F,B){this._contextMenuService=S,this._contextViewService=N,this._contextKeyService=P,this._keybindingService=M,this._menuService=D,this._configurationService=F,this._workspaceContextService=B,this._toDispose=new _.SL,this._contextMenuIsBeingShownCount=0,this._editor=C,this._toDispose.add(this._editor.onContextMenu(U=>this._onContextMenu(U))),this._toDispose.add(this._editor.onMouseWheel(U=>{if(this._contextMenuIsBeingShownCount>0){const A=this._contextViewService.getContextViewElement(),k=U.srcElement;k.shadowRoot&&f.Ay(A)===k.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(U=>{this._editor.getOption(22)&&U.keyCode===58&&(U.preventDefault(),U.stopPropagation(),this.showContextMenu())}))}_onContextMenu(C){if(!this._editor.hasModel())return;if(!this._editor.getOption(22)){this._editor.focus(),C.target.position&&!this._editor.getSelection().containsPosition(C.target.position)&&this._editor.setPosition(C.target.position);return}if(C.target.type===12||C.target.type===6&&C.target.detail.injectedText)return;if(C.event.preventDefault(),C.event.stopPropagation(),C.target.type===11)return this._showScrollbarContextMenu({x:C.event.posx-1,width:2,y:C.event.posy-1,height:2});if(C.target.type!==6&&C.target.type!==7&&C.target.type!==1)return;if(this._editor.focus(),C.target.position){let N=!1;for(const P of this._editor.getSelections())if(P.containsPosition(C.target.position)){N=!0;break}N||this._editor.setPosition(C.target.position)}let S=null;C.target.type!==1&&(S={x:C.event.posx-1,width:2,y:C.event.posy-1,height:2}),this.showContextMenu(S)}showContextMenu(C){if(!this._editor.getOption(22)||!this._editor.hasModel())return;const S=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?E.eH.SimpleEditorContext:E.eH.EditorContext);S.length>0&&this._doShowContextMenu(S,C)}_getMenuActions(C,S){const N=[],P=this._menuService.createMenu(S,this._contextKeyService),M=P.getActions({arg:C.uri});P.dispose();for(const D of M){const[,F]=D;let B=0;for(const U of F)if(U instanceof E.NZ){const A=this._getMenuActions(C,U.item.submenu);A.length>0&&(N.push(new u.wY(U.id,U.label,A)),B++)}else N.push(U),B++;B&&N.push(new u.Z0)}return N.length&&N.pop(),N}_doShowContextMenu(C,S=null){if(!this._editor.hasModel())return;const N=this._editor.getOption(58);if(this._editor.updateOptions({hover:{enabled:!1}}),!S){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const M=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),D=f.i(this._editor.getDomNode()),F=D.left+M.left,B=D.top+M.top+M.height;S={x:F,y:B}}const P=this._editor.getOption(123)&&!p.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:P?this._editor.getDomNode():void 0,getAnchor:()=>S,getActions:()=>C,getActionViewItem:M=>{const D=this._keybindingFor(M);if(D)return new O.gU(M,M,{label:!0,keybinding:D.getLabel(),isMenu:!0});const F=M;return typeof F.getActionViewItem=="function"?F.getActionViewItem():new O.gU(M,M,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:M=>this._keybindingFor(M),onHide:M=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:N})}})}_showScrollbarContextMenu(C){if(!this._editor.hasModel()||(0,i.x)(this._workspaceContextService.getWorkspace()))return;const S=this._editor.getOption(70);let N=0;const P=U=>({id:`menu-action-${++N}`,label:U.label,tooltip:"",class:void 0,enabled:typeof U.enabled=="undefined"?!0:U.enabled,checked:U.checked,run:U.run}),M=(U,A)=>new u.wY(`menu-action-${++N}`,U,A,void 0),D=(U,A,k,R,$)=>{if(!A)return P({label:U,enabled:A,run:()=>{}});const J=j=>()=>{this._configurationService.updateValue(k,j)},Y=[];for(const j of $)Y.push(P({label:j.label,checked:R===j.value,run:J(j.value)}));return M(U,Y)},F=[];F.push(P({label:L.NC("context.minimap.minimap","Minimap"),checked:S.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!S.enabled)}})),F.push(new u.Z0),F.push(P({label:L.NC("context.minimap.renderCharacters","Render Characters"),enabled:S.enabled,checked:S.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!S.renderCharacters)}})),F.push(D(L.NC("context.minimap.size","Vertical size"),S.enabled,"editor.minimap.size",S.size,[{label:L.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:L.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:L.NC("context.minimap.size.fit","Fit"),value:"fit"}])),F.push(D(L.NC("context.minimap.slider","Slider"),S.enabled,"editor.minimap.showSlider",S.showSlider,[{label:L.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:L.NC("context.minimap.slider.always","Always"),value:"always"}]));const B=this._editor.getOption(123)&&!p.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:B?this._editor.getDomNode():void 0,getAnchor:()=>C,getActions:()=>F,onHide:U=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(C){return this._keybindingService.lookupKeybinding(C.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};b.ID="editor.contrib.contextmenu",b=s([m(1,a.i),m(2,a.u),m(3,g.i6),m(4,l.d),m(5,E.co),m(6,d.Ui),m(7,i.ec)],b);class c extends V.R6{constructor(){super({id:"editor.action.showContextMenu",label:L.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:I.u.textInputFocus,primary:1092,weight:100}})}run(C,S){var N;(N=b.get(S))===null||N===void 0||N.showContextMenu()}}(0,V._K)(b.ID,b,2),(0,V.Qr)(c)},74744:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CursorRedo:function(){return E},CursorUndo:function(){return L},CursorUndoRedoController:function(){return I}});var f=t(38431),O=t(55298),u=t(21081),_=t(26386);class p{constructor(a){this.selections=a}equals(a){const l=this.selections.length,d=a.selections.length;if(l!==d)return!1;for(let i=0;i<l;i++)if(!this.selections[i].equalsSelection(a.selections[i]))return!1;return!0}}class V{constructor(a,l,d){this.cursorState=a,this.scrollTop=l,this.scrollLeft=d}}class I extends f.JT{static get(a){return a.getContribution(I.ID)}constructor(a){super(),this._editor=a,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(a.onDidChangeModel(l=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeModelContent(l=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeCursorSelection(l=>{if(this._isCursorUndoRedo||!l.oldSelections||l.oldModelVersionId!==l.modelVersionId)return;const d=new p(l.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(d)||(this._undoStack.push(new V(d,a.getScrollTop(),a.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new V(new p(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new V(new p(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(a){this._isCursorUndoRedo=!0,this._editor.setSelections(a.cursorState.selections),this._editor.setScrollPosition({scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),this._isCursorUndoRedo=!1}}I.ID="editor.contrib.cursorUndoRedoController";class L extends O.R6{constructor(){super({id:"cursorUndo",label:_.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:u.u.textInputFocus,primary:2099,weight:100}})}run(a,l,d){var i;(i=I.get(l))===null||i===void 0||i.cursorUndo()}}class E extends O.R6{constructor(){super({id:"cursorRedo",label:_.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(a,l,d){var i;(i=I.get(l))===null||i===void 0||i.cursorRedo()}}(0,O._K)(I.ID,I,0),(0,O.Qr)(L),(0,O.Qr)(E)},57042:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{DragAndDropController:function(){return g}});var f=t(38431),O=t(11138),u=t(55298),_=t(8964),p=t(50038),V=t(57841),I=t(45007);class L{constructor(l,d,i){this.selection=l,this.targetPosition=d,this.copy=i,this.targetSelection=null}getEditOperations(l,d){const i=l.getValueInRange(this.selection);if(this.copy||d.addEditOperation(this.selection,null),d.addEditOperation(new p.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new V.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new V.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new V.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new V.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new V.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(l,d){return this.targetSelection}}function E(a){return O.dz?a.altKey:a.ctrlKey}class g extends f.JT{constructor(l){super(),this._editor=l,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(d=>this._onEditorMouseDown(d))),this._register(this._editor.onMouseUp(d=>this._onEditorMouseUp(d))),this._register(this._editor.onMouseDrag(d=>this._onEditorMouseDrag(d))),this._register(this._editor.onMouseDrop(d=>this._onEditorMouseDrop(d))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(d=>this.onEditorKeyDown(d))),this._register(this._editor.onKeyUp(d=>this.onEditorKeyUp(d))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(l){!this._editor.getOption(33)||this._editor.getOption(20)||(E(l)&&(this._modifierPressed=!0),this._mouseDown&&E(l)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(l){!this._editor.getOption(33)||this._editor.getOption(20)||(E(l)&&(this._modifierPressed=!1),this._mouseDown&&l.keyCode===g.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(l){this._mouseDown=!0}_onEditorMouseUp(l){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(l){const d=l.target;if(this._dragSelection===null){const s=(this._editor.getSelections()||[]).filter(m=>d.position&&m.containsPosition(d.position));if(s.length===1)this._dragSelection=s[0];else return}E(l.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),d.position&&(this._dragSelection.containsPosition(d.position)?this._removeDecoration():this.showAt(d.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(l){if(l.target&&(this._hitContent(l.target)||this._hitMargin(l.target))&&l.target.position){const d=new _.L(l.target.position.lineNumber,l.target.position.column);if(this._dragSelection===null){let i=null;if(l.event.shiftKey){const s=this._editor.getSelection();if(s){const{selectionStartLineNumber:m,selectionStartColumn:b}=s;i=[new V.Y(m,b,d.lineNumber,d.column)]}}else i=(this._editor.getSelections()||[]).map(s=>s.containsPosition(d)?new V.Y(d.lineNumber,d.column,d.lineNumber,d.column):s);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(d)||(E(l.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(d)||this._dragSelection.getStartPosition().equals(d)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(g.ID,new L(this._dragSelection,d,E(l.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(l){this._dndDecorationIds.set([{range:new p.e(l.lineNumber,l.column,l.lineNumber,l.column),options:g._DECORATION_OPTIONS}]),this._editor.revealPosition(l,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(l){return l.type===6||l.type===7}_hitMargin(l){return l.type===2||l.type===3||l.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}g.ID="editor.contrib.dragAndDrop",g.TRIGGER_KEY_VALUE=O.dz?6:5,g._DECORATION_OPTIONS=I.qx.register({description:"dnd-target",className:"dnd-target"}),(0,u._K)(g.ID,g,2)},30233:function(Rt,Be,t){"use strict";t.r(Be);var f=t(97464),O=t(14818),u=t(28919),_=t(91223),p=t(79931),V=t(80793),I=function(L,E,g,a){function l(d){return d instanceof g?d:new g(function(i){i(d)})}return new(g||(g=Promise))(function(d,i){function s(c){try{b(a.next(c))}catch(v){i(v)}}function m(c){try{b(a.throw(c))}catch(v){i(v)}}function b(c){c.done?d(c.value):l(c.value).then(s,m)}b((a=a.apply(L,E||[])).next())})};V.P.registerCommand("_executeDocumentSymbolProvider",function(L,...E){return I(this,void 0,void 0,function*(){const[g]=E;(0,O.p_)(u.o.isUri(g));const a=L.get(p.Je),d=yield L.get(_.S).createModelReference(g);try{return(yield a.getOrCreate(d.object.textEditorModel,f.T.None)).getTopLevelSymbols()}finally{d.dispose()}})})},79931:function(Rt,Be,t){"use strict";t.d(Be,{C3:function(){return C},H3:function(){return v},Je:function(){return S},sT:function(){return c}});var f=t(16308),O=t(97464),u=t(20996),_=t(97865),p=t(39832),V=t(8964),I=t(50038),L=t(69060),E=t(44333),g=t(53061),a=t(65041),l=t(38431),d=t(35921),i=function(P,M,D,F){var B=arguments.length,U=B<3?M:F===null?F=Object.getOwnPropertyDescriptor(M,D):F,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(P,M,D,F);else for(var k=P.length-1;k>=0;k--)(A=P[k])&&(U=(B<3?A(U):B>3?A(M,D,U):A(M,D))||U);return B>3&&U&&Object.defineProperty(M,D,U),U},s=function(P,M){return function(D,F){M(D,F,P)}},m=function(P,M,D,F){function B(U){return U instanceof D?U:new D(function(A){A(U)})}return new(D||(D=Promise))(function(U,A){function k(J){try{$(F.next(J))}catch(Y){A(Y)}}function R(J){try{$(F.throw(J))}catch(Y){A(Y)}}function $(J){J.done?U(J.value):B(J.value).then(k,R)}$((F=F.apply(P,M||[])).next())})};class b{remove(){var M;(M=this.parent)===null||M===void 0||M.children.delete(this.id)}static findId(M,D){let F;typeof M=="string"?F=`${D.id}/${M}`:(F=`${D.id}/${M.name}`,D.children.get(F)!==void 0&&(F=`${D.id}/${M.name}_${M.range.startLineNumber}_${M.range.startColumn}`));let B=F;for(let U=0;D.children.get(B)!==void 0;U++)B=`${F}_${U}`;return B}static empty(M){return M.children.size===0}}class c extends b{constructor(M,D,F){super(),this.id=M,this.parent=D,this.symbol=F,this.children=new Map}}class v extends b{constructor(M,D,F,B){super(),this.id=M,this.parent=D,this.label=F,this.order=B,this.children=new Map}}class C extends b{static create(M,D,F){const B=new O.A(F),U=new C(D.uri),A=M.ordered(D),k=A.map(($,J)=>{var Y;const j=b.findId(`provider_${J}`,U),z=new v(j,U,(Y=$.displayName)!==null&&Y!==void 0?Y:"Unknown Outline Provider",J);return Promise.resolve($.provideDocumentSymbols(D,B.token)).then(K=>{for(const Z of K||[])C._makeOutlineElement(Z,z);return z},K=>((0,u.Cp)(K),z)).then(K=>{b.empty(K)?K.remove():U._groups.set(j,K)})}),R=M.onDidChange(()=>{const $=M.ordered(D);(0,f.fS)($,A)||B.cancel()});return Promise.all(k).then(()=>B.token.isCancellationRequested&&!F.isCancellationRequested?C.create(M,D,F):U._compact()).finally(()=>{R.dispose()})}static _makeOutlineElement(M,D){const F=b.findId(M,D),B=new c(F,D,M);if(M.children)for(const U of M.children)C._makeOutlineElement(U,B);D.children.set(B.id,B)}constructor(M){super(),this.uri=M,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let M=0;for(const[D,F]of this._groups)F.children.size===0?this._groups.delete(D):M+=1;if(M!==1)this.children=this._groups;else{const D=_.$.first(this._groups.values());for(const[,F]of D.children)F.parent=this,this.children.set(F.id,F)}return this}getTopLevelSymbols(){const M=[];for(const D of this.children.values())D instanceof c?M.push(D.symbol):M.push(..._.$.map(D.children.values(),F=>F.symbol));return M.sort((D,F)=>I.e.compareRangesUsingStarts(D.range,F.range))}asListOfDocumentSymbols(){const M=this.getTopLevelSymbols(),D=[];return C._flattenDocumentSymbols(D,M,""),D.sort((F,B)=>V.L.compare(I.e.getStartPosition(F.range),I.e.getStartPosition(B.range))||V.L.compare(I.e.getEndPosition(B.range),I.e.getEndPosition(F.range)))}static _flattenDocumentSymbols(M,D,F){for(const B of D)M.push({kind:B.kind,tags:B.tags,name:B.name,detail:B.detail,containerName:B.containerName||F,range:B.range,selectionRange:B.selectionRange,children:void 0}),B.children&&C._flattenDocumentSymbols(M,B.children,B.name)}}const S=(0,E.yh)("IOutlineModelService");let N=class{constructor(M,D,F){this._languageFeaturesService=M,this._disposables=new l.SL,this._cache=new p.z6(10,.7),this._debounceInformation=D.for(M.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(F.onModelRemoved(B=>{this._cache.delete(B.id)}))}dispose(){this._disposables.dispose()}getOrCreate(M,D){return m(this,void 0,void 0,function*(){const F=this._languageFeaturesService.documentSymbolProvider,B=F.ordered(M);let U=this._cache.get(M.id);if(!U||U.versionId!==M.getVersionId()||!(0,f.fS)(U.provider,B)){const k=new O.A;U={versionId:M.getVersionId(),provider:B,promiseCnt:0,source:k,promise:C.create(F,M,k.token),model:void 0},this._cache.set(M.id,U);const R=Date.now();U.promise.then($=>{U.model=$,this._debounceInformation.update(M,Date.now()-R)}).catch($=>{this._cache.delete(M.id)})}if(U.model)return U.model;U.promiseCnt+=1;const A=D.onCancellationRequested(()=>{--U.promiseCnt===0&&(U.source.cancel(),this._cache.delete(M.id))});try{return yield U.promise}finally{A.dispose()}})}};N=i([s(0,d.p),s(1,L.A),s(2,a.q)],N),(0,g.z)(S,N,1)},23543:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(56072),u=t(34441),_=t(16308),p=t(13484),V=t(31837),I=t(38431),L=t(9161),E=t(11138),g=t(38577),a=t(48115),l=t(53028),d=t(50038),i=t(35921);function s(Y,j,z){var K,Z;return{edits:[...j.map(fe=>new l.Gl(Y,typeof z.insertText=="string"?{range:fe,text:z.insertText,insertAsSnippet:!1}:{range:fe,text:z.insertText.snippet,insertAsSnippet:!0})),...(Z=(K=z.additionalEdit)===null||K===void 0?void 0:K.edits)!==null&&Z!==void 0?Z:[]]}}var m=t(44426),b=t(75807),c=t(26386),v=t(51941),C=t(76826),S=t(44333),N=t(79969),P=t(38785),M=t(48659),D=function(Y,j,z,K){var Z=arguments.length,fe=Z<3?j:K===null?K=Object.getOwnPropertyDescriptor(j,z):K,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(Y,j,z,K);else for(var Re=Y.length-1;Re>=0;Re--)(T=Y[Re])&&(fe=(Z<3?T(fe):Z>3?T(j,z,fe):T(j,z))||fe);return Z>3&&fe&&Object.defineProperty(j,z,fe),fe},F=function(Y,j){return function(z,K){j(z,K,Y)}},B=function(Y,j,z,K){function Z(fe){return fe instanceof z?fe:new z(function(T){T(fe)})}return new(z||(z=Promise))(function(fe,T){function Re(pe){try{_e(K.next(pe))}catch(le){T(le)}}function Ce(pe){try{_e(K.throw(pe))}catch(le){T(le)}}function _e(pe){pe.done?fe(pe.value):Z(pe.value).then(Re,Ce)}_e((K=K.apply(Y,j||[])).next())})};const U="editor.changePasteType",A=new C.uy("pasteWidgetVisible",!1,(0,c.NC)("pasteWidgetVisible","Whether the paste widget is showing")),k="application/vnd.code.copyMetadata";let R=class Zc extends I.JT{static get(j){return j.getContribution(Zc.ID)}constructor(j,z,K,Z,fe,T,Re){super(),this._bulkEditService=K,this._clipboardService=Z,this._languageFeaturesService=fe,this._quickInputService=T,this._progressService=Re,this._editor=j;const Ce=j.getContainerDomNode();this._register((0,u.nm)(Ce,"copy",_e=>this.handleCopy(_e))),this._register((0,u.nm)(Ce,"cut",_e=>this.handleCopy(_e))),this._register((0,u.nm)(Ce,"paste",_e=>this.handlePaste(_e),!0)),this._pasteProgressManager=this._register(new b.InlineProgressManager("pasteIntoEditor",j,z)),this._postPasteWidgetManager=this._register(z.createInstance(M.p,"pasteIntoEditor",j,A,{id:U,label:(0,c.NC)("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(j){this._editor.focus();try{this._pasteAsActionContext={preferredId:j},document.execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(82).enabled&&!this._editor.getOption(88)}handleCopy(j){var z,K;if(!j.clipboardData||!this._editor.hasTextFocus()||!this.isPasteAsEnabled())return;const Z=this._editor.getModel(),fe=this._editor.getSelections();if(!Z||!(fe!=null&&fe.length))return;const T=this._editor.getOption(35);let Re=fe;const Ce=fe.length===1&&fe[0].isEmpty();if(Ce){if(!T)return;Re=[new d.e(Re[0].startLineNumber,1,Re[0].startLineNumber,1+Z.getLineLength(Re[0].startLineNumber))]}const _e=(z=this._editor._getViewModel())===null||z===void 0?void 0:z.getPlainTextToCopy(fe,T,E.ED),le={multicursorText:Array.isArray(_e)?_e:null,pasteOnNewLine:Ce,mode:null},oe=this._languageFeaturesService.documentPasteEditProvider.ordered(Z).filter(se=>!!se.prepareDocumentPaste);if(!oe.length){this.setCopyMetadata(j.clipboardData,{defaultPastePayload:le});return}const he=(0,a.B)(j.clipboardData),je=oe.flatMap(se=>{var q;return(q=se.copyMimeTypes)!==null&&q!==void 0?q:[]}),Xe=(0,g.R)();this.setCopyMetadata(j.clipboardData,{id:Xe,providerCopyMimeTypes:je,defaultPastePayload:le});const Ve=(0,p.PG)(se=>B(this,void 0,void 0,function*(){const q=(0,_.kX)(yield Promise.all(oe.map(Ee=>B(this,void 0,void 0,function*(){try{return yield Ee.prepareDocumentPaste(Z,Re,he,se)}catch(Se){console.error(Se);return}}))));q.reverse();for(const Ee of q)for(const[Se,we]of Ee)he.replace(Se,we);return he}));(K=this._currentCopyOperation)===null||K===void 0||K.dataTransferPromise.cancel(),this._currentCopyOperation={handle:Xe,dataTransferPromise:Ve}}handlePaste(j){var z,K;return B(this,void 0,void 0,function*(){if(!j.clipboardData||!this._editor.hasTextFocus())return;(z=this._currentPasteOperation)===null||z===void 0||z.cancel(),this._currentPasteOperation=void 0;const Z=this._editor.getModel(),fe=this._editor.getSelections();if(!(fe!=null&&fe.length)||!Z||!this.isPasteAsEnabled())return;const T=this.fetchCopyMetadata(j.clipboardData),Re=(0,a.L)(j.clipboardData);Re.delete(k);const Ce=[...j.clipboardData.types,...(K=T==null?void 0:T.providerCopyMimeTypes)!==null&&K!==void 0?K:[],L.v.uriList],_e=this._languageFeaturesService.documentPasteEditProvider.ordered(Z).filter(pe=>{var le;return(le=pe.pasteMimeTypes)===null||le===void 0?void 0:le.some(oe=>(0,V.SN)(oe,Ce))});_e.length&&(j.preventDefault(),j.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,_e,fe,Re,T):this.doPasteInline(_e,fe,Re,T))})}doPasteInline(j,z,K,Z){const fe=(0,p.PG)(T=>B(this,void 0,void 0,function*(){const Re=this._editor;if(!Re.hasModel())return;const Ce=Re.getModel(),_e=new m.Dl(Re,3,void 0,T);try{if(yield this.mergeInDataFromCopy(K,Z,_e.token),_e.token.isCancellationRequested)return;const pe=j.filter(oe=>$(oe,K));if(!pe.length||pe.length===1&&pe[0].id==="text"){yield this.applyDefaultPasteHandler(K,Z,_e.token);return}const le=yield this.getPasteEdits(pe,K,Ce,z,_e.token);if(_e.token.isCancellationRequested)return;if(le.length){const oe=Re.getOption(82).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(z,{activeEditIndex:0,allEdits:le},oe,_e.token)}yield this.applyDefaultPasteHandler(K,Z,_e.token)}finally{_e.dispose(),this._currentPasteOperation===fe&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(z[0].getEndPosition(),(0,c.NC)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),fe),this._currentPasteOperation=fe}showPasteAsPick(j,z,K,Z,fe){const T=(0,p.PG)(Re=>B(this,void 0,void 0,function*(){const Ce=this._editor;if(!Ce.hasModel())return;const _e=Ce.getModel(),pe=new m.Dl(Ce,3,void 0,Re);try{if(yield this.mergeInDataFromCopy(Z,fe,pe.token),pe.token.isCancellationRequested)return;const le=z.filter(Xe=>$(Xe,Z)),oe=yield this.getPasteEdits(le,Z,_e,K,pe.token);if(pe.token.isCancellationRequested||!oe.length)return;let he;if(typeof j=="string")he=oe.find(Xe=>Xe.id===j);else{const Xe=yield this._quickInputService.pick(oe.map(Ve=>({label:Ve.label,description:Ve.id,detail:Ve.detail,edit:Ve})),{placeHolder:(0,c.NC)("pasteAsPickerPlaceholder","Select Paste Action")});he=Xe==null?void 0:Xe.edit}if(!he)return;const je=s(_e.uri,K,he);yield this._bulkEditService.apply(je,{editor:this._editor})}finally{pe.dispose(),this._currentPasteOperation===T&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,c.NC)("pasteAsProgress","Running paste handlers")},()=>T)}setCopyMetadata(j,z){j.setData(k,JSON.stringify(z))}fetchCopyMetadata(j){const z=j.getData(k);if(z)try{return JSON.parse(z)}catch(K){return}}mergeInDataFromCopy(j,z,K){var Z;return B(this,void 0,void 0,function*(){if(z!=null&&z.id&&((Z=this._currentCopyOperation)===null||Z===void 0?void 0:Z.handle)===z.id){const fe=yield this._currentCopyOperation.dataTransferPromise;if(K.isCancellationRequested)return;for(const[T,Re]of fe)j.replace(T,Re)}if(!j.has(L.v.uriList)){const fe=yield this._clipboardService.readResources();if(K.isCancellationRequested)return;fe.length&&j.append(L.v.uriList,(0,V.ZO)(V.Z0.create(fe)))}})}getPasteEdits(j,z,K,Z,fe){return B(this,void 0,void 0,function*(){const T=yield(0,p.eP)(Promise.all(j.map(Re=>{var Ce;try{return(Ce=Re.provideDocumentPasteEdits)===null||Ce===void 0?void 0:Ce.call(Re,K,Z,z,fe)}catch(_e){console.error(_e);return}})).then(_.kX),fe);return T==null||T.sort((Re,Ce)=>Ce.priority-Re.priority),T!=null?T:[]})}applyDefaultPasteHandler(j,z,K){var Z,fe,T;return B(this,void 0,void 0,function*(){const Re=(Z=j.get(L.v.text))!==null&&Z!==void 0?Z:j.get("text");if(!Re)return;const Ce=yield Re.asString();if(K.isCancellationRequested)return;const _e={text:Ce,pasteOnNewLine:(fe=z==null?void 0:z.defaultPastePayload.pasteOnNewLine)!==null&&fe!==void 0?fe:!1,multicursorText:(T=z==null?void 0:z.defaultPastePayload.multicursorText)!==null&&T!==void 0?T:null,mode:null};this._editor.trigger("keyboard","paste",_e)})}};R.ID="editor.contrib.copyPasteActionController",R=D([F(1,S.TG),F(2,l.vu),F(3,v.p),F(4,i.p),F(5,P.eJ),F(6,N.R9)],R);function $(Y,j){var z;return!!(!((z=Y.pasteMimeTypes)===null||z===void 0)&&z.some(K=>j.matches(K)))}var J=t(22742);(0,f._K)(R.ID,R,0),(0,O.y)(J.v),(0,f.fK)(new class extends f._l{constructor(){super({id:U,precondition:A,kbOpts:{weight:100,primary:2137}})}runEditorCommand(Y,j,z){var K;return(K=R.get(j))===null||K===void 0?void 0:K.changePasteType()}}),(0,f.Qr)(class extends f.R6{constructor(){super({id:"editor.action.pasteAs",label:c.NC("pasteAs","Paste As..."),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:c.NC("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}run(Y,j,z){var K;const Z=typeof(z==null?void 0:z.id)=="string"?z.id:void 0;return(K=R.get(j))===null||K===void 0?void 0:K.pasteAs(Z)}})},22742:function(Rt,Be,t){"use strict";t.d(Be,{P:function(){return C},v:function(){return S}});var f=t(16308),O=t(31837),u=t(38431),_=t(9161),p=t(5007),V=t(6227),I=t(28919),L=t(35921),E=t(26386),g=t(83799),a=function(N,P,M,D){var F=arguments.length,B=F<3?P:D===null?D=Object.getOwnPropertyDescriptor(P,M):D,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,P,M,D);else for(var A=N.length-1;A>=0;A--)(U=N[A])&&(B=(F<3?U(B):F>3?U(P,M,B):U(P,M))||B);return F>3&&B&&Object.defineProperty(P,M,B),B},l=function(N,P){return function(M,D){P(M,D,N)}},d=function(N,P,M,D){function F(B){return B instanceof M?B:new M(function(U){U(B)})}return new(M||(M=Promise))(function(B,U){function A($){try{R(D.next($))}catch(J){U(J)}}function k($){try{R(D.throw($))}catch(J){U(J)}}function R($){$.done?B($.value):F($.value).then(A,k)}R((D=D.apply(N,P||[])).next())})};const i=(0,E.NC)("builtIn","Built-in");class s{provideDocumentPasteEdits(P,M,D,F){return d(this,void 0,void 0,function*(){const B=yield this.getEdit(D,F);return B?{id:this.id,insertText:B.insertText,label:B.label,detail:B.detail,priority:B.priority}:void 0})}provideDocumentOnDropEdits(P,M,D,F){return d(this,void 0,void 0,function*(){const B=yield this.getEdit(D,F);return B?{id:this.id,insertText:B.insertText,label:B.label,priority:B.priority}:void 0})}}class m extends s{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[_.v.text],this.pasteMimeTypes=[_.v.text]}getEdit(P,M){return d(this,void 0,void 0,function*(){const D=P.get(_.v.text);if(!D||P.has(_.v.uriList))return;const F=yield D.asString();return{id:this.id,priority:0,label:(0,E.NC)("text.label","Insert Plain Text"),detail:i,insertText:F}})}}class b extends s{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[_.v.uriList],this.pasteMimeTypes=[_.v.uriList]}getEdit(P,M){return d(this,void 0,void 0,function*(){const D=yield v(P);if(!D.length||M.isCancellationRequested)return;let F=0;const B=D.map(({uri:A,originalText:k})=>A.scheme===p.lg.file?A.fsPath:(F++,k)).join(" ");let U;return F>0?U=D.length>1?(0,E.NC)("defaultDropProvider.uriList.uris","Insert Uris"):(0,E.NC)("defaultDropProvider.uriList.uri","Insert Uri"):U=D.length>1?(0,E.NC)("defaultDropProvider.uriList.paths","Insert Paths"):(0,E.NC)("defaultDropProvider.uriList.path","Insert Path"),{id:this.id,priority:0,insertText:B,label:U,detail:i}})}}let c=class extends s{constructor(P){super(),this._workspaceContextService=P,this.id="relativePath",this.dropMimeTypes=[_.v.uriList],this.pasteMimeTypes=[_.v.uriList]}getEdit(P,M){return d(this,void 0,void 0,function*(){const D=yield v(P);if(!D.length||M.isCancellationRequested)return;const F=(0,f.kX)(D.map(({uri:B})=>{const U=this._workspaceContextService.getWorkspaceFolder(B);return U?(0,V.lX)(U.uri,B):void 0}));if(F.length)return{id:this.id,priority:0,insertText:F.join(" "),label:D.length>1?(0,E.NC)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):(0,E.NC)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:i}})}};c=a([l(0,g.ec)],c);function v(N){return d(this,void 0,void 0,function*(){const P=N.get(_.v.uriList);if(!P)return[];const M=yield P.asString(),D=[];for(const F of O.Z0.parse(M))try{D.push({uri:I.o.parse(F),originalText:F})}catch(B){}return D})}let C=class extends u.JT{constructor(P,M){super(),this._register(P.documentOnDropEditProvider.register("*",new m)),this._register(P.documentOnDropEditProvider.register("*",new b)),this._register(P.documentOnDropEditProvider.register("*",new c(M)))}};C=a([l(0,L.p),l(1,g.ec)],C);let S=class extends u.JT{constructor(P,M){super(),this._register(P.documentPasteEditProvider.register("*",new m)),this._register(P.documentPasteEditProvider.register("*",new b)),this._register(P.documentPasteEditProvider.register("*",new c(M)))}};S=a([l(0,L.p),l(1,g.ec)],S)},80995:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(56072),u=t(22742),_=t(16308),p=t(13484),V=t(31837),I=t(38431),L=t(48115),E=t(50038),g=t(35921);class a{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(A){if(A&&this._dragOperations.has(A)){const k=this._dragOperations.get(A);return this._dragOperations.delete(A),k}}}class l{constructor(A){this.identifier=A}}var d=t(53061),i=t(44333);const s=(0,i.yh)("treeViewsDndService");(0,d.z)(s,a,1);var m=t(44426),b=t(75807),c=t(26386),v=t(76826),C=t(42829),S=t(48659),N=function(U,A,k,R){var $=arguments.length,J=$<3?A:R===null?R=Object.getOwnPropertyDescriptor(A,k):R,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(U,A,k,R);else for(var j=U.length-1;j>=0;j--)(Y=U[j])&&(J=($<3?Y(J):$>3?Y(A,k,J):Y(A,k))||J);return $>3&&J&&Object.defineProperty(A,k,J),J},P=function(U,A){return function(k,R){A(k,R,U)}},M=function(U,A,k,R){function $(J){return J instanceof k?J:new k(function(Y){Y(J)})}return new(k||(k=Promise))(function(J,Y){function j(Z){try{K(R.next(Z))}catch(fe){Y(fe)}}function z(Z){try{K(R.throw(Z))}catch(fe){Y(fe)}}function K(Z){Z.done?J(Z.value):$(Z.value).then(j,z)}K((R=R.apply(U,A||[])).next())})};const D="editor.changeDropType",F=new v.uy("dropWidgetVisible",!1,(0,c.NC)("dropWidgetVisible","Whether the drop widget is showing"));let B=class Qc extends I.JT{static get(A){return A.getContribution(Qc.ID)}constructor(A,k,R,$){super(),this._languageFeaturesService=R,this._treeViewsDragAndDropService=$,this.treeItemsTransfer=C.Ej.getInstance(),this._dropProgressManager=this._register(k.createInstance(b.InlineProgressManager,"dropIntoEditor",A)),this._postDropWidgetManager=this._register(k.createInstance(S.p,"dropIntoEditor",A,F,{id:D,label:(0,c.NC)("postDropWidgetTitle","Show drop options...")})),this._register(A.onDropIntoEditor(J=>this.onDropIntoEditor(A,J.position,J.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(A,k,R){var $;return M(this,void 0,void 0,function*(){if(!R.dataTransfer||!A.hasModel())return;($=this._currentOperation)===null||$===void 0||$.cancel(),A.focus(),A.setPosition(k);const J=(0,p.PG)(Y=>M(this,void 0,void 0,function*(){const j=new m.Dl(A,1,void 0,Y);try{const z=yield this.extractDataTransferData(R);if(z.size===0||j.token.isCancellationRequested)return;const K=A.getModel();if(!K)return;const Z=this._languageFeaturesService.documentOnDropEditProvider.ordered(K).filter(T=>T.dropMimeTypes?T.dropMimeTypes.some(Re=>z.matches(Re)):!0),fe=yield this.getDropEdits(Z,K,k,z,j);if(j.token.isCancellationRequested)return;if(fe.length){const T=A.getOption(34).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([E.e.fromPositions(k)],{activeEditIndex:0,allEdits:fe},T,Y)}}finally{j.dispose(),this._currentOperation===J&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(k,(0,c.NC)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),J),this._currentOperation=J})}getDropEdits(A,k,R,$,J){return M(this,void 0,void 0,function*(){const Y=yield(0,p.eP)(Promise.all(A.map(z=>z.provideDocumentOnDropEdits(k,R,$,J.token))),J.token),j=(0,_.kX)(Y!=null?Y:[]);return j.sort((z,K)=>K.priority-z.priority),j})}extractDataTransferData(A){return M(this,void 0,void 0,function*(){if(!A.dataTransfer)return new V.Hl;const k=(0,L.L)(A.dataTransfer);if(this.treeItemsTransfer.hasData(l.prototype)){const R=this.treeItemsTransfer.getData(l.prototype);if(Array.isArray(R))for(const $ of R){const J=yield this._treeViewsDragAndDropService.removeDragOperationTransfer($.identifier);if(J)for(const[Y,j]of J)k.replace(Y,j)}}return k})}};B.ID="editor.contrib.dropIntoEditorController",B=N([P(1,i.TG),P(2,g.p),P(3,s)],B),(0,f._K)(B.ID,B,2),(0,f.fK)(new class extends f._l{constructor(){super({id:D,precondition:F,kbOpts:{weight:100,primary:2137}})}runEditorCommand(U,A,k){var R;(R=B.get(A))===null||R===void 0||R.changeDropType()}}),(0,O.y)(u.P)},48659:function(Rt,Be,t){"use strict";t.d(Be,{p:function(){return s}});var f=t(34441),O=t(1894),u=t(98299),_=t(56709),p=t(38431),V=t(53028),I=t(76826),L=t(36953),E=t(44333),g=t(62297),a=function(m,b,c,v){var C=arguments.length,S=C<3?b:v===null?v=Object.getOwnPropertyDescriptor(b,c):v,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,b,c,v);else for(var P=m.length-1;P>=0;P--)(N=m[P])&&(S=(C<3?N(S):C>3?N(b,c,S):N(b,c))||S);return C>3&&S&&Object.defineProperty(b,c,S),S},l=function(m,b){return function(c,v){b(c,v,m)}},d=function(m,b,c,v){function C(S){return S instanceof c?S:new c(function(N){N(S)})}return new(c||(c=Promise))(function(S,N){function P(F){try{D(v.next(F))}catch(B){N(B)}}function M(F){try{D(v.throw(F))}catch(B){N(B)}}function D(F){F.done?S(F.value):C(F.value).then(P,M)}D((v=v.apply(m,b||[])).next())})};let i=class Yc extends p.JT{constructor(b,c,v,C,S,N,P,M,D,F){super(),this.typeId=b,this.editor=c,this.showCommand=C,this.range=S,this.edits=N,this.onSelectNewEdit=P,this._contextMenuService=M,this._keybindingService=F,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=v.bindTo(D),this.visibleContext.set(!0),this._register((0,p.OF)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,p.OF)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(B=>{S.containsPosition(B.position)||this.dispose()})),this._register(_.ju.runAndSubscribe(F.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var b;const c=(b=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||b===void 0?void 0:b.getLabel();this.button.element.title=this.showCommand.label+(c?` (${c})`:"")}create(){this.domNode=f.$(".post-edit-widget"),this.button=this._register(new O.z(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(f.nm(this.domNode,f.tw.CLICK,()=>this.showSelector()))}getId(){return Yc.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const b=f.i(this.button.element);return{x:b.left+b.width,y:b.top+b.height}},getActions:()=>this.edits.allEdits.map((b,c)=>(0,u.xw)({id:"",label:b.label,checked:c===this.edits.activeEditIndex,run:()=>{if(c!==this.edits.activeEditIndex)return this.onSelectNewEdit(c)}}))})}};i.baseId="editor.widget.postEditWidget",i=a([l(7,L.i),l(8,I.i6),l(9,g.d)],i);let s=class extends p.JT{constructor(b,c,v,C,S,N){super(),this._id=b,this._editor=c,this._visibleContext=v,this._showCommand=C,this._instantiationService=S,this._bulkEditService=N,this._currentWidget=this._register(new p.XK),this._register(_.ju.any(c.onDidChangeModel,c.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(b,c,v,C){var S,N;return d(this,void 0,void 0,function*(){const P=this._editor.getModel();if(!P||!b.length)return;const M=c.allEdits[c.activeEditIndex];if(!M)return;const D={edits:[...b.map(k=>new V.Gl(P.uri,typeof M.insertText=="string"?{range:k,text:M.insertText,insertAsSnippet:!1}:{range:k,text:M.insertText.snippet,insertAsSnippet:!0})),...(N=(S=M.additionalEdit)===null||S===void 0?void 0:S.edits)!==null&&N!==void 0?N:[]]},F=b[0],B=P.deltaDecorations([],[{range:F,options:{description:"paste-line-suffix",stickiness:0}}]);let U,A;try{U=yield this._bulkEditService.apply(D,{editor:this._editor,token:C}),A=P.getDecorationRange(B[0])}finally{P.deltaDecorations(B,[])}v&&U.isApplied&&c.allEdits.length>1&&this.show(A!=null?A:F,c,k=>d(this,void 0,void 0,function*(){const R=this._editor.getModel();R&&(yield R.undo(),this.applyEditAndShowIfNeeded(b,{activeEditIndex:k,allEdits:c.allEdits},v,C))}))})}show(b,c,v){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(i,this._id,this._editor,this._visibleContext,this._showCommand,b,c,v))}clear(){this._currentWidget.clear()}tryShowSelector(){var b;(b=this._currentWidget.value)===null||b===void 0||b.showSelector()}};s=a([l(4,E.TG),l(5,V.vu)],s)},44426:function(Rt,Be,t){"use strict";t.d(Be,{yy:function(){return i},Dl:function(){return s},YQ:function(){return m}});var f=t(17416),O=t(50038),u=t(97464),_=t(38431),p=t(55298),V=t(76826),I=t(17979),L=t(44333),E=t(53061),g=t(26386);const a=(0,L.yh)("IEditorCancelService"),l=new V.uy("cancellableOperation",!1,(0,g.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,E.z)(a,class{constructor(){this._tokens=new WeakMap}add(b,c){let v=this._tokens.get(b);v||(v=b.invokeWithinContext(S=>{const N=l.bindTo(S.get(V.i6)),P=new I.S;return{key:N,tokens:P}}),this._tokens.set(b,v));let C;return v.key.set(!0),C=v.tokens.push(c),()=>{C&&(C(),v.key.set(!v.tokens.isEmpty()),C=void 0)}}cancel(b){const c=this._tokens.get(b);if(!c)return;const v=c.tokens.pop();v&&(v.cancel(),c.key.set(!c.tokens.isEmpty()))}},1);class d extends u.A{constructor(c,v){super(v),this.editor=c,this._unregister=c.invokeWithinContext(C=>C.get(a).add(c,this))}dispose(){this._unregister(),super.dispose()}}(0,p.fK)(new class extends p._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:l})}runEditorCommand(b,c){b.get(a).cancel(c)}});class i{constructor(c,v){if(this.flags=v,this.flags&1){const C=c.getModel();this.modelVersionId=C?f.WU("{0}#{1}",C.uri.toString(),C.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=c.getPosition():this.position=null,this.flags&2?this.selection=c.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=c.getScrollLeft(),this.scrollTop=c.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(c){if(!(c instanceof i))return!1;const v=c;return!(this.modelVersionId!==v.modelVersionId||this.scrollLeft!==v.scrollLeft||this.scrollTop!==v.scrollTop||!this.position&&v.position||this.position&&!v.position||this.position&&v.position&&!this.position.equals(v.position)||!this.selection&&v.selection||this.selection&&!v.selection||this.selection&&v.selection&&!this.selection.equalsRange(v.selection))}validate(c){return this._equals(new i(c,this.flags))}}class s extends d{constructor(c,v,C,S){super(c,S),this._listener=new _.SL,v&4&&this._listener.add(c.onDidChangeCursorPosition(N=>{(!C||!O.e.containsPosition(C,N.position))&&this.cancel()})),v&2&&this._listener.add(c.onDidChangeCursorSelection(N=>{(!C||!O.e.containsRange(C,N.selection))&&this.cancel()})),v&8&&this._listener.add(c.onDidScrollChange(N=>this.cancel())),v&1&&(this._listener.add(c.onDidChangeModel(N=>this.cancel())),this._listener.add(c.onDidChangeModelContent(N=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class m extends u.A{constructor(c,v){super(v),this._listener=c.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},27293:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CommonFindController:function(){return Gt},FindController:function(){return Si},MatchFindAction:function(){return sn},MoveToMatchFindAction:function(){return ai},NextMatchFindAction:function(){return Xi},NextSelectionMatchFindAction:function(){return Jt},PreviousMatchFindAction:function(){return Oi},PreviousSelectionMatchFindAction:function(){return _t},SelectionMatchFindAction:function(){return Zt},StartFindAction:function(){return zi},StartFindReplaceAction:function(){return xt},StartFindWithArgsAction:function(){return Hi},StartFindWithSelectionAction:function(){return tn},getSelectionSearchString:function(){return fi}});var f=t(13484),O=t(38431),u=t(17416),_=t(55298),p=t(44411),V=t(21081),I=t(41913),L=t(16308),E=t(38050),g=t(8964),a=t(50038),l=t(57841),d=t(58461),i=t(45007),s=t(92537),m=t(58566);class b{constructor(ce){this._editor=ce,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const ce=this._findScopeDecorationIds.map(We=>this._editor.getModel().getDecorationRange(We)).filter(We=>!!We);if(ce.length)return ce}return null}getStartPosition(){return this._startPosition}setStartPosition(ce){this._startPosition=ce,this.setCurrentFindMatch(null)}_getDecorationIndex(ce){const We=this._decorations.indexOf(ce);return We>=0?We+1:1}getDecorationRangeAt(ce){const We=ce<this._decorations.length?this._decorations[ce]:null;return We?this._editor.getModel().getDecorationRange(We):null}getCurrentMatchesPosition(ce){const We=this._editor.getModel().getDecorationsInRange(ce);for(const Me of We){const ge=Me.options;if(ge===b._FIND_MATCH_DECORATION||ge===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(Me.id)}return 0}setCurrentFindMatch(ce){let We=null,Me=0;if(ce)for(let ge=0,Q=this._decorations.length;ge<Q;ge++){const ae=this._editor.getModel().getDecorationRange(this._decorations[ge]);if(ce.equalsRange(ae)){We=this._decorations[ge],Me=ge+1;break}}return(this._highlightedDecorationId!==null||We!==null)&&this._editor.changeDecorations(ge=>{if(this._highlightedDecorationId!==null&&(ge.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),We!==null&&(this._highlightedDecorationId=We,ge.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(ge.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),We!==null){let Q=this._editor.getModel().getDecorationRange(We);if(Q.startLineNumber!==Q.endLineNumber&&Q.endColumn===1){const ae=Q.endLineNumber-1,xe=this._editor.getModel().getLineMaxColumn(ae);Q=new a.e(Q.startLineNumber,Q.startColumn,ae,xe)}this._rangeHighlightDecorationId=ge.addDecoration(Q,b._RANGE_HIGHLIGHT_DECORATION)}}),Me}set(ce,We){this._editor.changeDecorations(Me=>{let ge=b._FIND_MATCH_DECORATION;const Q=[];if(ce.length>1e3){ge=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const xe=this._editor.getModel().getLineCount(),Je=this._editor.getLayoutInfo().height/xe,vt=Math.max(2,Math.ceil(3/Je));let St=ce[0].range.startLineNumber,wt=ce[0].range.endLineNumber;for(let Lt=1,Bt=ce.length;Lt<Bt;Lt++){const ei=ce[Lt].range;wt+vt>=ei.startLineNumber?ei.endLineNumber>wt&&(wt=ei.endLineNumber):(Q.push({range:new a.e(St,1,wt,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),St=ei.startLineNumber,wt=ei.endLineNumber)}Q.push({range:new a.e(St,1,wt,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const ae=new Array(ce.length);for(let xe=0,Ae=ce.length;xe<Ae;xe++)ae[xe]={range:ce[xe].range,options:ge};this._decorations=Me.deltaDecorations(this._decorations,ae),this._overviewRulerApproximateDecorations=Me.deltaDecorations(this._overviewRulerApproximateDecorations,Q),this._rangeHighlightDecorationId&&(Me.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(xe=>Me.removeDecoration(xe)),this._findScopeDecorationIds=[]),We!=null&&We.length&&(this._findScopeDecorationIds=We.map(xe=>Me.addDecoration(xe,b._FIND_SCOPE_DECORATION)))})}matchBeforePosition(ce){if(this._decorations.length===0)return null;for(let We=this._decorations.length-1;We>=0;We--){const Me=this._decorations[We],ge=this._editor.getModel().getDecorationRange(Me);if(!(!ge||ge.endLineNumber>ce.lineNumber)){if(ge.endLineNumber<ce.lineNumber)return ge;if(!(ge.endColumn>ce.column))return ge}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(ce){if(this._decorations.length===0)return null;for(let We=0,Me=this._decorations.length;We<Me;We++){const ge=this._decorations[We],Q=this._editor.getModel().getDecorationRange(ge);if(!(!Q||Q.startLineNumber<ce.lineNumber)){if(Q.startLineNumber>ce.lineNumber)return Q;if(!(Q.startColumn<ce.column))return Q}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let ce=[];return ce=ce.concat(this._decorations),ce=ce.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&ce.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&ce.push(this._rangeHighlightDecorationId),ce}}b._CURRENT_FIND_MATCH_DECORATION=i.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,m.EN)(s.Fm_),position:I.sh.Center},minimap:{color:(0,m.EN)(s.SUY),position:I.F5.Inline}}),b._FIND_MATCH_DECORATION=i.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,m.EN)(s.Fm_),position:I.sh.Center},minimap:{color:(0,m.EN)(s.SUY),position:I.F5.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=i.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=i.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,m.EN)(s.Fm_),position:I.sh.Center}}),b._RANGE_HIGHLIGHT_DECORATION=i.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=i.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class c{constructor(ce,We,Me){this._editorSelection=ce,this._ranges=We,this._replaceStrings=Me,this._trackedEditorSelectionId=null}getEditOperations(ce,We){if(this._ranges.length>0){const Me=[];for(let ae=0;ae<this._ranges.length;ae++)Me.push({range:this._ranges[ae],text:this._replaceStrings[ae]});Me.sort((ae,xe)=>a.e.compareRangesUsingStarts(ae.range,xe.range));const ge=[];let Q=Me[0];for(let ae=1;ae<Me.length;ae++)Q.range.endLineNumber===Me[ae].range.startLineNumber&&Q.range.endColumn===Me[ae].range.startColumn?(Q.range=Q.range.plusRange(Me[ae].range),Q.text=Q.text+Me[ae].text):(ge.push(Q),Q=Me[ae]);ge.push(Q);for(const ae of ge)We.addEditOperation(ae.range,ae.text)}this._trackedEditorSelectionId=We.trackSelection(this._editorSelection)}computeCursorState(ce,We){return We.getTrackedSelection(this._trackedEditorSelectionId)}}function v(at,ce){if(at&&at[0]!==""){const We=C(at,ce,"-"),Me=C(at,ce,"_");return We&&!Me?S(at,ce,"-"):!We&&Me?S(at,ce,"_"):at[0].toUpperCase()===at[0]?ce.toUpperCase():at[0].toLowerCase()===at[0]?ce.toLowerCase():u.Kw(at[0][0])&&ce.length>0?ce[0].toUpperCase()+ce.substr(1):at[0][0].toUpperCase()!==at[0][0]&&ce.length>0?ce[0].toLowerCase()+ce.substr(1):ce}else return ce}function C(at,ce,We){return at[0].indexOf(We)!==-1&&ce.indexOf(We)!==-1&&at[0].split(We).length===ce.split(We).length}function S(at,ce,We){const Me=ce.split(We),ge=at[0].split(We);let Q="";return Me.forEach((ae,xe)=>{Q+=v([ge[xe]],ae)+We}),Q.slice(0,-1)}class N{constructor(ce){this.staticValue=ce,this.kind=0}}class P{constructor(ce){this.pieces=ce,this.kind=1}}class M{static fromStaticValue(ce){return new M([D.staticValue(ce)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(ce){!ce||ce.length===0?this._state=new N(""):ce.length===1&&ce[0].staticValue!==null?this._state=new N(ce[0].staticValue):this._state=new P(ce)}buildReplaceString(ce,We){if(this._state.kind===0)return We?v(ce,this._state.staticValue):this._state.staticValue;let Me="";for(let ge=0,Q=this._state.pieces.length;ge<Q;ge++){const ae=this._state.pieces[ge];if(ae.staticValue!==null){Me+=ae.staticValue;continue}let xe=M._substitute(ae.matchIndex,ce);if(ae.caseOps!==null&&ae.caseOps.length>0){const Ae=[],Je=ae.caseOps.length;let vt=0;for(let St=0,wt=xe.length;St<wt;St++){if(vt>=Je){Ae.push(xe.slice(St));break}switch(ae.caseOps[vt]){case"U":Ae.push(xe[St].toUpperCase());break;case"u":Ae.push(xe[St].toUpperCase()),vt++;break;case"L":Ae.push(xe[St].toLowerCase());break;case"l":Ae.push(xe[St].toLowerCase()),vt++;break;default:Ae.push(xe[St])}}xe=Ae.join("")}Me+=xe}return Me}static _substitute(ce,We){if(We===null)return"";if(ce===0)return We[0];let Me="";for(;ce>0;){if(ce<We.length)return(We[ce]||"")+Me;Me=String(ce%10)+Me,ce=Math.floor(ce/10)}return"$"+Me}}class D{static staticValue(ce){return new D(ce,-1,null)}static caseOps(ce,We){return new D(null,ce,We)}constructor(ce,We,Me){this.staticValue=ce,this.matchIndex=We,!Me||Me.length===0?this.caseOps=null:this.caseOps=Me.slice(0)}}class F{constructor(ce){this._source=ce,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(ce){this._emitStatic(this._source.substring(this._lastCharIndex,ce)),this._lastCharIndex=ce}emitStatic(ce,We){this._emitStatic(ce),this._lastCharIndex=We}_emitStatic(ce){ce.length!==0&&(this._currentStaticPiece+=ce)}emitMatchIndex(ce,We,Me){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=D.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=D.caseOps(ce,Me),this._lastCharIndex=We}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=D.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new M(this._result)}}function B(at){if(!at||at.length===0)return new M(null);const ce=[],We=new F(at);for(let Me=0,ge=at.length;Me<ge;Me++){const Q=at.charCodeAt(Me);if(Q===92){if(Me++,Me>=ge)break;const ae=at.charCodeAt(Me);switch(ae){case 92:We.emitUnchanged(Me-1),We.emitStatic("\\",Me+1);break;case 110:We.emitUnchanged(Me-1),We.emitStatic(`
`,Me+1);break;case 116:We.emitUnchanged(Me-1),We.emitStatic("	",Me+1);break;case 117:case 85:case 108:case 76:We.emitUnchanged(Me-1),We.emitStatic("",Me+1),ce.push(String.fromCharCode(ae));break}continue}if(Q===36){if(Me++,Me>=ge)break;const ae=at.charCodeAt(Me);if(ae===36){We.emitUnchanged(Me-1),We.emitStatic("$",Me+1);continue}if(ae===48||ae===38){We.emitUnchanged(Me-1),We.emitMatchIndex(0,Me+1,ce),ce.length=0;continue}if(49<=ae&&ae<=57){let xe=ae-48;if(Me+1<ge){const Ae=at.charCodeAt(Me+1);if(48<=Ae&&Ae<=57){Me++,xe=xe*10+(Ae-48),We.emitUnchanged(Me-2),We.emitMatchIndex(xe,Me+1,ce),ce.length=0;continue}}We.emitUnchanged(Me-1),We.emitMatchIndex(xe,Me+1,ce),ce.length=0;continue}}}return We.finalize()}var U=t(76826);const A=new U.uy("findWidgetVisible",!1),k=A.toNegated(),R=new U.uy("findInputFocussed",!1),$=new U.uy("replaceInputFocussed",!1),J={primary:545,mac:{primary:2593}},Y={primary:565,mac:{primary:2613}},j={primary:560,mac:{primary:2608}},z={primary:554,mac:{primary:2602}},K={primary:558,mac:{primary:2606}},Z={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},fe=19999,T=240;class Re{constructor(ce,We){this._toDispose=new O.SL,this._editor=ce,this._state=We,this._isDisposed=!1,this._startSearchingTimer=new f._F,this._decorations=new b(ce),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new f.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(Me=>{(Me.reason===3||Me.reason===5||Me.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(Me=>{this._ignoreModelContentChanged||(Me.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(Me=>this._onStateChanged(Me))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,O.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(ce){this._isDisposed||this._editor.hasModel()&&(ce.searchString||ce.isReplaceRevealed||ce.isRegex||ce.wholeWord||ce.matchCase||ce.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{ce.searchScope?this.research(ce.moveCursor,this._state.searchScope):this.research(ce.moveCursor)},T)):ce.searchScope?this.research(ce.moveCursor,this._state.searchScope):this.research(ce.moveCursor))}static _getSearchRange(ce,We){return We||ce.getFullModelRange()}research(ce,We){let Me=null;typeof We!="undefined"?We!==null&&(Array.isArray(We)?Me=We:Me=[We]):Me=this._decorations.getFindScopes(),Me!==null&&(Me=Me.map(xe=>{if(xe.startLineNumber!==xe.endLineNumber){let Ae=xe.endLineNumber;return xe.endColumn===1&&(Ae=Ae-1),new a.e(xe.startLineNumber,1,Ae,this._editor.getModel().getLineMaxColumn(Ae))}return xe}));const ge=this._findMatches(Me,!1,fe);this._decorations.set(ge,Me);const Q=this._editor.getSelection();let ae=this._decorations.getCurrentMatchesPosition(Q);if(ae===0&&ge.length>0){const xe=(0,L.lG)(ge.map(Ae=>Ae.range),Ae=>a.e.compareRangesUsingStarts(Ae,Q)>=0);ae=xe>0?xe-1+1:ae}this._state.changeMatchInfo(ae,this._decorations.getCount(),void 0),ce&&this._editor.getOption(39).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const ce=this._decorations.getFindScope();return ce&&this._editor.revealRangeInCenterIfOutsideViewport(ce,0),!0}return!1}_setCurrentFindMatch(ce){const We=this._decorations.setCurrentFindMatch(ce);this._state.changeMatchInfo(We,this._decorations.getCount(),ce),this._editor.setSelection(ce),this._editor.revealRangeInCenterIfOutsideViewport(ce,0)}_prevSearchPosition(ce){const We=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:Me,column:ge}=ce;const Q=this._editor.getModel();return We||ge===1?(Me===1?Me=Q.getLineCount():Me--,ge=Q.getLineMaxColumn(Me)):ge--,new g.L(Me,ge)}_moveToPrevMatch(ce,We=!1){if(!this._state.canNavigateBack()){const vt=this._decorations.matchAfterPosition(ce);vt&&this._setCurrentFindMatch(vt);return}if(this._decorations.getCount()<fe){let vt=this._decorations.matchBeforePosition(ce);vt&&vt.isEmpty()&&vt.getStartPosition().equals(ce)&&(ce=this._prevSearchPosition(ce),vt=this._decorations.matchBeforePosition(ce)),vt&&this._setCurrentFindMatch(vt);return}if(this._cannotFind())return;const Me=this._decorations.getFindScope(),ge=Re._getSearchRange(this._editor.getModel(),Me);ge.getEndPosition().isBefore(ce)&&(ce=ge.getEndPosition()),ce.isBefore(ge.getStartPosition())&&(ce=ge.getEndPosition());const{lineNumber:Q,column:ae}=ce,xe=this._editor.getModel();let Ae=new g.L(Q,ae),Je=xe.findPreviousMatch(this._state.searchString,Ae,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,!1);if(Je&&Je.range.isEmpty()&&Je.range.getStartPosition().equals(Ae)&&(Ae=this._prevSearchPosition(Ae),Je=xe.findPreviousMatch(this._state.searchString,Ae,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,!1)),!!Je){if(!We&&!ge.containsRange(Je.range))return this._moveToPrevMatch(Je.range.getStartPosition(),!0);this._setCurrentFindMatch(Je.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(ce){const We=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:Me,column:ge}=ce;const Q=this._editor.getModel();return We||ge===Q.getLineMaxColumn(Me)?(Me===Q.getLineCount()?Me=1:Me++,ge=1):ge++,new g.L(Me,ge)}_moveToNextMatch(ce){if(!this._state.canNavigateForward()){const Me=this._decorations.matchBeforePosition(ce);Me&&this._setCurrentFindMatch(Me);return}if(this._decorations.getCount()<fe){let Me=this._decorations.matchAfterPosition(ce);Me&&Me.isEmpty()&&Me.getStartPosition().equals(ce)&&(ce=this._nextSearchPosition(ce),Me=this._decorations.matchAfterPosition(ce)),Me&&this._setCurrentFindMatch(Me);return}const We=this._getNextMatch(ce,!1,!0);We&&this._setCurrentFindMatch(We.range)}_getNextMatch(ce,We,Me,ge=!1){if(this._cannotFind())return null;const Q=this._decorations.getFindScope(),ae=Re._getSearchRange(this._editor.getModel(),Q);ae.getEndPosition().isBefore(ce)&&(ce=ae.getStartPosition()),ce.isBefore(ae.getStartPosition())&&(ce=ae.getStartPosition());const{lineNumber:xe,column:Ae}=ce,Je=this._editor.getModel();let vt=new g.L(xe,Ae),St=Je.findNextMatch(this._state.searchString,vt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,We);return Me&&St&&St.range.isEmpty()&&St.range.getStartPosition().equals(vt)&&(vt=this._nextSearchPosition(vt),St=Je.findNextMatch(this._state.searchString,vt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,We)),St?!ge&&!ae.containsRange(St.range)?this._getNextMatch(St.range.getEndPosition(),We,Me,!0):St:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(ce){const We=this._decorations.getDecorationRangeAt(ce);We&&this._setCurrentFindMatch(We)}moveToMatch(ce){this._moveToMatch(ce)}_getReplacePattern(){return this._state.isRegex?B(this._state.replaceString):M.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const ce=this._getReplacePattern(),We=this._editor.getSelection(),Me=this._getNextMatch(We.getStartPosition(),!0,!1);if(Me)if(We.equalsRange(Me.range)){const ge=ce.buildReplaceString(Me.matches,this._state.preserveCase),Q=new E.T4(We,ge);this._executeEditorCommand("replace",Q),this._decorations.setStartPosition(new g.L(We.startLineNumber,We.startColumn+ge.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(Me.range)}_findMatches(ce,We,Me){const ge=(ce||[null]).map(Q=>Re._getSearchRange(this._editor.getModel(),Q));return this._editor.getModel().findMatches(this._state.searchString,ge,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,We,Me)}replaceAll(){if(!this._hasMatches())return;const ce=this._decorations.getFindScopes();ce===null&&this._state.matchesCount>=fe?this._largeReplaceAll():this._regularReplaceAll(ce),this.research(!1)}_largeReplaceAll(){const We=new d.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null).parseSearchRequest();if(!We)return;let Me=We.regex;if(!Me.multiline){let St="mu";Me.ignoreCase&&(St+="i"),Me.global&&(St+="g"),Me=new RegExp(Me.source,St)}const ge=this._editor.getModel(),Q=ge.getValue(1),ae=ge.getFullModelRange(),xe=this._getReplacePattern();let Ae;const Je=this._state.preserveCase;xe.hasReplacementPatterns||Je?Ae=Q.replace(Me,function(){return xe.buildReplaceString(arguments,Je)}):Ae=Q.replace(Me,xe.buildReplaceString(null,Je));const vt=new E.hP(ae,Ae,this._editor.getSelection());this._executeEditorCommand("replaceAll",vt)}_regularReplaceAll(ce){const We=this._getReplacePattern(),Me=this._findMatches(ce,We.hasReplacementPatterns||this._state.preserveCase,1073741824),ge=[];for(let ae=0,xe=Me.length;ae<xe;ae++)ge[ae]=We.buildReplaceString(Me[ae].matches,this._state.preserveCase);const Q=new c(this._editor.getSelection(),Me.map(ae=>ae.range),ge);this._executeEditorCommand("replaceAll",Q)}selectAllMatches(){if(!this._hasMatches())return;const ce=this._decorations.getFindScopes();let Me=this._findMatches(ce,!1,1073741824).map(Q=>new l.Y(Q.range.startLineNumber,Q.range.startColumn,Q.range.endLineNumber,Q.range.endColumn));const ge=this._editor.getSelection();for(let Q=0,ae=Me.length;Q<ae;Q++)if(Me[Q].equalsRange(ge)){Me=[ge].concat(Me.slice(0,Q)).concat(Me.slice(Q+1));break}this._editor.setSelections(Me)}_executeEditorCommand(ce,We){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(ce,We),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var Ce=t(34441),_e=t(22664),pe=t(88305);class le extends pe.${constructor(ce,We,Me){super(),this._hideSoon=this._register(new f.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=ce,this._state=We,this._keybindingService=Me,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const ge={inputActiveOptionBorder:(0,s.n_1)(s.PRb),inputActiveOptionForeground:(0,s.n_1)(s.Pvw),inputActiveOptionBackground:(0,s.n_1)(s.XEs)};this.caseSensitive=this._register(new _e.rk(Object.assign({appendTitle:this._keybindingLabelFor(Z.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},ge))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new _e.Qx(Object.assign({appendTitle:this._keybindingLabelFor(Z.ToggleWholeWordCommand),isChecked:this._state.wholeWord},ge))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new _e.eH(Object.assign({appendTitle:this._keybindingLabelFor(Z.ToggleRegexCommand),isChecked:this._state.isRegex},ge))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(Q=>{let ae=!1;Q.isRegex&&(this.regex.checked=this._state.isRegex,ae=!0),Q.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,ae=!0),Q.matchCase&&(this.caseSensitive.checked=this._state.matchCase,ae=!0),!this._state.isRevealed&&ae&&this._revealTemporarily()})),this._register(Ce.nm(this._domNode,Ce.tw.MOUSE_LEAVE,Q=>this._onMouseLeave())),this._register(Ce.nm(this._domNode,"mouseover",Q=>this._onMouseOver()))}_keybindingLabelFor(ce){const We=this._keybindingService.lookupKeybinding(ce);return We?` (${We.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return le.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}le.ID="editor.contrib.findOptionsWidget";var oe=t(56709);function he(at,ce){return at===1?!0:at===2?!1:ce}class je extends O.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return he(this._isRegexOverride,this._isRegex)}get wholeWord(){return he(this._wholeWordOverride,this._wholeWord)}get matchCase(){return he(this._matchCaseOverride,this._matchCase)}get preserveCase(){return he(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new oe.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(ce,We,Me){const ge={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Q=!1;We===0&&(ce=0),ce>We&&(ce=We),this._matchesPosition!==ce&&(this._matchesPosition=ce,ge.matchesPosition=!0,Q=!0),this._matchesCount!==We&&(this._matchesCount=We,ge.matchesCount=!0,Q=!0),typeof Me!="undefined"&&(a.e.equalsRange(this._currentMatch,Me)||(this._currentMatch=Me,ge.currentMatch=!0,Q=!0)),Q&&this._onFindReplaceStateChange.fire(ge)}change(ce,We,Me=!0){var ge;const Q={moveCursor:We,updateHistory:Me,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let ae=!1;const xe=this.isRegex,Ae=this.wholeWord,Je=this.matchCase,vt=this.preserveCase;typeof ce.searchString!="undefined"&&this._searchString!==ce.searchString&&(this._searchString=ce.searchString,Q.searchString=!0,ae=!0),typeof ce.replaceString!="undefined"&&this._replaceString!==ce.replaceString&&(this._replaceString=ce.replaceString,Q.replaceString=!0,ae=!0),typeof ce.isRevealed!="undefined"&&this._isRevealed!==ce.isRevealed&&(this._isRevealed=ce.isRevealed,Q.isRevealed=!0,ae=!0),typeof ce.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==ce.isReplaceRevealed&&(this._isReplaceRevealed=ce.isReplaceRevealed,Q.isReplaceRevealed=!0,ae=!0),typeof ce.isRegex!="undefined"&&(this._isRegex=ce.isRegex),typeof ce.wholeWord!="undefined"&&(this._wholeWord=ce.wholeWord),typeof ce.matchCase!="undefined"&&(this._matchCase=ce.matchCase),typeof ce.preserveCase!="undefined"&&(this._preserveCase=ce.preserveCase),typeof ce.searchScope!="undefined"&&(!((ge=ce.searchScope)===null||ge===void 0)&&ge.every(St=>{var wt;return(wt=this._searchScope)===null||wt===void 0?void 0:wt.some(Lt=>!a.e.equalsRange(Lt,St))})||(this._searchScope=ce.searchScope,Q.searchScope=!0,ae=!0)),typeof ce.loop!="undefined"&&this._loop!==ce.loop&&(this._loop=ce.loop,Q.loop=!0,ae=!0),typeof ce.isSearching!="undefined"&&this._isSearching!==ce.isSearching&&(this._isSearching=ce.isSearching,Q.isSearching=!0,ae=!0),typeof ce.filters!="undefined"&&(this._filters?this._filters.update(ce.filters):this._filters=ce.filters,Q.filters=!0,ae=!0),this._isRegexOverride=typeof ce.isRegexOverride!="undefined"?ce.isRegexOverride:0,this._wholeWordOverride=typeof ce.wholeWordOverride!="undefined"?ce.wholeWordOverride:0,this._matchCaseOverride=typeof ce.matchCaseOverride!="undefined"?ce.matchCaseOverride:0,this._preserveCaseOverride=typeof ce.preserveCaseOverride!="undefined"?ce.preserveCaseOverride:0,xe!==this.isRegex&&(ae=!0,Q.isRegex=!0),Ae!==this.wholeWord&&(ae=!0,Q.wholeWord=!0),Je!==this.matchCase&&(ae=!0,Q.matchCase=!0),vt!==this.preserveCase&&(ae=!0,Q.preserveCase=!0),ae&&this._onFindReplaceStateChange.fire(Q)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=fe}}var Xe=t(79874),Ve=t(23602),se=t(52243),q=t(407),Ee=t(20996),Se=t(11138),we=t(26386),ve=t(99650);function Ne(at){var ce,We;return((ce=at.lookupKeybinding("history.showPrevious"))===null||ce===void 0?void 0:ce.getElectronAccelerator())==="Up"&&((We=at.lookupKeybinding("history.showNext"))===null||We===void 0?void 0:We.getElectronAccelerator())==="Down"}var $e=t(89528),Ke=t(8216),ze=t(49914),He=t(14818),Le=t(60140),de=function(at,ce,We,Me){function ge(Q){return Q instanceof We?Q:new We(function(ae){ae(Q)})}return new(We||(We=Promise))(function(Q,ae){function xe(vt){try{Je(Me.next(vt))}catch(St){ae(St)}}function Ae(vt){try{Je(Me.throw(vt))}catch(St){ae(St)}}function Je(vt){vt.done?Q(vt.value):ge(vt.value).then(xe,Ae)}Je((Me=Me.apply(at,ce||[])).next())})};const ee=(0,$e.q5)("find-selection",q.l.selection,we.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),ne=(0,$e.q5)("find-collapsed",q.l.chevronRight,we.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),me=(0,$e.q5)("find-expanded",q.l.chevronDown,we.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),ue=(0,$e.q5)("find-replace",q.l.replace,we.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Pe=(0,$e.q5)("find-replace-all",q.l.replaceAll,we.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),ot=(0,$e.q5)("find-previous-match",q.l.arrowUp,we.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),gt=(0,$e.q5)("find-next-match",q.l.arrowDown,we.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),nt=we.NC("label.find","Find"),tt=we.NC("placeholder.find","Find"),st=we.NC("label.previousMatchButton","Previous Match"),It=we.NC("label.nextMatchButton","Next Match"),Wt=we.NC("label.toggleSelectionFind","Find in Selection"),Vt=we.NC("label.closeButton","Close"),Ct=we.NC("label.replace","Replace"),gi=we.NC("placeholder.replace","Replace"),jt=we.NC("label.replaceButton","Replace"),Ye=we.NC("label.replaceAllButton","Replace All"),ut=we.NC("label.toggleReplaceButton","Toggle Replace"),dt=we.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",fe),bt=we.NC("label.matchesLocation","{0} of {1}"),Mt=we.NC("label.noResults","No results"),ni=419,yt=275-54;let At=69;const Qt=33,si="ctrlEnterReplaceAll.windows.donotask",oi=Se.dz?256:2048;class mi{constructor(ce){this.afterLineNumber=ce,this.heightInPx=Qt,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function bi(at,ce,We){const Me=!!ce.match(/\n/);if(We&&Me&&We.selectionStart>0){at.stopPropagation();return}}function Ai(at,ce,We){const Me=!!ce.match(/\n/);if(We&&Me&&We.selectionEnd<We.value.length){at.stopPropagation();return}}class $i extends pe.${constructor(ce,We,Me,ge,Q,ae,xe,Ae,Je){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ce,this._controller=We,this._state=Me,this._contextViewProvider=ge,this._keybindingService=Q,this._contextKeyService=ae,this._storageService=Ae,this._notificationService=Je,this._ctrlEnterReplaceAllWarningPrompted=!!Ae.getBoolean(si,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new f.vp(500),this._register((0,O.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(vt=>this._onStateChanged(vt))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(vt=>{if(vt.hasChanged(88)&&(this._codeEditor.getOption(88)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),vt.hasChanged(140)&&this._tryUpdateWidgetWidth(),vt.hasChanged(2)&&this.updateAccessibilitySupport(),vt.hasChanged(39)){const St=this._codeEditor.getOption(39).loop;this._state.change({loop:St},!1);const wt=this._codeEditor.getOption(39).addExtraSpaceOnTop;wt&&!this._viewZone&&(this._viewZone=new mi(0),this._showViewZone()),!wt&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>de(this,void 0,void 0,function*(){if(this._isVisible){const vt=yield this._controller.getGlobalBufferTerm();vt&&vt!==this._state.searchString&&(this._state.change({searchString:vt},!1),this._findInput.select())}}))),this._findInputFocused=R.bindTo(ae),this._findFocusTracker=this._register(Ce.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=$.bindTo(ae),this._replaceFocusTracker=this._register(Ce.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(39).addExtraSpaceOnTop&&(this._viewZone=new mi(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(vt=>{if(vt.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return $i.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ce){if(ce.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ce.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ce.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ce.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(88)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Ce.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ce.isRevealed||ce.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ce.isRegex&&this._findInput.setRegex(this._state.isRegex),ce.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ce.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ce.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ce.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ce.searchString||ce.matchesCount||ce.matchesPosition){const We=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",We),this._updateMatchesCount(),this._updateButtons()}(ce.searchString||ce.currentMatch)&&this._layoutViewZone(),ce.updateHistory&&this._delayedUpdateHistory(),ce.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ee.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=At+"px",this._state.matchesCount>=fe?this._matchesCount.title=dt:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let ce;if(this._state.matchesCount>0){let We=String(this._state.matchesCount);this._state.matchesCount>=fe&&(We+="+");let Me=String(this._state.matchesPosition);Me==="0"&&(Me="?"),ce=u.WU(bt,Me,We)}else ce=Mt;this._matchesCount.appendChild(document.createTextNode(ce)),(0,Xe.Z9)(this._getAriaLabel(ce,this._state.currentMatch,this._state.searchString)),At=Math.max(At,this._matchesCount.clientWidth)}_getAriaLabel(ce,We,Me){if(ce===Mt)return Me===""?we.NC("ariaSearchNoResultEmpty","{0} found",ce):we.NC("ariaSearchNoResult","{0} found for '{1}'",ce,Me);if(We){const ge=we.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",ce,Me,We.startLineNumber+":"+We.startColumn),Q=this._codeEditor.getModel();return Q&&We.startLineNumber<=Q.getLineCount()&&We.startLineNumber>=1?`${Q.getLineContent(We.startLineNumber)}, ${ge}`:ge}return we.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",ce,Me)}_updateToggleSelectionFindButton(){const ce=this._codeEditor.getSelection(),We=ce?ce.startLineNumber!==ce.endLineNumber||ce.startColumn!==ce.endColumn:!1,Me=this._toggleSelectionFind.checked;this._isVisible&&(Me||We)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const ce=this._state.searchString.length>0,We=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ce&&We&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ce&&We&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ce),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ce),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const Me=!this._codeEditor.getOption(88);this._toggleReplaceBtn.setEnabled(this._isVisible&&Me)}_reveal(){if(this._revealTimeouts.forEach(ce=>{clearTimeout(ce)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ce=this._codeEditor.getSelection();switch(this._codeEditor.getOption(39).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const Me=!!ce&&ce.startLineNumber!==ce.endLineNumber;this._toggleSelectionFind.checked=Me;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let We=!0;if(this._codeEditor.getOption(39).seedSearchStringFromSelection&&ce){const Me=this._codeEditor.getDomNode();if(Me){const ge=Ce.i(Me),Q=this._codeEditor.getScrolledVisiblePosition(ce.getStartPosition()),ae=ge.left+(Q?Q.left:0),xe=Q?Q.top:0;if(this._viewZone&&xe<this._viewZone.heightInPx){ce.endLineNumber>ce.startLineNumber&&(We=!1);const Ae=Ce.xQ(this._domNode).left;ae>Ae&&(We=!1);const Je=this._codeEditor.getScrolledVisiblePosition(ce.getEndPosition());ge.left+(Je?Je.left:0)>Ae&&(We=!1)}}}this._showViewZone(We)}}_hide(ce){this._revealTimeouts.forEach(We=>{clearTimeout(We)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ce&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ce){if(!this._codeEditor.getOption(39).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const Me=this._viewZone;this._viewZoneId!==void 0||!Me||this._codeEditor.changeViewZones(ge=>{Me.heightInPx=this._getHeight(),this._viewZoneId=ge.addZone(Me),this._codeEditor.setScrollTop(ce||this._codeEditor.getScrollTop()+Me.heightInPx)})}_showViewZone(ce=!0){if(!this._isVisible||!this._codeEditor.getOption(39).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new mi(0));const Me=this._viewZone;this._codeEditor.changeViewZones(ge=>{if(this._viewZoneId!==void 0){const Q=this._getHeight();if(Q===Me.heightInPx)return;const ae=Q-Me.heightInPx;Me.heightInPx=Q,ge.layoutZone(this._viewZoneId),ce&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ae);return}else{let Q=this._getHeight();if(Q-=this._codeEditor.getOption(81).top,Q<=0)return;Me.heightInPx=Q,this._viewZoneId=ge.addZone(Me),ce&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Q)}})}_removeViewZone(){this._codeEditor.changeViewZones(ce=>{this._viewZoneId!==void 0&&(ce.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!Ce.Uw(this._domNode))return;const ce=this._codeEditor.getLayoutInfo();if(ce.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const Me=ce.width,ge=ce.minimap.minimapWidth;let Q=!1,ae=!1,xe=!1;if(this._resized&&Ce.w(this._domNode)>ni){this._domNode.style.maxWidth=`${Me-28-ge-15}px`,this._replaceInput.width=Ce.w(this._findInput.domNode);return}if(ni+28+ge>=Me&&(ae=!0),ni+28+ge-At>=Me&&(xe=!0),ni+28+ge-At>=Me+50&&(Q=!0),this._domNode.classList.toggle("collapsed-find-widget",Q),this._domNode.classList.toggle("narrow-find-widget",xe),this._domNode.classList.toggle("reduced-find-widget",ae),!xe&&!Q&&(this._domNode.style.maxWidth=`${Me-28-ge-15}px`),this._findInput.layout({collapsedFindWidget:Q,narrowFindWidget:xe,reducedFindWidget:ae}),this._resized){const Ae=this._findInput.inputBox.element.clientWidth;Ae>0&&(this._replaceInput.width=Ae)}else this._isReplaceVisible&&(this._replaceInput.width=Ce.w(this._findInput.domNode))}_getHeight(){let ce=0;return ce+=4,ce+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ce+=4,ce+=this._replaceInput.inputBox.height+2),ce+=4,ce}_tryUpdateHeight(){const ce=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ce?!1:(this._cachedHeight=ce,this._domNode.style.height=`${ce}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const ce=this._codeEditor.getSelections();ce.map(We=>{We.endColumn===1&&We.endLineNumber>We.startLineNumber&&(We=We.setEndPosition(We.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(We.endLineNumber-1)));const Me=this._state.currentMatch;return We.startLineNumber!==We.endLineNumber&&!a.e.equalsRange(We,Me)?We:null}).filter(We=>!!We),ce.length&&this._state.change({searchScope:ce},!0)}}_onFindInputMouseDown(ce){ce.middleButton&&ce.stopPropagation()}_onFindInputKeyDown(ce){if(ce.equals(oi|3))if(this._keybindingService.dispatchEvent(ce,ce.target)){ce.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ce.preventDefault();return}if(ce.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ce.preventDefault();return}if(ce.equals(2066)){this._codeEditor.focus(),ce.preventDefault();return}if(ce.equals(16))return bi(ce,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ce.equals(18))return Ai(ce,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ce){if(ce.equals(oi|3))if(this._keybindingService.dispatchEvent(ce,ce.target)){ce.preventDefault();return}else{Se.ED&&Se.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(we.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(si,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ce.preventDefault();return}if(ce.equals(2)){this._findInput.focusOnCaseSensitive(),ce.preventDefault();return}if(ce.equals(1026)){this._findInput.focus(),ce.preventDefault();return}if(ce.equals(2066)){this._codeEditor.focus(),ce.preventDefault();return}if(ce.equals(16))return bi(ce,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ce.equals(18))return Ai(ce,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ce){return 0}_keybindingLabelFor(ce){const We=this._keybindingService.lookupKeybinding(ce);return We?` (${We.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new ve.Yb(null,this._contextViewProvider,{width:yt,label:nt,placeholder:tt,appendCaseSensitiveLabel:this._keybindingLabelFor(Z.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Z.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Z.ToggleRegexCommand),validation:Ae=>{if(Ae.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Ae,"gu"),null}catch(Je){return{content:Je.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>Ne(this._keybindingService),inputBoxStyles:Le.Hc,toggleStyles:Le.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Ae=>this._onFindInputKeyDown(Ae))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Ae=>{Ae.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Ae.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Ae=>{Ae.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Ae.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Ae=>{this._tryUpdateHeight()&&this._showViewZone()})),Se.IJ&&this._register(this._findInput.onMouseDown(Ae=>this._onFindInputMouseDown(Ae))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Vi({label:st+this._keybindingLabelFor(Z.PreviousMatchFindAction),icon:ot,onTrigger:()=>{(0,He.cW)(this._codeEditor.getAction(Z.PreviousMatchFindAction)).run().then(void 0,Ee.dL)}})),this._nextBtn=this._register(new Vi({label:It+this._keybindingLabelFor(Z.NextMatchFindAction),icon:gt,onTrigger:()=>{(0,He.cW)(this._codeEditor.getAction(Z.NextMatchFindAction)).run().then(void 0,Ee.dL)}}));const Me=document.createElement("div");Me.className="find-part",Me.appendChild(this._findInput.domNode);const ge=document.createElement("div");ge.className="find-actions",Me.appendChild(ge),ge.appendChild(this._matchesCount),ge.appendChild(this._prevBtn.domNode),ge.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ve.Z({icon:ee,title:Wt+this._keybindingLabelFor(Z.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,s.n_1)(s.XEs),inputActiveOptionBorder:(0,s.n_1)(s.PRb),inputActiveOptionForeground:(0,s.n_1)(s.Pvw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const Ae=this._codeEditor.getSelections();Ae.map(Je=>(Je.endColumn===1&&Je.endLineNumber>Je.startLineNumber&&(Je=Je.setEndPosition(Je.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Je.endLineNumber-1))),Je.isEmpty()?null:Je)).filter(Je=>!!Je),Ae.length&&this._state.change({searchScope:Ae},!0)}}else this._state.change({searchScope:null},!0)})),ge.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Vi({label:Vt+this._keybindingLabelFor(Z.CloseFindWidgetCommand),icon:$e.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Ae=>{Ae.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Ae.preventDefault())}})),ge.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new ve.Nq(null,void 0,{label:Ct,placeholder:gi,appendPreserveCaseLabel:this._keybindingLabelFor(Z.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Ne(this._keybindingService),inputBoxStyles:Le.Hc,toggleStyles:Le.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Ae=>this._onReplaceInputKeyDown(Ae))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Ae=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Ae=>{Ae.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Ae.preventDefault())})),this._replaceBtn=this._register(new Vi({label:jt+this._keybindingLabelFor(Z.ReplaceOneAction),icon:ue,onTrigger:()=>{this._controller.replace()},onKeyDown:Ae=>{Ae.equals(1026)&&(this._closeBtn.focus(),Ae.preventDefault())}})),this._replaceAllBtn=this._register(new Vi({label:Ye+this._keybindingLabelFor(Z.ReplaceAllAction),icon:Pe,onTrigger:()=>{this._controller.replaceAll()}}));const Q=document.createElement("div");Q.className="replace-part",Q.appendChild(this._replaceInput.domNode);const ae=document.createElement("div");ae.className="replace-actions",Q.appendChild(ae),ae.appendChild(this._replaceBtn.domNode),ae.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Vi({label:ut,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Ce.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${ni}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Me),this._domNode.appendChild(Q),this._resizeSash=new se.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let xe=ni;this._register(this._resizeSash.onDidStart(()=>{xe=Ce.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Ae=>{this._resized=!0;const Je=xe+Ae.startX-Ae.currentX;if(Je<ni)return;const vt=parseFloat(Ce.Dx(this._domNode).maxWidth)||0;Je>vt||(this._domNode.style.width=`${Je}px`,this._isReplaceVisible&&(this._replaceInput.width=Ce.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Ae=Ce.w(this._domNode);if(Ae<ni)return;let Je=ni;if(!this._resized||Ae===ni){const vt=this._codeEditor.getLayoutInfo();Je=vt.width-28-vt.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Je}px`,this._isReplaceVisible&&(this._replaceInput.width=Ce.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ce=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ce!==2)}}$i.ID="editor.contrib.findWidget";class Vi extends pe.${constructor(ce){super(),this._opts=ce;let We="button";this._opts.className&&(We=We+" "+this._opts.className),this._opts.icon&&(We=We+" "+Ke.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=We,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,Me=>{this._opts.onTrigger(),Me.preventDefault()}),this.onkeydown(this._domNode,Me=>{var ge,Q;if(Me.equals(10)||Me.equals(3)){this._opts.onTrigger(),Me.preventDefault();return}(Q=(ge=this._opts).onKeyDown)===null||Q===void 0||Q.call(ge,Me)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ce){this._domNode.classList.toggle("disabled",!ce),this._domNode.setAttribute("aria-disabled",String(!ce)),this._domNode.tabIndex=ce?0:-1}setExpanded(ce){this._domNode.setAttribute("aria-expanded",String(!!ce)),ce?(this._domNode.classList.remove(...Ke.k.asClassNameArray(ne)),this._domNode.classList.add(...Ke.k.asClassNameArray(me))):(this._domNode.classList.remove(...Ke.k.asClassNameArray(me)),this._domNode.classList.add(...Ke.k.asClassNameArray(ne)))}}(0,m.Ic)((at,ce)=>{const We=(ei,pi)=>{pi&&ce.addRule(`.monaco-editor ${ei} { background-color: ${pi}; }`)};We(".findMatch",at.getColor(s.MUv)),We(".currentFindMatch",at.getColor(s.nyM)),We(".findScope",at.getColor(s.jUe));const Me=at.getColor(s.D0T);We(".find-widget",Me);const ge=at.getColor(s.rh);ge&&ce.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${ge}; }`);const Q=at.getColor(s.A42);Q&&ce.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${Q}; border-right: 1px solid ${Q}; border-bottom: 1px solid ${Q}; }`);const ae=at.getColor(s.EiJ);ae&&ce.addRule(`.monaco-editor .findMatch { border: 1px ${(0,ze.c3)(at.type)?"dotted":"solid"} ${ae}; box-sizing: border-box; }`);const xe=at.getColor(s.pnM);xe&&ce.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${xe}; padding: 1px; box-sizing: border-box; }`);const Ae=at.getColor(s.gkn);Ae&&ce.addRule(`.monaco-editor .findScope { border: 1px ${(0,ze.c3)(at.type)?"dashed":"solid"} ${Ae}; }`);const Je=at.getColor(s.lRK);Je&&ce.addRule(`.monaco-editor .find-widget { border: 1px solid ${Je}; }`);const vt=at.getColor(s.Hfx);vt&&ce.addRule(`.monaco-editor .find-widget { color: ${vt}; }`);const St=at.getColor(s.Ido);St&&ce.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${St}; }`);const wt=at.getColor(s.Ng6);if(wt)ce.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${wt}; }`);else{const ei=at.getColor(s.D1_);ei&&ce.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ei}; }`)}const Lt=at.getColor(s.lUq);Lt&&ce.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${Lt} !important;
		}
	`);const Bt=at.getColor(s.R80);Bt&&ce.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Bt}; }`)});var Qi=t(21208),fn=t(51941),Yi=t(36953),Pi=t(62297),Li=t(97968),gn=t(38785),on=t(63536),Nn=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},ln=function(at,ce){return function(We,Me){ce(We,Me,at)}},Yt=function(at,ce,We,Me){function ge(Q){return Q instanceof We?Q:new We(function(ae){ae(Q)})}return new(We||(We=Promise))(function(Q,ae){function xe(vt){try{Je(Me.next(vt))}catch(St){ae(St)}}function Ae(vt){try{Je(Me.throw(vt))}catch(St){ae(St)}}function Je(vt){vt.done?Q(vt.value):ge(vt.value).then(xe,Ae)}Je((Me=Me.apply(at,ce||[])).next())})};const ti=524288;function fi(at,ce="single",We=!1){if(!at.hasModel())return null;const Me=at.getSelection();if(ce==="single"&&Me.startLineNumber===Me.endLineNumber||ce==="multiple"){if(Me.isEmpty()){const ge=at.getConfiguredWordAtPosition(Me.getStartPosition());if(ge&&We===!1)return ge.word}else if(at.getModel().getValueLengthInRange(Me)<ti)return at.getModel().getValueInRange(Me)}return null}let Gt=class Xc extends O.JT{get editor(){return this._editor}static get(ce){return ce.getContribution(Xc.ID)}constructor(ce,We,Me,ge){super(),this._editor=ce,this._findWidgetVisible=A.bindTo(We),this._contextKeyService=We,this._storageService=Me,this._clipboardService=ge,this._updateHistoryDelayer=new f.vp(500),this._state=this._register(new je),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Q=>this._onStateChanged(Q))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Q=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Q&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(39).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(ce){this.saveQueryState(ce),ce.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),ce.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(ce){ce.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),ce.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),ce.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),ce.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!R.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const ce=this._editor.getSelections();ce.map(We=>(We.endColumn===1&&We.endLineNumber>We.startLineNumber&&(We=We.setEndPosition(We.endLineNumber-1,this._editor.getModel().getLineMaxColumn(We.endLineNumber-1))),We.isEmpty()?null:We)).filter(We=>!!We),ce.length&&this._state.change({searchScope:ce},!0)}}setSearchString(ce){this._state.isRegex&&(ce=u.ec(ce)),this._state.change({searchString:ce},!1)}highlightFindOptions(ce=!1){}_start(ce,We){return Yt(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const Me=Object.assign(Object.assign({},We),{isRevealed:!0});if(ce.seedSearchStringFromSelection==="single"){const ge=fi(this._editor,ce.seedSearchStringFromSelection,ce.seedSearchStringFromNonEmptySelection);ge&&(this._state.isRegex?Me.searchString=u.ec(ge):Me.searchString=ge)}else if(ce.seedSearchStringFromSelection==="multiple"&&!ce.updateSearchScope){const ge=fi(this._editor,ce.seedSearchStringFromSelection);ge&&(Me.searchString=ge)}if(!Me.searchString&&ce.seedSearchStringFromGlobalClipboard){const ge=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;ge&&(Me.searchString=ge)}if(ce.forceRevealReplace||Me.isReplaceRevealed?Me.isReplaceRevealed=!0:this._findWidgetVisible.get()||(Me.isReplaceRevealed=!1),ce.updateSearchScope){const ge=this._editor.getSelections();ge.some(Q=>!Q.isEmpty())&&(Me.searchScope=ge)}Me.loop=ce.loop,this._state.change(Me,!1),this._model||(this._model=new Re(this._editor,this._state))})}start(ce,We){return this._start(ce,We)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(ce){return this._model?(this._model.moveToMatch(ce),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Yt(this,void 0,void 0,function*(){return this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(ce){this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(ce)}};Gt.ID="editor.contrib.findController",Gt=Nn([ln(1,U.i6),ln(2,on.Uy),ln(3,fn.p)],Gt);let Si=class extends Gt{constructor(ce,We,Me,ge,Q,ae,xe,Ae){super(ce,Me,xe,Ae),this._contextViewService=We,this._keybindingService=ge,this._themeService=Q,this._notificationService=ae,this._widget=null,this._findOptionsWidget=null}_start(ce,We){const Me=Object.create(null,{_start:{get:()=>super._start}});return Yt(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const ge=this._editor.getSelection();let Q=!1;switch(this._editor.getOption(39).autoFindInSelection){case"always":Q=!0;break;case"never":Q=!1;break;case"multiline":{Q=!!ge&&ge.startLineNumber!==ge.endLineNumber;break}default:break}ce.updateSearchScope=ce.updateSearchScope||Q,yield Me._start.call(this,ce,We),this._widget&&(ce.shouldFocus===2?this._widget.focusReplaceInput():ce.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(ce=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!ce?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new $i(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new le(this._editor,this._state,this._keybindingService))}};Si=Nn([ln(1,Yi.u),ln(2,U.i6),ln(3,Pi.d),ln(4,m.XE),ln(5,Li.lT),ln(6,on.Uy),ln(7,fn.p)],Si);const zi=(0,_.rn)(new _.jY({id:Z.StartFindAction,label:we.NC("startFindAction","Find"),alias:"Find",precondition:U.Ao.or(V.u.focus,U.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Qi.eH.MenubarEditMenu,group:"3_find",title:we.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));zi.addImplementation(0,(at,ce,We)=>{const Me=Gt.get(ce);return Me?Me.start({forceRevealReplace:!1,seedSearchStringFromSelection:ce.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ce.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ce.getOption(39).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:ce.getOption(39).loop}):!1});const ji={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:we.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:we.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:we.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:we.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class Hi extends _.R6{constructor(){super({id:Z.StartFindWithArgs,label:we.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:ji})}run(ce,We,Me){return Yt(this,void 0,void 0,function*(){const ge=Gt.get(We);if(ge){const Q=Me?{searchString:Me.searchString,replaceString:Me.replaceString,isReplaceRevealed:Me.replaceString!==void 0,isRegex:Me.isRegex,wholeWord:Me.matchWholeWord,matchCase:Me.isCaseSensitive,preserveCase:Me.preserveCase}:{};yield ge.start({forceRevealReplace:!1,seedSearchStringFromSelection:ge.getState().searchString.length===0&&We.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:We.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(Me==null?void 0:Me.findInSelection)||!1,loop:We.getOption(39).loop},Q),ge.setGlobalBufferTerm(ge.getState().searchString)}})}}class tn extends _.R6{constructor(){super({id:Z.StartFindWithSelection,label:we.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(ce,We){return Yt(this,void 0,void 0,function*(){const Me=Gt.get(We);Me&&(yield Me.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:We.getOption(39).loop}),Me.setGlobalBufferTerm(Me.getState().searchString))})}}class sn extends _.R6{run(ce,We){return Yt(this,void 0,void 0,function*(){const Me=Gt.get(We);Me&&!this._run(Me)&&(yield Me.start({forceRevealReplace:!1,seedSearchStringFromSelection:Me.getState().searchString.length===0&&We.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:We.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:We.getOption(39).loop}),this._run(Me))})}}class Xi extends sn{constructor(){super({id:Z.NextMatchFindAction,label:we.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:V.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:U.Ao.and(V.u.focus,R),primary:3,weight:100}]})}_run(ce){return ce.moveToNextMatch()?(ce.editor.pushUndoStop(),!0):!1}}class Oi extends sn{constructor(){super({id:Z.PreviousMatchFindAction,label:we.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:V.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:U.Ao.and(V.u.focus,R),primary:1027,weight:100}]})}_run(ce){return ce.moveToPrevMatch()}}class ai extends _.R6{constructor(){super({id:Z.GoToMatchFindAction,label:we.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:A}),this._highlightDecorations=[]}run(ce,We,Me){const ge=Gt.get(We);if(!ge)return;const Q=ge.getState().matchesCount;if(Q<1){ce.get(Li.lT).notify({severity:Li.zb.Warning,message:we.NC("findMatchAction.noResults","No matches. Try searching for something else.")});return}const xe=ce.get(gn.eJ).createInputBox();xe.placeholder=we.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",Q);const Ae=vt=>{const St=parseInt(vt);if(isNaN(St))return;const wt=ge.getState().matchesCount;if(St>0&&St<=wt)return St-1;if(St<0&&St>=-wt)return wt+St},Je=vt=>{const St=Ae(vt);if(typeof St=="number"){xe.validationMessage=void 0,ge.goToMatch(St);const wt=ge.getState().currentMatch;wt&&this.addDecorations(We,wt)}else xe.validationMessage=we.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",ge.getState().matchesCount),this.clearDecorations(We)};xe.onDidChangeValue(vt=>{Je(vt)}),xe.onDidAccept(()=>{const vt=Ae(xe.value);typeof vt=="number"?(ge.goToMatch(vt),xe.hide()):xe.validationMessage=we.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",ge.getState().matchesCount)}),xe.onDidHide(()=>{this.clearDecorations(We),xe.dispose()}),xe.show()}clearDecorations(ce){ce.changeDecorations(We=>{this._highlightDecorations=We.deltaDecorations(this._highlightDecorations,[])})}addDecorations(ce,We){ce.changeDecorations(Me=>{this._highlightDecorations=Me.deltaDecorations(this._highlightDecorations,[{range:We,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:We,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,m.EN)(p.m9),position:I.sh.Full}}}])})}}class Zt extends _.R6{run(ce,We){return Yt(this,void 0,void 0,function*(){const Me=Gt.get(We);if(!Me)return;const ge=fi(We,"single",!1);ge&&Me.setSearchString(ge),this._run(Me)||(yield Me.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:We.getOption(39).loop}),this._run(Me))})}}class Jt extends Zt{constructor(){super({id:Z.NextSelectionMatchFindAction,label:we.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:V.u.focus,primary:2109,weight:100}})}_run(ce){return ce.moveToNextMatch()}}class _t extends Zt{constructor(){super({id:Z.PreviousSelectionMatchFindAction,label:we.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:V.u.focus,primary:3133,weight:100}})}_run(ce){return ce.moveToPrevMatch()}}const xt=(0,_.rn)(new _.jY({id:Z.StartFindReplaceAction,label:we.NC("startReplace","Replace"),alias:"Replace",precondition:U.Ao.or(V.u.focus,U.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Qi.eH.MenubarEditMenu,group:"3_find",title:we.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));xt.addImplementation(0,(at,ce,We)=>{if(!ce.hasModel()||ce.getOption(88))return!1;const Me=Gt.get(ce);if(!Me)return!1;const ge=ce.getSelection(),Q=Me.isFindInputFocused(),ae=!ge.isEmpty()&&ge.startLineNumber===ge.endLineNumber&&ce.getOption(39).seedSearchStringFromSelection!=="never"&&!Q,xe=Q||ae?2:1;return Me.start({forceRevealReplace:!0,seedSearchStringFromSelection:ae?"single":"none",seedSearchStringFromNonEmptySelection:ce.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ce.getOption(39).seedSearchStringFromSelection!=="never",shouldFocus:xe,shouldAnimate:!0,updateSearchScope:!1,loop:ce.getOption(39).loop})}),(0,_._K)(Gt.ID,Si,0),(0,_.Qr)(Hi),(0,_.Qr)(tn),(0,_.Qr)(Xi),(0,_.Qr)(Oi),(0,_.Qr)(ai),(0,_.Qr)(Jt),(0,_.Qr)(_t);const Ht=_._l.bindToContribution(Gt.get);(0,_.fK)(new Ht({id:Z.CloseFindWidgetCommand,precondition:A,handler:at=>at.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:U.Ao.and(V.u.focus,U.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,_.fK)(new Ht({id:Z.ToggleCaseSensitiveCommand,precondition:void 0,handler:at=>at.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:V.u.focus,primary:J.primary,mac:J.mac,win:J.win,linux:J.linux}})),(0,_.fK)(new Ht({id:Z.ToggleWholeWordCommand,precondition:void 0,handler:at=>at.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:V.u.focus,primary:Y.primary,mac:Y.mac,win:Y.win,linux:Y.linux}})),(0,_.fK)(new Ht({id:Z.ToggleRegexCommand,precondition:void 0,handler:at=>at.toggleRegex(),kbOpts:{weight:100+5,kbExpr:V.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,_.fK)(new Ht({id:Z.ToggleSearchScopeCommand,precondition:void 0,handler:at=>at.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:V.u.focus,primary:z.primary,mac:z.mac,win:z.win,linux:z.linux}})),(0,_.fK)(new Ht({id:Z.TogglePreserveCaseCommand,precondition:void 0,handler:at=>at.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:V.u.focus,primary:K.primary,mac:K.mac,win:K.win,linux:K.linux}})),(0,_.fK)(new Ht({id:Z.ReplaceOneAction,precondition:A,handler:at=>at.replace(),kbOpts:{weight:100+5,kbExpr:V.u.focus,primary:3094}})),(0,_.fK)(new Ht({id:Z.ReplaceOneAction,precondition:A,handler:at=>at.replace(),kbOpts:{weight:100+5,kbExpr:U.Ao.and(V.u.focus,$),primary:3}})),(0,_.fK)(new Ht({id:Z.ReplaceAllAction,precondition:A,handler:at=>at.replaceAll(),kbOpts:{weight:100+5,kbExpr:V.u.focus,primary:2563}})),(0,_.fK)(new Ht({id:Z.ReplaceAllAction,precondition:A,handler:at=>at.replaceAll(),kbOpts:{weight:100+5,kbExpr:U.Ao.and(V.u.focus,$),primary:void 0,mac:{primary:2051}}})),(0,_.fK)(new Ht({id:Z.SelectAllMatchesAction,precondition:A,handler:at=>at.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:V.u.focus,primary:515}}))},58579:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{FoldingController:function(){return ee},RangesLimitReporter:function(){return ne}});var f=t(13484),O=t(97464),u=t(20996),_=t(94880),p=t(38431),V=t(17416),I=t(14818),L=t(48423),E=t(55298),g=t(21081),a=t(36082),l=t(64603),d=t(56709),i=t(14325),s=t(32916);class m{get regions(){return this._regions}get textModel(){return this._textModel}constructor(yt,At){this._updateEventEmitter=new d.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=yt,this._decorationProvider=At,this._regions=new i.MN(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(yt){if(!yt.length)return;yt=yt.sort((Qt,si)=>Qt.regionIndex-si.regionIndex);const At={};this._decorationProvider.changeDecorations(Qt=>{let si=0,oi=-1,mi=-1;const bi=Ai=>{for(;si<Ai;){const $i=this._regions.getEndLineNumber(si),Vi=this._regions.isCollapsed(si);if($i<=oi){const Qi=this.regions.getSource(si)!==0;Qt.changeDecorationOptions(this._editorDecorationIds[si],this._decorationProvider.getDecorationOption(Vi,$i<=mi,Qi))}Vi&&$i>mi&&(mi=$i),si++}};for(const Ai of yt){const $i=Ai.regionIndex,Vi=this._editorDecorationIds[$i];if(Vi&&!At[Vi]){At[Vi]=!0,bi($i);const Qi=!this._regions.isCollapsed($i);this._regions.setCollapsed($i,Qi),oi=Math.max(oi,this._regions.getEndLineNumber($i))}}bi(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:yt})}removeManualRanges(yt){const At=new Array,Qt=si=>{for(const oi of yt)if(!(oi.startLineNumber>si.endLineNumber||si.startLineNumber>oi.endLineNumber))return!0;return!1};for(let si=0;si<this._regions.length;si++){const oi=this._regions.toFoldRange(si);(oi.source===0||!Qt(oi))&&At.push(oi)}this.updatePost(i.MN.fromFoldRanges(At))}update(yt,At=[]){const Qt=this._currentFoldedOrManualRanges(At),si=i.MN.sanitizeAndMerge(yt,Qt,this._textModel.getLineCount());this.updatePost(i.MN.fromFoldRanges(si))}updatePost(yt){const At=[];let Qt=-1;for(let si=0,oi=yt.length;si<oi;si++){const mi=yt.getStartLineNumber(si),bi=yt.getEndLineNumber(si),Ai=yt.isCollapsed(si),$i=yt.getSource(si)!==0,Vi={startLineNumber:mi,startColumn:this._textModel.getLineMaxColumn(mi),endLineNumber:bi,endColumn:this._textModel.getLineMaxColumn(bi)+1};At.push({range:Vi,options:this._decorationProvider.getDecorationOption(Ai,bi<=Qt,$i)}),Ai&&bi>Qt&&(Qt=bi)}this._decorationProvider.changeDecorations(si=>this._editorDecorationIds=si.deltaDecorations(this._editorDecorationIds,At)),this._regions=yt,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(yt=[]){const At=(si,oi)=>{for(const mi of yt)if(si<mi&&mi<=oi)return!0;return!1},Qt=[];for(let si=0,oi=this._regions.length;si<oi;si++){let mi=this.regions.isCollapsed(si);const bi=this.regions.getSource(si);if(mi||bi!==0){const Ai=this._regions.toFoldRange(si),$i=this._textModel.getDecorationRange(this._editorDecorationIds[si]);$i&&(mi&&At($i.startLineNumber,$i.endLineNumber)&&(mi=!1),Qt.push({startLineNumber:$i.startLineNumber,endLineNumber:$i.endLineNumber,type:Ai.type,isCollapsed:mi,source:bi}))}}return Qt}getMemento(){const yt=this._currentFoldedOrManualRanges(),At=[],Qt=this._textModel.getLineCount();for(let si=0,oi=yt.length;si<oi;si++){const mi=yt[si];if(mi.startLineNumber>=mi.endLineNumber||mi.startLineNumber<1||mi.endLineNumber>Qt)continue;const bi=this._getLinesChecksum(mi.startLineNumber+1,mi.endLineNumber);At.push({startLineNumber:mi.startLineNumber,endLineNumber:mi.endLineNumber,isCollapsed:mi.isCollapsed,source:mi.source,checksum:bi})}return At.length>0?At:void 0}applyMemento(yt){var At,Qt;if(!Array.isArray(yt))return;const si=[],oi=this._textModel.getLineCount();for(const bi of yt){if(bi.startLineNumber>=bi.endLineNumber||bi.startLineNumber<1||bi.endLineNumber>oi)continue;const Ai=this._getLinesChecksum(bi.startLineNumber+1,bi.endLineNumber);(!bi.checksum||Ai===bi.checksum)&&si.push({startLineNumber:bi.startLineNumber,endLineNumber:bi.endLineNumber,type:void 0,isCollapsed:(At=bi.isCollapsed)!==null&&At!==void 0?At:!0,source:(Qt=bi.source)!==null&&Qt!==void 0?Qt:0})}const mi=i.MN.sanitizeAndMerge(this._regions,si,oi);this.updatePost(i.MN.fromFoldRanges(mi))}_getLinesChecksum(yt,At){return(0,s.vp)(this._textModel.getLineContent(yt)+this._textModel.getLineContent(At))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(yt,At){const Qt=[];if(this._regions){let si=this._regions.findRange(yt),oi=1;for(;si>=0;){const mi=this._regions.toRegion(si);(!At||At(mi,oi))&&Qt.push(mi),oi++,si=mi.parentIndex}}return Qt}getRegionAtLine(yt){if(this._regions){const At=this._regions.findRange(yt);if(At>=0)return this._regions.toRegion(At)}return null}getRegionsInside(yt,At){const Qt=[],si=yt?yt.regionIndex+1:0,oi=yt?yt.endLineNumber:Number.MAX_VALUE;if(At&&At.length===2){const mi=[];for(let bi=si,Ai=this._regions.length;bi<Ai;bi++){const $i=this._regions.toRegion(bi);if(this._regions.getStartLineNumber(bi)<oi){for(;mi.length>0&&!$i.containedBy(mi[mi.length-1]);)mi.pop();mi.push($i),At($i,mi.length)&&Qt.push($i)}else break}}else for(let mi=si,bi=this._regions.length;mi<bi;mi++){const Ai=this._regions.toRegion(mi);if(this._regions.getStartLineNumber(mi)<oi)(!At||At(Ai))&&Qt.push(Ai);else break}return Qt}}function b(qt,yt,At){const Qt=[];for(const si of At){const oi=qt.getRegionAtLine(si);if(oi){const mi=!oi.isCollapsed;if(Qt.push(oi),yt>1){const bi=qt.getRegionsInside(oi,(Ai,$i)=>Ai.isCollapsed!==mi&&$i<yt);Qt.push(...bi)}}}qt.toggleCollapseState(Qt)}function c(qt,yt,At=Number.MAX_VALUE,Qt){const si=[];if(Qt&&Qt.length>0)for(const oi of Qt){const mi=qt.getRegionAtLine(oi);if(mi&&(mi.isCollapsed!==yt&&si.push(mi),At>1)){const bi=qt.getRegionsInside(mi,(Ai,$i)=>Ai.isCollapsed!==yt&&$i<At);si.push(...bi)}}else{const oi=qt.getRegionsInside(null,(mi,bi)=>mi.isCollapsed!==yt&&bi<At);si.push(...oi)}qt.toggleCollapseState(si)}function v(qt,yt,At,Qt){const si=[];for(const oi of Qt){const mi=qt.getAllRegionsAtLine(oi,(bi,Ai)=>bi.isCollapsed!==yt&&Ai<=At);si.push(...mi)}qt.toggleCollapseState(si)}function C(qt,yt,At){const Qt=[];for(const si of At){const oi=qt.getAllRegionsAtLine(si,mi=>mi.isCollapsed!==yt);oi.length>0&&Qt.push(oi[0])}qt.toggleCollapseState(Qt)}function S(qt,yt,At,Qt){const si=(mi,bi)=>bi===yt&&mi.isCollapsed!==At&&!Qt.some(Ai=>mi.containsLine(Ai)),oi=qt.getRegionsInside(null,si);qt.toggleCollapseState(oi)}function N(qt,yt,At){const Qt=[];for(const mi of At){const bi=qt.getAllRegionsAtLine(mi,void 0);bi.length>0&&Qt.push(bi[0])}const si=mi=>Qt.every(bi=>!bi.containedBy(mi)&&!mi.containedBy(bi))&&mi.isCollapsed!==yt,oi=qt.getRegionsInside(null,si);qt.toggleCollapseState(oi)}function P(qt,yt,At){const Qt=qt.textModel,si=qt.regions,oi=[];for(let mi=si.length-1;mi>=0;mi--)if(At!==si.isCollapsed(mi)){const bi=si.getStartLineNumber(mi);yt.test(Qt.getLineContent(bi))&&oi.push(si.toRegion(mi))}qt.toggleCollapseState(oi)}function M(qt,yt,At){const Qt=qt.regions,si=[];for(let oi=Qt.length-1;oi>=0;oi--)At!==Qt.isCollapsed(oi)&&yt===Qt.getType(oi)&&si.push(Qt.toRegion(oi));qt.toggleCollapseState(si)}function D(qt,yt){let At=null;const Qt=yt.getRegionAtLine(qt);if(Qt!==null&&(At=Qt.startLineNumber,qt===At)){const si=Qt.parentIndex;si!==-1?At=yt.regions.getStartLineNumber(si):At=null}return At}function F(qt,yt){let At=yt.getRegionAtLine(qt);if(At!==null&&At.startLineNumber===qt){if(qt!==At.startLineNumber)return At.startLineNumber;{const Qt=At.parentIndex;let si=0;for(Qt!==-1&&(si=yt.regions.getStartLineNumber(At.parentIndex));At!==null;)if(At.regionIndex>0){if(At=yt.regions.toRegion(At.regionIndex-1),At.startLineNumber<=si)return null;if(At.parentIndex===Qt)return At.startLineNumber}else return null}}else if(yt.regions.length>0)for(At=yt.regions.toRegion(yt.regions.length-1);At!==null;){if(At.startLineNumber<qt)return At.startLineNumber;At.regionIndex>0?At=yt.regions.toRegion(At.regionIndex-1):At=null}return null}function B(qt,yt){let At=yt.getRegionAtLine(qt);if(At!==null&&At.startLineNumber===qt){const Qt=At.parentIndex;let si=0;if(Qt!==-1)si=yt.regions.getEndLineNumber(At.parentIndex);else{if(yt.regions.length===0)return null;si=yt.regions.getEndLineNumber(yt.regions.length-1)}for(;At!==null;)if(At.regionIndex<yt.regions.length){if(At=yt.regions.toRegion(At.regionIndex+1),At.startLineNumber>=si)return null;if(At.parentIndex===Qt)return At.startLineNumber}else return null}else if(yt.regions.length>0)for(At=yt.regions.toRegion(0);At!==null;){if(At.startLineNumber>qt)return At.startLineNumber;At.regionIndex<yt.regions.length?At=yt.regions.toRegion(At.regionIndex+1):At=null}return null}var U=t(16308),A=t(50038),k=t(58570);class R{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(yt){this._updateEventEmitter=new d.Q5,this._hasLineChanges=!1,this._foldingModel=yt,this._foldingModelListener=yt.onDidChange(At=>this.updateHiddenRanges()),this._hiddenRanges=[],yt.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(yt){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=yt.changes.some(At=>At.range.endLineNumber!==At.range.startLineNumber||(0,k.Q)(At.text)[0]!==0))}updateHiddenRanges(){let yt=!1;const At=[];let Qt=0,si=0,oi=Number.MAX_VALUE,mi=-1;const bi=this._foldingModel.regions;for(;Qt<bi.length;Qt++){if(!bi.isCollapsed(Qt))continue;const Ai=bi.getStartLineNumber(Qt)+1,$i=bi.getEndLineNumber(Qt);oi<=Ai&&$i<=mi||(!yt&&si<this._hiddenRanges.length&&this._hiddenRanges[si].startLineNumber===Ai&&this._hiddenRanges[si].endLineNumber===$i?(At.push(this._hiddenRanges[si]),si++):(yt=!0,At.push(new A.e(Ai,1,$i,1))),oi=Ai,mi=$i)}(this._hasLineChanges||yt||si<this._hiddenRanges.length)&&this.applyHiddenRanges(At)}applyHiddenRanges(yt){this._hiddenRanges=yt,this._hasLineChanges=!1,this._updateEventEmitter.fire(yt)}hasRanges(){return this._hiddenRanges.length>0}isHidden(yt){return J(this._hiddenRanges,yt)!==null}adjustSelections(yt){let At=!1;const Qt=this._foldingModel.textModel;let si=null;const oi=mi=>((!si||!$(mi,si))&&(si=J(this._hiddenRanges,mi)),si?si.startLineNumber-1:null);for(let mi=0,bi=yt.length;mi<bi;mi++){let Ai=yt[mi];const $i=oi(Ai.startLineNumber);$i&&(Ai=Ai.setStartPosition($i,Qt.getLineMaxColumn($i)),At=!0);const Vi=oi(Ai.endLineNumber);Vi&&(Ai=Ai.setEndPosition(Vi,Qt.getLineMaxColumn(Vi)),At=!0),yt[mi]=Ai}return At}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function $(qt,yt){return qt>=yt.startLineNumber&&qt<=yt.endLineNumber}function J(qt,yt){const At=(0,U.lG)(qt,Qt=>yt<Qt.startLineNumber)-1;return At>=0&&qt[At].endLineNumber>=yt?qt[At]:null}var Y=t(78398),j=t(26386),z=t(76826),K=t(407),Z=t(41913),fe=t(45007),T=t(92537),Re=t(89528),Ce=t(58566),_e=t(8216);const pe=(0,T.P6G)("editor.foldBackground",{light:(0,T.ZnX)(T.hEj,.3),dark:(0,T.ZnX)(T.hEj,.3),hcDark:null,hcLight:null},(0,j.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,T.P6G)("editorGutter.foldingControlForeground",{dark:T.XZx,light:T.XZx,hcDark:T.XZx,hcLight:T.XZx},(0,j.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const le=(0,Re.q5)("folding-expanded",K.l.chevronDown,(0,j.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),oe=(0,Re.q5)("folding-collapsed",K.l.chevronRight,(0,j.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),he=(0,Re.q5)("folding-manual-collapsed",oe,(0,j.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),je=(0,Re.q5)("folding-manual-expanded",le,(0,j.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),Xe={color:(0,Ce.EN)(pe),position:Z.F5.Inline};class Ve{constructor(yt){this.editor=yt,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(yt,At,Qt){return At?Ve.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?yt?this.showFoldingHighlights?Ve.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:Ve.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:Ve.NO_CONTROLS_EXPANDED_RANGE_DECORATION:yt?Qt?this.showFoldingHighlights?Ve.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Ve.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?Ve.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Ve.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?Qt?Ve.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Ve.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Qt?Ve.MANUALLY_EXPANDED_VISUAL_DECORATION:Ve.EXPANDED_VISUAL_DECORATION}changeDecorations(yt){return this.editor.changeDecorations(yt)}removeDecorations(yt){this.editor.removeDecorations(yt)}}Ve.COLLAPSED_VISUAL_DECORATION=fe.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:_e.k.asClassName(oe)}),Ve.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=fe.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Xe,isWholeLine:!0,firstLineDecorationClassName:_e.k.asClassName(oe)}),Ve.MANUALLY_COLLAPSED_VISUAL_DECORATION=fe.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:_e.k.asClassName(he)}),Ve.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=fe.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Xe,isWholeLine:!0,firstLineDecorationClassName:_e.k.asClassName(he)}),Ve.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=fe.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),Ve.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=fe.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Xe,isWholeLine:!0}),Ve.EXPANDED_VISUAL_DECORATION=fe.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+_e.k.asClassName(le)}),Ve.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=fe.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:_e.k.asClassName(le)}),Ve.MANUALLY_EXPANDED_VISUAL_DECORATION=fe.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+_e.k.asClassName(je)}),Ve.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=fe.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:_e.k.asClassName(je)}),Ve.NO_CONTROLS_EXPANDED_RANGE_DECORATION=fe.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),Ve.HIDDEN_RANGE_DECORATION=fe.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var se=t(28994),q=t(97968),Ee=t(69060),Se=t(69344),we=t(35921),ve=t(80793),Ne=t(28919),$e=t(65041),Ke=t(71177),ze=function(qt,yt,At,Qt){var si=arguments.length,oi=si<3?yt:Qt===null?Qt=Object.getOwnPropertyDescriptor(yt,At):Qt,mi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oi=Reflect.decorate(qt,yt,At,Qt);else for(var bi=qt.length-1;bi>=0;bi--)(mi=qt[bi])&&(oi=(si<3?mi(oi):si>3?mi(yt,At,oi):mi(yt,At))||oi);return si>3&&oi&&Object.defineProperty(yt,At,oi),oi},He=function(qt,yt){return function(At,Qt){yt(At,Qt,qt)}},Le=function(qt,yt,At,Qt){function si(oi){return oi instanceof At?oi:new At(function(mi){mi(oi)})}return new(At||(At=Promise))(function(oi,mi){function bi(Vi){try{$i(Qt.next(Vi))}catch(Qi){mi(Qi)}}function Ai(Vi){try{$i(Qt.throw(Vi))}catch(Qi){mi(Qi)}}function $i(Vi){Vi.done?oi(Vi.value):si(Vi.value).then(bi,Ai)}$i((Qt=Qt.apply(qt,yt||[])).next())})};const de=new z.uy("foldingEnabled",!1);let ee=class Sl extends p.JT{static get(yt){return yt.getContribution(Sl.ID)}static getFoldingRangeProviders(yt,At){var Qt,si;const oi=yt.foldingRangeProvider.ordered(At);return(si=(Qt=Sl._foldingRangeSelector)===null||Qt===void 0?void 0:Qt.call(Sl,oi,At))!==null&&si!==void 0?si:oi}constructor(yt,At,Qt,si,oi,mi){super(),this.contextKeyService=At,this.languageConfigurationService=Qt,this.languageFeaturesService=mi,this.localToDispose=this._register(new p.SL),this.editor=yt,this._foldingLimitReporter=new ne(yt);const bi=this.editor.getOptions();this._isEnabled=bi.get(41),this._useFoldingProviders=bi.get(42)!=="indentation",this._unfoldOnClickAfterEndOfLine=bi.get(46),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=bi.get(44),this.updateDebounceInfo=oi.for(mi.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Ve(yt),this.foldingDecorationProvider.showFoldingControls=bi.get(106),this.foldingDecorationProvider.showFoldingHighlights=bi.get(43),this.foldingEnabled=de.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Ai=>{if(Ai.hasChanged(41)&&(this._isEnabled=this.editor.getOptions().get(41),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Ai.hasChanged(45)&&this.onModelChanged(),Ai.hasChanged(106)||Ai.hasChanged(43)){const $i=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=$i.get(106),this.foldingDecorationProvider.showFoldingHighlights=$i.get(43),this.triggerFoldingModelChanged()}Ai.hasChanged(42)&&(this._useFoldingProviders=this.editor.getOptions().get(42)!=="indentation",this.onFoldingStrategyChanged()),Ai.hasChanged(46)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(46)),Ai.hasChanged(44)&&(this._foldingImportsByDefault=this.editor.getOptions().get(44))})),this.onModelChanged()}saveViewState(){const yt=this.editor.getModel();if(!yt||!this._isEnabled||yt.isTooLargeForTokenization())return{};if(this.foldingModel){const At=this.foldingModel.getMemento(),Qt=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:At,lineCount:yt.getLineCount(),provider:Qt,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(yt){const At=this.editor.getModel();if(!(!At||!this._isEnabled||At.isTooLargeForTokenization()||!this.hiddenRangeModel)&&yt&&(this._currentModelHasFoldedImports=!!yt.foldedImports,yt.collapsedRegions&&yt.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(yt.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const yt=this.editor.getModel();!this._isEnabled||!yt||yt.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new m(yt,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new R(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(At=>this.onHiddenRangesChanges(At))),this.updateScheduler=new f.vp(this.updateDebounceInfo.get(yt)),this.cursorChangedScheduler=new f.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(At=>this.onDidChangeModelContent(At))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(At=>this.onEditorMouseDown(At))),this.localToDispose.add(this.editor.onMouseUp(At=>this.onEditorMouseUp(At))),this.localToDispose.add({dispose:()=>{var At,Qt;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(At=this.updateScheduler)===null||At===void 0||At.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(Qt=this.rangeProvider)===null||Qt===void 0||Qt.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var yt;(yt=this.rangeProvider)===null||yt===void 0||yt.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(yt){if(this.rangeProvider)return this.rangeProvider;const At=new Y.aI(yt,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=At,this._useFoldingProviders&&this.foldingModel){const Qt=Sl.getFoldingRangeProviders(this.languageFeaturesService,yt);Qt.length>0&&(this.rangeProvider=new se.e(yt,Qt,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,At))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(yt){var At;(At=this.hiddenRangeModel)===null||At===void 0||At.notifyChangeModelContent(yt),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const yt=this.foldingModel;if(!yt)return null;const At=new Se.G(!0),Qt=this.getRangeProvider(yt.textModel),si=this.foldingRegionPromise=(0,f.PG)(oi=>Qt.compute(oi));return si.then(oi=>{if(oi&&si===this.foldingRegionPromise){let mi;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const Vi=oi.setCollapsedAllOfType(a.AD.Imports.value,!0);Vi&&(mi=L.Z.capture(this.editor),this._currentModelHasFoldedImports=Vi)}const bi=this.editor.getSelections(),Ai=bi?bi.map(Vi=>Vi.startLineNumber):[];yt.update(oi,Ai),mi==null||mi.restore(this.editor);const $i=this.updateDebounceInfo.update(yt.textModel,At.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=$i)}return yt})}).then(void 0,yt=>((0,u.dL)(yt),null)))}onHiddenRangesChanges(yt){if(this.hiddenRangeModel&&yt.length&&!this._restoringViewState){const At=this.editor.getSelections();At&&this.hiddenRangeModel.adjustSelections(At)&&this.editor.setSelections(At)}this.editor.setHiddenAreas(yt,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const yt=this.getFoldingModel();yt&&yt.then(At=>{if(At){const Qt=this.editor.getSelections();if(Qt&&Qt.length>0){const si=[];for(const oi of Qt){const mi=oi.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(mi)&&si.push(...At.getAllRegionsAtLine(mi,bi=>bi.isCollapsed&&mi>bi.startLineNumber))}si.length&&(At.toggleCollapseState(si),this.reveal(Qt[0].getPosition()))}}}).then(void 0,u.dL)}onEditorMouseDown(yt){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!yt.target||!yt.target.range||!yt.event.leftButton&&!yt.event.middleButton)return;const At=yt.target.range;let Qt=!1;switch(yt.target.type){case 4:{const si=yt.target.detail,oi=yt.target.element.offsetLeft;if(si.offsetX-oi<5)return;Qt=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!yt.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const si=this.editor.getModel();if(si&&At.startColumn===si.getLineMaxColumn(At.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:At.startLineNumber,iconClicked:Qt}}onEditorMouseUp(yt){const At=this.foldingModel;if(!At||!this.mouseDownInfo||!yt.target)return;const Qt=this.mouseDownInfo.lineNumber,si=this.mouseDownInfo.iconClicked,oi=yt.target.range;if(!oi||oi.startLineNumber!==Qt)return;if(si){if(yt.target.type!==4)return}else{const bi=this.editor.getModel();if(!bi||oi.startColumn!==bi.getLineMaxColumn(Qt))return}const mi=At.getRegionAtLine(Qt);if(mi&&mi.startLineNumber===Qt){const bi=mi.isCollapsed;if(si||bi){const Ai=yt.event.altKey;let $i=[];if(Ai){const Vi=fn=>!fn.containedBy(mi)&&!mi.containedBy(fn),Qi=At.getRegionsInside(null,Vi);for(const fn of Qi)fn.isCollapsed&&$i.push(fn);$i.length===0&&($i=Qi)}else{const Vi=yt.event.middleButton||yt.event.shiftKey;if(Vi)for(const Qi of At.getRegionsInside(mi))Qi.isCollapsed===bi&&$i.push(Qi);(bi||!Vi||$i.length===0)&&$i.push(mi)}At.toggleCollapseState($i),this.reveal({lineNumber:Qt,column:1})}}}reveal(yt){this.editor.revealPositionInCenterIfOutsideViewport(yt,0)}};ee.ID="editor.contrib.folding",ee=ze([He(1,z.i6),He(2,l.c_),He(3,q.lT),He(4,Ee.A),He(5,we.p)],ee);class ne{constructor(yt){this.editor=yt,this._onDidChange=new d.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(45)}update(yt,At){(yt!==this._computed||At!==this._limited)&&(this._computed=yt,this._limited=At,this._onDidChange.fire())}}class me extends E.R6{runEditorCommand(yt,At,Qt){const si=yt.get(l.c_),oi=ee.get(At);if(!oi)return;const mi=oi.getFoldingModel();if(mi)return this.reportTelemetry(yt,At),mi.then(bi=>{if(bi){this.invoke(oi,bi,At,Qt,si);const Ai=At.getSelection();Ai&&oi.reveal(Ai.getStartPosition())}})}getSelectedLines(yt){const At=yt.getSelections();return At?At.map(Qt=>Qt.startLineNumber):[]}getLineNumbers(yt,At){return yt&&yt.selectionLines?yt.selectionLines.map(Qt=>Qt+1):this.getSelectedLines(At)}run(yt,At){}}function ue(qt){if(!I.o8(qt)){if(!I.Kn(qt))return!1;const yt=qt;if(!I.o8(yt.levels)&&!I.hj(yt.levels)||!I.o8(yt.direction)&&!I.HD(yt.direction)||!I.o8(yt.selectionLines)&&(!Array.isArray(yt.selectionLines)||!yt.selectionLines.every(I.hj)))return!1}return!0}class Pe extends me{constructor(){super({id:"editor.unfold",label:j.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:ue,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(yt,At,Qt,si){const oi=si&&si.levels||1,mi=this.getLineNumbers(si,Qt);si&&si.direction==="up"?v(At,!1,oi,mi):c(At,!1,oi,mi)}}class ot extends me{constructor(){super({id:"editor.unfoldRecursively",label:j.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2142),weight:100}})}invoke(yt,At,Qt,si){c(At,!1,Number.MAX_VALUE,this.getSelectedLines(Qt))}}class gt extends me{constructor(){super({id:"editor.fold",label:j.NC("foldAction.label","Fold"),alias:"Fold",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:ue,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(yt,At,Qt,si){const oi=this.getLineNumbers(si,Qt),mi=si&&si.levels,bi=si&&si.direction;typeof mi!="number"&&typeof bi!="string"?C(At,!0,oi):bi==="up"?v(At,!0,mi||1,oi):c(At,!0,mi||1,oi)}}class nt extends me{constructor(){super({id:"editor.toggleFold",label:j.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2090),weight:100}})}invoke(yt,At,Qt){const si=this.getSelectedLines(Qt);b(At,1,si)}}class tt extends me{constructor(){super({id:"editor.foldRecursively",label:j.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2140),weight:100}})}invoke(yt,At,Qt){const si=this.getSelectedLines(Qt);c(At,!0,Number.MAX_VALUE,si)}}class st extends me{constructor(){super({id:"editor.foldAllBlockComments",label:j.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2138),weight:100}})}invoke(yt,At,Qt,si,oi){if(At.regions.hasTypes())M(At,a.AD.Comment.value,!0);else{const mi=Qt.getModel();if(!mi)return;const bi=oi.getLanguageConfiguration(mi.getLanguageId()).comments;if(bi&&bi.blockCommentStartToken){const Ai=new RegExp("^\\s*"+(0,V.ec)(bi.blockCommentStartToken));P(At,Ai,!0)}}}}class It extends me{constructor(){super({id:"editor.foldAllMarkerRegions",label:j.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2077),weight:100}})}invoke(yt,At,Qt,si,oi){if(At.regions.hasTypes())M(At,a.AD.Region.value,!0);else{const mi=Qt.getModel();if(!mi)return;const bi=oi.getLanguageConfiguration(mi.getLanguageId()).foldingRules;if(bi&&bi.markers&&bi.markers.start){const Ai=new RegExp(bi.markers.start);P(At,Ai,!0)}}}}class Wt extends me{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:j.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2078),weight:100}})}invoke(yt,At,Qt,si,oi){if(At.regions.hasTypes())M(At,a.AD.Region.value,!1);else{const mi=Qt.getModel();if(!mi)return;const bi=oi.getLanguageConfiguration(mi.getLanguageId()).foldingRules;if(bi&&bi.markers&&bi.markers.start){const Ai=new RegExp(bi.markers.start);P(At,Ai,!1)}}}}class Vt extends me{constructor(){super({id:"editor.foldAllExcept",label:j.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2136),weight:100}})}invoke(yt,At,Qt){const si=this.getSelectedLines(Qt);N(At,!0,si)}}class Ct extends me{constructor(){super({id:"editor.unfoldAllExcept",label:j.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2134),weight:100}})}invoke(yt,At,Qt){const si=this.getSelectedLines(Qt);N(At,!1,si)}}class gi extends me{constructor(){super({id:"editor.foldAll",label:j.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2069),weight:100}})}invoke(yt,At,Qt){c(At,!0)}}class jt extends me{constructor(){super({id:"editor.unfoldAll",label:j.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2088),weight:100}})}invoke(yt,At,Qt){c(At,!1)}}class Ye extends me{getFoldingLevel(){return parseInt(this.id.substr(Ye.ID_PREFIX.length))}invoke(yt,At,Qt){S(At,this.getFoldingLevel(),!0,this.getSelectedLines(Qt))}}Ye.ID_PREFIX="editor.foldLevel",Ye.ID=qt=>Ye.ID_PREFIX+qt;class ut extends me{constructor(){super({id:"editor.gotoParentFold",label:j.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,weight:100}})}invoke(yt,At,Qt){const si=this.getSelectedLines(Qt);if(si.length>0){const oi=D(si[0],At);oi!==null&&Qt.setSelection({startLineNumber:oi,startColumn:1,endLineNumber:oi,endColumn:1})}}}class dt extends me{constructor(){super({id:"editor.gotoPreviousFold",label:j.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,weight:100}})}invoke(yt,At,Qt){const si=this.getSelectedLines(Qt);if(si.length>0){const oi=F(si[0],At);oi!==null&&Qt.setSelection({startLineNumber:oi,startColumn:1,endLineNumber:oi,endColumn:1})}}}class bt extends me{constructor(){super({id:"editor.gotoNextFold",label:j.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,weight:100}})}invoke(yt,At,Qt){const si=this.getSelectedLines(Qt);if(si.length>0){const oi=B(si[0],At);oi!==null&&Qt.setSelection({startLineNumber:oi,startColumn:1,endLineNumber:oi,endColumn:1})}}}class Mt extends me{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:j.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2135),weight:100}})}invoke(yt,At,Qt){var si;const oi=[],mi=Qt.getSelections();if(mi){for(const bi of mi){let Ai=bi.endLineNumber;bi.endColumn===1&&--Ai,Ai>bi.startLineNumber&&(oi.push({startLineNumber:bi.startLineNumber,endLineNumber:Ai,type:void 0,isCollapsed:!0,source:1}),Qt.setSelection({startLineNumber:bi.startLineNumber,startColumn:1,endLineNumber:bi.startLineNumber,endColumn:1}))}if(oi.length>0){oi.sort((Ai,$i)=>Ai.startLineNumber-$i.startLineNumber);const bi=i.MN.sanitizeAndMerge(At.regions,oi,(si=Qt.getModel())===null||si===void 0?void 0:si.getLineCount());At.updatePost(i.MN.fromFoldRanges(bi))}}}}class ni extends me{constructor(){super({id:"editor.removeManualFoldingRanges",label:j.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2137),weight:100}})}invoke(yt,At,Qt){const si=Qt.getSelections();if(si){const oi=[];for(const mi of si){const{startLineNumber:bi,endLineNumber:Ai}=mi;oi.push(Ai>=bi?{startLineNumber:bi,endLineNumber:Ai}:{endLineNumber:Ai,startLineNumber:bi})}At.removeManualRanges(oi),yt.triggerFoldingModelChanged()}}}(0,E._K)(ee.ID,ee,0),(0,E.Qr)(Pe),(0,E.Qr)(ot),(0,E.Qr)(gt),(0,E.Qr)(tt),(0,E.Qr)(gi),(0,E.Qr)(jt),(0,E.Qr)(st),(0,E.Qr)(It),(0,E.Qr)(Wt),(0,E.Qr)(Vt),(0,E.Qr)(Ct),(0,E.Qr)(nt),(0,E.Qr)(ut),(0,E.Qr)(dt),(0,E.Qr)(bt),(0,E.Qr)(Mt),(0,E.Qr)(ni);for(let qt=1;qt<=7;qt++)(0,E.QG)(new Ye({id:Ye.ID(qt),label:j.NC("foldLevelAction.label","Fold Level {0}",qt),alias:`Fold Level ${qt}`,precondition:de,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2048|21+qt),weight:100}}));ve.P.registerCommand("_executeFoldingRangeProvider",function(qt,...yt){return Le(this,void 0,void 0,function*(){const[At]=yt;if(!(At instanceof Ne.o))throw(0,u.b1)();const Qt=qt.get(we.p),si=qt.get($e.q).getModel(At);if(!si)throw(0,u.b1)();const oi=qt.get(Ke.Ui);if(!oi.getValue("editor.folding",{resource:At}))return[];const mi=qt.get(l.c_),bi=oi.getValue("editor.foldingStrategy",{resource:At}),Ai={get limit(){return oi.getValue("editor.foldingMaximumRegions",{resource:At})},update:(Yi,Pi)=>{}},$i=new Y.aI(si,mi,Ai);let Vi=$i;if(bi!=="indentation"){const Yi=ee.getFoldingRangeProviders(Qt,si);Yi.length&&(Vi=new se.e(si,Yi,()=>{},Ai,$i))}const Qi=yield Vi.compute(O.T.None),fn=[];try{if(Qi)for(let Yi=0;Yi<Qi.length;Yi++){const Pi=Qi.getType(Yi);fn.push({start:Qi.getStartLineNumber(Yi),end:Qi.getEndLineNumber(Yi),kind:Pi?a.AD.fromValue(Pi):void 0})}return fn}finally{Vi.dispose()}})})},14325:function(Rt,Be,t){"use strict";t.d(Be,{MN:function(){return V},Xl:function(){return u}});const f={[0]:" ",[1]:"u",[2]:"r"},O=65535,u=16777215,_=4278190080;class p{constructor(E){const g=Math.ceil(E/32);this._states=new Uint32Array(g)}get(E){const g=E/32|0,a=E%32;return(this._states[g]&1<<a)!==0}set(E,g){const a=E/32|0,l=E%32,d=this._states[a];g?this._states[a]=d|1<<l:this._states[a]=d&~(1<<l)}}class V{constructor(E,g,a){if(E.length!==g.length||E.length>O)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=E,this._endIndexes=g,this._collapseStates=new p(E.length),this._userDefinedStates=new p(E.length),this._recoveredStates=new p(E.length),this._types=a,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const E=[],g=(a,l)=>{const d=E[E.length-1];return this.getStartLineNumber(d)<=a&&this.getEndLineNumber(d)>=l};for(let a=0,l=this._startIndexes.length;a<l;a++){const d=this._startIndexes[a],i=this._endIndexes[a];if(d>u||i>u)throw new Error("startLineNumber or endLineNumber must not exceed "+u);for(;E.length>0&&!g(d,i);)E.pop();const s=E.length>0?E[E.length-1]:-1;E.push(a),this._startIndexes[a]=d+((s&255)<<24),this._endIndexes[a]=i+((s&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(E){return this._startIndexes[E]&u}getEndLineNumber(E){return this._endIndexes[E]&u}getType(E){return this._types?this._types[E]:void 0}hasTypes(){return!!this._types}isCollapsed(E){return this._collapseStates.get(E)}setCollapsed(E,g){this._collapseStates.set(E,g)}isUserDefined(E){return this._userDefinedStates.get(E)}setUserDefined(E,g){return this._userDefinedStates.set(E,g)}isRecovered(E){return this._recoveredStates.get(E)}setRecovered(E,g){return this._recoveredStates.set(E,g)}getSource(E){return this.isUserDefined(E)?1:this.isRecovered(E)?2:0}setSource(E,g){g===1?(this.setUserDefined(E,!0),this.setRecovered(E,!1)):g===2?(this.setUserDefined(E,!1),this.setRecovered(E,!0)):(this.setUserDefined(E,!1),this.setRecovered(E,!1))}setCollapsedAllOfType(E,g){let a=!1;if(this._types)for(let l=0;l<this._types.length;l++)this._types[l]===E&&(this.setCollapsed(l,g),a=!0);return a}toRegion(E){return new I(this,E)}getParentIndex(E){this.ensureParentIndices();const g=((this._startIndexes[E]&_)>>>24)+((this._endIndexes[E]&_)>>>16);return g===O?-1:g}contains(E,g){return this.getStartLineNumber(E)<=g&&this.getEndLineNumber(E)>=g}findIndex(E){let g=0,a=this._startIndexes.length;if(a===0)return-1;for(;g<a;){const l=Math.floor((g+a)/2);E<this.getStartLineNumber(l)?a=l:g=l+1}return g-1}findRange(E){let g=this.findIndex(E);if(g>=0){if(this.getEndLineNumber(g)>=E)return g;for(g=this.getParentIndex(g);g!==-1;){if(this.contains(g,E))return g;g=this.getParentIndex(g)}}return-1}toString(){const E=[];for(let g=0;g<this.length;g++)E[g]=`[${f[this.getSource(g)]}${this.isCollapsed(g)?"+":"-"}] ${this.getStartLineNumber(g)}/${this.getEndLineNumber(g)}`;return E.join(", ")}toFoldRange(E){return{startLineNumber:this._startIndexes[E]&u,endLineNumber:this._endIndexes[E]&u,type:this._types?this._types[E]:void 0,isCollapsed:this.isCollapsed(E),source:this.getSource(E)}}static fromFoldRanges(E){const g=E.length,a=new Uint32Array(g),l=new Uint32Array(g);let d=[],i=!1;for(let m=0;m<g;m++){const b=E[m];a[m]=b.startLineNumber,l[m]=b.endLineNumber,d.push(b.type),b.type&&(i=!0)}i||(d=void 0);const s=new V(a,l,d);for(let m=0;m<g;m++)E[m].isCollapsed&&s.setCollapsed(m,!0),s.setSource(m,E[m].source);return s}static sanitizeAndMerge(E,g,a){a=a!=null?a:Number.MAX_VALUE;const l=(P,M)=>Array.isArray(P)?D=>D<M?P[D]:void 0:D=>D<M?P.toFoldRange(D):void 0,d=l(E,E.length),i=l(g,g.length);let s=0,m=0,b=d(0),c=i(0);const v=[];let C,S=0;const N=[];for(;b||c;){let P;if(c&&(!b||b.startLineNumber>=c.startLineNumber))b&&b.startLineNumber===c.startLineNumber?(c.source===1?P=c:(P=b,P.isCollapsed=c.isCollapsed&&b.endLineNumber===c.endLineNumber,P.source=0),b=d(++s)):(P=c,c.isCollapsed&&c.source===0&&(P.source=2)),c=i(++m);else{let M=m,D=c;for(;;){if(!D||D.startLineNumber>b.endLineNumber){P=b;break}if(D.source===1&&D.endLineNumber>b.endLineNumber)break;D=i(++M)}b=d(++s)}if(P){for(;C&&C.endLineNumber<P.startLineNumber;)C=v.pop();P.endLineNumber>P.startLineNumber&&P.startLineNumber>S&&P.endLineNumber<=a&&(!C||C.endLineNumber>=P.endLineNumber)&&(N.push(P),S=P.startLineNumber,C&&v.push(C),C=P)}}return N}}class I{constructor(E,g){this.ranges=E,this.index=g}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(E){return E.startLineNumber<=this.startLineNumber&&E.endLineNumber>=this.endLineNumber}containsLine(E){return this.startLineNumber<=E&&E<=this.endLineNumber}}},78398:function(Rt,Be,t){"use strict";t.d(Be,{aI:function(){return p}});var f=t(6287),O=t(14325);const u=5e3,_="indent";class p{constructor(g,a,l){this.editorModel=g,this.languageConfigurationService=a,this.foldingRangesLimit=l,this.id=_}dispose(){}compute(g){const a=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,l=a&&!!a.offSide,d=a&&a.markers;return Promise.resolve(L(this.editorModel,l,d,this.foldingRangesLimit))}}class V{constructor(g){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=g}insertFirst(g,a,l){if(g>O.Xl||a>O.Xl)return;const d=this._length;this._startIndexes[d]=g,this._endIndexes[d]=a,this._length++,l<1e3&&(this._indentOccurrences[l]=(this._indentOccurrences[l]||0)+1)}toIndentRanges(g){const a=this._foldingRangesLimit.limit;if(this._length<=a){this._foldingRangesLimit.update(this._length,!1);const l=new Uint32Array(this._length),d=new Uint32Array(this._length);for(let i=this._length-1,s=0;i>=0;i--,s++)l[s]=this._startIndexes[i],d[s]=this._endIndexes[i];return new O.MN(l,d)}else{this._foldingRangesLimit.update(this._length,a);let l=0,d=this._indentOccurrences.length;for(let b=0;b<this._indentOccurrences.length;b++){const c=this._indentOccurrences[b];if(c){if(c+l>a){d=b;break}l+=c}}const i=g.getOptions().tabSize,s=new Uint32Array(a),m=new Uint32Array(a);for(let b=this._length-1,c=0;b>=0;b--){const v=this._startIndexes[b],C=g.getLineContent(v),S=(0,f.q)(C,i);(S<d||S===d&&l++<a)&&(s[c]=v,m[c]=this._endIndexes[b],c++)}return new O.MN(s,m)}}}const I={limit:u,update:()=>{}};function L(E,g,a,l=I){const d=E.getOptions().tabSize,i=new V(l);let s;a&&(s=new RegExp(`(${a.start.source})|(?:${a.end.source})`));const m=[],b=E.getLineCount()+1;m.push({indent:-1,endAbove:b,line:b});for(let c=E.getLineCount();c>0;c--){const v=E.getLineContent(c),C=(0,f.q)(v,d);let S=m[m.length-1];if(C===-1){g&&(S.endAbove=c);continue}let N;if(s&&(N=v.match(s)))if(N[1]){let P=m.length-1;for(;P>0&&m[P].indent!==-2;)P--;if(P>0){m.length=P+1,S=m[P],i.insertFirst(c,S.line,C),S.line=c,S.indent=C,S.endAbove=c;continue}}else{m.push({indent:-2,endAbove:c,line:c});continue}if(S.indent>C){do m.pop(),S=m[m.length-1];while(S.indent>C);const P=S.endAbove-1;P-c>=1&&i.insertFirst(c,P,C)}S.indent===C?S.endAbove=c:m.push({indent:C,endAbove:c,line:c})}return i.toIndentRanges(E)}},28994:function(Rt,Be,t){"use strict";t.d(Be,{e:function(){return V}});var f=t(20996),O=t(38431),u=t(14325);const _={},p="syntax";class V{constructor(a,l,d,i,s){this.editorModel=a,this.providers=l,this.handleFoldingRangesChange=d,this.foldingRangesLimit=i,this.fallbackRangeProvider=s,this.id=p,this.disposables=new O.SL,s&&this.disposables.add(s);for(const m of l)typeof m.onDidChange=="function"&&this.disposables.add(m.onDidChange(d))}compute(a){return I(this.providers,this.editorModel,a).then(l=>{var d,i;return l?E(l,this.foldingRangesLimit):(i=(d=this.fallbackRangeProvider)===null||d===void 0?void 0:d.compute(a))!==null&&i!==void 0?i:null})}dispose(){this.disposables.dispose()}}function I(g,a,l){let d=null;const i=g.map((s,m)=>Promise.resolve(s.provideFoldingRanges(a,_,l)).then(b=>{if(!l.isCancellationRequested&&Array.isArray(b)){Array.isArray(d)||(d=[]);const c=a.getLineCount();for(const v of b)v.start>0&&v.end>v.start&&v.end<=c&&d.push({start:v.start,end:v.end,rank:m,kind:v.kind})}},f.Cp));return Promise.all(i).then(s=>d)}class L{constructor(a){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=a}add(a,l,d,i){if(a>u.Xl||l>u.Xl)return;const s=this._length;this._startIndexes[s]=a,this._endIndexes[s]=l,this._nestingLevels[s]=i,this._types[s]=d,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}toIndentRanges(){const a=this._foldingRangesLimit.limit;if(this._length<=a){this._foldingRangesLimit.update(this._length,!1);const l=new Uint32Array(this._length),d=new Uint32Array(this._length);for(let i=0;i<this._length;i++)l[i]=this._startIndexes[i],d[i]=this._endIndexes[i];return new u.MN(l,d,this._types)}else{this._foldingRangesLimit.update(this._length,a);let l=0,d=this._nestingLevelCounts.length;for(let b=0;b<this._nestingLevelCounts.length;b++){const c=this._nestingLevelCounts[b];if(c){if(c+l>a){d=b;break}l+=c}}const i=new Uint32Array(a),s=new Uint32Array(a),m=[];for(let b=0,c=0;b<this._length;b++){const v=this._nestingLevels[b];(v<d||v===d&&l++<a)&&(i[c]=this._startIndexes[b],s[c]=this._endIndexes[b],m[c]=this._types[b],c++)}return new u.MN(i,s,m)}}}function E(g,a){const l=g.sort((m,b)=>{let c=m.start-b.start;return c===0&&(c=m.rank-b.rank),c}),d=new L(a);let i;const s=[];for(const m of l)if(!i)i=m,d.add(m.start,m.end,m.kind&&m.kind.value,s.length);else if(m.start>i.start)if(m.end<=i.end)s.push(i),i=m,d.add(m.start,m.end,m.kind&&m.kind.value,s.length);else{if(m.start>i.end){do i=s.pop();while(i&&m.start>i.end);i&&s.push(i),i=m}d.add(m.start,m.end,m.kind&&m.kind.value,s.length)}return d.toIndentRanges()}},46249:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(14963),u=t(26386);class _ extends f.R6{constructor(){super({id:"editor.action.fontZoomIn",label:u.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(L,E){O.C.setZoomLevel(O.C.getZoomLevel()+1)}}class p extends f.R6{constructor(){super({id:"editor.action.fontZoomOut",label:u.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(L,E){O.C.setZoomLevel(O.C.getZoomLevel()-1)}}class V extends f.R6{constructor(){super({id:"editor.action.fontZoomReset",label:u.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(L,E){O.C.setZoomLevel(0)}}(0,f.Qr)(_),(0,f.Qr)(p),(0,f.Qr)(V)},46121:function(Rt,Be,t){"use strict";t.d(Be,{xC:function(){return B},Zg:function(){return D},x$:function(){return U},Qq:function(){return k},Qs:function(){return Y}});var f=t(79874),O=t(16308),u=t(97464),_=t(20996),p=t(97865),V=t(17979),I=t(14818),L=t(28919),E=t(44426),g=t(86086),a=t(8964),l=t(50038),d=t(57841),i=t(30363),s=t(91223),m=t(59661),b=t(26386),c=t(80793);class v{constructor(z){this.value=z,this._lower=z.toLowerCase()}static toKey(z){return typeof z=="string"?z.toLowerCase():z._lower}}class C{constructor(z){if(this._set=new Set,z)for(const K of z)this.add(K)}add(z){this._set.add(v.toKey(z))}has(z){return this._set.has(v.toKey(z))}}var S=t(44333),N=t(35921),P=t(59271),M=function(j,z,K,Z){function fe(T){return T instanceof K?T:new K(function(Re){Re(T)})}return new(K||(K=Promise))(function(T,Re){function Ce(le){try{pe(Z.next(le))}catch(oe){Re(oe)}}function _e(le){try{pe(Z.throw(le))}catch(oe){Re(oe)}}function pe(le){le.done?T(le.value):fe(le.value).then(Ce,_e)}pe((Z=Z.apply(j,z||[])).next())})};function D(j){if(j=j.filter(fe=>fe.range),!j.length)return;let{range:z}=j[0];for(let fe=1;fe<j.length;fe++)z=l.e.plusRange(z,j[fe].range);const{startLineNumber:K,endLineNumber:Z}=z;K===Z?j.length===1?(0,f.Z9)(b.NC("hint11","Made 1 formatting edit on line {0}",K)):(0,f.Z9)(b.NC("hintn1","Made {0} formatting edits on line {1}",j.length,K)):j.length===1?(0,f.Z9)(b.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",K,Z)):(0,f.Z9)(b.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",j.length,K,Z))}function F(j,z,K){const Z=[],fe=new C,T=j.ordered(K);for(const Ce of T)Z.push(Ce),Ce.extensionId&&fe.add(Ce.extensionId);const Re=z.ordered(K);for(const Ce of Re){if(Ce.extensionId){if(fe.has(Ce.extensionId))continue;fe.add(Ce.extensionId)}Z.push({displayName:Ce.displayName,extensionId:Ce.extensionId,provideDocumentFormattingEdits(_e,pe,le){return Ce.provideDocumentRangeFormattingEdits(_e,_e.getFullModelRange(),pe,le)}})}return Z}class B{static setFormatterSelector(z){return{dispose:B._selectors.unshift(z)}}static select(z,K,Z){return M(this,void 0,void 0,function*(){if(z.length===0)return;const fe=p.$.first(B._selectors);if(fe)return yield fe(z,K,Z)})}}B._selectors=new V.S;function U(j,z,K,Z,fe,T){return M(this,void 0,void 0,function*(){const Re=j.get(S.TG),{documentRangeFormattingEditProvider:Ce}=j.get(N.p),_e=(0,g.CL)(z)?z.getModel():z,pe=Ce.ordered(_e),le=yield B.select(pe,_e,Z);le&&(fe.report(le),yield Re.invokeFunction(A,le,z,K,T))})}function A(j,z,K,Z,fe){var T,Re;return M(this,void 0,void 0,function*(){const Ce=j.get(i.p),_e=j.get(P.VZ);let pe,le;(0,g.CL)(K)?(pe=K.getModel(),le=new E.Dl(K,5,void 0,fe)):(pe=K,le=new E.YQ(K,fe));const oe=[];let he=0;for(const q of(0,O._2)(Z).sort(l.e.compareRangesUsingStarts))he>0&&l.e.areIntersectingOrTouching(oe[he-1],q)?oe[he-1]=l.e.fromPositions(oe[he-1].getStartPosition(),q.getEndPosition()):he=oe.push(q);const je=q=>M(this,void 0,void 0,function*(){var Ee,Se;_e.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Ee=z.extensionId)===null||Ee===void 0?void 0:Ee.value,q);const we=(yield z.provideDocumentRangeFormattingEdits(pe,q,pe.getFormattingOptions(),le.token))||[];return _e.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Se=z.extensionId)===null||Se===void 0?void 0:Se.value,we),we}),Xe=(q,Ee)=>{if(!q.length||!Ee.length)return!1;const Se=q.reduce((we,ve)=>l.e.plusRange(we,ve.range),q[0].range);if(!Ee.some(we=>l.e.intersectRanges(Se,we.range)))return!1;for(const we of q)for(const ve of Ee)if(l.e.intersectRanges(we.range,ve.range))return!0;return!1},Ve=[],se=[];try{if(typeof z.provideDocumentRangesFormattingEdits=="function"){_e.trace("[format][provideDocumentRangeFormattingEdits] (request)",(T=z.extensionId)===null||T===void 0?void 0:T.value,oe);const q=(yield z.provideDocumentRangesFormattingEdits(pe,oe,pe.getFormattingOptions(),le.token))||[];_e.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Re=z.extensionId)===null||Re===void 0?void 0:Re.value,q),se.push(q)}else{for(const q of oe){if(le.token.isCancellationRequested)return!0;se.push(yield je(q))}for(let q=0;q<oe.length;++q)for(let Ee=q+1;Ee<oe.length;++Ee){if(le.token.isCancellationRequested)return!0;if(Xe(se[q],se[Ee])){const Se=l.e.plusRange(oe[q],oe[Ee]),we=yield je(Se);oe.splice(Ee,1),oe.splice(q,1),oe.push(Se),se.splice(Ee,1),se.splice(q,1),se.push(we),q=0,Ee=0}}}for(const q of se){if(le.token.isCancellationRequested)return!0;const Ee=yield Ce.computeMoreMinimalEdits(pe.uri,q);Ee&&Ve.push(...Ee)}}finally{le.dispose()}if(Ve.length===0)return!1;if((0,g.CL)(K))m.V.execute(K,Ve,!0),D(Ve),K.revealPositionInCenterIfOutsideViewport(K.getPosition(),1);else{const[{range:q}]=Ve,Ee=new d.Y(q.startLineNumber,q.startColumn,q.endLineNumber,q.endColumn);pe.pushEditOperations([Ee],Ve.map(Se=>({text:Se.text,range:l.e.lift(Se.range),forceMoveMarkers:!0})),Se=>{for(const{range:we}of Se)if(l.e.areIntersectingOrTouching(we,Ee))return[new d.Y(we.startLineNumber,we.startColumn,we.endLineNumber,we.endColumn)];return null})}return!0})}function k(j,z,K,Z,fe){return M(this,void 0,void 0,function*(){const T=j.get(S.TG),Re=j.get(N.p),Ce=(0,g.CL)(z)?z.getModel():z,_e=F(Re.documentFormattingEditProvider,Re.documentRangeFormattingEditProvider,Ce),pe=yield B.select(_e,Ce,K);pe&&(Z.report(pe),yield T.invokeFunction(R,pe,z,K,fe))})}function R(j,z,K,Z,fe){return M(this,void 0,void 0,function*(){const T=j.get(i.p);let Re,Ce;(0,g.CL)(K)?(Re=K.getModel(),Ce=new E.Dl(K,5,void 0,fe)):(Re=K,Ce=new E.YQ(K,fe));let _e;try{const pe=yield z.provideDocumentFormattingEdits(Re,Re.getFormattingOptions(),Ce.token);if(_e=yield T.computeMoreMinimalEdits(Re.uri,pe),Ce.token.isCancellationRequested)return!0}finally{Ce.dispose()}if(!_e||_e.length===0)return!1;if((0,g.CL)(K))m.V.execute(K,_e,Z!==2),Z!==2&&(D(_e),K.revealPositionInCenterIfOutsideViewport(K.getPosition(),1));else{const[{range:pe}]=_e,le=new d.Y(pe.startLineNumber,pe.startColumn,pe.endLineNumber,pe.endColumn);Re.pushEditOperations([le],_e.map(oe=>({text:oe.text,range:l.e.lift(oe.range),forceMoveMarkers:!0})),oe=>{for(const{range:he}of oe)if(l.e.areIntersectingOrTouching(he,le))return[new d.Y(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)];return null})}return!0})}function $(j,z,K,Z,fe,T){return M(this,void 0,void 0,function*(){const Re=z.documentRangeFormattingEditProvider.ordered(K);for(const Ce of Re){const _e=yield Promise.resolve(Ce.provideDocumentRangeFormattingEdits(K,Z,fe,T)).catch(_.Cp);if((0,O.Of)(_e))return yield j.computeMoreMinimalEdits(K.uri,_e)}})}function J(j,z,K,Z,fe){return M(this,void 0,void 0,function*(){const T=F(z.documentFormattingEditProvider,z.documentRangeFormattingEditProvider,K);for(const Re of T){const Ce=yield Promise.resolve(Re.provideDocumentFormattingEdits(K,Z,fe)).catch(_.Cp);if((0,O.Of)(Ce))return yield j.computeMoreMinimalEdits(K.uri,Ce)}})}function Y(j,z,K,Z,fe,T,Re){const Ce=z.onTypeFormattingEditProvider.ordered(K);return Ce.length===0||Ce[0].autoFormatTriggerCharacters.indexOf(fe)<0?Promise.resolve(void 0):Promise.resolve(Ce[0].provideOnTypeFormattingEdits(K,Z,fe,T,Re)).catch(_.Cp).then(_e=>j.computeMoreMinimalEdits(K.uri,_e))}c.P.registerCommand("_executeFormatRangeProvider",function(j,...z){return M(this,void 0,void 0,function*(){const[K,Z,fe]=z;(0,I.p_)(L.o.isUri(K)),(0,I.p_)(l.e.isIRange(Z));const T=j.get(s.S),Re=j.get(i.p),Ce=j.get(N.p),_e=yield T.createModelReference(K);try{return $(Re,Ce,_e.object.textEditorModel,l.e.lift(Z),fe,u.T.None)}finally{_e.dispose()}})}),c.P.registerCommand("_executeFormatDocumentProvider",function(j,...z){return M(this,void 0,void 0,function*(){const[K,Z]=z;(0,I.p_)(L.o.isUri(K));const fe=j.get(s.S),T=j.get(i.p),Re=j.get(N.p),Ce=yield fe.createModelReference(K);try{return J(T,Re,Ce.object.textEditorModel,Z,u.T.None)}finally{Ce.dispose()}})}),c.P.registerCommand("_executeFormatOnTypeProvider",function(j,...z){return M(this,void 0,void 0,function*(){const[K,Z,fe,T]=z;(0,I.p_)(L.o.isUri(K)),(0,I.p_)(a.L.isIPosition(Z)),(0,I.p_)(typeof fe=="string");const Re=j.get(s.S),Ce=j.get(i.p),_e=j.get(N.p),pe=yield Re.createModelReference(K);try{return Y(Ce,_e,pe.object.textEditorModel,a.L.lift(Z),fe,T,u.T.None)}finally{pe.dispose()}})})},60849:function(Rt,Be,t){"use strict";t.r(Be);var f=t(16308),O=t(97464),u=t(20996),_=t(94880),p=t(38431),V=t(55298),I=t(5603),L=t(55224),E=t(50038),g=t(21081),a=t(30363),l=t(35921),d=t(46121),i=t(59661),s=t(26386),m=t(80793),b=t(76826),c=t(44333),v=t(79969),C=function(B,U,A,k){var R=arguments.length,$=R<3?U:k===null?k=Object.getOwnPropertyDescriptor(U,A):k,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(B,U,A,k);else for(var Y=B.length-1;Y>=0;Y--)(J=B[Y])&&($=(R<3?J($):R>3?J(U,A,$):J(U,A))||$);return R>3&&$&&Object.defineProperty(U,A,$),$},S=function(B,U){return function(A,k){U(A,k,B)}},N=function(B,U,A,k){function R($){return $ instanceof A?$:new A(function(J){J($)})}return new(A||(A=Promise))(function($,J){function Y(K){try{z(k.next(K))}catch(Z){J(Z)}}function j(K){try{z(k.throw(K))}catch(Z){J(Z)}}function z(K){K.done?$(K.value):R(K.value).then(Y,j)}z((k=k.apply(B,U||[])).next())})};let P=class{constructor(U,A,k){this._editor=U,this._languageFeaturesService=A,this._workerService=k,this._disposables=new p.SL,this._sessionDisposables=new p.SL,this._disposables.add(A.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(U.onDidChangeModel(()=>this._update())),this._disposables.add(U.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(U.onDidChangeConfiguration(R=>{R.hasChanged(54)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(54)||!this._editor.hasModel())return;const U=this._editor.getModel(),[A]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(U);if(!A||!A.autoFormatTriggerCharacters)return;const k=new L.q;for(const R of A.autoFormatTriggerCharacters)k.add(R.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(R=>{const $=R.charCodeAt(R.length-1);k.has($)&&this._trigger(String.fromCharCode($))}))}_trigger(U){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const A=this._editor.getModel(),k=this._editor.getPosition(),R=new O.A,$=this._editor.onDidChangeModelContent(J=>{if(J.isFlush){R.cancel(),$.dispose();return}for(let Y=0,j=J.changes.length;Y<j;Y++)if(J.changes[Y].range.endLineNumber<=k.lineNumber){R.cancel(),$.dispose();return}});(0,d.Qs)(this._workerService,this._languageFeaturesService,A,k,U,A.getFormattingOptions(),R.token).then(J=>{R.token.isCancellationRequested||(0,f.Of)(J)&&(i.V.execute(this._editor,J,!0),(0,d.Zg)(J))}).finally(()=>{$.dispose()})}};P.ID="editor.contrib.autoFormat",P=C([S(1,l.p),S(2,a.p)],P);let M=class{constructor(U,A,k){this.editor=U,this._languageFeaturesService=A,this._instantiationService=k,this._callOnDispose=new p.SL,this._callOnModel=new p.SL,this._callOnDispose.add(U.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(U.onDidChangeModel(()=>this._update())),this._callOnDispose.add(U.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(A.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(53)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:U})=>this._trigger(U)))}_trigger(U){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(d.x$,this.editor,U,2,v.Ex.None,O.T.None).catch(u.dL))}};M.ID="editor.contrib.formatOnPaste",M=C([S(1,l.p),S(2,c.TG)],M);class D extends V.R6{constructor(){super({id:"editor.action.formatDocument",label:s.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:b.Ao.and(g.u.notInCompositeEditor,g.u.writable,g.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:g.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(U,A){return N(this,void 0,void 0,function*(){if(A.hasModel()){const k=U.get(c.TG);yield U.get(v.ek).showWhile(k.invokeFunction(d.Qq,A,1,v.Ex.None,O.T.None),250)}})}}class F extends V.R6{constructor(){super({id:"editor.action.formatSelection",label:s.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:b.Ao.and(g.u.writable,g.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,_.gx)(2089,2084),weight:100},contextMenuOpts:{when:g.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(U,A){return N(this,void 0,void 0,function*(){if(!A.hasModel())return;const k=U.get(c.TG),R=A.getModel(),$=A.getSelections().map(Y=>Y.isEmpty()?new E.e(Y.startLineNumber,1,Y.startLineNumber,R.getLineMaxColumn(Y.startLineNumber)):Y);yield U.get(v.ek).showWhile(k.invokeFunction(d.x$,A,$,1,v.Ex.None,O.T.None),250)})}}(0,V._K)(P.ID,P,2),(0,V._K)(M.ID,M,2),(0,V.Qr)(D),(0,V.Qr)(F),m.P.registerCommand("editor.action.format",B=>N(void 0,void 0,void 0,function*(){const U=B.get(I.$).getFocusedCodeEditor();if(!U||!U.hasModel())return;const A=B.get(m.H);U.getSelection().isEmpty()?yield A.executeCommand("editor.action.formatDocument"):yield A.executeCommand("editor.action.formatSelection")}))},59661:function(Rt,Be,t){"use strict";t.d(Be,{V:function(){return _}});var f=t(19083),O=t(50038),u=t(48423);class _{static _handleEolEdits(V,I){let L;const E=[];for(const g of I)typeof g.eol=="number"&&(L=g.eol),g.range&&typeof g.text=="string"&&E.push(g);return typeof L=="number"&&V.hasModel()&&V.getModel().pushEOL(L),E}static _isFullModelReplaceEdit(V,I){if(!V.hasModel())return!1;const L=V.getModel(),E=L.validateRange(I.range);return L.getFullModelRange().equalsRange(E)}static execute(V,I,L){L&&V.pushUndoStop();const E=u.Z.capture(V),g=_._handleEolEdits(V,I);g.length===1&&_._isFullModelReplaceEdit(V,g[0])?V.executeEdits("formatEditsCommand",g.map(a=>f.h.replace(O.e.lift(a.range),a.text))):V.executeEdits("formatEditsCommand",g.map(a=>f.h.replaceMove(O.e.lift(a.range),a.text))),L&&V.pushUndoStop(),E.restoreRelativeVerticalPositionOfCursor(V)}}},56993:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{MarkerController:function(){return Ne},NextMarkerAction:function(){return Ke}});var f=t(407),O=t(38431),u=t(55298),_=t(5603),p=t(8964),V=t(50038),I=t(21081),L=t(16308),E=t(56709),g=t(17979),a=t(17416),l=t(28919),d=t(53061),i=t(44333),s=t(36156),m=t(71177),b=function(ne,me,ue,Pe){var ot=arguments.length,gt=ot<3?me:Pe===null?Pe=Object.getOwnPropertyDescriptor(me,ue):Pe,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")gt=Reflect.decorate(ne,me,ue,Pe);else for(var tt=ne.length-1;tt>=0;tt--)(nt=ne[tt])&&(gt=(ot<3?nt(gt):ot>3?nt(me,ue,gt):nt(me,ue))||gt);return ot>3&&gt&&Object.defineProperty(me,ue,gt),gt},c=function(ne,me){return function(ue,Pe){me(ue,Pe,ne)}};class v{constructor(me,ue,Pe){this.marker=me,this.index=ue,this.total=Pe}}let C=class{constructor(me,ue,Pe){this._markerService=ue,this._configService=Pe,this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new O.SL,this._markers=[],this._nextIdx=-1,l.o.isUri(me)?this._resourceFilter=tt=>tt.toString()===me.toString():me&&(this._resourceFilter=me);const ot=this._configService.getValue("problems.sortOrder"),gt=(tt,st)=>{let It=(0,a.qu)(tt.resource.toString(),st.resource.toString());return It===0&&(ot==="position"?It=V.e.compareRangesUsingStarts(tt,st)||s.ZL.compare(tt.severity,st.severity):It=s.ZL.compare(tt.severity,st.severity)||V.e.compareRangesUsingStarts(tt,st)),It},nt=()=>{this._markers=this._markerService.read({resource:l.o.isUri(me)?me:void 0,severities:s.ZL.Error|s.ZL.Warning|s.ZL.Info}),typeof me=="function"&&(this._markers=this._markers.filter(tt=>this._resourceFilter(tt.resource))),this._markers.sort(gt)};nt(),this._dispoables.add(ue.onMarkerChanged(tt=>{(!this._resourceFilter||tt.some(st=>this._resourceFilter(st)))&&(nt(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(me){return!this._resourceFilter&&!me?!0:!this._resourceFilter||!me?!1:this._resourceFilter(me)}get selected(){const me=this._markers[this._nextIdx];return me&&new v(me,this._nextIdx+1,this._markers.length)}_initIdx(me,ue,Pe){let ot=!1,gt=this._markers.findIndex(nt=>nt.resource.toString()===me.uri.toString());gt<0&&(gt=(0,L.ry)(this._markers,{resource:me.uri},(nt,tt)=>(0,a.qu)(nt.resource.toString(),tt.resource.toString())),gt<0&&(gt=~gt));for(let nt=gt;nt<this._markers.length;nt++){let tt=V.e.lift(this._markers[nt]);if(tt.isEmpty()){const st=me.getWordAtPosition(tt.getStartPosition());st&&(tt=new V.e(tt.startLineNumber,st.startColumn,tt.startLineNumber,st.endColumn))}if(ue&&(tt.containsPosition(ue)||ue.isBeforeOrEqual(tt.getStartPosition()))){this._nextIdx=nt,ot=!0;break}if(this._markers[nt].resource.toString()!==me.uri.toString())break}ot||(this._nextIdx=Pe?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(me,ue,Pe){if(this._markers.length===0)return!1;const ot=this._nextIdx;return this._nextIdx===-1?this._initIdx(ue,Pe,me):me?this._nextIdx=(this._nextIdx+1)%this._markers.length:me||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),ot!==this._nextIdx}find(me,ue){let Pe=this._markers.findIndex(ot=>ot.resource.toString()===me.toString());if(!(Pe<0)){for(;Pe<this._markers.length;Pe++)if(V.e.containsPosition(this._markers[Pe],ue))return new v(this._markers[Pe],Pe+1,this._markers.length)}}};C=b([c(1,s.lT),c(2,m.Ui)],C);const S=(0,i.yh)("IMarkerNavigationService");let N=class{constructor(me,ue){this._markerService=me,this._configService=ue,this._provider=new g.S}getMarkerList(me){for(const ue of this._provider){const Pe=ue.getMarkerList(me);if(Pe)return Pe}return new C(me,this._markerService,this._configService)}};N=b([c(0,s.lT),c(1,m.Ui)],N),(0,d.z)(S,N,1);var P=t(26386),M=t(21208),D=t(76826),F=t(89528),B=t(34441),U=t(60018),A=t(86741),k=t(6227),R=t(10479),$=t(3941),J=t(18680),Y=t(48786),j=t(8216),z=t(87068),K;(function(ne){function me(ue){switch(ue){case z.Z.Ignore:return"severity-ignore "+j.k.asClassName(f.l.info);case z.Z.Info:return j.k.asClassName(f.l.info);case z.Z.Warning:return j.k.asClassName(f.l.warning);case z.Z.Error:return j.k.asClassName(f.l.error);default:return""}}ne.className=me})(K||(K={}));var Z=t(92537),fe=t(58566),T=function(ne,me,ue,Pe){var ot=arguments.length,gt=ot<3?me:Pe===null?Pe=Object.getOwnPropertyDescriptor(me,ue):Pe,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")gt=Reflect.decorate(ne,me,ue,Pe);else for(var tt=ne.length-1;tt>=0;tt--)(nt=ne[tt])&&(gt=(ot<3?nt(gt):ot>3?nt(me,ue,gt):nt(me,ue))||gt);return ot>3&&gt&&Object.defineProperty(me,ue,gt),gt},Re=function(ne,me){return function(ue,Pe){me(ue,Pe,ne)}};class Ce{constructor(me,ue,Pe,ot,gt){this._openerService=ot,this._labelService=gt,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new O.SL,this._editor=ue;const nt=document.createElement("div");nt.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),nt.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),nt.appendChild(this._relatedBlock),this._disposables.add(B.mu(this._relatedBlock,"click",tt=>{tt.preventDefault();const st=this._relatedDiagnostics.get(tt.target);st&&Pe(st)})),this._scrollable=new U.NB(nt,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),me.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(tt=>{nt.style.left=`-${tt.scrollLeft}px`,nt.style.top=`-${tt.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,O.B9)(this._disposables)}update(me){const{source:ue,message:Pe,relatedInformation:ot,code:gt}=me;let nt=((ue==null?void 0:ue.length)||0)+2;gt&&(typeof gt=="string"?nt+=gt.length:nt+=gt.value.length);const tt=(0,a.uq)(Pe);this._lines=tt.length,this._longestLineLength=0;for(const Ct of tt)this._longestLineLength=Math.max(Ct.length+nt,this._longestLineLength);B.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(me)),this._editor.applyFontInfo(this._messageBlock);let st=this._messageBlock;for(const Ct of tt)st=document.createElement("div"),st.innerText=Ct,Ct===""&&(st.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(st);if(ue||gt){const Ct=document.createElement("span");if(Ct.classList.add("details"),st.appendChild(Ct),ue){const gi=document.createElement("span");gi.innerText=ue,gi.classList.add("source"),Ct.appendChild(gi)}if(gt)if(typeof gt=="string"){const gi=document.createElement("span");gi.innerText=`(${gt})`,gi.classList.add("code"),Ct.appendChild(gi)}else{this._codeLink=B.$("a.code-link"),this._codeLink.setAttribute("href",`${gt.target.toString()}`),this._codeLink.onclick=jt=>{this._openerService.open(gt.target,{allowCommands:!0}),jt.preventDefault(),jt.stopPropagation()};const gi=B.R3(this._codeLink,B.$("span"));gi.innerText=gt.value,Ct.appendChild(this._codeLink)}}if(B.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,L.Of)(ot)){const Ct=this._relatedBlock.appendChild(document.createElement("div"));Ct.style.paddingTop=`${Math.floor(this._editor.getOption(64)*.66)}px`,this._lines+=1;for(const gi of ot){const jt=document.createElement("div"),Ye=document.createElement("a");Ye.classList.add("filename"),Ye.innerText=`${this._labelService.getUriBasenameLabel(gi.resource)}(${gi.startLineNumber}, ${gi.startColumn}): `,Ye.title=this._labelService.getUriLabel(gi.resource),this._relatedDiagnostics.set(Ye,gi);const ut=document.createElement("span");ut.innerText=gi.message,jt.appendChild(Ye),jt.appendChild(ut),this._lines+=1,Ct.appendChild(jt)}}const It=this._editor.getOption(48),Wt=Math.ceil(It.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Vt=It.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Wt,scrollHeight:Vt})}layout(me,ue){this._scrollable.getDomNode().style.height=`${me}px`,this._scrollable.getDomNode().style.width=`${ue}px`,this._scrollable.setScrollDimensions({width:ue,height:me})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(me){let ue="";switch(me.severity){case s.ZL.Error:ue=P.NC("Error","Error");break;case s.ZL.Warning:ue=P.NC("Warning","Warning");break;case s.ZL.Info:ue=P.NC("Info","Info");break;case s.ZL.Hint:ue=P.NC("Hint","Hint");break}let Pe=P.NC("marker aria","{0} at {1}. ",ue,me.startLineNumber+":"+me.startColumn);const ot=this._editor.getModel();return ot&&me.startLineNumber<=ot.getLineCount()&&me.startLineNumber>=1&&(Pe=`${ot.getLineContent(me.startLineNumber)}, ${Pe}`),Pe}}let _e=class Jc extends R.vk{constructor(me,ue,Pe,ot,gt,nt,tt){super(me,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},gt),this._themeService=ue,this._openerService=Pe,this._menuService=ot,this._contextKeyService=nt,this._labelService=tt,this._callOnDispose=new O.SL,this._onDidSelectRelatedInformation=new E.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=s.ZL.Warning,this._backgroundColor=A.Il.white,this._applyTheme(ue.getColorTheme()),this._callOnDispose.add(ue.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(me){this._backgroundColor=me.getColor(Ee);let ue=he,Pe=je;this._severity===s.ZL.Warning?(ue=Xe,Pe=Ve):this._severity===s.ZL.Info&&(ue=se,Pe=q);const ot=me.getColor(ue),gt=me.getColor(Pe);this.style({arrowColor:ot,frameColor:ot,headerBackgroundColor:gt,primaryHeadingColor:me.getColor(R.IH),secondaryHeadingColor:me.getColor(R.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(me){super._fillHead(me),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(ot=>this.editor.focus()));const ue=[],Pe=this._menuService.createMenu(Jc.TitleMenu,this._contextKeyService);(0,$.vr)(Pe,void 0,ue),this._actionbarWidget.push(ue,{label:!1,icon:!0,index:0}),Pe.dispose()}_fillTitleIcon(me){this._icon=B.R3(me,B.$(""))}_fillBody(me){this._parentContainer=me,me.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),me.appendChild(this._container),this._message=new Ce(this._container,this.editor,ue=>this._onDidSelectRelatedInformation.fire(ue),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(me,ue,Pe){this._container.classList.remove("stale"),this._message.update(me),this._severity=me.severity,this._applyTheme(this._themeService.getColorTheme());const ot=V.e.lift(me),gt=this.editor.getPosition(),nt=gt&&ot.containsPosition(gt)?gt:ot.getStartPosition();super.show(nt,this.computeRequiredHeight());const tt=this.editor.getModel();if(tt){const st=Pe>1?P.NC("problems","{0} of {1} problems",ue,Pe):P.NC("change","{0} of {1} problem",ue,Pe);this.setTitle((0,k.EZ)(tt.uri),st)}this._icon.className=`codicon ${K.className(s.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(nt,0),this.editor.focus()}updateMarker(me){this._container.classList.remove("stale"),this._message.update(me)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(me,ue){super._doLayoutBody(me,ue),this._heightInPixel=me,this._message.layout(me,ue),this._container.style.height=`${me}px`}_onWidth(me){this._message.layout(this._heightInPixel,me)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};_e.TitleMenu=new M.eH("gotoErrorTitleMenu"),_e=T([Re(1,fe.XE),Re(2,Y.v4),Re(3,M.co),Re(4,i.TG),Re(5,D.i6),Re(6,J.e)],_e);const pe=(0,Z.kwl)(Z.lXJ,Z.b6y),le=(0,Z.kwl)(Z.uoC,Z.pW3),oe=(0,Z.kwl)(Z.c63,Z.T83),he=(0,Z.P6G)("editorMarkerNavigationError.background",{dark:pe,light:pe,hcDark:Z.lRK,hcLight:Z.lRK},P.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),je=(0,Z.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,Z.ZnX)(he,.1),light:(0,Z.ZnX)(he,.1),hcDark:null,hcLight:null},P.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Xe=(0,Z.P6G)("editorMarkerNavigationWarning.background",{dark:le,light:le,hcDark:Z.lRK,hcLight:Z.lRK},P.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Ve=(0,Z.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,Z.ZnX)(Xe,.1),light:(0,Z.ZnX)(Xe,.1),hcDark:"#0C141F",hcLight:(0,Z.ZnX)(Xe,.2)},P.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),se=(0,Z.P6G)("editorMarkerNavigationInfo.background",{dark:oe,light:oe,hcDark:Z.lRK,hcLight:Z.lRK},P.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),q=(0,Z.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,Z.ZnX)(se,.1),light:(0,Z.ZnX)(se,.1),hcDark:null,hcLight:null},P.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Ee=(0,Z.P6G)("editorMarkerNavigation.background",{dark:Z.cvW,light:Z.cvW,hcDark:Z.cvW,hcLight:Z.cvW},P.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Se=function(ne,me,ue,Pe){var ot=arguments.length,gt=ot<3?me:Pe===null?Pe=Object.getOwnPropertyDescriptor(me,ue):Pe,nt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")gt=Reflect.decorate(ne,me,ue,Pe);else for(var tt=ne.length-1;tt>=0;tt--)(nt=ne[tt])&&(gt=(ot<3?nt(gt):ot>3?nt(me,ue,gt):nt(me,ue))||gt);return ot>3&&gt&&Object.defineProperty(me,ue,gt),gt},we=function(ne,me){return function(ue,Pe){me(ue,Pe,ne)}},ve=function(ne,me,ue,Pe){function ot(gt){return gt instanceof ue?gt:new ue(function(nt){nt(gt)})}return new(ue||(ue=Promise))(function(gt,nt){function tt(Wt){try{It(Pe.next(Wt))}catch(Vt){nt(Vt)}}function st(Wt){try{It(Pe.throw(Wt))}catch(Vt){nt(Vt)}}function It(Wt){Wt.done?gt(Wt.value):ot(Wt.value).then(tt,st)}It((Pe=Pe.apply(ne,me||[])).next())})};let Ne=class kl{static get(me){return me.getContribution(kl.ID)}constructor(me,ue,Pe,ot,gt){this._markerNavigationService=ue,this._contextKeyService=Pe,this._editorService=ot,this._instantiationService=gt,this._sessionDispoables=new O.SL,this._editor=me,this._widgetVisible=de.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(me){if(this._model&&this._model.matches(me))return this._model;let ue=!1;return this._model&&(ue=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(me),ue&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(_e,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(Pe=>{var ot,gt,nt;(!(!((ot=this._model)===null||ot===void 0)&&ot.selected)||!V.e.containsPosition((gt=this._model)===null||gt===void 0?void 0:gt.selected.marker,Pe.position))&&((nt=this._model)===null||nt===void 0||nt.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const Pe=this._model.find(this._editor.getModel().uri,this._widget.position);Pe?this._widget.updateMarker(Pe.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(Pe=>{this._editorService.openCodeEditor({resource:Pe.resource,options:{pinned:!0,revealIfOpened:!0,selection:V.e.lift(Pe).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(me=!0){this._cleanUp(),me&&this._editor.focus()}showAtMarker(me){if(this._editor.hasModel()){const ue=this._getOrCreateModel(this._editor.getModel().uri);ue.resetIndex(),ue.move(!0,this._editor.getModel(),new p.L(me.startLineNumber,me.startColumn)),ue.selected&&this._widget.showAtMarker(ue.selected.marker,ue.selected.index,ue.selected.total)}}nagivate(me,ue){var Pe,ot;return ve(this,void 0,void 0,function*(){if(this._editor.hasModel()){const gt=this._getOrCreateModel(ue?void 0:this._editor.getModel().uri);if(gt.move(me,this._editor.getModel(),this._editor.getPosition()),!gt.selected)return;if(gt.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const nt=yield this._editorService.openCodeEditor({resource:gt.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:gt.selected.marker}},this._editor);nt&&((Pe=kl.get(nt))===null||Pe===void 0||Pe.close(),(ot=kl.get(nt))===null||ot===void 0||ot.nagivate(me,ue))}else this._widget.showAtMarker(gt.selected.marker,gt.selected.index,gt.selected.total)}})}};Ne.ID="editor.contrib.markerController",Ne=Se([we(1,S),we(2,D.i6),we(3,_.$),we(4,i.TG)],Ne);class $e extends u.R6{constructor(me,ue,Pe){super(Pe),this._next=me,this._multiFile=ue}run(me,ue){var Pe;return ve(this,void 0,void 0,function*(){ue.hasModel()&&((Pe=Ne.get(ue))===null||Pe===void 0||Pe.nagivate(this._next,this._multiFile))})}}class Ke extends $e{constructor(){super(!0,!1,{id:Ke.ID,label:Ke.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:578,weight:100},menuOpts:{menuId:_e.TitleMenu,title:Ke.LABEL,icon:(0,F.q5)("marker-navigation-next",f.l.arrowDown,P.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Ke.ID="editor.action.marker.next",Ke.LABEL=P.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class ze extends $e{constructor(){super(!1,!1,{id:ze.ID,label:ze.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:1602,weight:100},menuOpts:{menuId:_e.TitleMenu,title:ze.LABEL,icon:(0,F.q5)("marker-navigation-previous",f.l.arrowUp,P.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}ze.ID="editor.action.marker.prev",ze.LABEL=P.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class He extends $e{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:P.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:66,weight:100},menuOpts:{menuId:M.eH.MenubarGoMenu,title:P.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class Le extends $e{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:P.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:1090,weight:100},menuOpts:{menuId:M.eH.MenubarGoMenu,title:P.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,u._K)(Ne.ID,Ne,4),(0,u.Qr)(Ke),(0,u.Qr)(ze),(0,u.Qr)(He),(0,u.Qr)(Le);const de=new D.uy("markersNavigationVisible",!1),ee=u._l.bindToContribution(Ne.get);(0,u.fK)(new ee({id:"closeMarkersNavigation",precondition:de,handler:ne=>ne.close(),kbOpts:{weight:100+50,kbExpr:I.u.focus,primary:9,secondary:[1033]}}))},55843:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{DefinitionAction:function(){return Se},SymbolNavigationAction:function(){return Ee},SymbolNavigationAnchor:function(){return q}});var f=t(71488),O=t(79874),u=t(13484),_=t(94880),p=t(11138),V=t(14818),I=t(28919),L=t(44426),E=t(86086),g=t(55298),a=t(5603),l=t(77957),d=t(8964),i=t(50038),s=t(21081),m=t(36082),b=t(51525),c=t(32498),v=t(56709),C=t(38431),S=t(6227),N=t(26386),P=t(76826),M=t(53061),D=t(44333),F=t(62297),B=t(47679),U=t(97968),A=function(He,Le,de,ee){var ne=arguments.length,me=ne<3?Le:ee===null?ee=Object.getOwnPropertyDescriptor(Le,de):ee,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(He,Le,de,ee);else for(var Pe=He.length-1;Pe>=0;Pe--)(ue=He[Pe])&&(me=(ne<3?ue(me):ne>3?ue(Le,de,me):ue(Le,de))||me);return ne>3&&me&&Object.defineProperty(Le,de,me),me},k=function(He,Le){return function(de,ee){Le(de,ee,He)}};const R=new P.uy("hasSymbols",!1,(0,N.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),$=(0,D.yh)("ISymbolNavigationService");let J=class{constructor(Le,de,ee,ne){this._editorService=de,this._notificationService=ee,this._keybindingService=ne,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=R.bindTo(Le)}reset(){var Le,de;this._ctxHasSymbols.reset(),(Le=this._currentState)===null||Le===void 0||Le.dispose(),(de=this._currentMessage)===null||de===void 0||de.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(Le){const de=Le.parent.parent;if(de.references.length<=1){this.reset();return}this._currentModel=de,this._currentIdx=de.references.indexOf(Le),this._ctxHasSymbols.set(!0),this._showMessage();const ee=new Y(this._editorService),ne=ee.onDidChange(me=>{if(this._ignoreEditorChange)return;const ue=this._editorService.getActiveCodeEditor();if(!ue)return;const Pe=ue.getModel(),ot=ue.getPosition();if(!Pe||!ot)return;let gt=!1,nt=!1;for(const tt of de.references)if((0,S.Xy)(tt.uri,Pe.uri))gt=!0,nt=nt||i.e.containsPosition(tt.range,ot);else if(gt)break;(!gt||!nt)&&this.reset()});this._currentState=(0,C.F8)(ee,ne)}revealNext(Le){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const de=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:de.uri,options:{selection:i.e.collapseToStart(de.range),selectionRevealType:3}},Le).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var Le;(Le=this._currentMessage)===null||Le===void 0||Le.dispose();const de=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),ee=de?(0,N.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,de.getLabel()):(0,N.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(ee)}};J=A([k(0,P.i6),k(1,a.$),k(2,U.lT),k(3,F.d)],J),(0,M.z)($,J,1),(0,g.fK)(new class extends g._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:R,kbOpts:{weight:100,primary:70}})}runEditorCommand(He,Le){return He.get($).revealNext(Le)}}),B.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:R,primary:9,handler(He){He.get($).reset()}});let Y=class{constructor(Le){this._listener=new Map,this._disposables=new C.SL,this._onDidChange=new v.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(Le.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(Le.onCodeEditorAdd(this._onDidAddEditor,this)),Le.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,C.B9)(this._listener.values())}_onDidAddEditor(Le){this._listener.set(Le,(0,C.F8)(Le.onDidChangeCursorPosition(de=>this._onDidChange.fire({editor:Le})),Le.onDidChangeModelContent(de=>this._onDidChange.fire({editor:Le}))))}_onDidRemoveEditor(Le){var de;(de=this._listener.get(Le))===null||de===void 0||de.dispose(),this._listener.delete(Le)}};Y=A([k(0,a.$)],Y);var j=t(91591),z=t(10479),K=t(21208),Z=t(80793),fe=t(79969),T=t(84758),Re=t(35921),Ce=t(97865),_e=function(He,Le,de,ee){function ne(me){return me instanceof de?me:new de(function(ue){ue(me)})}return new(de||(de=Promise))(function(me,ue){function Pe(nt){try{gt(ee.next(nt))}catch(tt){ue(tt)}}function ot(nt){try{gt(ee.throw(nt))}catch(tt){ue(tt)}}function gt(nt){nt.done?me(nt.value):ne(nt.value).then(Pe,ot)}gt((ee=ee.apply(He,Le||[])).next())})},pe,le,oe,he,je,Xe,Ve,se;K.BH.appendMenuItem(K.eH.EditorContext,{submenu:K.eH.EditorContextPeek,title:N.NC("peek.submenu","Peek"),group:"navigation",order:100});class q{static is(Le){return!Le||typeof Le!="object"?!1:!!(Le instanceof q||d.L.isIPosition(Le.position)&&Le.model)}constructor(Le,de){this.model=Le,this.position=de}}class Ee extends g.x1{static all(){return Ee._allSymbolNavigationCommands.values()}static _patchConfig(Le){const de=Object.assign(Object.assign({},Le),{f1:!0});if(de.menu)for(const ee of Ce.$.wrap(de.menu))(ee.id===K.eH.EditorContext||ee.id===K.eH.EditorContextPeek)&&(ee.when=P.Ao.and(Le.precondition,ee.when));return de}constructor(Le,de){super(Ee._patchConfig(de)),this.configuration=Le,Ee._allSymbolNavigationCommands.set(de.id,this)}runEditorCommand(Le,de,ee,ne){if(!de.hasModel())return Promise.resolve(void 0);const me=Le.get(U.lT),ue=Le.get(a.$),Pe=Le.get(fe.ek),ot=Le.get($),gt=Le.get(Re.p),nt=Le.get(D.TG),tt=de.getModel(),st=de.getPosition(),It=q.is(ee)?ee:new q(tt,st),Wt=new L.Dl(de,5),Vt=(0,u.eP)(this._getLocationModel(gt,It.model,It.position,Wt.token),Wt.token).then(Ct=>_e(this,void 0,void 0,function*(){var gi;if(!Ct||Wt.token.isCancellationRequested)return;(0,O.Z9)(Ct.ariaMessage);let jt;if(Ct.referenceAt(tt.uri,st)){const ut=this._getAlternativeCommand(de);!Ee._activeAlternativeCommands.has(ut)&&Ee._allSymbolNavigationCommands.has(ut)&&(jt=Ee._allSymbolNavigationCommands.get(ut))}const Ye=Ct.references.length;if(Ye===0){if(!this.configuration.muteMessage){const ut=tt.getWordAtPosition(st);(gi=j.O.get(de))===null||gi===void 0||gi.showMessage(this._getNoResultFoundMessage(ut),st)}}else if(Ye===1&&jt)Ee._activeAlternativeCommands.add(this.desc.id),nt.invokeFunction(ut=>jt.runEditorCommand(ut,de,ee,ne).finally(()=>{Ee._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(ue,ot,de,Ct,ne)}),Ct=>{me.error(Ct)}).finally(()=>{Wt.dispose()});return Pe.showWhile(Vt,250),Vt}_onResult(Le,de,ee,ne,me){return _e(this,void 0,void 0,function*(){const ue=this._getGoToPreference(ee);if(!(ee instanceof l.H)&&(this.configuration.openInPeek||ue==="peek"&&ne.references.length>1))this._openInPeek(ee,ne,me);else{const Pe=ne.firstReference(),ot=ne.references.length>1&&ue==="gotoAndPeek",gt=yield this._openReference(ee,Le,Pe,this.configuration.openToSide,!ot);ot&&gt?this._openInPeek(gt,ne,me):ne.dispose(),ue==="goto"&&de.put(Pe)}})}_openReference(Le,de,ee,ne,me){return _e(this,void 0,void 0,function*(){let ue;if((0,m.vx)(ee)&&(ue=ee.targetSelectionRange),ue||(ue=ee.range),!ue)return;const Pe=yield de.openCodeEditor({resource:ee.uri,options:{selection:i.e.collapseToStart(ue),selectionRevealType:3,selectionSource:"code.jump"}},Le,ne);if(Pe){if(me){const ot=Pe.getModel(),gt=Pe.createDecorationsCollection([{range:ue,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Pe.getModel()===ot&&gt.clear()},350)}return Pe}})}_openInPeek(Le,de,ee){const ne=b.J.get(Le);ne&&Le.hasModel()?ne.toggleWidget(ee!=null?ee:Le.getSelection(),(0,u.PG)(me=>Promise.resolve(de)),this.configuration.openInPeek):de.dispose()}}Ee._allSymbolNavigationCommands=new Map,Ee._activeAlternativeCommands=new Set;class Se extends Ee{_getLocationModel(Le,de,ee,ne){return _e(this,void 0,void 0,function*(){return new c.oQ(yield(0,T.nD)(Le.definitionProvider,de,ee,ne),N.NC("def.title","Definitions"))})}_getNoResultFoundMessage(Le){return Le&&Le.word?N.NC("noResultWord","No definition found for '{0}'",Le.word):N.NC("generic.noResults","No definition found")}_getAlternativeCommand(Le){return Le.getOption(56).alternativeDefinitionCommand}_getGoToPreference(Le){return Le.getOption(56).multipleDefinitions}}const we=p.$L&&!(0,f.isStandalone)()?2118:70;(0,K.r1)((pe=class cc extends Se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:cc.id,title:{value:N.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:N.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:P.Ao.and(s.u.hasDefinitionProvider,s.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:s.u.editorTextFocus,primary:we,weight:100},menu:[{id:K.eH.EditorContext,group:"navigation",order:1.1},{id:K.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),Z.P.registerCommandAlias("editor.action.goToDeclaration",cc.id)}},pe.id="editor.action.revealDefinition",pe)),(0,K.r1)((le=class dc extends Se{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:dc.id,title:{value:N.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:P.Ao.and(s.u.hasDefinitionProvider,s.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:s.u.editorTextFocus,primary:(0,_.gx)(2089,we),weight:100}}),Z.P.registerCommandAlias("editor.action.openDeclarationToTheSide",dc.id)}},le.id="editor.action.revealDefinitionAside",le)),(0,K.r1)((oe=class uc extends Se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:uc.id,title:{value:N.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:P.Ao.and(s.u.hasDefinitionProvider,z.Jy.notInPeekEditor,s.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:s.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:K.eH.EditorContextPeek,group:"peek",order:2}}),Z.P.registerCommandAlias("editor.action.previewDeclaration",uc.id)}},oe.id="editor.action.peekDefinition",oe));class ve extends Ee{_getLocationModel(Le,de,ee,ne){return _e(this,void 0,void 0,function*(){return new c.oQ(yield(0,T.zq)(Le.declarationProvider,de,ee,ne),N.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(Le){return Le&&Le.word?N.NC("decl.noResultWord","No declaration found for '{0}'",Le.word):N.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(Le){return Le.getOption(56).alternativeDeclarationCommand}_getGoToPreference(Le){return Le.getOption(56).multipleDeclarations}}(0,K.r1)((he=class qc extends ve{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:qc.id,title:{value:N.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:N.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:P.Ao.and(s.u.hasDeclarationProvider,s.u.isInWalkThroughSnippet.toNegated()),menu:[{id:K.eH.EditorContext,group:"navigation",order:1.3},{id:K.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Le){return Le&&Le.word?N.NC("decl.noResultWord","No declaration found for '{0}'",Le.word):N.NC("decl.generic.noResults","No declaration found")}},he.id="editor.action.revealDeclaration",he)),(0,K.r1)(class extends ve{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:N.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:P.Ao.and(s.u.hasDeclarationProvider,z.Jy.notInPeekEditor,s.u.isInWalkThroughSnippet.toNegated()),menu:{id:K.eH.EditorContextPeek,group:"peek",order:3}})}});class Ne extends Ee{_getLocationModel(Le,de,ee,ne){return _e(this,void 0,void 0,function*(){return new c.oQ(yield(0,T.L3)(Le.typeDefinitionProvider,de,ee,ne),N.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(Le){return Le&&Le.word?N.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",Le.word):N.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(Le){return Le.getOption(56).alternativeTypeDefinitionCommand}_getGoToPreference(Le){return Le.getOption(56).multipleTypeDefinitions}}(0,K.r1)((je=class ed extends Ne{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ed.ID,title:{value:N.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:N.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:P.Ao.and(s.u.hasTypeDefinitionProvider,s.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:s.u.editorTextFocus,primary:0,weight:100},menu:[{id:K.eH.EditorContext,group:"navigation",order:1.4},{id:K.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},je.ID="editor.action.goToTypeDefinition",je)),(0,K.r1)((Xe=class td extends Ne{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:td.ID,title:{value:N.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:P.Ao.and(s.u.hasTypeDefinitionProvider,z.Jy.notInPeekEditor,s.u.isInWalkThroughSnippet.toNegated()),menu:{id:K.eH.EditorContextPeek,group:"peek",order:4}})}},Xe.ID="editor.action.peekTypeDefinition",Xe));class $e extends Ee{_getLocationModel(Le,de,ee,ne){return _e(this,void 0,void 0,function*(){return new c.oQ(yield(0,T.f4)(Le.implementationProvider,de,ee,ne),N.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(Le){return Le&&Le.word?N.NC("goToImplementation.noResultWord","No implementation found for '{0}'",Le.word):N.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(Le){return Le.getOption(56).alternativeImplementationCommand}_getGoToPreference(Le){return Le.getOption(56).multipleImplementations}}(0,K.r1)((Ve=class id extends $e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:id.ID,title:{value:N.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:N.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:P.Ao.and(s.u.hasImplementationProvider,s.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:s.u.editorTextFocus,primary:2118,weight:100},menu:[{id:K.eH.EditorContext,group:"navigation",order:1.45},{id:K.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},Ve.ID="editor.action.goToImplementation",Ve)),(0,K.r1)((se=class nd extends $e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:nd.ID,title:{value:N.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:P.Ao.and(s.u.hasImplementationProvider,z.Jy.notInPeekEditor,s.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:s.u.editorTextFocus,primary:3142,weight:100},menu:{id:K.eH.EditorContextPeek,group:"peek",order:5}})}},se.ID="editor.action.peekImplementation",se));class Ke extends Ee{_getNoResultFoundMessage(Le){return Le?N.NC("references.no","No references found for '{0}'",Le.word):N.NC("references.noGeneric","No references found")}_getAlternativeCommand(Le){return Le.getOption(56).alternativeReferenceCommand}_getGoToPreference(Le){return Le.getOption(56).multipleReferences}}(0,K.r1)(class extends Ke{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:N.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:N.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:P.Ao.and(s.u.hasReferenceProvider,z.Jy.notInPeekEditor,s.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:s.u.editorTextFocus,primary:1094,weight:100},menu:[{id:K.eH.EditorContext,group:"navigation",order:1.45},{id:K.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(Le,de,ee,ne){return _e(this,void 0,void 0,function*(){return new c.oQ(yield(0,T.aA)(Le.referenceProvider,de,ee,!0,ne),N.NC("ref.title","References"))})}}),(0,K.r1)(class extends Ke{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:N.NC("references.action.label","Peek References"),original:"Peek References"},precondition:P.Ao.and(s.u.hasReferenceProvider,z.Jy.notInPeekEditor,s.u.isInWalkThroughSnippet.toNegated()),menu:{id:K.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(Le,de,ee,ne){return _e(this,void 0,void 0,function*(){return new c.oQ(yield(0,T.aA)(Le.referenceProvider,de,ee,!1,ne),N.NC("ref.title","References"))})}});class ze extends Ee{constructor(Le,de,ee){super(Le,{id:"editor.action.goToLocation",title:{value:N.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:P.Ao.and(z.Jy.notInPeekEditor,s.u.isInWalkThroughSnippet.toNegated())}),this._references=de,this._gotoMultipleBehaviour=ee}_getLocationModel(Le,de,ee,ne){return _e(this,void 0,void 0,function*(){return new c.oQ(this._references,N.NC("generic.title","Locations"))})}_getNoResultFoundMessage(Le){return Le&&N.NC("generic.noResult","No results for '{0}'",Le.word)||""}_getGoToPreference(Le){var de;return(de=this._gotoMultipleBehaviour)!==null&&de!==void 0?de:Le.getOption(56).multipleReferences}_getAlternativeCommand(){return""}}Z.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:I.o},{name:"position",description:"The position at which to start",constraint:d.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(He,Le,de,ee,ne,me,ue)=>_e(void 0,void 0,void 0,function*(){(0,V.p_)(I.o.isUri(Le)),(0,V.p_)(d.L.isIPosition(de)),(0,V.p_)(Array.isArray(ee)),(0,V.p_)(typeof ne=="undefined"||typeof ne=="string"),(0,V.p_)(typeof ue=="undefined"||typeof ue=="boolean");const Pe=He.get(a.$),ot=yield Pe.openCodeEditor({resource:Le},Pe.getFocusedCodeEditor());if((0,E.CL)(ot))return ot.setPosition(de),ot.revealPositionInCenterIfOutsideViewport(de,0),ot.invokeWithinContext(gt=>{const nt=new class extends ze{_getNoResultFoundMessage(tt){return me||super._getNoResultFoundMessage(tt)}}({muteMessage:!me,openInPeek:!!ue,openToSide:!1},ee,ne);gt.get(D.TG).invokeFunction(nt.run.bind(nt),ot)})})}),Z.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:I.o},{name:"position",description:"The position at which to start",constraint:d.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(He,Le,de,ee,ne)=>_e(void 0,void 0,void 0,function*(){He.get(Z.H).executeCommand("editor.action.goToLocations",Le,de,ee,ne,void 0,!0)})}),Z.P.registerCommand({id:"editor.action.findReferences",handler:(He,Le,de)=>{(0,V.p_)(I.o.isUri(Le)),(0,V.p_)(d.L.isIPosition(de));const ee=He.get(Re.p),ne=He.get(a.$);return ne.openCodeEditor({resource:Le},ne.getFocusedCodeEditor()).then(me=>{if(!(0,E.CL)(me)||!me.hasModel())return;const ue=b.J.get(me);if(!ue)return;const Pe=(0,u.PG)(gt=>(0,T.aA)(ee.referenceProvider,me.getModel(),d.L.lift(de),!1,gt).then(nt=>new c.oQ(nt,N.NC("ref.title","References")))),ot=new i.e(de.lineNumber,de.column,de.lineNumber,de.column);return Promise.resolve(ue.toggleWidget(ot,Pe,!1))})}}),Z.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},84758:function(Rt,Be,t){"use strict";t.d(Be,{L3:function(){return l},aA:function(){return d},f4:function(){return a},nD:function(){return E},zq:function(){return g}});var f=t(16308),O=t(97464),u=t(20996),_=t(55298),p=t(35921),V=t(32498),I=function(s,m,b,c){function v(C){return C instanceof b?C:new b(function(S){S(C)})}return new(b||(b=Promise))(function(C,S){function N(D){try{M(c.next(D))}catch(F){S(F)}}function P(D){try{M(c.throw(D))}catch(F){S(F)}}function M(D){D.done?C(D.value):v(D.value).then(N,P)}M((c=c.apply(s,m||[])).next())})};function L(s,m,b,c){return I(this,void 0,void 0,function*(){const C=b.ordered(s).map(N=>Promise.resolve(c(N,s,m)).then(void 0,P=>{(0,u.Cp)(P)})),S=yield Promise.all(C);return(0,f.kX)(S.flat())})}function E(s,m,b,c){return L(m,b,s,(v,C,S)=>v.provideDefinition(C,S,c))}function g(s,m,b,c){return L(m,b,s,(v,C,S)=>v.provideDeclaration(C,S,c))}function a(s,m,b,c){return L(m,b,s,(v,C,S)=>v.provideImplementation(C,S,c))}function l(s,m,b,c){return L(m,b,s,(v,C,S)=>v.provideTypeDefinition(C,S,c))}function d(s,m,b,c,v){return L(m,b,s,(C,S,N)=>I(this,void 0,void 0,function*(){const P=yield C.provideReferences(S,N,{includeDeclaration:!0},v);if(!c||!P||P.length!==2)return P;const M=yield C.provideReferences(S,N,{includeDeclaration:!1},v);return M&&M.length===1?M:P}))}function i(s){return I(this,void 0,void 0,function*(){const m=yield s(),b=new V.oQ(m,""),c=b.references.map(v=>v.link);return b.dispose(),c})}(0,_.sb)("_executeDefinitionProvider",(s,m,b)=>{const c=s.get(p.p),v=E(c.definitionProvider,m,b,O.T.None);return i(()=>v)}),(0,_.sb)("_executeTypeDefinitionProvider",(s,m,b)=>{const c=s.get(p.p),v=l(c.typeDefinitionProvider,m,b,O.T.None);return i(()=>v)}),(0,_.sb)("_executeDeclarationProvider",(s,m,b)=>{const c=s.get(p.p),v=g(c.declarationProvider,m,b,O.T.None);return i(()=>v)}),(0,_.sb)("_executeReferenceProvider",(s,m,b)=>{const c=s.get(p.p),v=d(c.referenceProvider,m,b,!1,O.T.None);return i(()=>v)}),(0,_.sb)("_executeImplementationProvider",(s,m,b)=>{const c=s.get(p.p),v=a(c.implementationProvider,m,b,O.T.None);return i(()=>v)})},66931:function(Rt,Be,t){"use strict";t.d(Be,{yN:function(){return E}});var f=t(56709),O=t(38431),u=t(11138);function _(g,a){return!!g[a]}class p{constructor(a,l){this.target=a.target,this.isLeftClick=a.event.leftButton,this.isMiddleClick=a.event.middleButton,this.isRightClick=a.event.rightButton,this.hasTriggerModifier=_(a.event,l.triggerModifier),this.hasSideBySideModifier=_(a.event,l.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}class V{constructor(a,l){this.keyCodeIsTriggerKey=a.keyCode===l.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===l.triggerSideBySideKey,this.hasTriggerModifier=_(a,l.triggerModifier)}}class I{constructor(a,l,d,i){this.triggerKey=a,this.triggerModifier=l,this.triggerSideBySideKey=d,this.triggerSideBySideModifier=i}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}function L(g){return g==="altKey"?u.dz?new I(57,"metaKey",6,"altKey"):new I(5,"ctrlKey",6,"altKey"):u.dz?new I(6,"altKey",57,"metaKey"):new I(6,"altKey",5,"ctrlKey")}class E extends O.JT{constructor(a,l){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new f.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new f.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new f.Q5),this.onCancel=this._onCancel.event,this._editor=a,this._alwaysFireExecuteOnMouseUp=l,this._opts=L(this._editor.getOption(75)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(d=>{if(d.hasChanged(75)){const i=L(this._editor.getOption(75));if(this._opts.equals(i))return;this._opts=i,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(d=>this._onEditorMouseMove(new p(d,this._opts)))),this._register(this._editor.onMouseDown(d=>this._onEditorMouseDown(new p(d,this._opts)))),this._register(this._editor.onMouseUp(d=>this._onEditorMouseUp(new p(d,this._opts)))),this._register(this._editor.onKeyDown(d=>this._onEditorKeyDown(new V(d,this._opts)))),this._register(this._editor.onKeyUp(d=>this._onEditorKeyUp(new V(d,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(d=>this._onDidChangeCursorSelection(d))),this._register(this._editor.onDidChangeModel(d=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(d=>{(d.scrollTopChanged||d.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const l=a.target.position?a.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===l||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},59227:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{GotoDefinitionAtPositionEditorContribution:function(){return N}});var f=t(13484),O=t(20996),u=t(69008),_=t(38431),p=t(14818),V=t(44426),I=t(55298),L=t(50038),E=t(47626),g=t(91223),a=t(66931),l=t(10479),d=t(26386),i=t(76826),s=t(55843),m=t(84758),b=t(35921),c=t(45007),v=function(P,M,D,F){var B=arguments.length,U=B<3?M:F===null?F=Object.getOwnPropertyDescriptor(M,D):F,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(P,M,D,F);else for(var k=P.length-1;k>=0;k--)(A=P[k])&&(U=(B<3?A(U):B>3?A(M,D,U):A(M,D))||U);return B>3&&U&&Object.defineProperty(M,D,U),U},C=function(P,M){return function(D,F){M(D,F,P)}},S=function(P,M,D,F){function B(U){return U instanceof D?U:new D(function(A){A(U)})}return new(D||(D=Promise))(function(U,A){function k(J){try{$(F.next(J))}catch(Y){A(Y)}}function R(J){try{$(F.throw(J))}catch(Y){A(Y)}}function $(J){J.done?U(J.value):B(J.value).then(k,R)}$((F=F.apply(P,M||[])).next())})};let N=class Fl{constructor(M,D,F,B){this.textModelResolverService=D,this.languageService=F,this.languageFeaturesService=B,this.toUnhook=new _.SL,this.toUnhookForKeyboard=new _.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=M,this.linkDecorations=this.editor.createDecorationsCollection();const U=new a.yN(M);this.toUnhook.add(U),this.toUnhook.add(U.onMouseMoveOrRelevantKeyDown(([A,k])=>{this.startFindDefinitionFromMouse(A,(0,p.f6)(k))})),this.toUnhook.add(U.onExecute(A=>{this.isEnabled(A)&&this.gotoDefinition(A.target.position,A.hasSideBySideModifier).catch(k=>{(0,O.dL)(k)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(U.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(M){return M.getContribution(Fl.ID)}startFindDefinitionFromCursor(M){return S(this,void 0,void 0,function*(){yield this.startFindDefinition(M),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(D=>{D&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(M,D){if(M.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(M,D)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const F=M.target.position;this.startFindDefinition(F)}startFindDefinition(M){var D;return S(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const F=M?(D=this.editor.getModel())===null||D===void 0?void 0:D.getWordAtPosition(M):null;if(!F){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===F.startColumn&&this.currentWordAtPosition.endColumn===F.endColumn&&this.currentWordAtPosition.word===F.word)return;this.currentWordAtPosition=F;const B=new V.yy(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,f.PG)(k=>this.findDefinition(M,k));let U;try{U=yield this.previousPromise}catch(k){(0,O.dL)(k);return}if(!U||!U.length||!B.validate(this.editor)){this.removeLinkDecorations();return}const A=U[0].originSelectionRange?L.e.lift(U[0].originSelectionRange):new L.e(M.lineNumber,F.startColumn,M.lineNumber,F.endColumn);if(U.length>1){let k=A;for(const{originSelectionRange:R}of U)R&&(k=L.e.plusRange(k,R));this.addDecoration(k,new u.W5().appendText(d.NC("multipleResults","Click to show {0} definitions.",U.length)))}else{const k=U[0];if(!k.uri)return;this.textModelResolverService.createModelReference(k.uri).then(R=>{if(!R.object||!R.object.textEditorModel){R.dispose();return}const{object:{textEditorModel:$}}=R,{startLineNumber:J}=k.range;if(J<1||J>$.getLineCount()){R.dispose();return}const Y=this.getPreviewValue($,J,k),j=this.languageService.guessLanguageIdByFilepathOrFirstLine($.uri);this.addDecoration(A,Y?new u.W5().appendCodeblock(j||"",Y):void 0),R.dispose()})}})}getPreviewValue(M,D,F){let B=F.range;return B.endLineNumber-B.startLineNumber>=Fl.MAX_SOURCE_PREVIEW_LINES&&(B=this.getPreviewRangeBasedOnIndentation(M,D)),this.stripIndentationFromPreviewRange(M,D,B)}stripIndentationFromPreviewRange(M,D,F){let U=M.getLineFirstNonWhitespaceColumn(D);for(let k=D+1;k<F.endLineNumber;k++){const R=M.getLineFirstNonWhitespaceColumn(k);U=Math.min(U,R)}return M.getValueInRange(F).replace(new RegExp(`^\\s{${U-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(M,D){const F=M.getLineFirstNonWhitespaceColumn(D),B=Math.min(M.getLineCount(),D+Fl.MAX_SOURCE_PREVIEW_LINES);let U=D+1;for(;U<B;U++){const A=M.getLineFirstNonWhitespaceColumn(U);if(F===A)break}return new L.e(D,1,U+1,1)}addDecoration(M,D){const F={range:M,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:D}};this.linkDecorations.set([F])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(M,D){var F;return this.editor.hasModel()&&M.isLeftClick&&M.isNoneOrSingleMouseDown&&M.target.type===6&&!(((F=M.target.detail.injectedText)===null||F===void 0?void 0:F.options)instanceof c.HS)&&(M.hasTriggerModifier||(D?D.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(M,D){const F=this.editor.getModel();return F?(0,m.nD)(this.languageFeaturesService.definitionProvider,F,M,D):Promise.resolve(null)}gotoDefinition(M,D){return this.editor.setPosition(M),this.editor.invokeWithinContext(F=>{const B=!D&&this.editor.getOption(85)&&!this.isInPeekEditor(F);return new s.DefinitionAction({openToSide:D,openInPeek:B,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(F)})}isInPeekEditor(M){const D=M.get(i.i6);return l.Jy.inPeekEditor.getValue(D)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};N.ID="editor.contrib.gotodefinitionatposition",N.MAX_SOURCE_PREVIEW_LINES=8,N=v([C(1,g.S),C(2,E.O),C(3,b.p)],N),(0,I._K)(N.ID,N,2)},51525:function(Rt,Be,t){"use strict";t.d(Be,{J:function(){return Le}});var f=t(13484),O=t(20996),u=t(94880),_=t(38431),p=t(5603),V=t(8964),I=t(50038),L=t(10479),E=t(26386),g=t(80793),a=t(71177),l=t(76826),d=t(44333),i=t(47679),s=t(48981),m=t(97968),b=t(63536),c=t(32498),v=t(34441),C=t(66238),S=t(86741),N=t(56709),P=t(5007),M=t(6227),D=t(77957),F=t(45007),B=t(64603),U=t(90638),A=t(47626),k=t(91223),R=t(19205),$=t(86357),J=t(65029),Y=t(4538),j=t(62297),z=t(18680),K=t(60140),Z=function(ee,ne,me,ue){var Pe=arguments.length,ot=Pe<3?ne:ue===null?ue=Object.getOwnPropertyDescriptor(ne,me):ue,gt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(ee,ne,me,ue);else for(var nt=ee.length-1;nt>=0;nt--)(gt=ee[nt])&&(ot=(Pe<3?gt(ot):Pe>3?gt(ne,me,ot):gt(ne,me))||ot);return Pe>3&&ot&&Object.defineProperty(ne,me,ot),ot},fe=function(ee,ne){return function(me,ue){ne(me,ue,ee)}};let T=class{constructor(ne){this._resolverService=ne}hasChildren(ne){return ne instanceof c.oQ||ne instanceof c.F2}getChildren(ne){if(ne instanceof c.oQ)return ne.groups;if(ne instanceof c.F2)return ne.resolve(this._resolverService).then(me=>me.children);throw new Error("bad tree")}};T=Z([fe(0,k.S)],T);class Re{getHeight(){return 23}getTemplateId(ne){return ne instanceof c.F2?le.id:he.id}}let Ce=class{constructor(ne){this._keybindingService=ne}getKeyboardNavigationLabel(ne){var me;if(ne instanceof c.WX){const ue=(me=ne.parent.getPreview(ne))===null||me===void 0?void 0:me.preview(ne.range);if(ue)return ue.value}return(0,M.EZ)(ne.uri)}};Ce=Z([fe(0,j.d)],Ce);class _e{getId(ne){return ne instanceof c.WX?ne.id:ne.uri}}let pe=class extends _.JT{constructor(ne,me){super(),this._labelService=me;const ue=document.createElement("div");ue.classList.add("reference-file"),this.file=this._register(new J.g(ue,{supportHighlights:!0})),this.badge=new R.Z(v.R3(ue,v.$(".count")),{},K.ku),ne.appendChild(ue)}set(ne,me){const ue=(0,M.XX)(ne.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(ne.uri),this._labelService.getUriLabel(ue,{relative:!0}),{title:this._labelService.getUriLabel(ne.uri),matches:me});const Pe=ne.children.length;this.badge.setCount(Pe),Pe>1?this.badge.setTitleFormat((0,E.NC)("referencesCount","{0} references",Pe)):this.badge.setTitleFormat((0,E.NC)("referenceCount","{0} reference",Pe))}};pe=Z([fe(1,z.e)],pe);let le=class sd{constructor(ne){this._instantiationService=ne,this.templateId=sd.id}renderTemplate(ne){return this._instantiationService.createInstance(pe,ne)}renderElement(ne,me,ue){ue.set(ne.element,(0,Y.mB)(ne.filterData))}disposeTemplate(ne){ne.dispose()}};le.id="FileReferencesRenderer",le=Z([fe(0,d.TG)],le);class oe{constructor(ne){this.label=new $.q(ne)}set(ne,me){var ue;const Pe=(ue=ne.parent.getPreview(ne))===null||ue===void 0?void 0:ue.preview(ne.range);if(!Pe||!Pe.value)this.label.set(`${(0,M.EZ)(ne.uri)}:${ne.range.startLineNumber+1}:${ne.range.startColumn+1}`);else{const{value:ot,highlight:gt}=Pe;me&&!Y.CL.isDefault(me)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(ot,(0,Y.mB)(me))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(ot,[gt]))}}}class he{constructor(){this.templateId=he.id}renderTemplate(ne){return new oe(ne)}renderElement(ne,me,ue){ue.set(ne.element,ne.filterData)}disposeTemplate(){}}he.id="OneReferenceRenderer";class je{getWidgetAriaLabel(){return(0,E.NC)("treeAriaLabel","References")}getAriaLabel(ne){return ne.ariaMessage}}var Xe=t(58566),Ve=t(48900),se=function(ee,ne,me,ue){var Pe=arguments.length,ot=Pe<3?ne:ue===null?ue=Object.getOwnPropertyDescriptor(ne,me):ue,gt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(ee,ne,me,ue);else for(var nt=ee.length-1;nt>=0;nt--)(gt=ee[nt])&&(ot=(Pe<3?gt(ot):Pe>3?gt(ne,me,ot):gt(ne,me))||ot);return Pe>3&&ot&&Object.defineProperty(ne,me,ot),ot},q=function(ee,ne){return function(me,ue){ne(me,ue,ee)}},Ee=function(ee,ne,me,ue){function Pe(ot){return ot instanceof me?ot:new me(function(gt){gt(ot)})}return new(me||(me=Promise))(function(ot,gt){function nt(It){try{st(ue.next(It))}catch(Wt){gt(Wt)}}function tt(It){try{st(ue.throw(It))}catch(Wt){gt(Wt)}}function st(It){It.done?ot(It.value):Pe(It.value).then(nt,tt)}st((ue=ue.apply(ee,ne||[])).next())})};class Se{constructor(ne,me){this._editor=ne,this._model=me,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new _.SL,this._callOnModelChange=new _.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const ne=this._editor.getModel();if(ne){for(const me of this._model.references)if(me.uri.toString()===ne.uri.toString()){this._addDecorations(me.parent);return}}}_addDecorations(ne){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const me=[],ue=[];for(let Pe=0,ot=ne.children.length;Pe<ot;Pe++){const gt=ne.children[Pe];this._decorationIgnoreSet.has(gt.id)||gt.uri.toString()===this._editor.getModel().uri.toString()&&(me.push({range:gt.range,options:Se.DecorationOptions}),ue.push(Pe))}this._editor.changeDecorations(Pe=>{const ot=Pe.deltaDecorations([],me);for(let gt=0;gt<ot.length;gt++)this._decorations.set(ot[gt],ne.children[ue[gt]])})}_onDecorationChanged(){const ne=[],me=this._editor.getModel();if(me){for(const[ue,Pe]of this._decorations){const ot=me.getDecorationRange(ue);if(!ot)continue;let gt=!1;if(!I.e.equalsRange(ot,Pe.range)){if(I.e.spansMultipleLines(ot))gt=!0;else{const nt=Pe.range.endColumn-Pe.range.startColumn,tt=ot.endColumn-ot.startColumn;nt!==tt&&(gt=!0)}gt?(this._decorationIgnoreSet.add(Pe.id),ne.push(ue)):Pe.range=ot}}for(let ue=0,Pe=ne.length;ue<Pe;ue++)this._decorations.delete(ne[ue]);this._editor.removeDecorations(ne)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}Se.DecorationOptions=F.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class we{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(ne){let me,ue;try{const Pe=JSON.parse(ne);me=Pe.ratio,ue=Pe.heightInLines}catch(Pe){}return{ratio:me||.7,heightInLines:ue||18}}}class ve extends s.ls{}let Ne=class extends L.vk{constructor(ne,me,ue,Pe,ot,gt,nt,tt,st,It,Wt,Vt){super(ne,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},gt),this._defaultTreeKeyboardSupport=me,this.layoutData=ue,this._textModelResolverService=ot,this._instantiationService=gt,this._peekViewService=nt,this._uriLabel=tt,this._undoRedoService=st,this._keybindingService=It,this._languageService=Wt,this._languageConfigurationService=Vt,this._disposeOnNewModel=new _.SL,this._callOnDispose=new _.SL,this._onDidSelectReference=new N.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new v.Ro(0,0),this._applyTheme(Pe.getColorTheme()),this._callOnDispose.add(Pe.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(ne,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,_.B9)(this._preview),(0,_.B9)(this._previewNotAvailableMessage),(0,_.B9)(this._tree),(0,_.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(ne){const me=ne.getColor(L.SC)||S.Il.transparent;this.style({arrowColor:me,frameColor:me,headerBackgroundColor:ne.getColor(L.KY)||S.Il.transparent,primaryHeadingColor:ne.getColor(L.IH),secondaryHeadingColor:ne.getColor(L.R7)})}show(ne){super.show(ne,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(ne){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:ne.ctrlKey||ne.metaKey||ne.altKey?"side":"open",source:"title"})}_fillBody(ne){this.setCssClass("reference-zone-widget"),this._messageContainer=v.R3(ne,v.$("div.messages")),v.Cp(this._messageContainer),this._splitView=new C.z(ne,{orientation:1}),this._previewContainer=v.R3(ne,v.$("div.preview.inline"));const me={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(D.H,this._previewContainer,me,{},this.editor),v.Cp(this._previewContainer),this._previewNotAvailableMessage=new F.yO(E.NC("missingPreviewMessage","no preview available"),U.bd,F.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=v.R3(ne,v.$("div.ref-tree.inline"));const ue={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new je,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Ce),identityProvider:new _e,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:L.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(v.mu(this._treeContainer,"keydown",ot=>{ot.equals(9)&&(this._keybindingService.dispatchEvent(ot,ot.target),ot.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(ve,"ReferencesWidget",this._treeContainer,new Re,[this._instantiationService.createInstance(le),this._instantiationService.createInstance(he)],this._instantiationService.createInstance(T),ue),this._splitView.addView({onDidChange:N.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:ot=>{this._preview.layout({height:this._dim.height,width:ot})}},C.M.Distribute),this._splitView.addView({onDidChange:N.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:ot=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${ot}px`,this._tree.layout(this._dim.height,ot)}},C.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Pe=(ot,gt)=>{ot instanceof c.WX&&(gt==="show"&&this._revealReference(ot,!1),this._onDidSelectReference.fire({element:ot,kind:gt,source:"tree"}))};this._tree.onDidOpen(ot=>{ot.sideBySide?Pe(ot.element,"side"):ot.editorOptions.pinned?Pe(ot.element,"goto"):Pe(ot.element,"show")}),v.Cp(this._treeContainer)}_onWidth(ne){this._dim&&this._doLayoutBody(this._dim.height,ne)}_doLayoutBody(ne,me){super._doLayoutBody(ne,me),this._dim=new v.Ro(me,ne),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(me),this._splitView.resizeView(0,me*this.layoutData.ratio)}setSelection(ne){return this._revealReference(ne,!0).then(()=>{this._model&&(this._tree.setSelection([ne]),this._tree.setFocus([ne]))})}setModel(ne){return this._disposeOnNewModel.clear(),this._model=ne,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=E.NC("noResults","No results"),v.$Z(this._messageContainer),Promise.resolve(void 0)):(v.Cp(this._messageContainer),this._decorationsManager=new Se(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(ne=>this._tree.rerender(ne))),this._disposeOnNewModel.add(this._preview.onMouseDown(ne=>{const{event:me,target:ue}=ne;if(me.detail!==2)return;const Pe=this._getFocusedReference();Pe&&this._onDidSelectReference.fire({element:{uri:Pe.uri,range:ue.range},kind:me.ctrlKey||me.metaKey||me.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),v.$Z(this._treeContainer),v.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[ne]=this._tree.getFocus();if(ne instanceof c.WX)return ne;if(ne instanceof c.F2&&ne.children.length>0)return ne.children[0]}revealReference(ne){return Ee(this,void 0,void 0,function*(){yield this._revealReference(ne,!1),this._onDidSelectReference.fire({element:ne,kind:"goto",source:"tree"})})}_revealReference(ne,me){return Ee(this,void 0,void 0,function*(){if(this._revealedReference===ne)return;this._revealedReference=ne,ne.uri.scheme!==P.lg.inMemory?this.setTitle((0,M.Hx)(ne.uri),this._uriLabel.getUriLabel((0,M.XX)(ne.uri))):this.setTitle(E.NC("peekView.alternateTitle","References"));const ue=this._textModelResolverService.createModelReference(ne.uri);this._tree.getInput()===ne.parent?this._tree.reveal(ne):(me&&this._tree.reveal(ne.parent),yield this._tree.expand(ne.parent),this._tree.reveal(ne));const Pe=yield ue;if(!this._model){Pe.dispose();return}(0,_.B9)(this._previewModelReference);const ot=Pe.object;if(ot){const gt=this._preview.getModel()===ot.textEditorModel?0:1,nt=I.e.lift(ne.range).collapseToStart();this._previewModelReference=Pe,this._preview.setModel(ot.textEditorModel),this._preview.setSelection(nt),this._preview.revealRangeInCenter(nt,gt)}else this._preview.setModel(this._previewNotAvailableMessage),Pe.dispose()})}};Ne=se([q(3,Xe.XE),q(4,k.S),q(5,d.TG),q(6,L.Fw),q(7,z.e),q(8,Ve.tJ),q(9,j.d),q(10,A.O),q(11,B.c_)],Ne);var $e=function(ee,ne,me,ue){var Pe=arguments.length,ot=Pe<3?ne:ue===null?ue=Object.getOwnPropertyDescriptor(ne,me):ue,gt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(ee,ne,me,ue);else for(var nt=ee.length-1;nt>=0;nt--)(gt=ee[nt])&&(ot=(Pe<3?gt(ot):Pe>3?gt(ne,me,ot):gt(ne,me))||ot);return Pe>3&&ot&&Object.defineProperty(ne,me,ot),ot},Ke=function(ee,ne){return function(me,ue){ne(me,ue,ee)}},ze=function(ee,ne,me,ue){function Pe(ot){return ot instanceof me?ot:new me(function(gt){gt(ot)})}return new(me||(me=Promise))(function(ot,gt){function nt(It){try{st(ue.next(It))}catch(Wt){gt(Wt)}}function tt(It){try{st(ue.throw(It))}catch(Wt){gt(Wt)}}function st(It){It.done?ot(It.value):Pe(It.value).then(nt,tt)}st((ue=ue.apply(ee,ne||[])).next())})};const He=new l.uy("referenceSearchVisible",!1,E.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Le=class hc{static get(ne){return ne.getContribution(hc.ID)}constructor(ne,me,ue,Pe,ot,gt,nt,tt){this._defaultTreeKeyboardSupport=ne,this._editor=me,this._editorService=Pe,this._notificationService=ot,this._instantiationService=gt,this._storageService=nt,this._configurationService=tt,this._disposables=new _.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=He.bindTo(ue)}dispose(){var ne,me;this._referenceSearchVisible.reset(),this._disposables.dispose(),(ne=this._widget)===null||ne===void 0||ne.dispose(),(me=this._model)===null||me===void 0||me.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(ne,me,ue){let Pe;if(this._widget&&(Pe=this._widget.position),this.closeWidget(),Pe&&ne.containsPosition(Pe))return;this._peekMode=ue,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const ot="peekViewLayout",gt=we.fromJSON(this._storageService.get(ot,0,"{}"));this._widget=this._instantiationService.createInstance(Ne,this._editor,this._defaultTreeKeyboardSupport,gt),this._widget.setTitle(E.NC("labelLoading","Loading...")),this._widget.show(ne),this._disposables.add(this._widget.onDidClose(()=>{me.cancel(),this._widget&&(this._storageService.store(ot,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(tt=>{const{element:st,kind:It}=tt;if(st)switch(It){case"open":(tt.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(st,!1,!1);break;case"side":this.openReference(st,!0,!1);break;case"goto":ue?this._gotoReference(st,!0):this.openReference(st,!1,!0);break}}));const nt=++this._requestIdPool;me.then(tt=>{var st;if(nt!==this._requestIdPool||!this._widget){tt.dispose();return}return(st=this._model)===null||st===void 0||st.dispose(),this._model=tt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(E.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const It=this._editor.getModel().uri,Wt=new V.L(ne.startLineNumber,ne.startColumn),Vt=this._model.nearestReference(It,Wt);if(Vt)return this._widget.setSelection(Vt).then(()=>{this._widget&&this._editor.getOption(84)==="editor"&&this._widget.focusOnPreviewEditor()})}})},tt=>{this._notificationService.error(tt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(ne){return ze(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const me=this._widget.position;if(!me)return;const ue=this._model.nearestReference(this._editor.getModel().uri,me);if(!ue)return;const Pe=this._model.nextOrPreviousReference(ue,ne),ot=this._editor.hasTextFocus(),gt=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Pe),yield this._gotoReference(Pe,!1),ot?this._editor.focus():this._widget&&gt&&this._widget.focusOnPreviewEditor()})}revealReference(ne){return ze(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(ne))})}closeWidget(ne=!0){var me,ue;(me=this._widget)===null||me===void 0||me.dispose(),(ue=this._model)===null||ue===void 0||ue.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,ne&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(ne,me){var ue;(ue=this._widget)===null||ue===void 0||ue.hide(),this._ignoreModelChangeEvent=!0;const Pe=I.e.lift(ne.range).collapseToStart();return this._editorService.openCodeEditor({resource:ne.uri,options:{selection:Pe,selectionSource:"code.jump",pinned:me}},this._editor).then(ot=>{var gt;if(this._ignoreModelChangeEvent=!1,!ot||!this._widget){this.closeWidget();return}if(this._editor===ot)this._widget.show(Pe),this._widget.focusOnReferenceTree();else{const nt=hc.get(ot),tt=this._model.clone();this.closeWidget(),ot.focus(),nt==null||nt.toggleWidget(Pe,(0,f.PG)(st=>Promise.resolve(tt)),(gt=this._peekMode)!==null&&gt!==void 0?gt:!1)}},ot=>{this._ignoreModelChangeEvent=!1,(0,O.dL)(ot)})}openReference(ne,me,ue){me||this.closeWidget();const{uri:Pe,range:ot}=ne;this._editorService.openCodeEditor({resource:Pe,options:{selection:ot,selectionSource:"code.jump",pinned:ue}},this._editor,me)}};Le.ID="editor.contrib.referencesController",Le=$e([Ke(2,l.i6),Ke(3,p.$),Ke(4,m.lT),Ke(5,d.TG),Ke(6,b.Uy),Ke(7,a.Ui)],Le);function de(ee,ne){const me=(0,L.rc)(ee);if(!me)return;const ue=Le.get(me);ue&&ne(ue)}i.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,u.gx)(2089,60),when:l.Ao.or(He,L.Jy.inPeekEditor),handler(ee){de(ee,ne=>{ne.changeFocusBetweenPreviewAndReferences()})}}),i.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:l.Ao.or(He,L.Jy.inPeekEditor),handler(ee){de(ee,ne=>{ne.goToNextOrPreviousReference(!0)})}}),i.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:l.Ao.or(He,L.Jy.inPeekEditor),handler(ee){de(ee,ne=>{ne.goToNextOrPreviousReference(!1)})}}),g.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),g.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),g.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),g.P.registerCommand("closeReferenceSearch",ee=>de(ee,ne=>ne.closeWidget())),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:l.Ao.and(L.Jy.inPeekEditor,l.Ao.not("config.editor.stablePeek"))}),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:l.Ao.and(He,l.Ao.not("config.editor.stablePeek"))}),i.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:l.Ao.and(He,s.CQ,s.PS.negate(),s.uJ.negate()),handler(ee){var ne;const ue=(ne=ee.get(s.Lw).lastFocusedList)===null||ne===void 0?void 0:ne.getFocus();Array.isArray(ue)&&ue[0]instanceof c.WX&&de(ee,Pe=>Pe.revealReference(ue[0]))}}),i.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:l.Ao.and(He,s.CQ,s.PS.negate(),s.uJ.negate()),handler(ee){var ne;const ue=(ne=ee.get(s.Lw).lastFocusedList)===null||ne===void 0?void 0:ne.getFocus();Array.isArray(ue)&&ue[0]instanceof c.WX&&de(ee,Pe=>Pe.openReference(ue[0],!0,!0))}}),g.P.registerCommand("openReference",ee=>{var ne;const ue=(ne=ee.get(s.Lw).lastFocusedList)===null||ne===void 0?void 0:ne.getFocus();Array.isArray(ue)&&ue[0]instanceof c.WX&&de(ee,Pe=>Pe.openReference(ue[0],!1,!0))})},32498:function(Rt,Be,t){"use strict";t.d(Be,{F2:function(){return d},WX:function(){return a},oQ:function(){return i}});var f=t(20996),O=t(56709),u=t(6100),_=t(38431),p=t(39832),V=t(6227),I=t(17416),L=t(50038),E=t(26386),g=function(s,m,b,c){function v(C){return C instanceof b?C:new b(function(S){S(C)})}return new(b||(b=Promise))(function(C,S){function N(D){try{M(c.next(D))}catch(F){S(F)}}function P(D){try{M(c.throw(D))}catch(F){S(F)}}function M(D){D.done?C(D.value):v(D.value).then(N,P)}M((c=c.apply(s,m||[])).next())})};class a{constructor(m,b,c,v){this.isProviderFirst=m,this.parent=b,this.link=c,this._rangeCallback=v,this.id=u.a.nextId()}get uri(){return this.link.uri}get range(){var m,b;return(b=(m=this._range)!==null&&m!==void 0?m:this.link.targetSelectionRange)!==null&&b!==void 0?b:this.link.range}set range(m){this._range=m,this._rangeCallback(this)}get ariaMessage(){var m;const b=(m=this.parent.getPreview(this))===null||m===void 0?void 0:m.preview(this.range);return b?(0,E.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",b.value,(0,V.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,E.NC)("aria.oneReference","in {0} on line {1} at column {2}",(0,V.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class l{constructor(m){this._modelReference=m}dispose(){this._modelReference.dispose()}preview(m,b=8){const c=this._modelReference.object.textEditorModel;if(!c)return;const{startLineNumber:v,startColumn:C,endLineNumber:S,endColumn:N}=m,P=c.getWordUntilPosition({lineNumber:v,column:C-b}),M=new L.e(v,P.startColumn,v,C),D=new L.e(S,N,S,1073741824),F=c.getValueInRange(M).replace(/^\s+/,""),B=c.getValueInRange(m),U=c.getValueInRange(D).replace(/\s+$/,"");return{value:F+B+U,highlight:{start:F.length,end:F.length+B.length}}}}class d{constructor(m,b){this.parent=m,this.uri=b,this.children=[],this._previews=new p.Y9}dispose(){(0,_.B9)(this._previews.values()),this._previews.clear()}getPreview(m){return this._previews.get(m.uri)}get ariaMessage(){const m=this.children.length;return m===1?(0,E.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,V.EZ)(this.uri),this.uri.fsPath):(0,E.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",m,(0,V.EZ)(this.uri),this.uri.fsPath)}resolve(m){return g(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const b of this.children)if(!this._previews.has(b.uri))try{const c=yield m.createModelReference(b.uri);this._previews.set(b.uri,new l(c))}catch(c){(0,f.dL)(c)}return this})}}class i{constructor(m,b){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new O.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=m,this._title=b;const[c]=m;m.sort(i._compareReferences);let v;for(const C of m)if((!v||!V.SF.isEqual(v.uri,C.uri,!0))&&(v=new d(this,C.uri),this.groups.push(v)),v.children.length===0||i._compareReferences(C,v.children[v.children.length-1])!==0){const S=new a(c===C,v,C,N=>this._onDidChangeReferenceRange.fire(N));this.references.push(S),v.children.push(S)}}dispose(){(0,_.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new i(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,E.NC)("aria.result.0","No results found"):this.references.length===1?(0,E.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,E.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,E.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(m,b){const{parent:c}=m;let v=c.children.indexOf(m);const C=c.children.length,S=c.parent.groups.length;return S===1||b&&v+1<C||!b&&v>0?(b?v=(v+1)%C:v=(v+C-1)%C,c.children[v]):(v=c.parent.groups.indexOf(c),b?(v=(v+1)%S,c.parent.groups[v].children[0]):(v=(v+S-1)%S,c.parent.groups[v].children[c.parent.groups[v].children.length-1]))}nearestReference(m,b){const c=this.references.map((v,C)=>({idx:C,prefixLen:I.Mh(v.uri.toString(),m.toString()),offsetDist:Math.abs(v.range.startLineNumber-b.lineNumber)*100+Math.abs(v.range.startColumn-b.column)})).sort((v,C)=>v.prefixLen>C.prefixLen?-1:v.prefixLen<C.prefixLen?1:v.offsetDist<C.offsetDist?-1:v.offsetDist>C.offsetDist?1:0)[0];if(c)return this.references[c.idx]}referenceAt(m,b){for(const c of this.references)if(c.uri.toString()===m.toString()&&L.e.containsPosition(c.range,b))return c}firstReference(){for(const m of this.references)if(m.isProviderFirst)return m;return this.references[0]}static _compareReferences(m,b){return V.SF.compare(m.uri,b.uri)||L.e.compareRangesUsingStarts(m.range,b.range)}}},58806:function(Rt,Be,t){"use strict";t.d(Be,{Hb:function(){return M},hT:function(){return C},mR:function(){return D}});var f=t(34441),O=t(50963),u=t(16308),_=t(38431),p=t(8964),V=t(50038),I=t(45007),L=t(36082),E=t(41855),g=t(72223),a=t(76826),l=t(44333),d=t(62297),i=t(33024),s=t(13484),m=t(21081),b=function(U,A,k,R){var $=arguments.length,J=$<3?A:R===null?R=Object.getOwnPropertyDescriptor(A,k):R,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(U,A,k,R);else for(var j=U.length-1;j>=0;j--)(Y=U[j])&&(J=($<3?Y(J):$>3?Y(A,k,J):Y(A,k))||J);return $>3&&J&&Object.defineProperty(A,k,J),J},c=function(U,A){return function(k,R){A(k,R,U)}};const v=f.$;let C=class fc extends _.JT{constructor(A,k,R){super(),this._editor=A,this._instantiationService=k,this._keybindingService=R,this._widget=this._register(this._instantiationService.createInstance(M,this._editor)),this._currentResult=null,this._participants=[];for(const $ of g.Ae.getAll())this._participants.push(this._instantiationService.createInstance($,this._editor));this._participants.sort(($,J)=>$.hoverOrdinal-J.hoverOrdinal),this._computer=new F(this._editor,this._participants),this._hoverOperation=this._register(new E.H(this._editor,this._computer)),this._register(this._hoverOperation.onResult($=>{if(!this._computer.anchor)return;const J=$.hasLoadingMessage?this._addLoadingMessage($.value):$.value;this._withResult(new S(this._computer.anchor,J,$.isComplete))})),this._register(f.mu(this._widget.getDomNode(),"keydown",$=>{$.equals(9)&&this.hide()})),this._register(L.RW.onDidChange(()=>{this._widget.position&&this._currentResult&&(this._widget.clear(),this._setCurrentResult(this._currentResult))}))}maybeShowAt(A){const k=[];for(const $ of this._participants)if($.suggestHoverAnchor){const J=$.suggestHoverAnchor(A);J&&k.push(J)}const R=A.target;if(R.type===6&&k.push(new g.Qj(0,R.range,A.event.posx,A.event.posy)),R.type===7){const $=this._editor.getOption(48).typicalHalfwidthCharacterWidth/2;!R.detail.isAfterLines&&typeof R.detail.horizontalDistanceToText=="number"&&R.detail.horizontalDistanceToText<$&&k.push(new g.Qj(0,R.range,A.event.posx,A.event.posy))}return k.length===0?this._startShowingOrUpdateHover(null,0,0,!1,A):(k.sort(($,J)=>J.priority-$.priority),this._startShowingOrUpdateHover(k[0],0,0,!1,A))}startShowingAtRange(A,k,R,$){this._startShowingOrUpdateHover(new g.Qj(0,A,void 0,void 0),k,R,$,null)}_startShowingOrUpdateHover(A,k,R,$,J){return!this._widget.position||!this._currentResult?A?(this._startHoverOperationIfNecessary(A,k,R,$,!1),!0):!1:this._editor.getOption(58).sticky&&J&&this._widget.isMouseGettingCloser(J.event.posx,J.event.posy)?(A&&this._startHoverOperationIfNecessary(A,k,R,$,!0),!0):A?A&&this._currentResult.anchor.equals(A)?!0:A.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(A)),this._startHoverOperationIfNecessary(A,k,R,$,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(A,k,R,$,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(A,k,R,$,J){this._computer.anchor&&this._computer.anchor.equals(A)||(this._hoverOperation.cancel(),this._computer.anchor=A,this._computer.shouldFocus=$,this._computer.source=R,this._computer.insistOnKeepingHoverVisible=J,this._hoverOperation.start(k))}_setCurrentResult(A){this._currentResult!==A&&(A&&A.messages.length===0&&(A=null),this._currentResult=A,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}isColorPickerVisible(){return this._widget.isColorPickerVisible}isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}isVisible(){return this._widget.isVisible}containsNode(A){return A?this._widget.getDomNode().contains(A):!1}_addLoadingMessage(A){if(this._computer.anchor){for(const k of this._participants)if(k.createLoadingMessage){const R=k.createLoadingMessage(this._computer.anchor);if(R)return A.slice(0).concat([R])}}return A}_withResult(A){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!A.isComplete||this._computer.insistOnKeepingHoverVisible&&A.messages.length===0)||this._setCurrentResult(A)}_renderMessages(A,k){const{showAtPosition:R,showAtSecondaryPosition:$,highlightRange:J}=fc.computeHoverRanges(this._editor,A.range,k),Y=new _.SL,j=Y.add(new D(this._keybindingService)),z=document.createDocumentFragment();let K=null;const Z={fragment:z,statusBar:j,setColorPicker:T=>K=T,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const T of this._participants){const Re=k.filter(Ce=>Ce.owner===T);Re.length>0&&Y.add(T.renderHoverParts(Z,Re))}const fe=k.some(T=>T.isBeforeContent);if(j.hasContent&&z.appendChild(j.hoverElement),z.hasChildNodes()){if(J){const T=this._editor.createDecorationsCollection();T.set([{range:J,options:fc._DECORATION_OPTIONS}]),Y.add((0,_.OF)(()=>{T.clear()}))}this._widget.showAt(z,new P(K,R,$,this._editor.getOption(58).above,this._computer.shouldFocus,this._computer.source,fe,A.initialMousePosX,A.initialMousePosY,Y))}else Y.dispose()}static computeHoverRanges(A,k,R){let $=1;if(A.hasModel()){const K=A._getViewModel(),Z=K.coordinatesConverter,fe=Z.convertModelRangeToViewRange(k),T=new p.L(fe.startLineNumber,K.getLineMinColumn(fe.startLineNumber));$=Z.convertViewPositionToModelPosition(T).column}const J=k.startLineNumber;let Y=k.startColumn,j=R[0].range,z=null;for(const K of R)j=V.e.plusRange(j,K.range),K.range.startLineNumber===J&&K.range.endLineNumber===J&&(Y=Math.max(Math.min(Y,K.range.startColumn),$)),K.forceShowAtRange&&(z=K.range);return{showAtPosition:z?z.getStartPosition():new p.L(J,k.startColumn),showAtSecondaryPosition:z?z.getStartPosition():new p.L(J,Y),highlightRange:j}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}escape(){this._widget.escape()}};C._DECORATION_OPTIONS=I.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),C=b([c(1,l.TG),c(2,d.d)],C);class S{constructor(A,k,R){this.anchor=A,this.messages=k,this.isComplete=R}filter(A){const k=this.messages.filter(R=>R.isValidForHoverAnchor(A));return k.length===this.messages.length?this:new N(this,this.anchor,k,this.isComplete)}}class N extends S{constructor(A,k,R,$){super(k,R,$),this.original=A}filter(A){return this.original.filter(A)}}class P{constructor(A,k,R,$,J,Y,j,z,K,Z){this.colorPicker=A,this.showAtPosition=k,this.showAtSecondaryPosition=R,this.preferAbove=$,this.stoleFocus=J,this.source=Y,this.isBeforeContent=j,this.initialMousePosX=z,this.initialMousePosY=K,this.disposables=Z,this.closestMouseDistance=void 0}}let M=class od extends _.JT{get position(){var A,k;return(k=(A=this._visibleData)===null||A===void 0?void 0:A.showAtPosition)!==null&&k!==void 0?k:null}get isColorPickerVisible(){var A;return!!(!((A=this._visibleData)===null||A===void 0)&&A.colorPicker)}get isVisibleFromKeyboard(){var A;return((A=this._visibleData)===null||A===void 0?void 0:A.source)===1}get isVisible(){var A;return(A=this._hoverVisibleKey.get())!==null&&A!==void 0?A:!1}constructor(A,k){super(),this._editor=A,this._contextKeyService=k,this.allowEditorOverflow=!0,this._hoverVisibleKey=m.u.hoverVisible.bindTo(this._contextKeyService),this._hoverFocusedKey=m.u.hoverFocused.bindTo(this._contextKeyService),this._hover=this._register(new O.c),this._focusTracker=this._register(f.go(this.getDomNode())),this._horizontalScrollingBy=30,this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(R=>{R.hasChanged(48)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this),this._register(this._focusTracker.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(this._focusTracker.onDidBlur(()=>{this._hoverFocusedKey.set(!1)}))}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return od.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let A=this._visibleData.preferAbove;!A&&this._contextKeyService.getContextKeyValue(i._y.Visible.key)&&(A=!0);const k=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,preference:A?[1,2]:[2,1],positionAffinity:k}}isMouseGettingCloser(A,k){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=A,this._visibleData.initialMousePosY=k,!1;const R=f.i(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=B(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,R.left,R.top,R.width,R.height));const $=B(A,k,R.left,R.top,R.width,R.height);return $>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,$),!0)}_setVisibleData(A){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=A,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const A=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:k,lineHeight:R}=this._editor.getOption(48);this._hover.contentsDomNode.style.fontSize=`${k}px`,this._hover.contentsDomNode.style.lineHeight=`${R/k}`,this._hover.contentsDomNode.style.maxHeight=`${A}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(k=>this._editor.applyFontInfo(k))}showAt(A,k){var R;this._setVisibleData(k),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(A),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),k.stoleFocus&&this._hover.containerDomNode.focus(),(R=k.colorPicker)===null||R===void 0||R.layout()}hide(){if(this._visibleData){const A=this._visibleData.stoleFocus;this._setVisibleData(null),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),A&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const A=this._hover.scrollbar.getScrollDimensions();if(A.scrollWidth>A.width){const R=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==R&&(this._hover.contentsDomNode.style.paddingBottom=R,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}focus(){this._hover.containerDomNode.focus()}scrollUp(){const A=this._hover.scrollbar.getScrollPosition().scrollTop,k=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:A-k.lineHeight})}scrollDown(){const A=this._hover.scrollbar.getScrollPosition().scrollTop,k=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:A+k.lineHeight})}scrollLeft(){const A=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:A-this._horizontalScrollingBy})}scrollRight(){const A=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:A+this._horizontalScrollingBy})}pageUp(){const A=this._hover.scrollbar.getScrollPosition().scrollTop,k=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:A-k})}pageDown(){const A=this._hover.scrollbar.getScrollPosition().scrollTop,k=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:A+k})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}escape(){this._editor.focus()}};M.ID="editor.contrib.contentHoverWidget",M=b([c(1,a.i6)],M);let D=class extends _.JT{get hasContent(){return this._hasContent}constructor(A){super(),this._keybindingService=A,this._hasContent=!1,this.hoverElement=v("div.hover-row.status-bar"),this.actionsElement=f.R3(this.hoverElement,v("div.actions"))}addAction(A){const k=this._keybindingService.lookupKeybinding(A.commandId),R=k?k.getLabel():null;return this._hasContent=!0,this._register(O.S.render(this.actionsElement,A,R))}append(A){const k=f.R3(this.actionsElement,A);return this._hasContent=!0,k}};D=b([c(0,d.d)],D);class F{get anchor(){return this._anchor}set anchor(A){this._anchor=A}get shouldFocus(){return this._shouldFocus}set shouldFocus(A){this._shouldFocus=A}get source(){return this._source}set source(A){this._source=A}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(A){this._insistOnKeepingHoverVisible=A}constructor(A,k){this._editor=A,this._participants=k,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(A,k){if(k.type!==1&&!k.supportsMarkerHover)return[];const R=A.getModel(),$=k.range.startLineNumber;if($>R.getLineCount())return[];const J=R.getLineMaxColumn($);return A.getLineDecorations($).filter(Y=>{if(Y.options.isWholeLine)return!0;const j=Y.range.startLineNumber===$?Y.range.startColumn:1,z=Y.range.endLineNumber===$?Y.range.endColumn:J;if(Y.options.showIfCollapsed){if(j>k.range.startColumn+1||k.range.endColumn-1>z)return!1}else if(j>k.range.startColumn||k.range.endColumn>z)return!1;return!0})}computeAsync(A){const k=this._anchor;if(!this._editor.hasModel()||!k)return s.Aq.EMPTY;const R=F._getLineDecorations(this._editor,k);return s.Aq.merge(this._participants.map($=>$.computeAsync?$.computeAsync(k,R,A):s.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const A=F._getLineDecorations(this._editor,this._anchor);let k=[];for(const R of this._participants)k=k.concat(R.computeSync(this._anchor,A));return(0,u.kX)(k)}}function B(U,A,k,R,$,J){const Y=k+$/2,j=R+J/2,z=Math.max(Math.abs(U-Y)-$/2,0),K=Math.max(Math.abs(A-j)-J/2,0);return Math.sqrt(z*z+K*K)}},23098:function(Rt,Be,t){"use strict";t.d(Be,{R8:function(){return E}});var f=t(13484),O=t(97464),u=t(20996),_=t(55298),p=t(35921),V=function(l,d,i,s){function m(b){return b instanceof i?b:new i(function(c){c(b)})}return new(i||(i=Promise))(function(b,c){function v(N){try{S(s.next(N))}catch(P){c(P)}}function C(N){try{S(s.throw(N))}catch(P){c(P)}}function S(N){N.done?b(N.value):m(N.value).then(v,C)}S((s=s.apply(l,d||[])).next())})};class I{constructor(d,i,s){this.provider=d,this.hover=i,this.ordinal=s}}function L(l,d,i,s,m){return V(this,void 0,void 0,function*(){try{const b=yield Promise.resolve(l.provideHover(i,s,m));if(b&&a(b))return new I(l,b,d)}catch(b){(0,u.Cp)(b)}})}function E(l,d,i,s){const b=l.ordered(d).map((c,v)=>L(c,v,d,i,s));return f.Aq.fromPromises(b).coalesce()}function g(l,d,i,s){return E(l,d,i,s).map(m=>m.hover).toPromise()}(0,_.sb)("_executeHoverProvider",(l,d,i)=>{const s=l.get(p.p);return g(s.hoverProvider,d,i,O.T.None)});function a(l){const d=typeof l.range!="undefined",i=typeof l.contents!="undefined"&&l.contents&&l.contents.length>0;return d&&i}},83776:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{ModesHoverController:function(){return oe}});var f=t(94880),O=t(38431),u=t(55298),_=t(50038),p=t(21081),V=t(47626),I=t(59227),L=t(58806),E=t(34441),g=t(16308),a=t(69008),l=t(59397),d=t(41855),i=t(50963);const s=E.$;class m extends O.JT{constructor(Ke,ze,He){super(),this._renderDisposeables=this._register(new O.SL),this._editor=Ke,this._isVisible=!1,this._messages=[],this._hover=this._register(new i.c),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new l.$({editor:this._editor},ze,He)),this._computer=new b(this._editor),this._hoverOperation=this._register(new d.H(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Le=>{this._withResult(Le.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(Le=>{Le.hasChanged(48)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return m.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(ze=>this._editor.applyFontInfo(ze))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(Ke){this._computer.lineNumber!==Ke&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=Ke,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(Ke){this._messages=Ke,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(Ke,ze){this._renderDisposeables.clear();const He=document.createDocumentFragment();for(const Le of ze){const de=s("div.hover-row.markdown-hover"),ee=E.R3(de,s("div.hover-contents")),ne=this._renderDisposeables.add(this._markdownRenderer.render(Le.value));ee.appendChild(ne.element),He.appendChild(de)}this._updateContents(He),this._showAt(Ke)}_updateContents(Ke){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(Ke),this._updateFont()}_showAt(Ke){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const ze=this._editor.getLayoutInfo(),He=this._editor.getTopForLineNumber(Ke),Le=this._editor.getScrollTop(),de=this._editor.getOption(64),ee=this._hover.containerDomNode.clientHeight,ne=He-Le-(ee-de)/2;this._hover.containerDomNode.style.left=`${ze.glyphMarginLeft+ze.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(ne),0)}px`}}m.ID="editor.contrib.modesGlyphHoverWidget";class b{get lineNumber(){return this._lineNumber}set lineNumber(Ke){this._lineNumber=Ke}constructor(Ke){this._editor=Ke,this._lineNumber=-1}computeSync(){const Ke=Le=>({value:Le}),ze=this._editor.getLineDecorations(this._lineNumber),He=[];if(!ze)return He;for(const Le of ze){if(!Le.options.glyphMarginClassName)continue;const de=Le.options.glyphMarginHoverMessage;!de||(0,a.CP)(de)||He.push(...(0,g._2)(de).map(Ke))}return He}}var c=t(26386),v=t(44333),C=t(48786),S=t(92537),N=t(58566),P=t(72223),M=t(22214),D=t(13484),F=t(20996),B=t(6227),U=t(35921),A=t(52919),k=t(83915),R=t(28689),$=t(66129),J=t(56993),Y=t(36156),j=t(79969),z=function($e,Ke,ze,He){var Le=arguments.length,de=Le<3?Ke:He===null?He=Object.getOwnPropertyDescriptor(Ke,ze):He,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")de=Reflect.decorate($e,Ke,ze,He);else for(var ne=$e.length-1;ne>=0;ne--)(ee=$e[ne])&&(de=(Le<3?ee(de):Le>3?ee(Ke,ze,de):ee(Ke,ze))||de);return Le>3&&de&&Object.defineProperty(Ke,ze,de),de},K=function($e,Ke){return function(ze,He){Ke(ze,He,$e)}};const Z=E.$;class fe{constructor(Ke,ze,He){this.owner=Ke,this.range=ze,this.marker=He}isValidForHoverAnchor(Ke){return Ke.type===1&&this.range.startColumn<=Ke.range.startColumn&&this.range.endColumn>=Ke.range.endColumn}}const T={type:1,filter:{include:$.yN.QuickFix},triggerAction:$.aQ.QuickFixHover};let Re=class{constructor(Ke,ze,He,Le){this._editor=Ke,this._markerDecorationsService=ze,this._openerService=He,this._languageFeaturesService=Le,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(Ke,ze){if(!this._editor.hasModel()||Ke.type!==1&&!Ke.supportsMarkerHover)return[];const He=this._editor.getModel(),Le=Ke.range.startLineNumber,de=He.getLineMaxColumn(Le),ee=[];for(const ne of ze){const me=ne.range.startLineNumber===Le?ne.range.startColumn:1,ue=ne.range.endLineNumber===Le?ne.range.endColumn:de,Pe=this._markerDecorationsService.getMarker(He.uri,ne);if(!Pe)continue;const ot=new _.e(Ke.range.startLineNumber,me,Ke.range.startLineNumber,ue);ee.push(new fe(this,ot,Pe))}return ee}renderHoverParts(Ke,ze){if(!ze.length)return O.JT.None;const He=new O.SL;ze.forEach(de=>Ke.fragment.appendChild(this.renderMarkerHover(de,He)));const Le=ze.length===1?ze[0]:ze.sort((de,ee)=>Y.ZL.compare(de.marker.severity,ee.marker.severity))[0];return this.renderMarkerStatusbar(Ke,Le,He),He}renderMarkerHover(Ke,ze){const He=Z("div.hover-row"),Le=E.R3(He,Z("div.marker.hover-contents")),{source:de,message:ee,code:ne,relatedInformation:me}=Ke.marker;this._editor.applyFontInfo(Le);const ue=E.R3(Le,Z("span"));if(ue.style.whiteSpace="pre-wrap",ue.innerText=ee,de||ne)if(ne&&typeof ne!="string"){const Pe=Z("span");if(de){const tt=E.R3(Pe,Z("span"));tt.innerText=de}const ot=E.R3(Pe,Z("a.code-link"));ot.setAttribute("href",ne.target.toString()),ze.add(E.nm(ot,"click",tt=>{this._openerService.open(ne.target,{allowCommands:!0}),tt.preventDefault(),tt.stopPropagation()}));const gt=E.R3(ot,Z("span"));gt.innerText=ne.value;const nt=E.R3(Le,Pe);nt.style.opacity="0.6",nt.style.paddingLeft="6px"}else{const Pe=E.R3(Le,Z("span"));Pe.style.opacity="0.6",Pe.style.paddingLeft="6px",Pe.innerText=de&&ne?`${de}(${ne})`:de||`(${ne})`}if((0,g.Of)(me))for(const{message:Pe,resource:ot,startLineNumber:gt,startColumn:nt}of me){const tt=E.R3(Le,Z("div"));tt.style.marginTop="8px";const st=E.R3(tt,Z("a"));st.innerText=`${(0,B.EZ)(ot)}(${gt}, ${nt}): `,st.style.cursor="pointer",ze.add(E.nm(st,"click",Wt=>{Wt.stopPropagation(),Wt.preventDefault(),this._openerService&&this._openerService.open(ot,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:gt,startColumn:nt}}}).catch(F.dL)}));const It=E.R3(tt,Z("span"));It.innerText=Pe,this._editor.applyFontInfo(It)}return He}renderMarkerStatusbar(Ke,ze,He){if((ze.marker.severity===Y.ZL.Error||ze.marker.severity===Y.ZL.Warning||ze.marker.severity===Y.ZL.Info)&&Ke.statusBar.addAction({label:c.NC("view problem","View Problem"),commandId:J.NextMarkerAction.ID,run:()=>{var Le;Ke.hide(),(Le=J.MarkerController.get(this._editor))===null||Le===void 0||Le.showAtMarker(ze.marker),this._editor.focus()}}),!this._editor.getOption(88)){const Le=Ke.statusBar.append(Z("div"));this.recentMarkerCodeActionsInfo&&(Y.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Y.H0.makeKey(ze.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(Le.textContent=c.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const de=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?O.JT.None:He.add((0,D.Vg)(()=>Le.textContent=c.NC("checkingForQuickFixes","Checking for quick fixes..."),200));Le.textContent||(Le.textContent=String.fromCharCode(160));const ee=this.getCodeActions(ze.marker);He.add((0,O.OF)(()=>ee.cancel())),ee.then(ne=>{if(de.dispose(),this.recentMarkerCodeActionsInfo={marker:ze.marker,hasCodeActions:ne.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){ne.dispose(),Le.textContent=c.NC("noQuickFixes","No quick fixes available");return}Le.style.display="none";let me=!1;He.add((0,O.OF)(()=>{me||ne.dispose()})),Ke.statusBar.addAction({label:c.NC("quick fixes","Quick Fix..."),commandId:k.cz,run:ue=>{me=!0;const Pe=R.G.get(this._editor),ot=E.i(ue);Ke.hide(),Pe==null||Pe.showCodeActions(T,ne,{x:ot.left,y:ot.top,width:ot.width,height:ot.height})}})},F.dL)}}getCodeActions(Ke){return(0,D.PG)(ze=>(0,k.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new _.e(Ke.startLineNumber,Ke.startColumn,Ke.endLineNumber,Ke.endColumn),T,j.Ex.None,ze))}};Re=z([K(1,A.i),K(2,C.v4),K(3,U.p)],Re);var Ce=t(27492),_e=t(62297),pe=function($e,Ke,ze,He){var Le=arguments.length,de=Le<3?Ke:He===null?He=Object.getOwnPropertyDescriptor(Ke,ze):He,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")de=Reflect.decorate($e,Ke,ze,He);else for(var ne=$e.length-1;ne>=0;ne--)(ee=$e[ne])&&(de=(Le<3?ee(de):Le>3?ee(Ke,ze,de):ee(Ke,ze))||de);return Le>3&&de&&Object.defineProperty(Ke,ze,de),de},le=function($e,Ke){return function(ze,He){Ke(ze,He,$e)}};let oe=class rd{static get(Ke){return Ke.getContribution(rd.ID)}constructor(Ke,ze,He,Le,de){this._editor=Ke,this._instantiationService=ze,this._openerService=He,this._languageService=Le,this._keybindingService=de,this._toUnhook=new O.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(ee=>{ee.hasChanged(58)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const Ke=()=>this._hideWidgets(),ze=this._editor.getOption(58);this._isHoverEnabled=ze.enabled,this._isHoverSticky=ze.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(He=>this._onEditorMouseDown(He))),this._toUnhook.add(this._editor.onMouseUp(He=>this._onEditorMouseUp(He))),this._toUnhook.add(this._editor.onMouseMove(He=>this._onEditorMouseMove(He))),this._toUnhook.add(this._editor.onKeyDown(He=>this._onKeyDown(He)))):(this._toUnhook.add(this._editor.onMouseMove(He=>this._onEditorMouseMove(He))),this._toUnhook.add(this._editor.onKeyDown(He=>this._onKeyDown(He)))),this._toUnhook.add(this._editor.onMouseLeave(He=>this._onEditorMouseLeave(He))),this._toUnhook.add(this._editor.onDidChangeModel(Ke)),this._toUnhook.add(this._editor.onDidScrollChange(He=>this._onEditorScrollChanged(He)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(Ke){(Ke.scrollTopChanged||Ke.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(Ke){this._isMouseDown=!0;const ze=Ke.target;if(ze.type===9&&ze.detail===L.Hb.ID){this._hoverClicked=!0;return}ze.type===12&&ze.detail===m.ID||(ze.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(Ke){this._isMouseDown=!1}_onEditorMouseLeave(Ke){var ze;const He=Ke.event.browserEvent.relatedTarget;!((ze=this._contentWidget)===null||ze===void 0)&&ze.containsNode(He)||this._hideWidgets()}_onEditorMouseMove(Ke){var ze,He,Le,de,ee,ne,me,ue;const Pe=Ke.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&Pe.type===9&&Pe.detail===L.Hb.ID||this._isHoverSticky&&(!((ze=this._contentWidget)===null||ze===void 0)&&ze.containsNode((He=Ke.event.browserEvent.view)===null||He===void 0?void 0:He.document.activeElement))&&!(!((de=(Le=Ke.event.browserEvent.view)===null||Le===void 0?void 0:Le.getSelection())===null||de===void 0)&&de.isCollapsed)||!this._isHoverSticky&&Pe.type===9&&Pe.detail===L.Hb.ID&&(!((ee=this._contentWidget)===null||ee===void 0)&&ee.isColorPickerVisible())||this._isHoverSticky&&Pe.type===12&&Pe.detail===m.ID||this._isHoverSticky&&(!((ne=this._contentWidget)===null||ne===void 0)&&ne.isVisibleFromKeyboard()))return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(Ke)){(me=this._glyphWidget)===null||me===void 0||me.hide();return}if(Pe.type===2&&Pe.position){(ue=this._contentWidget)===null||ue===void 0||ue.hide(),this._glyphWidget||(this._glyphWidget=new m(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(Pe.position.lineNumber);return}this._hideWidgets()}_onKeyDown(Ke){var ze;if(!this._editor.hasModel())return;const He=this._keybindingService.softDispatch(Ke,this._editor.getDomNode()),Le=He.kind===1||He.kind===2&&He.commandId==="editor.action.showHover"&&((ze=this._contentWidget)===null||ze===void 0?void 0:ze.isVisible());Ke.keyCode!==5&&Ke.keyCode!==6&&Ke.keyCode!==57&&Ke.keyCode!==4&&!Le&&this._hideWidgets()}_hideWidgets(){var Ke,ze,He;this._isMouseDown&&this._hoverClicked&&(!((Ke=this._contentWidget)===null||Ke===void 0)&&Ke.isColorPickerVisible())||Ce.QG.dropDownVisible||(this._hoverClicked=!1,(ze=this._glyphWidget)===null||ze===void 0||ze.hide(),(He=this._contentWidget)===null||He===void 0||He.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(L.hT,this._editor)),this._contentWidget}isColorPickerVisible(){var Ke;return((Ke=this._contentWidget)===null||Ke===void 0?void 0:Ke.isColorPickerVisible())||!1}showContentHover(Ke,ze,He,Le){this._getOrCreateContentWidget().startShowingAtRange(Ke,ze,He,Le)}focus(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.focus()}scrollUp(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.scrollUp()}scrollDown(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.scrollDown()}scrollLeft(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.scrollLeft()}scrollRight(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.scrollRight()}pageUp(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.pageUp()}pageDown(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.pageDown()}goToTop(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.goToTop()}goToBottom(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.goToBottom()}escape(){var Ke;(Ke=this._contentWidget)===null||Ke===void 0||Ke.escape()}isHoverVisible(){var Ke;return(Ke=this._contentWidget)===null||Ke===void 0?void 0:Ke.isVisible()}dispose(){var Ke,ze;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(Ke=this._glyphWidget)===null||Ke===void 0||Ke.dispose(),(ze=this._contentWidget)===null||ze===void 0||ze.dispose()}};oe.ID="editor.contrib.hover",oe=pe([le(1,v.TG),le(2,C.v4),le(3,V.O),le(4,_e.d)],oe);class he extends u.R6{constructor(){super({id:"editor.action.showHover",label:c.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,f.gx)(2089,2087),weight:100}})}run(Ke,ze,He){if(!ze.hasModel())return;const Le=oe.get(ze);if(!Le)return;const de=ze.getPosition(),ee=new _.e(de.lineNumber,de.column,de.lineNumber,de.column),ne=ze.getOption(2)===2||!!(He!=null&&He.focus);Le.isHoverVisible()?Le.focus():Le.showContentHover(ee,1,1,ne)}}class je extends u.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:c.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(Ke,ze){const He=oe.get(ze);if(!He)return;const Le=ze.getPosition();if(!Le)return;const de=new _.e(Le.lineNumber,Le.column,Le.lineNumber,Le.column),ee=I.GotoDefinitionAtPositionEditorContribution.get(ze);if(!ee)return;ee.startFindDefinitionFromCursor(Le).then(()=>{He.showContentHover(de,1,1,!0)})}}class Xe extends u.R6{constructor(){super({id:"editor.action.scrollUpHover",label:c.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:16,weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.scrollUp()}}class Ve extends u.R6{constructor(){super({id:"editor.action.scrollDownHover",label:c.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:18,weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.scrollDown()}}class se extends u.R6{constructor(){super({id:"editor.action.scrollLeftHover",label:c.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:15,weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.scrollLeft()}}class q extends u.R6{constructor(){super({id:"editor.action.scrollRightHover",label:c.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:17,weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.scrollRight()}}class Ee extends u.R6{constructor(){super({id:"editor.action.pageUpHover",label:c.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:11,secondary:[528],weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.pageUp()}}class Se extends u.R6{constructor(){super({id:"editor.action.pageDownHover",label:c.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:12,secondary:[530],weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.pageDown()}}class we extends u.R6{constructor(){super({id:"editor.action.goToTopHover",label:c.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.goToTop()}}class ve extends u.R6{constructor(){super({id:"editor.action.goToBottomHover",label:c.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.goToBottom()}}class Ne extends u.R6{constructor(){super({id:"editor.action.escapeFocusHover",label:c.NC({key:"escapeFocusHover",comment:["Action that allows to escape from the hover widget with the escape command when the hover widget is focused."]},"Escape Focus Hover"),alias:"Escape Focus Hover",precondition:p.u.hoverFocused,kbOpts:{kbExpr:p.u.hoverFocused,primary:9,weight:100}})}run(Ke,ze){const He=oe.get(ze);He&&He.escape()}}(0,u._K)(oe.ID,oe,2),(0,u.Qr)(he),(0,u.Qr)(je),(0,u.Qr)(Xe),(0,u.Qr)(Ve),(0,u.Qr)(se),(0,u.Qr)(q),(0,u.Qr)(Ee),(0,u.Qr)(Se),(0,u.Qr)(we),(0,u.Qr)(ve),(0,u.Qr)(Ne),P.Ae.register(M.D5),P.Ae.register(Re),(0,N.Ic)(($e,Ke)=>{const ze=$e.getColor(S.CNo);ze&&(Ke.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${ze.transparent(.5)}; }`),Ke.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${ze.transparent(.5)}; }`),Ke.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${ze.transparent(.5)}; }`))})},41855:function(Rt,Be,t){"use strict";t.d(Be,{H:function(){return L}});var f=t(13484),O=t(20996),u=t(56709),_=t(38431),p=function(E,g,a,l){function d(i){return i instanceof a?i:new a(function(s){s(i)})}return new(a||(a=Promise))(function(i,s){function m(v){try{c(l.next(v))}catch(C){s(C)}}function b(v){try{c(l.throw(v))}catch(C){s(C)}}function c(v){v.done?i(v.value):d(v.value).then(m,b)}c((l=l.apply(E,g||[])).next())})},V=function(E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=E[Symbol.asyncIterator],a;return g?g.call(E):(E=typeof __values=="function"?__values(E):E[Symbol.iterator](),a={},l("next"),l("throw"),l("return"),a[Symbol.asyncIterator]=function(){return this},a);function l(i){a[i]=E[i]&&function(s){return new Promise(function(m,b){s=E[i](s),d(m,b,s.done,s.value)})}}function d(i,s,m,b){Promise.resolve(b).then(function(c){i({value:c,done:m})},s)}};class I{constructor(g,a,l){this.value=g,this.isComplete=a,this.hasLoadingMessage=l}}class L extends _.JT{constructor(g,a){super(),this._editor=g,this._computer=a,this._onResult=this._register(new u.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new f.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new f.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new f.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(58).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(g,a=!0){this._state=g,a&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,f.zS)(g=>this._computer.computeAsync(g)),p(this,void 0,void 0,function*(){var g,a,l,d;try{try{for(var i=!0,s=V(this._asyncIterable),m;m=yield s.next(),g=m.done,!g;i=!0){d=m.value,i=!1;const b=d;b&&(this._result.push(b),this._fireResult())}}catch(b){a={error:b}}finally{try{!i&&!g&&(l=s.return)&&(yield l.call(s))}finally{if(a)throw a.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(b){(0,O.dL)(b)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const g=this._state===0,a=this._state===4;this._onResult.fire(new I(this._result.slice(0),g,a))}start(g){if(g===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}},72223:function(Rt,Be,t){"use strict";t.d(Be,{Ae:function(){return u},Qj:function(){return f},YM:function(){return O}});class f{constructor(p,V,I,L){this.priority=p,this.range=V,this.initialMousePosX=I,this.initialMousePosY=L,this.type=1}equals(p){return p.type===1&&this.range.equalsRange(p.range)}canAdoptVisibleHover(p,V){return p.type===1&&V.lineNumber===this.range.startLineNumber}}class O{constructor(p,V,I,L,E,g){this.priority=p,this.owner=V,this.range=I,this.initialMousePosX=L,this.initialMousePosY=E,this.supportsMarkerHover=g,this.type=2}equals(p){return p.type===2&&this.owner===p.owner}canAdoptVisibleHover(p,V){return p.type===2&&this.owner===p.owner}}const u=new class{constructor(){this._participants=[]}register(p){this._participants.push(p)}getAll(){return this._participants}}},22214:function(Rt,Be,t){"use strict";t.d(Be,{D5:function(){return v},c:function(){return C},hU:function(){return c}});var f=t(34441),O=t(16308),u=t(13484),_=t(69008),p=t(38431),V=t(59397),I=t(8964),L=t(50038),E=t(47626),g=t(23098),a=t(26386),l=t(71177),d=t(48786),i=t(35921),s=function(S,N,P,M){var D=arguments.length,F=D<3?N:M===null?M=Object.getOwnPropertyDescriptor(N,P):M,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(S,N,P,M);else for(var U=S.length-1;U>=0;U--)(B=S[U])&&(F=(D<3?B(F):D>3?B(N,P,F):B(N,P))||F);return D>3&&F&&Object.defineProperty(N,P,F),F},m=function(S,N){return function(P,M){N(P,M,S)}};const b=f.$;class c{constructor(N,P,M,D,F){this.owner=N,this.range=P,this.contents=M,this.isBeforeContent=D,this.ordinal=F}isValidForHoverAnchor(N){return N.type===1&&this.range.startColumn<=N.range.startColumn&&this.range.endColumn>=N.range.endColumn}}let v=class{constructor(N,P,M,D,F){this._editor=N,this._languageService=P,this._openerService=M,this._configurationService=D,this._languageFeaturesService=F,this.hoverOrdinal=3}createLoadingMessage(N){return new c(this,N.range,[new _.W5().appendText(a.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(N,P){if(!this._editor.hasModel()||N.type!==1)return[];const M=this._editor.getModel(),D=N.range.startLineNumber,F=M.getLineMaxColumn(D),B=[];let U=1e3;const A=M.getLineLength(D),k=M.getLanguageIdAtPosition(N.range.startLineNumber,N.range.startColumn),R=this._editor.getOption(113),$=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:k});let J=!1;R>=0&&A>R&&N.range.startColumn>=R&&(J=!0,B.push(new c(this,N.range,[{value:a.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,U++))),!J&&typeof $=="number"&&A>=$&&B.push(new c(this,N.range,[{value:a.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,U++));let Y=!1;for(const j of P){const z=j.range.startLineNumber===D?j.range.startColumn:1,K=j.range.endLineNumber===D?j.range.endColumn:F,Z=j.options.hoverMessage;if(!Z||(0,_.CP)(Z))continue;j.options.beforeContentClassName&&(Y=!0);const fe=new L.e(N.range.startLineNumber,z,N.range.startLineNumber,K);B.push(new c(this,fe,(0,O._2)(Z),Y,U++))}return B}computeAsync(N,P,M){if(!this._editor.hasModel()||N.type!==1)return u.Aq.EMPTY;const D=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(D))return u.Aq.EMPTY;const F=new I.L(N.range.startLineNumber,N.range.startColumn);return(0,g.R8)(this._languageFeaturesService.hoverProvider,D,F,M).filter(B=>!(0,_.CP)(B.hover.contents)).map(B=>{const U=B.hover.range?L.e.lift(B.hover.range):N.range;return new c(this,U,B.hover.contents,!1,B.ordinal)})}renderHoverParts(N,P){return C(N,P,this._editor,this._languageService,this._openerService)}};v=s([m(1,E.O),m(2,d.v4),m(3,l.Ui),m(4,i.p)],v);function C(S,N,P,M,D){N.sort((B,U)=>B.ordinal-U.ordinal);const F=new p.SL;for(const B of N)for(const U of B.contents){if((0,_.CP)(U))continue;const A=b("div.hover-row.markdown-hover"),k=f.R3(A,b("div.hover-contents")),R=F.add(new V.$({editor:P},M,D));F.add(R.onDidRenderAsync(()=>{k.className="hover-contents code-hover-contents",S.onContentsChanged()}));const $=F.add(R.render(U));k.appendChild($.element),S.fragment.appendChild(A)}return F}},99006:function(Rt,Be,t){"use strict";t.r(Be);var f=t(13484),O=t(20996),u=t(44426),_=t(55298),p=t(50038),V=t(57841),I=t(21081),L=t(45007),E=t(30363),g=t(26386);class a{constructor(c,v,C){this._editRange=c,this._originalSelection=v,this._text=C}getEditOperations(c,v){v.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(c,v){const S=v.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new V.Y(S.endLineNumber,Math.min(this._originalSelection.positionColumn,S.endColumn),S.endLineNumber,Math.min(this._originalSelection.positionColumn,S.endColumn)):new V.Y(S.endLineNumber,S.endColumn-this._text.length,S.endLineNumber,S.endColumn)}}var l=function(b,c,v,C){var S=arguments.length,N=S<3?c:C===null?C=Object.getOwnPropertyDescriptor(c,v):C,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,c,v,C);else for(var M=b.length-1;M>=0;M--)(P=b[M])&&(N=(S<3?P(N):S>3?P(c,v,N):P(c,v))||N);return S>3&&N&&Object.defineProperty(c,v,N),N},d=function(b,c){return function(v,C){c(v,C,b)}};let i=class gc{static get(c){return c.getContribution(gc.ID)}constructor(c,v){this.editor=c,this.editorWorkerService=v,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(c,v){var C;(C=this.currentRequest)===null||C===void 0||C.cancel();const S=this.editor.getSelection(),N=this.editor.getModel();if(!N||!S)return;let P=S;if(P.startLineNumber!==P.endLineNumber)return;const M=new u.yy(this.editor,5),D=N.uri;return this.editorWorkerService.canNavigateValueSet(D)?(this.currentRequest=(0,f.PG)(F=>this.editorWorkerService.navigateValueSet(D,P,v)),this.currentRequest.then(F=>{var B;if(!F||!F.range||!F.value||!M.validate(this.editor))return;const U=p.e.lift(F.range);let A=F.range;const k=F.value.length-(P.endColumn-P.startColumn);A={startLineNumber:A.startLineNumber,startColumn:A.startColumn,endLineNumber:A.endLineNumber,endColumn:A.startColumn+F.value.length},k>1&&(P=new V.Y(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn+k-1));const R=new a(U,P,F.value);this.editor.pushUndoStop(),this.editor.executeCommand(c,R),this.editor.pushUndoStop(),this.decorations.set([{range:A,options:gc.DECORATION}]),(B=this.decorationRemover)===null||B===void 0||B.cancel(),this.decorationRemover=(0,f.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(O.dL)}).catch(O.dL)):Promise.resolve(void 0)}};i.ID="editor.contrib.inPlaceReplaceController",i.DECORATION=L.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),i=l([d(1,E.p)],i);class s extends _.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:g.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:I.u.writable,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3159,weight:100}})}run(c,v){const C=i.get(v);return C?C.run(this.id,!1):Promise.resolve(void 0)}}class m extends _.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:g.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:I.u.writable,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3161,weight:100}})}run(c,v){const C=i.get(v);return C?C.run(this.id,!0):Promise.resolve(void 0)}}(0,_._K)(i.ID,i,4),(0,_.Qr)(s),(0,_.Qr)(m)},54425:function(Rt,Be,t){"use strict";t.d(Be,{J:function(){return O},Y:function(){return f}});function f(u,_){let p=0;for(let V=0;V<u.length;V++)u.charAt(V)==="	"?p+=_:p++;return p}function O(u,_,p){u=u<0?0:u;let V="";if(!p){const I=Math.floor(u/_);u=u%_;for(let L=0;L<I;L++)V+="	"}for(let I=0;I<u;I++)V+=" ";return V}},32262:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{AutoIndentOnPaste:function(){return A},AutoIndentOnPasteCommand:function(){return U},ChangeIndentationSizeAction:function(){return S},ChangeTabDisplaySize:function(){return M},DetectIndentation:function(){return D},IndentUsingSpaces:function(){return P},IndentUsingTabs:function(){return N},IndentationToSpacesAction:function(){return v},IndentationToSpacesCommand:function(){return R},IndentationToTabsAction:function(){return C},IndentationToTabsCommand:function(){return $},ReindentLinesAction:function(){return F},ReindentSelectedLinesAction:function(){return B},getReindentEditOperations:function(){return c}});var f=t(38431),O=t(17416),u=t(55298),_=t(8453),p=t(19083),V=t(50038),I=t(57841),L=t(21081),E=t(64603),g=t(65041),a=t(54425),l=t(26386),d=t(38785),i=t(5184),s=t(89026),m=function(J,Y,j,z){var K=arguments.length,Z=K<3?Y:z===null?z=Object.getOwnPropertyDescriptor(Y,j):z,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(J,Y,j,z);else for(var T=J.length-1;T>=0;T--)(fe=J[T])&&(Z=(K<3?fe(Z):K>3?fe(Y,j,Z):fe(Y,j))||Z);return K>3&&Z&&Object.defineProperty(Y,j,Z),Z},b=function(J,Y){return function(j,z){Y(j,z,J)}};function c(J,Y,j,z,K){if(J.getLineCount()===1&&J.getLineMaxColumn(1)===1)return[];const Z=Y.getLanguageConfiguration(J.getLanguageId()).indentationRules;if(!Z)return[];for(z=Math.min(z,J.getLineCount());j<=z&&Z.unIndentedLinePattern;){const Xe=J.getLineContent(j);if(!Z.unIndentedLinePattern.test(Xe))break;j++}if(j>z-1)return[];const{tabSize:fe,indentSize:T,insertSpaces:Re}=J.getOptions(),Ce=(Xe,Ve)=>(Ve=Ve||1,_.U.shiftIndent(Xe,Xe.length+Ve,fe,T,Re)),_e=(Xe,Ve)=>(Ve=Ve||1,_.U.unshiftIndent(Xe,Xe.length+Ve,fe,T,Re)),pe=[];let le;const oe=J.getLineContent(j);let he=oe;if(K!=null){le=K;const Xe=O.V8(oe);he=le+oe.substring(Xe.length),Z.decreaseIndentPattern&&Z.decreaseIndentPattern.test(he)&&(le=_e(le),he=le+oe.substring(Xe.length)),oe!==he&&pe.push(p.h.replaceMove(new I.Y(j,1,j,Xe.length+1),(0,i.x)(le,T,Re)))}else le=O.V8(oe);let je=le;Z.increaseIndentPattern&&Z.increaseIndentPattern.test(he)?(je=Ce(je),le=Ce(le)):Z.indentNextLinePattern&&Z.indentNextLinePattern.test(he)&&(je=Ce(je)),j++;for(let Xe=j;Xe<=z;Xe++){const Ve=J.getLineContent(Xe),se=O.V8(Ve),q=je+Ve.substring(se.length);Z.decreaseIndentPattern&&Z.decreaseIndentPattern.test(q)&&(je=_e(je),le=_e(le)),se!==je&&pe.push(p.h.replaceMove(new I.Y(Xe,1,Xe,se.length+1),(0,i.x)(je,T,Re))),!(Z.unIndentedLinePattern&&Z.unIndentedLinePattern.test(Ve))&&(Z.increaseIndentPattern&&Z.increaseIndentPattern.test(q)?(le=Ce(le),je=le):Z.indentNextLinePattern&&Z.indentNextLinePattern.test(q)?je=Ce(je):je=le)}return pe}class v extends u.R6{constructor(){super({id:v.ID,label:l.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:L.u.writable})}run(Y,j){const z=j.getModel();if(!z)return;const K=z.getOptions(),Z=j.getSelection();if(!Z)return;const fe=new R(Z,K.tabSize);j.pushUndoStop(),j.executeCommands(this.id,[fe]),j.pushUndoStop(),z.updateOptions({insertSpaces:!0})}}v.ID="editor.action.indentationToSpaces";class C extends u.R6{constructor(){super({id:C.ID,label:l.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:L.u.writable})}run(Y,j){const z=j.getModel();if(!z)return;const K=z.getOptions(),Z=j.getSelection();if(!Z)return;const fe=new $(Z,K.tabSize);j.pushUndoStop(),j.executeCommands(this.id,[fe]),j.pushUndoStop(),z.updateOptions({insertSpaces:!1})}}C.ID="editor.action.indentationToTabs";class S extends u.R6{constructor(Y,j,z){super(z),this.insertSpaces=Y,this.displaySizeOnly=j}run(Y,j){const z=Y.get(d.eJ),K=Y.get(g.q),Z=j.getModel();if(!Z)return;const fe=K.getCreationOptions(Z.getLanguageId(),Z.uri,Z.isForSimpleWidget),T=Z.getOptions(),Re=[1,2,3,4,5,6,7,8].map(_e=>({id:_e.toString(),label:_e.toString(),description:_e===fe.tabSize&&_e===T.tabSize?l.NC("configuredTabSize","Configured Tab Size"):_e===fe.tabSize?l.NC("defaultTabSize","Default Tab Size"):_e===T.tabSize?l.NC("currentTabSize","Current Tab Size"):void 0})),Ce=Math.min(Z.getOptions().tabSize-1,7);setTimeout(()=>{z.pick(Re,{placeHolder:l.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:Re[Ce]}).then(_e=>{if(_e&&Z&&!Z.isDisposed()){const pe=parseInt(_e.label,10);this.displaySizeOnly?Z.updateOptions({tabSize:pe}):Z.updateOptions({tabSize:pe,indentSize:pe,insertSpaces:this.insertSpaces})}})},50)}}class N extends S{constructor(){super(!1,!1,{id:N.ID,label:l.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}N.ID="editor.action.indentUsingTabs";class P extends S{constructor(){super(!0,!1,{id:P.ID,label:l.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}P.ID="editor.action.indentUsingSpaces";class M extends S{constructor(){super(!0,!0,{id:M.ID,label:l.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}M.ID="editor.action.changeTabDisplaySize";class D extends u.R6{constructor(){super({id:D.ID,label:l.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(Y,j){const z=Y.get(g.q),K=j.getModel();if(!K)return;const Z=z.getCreationOptions(K.getLanguageId(),K.uri,K.isForSimpleWidget);K.detectIndentation(Z.insertSpaces,Z.tabSize)}}D.ID="editor.action.detectIndentation";class F extends u.R6{constructor(){super({id:"editor.action.reindentlines",label:l.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:L.u.writable})}run(Y,j){const z=Y.get(E.c_),K=j.getModel();if(!K)return;const Z=c(K,z,1,K.getLineCount());Z.length>0&&(j.pushUndoStop(),j.executeEdits(this.id,Z),j.pushUndoStop())}}class B extends u.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:l.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:L.u.writable})}run(Y,j){const z=Y.get(E.c_),K=j.getModel();if(!K)return;const Z=j.getSelections();if(Z===null)return;const fe=[];for(const T of Z){let Re=T.startLineNumber,Ce=T.endLineNumber;if(Re!==Ce&&T.endColumn===1&&Ce--,Re===1){if(Re===Ce)continue}else Re--;const _e=c(K,z,Re,Ce);fe.push(..._e)}fe.length>0&&(j.pushUndoStop(),j.executeEdits(this.id,fe),j.pushUndoStop())}}class U{constructor(Y,j){this._initialSelection=j,this._edits=[],this._selectionId=null;for(const z of Y)z.range&&typeof z.text=="string"&&this._edits.push(z)}getEditOperations(Y,j){for(const K of this._edits)j.addEditOperation(V.e.lift(K.range),K.text);let z=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(z=!0,this._selectionId=j.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(z=!0,this._selectionId=j.trackSelection(this._initialSelection,!1))),z||(this._selectionId=j.trackSelection(this._initialSelection))}computeCursorState(Y,j){return j.getTrackedSelection(this._selectionId)}}let A=class{constructor(Y,j){this.editor=Y,this._languageConfigurationService=j,this.callOnDispose=new f.SL,this.callOnModel=new f.SL,this.callOnDispose.add(Y.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(Y.onDidChangeModel(()=>this.update())),this.callOnDispose.add(Y.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(10)<4||this.editor.getOption(53))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:Y})=>{this.trigger(Y)}))}trigger(Y){const j=this.editor.getSelections();if(j===null||j.length>1)return;const z=this.editor.getModel();if(!z||!z.tokenization.isCheapToTokenize(Y.getStartPosition().lineNumber))return;const K=this.editor.getOption(10),{tabSize:Z,indentSize:fe,insertSpaces:T}=z.getOptions(),Re=[],Ce={shiftIndent:oe=>_.U.shiftIndent(oe,oe.length+1,Z,fe,T),unshiftIndent:oe=>_.U.unshiftIndent(oe,oe.length+1,Z,fe,T)};let _e=Y.startLineNumber;for(;_e<=Y.endLineNumber;){if(this.shouldIgnoreLine(z,_e)){_e++;continue}break}if(_e>Y.endLineNumber)return;let pe=z.getLineContent(_e);if(!/\S/.test(pe.substring(0,Y.startColumn-1))){const oe=(0,s.n8)(K,z,z.getLanguageId(),_e,Ce,this._languageConfigurationService);if(oe!==null){const he=O.V8(pe),je=a.Y(oe,Z),Xe=a.Y(he,Z);if(je!==Xe){const Ve=a.J(je,Z,T);Re.push({range:new V.e(_e,1,_e,he.length+1),text:Ve}),pe=Ve+pe.substr(he.length)}else{const Ve=(0,s.tI)(z,_e,this._languageConfigurationService);if(Ve===0||Ve===8)return}}}const le=_e;for(;_e<Y.endLineNumber;){if(!/\S/.test(z.getLineContent(_e+1))){_e++;continue}break}if(_e!==Y.endLineNumber){const oe={tokenization:{getLineTokens:je=>z.tokenization.getLineTokens(je),getLanguageId:()=>z.getLanguageId(),getLanguageIdAtPosition:(je,Xe)=>z.getLanguageIdAtPosition(je,Xe)},getLineContent:je=>je===le?pe:z.getLineContent(je)},he=(0,s.n8)(K,oe,z.getLanguageId(),_e+1,Ce,this._languageConfigurationService);if(he!==null){const je=a.Y(he,Z),Xe=a.Y(O.V8(z.getLineContent(_e+1)),Z);if(je!==Xe){const Ve=je-Xe;for(let se=_e+1;se<=Y.endLineNumber;se++){const q=z.getLineContent(se),Ee=O.V8(q),we=a.Y(Ee,Z)+Ve,ve=a.J(we,Z,T);ve!==Ee&&Re.push({range:new V.e(se,1,se,Ee.length+1),text:ve})}}}}if(Re.length>0){this.editor.pushUndoStop();const oe=new U(Re,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",oe),this.editor.pushUndoStop()}}shouldIgnoreLine(Y,j){Y.tokenization.forceTokenization(j);const z=Y.getLineFirstNonWhitespaceColumn(j);if(z===0)return!0;const K=Y.tokenization.getLineTokens(j);if(K.getCount()>0){const Z=K.findTokenIndexAtOffset(z);if(Z>=0&&K.getStandardTokenType(Z)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};A.ID="editor.contrib.autoIndentOnPaste",A=m([b(1,E.c_)],A);function k(J,Y,j,z){if(J.getLineCount()===1&&J.getLineMaxColumn(1)===1)return;let K="";for(let fe=0;fe<j;fe++)K+=" ";const Z=new RegExp(K,"gi");for(let fe=1,T=J.getLineCount();fe<=T;fe++){let Re=J.getLineFirstNonWhitespaceColumn(fe);if(Re===0&&(Re=J.getLineMaxColumn(fe)),Re===1)continue;const Ce=new V.e(fe,1,fe,Re),_e=J.getValueInRange(Ce),pe=z?_e.replace(/\t/ig,K):_e.replace(Z,"	");Y.addEditOperation(Ce,pe)}}class R{constructor(Y,j){this.selection=Y,this.tabSize=j,this.selectionId=null}getEditOperations(Y,j){this.selectionId=j.trackSelection(this.selection),k(Y,j,this.tabSize,!0)}computeCursorState(Y,j){return j.getTrackedSelection(this.selectionId)}}class ${constructor(Y,j){this.selection=Y,this.tabSize=j,this.selectionId=null}getEditOperations(Y,j){this.selectionId=j.trackSelection(this.selection),k(Y,j,this.tabSize,!1)}computeCursorState(Y,j){return j.getTrackedSelection(this.selectionId)}}(0,u._K)(A.ID,A,2),(0,u.Qr)(v),(0,u.Qr)(C),(0,u.Qr)(N),(0,u.Qr)(P),(0,u.Qr)(M),(0,u.Qr)(D),(0,u.Qr)(F),(0,u.Qr)(B)},4328:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(72223),u=t(34441),_=t(16308),p=t(13484),V=t(97464),I=t(20996),L=t(38431),E=t(39832),g=t(14818),a=t(28919),l=t(31396),d=t(48423),i=t(70054),s=t(19083),m=t(50038),b=t(36082),c=t(41913),v=t(45007),C=t(69060),S=t(35921),N=t(91223),P=t(66931),M=t(8964),D=t(5007),F=function(He,Le,de,ee){function ne(me){return me instanceof de?me:new de(function(ue){ue(me)})}return new(de||(de=Promise))(function(me,ue){function Pe(nt){try{gt(ee.next(nt))}catch(tt){ue(tt)}}function ot(nt){try{gt(ee.throw(nt))}catch(tt){ue(tt)}}function gt(nt){nt.done?me(nt.value):ne(nt.value).then(Pe,ot)}gt((ee=ee.apply(He,Le||[])).next())})};class B{constructor(Le,de){this.range=Le,this.direction=de}}class U{constructor(Le,de,ee){this.hint=Le,this.anchor=de,this.provider=ee,this._isResolved=!1}with(Le){const de=new U(this.hint,Le.anchor,this.provider);return de._isResolved=this._isResolved,de._currentResolve=this._currentResolve,de}resolve(Le){return F(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,Le.isCancellationRequested?void 0:this.resolve(Le);this._isResolved||(this._currentResolve=this._doResolve(Le).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(Le){var de,ee;return F(this,void 0,void 0,function*(){try{const ne=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,Le));this.hint.tooltip=(de=ne==null?void 0:ne.tooltip)!==null&&de!==void 0?de:this.hint.tooltip,this.hint.label=(ee=ne==null?void 0:ne.label)!==null&&ee!==void 0?ee:this.hint.label,this._isResolved=!0}catch(ne){(0,I.Cp)(ne),this._isResolved=!1}})}}class A{static create(Le,de,ee,ne){return F(this,void 0,void 0,function*(){const me=[],ue=Le.ordered(de).reverse().map(Pe=>ee.map(ot=>F(this,void 0,void 0,function*(){try{const gt=yield Pe.provideInlayHints(de,ot,ne);gt!=null&&gt.hints.length&&me.push([gt,Pe])}catch(gt){(0,I.Cp)(gt)}})));if(yield Promise.all(ue.flat()),ne.isCancellationRequested||de.isDisposed())throw new I.FU;return new A(ee,me,de)})}constructor(Le,de,ee){this._disposables=new L.SL,this.ranges=Le,this.provider=new Set;const ne=[];for(const[me,ue]of de){this._disposables.add(me),this.provider.add(ue);for(const Pe of me.hints){const ot=ee.validatePosition(Pe.position);let gt="before";const nt=A._getRangeAtPosition(ee,ot);let tt;nt.getStartPosition().isBefore(ot)?(tt=m.e.fromPositions(nt.getStartPosition(),ot),gt="after"):(tt=m.e.fromPositions(ot,nt.getEndPosition()),gt="before"),ne.push(new U(Pe,new B(tt,gt),ue))}}this.items=ne.sort((me,ue)=>M.L.compare(me.hint.position,ue.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(Le,de){const ee=de.lineNumber,ne=Le.getWordAtPosition(de);if(ne)return new m.e(ee,ne.startColumn,ee,ne.endColumn);Le.tokenization.tokenizeIfCheap(ee);const me=Le.tokenization.getLineTokens(ee),ue=de.column-1,Pe=me.findTokenIndexAtOffset(ue);let ot=me.getStartOffset(Pe),gt=me.getEndOffset(Pe);return gt-ot===1&&(ot===ue&&Pe>1?(ot=me.getStartOffset(Pe-1),gt=me.getEndOffset(Pe-1)):gt===ue&&Pe<me.getCount()-1&&(ot=me.getStartOffset(Pe+1),gt=me.getEndOffset(Pe+1))),new m.e(ee,ot+1,ee,gt+1)}}function k(He){return a.o.from({scheme:D.lg.command,path:He.id,query:He.arguments&&encodeURIComponent(JSON.stringify(He.arguments))}).toString()}var R=t(52429),$=t(80793),J=t(53061),Y=t(44333),j=t(97968),z=t(92537),K=t(58566),Z=function(He,Le,de,ee){var ne=arguments.length,me=ne<3?Le:ee===null?ee=Object.getOwnPropertyDescriptor(Le,de):ee,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(He,Le,de,ee);else for(var Pe=He.length-1;Pe>=0;Pe--)(ue=He[Pe])&&(me=(ne<3?ue(me):ne>3?ue(Le,de,me):ue(Le,de))||me);return ne>3&&me&&Object.defineProperty(Le,de,me),me},fe=function(He,Le){return function(de,ee){Le(de,ee,He)}},T=function(He,Le,de,ee){function ne(me){return me instanceof de?me:new de(function(ue){ue(me)})}return new(de||(de=Promise))(function(me,ue){function Pe(nt){try{gt(ee.next(nt))}catch(tt){ue(tt)}}function ot(nt){try{gt(ee.throw(nt))}catch(tt){ue(tt)}}function gt(nt){nt.done?me(nt.value):ne(nt.value).then(Pe,ot)}gt((ee=ee.apply(He,Le||[])).next())})};class Re{constructor(){this._entries=new E.z6(50)}get(Le){const de=Re._key(Le);return this._entries.get(de)}set(Le,de){const ee=Re._key(Le);this._entries.set(ee,de)}static _key(Le){return`${Le.uri.toString()}/${Le.getVersionId()}`}}const Ce=(0,Y.yh)("IInlayHintsCache");(0,J.z)(Ce,Re,1);class _e{constructor(Le,de){this.item=Le,this.index=de}get part(){const Le=this.item.hint.label;return typeof Le=="string"?{label:Le}:Le[this.index]}}class pe{constructor(Le,de){this.part=Le,this.hasTriggerModifier=de}}let le=class mc{static get(Le){var de;return(de=Le.getContribution(mc.ID))!==null&&de!==void 0?de:void 0}constructor(Le,de,ee,ne,me,ue,Pe){this._editor=Le,this._languageFeaturesService=de,this._inlayHintsCache=ne,this._commandService=me,this._notificationService=ue,this._instaService=Pe,this._disposables=new L.SL,this._sessionDisposables=new L.SL,this._decorationsMetadata=new Map,this._ruleFactory=new l.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=ee.for(de.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(de.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(Le.onDidChangeModel(()=>this._update())),this._disposables.add(Le.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Le.onDidChangeConfiguration(ot=>{ot.hasChanged(136)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const Le=this._editor.getOption(136);if(Le.enabled==="off")return;const de=this._editor.getModel();if(!de||!this._languageFeaturesService.inlayHintsProvider.has(de))return;const ee=this._inlayHintsCache.get(de);ee&&this._updateHintsDecorators([de.getFullModelRange()],ee),this._sessionDisposables.add((0,L.OF)(()=>{de.isDisposed()||this._cacheHintsForFastRestore(de)}));let ne;const me=new Set,ue=new p.pY(()=>T(this,void 0,void 0,function*(){const Pe=Date.now();ne==null||ne.dispose(!0),ne=new V.A;const ot=de.onWillDispose(()=>ne==null?void 0:ne.cancel());try{const gt=ne.token,nt=yield A.create(this._languageFeaturesService.inlayHintsProvider,de,this._getHintsRanges(),gt);if(ue.delay=this._debounceInfo.update(de,Date.now()-Pe),gt.isCancellationRequested){nt.dispose();return}for(const tt of nt.provider)typeof tt.onDidChangeInlayHints=="function"&&!me.has(tt)&&(me.add(tt),this._sessionDisposables.add(tt.onDidChangeInlayHints(()=>{ue.isScheduled()||ue.schedule()})));this._sessionDisposables.add(nt),this._updateHintsDecorators(nt.ranges,nt.items),this._cacheHintsForFastRestore(de)}catch(gt){(0,I.dL)(gt)}finally{ne.dispose(),ot.dispose()}}),this._debounceInfo.get(de));if(this._sessionDisposables.add(ue),this._sessionDisposables.add((0,L.OF)(()=>ne==null?void 0:ne.dispose(!0))),ue.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(Pe=>{(Pe.scrollTopChanged||!ue.isScheduled())&&ue.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(Pe=>{const ot=Math.max(ue.delay,1250);ue.schedule(ot)})),Le.enabled==="on")this._activeRenderMode=0;else{let Pe,ot;Le.enabled==="onUnlessPressed"?(Pe=0,ot=1):(Pe=1,ot=0),this._activeRenderMode=Pe,this._sessionDisposables.add(u._q.getInstance().event(gt=>{if(!this._editor.hasModel())return;const nt=gt.altKey&&gt.ctrlKey&&!(gt.shiftKey||gt.metaKey)?ot:Pe;if(nt!==this._activeRenderMode){this._activeRenderMode=nt;const tt=this._editor.getModel(),st=this._copyInlayHintsWithCurrentAnchor(tt);this._updateHintsDecorators([tt.getFullModelRange()],st),ue.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ue.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const Le=new L.SL,de=Le.add(new P.yN(this._editor)),ee=new L.SL;return Le.add(ee),Le.add(de.onMouseMoveOrRelevantKeyDown(ne=>{const[me]=ne,ue=this._getInlayHintLabelPart(me),Pe=this._editor.getModel();if(!ue||!Pe){ee.clear();return}const ot=new V.A;ee.add((0,L.OF)(()=>ot.dispose(!0))),ue.item.resolve(ot.token),this._activeInlayHintPart=ue.part.command||ue.part.location?new pe(ue,me.hasTriggerModifier):void 0;const gt=Pe.validatePosition(ue.item.hint.position).lineNumber,nt=new m.e(gt,1,gt,Pe.getLineMaxColumn(gt)),tt=this._getInlineHintsForRange(nt);this._updateHintsDecorators([nt],tt),ee.add((0,L.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([nt],tt)}))})),Le.add(de.onCancel(()=>ee.clear())),Le.add(de.onExecute(ne=>T(this,void 0,void 0,function*(){const me=this._getInlayHintLabelPart(ne);if(me){const ue=me.part;ue.location?this._instaService.invokeFunction(R.K,ne,this._editor,ue.location):b.mY.is(ue.command)&&(yield this._invokeCommand(ue.command,me.item))}}))),Le}_getInlineHintsForRange(Le){const de=new Set;for(const ee of this._decorationsMetadata.values())Le.containsRange(ee.item.anchor.range)&&de.add(ee.item);return Array.from(de)}_installDblClickGesture(Le){return this._editor.onMouseUp(de=>T(this,void 0,void 0,function*(){if(de.event.detail!==2)return;const ee=this._getInlayHintLabelPart(de);if(ee&&(de.event.preventDefault(),yield ee.item.resolve(V.T.None),(0,_.Of)(ee.item.hint.textEdits))){const ne=ee.item.hint.textEdits.map(me=>s.h.replace(m.e.lift(me.range),me.text));this._editor.executeEdits("inlayHint.default",ne),Le()}}))}_installContextMenu(){return this._editor.onContextMenu(Le=>T(this,void 0,void 0,function*(){if(!(Le.event.target instanceof HTMLElement))return;const de=this._getInlayHintLabelPart(Le);de&&(yield this._instaService.invokeFunction(R.u,this._editor,Le.event.target,de))}))}_getInlayHintLabelPart(Le){var de;if(Le.target.type!==6)return;const ee=(de=Le.target.detail.injectedText)===null||de===void 0?void 0:de.options;if(ee instanceof v.HS&&(ee==null?void 0:ee.attachedData)instanceof _e)return ee.attachedData}_invokeCommand(Le,de){var ee;return T(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(Le.id,...(ee=Le.arguments)!==null&&ee!==void 0?ee:[])}catch(ne){this._notificationService.notify({severity:j.zb.Error,source:de.provider.displayName,message:ne})}})}_cacheHintsForFastRestore(Le){const de=this._copyInlayHintsWithCurrentAnchor(Le);this._inlayHintsCache.set(Le,de)}_copyInlayHintsWithCurrentAnchor(Le){const de=new Map;for(const[ee,ne]of this._decorationsMetadata){if(de.has(ne.item))continue;const me=Le.getDecorationRange(ee);if(me){const ue=new B(me,ne.item.anchor.direction),Pe=ne.item.with({anchor:ue});de.set(ne.item,Pe)}}return Array.from(de.values())}_getHintsRanges(){const de=this._editor.getModel(),ee=this._editor.getVisibleRangesPlusViewportAboveBelow(),ne=[];for(const me of ee.sort(m.e.compareRangesUsingStarts)){const ue=de.validateRange(new m.e(me.startLineNumber-30,me.startColumn,me.endLineNumber+30,me.endColumn));ne.length===0||!m.e.areIntersectingOrTouching(ne[ne.length-1],ue)?ne.push(ue):ne[ne.length-1]=m.e.plusRange(ne[ne.length-1],ue)}return ne}_updateHintsDecorators(Le,de){var ee,ne;const me=[],ue=(Vt,Ct,gi,jt,Ye)=>{const ut={content:gi,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Ct.className,cursorStops:jt,attachedData:Ye};me.push({item:Vt,classNameRef:Ct,decoration:{range:Vt.anchor.range,options:{description:"InlayHint",showIfCollapsed:Vt.anchor.range.isEmpty(),collapseOnReplaceEdit:!Vt.anchor.range.isEmpty(),stickiness:0,[Vt.anchor.direction]:this._activeRenderMode===0?ut:void 0}}})},Pe=(Vt,Ct)=>{const gi=this._ruleFactory.createClassNameRef({width:`${ot/3|0}px`,display:"inline-block"});ue(Vt,gi,"\u200A",Ct?c.RM.Right:c.RM.None)},{fontSize:ot,fontFamily:gt,padding:nt,isUniform:tt}=this._getLayoutInfo(),st="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(st,gt);for(const Vt of de){Vt.hint.paddingLeft&&Pe(Vt,!1);const Ct=typeof Vt.hint.label=="string"?[{label:Vt.hint.label}]:Vt.hint.label;for(let gi=0;gi<Ct.length;gi++){const jt=Ct[gi],Ye=gi===0,ut=gi===Ct.length-1,dt={fontSize:`${ot}px`,fontFamily:`var(${st}), ${i.hL.fontFamily}`,verticalAlign:tt?"baseline":"middle",unicodeBidi:"isolate"};(0,_.Of)(Vt.hint.textEdits)&&(dt.cursor="default"),this._fillInColors(dt,Vt.hint),(jt.command||jt.location)&&((ee=this._activeInlayHintPart)===null||ee===void 0?void 0:ee.part.item)===Vt&&this._activeInlayHintPart.part.index===gi&&(dt.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(dt.color=(0,K.EN)(z._Yy),dt.cursor="pointer")),nt&&(Ye&&ut?(dt.padding=`1px ${Math.max(1,ot/4)|0}px`,dt.borderRadius=`${ot/4|0}px`):Ye?(dt.padding=`1px 0 1px ${Math.max(1,ot/4)|0}px`,dt.borderRadius=`${ot/4|0}px 0 0 ${ot/4|0}px`):ut?(dt.padding=`1px ${Math.max(1,ot/4)|0}px 1px 0`,dt.borderRadius=`0 ${ot/4|0}px ${ot/4|0}px 0`):dt.padding="1px 0 1px 0"),ue(Vt,this._ruleFactory.createClassNameRef(dt),oe(jt.label),ut&&!Vt.hint.paddingRight?c.RM.Right:c.RM.None,new _e(Vt,gi))}if(Vt.hint.paddingRight&&Pe(Vt,!0),me.length>mc._MAX_DECORATORS)break}const It=[];for(const Vt of Le)for(const{id:Ct}of(ne=this._editor.getDecorationsInRange(Vt))!==null&&ne!==void 0?ne:[]){const gi=this._decorationsMetadata.get(Ct);gi&&(It.push(Ct),gi.classNameRef.dispose(),this._decorationsMetadata.delete(Ct))}const Wt=d.Z.capture(this._editor);this._editor.changeDecorations(Vt=>{const Ct=Vt.deltaDecorations(It,me.map(gi=>gi.decoration));for(let gi=0;gi<Ct.length;gi++){const jt=me[gi];this._decorationsMetadata.set(Ct[gi],jt)}}),Wt.restore(this._editor)}_fillInColors(Le,de){de.kind===b.gl.Parameter?(Le.backgroundColor=(0,K.EN)(z.phM),Le.color=(0,K.EN)(z.HCL)):de.kind===b.gl.Type?(Le.backgroundColor=(0,K.EN)(z.bKB),Le.color=(0,K.EN)(z.hX8)):(Le.backgroundColor=(0,K.EN)(z.PpC),Le.color=(0,K.EN)(z.VVv))}_getLayoutInfo(){const Le=this._editor.getOption(136),de=Le.padding,ee=this._editor.getOption(50),ne=this._editor.getOption(47);let me=Le.fontSize;(!me||me<5||me>ee)&&(me=ee);const ue=Le.fontFamily||ne;return{fontSize:me,fontFamily:ue,padding:de,isUniform:!de&&ue===ne&&me===ee}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const Le of this._decorationsMetadata.values())Le.classNameRef.dispose();this._decorationsMetadata.clear()}};le.ID="editor.contrib.InlayHints",le._MAX_DECORATORS=1500,le=Z([fe(1,S.p),fe(2,C.A),fe(3,Ce),fe(4,$.H),fe(5,j.lT),fe(6,Y.TG)],le);function oe(He){const Le="\xA0";return He.replace(/[ \t]/g,Le)}$.P.registerCommand("_executeInlayHintProvider",(He,...Le)=>T(void 0,void 0,void 0,function*(){const[de,ee]=Le;(0,g.p_)(a.o.isUri(de)),(0,g.p_)(m.e.isIRange(ee));const{inlayHintsProvider:ne}=He.get(S.p),me=yield He.get(N.S).createModelReference(de);try{const ue=yield A.create(ne,me.object.textEditorModel,[m.e.lift(ee)],V.T.None),Pe=ue.items.map(ot=>ot.hint);return setTimeout(()=>ue.dispose(),0),Pe}finally{me.dispose()}}));var he=t(69008),je=t(47626),Xe=t(23098),Ve=t(22214),se=t(71177),q=t(48786),Ee=t(26386),Se=t(11138),we=function(He,Le,de,ee){var ne=arguments.length,me=ne<3?Le:ee===null?ee=Object.getOwnPropertyDescriptor(Le,de):ee,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(He,Le,de,ee);else for(var Pe=He.length-1;Pe>=0;Pe--)(ue=He[Pe])&&(me=(ne<3?ue(me):ne>3?ue(Le,de,me):ue(Le,de))||me);return ne>3&&me&&Object.defineProperty(Le,de,me),me},ve=function(He,Le){return function(de,ee){Le(de,ee,He)}},Ne=function(He,Le,de,ee){function ne(me){return me instanceof de?me:new de(function(ue){ue(me)})}return new(de||(de=Promise))(function(me,ue){function Pe(nt){try{gt(ee.next(nt))}catch(tt){ue(tt)}}function ot(nt){try{gt(ee.throw(nt))}catch(tt){ue(tt)}}function gt(nt){nt.done?me(nt.value):ne(nt.value).then(Pe,ot)}gt((ee=ee.apply(He,Le||[])).next())})},$e=function(He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le=He[Symbol.asyncIterator],de;return Le?Le.call(He):(He=typeof __values=="function"?__values(He):He[Symbol.iterator](),de={},ee("next"),ee("throw"),ee("return"),de[Symbol.asyncIterator]=function(){return this},de);function ee(me){de[me]=He[me]&&function(ue){return new Promise(function(Pe,ot){ue=He[me](ue),ne(Pe,ot,ue.done,ue.value)})}}function ne(me,ue,Pe,ot){Promise.resolve(ot).then(function(gt){me({value:gt,done:Pe})},ue)}};class Ke extends O.YM{constructor(Le,de,ee,ne){super(10,de,Le.item.anchor.range,ee,ne,!0),this.part=Le}}let ze=class extends Ve.D5{constructor(Le,de,ee,ne,me,ue){super(Le,de,ee,ne,ue),this._resolverService=me,this.hoverOrdinal=6}suggestHoverAnchor(Le){var de;if(!le.get(this._editor)||Le.target.type!==6)return null;const ne=(de=Le.target.detail.injectedText)===null||de===void 0?void 0:de.options;return ne instanceof v.HS&&ne.attachedData instanceof _e?new Ke(ne.attachedData,this,Le.event.posx,Le.event.posy):null}computeSync(){return[]}computeAsync(Le,de,ee){return Le instanceof Ke?new p.Aq(ne=>Ne(this,void 0,void 0,function*(){var me,ue,Pe,ot;const{part:gt}=Le;if(yield gt.item.resolve(ee),ee.isCancellationRequested)return;let nt;typeof gt.item.hint.tooltip=="string"?nt=new he.W5().appendText(gt.item.hint.tooltip):gt.item.hint.tooltip&&(nt=gt.item.hint.tooltip),nt&&ne.emitOne(new Ve.hU(this,Le.range,[nt],!1,0)),(0,_.Of)(gt.item.hint.textEdits)&&ne.emitOne(new Ve.hU(this,Le.range,[new he.W5().appendText((0,Ee.NC)("hint.dbl","Double-click to insert"))],!1,10001));let tt;if(typeof gt.part.tooltip=="string"?tt=new he.W5().appendText(gt.part.tooltip):gt.part.tooltip&&(tt=gt.part.tooltip),tt&&ne.emitOne(new Ve.hU(this,Le.range,[tt],!1,1)),gt.part.location||gt.part.command){let Ct;const jt=this._editor.getOption(75)==="altKey"?Se.dz?(0,Ee.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,Ee.NC)("links.navigate.kb.meta","ctrl + click"):Se.dz?(0,Ee.NC)("links.navigate.kb.alt.mac","option + click"):(0,Ee.NC)("links.navigate.kb.alt","alt + click");gt.part.location&&gt.part.command?Ct=new he.W5().appendText((0,Ee.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",jt)):gt.part.location?Ct=new he.W5().appendText((0,Ee.NC)("hint.def","Go to Definition ({0})",jt)):gt.part.command&&(Ct=new he.W5(`[${(0,Ee.NC)("hint.cmd","Execute Command")}](${k(gt.part.command)} "${gt.part.command.title}") (${jt})`,{isTrusted:!0})),Ct&&ne.emitOne(new Ve.hU(this,Le.range,[Ct],!1,1e4))}const st=yield this._resolveInlayHintLabelPartHover(gt,ee);try{for(var It=!0,Wt=$e(st),Vt;Vt=yield Wt.next(),me=Vt.done,!me;It=!0){ot=Vt.value,It=!1;const Ct=ot;ne.emitOne(Ct)}}catch(Ct){ue={error:Ct}}finally{try{!It&&!me&&(Pe=Wt.return)&&(yield Pe.call(Wt))}finally{if(ue)throw ue.error}}})):p.Aq.EMPTY}_resolveInlayHintLabelPartHover(Le,de){return Ne(this,void 0,void 0,function*(){if(!Le.part.location)return p.Aq.EMPTY;const{uri:ee,range:ne}=Le.part.location,me=yield this._resolverService.createModelReference(ee);try{const ue=me.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(ue)?(0,Xe.R8)(this._languageFeaturesService.hoverProvider,ue,new M.L(ne.startLineNumber,ne.startColumn),de).filter(Pe=>!(0,he.CP)(Pe.hover.contents)).map(Pe=>new Ve.hU(this,Le.item.anchor.range,Pe.hover.contents,!1,2+Pe.ordinal)):p.Aq.EMPTY}finally{me.dispose()}})}};ze=we([ve(1,je.O),ve(2,q.v4),ve(3,se.Ui),ve(4,N.S),ve(5,S.p)],ze),(0,f._K)(le.ID,le,1),O.Ae.register(ze)},52429:function(Rt,Be,t){"use strict";t.d(Be,{K:function(){return b},u:function(){return m}});var f=t(34441),O=t(98299),u=t(97464),_=t(38577),p=t(50038),V=t(91223),I=t(55843),L=t(10479),E=t(21208),g=t(80793),a=t(76826),l=t(36953),d=t(44333),i=t(97968),s=function(c,v,C,S){function N(P){return P instanceof C?P:new C(function(M){M(P)})}return new(C||(C=Promise))(function(P,M){function D(U){try{B(S.next(U))}catch(A){M(A)}}function F(U){try{B(S.throw(U))}catch(A){M(A)}}function B(U){U.done?P(U.value):N(U.value).then(D,F)}B((S=S.apply(c,v||[])).next())})};function m(c,v,C,S){var N;return s(this,void 0,void 0,function*(){const P=c.get(V.S),M=c.get(l.i),D=c.get(g.H),F=c.get(d.TG),B=c.get(i.lT);if(yield S.item.resolve(u.T.None),!S.part.location)return;const U=S.part.location,A=[],k=new Set(E.BH.getMenuItems(E.eH.EditorContext).map($=>(0,E.vr)($)?$.command.id:(0,_.R)()));for(const $ of I.SymbolNavigationAction.all())k.has($.desc.id)&&A.push(new O.aU($.desc.id,E.U8.label($.desc,{renderShortTitle:!0}),void 0,!0,()=>s(this,void 0,void 0,function*(){const J=yield P.createModelReference(U.uri);try{const Y=new I.SymbolNavigationAnchor(J.object.textEditorModel,p.e.getStartPosition(U.range)),j=S.item.anchor.range;yield F.invokeFunction($.runEditorCommand.bind($),v,Y,j)}finally{J.dispose()}})));if(S.part.command){const{command:$}=S.part;A.push(new O.Z0),A.push(new O.aU($.id,$.title,void 0,!0,()=>s(this,void 0,void 0,function*(){var J;try{yield D.executeCommand($.id,...(J=$.arguments)!==null&&J!==void 0?J:[])}catch(Y){B.notify({severity:i.zb.Error,source:S.item.provider.displayName,message:Y})}})))}const R=v.getOption(123);M.showContextMenu({domForShadowRoot:R&&(N=v.getDomNode())!==null&&N!==void 0?N:void 0,getAnchor:()=>{const $=f.i(C);return{x:$.left,y:$.top+$.height+8}},getActions:()=>A,onHide:()=>{v.focus()},autoSelectFirstItem:!0})})}function b(c,v,C,S){return s(this,void 0,void 0,function*(){const P=yield c.get(V.S).createModelReference(S.uri);yield C.invokeWithinContext(M=>s(this,void 0,void 0,function*(){const D=v.hasSideBySideModifier,F=M.get(a.i6),B=L.Jy.inPeekEditor.getValue(F),U=!D&&C.getOption(85)&&!B;return new I.DefinitionAction({openToSide:D,openInPeek:U,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(M,new I.SymbolNavigationAnchor(P.object.textEditorModel,p.e.getStartPosition(S.range)),p.e.lift(S.range))})),P.dispose()})}},34042:function(Rt,Be,t){"use strict";t.d(Be,{Np:function(){return O},OW:function(){return u},Ou:function(){return f}});const f="editor.action.inlineSuggest.commit",O="editor.action.inlineSuggest.showPrevious",u="editor.action.inlineSuggest.showNext"},91560:function(Rt,Be,t){"use strict";t.d(Be,{f:function(){return I}});var f=t(99338),O=t(17416),u=t(61669),_=t(76826),p=t(38431),V=t(26386);class I extends p.JT{constructor(E,g){super(),this.contextKeyService=E,this.model=g,this.inlineCompletionVisible=I.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=I.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=I.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=I.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,f.EH)("update context key: inlineCompletionVisible, suppressSuggestions",a=>{const l=this.model.read(a),d=l==null?void 0:l.selectedInlineCompletion.read(a),i=l==null?void 0:l.ghostText.read(a),s=l==null?void 0:l.selectedSuggestItem.read(a);this.inlineCompletionVisible.set(s===void 0&&i!==void 0&&!i.isEmpty()),i&&d&&this.suppressSuggestions.set(d.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,f.EH)("update context key: inlineCompletionSuggestsIndentation, inlineCompletionSuggestsIndentationLessThanTabSize",a=>{const l=this.model.read(a);let d=!1,i=!0;const s=l==null?void 0:l.ghostText.read(a);if(l!=null&&l.selectedSuggestItem&&s&&s.parts.length>0){const{column:m,lines:b}=s.parts[0],c=b[0],v=l.textModel.getLineIndentColumn(s.lineNumber);if(m<=v){let S=(0,O.LC)(c);S===-1&&(S=c.length-1),d=S>0;const N=l.textModel.getOptions().tabSize;i=u.i.visibleColumnFromColumn(c,S+1,N)<N}}this.inlineCompletionSuggestsIndentation.set(d),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}))}}I.inlineSuggestionVisible=new _.uy("inlineSuggestionVisible",!1,(0,V.NC)("inlineSuggestionVisible","Whether an inline suggestion is visible")),I.inlineSuggestionHasIndentation=new _.uy("inlineSuggestionHasIndentation",!1,(0,V.NC)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),I.inlineSuggestionHasIndentationLessThanTabSize=new _.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,V.NC)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),I.suppressSuggestions=new _.uy("inlineSuggestionSuppressSuggestions",void 0,(0,V.NC)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))},63883:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(72223),u=t(99338),_=t(21081),p=t(34042),V=t(91560),I=t(79874),L=t(56709),E=t(38431),g=t(12620),a=t(68076),l=t(8964),d=t(69060),i=t(35921),s=t(58352),m=t(17416),b=t(71344),c=t(70054),v=t(50038),C=t(12342),S=t(47626),N=t(41913),P=t(10403),M=t(69756),D=t(75398),F=t(20996);function B(Me,ge){const Q=new U(Me),ae=ge.map(xe=>{const Ae=v.e.lift(xe.range);return{startOffset:Q.getOffset(Ae.getStartPosition()),endOffset:Q.getOffset(Ae.getEndPosition()),text:xe.text}});ae.sort((xe,Ae)=>Ae.startOffset-xe.startOffset);for(const xe of ae)Me=Me.substring(0,xe.startOffset)+xe.text+Me.substring(xe.endOffset);return Me}class U{constructor(ge){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let Q=0;Q<ge.length;Q++)ge.charAt(Q)===`
`&&this.lineStartOffsetByLineIdx.push(Q+1)}getOffset(ge){return this.lineStartOffsetByLineIdx[ge.lineNumber-1]+ge.column-1}}const A=[];function k(){return A}class R{constructor(ge,Q){if(this.startColumn=ge,this.endColumnExclusive=Q,ge>Q)throw new F.he(`startColumn ${ge} cannot be after endColumnExclusive ${Q}`)}toRange(ge){return new v.e(ge,this.startColumn,ge,this.endColumnExclusive)}}function $(Me,ge){const Q=new E.SL,ae=Me.createDecorationsCollection();return Q.add((0,u.EH)(`Apply decorations from ${ge.debugName}`,xe=>{const Ae=ge.read(xe);ae.set(Ae)})),Q.add({dispose:()=>{ae.clear()}}),Q}function J(Me,ge){return new l.L(Me.lineNumber+ge.lineNumber-1,ge.lineNumber===1?Me.column+ge.column-1:ge.column)}function Y(Me){let ge=1,Q=1;for(const ae of Me)ae===`
`?(ge++,Q=1):Q++;return new l.L(ge,Q)}class j{constructor(ge,Q){this.lineNumber=ge,this.parts=Q}renderForScreenReader(ge){if(this.parts.length===0)return"";const Q=this.parts[this.parts.length-1],ae=ge.substr(0,Q.column-1);return B(ae,this.parts.map(Ae=>({range:{startLineNumber:1,endLineNumber:1,startColumn:Ae.column,endColumn:Ae.column},text:Ae.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(ge=>ge.lines.length===0)}get lineCount(){return 1+this.parts.reduce((ge,Q)=>ge+Q.lines.length-1,0)}}class z{constructor(ge,Q,ae){this.column=ge,this.lines=Q,this.preview=ae}}class K{constructor(ge,Q,ae,xe=0){this.lineNumber=ge,this.columnRange=Q,this.newLines=ae,this.additionalReservedLineCount=xe,this.parts=[new z(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(ge){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(ge=>ge.lines.length===0)}}var Z=function(Me,ge,Q,ae){var xe=arguments.length,Ae=xe<3?ge:ae===null?ae=Object.getOwnPropertyDescriptor(ge,Q):ae,Je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(Me,ge,Q,ae);else for(var vt=Me.length-1;vt>=0;vt--)(Je=Me[vt])&&(Ae=(xe<3?Je(Ae):xe>3?Je(ge,Q,Ae):Je(ge,Q))||Ae);return xe>3&&Ae&&Object.defineProperty(ge,Q,Ae),Ae},fe=function(Me,ge){return function(Q,ae){ge(Q,ae,Me)}};let T=class extends E.JT{constructor(ge,Q,ae){super(),this.editor=ge,this.model=Q,this.languageService=ae,this.isDisposed=(0,u.uh)("isDisposed",!1),this.currentTextModel=(0,u.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,u.nK)("uiState",xe=>{if(this.isDisposed.read(xe))return;const Ae=this.currentTextModel.read(xe);if(Ae!==this.model.targetTextModel.read(xe))return;const Je=this.model.ghostText.read(xe);if(!Je)return;const vt=Je instanceof K?Je.columnRange:void 0,St=[],wt=[];function Lt(hi,yi){if(wt.length>0){const Bi=wt[wt.length-1];yi&&Bi.decorations.push(new M.Kp(Bi.content.length+1,Bi.content.length+1+hi[0].length,yi,0)),Bi.content+=hi[0],hi=hi.slice(1)}for(const Bi of hi)wt.push({content:Bi,decorations:yi?[new M.Kp(1,Bi.length+1,yi,0)]:[]})}const Bt=Ae.getLineContent(Je.lineNumber);let ei,pi=0;for(const hi of Je.parts){let yi=hi.lines;ei===void 0?(St.push({column:hi.column,text:yi[0],preview:hi.preview}),yi=yi.slice(1)):Lt([Bt.substring(pi,hi.column-1)],void 0),yi.length>0&&(Lt(yi,"ghost-text"),ei===void 0&&hi.column<=Bt.length&&(ei=hi.column)),pi=hi.column-1}ei!==void 0&&Lt([Bt.substring(pi)],void 0);const di=ei!==void 0?new R(ei,Bt.length+1):void 0;return{replacedRange:vt,inlineTexts:St,additionalLines:wt,hiddenRange:di,lineNumber:Je.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(xe),targetTextModel:Ae}}),this.decorations=(0,u.nK)("decorations",xe=>{const Ae=this.uiState.read(xe);if(!Ae)return[];const Je=[];Ae.replacedRange&&Je.push({range:Ae.replacedRange.toRange(Ae.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),Ae.hiddenRange&&Je.push({range:Ae.hiddenRange.toRange(Ae.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const vt of Ae.inlineTexts)Je.push({range:v.e.fromPositions(new l.L(Ae.lineNumber,vt.column)),options:{description:"ghost-text",after:{content:vt.text,inlineClassName:vt.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:N.RM.Left},showIfCollapsed:!0}});return Je}),this.additionalLinesWidget=this._register(new Re(this.editor,this.languageService.languageIdCodec,(0,u.nK)("lines",xe=>{const Ae=this.uiState.read(xe);return Ae?{lineNumber:Ae.lineNumber,additionalLines:Ae.additionalLines,minReservedLineCount:Ae.additionalReservedLineCount,targetTextModel:Ae.targetTextModel}:void 0}))),this._register((0,E.OF)(()=>{this.isDisposed.set(!0,void 0)})),this._register($(this.editor,this.decorations))}ownsViewZone(ge){return this.additionalLinesWidget.viewZoneId===ge}};T=Z([fe(2,S.O)],T);class Re extends E.JT{get viewZoneId(){return this._viewZoneId}constructor(ge,Q,ae){super(),this.editor=ge,this.languageIdCodec=Q,this.lines=ae,this._viewZoneId=void 0,this.editorOptionsChanged=(0,u.aq)("editorOptionChanged",L.ju.filter(this.editor.onDidChangeConfiguration,xe=>xe.hasChanged(31)||xe.hasChanged(113)||xe.hasChanged(95)||xe.hasChanged(90)||xe.hasChanged(49)||xe.hasChanged(48)||xe.hasChanged(64))),this._register((0,u.EH)("update view zone",xe=>{const Ae=this.lines.read(xe);this.editorOptionsChanged.read(xe),Ae?this.updateLines(Ae.lineNumber,Ae.additionalLines,Ae.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(ge=>{this._viewZoneId&&(ge.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(ge,Q,ae){const xe=this.editor.getModel();if(!xe)return;const{tabSize:Ae}=xe.getOptions();this.editor.changeViewZones(Je=>{this._viewZoneId&&(Je.removeZone(this._viewZoneId),this._viewZoneId=void 0);const vt=Math.max(Q.length,ae);if(vt>0){const St=document.createElement("div");Ce(St,Ae,Q,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=Je.addZone({afterLineNumber:ge,heightInLines:vt,domNode:St,afterColumnAffinity:1})}})}}function Ce(Me,ge,Q,ae,xe){const Ae=ae.get(31),Je=ae.get(113),vt="none",St=ae.get(90),wt=ae.get(49),Lt=ae.get(48),Bt=ae.get(64),ei=new C.HT(1e4);ei.appendString('<div class="suggest-preview-text">');for(let hi=0,yi=Q.length;hi<yi;hi++){const Bi=Q[hi],ki=Bi.content;ei.appendString('<div class="view-line'),ei.appendString('" style="top:'),ei.appendString(String(hi*Bt)),ei.appendString('px;width:1000000px;">');const Wi=m.$i(ki),Ri=m.Ut(ki),Cn=P.A.createEmpty(ki,xe);(0,D.d1)(new D.IJ(Lt.isMonospace&&!Ae,Lt.canUseHalfwidthRightwardsArrow,ki,!1,Wi,Ri,0,Cn,Bi.decorations,ge,0,Lt.spaceWidth,Lt.middotWidth,Lt.wsmiddotWidth,Je,vt,St,wt!==c.n0.OFF,null),ei),ei.appendString("</div>")}ei.appendString("</div>"),(0,b.N)(Me,Lt);const pi=ei.build(),di=_e?_e.createHTML(pi):pi;Me.innerHTML=di}const _e=(0,s.Z)("editorGhostText",{createHTML:Me=>Me});var pe=t(27492),le=t(16308),oe=t(77506),he=t(14818),je=t(19083),Xe=t(36082),Ve=t(64603),se=t(97464),q=t(4538),Ee=t(49927);class Se{constructor(ge,Q){this.range=ge,this.text=Q}removeCommonPrefix(ge,Q){const ae=Q?this.range.intersectRanges(Q):this.range;if(!ae)return this;const xe=ge.getValueInRange(ae,1),Ae=(0,m.Mh)(xe,this.text),Je=J(this.range.getStartPosition(),Y(xe.substring(0,Ae))),vt=this.text.substring(Ae),St=v.e.fromPositions(Je,this.range.getEndPosition());return new Se(St,vt)}augments(ge){return this.text.startsWith(ge.text)&&we(this.range,ge.range)}computeGhostText(ge,Q,ae,xe=0){let Ae=this.removeCommonPrefix(ge);if(Ae.range.endLineNumber!==Ae.range.startLineNumber)return;const Je=ge.getLineContent(Ae.range.startLineNumber),vt=(0,m.V8)(Je).length;if(Ae.range.startColumn-1<=vt){const di=(0,m.V8)(Ae.text).length,hi=Je.substring(Ae.range.startColumn-1,vt),yi=v.e.fromPositions(Ae.range.getStartPosition().delta(0,hi.length),Ae.range.getEndPosition()),Bi=Ae.text.startsWith(hi)?Ae.text.substring(hi.length):Ae.text.substring(di);Ae=new Se(yi,Bi)}const wt=ge.getValueInRange(Ae.range),Lt=Ne(wt,Ae.text);if(!Lt)return;const Bt=Ae.range.startLineNumber,ei=new Array;if(Q==="prefix"){const di=Lt.filter(hi=>hi.originalLength===0);if(di.length>1||di.length===1&&di[0].originalStart!==wt.length)return}const pi=Ae.text.length-xe;for(const di of Lt){const hi=Ae.range.startColumn+di.originalStart+di.originalLength;if(Q==="subwordSmart"&&ae&&ae.lineNumber===Ae.range.startLineNumber&&hi<ae.column||di.originalLength>0)return;if(di.modifiedLength===0)continue;const yi=di.modifiedStart+di.modifiedLength,Bi=Math.max(di.modifiedStart,Math.min(yi,pi)),ki=Ae.text.substring(di.modifiedStart,Bi),Wi=Ae.text.substring(Bi,Math.max(di.modifiedStart,yi));if(ki.length>0){const Ri=(0,m.uq)(ki);ei.push(new z(hi,Ri,!1))}if(Wi.length>0){const Ri=(0,m.uq)(Wi);ei.push(new z(hi,Ri,!0))}}return new j(Bt,ei)}}function we(Me,ge){return ge.getStartPosition().equals(Me.getStartPosition())&&ge.getEndPosition().isBeforeOrEqual(Me.getEndPosition())}let ve;function Ne(Me,ge){if((ve==null?void 0:ve.originalValue)===Me&&(ve==null?void 0:ve.newValue)===ge)return ve==null?void 0:ve.changes;{let Q=Ke(Me,ge,!0);if(Q){const ae=$e(Q);if(ae>0){const xe=Ke(Me,ge,!1);xe&&$e(xe)<ae&&(Q=xe)}}return ve={originalValue:Me,newValue:ge,changes:Q},Q}}function $e(Me){let ge=0;for(const Q of Me)ge+=Q.originalLength;return ge}function Ke(Me,ge,Q){if(Me.length>5e3||ge.length>5e3)return;function ae(wt){let Lt=0;for(let Bt=0,ei=wt.length;Bt<ei;Bt++){const pi=wt.charCodeAt(Bt);pi>Lt&&(Lt=pi)}return Lt}const xe=Math.max(ae(Me),ae(ge));function Ae(wt){if(wt<0)throw new Error("unexpected");return xe+wt+1}function Je(wt){let Lt=0,Bt=0;const ei=new Int32Array(wt.length);for(let pi=0,di=wt.length;pi<di;pi++)if(Q&&wt[pi]==="("){const hi=Bt*100+Lt;ei[pi]=Ae(2*hi),Lt++}else if(Q&&wt[pi]===")"){Lt=Math.max(Lt-1,0);const hi=Bt*100+Lt;ei[pi]=Ae(2*hi+1),Lt===0&&Bt++}else ei[pi]=wt.charCodeAt(pi);return ei}const vt=Je(Me),St=Je(ge);return new Ee.Hs({getElements:()=>vt},{getElements:()=>St}).ComputeDiff(!1).changes}var ze=t(14527),He=t(47978),Le=t(24944),de=t(77597),ee=t(39623),ne=t(7264);function me(Me,ge){const Q=new ee.FE,ae=new He.Z(Q,wt=>ge.getLanguageConfiguration(wt)),xe=new ne.xH(new ue([Me]),ae),Ae=(0,de.w)(xe,[],void 0,!0);let Je="";const vt=Me.getLineContent();function St(wt,Lt){if(wt.kind===2)if(St(wt.openingBracket,Lt),Lt=(0,Le.Ii)(Lt,wt.openingBracket.length),wt.child&&(St(wt.child,Lt),Lt=(0,Le.Ii)(Lt,wt.child.length)),wt.closingBracket)St(wt.closingBracket,Lt),Lt=(0,Le.Ii)(Lt,wt.closingBracket.length);else{const ei=ae.getSingleLanguageBracketTokens(wt.openingBracket.languageId).findClosingTokenText(wt.openingBracket.bracketIds);Je+=ei}else if(wt.kind!==3){if(wt.kind===0||wt.kind===1)Je+=vt.substring((0,Le.F_)(Lt),(0,Le.F_)((0,Le.Ii)(Lt,wt.length)));else if(wt.kind===4)for(const Bt of wt.children)St(Bt,Lt),Lt=(0,Le.Ii)(Lt,Bt.length)}}return St(Ae,Le.xl),Je}class ue{constructor(ge){this.lines=ge,this.tokenization={getLineTokens:Q=>this.lines[Q-1]}}getLineCount(){return this.lines.length}getLineLength(ge){return this.lines[ge-1].getLineContent().length}}var Pe=t(35366),ot=function(Me,ge,Q,ae){function xe(Ae){return Ae instanceof Q?Ae:new Q(function(Je){Je(Ae)})}return new(Q||(Q=Promise))(function(Ae,Je){function vt(Lt){try{wt(ae.next(Lt))}catch(Bt){Je(Bt)}}function St(Lt){try{wt(ae.throw(Lt))}catch(Bt){Je(Bt)}}function wt(Lt){Lt.done?Ae(Lt.value):xe(Lt.value).then(vt,St)}wt((ae=ae.apply(Me,ge||[])).next())})};function gt(Me,ge,Q,ae,xe=se.T.None,Ae){return ot(this,void 0,void 0,function*(){const Je=It(ge,Q),vt=Me.all(Q),St=yield Promise.all(vt.map(Bt=>ot(this,void 0,void 0,function*(){try{const ei=yield Bt.provideInlineCompletions(Q,ge,ae,xe);return{provider:Bt,completions:ei}}catch(ei){(0,F.Cp)(ei)}return{provider:Bt,completions:void 0}}))),wt=new Map,Lt=[];for(const Bt of St){const ei=Bt.completions;if(!ei)continue;const pi=new tt(ei,Bt.provider);Lt.push(pi);for(const di of ei.items){const hi=st.from(di,pi,Je,Q,Ae);wt.set(hi.hash(),hi)}}return new nt(Array.from(wt.values()),new Set(wt.keys()),Lt)})}class nt{constructor(ge,Q,ae){this.completions=ge,this.hashs=Q,this.providerResults=ae}has(ge){return this.hashs.has(ge.hash())}dispose(){for(const ge of this.providerResults)ge.removeRef()}}class tt{constructor(ge,Q){this.inlineCompletions=ge,this.provider=Q,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class st{static from(ge,Q,ae,xe,Ae){let Je,vt,St=ge.range?v.e.lift(ge.range):ae;if(typeof ge.insertText=="string"){if(Je=ge.insertText,Ae&&ge.completeBracketPairs){Je=Wt(Je,St.getStartPosition(),xe,Ae);const wt=Je.length-ge.insertText.length;wt!==0&&(St=new v.e(St.startLineNumber,St.startColumn,St.endLineNumber,St.endColumn+wt))}vt=void 0}else if("snippet"in ge.insertText){const wt=ge.insertText.snippet.length;if(Ae&&ge.completeBracketPairs){ge.insertText.snippet=Wt(ge.insertText.snippet,St.getStartPosition(),xe,Ae);const Bt=ge.insertText.snippet.length-wt;Bt!==0&&(St=new v.e(St.startLineNumber,St.startColumn,St.endLineNumber,St.endColumn+Bt))}const Lt=new Pe.Yj().parse(ge.insertText.snippet);Lt.children.length===1&&Lt.children[0]instanceof Pe.xv?(Je=Lt.children[0].value,vt=void 0):(Je=Lt.toString(),vt={snippet:ge.insertText.snippet,range:St})}else(0,ze.vE)(ge.insertText);return new st(Je,ge.command,St,Je,vt,ge.additionalTextEdits||k(),ge,Q)}constructor(ge,Q,ae,xe,Ae,Je,vt,St){this.filterText=ge,this.command=Q,this.range=ae,this.insertText=xe,this.snippetInfo=Ae,this.additionalTextEdits=Je,this.sourceInlineCompletion=vt,this.source=St,ge=ge.replace(/\r\n|\r/g,`
`),xe=ge.replace(/\r\n|\r/g,`
`)}withRange(ge){return new st(this.filterText,this.command,ge,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function It(Me,ge){const Q=ge.getWordAtPosition(Me),ae=ge.getLineMaxColumn(Me.lineNumber);return Q?new v.e(Me.lineNumber,Q.startColumn,Me.lineNumber,ae):v.e.fromPositions(Me,Me.with(void 0,ae))}function Wt(Me,ge,Q,ae){const Ae=Q.getLineContent(ge.lineNumber).substring(0,ge.column-1)+Me,Je=Q.tokenization.tokenizeLineWithEdit(ge,Ae.length-(ge.column-1),Me),vt=Je==null?void 0:Je.sliceAndInflate(ge.column-1,Ae.length,0);return vt?me(vt,ae):Me}var Vt=function(Me,ge,Q,ae){var xe=arguments.length,Ae=xe<3?ge:ae===null?ae=Object.getOwnPropertyDescriptor(ge,Q):ae,Je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(Me,ge,Q,ae);else for(var vt=Me.length-1;vt>=0;vt--)(Je=Me[vt])&&(Ae=(xe<3?Je(Ae):xe>3?Je(ge,Q,Ae):Je(ge,Q))||Ae);return xe>3&&Ae&&Object.defineProperty(ge,Q,Ae),Ae},Ct=function(Me,ge){return function(Q,ae){ge(Q,ae,Me)}},gi=function(Me,ge,Q,ae){function xe(Ae){return Ae instanceof Q?Ae:new Q(function(Je){Je(Ae)})}return new(Q||(Q=Promise))(function(Ae,Je){function vt(Lt){try{wt(ae.next(Lt))}catch(Bt){Je(Bt)}}function St(Lt){try{wt(ae.throw(Lt))}catch(Bt){Je(Bt)}}function wt(Lt){Lt.done?Ae(Lt.value):xe(Lt.value).then(vt,St)}wt((ae=ae.apply(Me,ge||[])).next())})};let jt=class extends E.JT{constructor(ge,Q,ae,xe,Ae){super(),this.textModel=ge,this.versionId=Q,this._debounceValue=ae,this.languageFeaturesService=xe,this.languageConfigurationService=Ae,this._updateOperation=this._register(new E.XK),this.inlineCompletions=(0,g.DN)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,g.DN)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(ge,Q,ae){var xe,Ae;const Je=new ut(ge,Q,this.textModel.getVersionId()),vt=Q.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((xe=this._updateOperation.value)===null||xe===void 0)&&xe.request.satisfies(Je))return this._updateOperation.value.promise;if(!((Ae=vt.get())===null||Ae===void 0)&&Ae.request.satisfies(Je))return Promise.resolve(!0);const St=!!this._updateOperation.value;this._updateOperation.clear();const wt=new se.A,Lt=(()=>gi(this,void 0,void 0,function*(){if((St||Q.triggerKind===Xe.bw.Automatic)&&(yield Ye(this._debounceValue.get(this.textModel))),wt.token.isCancellationRequested||this.textModel.getVersionId()!==Je.versionId)return!1;const pi=new Date,di=yield gt(this.languageFeaturesService.inlineCompletionsProvider,ge,this.textModel,Q,wt.token,this.languageConfigurationService);if(wt.token.isCancellationRequested||this.textModel.getVersionId()!==Je.versionId)return!1;const hi=new Date;this._debounceValue.update(this.textModel,hi.getTime()-pi.getTime());const yi=new Mt(di,Je,this.textModel,this.versionId);if(ae){const Bi=ae.toInlineCompletion(void 0);ae.canBeReused(this.textModel,ge)&&!di.has(Bi)&&yi.prepend(ae.inlineCompletion,Bi.range,!0)}return this._updateOperation.clear(),(0,g.PS)(Bi=>{vt.set(yi,Bi)}),!0}))(),Bt=new bt(Je,wt,Lt);return this._updateOperation.value=Bt,Lt}clear(ge){this._updateOperation.clear(),this.inlineCompletions.set(void 0,ge),this.suggestWidgetInlineCompletions.set(void 0,ge)}clearSuggestWidgetInlineCompletions(ge){var Q;!((Q=this._updateOperation.value)===null||Q===void 0)&&Q.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,ge)}cancelUpdate(){this._updateOperation.clear()}};jt=Vt([Ct(3,i.p),Ct(4,Ve.c_)],jt);function Ye(Me,ge){return new Promise(Q=>{let ae;const xe=setTimeout(()=>{ae&&ae.dispose(),Q()},Me);ge&&(ae=ge.onCancellationRequested(()=>{clearTimeout(xe),ae&&ae.dispose(),Q()}))})}class ut{constructor(ge,Q,ae){this.position=ge,this.context=Q,this.versionId=ae}satisfies(ge){return this.position.equals(ge.position)&&dt(this.context.selectedSuggestionInfo,ge.context.selectedSuggestionInfo,(Q,ae)=>Q.equals(ae))&&(ge.context.triggerKind===Xe.bw.Automatic||this.context.triggerKind===Xe.bw.Explicit)&&this.versionId===ge.versionId}}function dt(Me,ge,Q){return!Me||!ge?Me===ge:Q(Me,ge)}class bt{constructor(ge,Q,ae){this.request=ge,this.cancellationTokenSource=Q,this.promise=ae}dispose(){this.cancellationTokenSource.cancel()}}class Mt{get inlineCompletions(){return this._inlineCompletions}constructor(ge,Q,ae,xe){this.inlineCompletionProviderResult=ge,this.request=Q,this.textModel=ae,this.versionId=xe,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,u.nK)("ranges",Je=>{this.versionId.read(Je);let vt=!1;for(const St of this._inlineCompletions)vt=vt||St._updateRange(this.textModel);return vt&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const Ae=ae.deltaDecorations([],ge.completions.map(Je=>({range:Je.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=ge.completions.map((Je,vt)=>new ni(Je,Ae[vt],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){this.textModel.deltaDecorations(this._inlineCompletions.map(ge=>ge.decorationId),[]),this.inlineCompletionProviderResult.dispose();for(const ge of this._prependedInlineCompletionItems)ge.source.removeRef()}}prepend(ge,Q,ae){ae&&ge.source.addRef();const xe=this.textModel.deltaDecorations([],[{range:Q,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new ni(ge,xe,this._rangeVersionId,Q)),this._prependedInlineCompletionItems.push(ge)}}class ni{get forwardStable(){var ge;return(ge=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&ge!==void 0?ge:!1}constructor(ge,Q,ae,xe){this.inlineCompletion=ge,this.decorationId=Q,this.rangeVersion=ae,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=xe!=null?xe:ge.range}toInlineCompletion(ge){return this.inlineCompletion.withRange(this._getUpdatedRange(ge))}toSingleTextEdit(ge){return new Se(this._getUpdatedRange(ge),this.inlineCompletion.insertText)}isVisible(ge,Q,ae){const xe=this._toFilterTextReplacement(ae).removeCommonPrefix(ge);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(ae).getStartPosition())||Q.lineNumber!==xe.range.startLineNumber)return!1;const Ae=ge.getValueInRange(xe.range,1).toLowerCase(),Je=xe.text.toLowerCase(),vt=Math.max(0,Q.column-xe.range.startColumn);let St=Je.substring(0,vt),wt=Je.substring(vt),Lt=Ae.substring(0,vt),Bt=Ae.substring(vt);const ei=ge.getLineIndentColumn(xe.range.startLineNumber);return xe.range.startColumn<=ei&&(Lt=Lt.trimStart(),Lt.length===0&&(Bt=Bt.trimStart()),St=St.trimStart(),St.length===0&&(wt=wt.trimStart())),St.startsWith(Lt)&&!!(0,q.Sy)(Bt,wt)}canBeReused(ge,Q){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(Q)&&this.isVisible(ge,Q,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(ge){return new Se(this._getUpdatedRange(ge),this.inlineCompletion.filterText)}_isSmallerThanOriginal(ge){return qt(this._getUpdatedRange(ge)).isBefore(qt(this.inlineCompletion.range))}_getUpdatedRange(ge){return this.rangeVersion.read(ge),this._updatedRange}_updateRange(ge){const Q=ge.getDecorationRange(this.decorationId);return Q?this._updatedRange.equalsRange(Q)?!1:(this._updatedRange=Q,!0):(this._isValid=!1,!0)}}function qt(Me){return Me.startLineNumber===Me.endLineNumber?new l.L(1,1+Me.endColumn-Me.startColumn):new l.L(1+Me.endLineNumber-Me.startLineNumber,Me.endColumn)}var yt=t(31046),At=t(80793),Qt=t(44333),si=function(Me,ge,Q,ae){var xe=arguments.length,Ae=xe<3?ge:ae===null?ae=Object.getOwnPropertyDescriptor(ge,Q):ae,Je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(Me,ge,Q,ae);else for(var vt=Me.length-1;vt>=0;vt--)(Je=Me[vt])&&(Ae=(xe<3?Je(Ae):xe>3?Je(ge,Q,Ae):Je(ge,Q))||Ae);return xe>3&&Ae&&Object.defineProperty(ge,Q,Ae),Ae},oi=function(Me,ge){return function(Q,ae){ge(Q,ae,Me)}},mi=function(Me,ge,Q,ae){function xe(Ae){return Ae instanceof Q?Ae:new Q(function(Je){Je(Ae)})}return new(Q||(Q=Promise))(function(Ae,Je){function vt(Lt){try{wt(ae.next(Lt))}catch(Bt){Je(Bt)}}function St(Lt){try{wt(ae.throw(Lt))}catch(Bt){Je(Bt)}}function wt(Lt){Lt.done?Ae(Lt.value):xe(Lt.value).then(vt,St)}wt((ae=ae.apply(Me,ge||[])).next())})},bi;(function(Me){Me[Me.Undo=0]="Undo",Me[Me.Redo=1]="Redo",Me[Me.AcceptWord=2]="AcceptWord",Me[Me.Other=3]="Other"})(bi||(bi={}));let Ai=class extends E.JT{get isAcceptingPartially(){return this._isAcceptingPartially}get isNavigatingCurrentInlineCompletion(){return this._isNavigatingCurrentInlineCompletion}constructor(ge,Q,ae,xe,Ae,Je,vt,St,wt,Lt,Bt,ei){super(),this.textModel=ge,this.selectedSuggestItem=Q,this.cursorPosition=ae,this.textModelVersionId=xe,this._debounceValue=Ae,this._suggestPreviewEnabled=Je,this._suggestPreviewMode=vt,this._inlineSuggestMode=St,this._enabled=wt,this._instantiationService=Lt,this._commandService=Bt,this._languageConfigurationService=ei,this._source=this._register(this._instantiationService.createInstance(jt,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,u.uh)("isActive",!1),this._forceUpdate=(0,u.GN)("forceUpdate"),this._selectedInlineCompletionId=(0,u.uh)("selectedInlineCompletionId",void 0),this._isAcceptingPartially=!1,this._isNavigatingCurrentInlineCompletion=!1,this._preserveCurrentCompletionReasons=new Set([bi.Redo,bi.Undo,bi.AcceptWord]),this._fetchInlineCompletions=(0,oe.aK)("fetch inline completions",{createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:Xe.bw.Automatic}),handleChange:(di,hi)=>(di.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(di.change)?hi.preserveCurrentCompletion=!0:di.didChange(this._forceUpdate)&&(hi.inlineCompletionTriggerKind=di.change),!0)},(di,hi)=>{if(this._forceUpdate.read(di),!(this._enabled.read(di)&&this.selectedSuggestItem.read(di)||this._isActive.read(di))){this._source.cancelUpdate();return}this.textModelVersionId.read(di);const Bi=this.selectedInlineCompletion.get(),ki=hi.preserveCurrentCompletion||Bi!=null&&Bi.forwardStable?Bi:void 0,Wi=this._source.suggestWidgetInlineCompletions.get(),Ri=this.selectedSuggestItem.read(di);if(Wi&&!Ri){const Hn=this._source.inlineCompletions.get();(0,u.PS)(Ss=>{Hn&&Wi.request.versionId>Hn.request.versionId&&this._source.inlineCompletions.set(Wi.clone(),Ss),this._source.clearSuggestWidgetInlineCompletions(Ss)})}const Cn=this.cursorPosition.read(di),ts={triggerKind:hi.inlineCompletionTriggerKind,selectedSuggestionInfo:Ri==null?void 0:Ri.toSelectedSuggestionInfo()};return this._source.fetch(Cn,ts,ki)}),this._filteredInlineCompletionItems=(0,u.nK)("filteredInlineCompletionItems",di=>{const hi=this._source.inlineCompletions.read(di);if(!hi)return[];const yi=this.cursorPosition.read(di);return hi.inlineCompletions.filter(ki=>ki.isVisible(this.textModel,yi,di))}),this.selectedInlineCompletionIndex=(0,u.nK)("selectedCachedCompletionIndex",di=>{const hi=this._selectedInlineCompletionId.read(di),yi=this._filteredInlineCompletionItems.read(di),Bi=this._selectedInlineCompletionId===void 0?-1:yi.findIndex(ki=>ki.semanticId===hi);return Bi===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):Bi}),this.selectedInlineCompletion=(0,u.nK)("selectedCachedCompletion",di=>{const hi=this._filteredInlineCompletionItems.read(di),yi=this.selectedInlineCompletionIndex.read(di);return hi[yi]}),this.lastTriggerKind=this._source.inlineCompletions.map(di=>di==null?void 0:di.request.context.triggerKind),this.inlineCompletionsCount=(0,u.nK)("selectedInlineCompletionsCount",di=>{if(this.lastTriggerKind.read(di)===Xe.bw.Explicit)return this._filteredInlineCompletionItems.read(di).length}),this.state=(0,u.nK)("ghostTextAndCompletion",di=>{var hi;const yi=this.textModel,Bi=this.selectedSuggestItem.read(di);if(Bi){const ki=this._source.suggestWidgetInlineCompletions.read(di),Wi=ki?ki.inlineCompletions:[this.selectedInlineCompletion.read(di)].filter(he.$K),Ri=Bi.toSingleTextEdit().removeCommonPrefix(yi),Cn=(0,le.bX)(Wi,jn=>{let ns=jn.toSingleTextEdit(di);return ns=ns.removeCommonPrefix(yi,v.e.fromPositions(ns.range.getStartPosition(),Bi.range.getEndPosition())),ns.augments(Ri)?{edit:ns,completion:jn}:void 0});if(!this._suggestPreviewEnabled.read(di)&&!Cn)return;const Hn=(hi=Cn==null?void 0:Cn.edit)!==null&&hi!==void 0?hi:Ri,Ss=Cn?Cn.edit.text.length-Ri.text.length:0,mn=this._suggestPreviewMode.read(di),wi=this.cursorPosition.read(di),Fi=Hn.computeGhostText(yi,mn,wi,Ss);return{ghostText:Fi!=null?Fi:new j(Hn.range.endLineNumber,[]),completion:Cn==null?void 0:Cn.completion,suggestItem:Bi}}else{if(!this._isActive.read(di))return;const ki=this.selectedInlineCompletion.read(di);if(!ki)return;const Wi=ki.toSingleTextEdit(di),Ri=this._inlineSuggestMode.read(di),Cn=this.cursorPosition.read(di),ts=Wi.computeGhostText(yi,Ri,Cn);return ts?{ghostText:ts,completion:ki,suggestItem:void 0}:void 0}}),this.ghostText=(0,u.nK)("ghostText",di=>{const hi=this.state.read(di);if(hi)return hi.ghostText}),this._register((0,u.$g)(this._fetchInlineCompletions,!0));let pi;this._register((0,u.EH)("call handleItemDidShow",di=>{var hi,yi;const Bi=this.state.read(di),ki=Bi==null?void 0:Bi.completion;if((ki==null?void 0:ki.semanticId)!==(pi==null?void 0:pi.semanticId)&&(pi=ki,ki)){const Wi=ki.inlineCompletion,Ri=Wi.source;(yi=(hi=Ri.provider).handleItemDidShow)===null||yi===void 0||yi.call(hi,Ri.inlineCompletions,Wi.sourceInlineCompletion,Wi.insertText)}}))}trigger(ge){return mi(this,void 0,void 0,function*(){this._isActive.set(!0,ge),yield this._fetchInlineCompletions.get()})}triggerExplicitly(ge){return mi(this,void 0,void 0,function*(){(0,g.c8)(ge,Q=>{this._isActive.set(!0,Q),this._forceUpdate.trigger(Q,Xe.bw.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(ge){(0,g.c8)(ge,Q=>{this._isActive.set(!1,Q),this._source.clear(Q)})}_deltaSelectedInlineCompletionIndex(ge){return mi(this,void 0,void 0,function*(){yield this.triggerExplicitly(),this._isNavigatingCurrentInlineCompletion=!0;try{const Q=this._filteredInlineCompletionItems.get()||[];if(Q.length>0){const ae=(this.selectedInlineCompletionIndex.get()+ge+Q.length)%Q.length;this._selectedInlineCompletionId.set(Q[ae].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}finally{this._isNavigatingCurrentInlineCompletion=!1}})}next(){return mi(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return mi(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(ge){var Q,ae;return mi(this,void 0,void 0,function*(){if(ge.getModel()!==this.textModel)throw new F.he;const xe=this.ghostText.get(),Ae=(Q=this.selectedInlineCompletion.get())===null||Q===void 0?void 0:Q.toInlineCompletion(void 0);!xe||!Ae||(ge.pushUndoStop(),Ae.snippetInfo?(ge.executeEdits("inlineSuggestion.accept",[je.h.replaceMove(Ae.range,""),...Ae.additionalTextEdits]),ge.setPosition(Ae.snippetInfo.range.getStartPosition()),(ae=yt.SnippetController2.get(ge))===null||ae===void 0||ae.insert(Ae.snippetInfo.snippet,{undoStopBefore:!1})):ge.executeEdits("inlineSuggestion.accept",[je.h.replaceMove(Ae.range,Ae.insertText),...Ae.additionalTextEdits]),Ae.command&&(yield this._commandService.executeCommand(Ae.command.id,...Ae.command.arguments||[]).then(void 0,F.Cp)),(0,u.PS)(Je=>{this._source.clear(Je),this._isActive.set(!1,Je)}))})}acceptNextWord(ge){this._acceptNext(ge,(Q,ae)=>{const xe=this.textModel.getLanguageIdAtPosition(Q.lineNumber,Q.column),Ae=this._languageConfigurationService.getLanguageConfiguration(xe),Je=new RegExp(Ae.wordDefinition.source,Ae.wordDefinition.flags.replace("g","")),vt=ae.match(Je);let St=0;vt&&vt.index!==void 0?vt.index===0?St=vt[0].length:St=vt.index:St=ae.length;const Lt=/\s+/g.exec(ae);return Lt&&Lt.index!==void 0&&Lt.index+Lt[0].length<St&&(St=Lt.index+Lt[0].length),St})}acceptNextLine(ge){this._acceptNext(ge,(Q,ae)=>{const xe=ae.match(/\n/);return xe&&xe.index!==void 0?xe.index+1:ae.length})}_acceptNext(ge,Q){var ae;if(ge.getModel()!==this.textModel)throw new F.he;const xe=this.ghostText.get(),Ae=(ae=this.selectedInlineCompletion.get())===null||ae===void 0?void 0:ae.toInlineCompletion(void 0);if(!xe||!Ae)return;if(Ae.snippetInfo||Ae.filterText!==Ae.insertText){this.accept(ge);return}if(xe.parts.length===0)return;const Je=xe.parts[0],vt=new l.L(xe.lineNumber,Je.column),St=Je.lines.join(`
`),wt=Q(vt,St);if(wt===St.length&&xe.parts.length===1){this.accept(ge);return}const Lt=St.substring(0,wt);this._isAcceptingPartially=!0;try{ge.pushUndoStop(),ge.executeEdits("inlineSuggestion.accept",[je.h.replace(v.e.fromPositions(vt),Lt)]);const Bt=Y(Lt);ge.setPosition(J(vt,Bt))}finally{this._isAcceptingPartially=!1}if(Ae.source.provider.handlePartialAccept){const Bt=v.e.fromPositions(Ae.range.getStartPosition(),J(vt,Y(Lt))),ei=ge.getModel().getValueInRange(Bt,1);Ae.source.provider.handlePartialAccept(Ae.source.inlineCompletions,Ae.sourceInlineCompletion,ei.length)}}};Ai=si([oi(9,Qt.TG),oi(10,At.H),oi(11,Ve.c_)],Ai);var $i=t(51116),Vi=t(22270);class Qi extends E.JT{get selectedItem(){return this._selectedItem}constructor(ge,Q,ae){super(),this.editor=ge,this.suggestControllerPreselector=Q,this.checkModelVersion=ae,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,u.uh)("suggestWidgetInlineCompletionProvider.selectedItem",void 0),this._register(ge.onKeyDown(Ae=>{Ae.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(ge.onKeyUp(Ae=>{Ae.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const xe=Vi.SuggestController.get(this.editor);if(xe){this._register(xe.registerSelector({priority:100,select:(vt,St,wt)=>{var Lt;(0,u.PS)(yi=>this.checkModelVersion(yi));const Bt=this.editor.getModel();if(!Bt)return-1;const ei=(Lt=this.suggestControllerPreselector())===null||Lt===void 0?void 0:Lt.removeCommonPrefix(Bt);if(!ei)return-1;const pi=l.L.lift(St),di=wt.map((yi,Bi)=>{const Wi=fn.fromSuggestion(xe,Bt,pi,yi,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(Bt),Ri=ei.augments(Wi);return{index:Bi,valid:Ri,prefixLength:Wi.text.length,suggestItem:yi}}).filter(yi=>yi&&yi.valid&&yi.prefixLength>0),hi=(0,le.Dc)(di,(0,le.tT)(yi=>yi.prefixLength,le.fv));return hi?hi.index:-1}}));let Ae=!1;const Je=()=>{Ae||(Ae=!0,this._register(xe.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(xe.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(xe.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(L.ju.once(xe.model.onDidTrigger)(vt=>{Je()}))}this.update(this._isActive)}update(ge){const Q=this.getSuggestItemInfo();(this._isActive!==ge||!Yi(this._currentSuggestItemInfo,Q))&&(this._isActive=ge,this._currentSuggestItemInfo=Q,(0,u.PS)(ae=>{this.checkModelVersion(ae),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,ae)}))}getSuggestItemInfo(){const ge=Vi.SuggestController.get(this.editor);if(!ge||!this.isSuggestWidgetVisible)return;const Q=ge.widget.value.getFocusedItem(),ae=this.editor.getPosition(),xe=this.editor.getModel();if(!(!Q||!ae||!xe))return fn.fromSuggestion(ge,xe,ae,Q.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const ge=Vi.SuggestController.get(this.editor);ge==null||ge.stopForceRenderingAbove()}forceRenderingAbove(){const ge=Vi.SuggestController.get(this.editor);ge==null||ge.forceRenderingAbove()}}class fn{static fromSuggestion(ge,Q,ae,xe,Ae){let{insertText:Je}=xe.completion,vt=!1;if(xe.completion.insertTextRules&4){const wt=new Pe.Yj().parse(Je);wt.children.length<100&&$i.l.adjustWhitespace(Q,ae,!0,wt),Je=wt.toString(),vt=!0}const St=ge.getOverwriteInfo(xe,Ae);return new fn(v.e.fromPositions(ae.delta(0,-St.overwriteBefore),ae.delta(0,Math.max(St.overwriteAfter,0))),Je,xe.completion.kind,vt)}constructor(ge,Q,ae,xe){this.range=ge,this.insertText=Q,this.completionItemKind=ae,this.isSnippetText=xe}equals(ge){return this.range.equalsRange(ge.range)&&this.insertText===ge.insertText&&this.completionItemKind===ge.completionItemKind&&this.isSnippetText===ge.isSnippetText}toSelectedSuggestionInfo(){return new Xe.ln(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new Se(this.range,this.insertText)}}function Yi(Me,ge){return Me===ge?!0:!Me||!ge?!1:Me.equals(ge)}var Pi=t(87655),Li=t(71177),gn=t(76826),on=function(Me,ge,Q,ae){var xe=arguments.length,Ae=xe<3?ge:ae===null?ae=Object.getOwnPropertyDescriptor(ge,Q):ae,Je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(Me,ge,Q,ae);else for(var vt=Me.length-1;vt>=0;vt--)(Je=Me[vt])&&(Ae=(xe<3?Je(Ae):xe>3?Je(ge,Q,Ae):Je(ge,Q))||Ae);return xe>3&&Ae&&Object.defineProperty(ge,Q,Ae),Ae},Nn=function(Me,ge){return function(Q,ae){ge(Q,ae,Me)}};let ln=class ad extends E.JT{static get(ge){return ge.getContribution(ad.ID)}constructor(ge,Q,ae,xe,Ae,Je,vt,St){super(),this.editor=ge,this.instantiationService=Q,this.contextKeyService=ae,this.configurationService=xe,this.commandService=Ae,this.debounceService=Je,this.languageFeaturesService=vt,this.audioCueService=St,this.model=(0,g.DN)("inlineCompletionModel",void 0),this.textModelVersionId=(0,u.uh)("textModelVersionId",-1),this.cursorPosition=(0,u.uh)("cursorPosition",new l.L(1,1)),this.suggestWidgetAdaptor=this._register(new Qi(this.editor,()=>{var Bt,ei;return(ei=(Bt=this.model.get())===null||Bt===void 0?void 0:Bt.selectedInlineCompletion.get())===null||ei===void 0?void 0:ei.toSingleTextEdit(void 0)},Bt=>this.updateObservables(Bt,bi.Other))),this._enabled=(0,u.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(60).enabled),this.ghostTextWidget=this._register(this.instantiationService.createInstance(T,this.editor,{ghostText:this.model.map((Bt,ei)=>Bt==null?void 0:Bt.ghostText.read(ei)),minReservedLineCount:(0,u.Dz)(0),targetTextModel:this.model.map(Bt=>Bt==null?void 0:Bt.textModel)})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new V.f(this.contextKeyService,this.model)),this._register(L.ju.runAndSubscribe(ge.onDidChangeModel,()=>(0,g.PS)(Bt=>{this.model.set(void 0,Bt),this.updateObservables(Bt,bi.Other);const ei=ge.getModel();if(ei){const pi=Q.createInstance(Ai,ei,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,(0,u.rD)(ge.onDidChangeConfiguration,()=>ge.getOption(114).preview),(0,u.rD)(ge.onDidChangeConfiguration,()=>ge.getOption(114).previewMode),(0,u.rD)(ge.onDidChangeConfiguration,()=>ge.getOption(60).mode),this._enabled);this.model.set(pi,Bt)}})));const wt=Bt=>{var ei;return Bt.isUndoing?bi.Undo:Bt.isRedoing?bi.Redo:!((ei=this.model.get())===null||ei===void 0)&&ei.isAcceptingPartially?bi.AcceptWord:bi.Other};this._register(ge.onDidChangeModelContent(Bt=>(0,g.PS)(ei=>this.updateObservables(ei,wt(Bt))))),this._register(ge.onDidChangeCursorPosition(Bt=>(0,g.PS)(ei=>{var pi;this.updateObservables(ei,bi.Other),Bt.reason===3&&((pi=this.model.get())===null||pi===void 0||pi.stop(ei))}))),this._register(ge.onDidType(()=>(0,g.PS)(Bt=>{var ei;this.updateObservables(Bt,bi.Other),this._enabled.get()&&((ei=this.model.get())===null||ei===void 0||ei.trigger(Bt))}))),this._register(this.commandService.onDidExecuteCommand(Bt=>{new Set([a.CoreEditingCommands.Tab.id,a.CoreEditingCommands.DeleteLeft.id,a.CoreEditingCommands.DeleteRight.id,p.Ou,"acceptSelectedSuggestion"]).has(Bt.commandId)&&ge.hasTextFocus()&&this._enabled.get()&&(0,g.PS)(pi=>{var di;(di=this.model.get())===null||di===void 0||di.trigger(pi)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||ge.getOption(60).keepOnBlur||pe.QG.dropDownVisible||(0,g.PS)(Bt=>{var ei;(ei=this.model.get())===null||ei===void 0||ei.stop(Bt)})})),this._register((0,u.EH)("forceRenderingAbove",Bt=>{var ei;const pi=(ei=this.model.read(Bt))===null||ei===void 0?void 0:ei.state.read(Bt);pi!=null&&pi.suggestItem?pi.ghostText.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,E.OF)(()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()}));let Lt;this._register((0,u.EH)("play audio cue & read suggestion",Bt=>{const ei=this.model.read(Bt),pi=ei==null?void 0:ei.state.read(Bt);if(!ei||!pi||!pi.completion){Lt=void 0;return}if(pi.completion.semanticId!==Lt){if(Lt=pi.completion.semanticId,ei.isNavigatingCurrentInlineCompletion)return;this.audioCueService.playAudioCue(Pi.y$.inlineSuggestion).then(()=>{if(this.editor.getOption(6)){const di=ei.textModel.getLineContent(pi.ghostText.lineNumber);(0,I.Z9)(pi.ghostText.renderForScreenReader(di))}})}})),this._register(new pe.oU(this.editor,this.model,this.instantiationService))}updateObservables(ge,Q){var ae,xe;const Ae=this.editor.getModel();this.textModelVersionId.set((ae=Ae==null?void 0:Ae.getVersionId())!==null&&ae!==void 0?ae:-1,ge,Q),this.cursorPosition.set((xe=this.editor.getPosition())!==null&&xe!==void 0?xe:new l.L(1,1),ge)}shouldShowHoverAt(ge){var Q;const ae=(Q=this.model.get())===null||Q===void 0?void 0:Q.ghostText.get();return ae?ae.parts.some(xe=>ge.containsPosition(new l.L(ae.lineNumber,xe.column))):!1}shouldShowHoverAtViewZone(ge){return this.ghostTextWidget.ownsViewZone(ge)}};ln.ID="editor.contrib.inlineCompletionsController",ln=on([Nn(1,Qt.TG),Nn(2,gn.i6),Nn(3,Li.Ui),Nn(4,At.H),Nn(5,d.A),Nn(6,i.p),Nn(7,Pi.e7)],ln);var Yt=t(26386),ti=t(21208),fi=function(Me,ge,Q,ae){function xe(Ae){return Ae instanceof Q?Ae:new Q(function(Je){Je(Ae)})}return new(Q||(Q=Promise))(function(Ae,Je){function vt(Lt){try{wt(ae.next(Lt))}catch(Bt){Je(Bt)}}function St(Lt){try{wt(ae.throw(Lt))}catch(Bt){Je(Bt)}}function wt(Lt){Lt.done?Ae(Lt.value):xe(Lt.value).then(vt,St)}wt((ae=ae.apply(Me,ge||[])).next())})};class Gt extends f.R6{constructor(){super({id:Gt.ID,label:Yt.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:gn.Ao.and(_.u.writable,V.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(ge,Q){var ae;return fi(this,void 0,void 0,function*(){const xe=ln.get(Q);(ae=xe==null?void 0:xe.model.get())===null||ae===void 0||ae.next()})}}Gt.ID=p.OW;class Si extends f.R6{constructor(){super({id:Si.ID,label:Yt.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:gn.Ao.and(_.u.writable,V.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(ge,Q){var ae;return fi(this,void 0,void 0,function*(){const xe=ln.get(Q);(ae=xe==null?void 0:xe.model.get())===null||ae===void 0||ae.previous()})}}Si.ID=p.Np;class zi extends f.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Yt.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:_.u.writable})}run(ge,Q){var ae;return fi(this,void 0,void 0,function*(){const xe=ln.get(Q);(ae=xe==null?void 0:xe.model.get())===null||ae===void 0||ae.triggerExplicitly()})}}class ji extends f.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:Yt.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:gn.Ao.and(_.u.writable,V.f.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065},menuOpts:[{menuId:ti.eH.InlineSuggestionToolbar,title:Yt.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(ge,Q){var ae;return fi(this,void 0,void 0,function*(){const xe=ln.get(Q);(ae=xe==null?void 0:xe.model.get())===null||ae===void 0||ae.acceptNextWord(xe.editor)})}}class Hi extends f.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:Yt.NC("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:gn.Ao.and(_.u.writable,V.f.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:ti.eH.InlineSuggestionToolbar,title:Yt.NC("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(ge,Q){var ae;return fi(this,void 0,void 0,function*(){const xe=ln.get(Q);(ae=xe==null?void 0:xe.model.get())===null||ae===void 0||ae.acceptNextLine(xe.editor)})}}class tn extends f.R6{constructor(){super({id:p.Ou,label:Yt.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:V.f.inlineSuggestionVisible,menuOpts:[{menuId:ti.eH.InlineSuggestionToolbar,title:Yt.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:gn.Ao.and(V.f.inlineSuggestionVisible,_.u.tabMovesFocus.toNegated(),V.f.inlineSuggestionHasIndentationLessThanTabSize)}})}run(ge,Q){var ae;return fi(this,void 0,void 0,function*(){const xe=ln.get(Q);xe&&((ae=xe.model.get())===null||ae===void 0||ae.accept(xe.editor),xe.editor.focus())})}}class sn extends f.R6{constructor(){super({id:sn.ID,label:Yt.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:V.f.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(ge,Q){return fi(this,void 0,void 0,function*(){const ae=ln.get(Q);(0,u.PS)(xe=>{var Ae;(Ae=ae==null?void 0:ae.model.get())===null||Ae===void 0||Ae.stop(xe)})})}}sn.ID="editor.action.inlineSuggest.hide";class Xi extends ti.Ke{constructor(){super({id:Xi.ID,title:Yt.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:ti.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:gn.Ao.equals("config.editor.inlineSuggest.showToolbar","always")})}run(ge,Q){return fi(this,void 0,void 0,function*(){const ae=ge.get(Li.Ui),Ae=ae.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";ae.updateValue("editor.inlineSuggest.showToolbar",Ae)})}}Xi.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var Oi=t(34441),ai=t(69008),Zt=t(59397),Jt=t(18708),_t=t(48786),xt=t(68554),Ht=function(Me,ge,Q,ae){var xe=arguments.length,Ae=xe<3?ge:ae===null?ae=Object.getOwnPropertyDescriptor(ge,Q):ae,Je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(Me,ge,Q,ae);else for(var vt=Me.length-1;vt>=0;vt--)(Je=Me[vt])&&(Ae=(xe<3?Je(Ae):xe>3?Je(ge,Q,Ae):Je(ge,Q))||Ae);return xe>3&&Ae&&Object.defineProperty(ge,Q,Ae),Ae},at=function(Me,ge){return function(Q,ae){ge(Q,ae,Me)}};class ce{constructor(ge,Q,ae){this.owner=ge,this.range=Q,this.controller=ae}isValidForHoverAnchor(ge){return ge.type===1&&this.range.startColumn<=ge.range.startColumn&&this.range.endColumn>=ge.range.endColumn}}let We=class{constructor(ge,Q,ae,xe,Ae,Je){this._editor=ge,this._languageService=Q,this._openerService=ae,this.accessibilityService=xe,this._instantiationService=Ae,this._telemetryService=Je,this.hoverOrdinal=4}suggestHoverAnchor(ge){const Q=ln.get(this._editor);if(!Q)return null;const ae=ge.target;if(ae.type===8){const xe=ae.detail;if(Q.shouldShowHoverAtViewZone(xe.viewZoneId))return new O.YM(1e3,this,v.e.fromPositions(this._editor.getModel().validatePosition(xe.positionBefore||xe.position)),ge.event.posx,ge.event.posy,!1)}return ae.type===7&&Q.shouldShowHoverAt(ae.range)?new O.YM(1e3,this,ae.range,ge.event.posx,ge.event.posy,!1):ae.type===6&&ae.detail.mightBeForeignElement&&Q.shouldShowHoverAt(ae.range)?new O.YM(1e3,this,ae.range,ge.event.posx,ge.event.posy,!1):null}computeSync(ge,Q){if(this._editor.getOption(60).showToolbar==="always")return[];const ae=ln.get(this._editor);return ae&&ae.shouldShowHoverAt(ge.range)?[new ce(this,ge.range,ae)]:[]}renderHoverParts(ge,Q){const ae=new E.SL,xe=Q[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(ge,xe,ae);const Ae=xe.controller.model.get(),Je=this._instantiationService.createInstance(pe.QG,this._editor,!1,(0,u.Dz)(null),Ae.selectedInlineCompletionIndex,Ae.inlineCompletionsCount,Ae.selectedInlineCompletion.map(vt=>{var St;return(St=vt==null?void 0:vt.inlineCompletion.source.inlineCompletions.commands)!==null&&St!==void 0?St:[]}));return ge.fragment.appendChild(Je.getDomNode()),Ae.triggerExplicitly(),ae.add(Je),ae}renderScreenReaderText(ge,Q,ae){const xe=Oi.$,Ae=xe("div.hover-row.markdown-hover"),Je=Oi.R3(Ae,xe("div.hover-contents",{["aria-live"]:"assertive"})),vt=ae.add(new Zt.$({editor:this._editor},this._languageService,this._openerService)),St=wt=>{ae.add(vt.onDidRenderAsync(()=>{Je.className="hover-contents code-hover-contents",ge.onContentsChanged()}));const Lt=Yt.NC("inlineSuggestionFollows","Suggestion:"),Bt=ae.add(vt.render(new ai.W5().appendText(Lt).appendCodeblock("text",wt)));Je.replaceChildren(Bt.element)};ae.add((0,u.EH)("update hover",wt=>{var Lt;const Bt=(Lt=Q.controller.model.read(wt))===null||Lt===void 0?void 0:Lt.ghostText.read(wt);if(Bt){const ei=this._editor.getModel().getLineContent(Bt.lineNumber);St(Bt.renderForScreenReader(ei))}else Oi.mc(Je)})),ge.fragment.appendChild(Ae)}};We=Ht([at(1,S.O),at(2,_t.v4),at(3,Jt.F),at(4,Qt.TG),at(5,xt.b)],We),(0,f._K)(ln.ID,ln,3),(0,f.Qr)(zi),(0,f.Qr)(Gt),(0,f.Qr)(Si),(0,f.Qr)(ji),(0,f.Qr)(Hi),(0,f.Qr)(tn),(0,f.Qr)(sn),(0,ti.r1)(Xi),O.Ae.register(We)},27492:function(Rt,Be,t){"use strict";t.d(Be,{oU:function(){return K},QG:function(){return T}});var f=t(34441),O=t(67235),u=t(40186),_=t(98299),p=t(16308),V=t(13484),I=t(407),L=t(38431),E=t(99338),g=t(31283),a=t(11138),l=t(8216),d=t(8964),i=t(36082),s=t(34042),m=t(26386),b=t(3941),c=t(19792),v=t(56709),C=t(14818),S=function(_e,pe,le,oe){function he(je){return je instanceof le?je:new le(function(Xe){Xe(je)})}return new(le||(le=Promise))(function(je,Xe){function Ve(Ee){try{q(oe.next(Ee))}catch(Se){Xe(Se)}}function se(Ee){try{q(oe.throw(Ee))}catch(Se){Xe(Se)}}function q(Ee){Ee.done?je(Ee.value):he(Ee.value).then(Ve,se)}q((oe=oe.apply(_e,pe||[])).next())})};class N extends L.JT{constructor(pe,le,oe={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new v.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=new L.SL,this.options=oe,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new P(()=>{var he;return(he=this.toggleMenuActionViewItem)===null||he===void 0?void 0:he.show()},oe.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",pe.appendChild(this.element),this.actionBar=this._register(new O.o(this.element,{orientation:oe.orientation,ariaLabel:oe.ariaLabel,actionRunner:oe.actionRunner,allowContextMenu:oe.allowContextMenu,actionViewItemProvider:(he,je)=>{var Xe;if(he.id===P.ID)return this.toggleMenuActionViewItem=new c.C(he,he.menuActions,le,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:l.k.asClassNameArray((Xe=oe.moreIcon)!==null&&Xe!==void 0?Xe:I.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(oe.actionViewItemProvider){const Ve=oe.actionViewItemProvider(he,je);if(Ve)return Ve}if(he instanceof _.wY){const Ve=new c.C(he,he.actions,le,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:he.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement});return Ve.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(Ve),this.disposables.add(this._onDidChangeDropdownVisibility.add(Ve.onDidChangeVisibility)),Ve}}}))}set actionRunner(pe){this.actionBar.actionRunner=pe}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(pe){return this.actionBar.getAction(pe)}setActions(pe,le){this.clear();const oe=pe?pe.slice(0):[];this.hasSecondaryActions=!!(le&&le.length>0),this.hasSecondaryActions&&le&&(this.toggleMenuAction.menuActions=le.slice(0),oe.push(this.toggleMenuAction)),oe.forEach(he=>{this.actionBar.push(he,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(he)})})}getKeybindingLabel(pe){var le,oe;const he=this.lookupKeybindings?(oe=(le=this.options).getKeyBinding)===null||oe===void 0?void 0:oe.call(le,pe):void 0;return(0,C.f6)(he==null?void 0:he.getLabel())}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),super.dispose()}}class P extends _.aU{constructor(pe,le){le=le||m.NC("moreActions","More Actions..."),super(P.ID,le,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=pe}run(){return S(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(pe){this._menuActions=pe}}P.ID="toolbar.toggle.more";var M=t(21208),D=t(76826),F=t(36953),B=t(62297),U=t(68554),A=function(_e,pe,le,oe){var he=arguments.length,je=he<3?pe:oe===null?oe=Object.getOwnPropertyDescriptor(pe,le):oe,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(_e,pe,le,oe);else for(var Ve=_e.length-1;Ve>=0;Ve--)(Xe=_e[Ve])&&(je=(he<3?Xe(je):he>3?Xe(pe,le,je):Xe(pe,le))||je);return he>3&&je&&Object.defineProperty(pe,le,je),je},k=function(_e,pe){return function(le,oe){pe(le,oe,_e)}};let R=class extends N{constructor(pe,le,oe,he,je,Xe,Ve){super(pe,je,Object.assign(Object.assign({getKeyBinding:se=>{var q;return(q=Xe.lookupKeybinding(se.id))!==null&&q!==void 0?q:void 0}},le),{allowContextMenu:!0})),this._options=le,this._menuService=oe,this._contextKeyService=he,this._contextMenuService=je,this._sessionDisposables=this._store.add(new L.SL),le!=null&&le.telemetrySource&&this._store.add(this.actionBar.onDidRun(se=>Ve.publicLog2("workbenchActionExecuted",{id:se.action.id,from:le.telemetrySource})))}setActions(pe,le=[],oe){var he,je,Xe;this._sessionDisposables.clear();const Ve=pe.slice(),se=le.slice(),q=[];let Ee=0;const Se=[];let we=!1;if(((he=this._options)===null||he===void 0?void 0:he.hiddenItemStrategy)!==-1)for(let ve=0;ve<Ve.length;ve++){const Ne=Ve[ve];!(Ne instanceof M.U8)&&!(Ne instanceof M.NZ)||Ne.hideActions&&(q.push(Ne.hideActions.toggle),Ne.hideActions.toggle.checked&&Ee++,Ne.hideActions.isHidden&&(we=!0,Ve[ve]=void 0,((je=this._options)===null||je===void 0?void 0:je.hiddenItemStrategy)!==0&&(Se[ve]=Ne)))}if(((Xe=this._options)===null||Xe===void 0?void 0:Xe.maxNumberOfItems)!==void 0){let ve=0;for(let Ne=0;Ne<Ve.length;Ne++){const $e=Ve[Ne];$e&&++ve>=this._options.maxNumberOfItems&&(Ve[Ne]=void 0,Se[Ne]=$e)}}(0,p.Rs)(Ve),(0,p.Rs)(Se),super.setActions(Ve,_.Z0.join(Se,se)),q.length>0&&this._sessionDisposables.add((0,f.nm)(this.getElement(),"contextmenu",ve=>{var Ne,$e,Ke,ze;const He=this.getItemAction(ve.target);if(!He)return;ve.preventDefault(),ve.stopPropagation();let Le=!1;if(Ee===1&&((Ne=this._options)===null||Ne===void 0?void 0:Ne.hiddenItemStrategy)===0){Le=!0;for(let ne=0;ne<q.length;ne++)if(q[ne].checked){q[ne]=(0,_.xw)({id:He.id,label:He.label,checked:!0,enabled:!1,run(){}});break}}let de;if(!Le&&(He instanceof M.U8||He instanceof M.NZ)){if(!He.hideActions)return;de=He.hideActions.hide}else de=(0,_.xw)({id:"label",label:(0,m.NC)("hide","Hide"),enabled:!1,run(){}});const ee=_.Z0.join([de],q);!(($e=this._options)===null||$e===void 0)&&$e.resetMenu&&!oe&&(oe=[this._options.resetMenu]),we&&oe&&(ee.push(new _.Z0),ee.push((0,_.xw)({id:"resetThisMenu",label:(0,m.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(oe)}))),this._contextMenuService.showContextMenu({getAnchor:()=>ve,getActions:()=>ee,menuId:(Ke=this._options)===null||Ke===void 0?void 0:Ke.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(ze=this._options)===null||ze===void 0?void 0:ze.menuOptions),contextKeyService:this._contextKeyService})}))}};R=A([k(2,M.co),k(3,D.i6),k(4,F.i),k(5,B.d),k(6,U.b)],R);var $=t(80793),J=t(44333),Y=t(89528),j=function(_e,pe,le,oe){var he=arguments.length,je=he<3?pe:oe===null?oe=Object.getOwnPropertyDescriptor(pe,le):oe,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(_e,pe,le,oe);else for(var Ve=_e.length-1;Ve>=0;Ve--)(Xe=_e[Ve])&&(je=(he<3?Xe(je):he>3?Xe(pe,le,je):Xe(pe,le))||je);return he>3&&je&&Object.defineProperty(pe,le,je),je},z=function(_e,pe){return function(le,oe){pe(le,oe,_e)}};let K=class extends L.JT{constructor(pe,le,oe){super(),this.editor=pe,this.model=le,this.instantiationService=oe,this.alwaysShowToolbar=(0,E.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(60).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,E.nK)("position",he=>{var je,Xe,Ve;const se=(je=this.model.read(he))===null||je===void 0?void 0:je.ghostText.read(he);if(!this.alwaysShowToolbar.read(he)||!se||se.parts.length===0)return this.sessionPosition=void 0,null;const q=se.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==se.lineNumber&&(this.sessionPosition=void 0);const Ee=new d.L(se.lineNumber,Math.min(q,(Ve=(Xe=this.sessionPosition)===null||Xe===void 0?void 0:Xe.column)!==null&&Ve!==void 0?Ve:Number.MAX_SAFE_INTEGER));return this.sessionPosition=Ee,Ee}),this._register((0,g.b2)("setup content widget",(he,je)=>{const Xe=this.model.read(he);if(!Xe||!this.alwaysShowToolbar.read(he))return;const Ve=je.add(this.instantiationService.createInstance(T,this.editor,!0,this.position,Xe.selectedInlineCompletionIndex,Xe.inlineCompletionsCount,Xe.selectedInlineCompletion.map(se=>{var q;return(q=se==null?void 0:se.inlineCompletion.source.inlineCompletions.commands)!==null&&q!==void 0?q:[]})));pe.addContentWidget(Ve),je.add((0,L.OF)(()=>pe.removeContentWidget(Ve))),je.add((0,E.EH)("request explicit",se=>{this.position.read(se)&&Xe.lastTriggerKind.read(se)!==i.bw.Explicit&&Xe.triggerExplicitly()}))}))}};K=j([z(2,J.TG)],K);const Z=(0,Y.q5)("inline-suggestion-hints-next",I.l.chevronRight,(0,m.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),fe=(0,Y.q5)("inline-suggestion-hints-previous",I.l.chevronLeft,(0,m.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let T=class pc extends L.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(pe,le,oe){const he=new _.aU(pe,le,oe,!0,()=>this._commandService.executeCommand(pe)),je=this.keybindingService.lookupKeybinding(pe,this._contextKeyService);let Xe=le;return je&&(Xe=(0,m.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",le,je.getLabel())),he.tooltip=Xe,he}constructor(pe,le,oe,he,je,Xe,Ve,se,q,Ee,Se){super(),this.editor=pe,this.withBorder=le,this._position=oe,this._currentSuggestionIdx=he,this._suggestionCount=je,this._extraCommands=Xe,this._commandService=Ve,this.keybindingService=q,this._contextKeyService=Ee,this._menuService=Se,this.id=`InlineSuggestionHintsContentWidget${pc.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div",{style:{display:"flex"}},[(0,f.h)("div@actionBar",{className:"custom-actions"}),(0,f.h)("div@toolBar")])]),this.previousAction=this.createCommandAction(s.Np,(0,m.NC)("previous","Previous"),l.k.asClassName(fe)),this.availableSuggestionCountAction=new _.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(s.OW,(0,m.NC)("next","Next"),l.k.asClassName(Z)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(M.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new V.pY(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new V.pY(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[];const we=this._register(new O.o(this.nodes.actionBar));we.push(this.previousAction,{icon:!0,label:!1}),we.push(this.availableSuggestionCountAction),we.push(this.nextAction,{icon:!0,label:!1}),this.toolBar=this._register(se.createInstance(Ce,this.nodes.toolBar,M.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:ve=>ve.startsWith("primary")},actionViewItemProvider:(ve,Ne)=>ve instanceof M.U8?se.createInstance(Re,ve,void 0):void 0,telemetrySource:"InlineSuggestionToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(ve=>{pc._dropDownVisible=ve})),this._register((0,E.EH)("update position",ve=>{this._position.read(ve),this.editor.layoutContentWidget(this)})),this._register((0,E.EH)("counts",ve=>{const Ne=this._suggestionCount.read(ve),$e=this._currentSuggestionIdx.read(ve);Ne!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${$e+1}/${Ne}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),Ne!==void 0&&Ne>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,E.EH)("extra commands",ve=>{const Ne=this._extraCommands.read(ve);if((0,p.fS)(this.lastCommands,Ne))return;this.lastCommands=Ne;const $e=Ne.map(Ke=>({class:void 0,id:Ke.id,enabled:!0,tooltip:Ke.tooltip||"",label:Ke.title,run:ze=>this._commandService.executeCommand(Ke.id)}));for(const[Ke,ze]of this.inlineCompletionsActionsMenus.getActions())for(const He of ze)He instanceof M.U8&&$e.push(He);$e.length>0&&$e.unshift(new _.Z0),this.toolBar.setAdditionalSecondaryActions($e)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};T._dropDownVisible=!1,T.id=0,T=j([z(6,$.H),z(7,J.TG),z(8,B.d),z(9,D.i6),z(10,M.co)],T);class Re extends b.Mm{updateLabel(){const pe=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!pe)return super.updateLabel();if(this.label){const le=(0,f.h)("div.keybinding").root;new u.e(le,a.OS,Object.assign({disableTitle:!0},u.F)).set(pe),this.label.textContent=this._action.label,this.label.appendChild(le),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let Ce=class extends R{constructor(pe,le,oe,he,je,Xe,Ve,se){super(pe,Object.assign({resetMenu:le},oe),he,je,Xe,Ve,se),this.menuId=le,this.options2=oe,this.menuService=he,this.contextKeyService=je,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var pe,le,oe,he,je,Xe,Ve;const se=[],q=[];(0,b.vr)(this.menu,(pe=this.options2)===null||pe===void 0?void 0:pe.menuOptions,{primary:se,secondary:q},(oe=(le=this.options2)===null||le===void 0?void 0:le.toolbarOptions)===null||oe===void 0?void 0:oe.primaryGroup,(je=(he=this.options2)===null||he===void 0?void 0:he.toolbarOptions)===null||je===void 0?void 0:je.shouldInlineSubmenu,(Ve=(Xe=this.options2)===null||Xe===void 0?void 0:Xe.toolbarOptions)===null||Ve===void 0?void 0:Ve.useSeparatorsInPrimaryActions),q.push(...this.additionalActions),this.setActions(se,q)}setAdditionalSecondaryActions(pe){(0,p.fS)(this.additionalActions,pe,(le,oe)=>le===oe)||(this.additionalActions=pe,this.updateToolbar())}};Ce=j([z(3,M.co),z(4,D.i6),z(5,F.i),z(6,B.d),z(7,U.b)],Ce)},75807:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{InlineProgressManager:function(){return s}});var f=t(34441),O=t(13484),u=t(407),_=t(38431),p=t(17416),V=t(8216),I=t(50038),L=t(45007),E=t(44333),g=function(m,b,c,v){var C=arguments.length,S=C<3?b:v===null?v=Object.getOwnPropertyDescriptor(b,c):v,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,b,c,v);else for(var P=m.length-1;P>=0;P--)(N=m[P])&&(S=(C<3?N(S):C>3?N(b,c,S):N(b,c))||S);return C>3&&S&&Object.defineProperty(b,c,S),S},a=function(m,b){return function(c,v){b(c,v,m)}},l=function(m,b,c,v){function C(S){return S instanceof c?S:new c(function(N){N(S)})}return new(c||(c=Promise))(function(S,N){function P(F){try{D(v.next(F))}catch(B){N(B)}}function M(F){try{D(v.throw(F))}catch(B){N(B)}}function D(F){F.done?S(F.value):C(F.value).then(P,M)}D((v=v.apply(m,b||[])).next())})};const d=L.qx.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:p.B4,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class i extends _.JT{constructor(b,c,v,C,S){super(),this.typeId=b,this.editor=c,this.range=v,this.delegate=S,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(C),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(b){this.domNode=f.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=b;const c=f.$("span.icon");this.domNode.append(c),c.classList.add(...V.k.asClassNameArray(u.l.loading),"codicon-modifier-spin");const v=()=>{const C=this.editor.getOption(64);this.domNode.style.height=`${C}px`,this.domNode.style.width=`${Math.ceil(.8*C)}px`};v(),this._register(this.editor.onDidChangeConfiguration(C=>{(C.hasChanged(50)||C.hasChanged(64))&&v()})),this._register(f.nm(this.domNode,f.tw.CLICK,C=>{this.delegate.cancel()}))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}i.baseId="editor.widget.inlineProgressWidget";let s=class extends _.JT{constructor(b,c,v){super(),this.id=b,this._editor=c,this._instantiationService=v,this._showDelay=500,this._showPromise=this._register(new _.XK),this._currentWidget=new _.XK,this._operationIdPool=0,this._currentDecorations=c.createDecorationsCollection()}showWhile(b,c,v){return l(this,void 0,void 0,function*(){const C=this._operationIdPool++;this._currentOperation=C,this.clear(),this._showPromise.value=(0,O.Vg)(()=>{const S=I.e.fromPositions(b);this._currentDecorations.set([{range:S,options:d}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(i,this.id,this._editor,S,c,v))},this._showDelay);try{return yield v}finally{this._currentOperation===C&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};s=g([a(2,E.TG)],s)},29213:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{ExpandLineSelectionAction:function(){return p}});var f=t(55298),O=t(81953),u=t(21081),_=t(26386);class p extends f.R6{constructor(){super({id:"expandLineSelection",label:_.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:u.u.textInputFocus,primary:2090}})}run(I,L,E){if(E=E||{},!L.hasModel())return;const g=L._getViewModel();g.model.pushStackElement(),g.setCursorStates(E.source,3,O.P.expandLineSelection(g,g.getCursorStates())),g.revealPrimaryCursor(E.source,!0)}}(0,f.Qr)(p)},77352:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{AbstractCaseAction:function(){return se},AbstractDeleteAllToBoundaryAction:function(){return oe},AbstractSortLinesAction:function(){return z},CamelCaseAction:function(){return Ne},DeleteAllLeftAction:function(){return he},DeleteAllRightAction:function(){return je},DeleteDuplicateLinesAction:function(){return fe},DeleteLinesAction:function(){return Re},DuplicateSelectionAction:function(){return $},IndentLinesAction:function(){return Ce},InsertLineAfterAction:function(){return le},InsertLineBeforeAction:function(){return pe},JoinLinesAction:function(){return Xe},KebabCaseAction:function(){return $e},LowerCaseAction:function(){return Ee},SnakeCaseAction:function(){return ve},SortLinesAscendingAction:function(){return K},SortLinesDescendingAction:function(){return Z},TitleCaseAction:function(){return we},TransposeAction:function(){return Ve},TrimTrailingWhitespaceAction:function(){return T},UpperCaseAction:function(){return q}});var f=t(94880),O=t(68076),u=t(55298),_=t(38050),p=t(17416),V=t(19083),I=t(50038);class L{constructor(ze,He){this._selection=ze,this._cursors=He,this._selectionId=null}getEditOperations(ze,He){const Le=E(ze,this._cursors);for(let de=0,ee=Le.length;de<ee;de++){const ne=Le[de];He.addEditOperation(ne.range,ne.text)}this._selectionId=He.trackSelection(this._selection)}computeCursorState(ze,He){return He.getTrackedSelection(this._selectionId)}}function E(Ke,ze){ze.sort((ne,me)=>ne.lineNumber===me.lineNumber?ne.column-me.column:ne.lineNumber-me.lineNumber);for(let ne=ze.length-2;ne>=0;ne--)ze[ne].lineNumber===ze[ne+1].lineNumber&&ze.splice(ne,1);const He=[];let Le=0,de=0;const ee=ze.length;for(let ne=1,me=Ke.getLineCount();ne<=me;ne++){const ue=Ke.getLineContent(ne),Pe=ue.length+1;let ot=0;if(de<ee&&ze[de].lineNumber===ne&&(ot=ze[de].column,de++,ot===Pe)||ue.length===0)continue;const gt=p.ow(ue);let nt=0;if(gt===-1)nt=1;else if(gt!==ue.length-1)nt=gt+2;else continue;nt=Math.max(ot,nt),He[Le++]=V.h.delete(new I.e(ne,nt,ne,Pe))}return He}var g=t(96124),a=t(8964),l=t(57841),d=t(21081);class i{constructor(ze,He,Le){this._selection=ze,this._isCopyingDown=He,this._noop=Le||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(ze,He){let Le=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,Le.startLineNumber<Le.endLineNumber&&Le.endColumn===1&&(this._endLineNumberDelta=1,Le=Le.setEndPosition(Le.endLineNumber-1,ze.getLineMaxColumn(Le.endLineNumber-1)));const de=[];for(let ne=Le.startLineNumber;ne<=Le.endLineNumber;ne++)de.push(ze.getLineContent(ne));const ee=de.join(`
`);ee===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?He.addEditOperation(new I.e(Le.endLineNumber,ze.getLineMaxColumn(Le.endLineNumber),Le.endLineNumber+1,1),Le.endLineNumber===ze.getLineCount()?"":`
`):this._isCopyingDown?He.addEditOperation(new I.e(Le.startLineNumber,1,Le.startLineNumber,1),ee+`
`):He.addEditOperation(new I.e(Le.endLineNumber,ze.getLineMaxColumn(Le.endLineNumber),Le.endLineNumber,ze.getLineMaxColumn(Le.endLineNumber)),`
`+ee),this._selectionId=He.trackSelection(Le),this._selectionDirection=this._selection.getDirection()}computeCursorState(ze,He){let Le=He.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let de=Le.startLineNumber,ee=Le.startColumn,ne=Le.endLineNumber,me=Le.endColumn;this._startLineNumberDelta!==0&&(de=de+this._startLineNumberDelta,ee=1),this._endLineNumberDelta!==0&&(ne=ne+this._endLineNumberDelta,me=1),Le=l.Y.createWithDirection(de,ee,ne,me,this._selectionDirection)}return Le}}var s=t(8453),m=t(50282),b=t(64603),c=t(54425),v=t(89026),C=t(14),S=function(Ke,ze,He,Le){var de=arguments.length,ee=de<3?ze:Le===null?Le=Object.getOwnPropertyDescriptor(ze,He):Le,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(Ke,ze,He,Le);else for(var me=Ke.length-1;me>=0;me--)(ne=Ke[me])&&(ee=(de<3?ne(ee):de>3?ne(ze,He,ee):ne(ze,He))||ee);return de>3&&ee&&Object.defineProperty(ze,He,ee),ee},N=function(Ke,ze){return function(He,Le){ze(He,Le,Ke)}};let P=class{constructor(ze,He,Le,de){this._languageConfigurationService=de,this._selection=ze,this._isMovingDown=He,this._autoIndent=Le,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(ze,He){const Le=ze.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===Le){this._selectionId=He.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=He.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let de=this._selection;de.startLineNumber<de.endLineNumber&&de.endColumn===1&&(this._moveEndPositionDown=!0,de=de.setEndPosition(de.endLineNumber-1,ze.getLineMaxColumn(de.endLineNumber-1)));const{tabSize:ee,indentSize:ne,insertSpaces:me}=ze.getOptions(),ue=this.buildIndentConverter(ee,ne,me),Pe={tokenization:{getLineTokens:ot=>ze.tokenization.getLineTokens(ot),getLanguageId:()=>ze.getLanguageId(),getLanguageIdAtPosition:(ot,gt)=>ze.getLanguageIdAtPosition(ot,gt)},getLineContent:null};if(de.startLineNumber===de.endLineNumber&&ze.getLineMaxColumn(de.startLineNumber)===1){const ot=de.startLineNumber,gt=this._isMovingDown?ot+1:ot-1;ze.getLineMaxColumn(gt)===1?He.addEditOperation(new I.e(1,1,1,1),null):(He.addEditOperation(new I.e(ot,1,ot,1),ze.getLineContent(gt)),He.addEditOperation(new I.e(gt,1,gt,ze.getLineMaxColumn(gt)),null)),de=new l.Y(gt,1,gt,1)}else{let ot,gt;if(this._isMovingDown){ot=de.endLineNumber+1,gt=ze.getLineContent(ot),He.addEditOperation(new I.e(ot-1,ze.getLineMaxColumn(ot-1),ot,ze.getLineMaxColumn(ot)),null);let nt=gt;if(this.shouldAutoIndent(ze,de)){const tt=this.matchEnterRule(ze,ue,ee,ot,de.startLineNumber-1);if(tt!==null){const It=p.V8(ze.getLineContent(ot)),Wt=tt+c.Y(It,ee);nt=c.J(Wt,ee,me)+this.trimLeft(gt)}else{Pe.getLineContent=Wt=>Wt===de.startLineNumber?ze.getLineContent(ot):ze.getLineContent(Wt);const It=(0,v.n8)(this._autoIndent,Pe,ze.getLanguageIdAtPosition(ot,1),de.startLineNumber,ue,this._languageConfigurationService);if(It!==null){const Wt=p.V8(ze.getLineContent(ot)),Vt=c.Y(It,ee),Ct=c.Y(Wt,ee);Vt!==Ct&&(nt=c.J(Vt,ee,me)+this.trimLeft(gt))}}He.addEditOperation(new I.e(de.startLineNumber,1,de.startLineNumber,1),nt+`
`);const st=this.matchEnterRuleMovingDown(ze,ue,ee,de.startLineNumber,ot,nt);if(st!==null)st!==0&&this.getIndentEditsOfMovingBlock(ze,He,de,ee,me,st);else{Pe.getLineContent=Wt=>Wt===de.startLineNumber?nt:Wt>=de.startLineNumber+1&&Wt<=de.endLineNumber+1?ze.getLineContent(Wt-1):ze.getLineContent(Wt);const It=(0,v.n8)(this._autoIndent,Pe,ze.getLanguageIdAtPosition(ot,1),de.startLineNumber+1,ue,this._languageConfigurationService);if(It!==null){const Wt=p.V8(ze.getLineContent(de.startLineNumber)),Vt=c.Y(It,ee),Ct=c.Y(Wt,ee);if(Vt!==Ct){const gi=Vt-Ct;this.getIndentEditsOfMovingBlock(ze,He,de,ee,me,gi)}}}}else He.addEditOperation(new I.e(de.startLineNumber,1,de.startLineNumber,1),nt+`
`)}else if(ot=de.startLineNumber-1,gt=ze.getLineContent(ot),He.addEditOperation(new I.e(ot,1,ot+1,1),null),He.addEditOperation(new I.e(de.endLineNumber,ze.getLineMaxColumn(de.endLineNumber),de.endLineNumber,ze.getLineMaxColumn(de.endLineNumber)),`
`+gt),this.shouldAutoIndent(ze,de)){Pe.getLineContent=tt=>tt===ot?ze.getLineContent(de.startLineNumber):ze.getLineContent(tt);const nt=this.matchEnterRule(ze,ue,ee,de.startLineNumber,de.startLineNumber-2);if(nt!==null)nt!==0&&this.getIndentEditsOfMovingBlock(ze,He,de,ee,me,nt);else{const tt=(0,v.n8)(this._autoIndent,Pe,ze.getLanguageIdAtPosition(de.startLineNumber,1),ot,ue,this._languageConfigurationService);if(tt!==null){const st=p.V8(ze.getLineContent(de.startLineNumber)),It=c.Y(tt,ee),Wt=c.Y(st,ee);if(It!==Wt){const Vt=It-Wt;this.getIndentEditsOfMovingBlock(ze,He,de,ee,me,Vt)}}}}}this._selectionId=He.trackSelection(de)}buildIndentConverter(ze,He,Le){return{shiftIndent:de=>s.U.shiftIndent(de,de.length+1,ze,He,Le),unshiftIndent:de=>s.U.unshiftIndent(de,de.length+1,ze,He,Le)}}parseEnterResult(ze,He,Le,de,ee){if(ee){let ne=ee.indentation;ee.indentAction===m.wU.None||ee.indentAction===m.wU.Indent?ne=ee.indentation+ee.appendText:ee.indentAction===m.wU.IndentOutdent?ne=ee.indentation:ee.indentAction===m.wU.Outdent&&(ne=He.unshiftIndent(ee.indentation)+ee.appendText);const me=ze.getLineContent(de);if(this.trimLeft(me).indexOf(this.trimLeft(ne))>=0){const ue=p.V8(ze.getLineContent(de));let Pe=p.V8(ne);const ot=(0,v.tI)(ze,de,this._languageConfigurationService);ot!==null&&ot&2&&(Pe=He.unshiftIndent(Pe));const gt=c.Y(Pe,Le),nt=c.Y(ue,Le);return gt-nt}}return null}matchEnterRuleMovingDown(ze,He,Le,de,ee,ne){if(p.ow(ne)>=0){const me=ze.getLineMaxColumn(ee),ue=(0,C.A)(this._autoIndent,ze,new I.e(ee,me,ee,me),this._languageConfigurationService);return this.parseEnterResult(ze,He,Le,de,ue)}else{let me=de-1;for(;me>=1;){const ot=ze.getLineContent(me);if(p.ow(ot)>=0)break;me--}if(me<1||de>ze.getLineCount())return null;const ue=ze.getLineMaxColumn(me),Pe=(0,C.A)(this._autoIndent,ze,new I.e(me,ue,me,ue),this._languageConfigurationService);return this.parseEnterResult(ze,He,Le,de,Pe)}}matchEnterRule(ze,He,Le,de,ee,ne){let me=ee;for(;me>=1;){let ot;if(me===ee&&ne!==void 0?ot=ne:ot=ze.getLineContent(me),p.ow(ot)>=0)break;me--}if(me<1||de>ze.getLineCount())return null;const ue=ze.getLineMaxColumn(me),Pe=(0,C.A)(this._autoIndent,ze,new I.e(me,ue,me,ue),this._languageConfigurationService);return this.parseEnterResult(ze,He,Le,de,Pe)}trimLeft(ze){return ze.replace(/^\s+/,"")}shouldAutoIndent(ze,He){if(this._autoIndent<4||!ze.tokenization.isCheapToTokenize(He.startLineNumber))return!1;const Le=ze.getLanguageIdAtPosition(He.startLineNumber,1),de=ze.getLanguageIdAtPosition(He.endLineNumber,1);return!(Le!==de||this._languageConfigurationService.getLanguageConfiguration(Le).indentRulesSupport===null)}getIndentEditsOfMovingBlock(ze,He,Le,de,ee,ne){for(let me=Le.startLineNumber;me<=Le.endLineNumber;me++){const ue=ze.getLineContent(me),Pe=p.V8(ue),gt=c.Y(Pe,de)+ne,nt=c.J(gt,de,ee);nt!==Pe&&(He.addEditOperation(new I.e(me,1,me,Pe.length+1),nt),me===Le.endLineNumber&&Le.endColumn<=Pe.length+1&&nt===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(ze,He){let Le=He.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(Le=Le.setEndPosition(Le.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&Le.startLineNumber<Le.endLineNumber&&(Le=Le.setEndPosition(Le.endLineNumber,2)),Le}};P=S([N(3,b.c_)],P);class M{static getCollator(){return M._COLLATOR||(M._COLLATOR=new Intl.Collator),M._COLLATOR}constructor(ze,He){this.selection=ze,this.descending=He,this.selectionId=null}getEditOperations(ze,He){const Le=F(ze,this.selection,this.descending);Le&&He.addEditOperation(Le.range,Le.text),this.selectionId=He.trackSelection(this.selection)}computeCursorState(ze,He){return He.getTrackedSelection(this.selectionId)}static canRun(ze,He,Le){if(ze===null)return!1;const de=D(ze,He,Le);if(!de)return!1;for(let ee=0,ne=de.before.length;ee<ne;ee++)if(de.before[ee]!==de.after[ee])return!0;return!1}}M._COLLATOR=null;function D(Ke,ze,He){const Le=ze.startLineNumber;let de=ze.endLineNumber;if(ze.endColumn===1&&de--,Le>=de)return null;const ee=[];for(let me=Le;me<=de;me++)ee.push(Ke.getLineContent(me));let ne=ee.slice(0);return ne.sort(M.getCollator().compare),He===!0&&(ne=ne.reverse()),{startLineNumber:Le,endLineNumber:de,before:ee,after:ne}}function F(Ke,ze,He){const Le=D(Ke,ze,He);return Le?V.h.replace(new I.e(Le.startLineNumber,1,Le.endLineNumber,Ke.getLineMaxColumn(Le.endLineNumber)),Le.after.join(`
`)):null}var B=t(26386),U=t(21208);class A extends u.R6{constructor(ze,He){super(He),this.down=ze}run(ze,He){if(!He.hasModel())return;const Le=He.getSelections().map((ne,me)=>({selection:ne,index:me,ignore:!1}));Le.sort((ne,me)=>I.e.compareRangesUsingStarts(ne.selection,me.selection));let de=Le[0];for(let ne=1;ne<Le.length;ne++){const me=Le[ne];de.selection.endLineNumber===me.selection.startLineNumber&&(de.index<me.index?me.ignore=!0:(de.ignore=!0,de=me))}const ee=[];for(const ne of Le)ee.push(new i(ne.selection,this.down,ne.ignore));He.pushUndoStop(),He.executeCommands(this.id,ee),He.pushUndoStop()}}class k extends A{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:B.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class R extends A{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:B.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class $ extends u.R6{constructor(){super({id:"editor.action.duplicateSelection",label:B.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:d.u.writable,menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(ze,He,Le){if(!He.hasModel())return;const de=[],ee=He.getSelections(),ne=He.getModel();for(const me of ee)if(me.isEmpty())de.push(new i(me,!0));else{const ue=new l.Y(me.endLineNumber,me.endColumn,me.endLineNumber,me.endColumn);de.push(new _.OY(ue,ne.getValueInRange(me)))}He.pushUndoStop(),He.executeCommands(this.id,de),He.pushUndoStop()}}class J extends u.R6{constructor(ze,He){super(He),this.down=ze}run(ze,He){const Le=ze.get(b.c_),de=[],ee=He.getSelections()||[],ne=He.getOption(10);for(const me of ee)de.push(new P(me,this.down,ne,Le));He.pushUndoStop(),He.executeCommands(this.id,de),He.pushUndoStop()}}class Y extends J{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:B.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class j extends J{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:B.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:B.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class z extends u.R6{constructor(ze,He){super(He),this.descending=ze}run(ze,He){const Le=He.getSelections()||[];for(const ee of Le)if(!M.canRun(He.getModel(),ee,this.descending))return;const de=[];for(let ee=0,ne=Le.length;ee<ne;ee++)de[ee]=new M(Le[ee],this.descending);He.pushUndoStop(),He.executeCommands(this.id,de),He.pushUndoStop()}}class K extends z{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:B.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:d.u.writable})}}class Z extends z{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:B.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:d.u.writable})}}class fe extends u.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:B.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:d.u.writable})}run(ze,He){if(!He.hasModel())return;const Le=He.getModel();if(Le.getLineCount()===1&&Le.getLineMaxColumn(1)===1)return;const de=[],ee=[];let ne=0;for(const me of He.getSelections()){const ue=new Set,Pe=[];for(let tt=me.startLineNumber;tt<=me.endLineNumber;tt++){const st=Le.getLineContent(tt);ue.has(st)||(Pe.push(st),ue.add(st))}const ot=new l.Y(me.startLineNumber,1,me.endLineNumber,Le.getLineMaxColumn(me.endLineNumber)),gt=me.startLineNumber-ne,nt=new l.Y(gt,1,gt+Pe.length-1,Pe[Pe.length-1].length);de.push(V.h.replace(ot,Pe.join(`
`))),ee.push(nt),ne+=me.endLineNumber-me.startLineNumber+1-Pe.length}He.pushUndoStop(),He.executeEdits(this.id,de,ee),He.pushUndoStop()}}class T extends u.R6{constructor(){super({id:T.ID,label:B.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:(0,f.gx)(2089,2102),weight:100}})}run(ze,He,Le){let de=[];Le.reason==="auto-save"&&(de=(He.getSelections()||[]).map(me=>new a.L(me.positionLineNumber,me.positionColumn)));const ee=He.getSelection();if(ee===null)return;const ne=new L(ee,de);He.pushUndoStop(),He.executeCommands(this.id,[ne]),He.pushUndoStop()}}T.ID="editor.action.trimTrailingWhitespace";class Re extends u.R6{constructor(){super({id:"editor.action.deleteLines",label:B.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:d.u.writable,kbOpts:{kbExpr:d.u.textInputFocus,primary:3113,weight:100}})}run(ze,He){if(!He.hasModel())return;const Le=this._getLinesToRemove(He),de=He.getModel();if(de.getLineCount()===1&&de.getLineMaxColumn(1)===1)return;let ee=0;const ne=[],me=[];for(let ue=0,Pe=Le.length;ue<Pe;ue++){const ot=Le[ue];let gt=ot.startLineNumber,nt=ot.endLineNumber,tt=1,st=de.getLineMaxColumn(nt);nt<de.getLineCount()?(nt+=1,st=1):gt>1&&(gt-=1,tt=de.getLineMaxColumn(gt)),ne.push(V.h.replace(new l.Y(gt,tt,nt,st),"")),me.push(new l.Y(gt-ee,ot.positionColumn,gt-ee,ot.positionColumn)),ee+=ot.endLineNumber-ot.startLineNumber+1}He.pushUndoStop(),He.executeEdits(this.id,ne,me),He.pushUndoStop()}_getLinesToRemove(ze){const He=ze.getSelections().map(ee=>{let ne=ee.endLineNumber;return ee.startLineNumber<ee.endLineNumber&&ee.endColumn===1&&(ne-=1),{startLineNumber:ee.startLineNumber,selectionStartColumn:ee.selectionStartColumn,endLineNumber:ne,positionColumn:ee.positionColumn}});He.sort((ee,ne)=>ee.startLineNumber===ne.startLineNumber?ee.endLineNumber-ne.endLineNumber:ee.startLineNumber-ne.startLineNumber);const Le=[];let de=He[0];for(let ee=1;ee<He.length;ee++)de.endLineNumber+1>=He[ee].startLineNumber?de.endLineNumber=He[ee].endLineNumber:(Le.push(de),de=He[ee]);return Le.push(de),Le}}class Ce extends u.R6{constructor(){super({id:"editor.action.indentLines",label:B.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:2142,weight:100}})}run(ze,He){const Le=He._getViewModel();Le&&(He.pushUndoStop(),He.executeCommands(this.id,g.u6.indent(Le.cursorConfig,He.getModel(),He.getSelections())),He.pushUndoStop())}}class _e extends u.R6{constructor(){super({id:"editor.action.outdentLines",label:B.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:2140,weight:100}})}run(ze,He){O.CoreEditingCommands.Outdent.runEditorCommand(ze,He,null)}}class pe extends u.R6{constructor(){super({id:"editor.action.insertLineBefore",label:B.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:3075,weight:100}})}run(ze,He){const Le=He._getViewModel();Le&&(He.pushUndoStop(),He.executeCommands(this.id,g.u6.lineInsertBefore(Le.cursorConfig,He.getModel(),He.getSelections())))}}class le extends u.R6{constructor(){super({id:"editor.action.insertLineAfter",label:B.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:2051,weight:100}})}run(ze,He){const Le=He._getViewModel();Le&&(He.pushUndoStop(),He.executeCommands(this.id,g.u6.lineInsertAfter(Le.cursorConfig,He.getModel(),He.getSelections())))}}class oe extends u.R6{run(ze,He){if(!He.hasModel())return;const Le=He.getSelection(),de=this._getRangesToDelete(He),ee=[];for(let ue=0,Pe=de.length-1;ue<Pe;ue++){const ot=de[ue],gt=de[ue+1];I.e.intersectRanges(ot,gt)===null?ee.push(ot):de[ue+1]=I.e.plusRange(ot,gt)}ee.push(de[de.length-1]);const ne=this._getEndCursorState(Le,ee),me=ee.map(ue=>V.h.replace(ue,""));He.pushUndoStop(),He.executeEdits(this.id,me,ne),He.pushUndoStop()}}class he extends oe{constructor(){super({id:"deleteAllLeft",label:B.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:d.u.writable,kbOpts:{kbExpr:d.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(ze,He){let Le=null;const de=[];let ee=0;return He.forEach(ne=>{let me;if(ne.endColumn===1&&ee>0){const ue=ne.startLineNumber-ee;me=new l.Y(ue,ne.startColumn,ue,ne.startColumn)}else me=new l.Y(ne.startLineNumber,ne.startColumn,ne.startLineNumber,ne.startColumn);ee+=ne.endLineNumber-ne.startLineNumber,ne.intersectRanges(ze)?Le=me:de.push(me)}),Le&&de.unshift(Le),de}_getRangesToDelete(ze){const He=ze.getSelections();if(He===null)return[];let Le=He;const de=ze.getModel();return de===null?[]:(Le.sort(I.e.compareRangesUsingStarts),Le=Le.map(ee=>{if(ee.isEmpty())if(ee.startColumn===1){const ne=Math.max(1,ee.startLineNumber-1),me=ee.startLineNumber===1?1:de.getLineContent(ne).length+1;return new I.e(ne,me,ee.startLineNumber,1)}else return new I.e(ee.startLineNumber,1,ee.startLineNumber,ee.startColumn);else return new I.e(ee.startLineNumber,1,ee.endLineNumber,ee.endColumn)}),Le)}}class je extends oe{constructor(){super({id:"deleteAllRight",label:B.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:d.u.writable,kbOpts:{kbExpr:d.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(ze,He){let Le=null;const de=[];for(let ee=0,ne=He.length,me=0;ee<ne;ee++){const ue=He[ee],Pe=new l.Y(ue.startLineNumber-me,ue.startColumn,ue.startLineNumber-me,ue.startColumn);ue.intersectRanges(ze)?Le=Pe:de.push(Pe)}return Le&&de.unshift(Le),de}_getRangesToDelete(ze){const He=ze.getModel();if(He===null)return[];const Le=ze.getSelections();if(Le===null)return[];const de=Le.map(ee=>{if(ee.isEmpty()){const ne=He.getLineMaxColumn(ee.startLineNumber);return ee.startColumn===ne?new I.e(ee.startLineNumber,ee.startColumn,ee.startLineNumber+1,1):new I.e(ee.startLineNumber,ee.startColumn,ee.startLineNumber,ne)}return ee});return de.sort(I.e.compareRangesUsingStarts),de}}class Xe extends u.R6{constructor(){super({id:"editor.action.joinLines",label:B.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:d.u.writable,kbOpts:{kbExpr:d.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(ze,He){const Le=He.getSelections();if(Le===null)return;let de=He.getSelection();if(de===null)return;Le.sort(I.e.compareRangesUsingStarts);const ee=[],ne=Le.reduce((nt,tt)=>nt.isEmpty()?nt.endLineNumber===tt.startLineNumber?(de.equalsSelection(nt)&&(de=tt),tt):tt.startLineNumber>nt.endLineNumber+1?(ee.push(nt),tt):new l.Y(nt.startLineNumber,nt.startColumn,tt.endLineNumber,tt.endColumn):tt.startLineNumber>nt.endLineNumber?(ee.push(nt),tt):new l.Y(nt.startLineNumber,nt.startColumn,tt.endLineNumber,tt.endColumn));ee.push(ne);const me=He.getModel();if(me===null)return;const ue=[],Pe=[];let ot=de,gt=0;for(let nt=0,tt=ee.length;nt<tt;nt++){const st=ee[nt],It=st.startLineNumber,Wt=1;let Vt=0,Ct,gi;const jt=me.getLineContent(st.endLineNumber).length-st.endColumn;if(st.isEmpty()||st.startLineNumber===st.endLineNumber){const dt=st.getStartPosition();dt.lineNumber<me.getLineCount()?(Ct=It+1,gi=me.getLineMaxColumn(Ct)):(Ct=dt.lineNumber,gi=me.getLineMaxColumn(dt.lineNumber))}else Ct=st.endLineNumber,gi=me.getLineMaxColumn(Ct);let Ye=me.getLineContent(It);for(let dt=It+1;dt<=Ct;dt++){const bt=me.getLineContent(dt),Mt=me.getLineFirstNonWhitespaceColumn(dt);if(Mt>=1){let ni=!0;Ye===""&&(ni=!1),ni&&(Ye.charAt(Ye.length-1)===" "||Ye.charAt(Ye.length-1)==="	")&&(ni=!1,Ye=Ye.replace(/[\s\uFEFF\xA0]+$/g," "));const qt=bt.substr(Mt-1);Ye+=(ni?" ":"")+qt,ni?Vt=qt.length+1:Vt=qt.length}else Vt=0}const ut=new I.e(It,Wt,Ct,gi);if(!ut.isEmpty()){let dt;st.isEmpty()?(ue.push(V.h.replace(ut,Ye)),dt=new l.Y(ut.startLineNumber-gt,Ye.length-Vt+1,It-gt,Ye.length-Vt+1)):st.startLineNumber===st.endLineNumber?(ue.push(V.h.replace(ut,Ye)),dt=new l.Y(st.startLineNumber-gt,st.startColumn,st.endLineNumber-gt,st.endColumn)):(ue.push(V.h.replace(ut,Ye)),dt=new l.Y(st.startLineNumber-gt,st.startColumn,st.startLineNumber-gt,Ye.length-jt)),I.e.intersectRanges(ut,de)!==null?ot=dt:Pe.push(dt)}gt+=ut.endLineNumber-ut.startLineNumber}Pe.unshift(ot),He.pushUndoStop(),He.executeEdits(this.id,ue,Pe),He.pushUndoStop()}}class Ve extends u.R6{constructor(){super({id:"editor.action.transpose",label:B.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:d.u.writable})}run(ze,He){const Le=He.getSelections();if(Le===null)return;const de=He.getModel();if(de===null)return;const ee=[];for(let ne=0,me=Le.length;ne<me;ne++){const ue=Le[ne];if(!ue.isEmpty())continue;const Pe=ue.getStartPosition(),ot=de.getLineMaxColumn(Pe.lineNumber);if(Pe.column>=ot){if(Pe.lineNumber===de.getLineCount())continue;const gt=new I.e(Pe.lineNumber,Math.max(1,Pe.column-1),Pe.lineNumber+1,1),nt=de.getValueInRange(gt).split("").reverse().join("");ee.push(new _.T4(new l.Y(Pe.lineNumber,Math.max(1,Pe.column-1),Pe.lineNumber+1,1),nt))}else{const gt=new I.e(Pe.lineNumber,Math.max(1,Pe.column-1),Pe.lineNumber,Pe.column+1),nt=de.getValueInRange(gt).split("").reverse().join("");ee.push(new _.hP(gt,nt,new l.Y(Pe.lineNumber,Pe.column+1,Pe.lineNumber,Pe.column+1)))}}He.pushUndoStop(),He.executeCommands(this.id,ee),He.pushUndoStop()}}class se extends u.R6{run(ze,He){const Le=He.getSelections();if(Le===null)return;const de=He.getModel();if(de===null)return;const ee=He.getOption(126),ne=[];for(const me of Le)if(me.isEmpty()){const ue=me.getStartPosition(),Pe=He.getConfiguredWordAtPosition(ue);if(!Pe)continue;const ot=new I.e(ue.lineNumber,Pe.startColumn,ue.lineNumber,Pe.endColumn),gt=de.getValueInRange(ot);ne.push(V.h.replace(ot,this._modifyText(gt,ee)))}else{const ue=de.getValueInRange(me);ne.push(V.h.replace(me,this._modifyText(ue,ee)))}He.pushUndoStop(),He.executeEdits(this.id,ne),He.pushUndoStop()}}class q extends se{constructor(){super({id:"editor.action.transformToUppercase",label:B.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:d.u.writable})}_modifyText(ze,He){return ze.toLocaleUpperCase()}}class Ee extends se{constructor(){super({id:"editor.action.transformToLowercase",label:B.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:d.u.writable})}_modifyText(ze,He){return ze.toLocaleLowerCase()}}class Se{constructor(ze,He){this._pattern=ze,this._flags=He,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(ze){}}return this._actual}isSupported(){return this.get()!==null}}class we extends se{constructor(){super({id:"editor.action.transformToTitlecase",label:B.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:d.u.writable})}_modifyText(ze,He){const Le=we.titleBoundary.get();return Le?ze.toLocaleLowerCase().replace(Le,de=>de.toLocaleUpperCase()):ze}}we.titleBoundary=new Se("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ve extends se{constructor(){super({id:"editor.action.transformToSnakecase",label:B.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:d.u.writable})}_modifyText(ze,He){const Le=ve.caseBoundary.get(),de=ve.singleLetters.get();return!Le||!de?ze:ze.replace(Le,"$1_$2").replace(de,"$1_$2$3").toLocaleLowerCase()}}ve.caseBoundary=new Se("(\\p{Ll})(\\p{Lu})","gmu"),ve.singleLetters=new Se("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Ne extends se{constructor(){super({id:"editor.action.transformToCamelcase",label:B.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:d.u.writable})}_modifyText(ze,He){const Le=Ne.wordBoundary.get();if(!Le)return ze;const de=ze.split(Le);return de.shift()+de.map(ne=>ne.substring(0,1).toLocaleUpperCase()+ne.substring(1)).join("")}}Ne.wordBoundary=new Se("[_\\s-]","gm");class $e extends se{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(He=>He.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:B.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:d.u.writable})}_modifyText(ze,He){const Le=$e.caseBoundary.get(),de=$e.singleLetters.get(),ee=$e.underscoreBoundary.get();return!Le||!de||!ee?ze:ze.replace(ee,"$1-$3").replace(Le,"$1-$2").replace(de,"$1-$2").toLocaleLowerCase()}}$e.caseBoundary=new Se("(\\p{Ll})(\\p{Lu})","gmu"),$e.singleLetters=new Se("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),$e.underscoreBoundary=new Se("(\\S)(_)(\\S)","gm"),(0,u.Qr)(k),(0,u.Qr)(R),(0,u.Qr)($),(0,u.Qr)(Y),(0,u.Qr)(j),(0,u.Qr)(K),(0,u.Qr)(Z),(0,u.Qr)(fe),(0,u.Qr)(T),(0,u.Qr)(Re),(0,u.Qr)(Ce),(0,u.Qr)(_e),(0,u.Qr)(pe),(0,u.Qr)(le),(0,u.Qr)(he),(0,u.Qr)(je),(0,u.Qr)(Xe),(0,u.Qr)(Ve),(0,u.Qr)(q),(0,u.Qr)(Ee),ve.caseBoundary.isSupported()&&ve.singleLetters.isSupported()&&(0,u.Qr)(ve),Ne.wordBoundary.isSupported()&&(0,u.Qr)(Ne),we.titleBoundary.isSupported()&&(0,u.Qr)(we),$e.isSupported()&&(0,u.Qr)($e)},58997:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:function(){return F},LinkedEditingAction:function(){return A},LinkedEditingContribution:function(){return U},editorLinkedEditingBackground:function(){return $}});var f=t(16308),O=t(13484),u=t(97464),_=t(86741),p=t(20996),V=t(56709),I=t(38431),L=t(17416),E=t(28919),g=t(55298),a=t(5603),l=t(8964),d=t(50038),i=t(21081),s=t(45007),m=t(64603),b=t(26386),c=t(76826),v=t(35921),C=t(92537),S=t(69060),N=t(69344),P=function(J,Y,j,z){var K=arguments.length,Z=K<3?Y:z===null?z=Object.getOwnPropertyDescriptor(Y,j):z,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(J,Y,j,z);else for(var T=J.length-1;T>=0;T--)(fe=J[T])&&(Z=(K<3?fe(Z):K>3?fe(Y,j,Z):fe(Y,j))||Z);return K>3&&Z&&Object.defineProperty(Y,j,Z),Z},M=function(J,Y){return function(j,z){Y(j,z,J)}},D=function(J,Y,j,z){function K(Z){return Z instanceof j?Z:new j(function(fe){fe(Z)})}return new(j||(j=Promise))(function(Z,fe){function T(_e){try{Ce(z.next(_e))}catch(pe){fe(pe)}}function Re(_e){try{Ce(z.throw(_e))}catch(pe){fe(pe)}}function Ce(_e){_e.done?Z(_e.value):K(_e.value).then(T,Re)}Ce((z=z.apply(J,Y||[])).next())})};const F=new c.uy("LinkedEditingInputVisible",!1),B="linked-editing-decoration";let U=class vc extends I.JT{static get(Y){return Y.getContribution(vc.ID)}constructor(Y,j,z,K,Z){super(),this.languageConfigurationService=K,this._syncRangesToken=0,this._localToDispose=this._register(new I.SL),this._editor=Y,this._providers=z.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=F.bindTo(j),this._debounceInformation=Z.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new I.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(fe=>{(fe.hasChanged(67)||fe.hasChanged(89))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(Y){const j=this._editor.getModel(),z=j!==null&&(this._editor.getOption(67)||this._editor.getOption(89))&&this._providers.has(j);if(z===this._enabled&&!Y||(this._enabled=z,this.clearRanges(),this._localToDispose.clear(),!z||j===null))return;this._localToDispose.add(V.ju.runAndSubscribe(j.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(j.getLanguageId()).getWordDefinition()}));const K=new O.vp(this._debounceInformation.get(j)),Z=()=>{var Re;this._rangeUpdateTriggerPromise=K.trigger(()=>this.updateRanges(),(Re=this._debounceDuration)!==null&&Re!==void 0?Re:this._debounceInformation.get(j))},fe=new O.vp(0),T=Re=>{this._rangeSyncTriggerPromise=fe.trigger(()=>this._syncRanges(Re))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{Z()})),this._localToDispose.add(this._editor.onDidChangeModelContent(Re=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const Ce=this._currentDecorations.getRange(0);if(Ce&&Re.changes.every(_e=>Ce.intersectRanges(_e.range))){T(this._syncRangesToken);return}}Z()})),this._localToDispose.add({dispose:()=>{K.dispose(),fe.dispose()}}),this.updateRanges()}_syncRanges(Y){if(!this._editor.hasModel()||Y!==this._syncRangesToken||this._currentDecorations.length===0)return;const j=this._editor.getModel(),z=this._currentDecorations.getRange(0);if(!z||z.startLineNumber!==z.endLineNumber)return this.clearRanges();const K=j.getValueInRange(z);if(this._currentWordPattern){const fe=K.match(this._currentWordPattern);if((fe?fe[0].length:0)!==K.length)return this.clearRanges()}const Z=[];for(let fe=1,T=this._currentDecorations.length;fe<T;fe++){const Re=this._currentDecorations.getRange(fe);if(Re)if(Re.startLineNumber!==Re.endLineNumber)Z.push({range:Re,text:K});else{let Ce=j.getValueInRange(Re),_e=K,pe=Re.startColumn,le=Re.endColumn;const oe=L.Mh(Ce,_e);pe+=oe,Ce=Ce.substr(oe),_e=_e.substr(oe);const he=L.P1(Ce,_e);le-=he,Ce=Ce.substr(0,Ce.length-he),_e=_e.substr(0,_e.length-he),(pe!==le||_e.length!==0)&&Z.push({range:new d.e(Re.startLineNumber,pe,Re.endLineNumber,le),text:_e})}}if(Z.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const fe=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",Z),this._editor._getViewModel().setPrevEditOperationType(fe)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(Y=!1){return D(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const j=this._editor.getPosition();if(!this._enabled&&!Y||this._editor.getSelections().length>1){this.clearRanges();return}const z=this._editor.getModel(),K=z.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===K){if(j.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const fe=this._currentDecorations.getRange(0);if(fe&&fe.containsPosition(j))return}}this.clearRanges(),this._currentRequestPosition=j,this._currentRequestModelVersion=K;const Z=(0,O.PG)(fe=>D(this,void 0,void 0,function*(){try{const T=new N.G(!1),Re=yield R(this._providers,z,j,fe);if(this._debounceInformation.update(z,T.elapsed()),Z!==this._currentRequest||(this._currentRequest=null,K!==z.getVersionId()))return;let Ce=[];Re!=null&&Re.ranges&&(Ce=Re.ranges),this._currentWordPattern=(Re==null?void 0:Re.wordPattern)||this._languageWordPattern;let _e=!1;for(let le=0,oe=Ce.length;le<oe;le++)if(d.e.containsPosition(Ce[le],j)){if(_e=!0,le!==0){const he=Ce[le];Ce.splice(le,1),Ce.unshift(he)}break}if(!_e){this.clearRanges();return}const pe=Ce.map(le=>({range:le,options:vc.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(pe),this._syncRangesToken++}catch(T){(0,p.n2)(T)||(0,p.dL)(T),(this._currentRequest===Z||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=Z,Z})}};U.ID="editor.contrib.linkedEditing",U.DECORATION=s.qx.register({description:"linked-editing",stickiness:0,className:B}),U=P([M(1,c.i6),M(2,v.p),M(3,m.c_),M(4,S.A)],U);class A extends g.R6{constructor(){super({id:"editor.action.linkedEditing",label:b.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:c.Ao.and(i.u.writable,i.u.hasRenameProvider),kbOpts:{kbExpr:i.u.editorTextFocus,primary:3132,weight:100}})}runCommand(Y,j){const z=Y.get(a.$),[K,Z]=Array.isArray(j)&&j||[void 0,void 0];return E.o.isUri(K)&&l.L.isIPosition(Z)?z.openCodeEditor({resource:K},z.getActiveCodeEditor()).then(fe=>{fe&&(fe.setPosition(Z),fe.invokeWithinContext(T=>(this.reportTelemetry(T,fe),this.run(T,fe))))},p.dL):super.runCommand(Y,j)}run(Y,j){const z=U.get(j);return z?Promise.resolve(z.updateRanges(!0)):Promise.resolve()}}const k=g._l.bindToContribution(U.get);(0,g.fK)(new k({id:"cancelLinkedEditingInput",precondition:F,handler:J=>J.clearRanges(),kbOpts:{kbExpr:i.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function R(J,Y,j,z){const K=J.ordered(Y);return(0,O.Ps)(K.map(Z=>()=>D(this,void 0,void 0,function*(){try{return yield Z.provideLinkedEditingRanges(Y,j,z)}catch(fe){(0,p.Cp)(fe);return}})),Z=>!!Z&&f.Of(Z==null?void 0:Z.ranges))}const $=(0,C.P6G)("editor.linkedEditingBackground",{dark:_.Il.fromHex("#f00").transparent(.3),light:_.Il.fromHex("#f00").transparent(.3),hcDark:_.Il.fromHex("#f00").transparent(.3),hcLight:_.Il.white},b.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,g.sb)("_executeLinkedEditingProvider",(J,Y,j)=>{const{linkedEditingRangeProvider:z}=J.get(v.p);return R(z,Y,j,u.T.None)}),(0,g._K)(U.ID,U,1),(0,g.Qr)(A)},33814:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{LinkDetector:function(){return R}});var f=t(13484),O=t(97464),u=t(20996),_=t(69008),p=t(38431),V=t(5007),I=t(11138),L=t(6227),E=t(69344),g=t(28919),a=t(55298),l=t(45007),d=t(69060),i=t(35921),s=t(66931),m=t(16308),b=t(14818),c=t(50038),v=t(65041),C=t(80793),S=function(z,K,Z,fe){function T(Re){return Re instanceof Z?Re:new Z(function(Ce){Ce(Re)})}return new(Z||(Z=Promise))(function(Re,Ce){function _e(oe){try{le(fe.next(oe))}catch(he){Ce(he)}}function pe(oe){try{le(fe.throw(oe))}catch(he){Ce(he)}}function le(oe){oe.done?Re(oe.value):T(oe.value).then(_e,pe)}le((fe=fe.apply(z,K||[])).next())})};class N{constructor(K,Z){this._link=K,this._provider=Z}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(K){return S(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,K)).then(Z=>(this._link=Z||this._link,this._link.url?this.resolve(K):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class P{constructor(K){this._disposables=new p.SL;let Z=[];for(const[fe,T]of K){const Re=fe.links.map(Ce=>new N(Ce,T));Z=P._union(Z,Re),(0,p.Wf)(fe)&&this._disposables.add(fe)}this.links=Z}dispose(){this._disposables.dispose(),this.links.length=0}static _union(K,Z){const fe=[];let T,Re,Ce,_e;for(T=0,Ce=0,Re=K.length,_e=Z.length;T<Re&&Ce<_e;){const pe=K[T],le=Z[Ce];if(c.e.areIntersectingOrTouching(pe.range,le.range)){T++;continue}c.e.compareRangesUsingStarts(pe.range,le.range)<0?(fe.push(pe),T++):(fe.push(le),Ce++)}for(;T<Re;T++)fe.push(K[T]);for(;Ce<_e;Ce++)fe.push(Z[Ce]);return fe}}function M(z,K,Z){const fe=[],T=z.ordered(K).reverse().map((Re,Ce)=>Promise.resolve(Re.provideLinks(K,Z)).then(_e=>{_e&&(fe[Ce]=[_e,Re])},u.Cp));return Promise.all(T).then(()=>{const Re=new P((0,m.kX)(fe));return Z.isCancellationRequested?(Re.dispose(),new P([])):Re})}C.P.registerCommand("_executeLinkProvider",(z,...K)=>S(void 0,void 0,void 0,function*(){let[Z,fe]=K;(0,b.p_)(Z instanceof g.o),typeof fe!="number"&&(fe=0);const{linkProvider:T}=z.get(i.p),Re=z.get(v.q).getModel(Z);if(!Re)return[];const Ce=yield M(T,Re,O.T.None);if(!Ce)return[];for(let pe=0;pe<Math.min(fe,Ce.links.length);pe++)yield Ce.links[pe].resolve(O.T.None);const _e=Ce.links.slice(0);return Ce.dispose(),_e}));var D=t(26386),F=t(97968),B=t(48786),U=function(z,K,Z,fe){var T=arguments.length,Re=T<3?K:fe===null?fe=Object.getOwnPropertyDescriptor(K,Z):fe,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Re=Reflect.decorate(z,K,Z,fe);else for(var _e=z.length-1;_e>=0;_e--)(Ce=z[_e])&&(Re=(T<3?Ce(Re):T>3?Ce(K,Z,Re):Ce(K,Z))||Re);return T>3&&Re&&Object.defineProperty(K,Z,Re),Re},A=function(z,K){return function(Z,fe){K(Z,fe,z)}},k=function(z,K,Z,fe){function T(Re){return Re instanceof Z?Re:new Z(function(Ce){Ce(Re)})}return new(Z||(Z=Promise))(function(Re,Ce){function _e(oe){try{le(fe.next(oe))}catch(he){Ce(he)}}function pe(oe){try{le(fe.throw(oe))}catch(he){Ce(he)}}function le(oe){oe.done?Re(oe.value):T(oe.value).then(_e,pe)}le((fe=fe.apply(z,K||[])).next())})};let R=class ld extends p.JT{static get(K){return K.getContribution(ld.ID)}constructor(K,Z,fe,T,Re){super(),this.editor=K,this.openerService=Z,this.notificationService=fe,this.languageFeaturesService=T,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=Re.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new f.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const Ce=this._register(new s.yN(K));this._register(Ce.onMouseMoveOrRelevantKeyDown(([_e,pe])=>{this._onEditorMouseMove(_e,pe)})),this._register(Ce.onExecute(_e=>{this.onEditorMouseUp(_e)})),this._register(Ce.onCancel(_e=>{this.cleanUpActiveLinkDecoration()})),this._register(K.onDidChangeConfiguration(_e=>{_e.hasChanged(68)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(K.onDidChangeModelContent(_e=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(K.onDidChangeModel(_e=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(K.onDidChangeModelLanguage(_e=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(_e=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return k(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(68))return;const K=this.editor.getModel();if(this.providers.has(K)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,f.PG)(Z=>M(this.providers,K,Z));try{const Z=new E.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(K,Z.elapsed()),K.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(Z){(0,u.dL)(Z)}finally{this.computePromise=null}}})}updateDecorations(K){const Z=this.editor.getOption(75)==="altKey",fe=[],T=Object.keys(this.currentOccurrences);for(const Ce of T){const _e=this.currentOccurrences[Ce];fe.push(_e.decorationId)}const Re=[];if(K)for(const Ce of K)Re.push(J.decoration(Ce,Z));this.editor.changeDecorations(Ce=>{const _e=Ce.deltaDecorations(fe,Re);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let pe=0,le=_e.length;pe<le;pe++){const oe=new J(K[pe],_e[pe]);this.currentOccurrences[oe.decorationId]=oe}})}_onEditorMouseMove(K,Z){const fe=this.editor.getOption(75)==="altKey";if(this.isEnabled(K,Z)){this.cleanUpActiveLinkDecoration();const T=this.getLinkOccurrence(K.target.position);T&&this.editor.changeDecorations(Re=>{T.activate(Re,fe),this.activeLinkDecorationId=T.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const K=this.editor.getOption(75)==="altKey";if(this.activeLinkDecorationId){const Z=this.currentOccurrences[this.activeLinkDecorationId];Z&&this.editor.changeDecorations(fe=>{Z.deactivate(fe,K)}),this.activeLinkDecorationId=null}}onEditorMouseUp(K){if(!this.isEnabled(K))return;const Z=this.getLinkOccurrence(K.target.position);Z&&this.openLinkOccurrence(Z,K.hasSideBySideModifier,!0)}openLinkOccurrence(K,Z,fe=!1){if(!this.openerService)return;const{link:T}=K;T.resolve(O.T.None).then(Re=>{if(typeof Re=="string"&&this.editor.hasModel()){const Ce=this.editor.getModel().uri;if(Ce.scheme===V.lg.file&&Re.startsWith(`${V.lg.file}:`)){const _e=g.o.parse(Re);if(_e.scheme===V.lg.file){const pe=L.z_(_e);let le=null;pe.startsWith("/./")?le=`.${pe.substr(1)}`:pe.startsWith("//./")&&(le=`.${pe.substr(2)}`),le&&(Re=L.Vo(Ce,le))}}}return this.openerService.open(Re,{openToSide:Z,fromUserGesture:fe,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},Re=>{const Ce=Re instanceof Error?Re.message:Re;Ce==="invalid"?this.notificationService.warn(D.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",T.url.toString())):Ce==="missing"?this.notificationService.warn(D.NC("missing.url","Failed to open this link because its target is missing.")):(0,u.dL)(Re)})}getLinkOccurrence(K){if(!this.editor.hasModel()||!K)return null;const Z=this.editor.getModel().getDecorationsInRange({startLineNumber:K.lineNumber,startColumn:K.column,endLineNumber:K.lineNumber,endColumn:K.column},0,!0);for(const fe of Z){const T=this.currentOccurrences[fe.id];if(T)return T}return null}isEnabled(K,Z){return!!(K.target.type===6&&(K.hasTriggerModifier||Z&&Z.keyCodeIsTriggerKey))}stop(){var K;this.computeLinks.cancel(),this.activeLinksList&&((K=this.activeLinksList)===null||K===void 0||K.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};R.ID="editor.linkDetector",R=U([A(1,B.v4),A(2,F.lT),A(3,i.p),A(4,d.A)],R);const $={general:l.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:l.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class J{static decoration(K,Z){return{range:K.range,options:J._getOptions(K,Z,!1)}}static _getOptions(K,Z,fe){const T=Object.assign({},fe?$.active:$.general);return T.hoverMessage=Y(K,Z),T}constructor(K,Z){this.link=K,this.decorationId=Z}activate(K,Z){K.changeDecorationOptions(this.decorationId,J._getOptions(this.link,Z,!0))}deactivate(K,Z){K.changeDecorationOptions(this.decorationId,J._getOptions(this.link,Z,!1))}}function Y(z,K){const Z=z.url&&/^command:/i.test(z.url.toString()),fe=z.tooltip?z.tooltip:Z?D.NC("links.navigate.executeCmd","Execute command"):D.NC("links.navigate.follow","Follow link"),T=K?I.dz?D.NC("links.navigate.kb.meta.mac","cmd + click"):D.NC("links.navigate.kb.meta","ctrl + click"):I.dz?D.NC("links.navigate.kb.alt.mac","option + click"):D.NC("links.navigate.kb.alt","alt + click");if(z.url){let Re="";if(/^command:/i.test(z.url.toString())){const _e=z.url.toString().match(/^command:([^?#]+)/);if(_e){const pe=_e[1];Re=D.NC("tooltip.explanation","Execute command {0}",pe)}}return new _.W5("",!0).appendLink(z.url.toString(!0).replace(/ /g,"%20"),fe,Re).appendMarkdown(` (${T})`)}else return new _.W5().appendText(`${fe} (${T})`)}class j extends a.R6{constructor(){super({id:"editor.action.openLink",label:D.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(K,Z){const fe=R.get(Z);if(!fe||!Z.hasModel())return;const T=Z.getSelections();for(const Re of T){const Ce=fe.getLinkOccurrence(Re.getEndPosition());Ce&&fe.openLinkOccurrence(Ce,!1)}}}(0,a._K)(R.ID,R,1),(0,a.Qr)(j)},77723:function(Rt,Be,t){"use strict";t.r(Be);var f=t(38431),O=t(55298);class u extends f.JT{constructor(p){super(),this._editor=p,this._register(this._editor.onMouseDown(V=>{const I=this._editor.getOption(113);I>=0&&V.target.type===6&&V.target.position.column>=I&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}u.ID="editor.contrib.longLinesHelper",(0,O._K)(u.ID,u,2)},59397:function(Rt,Be,t){"use strict";t.d(Be,{$:function(){return i}});var f=t(10786),O=t(58352),u=t(20996),_=t(56709),p=t(38431),V=t(71344),I=t(47626),L=t(90638),E=t(7358),g=t(48786),a=function(b,c,v,C){var S=arguments.length,N=S<3?c:C===null?C=Object.getOwnPropertyDescriptor(c,v):C,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,c,v,C);else for(var M=b.length-1;M>=0;M--)(P=b[M])&&(N=(S<3?P(N):S>3?P(c,v,N):P(c,v))||N);return S>3&&N&&Object.defineProperty(c,v,N),N},l=function(b,c){return function(v,C){c(v,C,b)}},d=function(b,c,v,C){function S(N){return N instanceof v?N:new v(function(P){P(N)})}return new(v||(v=Promise))(function(N,P){function M(B){try{F(C.next(B))}catch(U){P(U)}}function D(B){try{F(C.throw(B))}catch(U){P(U)}}function F(B){B.done?N(B.value):S(B.value).then(M,D)}F((C=C.apply(b,c||[])).next())})};let i=class cd{constructor(c,v,C){this._options=c,this._languageService=v,this._openerService=C,this._onDidRenderAsync=new _.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(c,v,C){if(!c)return{element:document.createElement("span"),dispose:()=>{}};const S=new p.SL,N=S.add((0,f.ap)(c,Object.assign(Object.assign({},this._getRenderOptions(c,S)),v),C));return N.element.classList.add("rendered-markdown"),{element:N.element,dispose:()=>S.dispose()}}_getRenderOptions(c,v){return{codeBlockRenderer:(C,S)=>d(this,void 0,void 0,function*(){var N,P,M;let D;C?D=this._languageService.getLanguageIdByLanguageName(C):this._options.editor&&(D=(N=this._options.editor.getModel())===null||N===void 0?void 0:N.getLanguageId()),D||(D=L.bd);const F=yield(0,E.C2)(this._languageService,S,D),B=document.createElement("span");if(B.innerHTML=(M=(P=cd._ttpTokenizer)===null||P===void 0?void 0:P.createHTML(F))!==null&&M!==void 0?M:F,this._options.editor){const U=this._options.editor.getOption(48);(0,V.N)(B,U)}else this._options.codeBlockFontFamily&&(B.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(B.style.fontSize=this._options.codeBlockFontSize),B}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:C=>s(this._openerService,C,c.isTrusted),disposables:v}}}};i._ttpTokenizer=(0,O.Z)("tokenizeToString",{createHTML(b){return b}}),i=a([l(1,I.O),l(2,g.v4)],i);function s(b,c,v){return d(this,void 0,void 0,function*(){try{return yield b.open(c,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:m(v)})}catch(C){return(0,u.dL)(C),!1}})}function m(b){return b===!0?!0:b&&Array.isArray(b.enabledCommands)?b.enabledCommands:!1}},91591:function(Rt,Be,t){"use strict";t.d(Be,{O:function(){return g}});var f=t(79874),O=t(13484),u=t(38431),_=t(55298),p=t(50038),V=t(26386),I=t(76826),L=function(d,i,s,m){var b=arguments.length,c=b<3?i:m===null?m=Object.getOwnPropertyDescriptor(i,s):m,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(d,i,s,m);else for(var C=d.length-1;C>=0;C--)(v=d[C])&&(c=(b<3?v(c):b>3?v(i,s,c):v(i,s))||c);return b>3&&c&&Object.defineProperty(i,s,c),c},E=function(d,i){return function(s,m){i(s,m,d)}};let g=class _c{static get(i){return i.getContribution(_c.ID)}constructor(i,s){this._messageWidget=new u.XK,this._messageListeners=new u.SL,this._editor=i,this._visible=_c.MESSAGE_VISIBLE.bindTo(s)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(i,s){(0,f.Z9)(i),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new l(this._editor,s,i),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new O._F(()=>this.closeMessage(),3e3));let m;this._messageListeners.add(this._editor.onMouseMove(b=>{b.target.position&&(m?m.containsPosition(b.target.position)||this.closeMessage():m=new p.e(s.lineNumber-3,1,b.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(l.fadeOut(this._messageWidget.value))}};g.ID="editor.contrib.messageController",g.MESSAGE_VISIBLE=new I.uy("messageVisible",!1,V.NC("messageVisible","Whether the editor is currently showing an inline message")),g=L([E(1,I.i6)],g);const a=_._l.bindToContribution(g.get);(0,_.fK)(new a({id:"leaveEditorMessage",precondition:g.MESSAGE_VISIBLE,handler:d=>d.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class l{static fadeOut(i){const s=()=>{i.dispose(),clearTimeout(m),i.getDomNode().removeEventListener("animationend",s)},m=setTimeout(s,110);return i.getDomNode().addEventListener("animationend",s),i.getDomNode().classList.add("fadeOut"),{dispose:s}}constructor(i,{lineNumber:s,column:m},b){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=i,this._editor.revealLinesInCenterIfOutsideViewport(s,s,0),this._position={lineNumber:s,column:m},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const c=document.createElement("div");c.classList.add("anchor","top"),this._domNode.appendChild(c);const v=document.createElement("div");v.classList.add("message"),v.textContent=b,this._domNode.appendChild(v);const C=document.createElement("div");C.classList.add("anchor","below"),this._domNode.appendChild(C),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(i){this._domNode.classList.toggle("below",i===2)}}(0,_._K)(g.ID,g,4)},28188:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{AddSelectionToNextFindMatchAction:function(){return A},AddSelectionToPreviousFindMatchAction:function(){return k},CompatChangeAll:function(){return Y},FocusNextCursor:function(){return fe},FocusPreviousCursor:function(){return T},InsertCursorAbove:function(){return C},InsertCursorBelow:function(){return S},MoveSelectionToNextFindMatchAction:function(){return R},MoveSelectionToPreviousFindMatchAction:function(){return $},MultiCursorSelectionController:function(){return B},MultiCursorSelectionControllerAction:function(){return U},MultiCursorSession:function(){return F},MultiCursorSessionResult:function(){return D},SelectHighlightsAction:function(){return J},SelectionHighlighter:function(){return z}});var f=t(79874),O=t(13484),u=t(94880),_=t(38431),p=t(55298),V=t(81953),I=t(50038),L=t(57841),E=t(21081),g=t(27293),a=t(26386),l=t(21208),d=t(76826),i=t(35921),s=t(98749),m=t(44333),b=function(Re,Ce,_e,pe){var le=arguments.length,oe=le<3?Ce:pe===null?pe=Object.getOwnPropertyDescriptor(Ce,_e):pe,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Re,Ce,_e,pe);else for(var je=Re.length-1;je>=0;je--)(he=Re[je])&&(oe=(le<3?he(oe):le>3?he(Ce,_e,oe):he(Ce,_e))||oe);return le>3&&oe&&Object.defineProperty(Ce,_e,oe),oe},c=function(Re,Ce){return function(_e,pe){Ce(_e,pe,Re)}};function v(Re,Ce){const _e=Ce.filter(pe=>!Re.find(le=>le.equals(pe)));if(_e.length>=1){const pe=_e.map(oe=>`line ${oe.viewState.position.lineNumber} column ${oe.viewState.position.column}`).join(", "),le=_e.length===1?a.NC("cursorAdded","Cursor added: {0}",pe):a.NC("cursorsAdded","Cursors added: {0}",pe);(0,f.i7)(le)}}class C extends p.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:a.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:l.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(Ce,_e,pe){if(!_e.hasModel())return;let le=!0;pe&&pe.logicalLine===!1&&(le=!1);const oe=_e._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const he=oe.getCursorStates();oe.setCursorStates(pe.source,3,V.P.addCursorUp(oe,he,le)),oe.revealTopMostCursor(pe.source),v(he,oe.getCursorStates())}}class S extends p.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:a.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:l.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(Ce,_e,pe){if(!_e.hasModel())return;let le=!0;pe&&pe.logicalLine===!1&&(le=!1);const oe=_e._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const he=oe.getCursorStates();oe.setCursorStates(pe.source,3,V.P.addCursorDown(oe,he,le)),oe.revealBottomMostCursor(pe.source),v(he,oe.getCursorStates())}}class N extends p.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:a.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:l.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(Ce,_e,pe){if(!Ce.isEmpty()){for(let le=Ce.startLineNumber;le<Ce.endLineNumber;le++){const oe=_e.getLineMaxColumn(le);pe.push(new L.Y(le,oe,le,oe))}Ce.endColumn>1&&pe.push(new L.Y(Ce.endLineNumber,Ce.endColumn,Ce.endLineNumber,Ce.endColumn))}}run(Ce,_e){if(!_e.hasModel())return;const pe=_e.getModel(),le=_e.getSelections(),oe=_e._getViewModel(),he=oe.getCursorStates(),je=[];le.forEach(Xe=>this.getCursorsForSelection(Xe,pe,je)),je.length>0&&_e.setSelections(je),v(he,oe.getCursorStates())}}class P extends p.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:a.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(Ce,_e){if(!_e.hasModel())return;const pe=_e.getSelections(),le=_e.getModel().getLineCount(),oe=[];for(let Xe=pe[0].startLineNumber;Xe<=le;Xe++)oe.push(new L.Y(Xe,pe[0].startColumn,Xe,pe[0].endColumn));const he=_e._getViewModel(),je=he.getCursorStates();oe.length>0&&_e.setSelections(oe),v(je,he.getCursorStates())}}class M extends p.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:a.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(Ce,_e){if(!_e.hasModel())return;const pe=_e.getSelections(),le=[];for(let je=pe[0].startLineNumber;je>=1;je--)le.push(new L.Y(je,pe[0].startColumn,je,pe[0].endColumn));const oe=_e._getViewModel(),he=oe.getCursorStates();le.length>0&&_e.setSelections(le),v(he,oe.getCursorStates())}}class D{constructor(Ce,_e,pe){this.selections=Ce,this.revealRange=_e,this.revealScrollType=pe}}class F{static create(Ce,_e){if(!Ce.hasModel())return null;const pe=_e.getState();if(!Ce.hasTextFocus()&&pe.isRevealed&&pe.searchString.length>0)return new F(Ce,_e,!1,pe.searchString,pe.wholeWord,pe.matchCase,null);let le=!1,oe,he;const je=Ce.getSelections();je.length===1&&je[0].isEmpty()?(le=!0,oe=!0,he=!0):(oe=pe.wholeWord,he=pe.matchCase);const Xe=Ce.getSelection();let Ve,se=null;if(Xe.isEmpty()){const q=Ce.getConfiguredWordAtPosition(Xe.getStartPosition());if(!q)return null;Ve=q.word,se=new L.Y(Xe.startLineNumber,q.startColumn,Xe.startLineNumber,q.endColumn)}else Ve=Ce.getModel().getValueInRange(Xe).replace(/\r\n/g,`
`);return new F(Ce,_e,le,Ve,oe,he,se)}constructor(Ce,_e,pe,le,oe,he,je){this._editor=Ce,this.findController=_e,this.isDisconnectedFromFindController=pe,this.searchText=le,this.wholeWord=oe,this.matchCase=he,this.currentMatch=je}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Ce=this._getNextMatch();if(!Ce)return null;const _e=this._editor.getSelections();return new D(_e.concat(Ce),Ce,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Ce=this._getNextMatch();if(!Ce)return null;const _e=this._editor.getSelections();return new D(_e.slice(0,_e.length-1).concat(Ce),Ce,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const le=this.currentMatch;return this.currentMatch=null,le}this.findController.highlightFindOptions();const Ce=this._editor.getSelections(),_e=Ce[Ce.length-1],pe=this._editor.getModel().findNextMatch(this.searchText,_e.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1);return pe?new L.Y(pe.range.startLineNumber,pe.range.startColumn,pe.range.endLineNumber,pe.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Ce=this._getPreviousMatch();if(!Ce)return null;const _e=this._editor.getSelections();return new D(_e.concat(Ce),Ce,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Ce=this._getPreviousMatch();if(!Ce)return null;const _e=this._editor.getSelections();return new D(_e.slice(0,_e.length-1).concat(Ce),Ce,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const le=this.currentMatch;return this.currentMatch=null,le}this.findController.highlightFindOptions();const Ce=this._editor.getSelections(),_e=Ce[Ce.length-1],pe=this._editor.getModel().findPreviousMatch(this.searchText,_e.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1);return pe?new L.Y(pe.range.startLineNumber,pe.range.startColumn,pe.range.endLineNumber,pe.range.endColumn):null}selectAll(Ce){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const _e=this._editor.getModel();return Ce?_e.findMatches(this.searchText,Ce,!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1,1073741824):_e.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1,1073741824)}}class B extends _.JT{static get(Ce){return Ce.getContribution(B.ID)}constructor(Ce){super(),this._sessionDispose=this._register(new _.SL),this._editor=Ce,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(Ce){if(!this._session){const _e=F.create(this._editor,Ce);if(!_e)return;this._session=_e;const pe={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(pe.wholeWordOverride=1,pe.matchCaseOverride=1,pe.isRegexOverride=2),Ce.getState().change(pe,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(le=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(Ce.getState().onFindReplaceStateChange(le=>{(le.matchCase||le.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const Ce={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(Ce,!1)}this._session=null}_setSelections(Ce){this._ignoreSelectionChange=!0,this._editor.setSelections(Ce),this._ignoreSelectionChange=!1}_expandEmptyToWord(Ce,_e){if(!_e.isEmpty())return _e;const pe=this._editor.getConfiguredWordAtPosition(_e.getStartPosition());return pe?new L.Y(_e.startLineNumber,pe.startColumn,_e.startLineNumber,pe.endColumn):_e}_applySessionResult(Ce){Ce&&(this._setSelections(Ce.selections),Ce.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(Ce.revealRange,Ce.revealScrollType))}getSession(Ce){return this._session}addSelectionToNextFindMatch(Ce){if(this._editor.hasModel()){if(!this._session){const _e=this._editor.getSelections();if(_e.length>1){const le=Ce.getState().matchCase;if(!K(this._editor.getModel(),_e,le)){const he=this._editor.getModel(),je=[];for(let Xe=0,Ve=_e.length;Xe<Ve;Xe++)je[Xe]=this._expandEmptyToWord(he,_e[Xe]);this._editor.setSelections(je);return}}}this._beginSessionIfNeeded(Ce),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(Ce){this._beginSessionIfNeeded(Ce),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(Ce){this._beginSessionIfNeeded(Ce),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(Ce){this._beginSessionIfNeeded(Ce),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(Ce){if(!this._editor.hasModel())return;let _e=null;const pe=Ce.getState();if(pe.isRevealed&&pe.searchString.length>0&&pe.isRegex){const le=this._editor.getModel();pe.searchScope?_e=le.findMatches(pe.searchString,pe.searchScope,pe.isRegex,pe.matchCase,pe.wholeWord?this._editor.getOption(126):null,!1,1073741824):_e=le.findMatches(pe.searchString,!0,pe.isRegex,pe.matchCase,pe.wholeWord?this._editor.getOption(126):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(Ce),!this._session)return;_e=this._session.selectAll(pe.searchScope)}if(_e.length>0){const le=this._editor.getSelection();for(let oe=0,he=_e.length;oe<he;oe++){const je=_e[oe];if(je.range.intersectRanges(le)){_e[oe]=_e[0],_e[0]=je;break}}this._setSelections(_e.map(oe=>new L.Y(oe.range.startLineNumber,oe.range.startColumn,oe.range.endLineNumber,oe.range.endColumn)))}}}B.ID="editor.contrib.multiCursorController";class U extends p.R6{run(Ce,_e){const pe=B.get(_e);if(!pe)return;const le=_e._getViewModel();if(le){const oe=le.getCursorStates(),he=g.CommonFindController.get(_e);if(he)this._run(pe,he);else{const je=Ce.get(m.TG).createInstance(g.CommonFindController,_e);this._run(pe,je),je.dispose()}v(oe,le.getCursorStates())}}}class A extends U{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:a.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:2082,weight:100},menuOpts:{menuId:l.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(Ce,_e){Ce.addSelectionToNextFindMatch(_e)}}class k extends U{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:a.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:l.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(Ce,_e){Ce.addSelectionToPreviousFindMatch(_e)}}class R extends U{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:a.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:(0,u.gx)(2089,2082),weight:100}})}_run(Ce,_e){Ce.moveSelectionToNextFindMatch(_e)}}class $ extends U{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:a.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(Ce,_e){Ce.moveSelectionToPreviousFindMatch(_e)}}class J extends U{constructor(){super({id:"editor.action.selectHighlights",label:a.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:3114,weight:100},menuOpts:{menuId:l.eH.MenubarSelectionMenu,group:"3_multi",title:a.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(Ce,_e){Ce.selectAll(_e)}}class Y extends U{constructor(){super({id:"editor.action.changeAll",label:a.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:d.Ao.and(E.u.writable,E.u.editorTextFocus),kbOpts:{kbExpr:E.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(Ce,_e){Ce.selectAll(_e)}}class j{constructor(Ce,_e,pe,le,oe){this._model=Ce,this._searchText=_e,this._matchCase=pe,this._wordSeparators=le,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,oe&&this._model===oe._model&&this._searchText===oe._searchText&&this._matchCase===oe._matchCase&&this._wordSeparators===oe._wordSeparators&&this._modelVersionId===oe._modelVersionId&&(this._cachedFindMatches=oe._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(Ce=>Ce.range),this._cachedFindMatches.sort(I.e.compareRangesUsingStarts)),this._cachedFindMatches}}let z=class dd extends _.JT{constructor(Ce,_e){super(),this._languageFeaturesService=_e,this.editor=Ce,this._isEnabled=Ce.getOption(104),this._decorations=Ce.createDecorationsCollection(),this.updateSoon=this._register(new O.pY(()=>this._update(),300)),this.state=null,this._register(Ce.onDidChangeConfiguration(le=>{this._isEnabled=Ce.getOption(104)})),this._register(Ce.onDidChangeCursorSelection(le=>{this._isEnabled&&(le.selection.isEmpty()?le.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(Ce.onDidChangeModel(le=>{this._setState(null)})),this._register(Ce.onDidChangeModelContent(le=>{this._isEnabled&&this.updateSoon.schedule()}));const pe=g.CommonFindController.get(Ce);pe&&this._register(pe.getState().onFindReplaceStateChange(le=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(dd._createState(this.state,this._isEnabled,this.editor))}static _createState(Ce,_e,pe){if(!_e||!pe.hasModel())return null;const le=pe.getSelection();if(le.startLineNumber!==le.endLineNumber)return null;const oe=B.get(pe);if(!oe)return null;const he=g.CommonFindController.get(pe);if(!he)return null;let je=oe.getSession(he);if(!je){const se=pe.getSelections();if(se.length>1){const Ee=he.getState().matchCase;if(!K(pe.getModel(),se,Ee))return null}je=F.create(pe,he)}if(!je||je.currentMatch||/^[ \t]+$/.test(je.searchText)||je.searchText.length>200)return null;const Xe=he.getState(),Ve=Xe.matchCase;if(Xe.isRevealed){let se=Xe.searchString;Ve||(se=se.toLowerCase());let q=je.searchText;if(Ve||(q=q.toLowerCase()),se===q&&je.matchCase===Xe.matchCase&&je.wholeWord===Xe.wholeWord&&!Xe.isRegex)return null}return new j(pe.getModel(),je.searchText,je.matchCase,je.wholeWord?pe.getOption(126):null,Ce)}_setState(Ce){if(this.state=Ce,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const _e=this.editor.getModel();if(_e.isTooLargeForTokenization())return;const pe=this.state.findMatches(),le=this.editor.getSelections();le.sort(I.e.compareRangesUsingStarts);const oe=[];for(let Xe=0,Ve=0,se=pe.length,q=le.length;Xe<se;){const Ee=pe[Xe];if(Ve>=q)oe.push(Ee),Xe++;else{const Se=I.e.compareRangesUsingStarts(Ee,le[Ve]);Se<0?((le[Ve].isEmpty()||!I.e.areIntersecting(Ee,le[Ve]))&&oe.push(Ee),Xe++):(Se>0||Xe++,Ve++)}}const he=this._languageFeaturesService.documentHighlightProvider.has(_e)&&this.editor.getOption(78),je=oe.map(Xe=>({range:Xe,options:(0,s.w)(he)}));this._decorations.set(je)}dispose(){this._setState(null),super.dispose()}};z.ID="editor.contrib.selectionHighlighter",z=b([c(1,i.p)],z);function K(Re,Ce,_e){const pe=Z(Re,Ce[0],!_e);for(let le=1,oe=Ce.length;le<oe;le++){const he=Ce[le];if(he.isEmpty())return!1;const je=Z(Re,he,!_e);if(pe!==je)return!1}return!0}function Z(Re,Ce,_e){const pe=Re.getValueInRange(Ce);return _e?pe.toLowerCase():pe}class fe extends p.R6{constructor(){super({id:"editor.action.focusNextCursor",label:a.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:a.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(Ce,_e,pe){if(!_e.hasModel())return;const le=_e._getViewModel();if(le.cursorConfig.readOnly)return;le.model.pushStackElement();const oe=Array.from(le.getCursorStates()),he=oe.shift();he&&(oe.push(he),le.setCursorStates(pe.source,3,oe),le.revealPrimaryCursor(pe.source,!0),v(oe,le.getCursorStates()))}}class T extends p.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:a.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:a.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(Ce,_e,pe){if(!_e.hasModel())return;const le=_e._getViewModel();if(le.cursorConfig.readOnly)return;le.model.pushStackElement();const oe=Array.from(le.getCursorStates()),he=oe.pop();he&&(oe.unshift(he),le.setCursorStates(pe.source,3,oe),le.revealPrimaryCursor(pe.source,!0),v(oe,le.getCursorStates()))}}(0,p._K)(B.ID,B,4),(0,p._K)(z.ID,z,1),(0,p.Qr)(C),(0,p.Qr)(S),(0,p.Qr)(N),(0,p.Qr)(A),(0,p.Qr)(k),(0,p.Qr)(R),(0,p.Qr)($),(0,p.Qr)(J),(0,p.Qr)(Y),(0,p.Qr)(P),(0,p.Qr)(M),(0,p.Qr)(fe),(0,p.Qr)(T)},44091:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{TriggerParameterHintsAction:function(){return he}});var f=t(51280),O=t(38431),u=t(55298),_=t(21081),p=t(36082),V=t(35921),I=t(13484),L=t(20996),E=t(56709),g=t(55224),a=t(97464),l=t(14818),d=t(28919),i=t(8964),s=t(91223),m=t(80793),b=t(76826),c=function(Ve,se,q,Ee){function Se(we){return we instanceof q?we:new q(function(ve){ve(we)})}return new(q||(q=Promise))(function(we,ve){function Ne(ze){try{Ke(Ee.next(ze))}catch(He){ve(He)}}function $e(ze){try{Ke(Ee.throw(ze))}catch(He){ve(He)}}function Ke(ze){ze.done?we(ze.value):Se(ze.value).then(Ne,$e)}Ke((Ee=Ee.apply(Ve,se||[])).next())})};const v={Visible:new b.uy("parameterHintsVisible",!1),MultipleSignatures:new b.uy("parameterHintsMultipleSignatures",!1)};function C(Ve,se,q,Ee,Se){return c(this,void 0,void 0,function*(){const we=Ve.ordered(se);for(const ve of we)try{const Ne=yield ve.provideSignatureHelp(se,q,Se,Ee);if(Ne)return Ne}catch(Ne){(0,L.Cp)(Ne)}})}m.P.registerCommand("_executeSignatureHelpProvider",(Ve,...se)=>c(void 0,void 0,void 0,function*(){const[q,Ee,Se]=se;(0,l.p_)(d.o.isUri(q)),(0,l.p_)(i.L.isIPosition(Ee)),(0,l.p_)(typeof Se=="string"||!Se);const we=Ve.get(V.p),ve=yield Ve.get(s.S).createModelReference(q);try{const Ne=yield C(we.signatureHelpProvider,ve.object.textEditorModel,i.L.lift(Ee),{triggerKind:p.WW.Invoke,isRetrigger:!1,triggerCharacter:Se},a.T.None);return Ne?(setTimeout(()=>Ne.dispose(),0),Ne.value):void 0}finally{ve.dispose()}}));var S=function(Ve,se,q,Ee){function Se(we){return we instanceof q?we:new q(function(ve){ve(we)})}return new(q||(q=Promise))(function(we,ve){function Ne(ze){try{Ke(Ee.next(ze))}catch(He){ve(He)}}function $e(ze){try{Ke(Ee.throw(ze))}catch(He){ve(He)}}function Ke(ze){ze.done?we(ze.value):Se(ze.value).then(Ne,$e)}Ke((Ee=Ee.apply(Ve,se||[])).next())})},N;(function(Ve){Ve.Default={type:0};class se{constructor(Se,we){this.request=Se,this.previouslyActiveHints=we,this.type=2}}Ve.Pending=se;class q{constructor(Se){this.hints=Se,this.type=1}}Ve.Active=q})(N||(N={}));class P extends O.JT{constructor(se,q,Ee=P.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new E.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=N.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new O.XK),this.triggerChars=new g.q,this.retriggerChars=new g.q,this.triggerId=0,this.editor=se,this.providers=q,this.throttledDelayer=new I.vp(Ee),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(Se=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(Se=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(Se=>this.onCursorChange(Se))),this._register(this.editor.onDidChangeModelContent(Se=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(Se=>this.onDidType(Se))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(se){this._state.type===2&&this._state.request.cancel(),this._state=se}cancel(se=!1){this.state=N.Default,this.throttledDelayer.cancel(),se||this._onChangedHints.fire(void 0)}trigger(se,q){const Ee=this.editor.getModel();if(!Ee||!this.providers.has(Ee))return;const Se=++this.triggerId;this._pendingTriggers.push(se),this.throttledDelayer.trigger(()=>this.doTrigger(Se),q).catch(L.dL)}next(){if(this.state.type!==1)return;const se=this.state.hints.signatures.length,q=this.state.hints.activeSignature,Ee=q%se===se-1,Se=this.editor.getOption(83).cycle;if((se<2||Ee)&&!Se){this.cancel();return}this.updateActiveSignature(Ee&&Se?0:q+1)}previous(){if(this.state.type!==1)return;const se=this.state.hints.signatures.length,q=this.state.hints.activeSignature,Ee=q===0,Se=this.editor.getOption(83).cycle;if((se<2||Ee)&&!Se){this.cancel();return}this.updateActiveSignature(Ee&&Se?se-1:q-1)}updateActiveSignature(se){this.state.type===1&&(this.state=new N.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:se})),this._onChangedHints.fire(this.state.hints))}doTrigger(se){return S(this,void 0,void 0,function*(){const q=this.state.type===1||this.state.type===2,Ee=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const Se=this._pendingTriggers.reduce(M);this._pendingTriggers=[];const we={triggerKind:Se.triggerKind,triggerCharacter:Se.triggerCharacter,isRetrigger:q,activeSignatureHelp:Ee};if(!this.editor.hasModel())return!1;const ve=this.editor.getModel(),Ne=this.editor.getPosition();this.state=new N.Pending((0,I.PG)($e=>C(this.providers,ve,Ne,we,$e)),Ee);try{const $e=yield this.state.request;return se!==this.triggerId?($e==null||$e.dispose(),!1):!$e||!$e.value.signatures||$e.value.signatures.length===0?($e==null||$e.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new N.Active($e.value),this._lastSignatureHelpResult.value=$e,this._onChangedHints.fire(this.state.hints),!0)}catch($e){return se===this.triggerId&&(this.state=N.Default),(0,L.dL)($e),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const se=this.editor.getModel();if(se)for(const q of this.providers.ordered(se)){for(const Ee of q.signatureHelpTriggerCharacters||[])if(Ee.length){const Se=Ee.charCodeAt(0);this.triggerChars.add(Se),this.retriggerChars.add(Se)}for(const Ee of q.signatureHelpRetriggerCharacters||[])Ee.length&&this.retriggerChars.add(Ee.charCodeAt(0))}}onDidType(se){if(!this.triggerOnType)return;const q=se.length-1,Ee=se.charCodeAt(q);(this.triggerChars.has(Ee)||this.isTriggered&&this.retriggerChars.has(Ee))&&this.trigger({triggerKind:p.WW.TriggerCharacter,triggerCharacter:se.charAt(q)})}onCursorChange(se){se.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(83).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}P.DEFAULT_DELAY=120;function M(Ve,se){switch(se.triggerKind){case p.WW.Invoke:return se;case p.WW.ContentChange:return Ve;case p.WW.TriggerCharacter:default:return se}}var D=t(26386),F=t(44333),B=t(34441),U=t(79874),A=t(60018),k=t(407),R=t(17416),$=t(47626),J=t(59397),Y=t(48786),j=t(92537),z=t(89528),K=t(8216),Z=function(Ve,se,q,Ee){var Se=arguments.length,we=Se<3?se:Ee===null?Ee=Object.getOwnPropertyDescriptor(se,q):Ee,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(Ve,se,q,Ee);else for(var Ne=Ve.length-1;Ne>=0;Ne--)(ve=Ve[Ne])&&(we=(Se<3?ve(we):Se>3?ve(se,q,we):ve(se,q))||we);return Se>3&&we&&Object.defineProperty(se,q,we),we},fe=function(Ve,se){return function(q,Ee){se(q,Ee,Ve)}};const T=B.$,Re=(0,z.q5)("parameter-hints-next",k.l.chevronDown,D.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),Ce=(0,z.q5)("parameter-hints-previous",k.l.chevronUp,D.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let _e=class ud extends O.JT{constructor(se,q,Ee,Se,we){super(),this.editor=se,this.model=q,this.renderDisposeables=this._register(new O.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new J.$({editor:se},we,Se)),this.keyVisible=v.Visible.bindTo(Ee),this.keyMultipleSignatures=v.MultipleSignatures.bindTo(Ee)}createParameterHintDOMNodes(){const se=T(".editor-widget.parameter-hints-widget"),q=B.R3(se,T(".phwrapper"));q.tabIndex=-1;const Ee=B.R3(q,T(".controls")),Se=B.R3(Ee,T(".button"+K.k.asCSSSelector(Ce))),we=B.R3(Ee,T(".overloads")),ve=B.R3(Ee,T(".button"+K.k.asCSSSelector(Re)));this._register(B.nm(Se,"click",Le=>{B.zB.stop(Le),this.previous()})),this._register(B.nm(ve,"click",Le=>{B.zB.stop(Le),this.next()}));const Ne=T(".body"),$e=new A.s$(Ne,{alwaysConsumeMouseWheel:!0});this._register($e),q.appendChild($e.getDomNode());const Ke=B.R3(Ne,T(".signature")),ze=B.R3(Ne,T(".docs"));se.style.userSelect="text",this.domNodes={element:se,signature:Ke,overloads:we,docs:ze,scrollbar:$e},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Le=>{this.visible&&this.editor.layoutContentWidget(this)}));const He=()=>{if(!this.domNodes)return;const Le=this.editor.getOption(48);this.domNodes.element.style.fontSize=`${Le.fontSize}px`,this.domNodes.element.style.lineHeight=`${Le.lineHeight/Le.fontSize}`};He(),this._register(E.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(Le=>Le.hasChanged(48)).on(He,null)),this._register(this.editor.onDidLayoutChange(Le=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var se;(se=this.domNodes)===null||se===void 0||se.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var se;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(se=this.domNodes)===null||se===void 0||se.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(se){var q;if(this.renderDisposeables.clear(),!this.domNodes)return;const Ee=se.signatures.length>1;this.domNodes.element.classList.toggle("multiple",Ee),this.keyMultipleSignatures.set(Ee),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const Se=se.signatures[se.activeSignature];if(!Se)return;const we=B.R3(this.domNodes.signature,T(".code")),ve=this.editor.getOption(48);we.style.fontSize=`${ve.fontSize}px`,we.style.fontFamily=ve.fontFamily;const Ne=Se.parameters.length>0,$e=(q=Se.activeParameter)!==null&&q!==void 0?q:se.activeParameter;if(Ne)this.renderParameters(we,Se,$e);else{const He=B.R3(we,T("span"));He.textContent=Se.label}const Ke=Se.parameters[$e];if(Ke!=null&&Ke.documentation){const He=T("span.documentation");if(typeof Ke.documentation=="string")He.textContent=Ke.documentation;else{const Le=this.renderMarkdownDocs(Ke.documentation);He.appendChild(Le.element)}B.R3(this.domNodes.docs,T("p",{},He))}if(Se.documentation!==void 0)if(typeof Se.documentation=="string")B.R3(this.domNodes.docs,T("p",{},Se.documentation));else{const He=this.renderMarkdownDocs(Se.documentation);B.R3(this.domNodes.docs,He.element)}const ze=this.hasDocs(Se,Ke);if(this.domNodes.signature.classList.toggle("has-docs",ze),this.domNodes.docs.classList.toggle("empty",!ze),this.domNodes.overloads.textContent=String(se.activeSignature+1).padStart(se.signatures.length.toString().length,"0")+"/"+se.signatures.length,Ke){let He="";const Le=Se.parameters[$e];Array.isArray(Le.label)?He=Se.label.substring(Le.label[0],Le.label[1]):He=Le.label,Le.documentation&&(He+=typeof Le.documentation=="string"?`, ${Le.documentation}`:`, ${Le.documentation.value}`),Se.documentation&&(He+=typeof Se.documentation=="string"?`, ${Se.documentation}`:`, ${Se.documentation.value}`),this.announcedLabel!==He&&(U.Z9(D.NC("hint","{0}, hint",He)),this.announcedLabel=He)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(se){const q=this.renderDisposeables.add(this.markdownRenderer.render(se,{asyncRenderCallback:()=>{var Ee;(Ee=this.domNodes)===null||Ee===void 0||Ee.scrollbar.scanDomNode()}}));return q.element.classList.add("markdown-docs"),q}hasDocs(se,q){return!!(q&&typeof q.documentation=="string"&&(0,l.cW)(q.documentation).length>0||q&&typeof q.documentation=="object"&&(0,l.cW)(q.documentation).value.length>0||se.documentation&&typeof se.documentation=="string"&&(0,l.cW)(se.documentation).length>0||se.documentation&&typeof se.documentation=="object"&&(0,l.cW)(se.documentation.value).length>0)}renderParameters(se,q,Ee){const[Se,we]=this.getParameterLabelOffsets(q,Ee),ve=document.createElement("span");ve.textContent=q.label.substring(0,Se);const Ne=document.createElement("span");Ne.textContent=q.label.substring(Se,we),Ne.className="parameter active";const $e=document.createElement("span");$e.textContent=q.label.substring(we),B.R3(se,ve,Ne,$e)}getParameterLabelOffsets(se,q){const Ee=se.parameters[q];if(Ee){if(Array.isArray(Ee.label))return Ee.label;if(Ee.label.length){const Se=new RegExp(`(\\W|^)${(0,R.ec)(Ee.label)}(?=\\W|$)`,"g");Se.test(se.label);const we=Se.lastIndex-Ee.label.length;return we>=0?[we,Se.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return ud.ID}updateMaxHeight(){if(!this.domNodes)return;const q=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=q;const Ee=this.domNodes.element.getElementsByClassName("phwrapper");Ee.length&&(Ee[0].style.maxHeight=q)}};_e.ID="editor.widget.parameterHintsWidget",_e=Z([fe(2,b.i6),fe(3,Y.v4),fe(4,$.O)],_e),(0,j.P6G)("editorHoverWidget.highlightForeground",{dark:j.Gwp,light:j.Gwp,hcDark:j.Gwp,hcLight:j.Gwp},D.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var pe=function(Ve,se,q,Ee){var Se=arguments.length,we=Se<3?se:Ee===null?Ee=Object.getOwnPropertyDescriptor(se,q):Ee,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(Ve,se,q,Ee);else for(var Ne=Ve.length-1;Ne>=0;Ne--)(ve=Ve[Ne])&&(we=(Se<3?ve(we):Se>3?ve(se,q,we):ve(se,q))||we);return Se>3&&we&&Object.defineProperty(se,q,we),we},le=function(Ve,se){return function(q,Ee){se(q,Ee,Ve)}};let oe=class hd extends O.JT{static get(se){return se.getContribution(hd.ID)}constructor(se,q,Ee){super(),this.editor=se,this.model=this._register(new P(se,Ee.signatureHelpProvider)),this._register(this.model.onChangedHints(Se=>{var we;Se?(this.widget.value.show(),this.widget.value.render(Se)):(we=this.widget.rawValue)===null||we===void 0||we.hide()})),this.widget=new f.o(()=>this._register(q.createInstance(_e,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var se;(se=this.widget.rawValue)===null||se===void 0||se.previous()}next(){var se;(se=this.widget.rawValue)===null||se===void 0||se.next()}trigger(se){this.model.trigger(se,0)}};oe.ID="editor.controller.parameterHints",oe=pe([le(1,F.TG),le(2,V.p)],oe);class he extends u.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:D.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:_.u.hasSignatureHelpProvider,kbOpts:{kbExpr:_.u.editorTextFocus,primary:3082,weight:100}})}run(se,q){const Ee=oe.get(q);Ee==null||Ee.trigger({triggerKind:p.WW.Invoke})}}(0,u._K)(oe.ID,oe,2),(0,u.Qr)(he);const je=100+75,Xe=u._l.bindToContribution(oe.get);(0,u.fK)(new Xe({id:"closeParameterHints",precondition:v.Visible,handler:Ve=>Ve.cancel(),kbOpts:{weight:je,kbExpr:_.u.focus,primary:9,secondary:[1033]}})),(0,u.fK)(new Xe({id:"showPrevParameterHint",precondition:b.Ao.and(v.Visible,v.MultipleSignatures),handler:Ve=>Ve.previous(),kbOpts:{weight:je,kbExpr:_.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,u.fK)(new Xe({id:"showNextParameterHint",precondition:b.Ao.and(v.Visible,v.MultipleSignatures),handler:Ve=>Ve.next(),kbOpts:{weight:je,kbExpr:_.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},10479:function(Rt,Be,t){"use strict";t.d(Be,{Fw:function(){return $},Jy:function(){return J},vk:function(){return K},rc:function(){return j},SC:function(){return Re},M8:function(){return Ce},KY:function(){return Z},IH:function(){return fe},R7:function(){return T}});var f=t(34441),O=t(67235),u=t(98299),_=t(407),p=t(8216),V=t(86741),I=t(56709),L=t(23127),E=t(55298),g=t(5603),a=t(77957),l=t(52243),d=t(6100),i=t(38431),s=t(50038),m=t(45007);const b=new V.Il(new V.VS(0,122,204)),c={showArrow:!0,showFrame:!0,className:"",frameColor:b,arrowColor:b,keepEditorSelection:!1},v="vs.editor.contrib.zoneWidget";class C{constructor(Se,we,ve,Ne,$e,Ke,ze,He){this.id="",this.domNode=Se,this.afterLineNumber=we,this.afterColumn=ve,this.heightInLines=Ne,this.showInHiddenAreas=ze,this.ordinal=He,this._onDomNodeTop=$e,this._onComputedHeight=Ke}onDomNodeTop(Se){this._onDomNodeTop(Se)}onComputedHeight(Se){this._onComputedHeight(Se)}}class S{constructor(Se,we){this._id=Se,this._domNode=we}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class N{constructor(Se){this._editor=Se,this._ruleName=N._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),f.uN(this._ruleName)}set color(Se){this._color!==Se&&(this._color=Se,this._updateStyle())}set height(Se){this._height!==Se&&(this._height=Se,this._updateStyle())}_updateStyle(){f.uN(this._ruleName),f.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(Se){Se.column===1&&(Se={lineNumber:Se.lineNumber,column:2}),this._decorations.set([{range:s.e.fromPositions(Se),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}N._IdGenerator=new d.R(".arrow-decoration-");class P{constructor(Se,we={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new i.SL,this.container=null,this._isShowing=!1,this.editor=Se,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=L.I8(we),L.jB(this.options,c,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(ve=>{const Ne=this._getWidth(ve);this.domNode.style.width=Ne+"px",this.domNode.style.left=this._getLeft(ve)+"px",this._onWidth(Ne)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(Se=>{this._viewZone&&Se.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new N(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(Se){Se.frameColor&&(this.options.frameColor=Se.frameColor),Se.arrowColor&&(this.options.arrowColor=Se.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const Se=this.options.frameColor.toString();this.container.style.borderTopColor=Se,this.container.style.borderBottomColor=Se}if(this._arrow&&this.options.arrowColor){const Se=this.options.arrowColor.toString();this._arrow.color=Se}}_getWidth(Se){return Se.width-Se.minimap.minimapWidth-Se.verticalScrollbarWidth}_getLeft(Se){return Se.minimap.minimapWidth>0&&Se.minimap.minimapLeft===0?Se.minimap.minimapWidth:0}_onViewZoneTop(Se){this.domNode.style.top=Se+"px"}_onViewZoneHeight(Se){var we;if(this.domNode.style.height=`${Se}px`,this.container){const ve=Se-this._decoratingElementsHeight();this.container.style.height=`${ve}px`;const Ne=this.editor.getLayoutInfo();this._doLayout(ve,this._getWidth(Ne))}(we=this._resizeSash)===null||we===void 0||we.layout()}get position(){const Se=this._positionMarkerId.getRange(0);if(Se)return Se.getStartPosition()}show(Se,we){const ve=s.e.isIRange(Se)?s.e.lift(Se):s.e.fromPositions(Se);this._isShowing=!0,this._showImpl(ve,we),this._isShowing=!1,this._positionMarkerId.set([{range:ve,options:m.qx.EMPTY}])}hide(){var Se;this._viewZone&&(this.editor.changeViewZones(we=>{this._viewZone&&we.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(Se=this._arrow)===null||Se===void 0||Se.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const Se=this.editor.getOption(64);let we=0;if(this.options.showArrow){const ve=Math.round(Se/3);we+=2*ve}if(this.options.showFrame){const ve=Math.round(Se/9);we+=2*ve}return we}_showImpl(Se,we){const ve=Se.getStartPosition(),Ne=this.editor.getLayoutInfo(),$e=this._getWidth(Ne);this.domNode.style.width=`${$e}px`,this.domNode.style.left=this._getLeft(Ne)+"px";const Ke=document.createElement("div");Ke.style.overflow="hidden";const ze=this.editor.getOption(64);if(!this.options.allowUnlimitedHeight){const ne=Math.max(12,this.editor.getLayoutInfo().height/ze*.8);we=Math.min(we,ne)}let He=0,Le=0;if(this._arrow&&this.options.showArrow&&(He=Math.round(ze/3),this._arrow.height=He,this._arrow.show(ve)),this.options.showFrame&&(Le=Math.round(ze/9)),this.editor.changeViewZones(ne=>{this._viewZone&&ne.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new C(Ke,ve.lineNumber,ve.column,we,me=>this._onViewZoneTop(me),me=>this._onViewZoneHeight(me),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=ne.addZone(this._viewZone),this._overlayWidget=new S(v+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const ne=this.options.frameWidth?this.options.frameWidth:Le;this.container.style.borderTopWidth=ne+"px",this.container.style.borderBottomWidth=ne+"px"}const de=we*ze-this._decoratingElementsHeight();this.container&&(this.container.style.top=He+"px",this.container.style.height=de+"px",this.container.style.overflow="hidden"),this._doLayout(de,$e),this.options.keepEditorSelection||this.editor.setSelection(Se);const ee=this.editor.getModel();if(ee){const ne=ee.validateRange(new s.e(Se.startLineNumber,1,Se.endLineNumber+1,1));this.revealRange(ne,ne.startLineNumber===ee.getLineCount())}}revealRange(Se,we){we?this.editor.revealLineNearTop(Se.endLineNumber,0):this.editor.revealRange(Se,0)}setCssClass(Se,we){this.container&&(we&&this.container.classList.remove(we),this.container.classList.add(Se))}_onWidth(Se){}_doLayout(Se,we){}_relayout(Se){this._viewZone&&this._viewZone.heightInLines!==Se&&this.editor.changeViewZones(we=>{this._viewZone&&(this._viewZone.heightInLines=Se,we.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new l.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let Se;this._disposables.add(this._resizeSash.onDidStart(we=>{this._viewZone&&(Se={startY:we.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{Se=void 0})),this._disposables.add(this._resizeSash.onDidChange(we=>{if(Se){const ve=(we.currentY-Se.startY)/this.editor.getOption(64),Ne=ve<0?Math.ceil(ve):Math.floor(ve),$e=Se.heightInLines+Ne;$e>5&&$e<35&&this._relayout($e)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const Se=this.editor.getLayoutInfo();return Se.width-Se.minimap.minimapWidth}}var M=t(26386),D=t(3941),F=t(76826),B=t(53061),U=t(44333),A=t(92537),k=function(Ee,Se,we,ve){var Ne=arguments.length,$e=Ne<3?Se:ve===null?ve=Object.getOwnPropertyDescriptor(Se,we):ve,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$e=Reflect.decorate(Ee,Se,we,ve);else for(var ze=Ee.length-1;ze>=0;ze--)(Ke=Ee[ze])&&($e=(Ne<3?Ke($e):Ne>3?Ke(Se,we,$e):Ke(Se,we))||$e);return Ne>3&&$e&&Object.defineProperty(Se,we,$e),$e},R=function(Ee,Se){return function(we,ve){Se(we,ve,Ee)}};const $=(0,U.yh)("IPeekViewService");(0,B.z)($,class{constructor(){this._widgets=new Map}addExclusiveWidget(Ee,Se){const we=this._widgets.get(Ee);we&&(we.listener.dispose(),we.widget.dispose());const ve=()=>{const Ne=this._widgets.get(Ee);Ne&&Ne.widget===Se&&(Ne.listener.dispose(),this._widgets.delete(Ee))};this._widgets.set(Ee,{widget:Se,listener:Se.onDidClose(ve)})}},1);var J;(function(Ee){Ee.inPeekEditor=new F.uy("inReferenceSearchEditor",!0,M.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),Ee.notInPeekEditor=Ee.inPeekEditor.toNegated()})(J||(J={}));let Y=class{constructor(Se,we){Se instanceof a.H&&J.inPeekEditor.bindTo(we)}dispose(){}};Y.ID="editor.contrib.referenceController",Y=k([R(1,F.i6)],Y),(0,E._K)(Y.ID,Y,0);function j(Ee){const Se=Ee.get(g.$).getFocusedCodeEditor();return Se instanceof a.H?Se.getParentEditor():Se}const z={headerBackgroundColor:V.Il.white,primaryHeadingColor:V.Il.fromHex("#333333"),secondaryHeadingColor:V.Il.fromHex("#6c6c6cb3")};let K=class extends P{constructor(Se,we,ve){super(Se,we),this.instantiationService=ve,this._onDidClose=new I.Q5,this.onDidClose=this._onDidClose.event,L.jB(this.options,z,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(Se){const we=this.options;Se.headerBackgroundColor&&(we.headerBackgroundColor=Se.headerBackgroundColor),Se.primaryHeadingColor&&(we.primaryHeadingColor=Se.primaryHeadingColor),Se.secondaryHeadingColor&&(we.secondaryHeadingColor=Se.secondaryHeadingColor),super.style(Se)}_applyStyles(){super._applyStyles();const Se=this.options;this._headElement&&Se.headerBackgroundColor&&(this._headElement.style.backgroundColor=Se.headerBackgroundColor.toString()),this._primaryHeading&&Se.primaryHeadingColor&&(this._primaryHeading.style.color=Se.primaryHeadingColor.toString()),this._secondaryHeading&&Se.secondaryHeadingColor&&(this._secondaryHeading.style.color=Se.secondaryHeadingColor.toString()),this._bodyElement&&Se.frameColor&&(this._bodyElement.style.borderColor=Se.frameColor.toString())}_fillContainer(Se){this.setCssClass("peekview-widget"),this._headElement=f.$(".head"),this._bodyElement=f.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),Se.appendChild(this._headElement),Se.appendChild(this._bodyElement)}_fillHead(Se,we){this._titleElement=f.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),f.mu(this._titleElement,"click",$e=>this._onTitleClick($e))),f.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=f.$("span.filename"),this._secondaryHeading=f.$("span.dirname"),this._metaHeading=f.$("span.meta"),f.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const ve=f.$(".peekview-actions");f.R3(this._headElement,ve);const Ne=this._getActionBarOptions();this._actionbarWidget=new O.o(ve,Ne),this._disposables.add(this._actionbarWidget),we||this._actionbarWidget.push(new u.aU("peekview.close",M.NC("label.close","Close"),p.k.asClassName(_.l.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(Se){}_getActionBarOptions(){return{actionViewItemProvider:D.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(Se){}setTitle(Se,we){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=Se,this._primaryHeading.setAttribute("title",Se),we?this._secondaryHeading.innerText=we:f.PO(this._secondaryHeading))}setMetaTitle(Se){this._metaHeading&&(Se?(this._metaHeading.innerText=Se,f.$Z(this._metaHeading)):f.Cp(this._metaHeading))}_doLayout(Se,we){if(!this._isShowing&&Se<0){this.dispose();return}const ve=Math.ceil(this.editor.getOption(64)*1.2),Ne=Math.round(Se-(ve+2));this._doLayoutHead(ve,we),this._doLayoutBody(Ne,we)}_doLayoutHead(Se,we){this._headElement&&(this._headElement.style.height=`${Se}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(Se,we){this._bodyElement&&(this._bodyElement.style.height=`${Se}px`)}};K=k([R(2,U.TG)],K);const Z=(0,A.P6G)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:V.Il.black,hcLight:V.Il.white},M.NC("peekViewTitleBackground","Background color of the peek view title area.")),fe=(0,A.P6G)("peekViewTitleLabel.foreground",{dark:V.Il.white,light:V.Il.black,hcDark:V.Il.white,hcLight:A.NOs},M.NC("peekViewTitleForeground","Color of the peek view title.")),T=(0,A.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},M.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),Re=(0,A.P6G)("peekView.border",{dark:A.c63,light:A.c63,hcDark:A.lRK,hcLight:A.lRK},M.NC("peekViewBorder","Color of the peek view borders and arrow.")),Ce=(0,A.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:V.Il.black,hcLight:V.Il.white},M.NC("peekViewResultsBackground","Background color of the peek view result list.")),_e=(0,A.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:V.Il.white,hcLight:A.NOs},M.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),pe=(0,A.P6G)("peekViewResult.fileForeground",{dark:V.Il.white,light:"#1E1E1E",hcDark:V.Il.white,hcLight:A.NOs},M.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),le=(0,A.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},M.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),oe=(0,A.P6G)("peekViewResult.selectionForeground",{dark:V.Il.white,light:"#6C6C6C",hcDark:V.Il.white,hcLight:A.NOs},M.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),he=(0,A.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:V.Il.black,hcLight:V.Il.white},M.NC("peekViewEditorBackground","Background color of the peek view editor.")),je=(0,A.P6G)("peekViewEditorGutter.background",{dark:he,light:he,hcDark:he,hcLight:he},M.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Xe=(0,A.P6G)("peekViewEditorStickyScroll.background",{dark:he,light:he,hcDark:he,hcLight:he},M.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),Ve=(0,A.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},M.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),se=(0,A.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},M.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),q=(0,A.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:A.xL1,hcLight:A.xL1},M.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},32034:function(Rt,Be,t){"use strict";t.d(Be,{X:function(){return E}});var f=t(89717),O=t(38431),u=t(14818),_=t(86086),p=t(41913),V=t(44411),I=t(58566),L=t(79874);class E{constructor(a){this.options=a,this.rangeHighlightDecorationId=void 0}provide(a,l){var d;const i=new O.SL;a.canAcceptInBackground=!!(!((d=this.options)===null||d===void 0)&&d.canAcceptInBackground),a.matchOnLabel=a.matchOnDescription=a.matchOnDetail=a.sortByLabel=!1;const s=i.add(new O.XK);return s.value=this.doProvide(a,l),i.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(a,l)})),i}doProvide(a,l){const d=new O.SL,i=this.activeTextEditorControl;if(i&&this.canProvideWithTextEditor(i)){const s={editor:i},m=(0,_.Pi)(i);if(m){let b=(0,u.f6)(i.saveViewState());d.add(m.onDidChangeCursorPosition(()=>{b=(0,u.f6)(i.saveViewState())})),s.restoreViewState=()=>{b&&i===this.activeTextEditorControl&&i.restoreViewState(b)},d.add((0,f.I)(l.onCancellationRequested)(()=>{var c;return(c=s.restoreViewState)===null||c===void 0?void 0:c.call(s)}))}d.add((0,O.OF)(()=>this.clearDecorations(i))),d.add(this.provideWithTextEditor(s,a,l))}else d.add(this.provideWithoutTextEditor(a,l));return d}canProvideWithTextEditor(a){return!0}gotoLocation({editor:a},l){a.setSelection(l.range),a.revealRangeInCenter(l.range,0),l.preserveFocus||a.focus();const d=a.getModel();d&&"getLineContent"in d&&(0,L.Z9)(`${d.getLineContent(l.range.startLineNumber)}`)}getModel(a){var l;return(0,_.QI)(a)?(l=a.getModel())===null||l===void 0?void 0:l.modified:a.getModel()}addDecorations(a,l){a.changeDecorations(d=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:l,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:l,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,I.EN)(V.m9),position:p.sh.Full}}}],[m,b]=d.deltaDecorations(i,s);this.rangeHighlightDecorationId={rangeHighlightId:m,overviewRulerDecorationId:b}})}clearDecorations(a){const l=this.rangeHighlightDecorationId;l&&(a.changeDecorations(d=>{d.deltaDecorations([l.overviewRulerDecorationId,l.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},25778:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{ReadOnlyMessageController:function(){return p}});var f=t(38431),O=t(55298),u=t(91591),_=t(26386);class p extends f.JT{constructor(I){super(),this.editor=I,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const I=u.O.get(this.editor);I&&this.editor.hasModel()&&(this.editor.isSimpleWidget?I.showMessage(_.NC("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):I.showMessage(_.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}p.ID="editor.contrib.readOnlyMessageController",(0,O._K)(p.ID,p,2)},22289:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{RenameAction:function(){return fe},rename:function(){return K}});var f=t(79874),O=t(13484),u=t(97464),_=t(20996),p=t(38431),V=t(14818),I=t(28919),L=t(44426),E=t(55298),g=t(53028),a=t(5603),l=t(8964),d=t(50038),i=t(21081),s=t(16576),m=t(91591),b=t(26386),c=t(12326),v=t(76826),C=t(44333),S=t(59271),N=t(97968),P=t(79969),M=t(6325),D=t(62297),F=t(92537),B=t(58566),U=function(Re,Ce,_e,pe){var le=arguments.length,oe=le<3?Ce:pe===null?pe=Object.getOwnPropertyDescriptor(Ce,_e):pe,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Re,Ce,_e,pe);else for(var je=Re.length-1;je>=0;je--)(he=Re[je])&&(oe=(le<3?he(oe):le>3?he(Ce,_e,oe):he(Ce,_e))||oe);return le>3&&oe&&Object.defineProperty(Ce,_e,oe),oe},A=function(Re,Ce){return function(_e,pe){Ce(_e,pe,Re)}};const k=new v.uy("renameInputVisible",!1,(0,b.NC)("renameInputVisible","Whether the rename input widget is visible"));let R=class{constructor(Ce,_e,pe,le,oe){this._editor=Ce,this._acceptKeybindings=_e,this._themeService=pe,this._keybindingService=le,this._disposables=new p.SL,this.allowEditorOverflow=!0,this._visibleContextKey=k.bindTo(oe),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(he=>{he.hasChanged(48)&&this._updateFont()})),this._disposables.add(pe.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,b.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(Ce){var _e,pe,le,oe;if(!this._input||!this._domNode)return;const he=Ce.getColor(F.rh),je=Ce.getColor(F.A42);this._domNode.style.backgroundColor=String((_e=Ce.getColor(F.D0T))!==null&&_e!==void 0?_e:""),this._domNode.style.boxShadow=he?` 0 0 8px 2px ${he}`:"",this._domNode.style.border=je?`1px solid ${je}`:"",this._domNode.style.color=String((pe=Ce.getColor(F.zJb))!==null&&pe!==void 0?pe:""),this._input.style.backgroundColor=String((le=Ce.getColor(F.sEe))!==null&&le!==void 0?le:"");const Xe=Ce.getColor(F.dt_);this._input.style.borderWidth=Xe?"1px":"0px",this._input.style.borderStyle=Xe?"solid":"none",this._input.style.borderColor=(oe=Xe==null?void 0:Xe.toString())!==null&&oe!==void 0?oe:"none"}_updateFont(){if(!this._input||!this._label)return;const Ce=this._editor.getOption(48);this._input.style.fontFamily=Ce.fontFamily,this._input.style.fontWeight=Ce.fontWeight,this._input.style.fontSize=`${Ce.fontSize}px`,this._label.style.fontSize=`${Ce.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var Ce,_e;const[pe,le]=this._acceptKeybindings;return this._label.innerText=(0,b.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(Ce=this._keybindingService.lookupKeybinding(pe))===null||Ce===void 0?void 0:Ce.getLabel(),(_e=this._keybindingService.lookupKeybinding(le))===null||_e===void 0?void 0:_e.getLabel()),null}afterRender(Ce){Ce||this.cancelInput(!0)}acceptInput(Ce){var _e;(_e=this._currentAcceptInput)===null||_e===void 0||_e.call(this,Ce)}cancelInput(Ce){var _e;(_e=this._currentCancelInput)===null||_e===void 0||_e.call(this,Ce)}getInput(Ce,_e,pe,le,oe,he){this._domNode.classList.toggle("preview",oe),this._position=new l.L(Ce.startLineNumber,Ce.startColumn),this._input.value=_e,this._input.setAttribute("selectionStart",pe.toString()),this._input.setAttribute("selectionEnd",le.toString()),this._input.size=Math.max((Ce.endColumn-Ce.startColumn)*1.1,20);const je=new p.SL;return new Promise(Xe=>{this._currentCancelInput=Ve=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Xe(Ve),!0),this._currentAcceptInput=Ve=>{if(this._input.value.trim().length===0||this._input.value===_e){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Xe({newName:this._input.value,wantsPreview:oe&&Ve})},je.add(he.onCancellationRequested(()=>this.cancelInput(!0))),je.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this._show()}).finally(()=>{je.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};R=U([A(2,B.XE),A(3,D.d),A(4,v.i6)],R);var $=t(35921),J=function(Re,Ce,_e,pe){var le=arguments.length,oe=le<3?Ce:pe===null?pe=Object.getOwnPropertyDescriptor(Ce,_e):pe,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(Re,Ce,_e,pe);else for(var je=Re.length-1;je>=0;je--)(he=Re[je])&&(oe=(le<3?he(oe):le>3?he(Ce,_e,oe):he(Ce,_e))||oe);return le>3&&oe&&Object.defineProperty(Ce,_e,oe),oe},Y=function(Re,Ce){return function(_e,pe){Ce(_e,pe,Re)}},j=function(Re,Ce,_e,pe){function le(oe){return oe instanceof _e?oe:new _e(function(he){he(oe)})}return new(_e||(_e=Promise))(function(oe,he){function je(se){try{Ve(pe.next(se))}catch(q){he(q)}}function Xe(se){try{Ve(pe.throw(se))}catch(q){he(q)}}function Ve(se){se.done?oe(se.value):le(se.value).then(je,Xe)}Ve((pe=pe.apply(Re,Ce||[])).next())})};class z{constructor(Ce,_e,pe){this.model=Ce,this.position=_e,this._providerRenameIdx=0,this._providers=pe.ordered(Ce)}hasProvider(){return this._providers.length>0}resolveRenameLocation(Ce){return j(this,void 0,void 0,function*(){const _e=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const le=this._providers[this._providerRenameIdx];if(!le.resolveRenameLocation)break;const oe=yield le.resolveRenameLocation(this.model,this.position,Ce);if(oe){if(oe.rejectReason){_e.push(oe.rejectReason);continue}return oe}}const pe=this.model.getWordAtPosition(this.position);return pe?{range:new d.e(this.position.lineNumber,pe.startColumn,this.position.lineNumber,pe.endColumn),text:pe.word,rejectReason:_e.length>0?_e.join(`
`):void 0}:{range:d.e.fromPositions(this.position),text:"",rejectReason:_e.length>0?_e.join(`
`):void 0}})}provideRenameEdits(Ce,_e){return j(this,void 0,void 0,function*(){return this._provideRenameEdits(Ce,this._providerRenameIdx,[],_e)})}_provideRenameEdits(Ce,_e,pe,le){return j(this,void 0,void 0,function*(){const oe=this._providers[_e];if(!oe)return{edits:[],rejectReason:pe.join(`
`)};const he=yield oe.provideRenameEdits(this.model,this.position,Ce,le);if(he){if(he.rejectReason)return this._provideRenameEdits(Ce,_e+1,pe.concat(he.rejectReason),le)}else return this._provideRenameEdits(Ce,_e+1,pe.concat(b.NC("no result","No result.")),le);return he})}}function K(Re,Ce,_e,pe){return j(this,void 0,void 0,function*(){const le=new z(Ce,_e,Re),oe=yield le.resolveRenameLocation(u.T.None);return oe!=null&&oe.rejectReason?{edits:[],rejectReason:oe.rejectReason}:le.provideRenameEdits(pe,u.T.None)})}let Z=class fd{static get(Ce){return Ce.getContribution(fd.ID)}constructor(Ce,_e,pe,le,oe,he,je,Xe){this.editor=Ce,this._instaService=_e,this._notificationService=pe,this._bulkEditService=le,this._progressService=oe,this._logService=he,this._configService=je,this._languageFeaturesService=Xe,this._disposableStore=new p.SL,this._cts=new u.A,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(R,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var Ce,_e;return j(this,void 0,void 0,function*(){if(this._cts.dispose(!0),this._cts=new u.A,!this.editor.hasModel())return;const pe=this.editor.getPosition(),le=new z(this.editor.getModel(),pe,this._languageFeaturesService.renameProvider);if(!le.hasProvider())return;const oe=new L.Dl(this.editor,5,void 0,this._cts.token);let he;try{const we=le.resolveRenameLocation(oe.token);this._progressService.showWhile(we,250),he=yield we}catch(we){(Ce=m.O.get(this.editor))===null||Ce===void 0||Ce.showMessage(we||b.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),pe);return}finally{oe.dispose()}if(!he)return;if(he.rejectReason){(_e=m.O.get(this.editor))===null||_e===void 0||_e.showMessage(he.rejectReason,pe);return}if(oe.token.isCancellationRequested)return;const je=new L.Dl(this.editor,5,he.range,this._cts.token),Xe=this.editor.getSelection();let Ve=0,se=he.text.length;!d.e.isEmpty(Xe)&&!d.e.spansMultipleLines(Xe)&&d.e.containsRange(he.range,Xe)&&(Ve=Math.max(0,Xe.startColumn-he.range.startColumn),se=Math.min(he.range.endColumn,Xe.endColumn)-he.range.startColumn);const q=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Ee=yield this._renameInputField.getInput(he.range,he.text,Ve,se,q,je.token);if(typeof Ee=="boolean"){Ee&&this.editor.focus(),je.dispose();return}this.editor.focus();const Se=(0,O.eP)(le.provideRenameEdits(Ee.newName,je.token),je.token).then(we=>j(this,void 0,void 0,function*(){if(!(!we||!this.editor.hasModel())){if(we.rejectReason){this._notificationService.info(we.rejectReason);return}this.editor.setSelection(d.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(we,{editor:this.editor,showPreview:Ee.wantsPreview,label:b.NC("label","Renaming '{0}' to '{1}'",he==null?void 0:he.text,Ee.newName),code:"undoredo.rename",quotableLabel:b.NC("quotableLabel","Renaming {0} to {1}",he==null?void 0:he.text,Ee.newName),respectAutoSaveConfig:!0}).then(ve=>{ve.ariaSummary&&(0,f.Z9)(b.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",he.text,Ee.newName,ve.ariaSummary))}).catch(ve=>{this._notificationService.error(b.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(ve)})}}),we=>{this._notificationService.error(b.NC("rename.failed","Rename failed to compute edits")),this._logService.error(we)}).finally(()=>{je.dispose()});return this._progressService.showWhile(Se,250),Se})}acceptRenameInput(Ce){this._renameInputField.acceptInput(Ce)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};Z.ID="editor.contrib.renameController",Z=J([Y(1,C.TG),Y(2,N.lT),Y(3,g.vu),Y(4,P.ek),Y(5,S.VZ),Y(6,s.V),Y(7,$.p)],Z);class fe extends E.R6{constructor(){super({id:"editor.action.rename",label:b.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:v.Ao.and(i.u.writable,i.u.hasRenameProvider),kbOpts:{kbExpr:i.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(Ce,_e){const pe=Ce.get(a.$),[le,oe]=Array.isArray(_e)&&_e||[void 0,void 0];return I.o.isUri(le)&&l.L.isIPosition(oe)?pe.openCodeEditor({resource:le},pe.getActiveCodeEditor()).then(he=>{he&&(he.setPosition(oe),he.invokeWithinContext(je=>(this.reportTelemetry(je,he),this.run(je,he))))},_.dL):super.runCommand(Ce,_e)}run(Ce,_e){const pe=Z.get(_e);return pe?pe.run():Promise.resolve()}}(0,E._K)(Z.ID,Z,4),(0,E.Qr)(fe);const T=E._l.bindToContribution(Z.get);(0,E.fK)(new T({id:"acceptRenameInput",precondition:k,handler:Re=>Re.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:v.Ao.and(i.u.focus,v.Ao.not("isComposing")),primary:3}})),(0,E.fK)(new T({id:"acceptRenameInputWithPreview",precondition:v.Ao.and(k,v.Ao.has("config.editor.rename.enablePreview")),handler:Re=>Re.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:v.Ao.and(i.u.focus,v.Ao.not("isComposing")),primary:1024+3}})),(0,E.fK)(new T({id:"cancelRenameInput",precondition:k,handler:Re=>Re.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:i.u.focus,primary:9,secondary:[1033]}})),(0,E.sb)("_executeDocumentRenameProvider",function(Re,Ce,_e,...pe){const[le]=pe;(0,V.p_)(typeof le=="string");const{renameProvider:oe}=Re.get($.p);return K(oe,Ce,_e,le)}),(0,E.sb)("_executePrepareRename",function(Re,Ce,_e){return j(this,void 0,void 0,function*(){const{renameProvider:pe}=Re.get($.p),oe=yield new z(Ce,_e,pe).resolveRenameLocation(u.T.None);if(oe!=null&&oe.rejectReason)throw new Error(oe.rejectReason);return oe})}),M.B.as(c.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:b.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},58988:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{DocumentSemanticTokensFeature:function(){return c}});var f=t(38431),O=t(20996),u=t(65041),_=t(71177),p=t(13484),V=t(97464),I=t(58566),L=t(76263),E=t(75705),g=t(69060),a=t(69344),l=t(35921),d=t(76567),i=t(56072),s=t(56450),m=function(S,N,P,M){var D=arguments.length,F=D<3?N:M===null?M=Object.getOwnPropertyDescriptor(N,P):M,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(S,N,P,M);else for(var U=S.length-1;U>=0;U--)(B=S[U])&&(F=(D<3?B(F):D>3?B(N,P,F):B(N,P))||F);return D>3&&F&&Object.defineProperty(N,P,F),F},b=function(S,N){return function(P,M){N(P,M,S)}};let c=class extends f.JT{constructor(N,P,M,D,F,B){super(),this._watchers=Object.create(null);const U=R=>{this._watchers[R.uri.toString()]=new v(R,N,M,F,B)},A=(R,$)=>{$.dispose(),delete this._watchers[R.uri.toString()]},k=()=>{for(const R of P.getModels()){const $=this._watchers[R.uri.toString()];(0,s.t)(R,M,D)?$||U(R):$&&A(R,$)}};this._register(P.onModelAdded(R=>{(0,s.t)(R,M,D)&&U(R)})),this._register(P.onModelRemoved(R=>{const $=this._watchers[R.uri.toString()];$&&A(R,$)})),this._register(D.onDidChangeConfiguration(R=>{R.affectsConfiguration(s.e)&&k()})),this._register(M.onDidColorThemeChange(k))}dispose(){for(const N of Object.values(this._watchers))N.dispose();super.dispose()}};c=m([b(0,d.s),b(1,u.q),b(2,I.XE),b(3,_.Ui),b(4,g.A),b(5,l.p)],c);let v=class Na extends f.JT{constructor(N,P,M,D,F){super(),this._semanticTokensStylingService=P,this._isDisposed=!1,this._model=N,this._provider=F.documentSemanticTokensProvider,this._debounceInformation=D.for(this._provider,"DocumentSemanticTokens",{min:Na.REQUEST_MIN_DELAY,max:Na.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new p.pY(()=>this._fetchDocumentSemanticTokensNow(),Na.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const B=()=>{(0,f.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const U of this._provider.all(N))typeof U.onDidChange=="function"&&this._documentProvidersChangeListeners.push(U.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};B(),this._register(this._provider.onDidChange(()=>{B(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(M.onDidColorThemeChange(U=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,E.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const N=new V.A,P=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,M=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,D=(0,E.ML)(this._provider,this._model,P,M,N.token);this._currentDocumentRequestCancellationTokenSource=N,this._providersChangedDuringRequest=!1;const F=[],B=this._model.onDidChangeContent(A=>{F.push(A)}),U=new a.G(!1);D.then(A=>{if(this._debounceInformation.update(this._model,U.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,B.dispose(),!A)this._setDocumentSemanticTokens(null,null,null,F);else{const{provider:k,tokens:R}=A,$=this._semanticTokensStylingService.getStyling(k);this._setDocumentSemanticTokens(k,R||null,$,F)}},A=>{A&&(O.n2(A)||typeof A.message=="string"&&A.message.indexOf("busy")!==-1)||O.dL(A),this._currentDocumentRequestCancellationTokenSource=null,B.dispose(),(F.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(N,P,M,D,F){F=Math.min(F,M.length-D,N.length-P);for(let B=0;B<F;B++)M[D+B]=N[P+B]}_setDocumentSemanticTokens(N,P,M,D){const F=this._currentDocumentResponse,B=()=>{(D.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){N&&P&&N.releaseDocumentSemanticTokens(P.resultId);return}if(!N||!M){this._model.tokenization.setSemanticTokens(null,!1);return}if(!P){this._model.tokenization.setSemanticTokens(null,!0),B();return}if((0,E.Vj)(P)){if(!F){this._model.tokenization.setSemanticTokens(null,!0);return}if(P.edits.length===0)P={resultId:P.resultId,data:F.data};else{let U=0;for(const J of P.edits)U+=(J.data?J.data.length:0)-J.deleteCount;const A=F.data,k=new Uint32Array(A.length+U);let R=A.length,$=k.length;for(let J=P.edits.length-1;J>=0;J--){const Y=P.edits[J];if(Y.start>A.length){M.warnInvalidEditStart(F.resultId,P.resultId,J,Y.start,A.length),this._model.tokenization.setSemanticTokens(null,!0);return}const j=R-(Y.start+Y.deleteCount);j>0&&(Na._copy(A,R-j,k,$-j,j),$-=j),Y.data&&(Na._copy(Y.data,0,k,$-Y.data.length,Y.data.length),$-=Y.data.length),R=Y.start}R>0&&Na._copy(A,0,k,0,R),P={resultId:P.resultId,data:k}}}if((0,E.Vl)(P)){this._currentDocumentResponse=new C(N,P.resultId,P.data);const U=(0,L.h)(P,M,this._model.getLanguageId());if(D.length>0)for(const A of D)for(const k of U)for(const R of A.changes)k.applyEdit(R.range,R.text);this._model.tokenization.setSemanticTokens(U,!0)}else this._model.tokenization.setSemanticTokens(null,!0);B()}};v.REQUEST_MIN_DELAY=300,v.REQUEST_MAX_DELAY=2e3,v=m([b(1,d.s),b(2,I.XE),b(3,g.A),b(4,l.p)],v);class C{constructor(N,P,M){this.provider=N,this.resultId=P,this.data=M}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,i.y)(c)},65329:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{ViewportSemanticTokensContribution:function(){return s}});var f=t(13484),O=t(38431),u=t(55298),_=t(75705),p=t(56450),V=t(76263),I=t(71177),L=t(58566),E=t(69060),g=t(69344),a=t(35921),l=t(76567),d=function(m,b,c,v){var C=arguments.length,S=C<3?b:v===null?v=Object.getOwnPropertyDescriptor(b,c):v,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,b,c,v);else for(var P=m.length-1;P>=0;P--)(N=m[P])&&(S=(C<3?N(S):C>3?N(b,c,S):N(b,c))||S);return C>3&&S&&Object.defineProperty(b,c,S),S},i=function(m,b){return function(c,v){b(c,v,m)}};let s=class extends O.JT{constructor(b,c,v,C,S,N){super(),this._semanticTokensStylingService=c,this._themeService=v,this._configurationService=C,this._editor=b,this._provider=N.documentRangeSemanticTokensProvider,this._debounceInformation=S.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new f.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const P=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{P()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),P()})),this._register(this._editor.onDidChangeModelContent(M=>{this._cancelAll(),P()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),P()})),this._register(this._configurationService.onDidChangeConfiguration(M=>{M.affectsConfiguration(p.e)&&(this._cancelAll(),P())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),P()})),P()}_cancelAll(){for(const b of this._outstandingRequests)b.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(b){for(let c=0,v=this._outstandingRequests.length;c<v;c++)if(this._outstandingRequests[c]===b){this._outstandingRequests.splice(c,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const b=this._editor.getModel();if(b.tokenization.hasCompleteSemanticTokens())return;if(!(0,p.t)(b,this._themeService,this._configurationService)){b.tokenization.hasSomeSemanticTokens()&&b.tokenization.setSemanticTokens(null,!1);return}if(!(0,_.KO)(this._provider,b)){b.tokenization.hasSomeSemanticTokens()&&b.tokenization.setSemanticTokens(null,!1);return}const c=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(c.map(v=>this._requestRange(b,v)))}_requestRange(b,c){const v=b.getVersionId(),C=(0,f.PG)(N=>Promise.resolve((0,_.OG)(this._provider,b,c,N))),S=new g.G(!1);return C.then(N=>{if(this._debounceInformation.update(b,S.elapsed()),!N||!N.tokens||b.isDisposed()||b.getVersionId()!==v)return;const{provider:P,tokens:M}=N,D=this._semanticTokensStylingService.getStyling(P);b.tokenization.setPartialSemanticTokens(c,(0,V.h)(M,D,b.getLanguageId()))}).then(()=>this._removeOutstandingRequest(C),()=>this._removeOutstandingRequest(C)),C}};s.ID="editor.contrib.viewportSemanticTokens",s=d([i(1,l.s),i(2,L.XE),i(3,I.Ui),i(4,E.A),i(5,a.p)],s),(0,u._K)(s.ID,s,1)},75705:function(Rt,Be,t){"use strict";t.d(Be,{OG:function(){return F},ML:function(){return S},KO:function(){return M},Jc:function(){return v},Vl:function(){return m},Vj:function(){return b}});var f=t(97464),O=t(20996),u=t(28919),_=t(65041),p=t(80793),V=t(14818),I=t(77511),L=t(11138);function E(B){for(let U=0,A=B.length;U<A;U+=4){const k=B[U+0],R=B[U+1],$=B[U+2],J=B[U+3];B[U+0]=J,B[U+1]=$,B[U+2]=R,B[U+3]=k}}function g(B){const U=new Uint8Array(B.buffer,B.byteOffset,B.length*4);return L.r()||E(U),I.KN.wrap(U)}function a(B){const U=new Uint32Array(l(B));let A=0;if(U[A++]=B.id,B.type==="full")U[A++]=1,U[A++]=B.data.length,U.set(B.data,A),A+=B.data.length;else{U[A++]=2,U[A++]=B.deltas.length;for(const k of B.deltas)U[A++]=k.start,U[A++]=k.deleteCount,k.data?(U[A++]=k.data.length,U.set(k.data,A),A+=k.data.length):U[A++]=0}return g(U)}function l(B){let U=0;if(U+=1+1,B.type==="full")U+=1+B.data.length;else{U+=1,U+=(1+1+1)*B.deltas.length;for(const A of B.deltas)A.data&&(U+=A.data.length)}return U}var d=t(50038),i=t(35921),s=function(B,U,A,k){function R($){return $ instanceof A?$:new A(function(J){J($)})}return new(A||(A=Promise))(function($,J){function Y(K){try{z(k.next(K))}catch(Z){J(Z)}}function j(K){try{z(k.throw(K))}catch(Z){J(Z)}}function z(K){K.done?$(K.value):R(K.value).then(Y,j)}z((k=k.apply(B,U||[])).next())})};function m(B){return B&&!!B.data}function b(B){return B&&Array.isArray(B.edits)}class c{constructor(U,A,k){this.provider=U,this.tokens=A,this.error=k}}function v(B,U){return B.has(U)}function C(B,U){const A=B.orderedGroups(U);return A.length>0?A[0]:[]}function S(B,U,A,k,R){return s(this,void 0,void 0,function*(){const $=C(B,U),J=yield Promise.all($.map(Y=>s(this,void 0,void 0,function*(){let j,z=null;try{j=yield Y.provideDocumentSemanticTokens(U,Y===A?k:null,R)}catch(K){z=K,j=null}return(!j||!m(j)&&!b(j))&&(j=null),new c(Y,j,z)})));for(const Y of J){if(Y.error)throw Y.error;if(Y.tokens)return Y}return J.length>0?J[0]:null})}function N(B,U){const A=B.orderedGroups(U);return A.length>0?A[0]:null}class P{constructor(U,A){this.provider=U,this.tokens=A}}function M(B,U){return B.has(U)}function D(B,U){const A=B.orderedGroups(U);return A.length>0?A[0]:[]}function F(B,U,A,k){return s(this,void 0,void 0,function*(){const R=D(B,U),$=yield Promise.all(R.map(J=>s(this,void 0,void 0,function*(){let Y;try{Y=yield J.provideDocumentRangeSemanticTokens(U,A,k)}catch(j){(0,O.Cp)(j),Y=null}return(!Y||!m(Y))&&(Y=null),new P(J,Y)})));for(const J of $)if(J.tokens)return J;return $.length>0?$[0]:null})}p.P.registerCommand("_provideDocumentSemanticTokensLegend",(B,...U)=>s(void 0,void 0,void 0,function*(){const[A]=U;(0,V.p_)(A instanceof u.o);const k=B.get(_.q).getModel(A);if(!k)return;const{documentSemanticTokensProvider:R}=B.get(i.p),$=N(R,k);return $?$[0].getLegend():B.get(p.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",A)})),p.P.registerCommand("_provideDocumentSemanticTokens",(B,...U)=>s(void 0,void 0,void 0,function*(){const[A]=U;(0,V.p_)(A instanceof u.o);const k=B.get(_.q).getModel(A);if(!k)return;const{documentSemanticTokensProvider:R}=B.get(i.p);if(!v(R,k))return B.get(p.H).executeCommand("_provideDocumentRangeSemanticTokens",A,k.getFullModelRange());const $=yield S(R,k,null,null,f.T.None);if(!$)return;const{provider:J,tokens:Y}=$;if(!Y||!m(Y))return;const j=a({id:0,type:"full",data:Y.data});return Y.resultId&&J.releaseDocumentSemanticTokens(Y.resultId),j})),p.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(B,...U)=>s(void 0,void 0,void 0,function*(){const[A,k]=U;(0,V.p_)(A instanceof u.o);const R=B.get(_.q).getModel(A);if(!R)return;const{documentRangeSemanticTokensProvider:$}=B.get(i.p),J=D($,R);if(J.length===0)return;if(J.length===1)return J[0].getLegend();if(!k||!d.e.isIRange(k))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),J[0].getLegend();const Y=yield F($,R,d.e.lift(k),f.T.None);if(Y)return Y.provider.getLegend()})),p.P.registerCommand("_provideDocumentRangeSemanticTokens",(B,...U)=>s(void 0,void 0,void 0,function*(){const[A,k]=U;(0,V.p_)(A instanceof u.o),(0,V.p_)(d.e.isIRange(k));const R=B.get(_.q).getModel(A);if(!R)return;const{documentRangeSemanticTokensProvider:$}=B.get(i.p),J=yield F($,R,d.e.lift(k),f.T.None);if(!(!J||!J.tokens))return a({id:0,type:"full",data:J.tokens.data})}))},56450:function(Rt,Be,t){"use strict";t.d(Be,{e:function(){return f},t:function(){return O}});const f="editor.semanticHighlighting";function O(u,_,p){var V;const I=(V=p.getValue(f,{overrideIdentifier:u.getLanguageId(),resource:u.uri}))===null||V===void 0?void 0:V.enabled;return typeof I=="boolean"?I:_.getColorTheme().semanticHighlighting}},6258:function(Rt,Be,t){"use strict";t.d(Be,{x:function(){return p}});var f=t(17979),O=t(8964),u=t(50038),_=function(V,I,L,E){function g(a){return a instanceof L?a:new L(function(l){l(a)})}return new(L||(L=Promise))(function(a,l){function d(m){try{s(E.next(m))}catch(b){l(b)}}function i(m){try{s(E.throw(m))}catch(b){l(b)}}function s(m){m.done?a(m.value):g(m.value).then(d,i)}s((E=E.apply(V,I||[])).next())})};class p{provideSelectionRanges(I,L){return _(this,void 0,void 0,function*(){const E=[];for(const g of L){const a=[];E.push(a);const l=new Map;yield new Promise(d=>p._bracketsRightYield(d,0,I,g,l)),yield new Promise(d=>p._bracketsLeftYield(d,0,I,g,l,a))}return E})}static _bracketsRightYield(I,L,E,g,a){const l=new Map,d=Date.now();for(;;){if(L>=p._maxRounds){I();break}if(!g){I();break}const i=E.bracketPairs.findNextBracket(g);if(!i){I();break}if(Date.now()-d>p._maxDuration){setTimeout(()=>p._bracketsRightYield(I,L+1,E,g,a));break}if(i.bracketInfo.isOpeningBracket){const m=i.bracketInfo.bracketText,b=l.has(m)?l.get(m):0;l.set(m,b+1)}else{const m=i.bracketInfo.getOpeningBrackets()[0].bracketText;let b=l.has(m)?l.get(m):0;if(b-=1,l.set(m,Math.max(0,b)),b<0){let c=a.get(m);c||(c=new f.S,a.set(m,c)),c.push(i.range)}}g=i.range.getEndPosition()}}static _bracketsLeftYield(I,L,E,g,a,l){const d=new Map,i=Date.now();for(;;){if(L>=p._maxRounds&&a.size===0){I();break}if(!g){I();break}const s=E.bracketPairs.findPrevBracket(g);if(!s){I();break}if(Date.now()-i>p._maxDuration){setTimeout(()=>p._bracketsLeftYield(I,L+1,E,g,a,l));break}if(s.bracketInfo.isOpeningBracket){const b=s.bracketInfo.bracketText;let c=d.has(b)?d.get(b):0;if(c-=1,d.set(b,Math.max(0,c)),c<0){const v=a.get(b);if(v){const C=v.shift();v.size===0&&a.delete(b);const S=u.e.fromPositions(s.range.getEndPosition(),C.getStartPosition()),N=u.e.fromPositions(s.range.getStartPosition(),C.getEndPosition());l.push({range:S}),l.push({range:N}),p._addBracketLeading(E,N,l)}}}else{const b=s.bracketInfo.getOpeningBrackets()[0].bracketText,c=d.has(b)?d.get(b):0;d.set(b,c+1)}g=s.range.getStartPosition()}}static _addBracketLeading(I,L,E){if(L.startLineNumber===L.endLineNumber)return;const g=L.startLineNumber,a=I.getLineFirstNonWhitespaceColumn(g);a!==0&&a!==L.startColumn&&(E.push({range:u.e.fromPositions(new O.L(g,a),L.getEndPosition())}),E.push({range:u.e.fromPositions(new O.L(g,1),L.getEndPosition())}));const l=g-1;if(l>0){const d=I.getLineFirstNonWhitespaceColumn(l);d===L.startColumn&&d!==I.getLineLastNonWhitespaceColumn(l)&&(E.push({range:u.e.fromPositions(new O.L(l,d),L.getEndPosition())}),E.push({range:u.e.fromPositions(new O.L(l,1),L.getEndPosition())}))}}}p._maxDuration=30,p._maxRounds=2},28211:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{SmartSelectController:function(){return P},provideSelectionRanges:function(){return B}});var f=t(16308),O=t(97464),u=t(20996),_=t(55298),p=t(8964),V=t(50038),I=t(57841),L=t(21081),E=t(6258),g=t(17416);class a{provideSelectionRanges(A,k){const R=[];for(const $ of k){const J=[];R.push(J),this._addInWordRanges(J,A,$),this._addWordRanges(J,A,$),this._addWhitespaceLine(J,A,$),J.push({range:A.getFullModelRange()})}return R}_addInWordRanges(A,k,R){const $=k.getWordAtPosition(R);if(!$)return;const{word:J,startColumn:Y}=$,j=R.column-Y;let z=j,K=j,Z=0;for(;z>=0;z--){const fe=J.charCodeAt(z);if(z!==j&&(fe===95||fe===45))break;if((0,g.mK)(fe)&&(0,g.df)(Z))break;Z=fe}for(z+=1;K<J.length;K++){const fe=J.charCodeAt(K);if((0,g.df)(fe)&&(0,g.mK)(Z))break;if(fe===95||fe===45)break;Z=fe}z<K&&A.push({range:new V.e(R.lineNumber,Y+z,R.lineNumber,Y+K)})}_addWordRanges(A,k,R){const $=k.getWordAtPosition(R);$&&A.push({range:new V.e(R.lineNumber,$.startColumn,R.lineNumber,$.endColumn)})}_addWhitespaceLine(A,k,R){k.getLineLength(R.lineNumber)>0&&k.getLineFirstNonWhitespaceColumn(R.lineNumber)===0&&k.getLineLastNonWhitespaceColumn(R.lineNumber)===0&&A.push({range:new V.e(R.lineNumber,1,R.lineNumber,k.getLineMaxColumn(R.lineNumber))})}}var l=t(26386),d=t(21208),i=t(80793),s=t(35921),m=t(91223),b=t(14818),c=t(28919),v=function(U,A,k,R){var $=arguments.length,J=$<3?A:R===null?R=Object.getOwnPropertyDescriptor(A,k):R,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(U,A,k,R);else for(var j=U.length-1;j>=0;j--)(Y=U[j])&&(J=($<3?Y(J):$>3?Y(A,k,J):Y(A,k))||J);return $>3&&J&&Object.defineProperty(A,k,J),J},C=function(U,A){return function(k,R){A(k,R,U)}},S=function(U,A,k,R){function $(J){return J instanceof k?J:new k(function(Y){Y(J)})}return new(k||(k=Promise))(function(J,Y){function j(Z){try{K(R.next(Z))}catch(fe){Y(fe)}}function z(Z){try{K(R.throw(Z))}catch(fe){Y(fe)}}function K(Z){Z.done?J(Z.value):$(Z.value).then(j,z)}K((R=R.apply(U,A||[])).next())})};class N{constructor(A,k){this.index=A,this.ranges=k}mov(A){const k=this.index+(A?1:-1);if(k<0||k>=this.ranges.length)return this;const R=new N(k,this.ranges);return R.ranges[k].equalsRange(this.ranges[this.index])?R.mov(A):R}}let P=class gd{static get(A){return A.getContribution(gd.ID)}constructor(A,k){this._editor=A,this._languageFeaturesService=k,this._ignoreSelection=!1}dispose(){var A;(A=this._selectionListener)===null||A===void 0||A.dispose()}run(A){return S(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const k=this._editor.getSelections(),R=this._editor.getModel();if(this._state||(yield B(this._languageFeaturesService.selectionRangeProvider,R,k.map(J=>J.getPosition()),this._editor.getOption(109),O.T.None).then(J=>{var Y;if(!(!f.Of(J)||J.length!==k.length)&&!(!this._editor.hasModel()||!f.fS(this._editor.getSelections(),k,(j,z)=>j.equalsSelection(z)))){for(let j=0;j<J.length;j++)J[j]=J[j].filter(z=>z.containsPosition(k[j].getStartPosition())&&z.containsPosition(k[j].getEndPosition())),J[j].unshift(k[j]);this._state=J.map(j=>new N(0,j)),(Y=this._selectionListener)===null||Y===void 0||Y.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var j;this._ignoreSelection||((j=this._selectionListener)===null||j===void 0||j.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(J=>J.mov(A));const $=this._state.map(J=>I.Y.fromPositions(J.ranges[J.index].getStartPosition(),J.ranges[J.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections($)}finally{this._ignoreSelection=!1}})}};P.ID="editor.contrib.smartSelectController",P=v([C(1,s.p)],P);class M extends _.R6{constructor(A,k){super(k),this._forward=A}run(A,k){return S(this,void 0,void 0,function*(){const R=P.get(k);R&&(yield R.run(this._forward))})}}class D extends M{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:l.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"1_basic",title:l.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}i.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class F extends M{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:l.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"1_basic",title:l.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,_._K)(P.ID,P,4),(0,_.Qr)(D),(0,_.Qr)(F);function B(U,A,k,R,$){return S(this,void 0,void 0,function*(){const J=U.all(A).concat(new a);J.length===1&&J.unshift(new E.x);const Y=[],j=[];for(const z of J)Y.push(Promise.resolve(z.provideSelectionRanges(A,k,$)).then(K=>{if(f.Of(K)&&K.length===k.length)for(let Z=0;Z<k.length;Z++){j[Z]||(j[Z]=[]);for(const fe of K[Z])V.e.isIRange(fe.range)&&V.e.containsPosition(fe.range,k[Z])&&j[Z].push(V.e.lift(fe.range))}},u.Cp));return yield Promise.all(Y),j.map(z=>{if(z.length===0)return[];z.sort((T,Re)=>p.L.isBefore(T.getStartPosition(),Re.getStartPosition())?1:p.L.isBefore(Re.getStartPosition(),T.getStartPosition())||p.L.isBefore(T.getEndPosition(),Re.getEndPosition())?-1:p.L.isBefore(Re.getEndPosition(),T.getEndPosition())?1:0);const K=[];let Z;for(const T of z)(!Z||V.e.containsRange(T,Z)&&!V.e.equalsRange(T,Z))&&(K.push(T),Z=T);if(!R.selectLeadingAndTrailingWhitespace)return K;const fe=[K[0]];for(let T=1;T<K.length;T++){const Re=K[T-1],Ce=K[T];if(Ce.startLineNumber!==Re.startLineNumber||Ce.endLineNumber!==Re.endLineNumber){const _e=new V.e(Re.startLineNumber,A.getLineFirstNonWhitespaceColumn(Re.startLineNumber),Re.endLineNumber,A.getLineLastNonWhitespaceColumn(Re.endLineNumber));_e.containsRange(Re)&&!_e.equalsRange(Re)&&Ce.containsRange(_e)&&!Ce.equalsRange(_e)&&fe.push(_e);const pe=new V.e(Re.startLineNumber,1,Re.endLineNumber,A.getLineMaxColumn(Re.endLineNumber));pe.containsRange(Re)&&!pe.equalsRange(_e)&&Ce.containsRange(pe)&&!Ce.equalsRange(pe)&&fe.push(pe)}fe.push(Ce)}return fe})})}i.P.registerCommand("_executeSelectionRangeProvider",function(U,...A){return S(this,void 0,void 0,function*(){const[k,R]=A;(0,b.p_)(c.o.isUri(k));const $=U.get(s.p).selectionRangeProvider,J=yield U.get(m.S).createModelReference(k);try{return B($,J.object.textEditorModel,R,{selectLeadingAndTrailingWhitespace:!0},O.T.None)}finally{J.dispose()}})})},31046:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{SnippetController2:function(){return m}});var f=t(38431),O=t(14818),u=t(55298),_=t(8964),p=t(21081),V=t(64603),I=t(35921),L=t(33024),E=t(26386),g=t(76826),a=t(59271),l=t(51116),d=function(c,v,C,S){var N=arguments.length,P=N<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,C):S,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(c,v,C,S);else for(var D=c.length-1;D>=0;D--)(M=c[D])&&(P=(N<3?M(P):N>3?M(v,C,P):M(v,C))||P);return N>3&&P&&Object.defineProperty(v,C,P),P},i=function(c,v){return function(C,S){v(C,S,c)}};const s={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let m=class yl{static get(v){return v.getContribution(yl.ID)}constructor(v,C,S,N,P){this._editor=v,this._logService=C,this._languageFeaturesService=S,this._languageConfigurationService=P,this._snippetListener=new f.SL,this._modelVersionId=-1,this._inSnippet=yl.InSnippetMode.bindTo(N),this._hasNextTabstop=yl.HasNextTabstop.bindTo(N),this._hasPrevTabstop=yl.HasPrevTabstop.bindTo(N)}dispose(){var v;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(v=this._session)===null||v===void 0||v.dispose(),this._snippetListener.dispose()}insert(v,C){try{this._doInsert(v,typeof C=="undefined"?s:Object.assign(Object.assign({},s),C))}catch(S){this.cancel(),this._logService.error(S),this._logService.error("snippet_error"),this._logService.error("insert_template=",v),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(v,C){var S;if(this._editor.hasModel()){if(this._snippetListener.clear(),C.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof v!="string"&&this.cancel(),this._session?((0,O.p_)(typeof v=="string"),this._session.merge(v,C)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new l.l(this._editor,v,C,this._languageConfigurationService),this._session.insert()),C.undoStopAfter&&this._editor.getModel().pushStackElement(),!((S=this._session)===null||S===void 0)&&S.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(P,M)=>{if(!this._session||P!==this._editor.getModel()||!_.L.equals(this._editor.getPosition(),M))return;const{activeChoice:D}=this._session;if(!D||D.choice.options.length===0)return;const F=P.getValueInRange(D.range),B=!!D.choice.options.find(A=>A.value===F),U=[];for(let A=0;A<D.choice.options.length;A++){const k=D.choice.options[A];U.push({kind:13,label:k.value,insertText:k.value,sortText:"a".repeat(A+1),range:D.range,filterText:B?`${F}_${k.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,E.NC)("next","Go to next placeholder...")}})}return{suggestions:U}}};const N=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme,exclusive:!0},this._choiceCompletionItemProvider);this._snippetListener.add(N)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(N=>N.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:v}=this._session;if(!v||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==v.choice&&(this._currentChoice=v.choice,queueMicrotask(()=>{(0,L.i5)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(v=!1){var C;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(C=this._session)===null||C===void 0||C.dispose(),this._session=void 0,this._modelVersionId=-1,v&&this._editor.setSelections([this._editor.getSelection()])}prev(){var v;(v=this._session)===null||v===void 0||v.prev(),this._updateState()}next(){var v;(v=this._session)===null||v===void 0||v.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};m.ID="snippetController2",m.InSnippetMode=new g.uy("inSnippetMode",!1,(0,E.NC)("inSnippetMode","Whether the editor in current in snippet mode")),m.HasNextTabstop=new g.uy("hasNextTabstop",!1,(0,E.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),m.HasPrevTabstop=new g.uy("hasPrevTabstop",!1,(0,E.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),m=d([i(1,a.VZ),i(2,I.p),i(3,g.i6),i(4,V.c_)],m),(0,u._K)(m.ID,m,4);const b=u._l.bindToContribution(m.get);(0,u.fK)(new b({id:"jumpToNextSnippetPlaceholder",precondition:g.Ao.and(m.InSnippetMode,m.HasNextTabstop),handler:c=>c.next(),kbOpts:{weight:100+30,kbExpr:p.u.editorTextFocus,primary:2}})),(0,u.fK)(new b({id:"jumpToPrevSnippetPlaceholder",precondition:g.Ao.and(m.InSnippetMode,m.HasPrevTabstop),handler:c=>c.prev(),kbOpts:{weight:100+30,kbExpr:p.u.editorTextFocus,primary:1026}})),(0,u.fK)(new b({id:"leaveSnippet",precondition:m.InSnippetMode,handler:c=>c.cancel(!0),kbOpts:{weight:100+30,kbExpr:p.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,u.fK)(new b({id:"acceptSnippet",precondition:m.InSnippetMode,handler:c=>c.finish()}))},35366:function(Rt,Be,t){"use strict";t.d(Be,{Lv:function(){return V},Vm:function(){return p},Yj:function(){return l},xv:function(){return u},y1:function(){return a}});class f{constructor(){this.value="",this.pos=0}static isDigitCharacter(i){return i>=48&&i<=57}static isVariableCharacter(i){return i===95||i>=97&&i<=122||i>=65&&i<=90}text(i){this.value=i,this.pos=0}tokenText(i){return this.value.substr(i.pos,i.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const i=this.pos;let s=0,m=this.value.charCodeAt(i),b;if(b=f._table[m],typeof b=="number")return this.pos+=1,{type:b,pos:i,len:1};if(f.isDigitCharacter(m)){b=8;do s+=1,m=this.value.charCodeAt(i+s);while(f.isDigitCharacter(m));return this.pos+=s,{type:b,pos:i,len:s}}if(f.isVariableCharacter(m)){b=9;do m=this.value.charCodeAt(i+ ++s);while(f.isVariableCharacter(m)||f.isDigitCharacter(m));return this.pos+=s,{type:b,pos:i,len:s}}b=10;do s+=1,m=this.value.charCodeAt(i+s);while(!isNaN(m)&&typeof f._table[m]=="undefined"&&!f.isDigitCharacter(m)&&!f.isVariableCharacter(m));return this.pos+=s,{type:b,pos:i,len:s}}}f._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class O{constructor(){this._children=[]}appendChild(i){return i instanceof u&&this._children[this._children.length-1]instanceof u?this._children[this._children.length-1].value+=i.value:(i.parent=this,this._children.push(i)),this}replace(i,s){const{parent:m}=i,b=m.children.indexOf(i),c=m.children.slice(0);c.splice(b,1,...s),m._children=c,function v(C,S){for(const N of C)N.parent=S,v(N.children,N)}(s,m)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let i=this;for(;;){if(!i)return;if(i instanceof a)return i;i=i.parent}}toString(){return this.children.reduce((i,s)=>i+s.toString(),"")}len(){return 0}}class u extends O{constructor(i){super(),this.value=i}toString(){return this.value}len(){return this.value.length}clone(){return new u(this.value)}}class _ extends O{}class p extends _{static compareByIndex(i,s){return i.index===s.index?0:i.isFinalTabstop?1:s.isFinalTabstop||i.index<s.index?-1:i.index>s.index?1:0}constructor(i){super(),this.index=i}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof V?this._children[0]:void 0}clone(){const i=new p(this.index);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(s=>s.clone()),i}}class V extends O{constructor(){super(...arguments),this.options=[]}appendChild(i){return i instanceof u&&(i.parent=this,this.options.push(i)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const i=new V;return this.options.forEach(i.appendChild,i),i}}class I extends O{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(i){const s=this;let m=!1,b=i.replace(this.regexp,function(){return m=!0,s._replace(Array.prototype.slice.call(arguments,0,-2))});return!m&&this._children.some(c=>c instanceof L&&!!c.elseValue)&&(b=this._replace([])),b}_replace(i){let s="";for(const m of this._children)if(m instanceof L){let b=i[m.index]||"";b=m.resolve(b),s+=b}else s+=m.toString();return s}toString(){return""}clone(){const i=new I;return i.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),i._children=this.children.map(s=>s.clone()),i}}class L extends O{constructor(i,s,m,b){super(),this.index=i,this.shorthandName=s,this.ifValue=m,this.elseValue=b}resolve(i){return this.shorthandName==="upcase"?i?i.toLocaleUpperCase():"":this.shorthandName==="downcase"?i?i.toLocaleLowerCase():"":this.shorthandName==="capitalize"?i?i[0].toLocaleUpperCase()+i.substr(1):"":this.shorthandName==="pascalcase"?i?this._toPascalCase(i):"":this.shorthandName==="camelcase"?i?this._toCamelCase(i):"":i&&typeof this.ifValue=="string"?this.ifValue:!i&&typeof this.elseValue=="string"?this.elseValue:i||""}_toPascalCase(i){const s=i.match(/[a-z0-9]+/gi);return s?s.map(m=>m.charAt(0).toUpperCase()+m.substr(1)).join(""):i}_toCamelCase(i){const s=i.match(/[a-z0-9]+/gi);return s?s.map((m,b)=>b===0?m.charAt(0).toLowerCase()+m.substr(1):m.charAt(0).toUpperCase()+m.substr(1)).join(""):i}clone(){return new L(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class E extends _{constructor(i){super(),this.name=i}resolve(i){let s=i.resolve(this);return this.transform&&(s=this.transform.resolve(s||"")),s!==void 0?(this._children=[new u(s)],!0):!1}clone(){const i=new E(this.name);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(s=>s.clone()),i}}function g(d,i){const s=[...d];for(;s.length>0;){const m=s.shift();if(!i(m))break;s.unshift(...m.children)}}class a extends O{get placeholderInfo(){if(!this._placeholders){const i=[];let s;this.walk(function(m){return m instanceof p&&(i.push(m),s=!s||s.index<m.index?m:s),!0}),this._placeholders={all:i,last:s}}return this._placeholders}get placeholders(){const{all:i}=this.placeholderInfo;return i}offset(i){let s=0,m=!1;return this.walk(b=>b===i?(m=!0,!1):(s+=b.len(),!0)),m?s:-1}fullLen(i){let s=0;return g([i],m=>(s+=m.len(),!0)),s}enclosingPlaceholders(i){const s=[];let{parent:m}=i;for(;m;)m instanceof p&&s.push(m),m=m.parent;return s}resolveVariables(i){return this.walk(s=>(s instanceof E&&s.resolve(i)&&(this._placeholders=void 0),!0)),this}appendChild(i){return this._placeholders=void 0,super.appendChild(i)}replace(i,s){return this._placeholders=void 0,super.replace(i,s)}clone(){const i=new a;return this._children=this.children.map(s=>s.clone()),i}walk(i){g(this.children,i)}}class l{constructor(){this._scanner=new f,this._token={type:14,pos:0,len:0}}static escape(i){return i.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(i){return/\${?CLIPBOARD/.test(i)}parse(i,s,m){const b=new a;return this.parseFragment(i,b),this.ensureFinalTabstop(b,m!=null?m:!1,s!=null?s:!1),b}parseFragment(i,s){const m=s.children.length;for(this._scanner.text(i),this._token=this._scanner.next();this._parse(s););const b=new Map,c=[];s.walk(S=>(S instanceof p&&(S.isFinalTabstop?b.set(0,void 0):!b.has(S.index)&&S.children.length>0?b.set(S.index,S.children):c.push(S)),!0));const v=(S,N)=>{const P=b.get(S.index);if(!P)return;const M=new p(S.index);M.transform=S.transform;for(const D of P){const F=D.clone();M.appendChild(F),F instanceof p&&b.has(F.index)&&!N.has(F.index)&&(N.add(F.index),v(F,N),N.delete(F.index))}s.replace(S,[M])},C=new Set;for(const S of c)v(S,C);return s.children.slice(m)}ensureFinalTabstop(i,s,m){(s||m&&i.placeholders.length>0)&&(i.placeholders.find(c=>c.index===0)||i.appendChild(new p(0)))}_accept(i,s){if(i===void 0||this._token.type===i){const m=s?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),m}return!1}_backTo(i){return this._scanner.pos=i.pos+i.len,this._token=i,!1}_until(i){const s=this._token;for(;this._token.type!==i;){if(this._token.type===14)return!1;if(this._token.type===5){const b=this._scanner.next();if(b.type!==0&&b.type!==4&&b.type!==5)return!1}this._token=this._scanner.next()}const m=this._scanner.value.substring(s.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),m}_parse(i){return this._parseEscaped(i)||this._parseTabstopOrVariableName(i)||this._parseComplexPlaceholder(i)||this._parseComplexVariable(i)||this._parseAnything(i)}_parseEscaped(i){let s;return(s=this._accept(5,!0))?(s=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||s,i.appendChild(new u(s)),!0):!1}_parseTabstopOrVariableName(i){let s;const m=this._token;return this._accept(0)&&(s=this._accept(9,!0)||this._accept(8,!0))?(i.appendChild(/^\d+$/.test(s)?new p(Number(s)):new E(s)),!0):this._backTo(m)}_parseComplexPlaceholder(i){let s;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(8,!0))))return this._backTo(m);const c=new p(Number(s));if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(c),!0;if(!this._parse(c))return i.appendChild(new u("${"+s+":")),c.children.forEach(i.appendChild,i),!0}else if(c.index>0&&this._accept(7)){const v=new V;for(;;){if(this._parseChoiceElement(v)){if(this._accept(2))continue;if(this._accept(7)&&(c.appendChild(v),this._accept(4)))return i.appendChild(c),!0}return this._backTo(m),!1}}else return this._accept(6)?this._parseTransform(c)?(i.appendChild(c),!0):(this._backTo(m),!1):this._accept(4)?(i.appendChild(c),!0):this._backTo(m)}_parseChoiceElement(i){const s=this._token,m=[];for(;!(this._token.type===2||this._token.type===7);){let b;if((b=this._accept(5,!0))?b=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||b:b=this._accept(void 0,!0),!b)return this._backTo(s),!1;m.push(b)}return m.length===0?(this._backTo(s),!1):(i.appendChild(new u(m.join(""))),!0)}_parseComplexVariable(i){let s;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(9,!0))))return this._backTo(m);const c=new E(s);if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(c),!0;if(!this._parse(c))return i.appendChild(new u("${"+s+":")),c.children.forEach(i.appendChild,i),!0}else return this._accept(6)?this._parseTransform(c)?(i.appendChild(c),!0):(this._backTo(m),!1):this._accept(4)?(i.appendChild(c),!0):this._backTo(m)}_parseTransform(i){const s=new I;let m="",b="";for(;!this._accept(6);){let c;if(c=this._accept(5,!0)){c=this._accept(6,!0)||c,m+=c;continue}if(this._token.type!==14){m+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let c;if(c=this._accept(5,!0)){c=this._accept(5,!0)||this._accept(6,!0)||c,s.appendChild(new u(c));continue}if(!(this._parseFormatString(s)||this._parseAnything(s)))return!1}for(;!this._accept(4);){if(this._token.type!==14){b+=this._accept(void 0,!0);continue}return!1}try{s.regexp=new RegExp(m,b)}catch(c){return!1}return i.transform=s,!0}_parseFormatString(i){const s=this._token;if(!this._accept(0))return!1;let m=!1;this._accept(3)&&(m=!0);const b=this._accept(8,!0);if(b)if(m){if(this._accept(4))return i.appendChild(new L(Number(b))),!0;if(!this._accept(1))return this._backTo(s),!1}else return i.appendChild(new L(Number(b))),!0;else return this._backTo(s),!1;if(this._accept(6)){const c=this._accept(9,!0);return!c||!this._accept(4)?(this._backTo(s),!1):(i.appendChild(new L(Number(b),c)),!0)}else if(this._accept(11)){const c=this._until(4);if(c)return i.appendChild(new L(Number(b),void 0,c,void 0)),!0}else if(this._accept(12)){const c=this._until(4);if(c)return i.appendChild(new L(Number(b),void 0,void 0,c)),!0}else if(this._accept(13)){const c=this._until(1);if(c){const v=this._until(4);if(v)return i.appendChild(new L(Number(b),void 0,c,v)),!0}}else{const c=this._until(4);if(c)return i.appendChild(new L(Number(b),void 0,void 0,c)),!0}return this._backTo(s),!1}_parseAnything(i){return this._token.type!==14?(i.appendChild(new u(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},51116:function(Rt,Be,t){"use strict";t.d(Be,{l:function(){return j}});var f=t(16308),O=t(38431),u=t(17416),_=t(19083),p=t(50038),V=t(57841),I=t(64603),L=t(45007),E=t(18680),g=t(83799),a=t(35366),l=t(7128),d=t(11138);function i(z,K=d.ED){return(0,l.oP)(z,K)?z.charAt(0).toUpperCase()+z.slice(1):z}let s=Object.create(null);var m=t(75296),b=t(6227),c=t(38577),v=t(26386),C=function(z,K,Z,fe){var T=arguments.length,Re=T<3?K:fe===null?fe=Object.getOwnPropertyDescriptor(K,Z):fe,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Re=Reflect.decorate(z,K,Z,fe);else for(var _e=z.length-1;_e>=0;_e--)(Ce=z[_e])&&(Re=(T<3?Ce(Re):T>3?Ce(K,Z,Re):Ce(K,Z))||Re);return T>3&&Re&&Object.defineProperty(K,Z,Re),Re},S=function(z,K){return function(Z,fe){K(Z,fe,z)}};const N=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class P{constructor(K){this._delegates=K}resolve(K){for(const Z of this._delegates){const fe=Z.resolve(K);if(fe!==void 0)return fe}}}class M{constructor(K,Z,fe,T){this._model=K,this._selection=Z,this._selectionIdx=fe,this._overtypingCapturer=T}resolve(K){const{name:Z}=K;if(Z==="SELECTION"||Z==="TM_SELECTED_TEXT"){let fe=this._model.getValueInRange(this._selection)||void 0,T=this._selection.startLineNumber!==this._selection.endLineNumber;if(!fe&&this._overtypingCapturer){const Re=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Re&&(fe=Re.value,T=Re.multiline)}if(fe&&T&&K.snippet){const Re=this._model.getLineContent(this._selection.startLineNumber),Ce=(0,u.V8)(Re,0,this._selection.startColumn-1);let _e=Ce;K.snippet.walk(le=>le===K?!1:(le instanceof a.xv&&(_e=(0,u.V8)((0,u.uq)(le.value).pop())),!0));const pe=(0,u.Mh)(_e,Ce);fe=fe.replace(/(\r\n|\r|\n)(.*)/g,(le,oe,he)=>`${oe}${_e.substr(pe)}${he}`)}return fe}else{if(Z==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(Z==="TM_CURRENT_WORD"){const fe=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return fe&&fe.word||void 0}else{if(Z==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(Z==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(Z==="CURSOR_INDEX")return String(this._selectionIdx);if(Z==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class D{constructor(K,Z){this._labelService=K,this._model=Z}resolve(K){const{name:Z}=K;if(Z==="TM_FILENAME")return m.EZ(this._model.uri.fsPath);if(Z==="TM_FILENAME_BASE"){const fe=m.EZ(this._model.uri.fsPath),T=fe.lastIndexOf(".");return T<=0?fe:fe.slice(0,T)}else{if(Z==="TM_DIRECTORY")return m.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,b.XX)(this._model.uri));if(Z==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(Z==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class F{constructor(K,Z,fe,T){this._readClipboardText=K,this._selectionIdx=Z,this._selectionCount=fe,this._spread=T}resolve(K){if(K.name!=="CLIPBOARD")return;const Z=this._readClipboardText();if(Z){if(this._spread){const fe=Z.split(/\r\n|\n|\r/).filter(T=>!(0,u.m5)(T));if(fe.length===this._selectionCount)return fe[this._selectionIdx]}return Z}}}let B=class{constructor(K,Z,fe){this._model=K,this._selection=Z,this._languageConfigurationService=fe}resolve(K){const{name:Z}=K,fe=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),T=this._languageConfigurationService.getLanguageConfiguration(fe).comments;if(T){if(Z==="LINE_COMMENT")return T.lineCommentToken||void 0;if(Z==="BLOCK_COMMENT_START")return T.blockCommentStartToken||void 0;if(Z==="BLOCK_COMMENT_END")return T.blockCommentEndToken||void 0}}};B=C([S(2,I.c_)],B);class U{constructor(){this._date=new Date}resolve(K){const{name:Z}=K;if(Z==="CURRENT_YEAR")return String(this._date.getFullYear());if(Z==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(Z==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(Z==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(Z==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(Z==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(Z==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(Z==="CURRENT_DAY_NAME")return U.dayNames[this._date.getDay()];if(Z==="CURRENT_DAY_NAME_SHORT")return U.dayNamesShort[this._date.getDay()];if(Z==="CURRENT_MONTH_NAME")return U.monthNames[this._date.getMonth()];if(Z==="CURRENT_MONTH_NAME_SHORT")return U.monthNamesShort[this._date.getMonth()];if(Z==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(Z==="CURRENT_TIMEZONE_OFFSET"){const fe=this._date.getTimezoneOffset(),T=fe>0?"-":"+",Re=Math.trunc(Math.abs(fe/60)),Ce=Re<10?"0"+Re:Re,_e=Math.abs(fe)-Re*60,pe=_e<10?"0"+_e:_e;return T+Ce+":"+pe}}}U.dayNames=[v.NC("Sunday","Sunday"),v.NC("Monday","Monday"),v.NC("Tuesday","Tuesday"),v.NC("Wednesday","Wednesday"),v.NC("Thursday","Thursday"),v.NC("Friday","Friday"),v.NC("Saturday","Saturday")],U.dayNamesShort=[v.NC("SundayShort","Sun"),v.NC("MondayShort","Mon"),v.NC("TuesdayShort","Tue"),v.NC("WednesdayShort","Wed"),v.NC("ThursdayShort","Thu"),v.NC("FridayShort","Fri"),v.NC("SaturdayShort","Sat")],U.monthNames=[v.NC("January","January"),v.NC("February","February"),v.NC("March","March"),v.NC("April","April"),v.NC("May","May"),v.NC("June","June"),v.NC("July","July"),v.NC("August","August"),v.NC("September","September"),v.NC("October","October"),v.NC("November","November"),v.NC("December","December")],U.monthNamesShort=[v.NC("JanuaryShort","Jan"),v.NC("FebruaryShort","Feb"),v.NC("MarchShort","Mar"),v.NC("AprilShort","Apr"),v.NC("MayShort","May"),v.NC("JuneShort","Jun"),v.NC("JulyShort","Jul"),v.NC("AugustShort","Aug"),v.NC("SeptemberShort","Sep"),v.NC("OctoberShort","Oct"),v.NC("NovemberShort","Nov"),v.NC("DecemberShort","Dec")];class A{constructor(K){this._workspaceService=K}resolve(K){if(!this._workspaceService)return;const Z=(0,g.uT)(this._workspaceService.getWorkspace());if(!(0,g.c$)(Z)){if(K.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(Z);if(K.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(Z)}}_resolveWorkspaceName(K){if((0,g.eb)(K))return m.EZ(K.uri.path);let Z=m.EZ(K.configPath.path);return Z.endsWith(g.A6)&&(Z=Z.substr(0,Z.length-g.A6.length-1)),Z}_resoveWorkspacePath(K){if((0,g.eb)(K))return i(K.uri.fsPath);const Z=m.EZ(K.configPath.path);let fe=K.configPath.fsPath;return fe.endsWith(Z)&&(fe=fe.substr(0,fe.length-Z.length-1)),fe?i(fe):"/"}}class k{resolve(K){const{name:Z}=K;if(Z==="RANDOM")return Math.random().toString().slice(-6);if(Z==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(Z==="UUID")return(0,c.R)()}}var R=function(z,K,Z,fe){var T=arguments.length,Re=T<3?K:fe===null?fe=Object.getOwnPropertyDescriptor(K,Z):fe,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Re=Reflect.decorate(z,K,Z,fe);else for(var _e=z.length-1;_e>=0;_e--)(Ce=z[_e])&&(Re=(T<3?Ce(Re):T>3?Ce(K,Z,Re):Ce(K,Z))||Re);return T>3&&Re&&Object.defineProperty(K,Z,Re),Re},$=function(z,K){return function(Z,fe){K(Z,fe,z)}};class J{constructor(K,Z,fe){this._editor=K,this._snippet=Z,this._snippetLineLeadingWhitespace=fe,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,f.vM)(Z.placeholders,a.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(K){this._offset=K.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const K=this._editor.getModel();this._editor.changeDecorations(Z=>{for(const fe of this._snippet.placeholders){const T=this._snippet.offset(fe),Re=this._snippet.fullLen(fe),Ce=p.e.fromPositions(K.getPositionAt(this._offset+T),K.getPositionAt(this._offset+T+Re)),_e=fe.isFinalTabstop?J._decor.inactiveFinal:J._decor.inactive,pe=Z.addDecoration(Ce,_e);this._placeholderDecorations.set(fe,pe)}})}move(K){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const T=[];for(const Re of this._placeholderGroups[this._placeholderGroupsIdx])if(Re.transform){const Ce=this._placeholderDecorations.get(Re),_e=this._editor.getModel().getDecorationRange(Ce),pe=this._editor.getModel().getValueInRange(_e),le=Re.transform.resolve(pe).split(/\r\n|\r|\n/);for(let oe=1;oe<le.length;oe++)le[oe]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+le[oe]);T.push(_.h.replace(_e,le.join(this._editor.getModel().getEOL())))}T.length>0&&this._editor.executeEdits("snippet.placeholderTransform",T)}let Z=!1;K===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,Z=!0):K===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,Z=!0);const fe=this._editor.getModel().changeDecorations(T=>{const Re=new Set,Ce=[];for(const _e of this._placeholderGroups[this._placeholderGroupsIdx]){const pe=this._placeholderDecorations.get(_e),le=this._editor.getModel().getDecorationRange(pe);Ce.push(new V.Y(le.startLineNumber,le.startColumn,le.endLineNumber,le.endColumn)),Z=Z&&this._hasPlaceholderBeenCollapsed(_e),T.changeDecorationOptions(pe,_e.isFinalTabstop?J._decor.activeFinal:J._decor.active),Re.add(_e);for(const oe of this._snippet.enclosingPlaceholders(_e)){const he=this._placeholderDecorations.get(oe);T.changeDecorationOptions(he,oe.isFinalTabstop?J._decor.activeFinal:J._decor.active),Re.add(oe)}}for(const[_e,pe]of this._placeholderDecorations)Re.has(_e)||T.changeDecorationOptions(pe,_e.isFinalTabstop?J._decor.inactiveFinal:J._decor.inactive);return Ce});return Z?this.move(K):fe!=null?fe:[]}_hasPlaceholderBeenCollapsed(K){let Z=K;for(;Z;){if(Z instanceof a.Vm){const fe=this._placeholderDecorations.get(Z);if(this._editor.getModel().getDecorationRange(fe).isEmpty()&&Z.toString().length>0)return!0}Z=Z.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[K]=this._snippet.placeholders;if(K.isFinalTabstop&&this._snippet.rightMostDescendant===K)return!0}return!1}computePossibleSelections(){const K=new Map;for(const Z of this._placeholderGroups){let fe;for(const T of Z){if(T.isFinalTabstop)break;fe||(fe=[],K.set(T.index,fe));const Re=this._placeholderDecorations.get(T),Ce=this._editor.getModel().getDecorationRange(Re);if(!Ce){K.delete(T.index);break}fe.push(Ce)}}return K}get activeChoice(){if(!this._placeholderDecorations)return;const K=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(K!=null&&K.choice))return;const Z=this._placeholderDecorations.get(K);if(!Z)return;const fe=this._editor.getModel().getDecorationRange(Z);if(fe)return{range:fe,choice:K.choice}}get hasChoice(){let K=!1;return this._snippet.walk(Z=>(K=Z instanceof a.Lv,!K)),K}merge(K){const Z=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(fe=>{for(const T of this._placeholderGroups[this._placeholderGroupsIdx]){const Re=K.shift();console.assert(Re._offset!==-1),console.assert(!Re._placeholderDecorations);const Ce=Re._snippet.placeholderInfo.last.index;for(const pe of Re._snippet.placeholderInfo.all)pe.isFinalTabstop?pe.index=T.index+(Ce+1)/this._nestingLevel:pe.index=T.index+pe.index/this._nestingLevel;this._snippet.replace(T,Re._snippet.children);const _e=this._placeholderDecorations.get(T);fe.removeDecoration(_e),this._placeholderDecorations.delete(T);for(const pe of Re._snippet.placeholders){const le=Re._snippet.offset(pe),oe=Re._snippet.fullLen(pe),he=p.e.fromPositions(Z.getPositionAt(Re._offset+le),Z.getPositionAt(Re._offset+le+oe)),je=fe.addDecoration(he,J._decor.inactive);this._placeholderDecorations.set(pe,je)}}this._placeholderGroups=(0,f.vM)(this._snippet.placeholders,a.Vm.compareByIndex)})}}J._decor={active:L.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:L.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:L.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:L.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Y={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let j=class jr{static adjustWhitespace(K,Z,fe,T,Re){const Ce=K.getLineContent(Z.lineNumber),_e=(0,u.V8)(Ce,0,Z.column-1);let pe;return T.walk(le=>{if(!(le instanceof a.xv)||le.parent instanceof a.Lv||Re&&!Re.has(le))return!0;const oe=le.value.split(/\r\n|\r|\n/);if(fe){const je=T.offset(le);if(je===0)oe[0]=K.normalizeIndentation(oe[0]);else{pe=pe!=null?pe:T.toString();const Xe=pe.charCodeAt(je-1);(Xe===10||Xe===13)&&(oe[0]=K.normalizeIndentation(_e+oe[0]))}for(let Xe=1;Xe<oe.length;Xe++)oe[Xe]=K.normalizeIndentation(_e+oe[Xe])}const he=oe.join(K.getEOL());return he!==le.value&&(le.parent.replace(le,[new a.xv(he)]),pe=void 0),!0}),_e}static adjustSelection(K,Z,fe,T){if(fe!==0||T!==0){const{positionLineNumber:Re,positionColumn:Ce}=Z,_e=Ce-fe,pe=Ce+T,le=K.validateRange({startLineNumber:Re,startColumn:_e,endLineNumber:Re,endColumn:pe});Z=V.Y.createWithDirection(le.startLineNumber,le.startColumn,le.endLineNumber,le.endColumn,Z.getDirection())}return Z}static createEditsAndSnippetsFromSelections(K,Z,fe,T,Re,Ce,_e,pe,le){const oe=[],he=[];if(!K.hasModel())return{edits:oe,snippets:he};const je=K.getModel(),Xe=K.invokeWithinContext(ve=>ve.get(g.ec)),Ve=K.invokeWithinContext(ve=>new D(ve.get(E.e),je)),se=()=>_e,q=je.getValueInRange(jr.adjustSelection(je,K.getSelection(),fe,0)),Ee=je.getValueInRange(jr.adjustSelection(je,K.getSelection(),0,T)),Se=je.getLineFirstNonWhitespaceColumn(K.getSelection().positionLineNumber),we=K.getSelections().map((ve,Ne)=>({selection:ve,idx:Ne})).sort((ve,Ne)=>p.e.compareRangesUsingStarts(ve.selection,Ne.selection));for(const{selection:ve,idx:Ne}of we){let $e=jr.adjustSelection(je,ve,fe,0),Ke=jr.adjustSelection(je,ve,0,T);q!==je.getValueInRange($e)&&($e=ve),Ee!==je.getValueInRange(Ke)&&(Ke=ve);const ze=ve.setStartPosition($e.startLineNumber,$e.startColumn).setEndPosition(Ke.endLineNumber,Ke.endColumn),He=new a.Yj().parse(Z,!0,Re),Le=ze.getStartPosition(),de=jr.adjustWhitespace(je,Le,Ce||Ne>0&&Se!==je.getLineFirstNonWhitespaceColumn(ve.positionLineNumber),He);He.resolveVariables(new P([Ve,new F(se,Ne,we.length,K.getOption(76)==="spread"),new M(je,ve,Ne,pe),new B(je,ve,le),new U,new A(Xe),new k])),oe[Ne]=_.h.replace(ze,He.toString()),oe[Ne].identifier={major:Ne,minor:0},oe[Ne]._isTracked=!0,he[Ne]=new J(K,He,de)}return{edits:oe,snippets:he}}static createEditsAndSnippetsFromEdits(K,Z,fe,T,Re,Ce,_e){if(!K.hasModel()||Z.length===0)return{edits:[],snippets:[]};const pe=[],le=K.getModel(),oe=new a.Yj,he=new a.y1,je=new P([K.invokeWithinContext(Ve=>new D(Ve.get(E.e),le)),new F(()=>Re,0,K.getSelections().length,K.getOption(76)==="spread"),new M(le,K.getSelection(),0,Ce),new B(le,K.getSelection(),_e),new U,new A(K.invokeWithinContext(Ve=>Ve.get(g.ec))),new k]);Z=Z.sort((Ve,se)=>p.e.compareRangesUsingStarts(Ve.range,se.range));let Xe=0;for(let Ve=0;Ve<Z.length;Ve++){const{range:se,template:q}=Z[Ve];if(Ve>0){const Ne=Z[Ve-1].range,$e=p.e.fromPositions(Ne.getEndPosition(),se.getStartPosition()),Ke=new a.xv(le.getValueInRange($e));he.appendChild(Ke),Xe+=Ke.value.length}const Ee=oe.parseFragment(q,he);jr.adjustWhitespace(le,se.getStartPosition(),!0,he,new Set(Ee)),he.resolveVariables(je);const Se=he.toString(),we=Se.slice(Xe);Xe=Se.length;const ve=_.h.replace(se,we);ve.identifier={major:Ve,minor:0},ve._isTracked=!0,pe.push(ve)}return oe.ensureFinalTabstop(he,fe,!0),{edits:pe,snippets:[new J(K,he,"")]}}constructor(K,Z,fe=Y,T){this._editor=K,this._template=Z,this._options=fe,this._languageConfigurationService=T,this._templateMerges=[],this._snippets=[]}dispose(){(0,O.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:K,snippets:Z}=typeof this._template=="string"?jr.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):jr.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=Z,this._editor.executeEdits("snippet",K,fe=>{const T=fe.filter(Re=>!!Re.identifier);for(let Re=0;Re<Z.length;Re++)Z[Re].initialize(T[Re].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):T.map(Re=>V.Y.fromPositions(Re.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(K,Z=Y){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,K]);const{edits:fe,snippets:T}=jr.createEditsAndSnippetsFromSelections(this._editor,K,Z.overwriteBefore,Z.overwriteAfter,!0,Z.adjustWhitespace,Z.clipboardText,Z.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",fe,Re=>{const Ce=Re.filter(pe=>!!pe.identifier);for(let pe=0;pe<T.length;pe++)T[pe].initialize(Ce[pe].textChange);const _e=T[0].isTrivialSnippet;if(!_e){for(const pe of this._snippets)pe.merge(T);console.assert(T.length===0)}return this._snippets[0].hasPlaceholder&&!_e?this._move(void 0):Ce.map(pe=>V.Y.fromPositions(pe.range.getEndPosition()))})}next(){const K=this._move(!0);this._editor.setSelections(K),this._editor.revealPositionInCenterIfOutsideViewport(K[0].getPosition())}prev(){const K=this._move(!1);this._editor.setSelections(K),this._editor.revealPositionInCenterIfOutsideViewport(K[0].getPosition())}_move(K){const Z=[];for(const fe of this._snippets){const T=fe.move(K);Z.push(...T)}return Z}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const K=this._editor.getSelections();if(K.length<this._snippets.length)return!1;const Z=new Map;for(const fe of this._snippets){const T=fe.computePossibleSelections();if(Z.size===0)for(const[Re,Ce]of T){Ce.sort(p.e.compareRangesUsingStarts);for(const _e of K)if(Ce[0].containsRange(_e)){Z.set(Re,[]);break}}if(Z.size===0)return!1;Z.forEach((Re,Ce)=>{Re.push(...T.get(Ce))})}K.sort(p.e.compareRangesUsingStarts);for(const[fe,T]of Z){if(T.length!==K.length){Z.delete(fe);continue}T.sort(p.e.compareRangesUsingStarts);for(let Re=0;Re<T.length;Re++)if(!T[Re].containsRange(K[Re])){Z.delete(fe);continue}}return Z.size>0}};j=R([$(3,I.c_)],j)},3156:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(26386);const u=Object.freeze({View:{value:(0,O.NC)("view","View"),original:"View"},Help:{value:(0,O.NC)("help","Help"),original:"Help"},Test:{value:(0,O.NC)("test","Test"),original:"Test"},File:{value:(0,O.NC)("file","File"),original:"File"},Preferences:{value:(0,O.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,O.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});var _=t(21208),p=t(71177),V=t(76826),I=t(21081),L=t(38431),E=t(35921),g=t(34441),a=t(64079),l=t(58352),d=t(77957),i=t(8964),s=t(12342),m=t(69756),b=t(75398);class c{constructor(tt,st){this.lineNumbers=tt,this.lastLineRelativePosition=st}}const v=(0,l.Z)("stickyScrollViewLayer",{createHTML:nt=>nt});class C extends L.JT{constructor(tt){super(),this._editor=tt,this._rootDomNode=document.createElement("div"),this._disposableStore=this._register(new L.SL),this._lineNumbers=[],this._lastLineRelativePosition=0,this._hoverOnLine=-1,this._hoverOnColumn=-1,this._layoutInfo=this._editor.getLayoutInfo(),this._rootDomNode=document.createElement("div"),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",tt instanceof d.H),this._rootDomNode.style.width=`${this._layoutInfo.width-this._layoutInfo.minimap.minimapCanvasOuterWidth-this._layoutInfo.verticalScrollbarWidth}px`}get hoverOnLine(){return this._hoverOnLine}get hoverOnColumn(){return this._hoverOnColumn}get lineNumbers(){return this._lineNumbers}getCurrentLines(){return this._lineNumbers}setState(tt){g.PO(this._rootDomNode),this._disposableStore.clear(),this._lineNumbers.length=0;const st=this._editor.getOption(64);tt.lineNumbers.length*st+tt.lastLineRelativePosition>0?(this._lastLineRelativePosition=tt.lastLineRelativePosition,this._lineNumbers=tt.lineNumbers):(this._lastLineRelativePosition=0,this._lineNumbers=[]),this._renderRootNode()}_renderRootNode(){if(!this._editor._getViewModel())return;for(const[Wt,Vt]of this._lineNumbers.entries()){const Ct=this._renderChildNode(Wt,Vt);this._rootDomNode.appendChild(Ct)}const tt=this._editor.getOption(64),st=this._lineNumbers.length*tt+this._lastLineRelativePosition;this._rootDomNode.style.display=st>0?"block":"none",this._rootDomNode.style.height=st.toString()+"px",this._rootDomNode.setAttribute("role","list"),this._editor.getOption(70).side==="left"&&(this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px")}_renderChildNode(tt,st){const It=document.createElement("div"),Wt=this._editor._getViewModel(),Vt=Wt.coordinatesConverter.convertModelPositionToViewPosition(new i.L(st,1)).lineNumber,Ct=Wt.getViewLineRenderingData(Vt),gi=this._editor.getLayoutInfo(),jt=gi.width-gi.minimap.minimapCanvasOuterWidth-gi.verticalScrollbarWidth,Ye=this._editor.getOption(70).side,ut=this._editor.getOption(64),dt=this._editor.getOption(65);let bt;try{bt=m.Kp.filter(Ct.inlineDecorations,Vt,Ct.minColumn,Ct.maxColumn)}catch(si){bt=[]}const Mt=new b.IJ(!0,!0,Ct.content,Ct.continuesWithWrappedLine,Ct.isBasicASCII,Ct.containsRTL,0,Ct.tokens,bt,Ct.tabSize,Ct.startVisibleColumn,1,1,1,500,"none",!0,!0,null),ni=new s.HT(2e3);(0,b.d1)(Mt,ni);let qt;v?qt=v.createHTML(ni.build()):qt=ni.build();const yt=document.createElement("span");yt.className="sticky-line",yt.classList.add(`stickyLine${st}`),yt.style.lineHeight=`${ut}px`,yt.innerHTML=qt;const At=document.createElement("span");At.className="sticky-line",At.style.lineHeight=`${ut}px`,Ye==="left"?At.style.width=`${gi.contentLeft-gi.minimap.minimapCanvasOuterWidth}px`:Ye==="right"&&(At.style.width=`${gi.contentLeft}px`);const Qt=document.createElement("span");return dt.renderType===1||dt.renderType===3&&st%10===0?Qt.innerText=st.toString():dt.renderType===2&&(Qt.innerText=Math.abs(st-this._editor.getPosition().lineNumber).toString()),Qt.className="sticky-line-number",Qt.style.lineHeight=`${ut}px`,Qt.style.width=`${gi.lineNumbersWidth}px`,Ye==="left"?Qt.style.paddingLeft=`${gi.lineNumbersLeft-gi.minimap.minimapCanvasOuterWidth}px`:Ye==="right"&&(Qt.style.paddingLeft=`${gi.lineNumbersLeft}px`),At.appendChild(Qt),this._editor.applyFontInfo(yt),this._editor.applyFontInfo(Qt),It.appendChild(At),It.appendChild(yt),It.className="sticky-line-root",It.setAttribute("role","listitem"),It.tabIndex=0,It.style.lineHeight=`${ut}px`,It.style.width=`${jt}px`,It.style.height=`${ut}px`,It.style.zIndex="0",tt===this._lineNumbers.length-1&&(It.style.position="relative",It.style.zIndex="-1",It.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(g.nm(It,"mouseover",si=>{if(this._editor.hasModel()){const mi=new a.n(si).target.innerText;this._hoverOnLine=st,this._hoverOnColumn=this._editor.getModel().getLineContent(st).indexOf(mi)+1||-1}})),It}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}}var S=t(97464),N=t(13484),P=t(16308),M=t(6227),D=t(56709),F=t(64603),B=t(79931),U=t(58579),A=t(28994),k=t(78398),R=t(20996);class ${constructor(tt,st){this.startLineNumber=tt,this.endLineNumber=st}}class J{constructor(tt,st,It){this.range=tt,this.children=st,this.parent=It}}class Y{constructor(tt,st,It,Wt){this.uri=tt,this.version=st,this.element=It,this.outlineProviderId=Wt}}var j=t(97865),z=function(nt,tt,st,It){var Wt=arguments.length,Vt=Wt<3?tt:It===null?It=Object.getOwnPropertyDescriptor(tt,st):It,Ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(nt,tt,st,It);else for(var gi=nt.length-1;gi>=0;gi--)(Ct=nt[gi])&&(Vt=(Wt<3?Ct(Vt):Wt>3?Ct(tt,st,Vt):Ct(tt,st))||Vt);return Wt>3&&Vt&&Object.defineProperty(tt,st,Vt),Vt},K=function(nt,tt){return function(st,It){tt(st,It,nt)}},Z=function(nt,tt,st,It){function Wt(Vt){return Vt instanceof st?Vt:new st(function(Ct){Ct(Vt)})}return new(st||(st=Promise))(function(Vt,Ct){function gi(ut){try{Ye(It.next(ut))}catch(dt){Ct(dt)}}function jt(ut){try{Ye(It.throw(ut))}catch(dt){Ct(dt)}}function Ye(ut){ut.done?Vt(ut.value):Wt(ut.value).then(gi,jt)}Ye((It=It.apply(nt,tt||[])).next())})},fe;(function(nt){nt.OUTLINE_MODEL="outlineModel",nt.FOLDING_PROVIDER_MODEL="foldingProviderModel",nt.INDENTATION_MODEL="indentationModel"})(fe||(fe={}));var T;(function(nt){nt[nt.VALID=0]="VALID",nt[nt.INVALID=1]="INVALID",nt[nt.CANCELED=2]="CANCELED"})(T||(T={}));let Re=class{constructor(tt,st,It,Wt){this._editor=tt,this._languageConfigurationService=st,this._languageFeaturesService=It,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=new N.vp(300);const Vt=new _e(It),Ct=new oe(this._editor,It),gi=new le(this._editor,st);switch(Wt){case fe.OUTLINE_MODEL:this._modelProviders.push(Vt),this._modelProviders.push(Ct),this._modelProviders.push(gi);break;case fe.FOLDING_PROVIDER_MODEL:this._modelProviders.push(Ct),this._modelProviders.push(gi);break;case fe.INDENTATION_MODEL:this._modelProviders.push(gi);break}this._store=new L.SL}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(tt,st,It){return Z(this,void 0,void 0,function*(){return this._store.clear(),this._store.add({dispose:()=>{var Wt;this._cancelModelPromise(),(Wt=this._updateScheduler)===null||Wt===void 0||Wt.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>Z(this,void 0,void 0,function*(){for(const Wt of this._modelProviders){const{statusPromise:Vt,modelPromise:Ct}=Wt.computeStickyModel(tt,st,It);this._modelPromise=Ct;const gi=yield Vt;if(this._modelPromise!==Ct)return null;switch(gi){case T.CANCELED:return this._store.clear(),null;case T.VALID:return Wt.stickyModel}}return null}))})}};Re=z([K(1,F.c_),K(2,E.p)],Re);class Ce{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,T.INVALID}computeStickyModel(tt,st,It){if(It.isCancellationRequested||!this.isProviderValid(tt))return{statusPromise:this._invalid(),modelPromise:null};const Wt=(0,N.PG)(Vt=>this.createModelFromProvider(tt,st,Vt));return{statusPromise:Wt.then(Vt=>this.isModelValid(Vt)?It.isCancellationRequested?T.CANCELED:(this._stickyModel=this.createStickyModel(tt,st,It,Vt),T.VALID):this._invalid()).then(void 0,Vt=>((0,R.dL)(Vt),T.CANCELED)),modelPromise:Wt}}isModelValid(tt){return!0}isProviderValid(tt){return!0}}let _e=class extends Ce{constructor(tt){super(),this._languageFeaturesService=tt}createModelFromProvider(tt,st,It){return B.C3.create(this._languageFeaturesService.documentSymbolProvider,tt,It)}createStickyModel(tt,st,It,Wt){var Vt;const{stickyOutlineElement:Ct,providerID:gi}=this._stickyModelFromOutlineModel(Wt,(Vt=this._stickyModel)===null||Vt===void 0?void 0:Vt.outlineProviderId);return new Y(tt.uri,st,Ct,gi)}isModelValid(tt){return tt&&tt.children.size>0}_stickyModelFromOutlineModel(tt,st){let It;if(j.$.first(tt.children.values())instanceof B.H3){const gi=j.$.find(tt.children.values(),jt=>jt.id===st);if(gi)It=gi.children;else{let jt="",Ye=-1,ut;for(const[dt,bt]of tt.children.entries()){const Mt=this._findSumOfRangesOfGroup(bt);Mt>Ye&&(ut=bt,Ye=Mt,jt=bt.id)}st=jt,It=ut.children}}else It=tt.children;const Wt=[],Vt=Array.from(It.values()).sort((gi,jt)=>{const Ye=new $(gi.symbol.range.startLineNumber,gi.symbol.range.endLineNumber),ut=new $(jt.symbol.range.startLineNumber,jt.symbol.range.endLineNumber);return this._comparator(Ye,ut)});for(const gi of Vt)Wt.push(this._stickyModelFromOutlineElement(gi,gi.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new J(void 0,Wt,void 0),providerID:st}}_stickyModelFromOutlineElement(tt,st){const It=[];for(const Vt of tt.children.values())if(Vt.symbol.selectionRange.startLineNumber!==Vt.symbol.range.endLineNumber)if(Vt.symbol.selectionRange.startLineNumber!==st)It.push(this._stickyModelFromOutlineElement(Vt,Vt.symbol.selectionRange.startLineNumber));else for(const Ct of Vt.children.values())It.push(this._stickyModelFromOutlineElement(Ct,Vt.symbol.selectionRange.startLineNumber));It.sort((Vt,Ct)=>this._comparator(Vt.range,Ct.range));const Wt=new $(tt.symbol.selectionRange.startLineNumber,tt.symbol.range.endLineNumber);return new J(Wt,It,void 0)}_comparator(tt,st){return tt.startLineNumber!==st.startLineNumber?tt.startLineNumber-st.startLineNumber:st.endLineNumber-tt.endLineNumber}_findSumOfRangesOfGroup(tt){let st=0;for(const It of tt.children.values())st+=this._findSumOfRangesOfGroup(It);return tt instanceof B.sT?st+tt.symbol.range.endLineNumber-tt.symbol.selectionRange.startLineNumber:st}};_e=z([K(0,E.p)],_e);class pe extends Ce{constructor(tt){super(),this._foldingLimitReporter=new U.RangesLimitReporter(tt)}createStickyModel(tt,st,It,Wt){const Vt=this._fromFoldingRegions(Wt);return new Y(tt.uri,st,Vt,void 0)}isModelValid(tt){return tt!==null}_fromFoldingRegions(tt){const st=tt.length,It=[],Wt=new J(void 0,[],void 0);for(let Vt=0;Vt<st;Vt++){const Ct=tt.getParentIndex(Vt);let gi;Ct!==-1?gi=It[Ct]:gi=Wt;const jt=new J(new $(tt.getStartLineNumber(Vt),tt.getEndLineNumber(Vt)+1),[],gi);gi.children.push(jt),It.push(jt)}return Wt}}let le=class extends pe{constructor(tt,st){super(tt),this._languageConfigurationService=st}createModelFromProvider(tt,st,It){return new k.aI(tt,this._languageConfigurationService,this._foldingLimitReporter).compute(It)}};le=z([K(1,F.c_)],le);let oe=class extends pe{constructor(tt,st){super(tt),this._languageFeaturesService=st}isProviderValid(tt){return U.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,tt).length>0}createModelFromProvider(tt,st,It){const Wt=U.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,tt);return new A.e(tt,Wt,()=>this.createModelFromProvider(tt,st,It),this._foldingLimitReporter,void 0).compute(It)}};oe=z([K(1,E.p)],oe);var he=function(nt,tt,st,It){var Wt=arguments.length,Vt=Wt<3?tt:It===null?It=Object.getOwnPropertyDescriptor(tt,st):It,Ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(nt,tt,st,It);else for(var gi=nt.length-1;gi>=0;gi--)(Ct=nt[gi])&&(Vt=(Wt<3?Ct(Vt):Wt>3?Ct(tt,st,Vt):Ct(tt,st))||Vt);return Wt>3&&Vt&&Object.defineProperty(tt,st,Vt),Vt},je=function(nt,tt){return function(st,It){tt(st,It,nt)}},Xe=function(nt,tt,st,It){function Wt(Vt){return Vt instanceof st?Vt:new st(function(Ct){Ct(Vt)})}return new(st||(st=Promise))(function(Vt,Ct){function gi(ut){try{Ye(It.next(ut))}catch(dt){Ct(dt)}}function jt(ut){try{Ye(It.throw(ut))}catch(dt){Ct(dt)}}function Ye(ut){ut.done?Vt(ut.value):Wt(ut.value).then(gi,jt)}Ye((It=It.apply(nt,tt||[])).next())})};class Ve{constructor(tt,st,It){this.startLineNumber=tt,this.endLineNumber=st,this.nestingDepth=It}}let se=class extends L.JT{constructor(tt,st,It){super(),this._languageFeaturesService=st,this._languageConfigurationService=It,this._onDidChangeStickyScroll=this._store.add(new D.Q5),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=tt,this._sessionStore=new L.SL,this._updateSoon=this._register(new N.pY(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(Wt=>{Wt.hasChanged(111)&&this.readConfiguration()})),this.readConfiguration()}dispose(){super.dispose(),this._sessionStore.dispose()}readConfiguration(){if(this._options=this._editor.getOption(111),!this._options.enabled){this._sessionStore.clear();return}this._stickyModelProvider=new Re(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel),this._sessionStore.add(this._editor.onDidChangeModel(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update()}getVersionId(){var tt;return(tt=this._model)===null||tt===void 0?void 0:tt.version}update(){var tt;return Xe(this,void 0,void 0,function*(){(tt=this._cts)===null||tt===void 0||tt.dispose(!0),this._cts=new S.A,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(tt){return Xe(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider)return;const st=this._editor.getModel(),It=st.getVersionId(),Vt=(this._model?!(0,M.Xy)(this._model.uri,st.uri):!1)?setTimeout(()=>{tt.isCancellationRequested||(this._model=new Y(st.uri,st.getVersionId(),void 0,void 0),this._onDidChangeStickyScroll.fire())},75):void 0;this._model=yield this._stickyModelProvider.update(st,It,tt),clearTimeout(Vt)})}updateIndex(tt){return tt===-1?tt=0:tt<0&&(tt=-tt-2),tt}getCandidateStickyLinesIntersectingFromStickyModel(tt,st,It,Wt,Vt){if(st.children.length===0)return;let Ct=Vt;const gi=[];for(let ut=0;ut<st.children.length;ut++){const dt=st.children[ut];dt.range&&gi.push(dt.range.startLineNumber)}const jt=this.updateIndex((0,P.ry)(gi,tt.startLineNumber,(ut,dt)=>ut-dt)),Ye=this.updateIndex((0,P.ry)(gi,tt.startLineNumber+Wt,(ut,dt)=>ut-dt));for(let ut=jt;ut<=Ye;ut++){const dt=st.children[ut];if(!dt)return;if(dt.range){const bt=dt.range.startLineNumber,Mt=dt.range.endLineNumber;tt.startLineNumber<=Mt+1&&bt-1<=tt.endLineNumber&&bt!==Ct&&(Ct=bt,It.push(new Ve(bt,Mt-1,Wt+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(tt,dt,It,Wt+1,bt))}else this.getCandidateStickyLinesIntersectingFromStickyModel(tt,dt,It,Wt,Vt)}}getCandidateStickyLinesIntersecting(tt){var st,It;if(!(!((st=this._model)===null||st===void 0)&&st.element))return[];let Wt=[];this.getCandidateStickyLinesIntersectingFromStickyModel(tt,this._model.element,Wt,0,-1);const Vt=(It=this._editor._getViewModel())===null||It===void 0?void 0:It.getHiddenAreas();if(Vt)for(const Ct of Vt)Wt=Wt.filter(gi=>!(gi.startLineNumber>=Ct.startLineNumber&&gi.endLineNumber<=Ct.endLineNumber+1));return Wt}};se=he([je(1,E.p),je(2,F.c_)],se);var q=t(44333),Ee=t(36953),Se=t(66931),we=t(50038),ve=t(84758),Ne=t(52429),$e=t(69060),Ke=function(nt,tt,st,It){var Wt=arguments.length,Vt=Wt<3?tt:It===null?It=Object.getOwnPropertyDescriptor(tt,st):It,Ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(nt,tt,st,It);else for(var gi=nt.length-1;gi>=0;gi--)(Ct=nt[gi])&&(Vt=(Wt<3?Ct(Vt):Wt>3?Ct(tt,st,Vt):Ct(tt,st))||Vt);return Wt>3&&Vt&&Object.defineProperty(tt,st,Vt),Vt},ze=function(nt,tt){return function(st,It){tt(st,It,nt)}},He=function(nt,tt,st,It){function Wt(Vt){return Vt instanceof st?Vt:new st(function(Ct){Ct(Vt)})}return new(st||(st=Promise))(function(Vt,Ct){function gi(ut){try{Ye(It.next(ut))}catch(dt){Ct(dt)}}function jt(ut){try{Ye(It.throw(ut))}catch(dt){Ct(dt)}}function Ye(ut){ut.done?Vt(ut.value):Wt(ut.value).then(gi,jt)}Ye((It=It.apply(nt,tt||[])).next())})};let Le=class md extends L.JT{constructor(tt,st,It,Wt,Vt,Ct,gi){super(),this._editor=tt,this._contextMenuService=st,this._languageFeaturesService=It,this._instaService=Wt,this._contextKeyService=gi,this._sessionStore=new L.SL,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._stickyScrollWidget=new C(this._editor),this._stickyLineCandidateProvider=new se(this._editor,It,Vt),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new c([],0),this._readConfiguration(),this._register(this._editor.onDidChangeConfiguration(Ye=>{Ye.hasChanged(111)&&this._readConfiguration()})),this._register(g.nm(this._stickyScrollWidget.getDomNode(),g.tw.CONTEXT_MENU,Ye=>He(this,void 0,void 0,function*(){this._onContextMenu(Ye)}))),this._stickyScrollFocusedContextKey=I.u.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=I.u.stickyScrollVisible.bindTo(this._contextKeyService);const jt=this._register(g.go(this._stickyScrollWidget.getDomNode()));this._register(jt.onDidBlur(Ye=>{const ut=this._stickyScrollWidget.getDomNode().clientHeight;this._positionRevealed===!1&&ut===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(jt.onDidFocus(Ye=>{this.focus()})),this._register(this._createClickLinkGesture()),this._register(g.nm(this._stickyScrollWidget.getDomNode(),g.tw.MOUSE_DOWN,Ye=>{this._onMouseDown=!0}))}static get(tt){return tt.getContribution(md.ID)}_disposeFocusStickyScrollStore(){var tt;this._stickyScrollFocusedContextKey.set(!1),(tt=this._focusDisposableStore)===null||tt===void 0||tt.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}if(this._stickyScrollFocusedContextKey.get()===!0)return;this._focused=!0,this._focusDisposableStore=new L.SL,this._stickyScrollFocusedContextKey.set(!0);const st=this._stickyScrollWidget.getDomNode();st.lastElementChild.focus(),this._stickyElements=st.children,this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1}focusNext(){this._focusedStickyElementIndex<this._stickyElements.length-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(tt){this._focusedStickyElementIndex=tt?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyElements.item(this._focusedStickyElementIndex).focus()}goToFocused(){const tt=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:tt[this._focusedStickyElementIndex],column:1})}_revealPosition(tt){this._positionRevealed=!0,this._editor.revealPosition(tt),this._editor.setSelection(we.e.fromPositions(tt)),this._editor.focus()}_createClickLinkGesture(){const tt=new L.SL,st=new L.SL;tt.add(st);const It=new Se.yN(this._editor,!0);return tt.add(It),tt.add(It.onMouseMoveOrRelevantKeyDown(([Wt,Vt])=>{if(!this._editor.hasModel()||!Wt.hasTriggerModifier){st.clear();return}const Ct=Wt.target;if(Ct.detail===this._stickyScrollWidget.getId()&&Ct.element.innerText===Ct.element.innerHTML){const gi=Ct.element.innerText;if(this._stickyScrollWidget.hoverOnColumn===-1)return;const jt=this._stickyScrollWidget.hoverOnLine,Ye=this._stickyScrollWidget.hoverOnColumn,ut=new we.e(jt,Ye,jt,Ye+gi.length);if(!ut.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=ut,st.clear();else if(Ct.element.style.textDecoration==="underline")return;const dt=new S.A;st.add((0,L.OF)(()=>dt.dispose(!0)));let bt;(0,ve.nD)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new i.L(jt,Ye+1),dt.token).then(Mt=>{if(!dt.token.isCancellationRequested)if(Mt.length!==0){this._candidateDefinitionsLength=Mt.length;const ni=Ct.element;bt!==ni?(st.clear(),bt=ni,bt.style.textDecoration="underline",st.add((0,L.OF)(()=>{bt.style.textDecoration="none"}))):bt||(bt=ni,bt.style.textDecoration="underline",st.add((0,L.OF)(()=>{bt.style.textDecoration="none"})))}else st.clear()})}else st.clear()})),tt.add(It.onCancel(()=>{st.clear()})),tt.add(It.onExecute(Wt=>He(this,void 0,void 0,function*(){Wt.target.detail===this._stickyScrollWidget.getId()&&(Wt.hasTriggerModifier?(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:1})),this._instaService.invokeFunction(Ne.K,Wt,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})):Wt.isRightClick||(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:this._stickyScrollWidget.hoverOnColumn})))}))),tt}_onContextMenu(tt){this._contextMenuService.showContextMenu({menuId:_.eH.StickyScrollContext,getAnchor:()=>tt})}_readConfiguration(){const tt=this._editor.getOption(111);if(tt.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else tt.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._renderStickyScroll())),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(It=>this._onTokensChange(It))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>this._renderStickyScroll())),this._enabled=!0);this._editor.getOption(65).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>this._renderStickyScroll()))}_needsUpdate(tt){const st=this._stickyScrollWidget.getCurrentLines();for(const It of st)for(const Wt of tt.ranges)if(It>=Wt.fromLineNumber&&It<=Wt.toLineNumber)return!0;return!1}_onTokensChange(tt){this._needsUpdate(tt)&&this._renderStickyScroll()}_onDidResize(){const tt=this._editor.getLayoutInfo(),st=tt.width-tt.minimap.minimapCanvasOuterWidth-tt.verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width=`${st}px`;const It=tt.height/this._editor.getOption(64);this._maxStickyLines=Math.round(It*.25)}_renderStickyScroll(){if(!this._editor.hasModel())return;const tt=this._editor.getModel(),st=this._stickyLineCandidateProvider.getVersionId();if(st===void 0||st===tt.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.lineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState);else if(this._stickyElements=this._stickyScrollWidget.getDomNode().children,this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyElements.length-1,this._focusedStickyElementIndex!==-1&&this._stickyElements.item(this._focusedStickyElementIndex).focus();else{const It=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState),this._stickyElements.length===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(It)||(this._focusedStickyElementIndex=this._stickyElements.length-1),this._stickyElements.item(this._focusedStickyElementIndex).focus())}}findScrollWidgetState(){const tt=this._editor.getOption(64),st=Math.min(this._maxStickyLines,this._editor.getOption(111).maxLineCount),It=this._editor.getScrollTop();let Wt=0;const Vt=[],Ct=this._editor.getVisibleRanges();if(Ct.length!==0){const gi=new $(Ct[0].startLineNumber,Ct[Ct.length-1].endLineNumber),jt=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(gi);for(const Ye of jt){const ut=Ye.startLineNumber,dt=Ye.endLineNumber,bt=Ye.nestingDepth;if(dt-ut>0){const Mt=(bt-1)*tt,ni=bt*tt,qt=this._editor.getBottomForLineNumber(ut)-It,yt=this._editor.getTopForLineNumber(dt)-It,At=this._editor.getBottomForLineNumber(dt)-It;if(Mt>yt&&Mt<=At){Vt.push(ut),Wt=At-ni;break}else ni>qt&&ni<=At&&Vt.push(ut);if(Vt.length===st)break}}}return new c(Vt,Wt)}dispose(){super.dispose(),this._sessionStore.dispose()}};Le.ID="store.contrib.stickyScrollController",Le=Ke([ze(1,Ee.i),ze(2,E.p),ze(3,q.TG),ze(4,F.c_),ze(5,$e.A),ze(6,V.i6)],Le);var de=function(nt,tt,st,It){function Wt(Vt){return Vt instanceof st?Vt:new st(function(Ct){Ct(Vt)})}return new(st||(st=Promise))(function(Vt,Ct){function gi(ut){try{Ye(It.next(ut))}catch(dt){Ct(dt)}}function jt(ut){try{Ye(It.throw(ut))}catch(dt){Ct(dt)}}function Ye(ut){ut.done?Vt(ut.value):Wt(ut.value).then(gi,jt)}Ye((It=It.apply(nt,tt||[])).next())})};class ee extends _.Ke{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,O.NC)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:(0,O.NC)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:u.View,toggled:{condition:V.Ao.equals("config.editor.stickyScroll.enabled",!0),title:(0,O.NC)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,O.NC)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:_.eH.CommandPalette},{id:_.eH.MenubarViewMenu,group:"5_editor",order:2},{id:_.eH.StickyScrollContext}]})}run(tt){return de(this,void 0,void 0,function*(){const st=tt.get(p.Ui),It=!st.getValue("editor.stickyScroll.enabled");return st.updateValue("editor.stickyScroll.enabled",It)})}}const ne=100;class me extends f.x1{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,O.NC)("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:(0,O.NC)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:V.Ao.and(V.Ao.has("config.editor.stickyScroll.enabled"),I.u.stickyScrollVisible),menu:[{id:_.eH.CommandPalette}]})}runEditorCommand(tt,st){var It;(It=Le.get(st))===null||It===void 0||It.focus()}}class ue extends f.x1{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,O.NC)("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ne,primary:18}})}runEditorCommand(tt,st){var It;(It=Le.get(st))===null||It===void 0||It.focusNext()}}class Pe extends f.x1{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,O.NC)("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ne,primary:16}})}runEditorCommand(tt,st){var It;(It=Le.get(st))===null||It===void 0||It.focusPrevious()}}class ot extends f.x1{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,O.NC)("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ne,primary:3}})}runEditorCommand(tt,st){var It;(It=Le.get(st))===null||It===void 0||It.goToFocused()}}class gt extends f.x1{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,O.NC)("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:I.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ne,primary:9}})}runEditorCommand(tt,st){var It;(It=Le.get(st))===null||It===void 0||It.selectEditor()}}(0,f._K)(Le.ID,Le,1),(0,_.r1)(ee),(0,_.r1)(me),(0,_.r1)(Pe),(0,_.r1)(ue),(0,_.r1)(ot),(0,_.r1)(gt)},32061:function(Rt,Be,t){"use strict";t.d(Be,{_:function(){return p},t:function(){return _}});var f=t(16308),O=t(4538),u=t(17416);class _{constructor(I,L){this.leadingLineContent=I,this.characterCountDelta=L}}class p{constructor(I,L,E,g,a,l,d=O.mX.default,i=void 0){this.clipboardText=i,this._snippetCompareFn=p._compareCompletionItems,this._items=I,this._column=L,this._wordDistance=g,this._options=a,this._refilterKind=1,this._lineContext=E,this._fuzzyScoreOptions=d,l==="top"?this._snippetCompareFn=p._compareCompletionItemsSnippetsUp:l==="bottom"&&(this._snippetCompareFn=p._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(I){(this._lineContext.leadingLineContent!==I.leadingLineContent||this._lineContext.characterCountDelta!==I.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<I.characterCountDelta&&this._filteredItems?2:1,this._lineContext=I)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const I=new Set;for(const[L,E]of this.getItemsByProvider())E.length>0&&E[0].container.incomplete&&I.add(L);return I}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const I=[],{leadingLineContent:L,characterCountDelta:E}=this._lineContext;let g="",a="";const l=this._refilterKind===1?this._items:this._filteredItems,d=[],i=!this._options.filterGraceful||l.length>2e3?O.EW:O.l7;for(let s=0;s<l.length;s++){const m=l[s];if(m.isInvalid)continue;const b=this._itemsByProvider.get(m.provider);b?b.push(m):this._itemsByProvider.set(m.provider,[m]);const c=m.position.column-m.editStart.column,v=c+E-(m.position.column-this._column);if(g.length!==v&&(g=v===0?"":L.slice(-v),a=g.toLowerCase()),m.word=g,v===0)m.score=O.CL.Default;else{let C=0;for(;C<c;){const S=g.charCodeAt(C);if(S===32||S===9)C+=1;else break}if(C>=v)m.score=O.CL.Default;else if(typeof m.completion.filterText=="string"){const S=i(g,a,C,m.completion.filterText,m.filterTextLow,0,this._fuzzyScoreOptions);if(!S)continue;(0,u.zY)(m.completion.filterText,m.textLabel)===0?m.score=S:(m.score=(0,O.jB)(g,a,C,m.textLabel,m.labelLow,0),m.score[0]=S[0])}else{const S=i(g,a,C,m.textLabel,m.labelLow,0,this._fuzzyScoreOptions);if(!S)continue;m.score=S}}m.idx=s,m.distance=this._wordDistance.distance(m.position,m.completion),d.push(m),I.push(m.textLabel.length)}this._filteredItems=d.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:I.length?(0,f.HW)(I.length-.85,I,(s,m)=>s-m):0}}static _compareCompletionItems(I,L){return I.score[0]>L.score[0]?-1:I.score[0]<L.score[0]?1:I.distance<L.distance?-1:I.distance>L.distance?1:I.idx<L.idx?-1:I.idx>L.idx?1:0}static _compareCompletionItemsSnippetsDown(I,L){if(I.completion.kind!==L.completion.kind){if(I.completion.kind===27)return 1;if(L.completion.kind===27)return-1}return p._compareCompletionItems(I,L)}static _compareCompletionItemsSnippetsUp(I,L){if(I.completion.kind!==L.completion.kind){if(I.completion.kind===27)return-1;if(L.completion.kind===27)return 1}return p._compareCompletionItems(I,L)}}},33024:function(Rt,Be,t){"use strict";t.d(Be,{A9:function(){return N},GI:function(){return C},ZJ:function(){return M},_y:function(){return v},i5:function(){return $},kL:function(){return F},tG:function(){return J}});var f=t(97464),O=t(20996),u=t(4538),_=t(38431),p=t(69344),V=t(14818),I=t(28919),L=t(8964),E=t(50038),g=t(91223),a=t(35366),l=t(26386),d=t(21208),i=t(80793),s=t(76826),m=t(35921),b=t(99650),c=function(Y,j,z,K){function Z(fe){return fe instanceof z?fe:new z(function(T){T(fe)})}return new(z||(z=Promise))(function(fe,T){function Re(pe){try{_e(K.next(pe))}catch(le){T(le)}}function Ce(pe){try{_e(K.throw(pe))}catch(le){T(le)}}function _e(pe){pe.done?fe(pe.value):Z(pe.value).then(Re,Ce)}_e((K=K.apply(Y,j||[])).next())})};const v={Visible:b.iX,HasFocusedSuggestion:new s.uy("suggestWidgetHasFocusedSuggestion",!1,(0,l.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new s.uy("suggestWidgetDetailsVisible",!1,(0,l.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new s.uy("suggestWidgetMultipleSuggestions",!1,(0,l.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new s.uy("suggestionMakesTextEdit",!0,(0,l.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new s.uy("acceptSuggestionOnEnter",!0,(0,l.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new s.uy("suggestionHasInsertAndReplaceRange",!1,(0,l.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new s.uy("suggestionInsertMode",void 0,{type:"string",description:(0,l.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new s.uy("suggestionCanResolve",!1,(0,l.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},C=new d.eH("suggestWidgetStatusBar");class S{constructor(j,z,K,Z){var fe;this.position=j,this.completion=z,this.container=K,this.provider=Z,this.isInvalid=!1,this.score=u.CL.Default,this.distance=0,this.textLabel=typeof z.label=="string"?z.label:(fe=z.label)===null||fe===void 0?void 0:fe.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=z.sortText&&z.sortText.toLowerCase(),this.filterTextLow=z.filterText&&z.filterText.toLowerCase(),this.extensionId=z.extensionId,E.e.isIRange(z.range)?(this.editStart=new L.L(z.range.startLineNumber,z.range.startColumn),this.editInsertEnd=new L.L(z.range.endLineNumber,z.range.endColumn),this.editReplaceEnd=new L.L(z.range.endLineNumber,z.range.endColumn),this.isInvalid=this.isInvalid||E.e.spansMultipleLines(z.range)||z.range.startLineNumber!==j.lineNumber):(this.editStart=new L.L(z.range.insert.startLineNumber,z.range.insert.startColumn),this.editInsertEnd=new L.L(z.range.insert.endLineNumber,z.range.insert.endColumn),this.editReplaceEnd=new L.L(z.range.replace.endLineNumber,z.range.replace.endColumn),this.isInvalid=this.isInvalid||E.e.spansMultipleLines(z.range.insert)||E.e.spansMultipleLines(z.range.replace)||z.range.insert.startLineNumber!==j.lineNumber||z.range.replace.startLineNumber!==j.lineNumber||z.range.insert.startColumn!==z.range.replace.startColumn),typeof Z.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(j){return c(this,void 0,void 0,function*(){if(!this._resolveCache){const z=j.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,j)).then(K=>{Object.assign(this.completion,K),this._isResolved=!0,z.dispose()},K=>{(0,O.n2)(K)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class N{constructor(j=2,z=new Set,K=new Set,Z=new Map,fe=!0){this.snippetSortOrder=j,this.kindFilter=z,this.providerFilter=K,this.providerItemsToReuse=Z,this.showDeprecated=fe}}N.default=new N;let P;function M(){return P}class D{constructor(j,z,K,Z){this.items=j,this.needsClipboard=z,this.durations=K,this.disposable=Z}}function F(Y,j,z,K=N.default,Z={triggerKind:0},fe=f.T.None){return c(this,void 0,void 0,function*(){const T=new p.G(!0);z=z.clone();const Re=j.getWordAtPosition(z),Ce=Re?new E.e(z.lineNumber,Re.startColumn,z.lineNumber,Re.endColumn):E.e.fromPositions(z),_e={replace:Ce,insert:Ce.setEndPosition(z.lineNumber,z.column)},pe=[],le=new _.SL,oe=[];let he=!1;const je=(Ve,se,q)=>{var Ee,Se,we;let ve=!1;if(!se)return ve;for(const Ne of se.suggestions)if(!K.kindFilter.has(Ne.kind)){if(!K.showDeprecated&&(!((Ee=Ne==null?void 0:Ne.tags)===null||Ee===void 0)&&Ee.includes(1)))continue;Ne.range||(Ne.range=_e),Ne.sortText||(Ne.sortText=typeof Ne.label=="string"?Ne.label:Ne.label.label),!he&&Ne.insertTextRules&&Ne.insertTextRules&4&&(he=a.Yj.guessNeedsClipboard(Ne.insertText)),pe.push(new S(z,Ne,se,Ve)),ve=!0}return(0,_.Wf)(se)&&le.add(se),oe.push({providerName:(Se=Ve._debugDisplayName)!==null&&Se!==void 0?Se:"unknown_provider",elapsedProvider:(we=se.duration)!==null&&we!==void 0?we:-1,elapsedOverall:q.elapsed()}),ve},Xe=(()=>c(this,void 0,void 0,function*(){if(!P||K.kindFilter.has(27))return;const Ve=K.providerItemsToReuse.get(P);if(Ve){Ve.forEach(Ee=>pe.push(Ee));return}if(K.providerFilter.size>0&&!K.providerFilter.has(P))return;const se=new p.G(!0),q=yield P.provideCompletionItems(j,z,Z,fe);je(P,q,se)}))();for(const Ve of Y.orderedGroups(j)){let se=!1;if(yield Promise.all(Ve.map(q=>c(this,void 0,void 0,function*(){if(K.providerItemsToReuse.has(q)){const Ee=K.providerItemsToReuse.get(q);Ee.forEach(Se=>pe.push(Se)),se=se||Ee.length>0;return}if(!(K.providerFilter.size>0&&!K.providerFilter.has(q)))try{const Ee=new p.G(!0),Se=yield q.provideCompletionItems(j,z,Z,fe);se=je(q,Se,Ee)||se}catch(Ee){(0,O.Cp)(Ee)}}))),se||fe.isCancellationRequested)break}return yield Xe,fe.isCancellationRequested?(le.dispose(),Promise.reject(new O.FU)):new D(pe.sort(R(K.snippetSortOrder)),he,{entries:oe,elapsed:T.elapsed()},le)})}function B(Y,j){if(Y.sortTextLow&&j.sortTextLow){if(Y.sortTextLow<j.sortTextLow)return-1;if(Y.sortTextLow>j.sortTextLow)return 1}return Y.textLabel<j.textLabel?-1:Y.textLabel>j.textLabel?1:Y.completion.kind-j.completion.kind}function U(Y,j){if(Y.completion.kind!==j.completion.kind){if(Y.completion.kind===27)return-1;if(j.completion.kind===27)return 1}return B(Y,j)}function A(Y,j){if(Y.completion.kind!==j.completion.kind){if(Y.completion.kind===27)return 1;if(j.completion.kind===27)return-1}return B(Y,j)}const k=new Map;k.set(0,U),k.set(2,A),k.set(1,B);function R(Y){return k.get(Y)}i.P.registerCommand("_executeCompletionItemProvider",(Y,...j)=>c(void 0,void 0,void 0,function*(){const[z,K,Z,fe]=j;(0,V.p_)(I.o.isUri(z)),(0,V.p_)(L.L.isIPosition(K)),(0,V.p_)(typeof Z=="string"||!Z),(0,V.p_)(typeof fe=="number"||!fe);const{completionProvider:T}=Y.get(m.p),Re=yield Y.get(g.S).createModelReference(z);try{const Ce={incomplete:!1,suggestions:[]},_e=[],pe=Re.object.textEditorModel.validatePosition(K),le=yield F(T,Re.object.textEditorModel,pe,void 0,{triggerCharacter:Z!=null?Z:void 0,triggerKind:Z?1:0});for(const oe of le.items)_e.length<(fe!=null?fe:0)&&_e.push(oe.resolve(f.T.None)),Ce.incomplete=Ce.incomplete||oe.container.incomplete,Ce.suggestions.push(oe.completion);try{return yield Promise.all(_e),Ce}finally{setTimeout(()=>le.disposable.dispose(),100)}}finally{Re.dispose()}}));function $(Y,j){var z;(z=Y.getContribution("editor.contrib.suggestController"))===null||z===void 0||z.triggerSuggest(new Set().add(j),void 0,!0)}class J{static isAllOff(j){return j.other==="off"&&j.comments==="off"&&j.strings==="off"}static isAllOn(j){return j.other==="on"&&j.comments==="on"&&j.strings==="on"}static valueFor(j,z){switch(z){case 1:return j.comments;case 2:return j.strings;default:return j.other}}}},22270:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{SuggestController:function(){return Zt},TriggerSuggestAction:function(){return _t}});var f=t(79874),O=t(16308),u=t(13484),_=t(97464),p=t(20996),V=t(56709),I=t(21994),L=t(38431),E=t(11138),g=t(69344),a=t(14818),l=t(48423),d=t(55298),i=t(19083),s=t(8964),m=t(50038),b=t(21081),c=t(31046),v=t(35366),C=t(32905),S=t(76826),N=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},P=function(at,ce){return function(We,Me){ce(We,Me,at)}};let M=class pd{constructor(ce,We){this._editor=ce,this._enabled=!1,this._ckAtEnd=pd.AtEnd.bindTo(We),this._configListener=this._editor.onDidChangeConfiguration(Me=>Me.hasChanged(119)&&this._update()),this._update()}dispose(){var ce;this._configListener.dispose(),(ce=this._selectionListener)===null||ce===void 0||ce.dispose(),this._ckAtEnd.reset()}_update(){const ce=this._editor.getOption(119)==="on";if(this._enabled!==ce)if(this._enabled=ce,this._enabled){const We=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Me=this._editor.getModel(),ge=this._editor.getSelection(),Q=Me.getWordAtPosition(ge.getStartPosition());if(!Q){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(Q.endColumn===ge.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(We),We()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};M.AtEnd=new S.uy("atEndOfWord",!1),M=N([P(1,S.i6)],M);var D=t(26386),F=t(80793),B=t(44333),U=t(59271),A=t(33024),k=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},R=function(at,ce){return function(We,Me){ce(We,Me,at)}};let $=class Bl{constructor(ce,We){this._editor=ce,this._index=0,this._ckOtherSuggestions=Bl.OtherSuggestions.bindTo(We)}dispose(){this.reset()}reset(){var ce;this._ckOtherSuggestions.reset(),(ce=this._listener)===null||ce===void 0||ce.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:ce,index:We},Me){if(ce.items.length===0){this.reset();return}if(Bl._moveIndex(!0,ce,We)===We){this.reset();return}this._acceptNext=Me,this._model=ce,this._index=We,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(ce,We,Me){let ge=Me;for(let Q=We.items.length;Q>0&&(ge=(ge+We.items.length+(ce?1:-1))%We.items.length,!(ge===Me||!We.items[ge].completion.additionalTextEdits));Q--);return ge}next(){this._move(!0)}prev(){this._move(!1)}_move(ce){if(this._model)try{this._ignore=!0,this._index=Bl._moveIndex(ce,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};$.OtherSuggestions=new S.uy("hasOtherSuggestions",!1),$=k([R(1,S.i6)],$);var J=t(55224);class Y{constructor(ce,We,Me,ge){this._disposables=new L.SL,this._disposables.add(Me.onDidSuggest(Q=>{Q.completionModel.items.length===0&&this.reset()})),this._disposables.add(Me.onDidCancel(Q=>{this.reset()})),this._disposables.add(We.onDidShow(()=>this._onItem(We.getFocusedItem()))),this._disposables.add(We.onDidFocus(this._onItem,this)),this._disposables.add(We.onDidHide(this.reset,this)),this._disposables.add(ce.onWillType(Q=>{if(this._active&&!We.isFrozen()&&Me.state!==0){const ae=Q.charCodeAt(Q.length-1);this._active.acceptCharacters.has(ae)&&ce.getOption(0)&&ge(this._active.item)}}))}_onItem(ce){if(!ce||!(0,O.Of)(ce.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===ce.item)return;const We=new J.q;for(const Me of ce.item.completion.commitCharacters)Me.length>0&&We.add(Me.charCodeAt(0));this._active={acceptCharacters:We,item:ce}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var j=t(17416),z=t(57841),K=t(30363),Z=t(77512),fe=t(51941),T=t(71177),Re=t(68554),Ce=t(32061),_e=t(35921),pe=t(4538),le=t(91560),oe=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},he=function(at,ce){return function(We,Me){ce(We,Me,at)}},je=function(at,ce,We,Me){function ge(Q){return Q instanceof We?Q:new We(function(ae){ae(Q)})}return new(We||(We=Promise))(function(Q,ae){function xe(vt){try{Je(Me.next(vt))}catch(St){ae(St)}}function Ae(vt){try{Je(Me.throw(vt))}catch(St){ae(St)}}function Je(vt){vt.done?Q(vt.value):ge(vt.value).then(xe,Ae)}Je((Me=Me.apply(at,ce||[])).next())})};class Xe{static shouldAutoTrigger(ce){if(!ce.hasModel())return!1;const We=ce.getModel(),Me=ce.getPosition();We.tokenization.tokenizeIfCheap(Me.lineNumber);const ge=We.getWordAtPosition(Me);return!(!ge||ge.endColumn!==Me.column&&ge.startColumn+1!==Me.column||!isNaN(Number(ge.word)))}constructor(ce,We,Me){this.leadingLineContent=ce.getLineContent(We.lineNumber).substr(0,We.column-1),this.leadingWord=ce.getWordUntilPosition(We),this.lineNumber=We.lineNumber,this.column=We.column,this.triggerOptions=Me}}function Ve(at,ce,We){if(!ce.getContextKeyValue(le.f.inlineSuggestionVisible.key))return!0;const Me=ce.getContextKeyValue(le.f.suppressSuggestions.key);return Me!==void 0?!Me:!at.getOption(60).suppressSuggestions}function se(at,ce,We){if(!ce.getContextKeyValue("inlineSuggestionVisible"))return!0;const Me=ce.getContextKeyValue(le.f.suppressSuggestions.key);return Me!==void 0?!Me:!at.getOption(60).suppressSuggestions}let q=class vd{constructor(ce,We,Me,ge,Q,ae,xe,Ae){this._editor=ce,this._editorWorkerService=We,this._clipboardService=Me,this._telemetryService=ge,this._logService=Q,this._contextKeyService=ae,this._configurationService=xe,this._languageFeaturesService=Ae,this._toDispose=new L.SL,this._triggerCharacterListener=new L.SL,this._triggerQuickSuggest=new u._F,this._triggerState=void 0,this._completionDisposables=new L.SL,this._onDidCancel=new V.Q5,this._onDidTrigger=new V.Q5,this._onDidSuggest=new V.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new z.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let Je=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{Je=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{Je=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(vt=>{Je||this._onCursorChange(vt)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!Je&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,L.B9)(this._triggerCharacterListener),(0,L.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(88)||!this._editor.hasModel()||!this._editor.getOption(117))return;const ce=new Map;for(const Me of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const ge of Me.triggerCharacters||[]){let Q=ce.get(ge);Q||(Q=new Set,Q.add((0,A.ZJ)()),ce.set(ge,Q)),Q.add(Me)}const We=Me=>{var ge;if(!se(this._editor,this._contextKeyService,this._configurationService)||Xe.shouldAutoTrigger(this._editor))return;if(!Me){const xe=this._editor.getPosition();Me=this._editor.getModel().getLineContent(xe.lineNumber).substr(0,xe.column-1)}let Q="";(0,j.YK)(Me.charCodeAt(Me.length-1))?(0,j.ZG)(Me.charCodeAt(Me.length-2))&&(Q=Me.substr(Me.length-2)):Q=Me.charAt(Me.length-1);const ae=ce.get(Q);if(ae){const xe=new Map;if(this._completionModel)for(const[Ae,Je]of this._completionModel.getItemsByProvider())ae.has(Ae)||xe.set(Ae,Je);this.trigger({auto:!0,triggerKind:1,triggerCharacter:Q,retrigger:!!this._completionModel,clipboardText:(ge=this._completionModel)===null||ge===void 0?void 0:ge.clipboardText,completionOptions:{providerFilter:ae,providerItemsToReuse:xe}})}};this._triggerCharacterListener.add(this._editor.onDidType(We)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>We()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(ce=!1){var We;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(We=this._requestToken)===null||We===void 0||We.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:ce}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(ce){if(!this._editor.hasModel())return;const We=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!ce.selection.isEmpty()||ce.reason!==0&&ce.reason!==3||ce.source!=="keyboard"&&ce.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&ce.reason===0?(We.containsRange(this._currentSelection)||We.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&ce.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var ce;A.tG.isAllOff(this._editor.getOption(86))||this._editor.getOption(114).snippetsPreventQuickSuggestions&&(!((ce=c.SnippetController2.get(this._editor))===null||ce===void 0)&&ce.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!Xe.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const We=this._editor.getModel(),Me=this._editor.getPosition(),ge=this._editor.getOption(86);if(!A.tG.isAllOff(ge)){if(!A.tG.isAllOn(ge)){We.tokenization.tokenizeIfCheap(Me.lineNumber);const Q=We.tokenization.getLineTokens(Me.lineNumber),ae=Q.getStandardTokenType(Q.findTokenIndexAtOffset(Math.max(Me.column-1-1,0)));if(A.tG.valueFor(ge,ae)!=="on")return}Ve(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(We)&&this.trigger({auto:!0})}},this._editor.getOption(87)))}_refilterCompletionItems(){(0,a.p_)(this._editor.hasModel()),(0,a.p_)(this._triggerState!==void 0);const ce=this._editor.getModel(),We=this._editor.getPosition(),Me=new Xe(ce,We,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(Me)}trigger(ce){var We,Me,ge,Q,ae,xe;if(!this._editor.hasModel())return;const Ae=this._editor.getModel(),Je=new Xe(Ae,this._editor.getPosition(),ce);this.cancel(ce.retrigger),this._triggerState=ce,this._onDidTrigger.fire({auto:ce.auto,shy:(We=ce.shy)!==null&&We!==void 0?We:!1,position:this._editor.getPosition()}),this._context=Je;let vt={triggerKind:(Me=ce.triggerKind)!==null&&Me!==void 0?Me:0};ce.triggerCharacter&&(vt={triggerKind:1,triggerCharacter:ce.triggerCharacter}),this._requestToken=new _.A;const St=this._editor.getOption(108);let wt=1;switch(St){case"top":wt=0;break;case"bottom":wt=2;break}const{itemKind:Lt,showDeprecated:Bt}=vd._createSuggestFilter(this._editor),ei=new A.A9(wt,(Q=(ge=ce.completionOptions)===null||ge===void 0?void 0:ge.kindFilter)!==null&&Q!==void 0?Q:Lt,(ae=ce.completionOptions)===null||ae===void 0?void 0:ae.providerFilter,(xe=ce.completionOptions)===null||xe===void 0?void 0:xe.providerItemsToReuse,Bt),pi=Z.K.create(this._editorWorkerService,this._editor),di=(0,A.kL)(this._languageFeaturesService.completionProvider,Ae,this._editor.getPosition(),ei,vt,this._requestToken.token);Promise.all([di,pi]).then(([hi,yi])=>je(this,void 0,void 0,function*(){var Bi;if((Bi=this._requestToken)===null||Bi===void 0||Bi.dispose(),!this._editor.hasModel())return;let ki=ce==null?void 0:ce.clipboardText;if(!ki&&hi.needsClipboard&&(ki=yield this._clipboardService.readText()),this._triggerState===void 0)return;const Wi=this._editor.getModel(),Ri=new Xe(Wi,this._editor.getPosition(),ce),Cn=Object.assign(Object.assign({},pe.mX.default),{firstMatchCanBeWeak:!this._editor.getOption(114).matchOnWordStartOnly});this._completionModel=new Ce._(hi.items,this._context.column,{leadingLineContent:Ri.leadingLineContent,characterCountDelta:Ri.column-this._context.column},yi,this._editor.getOption(114),this._editor.getOption(108),Cn,ki),this._completionDisposables.add(hi.disposable),this._onNewContext(Ri),this._reportDurationsTelemetry(hi.durations)})).catch(p.dL)}_reportDurationsTelemetry(ce){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(ce)}),this._logService.debug("suggest.durations.json",ce)})}static _createSuggestFilter(ce){const We=new Set;ce.getOption(108)==="none"&&We.add(27);const ge=ce.getOption(114);return ge.showMethods||We.add(0),ge.showFunctions||We.add(1),ge.showConstructors||We.add(2),ge.showFields||We.add(3),ge.showVariables||We.add(4),ge.showClasses||We.add(5),ge.showStructs||We.add(6),ge.showInterfaces||We.add(7),ge.showModules||We.add(8),ge.showProperties||We.add(9),ge.showEvents||We.add(10),ge.showOperators||We.add(11),ge.showUnits||We.add(12),ge.showValues||We.add(13),ge.showConstants||We.add(14),ge.showEnums||We.add(15),ge.showEnumMembers||We.add(16),ge.showKeywords||We.add(17),ge.showWords||We.add(18),ge.showColors||We.add(19),ge.showFiles||We.add(20),ge.showReferences||We.add(21),ge.showColors||We.add(22),ge.showFolders||We.add(23),ge.showTypeParameters||We.add(24),ge.showSnippets||We.add(27),ge.showUsers||We.add(25),ge.showIssues||We.add(26),{itemKind:We,showDeprecated:ge.showDeprecated}}_onNewContext(ce){if(this._context){if(ce.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,j.V8)(ce.leadingLineContent)!==(0,j.V8)(this._context.leadingLineContent)){this.cancel();return}if(ce.column<this._context.column){ce.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(ce.leadingWord.word.length!==0&&ce.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Xe.shouldAutoTrigger(this._editor)&&this._context){const Me=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:Me}})}return}if(ce.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&ce.leadingWord.word.length!==0){const We=new Map,Me=new Set;for(const[ge,Q]of this._completionModel.getItemsByProvider())Q.length>0&&Q[0].container.incomplete?Me.add(ge):We.set(ge,Q);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:Me,providerItemsToReuse:We}})}else{const We=this._completionModel.lineContext;let Me=!1;if(this._completionModel.lineContext={leadingLineContent:ce.leadingLineContent,characterCountDelta:ce.column-this._context.column},this._completionModel.items.length===0){const ge=Xe.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(ge&&this._context.leadingWord.endColumn<ce.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=We,Me=this._completionModel.items.length>0,Me&&ce.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:ce.triggerOptions,isFrozen:Me})}}}}};q=oe([he(1,K.p),he(2,fe.p),he(3,Re.b),he(4,U.VZ),he(5,S.i6),he(6,T.Ui),he(7,_e.p)],q);class Ee{constructor(ce,We){this._disposables=new L.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(ce.onWillType(()=>{if(this._locked||!ce.hasModel())return;const Me=ce.getSelections(),ge=Me.length;let Q=!1;for(let xe=0;xe<ge;xe++)if(!Me[xe].isEmpty()){Q=!0;break}if(!Q){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const ae=ce.getModel();for(let xe=0;xe<ge;xe++){const Ae=Me[xe];if(ae.getValueLengthInRange(Ae)>Ee._maxSelectionLength)return;this._lastOvertyped[xe]={value:ae.getValueInRange(Ae),multiline:Ae.startLineNumber!==Ae.endLineNumber}}})),this._disposables.add(We.onDidTrigger(Me=>{this._locked=!0})),this._disposables.add(We.onDidCancel(Me=>{this._locked=!1}))}getLastOvertypedInfo(ce){if(ce>=0&&ce<this._lastOvertyped.length)return this._lastOvertyped[ce]}dispose(){this._disposables.dispose()}}Ee._maxSelectionLength=51200;var Se=t(34441),we=t(89467),ve=t(75490),Ne=t(98726),$e=t(77957),Ke=t(67235),ze=t(3941),He=t(21208),Le=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},de=function(at,ce){return function(We,Me){ce(We,Me,at)}};class ee extends ze.Mm{updateLabel(){const ce=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!ce)return super.updateLabel();this.label&&(this.label.textContent=(0,D.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,ee.symbolPrintEnter(ce)))}static symbolPrintEnter(ce){var We;return(We=ce.getLabel())===null||We===void 0?void 0:We.replace(/\benter\b/gi,"\u23CE")}}let ne=class{constructor(ce,We,Me,ge,Q){this._menuId=We,this._menuService=ge,this._contextKeyService=Q,this._menuDisposables=new L.SL,this.element=Se.R3(ce,Se.$(".suggest-status-bar"));const ae=xe=>xe instanceof He.U8?Me.createInstance(ee,xe,void 0):void 0;this._leftActions=new Ke.o(this.element,{actionViewItemProvider:ae}),this._rightActions=new Ke.o(this.element,{actionViewItemProvider:ae}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const ce=this._menuService.createMenu(this._menuId,this._contextKeyService),We=()=>{const Me=[],ge=[];for(const[Q,ae]of ce.getActions())Q==="left"?Me.push(...ae):ge.push(...ae);this._leftActions.clear(),this._leftActions.push(Me),this._rightActions.clear(),this._rightActions.push(ge)};this._menuDisposables.add(ce.onDidChange(()=>We())),this._menuDisposables.add(ce)}hide(){this._menuDisposables.clear()}};ne=Le([de(2,B.TG),de(3,He.co),de(4,S.i6)],ne);var me=t(27187),ue=t(63536),Pe=t(92537),ot=t(49914),gt=t(58566),nt=t(52243);class tt{constructor(){this._onDidWillResize=new V.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new V.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new L.SL,this._size=new Se.Ro(0,0),this._minSize=new Se.Ro(0,0),this._maxSize=new Se.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new nt.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new nt.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new nt.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:nt.l.North}),this._southSash=new nt.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:nt.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let ce,We=0,Me=0;this._sashListener.add(V.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{ce===void 0&&(this._onDidWillResize.fire(),ce=this._size,We=0,Me=0)})),this._sashListener.add(V.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{ce!==void 0&&(ce=void 0,We=0,Me=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(ge=>{ce&&(Me=ge.currentX-ge.startX,this.layout(ce.height+We,ce.width+Me),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(ge=>{ce&&(Me=-(ge.currentX-ge.startX),this.layout(ce.height+We,ce.width+Me),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(ge=>{ce&&(We=-(ge.currentY-ge.startY),this.layout(ce.height+We,ce.width+Me),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(ge=>{ce&&(We=ge.currentY-ge.startY,this.layout(ce.height+We,ce.width+Me),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(V.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(ge=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(V.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(ge=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(ce,We,Me,ge){this._northSash.state=ce?3:0,this._eastSash.state=We?3:0,this._southSash.state=Me?3:0,this._westSash.state=ge?3:0}layout(ce=this.size.height,We=this.size.width){const{height:Me,width:ge}=this._minSize,{height:Q,width:ae}=this._maxSize;ce=Math.max(Me,Math.min(Q,ce)),We=Math.max(ge,Math.min(ae,We));const xe=new Se.Ro(We,ce);Se.Ro.equals(xe,this._size)||(this.domNode.style.height=ce+"px",this.domNode.style.width=We+"px",this._size=xe,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(ce){this._maxSize=ce}get maxSize(){return this._maxSize}set minSize(ce){this._minSize=ce}get minSize(){return this._minSize}set preferredSize(ce){this._preferredSize=ce}get preferredSize(){return this._preferredSize}}var st=t(60018),It=t(407),Wt=t(8216),Vt=t(69008),Ct=t(59397),gi=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},jt=function(at,ce){return function(We,Me){ce(We,Me,at)}};function Ye(at){return!!at&&!!(at.completion.documentation||at.completion.detail&&at.completion.detail!==at.completion.label)}let ut=class{constructor(ce,We){this._editor=ce,this._onDidClose=new V.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new V.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new L.SL,this._renderDisposeable=new L.SL,this._borderWidth=1,this._size=new Se.Ro(330,0),this.domNode=Se.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=We.createInstance(Ct.$,{editor:ce}),this._body=Se.$(".body"),this._scrollbar=new st.s$(this._body,{alwaysConsumeMouseWheel:!0}),Se.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Se.R3(this._body,Se.$(".header")),this._close=Se.R3(this._header,Se.$("span"+Wt.k.asCSSSelector(It.l.close))),this._close.title=D.NC("details.close","Close"),this._type=Se.R3(this._header,Se.$("p.type")),this._docs=Se.R3(this._body,Se.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Me=>{Me.hasChanged(48)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const ce=this._editor.getOptions(),We=ce.get(48),Me=We.getMassagedFontFamily(),ge=ce.get(115)||We.fontSize,Q=ce.get(116)||We.lineHeight,ae=We.fontWeight,xe=`${ge}px`,Ae=`${Q}px`;this.domNode.style.fontSize=xe,this.domNode.style.lineHeight=`${Q/ge}`,this.domNode.style.fontWeight=ae,this.domNode.style.fontFeatureSettings=We.fontFeatureSettings,this._type.style.fontFamily=Me,this._close.style.height=Ae,this._close.style.width=Ae}getLayoutInfo(){const ce=this._editor.getOption(116)||this._editor.getOption(48).lineHeight,We=this._borderWidth,Me=We*2;return{lineHeight:ce,borderWidth:We,borderHeight:Me,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=D.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(ce,We){var Me,ge;this._renderDisposeable.clear();let{detail:Q,documentation:ae}=ce.completion;if(We){let xe="";xe+=`score: ${ce.score[0]}
`,xe+=`prefix: ${(Me=ce.word)!==null&&Me!==void 0?Me:"(no prefix)"}
`,xe+=`word: ${ce.completion.filterText?ce.completion.filterText+" (filterText)":ce.textLabel}
`,xe+=`distance: ${ce.distance} (localityBonus-setting)
`,xe+=`index: ${ce.idx}, based on ${ce.completion.sortText&&`sortText: "${ce.completion.sortText}"`||"label"}
`,xe+=`commit_chars: ${(ge=ce.completion.commitCharacters)===null||ge===void 0?void 0:ge.join("")}
`,ae=new Vt.W5().appendCodeblock("empty",xe),Q=`Provider: ${ce.provider._debugDisplayName}`}if(!We&&!Ye(ce)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),Q){const xe=Q.length>1e5?`${Q.substr(0,1e5)}\u2026`:Q;this._type.textContent=xe,this._type.title=xe,Se.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(xe))}else Se.PO(this._type),this._type.title="",Se.Cp(this._type),this.domNode.classList.add("no-type");if(Se.PO(this._docs),typeof ae=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=ae;else if(ae){this._docs.classList.add("markdown-docs"),Se.PO(this._docs);const xe=this._markdownRenderer.render(ae);this._docs.appendChild(xe.element),this._renderDisposeable.add(xe),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=xe=>{xe.preventDefault(),xe.stopPropagation()},this._close.onclick=xe=>{xe.preventDefault(),xe.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(ce,We){const Me=new Se.Ro(ce,We);Se.Ro.equals(Me,this._size)||(this._size=Me,Se.dp(this.domNode,ce,We)),this._scrollbar.scanDomNode()}scrollDown(ce=8){this._body.scrollTop+=ce}scrollUp(ce=8){this._body.scrollTop-=ce}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(ce){this._borderWidth=ce}get borderWidth(){return this._borderWidth}};ut=gi([jt(1,B.TG)],ut);class dt{constructor(ce,We){this.widget=ce,this._editor=We,this._disposables=new L.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new tt,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(ce.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Me,ge,Q=0,ae=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Me=this._topLeft,ge=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(xe=>{if(Me&&ge){this.widget.layout(xe.dimension.width,xe.dimension.height);let Ae=!1;xe.west&&(ae=ge.width-xe.dimension.width,Ae=!0),xe.north&&(Q=ge.height-xe.dimension.height,Ae=!0),Ae&&this._applyTopLeft({top:Me.top+Q,left:Me.left+ae})}xe.done&&(Me=void 0,ge=void 0,Q=0,ae=0,this._userSize=xe.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var xe;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(xe=this._userSize)!==null&&xe!==void 0?xe:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(ce=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),ce&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(ce,We){var Me;const ge=ce.getBoundingClientRect();this._anchorBox=ge,this._preferAlignAtTop=We,this._placeAtAnchor(this._anchorBox,(Me=this._userSize)!==null&&Me!==void 0?Me:this.widget.size,We)}_placeAtAnchor(ce,We,Me){var ge;const Q=Se.D6(document.body),ae=this.widget.getLayoutInfo(),xe=new Se.Ro(220,2*ae.lineHeight),Ae=ce.top,Je=function(){const yi=Q.width-(ce.left+ce.width+ae.borderWidth+ae.horizontalPadding),Bi=-ae.borderWidth+ce.left+ce.width,ki=new Se.Ro(yi,Q.height-ce.top-ae.borderHeight-ae.verticalPadding),Wi=ki.with(void 0,ce.top+ce.height-ae.borderHeight-ae.verticalPadding);return{top:Ae,left:Bi,fit:yi-We.width,maxSizeTop:ki,maxSizeBottom:Wi,minSize:xe.with(Math.min(yi,xe.width))}}(),vt=function(){const yi=ce.left-ae.borderWidth-ae.horizontalPadding,Bi=Math.max(ae.horizontalPadding,ce.left-We.width-ae.borderWidth),ki=new Se.Ro(yi,Q.height-ce.top-ae.borderHeight-ae.verticalPadding),Wi=ki.with(void 0,ce.top+ce.height-ae.borderHeight-ae.verticalPadding);return{top:Ae,left:Bi,fit:yi-We.width,maxSizeTop:ki,maxSizeBottom:Wi,minSize:xe.with(Math.min(yi,xe.width))}}(),St=function(){const yi=ce.left,Bi=-ae.borderWidth+ce.top+ce.height,ki=new Se.Ro(ce.width-ae.borderHeight,Q.height-ce.top-ce.height-ae.verticalPadding);return{top:Bi,left:yi,fit:ki.height-We.height,maxSizeBottom:ki,maxSizeTop:ki,minSize:xe.with(ki.width)}}(),wt=[Je,vt,St],Lt=(ge=wt.find(yi=>yi.fit>=0))!==null&&ge!==void 0?ge:wt.sort((yi,Bi)=>Bi.fit-yi.fit)[0],Bt=ce.top+ce.height-ae.borderHeight;let ei,pi=We.height;const di=Math.max(Lt.maxSizeTop.height,Lt.maxSizeBottom.height);pi>di&&(pi=di);let hi;Me?pi<=Lt.maxSizeTop.height?(ei=!0,hi=Lt.maxSizeTop):(ei=!1,hi=Lt.maxSizeBottom):pi<=Lt.maxSizeBottom.height?(ei=!1,hi=Lt.maxSizeBottom):(ei=!0,hi=Lt.maxSizeTop),this._applyTopLeft({left:Lt.left,top:ei?Lt.top:Bt-pi}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!ei,Lt===Je,ei,Lt!==Je),this._resizable.minSize=Lt.minSize,this._resizable.maxSize=hi,this._resizable.layout(pi,Math.min(hi.width,We.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(ce){this._topLeft=ce,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var bt=t(65029),Mt=t(28919),ni=t(36082),qt=t(5007),yt=t(6227),At=t(90638),Qt;(function(at){at[at.FILE=0]="FILE",at[at.FOLDER=1]="FOLDER",at[at.ROOT_FOLDER=2]="ROOT_FOLDER"})(Qt||(Qt={}));const si=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function oi(at,ce,We,Me){const ge=Me===Qt.ROOT_FOLDER?["rootfolder-icon"]:Me===Qt.FOLDER?["folder-icon"]:["file-icon"];if(We){let Q;if(We.scheme===qt.lg.data)Q=yt.Vb.parseMetaData(We).get(yt.Vb.META_DATA_LABEL);else{const ae=We.path.match(si);ae?(Q=bi(ae[2].toLowerCase()),ae[1]&&ge.push(`${bi(ae[1].toLowerCase())}-name-dir-icon`)):Q=bi(We.authority.toLowerCase())}if(Me===Qt.FOLDER)ge.push(`${Q}-name-folder-icon`);else{if(Q){if(ge.push(`${Q}-name-file-icon`),ge.push("name-file-icon"),Q.length<=255){const xe=Q.split(".");for(let Ae=1;Ae<xe.length;Ae++)ge.push(`${xe.slice(Ae).join(".")}-ext-file-icon`)}ge.push("ext-file-icon")}const ae=mi(at,ce,We);ae&&ge.push(`${bi(ae)}-lang-file-icon`)}}return ge}function mi(at,ce,We){if(!We)return null;let Me=null;if(We.scheme===qt.lg.data){const Q=yt.Vb.parseMetaData(We).get(yt.Vb.META_DATA_MIME);Q&&(Me=ce.getLanguageIdByMimeType(Q))}else{const ge=at.getModel(We);ge&&(Me=ge.getLanguageId())}return Me&&Me!==At.bd?Me:ce.guessLanguageIdByFilepathOrFirstLine(We)}function bi(at){return at.replace(/[\11\12\14\15\40]/g,"/")}var Ai=t(65041),$i=t(47626),Vi=t(89528),Qi=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},fn=function(at,ce){return function(We,Me){ce(We,Me,at)}},Yi;function Pi(at){return`suggest-aria-id:${at}`}const Li=(0,Vi.q5)("suggest-more-info",It.l.chevronRight,D.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),gn=new(Yi=class Wl{extract(ce,We){if(ce.textLabel.match(Wl._regexStrict))return We[0]=ce.textLabel,!0;if(ce.completion.detail&&ce.completion.detail.match(Wl._regexStrict))return We[0]=ce.completion.detail,!0;if(typeof ce.completion.documentation=="string"){const Me=Wl._regexRelaxed.exec(ce.completion.documentation);if(Me&&(Me.index===0||Me.index+Me[0].length===ce.completion.documentation.length))return We[0]=Me[0],!0}return!1}},Yi._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Yi._regexStrict=new RegExp(`^${Yi._regexRelaxed.source}$`,"i"),Yi);let on=class{constructor(ce,We,Me,ge){this._editor=ce,this._modelService=We,this._languageService=Me,this._themeService=ge,this._onDidToggleDetails=new V.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(ce){const We=new L.SL,Me=ce;Me.classList.add("show-file-icons");const ge=(0,Se.R3)(ce,(0,Se.$)(".icon")),Q=(0,Se.R3)(ge,(0,Se.$)("span.colorspan")),ae=(0,Se.R3)(ce,(0,Se.$)(".contents")),xe=(0,Se.R3)(ae,(0,Se.$)(".main")),Ae=(0,Se.R3)(xe,(0,Se.$)(".icon-label.codicon")),Je=(0,Se.R3)(xe,(0,Se.$)("span.left")),vt=(0,Se.R3)(xe,(0,Se.$)("span.right")),St=new bt.g(Je,{supportHighlights:!0,supportIcons:!0});We.add(St);const wt=(0,Se.R3)(Je,(0,Se.$)("span.signature-label")),Lt=(0,Se.R3)(Je,(0,Se.$)("span.qualifier-label")),Bt=(0,Se.R3)(vt,(0,Se.$)("span.details-label")),ei=(0,Se.R3)(vt,(0,Se.$)("span.readMore"+Wt.k.asCSSSelector(Li)));ei.title=D.NC("readMore","Read More");const pi=()=>{const di=this._editor.getOptions(),hi=di.get(48),yi=hi.getMassagedFontFamily(),Bi=hi.fontFeatureSettings,ki=di.get(115)||hi.fontSize,Wi=di.get(116)||hi.lineHeight,Ri=hi.fontWeight,Cn=hi.letterSpacing,ts=`${ki}px`,Hn=`${Wi}px`,Ss=`${Cn}px`;Me.style.fontSize=ts,Me.style.fontWeight=Ri,Me.style.letterSpacing=Ss,xe.style.fontFamily=yi,xe.style.fontFeatureSettings=Bi,xe.style.lineHeight=Hn,ge.style.height=Hn,ge.style.width=Hn,ei.style.height=Hn,ei.style.width=Hn};return pi(),We.add(this._editor.onDidChangeConfiguration(di=>{(di.hasChanged(48)||di.hasChanged(115)||di.hasChanged(116))&&pi()})),{root:Me,left:Je,right:vt,icon:ge,colorspan:Q,iconLabel:St,iconContainer:Ae,parametersLabel:wt,qualifierLabel:Lt,detailsLabel:Bt,readMore:ei,disposables:We}}renderElement(ce,We,Me){const{completion:ge}=ce;Me.root.id=Pi(We),Me.colorspan.style.backgroundColor="";const Q={labelEscapeNewLines:!0,matches:(0,pe.mB)(ce.score)},ae=[];if(ge.kind===19&&gn.extract(ce,ae))Me.icon.className="icon customcolor",Me.iconContainer.className="icon hide",Me.colorspan.style.backgroundColor=ae[0];else if(ge.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Me.icon.className="icon hide",Me.iconContainer.className="icon hide";const xe=oi(this._modelService,this._languageService,Mt.o.from({scheme:"fake",path:ce.textLabel}),Qt.FILE),Ae=oi(this._modelService,this._languageService,Mt.o.from({scheme:"fake",path:ge.detail}),Qt.FILE);Q.extraClasses=xe.length>Ae.length?xe:Ae}else ge.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(Me.icon.className="icon hide",Me.iconContainer.className="icon hide",Q.extraClasses=[oi(this._modelService,this._languageService,Mt.o.from({scheme:"fake",path:ce.textLabel}),Qt.FOLDER),oi(this._modelService,this._languageService,Mt.o.from({scheme:"fake",path:ge.detail}),Qt.FOLDER)].flat()):(Me.icon.className="icon hide",Me.iconContainer.className="",Me.iconContainer.classList.add("suggest-icon",...Wt.k.asClassNameArray(ni.gX.toIcon(ge.kind))));ge.tags&&ge.tags.indexOf(1)>=0&&(Q.extraClasses=(Q.extraClasses||[]).concat(["deprecated"]),Q.matches=[]),Me.iconLabel.setLabel(ce.textLabel,void 0,Q),typeof ge.label=="string"?(Me.parametersLabel.textContent="",Me.detailsLabel.textContent=Nn(ge.detail||""),Me.root.classList.add("string-label")):(Me.parametersLabel.textContent=Nn(ge.label.detail||""),Me.detailsLabel.textContent=Nn(ge.label.description||""),Me.root.classList.remove("string-label")),this._editor.getOption(114).showInlineDetails?(0,Se.$Z)(Me.detailsLabel):(0,Se.Cp)(Me.detailsLabel),Ye(ce)?(Me.right.classList.add("can-expand-details"),(0,Se.$Z)(Me.readMore),Me.readMore.onmousedown=xe=>{xe.stopPropagation(),xe.preventDefault()},Me.readMore.onclick=xe=>{xe.stopPropagation(),xe.preventDefault(),this._onDidToggleDetails.fire()}):(Me.right.classList.remove("can-expand-details"),(0,Se.Cp)(Me.readMore),Me.readMore.onmousedown=null,Me.readMore.onclick=null)}disposeTemplate(ce){ce.disposables.dispose()}};on=Qi([fn(1,Ai.q),fn(2,$i.O),fn(3,gt.XE)],on);function Nn(at){return at.replace(/\r\n|\r|\n/g,"")}var ln=t(60140),Yt=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},ti=function(at,ce){return function(We,Me){ce(We,Me,at)}},fi=function(at,ce,We,Me){function ge(Q){return Q instanceof We?Q:new We(function(ae){ae(Q)})}return new(We||(We=Promise))(function(Q,ae){function xe(vt){try{Je(Me.next(vt))}catch(St){ae(St)}}function Ae(vt){try{Je(Me.throw(vt))}catch(St){ae(St)}}function Je(vt){vt.done?Q(vt.value):ge(vt.value).then(xe,Ae)}Je((Me=Me.apply(at,ce||[])).next())})};(0,Pe.P6G)("editorSuggestWidget.background",{dark:Pe.D0T,light:Pe.D0T,hcDark:Pe.D0T,hcLight:Pe.D0T},D.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,Pe.P6G)("editorSuggestWidget.border",{dark:Pe.D1_,light:Pe.D1_,hcDark:Pe.D1_,hcLight:Pe.D1_},D.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const Gt=(0,Pe.P6G)("editorSuggestWidget.foreground",{dark:Pe.NOs,light:Pe.NOs,hcDark:Pe.NOs,hcLight:Pe.NOs},D.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,Pe.P6G)("editorSuggestWidget.selectedForeground",{dark:Pe.NPS,light:Pe.NPS,hcDark:Pe.NPS,hcLight:Pe.NPS},D.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,Pe.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Pe.cbQ,light:Pe.cbQ,hcDark:Pe.cbQ,hcLight:Pe.cbQ},D.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const Si=(0,Pe.P6G)("editorSuggestWidget.selectedBackground",{dark:Pe.Vqd,light:Pe.Vqd,hcDark:Pe.Vqd,hcLight:Pe.Vqd},D.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,Pe.P6G)("editorSuggestWidget.highlightForeground",{dark:Pe.Gwp,light:Pe.Gwp,hcDark:Pe.Gwp,hcLight:Pe.Gwp},D.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,Pe.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Pe.PX0,light:Pe.PX0,hcDark:Pe.PX0,hcLight:Pe.PX0},D.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,Pe.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Pe.ZnX)(Gt,.5),light:(0,Pe.ZnX)(Gt,.5),hcDark:(0,Pe.ZnX)(Gt,.5),hcLight:(0,Pe.ZnX)(Gt,.5)},D.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class zi{constructor(ce,We){this._service=ce,this._key=`suggestWidget.size/${We.getEditorType()}/${We instanceof $e.H}`}restore(){var ce;const We=(ce=this._service.get(this._key,0))!==null&&ce!==void 0?ce:"";try{const Me=JSON.parse(We);if(Se.Ro.is(Me))return Se.Ro.lift(Me)}catch(Me){}}store(ce){this._service.store(this._key,JSON.stringify(ce),0,1)}reset(){this._service.remove(this._key,0)}}let ji=class Cc{constructor(ce,We,Me,ge,Q){this.editor=ce,this._storageService=We,this._state=0,this._isAuto=!1,this._pendingLayout=new L.XK,this._pendingShowDetails=new L.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new u._F,this._disposables=new L.SL,this._onDidSelect=new V.K3,this._onDidFocus=new V.K3,this._onDidHide=new V.Q5,this._onDidShow=new V.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new V.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new tt,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Hi(this,ce),this._persistedSize=new zi(We,ce);class ae{constructor(Lt,Bt,ei=!1,pi=!1){this.persistedSize=Lt,this.currentSize=Bt,this.persistHeight=ei,this.persistWidth=pi}}let xe;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),xe=new ae(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(wt=>{var Lt,Bt,ei,pi;if(this._resize(wt.dimension.width,wt.dimension.height),xe&&(xe.persistHeight=xe.persistHeight||!!wt.north||!!wt.south,xe.persistWidth=xe.persistWidth||!!wt.east||!!wt.west),!!wt.done){if(xe){const{itemHeight:di,defaultSize:hi}=this.getLayoutInfo(),yi=Math.round(di/2);let{width:Bi,height:ki}=this.element.size;(!xe.persistHeight||Math.abs(xe.currentSize.height-ki)<=yi)&&(ki=(Bt=(Lt=xe.persistedSize)===null||Lt===void 0?void 0:Lt.height)!==null&&Bt!==void 0?Bt:hi.height),(!xe.persistWidth||Math.abs(xe.currentSize.width-Bi)<=yi)&&(Bi=(pi=(ei=xe.persistedSize)===null||ei===void 0?void 0:ei.width)!==null&&pi!==void 0?pi:hi.width),this._persistedSize.store(new Se.Ro(Bi,ki))}this._contentWidget.unlockPreference(),xe=void 0}})),this._messageElement=Se.R3(this.element.domNode,Se.$(".message")),this._listElement=Se.R3(this.element.domNode,Se.$(".tree"));const Ae=Q.createInstance(ut,this.editor);Ae.onDidClose(this.toggleDetails,this,this._disposables),this._details=new dt(Ae,this.editor);const Je=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(114).showIcons);Je();const vt=Q.createInstance(on,this.editor);this._disposables.add(vt),this._disposables.add(vt.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ve.aV("SuggestWidget",this._listElement,{getHeight:wt=>this.getLayoutInfo().itemHeight,getTemplateId:wt=>"suggestion"},[vt],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>D.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:wt=>{let Lt=wt.textLabel;if(typeof wt.completion.label!="string"){const{detail:di,description:hi}=wt.completion.label;di&&hi?Lt=D.NC("label.full","{0}{1}, {2}",Lt,di,hi):di?Lt=D.NC("label.detail","{0}{1}",Lt,di):hi&&(Lt=D.NC("label.desc","{0}, {1}",Lt,hi))}if(!wt.isResolved||!this._isDetailsVisible())return Lt;const{documentation:Bt,detail:ei}=wt.completion,pi=j.WU("{0}{1}",ei||"",Bt?typeof Bt=="string"?Bt:Bt.value:"");return D.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Lt,pi)}}}),this._list.style((0,ln.TU)({listInactiveFocusBackground:Si,listInactiveFocusOutline:Pe.xL1})),this._status=Q.createInstance(ne,this.element.domNode,A.GI);const St=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(114).showStatusBar);St(),this._disposables.add(ge.onDidColorThemeChange(wt=>this._onThemeChange(wt))),this._onThemeChange(ge.getColorTheme()),this._disposables.add(this._list.onMouseDown(wt=>this._onListMouseDownOrTap(wt))),this._disposables.add(this._list.onTap(wt=>this._onListMouseDownOrTap(wt))),this._disposables.add(this._list.onDidChangeSelection(wt=>this._onListSelection(wt))),this._disposables.add(this._list.onDidChangeFocus(wt=>this._onListFocus(wt))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(wt=>{wt.hasChanged(114)&&(St(),Je())})),this._ctxSuggestWidgetVisible=A._y.Visible.bindTo(Me),this._ctxSuggestWidgetDetailsVisible=A._y.DetailsVisible.bindTo(Me),this._ctxSuggestWidgetMultipleSuggestions=A._y.MultipleSuggestions.bindTo(Me),this._ctxSuggestWidgetHasFocusedSuggestion=A._y.HasFocusedSuggestion.bindTo(Me),this._disposables.add(Se.mu(this._details.widget.domNode,"keydown",wt=>{this._onDetailsKeydown.fire(wt)})),this._disposables.add(this.editor.onMouseDown(wt=>this._onEditorMouseDown(wt)))}dispose(){var ce;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(ce=this._loadingTimeout)===null||ce===void 0||ce.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(ce){this._details.widget.domNode.contains(ce.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(ce.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(ce){typeof ce.element=="undefined"||typeof ce.index=="undefined"||(ce.browserEvent.preventDefault(),ce.browserEvent.stopPropagation(),this._select(ce.element,ce.index))}_onListSelection(ce){ce.elements.length&&this._select(ce.elements[0],ce.indexes[0])}_select(ce,We){const Me=this._completionModel;Me&&(this._onDidSelect.fire({item:ce,index:We,model:Me}),this.editor.focus())}_onThemeChange(ce){this._details.widget.borderWidth=(0,ot.c3)(ce.type)?2:1}_onListFocus(ce){var We;if(this._ignoreFocusEvents)return;if(!ce.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Me=ce.elements[0],ge=ce.indexes[0];Me!==this._focusedItem&&((We=this._currentSuggestionDetails)===null||We===void 0||We.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Me,this._list.reveal(ge),this._currentSuggestionDetails=(0,u.PG)(Q=>fi(this,void 0,void 0,function*(){const ae=(0,u.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),xe=Q.onCancellationRequested(()=>ae.dispose()),Ae=yield Me.resolve(Q);return ae.dispose(),xe.dispose(),Ae})),this._currentSuggestionDetails.then(()=>{ge>=this._list.length||Me!==this._list.element(ge)||(this._ignoreFocusEvents=!0,this._list.splice(ge,1,[Me]),this._list.setFocus([ge]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Pi(ge)}))}).catch(p.dL)),this._onDidFocus.fire({item:Me,index:ge,model:this._completionModel})}_setState(ce){if(this._state!==ce)switch(this._state=ce,this.element.domNode.classList.toggle("frozen",ce===4),this.element.domNode.classList.remove("message"),ce){case 0:Se.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Cc.LOADING_MESSAGE,Se.Cp(this._listElement,this._status.element),Se.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Cc.NO_SUGGESTIONS_MESSAGE,Se.Cp(this._listElement,this._status.element),Se.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:Se.Cp(this._messageElement),Se.$Z(this._listElement,this._status.element),this._show();break;case 4:Se.Cp(this._messageElement),Se.$Z(this._listElement,this._status.element),this._show();break;case 5:Se.Cp(this._messageElement),Se.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(ce,We){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!ce,this._isAuto||(this._loadingTimeout=(0,u.Vg)(()=>this._setState(1),We)))}showSuggestions(ce,We,Me,ge,Q){var ae,xe;if(this._contentWidget.setPosition(this.editor.getPosition()),(ae=this._loadingTimeout)===null||ae===void 0||ae.dispose(),(xe=this._currentSuggestionDetails)===null||xe===void 0||xe.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==ce&&(this._completionModel=ce),Me&&this._state!==2&&this._state!==0){this._setState(4);return}const Ae=this._completionModel.items.length,Je=Ae===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(Ae>1),Je){this._setState(ge?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Me?4:3),this._list.reveal(We,0),this._list.setFocus(Q?[]:[We])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=Se.lI(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Ye(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(ce){this._pendingShowDetails.value=Se.lI(()=>{this._pendingShowDetails.clear(),this._details.show(),ce?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var ce;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(ce=this._loadingTimeout)===null||ce===void 0||ce.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const We=this._persistedSize.restore(),Me=Math.ceil(this.getLayoutInfo().itemHeight*4.3);We&&We.height<Me&&this._persistedSize.store(We.with(void 0,Me))}isFrozen(){return this._state===4}_afterRender(ce){if(ce===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(ce){var We,Me,ge;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const Q=Se.D6(document.body),ae=this.getLayoutInfo();ce||(ce=ae.defaultSize);let xe=ce.height,Ae=ce.width;if(this._status.element.style.height=`${ae.itemHeight}px`,this._state===2||this._state===1)xe=ae.itemHeight+ae.borderHeight,Ae=ae.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Se.Ro(Ae,xe),this._contentWidget.setPreference(2);else{const Je=Q.width-ae.borderHeight-2*ae.horizontalPadding;Ae>Je&&(Ae=Je);const vt=this._completionModel?this._completionModel.stats.pLabelLen*ae.typicalHalfwidthCharacterWidth:Ae,St=ae.statusBarHeight+this._list.contentHeight+ae.borderHeight,wt=ae.itemHeight+ae.statusBarHeight,Lt=Se.i(this.editor.getDomNode()),Bt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),ei=Lt.top+Bt.top+Bt.height,pi=Math.min(Q.height-ei-ae.verticalPadding,St),di=Lt.top+Bt.top-ae.verticalPadding,hi=Math.min(di,St);let yi=Math.min(Math.max(hi,pi)+ae.borderHeight,St);xe===((We=this._cappedHeight)===null||We===void 0?void 0:We.capped)&&(xe=this._cappedHeight.wanted),xe<wt&&(xe=wt),xe>yi&&(xe=yi);const Bi=150;xe>pi||this._forceRenderingAbove&&di>Bi?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),yi=hi):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),yi=pi),this.element.preferredSize=new Se.Ro(vt,ae.defaultSize.height),this.element.maxSize=new Se.Ro(Je,yi),this.element.minSize=new Se.Ro(220,wt),this._cappedHeight=xe===St?{wanted:(ge=(Me=this._cappedHeight)===null||Me===void 0?void 0:Me.wanted)!==null&&ge!==void 0?ge:ce.height,capped:xe}:void 0}this._resize(Ae,xe)}_resize(ce,We){const{width:Me,height:ge}=this.element.maxSize;ce=Math.min(Me,ce),We=Math.min(ge,We);const{statusBarHeight:Q}=this.getLayoutInfo();this._list.layout(We-Q,ce),this._listElement.style.height=`${We-Q}px`,this.element.layout(We,ce),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var ce;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((ce=this._contentWidget.getPosition())===null||ce===void 0?void 0:ce.preference[0])===2)}getLayoutInfo(){const ce=this.editor.getOption(48),We=(0,Ne.uZ)(this.editor.getOption(116)||ce.lineHeight,8,1e3),Me=!this.editor.getOption(114).showStatusBar||this._state===2||this._state===1?0:We,ge=this._details.widget.borderWidth,Q=2*ge;return{itemHeight:We,statusBarHeight:Me,borderWidth:ge,borderHeight:Q,typicalHalfwidthCharacterWidth:ce.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Se.Ro(430,Me+12*We+Q)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(ce){this._storageService.store("expandSuggestionDocs",ce,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};ji.LOADING_MESSAGE=D.NC("suggestWidget.loading","Loading..."),ji.NO_SUGGESTIONS_MESSAGE=D.NC("suggestWidget.noSuggestions","No suggestions."),ji=Yt([ti(1,ue.Uy),ti(2,S.i6),ti(3,gt.XE),ti(4,B.TG)],ji);class Hi{constructor(ce,We){this._widget=ce,this._editor=We,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:ce,width:We}=this._widget.element.size,{borderWidth:Me,horizontalPadding:ge}=this._widget.getLayoutInfo();return new Se.Ro(We+2*Me+ge,ce+2*Me)}afterRender(ce){this._widget._afterRender(ce)}setPreference(ce){this._preferenceLocked||(this._preference=ce)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(ce){this._position=ce}}var tn=t(32916),sn=function(at,ce,We,Me){var ge=arguments.length,Q=ge<3?ce:Me===null?Me=Object.getOwnPropertyDescriptor(ce,We):Me,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(at,ce,We,Me);else for(var xe=at.length-1;xe>=0;xe--)(ae=at[xe])&&(Q=(ge<3?ae(Q):ge>3?ae(ce,We,Q):ae(ce,We))||Q);return ge>3&&Q&&Object.defineProperty(ce,We,Q),Q},Xi=function(at,ce){return function(We,Me){ce(We,Me,at)}};const Oi=!1;class ai{constructor(ce,We){if(this._model=ce,this._position=We,ce.getLineMaxColumn(We.lineNumber)!==We.column){const ge=ce.getOffsetAt(We),Q=ce.getPositionAt(ge+1);this._marker=ce.deltaDecorations([],[{range:m.e.fromPositions(We,Q),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(ce){if(this._model.isDisposed()||this._position.lineNumber!==ce.lineNumber)return 0;if(this._marker){const We=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(We.getStartPosition())-this._model.getOffsetAt(ce)}else return this._model.getLineMaxColumn(ce.lineNumber)-ce.column}}let Zt=class _d{static get(ce){return ce.getContribution(_d.ID)}constructor(ce,We,Me,ge,Q,ae,xe){this._memoryService=We,this._commandService=Me,this._contextKeyService=ge,this._instantiationService=Q,this._logService=ae,this._telemetryService=xe,this._lineSuffix=new L.XK,this._toDispose=new L.SL,this._selectors=new Jt(St=>St.priority),this._telemetryGate=0,this.editor=ce,this.model=Q.createInstance(q,this.editor),this._selectors.register({priority:0,select:(St,wt,Lt)=>this._memoryService.select(St,wt,Lt)});const Ae=A._y.InsertMode.bindTo(ge);Ae.set(ce.getOption(114).insertMode),this.model.onDidTrigger(()=>Ae.set(ce.getOption(114).insertMode)),this.widget=this._toDispose.add(new u.Ue(()=>{const St=this._instantiationService.createInstance(ji,this.editor);this._toDispose.add(St),this._toDispose.add(St.onDidSelect(pi=>this._insertSuggestion(pi,0),this));const wt=new Y(this.editor,St,this.model,pi=>this._insertSuggestion(pi,2));this._toDispose.add(wt);const Lt=A._y.MakesTextEdit.bindTo(this._contextKeyService),Bt=A._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),ei=A._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,L.OF)(()=>{Lt.reset(),Bt.reset(),ei.reset()})),this._toDispose.add(St.onDidFocus(({item:pi})=>{const di=this.editor.getPosition(),hi=pi.editStart.column,yi=di.column;let Bi=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!pi.completion.additionalTextEdits&&!(pi.completion.insertTextRules&4)&&yi-hi===pi.completion.insertText.length&&(Bi=this.editor.getModel().getValueInRange({startLineNumber:di.lineNumber,startColumn:hi,endLineNumber:di.lineNumber,endColumn:yi})!==pi.completion.insertText),Lt.set(Bi),Bt.set(!s.L.equals(pi.editInsertEnd,pi.editReplaceEnd)),ei.set(!!pi.provider.resolveCompletionItem||!!pi.completion.documentation||pi.completion.detail!==pi.completion.label)})),this._toDispose.add(St.onDetailsKeyDown(pi=>{if(pi.toKeyCodeChord().equals(new I.$M(!0,!1,!1,!1,33))||E.dz&&pi.toKeyCodeChord().equals(new I.$M(!1,!1,!1,!0,33))){pi.stopPropagation();return}pi.toKeyCodeChord().isModifierKey()||this.editor.focus()})),St})),this._overtypingCapturer=this._toDispose.add(new u.Ue(()=>this._toDispose.add(new Ee(this.editor,this.model)))),this._alternatives=this._toDispose.add(new u.Ue(()=>this._toDispose.add(new $(this.editor,this._contextKeyService)))),this._toDispose.add(Q.createInstance(M,ce)),this._toDispose.add(this.model.onDidTrigger(St=>{this.widget.value.showTriggered(St.auto,St.shy?250:50),this._lineSuffix.value=new ai(this.editor.getModel(),St.position)})),this._toDispose.add(this.model.onDidSuggest(St=>{if(St.triggerOptions.shy)return;let wt=-1;for(const Bt of this._selectors.itemsOrderedByPriorityDesc)if(wt=Bt.select(this.editor.getModel(),this.editor.getPosition(),St.completionModel.items),wt!==-1)break;wt===-1&&(wt=0);let Lt=!1;if(St.triggerOptions.auto){const Bt=this.editor.getOption(114);Bt.selectionMode==="never"||Bt.selectionMode==="always"?Lt=Bt.selectionMode==="never":Bt.selectionMode==="whenTriggerCharacter"?Lt=St.triggerOptions.triggerKind!==1:Bt.selectionMode==="whenQuickSuggestion"&&(Lt=St.triggerOptions.triggerKind===1&&!St.triggerOptions.refilter)}this.widget.value.showSuggestions(St.completionModel,wt,St.isFrozen,St.triggerOptions.auto,Lt)})),this._toDispose.add(this.model.onDidCancel(St=>{St.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Oi||(this.model.cancel(),this.model.clear())}));const Je=A._y.AcceptSuggestionsOnEnter.bindTo(ge),vt=()=>{const St=this.editor.getOption(1);Je.set(St==="on"||St==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>vt())),vt()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(ce,We){if(!ce||!ce.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Me=c.SnippetController2.get(this.editor);if(!Me)return;const ge=this.editor.getModel(),Q=ge.getAlternativeVersionId(),{item:ae}=ce,xe=[],Ae=new _.A;We&1||this.editor.pushUndoStop();const Je=this.getOverwriteInfo(ae,!!(We&8));if(this._memoryService.memorize(ge,this.editor.getPosition(),ae),Array.isArray(ae.completion.additionalTextEdits)){this.model.cancel();const St=l.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ae.completion.additionalTextEdits.map(wt=>i.h.replaceMove(m.e.lift(wt.range),wt.text))),St.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ae.isResolved){const St=new g.G(!0);let wt;const Lt=ge.onDidChangeContent(di=>{if(di.isFlush){Ae.cancel(),Lt.dispose();return}for(const hi of di.changes){const yi=m.e.getEndPosition(hi.range);(!wt||s.L.isBefore(yi,wt))&&(wt=yi)}}),Bt=We;We|=2;let ei=!1;const pi=this.editor.onWillType(()=>{pi.dispose(),ei=!0,Bt&2||this.editor.pushUndoStop()});xe.push(ae.resolve(Ae.token).then(()=>{if(!ae.completion.additionalTextEdits||Ae.token.isCancellationRequested||wt&&ae.completion.additionalTextEdits.some(hi=>s.L.isBefore(wt,m.e.getStartPosition(hi.range))))return!1;ei&&this.editor.pushUndoStop();const di=l.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ae.completion.additionalTextEdits.map(hi=>i.h.replaceMove(m.e.lift(hi.range),hi.text))),di.restoreRelativeVerticalPositionOfCursor(this.editor),(ei||!(Bt&2))&&this.editor.pushUndoStop(),!0}).then(di=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",St.elapsed(),di),Lt.dispose(),pi.dispose()}))}let{insertText:vt}=ae.completion;ae.completion.insertTextRules&4||(vt=v.Yj.escape(vt)),this.model.cancel(),Me.insert(vt,{overwriteBefore:Je.overwriteBefore,overwriteAfter:Je.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ae.completion.insertTextRules&1),clipboardText:ce.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),We&2||this.editor.pushUndoStop(),ae.completion.command&&(ae.completion.command.id===_t.id?this.model.trigger({auto:!0,retrigger:!0}):xe.push(this._commandService.executeCommand(ae.completion.command.id,...ae.completion.command.arguments?[...ae.completion.command.arguments]:[]).catch(St=>{ae.completion.extensionId?(0,p.Cp)(St):(0,p.dL)(St)}))),We&4&&this._alternatives.value.set(ce,St=>{for(Ae.cancel();ge.canUndo();){Q!==ge.getAlternativeVersionId()&&ge.undo(),this._insertSuggestion(St,3|(We&8?8:0));break}}),this._alertCompletionItem(ae),Promise.all(xe).finally(()=>{this._reportSuggestionAcceptedTelemetry(ae,ge,ce),this.model.clear(),Ae.dispose()})}_reportSuggestionAcceptedTelemetry(ce,We,Me){var ge;if(this._telemetryGate++%100!==0)return;const Q=ce.extensionId?ce.extensionId.value:((ge=Me.item.provider._debugDisplayName)!==null&&ge!==void 0?ge:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:Q,kind:ce.completion.kind,basenameHash:(0,tn.vp)((0,yt.EZ)(We.uri)).toString(16),languageId:We.getLanguageId(),fileExtension:(0,yt.DZ)(We.uri)})}getOverwriteInfo(ce,We){(0,a.p_)(this.editor.hasModel());let Me=this.editor.getOption(114).insertMode==="replace";We&&(Me=!Me);const ge=ce.position.column-ce.editStart.column,Q=(Me?ce.editReplaceEnd.column:ce.editInsertEnd.column)-ce.position.column,ae=this.editor.getPosition().column-ce.position.column,xe=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:ge+ae,overwriteAfter:Q+xe}}_alertCompletionItem(ce){if((0,O.Of)(ce.completion.additionalTextEdits)){const We=D.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",ce.textLabel,ce.completion.additionalTextEdits.length);(0,f.Z9)(We)}}triggerSuggest(ce,We,Me){this.editor.hasModel()&&(this.model.trigger({auto:We!=null?We:!1,completionOptions:{providerFilter:ce,kindFilter:Me?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(ce){if(!this.editor.hasModel())return;const We=this.editor.getPosition(),Me=()=>{We.equals(this.editor.getPosition())&&this._commandService.executeCommand(ce.fallback)},ge=Q=>{if(Q.completion.insertTextRules&4||Q.completion.additionalTextEdits)return!0;const ae=this.editor.getPosition(),xe=Q.editStart.column,Ae=ae.column;return Ae-xe!==Q.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ae.lineNumber,startColumn:xe,endLineNumber:ae.lineNumber,endColumn:Ae})!==Q.completion.insertText};V.ju.once(this.model.onDidTrigger)(Q=>{const ae=[];V.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,L.B9)(ae),Me()},void 0,ae),this.model.onDidSuggest(({completionModel:xe})=>{if((0,L.B9)(ae),xe.items.length===0){Me();return}const Ae=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),xe.items),Je=xe.items[Ae];if(!ge(Je)){Me();return}this.editor.pushUndoStop(),this._insertSuggestion({index:Ae,item:Je,model:xe},7)},void 0,ae)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(We,0),this.editor.focus()}acceptSelectedSuggestion(ce,We){const Me=this.widget.value.getFocusedItem();let ge=0;ce&&(ge|=4),We&&(ge|=8),this._insertSuggestion(Me,ge)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(ce){return this._selectors.register(ce)}};Zt.ID="editor.contrib.suggestController",Zt=sn([Xi(1,C.Fh),Xi(2,F.H),Xi(3,S.i6),Xi(4,B.TG),Xi(5,U.VZ),Xi(6,Re.b)],Zt);class Jt{constructor(ce){this.prioritySelector=ce,this._items=new Array}register(ce){if(this._items.indexOf(ce)!==-1)throw new Error("Value is already registered");return this._items.push(ce),this._items.sort((We,Me)=>this.prioritySelector(Me)-this.prioritySelector(We)),{dispose:()=>{const We=this._items.indexOf(ce);We>=0&&this._items.splice(We,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class _t extends d.R6{constructor(){super({id:_t.id,label:D.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:S.Ao.and(b.u.writable,b.u.hasCompletionItemProvider,A._y.Visible.toNegated()),kbOpts:{kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(ce,We,Me){const ge=Zt.get(We);if(!ge)return;let Q;Me&&typeof Me=="object"&&Me.auto===!0&&(Q=!0),ge.triggerSuggest(void 0,Q,void 0)}}_t.id="editor.action.triggerSuggest",(0,d._K)(Zt.ID,Zt,2),(0,d.Qr)(_t);const xt=100+90,Ht=d._l.bindToContribution(Zt.get);(0,d.fK)(new Ht({id:"acceptSelectedSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.HasFocusedSuggestion),handler(at){at.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:S.Ao.and(A._y.Visible,b.u.textInputFocus),weight:xt},{primary:3,kbExpr:S.Ao.and(A._y.Visible,b.u.textInputFocus,A._y.AcceptSuggestionsOnEnter,A._y.MakesTextEdit),weight:xt}],menuOpts:[{menuId:A.GI,title:D.NC("accept.insert","Insert"),group:"left",order:1,when:A._y.HasInsertAndReplaceRange.toNegated()},{menuId:A.GI,title:D.NC("accept.insert","Insert"),group:"left",order:1,when:S.Ao.and(A._y.HasInsertAndReplaceRange,A._y.InsertMode.isEqualTo("insert"))},{menuId:A.GI,title:D.NC("accept.replace","Replace"),group:"left",order:1,when:S.Ao.and(A._y.HasInsertAndReplaceRange,A._y.InsertMode.isEqualTo("replace"))}]})),(0,d.fK)(new Ht({id:"acceptAlternativeSelectedSuggestion",precondition:S.Ao.and(A._y.Visible,b.u.textInputFocus,A._y.HasFocusedSuggestion),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:1027,secondary:[1026]},handler(at){at.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:A.GI,group:"left",order:2,when:S.Ao.and(A._y.HasInsertAndReplaceRange,A._y.InsertMode.isEqualTo("insert")),title:D.NC("accept.replace","Replace")},{menuId:A.GI,group:"left",order:2,when:S.Ao.and(A._y.HasInsertAndReplaceRange,A._y.InsertMode.isEqualTo("replace")),title:D.NC("accept.insert","Insert")}]})),F.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,d.fK)(new Ht({id:"hideSuggestWidget",precondition:A._y.Visible,handler:at=>at.cancelSuggestWidget(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:9,secondary:[1033]}})),(0,d.fK)(new Ht({id:"selectNextSuggestion",precondition:S.Ao.and(A._y.Visible,S.Ao.or(A._y.MultipleSuggestions,A._y.HasFocusedSuggestion.negate())),handler:at=>at.selectNextSuggestion(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,d.fK)(new Ht({id:"selectNextPageSuggestion",precondition:S.Ao.and(A._y.Visible,S.Ao.or(A._y.MultipleSuggestions,A._y.HasFocusedSuggestion.negate())),handler:at=>at.selectNextPageSuggestion(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:12,secondary:[2060]}})),(0,d.fK)(new Ht({id:"selectLastSuggestion",precondition:S.Ao.and(A._y.Visible,S.Ao.or(A._y.MultipleSuggestions,A._y.HasFocusedSuggestion.negate())),handler:at=>at.selectLastSuggestion()})),(0,d.fK)(new Ht({id:"selectPrevSuggestion",precondition:S.Ao.and(A._y.Visible,S.Ao.or(A._y.MultipleSuggestions,A._y.HasFocusedSuggestion.negate())),handler:at=>at.selectPrevSuggestion(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,d.fK)(new Ht({id:"selectPrevPageSuggestion",precondition:S.Ao.and(A._y.Visible,S.Ao.or(A._y.MultipleSuggestions,A._y.HasFocusedSuggestion.negate())),handler:at=>at.selectPrevPageSuggestion(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:11,secondary:[2059]}})),(0,d.fK)(new Ht({id:"selectFirstSuggestion",precondition:S.Ao.and(A._y.Visible,S.Ao.or(A._y.MultipleSuggestions,A._y.HasFocusedSuggestion.negate())),handler:at=>at.selectFirstSuggestion()})),(0,d.fK)(new Ht({id:"focusSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.HasFocusedSuggestion.negate()),handler:at=>at.focusSuggestion(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,d.fK)(new Ht({id:"focusAndAcceptSuggestion",precondition:S.Ao.and(A._y.Visible,A._y.HasFocusedSuggestion.negate()),handler:at=>{at.focusSuggestion(),at.acceptSelectedSuggestion(!0,!1)}})),(0,d.fK)(new Ht({id:"toggleSuggestionDetails",precondition:S.Ao.and(A._y.Visible,A._y.HasFocusedSuggestion),handler:at=>at.toggleSuggestionDetails(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:A.GI,group:"right",order:1,when:S.Ao.and(A._y.DetailsVisible,A._y.CanResolve),title:D.NC("detail.more","show less")},{menuId:A.GI,group:"right",order:1,when:S.Ao.and(A._y.DetailsVisible.toNegated(),A._y.CanResolve),title:D.NC("detail.less","show more")}]})),(0,d.fK)(new Ht({id:"toggleExplainMode",precondition:A._y.Visible,handler:at=>at.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,d.fK)(new Ht({id:"toggleSuggestionFocus",precondition:A._y.Visible,handler:at=>at.toggleSuggestionFocus(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,d.fK)(new Ht({id:"insertBestCompletion",precondition:S.Ao.and(b.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),M.AtEnd,A._y.Visible.toNegated(),$.OtherSuggestions.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:(at,ce)=>{at.triggerSuggestAndAcceptBest((0,a.Kn)(ce)?Object.assign({fallback:"tab"},ce):{fallback:"tab"})},kbOpts:{weight:xt,primary:2}})),(0,d.fK)(new Ht({id:"insertNextSuggestion",precondition:S.Ao.and(b.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),$.OtherSuggestions,A._y.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:at=>at.acceptNextSuggestion(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:2}})),(0,d.fK)(new Ht({id:"insertPrevSuggestion",precondition:S.Ao.and(b.u.textInputFocus,S.Ao.equals("config.editor.tabCompletion","on"),$.OtherSuggestions,A._y.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:at=>at.acceptPrevSuggestion(),kbOpts:{weight:xt,kbExpr:b.u.textInputFocus,primary:1026}})),(0,d.Qr)(class extends d.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:D.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(at,ce){var We;(We=Zt.get(ce))===null||We===void 0||We.resetWidgetSize()}})},69542:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{SuggestInlineCompletions:function(){return C}});var f=t(97464),O=t(4538),u=t(97865),_=t(38431),p=t(55298),V=t(5603),I=t(50038),L=t(35921),E=t(32061),g=t(33024),a=t(32905),l=t(77512),d=t(51941),i=t(44333),s=function(N,P,M,D){var F=arguments.length,B=F<3?P:D===null?D=Object.getOwnPropertyDescriptor(P,M):D,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,P,M,D);else for(var A=N.length-1;A>=0;A--)(U=N[A])&&(B=(F<3?U(B):F>3?U(P,M,B):U(P,M))||B);return F>3&&B&&Object.defineProperty(P,M,B),B},m=function(N,P){return function(M,D){P(M,D,N)}},b=function(N,P,M,D){function F(B){return B instanceof M?B:new M(function(U){U(B)})}return new(M||(M=Promise))(function(B,U){function A($){try{R(D.next($))}catch(J){U(J)}}function k($){try{R(D.throw($))}catch(J){U(J)}}function R($){$.done?B($.value):F($.value).then(A,k)}R((D=D.apply(N,P||[])).next())})};class c{constructor(P,M,D,F,B,U){this.range=P,this.insertText=M,this.filterText=D,this.additionalTextEdits=F,this.command=B,this.completion=U}}let v=class extends _.L6{constructor(P,M,D,F,B,U){super(B.disposable),this.model=P,this.line=M,this.word=D,this.completionModel=F,this._suggestMemoryService=U}canBeReused(P,M,D){return this.model===P&&this.line===M&&this.word.word.length>0&&this.word.startColumn===D.startColumn&&this.word.endColumn<D.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var P;const M=[],{items:D}=this.completionModel,F=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},D),B=u.$.slice(D,F),U=u.$.slice(D,0,F);let A=5;for(const k of u.$.concat(B,U)){if(k.score===O.CL.Default)continue;const R=new I.e(k.editStart.lineNumber,k.editStart.column,k.editInsertEnd.lineNumber,k.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),$=k.completion.insertTextRules&&k.completion.insertTextRules&4?{snippet:k.completion.insertText}:k.completion.insertText;M.push(new c(R,$,(P=k.filterTextLow)!==null&&P!==void 0?P:k.labelLow,k.completion.additionalTextEdits,k.completion.command,k)),A-->=0&&k.resolve(f.T.None)}return M}};v=s([m(5,a.Fh)],v);let C=class{constructor(P,M,D,F){this._getEditorOption=P,this._languageFeatureService=M,this._clipboardService=D,this._suggestMemoryService=F}provideInlineCompletions(P,M,D,F){var B;return b(this,void 0,void 0,function*(){if(D.selectedSuggestionInfo)return;const U=this._getEditorOption(86,P);if(g.tG.isAllOff(U))return;P.tokenization.tokenizeIfCheap(M.lineNumber);const A=P.tokenization.getLineTokens(M.lineNumber),k=A.getStandardTokenType(A.findTokenIndexAtOffset(Math.max(M.column-1-1,0)));if(g.tG.valueFor(U,k)!=="inline")return;let R=P.getWordAtPosition(M),$;if(R!=null&&R.word||($=this._getTriggerCharacterInfo(P,M)),!(R!=null&&R.word)&&!$||(R||(R=P.getWordUntilPosition(M)),R.endColumn!==M.column))return;let J;const Y=P.getValueInRange(new I.e(M.lineNumber,1,M.lineNumber,M.column));if(!$&&(!((B=this._lastResult)===null||B===void 0)&&B.canBeReused(P,M.lineNumber,R))){const j=new E.t(Y,M.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=j,this._lastResult.acquire(),J=this._lastResult}else{const j=yield(0,g.kL)(this._languageFeatureService.completionProvider,P,M,new g.A9(void 0,void 0,$==null?void 0:$.providers),$&&{triggerKind:1,triggerCharacter:$.ch},F);let z;j.needsClipboard&&(z=yield this._clipboardService.readText());const K=new E._(j.items,M.column,new E.t(Y,0),l.K.None,this._getEditorOption(114,P),this._getEditorOption(108,P),{boostFullMatch:!1,firstMatchCanBeWeak:!1},z);J=new v(P,M.lineNumber,R,K,j,this._suggestMemoryService)}return this._lastResult=J,J})}handleItemDidShow(P,M){M.completion.resolve(f.T.None)}freeInlineCompletions(P){P.release()}_getTriggerCharacterInfo(P,M){var D;const F=P.getValueInRange(I.e.fromPositions({lineNumber:M.lineNumber,column:M.column-1},M)),B=new Set;for(const U of this._languageFeatureService.completionProvider.all(P))!((D=U.triggerCharacters)===null||D===void 0)&&D.includes(F)&&B.add(U);if(B.size!==0)return{providers:B,ch:F}}};C=s([m(1,L.p),m(2,d.p),m(3,a.Fh)],C);let S=class Ja{constructor(P,M,D,F){if(++Ja._counter===1){const B=F.createInstance(C,(U,A)=>{var k;return((k=D.listCodeEditors().find($=>$.getModel()===A))!==null&&k!==void 0?k:P).getOption(U)});Ja._disposable=M.inlineCompletionsProvider.register("*",B)}}dispose(){var P;--Ja._counter===0&&((P=Ja._disposable)===null||P===void 0||P.dispose(),Ja._disposable=void 0)}};S._counter=0,S=s([m(1,L.p),m(2,V.$),m(3,i.TG)],S),(0,p._K)("suggest.inlineCompletionsProvider",S,0)},32905:function(Rt,Be,t){"use strict";t.d(Be,{Fh:function(){return b}});var f=t(13484),O=t(38431),u=t(39832),_=t(87057),p=t(36082),V=t(71177),I=t(53061),L=t(44333),E=t(63536),g=function(c,v,C,S){var N=arguments.length,P=N<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,C):S,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(c,v,C,S);else for(var D=c.length-1;D>=0;D--)(M=c[D])&&(P=(N<3?M(P):N>3?M(v,C,P):M(v,C))||P);return N>3&&P&&Object.defineProperty(v,C,P),P},a=function(c,v){return function(C,S){v(C,S,c)}};class l{constructor(v){this.name=v}select(v,C,S){if(S.length===0)return 0;const N=S[0].score[0];for(let P=0;P<S.length;P++){const{score:M,completion:D}=S[P];if(M[0]!==N)break;if(D.preselect)return P}return 0}}class d extends l{constructor(){super("first")}memorize(v,C,S){}toJSON(){}fromJSON(){}}class i extends l{constructor(){super("recentlyUsed"),this._cache=new u.z6(300,.66),this._seq=0}memorize(v,C,S){const N=`${v.getLanguageId()}/${S.textLabel}`;this._cache.set(N,{touch:this._seq++,type:S.completion.kind,insertText:S.completion.insertText})}select(v,C,S){if(S.length===0)return 0;const N=v.getLineContent(C.lineNumber).substr(C.column-10,C.column-1);if(/\s$/.test(N))return super.select(v,C,S);const P=S[0].score[0];let M=-1,D=-1,F=-1;for(let B=0;B<S.length&&S[B].score[0]===P;B++){const U=`${v.getLanguageId()}/${S[B].textLabel}`,A=this._cache.peek(U);if(A&&A.touch>F&&A.type===S[B].completion.kind&&A.insertText===S[B].completion.insertText&&(F=A.touch,D=B),S[B].completion.preselect&&M===-1)return M=B}return D!==-1?D:M!==-1?M:0}toJSON(){return this._cache.toJSON()}fromJSON(v){this._cache.clear();const C=0;for(const[S,N]of v)N.touch=C,N.type=typeof N.type=="number"?N.type:p.gX.fromString(N.type),this._cache.set(S,N);this._seq=this._cache.size}}class s extends l{constructor(){super("recentlyUsedByPrefix"),this._trie=_.Id.forStrings(),this._seq=0}memorize(v,C,S){const{word:N}=v.getWordUntilPosition(C),P=`${v.getLanguageId()}/${N}`;this._trie.set(P,{type:S.completion.kind,insertText:S.completion.insertText,touch:this._seq++})}select(v,C,S){const{word:N}=v.getWordUntilPosition(C);if(!N)return super.select(v,C,S);const P=`${v.getLanguageId()}/${N}`;let M=this._trie.get(P);if(M||(M=this._trie.findSubstr(P)),M)for(let D=0;D<S.length;D++){const{kind:F,insertText:B}=S[D].completion;if(F===M.type&&B===M.insertText)return D}return super.select(v,C,S)}toJSON(){const v=[];return this._trie.forEach((C,S)=>v.push([S,C])),v.sort((C,S)=>-(C[1].touch-S[1].touch)).forEach((C,S)=>C[1].touch=S),v.slice(0,200)}fromJSON(v){if(this._trie.clear(),v.length>0){this._seq=v[0][1].touch+1;for(const[C,S]of v)S.type=typeof S.type=="number"?S.type:p.gX.fromString(S.type),this._trie.set(C,S)}}}let m=class Vl{constructor(v,C){this._storageService=v,this._configService=C,this._disposables=new O.SL,this._persistSoon=new f.pY(()=>this._saveState(),500),this._disposables.add(v.onWillSaveState(S=>{S.reason===E.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(v,C,S){this._withStrategy(v,C).memorize(v,C,S),this._persistSoon.schedule()}select(v,C,S){return this._withStrategy(v,C).select(v,C,S)}_withStrategy(v,C){var S;const N=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:v.getLanguageIdAtPosition(C.lineNumber,C.column),resource:v.uri});if(((S=this._strategy)===null||S===void 0?void 0:S.name)!==N){this._saveState();const P=Vl._strategyCtors.get(N)||d;this._strategy=new P;try{const D=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,F=this._storageService.get(`${Vl._storagePrefix}/${N}`,D);F&&this._strategy.fromJSON(JSON.parse(F))}catch(M){}}return this._strategy}_saveState(){if(this._strategy){const C=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,S=JSON.stringify(this._strategy);this._storageService.store(`${Vl._storagePrefix}/${this._strategy.name}`,S,C,1)}}};m._strategyCtors=new Map([["recentlyUsedByPrefix",s],["recentlyUsed",i],["first",d]]),m._storagePrefix="suggest/memories",m=g([a(0,E.Uy),a(1,V.Ui)],m);const b=(0,L.yh)("ISuggestMemories");(0,I.z)(b,m,1)},77512:function(Rt,Be,t){"use strict";t.d(Be,{K:function(){return p}});var f=t(16308),O=t(50038),u=t(6258),_=function(V,I,L,E){function g(a){return a instanceof L?a:new L(function(l){l(a)})}return new(L||(L=Promise))(function(a,l){function d(m){try{s(E.next(m))}catch(b){l(b)}}function i(m){try{s(E.throw(m))}catch(b){l(b)}}function s(m){m.done?a(m.value):g(m.value).then(d,i)}s((E=E.apply(V,I||[])).next())})};class p{static create(I,L){return _(this,void 0,void 0,function*(){if(!L.getOption(114).localityBonus||!L.hasModel())return p.None;const E=L.getModel(),g=L.getPosition();if(!I.canComputeWordRanges(E.uri))return p.None;const[a]=yield new u.x().provideSelectionRanges(E,[g]);if(a.length===0)return p.None;const l=yield I.computeWordRanges(E.uri,a[0].range);if(!l)return p.None;const d=E.getWordUntilPosition(g);return delete l[d.word],new class extends p{distance(i,s){if(!g.equals(L.getPosition()))return 0;if(s.kind===17)return 2<<20;const m=typeof s.label=="string"?s.label:s.label.label,b=l[m];if((0,f.XY)(b))return 2<<20;const c=(0,f.ry)(b,O.e.fromPositions(i),O.e.compareRangesUsingStarts),v=c>=0?b[c]:b[Math.max(0,~c-1)];let C=a.length;for(const S of a){if(!O.e.containsRange(S.range,v))break;C-=1}return C}}})}}p.None=new class extends p{distance(){return 0}}},27187:function(Rt,Be,t){"use strict";var f=t(26386),O=t(92537);const u=(0,O.P6G)("symbolIcon.arrayForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,O.P6G)("symbolIcon.booleanForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,O.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,O.P6G)("symbolIcon.colorForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,O.P6G)("symbolIcon.constantForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,O.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,O.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,O.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,O.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,O.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,O.P6G)("symbolIcon.fileForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i=(0,O.P6G)("symbolIcon.folderForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s=(0,O.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,O.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,O.P6G)("symbolIcon.keyForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,O.P6G)("symbolIcon.keywordForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,O.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,O.P6G)("symbolIcon.moduleForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,O.P6G)("symbolIcon.namespaceForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,O.P6G)("symbolIcon.nullForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,O.P6G)("symbolIcon.numberForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,O.P6G)("symbolIcon.objectForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,O.P6G)("symbolIcon.operatorForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,O.P6G)("symbolIcon.packageForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,O.P6G)("symbolIcon.propertyForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U=(0,O.P6G)("symbolIcon.referenceForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,O.P6G)("symbolIcon.snippetForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,O.P6G)("symbolIcon.stringForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,O.P6G)("symbolIcon.structForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,O.P6G)("symbolIcon.textForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),J=(0,O.P6G)("symbolIcon.typeParameterForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y=(0,O.P6G)("symbolIcon.unitForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,f.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,O.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},87112:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{ToggleTabFocusModeAction:function(){return V}});var f=t(79874),O=t(10432),u=t(26386),_=t(21208),p=t(76826);class V extends _.Ke{constructor(){super({id:V.ID,title:{value:u.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(L){const E=L.get(p.i6).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",a=!O.n.getTabFocusMode(E);O.n.setTabFocusMode(a,E),a?(0,f.Z9)(u.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,f.Z9)(u.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}V.ID="editor.action.toggleTabFocusMode",(0,_.r1)(V)},21664:function(Rt,Be,t){"use strict";t.r(Be);var f=t(69344),O=t(55298),u=t(26386);class _ extends O.R6{constructor(){super({id:"editor.action.forceRetokenize",label:u.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(V,I){if(!I.hasModel())return;const L=I.getModel();L.tokenization.resetTokenization();const E=new f.G(!0);L.tokenization.forceTokenization(L.getLineCount()),E.stop(),console.log(`tokenization took ${E.elapsed()}`)}}(0,O.Qr)(_)},63198:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{DisableHighlightingInCommentsAction:function(){return Se},DisableHighlightingInStringsAction:function(){return we},DisableHighlightingOfAmbiguousCharactersAction:function(){return ve},DisableHighlightingOfInvisibleCharactersAction:function(){return Ne},DisableHighlightingOfNonBasicAsciiCharactersAction:function(){return $e},ShowExcludeOptions:function(){return Ke},UnicodeHighlighter:function(){return pe},UnicodeHighlighterHoverParticipant:function(){return je},warningIcon:function(){return _e}});var f=t(13484),O=t(407),u=t(69008),_=t(38431),p=t(11138),V=t(17416),I=t(55298),L=t(70054),E=t(45007),g=t(83969),a=t(30363),l=t(47626),d=t(82807),i=t(72223),s=t(22214),m=t(34441),b=t(67235),c=t(98299),v=t(59397),C=t(44333),S=t(54505),N=t(6544),P=t(80265),M=t(56709),D=t(48786),F=function(de,ee,ne,me){var ue=arguments.length,Pe=ue<3?ee:me===null?me=Object.getOwnPropertyDescriptor(ee,ne):me,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Pe=Reflect.decorate(de,ee,ne,me);else for(var gt=de.length-1;gt>=0;gt--)(ot=de[gt])&&(Pe=(ue<3?ot(Pe):ue>3?ot(ee,ne,Pe):ot(ee,ne))||Pe);return ue>3&&Pe&&Object.defineProperty(ee,ne,Pe),Pe},B=function(de,ee){return function(ne,me){ee(ne,me,de)}};let U=class extends _.JT{get enabled(){return this._enabled}set enabled(ee){ee?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=ee}constructor(ee,ne,me={},ue){var Pe;super(),this._link=ne,this._enabled=!0,this.el=(0,m.R3)(ee,(0,m.$)("a.monaco-link",{tabIndex:(Pe=ne.tabIndex)!==null&&Pe!==void 0?Pe:0,href:ne.href,title:ne.title},ne.label)),this.el.setAttribute("role","button");const ot=this._register(new S.Y(this.el,"click")),gt=this._register(new S.Y(this.el,"keypress")),nt=M.ju.chain(gt.event).map(It=>new N.y(It)).filter(It=>It.keyCode===3).event,tt=this._register(new S.Y(this.el,P.t.Tap)).event;this._register(P.o.addTarget(this.el));const st=M.ju.any(ot.event,nt,tt);this._register(st(It=>{this.enabled&&(m.zB.stop(It,!0),me!=null&&me.opener?me.opener(this._link.href):ue.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};U=F([B(3,D.v4)],U);var A=t(89528),k=t(8216),R=function(de,ee,ne,me){var ue=arguments.length,Pe=ue<3?ee:me===null?me=Object.getOwnPropertyDescriptor(ee,ne):me,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Pe=Reflect.decorate(de,ee,ne,me);else for(var gt=de.length-1;gt>=0;gt--)(ot=de[gt])&&(Pe=(ue<3?ot(Pe):ue>3?ot(ee,ne,Pe):ot(ee,ne))||Pe);return ue>3&&Pe&&Object.defineProperty(ee,ne,Pe),Pe},$=function(de,ee){return function(ne,me){ee(ne,me,de)}};const J=26;let Y=class extends _.JT{constructor(ee,ne){super(),this._editor=ee,this.instantiationService=ne,this.banner=this._register(this.instantiationService.createInstance(j))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(ee){this.banner.show(Object.assign(Object.assign({},ee),{onClose:()=>{var ne;this.hide(),(ne=ee.onClose)===null||ne===void 0||ne.call(ee)}})),this._editor.setBanner(this.banner.element,J)}};Y=R([$(1,C.TG)],Y);let j=class extends _.JT{constructor(ee){super(),this.instantiationService=ee,this.markdownRenderer=this.instantiationService.createInstance(v.$,{}),this.element=(0,m.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(ee){if(ee.ariaLabel)return ee.ariaLabel;if(typeof ee.message=="string")return ee.message}getBannerMessage(ee){if(typeof ee=="string"){const ne=(0,m.$)("span");return ne.innerText=ee,ne}return this.markdownRenderer.render(ee).element}clear(){(0,m.PO)(this.element)}show(ee){(0,m.PO)(this.element);const ne=this.getAriaLabel(ee);ne&&this.element.setAttribute("aria-label",ne);const me=(0,m.R3)(this.element,(0,m.$)("div.icon-container"));me.setAttribute("aria-hidden","true"),ee.icon&&me.appendChild((0,m.$)(`div${k.k.asCSSSelector(ee.icon)}`));const ue=(0,m.R3)(this.element,(0,m.$)("div.message-container"));if(ue.setAttribute("aria-hidden","true"),ue.appendChild(this.getBannerMessage(ee.message)),this.messageActionsContainer=(0,m.R3)(this.element,(0,m.$)("div.message-actions-container")),ee.actions)for(const ot of ee.actions)this._register(this.instantiationService.createInstance(U,this.messageActionsContainer,Object.assign(Object.assign({},ot),{tabIndex:-1}),{}));const Pe=(0,m.R3)(this.element,(0,m.$)("div.action-container"));this.actionBar=this._register(new b.o(Pe)),this.actionBar.push(this._register(new c.aU("banner.close","Close Banner",k.k.asClassName(A.s_),!0,()=>{typeof ee.onClose=="function"&&ee.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};j=R([$(0,C.TG)],j);var z=t(26386),K=t(71177),Z=t(38785),fe=t(24905),T=function(de,ee,ne,me){var ue=arguments.length,Pe=ue<3?ee:me===null?me=Object.getOwnPropertyDescriptor(ee,ne):me,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Pe=Reflect.decorate(de,ee,ne,me);else for(var gt=de.length-1;gt>=0;gt--)(ot=de[gt])&&(Pe=(ue<3?ot(Pe):ue>3?ot(ee,ne,Pe):ot(ee,ne))||Pe);return ue>3&&Pe&&Object.defineProperty(ee,ne,Pe),Pe},Re=function(de,ee){return function(ne,me){ee(ne,me,de)}},Ce=function(de,ee,ne,me){function ue(Pe){return Pe instanceof ne?Pe:new ne(function(ot){ot(Pe)})}return new(ne||(ne=Promise))(function(Pe,ot){function gt(st){try{tt(me.next(st))}catch(It){ot(It)}}function nt(st){try{tt(me.throw(st))}catch(It){ot(It)}}function tt(st){st.done?Pe(st.value):ue(st.value).then(gt,nt)}tt((me=me.apply(de,ee||[])).next())})};const _e=(0,A.q5)("extensions-warning-message",O.l.warning,z.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let pe=class extends _.JT{constructor(ee,ne,me,ue){super(),this._editor=ee,this._editorWorkerService=ne,this._workspaceTrustService=me,this._highlighter=null,this._bannerClosed=!1,this._updateState=Pe=>{if(Pe&&Pe.hasMore){if(this._bannerClosed)return;const ot=Math.max(Pe.ambiguousCharacterCount,Pe.nonBasicAsciiCharacterCount,Pe.invisibleCharacterCount);let gt;if(Pe.nonBasicAsciiCharacterCount>=ot)gt={message:z.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new $e};else if(Pe.ambiguousCharacterCount>=ot)gt={message:z.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new ve};else if(Pe.invisibleCharacterCount>=ot)gt={message:z.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Ne};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:gt.message,icon:_e,actions:[{label:gt.command.shortLabel,href:`command:${gt.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(ue.createInstance(Y,ee)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ee.getOption(121),this._register(me.onDidChangeTrust(Pe=>{this._updateHighlighter()})),this._register(ee.onDidChangeConfiguration(Pe=>{Pe.hasChanged(121)&&(this._options=ee.getOption(121),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ee=le(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ee.nonBasicASCII,ee.ambiguousCharacters,ee.invisibleCharacters].every(me=>me===!1))return;const ne={nonBasicASCII:ee.nonBasicASCII,ambiguousCharacters:ee.ambiguousCharacters,invisibleCharacters:ee.invisibleCharacters,includeComments:ee.includeComments,includeStrings:ee.includeStrings,allowedCodePoints:Object.keys(ee.allowedCharacters).map(me=>me.codePointAt(0)),allowedLocales:Object.keys(ee.allowedLocales).map(me=>me==="_os"?new Intl.NumberFormat().resolvedOptions().locale:me==="_vscode"?p.dK:me)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new oe(this._editor,ne,this._updateState,this._editorWorkerService):this._highlighter=new he(this._editor,ne,this._updateState)}getDecorationInfo(ee){return this._highlighter?this._highlighter.getDecorationInfo(ee):null}};pe.ID="editor.contrib.unicodeHighlighter",pe=T([Re(1,a.p),Re(2,fe.Y),Re(3,C.TG)],pe);function le(de,ee){return{nonBasicASCII:ee.nonBasicASCII===L.Av?!de:ee.nonBasicASCII,ambiguousCharacters:ee.ambiguousCharacters,invisibleCharacters:ee.invisibleCharacters,includeComments:ee.includeComments===L.Av?!de:ee.includeComments,includeStrings:ee.includeStrings===L.Av?!de:ee.includeStrings,allowedCharacters:ee.allowedCharacters,allowedLocales:ee.allowedLocales}}let oe=class extends _.JT{constructor(ee,ne,me,ue){super(),this._editor=ee,this._options=ne,this._updateState=me,this._editorWorkerService=ue,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ee=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(ne=>{if(this._model.isDisposed()||this._model.getVersionId()!==ee)return;this._updateState(ne);const me=[];if(!ne.hasMore)for(const ue of ne.ranges)me.push({range:ue,options:Ee.instance.getDecorationFromOptions(this._options)});this._decorations.set(me)})}getDecorationInfo(ee){if(!this._decorations.has(ee))return null;const ne=this._editor.getModel();if(!(0,d.Fd)(ne,ee))return null;const me=ne.getValueInRange(ee.range);return{reason:q(me,this._options),inComment:(0,d.$t)(ne,ee),inString:(0,d.zg)(ne,ee)}}};oe=T([Re(3,a.p)],oe);class he extends _.JT{constructor(ee,ne,me){super(),this._editor=ee,this._options=ne,this._updateState=me,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ee=this._editor.getVisibleRanges(),ne=[],me={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const ue of ee){const Pe=g.a.computeUnicodeHighlights(this._model,this._options,ue);for(const ot of Pe.ranges)me.ranges.push(ot);me.ambiguousCharacterCount+=me.ambiguousCharacterCount,me.invisibleCharacterCount+=me.invisibleCharacterCount,me.nonBasicAsciiCharacterCount+=me.nonBasicAsciiCharacterCount,me.hasMore=me.hasMore||Pe.hasMore}if(!me.hasMore)for(const ue of me.ranges)ne.push({range:ue,options:Ee.instance.getDecorationFromOptions(this._options)});this._updateState(me),this._decorations.set(ne)}getDecorationInfo(ee){if(!this._decorations.has(ee))return null;const ne=this._editor.getModel(),me=ne.getValueInRange(ee.range);return(0,d.Fd)(ne,ee)?{reason:q(me,this._options),inComment:(0,d.$t)(ne,ee),inString:(0,d.zg)(ne,ee)}:null}}let je=class{constructor(ee,ne,me){this._editor=ee,this._languageService=ne,this._openerService=me,this.hoverOrdinal=5}computeSync(ee,ne){if(!this._editor.hasModel()||ee.type!==1)return[];const me=this._editor.getModel(),ue=this._editor.getContribution(pe.ID);if(!ue)return[];const Pe=[];let ot=300;for(const gt of ne){const nt=ue.getDecorationInfo(gt);if(!nt)continue;const st=me.getValueInRange(gt.range).codePointAt(0),It=Ve(st);let Wt;switch(nt.reason.kind){case 0:{(0,V.$i)(nt.reason.confusableWith)?Wt=z.NC("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",It,Ve(nt.reason.confusableWith.codePointAt(0))):Wt=z.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",It,Ve(nt.reason.confusableWith.codePointAt(0)));break}case 1:Wt=z.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",It);break;case 2:Wt=z.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",It);break}const Vt={codePoint:st,reason:nt.reason,inComment:nt.inComment,inString:nt.inString},Ct=z.NC("unicodeHighlight.adjustSettings","Adjust settings"),gi=`command:${Ke.ID}?${encodeURIComponent(JSON.stringify(Vt))}`,jt=new u.W5("",!0).appendMarkdown(Wt).appendText(" ").appendLink(gi,Ct);Pe.push(new s.hU(this,gt.range,[jt],!1,ot++))}return Pe}renderHoverParts(ee,ne){return(0,s.c)(ee,ne,this._editor,this._languageService,this._openerService)}};je=T([Re(1,l.O),Re(2,D.v4)],je);function Xe(de){return`U+${de.toString(16).padStart(4,"0")}`}function Ve(de){let ee=`\`${Xe(de)}\``;return V.vU.isInvisibleCharacter(de)||(ee+=` "${`${se(de)}`}"`),ee}function se(de){return de===96?"`` ` ``":"`"+String.fromCodePoint(de)+"`"}function q(de,ee){return g.a.computeUnicodeHighlightReason(de,ee)}class Ee{constructor(){this.map=new Map}getDecorationFromOptions(ee){return this.getDecoration(!ee.includeComments,!ee.includeStrings)}getDecoration(ee,ne){const me=`${ee}${ne}`;let ue=this.map.get(me);return ue||(ue=E.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ee,hideInStringTokens:ne}),this.map.set(me,ue)),ue}}Ee.instance=new Ee;class Se extends I.R6{constructor(){super({id:ve.ID,label:z.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=z.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(ee,ne,me){return Ce(this,void 0,void 0,function*(){const ue=ee==null?void 0:ee.get(K.Ui);ue&&this.runAction(ue)})}runAction(ee){return Ce(this,void 0,void 0,function*(){yield ee.updateValue(L.qt.includeComments,!1,2)})}}class we extends I.R6{constructor(){super({id:ve.ID,label:z.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=z.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(ee,ne,me){return Ce(this,void 0,void 0,function*(){const ue=ee==null?void 0:ee.get(K.Ui);ue&&this.runAction(ue)})}runAction(ee){return Ce(this,void 0,void 0,function*(){yield ee.updateValue(L.qt.includeStrings,!1,2)})}}class ve extends I.R6{constructor(){super({id:ve.ID,label:z.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=z.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(ee,ne,me){return Ce(this,void 0,void 0,function*(){const ue=ee==null?void 0:ee.get(K.Ui);ue&&this.runAction(ue)})}runAction(ee){return Ce(this,void 0,void 0,function*(){yield ee.updateValue(L.qt.ambiguousCharacters,!1,2)})}}ve.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class Ne extends I.R6{constructor(){super({id:Ne.ID,label:z.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=z.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(ee,ne,me){return Ce(this,void 0,void 0,function*(){const ue=ee==null?void 0:ee.get(K.Ui);ue&&this.runAction(ue)})}runAction(ee){return Ce(this,void 0,void 0,function*(){yield ee.updateValue(L.qt.invisibleCharacters,!1,2)})}}Ne.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class $e extends I.R6{constructor(){super({id:$e.ID,label:z.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=z.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(ee,ne,me){return Ce(this,void 0,void 0,function*(){const ue=ee==null?void 0:ee.get(K.Ui);ue&&this.runAction(ue)})}runAction(ee){return Ce(this,void 0,void 0,function*(){yield ee.updateValue(L.qt.nonBasicASCII,!1,2)})}}$e.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class Ke extends I.R6{constructor(){super({id:Ke.ID,label:z.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(ee,ne,me){return Ce(this,void 0,void 0,function*(){const{codePoint:ue,reason:Pe,inString:ot,inComment:gt}=me,nt=String.fromCodePoint(ue),tt=ee.get(Z.eJ),st=ee.get(K.Ui);function It(Ct){return V.vU.isInvisibleCharacter(Ct)?z.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Xe(Ct)):z.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Xe(Ct)} "${nt}"`)}const Wt=[];if(Pe.kind===0)for(const Ct of Pe.notAmbiguousInLocales)Wt.push({label:z.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',Ct),run:()=>Ce(this,void 0,void 0,function*(){He(st,[Ct])})});if(Wt.push({label:It(ue),run:()=>ze(st,[ue])}),gt){const Ct=new Se;Wt.push({label:Ct.label,run:()=>Ce(this,void 0,void 0,function*(){return Ct.runAction(st)})})}else if(ot){const Ct=new we;Wt.push({label:Ct.label,run:()=>Ce(this,void 0,void 0,function*(){return Ct.runAction(st)})})}if(Pe.kind===0){const Ct=new ve;Wt.push({label:Ct.label,run:()=>Ce(this,void 0,void 0,function*(){return Ct.runAction(st)})})}else if(Pe.kind===1){const Ct=new Ne;Wt.push({label:Ct.label,run:()=>Ce(this,void 0,void 0,function*(){return Ct.runAction(st)})})}else if(Pe.kind===2){const Ct=new $e;Wt.push({label:Ct.label,run:()=>Ce(this,void 0,void 0,function*(){return Ct.runAction(st)})})}else Le(Pe);const Vt=yield tt.pick(Wt,{title:z.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Vt&&(yield Vt.run())})}}Ke.ID="editor.action.unicodeHighlight.showExcludeOptions";function ze(de,ee){return Ce(this,void 0,void 0,function*(){const ne=de.getValue(L.qt.allowedCharacters);let me;typeof ne=="object"&&ne?me=ne:me={};for(const ue of ee)me[String.fromCodePoint(ue)]=!0;yield de.updateValue(L.qt.allowedCharacters,me,2)})}function He(de,ee){var ne;return Ce(this,void 0,void 0,function*(){const me=(ne=de.inspect(L.qt.allowedLocales).user)===null||ne===void 0?void 0:ne.value;let ue;typeof me=="object"&&me?ue=Object.assign({},me):ue={};for(const Pe of ee)ue[Pe]=!0;yield de.updateValue(L.qt.allowedLocales,ue,2)})}function Le(de){throw new Error(`Unexpected value: ${de}`)}(0,I.Qr)(ve),(0,I.Qr)(Ne),(0,I.Qr)($e),(0,I.Qr)(Ke),(0,I._K)(pe.ID,pe,1),i.Ae.register(je)},94689:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{UnusualLineTerminatorsDetector:function(){return d}});var f=t(38431),O=t(6227),u=t(55298),_=t(5603),p=t(26386),V=t(5267),I=function(i,s,m,b){var c=arguments.length,v=c<3?s:b===null?b=Object.getOwnPropertyDescriptor(s,m):b,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(i,s,m,b);else for(var S=i.length-1;S>=0;S--)(C=i[S])&&(v=(c<3?C(v):c>3?C(s,m,v):C(s,m))||v);return c>3&&v&&Object.defineProperty(s,m,v),v},L=function(i,s){return function(m,b){s(m,b,i)}},E=function(i,s,m,b){function c(v){return v instanceof m?v:new m(function(C){C(v)})}return new(m||(m=Promise))(function(v,C){function S(M){try{P(b.next(M))}catch(D){C(D)}}function N(M){try{P(b.throw(M))}catch(D){C(D)}}function P(M){M.done?v(M.value):c(M.value).then(S,N)}P((b=b.apply(i,s||[])).next())})};const g="ignoreUnusualLineTerminators";function a(i,s,m){i.setModelProperty(s.uri,g,m)}function l(i,s){return i.getModelProperty(s.uri,g)}let d=class extends f.JT{constructor(s,m,b){super(),this._editor=s,this._dialogService=m,this._codeEditorService=b,this._isPresentingDialog=!1,this._config=this._editor.getOption(122),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(122)&&(this._config=this._editor.getOption(122),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(c=>{c.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return E(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const s=this._editor.getModel();if(!s.mightContainUnusualLineTerminators()||l(this._codeEditorService,s)===!0||this._editor.getOption(88))return;if(this._config==="auto"){s.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let b;try{this._isPresentingDialog=!0,b=yield this._dialogService.confirm({title:p.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:p.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:p.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,O.EZ)(s.uri)),primaryButton:p.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:p.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!b.confirmed){a(this._codeEditorService,s,!0);return}s.removeUnusualLineTerminators(this._editor.getSelections())})}};d.ID="editor.contrib.unusualLineTerminatorsDetector",d=I([L(1,V.S),L(2,_.$)],d),(0,u._K)(d.ID,d,1)},98749:function(Rt,Be,t){"use strict";t.d(Be,{G:function(){return b},w:function(){return c}});var f=t(41913),O=t(45007),u=t(36082),_=t(26386),p=t(92537),V=t(58566);const I=(0,p.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},_.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,p.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},_.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,p.P6G)("editor.wordHighlightTextBackground",{light:I,dark:I,hcDark:I,hcLight:I},_.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const L=(0,p.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:p.xL1,hcLight:p.xL1},_.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,p.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:p.xL1,hcLight:p.xL1},_.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,p.P6G)("editor.wordHighlightTextBorder",{light:L,dark:L,hcDark:L,hcLight:L},_.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const E=(0,p.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},_.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),g=(0,p.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},_.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),a=(0,p.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:p.SPM,light:p.SPM,hcDark:p.SPM,hcLight:p.SPM},_.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),l=O.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,V.EN)(g),position:f.sh.Center},minimap:{color:(0,V.EN)(p.IYc),position:f.F5.Inline}}),d=O.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,V.EN)(a),position:f.sh.Center},minimap:{color:(0,V.EN)(p.IYc),position:f.F5.Inline}}),i=O.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,V.EN)(p.SPM),position:f.sh.Center},minimap:{color:(0,V.EN)(p.IYc),position:f.F5.Inline}}),s=O.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),m=O.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,V.EN)(E),position:f.sh.Center},minimap:{color:(0,V.EN)(p.IYc),position:f.F5.Inline}});function b(v){return v===u.MY.Write?l:v===u.MY.Text?d:m}function c(v){return v?s:i}(0,V.Ic)((v,C)=>{const S=v.getColor(p.Rzx);S&&C.addRule(`.monaco-editor .selectionHighlight { background-color: ${S.transparent(.5)}; }`)})},34928:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{WordHighlighterContribution:function(){return M},getOccurrencesAtPosition:function(){return c}});var f=t(79874),O=t(16308),u=t(13484),_=t(97464),p=t(20996),V=t(38431),I=t(55298),L=t(50038),E=t(21081),g=t(36082),a=t(26386),l=t(76826),d=t(35921),i=t(98749),s=function(A,k,R,$){var J=arguments.length,Y=J<3?k:$===null?$=Object.getOwnPropertyDescriptor(k,R):$,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(A,k,R,$);else for(var z=A.length-1;z>=0;z--)(j=A[z])&&(Y=(J<3?j(Y):J>3?j(k,R,Y):j(k,R))||Y);return J>3&&Y&&Object.defineProperty(k,R,Y),Y},m=function(A,k){return function(R,$){k(R,$,A)}};const b=new l.uy("hasWordHighlights",!1);function c(A,k,R,$){const J=A.ordered(k);return(0,u.Ps)(J.map(Y=>()=>Promise.resolve(Y.provideDocumentHighlights(k,R,$)).then(void 0,p.Cp)),O.Of)}class v{constructor(k,R,$){this._model=k,this._selection=R,this._wordSeparators=$,this._wordRange=this._getCurrentWordRange(k,R),this._result=null}get result(){return this._result||(this._result=(0,u.PG)(k=>this._compute(this._model,this._selection,this._wordSeparators,k))),this._result}_getCurrentWordRange(k,R){const $=k.getWordAtPosition(R.getPosition());return $?new L.e(R.startLineNumber,$.startColumn,R.startLineNumber,$.endColumn):null}isValid(k,R,$){const J=R.startLineNumber,Y=R.startColumn,j=R.endColumn,z=this._getCurrentWordRange(k,R);let K=!!(this._wordRange&&this._wordRange.equalsRange(z));for(let Z=0,fe=$.length;!K&&Z<fe;Z++){const T=$.getRange(Z);T&&T.startLineNumber===J&&T.startColumn<=Y&&T.endColumn>=j&&(K=!0)}return K}cancel(){this.result.cancel()}}class C extends v{constructor(k,R,$,J){super(k,R,$),this._providers=J}_compute(k,R,$,J){return c(this._providers,k,R.getPosition(),J).then(Y=>Y||[])}}class S extends v{constructor(k,R,$){super(k,R,$),this._selectionIsEmpty=R.isEmpty()}_compute(k,R,$,J){return(0,u.Vs)(250,J).then(()=>{if(!R.isEmpty())return[];const Y=k.getWordAtPosition(R.getPosition());return!Y||Y.word.length>1e3?[]:k.findMatches(Y.word,!0,!1,!0,$,!1).map(z=>({range:z.range,kind:g.MY.Text}))})}isValid(k,R,$){const J=R.isEmpty();return this._selectionIsEmpty!==J?!1:super.isValid(k,R,$)}}function N(A,k,R,$){return A.has(k)?new C(k,R,$,A):new S(k,R,$)}(0,I.sb)("_executeDocumentHighlights",(A,k,R)=>{const $=A.get(d.p);return c($.documentHighlightProvider,k,R,_.T.None)});class P{constructor(k,R,$){this.toUnhook=new V.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=k,this.providers=R,this._hasWordHighlights=b.bindTo($),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(78),this.model=this.editor.getModel(),this.toUnhook.add(k.onDidChangeCursorPosition(J=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(J)})),this.toUnhook.add(k.onDidChangeModelContent(J=>{this._stopAll()})),this.toUnhook.add(k.onDidChangeConfiguration(J=>{const Y=this.editor.getOption(78);this.occurrencesHighlight!==Y&&(this.occurrencesHighlight=Y,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(L.e.compareRangesUsingStarts)}moveNext(){const k=this._getSortedHighlights(),$=(k.findIndex(Y=>Y.containsPosition(this.editor.getPosition()))+1)%k.length,J=k[$];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(J.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(J);const Y=this._getWord();if(Y){const j=this.editor.getModel().getLineContent(J.startLineNumber);(0,f.Z9)(`${j}, ${$+1} of ${k.length} for '${Y.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const k=this._getSortedHighlights(),$=(k.findIndex(Y=>Y.containsPosition(this.editor.getPosition()))-1+k.length)%k.length,J=k[$];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(J.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(J);const Y=this._getWord();if(Y){const j=this.editor.getModel().getLineContent(J.startLineNumber);(0,f.Z9)(`${j}, ${$+1} of ${k.length} for '${Y.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(k){if(!this.occurrencesHighlight){this._stopAll();return}if(k.reason!==3){this._stopAll();return}this._run()}_getWord(){const k=this.editor.getSelection(),R=k.startLineNumber,$=k.startColumn;return this.model.getWordAtPosition({lineNumber:R,column:$})}_run(){const k=this.editor.getSelection();if(k.startLineNumber!==k.endLineNumber){this._stopAll();return}const R=k.startColumn,$=k.endColumn,J=this._getWord();if(!J||J.startColumn>R||J.endColumn<$){this._stopAll();return}const Y=this.workerRequest&&this.workerRequest.isValid(this.model,k,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),Y)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const j=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=N(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(126)),this.workerRequest.result.then(z=>{j===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=z||[],this._beginRenderDecorations())},p.dL)}}_beginRenderDecorations(){const k=new Date().getTime(),R=this.lastCursorPositionChangeTime+250;k>=R?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},R-k)}renderDecorations(){this.renderDecorationsTimer=-1;const k=[];for(const R of this.workerRequestValue)R.range&&k.push({range:R.range,options:(0,i.G)(R.kind)});this.decorations.set(k),this._hasWordHighlights.set(this.hasDecorations())}dispose(){this._stopAll(),this.toUnhook.dispose()}}let M=class Cd extends V.JT{static get(k){return k.getContribution(Cd.ID)}constructor(k,R,$){super(),this.wordHighlighter=null;const J=()=>{k.hasModel()&&(this.wordHighlighter=new P(k,$.documentHighlightProvider,R))};this._register(k.onDidChangeModel(Y=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),J()})),J()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var k;(k=this.wordHighlighter)===null||k===void 0||k.moveNext()}moveBack(){var k;(k=this.wordHighlighter)===null||k===void 0||k.moveBack()}restoreViewState(k){this.wordHighlighter&&k&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};M.ID="editor.contrib.wordHighlighter",M=s([m(1,l.i6),m(2,d.p)],M);class D extends I.R6{constructor(k,R){super(R),this._isNext=k}run(k,R){const $=M.get(R);$&&(this._isNext?$.moveNext():$.moveBack())}}class F extends D{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:a.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:b,kbOpts:{kbExpr:E.u.editorTextFocus,primary:65,weight:100}})}}class B extends D{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:a.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:b,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1089,weight:100}})}}class U extends I.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:a.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:b.toNegated(),kbOpts:{kbExpr:E.u.editorTextFocus,primary:0,weight:100}})}run(k,R,$){const J=M.get(R);J&&J.restoreViewState(!0)}}(0,I._K)(M.ID,M,0),(0,I.Qr)(F),(0,I.Qr)(B),(0,I.Qr)(U)},66408:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CursorWordAccessibilityLeft:function(){return D},CursorWordAccessibilityLeftSelect:function(){return F},CursorWordAccessibilityRight:function(){return J},CursorWordAccessibilityRightSelect:function(){return Y},CursorWordEndLeft:function(){return C},CursorWordEndLeftSelect:function(){return P},CursorWordEndRight:function(){return U},CursorWordEndRightSelect:function(){return R},CursorWordLeft:function(){return S},CursorWordLeftSelect:function(){return M},CursorWordRight:function(){return A},CursorWordRightSelect:function(){return $},CursorWordStartLeft:function(){return v},CursorWordStartLeftSelect:function(){return N},CursorWordStartRight:function(){return B},CursorWordStartRightSelect:function(){return k},DeleteInsideWord:function(){return pe},DeleteWordCommand:function(){return j},DeleteWordEndLeft:function(){return fe},DeleteWordEndRight:function(){return Ce},DeleteWordLeft:function(){return T},DeleteWordLeftCommand:function(){return z},DeleteWordRight:function(){return _e},DeleteWordRightCommand:function(){return K},DeleteWordStartLeft:function(){return Z},DeleteWordStartRight:function(){return Re},MoveWordCommand:function(){return m},WordLeftCommand:function(){return b},WordRightCommand:function(){return c}});var f=t(55298),O=t(38050),u=t(70054),_=t(60854),p=t(61958),V=t(31599),I=t(8964),L=t(50038),E=t(57841),g=t(21081),a=t(64603),l=t(26386),d=t(18708),i=t(76826),s=t(57131);class m extends f._l{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode,this._wordNavigationType=oe.wordNavigationType}runEditorCommand(oe,he,je){if(!he.hasModel())return;const Xe=(0,V.u)(he.getOption(126)),Ve=he.getModel(),q=he.getSelections().map(Ee=>{const Se=new I.L(Ee.positionLineNumber,Ee.positionColumn),we=this._move(Xe,Ve,Se,this._wordNavigationType);return this._moveTo(Ee,we,this._inSelectionMode)});if(Ve.pushStackElement(),he._getViewModel().setCursorStates("moveWordCommand",3,q.map(Ee=>_.Vi.fromModelSelection(Ee))),q.length===1){const Ee=new I.L(q[0].positionLineNumber,q[0].positionColumn);he.revealPosition(Ee,0)}}_moveTo(oe,he,je){return je?new E.Y(oe.selectionStartLineNumber,oe.selectionStartColumn,he.lineNumber,he.column):new E.Y(he.lineNumber,he.column,he.lineNumber,he.column)}}class b extends m{_move(oe,he,je,Xe){return p.w.moveWordLeft(oe,he,je,Xe)}}class c extends m{_move(oe,he,je,Xe){return p.w.moveWordRight(oe,he,je,Xe)}}class v extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class C extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class S extends b{constructor(){var oe;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(g.u.textInputFocus,(oe=i.Ao.and(d.U,s.cv))===null||oe===void 0?void 0:oe.negate()),primary:2063,mac:{primary:527},weight:100}})}}class N extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class P extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class M extends b{constructor(){var oe;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(g.u.textInputFocus,(oe=i.Ao.and(d.U,s.cv))===null||oe===void 0?void 0:oe.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class D extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(oe,he,je,Xe){return super._move((0,V.u)(u.BH.wordSeparators.defaultValue),he,je,Xe)}}class F extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(oe,he,je,Xe){return super._move((0,V.u)(u.BH.wordSeparators.defaultValue),he,je,Xe)}}class B extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class U extends c{constructor(){var oe;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(g.u.textInputFocus,(oe=i.Ao.and(d.U,s.cv))===null||oe===void 0?void 0:oe.negate()),primary:2065,mac:{primary:529},weight:100}})}}class A extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class k extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class R extends c{constructor(){var oe;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(g.u.textInputFocus,(oe=i.Ao.and(d.U,s.cv))===null||oe===void 0?void 0:oe.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class $ extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class J extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(oe,he,je,Xe){return super._move((0,V.u)(u.BH.wordSeparators.defaultValue),he,je,Xe)}}class Y extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(oe,he,je,Xe){return super._move((0,V.u)(u.BH.wordSeparators.defaultValue),he,je,Xe)}}class j extends f._l{constructor(oe){super(oe),this._whitespaceHeuristics=oe.whitespaceHeuristics,this._wordNavigationType=oe.wordNavigationType}runEditorCommand(oe,he,je){const Xe=oe.get(a.c_);if(!he.hasModel())return;const Ve=(0,V.u)(he.getOption(126)),se=he.getModel(),q=he.getSelections(),Ee=he.getOption(5),Se=he.getOption(9),we=Xe.getLanguageConfiguration(se.getLanguageId()).getAutoClosingPairs(),ve=he._getViewModel(),Ne=q.map($e=>{const Ke=this._delete({wordSeparators:Ve,model:se,selection:$e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:he.getOption(7),autoClosingBrackets:Ee,autoClosingQuotes:Se,autoClosingPairs:we,autoClosedCharacters:ve.getCursorAutoClosedCharacters()},this._wordNavigationType);return new O.T4(Ke,"")});he.pushUndoStop(),he.executeCommands(this.id,Ne),he.pushUndoStop()}}class z extends j{_delete(oe,he){const je=p.w.deleteWordLeft(oe,he);return je||new L.e(1,1,1,1)}}class K extends j{_delete(oe,he){const je=p.w.deleteWordRight(oe,he);if(je)return je;const Xe=oe.model.getLineCount(),Ve=oe.model.getLineMaxColumn(Xe);return new L.e(Xe,Ve,Xe,Ve)}}class Z extends z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:g.u.writable})}}class fe extends z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:g.u.writable})}}class T extends z{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:g.u.writable,kbOpts:{kbExpr:g.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class Re extends K{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:g.u.writable})}}class Ce extends K{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:g.u.writable})}}class _e extends K{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:g.u.writable,kbOpts:{kbExpr:g.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class pe extends f.R6{constructor(){super({id:"deleteInsideWord",precondition:g.u.writable,label:l.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(oe,he,je){if(!he.hasModel())return;const Xe=(0,V.u)(he.getOption(126)),Ve=he.getModel(),q=he.getSelections().map(Ee=>{const Se=p.w.deleteInsideWord(Xe,Ve,Ee);return new O.T4(Se,"")});he.pushUndoStop(),he.executeCommands(this.id,q),he.pushUndoStop()}}(0,f.fK)(new v),(0,f.fK)(new C),(0,f.fK)(new S),(0,f.fK)(new N),(0,f.fK)(new P),(0,f.fK)(new M),(0,f.fK)(new B),(0,f.fK)(new U),(0,f.fK)(new A),(0,f.fK)(new k),(0,f.fK)(new R),(0,f.fK)(new $),(0,f.fK)(new D),(0,f.fK)(new F),(0,f.fK)(new J),(0,f.fK)(new Y),(0,f.fK)(new Z),(0,f.fK)(new fe),(0,f.fK)(new T),(0,f.fK)(new Re),(0,f.fK)(new Ce),(0,f.fK)(new _e),(0,f.Qr)(pe)},61180:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CursorWordPartLeft:function(){return g},CursorWordPartLeftSelect:function(){return a},CursorWordPartRight:function(){return d},CursorWordPartRightSelect:function(){return i},DeleteWordPartLeft:function(){return I},DeleteWordPartRight:function(){return L},WordPartLeftCommand:function(){return E},WordPartRightCommand:function(){return l}});var f=t(55298),O=t(61958),u=t(50038),_=t(21081),p=t(66408),V=t(80793);class I extends p.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(m,b){const c=O.L.deleteWordPartLeft(m);return c||new u.e(1,1,1,1)}}class L extends p.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(m,b){const c=O.L.deleteWordPartRight(m);if(c)return c;const v=m.model.getLineCount(),C=m.model.getLineMaxColumn(v);return new u.e(v,C,v,C)}}class E extends p.MoveWordCommand{_move(m,b,c,v){return O.L.moveWordPartLeft(m,b,c)}}class g extends E{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}V.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class a extends E{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}V.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class l extends p.MoveWordCommand{_move(m,b,c,v){return O.L.moveWordPartRight(m,b,c)}}class d extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class i extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,f.fK)(new I),(0,f.fK)(new L),(0,f.fK)(new g),(0,f.fK)(new a),(0,f.fK)(new d),(0,f.fK)(new i)},21186:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{CancellationTokenSource:function(){return Eh},Emitter:function(){return xh},KeyCode:function(){return Ih},KeyMod:function(){return Nh},MarkerSeverity:function(){return Oh},MarkerTag:function(){return Ah},Position:function(){return Th},Range:function(){return Mh},Selection:function(){return Ph},SelectionDirection:function(){return Rh},Token:function(){return Fh},Uri:function(){return kh},editor:function(){return Bh},languages:function(){return Wh}});var f=t(70054),O=t(79375),u=t(38431),_=t(17416),p=t(28919),V=t(15125),I=t(5603),L=t(14527),E=t(56709),g=t(23127),a=t(50038),l=t(87655),d=t(18708),i=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},s=function(Ie,n){return function(r,x){n(r,x,Ie)}};const m={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0};let b=class extends u.JT{constructor(n,r={},x,X,te){super(),this._audioCueService=x,this._codeEditorService=X,this._accessibilityService=te,this._onDidUpdate=this._register(new E.Q5),this._editor=n,this._options=g.jB(r,m,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(ye=>{this.ignoreSelectionChange||(this._updateAccessibilityState(ye.position.lineNumber),this.nextIdx=-1)})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(n){this.ranges=[],n&&n.forEach(r=>{!this._options.ignoreCharChanges&&r.charChanges?r.charChanges.forEach(x=>{this.ranges.push({rhs:!0,range:new a.e(x.modifiedStartLineNumber,x.modifiedStartColumn,x.modifiedEndLineNumber,x.modifiedEndColumn)})}):r.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new a.e(r.modifiedStartLineNumber,1,r.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new a.e(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber+1,1)})}),this.ranges.sort((r,x)=>a.e.compareRangesUsingStarts(r.range,x.range)),this._onDidUpdate.fire(this)}_initIdx(n){let r=!1;const x=this._editor.getPosition();if(!x){this.nextIdx=0;return}for(let X=0,te=this.ranges.length;X<te&&!r;X++){const ye=this.ranges[X].range;x.isBeforeOrEqual(ye.getStartPosition())&&(this.nextIdx=X+(n?0:-1),r=!0)}r||(this.nextIdx=n?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(n,r){if(L.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(n):n?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const x=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const X=x.range.getStartPosition();this._editor.setPosition(X),this._editor.revealRangeInCenter(x.range,r),this._updateAccessibilityState(X.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}_updateAccessibilityState(n,r){var x;const X=(x=this._editor.getModel())===null||x===void 0?void 0:x.modified;if(!X)return;const te=X.getLineDecorations(n).find(Te=>Te.options.className==="line-insert");if(te)this._audioCueService.playAudioCue(l.y$.diffLineModified,!0);else if(r)this._audioCueService.playAudioCue(l.y$.diffLineDeleted,!0);else return;const ye=this._codeEditorService.getActiveCodeEditor();r&&ye&&te&&this._accessibilityService.isScreenReaderOptimized()&&(ye.setSelection({startLineNumber:n,startColumn:0,endLineNumber:n,endColumn:Number.MAX_VALUE}),ye.writeScreenReaderContent("diff-navigation"))}canNavigate(){return this.ranges&&this.ranges.length>0}next(n=0){this.canNavigateNext()&&this._move(!0,n)}previous(n=0){this.canNavigatePrevious()&&this._move(!1,n)}canNavigateNext(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}canNavigatePrevious(){return this.canNavigateLoop()||this.nextIdx!==0}canNavigateLoop(){return!!this._options.findResultLoop}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};b=i([s(2,l.e7),s(3,I.$),s(4,d.F)],b);var c=t(5921),v=t(6390),C=t(41913),S=t(36082),N=t(64603),P=t(93375),M=t(47626),D=t(65041),F=t(41364);function B(Ie,n,r){return new U(Ie,n,r)}class U extends F.Q8{constructor(n,r,x){super(n,x.keepIdleModels||!1,x.label,r),this._foreignModuleId=x.moduleId,this._foreignModuleCreateData=x.createData||null,this._foreignModuleHost=x.host||null,this._foreignProxy=null}fhr(n,r){if(!this._foreignModuleHost||typeof this._foreignModuleHost[n]!="function")return Promise.reject(new Error("Missing method "+n+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[n].apply(this._foreignModuleHost,r))}catch(x){return Promise.reject(x)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(n=>{const r=this._foreignModuleHost?(0,g.$E)(this._foreignModuleHost):[];return n.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,r).then(x=>{this._foreignModuleCreateData=null;const X=(Te,qe)=>n.fmr(Te,qe),te=(Te,qe)=>function(){const ct=Array.prototype.slice.call(arguments,0);return qe(Te,ct)},ye={};for(const Te of x)ye[Te]=te(Te,X);return ye})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(n){return this._withSyncedResources(n).then(r=>this.getProxy())}}var A=t(8420),k=t(58352),R=t(10403),$=t(75398),J=t(71278);function Y(Ie){return Array.isArray(Ie)}function j(Ie){return!Y(Ie)}function z(Ie){return typeof Ie=="string"}function K(Ie){return!z(Ie)}function Z(Ie){return!Ie}function fe(Ie,n){return Ie.ignoreCase&&n?n.toLowerCase():n}function T(Ie){return Ie.replace(/[&<>'"_]/g,"-")}function Re(Ie,n){console.log(`${Ie.languageId}: ${n}`)}function Ce(Ie,n){return new Error(`${Ie.languageId}: ${n}`)}function _e(Ie,n,r,x,X){const te=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let ye=null;return n.replace(te,function(Te,qe,ct,ht,Nt,ci,Ci,Gi,Vn){return Z(ct)?Z(ht)?!Z(Nt)&&Nt<x.length?fe(Ie,x[Nt]):!Z(Ci)&&Ie&&typeof Ie[Ci]=="string"?Ie[Ci]:(ye===null&&(ye=X.split("."),ye.unshift(X)),!Z(ci)&&ci<ye.length?fe(Ie,ye[ci]):""):fe(Ie,r):"$"})}function pe(Ie,n){let r=n;for(;r&&r.length>0;){const x=Ie.tokenizer[r];if(x)return x;const X=r.lastIndexOf(".");X<0?r=null:r=r.substr(0,X)}return null}function le(Ie,n){let r=n;for(;r&&r.length>0;){if(Ie.stateNames[r])return!0;const X=r.lastIndexOf(".");X<0?r=null:r=r.substr(0,X)}return!1}var oe=t(71177),he=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},je=function(Ie,n){return function(r,x){n(r,x,Ie)}};const Xe=5;class Ve{static create(n,r){return this._INSTANCE.create(n,r)}constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}create(n,r){if(n!==null&&n.depth>=this._maxCacheDepth)return new se(n,r);let x=se.getStackElementId(n);x.length>0&&(x+="|"),x+=r;let X=this._entries[x];return X||(X=new se(n,r),this._entries[x]=X,X)}}Ve._INSTANCE=new Ve(Xe);class se{constructor(n,r){this.parent=n,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(n){let r="";for(;n!==null;)r.length>0&&(r+="|"),r+=n.state,n=n.parent;return r}static _equals(n,r){for(;n!==null&&r!==null;){if(n===r)return!0;if(n.state!==r.state)return!1;n=n.parent,r=r.parent}return n===null&&r===null}equals(n){return se._equals(this,n)}push(n){return Ve.create(this,n)}pop(){return this.parent}popall(){let n=this;for(;n.parent;)n=n.parent;return n}switchTo(n){return Ve.create(this.parent,n)}}class q{constructor(n,r){this.languageId=n,this.state=r}equals(n){return this.languageId===n.languageId&&this.state.equals(n.state)}clone(){return this.state.clone()===this.state?this:new q(this.languageId,this.state)}}class Ee{static create(n,r){return this._INSTANCE.create(n,r)}constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}create(n,r){if(r!==null)return new Se(n,r);if(n!==null&&n.depth>=this._maxCacheDepth)return new Se(n,r);const x=se.getStackElementId(n);let X=this._entries[x];return X||(X=new Se(n,null),this._entries[x]=X,X)}}Ee._INSTANCE=new Ee(Xe);class Se{constructor(n,r){this.stack=n,this.embeddedLanguageData=r}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Ee.create(this.stack,this.embeddedLanguageData)}equals(n){return!(n instanceof Se)||!this.stack.equals(n.stack)?!1:this.embeddedLanguageData===null&&n.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||n.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(n.embeddedLanguageData)}}class we{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(n){this._languageId=n}emit(n,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new S.WU(n,r,this._languageId)))}nestedLanguageTokenize(n,r,x,X){const te=x.languageId,ye=x.state,Te=S.RW.get(te);if(!Te)return this.enterLanguage(te),this.emit(X,""),ye;const qe=Te.tokenize(n,r,ye);if(X!==0)for(const ct of qe.tokens)this._tokens.push(new S.WU(ct.offset+X,ct.type,ct.language));else this._tokens=this._tokens.concat(qe.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,qe.endState}finalize(n){return new S.hG(this._tokens,n)}}class ve{constructor(n,r){this._languageService=n,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(n){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(n)}emit(n,r){const x=this._theme.match(this._currentLanguageId,r)|1024;this._lastTokenMetadata!==x&&(this._lastTokenMetadata=x,this._tokens.push(n),this._tokens.push(x))}static _merge(n,r,x){const X=n!==null?n.length:0,te=r.length,ye=x!==null?x.length:0;if(X===0&&te===0&&ye===0)return new Uint32Array(0);if(X===0&&te===0)return x;if(te===0&&ye===0)return n;const Te=new Uint32Array(X+te+ye);n!==null&&Te.set(n);for(let qe=0;qe<te;qe++)Te[X+qe]=r[qe];return x!==null&&Te.set(x,X+te),Te}nestedLanguageTokenize(n,r,x,X){const te=x.languageId,ye=x.state,Te=S.RW.get(te);if(!Te)return this.enterLanguage(te),this.emit(X,""),ye;const qe=Te.tokenizeEncoded(n,r,ye);if(X!==0)for(let ct=0,ht=qe.tokens.length;ct<ht;ct+=2)qe.tokens[ct]+=X;return this._prependTokens=ve._merge(this._prependTokens,this._tokens,qe.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,qe.endState}finalize(n){return new S.DI(ve._merge(this._prependTokens,this._tokens,null),n)}}let Ne=class bd{constructor(n,r,x,X,te){this._configurationService=te,this._languageService=n,this._standaloneThemeService=r,this._languageId=x,this._lexer=X,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let ye=!1;this._tokenizationRegistryListener=S.RW.onDidChange(Te=>{if(ye)return;let qe=!1;for(let ct=0,ht=Te.changedLanguages.length;ct<ht;ct++){const Nt=Te.changedLanguages[ct];if(this._embeddedLanguages[Nt]){qe=!0;break}}qe&&(ye=!0,S.RW.handleChange([this._languageId]),ye=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(Te=>{Te.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const n=[];for(const r in this._embeddedLanguages){const x=S.RW.get(r);if(x){if(x instanceof bd){const X=x.getLoadStatus();X.loaded===!1&&n.push(X.promise)}continue}S.RW.isResolved(r)||n.push(S.RW.getOrCreate(r))}return n.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(n).then(r=>{})}}getInitialState(){const n=Ve.create(null,this._lexer.start);return Ee.create(n,null)}tokenize(n,r,x){if(n.length>=this._maxTokenizationLineLength)return(0,P.Ri)(this._languageId,x);const X=new we,te=this._tokenize(n,r,x,X);return X.finalize(te)}tokenizeEncoded(n,r,x){if(n.length>=this._maxTokenizationLineLength)return(0,P.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),x);const X=new ve(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),te=this._tokenize(n,r,x,X);return X.finalize(te)}_tokenize(n,r,x,X){return x.embeddedLanguageData?this._nestedTokenize(n,r,x,0,X):this._myTokenize(n,r,x,0,X)}_findLeavingNestedLanguageOffset(n,r){let x=this._lexer.tokenizer[r.stack.state];if(!x&&(x=pe(this._lexer,r.stack.state),!x))throw Ce(this._lexer,"tokenizer state is not defined: "+r.stack.state);let X=-1,te=!1;for(const ye of x){if(!K(ye.action)||ye.action.nextEmbedded!=="@pop")continue;te=!0;let Te=ye.regex;const qe=ye.regex.source;if(qe.substr(0,4)==="^(?:"&&qe.substr(qe.length-1,1)===")"){const ht=(Te.ignoreCase?"i":"")+(Te.unicode?"u":"");Te=new RegExp(qe.substr(4,qe.length-5),ht)}const ct=n.search(Te);ct===-1||ct!==0&&ye.matchOnlyAtLineStart||(X===-1||ct<X)&&(X=ct)}if(!te)throw Ce(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return X}_nestedTokenize(n,r,x,X,te){const ye=this._findLeavingNestedLanguageOffset(n,x);if(ye===-1){const ct=te.nestedLanguageTokenize(n,r,x.embeddedLanguageData,X);return Ee.create(x.stack,new q(x.embeddedLanguageData.languageId,ct))}const Te=n.substring(0,ye);Te.length>0&&te.nestedLanguageTokenize(Te,!1,x.embeddedLanguageData,X);const qe=n.substring(ye);return this._myTokenize(qe,r,x,X+ye,te)}_safeRuleName(n){return n?n.name:"(unknown)"}_myTokenize(n,r,x,X,te){te.enterLanguage(this._languageId);const ye=n.length,Te=r&&this._lexer.includeLF?n+`
`:n,qe=Te.length;let ct=x.embeddedLanguageData,ht=x.stack,Nt=0,ci=null,Ci=!0;for(;Ci||Nt<qe;){const Gi=Nt,Vn=ht.depth,vn=ci?ci.groups.length:0,Qn=ht.state;let Gn=null,is=null,In=null,Ls=null,us=null;if(ci){Gn=ci.matches;const ss=ci.groups.shift();is=ss.matched,In=ss.action,Ls=ci.rule,ci.groups.length===0&&(ci=null)}else{if(!Ci&&Nt>=qe)break;Ci=!1;let ss=this._lexer.tokenizer[Qn];if(!ss&&(ss=pe(this._lexer,Qn),!ss))throw Ce(this._lexer,"tokenizer state is not defined: "+Qn);const gs=Te.substr(Nt);for(const Fs of ss)if((Nt===0||!Fs.matchOnlyAtLineStart)&&(Gn=gs.match(Fs.regex),Gn)){is=Gn[0],In=Fs.action;break}}if(Gn||(Gn=[""],is=""),In||(Nt<qe&&(Gn=[Te.charAt(Nt)],is=Gn[0]),In=this._lexer.defaultToken),is===null)break;for(Nt+=is.length;j(In)&&K(In)&&In.test;)In=In.test(is,Gn,Qn,Nt===qe);let Zn=null;if(typeof In=="string"||Array.isArray(In))Zn=In;else if(In.group)Zn=In.group;else if(In.token!==null&&In.token!==void 0){if(In.tokenSubst?Zn=_e(this._lexer,In.token,is,Gn,Qn):Zn=In.token,In.nextEmbedded)if(In.nextEmbedded==="@pop"){if(!ct)throw Ce(this._lexer,"cannot pop embedded language if not inside one");ct=null}else{if(ct)throw Ce(this._lexer,"cannot enter embedded language from within an embedded language");us=_e(this._lexer,In.nextEmbedded,is,Gn,Qn)}if(In.goBack&&(Nt=Math.max(0,Nt-In.goBack)),In.switchTo&&typeof In.switchTo=="string"){let ss=_e(this._lexer,In.switchTo,is,Gn,Qn);if(ss[0]==="@"&&(ss=ss.substr(1)),pe(this._lexer,ss))ht=ht.switchTo(ss);else throw Ce(this._lexer,"trying to switch to a state '"+ss+"' that is undefined in rule: "+this._safeRuleName(Ls))}else{if(In.transform&&typeof In.transform=="function")throw Ce(this._lexer,"action.transform not supported");if(In.next)if(In.next==="@push"){if(ht.depth>=this._lexer.maxStack)throw Ce(this._lexer,"maximum tokenizer stack size reached: ["+ht.state+","+ht.parent.state+",...]");ht=ht.push(Qn)}else if(In.next==="@pop"){if(ht.depth<=1)throw Ce(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Ls));ht=ht.pop()}else if(In.next==="@popall")ht=ht.popall();else{let ss=_e(this._lexer,In.next,is,Gn,Qn);if(ss[0]==="@"&&(ss=ss.substr(1)),pe(this._lexer,ss))ht=ht.push(ss);else throw Ce(this._lexer,"trying to set a next state '"+ss+"' that is undefined in rule: "+this._safeRuleName(Ls))}}In.log&&typeof In.log=="string"&&Re(this._lexer,this._lexer.languageId+": "+_e(this._lexer,In.log,is,Gn,Qn))}if(Zn===null)throw Ce(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Ls));const bn=ss=>{const gs=this._languageService.getLanguageIdByLanguageName(ss)||this._languageService.getLanguageIdByMimeType(ss)||ss,Fs=this._getNestedEmbeddedLanguageData(gs);if(Nt<qe){const qn=n.substr(Nt);return this._nestedTokenize(qn,r,Ee.create(ht,Fs),X+Nt,te)}else return Ee.create(ht,Fs)};if(Array.isArray(Zn)){if(ci&&ci.groups.length>0)throw Ce(this._lexer,"groups cannot be nested: "+this._safeRuleName(Ls));if(Gn.length!==Zn.length+1)throw Ce(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Ls));let ss=0;for(let gs=1;gs<Gn.length;gs++)ss+=Gn[gs].length;if(ss!==is.length)throw Ce(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Ls));ci={rule:Ls,matches:Gn,groups:[]};for(let gs=0;gs<Zn.length;gs++)ci.groups[gs]={action:Zn[gs],matched:Gn[gs+1]};Nt-=is.length;continue}else{if(Zn==="@rematch"&&(Nt-=is.length,is="",Gn=null,Zn="",us!==null))return bn(us);if(is.length===0){if(qe===0||Vn!==ht.depth||Qn!==ht.state||(ci?ci.groups.length:0)!==vn)continue;throw Ce(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Ls))}let ss=null;if(z(Zn)&&Zn.indexOf("@brackets")===0){const gs=Zn.substr(9),Fs=$e(this._lexer,is);if(!Fs)throw Ce(this._lexer,"@brackets token returned but no bracket defined as: "+is);ss=T(Fs.token+gs)}else{const gs=Zn===""?"":Zn+this._lexer.tokenPostfix;ss=T(gs)}Gi<ye&&te.emit(Gi+X,ss)}if(us!==null)return bn(us)}return Ee.create(ht,ct)}_getNestedEmbeddedLanguageData(n){if(!this._languageService.isRegisteredLanguageId(n))return new q(n,P.TJ);n!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(n),S.RW.getOrCreate(n),this._embeddedLanguages[n]=!0);const r=S.RW.get(n);return r?new q(n,r.getInitialState()):new q(n,P.TJ)}};Ne=he([je(4,oe.Ui)],Ne);function $e(Ie,n){if(!n)return null;n=fe(Ie,n);const r=Ie.brackets;for(const x of r){if(x.open===n)return{token:x.token,bracketType:1};if(x.close===n)return{token:x.token,bracketType:-1}}return null}var Ke=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};const ze=(0,k.Z)("standaloneColorizer",{createHTML:Ie=>Ie});class He{static colorizeElement(n,r,x,X){X=X||{};const te=X.theme||"vs",ye=X.mimeType||x.getAttribute("lang")||x.getAttribute("data-lang");if(!ye)return console.error("Mode not detected"),Promise.resolve();const Te=r.getLanguageIdByMimeType(ye)||ye;n.setTheme(te);const qe=x.firstChild?x.firstChild.nodeValue:"";x.className+=" "+te;const ct=ht=>{var Nt;const ci=(Nt=ze==null?void 0:ze.createHTML(ht))!==null&&Nt!==void 0?Nt:ht;x.innerHTML=ci};return this.colorize(r,qe||"",Te,X).then(ct,ht=>console.error(ht))}static colorize(n,r,x,X){return Ke(this,void 0,void 0,function*(){const te=n.languageIdCodec;let ye=4;X&&typeof X.tabSize=="number"&&(ye=X.tabSize),_.uS(r)&&(r=r.substr(1));const Te=_.uq(r);if(!n.isRegisteredLanguageId(x))return de(Te,ye,te);const qe=yield S.RW.getOrCreate(x);return qe?Le(Te,ye,qe,te):de(Te,ye,te)})}static colorizeLine(n,r,x,X,te=4){const ye=J.wA.isBasicASCII(n,r),Te=J.wA.containsRTL(n,ye,x);return(0,$.tF)(new $.IJ(!1,!0,n,!1,ye,Te,0,X,[],te,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(n,r,x=4){const X=n.getLineContent(r);n.tokenization.forceTokenization(r);const ye=n.tokenization.getLineTokens(r).inflate();return this.colorizeLine(X,n.mightContainNonBasicASCII(),n.mightContainRTL(),ye,x)}}function Le(Ie,n,r,x){return new Promise((X,te)=>{const ye=()=>{const Te=ee(Ie,n,r,x);if(r instanceof Ne){const qe=r.getLoadStatus();if(qe.loaded===!1){qe.promise.then(ye,te);return}}X(Te)};ye()})}function de(Ie,n,r){let x=[];const te=new Uint32Array(2);te[0]=0,te[1]=33587200;for(let ye=0,Te=Ie.length;ye<Te;ye++){const qe=Ie[ye];te[0]=qe.length;const ct=new R.A(te,qe,r),ht=J.wA.isBasicASCII(qe,!0),Nt=J.wA.containsRTL(qe,ht,!0),ci=(0,$.tF)(new $.IJ(!1,!0,qe,!1,ht,Nt,0,ct,[],n,0,0,0,0,-1,"none",!1,!1,null));x=x.concat(ci.html),x.push("<br/>")}return x.join("")}function ee(Ie,n,r,x){let X=[],te=r.getInitialState();for(let ye=0,Te=Ie.length;ye<Te;ye++){const qe=Ie[ye],ct=r.tokenizeEncoded(qe,!0,te);R.A.convertToEndOffset(ct.tokens,qe.length);const ht=new R.A(ct.tokens,qe,x),Nt=J.wA.isBasicASCII(qe,!0),ci=J.wA.containsRTL(qe,Nt,!0),Ci=(0,$.tF)(new $.IJ(!1,!0,qe,!1,Nt,ci,0,ht.inflate(),[],n,0,0,0,0,-1,"none",!1,!1,null));X=X.concat(Ci.html),X.push("<br/>"),te=ct.endState}return X.join("")}var ne=t(79874),me=t(39143),ue=t(34441),Pe=t(34733),ot=t(56245),gt=t(52243),nt=t(13484),tt=t(407),st=t(20996),It=t(69008),Wt=t(8216),Vt=t(71344),Ct=t(8220),gi=t(55298),jt=t(48423),Ye=t(67235),ut=t(60018),dt=t(98299),bt=t(8964),Mt=t(26386),ni=t(76826),qt=t(89528),yt=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},At=function(Ie,n){return function(r,x){n(r,x,Ie)}},Qt=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};const si=3;class oi{constructor(n,r,x,X){this.originalLineStart=n,this.originalLineEnd=r,this.modifiedLineStart=x,this.modifiedLineEnd=X}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class mi{constructor(n){this.entries=n}}const bi=(0,qt.q5)("diff-review-insert",tt.l.add,Mt.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),Ai=(0,qt.q5)("diff-review-remove",tt.l.remove,Mt.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),$i=(0,qt.q5)("diff-review-close",tt.l.close,Mt.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Vi=class Ta extends u.JT{constructor(n,r,x,X){super(),this._languageService=r,this._audioCueService=x,this._configurationService=X,this._width=0,this._diffEditor=n,this._isVisible=!1,this.shadow=(0,Pe.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,Pe.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Ye.o(this.actionBarContainer.domNode)),this._actionBar.push(new dt.aU("diffreview.close",Mt.NC("label.close","Close"),"close-diff-review "+Wt.k.asClassName($i),!0,()=>Qt(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,Pe.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,Pe.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new ut.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(n.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(n.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(ue.mu(this.domNode.domNode,"click",te=>{te.preventDefault();const ye=ue.Fx(te.target,"diff-review-row");ye&&this._goToRow(ye)})),this._register(ue.mu(this.domNode.domNode,"keydown",te=>{(te.equals(18)||te.equals(2066)||te.equals(530))&&(te.preventDefault(),this._goToRow(this._getNextRow(),"next")),(te.equals(16)||te.equals(2064)||te.equals(528))&&(te.preventDefault(),this._goToRow(this._getPrevRow(),"previous")),(te.equals(9)||te.equals(2057)||te.equals(521)||te.equals(1033)||te.equals(10)||te.equals(3))&&(te.preventDefault(),this.accept())})),this._register(this._configurationService.onDidChangeConfiguration(te=>{te.affectsConfiguration("accessibility.verbosity.diffEditor")&&this._diffEditor.updateOptions({accessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.diffEditor")})})),this._diffs=[],this._currentDiff=null}prev(){let n=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let x=-1;for(let X=0,te=this._diffs.length;X<te;X++)if(this._diffs[X]===this._currentDiff){x=X;break}n=this._diffs.length+x-1}else n=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;n=n%this._diffs.length;const r=this._diffs[n].entries;this._diffEditor.setPosition(new bt.L(r[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:r[0].modifiedLineStart,endColumn:1073741824,endLineNumber:r[r.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}next(){let n=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let x=-1;for(let X=0,te=this._diffs.length;X<te;X++)if(this._diffs[X]===this._currentDiff){x=X;break}n=x+1}else n=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;n=n%this._diffs.length;const r=this._diffs[n].entries;this._diffEditor.setPosition(new bt.L(r[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:r[0].modifiedLineStart,endColumn:1073741824,endLineNumber:r[r.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}accept(){let n=-1;const r=this._getCurrentFocusedRow();if(r){const x=parseInt(r.getAttribute("data-line"),10);isNaN(x)||(n=x)}this.hide(),n!==-1&&(this._diffEditor.setPosition(new bt.L(n,1)),this._diffEditor.revealPosition(new bt.L(n,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const n=this._getCurrentFocusedRow();return n?n.previousElementSibling?n.previousElementSibling:n:this._getFirstRow()}_getNextRow(){const n=this._getCurrentFocusedRow();return n?n.nextElementSibling?n.nextElementSibling:n:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const n=document.activeElement;return n&&/diff-review-row/.test(n.className)?n:null}_goToRow(n,r){const x=this._getCurrentFocusedRow();n.tabIndex=0,n.focus(),x&&x!==n&&(x.tabIndex=-1);const X=r?r==="next"?x==null?void 0:x.nextElementSibling:x==null?void 0:x.previousElementSibling:x;X!=null&&X.classList.contains("line-insert")?this._audioCueService.playAudioCue(l.y$.diffLineInserted,!0):X!=null&&X.classList.contains("line-delete")&&this._audioCueService.playAudioCue(l.y$.diffLineDeleted,!0),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(n,r,x){this._width=r,this.shadow.setTop(n-6),this.shadow.setWidth(r),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(n),this.domNode.setWidth(r),this.domNode.setHeight(x),this._content.setHeight(x),this._content.setWidth(r),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const n=this._diffEditor.getLineChanges();if(!n||n.length===0)return[];const r=this._diffEditor.getOriginalEditor().getModel(),x=this._diffEditor.getModifiedEditor().getModel();return!r||!x?[]:Ta._mergeAdjacent(n,r.getLineCount(),x.getLineCount())}static _mergeAdjacent(n,r,x){if(!n||n.length===0)return[];const X=[];let te=0;for(let ct=0,ht=n.length;ct<ht;ct++){const Nt=n[ct],ci=Nt.originalStartLineNumber,Ci=Nt.originalEndLineNumber,Gi=Nt.modifiedStartLineNumber,Vn=Nt.modifiedEndLineNumber,vn=[];let Qn=0;{const Gn=Ci===0?ci:ci-1,is=Vn===0?Gi:Gi-1;let In=1,Ls=1;if(ct>0){const bn=n[ct-1];bn.originalEndLineNumber===0?In=bn.originalStartLineNumber+1:In=bn.originalEndLineNumber+1,bn.modifiedEndLineNumber===0?Ls=bn.modifiedStartLineNumber+1:Ls=bn.modifiedEndLineNumber+1}let us=Gn-si+1,Zn=is-si+1;if(us<In){const bn=In-us;us=us+bn,Zn=Zn+bn}if(Zn<Ls){const bn=Ls-Zn;us=us+bn,Zn=Zn+bn}vn[Qn++]=new oi(us,Gn,Zn,is)}Ci!==0&&(vn[Qn++]=new oi(ci,Ci,0,0)),Vn!==0&&(vn[Qn++]=new oi(0,0,Gi,Vn));{const Gn=Ci===0?ci+1:Ci+1,is=Vn===0?Gi+1:Vn+1;let In=r,Ls=x;if(ct+1<ht){const bn=n[ct+1];bn.originalEndLineNumber===0?In=bn.originalStartLineNumber:In=bn.originalStartLineNumber-1,bn.modifiedEndLineNumber===0?Ls=bn.modifiedStartLineNumber:Ls=bn.modifiedStartLineNumber-1}let us=Gn+si-1,Zn=is+si-1;if(us>In){const bn=In-us;us=us+bn,Zn=Zn+bn}if(Zn>Ls){const bn=Ls-Zn;us=us+bn,Zn=Zn+bn}vn[Qn++]=new oi(Gn,us,is,Zn)}X[te++]=new mi(vn)}let ye=X[0].entries;const Te=[];let qe=0;for(let ct=1,ht=X.length;ct<ht;ct++){const Nt=X[ct].entries,ci=ye[ye.length-1],Ci=Nt[0];if(ci.getType()===0&&Ci.getType()===0&&Ci.originalLineStart<=ci.originalLineEnd){ye[ye.length-1]=new oi(ci.originalLineStart,Ci.originalLineEnd,ci.modifiedLineStart,Ci.modifiedLineEnd),ye=ye.concat(Nt.slice(1));continue}Te[qe++]=new mi(ye),ye=Nt}return Te[qe++]=new mi(ye),Te}_findDiffIndex(n){const r=n.lineNumber;for(let x=0,X=this._diffs.length;x<X;x++){const te=this._diffs[x].entries,ye=te[te.length-1].modifiedLineEnd;if(r<=ye)return x}return 0}_render(){const n=this._diffEditor.getOriginalEditor().getOptions(),r=this._diffEditor.getModifiedEditor().getOptions(),x=this._diffEditor.getOriginalEditor().getModel(),X=this._diffEditor.getModifiedEditor().getModel(),te=x.getOptions(),ye=X.getOptions();if(!this._isVisible||!x||!X){ue.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const Te=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Te]===this._currentDiff)return;this._currentDiff=this._diffs[Te];const qe=this._diffs[Te].entries,ct=document.createElement("div");ct.className="diff-review-table",ct.setAttribute("role","list"),ct.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,Vt.N)(ct,r.get(48));let ht=0,Nt=0,ci=0,Ci=0;for(let Zn=0,bn=qe.length;Zn<bn;Zn++){const ss=qe[Zn],gs=ss.originalLineStart,Fs=ss.originalLineEnd,qn=ss.modifiedLineStart,Yn=ss.modifiedLineEnd;gs!==0&&(ht===0||gs<ht)&&(ht=gs),Fs!==0&&(Nt===0||Fs>Nt)&&(Nt=Fs),qn!==0&&(ci===0||qn<ci)&&(ci=qn),Yn!==0&&(Ci===0||Yn>Ci)&&(Ci=Yn)}const Gi=document.createElement("div");Gi.className="diff-review-row";const Vn=document.createElement("div");Vn.className="diff-review-cell diff-review-summary";const vn=Nt-ht+1,Qn=Ci-ci+1;Vn.appendChild(document.createTextNode(`${Te+1}/${this._diffs.length}: @@ -${ht},${vn} +${ci},${Qn} @@`)),Gi.setAttribute("data-line",String(ci));const Gn=Zn=>Zn===0?Mt.NC("no_lines_changed","no lines changed"):Zn===1?Mt.NC("one_line_changed","1 line changed"):Mt.NC("more_lines_changed","{0} lines changed",Zn),is=Gn(vn),In=Gn(Qn);Gi.setAttribute("aria-label",Mt.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Te+1,this._diffs.length,ht,is,ci,In)),Gi.appendChild(Vn),Gi.setAttribute("role","listitem"),ct.appendChild(Gi);const Ls=r.get(64);let us=ci;for(let Zn=0,bn=qe.length;Zn<bn;Zn++){const ss=qe[Zn];Ta._renderSection(ct,ss,us,Ls,this._width,n,x,te,r,X,ye,this._languageService.languageIdCodec),ss.modifiedLineStart!==0&&(us=ss.modifiedLineEnd)}ue.PO(this._content.domNode),this._content.domNode.appendChild(ct),this.scrollbar.scanDomNode()}static _renderSection(n,r,x,X,te,ye,Te,qe,ct,ht,Nt,ci){const Ci=r.getType();let Gi="diff-review-row",Vn="";const vn="diff-review-spacer";let Qn=null;switch(Ci){case 1:Gi="diff-review-row line-insert",Vn=" char-insert",Qn=bi;break;case 2:Gi="diff-review-row line-delete",Vn=" char-delete",Qn=Ai;break}const Gn=r.originalLineStart,is=r.originalLineEnd,In=r.modifiedLineStart,Ls=r.modifiedLineEnd,us=Math.max(Ls-In,is-Gn),Zn=ye.get(140),bn=Zn.glyphMarginWidth+Zn.lineNumbersWidth,ss=ct.get(140),gs=10+ss.glyphMarginWidth+ss.lineNumbersWidth;for(let Fs=0;Fs<=us;Fs++){const qn=Gn===0?0:Gn+Fs,Yn=In===0?0:In+Fs,$s=document.createElement("div");$s.style.minWidth=te+"px",$s.className=Gi,$s.setAttribute("role","listitem"),Yn!==0&&(x=Yn),$s.setAttribute("data-line",String(x));const Do=document.createElement("div");Do.className="diff-review-cell",Do.style.height=`${X}px`,$s.appendChild(Do);const so=document.createElement("span");so.style.width=bn+"px",so.style.minWidth=bn+"px",so.className="diff-review-line-number"+Vn,qn!==0?so.appendChild(document.createTextNode(String(qn))):so.innerText="\xA0",Do.appendChild(so);const Qo=document.createElement("span");Qo.style.width=gs+"px",Qo.style.minWidth=gs+"px",Qo.style.paddingRight="10px",Qo.className="diff-review-line-number"+Vn,Yn!==0?Qo.appendChild(document.createTextNode(String(Yn))):Qo.innerText="\xA0",Do.appendChild(Qo);const cr=document.createElement("span");if(cr.className=vn,Qn){const nr=document.createElement("span");nr.className=Wt.k.asClassName(Qn),nr.innerText="\xA0\xA0",cr.appendChild(nr)}else cr.innerText="\xA0\xA0";Do.appendChild(cr);let _r;if(Yn!==0){let nr=this._renderLine(ht,ct,Nt.tabSize,Yn,ci);Ta._ttPolicy&&(nr=Ta._ttPolicy.createHTML(nr)),Do.insertAdjacentHTML("beforeend",nr),_r=ht.getLineContent(Yn)}else{let nr=this._renderLine(Te,ye,qe.tabSize,qn,ci);Ta._ttPolicy&&(nr=Ta._ttPolicy.createHTML(nr)),Do.insertAdjacentHTML("beforeend",nr),_r=Te.getLineContent(qn)}_r.length===0&&(_r=Mt.NC("blankLine","blank"));let Pr="";switch(Ci){case 0:qn===Yn?Pr=Mt.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",_r,qn):Pr=Mt.NC("equalLine","{0} original line {1} modified line {2}",_r,qn,Yn);break;case 1:Pr=Mt.NC("insertLine","+ {0} modified line {1}",_r,Yn);break;case 2:Pr=Mt.NC("deleteLine","- {0} original line {1}",_r,qn);break}$s.setAttribute("aria-label",Pr),n.appendChild($s)}}static _renderLine(n,r,x,X,te){const ye=n.getLineContent(X),Te=r.get(48),qe=R.A.createEmpty(ye,te),ct=J.wA.isBasicASCII(ye,n.mightContainNonBasicASCII()),ht=J.wA.containsRTL(ye,ct,n.mightContainRTL());return(0,$.tF)(new $.IJ(Te.isMonospace&&!r.get(31),Te.canUseHalfwidthRightwardsArrow,ye,!1,ct,ht,0,qe,[],x,0,Te.spaceWidth,Te.middotWidth,Te.wsmiddotWidth,r.get(113),r.get(95),r.get(90),r.get(49)!==f.n0.OFF,null)).html}};Vi._ttPolicy=(0,k.Z)("diffReview",{createHTML:Ie=>Ie}),Vi=yt([At(1,M.O),At(2,l.e7),At(3,oe.Ui)],Vi);class Qi extends gi.R6{constructor(){super({id:"editor.action.diffReview.next",label:Mt.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:ni.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(n,r){const x=Yi(n);x==null||x.diffReviewNext()}}class fn extends gi.R6{constructor(){super({id:"editor.action.diffReview.prev",label:Mt.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:ni.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(n,r){const x=Yi(n);x==null||x.diffReviewPrev()}}function Yi(Ie){var n;const r=Ie.get(I.$),x=r.listDiffEditors(),X=(n=r.getFocusedCodeEditor())!==null&&n!==void 0?n:r.getActiveCodeEditor();if(!X)return null;for(let te=0,ye=x.length;te<ye;te++){const Te=x[te];if(Te.getModifiedEditor().getId()===X.getId()||Te.getOriginalEditor().getId()===X.getId())return Te}return null}(0,gi.Qr)(Qi),(0,gi.Qr)(fn);var Pi=t(11138),Li=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};class gn extends u.JT{get visibility(){return this._visibility}set visibility(n){this._visibility!==n&&(this._visibility=n,n?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}constructor(n,r,x,X,te,ye){super(),this._viewZoneId=n,this._marginDomNode=r,this.editor=x,this.diff=X,this._contextMenuService=te,this._clipboardService=ye,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Wt.k.asClassName(tt.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const Te=x.getOption(64),qe=x.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Te}px`,this._diffActions.style.lineHeight=`${Te}px`,this._marginDomNode.appendChild(this._diffActions);const ct=[],ht=X.modifiedEndLineNumber===0;ct.push(new dt.aU("diff.clipboard.copyDeletedContent",ht?X.originalEndLineNumber>X.modifiedStartLineNumber?Mt.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):Mt.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):X.originalEndLineNumber>X.modifiedStartLineNumber?Mt.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):Mt.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Li(this,void 0,void 0,function*(){const vn=new a.e(X.originalStartLineNumber,1,X.originalEndLineNumber+1,1),Qn=X.originalModel.getValueInRange(vn);yield this._clipboardService.writeText(Qn)})));let Nt=0,ci;X.originalEndLineNumber>X.modifiedStartLineNumber&&(ci=new dt.aU("diff.clipboard.copyDeletedLineContent",ht?Mt.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",X.originalStartLineNumber):Mt.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",X.originalStartLineNumber),void 0,!0,()=>Li(this,void 0,void 0,function*(){const vn=X.originalModel.getLineContent(X.originalStartLineNumber+Nt);if(vn===""){const Qn=X.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(Qn===0?`
`:`\r
`)}else yield this._clipboardService.writeText(vn)})),ct.push(ci)),x.getOption(88)||ct.push(new dt.aU("diff.inline.revertChange",Mt.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Li(this,void 0,void 0,function*(){const vn=new a.e(X.originalStartLineNumber,1,X.originalEndLineNumber,X.originalModel.getLineMaxColumn(X.originalEndLineNumber)),Qn=X.originalModel.getValueInRange(vn);if(X.modifiedEndLineNumber===0){const Gn=x.getModel().getLineMaxColumn(X.modifiedStartLineNumber);x.executeEdits("diffEditor",[{range:new a.e(X.modifiedStartLineNumber,Gn,X.modifiedStartLineNumber,Gn),text:qe+Qn}])}else{const Gn=x.getModel().getLineMaxColumn(X.modifiedEndLineNumber);x.executeEdits("diffEditor",[{range:new a.e(X.modifiedStartLineNumber,1,X.modifiedEndLineNumber,Gn),text:Qn}])}})));const Gi=x.getOption(123)&&!Pi.gn,Vn=(vn,Qn)=>{var Gn;this._contextMenuService.showContextMenu({domForShadowRoot:Gi&&(Gn=x.getDomNode())!==null&&Gn!==void 0?Gn:void 0,getAnchor:()=>({x:vn,y:Qn}),getActions:()=>(ci&&(ci.label=ht?Mt.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",X.originalStartLineNumber+Nt):Mt.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",X.originalStartLineNumber+Nt)),ct),autoSelectFirstItem:!0})};this._register(ue.mu(this._diffActions,"mousedown",vn=>{const{top:Qn,height:Gn}=ue.i(this._diffActions),is=Math.floor(Te/3);vn.preventDefault(),Vn(vn.posx,Qn+Gn+is)})),this._register(x.onMouseMove(vn=>{vn.target.type===8||vn.target.type===5?vn.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,Nt=this._updateLightBulbPosition(this._marginDomNode,vn.event.browserEvent.y,Te)):this.visibility=!1:this.visibility=!1})),this._register(x.onMouseDown(vn=>{vn.event.rightButton&&(vn.target.type===8||vn.target.type===5)&&vn.target.detail.viewZoneId===this._viewZoneId&&(vn.event.preventDefault(),Nt=this._updateLightBulbPosition(this._marginDomNode,vn.event.browserEvent.y,Te),Vn(vn.event.posx,vn.event.posy+Te))}))}_updateLightBulbPosition(n,r,x){const{top:X}=ue.i(n),te=r-X,ye=Math.floor(te/x),Te=ye*x;if(this._diffActions.style.top=`${Te}px`,this.diff.viewLineCounts){let qe=0;for(let ct=0;ct<this.diff.viewLineCounts.length;ct++)if(qe+=this.diff.viewLineCounts[ct],ye<qe)return ct}return ye}}var on=t(69344),Nn=t(4407),ln=t(5800),Yt=t(30363),ti=t(68554),fi=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Gt=function(Ie,n){return function(r,x){n(r,x,Ie)}},Si=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};let zi=class{constructor(n,r,x){this.editorWorkerService=r,this.telemetryService=x,this.onDidChangeEventEmitter=new E.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(n)}dispose(){var n;(n=this.diffAlgorithmOnDidChangeSubscription)===null||n===void 0||n.dispose()}computeDiff(n,r,x){var X;return Si(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(n,r,x);if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return{changes:[new ln.f0(new Nn.z(1,1),new Nn.z(1,r.getLineCount()),[new ln.iy(n.getFullModelRange(),r.getFullModelRange())])],identical:!1,quitEarly:!1};const te=on.G.create(!0),ye=yield this.editorWorkerService.computeDiff(n.uri,r.uri,x,this.diffAlgorithm),Te=te.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:Te,timedOut:(X=ye==null?void 0:ye.quitEarly)!==null&&X!==void 0?X:!0}),!ye)throw new Error("no diff result available");return ye})}setOptions(n){var r;let x=!1;n.diffAlgorithm&&this.diffAlgorithm!==n.diffAlgorithm&&((r=this.diffAlgorithmOnDidChangeSubscription)===null||r===void 0||r.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=n.diffAlgorithm,typeof n.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=n.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),x=!0),x&&this.onDidChangeEventEmitter.fire()}};zi=fi([Gt(1,Yt.p),Gt(2,ti.b)],zi);var ji=t(12342),Hi=t(21081),tn=t(45007),sn=t(69756),Xi=t(43128),Oi=t(51941),ai=t(36953),Zt=t(44333),Jt=t(28596),_t=t(97968),xt=t(79969),Ht=t(92537),at=t(58566),ce=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},We=function(Ie,n){return function(r,x){n(r,x,Ie)}};class Me{constructor(n,r){this._contextMenuService=n,this._clipboardService=r,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(n){return n.filter(r=>!this._zonesMap[String(r.id)])}clean(n){this._zones.length>0&&n.changeViewZones(r=>{for(const x of this._zones)r.removeZone(x)}),this._zones=[],this._zonesMap={},n.changeDecorations(r=>{this._decorations=r.deltaDecorations(this._decorations,[])})}apply(n,r,x,X){const te=X?jt.Z.capture(n):null;n.changeViewZones(ye=>{var Te;for(const qe of this._zones)ye.removeZone(qe);for(const qe of this._inlineDiffMargins)qe.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let qe=0,ct=x.zones.length;qe<ct;qe++){const ht=x.zones[qe];ht.suppressMouseDown=!0;const Nt=ye.addZone(ht);this._zones.push(Nt),this._zonesMap[String(Nt)]=!0,x.zones[qe].diff&&ht.marginDomNode&&(ht.suppressMouseDown=!1,((Te=x.zones[qe].diff)===null||Te===void 0?void 0:Te.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new gn(Nt,ht.marginDomNode,n,x.zones[qe].diff,this._contextMenuService,this._clipboardService)))}}),te==null||te.restore(n),n.changeDecorations(ye=>{this._decorations=ye.deltaDecorations(this._decorations,x.decorations)}),r==null||r.setZones(x.overviewZones)}}let ge=0;const Q=(0,qt.q5)("diff-insert",tt.l.add,Mt.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),ae=(0,qt.q5)("diff-remove",tt.l.remove,Mt.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),xe=(0,k.Z)("diffEditorWidget",{createHTML:Ie=>Ie}),Ae=Mt.NC("diff-aria-navigation-tip"," use Shift + F7 to navigate changes");let Je=class Ro extends u.JT{constructor(n,r,x,X,te,ye,Te,qe,ct,ht,Nt){super(),this._editorProgressService=Nt,this._onDidDispose=this._register(new E.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModel=this._register(new E.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidUpdateDiff=this._register(new E.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new E.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,Te.willCreateDiffEditor(),this._documentDiffProvider=this._register(ye.createInstance(zi,r)),this._register(this._documentDiffProvider.onDidChange(Ci=>this._beginUpdateDecorationsSoon())),this._codeEditorService=Te,this._contextKeyService=this._register(te.createScoped(n)),this._instantiationService=ye.createChild(new Jt.y([ni.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=qe,this._notificationService=ct,this._id=++ge,this._state=0,this._updatingDiffProgress=null,this._domElement=n,r=r||{},this._options=Ss(r,{enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{collapseUnchangedRegions:!1}}),this.isEmbeddedDiffEditorKey=Hi.u.isEmbeddedDiffEditor.bindTo(this._contextKeyService),this.isEmbeddedDiffEditorKey.set(typeof r.isInEmbeddedEditor!="undefined"?r.isInEmbeddedEditor:!1),this._updateDecorationsRunner=this._register(new nt.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Ro._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,Pe.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(ue.mu(this._overviewDomElement,ue.tw.POINTER_DOWN,Ci=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Ci)})),this._register(ue.nm(this._overviewDomElement,ue.tw.MOUSE_WHEEL,Ci=>{this._modifiedEditor.delegateScrollFromMouseWheelEvent(Ci)},{passive:!1})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Me(ht,X),this._modifiedEditorState=new Me(ht,X),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ct.I(this._containerDomElement,r.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),r.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(r,x.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(r,x.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=ye.createInstance(Vi,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ei(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new di(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(qe.onDidColorThemeChange(Ci=>{this._strategy&&this._strategy.applyColors(Ci)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Ro._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const ci=gi.Uc.getDiffEditorContributions();for(const Ci of ci)try{this._register(ye.createInstance(Ci.ctor,this))}catch(Gi){(0,st.dL)(Gi)}this._codeEditorService.addDiffEditor(this)}_setState(n){this._state!==n&&(this._state=n,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(n,r){let x="monaco-diff-editor monaco-editor-background ";return r&&(x+="side-by-side "),x+=(0,at.m6)(n.type),x}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(L.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(n,r){const x=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(n),r);this._register(x.onDidScrollChange(te=>{this._isHandlingScrollEvent||!te.scrollTopChanged&&!te.scrollLeftChanged&&!te.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:te.scrollLeft,scrollTop:te.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(x.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(x.onDidChangeConfiguration(te=>{x.getModel()&&(te.hasChanged(48)&&this._updateDecorationsRunner.schedule(),te.hasChanged(141)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(x.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(x.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const X=this._contextKeyService.createKey("isInDiffLeftEditor",x.hasWidgetFocus());return this._register(x.onDidFocusEditorWidget(()=>X.set(!0))),this._register(x.onDidBlurEditorWidget(()=>X.set(!1))),this._register(x.onDidContentSizeChange(te=>{const ye=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ro.ONE_OVERVIEW_WIDTH,Te=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Te,contentWidth:ye,contentHeightChanged:te.contentHeightChanged,contentWidthChanged:te.contentWidthChanged})})),x}_createRightHandSideEditor(n,r){const x=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(n),r);this._register(x.onDidScrollChange(te=>{this._isHandlingScrollEvent||!te.scrollTopChanged&&!te.scrollLeftChanged&&!te.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:te.scrollLeft,scrollTop:te.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(x.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(x.onDidChangeConfiguration(te=>{x.getModel()&&(te.hasChanged(48)&&this._updateDecorationsRunner.schedule(),te.hasChanged(141)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(x.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(x.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(x.onDidChangeModelOptions(te=>{te.tabSize&&this._updateDecorationsRunner.schedule()}));const X=this._contextKeyService.createKey("isInDiffRightEditor",x.hasWidgetFocus());return this._register(x.onDidFocusEditorWidget(()=>X.set(!0))),this._register(x.onDidBlurEditorWidget(()=>X.set(!1))),this._register(x.onDidContentSizeChange(te=>{const ye=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ro.ONE_OVERVIEW_WIDTH,Te=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Te,contentWidth:ye,contentHeightChanged:te.contentHeightChanged,contentWidthChanged:te.contentWidthChanged})})),this._register(x.onMouseDown(te=>{var ye,Te;if(!te.event.rightButton&&te.target.position&&(!((ye=te.target.element)===null||ye===void 0)&&ye.className.includes("arrow-revert-change"))){const qe=te.target.position.lineNumber,ct=te.target,ht=(Te=this._diffComputationResult)===null||Te===void 0?void 0:Te.changes.find(Nt=>(ct==null?void 0:ct.detail.afterLineNumber)===Nt.modifiedStartLineNumber||Nt.modifiedEndLineNumber>0&&Nt.modifiedStartLineNumber===qe);ht&&this.revertChange(ht),te.event.stopPropagation(),this._updateDecorations();return}})),x}revertChange(n){const r=this._modifiedEditor,x=this._originalEditor.getModel(),X=this._modifiedEditor.getModel();if(!x||!X||!r)return;const te=n.originalEndLineNumber>0?new a.e(n.originalStartLineNumber,1,n.originalEndLineNumber,x.getLineMaxColumn(n.originalEndLineNumber)):null,ye=te?x.getValueInRange(te):null,Te=n.modifiedEndLineNumber>0?new a.e(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,X.getLineMaxColumn(n.modifiedEndLineNumber)):null,qe=X.getEOL();if(n.originalEndLineNumber===0&&Te){let ct=Te;n.modifiedStartLineNumber>1?ct=Te.setStartPosition(n.modifiedStartLineNumber-1,X.getLineMaxColumn(n.modifiedStartLineNumber-1)):n.modifiedEndLineNumber<X.getLineCount()&&(ct=Te.setEndPosition(n.modifiedEndLineNumber+1,1)),r.executeEdits("diffEditor",[{range:ct,text:""}])}else if(n.modifiedEndLineNumber===0&&ye!==null){const ct=n.modifiedStartLineNumber<X.getLineCount()?new bt.L(n.modifiedStartLineNumber+1,1):new bt.L(n.modifiedStartLineNumber,X.getLineMaxColumn(n.modifiedStartLineNumber));r.executeEdits("diffEditor",[{range:a.e.fromPositions(ct,ct),text:n.modifiedStartLineNumber<X.getLineCount()?ye+qe:qe+ye}])}else Te&&ye!==null&&r.executeEdits("diffEditor",[{range:Te,text:ye}])}_createInnerEditor(n,r,x,X){return n.createInstance(me.Gm,r,x,X)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return v.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(n){const r=Ss(n,this._options),x=mn(this._options,r);this._options=r,this.isEmbeddedDiffEditorKey.set(typeof n.isInEmbeddedEditor!="undefined"?n.isInEmbeddedEditor:!1);const X=x.ignoreTrimWhitespace||x.renderIndicators||x.renderMarginRevertIcon,te=this._isVisible&&(x.maxComputationTime||x.maxFileSize);this._documentDiffProvider.setOptions(r),X?this._beginUpdateDecorations():te&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(n)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(n)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio),x.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ei(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new di(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Ro._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),x.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(n){if(n&&(!n.original||!n.modified))throw new Error(n.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(n?n.original:null),this._modifiedEditor.setModel(n?n.modified:null),this._updateDecorationsRunner.cancel(),n&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),n&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire(),this._diffNavigator=this._register(this._instantiationService.createInstance(b,this,{alwaysRevealFirst:!1,findResultLoop:this.getModifiedEditor().getOption(39).loop}))}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(n){return this._modifiedEditor.getVisibleColumnFromPosition(n)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(n,r="api"){this._modifiedEditor.setPosition(n,r)}revealLine(n,r=0){this._modifiedEditor.revealLine(n,r)}revealLineInCenter(n,r=0){this._modifiedEditor.revealLineInCenter(n,r)}revealLineInCenterIfOutsideViewport(n,r=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(n,r)}revealLineNearTop(n,r=0){this._modifiedEditor.revealLineNearTop(n,r)}revealPosition(n,r=0){this._modifiedEditor.revealPosition(n,r)}revealPositionInCenter(n,r=0){this._modifiedEditor.revealPositionInCenter(n,r)}revealPositionInCenterIfOutsideViewport(n,r=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(n,r)}revealPositionNearTop(n,r=0){this._modifiedEditor.revealPositionNearTop(n,r)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(n,r="api"){this._modifiedEditor.setSelection(n,r)}setSelections(n,r="api"){this._modifiedEditor.setSelections(n,r)}revealLines(n,r,x=0){this._modifiedEditor.revealLines(n,r,x)}revealLinesInCenter(n,r,x=0){this._modifiedEditor.revealLinesInCenter(n,r,x)}revealLinesInCenterIfOutsideViewport(n,r,x=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(n,r,x)}revealLinesNearTop(n,r,x=0){this._modifiedEditor.revealLinesNearTop(n,r,x)}revealRange(n,r=0,x=!1,X=!0){this._modifiedEditor.revealRange(n,r,x,X)}revealRangeInCenter(n,r=0){this._modifiedEditor.revealRangeInCenter(n,r)}revealRangeInCenterIfOutsideViewport(n,r=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(n,r)}revealRangeNearTop(n,r=0){this._modifiedEditor.revealRangeNearTop(n,r)}revealRangeNearTopIfOutsideViewport(n,r=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(n,r)}revealRangeAtTop(n,r=0){this._modifiedEditor.revealRangeAtTop(n,r)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}focus(){this._modifiedEditor.focus()}trigger(n,r,x){this._modifiedEditor.trigger(n,r,x)}createDecorationsCollection(n){return this._modifiedEditor.createDecorationsCollection(n)}changeDecorations(n){return this._modifiedEditor.changeDecorations(n)}saveViewState(){const n=this._originalEditor.saveViewState(),r=this._modifiedEditor.saveViewState();return{original:n,modified:r}}restoreViewState(n){if(n&&n.original&&n.modified){const r=n;this._originalEditor.restoreViewState(r.original),this._modifiedEditor.restoreViewState(r.modified)}}layout(n){this._elementSizeObserver.observe(n)}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const n=this._elementSizeObserver.getHeight(),r=this._getReviewHeight(),x=Ro.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Ro.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Ro.ONE_OVERVIEW_WIDTH,right:x+Ro.ONE_OVERVIEW_WIDTH,height:n-r}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Ro.ONE_OVERVIEW_WIDTH,height:n-r}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Ro.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(n,r){return!n&&!r?!0:!n||!r?!1:n.toString()===r.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);const n=this._originalEditor.getModel(),r=this._modifiedEditor.getModel();if(!n||!r)return;this._diffComputationToken++;const x=this._diffComputationToken,X=this._options.maxFileSize*1024*1024,te=ye=>{const Te=ye.getValueLength();return X===0||Te<=X};if(!te(n)||!te(r)){(!Ro._equals(n.uri,this._lastOriginalWarning)||!Ro._equals(r.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=n.uri,this._lastModifiedWarning=r.uri,this._notificationService.warn(Mt.NC("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._documentDiffProvider.computeDiff(n,r,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime}).then(ye=>{x===this._diffComputationToken&&n===this._originalEditor.getModel()&&r===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:ye.identical,quitEarly:ye.quitEarly,changes2:ye.changes,changes:ye.changes.map(Te=>{let qe,ct,ht,Nt,ci=Te.innerChanges;return Te.originalRange.isEmpty?(qe=Te.originalRange.startLineNumber-1,ct=0,ci=void 0):(qe=Te.originalRange.startLineNumber,ct=Te.originalRange.endLineNumberExclusive-1),Te.modifiedRange.isEmpty?(ht=Te.modifiedRange.startLineNumber-1,Nt=0,ci=void 0):(ht=Te.modifiedRange.startLineNumber,Nt=Te.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:qe,originalEndLineNumber:ct,modifiedStartLineNumber:ht,modifiedEndLineNumber:Nt,charChanges:ci==null?void 0:ci.map(Ci=>({originalStartLineNumber:Ci.originalRange.startLineNumber,originalStartColumn:Ci.originalRange.startColumn,originalEndLineNumber:Ci.originalRange.endLineNumber,originalEndColumn:Ci.originalRange.endColumn,modifiedStartLineNumber:Ci.modifiedRange.startLineNumber,modifiedStartColumn:Ci.modifiedRange.startColumn,modifiedEndLineNumber:Ci.modifiedRange.endLineNumber,modifiedEndColumn:Ci.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ye=>{x===this._diffComputationToken&&n===this._originalEditor.getModel()&&r===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const n=this._diffComputationResult?this._diffComputationResult.changes:[],r=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),x=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),X=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(88),te=this._strategy.getEditorsDiffDecorations(n,this._options.ignoreTrimWhitespace,this._options.renderIndicators,X,r,x);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,te.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,te.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(n){const r=Object.assign({},n);return r.inDiffEditor=!0,r.automaticLayout=!1,r.scrollbar=Object.assign({},r.scrollbar||{}),r.scrollbar.vertical="visible",r.folding=!1,r.codeLens=this._options.diffCodeLens,r.fixedOverflowWidgets=!0,r.minimap=Object.assign({},r.minimap||{}),r.minimap.enabled=!1,r}_adjustOptionsForLeftHandSide(n){const r=this._adjustOptionsForSubEditor(n);return this._options.renderSideBySide?r.wordWrapOverride1=this._options.diffWordWrap:(r.wordWrapOverride1="off",r.wordWrapOverride2="off"),n.originalAriaLabel&&(r.ariaLabel=n.originalAriaLabel),this._updateAriaLabel(r),r.readOnly=!this._options.originalEditable,r.dropIntoEditor={enabled:!r.readOnly},r.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},r),{dimension:{height:0,width:0}})}_updateAriaLabel(n){var r;let x=(r=n.ariaLabel)!==null&&r!==void 0?r:"";this._options.accessibilityVerbose?x+=Ae:x&&(x=x.replaceAll(Ae,"")),n.ariaLabel=x}_adjustOptionsForRightHandSide(n){const r=this._adjustOptionsForSubEditor(n);return n.modifiedAriaLabel&&(r.ariaLabel=n.modifiedAriaLabel),this._updateAriaLabel(r),r.wordWrapOverride1=this._options.diffWordWrap,r.revealHorizontalRightPadding=f.BH.revealHorizontalRightPadding.defaultValue+Ro.ENTIRE_DIFF_OVERVIEW_WIDTH,r.scrollbar.verticalHasArrows=!1,r.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},r),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const n=this._elementSizeObserver.getWidth(),r=this._elementSizeObserver.getHeight(),x=this._getReviewHeight(),X=this._strategy.layout();this._originalDomNode.style.width=X+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=n-X+"px",this._modifiedDomNode.style.left=X+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=r-x+"px",this._overviewDomElement.style.width=Ro.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=n-Ro.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Ro.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:X,height:r-x}),this._modifiedEditor.layout({width:n-X-(this._options.renderOverviewRuler?Ro.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:r-x}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(r-x,n,x),this._layoutOverviewViewport()}_layoutOverviewViewport(){const n=this._computeOverviewViewport();n?(this._overviewViewportDomElement.setTop(n.top),this._overviewViewportDomElement.setHeight(n.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const n=this._modifiedEditor.getLayoutInfo();if(!n)return null;const r=this._modifiedEditor.getScrollTop(),x=this._modifiedEditor.getScrollHeight(),X=Math.max(0,n.height),te=Math.max(0,X-2*0),ye=x>0?te/x:0,Te=Math.max(0,Math.floor(n.height*ye)),qe=Math.floor(r*ye);return{height:Te,top:qe}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(n){var r;(r=this._strategy)===null||r===void 0||r.dispose(),this._strategy=n,this._boundarySashes&&n.setBoundarySashes(this._boundarySashes),n.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(n,r){const x=this._diffComputationResult?this._diffComputationResult.changes:[];if(x.length===0||n<r(x[0]))return null;let X=0,te=x.length-1;for(;X<te;){const ye=Math.floor((X+te)/2),Te=r(x[ye]),qe=ye+1<=te?r(x[ye+1]):1073741824;n<Te?te=ye-1:n>=qe?X=ye+1:(X=ye,te=ye)}return x[X]}_getEquivalentLineForOriginalLineNumber(n){const r=this._getLineChangeAtOrBeforeLineNumber(n,qe=>qe.originalStartLineNumber);if(!r)return n;const x=r.originalStartLineNumber+(r.originalEndLineNumber>0?-1:0),X=r.modifiedStartLineNumber+(r.modifiedEndLineNumber>0?-1:0),te=r.originalEndLineNumber>0?r.originalEndLineNumber-r.originalStartLineNumber+1:0,ye=r.modifiedEndLineNumber>0?r.modifiedEndLineNumber-r.modifiedStartLineNumber+1:0,Te=n-x;return Te<=te?X+Math.min(Te,ye):X+ye-te+Te}_getEquivalentLineForModifiedLineNumber(n){const r=this._getLineChangeAtOrBeforeLineNumber(n,qe=>qe.modifiedStartLineNumber);if(!r)return n;const x=r.originalStartLineNumber+(r.originalEndLineNumber>0?-1:0),X=r.modifiedStartLineNumber+(r.modifiedEndLineNumber>0?-1:0),te=r.originalEndLineNumber>0?r.originalEndLineNumber-r.originalStartLineNumber+1:0,ye=r.modifiedEndLineNumber>0?r.modifiedEndLineNumber-r.modifiedStartLineNumber+1:0,Te=n-X;return Te<=ye?x+Math.min(Te,te):x+te-ye+Te}getDiffLineInformationForOriginal(n){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(n)}:null}getDiffLineInformationForModified(n){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(n)}:null}};Je.ONE_OVERVIEW_WIDTH=15,Je.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Je.UPDATE_DIFF_DECORATIONS_DELAY=200,Je=ce([We(3,Oi.p),We(4,ni.i6),We(5,Zt.TG),We(6,I.$),We(7,at.XE),We(8,_t.lT),We(9,ai.i),We(10,xt.ek)],Je);class vt extends u.JT{constructor(n){super(),this._dataSource=n,this._insertColor=null,this._removeColor=null}applyColors(n){const r=n.getColor(Ht.P6Y)||(n.getColor(Ht.ypS)||Ht.CzK).transparent(2),x=n.getColor(Ht.F9q)||(n.getColor(Ht.P4M)||Ht.keg).transparent(2),X=!r.equals(this._insertColor)||!x.equals(this._removeColor);return this._insertColor=r,this._removeColor=x,X}getEditorsDiffDecorations(n,r,x,X,te,ye){ye=ye.sort((ht,Nt)=>ht.afterLineNumber-Nt.afterLineNumber),te=te.sort((ht,Nt)=>ht.afterLineNumber-Nt.afterLineNumber);const Te=this._getViewZones(n,te,ye,x),qe=this._getOriginalEditorDecorations(Te,n,r,x),ct=this._getModifiedEditorDecorations(Te,n,r,x,X);return{original:{decorations:qe.decorations,overviewZones:qe.overviewZones,zones:Te.original},modified:{decorations:ct.decorations,overviewZones:ct.overviewZones,zones:Te.modified}}}setBoundarySashes(n){}}class St{constructor(n){this._source=n,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class wt{constructor(n,r,x,X,te){this._lineChanges=n,this._originalForeignVZ=r,this._modifiedForeignVZ=x,this._originalEditor=X,this._modifiedEditor=te}static _getViewLineCount(n,r,x){const X=n.getModel(),te=n._getViewModel();if(X&&te){const ye=Hn(X,te,r,x);return ye.endLineNumber-ye.startLineNumber+1}return x-r+1}getViewZones(){const n=this._originalEditor.getOption(64),r=this._modifiedEditor.getOption(64),x=this._originalEditor.getOption(141).wrappingColumn!==-1,X=this._modifiedEditor.getOption(141).wrappingColumn!==-1,te=x||X,ye=this._originalEditor.getModel(),Te=this._originalEditor._getViewModel().coordinatesConverter,qe=this._modifiedEditor._getViewModel().coordinatesConverter,ct={original:[],modified:[]};let ht=0,Nt=0,ci=0,Ci=0,Gi=0,Vn=0;const vn=(us,Zn)=>us.afterLineNumber-Zn.afterLineNumber,Qn=(us,Zn)=>{if(Zn.domNode===null&&us.length>0){const bn=us[us.length-1];if(bn.afterLineNumber===Zn.afterLineNumber&&bn.domNode===null){bn.heightInLines+=Zn.heightInLines;return}}us.push(Zn)},Gn=new St(this._modifiedForeignVZ),is=new St(this._originalForeignVZ);let In=1,Ls=1;for(let us=0,Zn=this._lineChanges.length;us<=Zn;us++){const bn=us<Zn?this._lineChanges[us]:null;bn!==null?(ci=bn.originalStartLineNumber+(bn.originalEndLineNumber>0?-1:0),Ci=bn.modifiedStartLineNumber+(bn.modifiedEndLineNumber>0?-1:0),Nt=bn.originalEndLineNumber>0?wt._getViewLineCount(this._originalEditor,bn.originalStartLineNumber,bn.originalEndLineNumber):0,ht=bn.modifiedEndLineNumber>0?wt._getViewLineCount(this._modifiedEditor,bn.modifiedStartLineNumber,bn.modifiedEndLineNumber):0,Gi=Math.max(bn.originalStartLineNumber,bn.originalEndLineNumber),Vn=Math.max(bn.modifiedStartLineNumber,bn.modifiedEndLineNumber)):(ci+=1e7+Nt,Ci+=1e7+ht,Gi=ci,Vn=Ci);let ss=[],gs=[];if(te){let Yn;bn?bn.originalEndLineNumber>0?Yn=bn.originalStartLineNumber-In:Yn=bn.modifiedStartLineNumber-Ls:Yn=ye.getLineCount()-In+1;for(let $s=0;$s<Yn;$s++){const Do=In+$s,so=Ls+$s,Qo=Te.getModelLineViewLineCount(Do),cr=qe.getModelLineViewLineCount(so);Qo<cr?ss.push({afterLineNumber:Do,heightInLines:cr-Qo,domNode:null,marginDomNode:null}):Qo>cr&&gs.push({afterLineNumber:so,heightInLines:Qo-cr,domNode:null,marginDomNode:null})}bn&&(In=(bn.originalEndLineNumber>0?bn.originalEndLineNumber:bn.originalStartLineNumber)+1,Ls=(bn.modifiedEndLineNumber>0?bn.modifiedEndLineNumber:bn.modifiedStartLineNumber)+1)}for(;Gn.current&&Gn.current.afterLineNumber<=Vn;){let Yn;Gn.current.afterLineNumber<=Ci?Yn=ci-Ci+Gn.current.afterLineNumber:Yn=Gi;let $s=null;bn&&bn.modifiedStartLineNumber<=Gn.current.afterLineNumber&&Gn.current.afterLineNumber<=bn.modifiedEndLineNumber&&($s=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),ss.push({afterLineNumber:Yn,heightInLines:Gn.current.height/r,domNode:null,marginDomNode:$s}),Gn.advance()}for(;is.current&&is.current.afterLineNumber<=Gi;){let Yn;is.current.afterLineNumber<=ci?Yn=Ci-ci+is.current.afterLineNumber:Yn=Vn,gs.push({afterLineNumber:Yn,heightInLines:is.current.height/n,domNode:null}),is.advance()}if(bn!==null&&Bi(bn)){const Yn=this._produceOriginalFromDiff(bn,Nt,ht);Yn&&ss.push(Yn)}if(bn!==null&&ki(bn)){const Yn=this._produceModifiedFromDiff(bn,Nt,ht);Yn&&gs.push(Yn)}let Fs=0,qn=0;for(ss=ss.sort(vn),gs=gs.sort(vn);Fs<ss.length&&qn<gs.length;){const Yn=ss[Fs],$s=gs[qn],Do=Yn.afterLineNumber-ci,so=$s.afterLineNumber-Ci;Do<so?(Qn(ct.original,Yn),Fs++):so<Do?(Qn(ct.modified,$s),qn++):Yn.shouldNotShrink?(Qn(ct.original,Yn),Fs++):$s.shouldNotShrink?(Qn(ct.modified,$s),qn++):Yn.heightInLines>=$s.heightInLines?(Yn.heightInLines-=$s.heightInLines,qn++):($s.heightInLines-=Yn.heightInLines,Fs++)}for(;Fs<ss.length;)Qn(ct.original,ss[Fs]),Fs++;for(;qn<gs.length;)Qn(ct.modified,gs[qn]),qn++}return{original:wt._ensureDomNodes(ct.original),modified:wt._ensureDomNodes(ct.modified)}}static _ensureDomNodes(n){return n.map(r=>(r.domNode||(r.domNode=Cn()),r))}}function Lt(Ie,n,r,x,X){return{range:new a.e(Ie,n,r,x),options:X}}const Bt={arrowRevertChange:tn.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new It.W5(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(Mt.NC("revertChangeHoverMessage","Click to revert change")),glyphMarginClassName:"arrow-revert-change "+Wt.k.asClassName(tt.l.arrowRight),zIndex:10001}),charDelete:tn.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:tn.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:tn.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:tn.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:tn.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:tn.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Wt.k.asClassName(Q),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:tn.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:tn.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Wt.k.asClassName(ae),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:tn.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class ei extends vt{constructor(n,r,x){super(n),this._disableSash=r===!1,this._defaultRatio=x,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new gt.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(X=>this._onSashDrag(X)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(n,r){this._defaultRatio=r;const x=n===!1;this._disableSash!==x&&(this._disableSash=x,this._sash.state=this._disableSash?0:3)}layout(n=this._sashRatio||this._defaultRatio){const x=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Je.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let X=Math.floor((n||this._defaultRatio)*x);const te=Math.floor(this._defaultRatio*x);return X=this._disableSash?te:X||te,x>ei.MINIMUM_EDITOR_WIDTH*2?(X<ei.MINIMUM_EDITOR_WIDTH&&(X=ei.MINIMUM_EDITOR_WIDTH),X>x-ei.MINIMUM_EDITOR_WIDTH&&(X=x-ei.MINIMUM_EDITOR_WIDTH)):X=te,this._sashPosition!==X&&(this._sashPosition=X),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(n){const x=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Je.ENTIRE_DIFF_OVERVIEW_WIDTH:0),X=this.layout((this._startSashPosition+(n.currentX-n.startX))/x);this._sashRatio=X/x,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=this._defaultRatio,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(n){return 0}getVerticalSashLeft(n){return this._sashPosition}getVerticalSashHeight(n){return this._dataSource.getHeight()}setBoundarySashes(n){this._sash.orthogonalEndSash=n.bottom}_getViewZones(n,r,x){const X=this._dataSource.getOriginalEditor(),te=this._dataSource.getModifiedEditor();return new pi(n,r,x,X,te).getViewZones()}_getOriginalEditorDecorations(n,r,x,X){const te=this._dataSource.getOriginalEditor(),ye=String(this._removeColor),Te={decorations:[],overviewZones:[]},qe=te.getModel(),ct=te._getViewModel();for(const ht of r)if(ki(ht)){Te.decorations.push({range:new a.e(ht.originalStartLineNumber,1,ht.originalEndLineNumber,1073741824),options:X?Bt.lineDeleteWithSign:Bt.lineDelete}),(!Bi(ht)||!ht.charChanges)&&Te.decorations.push(Lt(ht.originalStartLineNumber,1,ht.originalEndLineNumber,1073741824,Bt.charDeleteWholeLine));const Nt=Hn(qe,ct,ht.originalStartLineNumber,ht.originalEndLineNumber);if(Te.overviewZones.push(new Xi.EY(Nt.startLineNumber,Nt.endLineNumber,0,ye)),ht.charChanges){for(const ci of ht.charChanges)if(Ri(ci))if(x)for(let Ci=ci.originalStartLineNumber;Ci<=ci.originalEndLineNumber;Ci++){let Gi,Vn;Ci===ci.originalStartLineNumber?Gi=ci.originalStartColumn:Gi=qe.getLineFirstNonWhitespaceColumn(Ci),Ci===ci.originalEndLineNumber?Vn=ci.originalEndColumn:Vn=qe.getLineLastNonWhitespaceColumn(Ci),Te.decorations.push(Lt(Ci,Gi,Ci,Vn,Bt.charDelete))}else Te.decorations.push(Lt(ci.originalStartLineNumber,ci.originalStartColumn,ci.originalEndLineNumber,ci.originalEndColumn,Bt.charDelete))}}return Te}_getModifiedEditorDecorations(n,r,x,X,te){const ye=this._dataSource.getModifiedEditor(),Te=String(this._insertColor),qe={decorations:[],overviewZones:[]},ct=ye.getModel(),ht=ye._getViewModel();for(const Nt of r){if(te)if(Nt.modifiedEndLineNumber>0)qe.decorations.push({range:new a.e(Nt.modifiedStartLineNumber,1,Nt.modifiedStartLineNumber,1),options:Bt.arrowRevertChange});else{const ci=n.modified.find(Ci=>Ci.afterLineNumber===Nt.modifiedStartLineNumber);ci&&(ci.marginDomNode=ts())}if(Bi(Nt)){qe.decorations.push({range:new a.e(Nt.modifiedStartLineNumber,1,Nt.modifiedEndLineNumber,1073741824),options:X?Bt.lineInsertWithSign:Bt.lineInsert}),(!ki(Nt)||!Nt.charChanges)&&qe.decorations.push(Lt(Nt.modifiedStartLineNumber,1,Nt.modifiedEndLineNumber,1073741824,Bt.charInsertWholeLine));const ci=Hn(ct,ht,Nt.modifiedStartLineNumber,Nt.modifiedEndLineNumber);if(qe.overviewZones.push(new Xi.EY(ci.startLineNumber,ci.endLineNumber,0,Te)),Nt.charChanges){for(const Ci of Nt.charChanges)if(Wi(Ci))if(x)for(let Gi=Ci.modifiedStartLineNumber;Gi<=Ci.modifiedEndLineNumber;Gi++){let Vn,vn;Gi===Ci.modifiedStartLineNumber?Vn=Ci.modifiedStartColumn:Vn=ct.getLineFirstNonWhitespaceColumn(Gi),Gi===Ci.modifiedEndLineNumber?vn=Ci.modifiedEndColumn:vn=ct.getLineLastNonWhitespaceColumn(Gi),qe.decorations.push(Lt(Gi,Vn,Gi,vn,Bt.charInsert))}else qe.decorations.push(Lt(Ci.modifiedStartLineNumber,Ci.modifiedStartColumn,Ci.modifiedEndLineNumber,Ci.modifiedEndColumn,Bt.charInsert))}}}return qe}}ei.MINIMUM_EDITOR_WIDTH=100;class pi extends wt{constructor(n,r,x,X,te){super(n,r,x,X,te)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(n,r,x){return x>r?{afterLineNumber:Math.max(n.originalStartLineNumber,n.originalEndLineNumber),heightInLines:x-r,domNode:null}:null}_produceModifiedFromDiff(n,r,x){return r>x?{afterLineNumber:Math.max(n.modifiedStartLineNumber,n.modifiedEndLineNumber),heightInLines:r-x,domNode:null}:null}}class di extends vt{constructor(n,r){super(n),this._decorationsLeft=n.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(n.getOriginalEditor().onDidLayoutChange(x=>{this._decorationsLeft!==x.decorationsLeft&&(this._decorationsLeft=x.decorationsLeft,n.relayoutEditors())}))}setEnableSplitViewResizing(n){}_getViewZones(n,r,x,X){const te=this._dataSource.getOriginalEditor(),ye=this._dataSource.getModifiedEditor();return new hi(n,r,x,te,ye,X).getViewZones()}_getOriginalEditorDecorations(n,r,x,X){const te=String(this._removeColor),ye={decorations:[],overviewZones:[]},Te=this._dataSource.getOriginalEditor(),qe=Te.getModel(),ct=Te._getViewModel();let ht=0;for(const Nt of r)if(ki(Nt)){for(ye.decorations.push({range:new a.e(Nt.originalStartLineNumber,1,Nt.originalEndLineNumber,1073741824),options:Bt.lineDeleteMargin});ht<n.modified.length;){const Gi=n.modified[ht];if(Gi.diff&&Gi.diff.originalStartLineNumber>=Nt.originalStartLineNumber)break;ht++}let ci=0;if(ht<n.modified.length){const Gi=n.modified[ht];Gi.diff&&Gi.diff.originalStartLineNumber===Nt.originalStartLineNumber&&Gi.diff.originalEndLineNumber===Nt.originalEndLineNumber&&Gi.diff.modifiedStartLineNumber===Nt.modifiedStartLineNumber&&Gi.diff.modifiedEndLineNumber===Nt.modifiedEndLineNumber&&(ci=Gi.heightInLines)}const Ci=Hn(qe,ct,Nt.originalStartLineNumber,Nt.originalEndLineNumber);ye.overviewZones.push(new Xi.EY(Ci.startLineNumber,Ci.endLineNumber,ci,te))}return ye}_getModifiedEditorDecorations(n,r,x,X,te){const ye=this._dataSource.getModifiedEditor(),Te=String(this._insertColor),qe={decorations:[],overviewZones:[]},ct=ye.getModel(),ht=ye._getViewModel();for(const Nt of r)if(Bi(Nt)){qe.decorations.push({range:new a.e(Nt.modifiedStartLineNumber,1,Nt.modifiedEndLineNumber,1073741824),options:X?Bt.lineInsertWithSign:Bt.lineInsert});const ci=Hn(ct,ht,Nt.modifiedStartLineNumber,Nt.modifiedEndLineNumber);if(qe.overviewZones.push(new Xi.EY(ci.startLineNumber,ci.endLineNumber,0,Te)),Nt.charChanges){for(const Ci of Nt.charChanges)if(Wi(Ci))if(x)for(let Gi=Ci.modifiedStartLineNumber;Gi<=Ci.modifiedEndLineNumber;Gi++){let Vn,vn;Gi===Ci.modifiedStartLineNumber?Vn=Ci.modifiedStartColumn:Vn=ct.getLineFirstNonWhitespaceColumn(Gi),Gi===Ci.modifiedEndLineNumber?vn=Ci.modifiedEndColumn:vn=ct.getLineLastNonWhitespaceColumn(Gi),qe.decorations.push(Lt(Gi,Vn,Gi,vn,Bt.charInsert))}else qe.decorations.push(Lt(Ci.modifiedStartLineNumber,Ci.modifiedStartColumn,Ci.modifiedEndLineNumber,Ci.modifiedEndColumn,Bt.charInsert))}else qe.decorations.push(Lt(Nt.modifiedStartLineNumber,1,Nt.modifiedEndLineNumber,1073741824,Bt.charInsertWholeLine))}return qe}layout(){return Math.max(5,this._decorationsLeft)}}class hi extends wt{constructor(n,r,x,X,te,ye){super(n,r,x,X,te),this._originalModel=X.getModel(),this._renderIndicators=ye,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const n=super.getViewZones();return this._finalize(n),n}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const n=document.createElement("div");return n.className="inline-added-margin-view-zone",n}_produceOriginalFromDiff(n,r,x){const X=document.createElement("div");return X.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(n.originalStartLineNumber,n.originalEndLineNumber),heightInLines:x,domNode:document.createElement("div"),marginDomNode:X}}_produceModifiedFromDiff(n,r,x){const X=document.createElement("div");X.className=`view-lines line-delete ${ot.S}`;const te=document.createElement("div");te.className="inline-deleted-margin-view-zone";const ye={shouldNotShrink:!0,afterLineNumber:n.modifiedEndLineNumber===0?n.modifiedStartLineNumber:n.modifiedStartLineNumber-1,heightInLines:r,minWidthInPx:0,domNode:X,marginDomNode:te,diff:{originalStartLineNumber:n.originalStartLineNumber,originalEndLineNumber:n.originalEndLineNumber,modifiedStartLineNumber:n.modifiedStartLineNumber,modifiedEndLineNumber:n.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Te=n.originalStartLineNumber;Te<=n.originalEndLineNumber;Te++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Te),null,null);return this._pendingLineChange.push(n),this._pendingViewZones.push(ye),ye}_finalize(n){const r=this._modifiedEditor.getOptions(),x=this._modifiedEditor.getModel().getOptions().tabSize,X=r.get(48),te=r.get(31),ye=X.typicalHalfwidthCharacterWidth,Te=r.get(100),qe=this._originalModel.mightContainNonBasicASCII(),ct=this._originalModel.mightContainRTL(),ht=r.get(64),ci=r.get(140).decorationsWidth,Ci=r.get(113),Gi=r.get(95),Vn=r.get(90),vn=r.get(49),Qn=this._lineBreaksComputer.finalize();let Gn=0;for(let is=0;is<this._pendingLineChange.length;is++){const In=this._pendingLineChange[is],Ls=this._pendingViewZones[is],us=Ls.domNode;(0,Vt.N)(us,X);const Zn=Ls.marginDomNode;(0,Vt.N)(Zn,X);const bn=[];if(In.charChanges)for(const so of In.charChanges)Ri(so)&&bn.push(new J.$t(new a.e(so.originalStartLineNumber,so.originalStartColumn,so.originalEndLineNumber,so.originalEndColumn),"char-delete",0));const ss=bn.length>0,gs=new ji.HT(1e4);let Fs=0,qn=0,Yn=null;for(let so=In.originalStartLineNumber;so<=In.originalEndLineNumber;so++){const Qo=so-In.originalStartLineNumber,cr=this._originalModel.tokenization.getLineTokens(so),_r=cr.getLineContent(),Pr=Qn[Gn++],nr=sn.Kp.filter(bn,so,1,_r.length+1);if(Pr){let Ol=0;for(const Al of Pr.breakOffsets){const Vh=cr.sliceAndInflate(Ol,Al,0),Hh=_r.substring(Ol,Al);Fs=Math.max(Fs,this._renderOriginalLine(qn++,Hh,Vh,sn.Kp.extractWrapped(nr,Ol,Al),ss,qe,ct,X,te,ht,ci,Ci,Gi,Vn,vn,x,gs,Zn)),Ol=Al}for(Yn||(Yn=[]);Yn.length<Qo;)Yn[Yn.length]=1;Yn[Qo]=Pr.breakOffsets.length,Ls.heightInLines+=Pr.breakOffsets.length-1;const Wc=document.createElement("div");Wc.className="gutter-delete",n.original.push({afterLineNumber:so,afterColumn:0,heightInLines:Pr.breakOffsets.length-1,domNode:Cn(),marginDomNode:Wc})}else Fs=Math.max(Fs,this._renderOriginalLine(qn++,_r,cr,nr,ss,qe,ct,X,te,ht,ci,Ci,Gi,Vn,vn,x,gs,Zn))}Fs+=Te;const $s=gs.build(),Do=xe?xe.createHTML($s):$s;if(us.innerHTML=Do,Ls.minWidthInPx=Fs*ye,Yn){const so=In.originalEndLineNumber-In.originalStartLineNumber;for(;Yn.length<=so;)Yn[Yn.length]=1}Ls.diff.viewLineCounts=Yn}n.original.sort((is,In)=>is.afterLineNumber-In.afterLineNumber)}_renderOriginalLine(n,r,x,X,te,ye,Te,qe,ct,ht,Nt,ci,Ci,Gi,Vn,vn,Qn,Gn){Qn.appendString('<div class="view-line'),te||Qn.appendString(" char-delete"),Qn.appendString('" style="top:'),Qn.appendString(String(n*ht)),Qn.appendString('px;width:1000000px;">');const is=J.wA.isBasicASCII(r,ye),In=J.wA.containsRTL(r,is,Te),Ls=(0,$.d1)(new $.IJ(qe.isMonospace&&!ct,qe.canUseHalfwidthRightwardsArrow,r,!1,is,In,0,x,X,vn,0,qe.spaceWidth,qe.middotWidth,qe.wsmiddotWidth,ci,Ci,Gi,Vn!==f.n0.OFF,null),Qn);if(Qn.appendString("</div>"),this._renderIndicators){const us=document.createElement("div");us.className=`delete-sign ${Wt.k.asClassName(ae)}`,us.setAttribute("style",`position:absolute;top:${n*ht}px;width:${Nt}px;height:${ht}px;right:0;`),Gn.appendChild(us)}return Ls.characterMapping.getHorizontalOffset(Ls.characterMapping.length)}}function yi(Ie,n){return(0,f.NY)(Ie,n,["off","on","inherit"])}function Bi(Ie){return Ie.modifiedEndLineNumber>0}function ki(Ie){return Ie.originalEndLineNumber>0}function Wi(Ie){return Ie.modifiedStartLineNumber===Ie.modifiedEndLineNumber?Ie.modifiedEndColumn-Ie.modifiedStartColumn>0:Ie.modifiedEndLineNumber-Ie.modifiedStartLineNumber>0}function Ri(Ie){return Ie.originalStartLineNumber===Ie.originalEndLineNumber?Ie.originalEndColumn-Ie.originalStartColumn>0:Ie.originalEndLineNumber-Ie.originalStartLineNumber>0}function Cn(){const Ie=document.createElement("div");return Ie.className="diagonal-fill",Ie}function ts(){const Ie=document.createElement("div");return Ie.className="arrow-revert-change "+Wt.k.asClassName(tt.l.arrowRight),ue.$("div",{},Ie)}function Hn(Ie,n,r,x){const X=Ie.getLineCount();return r=Math.min(X,Math.max(1,r)),x=Math.min(X,Math.max(1,x)),n.coordinatesConverter.convertModelRangeToViewRange(new a.e(r,Ie.getLineMinColumn(r),x,Ie.getLineMaxColumn(x)))}function Ss(Ie,n){return{enableSplitViewResizing:(0,f.O7)(Ie.enableSplitViewResizing,n.enableSplitViewResizing),splitViewDefaultRatio:(0,f.L_)(Ie.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,f.O7)(Ie.renderSideBySide,n.renderSideBySide),renderMarginRevertIcon:(0,f.O7)(Ie.renderMarginRevertIcon,n.renderMarginRevertIcon),maxComputationTime:(0,f.Zc)(Ie.maxComputationTime,n.maxComputationTime,0,1073741824),maxFileSize:(0,f.Zc)(Ie.maxFileSize,n.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,f.O7)(Ie.ignoreTrimWhitespace,n.ignoreTrimWhitespace),renderIndicators:(0,f.O7)(Ie.renderIndicators,n.renderIndicators),originalEditable:(0,f.O7)(Ie.originalEditable,n.originalEditable),diffCodeLens:(0,f.O7)(Ie.diffCodeLens,n.diffCodeLens),renderOverviewRuler:(0,f.O7)(Ie.renderOverviewRuler,n.renderOverviewRuler),diffWordWrap:yi(Ie.diffWordWrap,n.diffWordWrap),diffAlgorithm:(0,f.NY)(Ie.diffAlgorithm,n.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,f.O7)(Ie.accessibilityVerbose,n.accessibilityVerbose),experimental:{collapseUnchangedRegions:!1}}}function mn(Ie,n){return{enableSplitViewResizing:Ie.enableSplitViewResizing!==n.enableSplitViewResizing,renderSideBySide:Ie.renderSideBySide!==n.renderSideBySide,renderMarginRevertIcon:Ie.renderMarginRevertIcon!==n.renderMarginRevertIcon,maxComputationTime:Ie.maxComputationTime!==n.maxComputationTime,maxFileSize:Ie.maxFileSize!==n.maxFileSize,ignoreTrimWhitespace:Ie.ignoreTrimWhitespace!==n.ignoreTrimWhitespace,renderIndicators:Ie.renderIndicators!==n.renderIndicators,originalEditable:Ie.originalEditable!==n.originalEditable,diffCodeLens:Ie.diffCodeLens!==n.diffCodeLens,renderOverviewRuler:Ie.renderOverviewRuler!==n.renderOverviewRuler,diffWordWrap:Ie.diffWordWrap!==n.diffWordWrap,diffAlgorithm:Ie.diffAlgorithm!==n.diffAlgorithm,accessibilityVerbose:Ie.accessibilityVerbose!==n.accessibilityVerbose}}(0,at.Ic)((Ie,n)=>{const r=Ie.getColor(Ht.L_t);n.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${r} 12.5%,
			#0000 12.5%, #0000 50%,
			${r} 50%, ${r} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var wi=t(36031),Fi=t(5007),rn=t(17979),jn=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},ns=function(Ie,n){return function(r,x){n(r,x,Ie)}},ys=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};let Ms=class extends u.JT{constructor(n){super(),this._themeService=n,this._onWillCreateCodeEditor=this._register(new E.Q5),this._onCodeEditorAdd=this._register(new E.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new E.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new E.Q5),this._onDiffEditorAdd=this._register(new E.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new E.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new rn.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(n){this._codeEditors[n.getId()]=n,this._onCodeEditorAdd.fire(n)}removeCodeEditor(n){delete this._codeEditors[n.getId()]&&this._onCodeEditorRemove.fire(n)}listCodeEditors(){return Object.keys(this._codeEditors).map(n=>this._codeEditors[n])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(n){this._diffEditors[n.getId()]=n,this._onDiffEditorAdd.fire(n)}removeDiffEditor(n){delete this._diffEditors[n.getId()]&&this._onDiffEditorRemove.fire(n)}listDiffEditors(){return Object.keys(this._diffEditors).map(n=>this._diffEditors[n])}getFocusedCodeEditor(){let n=null;const r=this.listCodeEditors();for(const x of r){if(x.hasTextFocus())return x;x.hasWidgetFocus()&&(n=x)}return n}removeDecorationType(n){const r=this._decorationOptionProviders.get(n);r&&(r.refCount--,r.refCount<=0&&(this._decorationOptionProviders.delete(n),r.dispose(),this.listCodeEditors().forEach(x=>x.removeDecorationsByType(n))))}setModelProperty(n,r,x){const X=n.toString();let te;this._modelProperties.has(X)?te=this._modelProperties.get(X):(te=new Map,this._modelProperties.set(X,te)),te.set(r,x)}getModelProperty(n,r){const x=n.toString();if(this._modelProperties.has(x))return this._modelProperties.get(x).get(r)}openCodeEditor(n,r,x){return ys(this,void 0,void 0,function*(){for(const X of this._codeEditorOpenHandlers){const te=yield X(n,r,x);if(te!==null)return te}return null})}registerCodeEditorOpenHandler(n){const r=this._codeEditorOpenHandlers.unshift(n);return(0,u.OF)(r)}};Ms=jn([ns(0,at.XE)],Ms);class ws{constructor(n){this._styleSheet=n}}var Mn=t(53061),Ds=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},oo=function(Ie,n){return function(r,x){n(r,x,Ie)}},Eo=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};let To=class extends Ms{constructor(n,r){super(r),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=n.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((x,X,te)=>Eo(this,void 0,void 0,function*(){return X?this.doOpenEditor(X,x):null}))}_checkContextKey(){let n=!1;for(const r of this.listCodeEditors())if(!r.isSimpleWidget){n=!0;break}this._editorIsOpen.set(n)}setActiveCodeEditor(n){this._activeCodeEditor=n}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(n,r){if(!this.findModel(n,r.resource)){if(r.resource){const te=r.resource.scheme;if(te===Fi.lg.http||te===Fi.lg.https)return(0,ue.V3)(r.resource.toString()),n}return null}const X=r.options?r.options.selection:null;if(X)if(typeof X.endLineNumber=="number"&&typeof X.endColumn=="number")n.setSelection(X),n.revealRangeInCenter(X,1);else{const te={lineNumber:X.startLineNumber,column:X.startColumn};n.setPosition(te),n.revealPositionInCenter(te,1)}return n}findModel(n,r){const x=n.getModel();return x&&x.uri.toString()!==r.toString()?null:x}};To=Ds([oo(0,ni.i6),oo(1,at.XE)],To),(0,Mn.z)(I.$,To,0);const Xs=(0,Zt.yh)("layoutService");var Ws=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Es=function(Ie,n){return function(r,x){n(r,x,Ie)}};let Vs=class{get dimension(){return this._dimension||(this._dimension=ue.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var n;(n=this._codeEditorService.getFocusedCodeEditor())===null||n===void 0||n.focus()}constructor(n){this._codeEditorService=n,this.onDidLayout=E.ju.None,this.offset={top:0,quickPickTop:0}}};Vs=Ws([Es(0,I.$)],Vs);let yo=class extends Vs{get hasContainer(){return!1}get container(){return this._container}constructor(n,r){super(r),this._container=n}};yo=Ws([Es(1,I.$)],yo),(0,Mn.z)(Xs,Vs,1);var $t=t(87068),re=t(5267),ke=t(48900),lt=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Ge=function(Ie,n){return function(r,x){n(r,x,Ie)}},w=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};const H=!1;function ie(Ie){return Ie.scheme===Fi.lg.file?Ie.fsPath:Ie.path}let De=0;class Fe{constructor(n,r,x,X,te,ye,Te){this.id=++De,this.type=0,this.actual=n,this.label=n.label,this.confirmBeforeUndo=n.confirmBeforeUndo||!1,this.resourceLabel=r,this.strResource=x,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=X,this.groupOrder=te,this.sourceId=ye,this.sourceOrder=Te,this.isValid=!0}setValid(n){this.isValid=n}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Qe{constructor(n,r){this.resourceLabel=n,this.reason=r}}class ft{constructor(){this.elements=new Map}createMessage(){const n=[],r=[];for(const[,X]of this.elements)(X.reason===0?n:r).push(X.resourceLabel);const x=[];return n.length>0&&x.push(Mt.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",n.join(", "))),r.length>0&&x.push(Mt.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",r.join(", "))),x.join(`
`)}get size(){return this.elements.size}has(n){return this.elements.has(n)}set(n,r){this.elements.set(n,r)}delete(n){return this.elements.delete(n)}}class mt{constructor(n,r,x,X,te,ye,Te){this.id=++De,this.type=1,this.actual=n,this.label=n.label,this.confirmBeforeUndo=n.confirmBeforeUndo||!1,this.resourceLabels=r,this.strResources=x,this.groupId=X,this.groupOrder=te,this.sourceId=ye,this.sourceOrder=Te,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(n,r,x){this.removedResources||(this.removedResources=new ft),this.removedResources.has(r)||this.removedResources.set(r,new Qe(n,x))}setValid(n,r,x){x?this.invalidatedResources&&(this.invalidatedResources.delete(r),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new ft),this.invalidatedResources.has(r)||this.invalidatedResources.set(r,new Qe(n,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Pt{constructor(n,r){this.resourceLabel=n,this.strResource=r,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const n of this._past)n.type===1&&n.removeResource(this.resourceLabel,this.strResource,0);for(const n of this._future)n.type===1&&n.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const n=[];n.push(`* ${this.strResource}:`);for(let r=0;r<this._past.length;r++)n.push(`   * [UNDO] ${this._past[r]}`);for(let r=this._future.length-1;r>=0;r--)n.push(`   * [REDO] ${this._future[r]}`);return n.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(n,r){n.type===1?n.setValid(this.resourceLabel,this.strResource,r):n.setValid(r)}setElementsValidFlag(n,r){for(const x of this._past)r(x.actual)&&this._setElementValidFlag(x,n);for(const x of this._future)r(x.actual)&&this._setElementValidFlag(x,n)}pushElement(n){for(const r of this._future)r.type===1&&r.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(n),this.versionId++}createSnapshot(n){const r=[];for(let x=0,X=this._past.length;x<X;x++)r.push(this._past[x].id);for(let x=this._future.length-1;x>=0;x--)r.push(this._future[x].id);return new ke.YO(n,r)}restoreSnapshot(n){const r=n.elements.length;let x=!0,X=0,te=-1;for(let Te=0,qe=this._past.length;Te<qe;Te++,X++){const ct=this._past[Te];x&&(X>=r||ct.id!==n.elements[X])&&(x=!1,te=0),!x&&ct.type===1&&ct.removeResource(this.resourceLabel,this.strResource,0)}let ye=-1;for(let Te=this._future.length-1;Te>=0;Te--,X++){const qe=this._future[Te];x&&(X>=r||qe.id!==n.elements[X])&&(x=!1,ye=Te),!x&&qe.type===1&&qe.removeResource(this.resourceLabel,this.strResource,0)}te!==-1&&(this._past=this._past.slice(0,te)),ye!==-1&&(this._future=this._future.slice(ye+1)),this.versionId++}getElements(){const n=[],r=[];for(const x of this._past)n.push(x.actual);for(const x of this._future)r.push(x.actual);return{past:n,future:r}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(n,r){for(let x=this._past.length-1;x>=0;x--)if(this._past[x]===n){r.has(this.strResource)?this._past[x]=r.get(this.strResource):this._past.splice(x,1);break}this.versionId++}splitFutureWorkspaceElement(n,r){for(let x=this._future.length-1;x>=0;x--)if(this._future[x]===n){r.has(this.strResource)?this._future[x]=r.get(this.strResource):this._future.splice(x,1);break}this.versionId++}moveBackward(n){this._past.pop(),this._future.push(n),this.versionId++}moveForward(n){this._future.pop(),this._past.push(n),this.versionId++}}class Tt{constructor(n){this.editStacks=n,this._versionIds=[];for(let r=0,x=this.editStacks.length;r<x;r++)this._versionIds[r]=this.editStacks[r].versionId}isValid(){for(let n=0,r=this.editStacks.length;n<r;n++)if(this._versionIds[n]!==this.editStacks[n].versionId)return!1;return!0}}const Dt=new Pt("","");Dt.locked=!0;let zt=class{constructor(n,r){this._dialogService=n,this._notificationService=r,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(n){for(const r of this._uriComparisonKeyComputers)if(r[0]===n.scheme)return r[1].getComparisonKey(n);return n.toString()}_print(n){console.log("------------------------------------"),console.log(`AFTER ${n}: `);const r=[];for(const x of this._editStacks)r.push(x[1].toString());console.log(r.join(`
`))}pushElement(n,r=ke.Xt.None,x=ke.gJ.None){if(n.type===0){const X=ie(n.resource),te=this.getUriComparisonKey(n.resource);this._pushElement(new Fe(n,X,te,r.id,r.nextOrder(),x.id,x.nextOrder()))}else{const X=new Set,te=[],ye=[];for(const Te of n.resources){const qe=ie(Te),ct=this.getUriComparisonKey(Te);X.has(ct)||(X.add(ct),te.push(qe),ye.push(ct))}te.length===1?this._pushElement(new Fe(n,te[0],ye[0],r.id,r.nextOrder(),x.id,x.nextOrder())):this._pushElement(new mt(n,te,ye,r.id,r.nextOrder(),x.id,x.nextOrder()))}H&&this._print("pushElement")}_pushElement(n){for(let r=0,x=n.strResources.length;r<x;r++){const X=n.resourceLabels[r],te=n.strResources[r];let ye;this._editStacks.has(te)?ye=this._editStacks.get(te):(ye=new Pt(X,te),this._editStacks.set(te,ye)),ye.pushElement(n)}}getLastElement(n){const r=this.getUriComparisonKey(n);if(this._editStacks.has(r)){const x=this._editStacks.get(r);if(x.hasFutureElements())return null;const X=x.getClosestPastElement();return X?X.actual:null}return null}_splitPastWorkspaceElement(n,r){const x=n.actual.split(),X=new Map;for(const te of x){const ye=ie(te.resource),Te=this.getUriComparisonKey(te.resource),qe=new Fe(te,ye,Te,0,0,0,0);X.set(qe.strResource,qe)}for(const te of n.strResources){if(r&&r.has(te))continue;this._editStacks.get(te).splitPastWorkspaceElement(n,X)}}_splitFutureWorkspaceElement(n,r){const x=n.actual.split(),X=new Map;for(const te of x){const ye=ie(te.resource),Te=this.getUriComparisonKey(te.resource),qe=new Fe(te,ye,Te,0,0,0,0);X.set(qe.strResource,qe)}for(const te of n.strResources){if(r&&r.has(te))continue;this._editStacks.get(te).splitFutureWorkspaceElement(n,X)}}removeElements(n){const r=typeof n=="string"?n:this.getUriComparisonKey(n);this._editStacks.has(r)&&(this._editStacks.get(r).dispose(),this._editStacks.delete(r)),H&&this._print("removeElements")}setElementsValidFlag(n,r,x){const X=this.getUriComparisonKey(n);this._editStacks.has(X)&&this._editStacks.get(X).setElementsValidFlag(r,x),H&&this._print("setElementsValidFlag")}createSnapshot(n){const r=this.getUriComparisonKey(n);return this._editStacks.has(r)?this._editStacks.get(r).createSnapshot(n):new ke.YO(n,[])}restoreSnapshot(n){const r=this.getUriComparisonKey(n.resource);if(this._editStacks.has(r)){const x=this._editStacks.get(r);x.restoreSnapshot(n),!x.hasPastElements()&&!x.hasFutureElements()&&(x.dispose(),this._editStacks.delete(r))}H&&this._print("restoreSnapshot")}getElements(n){const r=this.getUriComparisonKey(n);return this._editStacks.has(r)?this._editStacks.get(r).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(n){if(!n)return[null,null];let r=null,x=null;for(const[X,te]of this._editStacks){const ye=te.getClosestPastElement();ye&&ye.sourceId===n&&(!r||ye.sourceOrder>r.sourceOrder)&&(r=ye,x=X)}return[r,x]}canUndo(n){if(n instanceof ke.gJ){const[,x]=this._findClosestUndoElementWithSource(n.id);return!!x}const r=this.getUriComparisonKey(n);return this._editStacks.has(r)?this._editStacks.get(r).hasPastElements():!1}_onError(n,r){(0,st.dL)(n);for(const x of r.strResources)this.removeElements(x);this._notificationService.error(n)}_acquireLocks(n){for(const r of n.editStacks)if(r.locked)throw new Error("Cannot acquire edit stack lock");for(const r of n.editStacks)r.locked=!0;return()=>{for(const r of n.editStacks)r.locked=!1}}_safeInvokeWithLocks(n,r,x,X,te){const ye=this._acquireLocks(x);let Te;try{Te=r()}catch(qe){return ye(),X.dispose(),this._onError(qe,n)}return Te?Te.then(()=>(ye(),X.dispose(),te()),qe=>(ye(),X.dispose(),this._onError(qe,n))):(ye(),X.dispose(),te())}_invokeWorkspacePrepare(n){return w(this,void 0,void 0,function*(){if(typeof n.actual.prepareUndoRedo=="undefined")return u.JT.None;const r=n.actual.prepareUndoRedo();return typeof r=="undefined"?u.JT.None:r})}_invokeResourcePrepare(n,r){if(n.actual.type!==1||typeof n.actual.prepareUndoRedo=="undefined")return r(u.JT.None);const x=n.actual.prepareUndoRedo();return x?(0,u.Wf)(x)?r(x):x.then(X=>r(X)):r(u.JT.None)}_getAffectedEditStacks(n){const r=[];for(const x of n.strResources)r.push(this._editStacks.get(x)||Dt);return new Tt(r)}_tryToSplitAndUndo(n,r,x,X){if(r.canSplit())return this._splitPastWorkspaceElement(r,x),this._notificationService.warn(X),new ui(this._undo(n,0,!0));for(const te of r.strResources)this.removeElements(te);return this._notificationService.warn(X),new ui}_checkWorkspaceUndo(n,r,x,X){if(r.removedResources)return this._tryToSplitAndUndo(n,r,r.removedResources,Mt.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",r.label,r.removedResources.createMessage()));if(X&&r.invalidatedResources)return this._tryToSplitAndUndo(n,r,r.invalidatedResources,Mt.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",r.label,r.invalidatedResources.createMessage()));const te=[];for(const Te of x.editStacks)Te.getClosestPastElement()!==r&&te.push(Te.resourceLabel);if(te.length>0)return this._tryToSplitAndUndo(n,r,null,Mt.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",r.label,te.join(", ")));const ye=[];for(const Te of x.editStacks)Te.locked&&ye.push(Te.resourceLabel);return ye.length>0?this._tryToSplitAndUndo(n,r,null,Mt.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",r.label,ye.join(", "))):x.isValid()?null:this._tryToSplitAndUndo(n,r,null,Mt.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",r.label))}_workspaceUndo(n,r,x){const X=this._getAffectedEditStacks(r),te=this._checkWorkspaceUndo(n,r,X,!1);return te?te.returnValue:this._confirmAndExecuteWorkspaceUndo(n,r,X,x)}_isPartOfUndoGroup(n){if(!n.groupId)return!1;for(const[,r]of this._editStacks){const x=r.getClosestPastElement();if(x){if(x===n){const X=r.getSecondClosestPastElement();if(X&&X.groupId===n.groupId)return!0}if(x.groupId===n.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(n,r,x,X){return w(this,void 0,void 0,function*(){if(r.canSplit()&&!this._isPartOfUndoGroup(r)){let Te;(function(ht){ht[ht.All=0]="All",ht[ht.This=1]="This",ht[ht.Cancel=2]="Cancel"})(Te||(Te={}));const{result:qe}=yield this._dialogService.prompt({type:$t.Z.Info,message:Mt.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",r.label),buttons:[{label:Mt.NC({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",x.editStacks.length),run:()=>Te.All},{label:Mt.NC({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>Te.This}],cancelButton:{run:()=>Te.Cancel}});if(qe===Te.Cancel)return;if(qe===Te.This)return this._splitPastWorkspaceElement(r,null),this._undo(n,0,!0);const ct=this._checkWorkspaceUndo(n,r,x,!1);if(ct)return ct.returnValue;X=!0}let te;try{te=yield this._invokeWorkspacePrepare(r)}catch(Te){return this._onError(Te,r)}const ye=this._checkWorkspaceUndo(n,r,x,!0);if(ye)return te.dispose(),ye.returnValue;for(const Te of x.editStacks)Te.moveBackward(r);return this._safeInvokeWithLocks(r,()=>r.actual.undo(),x,te,()=>this._continueUndoInGroup(r.groupId,X))})}_resourceUndo(n,r,x){if(!r.isValid){n.flushAllElements();return}if(n.locked){const X=Mt.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",r.label);this._notificationService.warn(X);return}return this._invokeResourcePrepare(r,X=>(n.moveBackward(r),this._safeInvokeWithLocks(r,()=>r.actual.undo(),new Tt([n]),X,()=>this._continueUndoInGroup(r.groupId,x))))}_findClosestUndoElementInGroup(n){if(!n)return[null,null];let r=null,x=null;for(const[X,te]of this._editStacks){const ye=te.getClosestPastElement();ye&&ye.groupId===n&&(!r||ye.groupOrder>r.groupOrder)&&(r=ye,x=X)}return[r,x]}_continueUndoInGroup(n,r){if(!n)return;const[,x]=this._findClosestUndoElementInGroup(n);if(x)return this._undo(x,0,r)}undo(n){if(n instanceof ke.gJ){const[,r]=this._findClosestUndoElementWithSource(n.id);return r?this._undo(r,n.id,!1):void 0}return typeof n=="string"?this._undo(n,0,!1):this._undo(this.getUriComparisonKey(n),0,!1)}_undo(n,r=0,x){if(!this._editStacks.has(n))return;const X=this._editStacks.get(n),te=X.getClosestPastElement();if(!te)return;if(te.groupId){const[Te,qe]=this._findClosestUndoElementInGroup(te.groupId);if(te!==Te&&qe)return this._undo(qe,r,x)}if((te.sourceId!==r||te.confirmBeforeUndo)&&!x)return this._confirmAndContinueUndo(n,r,te);try{return te.type===1?this._workspaceUndo(n,te,x):this._resourceUndo(X,te,x)}finally{H&&this._print("undo")}}_confirmAndContinueUndo(n,r,x){return w(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:Mt.NC("confirmDifferentSource","Would you like to undo '{0}'?",x.label),primaryButton:Mt.NC({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:Mt.NC("confirmDifferentSource.no","No")})).confirmed)return this._undo(n,r,!0)})}_findClosestRedoElementWithSource(n){if(!n)return[null,null];let r=null,x=null;for(const[X,te]of this._editStacks){const ye=te.getClosestFutureElement();ye&&ye.sourceId===n&&(!r||ye.sourceOrder<r.sourceOrder)&&(r=ye,x=X)}return[r,x]}canRedo(n){if(n instanceof ke.gJ){const[,x]=this._findClosestRedoElementWithSource(n.id);return!!x}const r=this.getUriComparisonKey(n);return this._editStacks.has(r)?this._editStacks.get(r).hasFutureElements():!1}_tryToSplitAndRedo(n,r,x,X){if(r.canSplit())return this._splitFutureWorkspaceElement(r,x),this._notificationService.warn(X),new ui(this._redo(n));for(const te of r.strResources)this.removeElements(te);return this._notificationService.warn(X),new ui}_checkWorkspaceRedo(n,r,x,X){if(r.removedResources)return this._tryToSplitAndRedo(n,r,r.removedResources,Mt.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",r.label,r.removedResources.createMessage()));if(X&&r.invalidatedResources)return this._tryToSplitAndRedo(n,r,r.invalidatedResources,Mt.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",r.label,r.invalidatedResources.createMessage()));const te=[];for(const Te of x.editStacks)Te.getClosestFutureElement()!==r&&te.push(Te.resourceLabel);if(te.length>0)return this._tryToSplitAndRedo(n,r,null,Mt.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",r.label,te.join(", ")));const ye=[];for(const Te of x.editStacks)Te.locked&&ye.push(Te.resourceLabel);return ye.length>0?this._tryToSplitAndRedo(n,r,null,Mt.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",r.label,ye.join(", "))):x.isValid()?null:this._tryToSplitAndRedo(n,r,null,Mt.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",r.label))}_workspaceRedo(n,r){const x=this._getAffectedEditStacks(r),X=this._checkWorkspaceRedo(n,r,x,!1);return X?X.returnValue:this._executeWorkspaceRedo(n,r,x)}_executeWorkspaceRedo(n,r,x){return w(this,void 0,void 0,function*(){let X;try{X=yield this._invokeWorkspacePrepare(r)}catch(ye){return this._onError(ye,r)}const te=this._checkWorkspaceRedo(n,r,x,!0);if(te)return X.dispose(),te.returnValue;for(const ye of x.editStacks)ye.moveForward(r);return this._safeInvokeWithLocks(r,()=>r.actual.redo(),x,X,()=>this._continueRedoInGroup(r.groupId))})}_resourceRedo(n,r){if(!r.isValid){n.flushAllElements();return}if(n.locked){const x=Mt.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",r.label);this._notificationService.warn(x);return}return this._invokeResourcePrepare(r,x=>(n.moveForward(r),this._safeInvokeWithLocks(r,()=>r.actual.redo(),new Tt([n]),x,()=>this._continueRedoInGroup(r.groupId))))}_findClosestRedoElementInGroup(n){if(!n)return[null,null];let r=null,x=null;for(const[X,te]of this._editStacks){const ye=te.getClosestFutureElement();ye&&ye.groupId===n&&(!r||ye.groupOrder<r.groupOrder)&&(r=ye,x=X)}return[r,x]}_continueRedoInGroup(n){if(!n)return;const[,r]=this._findClosestRedoElementInGroup(n);if(r)return this._redo(r)}redo(n){if(n instanceof ke.gJ){const[,r]=this._findClosestRedoElementWithSource(n.id);return r?this._redo(r):void 0}return typeof n=="string"?this._redo(n):this._redo(this.getUriComparisonKey(n))}_redo(n){if(!this._editStacks.has(n))return;const r=this._editStacks.get(n),x=r.getClosestFutureElement();if(x){if(x.groupId){const[X,te]=this._findClosestRedoElementInGroup(x.groupId);if(x!==X&&te)return this._redo(te)}try{return x.type===1?this._workspaceRedo(n,x):this._resourceRedo(r,x)}finally{H&&this._print("redo")}}}};zt=lt([Ge(0,re.S),Ge(1,_t.lT)],zt);class ui{constructor(n){this.returnValue=n}}(0,Mn.z)(ke.tJ,zt,1);var Di=t(69060),Ni=t(59271),Ei=t(76263),qi=t(76567),yn=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},cn=function(Ie,n){return function(r,x){n(r,x,Ie)}};let $n=class extends u.JT{constructor(n,r,x){super(),this._themeService=n,this._logService=r,this._languageService=x,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(n){return this._caches.has(n)||this._caches.set(n,new Ei.$(n.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(n)}};$n=yn([cn(0,at.XE),cn(1,Ni.VZ),cn(2,M.O)],$n),(0,Mn.z)(qi.s,$n,1);var Ps=t(7128),vs=t(39832),xs=t(75296),go=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};const Rs="**",xo="/",ao="[/\\\\]",mo="[^/\\\\]",Gs=/\//g;function po(Ie,n){switch(Ie){case 0:return"";case 1:return`${mo}*?`;default:return`(?:${ao}|${mo}+${ao}${n?`|${ao}${mo}+`:""})*?`}}function Js(Ie,n){if(!Ie)return[];const r=[];let x=!1,X=!1,te="";for(const ye of Ie){switch(ye){case n:if(!x&&!X){r.push(te),te="";continue}break;case"{":x=!0;break;case"}":x=!1;break;case"[":X=!0;break;case"]":X=!1;break}te+=ye}return te&&r.push(te),r}function ko(Ie){if(!Ie)return"";let n="";const r=Js(Ie,xo);if(r.every(x=>x===Rs))n=".*";else{let x=!1;r.forEach((X,te)=>{if(X===Rs){if(x)return;n+=po(2,te===r.length-1)}else{let ye=!1,Te="",qe=!1,ct="";for(const ht of X){if(ht!=="}"&&ye){Te+=ht;continue}if(qe&&(ht!=="]"||!ct)){let Nt;ht==="-"?Nt=ht:(ht==="^"||ht==="!")&&!ct?Nt="^":ht===xo?Nt="":Nt=(0,_.ec)(ht),ct+=Nt;continue}switch(ht){case"{":ye=!0;continue;case"[":qe=!0;continue;case"}":{const ci=`(?:${Js(Te,",").map(Ci=>ko(Ci)).join("|")})`;n+=ci,ye=!1,Te="";break}case"]":{n+="["+ct+"]",qe=!1,ct="";break}case"?":n+=mo;continue;case"*":n+=po(1);continue;default:n+=(0,_.ec)(ht)}}te<r.length-1&&(r[te+1]!==Rs||te+2<r.length)&&(n+=ao)}x=X===Rs})}return n}const wo=/^\*\*\/\*\.[\w\.-]+$/,Cr=/^\*\*\/([\w\.-]+)\/?$/,ms=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,dr=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,As=/^\*\*((\/[\w\.-]+)+)\/?$/,Xn=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,hs=new vs.z6(1e4),js=function(){return!1},cs=function(){return null};function Os(Ie,n){if(!Ie)return cs;let r;typeof Ie!="string"?r=Ie.pattern:r=Ie,r=r.trim();const x=`${r}_${!!n.trimForExclusions}`;let X=hs.get(x);if(X)return uo(X,Ie);let te;return wo.test(r)?X=ur(r.substr(4),r):(te=Cr.exec(sr(r,n)))?X=Rr(te[1],r):(n.trimForExclusions?dr:ms).test(r)?X=hr(r,n):(te=As.exec(sr(r,n)))?X=or(te[1].substr(1),r,!0):(te=Xn.exec(sr(r,n)))?X=or(te[1],r,!1):X=Or(r),hs.set(x,X),uo(X,Ie)}function uo(Ie,n){if(typeof n=="string")return Ie;const r=function(x,X){return(0,Ps.KM)(x,n.base,!Pi.IJ)?Ie((0,_.j3)(x.substr(n.base.length),xs.ir),X):null};return r.allBasenames=Ie.allBasenames,r.allPaths=Ie.allPaths,r.basenames=Ie.basenames,r.patterns=Ie.patterns,r}function sr(Ie,n){return n.trimForExclusions&&Ie.endsWith("/**")?Ie.substr(0,Ie.length-2):Ie}function ur(Ie,n){return function(r,x){return typeof r=="string"&&r.endsWith(Ie)?n:null}}function Rr(Ie,n){const r=`/${Ie}`,x=`\\${Ie}`,X=function(ye,Te){return typeof ye!="string"?null:Te?Te===Ie?n:null:ye===Ie||ye.endsWith(r)||ye.endsWith(x)?n:null},te=[Ie];return X.basenames=te,X.patterns=[n],X.allBasenames=te,X}function hr(Ie,n){const r=Ar(Ie.slice(1,-1).split(",").map(Te=>Os(Te,n)).filter(Te=>Te!==cs),Ie),x=r.length;if(!x)return cs;if(x===1)return r[0];const X=function(Te,qe){for(let ct=0,ht=r.length;ct<ht;ct++)if(r[ct](Te,qe))return Ie;return null},te=r.find(Te=>!!Te.allBasenames);te&&(X.allBasenames=te.allBasenames);const ye=r.reduce((Te,qe)=>qe.allPaths?Te.concat(qe.allPaths):Te,[]);return ye.length&&(X.allPaths=ye),X}function or(Ie,n,r){const x=xs.ir===xs.KR.sep,X=x?Ie:Ie.replace(Gs,xs.ir),te=xs.ir+X,ye=xs.KR.sep+Ie;let Te;return r?Te=function(qe,ct){return typeof qe=="string"&&(qe===X||qe.endsWith(te)||!x&&(qe===Ie||qe.endsWith(ye)))?n:null}:Te=function(qe,ct){return typeof qe=="string"&&(qe===X||!x&&qe===Ie)?n:null},Te.allPaths=[(r?"*/":"./")+Ie],Te}function Or(Ie){try{const n=new RegExp(`^${ko(Ie)}$`);return function(r){return n.lastIndex=0,typeof r=="string"&&n.test(r)?Ie:null}}catch(n){return cs}}function Pa(Ie,n,r){return!Ie||typeof n!="string"?!1:_a(Ie)(n,void 0,r)}function _a(Ie,n={}){if(!Ie)return js;if(typeof Ie=="string"||br(Ie)){const r=Os(Ie,n);if(r===cs)return js;const x=function(X,te){return!!r(X,te)};return r.allBasenames&&(x.allBasenames=r.allBasenames),r.allPaths&&(x.allPaths=r.allPaths),x}return na(Ie,n)}function br(Ie){const n=Ie;return n?typeof n.base=="string"&&typeof n.pattern=="string":!1}function na(Ie,n){const r=Ar(Object.getOwnPropertyNames(Ie).map(Te=>Yo(Te,Ie[Te],n)).filter(Te=>Te!==cs)),x=r.length;if(!x)return cs;if(!r.some(Te=>!!Te.requiresSiblings)){if(x===1)return r[0];const Te=function(ht,Nt){let ci;for(let Ci=0,Gi=r.length;Ci<Gi;Ci++){const Vn=r[Ci](ht,Nt);if(typeof Vn=="string")return Vn;(0,nt.J8)(Vn)&&(ci||(ci=[]),ci.push(Vn))}return ci?(()=>go(this,void 0,void 0,function*(){for(const Ci of ci){const Gi=yield Ci;if(typeof Gi=="string")return Gi}return null}))():null},qe=r.find(ht=>!!ht.allBasenames);qe&&(Te.allBasenames=qe.allBasenames);const ct=r.reduce((ht,Nt)=>Nt.allPaths?ht.concat(Nt.allPaths):ht,[]);return ct.length&&(Te.allPaths=ct),Te}const X=function(Te,qe,ct){let ht,Nt;for(let ci=0,Ci=r.length;ci<Ci;ci++){const Gi=r[ci];Gi.requiresSiblings&&ct&&(qe||(qe=(0,xs.EZ)(Te)),ht||(ht=qe.substr(0,qe.length-(0,xs.DZ)(Te).length)));const Vn=Gi(Te,qe,ht,ct);if(typeof Vn=="string")return Vn;(0,nt.J8)(Vn)&&(Nt||(Nt=[]),Nt.push(Vn))}return Nt?(()=>go(this,void 0,void 0,function*(){for(const ci of Nt){const Ci=yield ci;if(typeof Ci=="string")return Ci}return null}))():null},te=r.find(Te=>!!Te.allBasenames);te&&(X.allBasenames=te.allBasenames);const ye=r.reduce((Te,qe)=>qe.allPaths?Te.concat(qe.allPaths):Te,[]);return ye.length&&(X.allPaths=ye),X}function Yo(Ie,n,r){if(n===!1)return cs;const x=Os(Ie,r);if(x===cs)return cs;if(typeof n=="boolean")return x;if(n){const X=n.when;if(typeof X=="string"){const te=(ye,Te,qe,ct)=>{if(!ct||!x(ye,Te))return null;const ht=X.replace("$(basename)",()=>qe),Nt=ct(ht);return(0,nt.J8)(Nt)?Nt.then(ci=>ci?Ie:null):Nt?Ie:null};return te.requiresSiblings=!0,te}}return x}function Ar(Ie,n){const r=Ie.filter(Te=>!!Te.basenames);if(r.length<2)return Ie;const x=r.reduce((Te,qe)=>{const ct=qe.basenames;return ct?Te.concat(ct):Te},[]);let X;if(n){X=[];for(let Te=0,qe=x.length;Te<qe;Te++)X.push(n)}else X=r.reduce((Te,qe)=>{const ct=qe.patterns;return ct?Te.concat(ct):Te},[]);const te=function(Te,qe){if(typeof Te!="string")return null;if(!qe){let ht;for(ht=Te.length;ht>0;ht--){const Nt=Te.charCodeAt(ht-1);if(Nt===47||Nt===92)break}qe=Te.substr(ht)}const ct=x.indexOf(qe);return ct!==-1?X[ct]:null};te.basenames=x,te.patterns=X,te.allBasenames=x;const ye=Ie.filter(Te=>!Te.basenames);return ye.push(te),ye}function kr(Ie,n,r,x,X,te){if(Array.isArray(Ie)){let ye=0;for(const Te of Ie){const qe=kr(Te,n,r,x,X,te);if(qe===10)return qe;qe>ye&&(ye=qe)}return ye}else{if(typeof Ie=="string")return x?Ie==="*"?5:Ie===r?10:0:0;if(Ie){const{language:ye,pattern:Te,scheme:qe,hasAccessToAllModels:ct,notebookType:ht}=Ie;if(!x&&!ct)return 0;ht&&X&&(n=X);let Nt=0;if(qe)if(qe===n.scheme)Nt=10;else if(qe==="*")Nt=5;else return 0;if(ye)if(ye===r)Nt=10;else if(ye==="*")Nt=Math.max(Nt,5);else return 0;if(ht)if(ht===te)Nt=10;else if(ht==="*"&&te!==void 0)Nt=Math.max(Nt,5);else return 0;if(Te){let ci;if(typeof Te=="string"?ci=Te:ci=Object.assign(Object.assign({},Te),{base:(0,xs.Fv)(Te.base)}),ci===n.fsPath||Pa(ci,n.fsPath))Nt=10;else return 0}return Nt}else return 0}}function Ca(Ie){return typeof Ie=="string"?!1:Array.isArray(Ie)?Ie.every(Ca):!!Ie.exclusive}class ba{constructor(n,r,x,X){this.uri=n,this.languageId=r,this.notebookUri=x,this.notebookType=X}equals(n){var r,x;return this.notebookType===n.notebookType&&this.languageId===n.languageId&&this.uri.toString()===n.uri.toString()&&((r=this.notebookUri)===null||r===void 0?void 0:r.toString())===((x=n.notebookUri)===null||x===void 0?void 0:x.toString())}}class Hs{constructor(n){this._notebookInfoResolver=n,this._clock=0,this._entries=[],this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event}register(n,r){let x={selector:n,provider:r,_score:-1,_time:this._clock++};return this._entries.push(x),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,u.OF)(()=>{if(x){const X=this._entries.indexOf(x);X>=0&&(this._entries.splice(X,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),x=void 0)}})}has(n){return this.all(n).length>0}all(n){if(!n)return[];this._updateScores(n);const r=[];for(const x of this._entries)x._score>0&&r.push(x.provider);return r}ordered(n){const r=[];return this._orderedForEach(n,x=>r.push(x.provider)),r}orderedGroups(n){const r=[];let x,X;return this._orderedForEach(n,te=>{x&&X===te._score?x.push(te.provider):(X=te._score,x=[te.provider],r.push(x))}),r}_orderedForEach(n,r){this._updateScores(n);for(const x of this._entries)x._score>0&&r(x)}_updateScores(n){var r,x;const X=(r=this._notebookInfoResolver)===null||r===void 0?void 0:r.call(this,n.uri),te=X?new ba(n.uri,n.getLanguageId(),X.uri,X.type):new ba(n.uri,n.getLanguageId(),void 0,void 0);if(!(!((x=this._lastCandidate)===null||x===void 0)&&x.equals(te))){this._lastCandidate=te;for(const ye of this._entries)if(ye._score=kr(ye.selector,te.uri,te.languageId,(0,C.pt)(n),te.notebookUri,te.notebookType),Ca(ye.selector)&&ye._score>0){for(const Te of this._entries)Te._score=0;ye._score=1e3;break}this._entries.sort(Hs._compareByScoreAndTime)}}static _compareByScoreAndTime(n,r){return n._score<r._score?1:n._score>r._score?-1:Sr(n.selector)&&!Sr(r.selector)?1:!Sr(n.selector)&&Sr(r.selector)?-1:n._time<r._time?1:n._time>r._time?-1:0}}function Sr(Ie){return typeof Ie=="string"?!1:Array.isArray(Ie)?Ie.some(Sr):!!Ie.isBuiltin}var Us=t(35921);class Fr{constructor(){this.referenceProvider=new Hs(this._score.bind(this)),this.renameProvider=new Hs(this._score.bind(this)),this.codeActionProvider=new Hs(this._score.bind(this)),this.definitionProvider=new Hs(this._score.bind(this)),this.typeDefinitionProvider=new Hs(this._score.bind(this)),this.declarationProvider=new Hs(this._score.bind(this)),this.implementationProvider=new Hs(this._score.bind(this)),this.documentSymbolProvider=new Hs(this._score.bind(this)),this.inlayHintsProvider=new Hs(this._score.bind(this)),this.colorProvider=new Hs(this._score.bind(this)),this.codeLensProvider=new Hs(this._score.bind(this)),this.documentFormattingEditProvider=new Hs(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Hs(this._score.bind(this)),this.onTypeFormattingEditProvider=new Hs(this._score.bind(this)),this.signatureHelpProvider=new Hs(this._score.bind(this)),this.hoverProvider=new Hs(this._score.bind(this)),this.documentHighlightProvider=new Hs(this._score.bind(this)),this.selectionRangeProvider=new Hs(this._score.bind(this)),this.foldingRangeProvider=new Hs(this._score.bind(this)),this.linkProvider=new Hs(this._score.bind(this)),this.inlineCompletionsProvider=new Hs(this._score.bind(this)),this.completionProvider=new Hs(this._score.bind(this)),this.linkedEditingRangeProvider=new Hs(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Hs(this._score.bind(this)),this.documentSemanticTokensProvider=new Hs(this._score.bind(this)),this.documentOnDropEditProvider=new Hs(this._score.bind(this)),this.documentPasteEditProvider=new Hs(this._score.bind(this))}_score(n){var r;return(r=this._notebookTypeResolver)===null||r===void 0?void 0:r.call(this,n)}}(0,Mn.z)(Us.p,Fr,1);var Oo=t(6544),Xo=t(21994),Fo=t(53028),Io=t(86689),wn=t(19083),Jo=t(91223),$o=t(16576),lo=t(80793),Ys=t(16308),Bo=t(14818),Wo=t(12326),yr=t(6325);function es(Ie){return Object.isFrozen(Ie)?Ie:g._A(Ie)}class Jn{constructor(n={},r=[],x=[],X){this._contents=n,this._keys=r,this._overrides=x,this.raw=X,this.overrideConfigurations=new Map}get rawConfiguration(){var n;if(!this._rawConfiguration)if(!((n=this.raw)===null||n===void 0)&&n.length){const r=this.raw.map(x=>{if(x instanceof Jn)return x;const X=new to("");return X.parseRaw(x),X.configurationModel});this._rawConfiguration=r.reduce((x,X)=>X===x?X:x.merge(X),r[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(n){return n?(0,oe.Mt)(this.contents,n):this.contents}inspect(n,r){const x=this.rawConfiguration.getValue(n),X=r?this.rawConfiguration.getOverrideValue(n,r):void 0,te=r?this.rawConfiguration.override(r).getValue(n):x;return{value:x,override:X,merged:te}}getOverrideValue(n,r){const x=this.getContentsForOverrideIdentifer(r);return x?n?(0,oe.Mt)(x,n):x:void 0}override(n){let r=this.overrideConfigurations.get(n);return r||(r=this.createOverrideConfigurationModel(n),this.overrideConfigurations.set(n,r)),r}merge(...n){var r,x;const X=g.I8(this.contents),te=g.I8(this.overrides),ye=[...this.keys],Te=!((r=this.raw)===null||r===void 0)&&r.length?[...this.raw]:[this];for(const qe of n)if(Te.push(...!((x=qe.raw)===null||x===void 0)&&x.length?qe.raw:[qe]),!qe.isEmpty()){this.mergeContents(X,qe.contents);for(const ct of qe.overrides){const[ht]=te.filter(Nt=>Ys.fS(Nt.identifiers,ct.identifiers));ht?(this.mergeContents(ht.contents,ct.contents),ht.keys.push(...ct.keys),ht.keys=Ys.EB(ht.keys)):te.push(g.I8(ct))}for(const ct of qe.keys)ye.indexOf(ct)===-1&&ye.push(ct)}return new Jn(X,ye,te,Te.every(qe=>qe instanceof Jn)?void 0:Te)}createOverrideConfigurationModel(n){const r=this.getContentsForOverrideIdentifer(n);if(!r||typeof r!="object"||!Object.keys(r).length)return this;const x={};for(const X of Ys.EB([...Object.keys(this.contents),...Object.keys(r)])){let te=this.contents[X];const ye=r[X];ye&&(typeof te=="object"&&typeof ye=="object"?(te=g.I8(te),this.mergeContents(te,ye)):te=ye),x[X]=te}return new Jn(x,this.keys,this.overrides)}mergeContents(n,r){for(const x of Object.keys(r)){if(x in n&&Bo.Kn(n[x])&&Bo.Kn(r[x])){this.mergeContents(n[x],r[x]);continue}n[x]=g.I8(r[x])}}getContentsForOverrideIdentifer(n){let r=null,x=null;const X=te=>{te&&(x?this.mergeContents(x,te):x=g.I8(te))};for(const te of this.overrides)Ys.fS(te.identifiers,[n])?r=te.contents:te.identifiers.includes(n)&&X(te.contents);return X(r),x}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(n,r){this.updateValue(n,r,!0)}setValue(n,r){this.updateValue(n,r,!1)}removeValue(n){const r=this.keys.indexOf(n);r!==-1&&(this.keys.splice(r,1),(0,oe.xL)(this.contents,n),Wo.eU.test(n)&&this.overrides.splice(this.overrides.findIndex(x=>Ys.fS(x.identifiers,(0,Wo.ny)(n))),1))}updateValue(n,r,x){(0,oe.KV)(this.contents,n,r,X=>console.error(X)),x=x||this.keys.indexOf(n)===-1,x&&this.keys.push(n),Wo.eU.test(n)&&this.overrides.push({identifiers:(0,Wo.ny)(n),keys:Object.keys(this.contents[n]),contents:(0,oe.Od)(this.contents[n],X=>console.error(X))})}}class to{constructor(n){this._name=n,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Jn}parseRaw(n,r){this._raw=n;const{contents:x,keys:X,overrides:te,restricted:ye,hasExcludedProperties:Te}=this.doParseRaw(n,r);this._configurationModel=new Jn(x,X,te,Te?[n]:void 0),this._restrictedConfigurations=ye||[]}doParseRaw(n,r){const x=yr.B.as(Wo.IP.Configuration).getConfigurationProperties(),X=this.filter(n,x,!0,r);n=X.raw;const te=(0,oe.Od)(n,qe=>console.error(`Conflict in settings file ${this._name}: ${qe}`)),ye=Object.keys(n),Te=this.toOverrides(n,qe=>console.error(`Conflict in settings file ${this._name}: ${qe}`));return{contents:te,keys:ye,overrides:Te,restricted:X.restricted,hasExcludedProperties:X.hasExcludedProperties}}filter(n,r,x,X){let te=!1;if(!(X!=null&&X.scopes)&&!(X!=null&&X.skipRestricted))return{raw:n,restricted:[],hasExcludedProperties:te};const ye={},Te=[];for(const qe in n)if(Wo.eU.test(qe)&&x){const ct=this.filter(n[qe],r,!1,X);ye[qe]=ct.raw,te=te||ct.hasExcludedProperties,Te.push(...ct.restricted)}else{const ct=r[qe],ht=ct?typeof ct.scope!="undefined"?ct.scope:3:void 0;ct!=null&&ct.restricted&&Te.push(qe),(ht===void 0||X.scopes===void 0||X.scopes.includes(ht))&&!(X.skipRestricted&&(ct!=null&&ct.restricted))?ye[qe]=n[qe]:te=!0}return{raw:ye,restricted:Te,hasExcludedProperties:te}}toOverrides(n,r){const x=[];for(const X of Object.keys(n))if(Wo.eU.test(X)){const te={};for(const ye in n[X])te[ye]=n[X][ye];x.push({identifiers:(0,Wo.ny)(X),keys:Object.keys(te),contents:(0,oe.Od)(te,r)})}return x}}class qs{constructor(n,r,x,X,te,ye,Te,qe,ct,ht,Nt,ci,Ci){this.key=n,this.overrides=r,this._value=x,this.overrideIdentifiers=X,this.defaultConfiguration=te,this.policyConfiguration=ye,this.applicationConfiguration=Te,this.userConfiguration=qe,this.localUserConfiguration=ct,this.remoteUserConfiguration=ht,this.workspaceConfiguration=Nt,this.folderConfigurationModel=ci,this.memoryConfigurationModel=Ci}inspect(n,r,x){const X=n.inspect(r,x);return{get value(){return es(X.value)},get override(){return es(X.override)},get merged(){return es(X.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class Co{constructor(n,r,x,X,te=new Jn,ye=new Jn,Te=new vs.Y9,qe=new Jn,ct=new vs.Y9){this._defaultConfiguration=n,this._policyConfiguration=r,this._applicationConfiguration=x,this._localUserConfiguration=X,this._remoteUserConfiguration=te,this._workspaceConfiguration=ye,this._folderConfigurations=Te,this._memoryConfiguration=qe,this._memoryConfigurationByResource=ct,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new vs.Y9,this._userConfiguration=null}getValue(n,r,x){return this.getConsolidatedConfigurationModel(n,r,x).getValue(n)}updateValue(n,r,x={}){let X;x.resource?(X=this._memoryConfigurationByResource.get(x.resource),X||(X=new Jn,this._memoryConfigurationByResource.set(x.resource,X))):X=this._memoryConfiguration,r===void 0?X.removeValue(n):X.setValue(n,r),x.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(n,r,x){const X=this.getConsolidatedConfigurationModel(n,r,x),te=this.getFolderConfigurationModelForResource(r.resource,x),ye=r.resource?this._memoryConfigurationByResource.get(r.resource)||this._memoryConfiguration:this._memoryConfiguration,Te=new Set;for(const qe of X.overrides)for(const ct of qe.identifiers)X.getOverrideValue(n,ct)!==void 0&&Te.add(ct);return new qs(n,r,X.getValue(n),Te.size?[...Te]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,x?this._workspaceConfiguration:void 0,te||void 0,ye)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(n,r,x){let X=this.getConsolidatedConfigurationModelForResource(r,x);return r.overrideIdentifier&&(X=X.override(r.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(n)!==void 0&&(X=X.merge(this._policyConfiguration)),X}getConsolidatedConfigurationModelForResource({resource:n},r){let x=this.getWorkspaceConsolidatedConfiguration();if(r&&n){const X=r.getFolder(n);X&&(x=this.getFolderConsolidatedConfiguration(X.uri)||x);const te=this._memoryConfigurationByResource.get(n);te&&(x=x.merge(te))}return x}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(n){let r=this._foldersConsolidatedConfigurations.get(n);if(!r){const x=this.getWorkspaceConsolidatedConfiguration(),X=this._folderConfigurations.get(n);X?(r=x.merge(X),this._foldersConsolidatedConfigurations.set(n,r)):r=x}return r}getFolderConfigurationModelForResource(n,r){if(r&&n){const x=r.getFolder(n);if(x)return this._folderConfigurations.get(x.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((n,r)=>{const{contents:x,overrides:X,keys:te}=this._folderConfigurations.get(r);return n.push([r,{contents:x,overrides:X,keys:te}]),n},[])}}static parse(n){const r=this.parseConfigurationModel(n.defaults),x=this.parseConfigurationModel(n.policy),X=this.parseConfigurationModel(n.application),te=this.parseConfigurationModel(n.user),ye=this.parseConfigurationModel(n.workspace),Te=n.folders.reduce((qe,ct)=>(qe.set(p.o.revive(ct[0]),this.parseConfigurationModel(ct[1])),qe),new vs.Y9);return new Co(r,x,X,te,new Jn,ye,Te,new Jn,new vs.Y9)}static parseConfigurationModel(n){return new Jn(n.contents,n.keys,n.overrides)}}class Ho{constructor(n,r,x,X){this.change=n,this.previous=r,this.currentConfiguraiton=x,this.currentWorkspace=X,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const te of n.keys)this.affectedKeys.add(te);for(const[,te]of n.overrides)for(const ye of te)this.affectedKeys.add(ye);this._affectsConfigStr=this._marker;for(const te of this.affectedKeys)this._affectsConfigStr+=te+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Co.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(n,r){var x;const X=this._marker+n,te=this._affectsConfigStr.indexOf(X);if(te<0)return!1;const ye=te+X.length;if(ye>=this._affectsConfigStr.length)return!1;const Te=this._affectsConfigStr.charCodeAt(ye);if(Te!==this._markerCode1&&Te!==this._markerCode2)return!1;if(r){const qe=this.previousConfiguration?this.previousConfiguration.getValue(n,r,(x=this.previous)===null||x===void 0?void 0:x.workspace):void 0,ct=this.currentConfiguraiton.getValue(n,r,this.currentWorkspace);return!g.fS(qe,ct)}return!0}}var No=t(35990);const bo={kind:0},qa={kind:1};function el(Ie,n,r){return{kind:2,commandId:Ie,commandArgs:n,isBubble:r}}class Kr{constructor(n,r,x){var X;this._log=x,this._defaultKeybindings=n,this._defaultBoundCommands=new Map;for(const te of n){const ye=te.command;ye&&ye.charAt(0)!=="-"&&this._defaultBoundCommands.set(ye,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Kr.handleRemovals([].concat(n).concat(r));for(let te=0,ye=this._keybindings.length;te<ye;te++){const Te=this._keybindings[te];if(Te.chords.length===0)continue;const qe=(X=Te.when)===null||X===void 0?void 0:X.substituteConstants();qe&&qe.type===0||this._addKeyPress(Te.chords[0],Te)}}static _isTargetedForRemoval(n,r,x){if(r){for(let X=0;X<r.length;X++)if(r[X]!==n.chords[X])return!1}return!(x&&x.type!==1&&(!n.when||!(0,ni.Fb)(x,n.when)))}static handleRemovals(n){const r=new Map;for(let X=0,te=n.length;X<te;X++){const ye=n[X];if(ye.command&&ye.command.charAt(0)==="-"){const Te=ye.command.substring(1);r.has(Te)?r.get(Te).push(ye):r.set(Te,[ye])}}if(r.size===0)return n;const x=[];for(let X=0,te=n.length;X<te;X++){const ye=n[X];if(!ye.command||ye.command.length===0){x.push(ye);continue}if(ye.command.charAt(0)==="-")continue;const Te=r.get(ye.command);if(!Te||!ye.isDefault){x.push(ye);continue}let qe=!1;for(const ct of Te){const ht=ct.when;if(this._isTargetedForRemoval(ye,ct.chords,ht)){qe=!0;break}}if(!qe){x.push(ye);continue}}return x}_addKeyPress(n,r){const x=this._map.get(n);if(typeof x=="undefined"){this._map.set(n,[r]),this._addToLookupMap(r);return}for(let X=x.length-1;X>=0;X--){const te=x[X];if(te.command===r.command)continue;let ye=!0;for(let Te=1;Te<te.chords.length&&Te<r.chords.length;Te++)if(te.chords[Te]!==r.chords[Te]){ye=!1;break}ye&&Kr.whenIsEntirelyIncluded(te.when,r.when)&&this._removeFromLookupMap(te)}x.push(r),this._addToLookupMap(r)}_addToLookupMap(n){if(!n.command)return;let r=this._lookupMap.get(n.command);typeof r=="undefined"?(r=[n],this._lookupMap.set(n.command,r)):r.push(n)}_removeFromLookupMap(n){if(!n.command)return;const r=this._lookupMap.get(n.command);if(typeof r!="undefined"){for(let x=0,X=r.length;x<X;x++)if(r[x]===n){r.splice(x,1);return}}}static whenIsEntirelyIncluded(n,r){return!r||r.type===1?!0:!n||n.type===1?!1:(0,ni.K8)(n,r)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(n,r){const x=this._lookupMap.get(n);if(typeof x=="undefined"||x.length===0)return null;if(x.length===1)return x[0];for(let X=x.length-1;X>=0;X--){const te=x[X];if(r.contextMatchesRules(te.when))return te}return x[x.length-1]}resolve(n,r,x){const X=[...r,x];this._log(`| Resolving ${X}`);const te=this._map.get(X[0]);if(te===void 0)return this._log("\\ No keybinding entries."),bo;let ye=null;if(X.length<2)ye=te;else{ye=[];for(let qe=0,ct=te.length;qe<ct;qe++){const ht=te[qe];if(X.length>ht.chords.length)continue;let Nt=!0;for(let ci=1;ci<X.length;ci++)if(ht.chords[ci]!==X[ci]){Nt=!1;break}Nt&&ye.push(ht)}}const Te=this._findCommand(n,ye);return Te?X.length<Te.chords.length?(this._log(`\\ From ${ye.length} keybinding entries, awaiting ${Te.chords.length-X.length} more chord(s), when: ${Ra(Te.when)}, source: ${Oa(Te)}.`),qa):(this._log(`\\ From ${ye.length} keybinding entries, matched ${Te.command}, when: ${Ra(Te.when)}, source: ${Oa(Te)}.`),el(Te.command,Te.commandArgs,Te.bubble)):(this._log(`\\ From ${ye.length} keybinding entries, no when clauses matched the context.`),bo)}_findCommand(n,r){for(let x=r.length-1;x>=0;x--){const X=r[x];if(Kr._contextMatchesRules(n,X.when))return X}return null}static _contextMatchesRules(n,r){return r?r.evaluate(n):!0}}function Ra(Ie){return Ie?`${Ie.serialize()}`:"no when condition"}function Oa(Ie){return Ie.extensionId?Ie.isBuiltinExtension?`built-in extension ${Ie.extensionId}`:`user extension ${Ie.extensionId}`:Ie.isDefault?"built-in":"user"}const $r=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class tl extends u.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:E.ju.None}get inChordMode(){return this._currentChords.length>0}constructor(n,r,x,X,te){super(),this._contextKeyService=n,this._commandService=r,this._telemetryService=x,this._notificationService=X,this._logService=te,this._onDidUpdateKeybindings=this._register(new E.Q5),this._currentChords=[],this._currentChordChecker=new nt.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=co.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new nt._F,this._logging=!1}dispose(){super.dispose()}_log(n){this._logging&&this._logService.info(`[KeybindingService]: ${n}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(n,r){const x=this._getResolver().lookupPrimaryKeybinding(n,r||this._contextKeyService);if(x)return x.resolvedKeybinding}dispatchEvent(n,r){return this._dispatch(n,r)}softDispatch(n,r){this._log("/ Soft dispatching keyboard event");const x=this.resolveKeyboardEvent(n);if(x.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),bo;const[X]=x.getDispatchChords();if(X===null)return this._log("\\ Keyboard event cannot be dispatched"),bo;const te=this._contextKeyService.getContext(r),ye=this._currentChords.map(({keypress:Te})=>Te);return this._getResolver().resolve(te,ye,X)}_scheduleLeaveChordMode(){const n=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-n>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(n,r){switch(this._currentChords.push({keypress:n,label:r}),this._currentChords.length){case 0:throw(0,st.L6)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(Mt.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",r));break;default:{const x=this._currentChords.map(({label:X})=>X).join(", ");this._currentChordStatusMessage=this._notificationService.status(Mt.NC("next.chord","({0}) was pressed. Waiting for next key of chord...",x))}}this._scheduleLeaveChordMode(),No.F.enabled&&No.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],No.F.enable()}_dispatch(n,r){return this._doDispatch(this.resolveKeyboardEvent(n),r,!1)}_singleModifierDispatch(n,r){const x=this.resolveKeyboardEvent(n),[X]=x.getSingleModifierDispatchChords();if(X)return this._ignoreSingleModifiers.has(X)?(this._log(`+ Ignoring single modifier ${X} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=co.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=co.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${X}.`),this._currentSingleModifier=X,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):X===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${X} ${X}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(x,r,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${X}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[te]=x.getChords();return this._ignoreSingleModifiers=new co(te),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(n,r,x=!1){var X;let te=!1;if(n.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let ye=null,Te=null;if(x){const[Nt]=n.getSingleModifierDispatchChords();ye=Nt,Te=Nt?[Nt]:[]}else[ye]=n.getDispatchChords(),Te=this._currentChords.map(({keypress:Nt})=>Nt);if(ye===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),te;const qe=this._contextKeyService.getContext(r),ct=n.getLabel(),ht=this._getResolver().resolve(qe,Te,ye);switch(ht.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",ct,"[ No matching keybinding ]"),this.inChordMode){const Nt=this._currentChords.map(({label:ci})=>ci).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${Nt}, ${ct}".`),this._notificationService.status(Mt.NC("missing.chord","The key combination ({0}, {1}) is not a command.",Nt,ct),{hideAfter:10*1e3}),this._leaveChordMode(),te=!0}return te}case 1:return this._logService.trace("KeybindingService#dispatch",ct,"[ Several keybindings match - more chords needed ]"),te=!0,this._expectAnotherChord(ye,ct),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),te;case 2:{if(this._logService.trace("KeybindingService#dispatch",ct,`[ Will dispatch command ${ht.commandId} ]`),ht.commandId===null||ht.commandId===""){if(this.inChordMode){const Nt=this._currentChords.map(({label:ci})=>ci).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${Nt}, ${ct}".`),this._notificationService.status(Mt.NC("missing.chord","The key combination ({0}, {1}) is not a command.",Nt,ct),{hideAfter:10*1e3}),this._leaveChordMode(),te=!0}}else this.inChordMode&&this._leaveChordMode(),ht.isBubble||(te=!0),this._log(`+ Invoking command ${ht.commandId}.`),typeof ht.commandArgs=="undefined"?this._commandService.executeCommand(ht.commandId).then(void 0,Nt=>this._notificationService.warn(Nt)):this._commandService.executeCommand(ht.commandId,ht.commandArgs).then(void 0,Nt=>this._notificationService.warn(Nt)),$r.test(ht.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:ht.commandId,from:"keybinding",detail:(X=n.getUserSettingsLabel())!==null&&X!==void 0?X:void 0});return te}}}mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30}}class co{constructor(n){this._ctrlKey=n?n.ctrlKey:!1,this._shiftKey=n?n.shiftKey:!1,this._altKey=n?n.altKey:!1,this._metaKey=n?n.metaKey:!1}has(n){switch(n){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}co.EMPTY=new co(null);var wr=t(62297),il=t(47679);class Aa{constructor(n,r,x,X,te,ye,Te){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=n,this.chords=n?Sa(n.getDispatchChords()):[],n&&this.chords.length===0&&(this.chords=Sa(n.getSingleModifierDispatchChords())),this.bubble=r?r.charCodeAt(0)===94:!1,this.command=this.bubble?r.substr(1):r,this.commandArgs=x,this.when=X,this.isDefault=te,this.extensionId=ye,this.isBuiltinExtension=Te}}function Sa(Ie){const n=[];for(let r=0,x=Ie.length;r<x;r++){const X=Ie[r];if(!X)return[];n.push(X)}return n}var fr=t(94880),sa=t(49553);class oa extends Xo.f1{constructor(n,r){if(super(),r.length===0)throw(0,st.b1)("chords");this._os=n,this._chords=r}getLabel(){return sa.xo.toLabel(this._os,this._chords,n=>this._getLabel(n))}getAriaLabel(){return sa.X4.toLabel(this._os,this._chords,n=>this._getAriaLabel(n))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:sa.jC.toLabel(this._os,this._chords,n=>this._getElectronAccelerator(n))}getUserSettingsLabel(){return sa.r6.toLabel(this._os,this._chords,n=>this._getUserSettingsLabel(n))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(n=>this._getChord(n))}_getChord(n){return new Xo.aZ(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,this._getLabel(n),this._getAriaLabel(n))}getDispatchChords(){return this._chords.map(n=>this._getChordDispatch(n))}getSingleModifierDispatchChords(){return this._chords.map(n=>this._getSingleModifierChordDispatch(n))}}class gr extends oa{constructor(n,r){super(r,n)}_keyCodeToUILabel(n){if(this._os===2)switch(n){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return fr.kL.toString(n)}_getLabel(n){return n.isDuplicateModifierCase()?"":this._keyCodeToUILabel(n.keyCode)}_getAriaLabel(n){return n.isDuplicateModifierCase()?"":fr.kL.toString(n.keyCode)}_getElectronAccelerator(n){return fr.kL.toElectronAccelerator(n.keyCode)}_getUserSettingsLabel(n){if(n.isDuplicateModifierCase())return"";const r=fr.kL.toUserSettingsUS(n.keyCode);return r&&r.toLowerCase()}_getChordDispatch(n){return gr.getDispatchStr(n)}static getDispatchStr(n){if(n.isModifierKey())return null;let r="";return n.ctrlKey&&(r+="ctrl+"),n.shiftKey&&(r+="shift+"),n.altKey&&(r+="alt+"),n.metaKey&&(r+="meta+"),r+=fr.kL.toString(n.keyCode),r}_getSingleModifierChordDispatch(n){return n.keyCode===5&&!n.shiftKey&&!n.altKey&&!n.metaKey?"ctrl":n.keyCode===4&&!n.ctrlKey&&!n.altKey&&!n.metaKey?"shift":n.keyCode===6&&!n.ctrlKey&&!n.shiftKey&&!n.metaKey?"alt":n.keyCode===57&&!n.ctrlKey&&!n.shiftKey&&!n.altKey?"meta":null}static _scanCodeToKeyCode(n){const r=fr.Vd[n];if(r!==-1)return r;switch(n){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(n){if(!n)return null;if(n instanceof Xo.$M)return n;const r=this._scanCodeToKeyCode(n.scanCode);return r===0?null:new Xo.$M(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,r)}static resolveKeybinding(n,r){const x=Sa(n.chords.map(X=>this._toKeyCodeChord(X)));return x.length>0?[new gr(x,r)]:[]}}var ya=t(18680),ra=t(83799),aa=t(83485),wa=t(6227),nl=t(24905),sl=t(83092),La=t(59004),rr;(function(Ie){Ie[Ie.AVOID=0]="AVOID",Ie[Ie.ALIGN=1]="ALIGN"})(rr||(rr={}));function Br(Ie,n,r){const x=r.mode===rr.ALIGN?r.offset:r.offset+r.size,X=r.mode===rr.ALIGN?r.offset+r.size:r.offset;return r.position===0?n<=Ie-x?x:n<=X?X-n:Math.max(Ie-n,0):n<=X?X-n:n<=Ie-x?x:0}class Wr extends u.JT{constructor(n,r){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=u.JT.None,this.toDisposeOnSetContainer=u.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ue.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ue.Cp(this.view),this.setContainer(n,r),this._register((0,u.OF)(()=>this.setContainer(null,1)))}setContainer(n,r){var x;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(x=this.shadowRootHostElement)===null||x===void 0||x.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),n){if(this.container=n,this.useFixedPosition=r!==1,this.useShadowDOM=r===3,this.useShadowDOM){this.shadowRootHostElement=ue.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const te=document.createElement("style");te.textContent=ol,this.shadowRoot.appendChild(te),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ue.$("slot"))}else this.container.appendChild(this.view);const X=new u.SL;Wr.BUBBLE_UP_EVENTS.forEach(te=>{X.add(ue.mu(this.container,te,ye=>{this.onDOMEvent(ye,!1)}))}),Wr.BUBBLE_DOWN_EVENTS.forEach(te=>{X.add(ue.mu(this.container,te,ye=>{this.onDOMEvent(ye,!0)},!0))}),this.toDisposeOnSetContainer=X}}show(n){var r,x;this.isVisible()&&this.hide(),ue.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ue.$Z(this.view),this.toDisposeOnClean=n.render(this.view)||u.JT.None,this.delegate=n,this.doLayout(),(x=(r=this.delegate).focus)===null||x===void 0||x.call(r)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(Pi.gn&&sl.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const n=this.delegate.getAnchor();let r;if(ue.Re(n)){const Nt=ue.i(n),ci=ue.I8(n);r={top:Nt.top*ci,left:Nt.left*ci,width:Nt.width*ci,height:Nt.height*ci}}else r={top:n.y,left:n.x,width:n.width||1,height:n.height||2};const x=ue.w(this.view),X=ue.wn(this.view),te=this.delegate.anchorPosition||0,ye=this.delegate.anchorAlignment||0,Te=this.delegate.anchorAxisAlignment||0;let qe,ct;if(Te===0){const Nt={offset:r.top-window.pageYOffset,size:r.height,position:te===0?0:1},ci={offset:r.left,size:r.width,position:ye===0?0:1,mode:rr.ALIGN};qe=Br(window.innerHeight,X,Nt)+window.pageYOffset,La.e.intersects({start:qe,end:qe+X},{start:Nt.offset,end:Nt.offset+Nt.size})&&(ci.mode=rr.AVOID),ct=Br(window.innerWidth,x,ci)}else{const Nt={offset:r.left,size:r.width,position:ye===0?0:1},ci={offset:r.top,size:r.height,position:te===0?0:1,mode:rr.ALIGN};ct=Br(window.innerWidth,x,Nt),La.e.intersects({start:ct,end:ct+x},{start:Nt.offset,end:Nt.offset+Nt.size})&&(ci.mode=rr.AVOID),qe=Br(window.innerHeight,X,ci)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(te===0?"bottom":"top"),this.view.classList.add(ye===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const ht=ue.i(this.container);this.view.style.top=`${qe-(this.useFixedPosition?ue.i(this.view).top:ht.top)}px`,this.view.style.left=`${ct-(this.useFixedPosition?ue.i(this.view).left:ht.left)}px`,this.view.style.width="initial"}hide(n){const r=this.delegate;this.delegate=null,r!=null&&r.onHide&&r.onHide(n),this.toDisposeOnClean.dispose(),ue.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(n,r){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(n,document.activeElement):r&&!ue.jg(n.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Wr.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Wr.BUBBLE_DOWN_EVENTS=["click"];const ol=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var rl=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},al=function(Ie,n){return function(r,x){n(r,x,Ie)}};let Gr=class extends u.JT{constructor(n){super(),this.layoutService=n,this.currentViewDisposable=u.JT.None,this.container=n.hasContainer?n.container:null,this.contextView=this._register(new Wr(this.container,1)),this.layout(),this._register(n.onDidLayout(()=>this.layout()))}setContainer(n,r){this.contextView.setContainer(n,r||1)}showContextView(n,r,x){r?(r!==this.container||this.shadowRoot!==x)&&(this.container=r,this.setContainer(r,x?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=x,this.contextView.show(n);const X=(0,u.OF)(()=>{this.currentViewDisposable===X&&this.hideContextView()});return this.currentViewDisposable=X,X}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(n){this.contextView.hide(n)}};Gr=rl([al(0,Xs)],Gr);var Vr=t(9161),Uo=t(90638);let Hr=[],Da=[],la=[];function ca(Ie,n=!1){ka(Ie,!1,n)}function ka(Ie,n,r){const x=ll(Ie,n);Hr.push(x),x.userConfigured?la.push(x):Da.push(x),r&&!x.userConfigured&&Hr.forEach(X=>{X.mime===x.mime||X.userConfigured||(x.extension&&X.extension===x.extension&&console.warn(`Overwriting extension <<${x.extension}>> to now point to mime <<${x.mime}>>`),x.filename&&X.filename===x.filename&&console.warn(`Overwriting filename <<${x.filename}>> to now point to mime <<${x.mime}>>`),x.filepattern&&X.filepattern===x.filepattern&&console.warn(`Overwriting filepattern <<${x.filepattern}>> to now point to mime <<${x.mime}>>`),x.firstline&&X.firstline===x.firstline&&console.warn(`Overwriting firstline <<${x.firstline}>> to now point to mime <<${x.mime}>>`))})}function ll(Ie,n){return{id:Ie.id,mime:Ie.mime,filename:Ie.filename,extension:Ie.extension,filepattern:Ie.filepattern,firstline:Ie.firstline,userConfigured:n,filenameLowercase:Ie.filename?Ie.filename.toLowerCase():void 0,extensionLowercase:Ie.extension?Ie.extension.toLowerCase():void 0,filepatternLowercase:Ie.filepattern?_a(Ie.filepattern.toLowerCase()):void 0,filepatternOnPath:Ie.filepattern?Ie.filepattern.indexOf(xs.KR.sep)>=0:!1}}function cl(){Hr=Hr.filter(Ie=>Ie.userConfigured),Da=[]}function Fa(Ie,n){return dl(Ie,n).map(r=>r.id)}function dl(Ie,n){let r;if(Ie)switch(Ie.scheme){case Fi.lg.file:r=Ie.fsPath;break;case Fi.lg.data:{r=wa.Vb.parseMetaData(Ie).get(wa.Vb.META_DATA_LABEL);break}case Fi.lg.vscodeNotebookCell:r=void 0;break;default:r=Ie.path}if(!r)return[{id:"unknown",mime:Vr.v.unknown}];r=r.toLowerCase();const x=(0,xs.EZ)(r),X=Ba(r,x,la);if(X)return[X,{id:Uo.bd,mime:Vr.v.text}];const te=Ba(r,x,Da);if(te)return[te,{id:Uo.bd,mime:Vr.v.text}];if(n){const ye=Zr(n);if(ye)return[ye,{id:Uo.bd,mime:Vr.v.text}]}return[{id:"unknown",mime:Vr.v.unknown}]}function Ba(Ie,n,r){var x;let X,te,ye;for(let Te=r.length-1;Te>=0;Te--){const qe=r[Te];if(n===qe.filenameLowercase){X=qe;break}if(qe.filepattern&&(!te||qe.filepattern.length>te.filepattern.length)){const ct=qe.filepatternOnPath?Ie:n;!((x=qe.filepatternLowercase)===null||x===void 0)&&x.call(qe,ct)&&(te=qe)}qe.extension&&(!ye||qe.extension.length>ye.extension.length)&&n.endsWith(qe.extensionLowercase)&&(ye=qe)}if(X)return X;if(te)return te;if(ye)return ye}function Zr(Ie){if((0,_.uS)(Ie)&&(Ie=Ie.substr(1)),Ie.length>0)for(let n=Hr.length-1;n>=0;n--){const r=Hr[n];if(!r.firstline)continue;const x=Ie.match(r.firstline);if(x&&x.length>0)return r}}const Qr=Object.prototype.hasOwnProperty,da="vs.editor.nullLanguage";class Dl{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(da,0),this._register(Uo.bd,1),this._nextLanguageId=2}_register(n,r){this._languageIdToLanguage[r]=n,this._languageToLanguageId.set(n,r)}register(n){if(this._languageToLanguageId.has(n))return;const r=this._nextLanguageId++;this._register(n,r)}encodeLanguageId(n){return this._languageToLanguageId.get(n)||0}decodeLanguageId(n){return this._languageIdToLanguage[n]||da}}class Lr extends u.JT{constructor(n=!0,r=!1){super(),this._onDidChange=this._register(new E.Q5),this.onDidChange=this._onDidChange.event,Lr.instanceCount++,this._warnOnOverwrite=r,this.languageIdCodec=new Dl,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},n&&(this._initializeFromRegistry(),this._register(Uo.dQ.onDidChangeLanguages(x=>{this._initializeFromRegistry()})))}dispose(){Lr.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},cl();const n=[].concat(Uo.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(n)}_registerLanguages(n){for(const r of n)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{const x=this._languages[r];x.name&&(this._nameMap[x.name]=x.identifier),x.aliases.forEach(X=>{this._lowercaseNameMap[X.toLowerCase()]=x.identifier}),x.mimetypes.forEach(X=>{this._mimeTypesMap[X]=x.identifier})}),yr.B.as(Wo.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(n){const r=n.id;let x;Qr.call(this._languages,r)?x=this._languages[r]:(this.languageIdCodec.register(r),x={identifier:r,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[r]=x),this._mergeLanguage(x,n)}_mergeLanguage(n,r){const x=r.id;let X=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(n.mimetypes.push(...r.mimetypes),X=r.mimetypes[0]),X||(X=`text/x-${x}`,n.mimetypes.push(X)),Array.isArray(r.extensions)){r.configuration?n.extensions=r.extensions.concat(n.extensions):n.extensions=n.extensions.concat(r.extensions);for(const Te of r.extensions)ca({id:x,mime:X,extension:Te},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(const Te of r.filenames)ca({id:x,mime:X,filename:Te},this._warnOnOverwrite),n.filenames.push(Te);if(Array.isArray(r.filenamePatterns))for(const Te of r.filenamePatterns)ca({id:x,mime:X,filepattern:Te},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let Te=r.firstLine;Te.charAt(0)!=="^"&&(Te="^"+Te);try{const qe=new RegExp(Te);(0,_.IO)(qe)||ca({id:x,mime:X,firstline:qe},this._warnOnOverwrite)}catch(qe){console.warn(`[${r.id}]: Invalid regular expression \`${Te}\`: `,qe)}}n.aliases.push(x);let te=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?te=[null]:te=r.aliases),te!==null)for(const Te of te)!Te||Te.length===0||n.aliases.push(Te);const ye=te!==null&&te.length>0;if(!(ye&&te[0]===null)){const Te=(ye?te[0]:null)||x;(ye||!n.name)&&(n.name=Te)}r.configuration&&n.configurationFiles.push(r.configuration),r.icon&&n.icons.push(r.icon)}isRegisteredLanguageId(n){return n?Qr.call(this._languages,n):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(n){const r=n.toLowerCase();return Qr.call(this._lowercaseNameMap,r)?this._lowercaseNameMap[r]:null}getLanguageIdByMimeType(n){return n&&Qr.call(this._mimeTypesMap,n)?this._mimeTypesMap[n]:null}guessLanguageIdByFilepathOrFirstLine(n,r){return!n&&!r?[]:Fa(n,r)}}Lr.instanceCount=0;class Dr extends u.JT{constructor(n=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new E.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new E.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new E.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,Dr.instanceCount++,this._registry=this._register(new Lr(!0,n)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Dr.instanceCount--,super.dispose()}isRegisteredLanguageId(n){return this._registry.isRegisteredLanguageId(n)}getLanguageIdByLanguageName(n){return this._registry.getLanguageIdByLanguageName(n)}getLanguageIdByMimeType(n){return this._registry.getLanguageIdByMimeType(n)}guessLanguageIdByFilepathOrFirstLine(n,r){const x=this._registry.guessLanguageIdByFilepathOrFirstLine(n,r);return(0,Ys.Xh)(x,null)}createById(n){return new Wa(this.onDidChange,()=>this._createAndGetLanguageIdentifier(n))}createByFilepathOrFirstLine(n,r){return new Wa(this.onDidChange,()=>{const x=this.guessLanguageIdByFilepathOrFirstLine(n,r);return this._createAndGetLanguageIdentifier(x)})}_createAndGetLanguageIdentifier(n){return(!n||!this.isRegisteredLanguageId(n))&&(n=Uo.bd),n}requestBasicLanguageFeatures(n){this._requestedBasicLanguages.has(n)||(this._requestedBasicLanguages.add(n),this._onDidRequestBasicLanguageFeatures.fire(n))}requestRichLanguageFeatures(n){this._requestedRichLanguages.has(n)||(this._requestedRichLanguages.add(n),this.requestBasicLanguageFeatures(n),S.RW.getOrCreate(n),this._onDidRequestRichLanguageFeatures.fire(n))}}Dr.instanceCount=0;class Wa{constructor(n,r){this._onDidChangeLanguages=n,this._selector=r,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new E.Q5({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var n;const r=this._selector();r!==this.languageId&&(this.languageId=r,(n=this._emitter)===null||n===void 0||n.fire(this.languageId))}}var Va=t(3941),ho=t(21208),Yr=t(64079),Ea=t(71488),Ue=t(80265),rt=t(31957),kt=t(5858);const Kt=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ut=/(&amp;)?(&amp;)([^\s&])/g;var li;(function(Ie){Ie[Ie.Right=0]="Right",Ie[Ie.Left=1]="Left"})(li||(li={}));class vi extends Ye.o{constructor(n,r,x,X){n.classList.add("monaco-menu-container"),n.setAttribute("role","presentation");const te=document.createElement("div");te.classList.add("monaco-menu"),te.setAttribute("role","presentation"),super(te,{orientation:1,actionViewItemProvider:qe=>this.doGetActionViewItem(qe,x,ye),context:x.context,actionRunner:x.actionRunner,ariaLabel:x.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Pi.dz||Pi.IJ?[10]:[]],keyDown:!0}}),this.menuStyles=X,this.menuElement=te,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new u.SL),this.initializeOrUpdateStyleSheet(n,X),this._register(Ue.o.addTarget(te)),(0,ue.nm)(te,ue.tw.KEY_DOWN,qe=>{new Oo.y(qe).equals(2)&&qe.preventDefault()}),x.enableMnemonics&&this.menuDisposables.add((0,ue.nm)(te,ue.tw.KEY_DOWN,qe=>{const ct=qe.key.toLocaleLowerCase();if(this.mnemonics.has(ct)){ue.zB.stop(qe,!0);const ht=this.mnemonics.get(ct);if(ht.length===1&&(ht[0]instanceof Ii&&ht[0].container&&this.focusItemByElement(ht[0].container),ht[0].onClick(qe)),ht.length>1){const Nt=ht.shift();Nt&&Nt.container&&(this.focusItemByElement(Nt.container),ht.push(Nt)),this.mnemonics.set(ct,ht)}}})),Pi.IJ&&this._register((0,ue.nm)(te,ue.tw.KEY_DOWN,qe=>{const ct=new Oo.y(qe);ct.equals(14)||ct.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ue.zB.stop(qe,!0)):(ct.equals(13)||ct.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ue.zB.stop(qe,!0))})),this._register((0,ue.nm)(this.domNode,ue.tw.MOUSE_OUT,qe=>{const ct=qe.relatedTarget;(0,ue.jg)(ct,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),qe.stopPropagation())})),this._register((0,ue.nm)(this.actionsList,ue.tw.MOUSE_OVER,qe=>{let ct=qe.target;if(!(!ct||!(0,ue.jg)(ct,this.actionsList)||ct===this.actionsList)){for(;ct.parentElement!==this.actionsList&&ct.parentElement!==null;)ct=ct.parentElement;if(ct.classList.contains("action-item")){const ht=this.focusedItem;this.setFocusedItem(ct),ht!==this.focusedItem&&this.updateFocus()}}})),this._register(Ue.o.addTarget(this.actionsList)),this._register((0,ue.nm)(this.actionsList,Ue.t.Tap,qe=>{let ct=qe.initialTarget;if(!(!ct||!(0,ue.jg)(ct,this.actionsList)||ct===this.actionsList)){for(;ct.parentElement!==this.actionsList&&ct.parentElement!==null;)ct=ct.parentElement;if(ct.classList.contains("action-item")){const ht=this.focusedItem;this.setFocusedItem(ct),ht!==this.focusedItem&&this.updateFocus()}}}));const ye={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new ut.s$(te,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Te=this.scrollableElement.getDomNode();Te.style.position="",this.styleScrollElement(Te,X),this._register((0,ue.nm)(te,Ue.t.Change,qe=>{ue.zB.stop(qe,!0);const ct=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:ct-qe.translationY})})),this._register((0,ue.nm)(Te,ue.tw.MOUSE_UP,qe=>{qe.preventDefault()})),te.style.maxHeight=`${Math.max(10,window.innerHeight-n.getBoundingClientRect().top-35)}px`,r=r.filter(qe=>{var ct;return!((ct=x.submenuIds)===null||ct===void 0)&&ct.has(qe.id)?(console.warn(`Found submenu cycle: ${qe.id}`),!1):!0}),this.push(r,{icon:!0,label:!0,isMenu:!0}),n.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(qe=>!(qe instanceof Ji)).forEach((qe,ct,ht)=>{qe.updatePositionInSet(ct+1,ht.length)})}initializeOrUpdateStyleSheet(n,r){this.styleSheet||((0,ue.OO)(n)?this.styleSheet=(0,ue.dS)(n):(vi.globalStyleSheet||(vi.globalStyleSheet=(0,ue.dS)()),this.styleSheet=vi.globalStyleSheet)),this.styleSheet.textContent=_n(r,(0,ue.OO)(n))}styleScrollElement(n,r){var x,X;const te=(x=r.foregroundColor)!==null&&x!==void 0?x:"",ye=(X=r.backgroundColor)!==null&&X!==void 0?X:"",Te=r.borderColor?`1px solid ${r.borderColor}`:"",qe="5px",ct=r.shadowColor?`0 2px 8px ${r.shadowColor}`:"";n.style.outline=Te,n.style.borderRadius=qe,n.style.color=te,n.style.backgroundColor=ye,n.style.boxShadow=ct}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(n){const r=this.focusedItem;this.setFocusedItem(n),r!==this.focusedItem&&this.updateFocus()}setFocusedItem(n){for(let r=0;r<this.actionsList.children.length;r++){const x=this.actionsList.children[r];if(n===x){this.focusedItem=r;break}}}updateFocus(n){super.updateFocus(n,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(n,r,x){if(n instanceof dt.Z0)return new Ji(r.context,n,{icon:!0},this.menuStyles);if(n instanceof dt.wY){const X=new Ii(n,n.actions,x,Object.assign(Object.assign({},r),{submenuIds:new Set([...r.submenuIds||[],n.id])}),this.menuStyles);if(r.enableMnemonics){const te=X.getMnemonic();if(te&&X.isEnabled()){let ye=[];this.mnemonics.has(te)&&(ye=this.mnemonics.get(te)),ye.push(X),this.mnemonics.set(te,ye)}}return X}else{const X={enableMnemonics:r.enableMnemonics,useEventAsContext:r.useEventAsContext};if(r.getKeyBinding){const ye=r.getKeyBinding(n);if(ye){const Te=ye.getLabel();Te&&(X.keybinding=Te)}}const te=new Mi(r.context,n,X,this.menuStyles);if(r.enableMnemonics){const ye=te.getMnemonic();if(ye&&te.isEnabled()){let Te=[];this.mnemonics.has(ye)&&(Te=this.mnemonics.get(ye)),Te.push(te),this.mnemonics.set(ye,Te)}}return te}}}class Mi extends rt.YH{constructor(n,r,x,X){if(x.isMenu=!0,super(r,r,x),this.menuStyle=X,this.options=x,this.options.icon=x.icon!==void 0?x.icon:!1,this.options.label=x.label!==void 0?x.label:!0,this.cssClass="",this.options.label&&x.enableMnemonics){const te=this.action.label;if(te){const ye=Kt.exec(te);ye&&(this.mnemonic=(ye[1]?ye[1]:ye[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new nt.pY(()=>{this.element&&(this._register((0,ue.nm)(this.element,ue.tw.MOUSE_UP,te=>{if(ue.zB.stop(te,!0),Ea.isFirefox){if(new Yr.n(te).rightButton)return;this.onClick(te)}else setTimeout(()=>{this.onClick(te)},0)})),this._register((0,ue.nm)(this.element,ue.tw.CONTEXT_MENU,te=>{ue.zB.stop(te,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(n){super.render(n),this.element&&(this.container=n,this.item=(0,ue.R3)(this.element,(0,ue.$)("a.action-menu-item")),this._action.id===dt.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,ue.R3)(this.item,(0,ue.$)("span.menu-item-check"+Wt.k.asCSSSelector(tt.l.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,ue.R3)(this.item,(0,ue.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,ue.R3)(this.item,(0,ue.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var n;super.focus(),(n=this.item)===null||n===void 0||n.focus(),this.applyStyle()}updatePositionInSet(n,r){this.item&&(this.item.setAttribute("aria-posinset",`${n}`),this.item.setAttribute("aria-setsize",`${r}`))}updateLabel(){var n;if(this.label&&this.options.label){(0,ue.PO)(this.label);let r=(0,kt.x$)(this.action.label);if(r){const x=nn(r);this.options.enableMnemonics||(r=x),this.label.setAttribute("aria-label",x.replace(/&&/g,"&"));const X=Kt.exec(r);if(X){r=_.YU(r),Ut.lastIndex=0;let te=Ut.exec(r);for(;te&&te[1];)te=Ut.exec(r);const ye=Te=>Te.replace(/&amp;&amp;/g,"&amp;");te?this.label.append(_.j3(ye(r.substr(0,te.index))," "),(0,ue.$)("u",{"aria-hidden":"true"},te[3]),_.oL(ye(r.substr(te.index+te[0].length))," ")):this.label.innerText=ye(r).trim(),(n=this.item)===null||n===void 0||n.setAttribute("aria-keyshortcuts",(X[1]?X[1]:X[3]).toLocaleLowerCase())}else this.label.innerText=r.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const n=this.action.checked;this.item.classList.toggle("checked",!!n),n!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",n?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const n=this.element&&this.element.classList.contains("focused"),r=n&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,x=n&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,X=n&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",te=n&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=r!=null?r:"",this.item.style.backgroundColor=x!=null?x:"",this.item.style.outline=X,this.item.style.outlineOffset=te),this.check&&(this.check.style.color=r!=null?r:"")}}class Ii extends Mi{constructor(n,r,x,X,te){super(n,n,X,te),this.submenuActions=r,this.parentData=x,this.submenuOptions=X,this.mysubmenu=null,this.submenuDisposables=this._register(new u.SL),this.mouseOver=!1,this.expandDirection=X&&X.expandDirection!==void 0?X.expandDirection:li.Right,this.showScheduler=new nt.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new nt.pY(()=>{this.element&&!(0,ue.jg)((0,ue.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(n){super.render(n),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,ue.R3)(this.item,(0,ue.$)("span.submenu-indicator"+Wt.k.asCSSSelector(tt.l.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,ue.nm)(this.element,ue.tw.KEY_UP,r=>{const x=new Oo.y(r);(x.equals(17)||x.equals(3))&&(ue.zB.stop(r,!0),this.createSubmenu(!0))})),this._register((0,ue.nm)(this.element,ue.tw.KEY_DOWN,r=>{const x=new Oo.y(r);(0,ue.vY)()===this.item&&(x.equals(17)||x.equals(3))&&ue.zB.stop(r,!0)})),this._register((0,ue.nm)(this.element,ue.tw.MOUSE_OVER,r=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,ue.nm)(this.element,ue.tw.MOUSE_LEAVE,r=>{this.mouseOver=!1})),this._register((0,ue.nm)(this.element,ue.tw.FOCUS_OUT,r=>{this.element&&!(0,ue.jg)((0,ue.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(n){ue.zB.stop(n,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(n){if(this.parentData.submenu&&(n||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(r){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(n,r,x,X){const te={top:0,left:0};return te.left=Br(n.width,r.width,{position:X===li.Right?0:1,offset:x.left,size:x.width}),te.left>=x.left&&te.left<x.left+x.width&&(x.left+10+r.width<=n.width&&(te.left=x.left+10),x.top+=10,x.height=0),te.top=Br(n.height,r.height,{position:0,offset:x.top,size:0}),te.top+r.height===x.top&&te.top+x.height+r.height<=n.height&&(te.top+=x.height),te}createSubmenu(n=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,ue.R3)(this.element,(0,ue.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const r=getComputedStyle(this.parentData.parent.domNode),x=parseFloat(r.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new vi(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new dt.eZ],this.submenuOptions,this.menuStyle);const X=this.element.getBoundingClientRect(),te={top:X.top-x,left:X.left,height:X.height+2*x,width:X.width},ye=this.submenuContainer.getBoundingClientRect(),{top:Te,left:qe}=this.calculateSubmenuMenuLayout(new ue.Ro(window.innerWidth,window.innerHeight),ue.Ro.lift(ye),te,this.expandDirection);this.submenuContainer.style.left=`${qe-ye.left}px`,this.submenuContainer.style.top=`${Te-ye.top}px`,this.submenuDisposables.add((0,ue.nm)(this.submenuContainer,ue.tw.KEY_UP,ct=>{new Oo.y(ct).equals(15)&&(ue.zB.stop(ct,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,ue.nm)(this.submenuContainer,ue.tw.KEY_DOWN,ct=>{new Oo.y(ct).equals(15)&&ue.zB.stop(ct,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(n),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(n){var r;this.item&&((r=this.item)===null||r===void 0||r.setAttribute("aria-expanded",n))}applyStyle(){super.applyStyle();const r=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=r!=null?r:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Ji extends rt.gU{constructor(n,r,x,X){super(n,r,x),this.menuStyles=X}render(n){super.render(n),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function nn(Ie){const n=Kt,r=n.exec(Ie);if(!r)return Ie;const x=!r[1];return Ie.replace(n,x?"$2$3":"").trim()}function en(Ie){const n=(0,tt.u)()[Ie.id];return`.codicon-${Ie.id}:before { content: '\\${n.toString(16)}'; }`}function _n(Ie,n){let r=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${en(tt.l.menuSelection)}
${en(tt.l.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(n){r+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const x=Ie.scrollbarShadow;x&&(r+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${x} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${x} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${x} 6px 6px 6px -6px inset;
				}
			`);const X=Ie.scrollbarSliderBackground;X&&(r+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${X};
				}
			`);const te=Ie.scrollbarSliderHoverBackground;te&&(r+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${te};
				}
			`);const ye=Ie.scrollbarSliderActiveBackground;ye&&(r+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${ye};
				}
			`)}return r}var kn=t(60140);class pn{constructor(n,r,x,X){this.contextViewService=n,this.telemetryService=r,this.notificationService=x,this.keybindingService=X,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(n){this.options=n}showContextMenu(n){const r=n.getActions();if(!r.length)return;this.focusToReturn=document.activeElement;let x;const X=(0,ue.Re)(n.domForShadowRoot)?n.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>n.getAnchor(),canRelayout:!1,anchorAlignment:n.anchorAlignment,anchorAxisAlignment:n.anchorAxisAlignment,render:te=>{var ye;this.lastContainer=te;const Te=n.getMenuClassName?n.getMenuClassName():"";Te&&(te.className+=" "+Te),this.options.blockMouse&&(this.block=te.appendChild((0,ue.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(ye=this.blockDisposable)===null||ye===void 0||ye.dispose(),this.blockDisposable=(0,ue.nm)(this.block,ue.tw.MOUSE_DOWN,ht=>ht.stopPropagation()));const qe=new u.SL,ct=n.actionRunner||new dt.Wi;return ct.onWillRun(ht=>this.onActionRun(ht,!n.skipTelemetry),this,qe),ct.onDidRun(this.onDidActionRun,this,qe),x=new vi(te,r,{actionViewItemProvider:n.getActionViewItem,context:n.getActionsContext?n.getActionsContext():null,actionRunner:ct,getKeyBinding:n.getKeyBinding?n.getKeyBinding:ht=>this.keybindingService.lookupKeybinding(ht.id)},kn.ZR),x.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,qe),x.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,qe),qe.add((0,ue.nm)(window,ue.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),qe.add((0,ue.nm)(window,ue.tw.MOUSE_DOWN,ht=>{if(ht.defaultPrevented)return;const Nt=new Yr.n(ht);let ci=Nt.target;if(!Nt.rightButton){for(;ci;){if(ci===te)return;ci=ci.parentElement}this.contextViewService.hideContextView(!0)}})),(0,u.F8)(qe,x)},focus:()=>{x==null||x.focus(!!n.autoSelectFirstItem)},onHide:te=>{var ye,Te,qe;(ye=n.onHide)===null||ye===void 0||ye.call(n,!!te),this.block&&(this.block.remove(),this.block=null),(Te=this.blockDisposable)===null||Te===void 0||Te.dispose(),this.blockDisposable=null,this.lastContainer&&((0,ue.vY)()===this.lastContainer||(0,ue.jg)((0,ue.vY)(),this.lastContainer))&&((qe=this.focusToReturn)===null||qe===void 0||qe.focus()),this.lastContainer=null}},X,!!X)}onActionRun(n,r){r&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:n.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(n){n.error&&!(0,st.n2)(n.error)&&this.notificationService.error(n.error)}}var Bn=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Tn=function(Ie,n){return function(r,x){n(r,x,Ie)}};let Un=class extends u.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new pn(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(n,r,x,X,te,ye){super(),this.telemetryService=n,this.notificationService=r,this.contextViewService=x,this.keybindingService=X,this.menuService=te,this.contextKeyService=ye,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new E.Q5),this._onDidHideContextMenu=this._store.add(new E.Q5)}configure(n){this.contextMenuHandler.configure(n)}showContextMenu(n){n=Pn.transform(n,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},n),{onHide:r=>{var x;(x=n.onHide)===null||x===void 0||x.call(n,r),this._onDidHideContextMenu.fire()}})),ue._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Un=Bn([Tn(0,ti.b),Tn(1,_t.lT),Tn(2,ai.u),Tn(3,wr.d),Tn(4,ho.co),Tn(5,ni.i6)],Un);var Pn;(function(Ie){function n(x){return x&&x.menuId instanceof ho.eH}function r(x,X,te){if(!n(x))return x;const{menuId:ye,menuActionOptions:Te,contextKeyService:qe}=x;return Object.assign(Object.assign({},x),{getActions:()=>{const ct=[];if(ye){const ht=X.createMenu(ye,qe!=null?qe:te);(0,Va.LJ)(ht,Te,ct),ht.dispose()}return x.getActions?dt.Z0.join(x.getActions(),ct):ct}})}Ie.transform=r})(Pn||(Pn={}));var En=t(97464),zn=t(65533),Kn;(function(Ie){Ie[Ie.API=0]="API",Ie[Ie.USER=1]="USER"})(Kn||(Kn={}));var an=t(48786),Wn=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},os=function(Ie,n){return function(r,x){n(r,x,Ie)}},An=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};let ls=class{constructor(n){this._commandService=n}open(n,r){return An(this,void 0,void 0,function*(){if(!(0,an.xn)(n,Fi.lg.command))return!1;if(!(r!=null&&r.allowCommands)||(typeof n=="string"&&(n=p.o.parse(n)),Array.isArray(r.allowCommands)&&!r.allowCommands.includes(n.path)))return!0;let x=[];try{x=(0,zn.Qc)(decodeURIComponent(n.query))}catch(X){try{x=(0,zn.Qc)(n.query)}catch(te){}}return Array.isArray(x)||(x=[x]),yield this._commandService.executeCommand(n.path,...x),!0})}};ls=Wn([os(0,lo.H)],ls);let Ln=class{constructor(n){this._editorService=n}open(n,r){return An(this,void 0,void 0,function*(){typeof n=="string"&&(n=p.o.parse(n));const{selection:x,uri:X}=(0,an.xI)(n);return n=X,n.scheme===Fi.lg.file&&(n=(0,wa.AH)(n)),yield this._editorService.openCodeEditor({resource:n,options:Object.assign({selection:x,source:r!=null&&r.fromUserGesture?Kn.USER:Kn.API},r==null?void 0:r.editorOptions)},this._editorService.getFocusedCodeEditor(),r==null?void 0:r.openToSide),!0})}};Ln=Wn([os(0,I.$)],Ln);let rs=class{constructor(n,r){this._openers=new rn.S,this._validators=new rn.S,this._resolvers=new rn.S,this._resolvedUriTargets=new vs.Y9(x=>x.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new rn.S,this._defaultExternalOpener={openExternal:x=>An(this,void 0,void 0,function*(){return(0,an.Gs)(x,Fi.lg.http,Fi.lg.https)?ue.V3(x):window.location.href=x,!0})},this._openers.push({open:(x,X)=>An(this,void 0,void 0,function*(){return X!=null&&X.openExternal||(0,an.Gs)(x,Fi.lg.mailto,Fi.lg.http,Fi.lg.https,Fi.lg.vsls)?(yield this._doOpenExternal(x,X),!0):!1})}),this._openers.push(new ls(r)),this._openers.push(new Ln(n))}registerOpener(n){return{dispose:this._openers.unshift(n)}}open(n,r){var x;return An(this,void 0,void 0,function*(){const X=typeof n=="string"?p.o.parse(n):n,te=(x=this._resolvedUriTargets.get(X))!==null&&x!==void 0?x:n;for(const ye of this._validators)if(!(yield ye.shouldOpen(te,r)))return!1;for(const ye of this._openers)if(yield ye.open(n,r))return!0;return!1})}resolveExternalUri(n,r){return An(this,void 0,void 0,function*(){for(const x of this._resolvers)try{const X=yield x.resolveExternalUri(n,r);if(X)return this._resolvedUriTargets.has(X.resolved)||this._resolvedUriTargets.set(X.resolved,n),X}catch(X){}throw new Error("Could not resolve external URI: "+n.toString())})}_doOpenExternal(n,r){return An(this,void 0,void 0,function*(){const x=typeof n=="string"?p.o.parse(n):n;let X;try{X=(yield this.resolveExternalUri(x,r)).resolved}catch(ye){X=x}let te;if(typeof n=="string"&&x.toString()===X.toString()?te=n:te=encodeURI(X.toString(!0)),r!=null&&r.allowContributedOpeners){const ye=typeof(r==null?void 0:r.allowContributedOpeners)=="string"?r==null?void 0:r.allowContributedOpeners:void 0;for(const Te of this._externalOpeners)if(yield Te.openExternal(te,{sourceUri:x,preferredOpenerId:ye},En.T.None))return!0}return this._defaultExternalOpener.openExternal(te,{sourceUri:x},En.T.None)})}dispose(){this._validators.clear()}};rs=Wn([os(0,I.$),os(1,lo.H)],rs);var Rn=t(36156),as=t(44411),Is=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},zs=function(Ie,n){return function(r,x){n(r,x,Ie)}};class Et extends u.JT{constructor(n){super(),this.model=n,this._markersData=new Map,this._register((0,u.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(n,r){const x=[...this._markersData.keys()];this._markersData.clear();const X=this.model.deltaDecorations(x,r);for(let te=0;te<X.length;te++)this._markersData.set(X[te],n[te]);return x.length!==0||X.length!==0}getMarker(n){return this._markersData.get(n.id)}}let e=class extends u.JT{constructor(n,r){super(),this._markerService=r,this._onDidChangeMarker=this._register(new E.Q5),this._markerDecorations=new vs.Y9,n.getModels().forEach(x=>this._onModelAdded(x)),this._register(n.onModelAdded(this._onModelAdded,this)),this._register(n.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(n=>n.dispose()),this._markerDecorations.clear()}getMarker(n,r){const x=this._markerDecorations.get(n);return x&&x.getMarker(r)||null}_handleMarkerChange(n){n.forEach(r=>{const x=this._markerDecorations.get(r);x&&this._updateDecorations(x)})}_onModelAdded(n){const r=new Et(n);this._markerDecorations.set(n.uri,r),this._updateDecorations(r)}_onModelRemoved(n){var r;const x=this._markerDecorations.get(n.uri);x&&(x.dispose(),this._markerDecorations.delete(n.uri)),(n.uri.scheme===Fi.lg.inMemory||n.uri.scheme===Fi.lg.internal||n.uri.scheme===Fi.lg.vscode)&&((r=this._markerService)===null||r===void 0||r.read({resource:n.uri}).map(X=>X.owner).forEach(X=>this._markerService.remove(X,[n.uri])))}_updateDecorations(n){const r=this._markerService.read({resource:n.model.uri,take:500}),x=r.map(X=>({range:this._createDecorationRange(n.model,X),options:this._createDecorationOption(X)}));n.update(r,x)&&this._onDidChangeMarker.fire(n.model)}_createDecorationRange(n,r){let x=a.e.lift(r);if(r.severity===Rn.ZL.Hint&&!this._hasMarkerTag(r,1)&&!this._hasMarkerTag(r,2)&&(x=x.setEndPosition(x.startLineNumber,x.startColumn+2)),x=n.validateRange(x),x.isEmpty()){const X=n.getLineLastNonWhitespaceColumn(x.startLineNumber)||n.getLineMaxColumn(x.startLineNumber);if(X===1||x.endColumn>=X)return x;const te=n.getWordAtPosition(x.getStartPosition());te&&(x=new a.e(x.startLineNumber,te.startColumn,x.endLineNumber,te.endColumn))}else if(r.endColumn===Number.MAX_VALUE&&r.startColumn===1&&x.startLineNumber===x.endLineNumber){const X=n.getLineFirstNonWhitespaceColumn(r.startLineNumber);X<x.endColumn&&(x=new a.e(x.startLineNumber,X,x.endLineNumber,x.endColumn),r.startColumn=X)}return x}_createDecorationOption(n){let r,x,X,te,ye;switch(n.severity){case Rn.ZL.Hint:this._hasMarkerTag(n,2)?r=void 0:this._hasMarkerTag(n,1)?r="squiggly-unnecessary":r="squiggly-hint",X=0;break;case Rn.ZL.Warning:r="squiggly-warning",x=(0,at.EN)(as.Re),X=20,ye={color:(0,at.EN)(Ht.Ivo),position:C.F5.Inline};break;case Rn.ZL.Info:r="squiggly-info",x=(0,at.EN)(as.eS),X=10;break;case Rn.ZL.Error:default:r="squiggly-error",x=(0,at.EN)(as.lK),X=30,ye={color:(0,at.EN)(Ht.Gj_),position:C.F5.Inline};break}return n.tags&&(n.tags.indexOf(1)!==-1&&(te="squiggly-inline-unnecessary"),n.tags.indexOf(2)!==-1&&(te="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:r,showIfCollapsed:!0,overviewRuler:{color:x,position:C.sh.Right},minimap:ye,zIndex:X,inlineClassName:te}}_hasMarkerTag(n,r){return n.tags?n.tags.indexOf(r)>=0:!1}};e=Is([zs(0,D.q),zs(1,Rn.lT)],e);var o=t(52919),y=t(56318),W=t(32916),G=t(75565),be=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Oe=function(Ie,n){return function(r,x){n(r,x,Ie)}};function Ze(Ie){return Ie.toString()}function et(Ie){const n=new W.yP,r=Ie.createSnapshot();let x;for(;x=r.read();)n.update(x);return n.digest()}class it{constructor(n,r,x){this.model=n,this._modelEventListeners=new u.SL,this.model=n,this._modelEventListeners.add(n.onWillDispose(()=>r(n))),this._modelEventListeners.add(n.onDidChangeLanguage(X=>x(n,X)))}dispose(){this._modelEventListeners.dispose()}}const pt=Pi.IJ||Pi.dz?1:2;class Ft{constructor(n,r,x,X,te,ye,Te,qe){this.uri=n,this.initialUndoRedoSnapshot=r,this.time=x,this.sharesUndoRedoStack=X,this.heapSize=te,this.sha1=ye,this.versionId=Te,this.alternativeVersionId=qe}}let Ot=class wl extends u.JT{constructor(n,r,x,X,te){super(),this._configurationService=n,this._resourcePropertiesService=r,this._undoRedoService=x,this._languageService=X,this._languageConfigurationService=te,this._onModelAdded=this._register(new E.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new E.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new E.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(ye=>this._updateModelOptions(ye))),this._updateModelOptions(void 0)}static _readModelOptions(n,r){var x;let X=y.D.tabSize;if(n.editor&&typeof n.editor.tabSize!="undefined"){const Ci=parseInt(n.editor.tabSize,10);isNaN(Ci)||(X=Ci),X<1&&(X=1)}let te="tabSize";if(n.editor&&typeof n.editor.indentSize!="undefined"&&n.editor.indentSize!=="tabSize"){const Ci=parseInt(n.editor.indentSize,10);isNaN(Ci)||(te=Math.max(Ci,1))}let ye=y.D.insertSpaces;n.editor&&typeof n.editor.insertSpaces!="undefined"&&(ye=n.editor.insertSpaces==="false"?!1:!!n.editor.insertSpaces);let Te=pt;const qe=n.eol;qe===`\r
`?Te=2:qe===`
`&&(Te=1);let ct=y.D.trimAutoWhitespace;n.editor&&typeof n.editor.trimAutoWhitespace!="undefined"&&(ct=n.editor.trimAutoWhitespace==="false"?!1:!!n.editor.trimAutoWhitespace);let ht=y.D.detectIndentation;n.editor&&typeof n.editor.detectIndentation!="undefined"&&(ht=n.editor.detectIndentation==="false"?!1:!!n.editor.detectIndentation);let Nt=y.D.largeFileOptimizations;n.editor&&typeof n.editor.largeFileOptimizations!="undefined"&&(Nt=n.editor.largeFileOptimizations==="false"?!1:!!n.editor.largeFileOptimizations);let ci=y.D.bracketPairColorizationOptions;return!((x=n.editor)===null||x===void 0)&&x.bracketPairColorization&&typeof n.editor.bracketPairColorization=="object"&&(ci={enabled:!!n.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!n.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:r,tabSize:X,indentSize:te,insertSpaces:ye,detectIndentation:ht,defaultEOL:Te,trimAutoWhitespace:ct,largeFileOptimizations:Nt,bracketPairColorizationOptions:ci}}_getEOL(n,r){if(n)return this._resourcePropertiesService.getEOL(n,r);const x=this._configurationService.getValue("files.eol",{overrideIdentifier:r});return x&&typeof x=="string"&&x!=="auto"?x:Pi.OS===3||Pi.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const n=this._configurationService.getValue("files.restoreUndoStack");return typeof n=="boolean"?n:!0}getCreationOptions(n,r,x){const X=typeof n=="string"?n:n.languageId;let te=this._modelCreationOptionsByLanguageAndResource[X+r];if(!te){const ye=this._configurationService.getValue("editor",{overrideIdentifier:X,resource:r}),Te=this._getEOL(r,X);te=wl._readModelOptions({editor:ye,eol:Te},x),this._modelCreationOptionsByLanguageAndResource[X+r]=te}return te}_updateModelOptions(n){const r=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const x=Object.keys(this._models);for(let X=0,te=x.length;X<te;X++){const ye=x[X],Te=this._models[ye],qe=Te.model.getLanguageId(),ct=Te.model.uri;if(n&&!n.affectsConfiguration("editor",{overrideIdentifier:qe,resource:ct})&&!n.affectsConfiguration("files.eol",{overrideIdentifier:qe,resource:ct}))continue;const ht=r[qe+ct],Nt=this.getCreationOptions(qe,ct,Te.model.isForSimpleWidget);wl._setModelOptionsForModel(Te.model,Nt,ht)}}static _setModelOptionsForModel(n,r,x){x&&x.defaultEOL!==r.defaultEOL&&n.getLineCount()===1&&n.setEOL(r.defaultEOL===1?0:1),!(x&&x.detectIndentation===r.detectIndentation&&x.insertSpaces===r.insertSpaces&&x.tabSize===r.tabSize&&x.indentSize===r.indentSize&&x.trimAutoWhitespace===r.trimAutoWhitespace&&(0,g.fS)(x.bracketPairColorizationOptions,r.bracketPairColorizationOptions))&&(r.detectIndentation?(n.detectIndentation(r.insertSpaces,r.tabSize),n.updateOptions({trimAutoWhitespace:r.trimAutoWhitespace,bracketColorizationOptions:r.bracketPairColorizationOptions})):n.updateOptions({insertSpaces:r.insertSpaces,tabSize:r.tabSize,indentSize:r.indentSize,trimAutoWhitespace:r.trimAutoWhitespace,bracketColorizationOptions:r.bracketPairColorizationOptions}))}_insertDisposedModel(n){this._disposedModels.set(Ze(n.uri),n),this._disposedModelsHeapSize+=n.heapSize}_removeDisposedModel(n){const r=this._disposedModels.get(Ze(n));return r&&(this._disposedModelsHeapSize-=r.heapSize),this._disposedModels.delete(Ze(n)),r}_ensureDisposedModelsHeapSize(n){if(this._disposedModelsHeapSize>n){const r=[];for(this._disposedModels.forEach(x=>{x.sharesUndoRedoStack||r.push(x)}),r.sort((x,X)=>x.time-X.time);r.length>0&&this._disposedModelsHeapSize>n;){const x=r.shift();this._removeDisposedModel(x.uri),x.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(x.initialUndoRedoSnapshot)}}}_createModelData(n,r,x,X){const te=this.getCreationOptions(r,x,X),ye=new tn.yO(n,r,te,x,this._undoRedoService,this._languageService,this._languageConfigurationService);if(x&&this._disposedModels.has(Ze(x))){const ct=this._removeDisposedModel(x),ht=this._undoRedoService.getElements(x),Nt=et(ye)===ct.sha1;if(Nt||ct.sharesUndoRedoStack){for(const ci of ht.past)(0,G.e9)(ci)&&ci.matchesResource(x)&&ci.setModel(ye);for(const ci of ht.future)(0,G.e9)(ci)&&ci.matchesResource(x)&&ci.setModel(ye);this._undoRedoService.setElementsValidFlag(x,!0,ci=>(0,G.e9)(ci)&&ci.matchesResource(x)),Nt&&(ye._overwriteVersionId(ct.versionId),ye._overwriteAlternativeVersionId(ct.alternativeVersionId),ye._overwriteInitialUndoRedoSnapshot(ct.initialUndoRedoSnapshot))}else ct.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ct.initialUndoRedoSnapshot)}const Te=Ze(ye.uri);if(this._models[Te])throw new Error("ModelService: Cannot add model because it already exists!");const qe=new it(ye,ct=>this._onWillDispose(ct),(ct,ht)=>this._onDidChangeLanguage(ct,ht));return this._models[Te]=qe,qe}createModel(n,r,x,X=!1){let te;return r?te=this._createModelData(n,r,x,X):te=this._createModelData(n,Uo.bd,x,X),this._onModelAdded.fire(te.model),te.model}getModels(){const n=[],r=Object.keys(this._models);for(let x=0,X=r.length;x<X;x++){const te=r[x];n.push(this._models[te].model)}return n}getModel(n){const r=Ze(n),x=this._models[r];return x?x.model:null}_schemaShouldMaintainUndoRedoElements(n){return n.scheme===Fi.lg.file||n.scheme===Fi.lg.vscodeRemote||n.scheme===Fi.lg.vscodeUserData||n.scheme===Fi.lg.vscodeNotebookCell||n.scheme==="fake-fs"}_onWillDispose(n){const r=Ze(n.uri),x=this._models[r],X=this._undoRedoService.getUriComparisonKey(n.uri)!==n.uri.toString();let te=!1,ye=0;if(X||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(n.uri)){const qe=this._undoRedoService.getElements(n.uri);if(qe.past.length>0||qe.future.length>0){for(const ct of qe.past)(0,G.e9)(ct)&&ct.matchesResource(n.uri)&&(te=!0,ye+=ct.heapSize(n.uri),ct.setModel(n.uri));for(const ct of qe.future)(0,G.e9)(ct)&&ct.matchesResource(n.uri)&&(te=!0,ye+=ct.heapSize(n.uri),ct.setModel(n.uri))}}const Te=wl.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(te)if(!X&&ye>Te){const qe=x.model.getInitialUndoRedoSnapshot();qe!==null&&this._undoRedoService.restoreSnapshot(qe)}else this._ensureDisposedModelsHeapSize(Te-ye),this._undoRedoService.setElementsValidFlag(n.uri,!1,qe=>(0,G.e9)(qe)&&qe.matchesResource(n.uri)),this._insertDisposedModel(new Ft(n.uri,x.model.getInitialUndoRedoSnapshot(),Date.now(),X,ye,et(n),n.getVersionId(),n.getAlternativeVersionId()));else if(!X){const qe=x.model.getInitialUndoRedoSnapshot();qe!==null&&this._undoRedoService.restoreSnapshot(qe)}delete this._models[r],x.dispose(),delete this._modelCreationOptionsByLanguageAndResource[n.getLanguageId()+n.uri],this._onModelRemoved.fire(n)}_onDidChangeLanguage(n,r){const x=r.oldLanguage,X=n.getLanguageId(),te=this.getCreationOptions(x,n.uri,n.isForSimpleWidget),ye=this.getCreationOptions(X,n.uri,n.isForSimpleWidget);wl._setModelOptionsForModel(n,ye,te),this._onModelModeChanged.fire({model:n,oldLanguageId:x})}};Ot.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Ot=be([Oe(0,oe.Ui),Oe(1,$o.y),Oe(2,ke.tJ),Oe(3,M.O),Oe(4,N.c_)],Ot);var Xt=t(48981),ii=t(89717),ri=t(26152),_i=t(38785),Ti=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},xi=function(Ie,n){return function(r,x){n(r,x,Ie)}};let Zi=class extends u.JT{constructor(n,r){super(),this.quickInputService=n,this.instantiationService=r,this.registry=yr.B.as(ri.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(n="",r){this.doShowOrPick(n,!1,r)}doShowOrPick(n,r,x){var X;const[te,ye]=this.getOrInstantiateProvider(n),Te=this.visibleQuickAccess,qe=Te==null?void 0:Te.descriptor;if(Te&&ye&&qe===ye){n!==ye.prefix&&!(x!=null&&x.preserveValue)&&(Te.picker.value=n),this.adjustValueSelection(Te.picker,ye,x);return}if(ye&&!(x!=null&&x.preserveValue)){let Ci;if(Te&&qe&&qe!==ye){const Gi=Te.value.substr(qe.prefix.length);Gi&&(Ci=`${ye.prefix}${Gi}`)}if(!Ci){const Gi=te==null?void 0:te.defaultFilterValue;Gi===ri.Ry.LAST?Ci=this.lastAcceptedPickerValues.get(ye):typeof Gi=="string"&&(Ci=`${ye.prefix}${Gi}`)}typeof Ci=="string"&&(n=Ci)}const ct=new u.SL,ht=ct.add(this.quickInputService.createQuickPick());ht.value=n,this.adjustValueSelection(ht,ye,x),ht.placeholder=ye==null?void 0:ye.placeholder,ht.quickNavigate=x==null?void 0:x.quickNavigateConfiguration,ht.hideInput=!!ht.quickNavigate&&!Te,(typeof(x==null?void 0:x.itemActivation)=="number"||x!=null&&x.quickNavigateConfiguration)&&(ht.itemActivation=(X=x==null?void 0:x.itemActivation)!==null&&X!==void 0?X:_i.jG.SECOND),ht.contextKey=ye==null?void 0:ye.contextKey,ht.filterValue=Ci=>Ci.substring(ye?ye.prefix.length:0);let Nt;r&&(Nt=new nt.CR,ct.add((0,ii.I)(ht.onWillAccept)(Ci=>{Ci.veto(),ht.hide()}))),ct.add(this.registerPickerListeners(ht,te,ye,n,x==null?void 0:x.providerOptions));const ci=ct.add(new En.A);if(te&&ct.add(te.provide(ht,ci.token,x==null?void 0:x.providerOptions)),(0,ii.I)(ht.onDidHide)(()=>{ht.selectedItems.length===0&&ci.cancel(),ct.dispose(),Nt==null||Nt.complete(ht.selectedItems.slice(0))}),ht.show(),r)return Nt==null?void 0:Nt.p}adjustValueSelection(n,r,x){var X;let te;x!=null&&x.preserveValue?te=[n.value.length,n.value.length]:te=[(X=r==null?void 0:r.prefix.length)!==null&&X!==void 0?X:0,n.value.length],n.valueSelection=te}registerPickerListeners(n,r,x,X,te){const ye=new u.SL,Te=this.visibleQuickAccess={picker:n,descriptor:x,value:X};return ye.add((0,u.OF)(()=>{Te===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),ye.add(n.onDidChangeValue(qe=>{const[ct]=this.getOrInstantiateProvider(qe);ct!==r?this.show(qe,{preserveValue:!0,providerOptions:te}):Te.value=qe})),x&&ye.add(n.onDidAccept(()=>{this.lastAcceptedPickerValues.set(x,n.value)})),ye}getOrInstantiateProvider(n){const r=this.registry.getQuickAccessProvider(n);if(!r)return[void 0,void 0];let x=this.mapProviderToDescriptor.get(r);return x||(x=this.instantiationService.createInstance(r.ctor),this.mapProviderToDescriptor.set(r,x)),[x,r]}};Zi=Ti([xi(0,_i.eJ),xi(1,Zt.TG)],Zi);var Ki=t(1894),un=t(19205);const dn="done",hn="active",Ui="infinite",Sn="infinite-long-running",On="discrete";class xn extends u.JT{constructor(n,r){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new nt.pY(()=>(0,ue.$Z)(this.element),0)),this.longRunningScheduler=this._register(new nt.pY(()=>this.infiniteLongRunning(),xn.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(n,r)}create(n,r){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),n.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(r==null?void 0:r.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(hn,Ui,Sn,On),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(n){return this.element.classList.add(dn),this.element.classList.contains(Ui)?(this.bit.style.opacity="0",n?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",n?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(On,dn,Sn),this.element.classList.add(hn,Ui),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Sn)}getContainer(){return this.element}}xn.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var Dn=t(23602),_s=t(12049);const ds=ue.$;class Cs extends u.JT{constructor(n,r,x){super(),this.parent=n,this.onKeyDown=te=>ue.nm(this.findInput.inputBox.inputElement,ue.tw.KEY_DOWN,ye=>{te(new Oo.y(ye))}),this.onMouseDown=te=>ue.nm(this.findInput.inputBox.inputElement,ue.tw.MOUSE_DOWN,ye=>{te(new Yr.n(ye))}),this.onDidChange=te=>this.findInput.onDidChange(te),this.container=ue.R3(this.parent,ds(".quick-input-box")),this.findInput=this._register(new _s.V(this.container,void 0,{label:"",inputBoxStyles:r,toggleStyles:x}));const X=this.findInput.inputBox.inputElement;X.role="combobox",X.ariaHasPopup="menu",X.ariaAutoComplete="list",X.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(n){this.findInput.setValue(n)}select(n=null){this.findInput.inputBox.select(n)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(n){this.findInput.inputBox.setPlaceHolder(n)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(n){this.findInput.inputBox.inputElement.type=n?"password":"text"}set enabled(n){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!n)}set toggles(n){this.findInput.setAdditionalToggles(n)}setAttribute(n,r){this.findInput.inputBox.inputElement.setAttribute(n,r)}showDecoration(n){n===$t.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:n===$t.Z.Info?1:n===$t.Z.Warning?2:3,content:""})}stylesForType(n){return this.findInput.inputBox.stylesForType(n===$t.Z.Info?1:n===$t.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var Ns=t(65029),Zs=t(40186),bs=t(51280);const ks=new bs.o(()=>{const Ie=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:Ie,collatorIsNumeric:Ie.resolvedOptions().numeric}}),vo=new bs.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),Mo=new bs.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function Po(Ie,n,r=!1){const x=Ie||"",X=n||"",te=ks.value.collator.compare(x,X);return ks.value.collatorIsNumeric&&te===0&&x!==X?x<X?-1:1:te}function Ur(Ie,n,r){const x=Ie.toLowerCase(),X=n.toLowerCase(),te=Xr(Ie,n,r);if(te)return te;const ye=x.endsWith(r),Te=X.endsWith(r);if(ye!==Te)return ye?-1:1;const qe=Po(x,X);return qe!==0?qe:x.localeCompare(X)}function Xr(Ie,n,r){const x=Ie.toLowerCase(),X=n.toLowerCase(),te=x.startsWith(r),ye=X.startsWith(r);if(te!==ye)return te?-1:1;if(te&&ye){if(x.length<X.length)return-1;if(x.length>X.length)return 1}return 0}var Er=t(4848),mr=t(54505),xr=t(19111),Jr=t(6100),Go=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te};class pr{constructor(n){this.nodes=n}toString(){return this.nodes.map(n=>typeof n=="string"?n:n.label).join("")}}Go([Er.H],pr.prototype,"toString",null);const Ir=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function Nr(Ie){const n=[];let r=0,x;for(;x=Ir.exec(Ie);){x.index-r>0&&n.push(Ie.substring(r,x.index));const[,X,te,,ye]=x;ye?n.push({label:X,href:te,title:ye}):n.push({label:X,href:te}),r=x.index+x[0].length}return r<Ie.length&&n.push(Ie.substring(r)),new pr(n)}const ps={},Ts=new Jr.R("quick-input-button-icon-");function io(Ie){if(!Ie)return;let n;const r=Ie.dark.toString();return ps[r]?n=ps[r]:(n=Ts.nextId(),ue.fk(`.${n}, .hc-light .${n}`,`background-image: ${ue.wY(Ie.light||Ie.dark)}`),ue.fk(`.vs-dark .${n}, .hc-black .${n}`,`background-image: ${ue.wY(Ie.dark)}`),ps[r]=n),n}function zo(Ie,n,r){ue.mc(n);const x=Nr(Ie);let X=0;for(const te of x.nodes)if(typeof te=="string")n.append(...(0,xr.T)(te));else{let ye=te.title;!ye&&te.href.startsWith("command:")?ye=(0,Mt.NC)("executeCommand","Click to execute command '{0}'",te.href.substring(8)):ye||(ye=te.href);const Te=ue.$("a",{href:te.href,title:ye,tabIndex:X++},te.label);Te.style.textDecoration="underline";const qe=Ci=>{ue.cl(Ci)&&ue.zB.stop(Ci,!0),r.callback(te.href)},ct=r.disposables.add(new mr.Y(Te,ue.tw.CLICK)).event,ht=r.disposables.add(new mr.Y(Te,ue.tw.KEY_DOWN)).event,Nt=r.disposables.add(E.ju.chain(ht)).filter(Ci=>{const Gi=new Oo.y(Ci);return Gi.equals(10)||Gi.equals(3)}).event;r.disposables.add(Ue.o.addTarget(Te));const ci=r.disposables.add(new mr.Y(Te,Ue.t.Tap)).event;E.ju.any(ct,ci,Nt)(qe,null,r.disposables),n.appendChild(Te)}}var qo=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Ha=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};const er=ue.$;class vr{get checked(){return!!this._checked}set checked(n){n!==this._checked&&(this._checked=n,this._onChecked.fire(n))}constructor(n){this.hidden=!1,this._onChecked=new E.Q5,this.onChecked=this._onChecked.event,Object.assign(this,n)}dispose(){this._onChecked.dispose()}}class Tr{get templateId(){return Tr.ID}renderTemplate(n){const r=Object.create(null);r.toDisposeElement=[],r.toDisposeTemplate=[],r.entry=ue.R3(n,er(".quick-input-list-entry"));const x=ue.R3(r.entry,er("label.quick-input-list-label"));r.toDisposeTemplate.push(ue.mu(x,ue.tw.CLICK,ct=>{r.checkbox.offsetParent||ct.preventDefault()})),r.checkbox=ue.R3(x,er("input.quick-input-list-checkbox")),r.checkbox.type="checkbox",r.toDisposeTemplate.push(ue.mu(r.checkbox,ue.tw.CHANGE,ct=>{r.element.checked=r.checkbox.checked}));const X=ue.R3(x,er(".quick-input-list-rows")),te=ue.R3(X,er(".quick-input-list-row")),ye=ue.R3(X,er(".quick-input-list-row"));r.label=new Ns.g(te,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const Te=ue.R3(te,er(".quick-input-list-entry-keybinding"));r.keybinding=new Zs.e(Te,Pi.OS);const qe=ue.R3(ye,er(".quick-input-list-label-meta"));return r.detail=new Ns.g(qe,{supportHighlights:!0,supportIcons:!0}),r.separator=ue.R3(r.entry,er(".quick-input-list-separator")),r.actionBar=new Ye.o(r.entry),r.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),r.toDisposeTemplate.push(r.actionBar),r}renderElement(n,r,x){x.element=n,n.element=(0,Bo.f6)(x.entry);const X=n.item?n.item:n.separator;x.checkbox.checked=n.checked,x.toDisposeElement.push(n.onChecked(ht=>x.checkbox.checked=ht));const{labelHighlights:te,descriptionHighlights:ye,detailHighlights:Te}=n,qe=Object.create(null);qe.matches=te||[],qe.descriptionTitle=n.saneDescription,qe.descriptionMatches=ye||[],X.type!=="separator"?(qe.extraClasses=X.iconClasses,qe.italic=X.italic,qe.strikethrough=X.strikethrough,x.entry.classList.remove("quick-input-list-separator-as-item")):x.entry.classList.add("quick-input-list-separator-as-item"),x.label.setLabel(n.saneLabel,n.saneDescription,qe),x.keybinding.set(X.type==="separator"?void 0:X.keybinding),n.saneDetail?(x.detail.element.style.display="",x.detail.setLabel(n.saneDetail,void 0,{matches:Te,title:n.saneDetail})):x.detail.element.style.display="none",n.item&&n.separator&&n.separator.label?(x.separator.textContent=n.separator.label,x.separator.style.display=""):x.separator.style.display="none",x.entry.classList.toggle("quick-input-list-separator-border",!!n.separator);const ct=X.buttons;ct&&ct.length?(x.actionBar.push(ct.map((ht,Nt)=>{let ci=ht.iconClass||(ht.iconPath?io(ht.iconPath):void 0);return ht.alwaysVisible&&(ci=ci?`${ci} always-visible`:"always-visible"),{id:`id-${Nt}`,class:ci,enabled:!0,label:"",tooltip:ht.tooltip||"",run:()=>{X.type!=="separator"?n.fireButtonTriggered({button:ht,item:X}):n.fireSeparatorButtonTriggered({button:ht,separator:X})}}}),{icon:!0,label:!1}),x.entry.classList.add("has-actions")):x.entry.classList.remove("has-actions")}disposeElement(n,r,x){x.toDisposeElement=(0,u.B9)(x.toDisposeElement),x.actionBar.clear()}disposeTemplate(n){n.toDisposeElement=(0,u.B9)(n.toDisposeElement),n.toDisposeTemplate=(0,u.B9)(n.toDisposeTemplate)}}Tr.ID="listelement";class qr{getHeight(n){return n.item?n.saneDetail?44:22:24}getTemplateId(n){return Tr.ID}}var no;(function(Ie){Ie[Ie.First=1]="First",Ie[Ie.Second=2]="Second",Ie[Ie.Last=3]="Last",Ie[Ie.Next=4]="Next",Ie[Ie.Previous=5]="Previous",Ie[Ie.NextPage=6]="NextPage",Ie[Ie.PreviousPage=7]="PreviousPage"})(no||(no={}));class ar{constructor(n,r,x){this.parent=n,this.options=x,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new E.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new E.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new E.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new E.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new E.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new E.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new E.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new E.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=r,this.container=ue.R3(this.parent,er(".quick-input-list"));const X=new qr,te=new Ua;this.list=x.createList("QuickInput",this.container,X,[new Tr],{identityProvider:{getId:Te=>Te.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:te}),this.list.getHTMLElement().id=r,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Te=>{const qe=new Oo.y(Te);switch(qe.keyCode){case 10:this.toggleCheckbox();break;case 31:(Pi.dz?Te.metaKey:Te.ctrlKey)&&this.list.setFocus((0,Ys.w6)(this.list.length));break;case 16:{const ct=this.list.getFocus();ct.length===1&&ct[0]===0&&this._onLeave.fire();break}case 18:{const ct=this.list.getFocus();ct.length===1&&ct[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(qe)})),this.disposables.push(this.list.onMouseDown(Te=>{Te.browserEvent.button!==2&&Te.browserEvent.preventDefault()})),this.disposables.push(ue.nm(this.container,ue.tw.CLICK,Te=>{(Te.x||Te.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Te=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Te=>{typeof Te.index=="number"&&(Te.browserEvent.preventDefault(),this.list.setSelection([Te.index]))}));const ye=new nt.rH(x.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(Te=>Ha(this,void 0,void 0,function*(){var qe;if(Te.browserEvent.target instanceof HTMLAnchorElement){ye.cancel();return}if(!(!(Te.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&ue.jg(Te.browserEvent.relatedTarget,(qe=Te.element)===null||qe===void 0?void 0:qe.element)))try{yield ye.trigger(()=>Ha(this,void 0,void 0,function*(){Te.element&&this.showHover(Te.element)}))}catch(ct){if(!(0,st.n2)(ct))throw ct}}))),this.disposables.push(this.list.onMouseOut(Te=>{var qe;ue.jg(Te.browserEvent.relatedTarget,(qe=Te.element)===null||qe===void 0?void 0:qe.element)||ye.cancel()})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown,ye)}get onDidChangeFocus(){return E.ju.map(this.list.onDidChangeFocus,n=>n.elements.map(r=>r.item))}get onDidChangeSelection(){return E.ju.map(this.list.onDidChangeSelection,n=>({items:n.elements.map(r=>r.item),event:n.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(n){this.list.scrollTop=n}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(n){this.list.getHTMLElement().ariaLabel=n}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(n,r=!0){for(let x=0,X=n.length;x<X;x++){const te=n[x];if(!te.hidden)if(te.checked)r=!0;else return!1}return r}getCheckedCount(){let n=0;const r=this.elements;for(let x=0,X=r.length;x<X;x++)r[x].checked&&n++;return n}getVisibleCount(){let n=0;const r=this.elements;for(let x=0,X=r.length;x<X;x++)r[x].hidden||n++;return n}setAllVisibleChecked(n){try{this._fireCheckedEvents=!1,this.elements.forEach(r=>{r.hidden||(r.checked=n)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(n){this.elementDisposables=(0,u.B9)(this.elementDisposables);const r=X=>this.fireButtonTriggered(X),x=X=>this.fireSeparatorButtonTriggered(X);this.inputElements=n,this.elements=n.reduce((X,te,ye)=>{var Te,qe,ct;const ht=ye&&n[ye-1],Nt=te.label?te.label.replace(/\r?\n/g," "):"",ci=(0,kt.Ho)(Nt).text.trim();let Ci,Gi,Vn,vn,Qn,Gn,is;te.type!=="separator"&&(Ci=te.meta&&te.meta.replace(/\r?\n/g," "),Gi=te.description&&te.description.replace(/\r?\n/g," "),Vn=te.detail&&te.detail.replace(/\r?\n/g," "),vn=(Te=te.highlights)===null||Te===void 0?void 0:Te.label,Qn=(qe=te.highlights)===null||qe===void 0?void 0:qe.description,Gn=(ct=te.highlights)===null||ct===void 0?void 0:ct.detail,is=te.tooltip);const In=te.ariaLabel||[Nt,Gi,Vn].map(bn=>(0,kt.JL)(bn)).filter(bn=>!!bn).join(", "),Ls=this.parent.classList.contains("show-checkboxes");let us;if(te.type==="separator"){if(!te.buttons)return X;us=te}else ht&&ht.type==="separator"&&!ht.buttons&&(us=ht);const Zn=new vr({hasCheckbox:Ls,index:ye,item:te.type!=="separator"?te:void 0,saneLabel:Nt,saneSortLabel:ci,saneMeta:Ci,saneAriaLabel:In,saneDescription:Gi,saneDetail:Vn,saneTooltip:is,labelHighlights:vn,descriptionHighlights:Qn,detailHighlights:Gn,checked:!1,separator:us,fireButtonTriggered:r,fireSeparatorButtonTriggered:x});return this.elementDisposables.push(Zn),this.elementDisposables.push(Zn.onChecked(()=>this.fireCheckedEvents())),X.push(Zn),X},[]),this.elementsToIndexes=this.elements.reduce((X,te,ye)=>{var Te;return X.set((Te=te.item)!==null&&Te!==void 0?Te:te.separator,ye),X},new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(n=>n.item)}setFocusedElements(n){if(this.list.setFocus(n.filter(r=>this.elementsToIndexes.has(r)).map(r=>this.elementsToIndexes.get(r))),n.length>0){const r=this.list.getFocus()[0];typeof r=="number"&&this.list.reveal(r)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(n){this.list.setSelection(n.filter(r=>this.elementsToIndexes.has(r)).map(r=>this.elementsToIndexes.get(r)))}getCheckedElements(){return this.elements.filter(n=>n.checked).map(n=>n.item).filter(n=>!!n)}setCheckedElements(n){try{this._fireCheckedEvents=!1;const r=new Set;for(const x of n)r.add(x);for(const x of this.elements)x.checked=r.has(x.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(n){this.list.getHTMLElement().style.pointerEvents=n?"":"none"}focus(n){if(!this.list.length)return;switch(n===no.Second&&this.list.length<2&&(n=no.First),n){case no.First:this.list.scrollTop=0,this.list.focusFirst(void 0,x=>!!x.item);break;case no.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,x=>!!x.item);break;case no.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,x=>!!x.item);break;case no.Next:{this.list.focusNext(void 0,!0,void 0,X=>!!X.item);const x=this.list.getFocus()[0];x!==0&&!this.elements[x-1].item&&this.list.firstVisibleIndex>x-1&&this.list.reveal(x-1);break}case no.Previous:{this.list.focusPrevious(void 0,!0,void 0,X=>!!X.item);const x=this.list.getFocus()[0];x!==0&&!this.elements[x-1].item&&this.list.firstVisibleIndex>x-1&&this.list.reveal(x-1);break}case no.NextPage:this.list.focusNextPage(void 0,x=>!!x.item);break;case no.PreviousPage:this.list.focusPreviousPage(void 0,x=>!!x.item);break}const r=this.list.getFocus()[0];typeof r=="number"&&this.list.reveal(r)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(n){var r,x,X;this._lastHover&&!this._lastHover.isDisposed&&((x=(r=this.options.hoverDelegate).onDidHideHover)===null||x===void 0||x.call(r),(X=this._lastHover)===null||X===void 0||X.dispose()),!(!n.element||!n.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:n.saneTooltip,target:n.element,linkHandler:te=>{this.options.linkOpenerDelegate(te)},showPointer:!0,container:this.container,hoverPosition:1},!1))}layout(n){this.list.getHTMLElement().style.maxHeight=n?`${Math.floor(n/44)*44+6}px`:"",this.list.layout()}filter(n){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const r=n;if(n=n.trim(),!n||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(X=>{X.labelHighlights=void 0,X.descriptionHighlights=void 0,X.detailHighlights=void 0,X.hidden=!1;const te=X.index&&this.inputElements[X.index-1];X.item&&(X.separator=te&&te.type==="separator"&&!te.buttons?te:void 0)});else{let X;this.elements.forEach(te=>{let ye;this.matchOnLabelMode==="fuzzy"?ye=this.matchOnLabel?(0,Bo.f6)((0,kt.Gt)(n,(0,kt.Ho)(te.saneLabel))):void 0:ye=this.matchOnLabel?(0,Bo.f6)(lr(r,(0,kt.Ho)(te.saneLabel))):void 0;const Te=this.matchOnDescription?(0,Bo.f6)((0,kt.Gt)(n,(0,kt.Ho)(te.saneDescription||""))):void 0,qe=this.matchOnDetail?(0,Bo.f6)((0,kt.Gt)(n,(0,kt.Ho)(te.saneDetail||""))):void 0,ct=this.matchOnMeta?(0,Bo.f6)((0,kt.Gt)(n,(0,kt.Ho)(te.saneMeta||""))):void 0;if(ye||Te||qe||ct?(te.labelHighlights=ye,te.descriptionHighlights=Te,te.detailHighlights=qe,te.hidden=!1):(te.labelHighlights=void 0,te.descriptionHighlights=void 0,te.detailHighlights=void 0,te.hidden=te.item?!te.item.alwaysShow:!0),te.item?te.separator=void 0:te.separator&&(te.hidden=!0),!this.sortByLabel){const ht=te.index&&this.inputElements[te.index-1];X=ht&&ht.type==="separator"?ht:X,X&&!te.hidden&&(te.separator=X,X=void 0)}})}const x=this.elements.filter(X=>!X.hidden);if(this.sortByLabel&&n){const X=n.toLowerCase();x.sort((te,ye)=>xa(te,ye,X))}return this.elementsToIndexes=x.reduce((X,te,ye)=>{var Te;return X.set((Te=te.item)!==null&&Te!==void 0?Te:te.separator,ye),X},new Map),this.list.splice(0,this.list.length,x),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(x.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const n=this.list.getFocusedElements(),r=this.allVisibleChecked(n);for(const x of n)x.checked=!r}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(n){this.container.style.display=n?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,u.B9)(this.elementDisposables),this.disposables=(0,u.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(n){this._onButtonTriggered.fire(n)}fireSeparatorButtonTriggered(n){this._onSeparatorButtonTriggered.fire(n)}style(n){this.list.style(n)}toggleHover(){if(!this.list.getFocusedElements()[0].saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const r=this.list.getFocusedElements()[0];if(!r)return;this.showHover(r);const x=new u.SL;x.add(this.list.onDidChangeFocus(X=>{X.indexes.length&&this.showHover(X.elements[0])})),this._lastHover&&x.add(this._lastHover),this._toggleHover=x,this.elementDisposables.push(this._toggleHover)}}qo([Er.H],ar.prototype,"onDidChangeFocus",null),qo([Er.H],ar.prototype,"onDidChangeSelection",null);function lr(Ie,n){const{text:r,iconOffsets:x}=n;if(!x||x.length===0)return ea(Ie,r);const X=(0,_.j3)(r," "),te=r.length-X.length,ye=ea(Ie,X);if(ye)for(const Te of ye){const qe=x[Te.start+te]+te;Te.start+=qe,Te.end+=qe}return ye}function ea(Ie,n){const r=n.toLowerCase().indexOf(Ie.toLowerCase());return r!==-1?[{start:r,end:r+Ie.length}]:null}function xa(Ie,n,r){const x=Ie.labelHighlights||[],X=n.labelHighlights||[];return x.length&&!X.length?-1:!x.length&&X.length?1:x.length===0&&X.length===0?0:Ur(Ie.saneSortLabel,n.saneSortLabel,r)}class Ua{getWidgetAriaLabel(){return(0,Mt.NC)("quickInput","Quick Input")}getAriaLabel(n){var r;return!((r=n.separator)===null||r===void 0)&&r.label?`${n.saneAriaLabel}, ${n.separator.label}`:n.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(n){return n.hasCheckbox?"checkbox":"option"}isChecked(n){if(n.hasCheckbox)return{value:n.checked,onDidChange:n.onChecked}}}var Bs=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};const fs=ue.$,fo={iconClass:Wt.k.asClassName(tt.l.quickInputBack),tooltip:(0,Mt.NC)("quickInput.back","Back"),handle:-1};class _o extends u.JT{constructor(n){super(),this.ui=n,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=_o.noPromptMessage,this._severity=$t.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new E.Q5),this.onDidHideEmitter=this._register(new E.Q5),this.onDisposeEmitter=this._register(new E.Q5),this.visibleDisposables=this._register(new u.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(n){this._title=n,this.update()}get description(){return this._description}set description(n){this._description=n,this.update()}get step(){return this._steps}set step(n){this._steps=n,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(n){this._totalSteps=n,this.update()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this.update()}get contextKey(){return this._contextKey}set contextKey(n){this._contextKey=n,this.update()}get busy(){return this._busy}set busy(n){this._busy=n,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(n){const r=this._ignoreFocusOut!==n&&!Pi.gn;this._ignoreFocusOut=n&&!Pi.gn,r&&this.update()}get buttons(){return this._buttons}set buttons(n){this._buttons=n,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(n){this._toggles=n!=null?n:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(n){this._validationMessage=n,this.update()}get severity(){return this._severity}set severity(n){this._severity=n,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(n=>{this.buttons.indexOf(n)!==-1&&this.onDidTriggerButtonEmitter.fire(n)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(n=_i.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:n})}update(){var n,r;if(!this.visible)return;const x=this.getTitle();x&&this.ui.title.textContent!==x?this.ui.title.textContent=x:!x&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const X=this.getDescription();if(this.ui.description1.textContent!==X&&(this.ui.description1.textContent=X),this.ui.description2.textContent!==X&&(this.ui.description2.textContent=X),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?ue.mc(this.ui.widget,this._widget):ue.mc(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new nt._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const ye=this.buttons.filter(qe=>qe===fo);this.ui.leftActionBar.push(ye.map((qe,ct)=>{const ht=new dt.aU(`id-${ct}`,"",qe.iconClass||io(qe.iconPath),!0,()=>Bs(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(qe)}));return ht.tooltip=qe.tooltip||"",ht}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const Te=this.buttons.filter(qe=>qe!==fo);this.ui.rightActionBar.push(Te.map((qe,ct)=>{const ht=new dt.aU(`id-${ct}`,"",qe.iconClass||io(qe.iconPath),!0,()=>Bs(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(qe)}));return ht.tooltip=qe.tooltip||"",ht}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const ye=(r=(n=this.toggles)===null||n===void 0?void 0:n.filter(Te=>Te instanceof Dn.Z))!==null&&r!==void 0?r:[];this.ui.inputBox.toggles=ye}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const te=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==te&&(this._lastValidationMessage=te,ue.mc(this.ui.message),zo(te,this.ui.message,{callback:ye=>{this.ui.linkOpenerDelegate(ye)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Mt.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(n){if(this.ui.inputBox.showDecoration(n),n!==$t.Z.Ignore){const r=this.ui.inputBox.stylesForType(n);this.ui.message.style.color=r.foreground?`${r.foreground}`:"",this.ui.message.style.backgroundColor=r.background?`${r.background}`:"",this.ui.message.style.border=r.border?`1px solid ${r.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_o.noPromptMessage=(0,Mt.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class jo extends _o{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new E.Q5),this.onWillAcceptEmitter=this._register(new E.Q5),this.onDidAcceptEmitter=this._register(new E.Q5),this.onDidCustomEmitter=this._register(new E.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=_i.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new E.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new E.Q5),this.onDidTriggerItemButtonEmitter=this._register(new E.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new E.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=n=>n,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(n){this._quickNavigate=n,this.update()}get value(){return this._value}set value(n){this.doSetValue(n)}doSetValue(n,r){this._value!==n&&(this._value=n,r||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(n){this._ariaLabel=n,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(n){this.ui.list.scrollTop=n}set items(n){this._items=n,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(n){this._canSelectMany=n,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(n){this._canAcceptInBackground=n}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(n){this._matchOnDescription=n,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(n){this._matchOnDetail=n,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(n){this._matchOnLabel=n,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(n){this._matchOnLabelMode=n,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(n){this._sortByLabel=n,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(n){this._autoFocusOnList=n,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(n){this._keepScrollPosition=n}get itemActivation(){return this._itemActivation}set itemActivation(n){this._itemActivation=n}get activeItems(){return this._activeItems}set activeItems(n){this._activeItems=n,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(n){this._selectedItems=n,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?_i.X5:this.ui.keyMods}set valueSelection(n){this._valueSelection=n,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(n){this._customButton=n,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(n){this._customButtonLabel=n,this.update()}get customHover(){return this._customButtonHover}set customHover(n){this._customButtonHover=n,this.update()}get ok(){return this._ok}set ok(n){this._ok=n,this.update()}get hideInput(){return!!this._hideInput}set hideInput(n){this._hideInput=n,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(no.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(n=>{this.doSetValue(n,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(n=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(n=>{switch(n.keyCode){case 18:this.ui.list.focus(no.Next),this.canSelectMany&&this.ui.list.domFocus(),ue.zB.stop(n,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(no.Previous):this.ui.list.focus(no.Last),this.canSelectMany&&this.ui.list.domFocus(),ue.zB.stop(n,!0);break;case 12:this.ui.list.focus(no.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ue.zB.stop(n,!0);break;case 11:this.ui.list.focus(no.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ue.zB.stop(n,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(n.ctrlKey||n.metaKey)&&!n.shiftKey&&!n.altKey&&(this.ui.list.focus(no.First),ue.zB.stop(n,!0));break;case 13:(n.ctrlKey||n.metaKey)&&!n.shiftKey&&!n.altKey&&(this.ui.list.focus(no.Last),ue.zB.stop(n,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(n=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,Ys.fS)(n,this._activeItems,(r,x)=>r===x)||(this._activeItems=n,this.onDidChangeActiveEmitter.fire(n))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:n,event:r})=>{if(this.canSelectMany){n.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,Ys.fS)(n,this._selectedItems,(x,X)=>x===X)||(this._selectedItems=n,this.onDidChangeSelectionEmitter.fire(n),n.length&&this.handleAccept(r instanceof MouseEvent&&r.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(n=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,Ys.fS)(n,this._selectedItems,(r,x)=>r===x)||(this._selectedItems=n,this.onDidChangeSelectionEmitter.fire(n)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(n=>this.onDidTriggerItemButtonEmitter.fire(n))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(n=>this.onDidTriggerSeparatorButtonEmitter.fire(n))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(n){let r=!1;this.onWillAcceptEmitter.fire({veto:()=>r=!0}),r||this.onDidAcceptEmitter.fire({inBackground:n})}registerQuickNavigation(){return ue.nm(this.ui.container,ue.tw.KEY_UP,n=>{if(this.canSelectMany||!this._quickNavigate)return;const r=new Oo.y(n),x=r.keyCode;this._quickNavigate.keybindings.some(ye=>{const Te=ye.getChords();return Te.length>1?!1:Te[0].shiftKey&&x===4?!(r.ctrlKey||r.altKey||r.metaKey):!!(Te[0].altKey&&x===6||Te[0].ctrlKey&&x===5||Te[0].metaKey&&x===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const n=this.keepScrollPosition?this.scrollTop:0,r=!!this.description,x={title:!!this.title||!!this.step||!!this.buttons.length,description:r,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||r,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(x),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let X=this.ariaLabel;if(!X&&x.inputBox&&(X=this.placeholder||jo.DEFAULT_ARIA_LABEL,this.title&&(X+=` - ${this.title}`)),this.ui.list.ariaLabel!==X&&(this.ui.list.ariaLabel=(0,Bo.M2)(X)),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case _i.jG.NONE:this._itemActivation=_i.jG.FIRST;break;case _i.jG.SECOND:this.ui.list.focus(no.Second),this._itemActivation=_i.jG.FIRST;break;case _i.jG.LAST:this.ui.list.focus(no.Last),this._itemActivation=_i.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",x.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(no.First)),this.keepScrollPosition&&(this.scrollTop=n)}}jo.DEFAULT_ARIA_LABEL=(0,Mt.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class tr extends _o{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new E.Q5),this.onDidAcceptEmitter=this._register(new E.Q5),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(n){this._value=n||"",this.update()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.update()}get password(){return this._password}set password(n){this._password=n,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(n=>{n!==this.value&&(this._value=n,this.onDidValueChangeEmitter.fire(n))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const n={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0};this.ui.setVisibilities(n),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}class ua extends u.JT{constructor(n){super(),this.options=n,this.enabled=!0,this.onDidAcceptEmitter=this._register(new E.Q5),this.onDidCustomEmitter=this._register(new E.Q5),this.onDidTriggerButtonEmitter=this._register(new E.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new E.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new E.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=n.idPrefix,this.parentElement=n.container,this.styles=n.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const n=r=>{this.keyMods.ctrlCmd=r.ctrlKey||r.metaKey,this.keyMods.alt=r.altKey};this._register(ue.nm(window,ue.tw.KEY_DOWN,n,!0)),this._register(ue.nm(window,ue.tw.KEY_UP,n,!0)),this._register(ue.nm(window,ue.tw.MOUSE_DOWN,n,!0))}getUI(){if(this.ui)return this.ui;const n=ue.R3(this.parentElement,fs(".quick-input-widget.show-file-icons"));n.tabIndex=-1,n.style.display="none";const r=ue.dS(n),x=ue.R3(n,fs(".quick-input-titlebar")),X=this._register(new Ye.o(x));X.domNode.classList.add("quick-input-left-action-bar");const te=ue.R3(x,fs(".quick-input-title")),ye=this._register(new Ye.o(x));ye.domNode.classList.add("quick-input-right-action-bar");const Te=ue.R3(n,fs(".quick-input-description")),qe=ue.R3(n,fs(".quick-input-header")),ct=ue.R3(qe,fs("input.quick-input-check-all"));ct.type="checkbox",ct.setAttribute("aria-label",(0,Mt.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(ue.mu(ct,ue.tw.CHANGE,qn=>{const Yn=ct.checked;gs.setAllVisibleChecked(Yn)})),this._register(ue.nm(ct,ue.tw.CLICK,qn=>{(qn.x||qn.y)&&Ci.setFocus()}));const ht=ue.R3(qe,fs(".quick-input-description")),Nt=ue.R3(qe,fs(".quick-input-and-message")),ci=ue.R3(Nt,fs(".quick-input-filter")),Ci=this._register(new Cs(ci,this.styles.inputBox,this.styles.toggle));Ci.setAttribute("aria-describedby",`${this.idPrefix}message`);const Gi=ue.R3(ci,fs(".quick-input-visible-count"));Gi.setAttribute("aria-live","polite"),Gi.setAttribute("aria-atomic","true");const Vn=new un.Z(Gi,{countFormat:(0,Mt.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),vn=ue.R3(ci,fs(".quick-input-count"));vn.setAttribute("aria-live","polite");const Qn=new un.Z(vn,{countFormat:(0,Mt.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),Gn=ue.R3(qe,fs(".quick-input-action")),is=new Ki.z(Gn,this.styles.button);is.label=(0,Mt.NC)("ok","OK"),this._register(is.onDidClick(qn=>{this.onDidAcceptEmitter.fire()}));const In=ue.R3(qe,fs(".quick-input-action")),Ls=new Ki.z(In,this.styles.button);Ls.label=(0,Mt.NC)("custom","Custom"),this._register(Ls.onDidClick(qn=>{this.onDidCustomEmitter.fire()}));const us=ue.R3(Nt,fs(`#${this.idPrefix}message.quick-input-message`)),Zn=new xn(n,this.styles.progressBar);Zn.getContainer().classList.add("quick-input-progress");const bn=ue.R3(n,fs(".quick-input-html-widget"));bn.tabIndex=-1;const ss=this.idPrefix+"list",gs=this._register(new ar(n,ss,this.options));Ci.setAttribute("aria-controls",ss),this._register(gs.onDidChangeFocus(()=>{var qn;Ci.setAttribute("aria-activedescendant",(qn=gs.getActiveDescendant())!==null&&qn!==void 0?qn:"")})),this._register(gs.onChangedAllVisibleChecked(qn=>{ct.checked=qn})),this._register(gs.onChangedVisibleCount(qn=>{Vn.setCount(qn)})),this._register(gs.onChangedCheckedCount(qn=>{Qn.setCount(qn)})),this._register(gs.onLeave(()=>{setTimeout(()=>{Ci.setFocus(),this.controller instanceof jo&&this.controller.canSelectMany&&gs.clearFocus()},0)}));const Fs=ue.go(n);return this._register(Fs),this._register(ue.nm(n,ue.tw.FOCUS,qn=>{this.previousFocusElement=qn.relatedTarget instanceof HTMLElement?qn.relatedTarget:void 0},!0)),this._register(Fs.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(_i.Jq.Blur),this.previousFocusElement=void 0})),this._register(ue.nm(n,ue.tw.FOCUS,qn=>{Ci.setFocus()})),this._register(ue.nm(n,ue.tw.KEY_DOWN,qn=>{const Yn=new Oo.y(qn);switch(Yn.keyCode){case 3:ue.zB.stop(qn,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:ue.zB.stop(qn,!0),this.hide(_i.Jq.Gesture);break;case 2:if(!Yn.altKey&&!Yn.ctrlKey&&!Yn.metaKey){const $s=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(n.classList.contains("show-checkboxes")?$s.push("input"):$s.push("input[type=text]"),this.getUI().list.isDisplayed()&&$s.push(".monaco-list"),this.getUI().message&&$s.push(".quick-input-message a"),this.getUI().widget){if(ue.jg(Yn.target,this.getUI().widget))break;$s.push(".quick-input-html-widget")}const Do=n.querySelectorAll($s.join(", "));Yn.shiftKey&&Yn.target===Do[0]?(ue.zB.stop(qn,!0),gs.clearFocus()):!Yn.shiftKey&&ue.jg(Yn.target,Do[Do.length-1])&&(ue.zB.stop(qn,!0),Do[0].focus())}break;case 10:Yn.ctrlKey&&(ue.zB.stop(qn,!0),this.getUI().list.toggleHover());break}})),this.ui={container:n,styleSheet:r,leftActionBar:X,titleBar:x,title:te,description1:Te,description2:ht,widget:bn,rightActionBar:ye,checkAll:ct,filterContainer:ci,inputBox:Ci,visibleCountContainer:Gi,visibleCount:Vn,countContainer:vn,count:Qn,okContainer:Gn,ok:is,message:us,customButtonContainer:In,customButton:Ls,list:gs,progressBar:Zn,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:qn=>this.show(qn),hide:()=>this.hide(),setVisibilities:qn=>this.setVisibilities(qn),setEnabled:qn=>this.setEnabled(qn),setContextKey:qn=>this.options.setContextKey(qn),linkOpenerDelegate:qn=>this.options.linkOpenerDelegate(qn)},this.updateStyles(),this.ui}pick(n,r={},x=En.T.None){return new Promise((X,te)=>{let ye=ht=>{var Nt;ye=X,(Nt=r.onKeyMods)===null||Nt===void 0||Nt.call(r,Te.keyMods),X(ht)};if(x.isCancellationRequested){ye(void 0);return}const Te=this.createQuickPick();let qe;const ct=[Te,Te.onDidAccept(()=>{if(Te.canSelectMany)ye(Te.selectedItems.slice()),Te.hide();else{const ht=Te.activeItems[0];ht&&(ye(ht),Te.hide())}}),Te.onDidChangeActive(ht=>{const Nt=ht[0];Nt&&r.onDidFocus&&r.onDidFocus(Nt)}),Te.onDidChangeSelection(ht=>{if(!Te.canSelectMany){const Nt=ht[0];Nt&&(ye(Nt),Te.hide())}}),Te.onDidTriggerItemButton(ht=>r.onDidTriggerItemButton&&r.onDidTriggerItemButton(Object.assign(Object.assign({},ht),{removeItem:()=>{const Nt=Te.items.indexOf(ht.item);if(Nt!==-1){const ci=Te.items.slice(),Ci=ci.splice(Nt,1),Gi=Te.activeItems.filter(vn=>vn!==Ci[0]),Vn=Te.keepScrollPosition;Te.keepScrollPosition=!0,Te.items=ci,Gi&&(Te.activeItems=Gi),Te.keepScrollPosition=Vn}}}))),Te.onDidTriggerSeparatorButton(ht=>{var Nt;return(Nt=r.onDidTriggerSeparatorButton)===null||Nt===void 0?void 0:Nt.call(r,ht)}),Te.onDidChangeValue(ht=>{qe&&!ht&&(Te.activeItems.length!==1||Te.activeItems[0]!==qe)&&(Te.activeItems=[qe])}),x.onCancellationRequested(()=>{Te.hide()}),Te.onDidHide(()=>{(0,u.B9)(ct),ye(void 0)})];Te.title=r.title,Te.canSelectMany=!!r.canPickMany,Te.placeholder=r.placeHolder,Te.ignoreFocusOut=!!r.ignoreFocusLost,Te.matchOnDescription=!!r.matchOnDescription,Te.matchOnDetail=!!r.matchOnDetail,Te.matchOnLabel=r.matchOnLabel===void 0||r.matchOnLabel,Te.autoFocusOnList=r.autoFocusOnList===void 0||r.autoFocusOnList,Te.quickNavigate=r.quickNavigate,Te.hideInput=!!r.hideInput,Te.contextKey=r.contextKey,Te.busy=!0,Promise.all([n,r.activeItem]).then(([ht,Nt])=>{qe=Nt,Te.busy=!1,Te.items=ht,Te.canSelectMany&&(Te.selectedItems=ht.filter(ci=>ci.type!=="separator"&&ci.picked)),qe&&(Te.activeItems=[qe])}),Te.show(),Promise.resolve(n).then(void 0,ht=>{te(ht),Te.hide()})})}createQuickPick(){const n=this.getUI();return new jo(n)}createInputBox(){const n=this.getUI();return new tr(n)}show(n){const r=this.getUI();this.onShowEmitter.fire();const x=this.controller;this.controller=n,x==null||x.didHide(),this.setEnabled(!0),r.leftActionBar.clear(),r.title.textContent="",r.description1.textContent="",r.description2.textContent="",ue.mc(r.widget),r.rightActionBar.clear(),r.checkAll.checked=!1,r.inputBox.placeholder="",r.inputBox.password=!1,r.inputBox.showDecoration($t.Z.Ignore),r.visibleCount.setCount(0),r.count.setCount(0),ue.mc(r.message),r.progressBar.stop(),r.list.setElements([]),r.list.matchOnDescription=!1,r.list.matchOnDetail=!1,r.list.matchOnLabel=!0,r.list.sortByLabel=!0,r.ignoreFocusOut=!1,r.inputBox.toggles=void 0;const X=this.options.backKeybindingLabel();fo.tooltip=X?(0,Mt.NC)("quickInput.backWithKeybinding","Back ({0})",X):(0,Mt.NC)("quickInput.back","Back"),r.container.style.display="",this.updateLayout(),r.inputBox.setFocus()}setVisibilities(n){const r=this.getUI();r.title.style.display=n.title?"":"none",r.description1.style.display=n.description&&(n.inputBox||n.checkAll)?"":"none",r.description2.style.display=n.description&&!(n.inputBox||n.checkAll)?"":"none",r.checkAll.style.display=n.checkAll?"":"none",r.filterContainer.style.display=n.inputBox?"":"none",r.visibleCountContainer.style.display=n.visibleCount?"":"none",r.countContainer.style.display=n.count?"":"none",r.okContainer.style.display=n.ok?"":"none",r.customButtonContainer.style.display=n.customButton?"":"none",r.message.style.display=n.message?"":"none",r.progressBar.getContainer().style.display=n.progressBar?"":"none",r.list.display(!!n.list),r.container.classList.toggle("show-checkboxes",!!n.checkBox),r.container.classList.toggle("hidden-input",!n.inputBox&&!n.description),this.updateLayout()}setEnabled(n){if(n!==this.enabled){this.enabled=n;for(const r of this.getUI().leftActionBar.viewItems)r.action.enabled=n;for(const r of this.getUI().rightActionBar.viewItems)r.action.enabled=n;this.getUI().checkAll.disabled=!n,this.getUI().inputBox.enabled=n,this.getUI().ok.enabled=n,this.getUI().list.enabled=n}}hide(n){var r;const x=this.controller;if(x){const X=!(!((r=this.ui)===null||r===void 0)&&r.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!X){let te=this.previousFocusElement;for(;te&&!te.offsetParent;)te=(0,Bo.f6)(te.parentElement);te!=null&&te.offsetParent?(te.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}x.didHide(n)}}layout(n,r){this.dimension=n,this.titleBarOffset=r,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const n=this.ui.container.style,r=Math.min(this.dimension.width*.62,ua.MAX_WIDTH);n.width=r+"px",n.marginLeft="-"+r/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(n){this.styles=n,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:n,quickInputBackground:r,quickInputForeground:x,widgetBorder:X,widgetShadow:te}=this.styles.widget;this.ui.titleBar.style.backgroundColor=n!=null?n:"",this.ui.container.style.backgroundColor=r!=null?r:"",this.ui.container.style.color=x!=null?x:"",this.ui.container.style.border=X?`1px solid ${X}`:"",this.ui.container.style.boxShadow=te?`0 0 8px 2px ${te}`:"",this.ui.list.style(this.styles.list);const ye=[];this.styles.pickerGroup.pickerGroupBorder&&ye.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&ye.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&ye.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(ye.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&ye.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&ye.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&ye.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&ye.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&ye.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),ye.push("}"));const Te=ye.join(`
`);Te!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Te)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}ua.MAX_WIDTH=600;var El=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},zr=function(Ie,n){return function(r,x){n(r,x,Ie)}};let Ia=class extends at.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Zi))),this._quickAccess}constructor(n,r,x,X){super(x),this.instantiationService=n,this.contextKeyService=r,this.layoutService=X,this._onShow=this._register(new E.Q5),this._onHide=this._register(new E.Q5),this.contexts=new Map}createController(n=this.layoutService,r){const x={idPrefix:"quickInput_",container:n.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:te=>this.setContextKey(te),linkOpenerDelegate:te=>{this.instantiationService.invokeFunction(ye=>{ye.get(an.v4).open(te,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>n.focus(),createList:(te,ye,Te,qe,ct)=>this.instantiationService.createInstance(Xt.ev,te,ye,Te,qe,ct),hoverDelegate:{showHover(te,ye){},delay:200},styles:this.computeStyles()},X=this._register(new ua(Object.assign(Object.assign({},x),r)));return X.layout(n.dimension,n.offset.quickPickTop),this._register(n.onDidLayout(te=>X.layout(te,n.offset.quickPickTop))),this._register(X.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(X.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),X}setContextKey(n){let r;n&&(r=this.contexts.get(n),r||(r=new ni.uy(n,!1).bindTo(this.contextKeyService),this.contexts.set(n,r))),!(r&&r.get())&&(this.resetContextKeys(),r==null||r.set(!0))}resetContextKeys(){this.contexts.forEach(n=>{n.get()&&n.reset()})}pick(n,r={},x=En.T.None){return this.controller.pick(n,r,x)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,Ht.n_1)(Ht.zKr),quickInputForeground:(0,Ht.n_1)(Ht.tZ6),quickInputTitleBackground:(0,Ht.n_1)(Ht.loF),widgetBorder:(0,Ht.n_1)(Ht.A42),widgetShadow:(0,Ht.n_1)(Ht.rh)},inputBox:kn.Hc,toggle:kn.pl,countBadge:kn.ku,button:kn.wG,progressBar:kn.b5,keybindingLabel:kn.eO,list:(0,kn.TU)({listBackground:Ht.zKr,listFocusBackground:Ht.Vqd,listFocusForeground:Ht.NPS,listInactiveFocusForeground:Ht.NPS,listInactiveSelectionIconForeground:Ht.cbQ,listInactiveFocusBackground:Ht.Vqd,listFocusOutline:Ht.xL1,listInactiveFocusOutline:Ht.xL1}),pickerGroup:{pickerGroupBorder:(0,Ht.n_1)(Ht.opG),pickerGroupForeground:(0,Ht.n_1)(Ht.kJk)}}}};Ia=El([zr(0,Zt.TG),zr(1,ni.i6),zr(2,at.XE),zr(3,Xs)],Ia);var xl=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},ha=function(Ie,n){return function(r,x){n(r,x,Ie)}};let ul=class extends Ia{constructor(n,r,x,X,te){super(r,x,X,new yo(n.getContainerDomNode(),te)),this.host=void 0;const ye=Mr.get(n);if(ye){const Te=ye.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return Te.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};ul=xl([ha(1,Zt.TG),ha(2,ni.i6),ha(3,at.XE),ha(4,I.$)],ul);let za=class{get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let r=this.mapEditorToService.get(n);if(!r){const x=r=this.instantiationService.createInstance(ul,n);this.mapEditorToService.set(n,r),(0,ii.I)(n.onDidDispose)(()=>{x.dispose(),this.mapEditorToService.delete(n)})}return r}get quickAccess(){return this.activeService.quickAccess}constructor(n,r){this.instantiationService=n,this.codeEditorService=r,this.mapEditorToService=new Map}pick(n,r={},x=En.T.None){return this.activeService.pick(n,r,x)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};za=xl([ha(0,Zt.TG),ha(1,I.$)],za);class Mr{static get(n){return n.getContribution(Mr.ID)}constructor(n){this.editor=n,this.widget=new ja(this.editor)}dispose(){this.widget.dispose()}}Mr.ID="editor.controller.quickInput";class ja{constructor(n){this.codeEditor=n,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return ja.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}ja.ID="editor.contrib.quickInputWidget",(0,gi._K)(Mr.ID,Mr,4);var jl=t(79091),ir=t(96444),Il=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},hl=function(Ie,n){return function(r,x){n(r,x,Ie)}};let fl=class extends u.JT{constructor(n,r,x){super(),this._contextKeyService=n,this._layoutService=r,this._configurationService=x,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new E.Q5,this._onDidChangeReducedMotion=new E.Q5,this._accessibilityModeEnabledContext=d.U.bindTo(this._contextKeyService);const X=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(ye=>{ye.affectsConfiguration("editor.accessibilitySupport")&&(X(),this._onDidChangeScreenReaderOptimized.fire()),ye.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),X(),this._register(this.onDidChangeScreenReaderOptimized(()=>X()));const te=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=te.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(te)}initReducedMotionListeners(n){if(!this._layoutService.hasContainer)return;this._register((0,ue.nm)(n,"change",()=>{this._systemMotionReduced=n.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const r=()=>{const x=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",x),this._layoutService.container.classList.toggle("enable-motion",!x)};r(),this._register(this.onDidChangeReducedMotion(()=>r()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const n=this._configurationService.getValue("editor.accessibilitySupport");return n==="on"||n==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const n=this._configMotionReduced;return n==="on"||n==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};fl=Il([hl(0,ni.i6),hl(1,Xs),hl(2,oe.Ui)],fl);var Ka=t(63536),$a=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},ta=function(Ie,n){return function(r,x){n(r,x,Ie)}};let ro=class{constructor(n,r){this._commandService=n,this._hiddenStates=new Ks(r)}createMenu(n,r,x){return new Ao(n,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},x),this._commandService,r)}resetHiddenStates(n){this._hiddenStates.reset(n)}};ro=$a([ta(0,lo.H),ta(1,Ka.Uy)],ro);let Ks=class Ll{constructor(n){this._storageService=n,this._disposables=new u.SL,this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const r=n.get(Ll._key,0,"{}");this._data=JSON.parse(r)}catch(r){this._data=Object.create(null)}this._disposables.add(n.onDidChangeValue(r=>{if(r.key===Ll._key){if(!this._ignoreChangeEvent)try{const x=n.get(Ll._key,0,"{}");this._data=JSON.parse(x)}catch(x){console.log("FAILED to read storage after UPDATE",x)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(n,r){var x;return(x=this._hiddenByDefaultCache.get(`${n.id}/${r}`))!==null&&x!==void 0?x:!1}setDefaultState(n,r,x){this._hiddenByDefaultCache.set(`${n.id}/${r}`,x)}isHidden(n,r){var x,X;const te=this._isHiddenByDefault(n,r),ye=(X=(x=this._data[n.id])===null||x===void 0?void 0:x.includes(r))!==null&&X!==void 0?X:!1;return te?!ye:ye}updateHidden(n,r,x){this._isHiddenByDefault(n,r)&&(x=!x);const te=this._data[n.id];if(x)te?te.indexOf(r)<0&&te.push(r):this._data[n.id]=[r];else if(te){const ye=te.indexOf(r);ye>=0&&(0,Ys.LS)(te,ye),te.length===0&&delete this._data[n.id]}this._persist()}reset(n){if(n===void 0)this._data=Object.create(null),this._persist();else{for(const{id:r}of n)this._data[r]&&delete this._data[r];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const n=JSON.stringify(this._data);this._storageService.store(Ll._key,n,0,0)}finally{this._ignoreChangeEvent=!1}}};Ks._key="menu.hiddenCommands",Ks=$a([ta(0,Ka.Uy)],Ks);let eo=class Ma{constructor(n,r,x,X,te){this._id=n,this._hiddenStates=r,this._collectContextKeysForSubmenus=x,this._commandService=X,this._contextKeyService=te,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const n=ho.BH.getMenuItems(this._id);let r;n.sort(Ma._compareMenuItems);for(const x of n){const X=x.group||"";(!r||r[0]!==X)&&(r=[X,[]],this._menuGroups.push(r)),r[1].push(x),this._collectContextKeys(x)}}_collectContextKeys(n){if(Ma._fillInKbExprKeys(n.when,this._structureContextKeys),(0,ho.vr)(n)){if(n.command.precondition&&Ma._fillInKbExprKeys(n.command.precondition,this._preconditionContextKeys),n.command.toggled){const r=n.command.toggled.condition||n.command.toggled;Ma._fillInKbExprKeys(r,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&ho.BH.getMenuItems(n.submenu).forEach(this._collectContextKeys,this)}createActionGroups(n){const r=[];for(const x of this._menuGroups){const[X,te]=x,ye=[];for(const Te of te)if(this._contextKeyService.contextMatchesRules(Te.when)){const qe=(0,ho.vr)(Te);qe&&this._hiddenStates.setDefaultState(this._id,Te.command.id,!!Te.isHiddenByDefault);const ct=Zo(this._id,qe?Te.command:Te,this._hiddenStates);if(qe)ye.push(new ho.U8(Te.command,Te.alt,n,ct,this._contextKeyService,this._commandService));else{const ht=new Ma(Te.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(n),Nt=dt.Z0.join(...ht.map(ci=>ci[1]));Nt.length>0&&ye.push(new ho.NZ(Te,ct,Nt))}}ye.length>0&&r.push([X,ye])}return r}static _fillInKbExprKeys(n,r){if(n)for(const x of n.keys())r.add(x)}static _compareMenuItems(n,r){const x=n.group,X=r.group;if(x!==X){if(x){if(!X)return-1}else return 1;if(x==="navigation")return-1;if(X==="navigation")return 1;const Te=x.localeCompare(X);if(Te!==0)return Te}const te=n.order||0,ye=r.order||0;return te<ye?-1:te>ye?1:Ma._compareTitles((0,ho.vr)(n)?n.command.title:n.title,(0,ho.vr)(r)?r.command.title:r.title)}static _compareTitles(n,r){const x=typeof n=="string"?n:n.original,X=typeof r=="string"?r:r.original;return x.localeCompare(X)}};eo=$a([ta(3,lo.H),ta(4,ni.i6)],eo);let Ao=class{constructor(n,r,x,X,te){this._disposables=new u.SL,this._menuInfo=new eo(n,r,x.emitEventsForSubmenuChanges,X,te);const ye=new nt.pY(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},x.eventDebounceDelay);this._disposables.add(ye),this._disposables.add(ho.BH.onDidChangeMenu(ht=>{ht.has(n)&&ye.schedule()}));const Te=this._disposables.add(new u.SL),qe=ht=>{let Nt=!1,ci=!1,Ci=!1;for(const Gi of ht)if(Nt=Nt||Gi.isStructuralChange,ci=ci||Gi.isEnablementChange,Ci=Ci||Gi.isToggleChange,Nt&&ci&&Ci)break;return{menu:this,isStructuralChange:Nt,isEnablementChange:ci,isToggleChange:Ci}},ct=()=>{Te.add(te.onDidChangeContext(ht=>{const Nt=ht.affectsSome(this._menuInfo.structureContextKeys),ci=ht.affectsSome(this._menuInfo.preconditionContextKeys),Ci=ht.affectsSome(this._menuInfo.toggledContextKeys);(Nt||ci||Ci)&&this._onDidChange.fire({menu:this,isStructuralChange:Nt,isEnablementChange:ci,isToggleChange:Ci})})),Te.add(r.onDidChange(ht=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new E.D0({onWillAddFirstListener:ct,onDidRemoveLastListener:Te.clear.bind(Te),delay:x.eventDebounceDelay,merge:qe}),this.onDidChange=this._onDidChange.event}getActions(n){return this._menuInfo.createActionGroups(n)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};Ao=$a([ta(3,lo.H),ta(4,ni.i6)],Ao);function Zo(Ie,n,r){const x=(0,ho.f6)(n)?n.submenu.id:n.id,X=typeof n.title=="string"?n.title:n.title.value,te=(0,dt.xw)({id:`hide/${Ie.id}/${x}`,label:(0,Mt.NC)("hide.label","Hide '{0}'",X),run(){r.updateHidden(Ie,x,!0)}}),ye=(0,dt.xw)({id:`toggle/${Ie.id}/${x}`,label:X,get checked(){return!r.isHidden(Ie,x)},run(){r.updateHidden(Ie,x,!!this.checked)}});return{hide:te,toggle:ye,get isHidden(){return!ye.checked}}}var ia=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},fa=function(Ie,n){return function(r,x){n(r,x,Ie)}},ga=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};let Kl=class extends u.JT{constructor(n,r){super(),this.layoutService=n,this.logService=r,this.mapTextToType=new Map,this.findText="",this.resources=[],(Ea.isSafari||Ea.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const n=()=>{const r=new nt.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=r,navigator.clipboard.write([new ClipboardItem({"text/plain":r.p})]).catch(x=>ga(this,void 0,void 0,function*(){(!(x instanceof Error)||x.name!=="NotAllowedError"||!r.isRejected)&&this.logService.error(x)}))};this.layoutService.hasContainer&&(this._register((0,ue.nm)(this.layoutService.container,"click",n)),this._register((0,ue.nm)(this.layoutService.container,"keydown",n)))}writeText(n,r){return ga(this,void 0,void 0,function*(){if(r){this.mapTextToType.set(r,n);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(n);try{return yield navigator.clipboard.writeText(n)}catch(te){console.error(te)}const x=document.activeElement,X=document.body.appendChild((0,ue.$)("textarea",{"aria-hidden":!0}));X.style.height="1px",X.style.width="1px",X.style.position="absolute",X.value=n,X.focus(),X.select(),document.execCommand("copy"),x instanceof HTMLElement&&x.focus(),document.body.removeChild(X)})}readText(n){return ga(this,void 0,void 0,function*(){if(n)return this.mapTextToType.get(n)||"";try{return yield navigator.clipboard.readText()}catch(r){return console.error(r),""}})}readFindText(){return ga(this,void 0,void 0,function*(){return this.findText})}writeFindText(n){return ga(this,void 0,void 0,function*(){this.findText=n})}readResources(){return ga(this,void 0,void 0,function*(){return this.resources})}};Kl=ia([fa(0,Xs),fa(1,Ni.VZ)],Kl);var Ga=t(97865),wd=t(87057),Ld=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Dd=function(Ie,n){return function(r,x){n(r,x,Ie)}};const gl="data-keybinding-context";class $l{constructor(n,r){this._id=n,this._parent=r,this._value=Object.create(null),this._value._contextId=n}get value(){return Object.assign({},this._value)}setValue(n,r){return this._value[n]!==r?(this._value[n]=r,!0):!1}removeValue(n){return n in this._value?(delete this._value[n],!0):!1}getValue(n){const r=this._value[n];return typeof r=="undefined"&&this._parent?this._parent.getValue(n):r}}class Za extends $l{constructor(){super(-1,null)}setValue(n,r){return!1}removeValue(n){return!1}getValue(n){}}Za.INSTANCE=new Za;class ml extends $l{constructor(n,r,x){super(n,null),this._configurationService=r,this._values=wd.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(X=>{if(X.source===7){const te=Array.from(this._values,([ye])=>ye);this._values.clear(),x.fire(new wc(te))}else{const te=[];for(const ye of X.affectedKeys){const Te=`config.${ye}`,qe=this._values.findSuperstr(Te);qe!==void 0&&(te.push(...Ga.$.map(qe,([ct])=>ct)),this._values.deleteSuperstr(Te)),this._values.has(Te)&&(te.push(Te),this._values.delete(Te))}x.fire(new wc(te))}})}dispose(){this._listener.dispose()}getValue(n){if(n.indexOf(ml._keyPrefix)!==0)return super.getValue(n);if(this._values.has(n))return this._values.get(n);const r=n.substr(ml._keyPrefix.length),x=this._configurationService.getValue(r);let X;switch(typeof x){case"number":case"boolean":case"string":X=x;break;default:Array.isArray(x)?X=JSON.stringify(x):X=x}return this._values.set(n,X),X}setValue(n,r){return super.setValue(n,r)}removeValue(n){return super.removeValue(n)}}ml._keyPrefix="config.";class Ed{constructor(n,r,x){this._service=n,this._key=r,this._defaultValue=x,this.reset()}set(n){this._service.setContext(this._key,n)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class yc{constructor(n){this.key=n}affectsSome(n){return n.has(this.key)}allKeysContainedIn(n){return this.affectsSome(n)}}class wc{constructor(n){this.keys=n}affectsSome(n){for(const r of this.keys)if(n.has(r))return!0;return!1}allKeysContainedIn(n){return this.keys.every(r=>n.has(r))}}class xd{constructor(n){this.events=n}affectsSome(n){for(const r of this.events)if(r.affectsSome(n))return!0;return!1}allKeysContainedIn(n){return this.events.every(r=>r.allKeysContainedIn(n))}}function Id(Ie,n){return Ie.allKeysContainedIn(new Set(Object.keys(n)))}class Lc{constructor(n){this._onDidChangeContext=new E.K3({merge:r=>new xd(r)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=n}createKey(n,r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ed(this,n,r)}bufferChangeEvents(n){this._onDidChangeContext.pause();try{n()}finally{this._onDidChangeContext.resume()}}createScoped(n){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Nd(this,n)}contextMatchesRules(n){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const r=this.getContextValuesContainer(this._myContextId);return n?n.evaluate(r):!0}getContextKeyValue(n){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(n)}setContext(n,r){if(this._isDisposed)return;const x=this.getContextValuesContainer(this._myContextId);x&&x.setValue(n,r)&&this._onDidChangeContext.fire(new yc(n))}removeContext(n){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(n)&&this._onDidChangeContext.fire(new yc(n))}getContext(n){return this._isDisposed?Za.INSTANCE:this.getContextValuesContainer(Td(n))}}let Gl=class extends Lc{constructor(n){super(0),this._contexts=new Map,this._toDispose=new u.SL,this._lastContextId=0;const r=new ml(this._myContextId,n,this._onDidChangeContext);this._contexts.set(this._myContextId,r),this._toDispose.add(r)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(n){return this._isDisposed?Za.INSTANCE:this._contexts.get(n)||Za.INSTANCE}createChildContext(n=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const r=++this._lastContextId;return this._contexts.set(r,new $l(r,this.getContextValuesContainer(n))),r}disposeContext(n){this._isDisposed||this._contexts.delete(n)}};Gl=Ld([Dd(0,oe.Ui)],Gl);class Nd extends Lc{constructor(n,r){if(super(n.createChildContext()),this._parentChangeListener=new u.XK,this._parent=n,this._updateParentChangeListener(),this._domNode=r,this._domNode.hasAttribute(gl)){let x="";this._domNode.classList&&(x=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${x?": "+x:""}`)}this._domNode.setAttribute(gl,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(n=>{const x=this._parent.getContextValuesContainer(this._myContextId).value;Id(n,x)||this._onDidChangeContext.fire(n)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(gl),this._isDisposed=!0)}getContextValuesContainer(n){return this._isDisposed?Za.INSTANCE:this._parent.getContextValuesContainer(n)}createChildContext(n=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(n)}disposeContext(n){this._isDisposed||this._parent.disposeContext(n)}}function Td(Ie){for(;Ie;){if(Ie.hasAttribute(gl)){const n=Ie.getAttribute(gl);return n?parseInt(n,10):NaN}Ie=Ie.parentElement}return 0}function Md(Ie,n,r){Ie.get(ni.i6).createKey(String(n),Pd(r))}function Pd(Ie){return(0,g.rs)(Ie,n=>{if(typeof n=="object"&&n.$mid===1)return p.o.revive(n).toString();if(n instanceof p.o)return n.toString()})}lo.P.registerCommand("_setContext",Md),lo.P.registerCommand({id:"getContextKeyInfo",handler(){return[...ni.uy.all()].sort((Ie,n)=>Ie.key.localeCompare(n.key))},description:{description:(0,Mt.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),lo.P.registerCommand("_generateContextKeyInfo",function(){const Ie=[],n=new Set;for(const r of ni.uy.all())n.has(r.key)||(n.add(r.key),Ie.push(r));Ie.sort((r,x)=>r.key.localeCompare(x.key)),console.log(JSON.stringify(Ie,void 0,2))});var ma=t(30840);class Rd{constructor(n,r){this.key=n,this.data=r,this.incoming=new Map,this.outgoing=new Map}}class Dc{constructor(n){this._hashFn=n,this._nodes=new Map}roots(){const n=[];for(const r of this._nodes.values())r.outgoing.size===0&&n.push(r);return n}insertEdge(n,r){const x=this.lookupOrInsertNode(n),X=this.lookupOrInsertNode(r);x.outgoing.set(X.key,X),X.incoming.set(x.key,x)}removeNode(n){const r=this._hashFn(n);this._nodes.delete(r);for(const x of this._nodes.values())x.outgoing.delete(r),x.incoming.delete(r)}lookupOrInsertNode(n){const r=this._hashFn(n);let x=this._nodes.get(r);return x||(x=new Rd(r,n),this._nodes.set(r,x)),x}isEmpty(){return this._nodes.size===0}toString(){const n=[];for(const[r,x]of this._nodes)n.push(`${r}
	(-> incoming)[${[...x.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...x.outgoing.keys()].join(",")}]
`);return n.join(`
`)}findCycleSlow(){for(const[n,r]of this._nodes){const x=new Set([n]),X=this._findCycle(r,x);if(X)return X}}_findCycle(n,r){for(const[x,X]of n.outgoing){if(r.has(x))return[...r,x].join(" -> ");r.add(x);const te=this._findCycle(X,r);if(te)return te;r.delete(x)}}}const Od=!1;class Ec extends Error{constructor(n){var r;super("cyclic dependency between services"),this.message=(r=n.findCycleSlow())!==null&&r!==void 0?r:`UNABLE to detect cycle, dumping graph: 
${n.toString()}`}}class Nl{constructor(n=new Jt.y,r=!1,x,X=Od){var te;this._services=n,this._strict=r,this._parent=x,this._enableTracing=X,this._activeInstantiations=new Set,this._services.set(Zt.TG,this),this._globalGraph=X?(te=x==null?void 0:x._globalGraph)!==null&&te!==void 0?te:new Dc(ye=>ye):void 0}createChild(n){return new Nl(n,this._strict,this,this._enableTracing)}invokeFunction(n,...r){const x=Ko.traceInvocation(this._enableTracing,n);let X=!1;try{return n({get:ye=>{if(X)throw(0,st.L6)("service accessor is only valid during the invocation of its target method");const Te=this._getOrCreateServiceInstance(ye,x);if(!Te)throw new Error(`[invokeFunction] unknown service '${ye}'`);return Te}},...r)}finally{X=!0,x.stop()}}createInstance(n,...r){let x,X;return n instanceof ma.M?(x=Ko.traceCreation(this._enableTracing,n.ctor),X=this._createInstance(n.ctor,n.staticArguments.concat(r),x)):(x=Ko.traceCreation(this._enableTracing,n),X=this._createInstance(n,r,x)),x.stop(),X}_createInstance(n,r=[],x){const X=Zt.I8.getServiceDependencies(n).sort((Te,qe)=>Te.index-qe.index),te=[];for(const Te of X){const qe=this._getOrCreateServiceInstance(Te.id,x);qe||this._throwIfStrict(`[createInstance] ${n.name} depends on UNKNOWN service ${Te.id}.`,!1),te.push(qe)}const ye=X.length>0?X[0].index:r.length;if(r.length!==ye){console.trace(`[createInstance] First service dependency of ${n.name} at position ${ye+1} conflicts with ${r.length} static arguments`);const Te=ye-r.length;Te>0?r=r.concat(new Array(Te)):r=r.slice(0,ye)}return Reflect.construct(n,r.concat(te))}_setServiceInstance(n,r){if(this._services.get(n)instanceof ma.M)this._services.set(n,r);else if(this._parent)this._parent._setServiceInstance(n,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(n){const r=this._services.get(n);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(n):r}_getOrCreateServiceInstance(n,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(n));const x=this._getServiceInstanceOrDescriptor(n);return x instanceof ma.M?this._safeCreateAndCacheServiceInstance(n,x,r.branch(n,!0)):(r.branch(n,!1),x)}_safeCreateAndCacheServiceInstance(n,r,x){if(this._activeInstantiations.has(n))throw new Error(`illegal state - RECURSIVELY instantiating service '${n}'`);this._activeInstantiations.add(n);try{return this._createAndCacheServiceInstance(n,r,x)}finally{this._activeInstantiations.delete(n)}}_createAndCacheServiceInstance(n,r,x){var X;const te=new Dc(qe=>qe.id.toString());let ye=0;const Te=[{id:n,desc:r,_trace:x}];for(;Te.length;){const qe=Te.pop();if(te.lookupOrInsertNode(qe),ye++>1e3)throw new Ec(te);for(const ct of Zt.I8.getServiceDependencies(qe.desc.ctor)){const ht=this._getServiceInstanceOrDescriptor(ct.id);if(ht||this._throwIfStrict(`[createInstance] ${n} depends on ${ct.id} which is NOT registered.`,!0),(X=this._globalGraph)===null||X===void 0||X.insertEdge(String(qe.id),String(ct.id)),ht instanceof ma.M){const Nt={id:ct.id,desc:ht,_trace:qe._trace.branch(ct.id,!0)};te.insertEdge(qe,Nt),Te.push(Nt)}}}for(;;){const qe=te.roots();if(qe.length===0){if(!te.isEmpty())throw new Ec(te);break}for(const{data:ct}of qe){if(this._getServiceInstanceOrDescriptor(ct.id)instanceof ma.M){const Nt=this._createServiceInstanceWithOwner(ct.id,ct.desc.ctor,ct.desc.staticArguments,ct.desc.supportsDelayedInstantiation,ct._trace);this._setServiceInstance(ct.id,Nt)}te.removeNode(ct)}}return this._getServiceInstanceOrDescriptor(n)}_createServiceInstanceWithOwner(n,r,x=[],X,te){if(this._services.get(n)instanceof ma.M)return this._createServiceInstance(n,r,x,X,te);if(this._parent)return this._parent._createServiceInstanceWithOwner(n,r,x,X,te);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(n,r,x=[],X,te){if(X){const ye=new Nl(void 0,this._strict,this,this._enableTracing);ye._globalGraphImplicitDependency=String(n);const Te=new Map,qe=new nt.Ue(()=>{const ct=ye._createInstance(r,x,te);for(const[ht,Nt]of Te){const ci=ct[ht];if(typeof ci=="function")for(const Ci of Nt)ci.apply(ct,Ci)}return Te.clear(),ct});return new Proxy(Object.create(null),{get(ct,ht){if(!qe.isInitialized&&typeof ht=="string"&&(ht.startsWith("onDid")||ht.startsWith("onWill"))){let Ci=Te.get(ht);return Ci||(Ci=new rn.S,Te.set(ht,Ci)),(Vn,vn,Qn)=>{const Gn=Ci.push([Vn,vn,Qn]);return(0,u.OF)(Gn)}}if(ht in ct)return ct[ht];const Nt=qe.value;let ci=Nt[ht];return typeof ci!="function"||(ci=ci.bind(Nt),ct[ht]=ci),ci},set(ct,ht,Nt){return qe.value[ht]=Nt,!0},getPrototypeOf(ct){return r.prototype}})}else return this._createInstance(r,x,te)}_throwIfStrict(n,r){if(r&&console.warn(n),this._strict)throw new Error(n)}}class Ko{static traceInvocation(n,r){return n?new Ko(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):Ko._None}static traceCreation(n,r){return n?new Ko(1,r.name):Ko._None}constructor(n,r){this.type=n,this.name=r,this._start=Date.now(),this._dep=[]}branch(n,r){const x=new Ko(3,n.toString());return this._dep.push([n,r,x]),x}stop(){const n=Date.now()-this._start;Ko._totals+=n;let r=!1;function x(te,ye){const Te=[],qe=new Array(te+1).join("	");for(const[ct,ht,Nt]of ye._dep)if(ht&&Nt){r=!0,Te.push(`${qe}CREATES -> ${ct}`);const ci=x(te+1,Nt);ci&&Te.push(ci)}else Te.push(`${qe}uses -> ${ct}`);return Te.join(`
`)}const X=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${x(1,this)}`,`DONE, took ${n.toFixed(2)}ms (grand total ${Ko._totals.toFixed(2)}ms)`];(n>2||r)&&Ko.all.add(X.join(`
`))}}Ko.all=new Set,Ko._None=new class extends Ko{constructor(){super(0,null)}stop(){}branch(){return this}},Ko._totals=0;const Ad=new Set([Fi.lg.inMemory,Fi.lg.vscodeSourceControl,Fi.lg.walkThrough,Fi.lg.walkThroughSnippet]);class kd{constructor(){this._byResource=new vs.Y9,this._byOwner=new Map}set(n,r,x){let X=this._byResource.get(n);X||(X=new Map,this._byResource.set(n,X)),X.set(r,x);let te=this._byOwner.get(r);te||(te=new vs.Y9,this._byOwner.set(r,te)),te.set(n,x)}get(n,r){const x=this._byResource.get(n);return x==null?void 0:x.get(r)}delete(n,r){let x=!1,X=!1;const te=this._byResource.get(n);te&&(x=te.delete(r));const ye=this._byOwner.get(r);if(ye&&(X=ye.delete(n)),x!==X)throw new Error("illegal state");return x&&X}values(n){var r,x,X,te;return typeof n=="string"?(x=(r=this._byOwner.get(n))===null||r===void 0?void 0:r.values())!==null&&x!==void 0?x:Ga.$.empty():p.o.isUri(n)?(te=(X=this._byResource.get(n))===null||X===void 0?void 0:X.values())!==null&&te!==void 0?te:Ga.$.empty():Ga.$.map(Ga.$.concat(...this._byOwner.values()),ye=>ye[1])}}class Fd{constructor(n){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new vs.Y9,this._service=n,this._subscription=n.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(n){for(const r of n){const x=this._data.get(r);x&&this._substract(x);const X=this._resourceStats(r);this._add(X),this._data.set(r,X)}}_resourceStats(n){const r={errors:0,warnings:0,infos:0,unknowns:0};if(Ad.has(n.scheme))return r;for(const{severity:x}of this._service.read({resource:n}))x===Rn.ZL.Error?r.errors+=1:x===Rn.ZL.Warning?r.warnings+=1:x===Rn.ZL.Info?r.infos+=1:r.unknowns+=1;return r}_substract(n){this.errors-=n.errors,this.warnings-=n.warnings,this.infos-=n.infos,this.unknowns-=n.unknowns}_add(n){this.errors+=n.errors,this.warnings+=n.warnings,this.infos+=n.infos,this.unknowns+=n.unknowns}}class pa{constructor(){this._onMarkerChanged=new E.D0({delay:0,merge:pa._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new kd,this._stats=new Fd(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(n,r){for(const x of r||[])this.changeOne(n,x,[])}changeOne(n,r,x){if((0,Ys.XY)(x))this._data.delete(r,n)&&this._onMarkerChanged.fire([r]);else{const X=[];for(const te of x){const ye=pa._toMarker(n,r,te);ye&&X.push(ye)}this._data.set(r,n,X),this._onMarkerChanged.fire([r])}}static _toMarker(n,r,x){let{code:X,severity:te,message:ye,source:Te,startLineNumber:qe,startColumn:ct,endLineNumber:ht,endColumn:Nt,relatedInformation:ci,tags:Ci}=x;if(ye)return qe=qe>0?qe:1,ct=ct>0?ct:1,ht=ht>=qe?ht:qe,Nt=Nt>0?Nt:ct,{resource:r,owner:n,code:X,severity:te,message:ye,source:Te,startLineNumber:qe,startColumn:ct,endLineNumber:ht,endColumn:Nt,relatedInformation:ci,tags:Ci}}changeAll(n,r){const x=[],X=this._data.values(n);if(X)for(const te of X){const ye=Ga.$.first(te);ye&&(x.push(ye.resource),this._data.delete(ye.resource,n))}if((0,Ys.Of)(r)){const te=new vs.Y9;for(const{resource:ye,marker:Te}of r){const qe=pa._toMarker(n,ye,Te);if(!qe)continue;const ct=te.get(ye);ct?ct.push(qe):(te.set(ye,[qe]),x.push(ye))}for(const[ye,Te]of te)this._data.set(ye,n,Te)}x.length>0&&this._onMarkerChanged.fire(x)}read(n=Object.create(null)){let{owner:r,resource:x,severities:X,take:te}=n;if((!te||te<0)&&(te=-1),r&&x){const ye=this._data.get(x,r);if(ye){const Te=[];for(const qe of ye)if(pa._accept(qe,X)){const ct=Te.push(qe);if(te>0&&ct===te)break}return Te}else return[]}else if(!r&&!x){const ye=[];for(const Te of this._data.values())for(const qe of Te)if(pa._accept(qe,X)){const ct=ye.push(qe);if(te>0&&ct===te)return ye}return ye}else{const ye=this._data.values(x!=null?x:r),Te=[];for(const qe of ye)for(const ct of qe)if(pa._accept(ct,X)){const ht=Te.push(ct);if(te>0&&ht===te)return Te}return Te}}static _accept(n,r){return r===void 0||(r&n.severity)===n.severity}static _merge(n){const r=new vs.Y9;for(const x of n)for(const X of x)r.set(X,!0);return Array.from(r.keys())}}class Bd extends u.JT{constructor(){super(...arguments),this._configurationModel=new Jn}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Jn;const n=yr.B.as(Wo.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(n),n)}updateConfigurationModel(n,r){const x=this.getConfigurationDefaultOverrides();for(const X of n){const te=x[X],ye=r[X];te!==void 0?this._configurationModel.addValue(X,te):ye?this._configurationModel.addValue(X,ye.default):this._configurationModel.removeValue(X)}}}class Wd extends u.JT{constructor(n,r=[]){super(),this.logger=new Ni.qA([n,...r]),this._register(n.onDidChangeLogLevel(x=>this.setLevel(x)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(n){this.logger.setLevel(n)}getLevel(){return this.logger.getLevel()}trace(n,...r){this.logger.trace(n,...r)}debug(n,...r){this.logger.debug(n,...r)}info(n,...r){this.logger.info(n,...r)}error(n,...r){this.logger.error(n,...r)}}var Vd=t(56072),va=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Lo=function(Ie,n){return function(r,x){n(r,x,Ie)}},Qa=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};class Hd{constructor(n){this.disposed=!1,this.model=n,this._onWillDispose=new E.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Zl=class{constructor(n){this.modelService=n}createModelReference(n){const r=this.modelService.getModel(n);return r?Promise.resolve(new u.Jz(new Hd(r))):Promise.reject(new Error("Model not found"))}};Zl=va([Lo(0,D.q)],Zl);class Tl{show(){return Tl.NULL_PROGRESS_RUNNER}showWhile(n,r){return Qa(this,void 0,void 0,function*(){yield n})}}Tl.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Ud{withProgress(n,r,x){return r({report:()=>{}})}}class zd{confirm(n){return Qa(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(n.message,n.detail),checkboxChecked:!1}})}doConfirm(n,r){let x=n;return r&&(x=x+`

`+r),window.confirm(x)}prompt(n){var r,x;return Qa(this,void 0,void 0,function*(){let X;if(this.doConfirm(n.message,n.detail)){const ye=[...(r=n.buttons)!==null&&r!==void 0?r:[]];n.cancelButton&&typeof n.cancelButton!="string"&&typeof n.cancelButton!="boolean"&&ye.push(n.cancelButton),X=yield(x=ye[0])===null||x===void 0?void 0:x.run({checkboxChecked:!1})}return{result:X}})}error(n,r){return Qa(this,void 0,void 0,function*(){yield this.prompt({type:$t.Z.Error,message:n,detail:r})})}}class pl{info(n){return this.notify({severity:$t.Z.Info,message:n})}warn(n){return this.notify({severity:$t.Z.Warning,message:n})}error(n){return this.notify({severity:$t.Z.Error,message:n})}notify(n){switch(n.severity){case $t.Z.Error:console.error(n.message);break;case $t.Z.Warning:console.warn(n.message);break;default:console.log(n.message);break}return pl.NO_OP}prompt(n,r,x,X){return pl.NO_OP}status(n,r){return u.JT.None}}pl.NO_OP=new _t.EO;let Ql=class{constructor(n){this._onWillExecuteCommand=new E.Q5,this._onDidExecuteCommand=new E.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=n}executeCommand(n,...r){const x=lo.P.getCommand(n);if(!x)return Promise.reject(new Error(`command '${n}' not found`));try{this._onWillExecuteCommand.fire({commandId:n,args:r});const X=this._instantiationService.invokeFunction.apply(this._instantiationService,[x.handler,...r]);return this._onDidExecuteCommand.fire({commandId:n,args:r}),Promise.resolve(X)}catch(X){return Promise.reject(X)}}};Ql=va([Lo(0,Zt.TG)],Ql);let Ya=class extends tl{constructor(n,r,x,X,te,ye){super(n,r,x,X,te),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Te=Ci=>{const Gi=new u.SL;Gi.add(ue.nm(Ci,ue.tw.KEY_DOWN,Vn=>{const vn=new Oo.y(Vn);this._dispatch(vn,vn.target)&&(vn.preventDefault(),vn.stopPropagation())})),Gi.add(ue.nm(Ci,ue.tw.KEY_UP,Vn=>{const vn=new Oo.y(Vn);this._singleModifierDispatch(vn,vn.target)&&vn.preventDefault()})),this._domNodeListeners.push(new jd(Ci,Gi))},qe=Ci=>{for(let Gi=0;Gi<this._domNodeListeners.length;Gi++){const Vn=this._domNodeListeners[Gi];Vn.domNode===Ci&&(this._domNodeListeners.splice(Gi,1),Vn.dispose())}},ct=Ci=>{Ci.getOption(59)||Te(Ci.getContainerDomNode())},ht=Ci=>{Ci.getOption(59)||qe(Ci.getContainerDomNode())};this._register(ye.onCodeEditorAdd(ct)),this._register(ye.onCodeEditorRemove(ht)),ye.listCodeEditors().forEach(ct);const Nt=Ci=>{Te(Ci.getContainerDomNode())},ci=Ci=>{qe(Ci.getContainerDomNode())};this._register(ye.onDiffEditorAdd(Nt)),this._register(ye.onDiffEditorRemove(ci)),ye.listDiffEditors().forEach(Nt)}addDynamicKeybinding(n,r,x,X){return(0,u.F8)(lo.P.registerCommand(n,x),this.addDynamicKeybindings([{keybinding:r,command:n,when:X}]))}addDynamicKeybindings(n){const r=n.map(x=>{var X;return{keybinding:(0,Xo.Z9)(x.keybinding,Pi.OS),command:(X=x.command)!==null&&X!==void 0?X:null,commandArgs:x.commandArgs,when:x.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(r),this.updateResolver(),(0,u.OF)(()=>{for(let x=0;x<this._dynamicKeybindings.length;x++)if(this._dynamicKeybindings[x]===r[0]){this._dynamicKeybindings.splice(x,r.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const n=this._toNormalizedKeybindingItems(il.W.getDefaultKeybindings(),!0),r=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Kr(n,r,x=>this._log(x))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(n,r){const x=[];let X=0;for(const te of n){const ye=te.when||void 0,Te=te.keybinding;if(!Te)x[X++]=new Aa(void 0,te.command,te.commandArgs,ye,r,null,!1);else{const qe=gr.resolveKeybinding(Te,Pi.OS);for(const ct of qe)x[X++]=new Aa(ct,te.command,te.commandArgs,ye,r,null,!1)}}return x}resolveKeyboardEvent(n){const r=new Xo.$M(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,n.keyCode);return new gr([r],Pi.OS)}};Ya=va([Lo(0,ni.i6),Lo(1,lo.H),Lo(2,ti.b),Lo(3,_t.lT),Lo(4,Ni.VZ),Lo(5,I.$)],Ya);class jd extends u.JT{constructor(n,r){super(),this.domNode=n,this._register(r)}}function xc(Ie){return Ie&&typeof Ie=="object"&&(!Ie.overrideIdentifier||typeof Ie.overrideIdentifier=="string")&&(!Ie.resource||Ie.resource instanceof p.o)}class Ic{constructor(){this._onDidChangeConfiguration=new E.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const n=new Bd;this._configuration=new Co(n.reload(),new Jn,new Jn,new Jn),n.dispose()}getValue(n,r){const x=typeof n=="string"?n:void 0,X=xc(n)?n:xc(r)?r:{};return this._configuration.getValue(x,X,void 0)}updateValues(n){const r={data:this._configuration.toData()},x=[];for(const X of n){const[te,ye]=X;this.getValue(te)!==ye&&(this._configuration.updateValue(te,ye),x.push(te))}if(x.length>0){const X=new Ho({keys:x,overrides:[]},r,this._configuration);X.source=8,X.sourceConfig=null,this._onDidChangeConfiguration.fire(X)}return Promise.resolve()}updateValue(n,r,x,X){return this.updateValues([[n,r]])}inspect(n,r={}){return this._configuration.inspect(n,r,void 0)}}let Yl=class{constructor(n,r,x){this.configurationService=n,this.modelService=r,this.languageService=x,this._onDidChangeConfiguration=new E.Q5,this.configurationService.onDidChangeConfiguration(X=>{this._onDidChangeConfiguration.fire({affectedKeys:X.affectedKeys,affectsConfiguration:(te,ye)=>X.affectsConfiguration(ye)})})}getValue(n,r,x){const X=bt.L.isIPosition(r)?r:null,te=X?typeof x=="string"?x:void 0:typeof r=="string"?r:void 0,ye=n?this.getLanguage(n,X):void 0;return typeof te=="undefined"?this.configurationService.getValue({resource:n,overrideIdentifier:ye}):this.configurationService.getValue(te,{resource:n,overrideIdentifier:ye})}getLanguage(n,r){const x=this.modelService.getModel(n);return x?r?x.getLanguageIdAtPosition(r.lineNumber,r.column):x.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(n)}};Yl=va([Lo(0,oe.Ui),Lo(1,D.q),Lo(2,M.O)],Yl);let Xl=class{constructor(n){this.configurationService=n}getEOL(n,r){const x=this.configurationService.getValue("files.eol",{overrideIdentifier:r,resource:n});return x&&typeof x=="string"&&x!=="auto"?x:Pi.IJ||Pi.dz?`
`:`\r
`}};Xl=va([Lo(0,oe.Ui)],Xl);class Kd{publicLog2(){}}class vl{constructor(){const n=p.o.from({scheme:vl.SCHEME,authority:"model",path:"/"});this.workspace={id:ra.p$,folders:[new ra.md({uri:n,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(n){return n&&n.scheme===vl.SCHEME?this.workspace.folders[0]:null}}vl.SCHEME="inmemory";function Ml(Ie,n,r){if(!n||!(Ie instanceof Ic))return;const x=[];Object.keys(n).forEach(X=>{(0,Io.ei)(X)&&x.push([`editor.${X}`,n[X]]),r&&(0,Io.Pe)(X)&&x.push([`diffEditor.${X}`,n[X]])}),x.length>0&&Ie.updateValues(x)}let Jl=class{constructor(n){this._modelService=n}hasPreviewHandler(){return!1}apply(n,r){return Qa(this,void 0,void 0,function*(){const x=Array.isArray(n)?n:Fo.fo.convert(n),X=new Map;for(const Te of x){if(!(Te instanceof Fo.Gl))throw new Error("bad edit - only text edits are supported");const qe=this._modelService.getModel(Te.resource);if(!qe)throw new Error("bad edit - model not found");if(typeof Te.versionId=="number"&&qe.getVersionId()!==Te.versionId)throw new Error("bad state - model changed in the meantime");let ct=X.get(qe);ct||(ct=[],X.set(qe,ct)),ct.push(wn.h.replaceMove(a.e.lift(Te.textEdit.range),Te.textEdit.text))}let te=0,ye=0;for(const[Te,qe]of X)Te.pushStackElement(),Te.pushEditOperations([],qe,()=>[]),Te.pushStackElement(),ye+=1,te+=qe.length;return{ariaSummary:_.WU(aa.iN.bulkEditServiceSummary,te,ye),isApplied:te>0}})}};Jl=va([Lo(0,D.q)],Jl);class $d{getUriLabel(n,r){return n.scheme==="file"?n.fsPath:n.path}getUriBasenameLabel(n){return(0,wa.EZ)(n)}}let ql=class extends Gr{constructor(n,r){super(n),this._codeEditorService=r}showContextView(n,r,x){if(!r){const X=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();X&&(r=X.getContainerDomNode())}return super.showContextView(n,r,x)}};ql=va([Lo(0,Xs),Lo(1,I.$)],ql);class Gd{constructor(){this._neverEmitter=new E.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Zd extends Dr{constructor(){super()}}class Qd extends Wd{constructor(){super(new Ni.kw)}}let ec=class extends Un{constructor(n,r,x,X,te,ye){super(n,r,x,X,te,ye),this.configure({blockMouse:!1})}};ec=va([Lo(0,ti.b),Lo(1,_t.lT),Lo(2,ai.u),Lo(3,wr.d),Lo(4,ho.co),Lo(5,ni.i6)],ec);class Yd{playAudioCue(n,r){return Qa(this,void 0,void 0,function*(){})}}(0,Mn.z)(oe.Ui,Ic,0),(0,Mn.z)($o.V,Yl,0),(0,Mn.z)($o.y,Xl,0),(0,Mn.z)(ra.ec,vl,0),(0,Mn.z)(ya.e,$d,0),(0,Mn.z)(ti.b,Kd,0),(0,Mn.z)(re.S,zd,0),(0,Mn.z)(_t.lT,pl,0),(0,Mn.z)(Rn.lT,pa,0),(0,Mn.z)(M.O,Zd,0),(0,Mn.z)(ir.Z,jl.nI,0),(0,Mn.z)(Ni.VZ,Qd,0),(0,Mn.z)(D.q,Ot,0),(0,Mn.z)(o.i,e,0),(0,Mn.z)(ni.i6,Gl,0),(0,Mn.z)(xt.R9,Ud,0),(0,Mn.z)(xt.ek,Tl,0),(0,Mn.z)(Ka.Uy,Ka.vm,0),(0,Mn.z)(Yt.p,F.eu,0),(0,Mn.z)(Fo.vu,Jl,0),(0,Mn.z)(nl.Y,Gd,0),(0,Mn.z)(Jo.S,Zl,0),(0,Mn.z)(d.F,fl,0),(0,Mn.z)(Xt.Lw,Xt.XN,0),(0,Mn.z)(lo.H,Ql,0),(0,Mn.z)(wr.d,Ya,0),(0,Mn.z)(_i.eJ,za,0),(0,Mn.z)(ai.u,ql,0),(0,Mn.z)(an.v4,rs,0),(0,Mn.z)(Oi.p,Kl,0),(0,Mn.z)(ai.i,ec,0),(0,Mn.z)(ho.co,ro,0),(0,Mn.z)(l.e7,Yd,0);var Fn;(function(Ie){const n=new Jt.y;for(const[ye,Te]of(0,Mn.d)())n.set(ye,Te);const r=new Nl(n,!0);n.set(Zt.TG,r);function x(ye){const Te=n.get(ye);if(!Te)throw new Error("Missing service "+ye);return Te instanceof ma.M?r.invokeFunction(qe=>qe.get(ye)):Te}Ie.get=x;let X=!1;function te(ye){if(X)return r;X=!0;for(const[qe,ct]of(0,Mn.d)())n.get(qe)||n.set(qe,ct);for(const qe in ye)if(ye.hasOwnProperty(qe)){const ct=(0,Zt.yh)(qe);n.get(ct)instanceof ma.M&&n.set(ct,ye[qe])}const Te=(0,Vd.n)();for(const qe of Te)try{r.createInstance(qe)}catch(ct){(0,st.dL)(ct)}return r}Ie.initialize=te})(Fn||(Fn={}));var tc=function(Ie,n,r,x){var X=arguments.length,te=X<3?n:x===null?x=Object.getOwnPropertyDescriptor(n,r):x,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(Ie,n,r,x);else for(var Te=Ie.length-1;Te>=0;Te--)(ye=Ie[Te])&&(te=(X<3?ye(te):X>3?ye(n,r,te):ye(n,r))||te);return X>3&&te&&Object.defineProperty(n,r,te),te},Qs=function(Ie,n){return function(r,x){n(r,x,Ie)}};let Xd=0,Nc=!1;function Jd(Ie){if(!Ie){if(Nc)return;Nc=!0}ne.wW(Ie||document.body)}let Pl=class extends me.Gm{constructor(n,r,x,X,te,ye,Te,qe,ct,ht,Nt,ci){const Ci=Object.assign({},r);Ci.ariaLabel=Ci.ariaLabel||aa.B8.editorViewAccessibleLabel,Ci.ariaLabel=Ci.ariaLabel+";"+aa.B8.accessibilityHelpMessage,super(n,Ci,{},x,X,te,ye,qe,ct,ht,Nt,ci),Te instanceof Ya?this._standaloneKeybindingService=Te:this._standaloneKeybindingService=null,Jd(Ci.ariaContainerElement)}addCommand(n,r,x){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const X="DYNAMIC_"+ ++Xd,te=ni.Ao.deserialize(x);return this._standaloneKeybindingService.addDynamicKeybinding(X,n,r,te),X}createContextKey(n,r){return this._contextKeyService.createKey(n,r)}addAction(n){if(typeof n.id!="string"||typeof n.label!="string"||typeof n.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),u.JT.None;const r=n.id,x=n.label,X=ni.Ao.and(ni.Ao.equals("editorId",this.getId()),ni.Ao.deserialize(n.precondition)),te=n.keybindings,ye=ni.Ao.and(X,ni.Ao.deserialize(n.keybindingContext)),Te=n.contextMenuGroupId||null,qe=n.contextMenuOrder||0,ct=(Ci,...Gi)=>Promise.resolve(n.run(this,...Gi)),ht=new u.SL,Nt=this.getId()+":"+r;if(ht.add(lo.P.registerCommand(Nt,ct)),Te){const Ci={command:{id:Nt,title:x},when:X,group:Te,order:qe};ht.add(ho.BH.appendMenuItem(ho.eH.EditorContext,Ci))}if(Array.isArray(te))for(const Ci of te)ht.add(this._standaloneKeybindingService.addDynamicKeybinding(Nt,Ci,ct,ye));const ci=new wi.p(Nt,x,x,X,(...Ci)=>Promise.resolve(n.run(this,...Ci)),this._contextKeyService);return this._actions.set(r,ci),ht.add((0,u.OF)(()=>{this._actions.delete(r)})),ht}_triggerCommand(n,r){if(this._codeEditorService instanceof To)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(n,r)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(n,r)}};Pl=tc([Qs(2,Zt.TG),Qs(3,I.$),Qs(4,lo.H),Qs(5,ni.i6),Qs(6,wr.d),Qs(7,at.XE),Qs(8,_t.lT),Qs(9,d.F),Qs(10,N.c_),Qs(11,Us.p)],Pl);let ic=class extends Pl{constructor(n,r,x,X,te,ye,Te,qe,ct,ht,Nt,ci,Ci,Gi,Vn){const vn=Object.assign({},r);Ml(ht,vn,!1);const Qn=qe.registerEditorContainer(n);typeof vn.theme=="string"&&qe.setTheme(vn.theme),typeof vn.autoDetectHighContrast!="undefined"&&qe.setAutoDetectHighContrast(!!vn.autoDetectHighContrast);const Gn=vn.model;delete vn.model,super(n,vn,x,X,te,ye,Te,qe,ct,Nt,Gi,Vn),this._configurationService=ht,this._standaloneThemeService=qe,this._register(Qn);let is;if(typeof Gn=="undefined"){const In=Ci.getLanguageIdByMimeType(vn.language)||vn.language||Uo.bd;is=Tc(ci,Ci,vn.value||"",In,void 0),this._ownsModel=!0}else is=Gn,this._ownsModel=!1;if(this._attachModel(is),is){const In={oldModelUrl:null,newModelUrl:is.uri};this._onDidChangeModel.fire(In)}}dispose(){super.dispose()}updateOptions(n){Ml(this._configurationService,n,!1),typeof n.theme=="string"&&this._standaloneThemeService.setTheme(n.theme),typeof n.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!n.autoDetectHighContrast),super.updateOptions(n)}_postDetachModelCleanup(n){super._postDetachModelCleanup(n),n&&this._ownsModel&&(n.dispose(),this._ownsModel=!1)}};ic=tc([Qs(2,Zt.TG),Qs(3,I.$),Qs(4,lo.H),Qs(5,ni.i6),Qs(6,wr.d),Qs(7,ir.Z),Qs(8,_t.lT),Qs(9,oe.Ui),Qs(10,d.F),Qs(11,D.q),Qs(12,M.O),Qs(13,N.c_),Qs(14,Us.p)],ic);let nc=class extends Je{constructor(n,r,x,X,te,ye,Te,qe,ct,ht,Nt){const ci=Object.assign({},r);Ml(qe,ci,!0);const Ci=ye.registerEditorContainer(n);typeof ci.theme=="string"&&ye.setTheme(ci.theme),typeof ci.autoDetectHighContrast!="undefined"&&ye.setAutoDetectHighContrast(!!ci.autoDetectHighContrast),super(n,ci,{},Nt,X,x,te,ye,Te,ct,ht),this._configurationService=qe,this._standaloneThemeService=ye,this._register(Ci)}dispose(){super.dispose()}updateOptions(n){Ml(this._configurationService,n,!0),typeof n.theme=="string"&&this._standaloneThemeService.setTheme(n.theme),typeof n.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!n.autoDetectHighContrast),super.updateOptions(n)}_createInnerEditor(n,r,x){return n.createInstance(Pl,r,x)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(n,r,x){return this.getModifiedEditor().addCommand(n,r,x)}createContextKey(n,r){return this.getModifiedEditor().createContextKey(n,r)}addAction(n){return this.getModifiedEditor().addAction(n)}};nc=tc([Qs(2,Zt.TG),Qs(3,ni.i6),Qs(4,I.$),Qs(5,ir.Z),Qs(6,_t.lT),Qs(7,oe.Ui),Qs(8,ai.i),Qs(9,xt.ek),Qs(10,Oi.p)],nc);function Tc(Ie,n,r,x,X){if(r=r||"",!x){const te=r.indexOf(`
`);let ye=r;return te!==-1&&(ye=r.substring(0,te)),Mc(Ie,r,n.createByFilepathOrFirstLine(X||null,ye),X)}return Mc(Ie,r,n.createById(x),X)}function Mc(Ie,n,r,x){return Ie.createModel(n,r,x)}var qd=t(14963),Pc=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};function eu(Ie,n,r){return Fn.initialize(r||{}).createInstance(ic,Ie,n)}function tu(Ie){return Fn.get(I.$).onCodeEditorAdd(r=>{Ie(r)})}function iu(Ie){return Fn.get(I.$).onDiffEditorAdd(r=>{Ie(r)})}function nu(){return Fn.get(I.$).listCodeEditors()}function su(){return Fn.get(I.$).listDiffEditors()}function ou(Ie,n,r){return Fn.initialize(r||{}).createInstance(nc,Ie,n)}function ru(Ie,n){return Fn.initialize({}).createInstance(b,Ie,n)}function au(Ie){if(typeof Ie.id!="string"||typeof Ie.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return lo.P.registerCommand(Ie.id,Ie.run)}function lu(Ie){if(typeof Ie.id!="string"||typeof Ie.label!="string"||typeof Ie.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const n=ni.Ao.deserialize(Ie.precondition),r=(X,...te)=>gi._l.runEditorCommand(X,te,n,(ye,Te,qe)=>Promise.resolve(Ie.run(Te,...qe))),x=new u.SL;if(x.add(lo.P.registerCommand(Ie.id,r)),Ie.contextMenuGroupId){const X={command:{id:Ie.id,title:Ie.label},when:n,group:Ie.contextMenuGroupId,order:Ie.contextMenuOrder||0};x.add(ho.BH.appendMenuItem(ho.eH.EditorContext,X))}if(Array.isArray(Ie.keybindings)){const X=Fn.get(wr.d);if(!(X instanceof Ya))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const te=ni.Ao.and(n,ni.Ao.deserialize(Ie.keybindingContext));x.add(X.addDynamicKeybindings(Ie.keybindings.map(ye=>({keybinding:ye,command:Ie.id,when:te}))))}}return x}function cu(Ie){return Rc([Ie])}function Rc(Ie){const n=Fn.get(wr.d);return n instanceof Ya?n.addDynamicKeybindings(Ie.map(r=>({keybinding:r.keybinding,command:r.command,commandArgs:r.commandArgs,when:ni.Ao.deserialize(r.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),u.JT.None)}function du(Ie,n,r){const x=Fn.get(M.O),X=x.getLanguageIdByMimeType(n)||n;return Tc(Fn.get(D.q),x,Ie,X,r)}function uu(Ie,n){const r=Fn.get(M.O),x=r.getLanguageIdByMimeType(n)||n||Uo.bd;Ie.setLanguage(r.createById(x))}function hu(Ie,n,r){Ie&&Fn.get(Rn.lT).changeOne(n,Ie.uri,r)}function fu(Ie){Fn.get(Rn.lT).changeAll(Ie,[])}function gu(Ie){return Fn.get(Rn.lT).read(Ie)}function mu(Ie){return Fn.get(Rn.lT).onMarkerChanged(Ie)}function pu(Ie){return Fn.get(D.q).getModel(Ie)}function vu(){return Fn.get(D.q).getModels()}function _u(Ie){return Fn.get(D.q).onModelAdded(Ie)}function Cu(Ie){return Fn.get(D.q).onModelRemoved(Ie)}function bu(Ie){return Fn.get(D.q).onModelLanguageChanged(r=>{Ie({model:r.model,oldLanguage:r.oldLanguageId})})}function Su(Ie){return B(Fn.get(D.q),Fn.get(N.c_),Ie)}function yu(Ie,n){const r=Fn.get(M.O),x=Fn.get(ir.Z);return x.registerEditorContainer(Ie),He.colorizeElement(x,r,Ie,n)}function wu(Ie,n,r){const x=Fn.get(M.O);return Fn.get(ir.Z).registerEditorContainer(document.body),He.colorize(x,Ie,n,r)}function Lu(Ie,n,r=4){return Fn.get(ir.Z).registerEditorContainer(document.body),He.colorizeModelLine(Ie,n,r)}function Du(Ie){const n=S.RW.get(Ie);return n||{getInitialState:()=>P.TJ,tokenize:(r,x,X)=>(0,P.Ri)(Ie,X)}}function Eu(Ie,n){S.RW.getOrCreate(n);const r=Du(n),x=(0,_.uq)(Ie),X=[];let te=r.getInitialState();for(let ye=0,Te=x.length;ye<Te;ye++){const qe=x[ye],ct=r.tokenize(qe,!0,te);X[ye]=ct.tokens,te=ct.endState}return X}function xu(Ie,n){Fn.get(ir.Z).defineTheme(Ie,n)}function Iu(Ie){Fn.get(ir.Z).setTheme(Ie)}function Nu(){V.g.clearAllFontInfos()}function Tu(Ie,n){return lo.P.registerCommand({id:Ie,handler:n})}function Mu(Ie){return Fn.get(an.v4).registerOpener({open(r){return Pc(this,void 0,void 0,function*(){return typeof r=="string"&&(r=p.o.parse(r)),Ie.open(r)})}})}function Pu(Ie){return Fn.get(I.$).registerCodeEditorOpenHandler((r,x,X)=>Pc(this,void 0,void 0,function*(){var te;if(!x)return null;const ye=(te=r.options)===null||te===void 0?void 0:te.selection;let Te;return ye&&typeof ye.endLineNumber=="number"&&typeof ye.endColumn=="number"?Te=ye:ye&&(Te={lineNumber:ye.startLineNumber,column:ye.startColumn}),(yield Ie.openCodeEditor(x,r.resource,Te))?x:null}))}function Ru(){return{create:eu,getEditors:nu,getDiffEditors:su,onDidCreateEditor:tu,onDidCreateDiffEditor:iu,createDiffEditor:ou,createDiffNavigator:ru,addCommand:au,addEditorAction:lu,addKeybindingRule:cu,addKeybindingRules:Rc,createModel:du,setModelLanguage:uu,setModelMarkers:hu,getModelMarkers:gu,removeAllMarkers:fu,onDidChangeMarkers:mu,getModels:vu,getModel:pu,onDidCreateModel:_u,onWillDisposeModel:Cu,onDidChangeModelLanguage:bu,createWebWorker:Su,colorizeElement:yu,colorize:wu,colorizeModelLine:Lu,tokenize:Eu,defineTheme:xu,setTheme:Iu,remeasureFonts:Nu,registerCommand:Tu,registerLinkOpener:Mu,registerEditorOpener:Pu,AccessibilitySupport:A.ao,ContentWidgetPositionPreference:A.r3,CursorChangeReason:A.Vi,DefaultEndOfLine:A._x,EditorAutoIndentStrategy:A.rf,EditorOption:A.wT,EndOfLinePreference:A.gm,EndOfLineSequence:A.jl,MinimapPosition:A.F5,MouseTargetType:A.MG,OverlayWidgetPositionPreference:A.E$,OverviewRulerLane:A.sh,GlyphMarginLane:A.U,RenderLineNumbersType:A.Lu,RenderMinimap:A.vQ,ScrollbarVisibility:A.g_,ScrollType:A.g4,TextEditorCursorBlinkingStyle:A.In,TextEditorCursorStyle:A.d2,TrackedRangeStickiness:A.OI,WrappingIndent:A.up,InjectedTextCursorStops:A.RM,PositionAffinity:A.py,ConfigurationChangedEvent:f.Bb,BareFontInfo:c.E4,FontInfo:c.pR,TextModelResolvedOptions:C.dJ,FindMatch:C.tk,ApplyUpdateResult:f.rk,LineRange:Nn.z,LineRangeMapping:ln.f0,RangeMapping:ln.iy,EditorZoom:qd.C,EditorType:v.g,EditorOptions:f.BH}}var Ou=t(86741);function Au(Ie,n){if(!n||!Array.isArray(n))return!1;for(const r of n)if(!Ie(r))return!1;return!0}function Rl(Ie,n){return typeof Ie=="boolean"?Ie:n}function Oc(Ie,n){return typeof Ie=="string"?Ie:n}function ku(Ie){const n={};for(const r of Ie)n[r]=!0;return n}function Ac(Ie,n=!1){n&&(Ie=Ie.map(function(x){return x.toLowerCase()}));const r=ku(Ie);return n?function(x){return r[x.toLowerCase()]!==void 0&&r.hasOwnProperty(x.toLowerCase())}:function(x){return r[x]!==void 0&&r.hasOwnProperty(x)}}function sc(Ie,n){n=n.replace(/@@/g,"");let r=0,x;do x=!1,n=n.replace(/@(\w+)/g,function(te,ye){x=!0;let Te="";if(typeof Ie[ye]=="string")Te=Ie[ye];else if(Ie[ye]&&Ie[ye]instanceof RegExp)Te=Ie[ye].source;else throw Ie[ye]===void 0?Ce(Ie,"language definition does not contain attribute '"+ye+"', used at: "+n):Ce(Ie,"attribute reference '"+ye+"' must be a string, used at: "+n);return Z(Te)?"":"(?:"+Te+")"}),r++;while(x&&r<5);n=n.replace(/\x01/g,"@");const X=(Ie.ignoreCase?"i":"")+(Ie.unicode?"u":"");return new RegExp(n,X)}function Fu(Ie,n,r,x){if(x<0)return Ie;if(x<n.length)return n[x];if(x>=100){x=x-100;const X=r.split(".");if(X.unshift(r),x<X.length)return X[x]}return null}function Bu(Ie,n,r,x){let X=-1,te=r,ye=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);ye&&(ye[3]&&(X=parseInt(ye[3]),ye[2]&&(X=X+100)),te=ye[4]);let Te="~",qe=te;!te||te.length===0?(Te="!=",qe=""):/^\w*$/.test(qe)?Te="==":(ye=te.match(/^(@|!@|~|!~|==|!=)(.*)$/),ye&&(Te=ye[1],qe=ye[2]));let ct;if((Te==="~"||Te==="!~")&&/^(\w|\|)*$/.test(qe)){const ht=Ac(qe.split("|"),Ie.ignoreCase);ct=function(Nt){return Te==="~"?ht(Nt):!ht(Nt)}}else if(Te==="@"||Te==="!@"){const ht=Ie[qe];if(!ht)throw Ce(Ie,"the @ match target '"+qe+"' is not defined, in rule: "+n);if(!Au(function(ci){return typeof ci=="string"},ht))throw Ce(Ie,"the @ match target '"+qe+"' must be an array of strings, in rule: "+n);const Nt=Ac(ht,Ie.ignoreCase);ct=function(ci){return Te==="@"?Nt(ci):!Nt(ci)}}else if(Te==="~"||Te==="!~")if(qe.indexOf("$")<0){const ht=sc(Ie,"^"+qe+"$");ct=function(Nt){return Te==="~"?ht.test(Nt):!ht.test(Nt)}}else ct=function(ht,Nt,ci,Ci){return sc(Ie,"^"+_e(Ie,qe,Nt,ci,Ci)+"$").test(ht)};else if(qe.indexOf("$")<0){const ht=fe(Ie,qe);ct=function(Nt){return Te==="=="?Nt===ht:Nt!==ht}}else{const ht=fe(Ie,qe);ct=function(Nt,ci,Ci,Gi,Vn){const vn=_e(Ie,ht,ci,Ci,Gi);return Te==="=="?Nt===vn:Nt!==vn}}return X===-1?{name:r,value:x,test:function(ht,Nt,ci,Ci){return ct(ht,ht,Nt,ci,Ci)}}:{name:r,value:x,test:function(ht,Nt,ci,Ci){const Gi=Fu(ht,Nt,ci,X);return ct(Gi||"",ht,Nt,ci,Ci)}}}function oc(Ie,n,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw Ce(Ie,"a 'token' attribute must be of type string, in rule: "+n);{const x={token:r.token};if(r.token.indexOf("$")>=0&&(x.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")x.bracket=1;else if(r.bracket==="@close")x.bracket=-1;else throw Ce(Ie,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+n);if(r.next){if(typeof r.next!="string")throw Ce(Ie,"the next state must be a string value in rule: "+n);{let X=r.next;if(!/^(@pop|@push|@popall)$/.test(X)&&(X[0]==="@"&&(X=X.substr(1)),X.indexOf("$")<0&&!le(Ie,_e(Ie,X,"",[],""))))throw Ce(Ie,"the next state '"+r.next+"' is not defined in rule: "+n);x.next=X}}return typeof r.goBack=="number"&&(x.goBack=r.goBack),typeof r.switchTo=="string"&&(x.switchTo=r.switchTo),typeof r.log=="string"&&(x.log=r.log),typeof r.nextEmbedded=="string"&&(x.nextEmbedded=r.nextEmbedded,Ie.usesEmbedded=!0),x}}else if(Array.isArray(r)){const x=[];for(let X=0,te=r.length;X<te;X++)x[X]=oc(Ie,n,r[X]);return{group:x}}else if(r.cases){const x=[];for(const te in r.cases)if(r.cases.hasOwnProperty(te)){const ye=oc(Ie,n,r.cases[te]);te==="@default"||te==="@"||te===""?x.push({test:void 0,value:ye,name:te}):te==="@eos"?x.push({test:function(Te,qe,ct,ht){return ht},value:ye,name:te}):x.push(Bu(Ie,n,te,ye))}const X=Ie.defaultToken;return{test:function(te,ye,Te,qe){for(const ct of x)if(!ct.test||ct.test(te,ye,Te,qe))return ct.value;return X}}}else throw Ce(Ie,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+n)}else return{token:""}}class Wu{constructor(n){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=n}setRegex(n,r){let x;if(typeof r=="string")x=r;else if(r instanceof RegExp)x=r.source;else throw Ce(n,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=x.length>0&&x[0]==="^",this.name=this.name+": "+x,this.regex=sc(n,"^(?:"+(this.matchOnlyAtLineStart?x.substr(1):x)+")")}setAction(n,r){this.action=oc(n,this.name,r)}}function kc(Ie,n){if(!n||typeof n!="object")throw new Error("Monarch: expecting a language definition object");const r={};r.languageId=Ie,r.includeLF=Rl(n.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof n.start=="string"?n.start:null,r.ignoreCase=Rl(n.ignoreCase,!1),r.unicode=Rl(n.unicode,!1),r.tokenPostfix=Oc(n.tokenPostfix,"."+r.languageId),r.defaultToken=Oc(n.defaultToken,"source"),r.usesEmbedded=!1;const x=n;x.languageId=Ie,x.includeLF=r.includeLF,x.ignoreCase=r.ignoreCase,x.unicode=r.unicode,x.noThrow=r.noThrow,x.usesEmbedded=r.usesEmbedded,x.stateNames=n.tokenizer,x.defaultToken=r.defaultToken;function X(ye,Te,qe){for(const ct of qe){let ht=ct.include;if(ht){if(typeof ht!="string")throw Ce(r,"an 'include' attribute must be a string at: "+ye);if(ht[0]==="@"&&(ht=ht.substr(1)),!n.tokenizer[ht])throw Ce(r,"include target '"+ht+"' is not defined at: "+ye);X(ye+"."+ht,Te,n.tokenizer[ht])}else{const Nt=new Wu(ye);if(Array.isArray(ct)&&ct.length>=1&&ct.length<=3)if(Nt.setRegex(x,ct[0]),ct.length>=3)if(typeof ct[1]=="string")Nt.setAction(x,{token:ct[1],next:ct[2]});else if(typeof ct[1]=="object"){const ci=ct[1];ci.next=ct[2],Nt.setAction(x,ci)}else throw Ce(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+ye);else Nt.setAction(x,ct[1]);else{if(!ct.regex)throw Ce(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+ye);ct.name&&typeof ct.name=="string"&&(Nt.name=ct.name),ct.matchOnlyAtStart&&(Nt.matchOnlyAtLineStart=Rl(ct.matchOnlyAtLineStart,!1)),Nt.setRegex(x,ct.regex),Nt.setAction(x,ct.action)}Te.push(Nt)}}}if(!n.tokenizer||typeof n.tokenizer!="object")throw Ce(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(const ye in n.tokenizer)if(n.tokenizer.hasOwnProperty(ye)){r.start||(r.start=ye);const Te=n.tokenizer[ye];r.tokenizer[ye]=new Array,X("tokenizer."+ye,r.tokenizer[ye],Te)}if(r.usesEmbedded=x.usesEmbedded,n.brackets){if(!Array.isArray(n.brackets))throw Ce(r,"the 'brackets' attribute must be defined as an array")}else n.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const te=[];for(const ye of n.brackets){let Te=ye;if(Te&&Array.isArray(Te)&&Te.length===3&&(Te={token:Te[2],open:Te[0],close:Te[1]}),Te.open===Te.close)throw Ce(r,"open and close brackets in a 'brackets' attribute must be different: "+Te.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof Te.open=="string"&&typeof Te.token=="string"&&typeof Te.close=="string")te.push({token:Te.token+r.tokenPostfix,open:fe(r,Te.open),close:fe(r,Te.close)});else throw Ce(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=te,r.noThrow=!0,r}var Vu=function(Ie,n,r,x){function X(te){return te instanceof r?te:new r(function(ye){ye(te)})}return new(r||(r=Promise))(function(te,ye){function Te(ht){try{ct(x.next(ht))}catch(Nt){ye(Nt)}}function qe(ht){try{ct(x.throw(ht))}catch(Nt){ye(Nt)}}function ct(ht){ht.done?te(ht.value):X(ht.value).then(Te,qe)}ct((x=x.apply(Ie,n||[])).next())})};function Hu(Ie){Uo.dQ.registerLanguage(Ie)}function Uu(){let Ie=[];return Ie=Ie.concat(Uo.dQ.getLanguages()),Ie}function zu(Ie){return Fn.get(M.O).languageIdCodec.encodeLanguageId(Ie)}function ju(Ie,n){const x=Fn.get(M.O).onDidRequestRichLanguageFeatures(X=>{X===Ie&&(x.dispose(),n())});return x}function Ku(Ie,n){const x=Fn.get(M.O).onDidRequestBasicLanguageFeatures(X=>{X===Ie&&(x.dispose(),n())});return x}function $u(Ie,n){if(!Fn.get(M.O).isRegisteredLanguageId(Ie))throw new Error(`Cannot set configuration for unknown language ${Ie}`);return Fn.get(N.c_).register(Ie,n,100)}class Gu{constructor(n,r){this._languageId=n,this._actual=r}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(n,r,x){if(typeof this._actual.tokenize=="function")return _l.adaptTokenize(this._languageId,this._actual,n,x);throw new Error("Not supported!")}tokenizeEncoded(n,r,x){const X=this._actual.tokenizeEncoded(n,x);return new S.DI(X.tokens,X.endState)}}class _l{constructor(n,r,x,X){this._languageId=n,this._actual=r,this._languageService=x,this._standaloneThemeService=X}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(n,r){const x=[];let X=0;for(let te=0,ye=n.length;te<ye;te++){const Te=n[te];let qe=Te.startIndex;te===0?qe=0:qe<X&&(qe=X),x[te]=new S.WU(qe,Te.scopes,r),X=qe}return x}static adaptTokenize(n,r,x,X){const te=r.tokenize(x,X),ye=_l._toClassicTokens(te.tokens,n);let Te;return te.endState.equals(X)?Te=X:Te=te.endState,new S.hG(ye,Te)}tokenize(n,r,x){return _l.adaptTokenize(this._languageId,this._actual,n,x)}_toBinaryTokens(n,r){const x=n.encodeLanguageId(this._languageId),X=this._standaloneThemeService.getColorTheme().tokenTheme,te=[];let ye=0,Te=0;for(let ct=0,ht=r.length;ct<ht;ct++){const Nt=r[ct],ci=X.match(x,Nt.scopes)|1024;if(ye>0&&te[ye-1]===ci)continue;let Ci=Nt.startIndex;ct===0?Ci=0:Ci<Te&&(Ci=Te),te[ye++]=Ci,te[ye++]=ci,Te=Ci}const qe=new Uint32Array(ye);for(let ct=0;ct<ye;ct++)qe[ct]=te[ct];return qe}tokenizeEncoded(n,r,x){const X=this._actual.tokenize(n,x),te=this._toBinaryTokens(this._languageService.languageIdCodec,X.tokens);let ye;return X.endState.equals(x)?ye=x:ye=X.endState,new S.DI(te,ye)}}function Zu(Ie){return typeof Ie.getInitialState=="function"}function Qu(Ie){return"tokenizeEncoded"in Ie}function Fc(Ie){return Ie&&typeof Ie.then=="function"}function Yu(Ie){const n=Fn.get(ir.Z);if(Ie){const r=[null];for(let x=1,X=Ie.length;x<X;x++)r[x]=Ou.Il.fromHex(Ie[x]);n.setColorMapOverride(r)}else n.setColorMapOverride(null)}function Bc(Ie,n){return Qu(n)?new Gu(Ie,n):new _l(Ie,n,Fn.get(M.O),Fn.get(ir.Z))}function rc(Ie,n){const r=new S.MO(()=>Vu(this,void 0,void 0,function*(){const x=yield Promise.resolve(n.create());return x?Zu(x)?Bc(Ie,x):new Ne(Fn.get(M.O),Fn.get(ir.Z),Ie,kc(Ie,x),Fn.get(oe.Ui)):null}));return S.RW.registerFactory(Ie,r)}function Xu(Ie,n){if(!Fn.get(M.O).isRegisteredLanguageId(Ie))throw new Error(`Cannot set tokens provider for unknown language ${Ie}`);return Fc(n)?rc(Ie,{create:()=>n}):S.RW.register(Ie,Bc(Ie,n))}function Ju(Ie,n){const r=x=>new Ne(Fn.get(M.O),Fn.get(ir.Z),Ie,kc(Ie,x),Fn.get(oe.Ui));return Fc(n)?rc(Ie,{create:()=>n}):S.RW.register(Ie,r(n))}function qu(Ie,n){return Fn.get(Us.p).referenceProvider.register(Ie,n)}function eh(Ie,n){return Fn.get(Us.p).renameProvider.register(Ie,n)}function th(Ie,n){return Fn.get(Us.p).signatureHelpProvider.register(Ie,n)}function ih(Ie,n){return Fn.get(Us.p).hoverProvider.register(Ie,{provideHover:(x,X,te)=>{const ye=x.getWordAtPosition(X);return Promise.resolve(n.provideHover(x,X,te)).then(Te=>{if(Te)return!Te.range&&ye&&(Te.range=new a.e(X.lineNumber,ye.startColumn,X.lineNumber,ye.endColumn)),Te.range||(Te.range=new a.e(X.lineNumber,X.column,X.lineNumber,X.column)),Te})}})}function nh(Ie,n){return Fn.get(Us.p).documentSymbolProvider.register(Ie,n)}function sh(Ie,n){return Fn.get(Us.p).documentHighlightProvider.register(Ie,n)}function oh(Ie,n){return Fn.get(Us.p).linkedEditingRangeProvider.register(Ie,n)}function rh(Ie,n){return Fn.get(Us.p).definitionProvider.register(Ie,n)}function ah(Ie,n){return Fn.get(Us.p).implementationProvider.register(Ie,n)}function lh(Ie,n){return Fn.get(Us.p).typeDefinitionProvider.register(Ie,n)}function ch(Ie,n){return Fn.get(Us.p).codeLensProvider.register(Ie,n)}function dh(Ie,n,r){return Fn.get(Us.p).codeActionProvider.register(Ie,{providedCodeActionKinds:r==null?void 0:r.providedCodeActionKinds,documentation:r==null?void 0:r.documentation,provideCodeActions:(X,te,ye,Te)=>{const ct=Fn.get(Rn.lT).read({resource:X.uri}).filter(ht=>a.e.areIntersectingOrTouching(ht,te));return n.provideCodeActions(X,te,{markers:ct,only:ye.only,trigger:ye.trigger},Te)},resolveCodeAction:n.resolveCodeAction})}function uh(Ie,n){return Fn.get(Us.p).documentFormattingEditProvider.register(Ie,n)}function hh(Ie,n){return Fn.get(Us.p).documentRangeFormattingEditProvider.register(Ie,n)}function fh(Ie,n){return Fn.get(Us.p).onTypeFormattingEditProvider.register(Ie,n)}function gh(Ie,n){return Fn.get(Us.p).linkProvider.register(Ie,n)}function mh(Ie,n){return Fn.get(Us.p).completionProvider.register(Ie,n)}function ph(Ie,n){return Fn.get(Us.p).colorProvider.register(Ie,n)}function vh(Ie,n){return Fn.get(Us.p).foldingRangeProvider.register(Ie,n)}function _h(Ie,n){return Fn.get(Us.p).declarationProvider.register(Ie,n)}function Ch(Ie,n){return Fn.get(Us.p).selectionRangeProvider.register(Ie,n)}function bh(Ie,n){return Fn.get(Us.p).documentSemanticTokensProvider.register(Ie,n)}function Sh(Ie,n){return Fn.get(Us.p).documentRangeSemanticTokensProvider.register(Ie,n)}function yh(Ie,n){return Fn.get(Us.p).inlineCompletionsProvider.register(Ie,n)}function wh(Ie,n){return Fn.get(Us.p).inlayHintsProvider.register(Ie,n)}function Lh(){return{register:Hu,getLanguages:Uu,onLanguage:ju,onLanguageEncountered:Ku,getEncodedLanguageId:zu,setLanguageConfiguration:$u,setColorMap:Yu,registerTokensProviderFactory:rc,setTokensProvider:Xu,setMonarchTokensProvider:Ju,registerReferenceProvider:qu,registerRenameProvider:eh,registerCompletionItemProvider:mh,registerSignatureHelpProvider:th,registerHoverProvider:ih,registerDocumentSymbolProvider:nh,registerDocumentHighlightProvider:sh,registerLinkedEditingRangeProvider:oh,registerDefinitionProvider:rh,registerImplementationProvider:ah,registerTypeDefinitionProvider:lh,registerCodeLensProvider:ch,registerCodeActionProvider:dh,registerDocumentFormattingEditProvider:uh,registerDocumentRangeFormattingEditProvider:hh,registerOnTypeFormattingEditProvider:fh,registerLinkProvider:gh,registerColorProvider:ph,registerFoldingRangeProvider:vh,registerDeclarationProvider:_h,registerSelectionRangeProvider:Ch,registerDocumentSemanticTokensProvider:bh,registerDocumentRangeSemanticTokensProvider:Sh,registerInlineCompletionsProvider:yh,registerInlayHintsProvider:wh,DocumentHighlightKind:A.MY,CompletionItemKind:A.cm,CompletionItemTag:A.we,CompletionItemInsertTextRule:A.a7,SymbolKind:A.cR,SymbolTag:A.r4,IndentAction:A.wU,CompletionTriggerKind:A.Ij,SignatureHelpTriggerKind:A.WW,InlayHintKind:A.gl,InlineCompletionTriggerKind:A.bw,CodeActionTriggerType:A.np,FoldingRangeKind:S.AD,SelectedSuggestionInfo:S.ln}}var Dh=t(46121);f.BH.wrappingIndent.defaultValue=0,f.BH.glyphMargin.defaultValue=!1,f.BH.autoIndent.defaultValue=3,f.BH.overviewRulerLanes.defaultValue=2,Dh.xC.setFormatterSelector((Ie,n,r)=>Promise.resolve(Ie[0]));const Vo=(0,O.O)();Vo.editor=Ru(),Vo.languages=Lh();const Eh=Vo.CancellationTokenSource,xh=Vo.Emitter,Ih=Vo.KeyCode,Nh=Vo.KeyMod,Th=Vo.Position,Mh=Vo.Range,Ph=Vo.Selection,Rh=Vo.SelectionDirection,Oh=Vo.MarkerSeverity,Ah=Vo.MarkerTag,kh=Vo.Uri,Fh=Vo.Token,Bh=Vo.editor,Wh=Vo.languages,ac=globalThis.MonacoEnvironment;(ac!=null&&ac.globalAPI||typeof define=="function"&&t.amdO)&&(globalThis.monaco=Vo),typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},59110:function(Rt,Be,t){"use strict";t.r(Be);var f=t(34441),O=t(34733),u=t(79874),_=t(88305),p=t(38431),V=t(11138),I=t(17416),L=t(28919),E=t(55298),g=t(21081),a=t(87112),l=t(76826),d=t(44333),i=t(62297),s=t(48786),m=t(83485),b=function(D,F,B,U){var A=arguments.length,k=A<3?F:U===null?U=Object.getOwnPropertyDescriptor(F,B):U,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(D,F,B,U);else for(var $=D.length-1;$>=0;$--)(R=D[$])&&(k=(A<3?R(k):A>3?R(F,B,k):R(F,B))||k);return A>3&&k&&Object.defineProperty(F,B,k),k},c=function(D,F){return function(B,U){F(B,U,D)}};const v=new l.uy("accessibilityHelpWidgetVisible",!1);let C=class Sd extends p.JT{static get(F){return F.getContribution(Sd.ID)}constructor(F,B){super(),this._editor=F,this._widget=this._register(B.createInstance(N,this._editor))}show(){this._widget.show()}hide(){this._widget.hide()}};C.ID="editor.contrib.accessibilityHelpController",C=b([c(1,d.TG)],C);function S(D,F){return!D||D.length===0?m.Oe.noSelection:D.length===1?F?I.WU(m.Oe.singleSelectionRange,D[0].positionLineNumber,D[0].positionColumn,F):I.WU(m.Oe.singleSelection,D[0].positionLineNumber,D[0].positionColumn):F?I.WU(m.Oe.multiSelectionRange,D.length,F):D.length>0?I.WU(m.Oe.multiSelection,D.length):""}let N=class Hl extends _.${constructor(F,B,U,A){super(),this._contextKeyService=B,this._keybindingService=U,this._openerService=A,this._editor=F,this._isVisibleKey=v.bindTo(this._contextKeyService),this._domNode=(0,O.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-modal","true"),this._domNode.setAttribute("aria-hidden","true");const k=(0,f.R3)(this._domNode.domNode,(0,f.$)("h1",void 0,m.Oe.accessibilityHelpTitle));k.id="help-dialog-heading",this._domNode.setAttribute("aria-labelledby",k.id),this._contentDomNode=(0,O.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._contentDomNode.domNode.id="help-dialog-content",this._domNode.appendChild(this._contentDomNode),this._contentDomNode.setAttribute("aria-describedby",this._contentDomNode.domNode.id),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register((0,f.mu)(this._contentDomNode.domNode,"keydown",R=>{if(this._isVisible&&(R.equals(2083)&&((0,u.Z9)(m.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),(0,f.PO)(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),R.preventDefault(),R.stopPropagation()),R.equals(2086))){(0,u.Z9)(m.Oe.openingDocs);let $=this._editor.getRawOptions().accessibilityHelpUrl;typeof $=="undefined"&&($="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(L.o.parse($)),R.preventDefault(),R.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Hl.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(F,B,U){const A=this._keybindingService.lookupKeybinding(F);return A?I.WU(B,A.getAriaLabel()):I.WU(U,F)}_buildContent(){const F=this._contentDomNode.domNode,B=this._editor.getOptions(),U=this._editor.getSelections();let A=0;if(U){const Y=this._editor.getModel();Y&&U.forEach(j=>{A+=Y.getValueLengthInRange(j)})}(0,f.R3)(F,(0,f.$)("p",void 0,S(U,A)));const k=(0,f.R3)(F,(0,f.$)("p"));B.get(59)?B.get(88)?k.textContent=m.Oe.readonlyDiffEditor:k.textContent=m.Oe.editableDiffEditor:B.get(88)?k.textContent=m.Oe.readonlyEditor:k.textContent=m.Oe.editableEditor;const R=(0,f.R3)(F,(0,f.$)("ul")),$=V.dz?m.Oe.changeConfigToOnMac:m.Oe.changeConfigToOnWinLinux;switch(B.get(2)){case 0:(0,f.R3)(R,(0,f.$)("li",void 0,$));break;case 2:(0,f.R3)(R,(0,f.$)("li",void 0,m.Oe.auto_on));break;case 1:(0,f.R3)(R,(0,f.$)("li",void 0,m.Oe.auto_off,$));break}B.get(139)?(0,f.R3)(R,(0,f.$)("li",void 0,this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,m.Oe.tabFocusModeOnMsg,m.Oe.tabFocusModeOnMsgNoKb))):(0,f.R3)(R,(0,f.$)("li",void 0,this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,m.Oe.tabFocusModeOffMsg,m.Oe.tabFocusModeOffMsgNoKb)));const J=V.dz?m.Oe.openDocMac:m.Oe.openDocWinLinux;(0,f.R3)(R,(0,f.$)("li",void 0,J)),(0,f.R3)(F,(0,f.$)("p",void 0,m.Oe.outroMsg))}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,(0,f.PO)(this._contentDomNode.domNode),this._editor.focus())}_layout(){const F=this._editor.getLayoutInfo(),B=Math.max(5,Math.min(Hl.WIDTH,F.width-40)),U=Math.max(5,Math.min(Hl.HEIGHT,F.height-40));this._domNode.setWidth(B),this._domNode.setHeight(U);const A=Math.round((F.height-U)/2);this._domNode.setTop(A);const k=Math.round((F.width-B)/2);this._domNode.setLeft(k)}};N.ID="editor.contrib.accessibilityHelpWidget",N.WIDTH=500,N.HEIGHT=300,N=b([c(1,l.i6),c(2,i.d),c(3,s.v4)],N);class P extends E.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:m.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(F,B){const U=C.get(B);U==null||U.show()}}(0,E._K)(C.ID,C,4),(0,E.Qr)(P);const M=E._l.bindToContribution(C.get);(0,E.fK)(new M({id:"closeAccessibilityHelp",precondition:v,handler:D=>D.hide(),kbOpts:{weight:100+100,kbExpr:g.u.focus,primary:9,secondary:[1033]}}))},5566:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{IPadShowKeyboard:function(){return p}});var f=t(34441),O=t(38431),u=t(55298),_=t(11138);class p extends O.JT{constructor(L){super(),this.editor=L,this.widget=null,_.gn&&(this._register(L.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const L=!this.editor.getOption(88);!this.widget&&L?this.widget=new V(this.editor):this.widget&&!L&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}p.ID="editor.contrib.iPadShowKeyboard";class V extends O.JT{constructor(L){super(),this.editor=L,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(f.nm(this._domNode,"touchstart",E=>{this.editor.focus()})),this._register(f.nm(this._domNode,"focus",E=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return V.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}V.ID="editor.contrib.ShowKeyboardWidget",(0,u._K)(p.ID,p,3)},27804:function(Rt,Be,t){"use strict";t.r(Be);var f=t(34441),O=t(86741),u=t(38431),_=t(55298),p=t(36082),V=t(24506),I=t(93375),L=t(47626),E=t(96444),g=t(83485),a=function(c,v,C,S){var N=arguments.length,P=N<3?v:S===null?S=Object.getOwnPropertyDescriptor(v,C):S,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(c,v,C,S);else for(var D=c.length-1;D>=0;D--)(M=c[D])&&(P=(N<3?M(P):N>3?M(v,C,P):M(v,C))||P);return N>3&&P&&Object.defineProperty(v,C,P),P},l=function(c,v){return function(C,S){v(C,S,c)}};let d=class yd extends u.JT{static get(v){return v.getContribution(yd.ID)}constructor(v,C,S){super(),this._editor=v,this._languageService=S,this._widget=null,this._register(this._editor.onDidChangeModel(N=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(N=>this.stop())),this._register(p.RW.onDidChange(N=>this.stop())),this._register(this._editor.onKeyUp(N=>N.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new b(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};d.ID="editor.contrib.inspectTokens",d=a([l(1,E.Z),l(2,L.O)],d);class i extends _.R6{constructor(){super({id:"editor.action.inspectTokens",label:g.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(v,C){const S=d.get(C);S==null||S.launch()}}function s(c){let v="";for(let C=0,S=c.length;C<S;C++){const N=c.charCodeAt(C);switch(N){case 9:v+="\u2192";break;case 32:v+="\xB7";break;default:v+=String.fromCharCode(N)}}return v}function m(c,v){const C=p.RW.get(v);if(C)return C;const S=c.encodeLanguageId(v);return{getInitialState:()=>I.TJ,tokenize:(N,P,M)=>(0,I.Ri)(v,M),tokenizeEncoded:(N,P,M)=>(0,I.Dy)(S,M)}}class b extends u.JT{constructor(v,C){super(),this.allowEditorOverflow=!0,this._editor=v,this._languageService=C,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=m(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(S=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return b._ID}_compute(v){const C=this._getTokensAtLine(v.lineNumber);let S=0;for(let F=C.tokens1.length-1;F>=0;F--){const B=C.tokens1[F];if(v.column-1>=B.offset){S=F;break}}let N=0;for(let F=C.tokens2.length>>>1;F>=0;F--)if(v.column-1>=C.tokens2[F<<1]){N=F;break}const P=this._model.getLineContent(v.lineNumber);let M="";if(S<C.tokens1.length){const F=C.tokens1[S].offset,B=S+1<C.tokens1.length?C.tokens1[S+1].offset:P.length;M=P.substring(F,B)}(0,f.mc)(this._domNode,(0,f.$)("h2.tm-token",void 0,s(M),(0,f.$)("span.tm-token-length",void 0,`${M.length} ${M.length===1?"char":"chars"}`))),(0,f.R3)(this._domNode,(0,f.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const D=(N<<1)+1<C.tokens2.length?this._decodeMetadata(C.tokens2[(N<<1)+1]):null;(0,f.R3)(this._domNode,(0,f.$)("table.tm-metadata-table",void 0,(0,f.$)("tbody",void 0,(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"language"),(0,f.$)("td.tm-metadata-value",void 0,`${D?D.languageId:"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"token type"),(0,f.$)("td.tm-metadata-value",void 0,`${D?this._tokenTypeToString(D.tokenType):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"font style"),(0,f.$)("td.tm-metadata-value",void 0,`${D?this._fontStyleToString(D.fontStyle):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"foreground"),(0,f.$)("td.tm-metadata-value",void 0,`${D?O.Il.Format.CSS.formatHex(D.foreground):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"background"),(0,f.$)("td.tm-metadata-value",void 0,`${D?O.Il.Format.CSS.formatHex(D.background):"-?-"}`))))),(0,f.R3)(this._domNode,(0,f.$)("hr.tokens-inspect-separator")),S<C.tokens1.length&&(0,f.R3)(this._domNode,(0,f.$)("span.tm-token-type",void 0,C.tokens1[S].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(v){const C=p.RW.getColorMap(),S=V.N.getLanguageId(v),N=V.N.getTokenType(v),P=V.N.getFontStyle(v),M=V.N.getForeground(v),D=V.N.getBackground(v);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(S),tokenType:N,fontStyle:P,foreground:C[M],background:C[D]}}_tokenTypeToString(v){switch(v){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(v){let C="";return v&1&&(C+="italic "),v&2&&(C+="bold "),v&4&&(C+="underline "),v&8&&(C+="strikethrough "),C.length===0&&(C="---"),C}_getTokensAtLine(v){const C=this._getStateBeforeLine(v),S=this._tokenizationSupport.tokenize(this._model.getLineContent(v),!0,C),N=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(v),!0,C);return{startState:C,tokens1:S.tokens,tokens2:N.tokens,endState:S.endState}}_getStateBeforeLine(v){let C=this._tokenizationSupport.getInitialState();for(let S=1;S<v;S++)C=this._tokenizationSupport.tokenize(this._model.getLineContent(S),!0,C).endState;return C}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}b._ID="editor.contrib.inspectTokensWidget",(0,_._K)(d.ID,d,4),(0,_.Qr)(i)},85809:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{GotoLineAction:function(){return pe},StandaloneCommandsQuickAccessProvider:function(){return _e}});var f=t(6325),O=t(26152),u=t(83485),_=t(5603),p=t(5858),V=t(16308),I=t(14818),L=t(26386);function E(le,oe){return oe&&(le.stack||le.stacktrace)?L.NC("stackTrace.format","{0}: {1}",a(le),g(le.stack)||g(le.stacktrace)):a(le)}function g(le){return Array.isArray(le)?le.join(`
`):le}function a(le){return le.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${le.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof le.code=="string"&&typeof le.errno=="number"&&typeof le.syscall=="string"?L.NC("nodeExceptionMessage","A system error occurred ({0})",le.message):le.message||L.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function l(le=null,oe=!1){if(!le)return L.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(le)){const he=V.kX(le),je=l(he[0],oe);return he.length>1?L.NC("error.moreErrors","{0} ({1} errors in total)",je,he.length):je}if(I.HD(le))return le;if(le.detail){const he=le.detail;if(he.error)return E(he.error,oe);if(he.exception)return E(he.exception,oe)}return le.stack?E(le,oe):le.message?le.message:L.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var d=t(20996),i=t(4538),s=t(38431),m=t(39832),b=t(80793),c=t(71177),v=t(5267),C=t(44333),S=t(62297),N=t(13484),P=t(97464),M=function(le,oe,he,je){function Xe(Ve){return Ve instanceof he?Ve:new he(function(se){se(Ve)})}return new(he||(he=Promise))(function(Ve,se){function q(we){try{Se(je.next(we))}catch(ve){se(ve)}}function Ee(we){try{Se(je.throw(we))}catch(ve){se(ve)}}function Se(we){we.done?Ve(we.value):Xe(we.value).then(q,Ee)}Se((je=je.apply(le,oe||[])).next())})},D;(function(le){le[le.NO_ACTION=0]="NO_ACTION",le[le.CLOSE_PICKER=1]="CLOSE_PICKER",le[le.REFRESH_PICKER=2]="REFRESH_PICKER",le[le.REMOVE_ITEM=3]="REMOVE_ITEM"})(D||(D={}));function F(le){const oe=le;return Array.isArray(oe.items)}function B(le){const oe=le;return!!oe.picks&&oe.additionalPicks instanceof Promise}class U extends s.JT{constructor(oe,he){super(),this.prefix=oe,this.options=he}provide(oe,he,je){var Xe;const Ve=new s.SL;oe.canAcceptInBackground=!!(!((Xe=this.options)===null||Xe===void 0)&&Xe.canAcceptInBackground),oe.matchOnLabel=oe.matchOnDescription=oe.matchOnDetail=oe.sortByLabel=!1;let se;const q=Ve.add(new s.XK),Ee=()=>M(this,void 0,void 0,function*(){const Se=q.value=new s.SL;se==null||se.dispose(!0),oe.busy=!1,se=new P.A(he);const we=se.token,ve=oe.value.substr(this.prefix.length).trim(),Ne=this._getPicks(ve,Se,we,je),$e=(ze,He)=>{var Le;let de,ee;if(F(ze)?(de=ze.items,ee=ze.active):de=ze,de.length===0){if(He)return!1;(ve.length>0||oe.hideInput)&&(!((Le=this.options)===null||Le===void 0)&&Le.noResultsPick)&&((0,I.mf)(this.options.noResultsPick)?de=[this.options.noResultsPick(ve)]:de=[this.options.noResultsPick])}return oe.items=de,ee&&(oe.activeItems=[ee]),!0},Ke=ze=>M(this,void 0,void 0,function*(){let He=!1,Le=!1;yield Promise.all([(()=>M(this,void 0,void 0,function*(){typeof ze.mergeDelay=="number"&&(yield(0,N.Vs)(ze.mergeDelay),we.isCancellationRequested)||Le||(He=$e(ze.picks,!0))}))(),(()=>M(this,void 0,void 0,function*(){oe.busy=!0;try{const de=yield ze.additionalPicks;if(we.isCancellationRequested)return;let ee,ne;F(ze.picks)?(ee=ze.picks.items,ne=ze.picks.active):ee=ze.picks;let me,ue;if(F(de)?(me=de.items,ue=de.active):me=de,me.length>0||!He){let Pe;if(!ne&&!ue){const ot=oe.activeItems[0];ot&&ee.indexOf(ot)!==-1&&(Pe=ot)}$e({items:[...ee,...me],active:ne||ue||Pe})}}finally{we.isCancellationRequested||(oe.busy=!1),Le=!0}}))()])});if(Ne!==null)if(B(Ne))yield Ke(Ne);else if(!(Ne instanceof Promise))$e(Ne);else{oe.busy=!0;try{const ze=yield Ne;if(we.isCancellationRequested)return;B(ze)?yield Ke(ze):$e(ze)}finally{we.isCancellationRequested||(oe.busy=!1)}}});return Ve.add(oe.onDidChangeValue(()=>Ee())),Ee(),Ve.add(oe.onDidAccept(Se=>{const[we]=oe.selectedItems;typeof(we==null?void 0:we.accept)=="function"&&(Se.inBackground||oe.hide(),we.accept(oe.keyMods,Se))})),Ve.add(oe.onDidTriggerItemButton(({button:Se,item:we})=>M(this,void 0,void 0,function*(){var ve,Ne;if(typeof we.trigger=="function"){const $e=(Ne=(ve=we.buttons)===null||ve===void 0?void 0:ve.indexOf(Se))!==null&&Ne!==void 0?Ne:-1;if($e>=0){const Ke=we.trigger($e,oe.keyMods),ze=typeof Ke=="number"?Ke:yield Ke;if(he.isCancellationRequested)return;switch(ze){case D.NO_ACTION:break;case D.CLOSE_PICKER:oe.hide();break;case D.REFRESH_PICKER:Ee();break;case D.REMOVE_ITEM:{const He=oe.items.indexOf(we);if(He!==-1){const Le=oe.items.slice(),de=Le.splice(He,1),ee=oe.activeItems.filter(me=>me!==de[0]),ne=oe.keepScrollPosition;oe.keepScrollPosition=!0,oe.items=Le,ee&&(oe.activeItems=ee),oe.keepScrollPosition=ne}break}}}}}))),Ve}}var A=t(63536),k=t(68554),R=function(le,oe,he,je){var Xe=arguments.length,Ve=Xe<3?oe:je===null?je=Object.getOwnPropertyDescriptor(oe,he):je,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ve=Reflect.decorate(le,oe,he,je);else for(var q=le.length-1;q>=0;q--)(se=le[q])&&(Ve=(Xe<3?se(Ve):Xe>3?se(oe,he,Ve):se(oe,he))||Ve);return Xe>3&&Ve&&Object.defineProperty(oe,he,Ve),Ve},$=function(le,oe){return function(he,je){oe(he,je,le)}},J=function(le,oe,he,je){function Xe(Ve){return Ve instanceof he?Ve:new he(function(se){se(Ve)})}return new(he||(he=Promise))(function(Ve,se){function q(we){try{Se(je.next(we))}catch(ve){se(ve)}}function Ee(we){try{Se(je.throw(we))}catch(ve){se(ve)}}function Se(we){we.done?Ve(we.value):Xe(we.value).then(q,Ee)}Se((je=je.apply(le,oe||[])).next())})};let Y=class Ul extends U{constructor(oe,he,je,Xe,Ve,se){super(Ul.PREFIX,oe),this.instantiationService=he,this.keybindingService=je,this.commandService=Xe,this.telemetryService=Ve,this.dialogService=se,this.commandsHistory=this._register(this.instantiationService.createInstance(j)),this.options=oe}_getPicks(oe,he,je,Xe){var Ve,se;return J(this,void 0,void 0,function*(){const q=yield this.getCommandPicks(je);if(je.isCancellationRequested)return[];const Ee=[];for(const $e of q){const Ke=(0,I.f6)(Ul.WORD_FILTER(oe,$e.label)),ze=$e.commandAlias?(0,I.f6)(Ul.WORD_FILTER(oe,$e.commandAlias)):void 0;Ke||ze?($e.highlights={label:Ke,detail:this.options.showAlias?ze:void 0},Ee.push($e)):oe===$e.commandId&&Ee.push($e)}const Se=new Map;for(const $e of Ee){const Ke=Se.get($e.label);Ke?($e.description=$e.commandId,Ke.description=Ke.commandId):Se.set($e.label,$e)}Ee.sort(($e,Ke)=>{const ze=this.commandsHistory.peek($e.commandId),He=this.commandsHistory.peek(Ke.commandId);if(ze&&He)return ze>He?-1:1;if(ze)return-1;if(He)return 1;if(this.options.suggestedCommandIds){const Le=this.options.suggestedCommandIds.has($e.commandId),de=this.options.suggestedCommandIds.has(Ke.commandId);if(Le&&de)return 0;if(Le)return-1;if(de)return 1}return $e.label.localeCompare(Ke.label)});const we=[];let ve=!1,Ne=!!this.options.suggestedCommandIds;for(let $e=0;$e<Ee.length;$e++){const Ke=Ee[$e];$e===0&&this.commandsHistory.peek(Ke.commandId)&&(we.push({type:"separator",label:(0,L.NC)("recentlyUsed","recently used")}),ve=!0),Ne&&!this.commandsHistory.peek(Ke.commandId)&&(!((Ve=this.options.suggestedCommandIds)===null||Ve===void 0)&&Ve.has(Ke.commandId))&&(we.push({type:"separator",label:(0,L.NC)("commonlyUsed","commonly used")}),ve=!0,Ne=!1),ve&&!this.commandsHistory.peek(Ke.commandId)&&!(!((se=this.options.suggestedCommandIds)===null||se===void 0)&&se.has(Ke.commandId))&&(we.push({type:"separator",label:(0,L.NC)("morecCommands","other commands")}),ve=!1),we.push(this.toCommandPick(Ke,Xe))}return this.hasAdditionalCommandPicks(oe,je)?{picks:we,additionalPicks:(()=>J(this,void 0,void 0,function*(){const $e=yield this.getAdditionalCommandPicks(q,Ee,oe,je);return je.isCancellationRequested?[]:$e.map(Ke=>this.toCommandPick(Ke,Xe))}))()}:we})}toCommandPick(oe,he){if(oe.type==="separator")return oe;const je=this.keybindingService.lookupKeybinding(oe.commandId),Xe=je?(0,L.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",oe.label,je.getAriaLabel()):oe.label;return Object.assign(Object.assign({},oe),{ariaLabel:Xe,detail:this.options.showAlias&&oe.commandAlias!==oe.label?oe.commandAlias:void 0,keybinding:je,accept:()=>J(this,void 0,void 0,function*(){var Ve;this.commandsHistory.push(oe.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:oe.commandId,from:(Ve=he==null?void 0:he.from)!==null&&Ve!==void 0?Ve:"quick open"});try{yield this.commandService.executeCommand(oe.commandId)}catch(se){(0,d.n2)(se)||this.dialogService.error((0,L.NC)("canNotRun","Command '{0}' resulted in an error",oe.label),l(se))}})})}};Y.PREFIX=">",Y.WORD_FILTER=(0,i.or)(i.Ji,i.KZ,i.ir),Y=R([$(1,C.TG),$(2,S.d),$(3,b.H),$(4,k.b),$(5,v.S)],Y);let j=class So extends s.JT{constructor(oe,he){super(),this.storageService=oe,this.configurationService=he,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(oe=>this.updateConfiguration(oe)))}updateConfiguration(oe){oe&&!oe.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=So.getConfiguredCommandHistoryLength(this.configurationService),So.cache&&So.cache.limit!==this.configuredCommandsHistoryLength&&(So.cache.limit=this.configuredCommandsHistoryLength,So.saveState(this.storageService)))}load(){const oe=this.storageService.get(So.PREF_KEY_CACHE,0);let he;if(oe)try{he=JSON.parse(oe)}catch(Xe){}const je=So.cache=new m.z6(this.configuredCommandsHistoryLength,1);if(he){let Xe;he.usesLRU?Xe=he.entries:Xe=he.entries.sort((Ve,se)=>Ve.value-se.value),Xe.forEach(Ve=>je.set(Ve.key,Ve.value))}So.counter=this.storageService.getNumber(So.PREF_KEY_COUNTER,0,So.counter)}push(oe){So.cache&&(So.cache.set(oe,So.counter++),So.saveState(this.storageService))}peek(oe){var he;return(he=So.cache)===null||he===void 0?void 0:he.peek(oe)}static saveState(oe){if(!So.cache)return;const he={usesLRU:!0,entries:[]};So.cache.forEach((je,Xe)=>he.entries.push({key:Xe,value:je})),oe.store(So.PREF_KEY_CACHE,JSON.stringify(he),0,0),oe.store(So.PREF_KEY_COUNTER,So.counter,0,0)}static getConfiguredCommandHistoryLength(oe){var he,je;const Ve=(je=(he=oe.getValue().workbench)===null||he===void 0?void 0:he.commandPalette)===null||je===void 0?void 0:je.history;return typeof Ve=="number"?Ve:So.DEFAULT_COMMANDS_HISTORY_LENGTH}};j.DEFAULT_COMMANDS_HISTORY_LENGTH=50,j.PREF_KEY_CACHE="commandPalette.mru.cache",j.PREF_KEY_COUNTER="commandPalette.mru.counter",j.counter=1,j=R([$(0,A.Uy),$(1,c.Ui)],j);class z extends Y{constructor(oe,he,je,Xe,Ve,se){super(oe,he,je,Xe,Ve,se)}getCodeEditorCommandPicks(){const oe=this.activeTextEditorControl;if(!oe)return[];const he=[];for(const je of oe.getSupportedActions())he.push({commandId:je.id,commandAlias:je.alias,label:(0,p.x$)(je.label)||je.id});return he}}var K=t(55298),Z=t(21081),fe=t(38785),T=function(le,oe,he,je){var Xe=arguments.length,Ve=Xe<3?oe:je===null?je=Object.getOwnPropertyDescriptor(oe,he):je,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ve=Reflect.decorate(le,oe,he,je);else for(var q=le.length-1;q>=0;q--)(se=le[q])&&(Ve=(Xe<3?se(Ve):Xe>3?se(oe,he,Ve):se(oe,he))||Ve);return Xe>3&&Ve&&Object.defineProperty(oe,he,Ve),Ve},Re=function(le,oe){return function(he,je){oe(he,je,le)}},Ce=function(le,oe,he,je){function Xe(Ve){return Ve instanceof he?Ve:new he(function(se){se(Ve)})}return new(he||(he=Promise))(function(Ve,se){function q(we){try{Se(je.next(we))}catch(ve){se(ve)}}function Ee(we){try{Se(je.throw(we))}catch(ve){se(ve)}}function Se(we){we.done?Ve(we.value):Xe(we.value).then(q,Ee)}Se((je=je.apply(le,oe||[])).next())})};let _e=class extends z{get activeTextEditorControl(){return(0,I.f6)(this.codeEditorService.getFocusedCodeEditor())}constructor(oe,he,je,Xe,Ve,se){super({showAlias:!1},oe,je,Xe,Ve,se),this.codeEditorService=he}getCommandPicks(){return Ce(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return Ce(this,void 0,void 0,function*(){return[]})}};_e=T([Re(0,C.TG),Re(1,_.$),Re(2,S.d),Re(3,b.H),Re(4,k.b),Re(5,v.S)],_e);class pe extends K.R6{constructor(){super({id:pe.ID,label:u.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:Z.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(oe){oe.get(fe.eJ).quickAccess.show(_e.PREFIX)}}pe.ID="editor.action.quickCommand",(0,K.Qr)(pe),f.B.as(O.IP.Quickaccess).registerQuickAccessProvider({ctor:_e,prefix:_e.PREFIX,helpEntries:[{description:u.UX.quickCommandHelp,commandId:pe.ID}]})},29571:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{GotoLineAction:function(){return c},StandaloneGotoLineQuickAccessProvider:function(){return b}});var f=t(38431),O=t(86086),u=t(32034),_=t(26386);class p extends u.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(C){const S=(0,_.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return C.items=[{label:S}],C.ariaLabel=S,f.JT.None}provideWithTextEditor(C,S,N){const P=C.editor,M=new f.SL;M.add(S.onDidAccept(B=>{const[U]=S.selectedItems;if(U){if(!this.isValidLineNumber(P,U.lineNumber))return;this.gotoLocation(C,{range:this.toRange(U.lineNumber,U.column),keyMods:S.keyMods,preserveFocus:B.inBackground}),B.inBackground||S.hide()}}));const D=()=>{const B=this.parsePosition(P,S.value.trim().substr(p.PREFIX.length)),U=this.getPickLabel(P,B.lineNumber,B.column);if(S.items=[{lineNumber:B.lineNumber,column:B.column,label:U}],S.ariaLabel=U,!this.isValidLineNumber(P,B.lineNumber)){this.clearDecorations(P);return}const A=this.toRange(B.lineNumber,B.column);P.revealRangeInCenter(A,0),this.addDecorations(P,A)};D(),M.add(S.onDidChangeValue(()=>D()));const F=(0,O.Pi)(P);return F&&F.getOptions().get(65).renderType===2&&(F.updateOptions({lineNumbers:"on"}),M.add((0,f.OF)(()=>F.updateOptions({lineNumbers:"relative"})))),M}toRange(C=1,S=1){return{startLineNumber:C,startColumn:S,endLineNumber:C,endColumn:S}}parsePosition(C,S){const N=S.split(/,|:|#/).map(M=>parseInt(M,10)).filter(M=>!isNaN(M)),P=this.lineCount(C)+1;return{lineNumber:N[0]>0?N[0]:P+N[0],column:N[1]}}getPickLabel(C,S,N){if(this.isValidLineNumber(C,S))return this.isValidColumn(C,S,N)?(0,_.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",S,N):(0,_.NC)("gotoLineLabel","Go to line {0}.",S);const P=C.getPosition()||{lineNumber:1,column:1},M=this.lineCount(C);return M>1?(0,_.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",P.lineNumber,P.column,M):(0,_.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",P.lineNumber,P.column)}isValidLineNumber(C,S){return!S||typeof S!="number"?!1:S>0&&S<=this.lineCount(C)}isValidColumn(C,S,N){if(!N||typeof N!="number")return!1;const P=this.getModel(C);if(!P)return!1;const M={lineNumber:S,column:N};return P.validatePosition(M).equals(M)}lineCount(C){var S,N;return(N=(S=this.getModel(C))===null||S===void 0?void 0:S.getLineCount())!==null&&N!==void 0?N:0}}p.PREFIX=":";var V=t(6325),I=t(26152),L=t(5603),E=t(14818),g=t(83485),a=t(56709),l=t(55298),d=t(21081),i=t(38785),s=function(v,C,S,N){var P=arguments.length,M=P<3?C:N===null?N=Object.getOwnPropertyDescriptor(C,S):N,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(v,C,S,N);else for(var F=v.length-1;F>=0;F--)(D=v[F])&&(M=(P<3?D(M):P>3?D(C,S,M):D(C,S))||M);return P>3&&M&&Object.defineProperty(C,S,M),M},m=function(v,C){return function(S,N){C(S,N,v)}};let b=class extends p{constructor(C){super(),this.editorService=C,this.onDidActiveTextEditorControlChange=a.ju.None}get activeTextEditorControl(){return(0,E.f6)(this.editorService.getFocusedCodeEditor())}};b=s([m(0,L.$)],b);class c extends l.R6{constructor(){super({id:c.ID,label:g.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:d.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(C){C.get(i.eJ).quickAccess.show(b.PREFIX)}}c.ID="editor.action.gotoLine",(0,l.Qr)(c),V.B.as(I.IP.Quickaccess).registerQuickAccessProvider({ctor:b,prefix:b.PREFIX,helpEntries:[{description:g.qq.gotoLineActionLabel,commandId:c.ID}]})},47707:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{GotoSymbolAction:function(){return Xe},StandaloneGotoSymbolQuickAccessProvider:function(){return je}});var f=t(89467),O=t(27187),u=t(13484),_=t(97464),p=t(407),V=t(8216),I=t(4538),L=t(75296),E=t(11138),g=t(17416);const a=[void 0,[]];function l(Ve,se,q=0,Ee=0){const Se=se;return Se.values&&Se.values.length>1?d(Ve,Se.values,q,Ee):i(Ve,se,q,Ee)}function d(Ve,se,q,Ee){let Se=0;const we=[];for(const ve of se){const[Ne,$e]=i(Ve,ve,q,Ee);if(typeof Ne!="number")return a;Se+=Ne,we.push(...$e)}return[Se,m(we)]}function i(Ve,se,q,Ee){const Se=(0,I.EW)(se.original,se.originalLowercase,q,Ve,Ve.toLowerCase(),Ee,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Se?[Se[0],(0,I.mB)(Se)]:a}const s=Object.freeze({score:0});function m(Ve){const se=Ve.sort((Se,we)=>Se.start-we.start),q=[];let Ee;for(const Se of se)!Ee||!b(Ee,Se)?(Ee=Se,q.push(Se)):(Ee.start=Math.min(Ee.start,Se.start),Ee.end=Math.max(Ee.end,Se.end));return q}function b(Ve,se){return!(Ve.end<se.start||se.end<Ve.start)}function c(Ve){return Ve.startsWith('"')&&Ve.endsWith('"')}const v=" ";function C(Ve){typeof Ve!="string"&&(Ve="");const se=Ve.toLowerCase(),{pathNormalized:q,normalized:Ee,normalizedLowercase:Se}=S(Ve),we=q.indexOf(L.ir)>=0,ve=c(Ve);let Ne;const $e=Ve.split(v);if($e.length>1)for(const Ke of $e){const ze=c(Ke),{pathNormalized:He,normalized:Le,normalizedLowercase:de}=S(Ke);Le&&(Ne||(Ne=[]),Ne.push({original:Ke,originalLowercase:Ke.toLowerCase(),pathNormalized:He,normalized:Le,normalizedLowercase:de,expectContiguousMatch:ze}))}return{original:Ve,originalLowercase:se,pathNormalized:q,normalized:Ee,normalizedLowercase:Se,values:Ne,containsPathSeparator:we,expectContiguousMatch:ve}}function S(Ve){let se;E.ED?se=Ve.replace(/\//g,L.ir):se=Ve.replace(/\\/g,L.ir);const q=(0,g.R1)(se).replace(/\s|"/g,"");return{pathNormalized:se,normalized:q,normalizedLowercase:q.toLowerCase()}}function N(Ve){return Array.isArray(Ve)?C(Ve.map(se=>se.original).join(v)):C(Ve.original)}var P=t(38431),M=t(50038),D=t(36082),F=t(79931),B=t(32034),U=t(26386),A=t(35921),k=t(16308),R=function(Ve,se,q,Ee){var Se=arguments.length,we=Se<3?se:Ee===null?Ee=Object.getOwnPropertyDescriptor(se,q):Ee,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(Ve,se,q,Ee);else for(var Ne=Ve.length-1;Ne>=0;Ne--)(ve=Ve[Ne])&&(we=(Se<3?ve(we):Se>3?ve(se,q,we):ve(se,q))||we);return Se>3&&we&&Object.defineProperty(se,q,we),we},$=function(Ve,se){return function(q,Ee){se(q,Ee,Ve)}},J=function(Ve,se,q,Ee){function Se(we){return we instanceof q?we:new q(function(ve){ve(we)})}return new(q||(q=Promise))(function(we,ve){function Ne(ze){try{Ke(Ee.next(ze))}catch(He){ve(He)}}function $e(ze){try{Ke(Ee.throw(ze))}catch(He){ve(He)}}function Ke(ze){ze.done?we(ze.value):Se(ze.value).then(Ne,$e)}Ke((Ee=Ee.apply(Ve,se||[])).next())})};let Y=class bc extends B.X{constructor(se,q,Ee=Object.create(null)){super(Ee),this._languageFeaturesService=se,this._outlineModelService=q,this.options=Ee,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(se){return this.provideLabelPick(se,(0,U.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),P.JT.None}provideWithTextEditor(se,q,Ee){const Se=se.editor,we=this.getModel(Se);return we?this._languageFeaturesService.documentSymbolProvider.has(we)?this.doProvideWithEditorSymbols(se,we,q,Ee):this.doProvideWithoutEditorSymbols(se,we,q,Ee):P.JT.None}doProvideWithoutEditorSymbols(se,q,Ee,Se){const we=new P.SL;return this.provideLabelPick(Ee,(0,U.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),J(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(q,we))||Se.isCancellationRequested||we.add(this.doProvideWithEditorSymbols(se,q,Ee,Se))}),we}provideLabelPick(se,q){se.items=[{label:q,index:0,kind:14}],se.ariaLabel=q}waitForLanguageSymbolRegistry(se,q){return J(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(se))return!0;const Ee=new u.CR,Se=q.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(se)&&(Se.dispose(),Ee.complete(!0))}));return q.add((0,P.OF)(()=>Ee.complete(!1))),Ee.p})}doProvideWithEditorSymbols(se,q,Ee,Se){var we;const ve=se.editor,Ne=new P.SL;Ne.add(Ee.onDidAccept(He=>{const[Le]=Ee.selectedItems;Le&&Le.range&&(this.gotoLocation(se,{range:Le.range.selection,keyMods:Ee.keyMods,preserveFocus:He.inBackground}),He.inBackground||Ee.hide())})),Ne.add(Ee.onDidTriggerItemButton(({item:He})=>{He&&He.range&&(this.gotoLocation(se,{range:He.range.selection,keyMods:Ee.keyMods,forceSideBySide:!0}),Ee.hide())}));const $e=this.getDocumentSymbols(q,Se);let Ke;const ze=He=>J(this,void 0,void 0,function*(){Ke==null||Ke.dispose(!0),Ee.busy=!1,Ke=new _.A(Se),Ee.busy=!0;try{const Le=C(Ee.value.substr(bc.PREFIX.length).trim()),de=yield this.doGetSymbolPicks($e,Le,void 0,Ke.token);if(Se.isCancellationRequested)return;if(de.length>0){if(Ee.items=de,He&&Le.original.length===0){const ee=(0,k.dF)(de,ne=>!!(ne.type!=="separator"&&ne.range&&M.e.containsPosition(ne.range.decoration,He)));ee&&(Ee.activeItems=[ee])}}else Le.original.length>0?this.provideLabelPick(Ee,(0,U.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(Ee,(0,U.NC)("noSymbolResults","No editor symbols"))}finally{Se.isCancellationRequested||(Ee.busy=!1)}});return Ne.add(Ee.onDidChangeValue(()=>ze(void 0))),ze((we=ve.getSelection())===null||we===void 0?void 0:we.getPosition()),Ne.add(Ee.onDidChangeActive(()=>{const[He]=Ee.activeItems;He&&He.range&&(ve.revealRangeInCenter(He.range.selection,0),this.addDecorations(ve,He.range.decoration))})),Ne}doGetSymbolPicks(se,q,Ee,Se){var we,ve;return J(this,void 0,void 0,function*(){const Ne=yield se;if(Se.isCancellationRequested)return[];const $e=q.original.indexOf(bc.SCOPE_PREFIX)===0,Ke=$e?1:0;let ze,He;q.values&&q.values.length>1?(ze=N(q.values[0]),He=N(q.values.slice(1))):ze=q;let Le;const de=(ve=(we=this.options)===null||we===void 0?void 0:we.openSideBySideDirection)===null||ve===void 0?void 0:ve.call(we);de&&(Le=[{iconClass:de==="right"?V.k.asClassName(p.l.splitHorizontal):V.k.asClassName(p.l.splitVertical),tooltip:de==="right"?(0,U.NC)("openToSide","Open to the Side"):(0,U.NC)("openToBottom","Open to the Bottom")}]);const ee=[];for(let ue=0;ue<Ne.length;ue++){const Pe=Ne[ue],ot=(0,g.fy)(Pe.name),gt=`$(${D.uZ.toIcon(Pe.kind).id}) ${ot}`,nt=gt.length-ot.length;let tt=Pe.containerName;Ee!=null&&Ee.extraContainerLabel&&(tt?tt=`${Ee.extraContainerLabel} \u2022 ${tt}`:tt=Ee.extraContainerLabel);let st,It,Wt,Vt;if(q.original.length>Ke){let gi=!1;if(ze!==q&&([st,It]=l(gt,Object.assign(Object.assign({},q),{values:void 0}),Ke,nt),typeof st=="number"&&(gi=!0)),typeof st!="number"&&([st,It]=l(gt,ze,Ke,nt),typeof st!="number"))continue;if(!gi&&He){if(tt&&He.original.length>0&&([Wt,Vt]=l(tt,He)),typeof Wt!="number")continue;typeof st=="number"&&(st+=Wt)}}const Ct=Pe.tags&&Pe.tags.indexOf(1)>=0;ee.push({index:ue,kind:Pe.kind,score:st,label:gt,ariaLabel:ot,description:tt,highlights:Ct?void 0:{label:It,description:Vt},range:{selection:M.e.collapseToStart(Pe.selectionRange),decoration:Pe.range},strikethrough:Ct,buttons:Le})}const ne=ee.sort((ue,Pe)=>$e?this.compareByKindAndScore(ue,Pe):this.compareByScore(ue,Pe));let me=[];if($e){let gt=function(){Pe&&typeof ue=="number"&&ot>0&&(Pe.label=(0,g.WU)(z[ue]||j,ot))},ue,Pe,ot=0;for(const nt of ne)ue!==nt.kind?(gt(),ue=nt.kind,ot=1,Pe={type:"separator"},me.push(Pe)):ot++,me.push(nt);gt()}else ne.length>0&&(me=[{label:(0,U.NC)("symbols","symbols ({0})",ee.length),type:"separator"},...ne]);return me})}compareByScore(se,q){if(typeof se.score!="number"&&typeof q.score=="number")return 1;if(typeof se.score=="number"&&typeof q.score!="number")return-1;if(typeof se.score=="number"&&typeof q.score=="number"){if(se.score>q.score)return-1;if(se.score<q.score)return 1}return se.index<q.index?-1:se.index>q.index?1:0}compareByKindAndScore(se,q){const Ee=z[se.kind]||j,Se=z[q.kind]||j,we=Ee.localeCompare(Se);return we===0?this.compareByScore(se,q):we}getDocumentSymbols(se,q){return J(this,void 0,void 0,function*(){const Ee=yield this._outlineModelService.getOrCreate(se,q);return q.isCancellationRequested?[]:Ee.asListOfDocumentSymbols()})}};Y.PREFIX="@",Y.SCOPE_PREFIX=":",Y.PREFIX_BY_CATEGORY=`${Y.PREFIX}${Y.SCOPE_PREFIX}`,Y=R([$(0,A.p),$(1,F.Je)],Y);const j=(0,U.NC)("property","properties ({0})"),z={[5]:(0,U.NC)("method","methods ({0})"),[11]:(0,U.NC)("function","functions ({0})"),[8]:(0,U.NC)("_constructor","constructors ({0})"),[12]:(0,U.NC)("variable","variables ({0})"),[4]:(0,U.NC)("class","classes ({0})"),[22]:(0,U.NC)("struct","structs ({0})"),[23]:(0,U.NC)("event","events ({0})"),[24]:(0,U.NC)("operator","operators ({0})"),[10]:(0,U.NC)("interface","interfaces ({0})"),[2]:(0,U.NC)("namespace","namespaces ({0})"),[3]:(0,U.NC)("package","packages ({0})"),[25]:(0,U.NC)("typeParameter","type parameters ({0})"),[1]:(0,U.NC)("modules","modules ({0})"),[6]:(0,U.NC)("property","properties ({0})"),[9]:(0,U.NC)("enum","enumerations ({0})"),[21]:(0,U.NC)("enumMember","enumeration members ({0})"),[14]:(0,U.NC)("string","strings ({0})"),[0]:(0,U.NC)("file","files ({0})"),[17]:(0,U.NC)("array","arrays ({0})"),[15]:(0,U.NC)("number","numbers ({0})"),[16]:(0,U.NC)("boolean","booleans ({0})"),[18]:(0,U.NC)("object","objects ({0})"),[19]:(0,U.NC)("key","keys ({0})"),[7]:(0,U.NC)("field","fields ({0})"),[13]:(0,U.NC)("constant","constants ({0})")};var K=t(6325),Z=t(26152),fe=t(5603),T=t(14818),Re=t(83485),Ce=t(56709),_e=t(55298),pe=t(21081),le=t(38785),oe=function(Ve,se,q,Ee){var Se=arguments.length,we=Se<3?se:Ee===null?Ee=Object.getOwnPropertyDescriptor(se,q):Ee,ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(Ve,se,q,Ee);else for(var Ne=Ve.length-1;Ne>=0;Ne--)(ve=Ve[Ne])&&(we=(Se<3?ve(we):Se>3?ve(se,q,we):ve(se,q))||we);return Se>3&&we&&Object.defineProperty(se,q,we),we},he=function(Ve,se){return function(q,Ee){se(q,Ee,Ve)}};let je=class extends Y{constructor(se,q,Ee){super(q,Ee),this.editorService=se,this.onDidActiveTextEditorControlChange=Ce.ju.None}get activeTextEditorControl(){return(0,T.f6)(this.editorService.getFocusedCodeEditor())}};je=oe([he(0,fe.$),he(1,A.p),he(2,F.Je)],je);class Xe extends _e.R6{constructor(){super({id:Xe.ID,label:Re.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:pe.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:pe.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(se){se.get(le.eJ).quickAccess.show(Y.PREFIX,{itemActivation:le.jG.NONE})}}Xe.ID="editor.action.quickOutline",(0,_e.Qr)(Xe),K.B.as(Z.IP.Quickaccess).registerQuickAccessProvider({ctor:je,prefix:Y.PREFIX,helpEntries:[{description:Re.aq.quickOutlineActionLabel,prefix:Y.PREFIX,commandId:Xe.ID},{description:Re.aq.quickOutlineByCategoryActionLabel,prefix:Y.PREFIX_BY_CATEGORY}]})},49127:function(Rt,Be,t){"use strict";t.r(Be);var f=t(6325),O=t(26152),u=t(83485),_=t(26386),p=t(38431),V=t(62297),I=t(38785),L=function(a,l,d,i){var s=arguments.length,m=s<3?l:i===null?i=Object.getOwnPropertyDescriptor(l,d):i,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(a,l,d,i);else for(var c=a.length-1;c>=0;c--)(b=a[c])&&(m=(s<3?b(m):s>3?b(l,d,m):b(l,d))||m);return s>3&&m&&Object.defineProperty(l,d,m),m},E=function(a,l){return function(d,i){l(d,i,a)}};let g=class zl{constructor(l,d){this.quickInputService=l,this.keybindingService=d,this.registry=f.B.as(O.IP.Quickaccess)}provide(l){const d=new p.SL;return d.add(l.onDidAccept(()=>{const[i]=l.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),d.add(l.onDidChangeValue(i=>{const s=this.registry.getQuickAccessProvider(i.substr(zl.PREFIX.length));s&&s.prefix&&s.prefix!==zl.PREFIX&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),l.items=this.getQuickAccessProviders().filter(i=>i.prefix!==zl.PREFIX),d}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((d,i)=>d.prefix.localeCompare(i.prefix)).flatMap(d=>this.createPicks(d))}createPicks(l){return l.helpEntries.map(d=>{const i=d.prefix||l.prefix,s=i||"\u2026";return{prefix:i,label:s,keybinding:d.commandId?this.keybindingService.lookupKeybinding(d.commandId):void 0,ariaLabel:(0,_.NC)("helpPickAriaLabel","{0}, {1}",s,d.description),description:d.description}})}};g.PREFIX="?",g=L([E(0,I.eJ),E(1,V.d)],g),f.B.as(O.IP.Quickaccess).registerQuickAccessProvider({ctor:g,prefix:"",helpEntries:[{description:u.ld.helpQuickAccessActionLabel}]})},70374:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{StandaloneReferencesController:function(){return a}});var f=t(55298),O=t(5603),u=t(51525),_=t(71177),p=t(76826),V=t(44333),I=t(97968),L=t(63536),E=function(l,d,i,s){var m=arguments.length,b=m<3?d:s===null?s=Object.getOwnPropertyDescriptor(d,i):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,d,i,s);else for(var v=l.length-1;v>=0;v--)(c=l[v])&&(b=(m<3?c(b):m>3?c(d,i,b):c(d,i))||b);return m>3&&b&&Object.defineProperty(d,i,b),b},g=function(l,d){return function(i,s){d(i,s,l)}};let a=class extends u.J{constructor(d,i,s,m,b,c,v){super(!0,d,i,s,m,b,c,v)}};a=E([g(1,p.i6),g(2,O.$),g(3,I.lT),g(4,V.TG),g(5,L.Uy),g(6,_.Ui)],a),(0,f._K)(u.J.ID,a,4)},79091:function(Rt,Be,t){"use strict";t.d(Be,{kR:function(){return j},MU:function(){return z},nI:function(){return _e},rW:function(){return Y},TG:function(){return J}});var f=t(34441),O=t(71488),u=t(86741),_=t(56709),p=t(36082),V=t(24506);class I{constructor(le,oe,he,je,Xe){this._parsedThemeRuleBrand=void 0,this.token=le,this.index=oe,this.fontStyle=he,this.foreground=je,this.background=Xe}}function L(pe){if(!pe||!Array.isArray(pe))return[];const le=[];let oe=0;for(let he=0,je=pe.length;he<je;he++){const Xe=pe[he];let Ve=-1;if(typeof Xe.fontStyle=="string"){Ve=0;const Ee=Xe.fontStyle.split(" ");for(let Se=0,we=Ee.length;Se<we;Se++)switch(Ee[Se]){case"italic":Ve=Ve|1;break;case"bold":Ve=Ve|2;break;case"underline":Ve=Ve|4;break;case"strikethrough":Ve=Ve|8;break}}let se=null;typeof Xe.foreground=="string"&&(se=Xe.foreground);let q=null;typeof Xe.background=="string"&&(q=Xe.background),le[oe++]=new I(Xe.token||"",he,Ve,se,q)}return le}function E(pe,le){pe.sort((Se,we)=>{const ve=s(Se.token,we.token);return ve!==0?ve:Se.index-we.index});let oe=0,he="000000",je="ffffff";for(;pe.length>=1&&pe[0].token==="";){const Se=pe.shift();Se.fontStyle!==-1&&(oe=Se.fontStyle),Se.foreground!==null&&(he=Se.foreground),Se.background!==null&&(je=Se.background)}const Xe=new a;for(const Se of le)Xe.getId(Se);const Ve=Xe.getId(he),se=Xe.getId(je),q=new m(oe,Ve,se),Ee=new b(q);for(let Se=0,we=pe.length;Se<we;Se++){const ve=pe[Se];Ee.insert(ve.token,ve.fontStyle,Xe.getId(ve.foreground),Xe.getId(ve.background))}return new l(Xe,Ee)}const g=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class a{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(le){if(le===null)return 0;const oe=le.match(g);if(!oe)throw new Error("Illegal value for token color: "+le);le=oe[1].toUpperCase();let he=this._color2id.get(le);return he||(he=++this._lastColorId,this._color2id.set(le,he),this._id2color[he]=u.Il.fromHex("#"+le),he)}getColorMap(){return this._id2color.slice(0)}}class l{static createFromRawTokenTheme(le,oe){return this.createFromParsedTokenTheme(L(le),oe)}static createFromParsedTokenTheme(le,oe){return E(le,oe)}constructor(le,oe){this._colorMap=le,this._root=oe,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(le){return this._root.match(le)}match(le,oe){let he=this._cache.get(oe);if(typeof he=="undefined"){const je=this._match(oe),Xe=i(oe);he=(je.metadata|Xe<<8)>>>0,this._cache.set(oe,he)}return(he|le<<0)>>>0}}const d=/\b(comment|string|regex|regexp)\b/;function i(pe){const le=pe.match(d);if(!le)return 0;switch(le[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function s(pe,le){return pe<le?-1:pe>le?1:0}class m{constructor(le,oe,he){this._themeTrieElementRuleBrand=void 0,this._fontStyle=le,this._foreground=oe,this._background=he,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new m(this._fontStyle,this._foreground,this._background)}acceptOverwrite(le,oe,he){le!==-1&&(this._fontStyle=le),oe!==0&&(this._foreground=oe),he!==0&&(this._background=he),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class b{constructor(le){this._themeTrieElementBrand=void 0,this._mainRule=le,this._children=new Map}match(le){if(le==="")return this._mainRule;const oe=le.indexOf(".");let he,je;oe===-1?(he=le,je=""):(he=le.substring(0,oe),je=le.substring(oe+1));const Xe=this._children.get(he);return typeof Xe!="undefined"?Xe.match(je):this._mainRule}insert(le,oe,he,je){if(le===""){this._mainRule.acceptOverwrite(oe,he,je);return}const Xe=le.indexOf(".");let Ve,se;Xe===-1?(Ve=le,se=""):(Ve=le.substring(0,Xe),se=le.substring(Xe+1));let q=this._children.get(Ve);typeof q=="undefined"&&(q=new b(this._mainRule.clone()),this._children.set(Ve,q)),q.insert(se,oe,he,je)}}function c(pe){const le=[];for(let oe=1,he=pe.length;oe<he;oe++){const je=pe[oe];le[oe]=`.mtk${oe} { color: ${je}; }`}return le.push(".mtki { font-style: italic; }"),le.push(".mtkb { font-weight: bold; }"),le.push(".mtku { text-decoration: underline; text-underline-position: under; }"),le.push(".mtks { text-decoration: line-through; }"),le.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),le.join(`
`)}var v=t(44411),C=t(92537);const S={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[C.cvW]:"#FFFFFE",[C.NOs]:"#000000",[C.ES4]:"#E5EBF1",[v.tR]:"#D3D3D3",[v.Ym]:"#939393",[C.Rzx]:"#ADD6FF4D"}},N={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[C.cvW]:"#1E1E1E",[C.NOs]:"#D4D4D4",[C.ES4]:"#3A3D41",[v.tR]:"#404040",[v.Ym]:"#707070",[C.Rzx]:"#ADD6FF26"}},P={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[C.cvW]:"#000000",[C.NOs]:"#FFFFFF",[v.tR]:"#FFFFFF",[v.Ym]:"#FFFFFF"}},M={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[C.cvW]:"#FFFFFF",[C.NOs]:"#292929",[v.tR]:"#292929",[v.Ym]:"#292929"}};var D=t(6325),F=t(58566),B=t(38431),U=t(49914),A=t(8216),k=t(89528);function R(pe){const le=new _.Q5,oe=(0,k.Ks)();return oe.onDidChange(()=>le.fire()),pe==null||pe.onDidProductIconThemeChange(()=>le.fire()),{onDidChange:le.event,getCSS(){const he=pe?pe.getProductIconTheme():new $,je={},Xe=se=>{const q=he.getIcon(se);if(!q)return;const Ee=q.font;return Ee?(je[Ee.id]=Ee.definition,`.codicon-${se.id}:before { content: '${q.fontCharacter}'; font-family: ${(0,f._h)(Ee.id)}; }`):`.codicon-${se.id}:before { content: '${q.fontCharacter}'; }`},Ve=[];for(const se of oe.getIcons()){const q=Xe(se);q&&Ve.push(q)}for(const se in je){const q=je[se],Ee=q.weight?`font-weight: ${q.weight};`:"",Se=q.style?`font-style: ${q.style};`:"",we=q.src.map(ve=>`${(0,f.wY)(ve.location)} format('${ve.format}')`).join(", ");Ve.push(`@font-face { src: ${we}; font-family: ${(0,f._h)(se)};${Ee}${Se} font-display: block; }`)}return Ve.join(`
`)}}}class ${getIcon(le){const oe=(0,k.Ks)();let he=le.defaults;for(;A.k.isThemeIcon(he);){const je=oe.getIcon(he.id);if(!je)return;he=je.defaults}return he}}const J="vs",Y="vs-dark",j="hc-black",z="hc-light",K=D.B.as(C.IPX.ColorContribution),Z=D.B.as(F.IP.ThemingContribution);class fe{constructor(le,oe){this.semanticHighlighting=!1,this.themeData=oe;const he=oe.base;le.length>0?(T(le)?this.id=le:this.id=he+" "+le,this.themeName=le):(this.id=he,this.themeName=he),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const le=new Map;for(const oe in this.themeData.colors)le.set(oe,u.Il.fromHex(this.themeData.colors[oe]));if(this.themeData.inherit){const oe=Re(this.themeData.base);for(const he in oe.colors)le.has(he)||le.set(he,u.Il.fromHex(oe.colors[he]))}this.colors=le}return this.colors}getColor(le,oe){const he=this.getColors().get(le);if(he)return he;if(oe!==!1)return this.getDefault(le)}getDefault(le){let oe=this.defaultColors[le];return oe||(oe=K.resolveDefaultColor(le,this),this.defaultColors[le]=oe,oe)}defines(le){return this.getColors().has(le)}get type(){switch(this.base){case J:return U.eL.LIGHT;case j:return U.eL.HIGH_CONTRAST_DARK;case z:return U.eL.HIGH_CONTRAST_LIGHT;default:return U.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let le=[],oe=[];if(this.themeData.inherit){const Xe=Re(this.themeData.base);le=Xe.rules,Xe.encodedTokensColors&&(oe=Xe.encodedTokensColors)}const he=this.themeData.colors["editor.foreground"],je=this.themeData.colors["editor.background"];if(he||je){const Xe={token:""};he&&(Xe.foreground=he),je&&(Xe.background=je),le.push(Xe)}le=le.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(oe=this.themeData.encodedTokensColors),this._tokenTheme=l.createFromRawTokenTheme(le,oe)}return this._tokenTheme}getTokenStyleMetadata(le,oe,he){const Xe=this.tokenTheme._match([le].concat(oe).join(".")).metadata,Ve=V.N.getForeground(Xe),se=V.N.getFontStyle(Xe);return{foreground:Ve,italic:!!(se&1),bold:!!(se&2),underline:!!(se&4),strikethrough:!!(se&8)}}}function T(pe){return pe===J||pe===Y||pe===j||pe===z}function Re(pe){switch(pe){case J:return S;case Y:return N;case j:return P;case z:return M}}function Ce(pe){const le=Re(pe);return new fe(pe,le)}class _e extends B.JT{constructor(){super(),this._onColorThemeChange=this._register(new _.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new _.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new $,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(J,Ce(J)),this._knownThemes.set(Y,Ce(Y)),this._knownThemes.set(j,Ce(j)),this._knownThemes.set(z,Ce(z));const le=R(this);this._codiconCSS=le.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(J),this._onOSSchemeChanged(),le.onDidChange(()=>{this._codiconCSS=le.getCSS(),this._updateCSS()}),(0,O.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(le){return f.OO(le)?this._registerShadowDomContainer(le):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=f.dS(void 0,le=>{le.className="monaco-colors",le.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),B.JT.None}_registerShadowDomContainer(le){const oe=f.dS(le,he=>{he.className="monaco-colors",he.textContent=this._allCSS});return this._styleElements.push(oe),{dispose:()=>{for(let he=0;he<this._styleElements.length;he++)if(this._styleElements[he]===oe){this._styleElements.splice(he,1);return}}}}defineTheme(le,oe){if(!/^[a-z0-9\-]+$/i.test(le))throw new Error("Illegal theme name!");if(!T(oe.base)&&!T(le))throw new Error("Illegal theme base!");this._knownThemes.set(le,new fe(le,oe)),T(le)&&this._knownThemes.forEach(he=>{he.base===le&&he.notifyBaseUpdated()}),this._theme.themeName===le&&this.setTheme(le)}getColorTheme(){return this._theme}setColorMapOverride(le){this._colorMapOverride=le,this._updateThemeOrColorMap()}setTheme(le){let oe;this._knownThemes.has(le)?oe=this._knownThemes.get(le):oe=this._knownThemes.get(J),this._updateActualTheme(oe)}_updateActualTheme(le){!le||this._theme===le||(this._theme=le,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const le=window.matchMedia("(forced-colors: active)").matches;if(le!==(0,U.c3)(this._theme.type)){let oe;(0,U._T)(this._theme.type)?oe=le?j:Y:oe=le?z:J,this._updateActualTheme(this._knownThemes.get(oe))}}}setAutoDetectHighContrast(le){this._autoDetectHighContrast=le,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const le=[],oe={},he={addRule:Ve=>{oe[Ve]||(le.push(Ve),oe[Ve]=!0)}};Z.getThemingParticipants().forEach(Ve=>Ve(this._theme,he,this._environment));const je=[];for(const Ve of K.getColors()){const se=this._theme.getColor(Ve.id,!0);se&&je.push(`${(0,C.QO2)(Ve.id)}: ${se.toString()};`)}he.addRule(`.monaco-editor { ${je.join(`
`)} }`);const Xe=this._colorMapOverride||this._theme.tokenTheme.getColorMap();he.addRule(c(Xe)),this._themeCSS=le.join(`
`),this._updateCSS(),p.RW.setColorMap(Xe),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(le=>le.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},59970:function(Rt,Be,t){"use strict";t.r(Be);var f=t(55298),O=t(96444),u=t(83485),_=t(49914),p=t(79091);class V extends f.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:u.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(L,E){const g=L.get(O.Z),a=g.getColorTheme();(0,_.c3)(a.type)?(g.setTheme(this._originalThemeName||((0,_._T)(a.type)?p.rW:p.TG)),this._originalThemeName=null):(g.setTheme((0,_._T)(a.type)?p.kR:p.MU),this._originalThemeName=a.themeName)}}(0,f.Qr)(V)},96444:function(Rt,Be,t){"use strict";t.d(Be,{Z:function(){return O}});var f=t(44333);const O=(0,f.yh)("themeService")},7481:function(Rt,Be,t){"use strict";t.r(Be),t.d(Be,{jsonDefaults:function(){return l}});var f=t(46342);var O=Object.defineProperty,u=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,p=Object.prototype.hasOwnProperty,V=(i,s,m,b)=>{if(s&&typeof s=="object"||typeof s=="function")for(let c of _(s))!p.call(i,c)&&c!==m&&O(i,c,{get:()=>s[c],enumerable:!(b=u(s,c))||b.enumerable});return i},I=(i,s,m)=>(V(i,s,"default"),m&&V(m,s,"default")),L={};I(L,f);var E=class{constructor(i,s,m){Cl(this,"_onDidChange",new L.Emitter);Cl(this,"_diagnosticsOptions");Cl(this,"_modeConfiguration");Cl(this,"_languageId");this._languageId=i,this.setDiagnosticsOptions(s),this.setModeConfiguration(m)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)}},g={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},a={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new E("json",g,a);L.languages.json={jsonDefaults:l};function d(){return t.e(246).then(t.bind(t,14246))}L.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),L.languages.onLanguage("json",()=>{d().then(i=>i.setupMode(l))})},26386:function(Rt,Be,t){"use strict";t.d(Be,{NC:function(){return E},aj:function(){return g}});var f=function(i,s,m,b){function c(v){return v instanceof m?v:new m(function(C){C(v)})}return new(m||(m=Promise))(function(v,C){function S(M){try{P(b.next(M))}catch(D){C(D)}}function N(M){try{P(b.throw(M))}catch(D){C(D)}}function P(M){M.done?v(M.value):c(M.value).then(S,N)}P((b=b.apply(i,s||[])).next())})};let O=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const u="i-default";function _(i,s){let m;return s.length===0?m=i:m=i.replace(/\{(\d+)\}/g,(b,c)=>{const v=c[0],C=s[v];let S=b;return typeof C=="string"?S=C:(typeof C=="number"||typeof C=="boolean"||C===void 0||C===null)&&(S=String(C)),S}),O&&(m="\uFF3B"+m.replace(/[aouei]/g,"$&$&")+"\uFF3D"),m}function p(i,s){let m=i[s];return m||(m=i["*"],m)?m:null}function V(i){return i.charAt(i.length-1)==="/"?i:i+"/"}function I(i,s,m){return f(this,void 0,void 0,function*(){const b=V(i)+V(s)+"vscode/"+V(m),c=yield fetch(b);if(c.ok)return yield c.json();throw new Error(`${c.status} - ${c.statusText}`)})}function L(i){return function(s,m){const b=Array.prototype.slice.call(arguments,2);return _(i[s],b)}}function E(i,s,...m){return _(s,m)}function g(i){}function a(i){O=i}function l(i,s){var m;return{localize:L(s[i]),getConfiguredDefaultLocale:(m=s.getConfiguredDefaultLocale)!==null&&m!==void 0?m:b=>{}}}function d(i,s,m,b){var c;const v=(c=b["vs/nls"])!==null&&c!==void 0?c:{};if(!i||i.length===0)return m({localize:E,getConfiguredDefaultLocale:()=>{var M;return(M=v.availableLanguages)===null||M===void 0?void 0:M["*"]}});const C=v.availableLanguages?p(v.availableLanguages,i):null,S=C===null||C===u;let N=".nls";S||(N=N+"."+C);const P=M=>{Array.isArray(M)?M.localize=L(M):M.localize=L(M[i]),M.getConfiguredDefaultLocale=()=>{var D;return(D=v.availableLanguages)===null||D===void 0?void 0:D["*"]},m(M)};typeof v.loadBundle=="function"?v.loadBundle(i,C,(M,D)=>{M?s([i+".nls"],P):P(D)}):v.translationServiceUrl&&!S?f(this,void 0,void 0,function*(){var M;try{const D=yield I(v.translationServiceUrl,C,i);return P(D)}catch(D){if(!C.includes("-"))return console.error(D),s([i+".nls"],P);try{const F=C.split("-")[0],B=yield I(v.translationServiceUrl,F,i);return(M=v.availableLanguages)!==null&&M!==void 0||(v.availableLanguages={}),v.availableLanguages["*"]=F,P(B)}catch(F){return console.error(F),s([i+".nls"],P)}}}):s([i+N],P,M=>{if(N===".nls"){console.error("Failed trying to load default language strings",M);return}console.error(`Failed to load message bundle for language ${C}. Falling back to the default language:`,M),s([i+".nls"],P)})}},18708:function(Rt,Be,t){"use strict";t.d(Be,{F:function(){return u},U:function(){return _}});var f=t(76826),O=t(44333);const u=(0,O.yh)("accessibilityService"),_=new f.uy("accessibilityModeEnabled",!1)},3941:function(Rt,Be,t){"use strict";t.d(Be,{Mm:function(){return k},Id:function(){return Y},vr:function(){return U},LJ:function(){return B}});var f=t(34441),O=t(6544),u=t(31957),_=t(19792),p=t(98299),V=t(49553),I=t(38431),L=t(11138),E=t(26386),g=t(21208);function a(j){return j?j.condition!==void 0:!1}var l=t(76826),d=t(36953),i=t(44333),s=t(62297),m=t(97968),b=t(63536),c=t(58566),v=t(8216),C=t(49914),S=t(14818),N=t(92537),P=t(60140),M=function(j,z,K,Z){var fe=arguments.length,T=fe<3?z:Z===null?Z=Object.getOwnPropertyDescriptor(z,K):Z,Re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(j,z,K,Z);else for(var Ce=j.length-1;Ce>=0;Ce--)(Re=j[Ce])&&(T=(fe<3?Re(T):fe>3?Re(z,K,T):Re(z,K))||T);return fe>3&&T&&Object.defineProperty(z,K,T),T},D=function(j,z){return function(K,Z){z(K,Z,j)}},F=function(j,z,K,Z){function fe(T){return T instanceof K?T:new K(function(Re){Re(T)})}return new(K||(K=Promise))(function(T,Re){function Ce(le){try{pe(Z.next(le))}catch(oe){Re(oe)}}function _e(le){try{pe(Z.throw(le))}catch(oe){Re(oe)}}function pe(le){le.done?T(le.value):fe(le.value).then(Ce,_e)}pe((Z=Z.apply(j,z||[])).next())})};function B(j,z,K,Z){const fe=j.getActions(z),T=f._q.getInstance(),Re=T.keyStatus.altKey||(L.ED||L.IJ)&&T.keyStatus.shiftKey;A(fe,K,Re,Z?Ce=>Ce===Z:Ce=>Ce==="navigation")}function U(j,z,K,Z,fe,T){const Re=j.getActions(z);A(Re,K,!1,typeof Z=="string"?_e=>_e===Z:Z,fe,T)}function A(j,z,K,Z=Re=>Re==="navigation",fe=()=>!1,T=!1){let Re,Ce;Array.isArray(z)?(Re=z,Ce=z):(Re=z.primary,Ce=z.secondary);const _e=new Set;for(const[pe,le]of j){let oe;Z(pe)?(oe=Re,oe.length>0&&T&&oe.push(new p.Z0)):(oe=Ce,oe.length>0&&oe.push(new p.Z0));for(let he of le){K&&(he=he instanceof g.U8&&he.alt?he.alt:he);const je=oe.push(he);he instanceof p.wY&&_e.add({group:pe,action:he,index:je-1})}}for(const{group:pe,action:le,index:oe}of _e){const he=Z(pe)?Re:Ce,je=le.actions;je.length<=1&&fe(le,pe,he.length)&&he.splice(oe,1,...je)}}let k=class extends u.gU{constructor(z,K,Z,fe,T,Re,Ce){super(void 0,z,{icon:!!(z.class||z.item.icon),label:!z.class&&!z.item.icon,draggable:K==null?void 0:K.draggable,keybinding:K==null?void 0:K.keybinding,hoverDelegate:K==null?void 0:K.hoverDelegate}),this._keybindingService=Z,this._notificationService=fe,this._contextKeyService=T,this._themeService=Re,this._contextMenuService=Ce,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new I.XK),this._altKey=f._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(z){return F(this,void 0,void 0,function*(){z.preventDefault(),z.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(K){this._notificationService.error(K)}})}render(z){super.render(z),z.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item);let K=!1,Z=this._altKey.keyStatus.altKey||(L.ED||L.IJ)&&this._altKey.keyStatus.shiftKey;const fe=()=>{var T;const Re=K&&Z&&!!(!((T=this._commandAction.alt)===null||T===void 0)&&T.enabled);Re!==this._wantsAltCommand&&(this._wantsAltCommand=Re,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(T=>{Z=T.altKey||(L.ED||L.IJ)&&T.shiftKey,fe()})),this._register((0,f.nm)(z,"mouseleave",T=>{K=!1,fe()})),this._register((0,f.nm)(z,"mouseenter",T=>{K=!0,fe()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var z;const K=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Z=K&&K.getLabel(),fe=this._commandAction.tooltip||this._commandAction.label;let T=Z?(0,E.NC)("titleAndKb","{0} ({1})",fe,Z):fe;if(!this._wantsAltCommand&&(!((z=this._menuItemAction.alt)===null||z===void 0)&&z.enabled)){const Re=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,Ce=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),_e=Ce&&Ce.getLabel(),pe=_e?(0,E.NC)("titleAndKb","{0} ({1})",Re,_e):Re;T=(0,E.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,T,V.xo.modifierLabels[L.OS].altKey,pe)}return T}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(z){this._itemClassDispose.value=void 0;const{element:K,label:Z}=this;if(!K||!Z)return;const fe=this._commandAction.checked&&a(z.toggled)&&z.toggled.icon?z.toggled.icon:z.icon;if(fe)if(v.k.isThemeIcon(fe)){const T=v.k.asClassNameArray(fe);Z.classList.add(...T),this._itemClassDispose.value=(0,I.OF)(()=>{Z.classList.remove(...T)})}else Z.style.backgroundImage=(0,C._T)(this._themeService.getColorTheme().type)?(0,f.wY)(fe.dark):(0,f.wY)(fe.light),Z.classList.add("icon"),this._itemClassDispose.value=(0,I.F8)((0,I.OF)(()=>{Z.style.backgroundImage="",Z.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};k=M([D(2,s.d),D(3,m.lT),D(4,l.i6),D(5,c.XE),D(6,d.i)],k);let R=class extends _.C{constructor(z,K,Z,fe,T){var Re,Ce,_e;const pe=Object.assign(Object.assign({},K),{menuAsChild:(Re=K==null?void 0:K.menuAsChild)!==null&&Re!==void 0?Re:!1,classNames:(Ce=K==null?void 0:K.classNames)!==null&&Ce!==void 0?Ce:v.k.isThemeIcon(z.item.icon)?v.k.asClassName(z.item.icon):void 0,keybindingProvider:(_e=K==null?void 0:K.keybindingProvider)!==null&&_e!==void 0?_e:le=>Z.lookupKeybinding(le.id)});super(z,{getActions:()=>z.actions},fe,pe),this._keybindingService=Z,this._contextMenuService=fe,this._themeService=T}render(z){super.render(z),(0,S.p_)(this.element),z.classList.add("menu-entry");const K=this._action,{icon:Z}=K.item;if(Z&&!v.k.isThemeIcon(Z)){this.element.classList.add("icon");const fe=()=>{this.element&&(this.element.style.backgroundImage=(0,C._T)(this._themeService.getColorTheme().type)?(0,f.wY)(Z.dark):(0,f.wY)(Z.light))};fe(),this._register(this._themeService.onDidColorThemeChange(()=>{fe()}))}}};R=M([D(2,s.d),D(3,d.i),D(4,c.XE)],R);let $=class extends u.YH{constructor(z,K,Z,fe,T,Re,Ce,_e){var pe,le,oe;super(null,z),this._keybindingService=Z,this._notificationService=fe,this._contextMenuService=T,this._menuService=Re,this._instaService=Ce,this._storageService=_e,this._container=null,this._options=K,this._storageKey=`${z.item.submenu.id}_lastActionId`;let he;const je=K!=null&&K.persistLastActionId?_e.get(this._storageKey,1):void 0;je&&(he=z.actions.find(Ve=>je===Ve.id)),he||(he=z.actions[0]),this._defaultAction=this._instaService.createInstance(k,he,{keybinding:this._getDefaultActionKeybindingLabel(he)});const Xe=Object.assign(Object.assign({keybindingProvider:Ve=>this._keybindingService.lookupKeybinding(Ve.id)},K),{menuAsChild:(pe=K==null?void 0:K.menuAsChild)!==null&&pe!==void 0?pe:!0,classNames:(le=K==null?void 0:K.classNames)!==null&&le!==void 0?le:["codicon","codicon-chevron-down"],actionRunner:(oe=K==null?void 0:K.actionRunner)!==null&&oe!==void 0?oe:new p.Wi});this._dropdown=new _.C(z,z.actions,this._contextMenuService,Xe),this._dropdown.actionRunner.onDidRun(Ve=>{Ve.action instanceof g.U8&&this.update(Ve.action)})}update(z){var K;!((K=this._options)===null||K===void 0)&&K.persistLastActionId&&this._storageService.store(this._storageKey,z.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(k,z,{keybinding:this._getDefaultActionKeybindingLabel(z)}),this._defaultAction.actionRunner=new class extends p.Wi{runAction(Z,fe){return F(this,void 0,void 0,function*(){yield Z.run(void 0)})}},this._container&&this._defaultAction.render((0,f.Ce)(this._container,(0,f.$)(".action-container")))}_getDefaultActionKeybindingLabel(z){var K;let Z;if(!((K=this._options)===null||K===void 0)&&K.renderKeybindingWithDefaultActionLabel){const fe=this._keybindingService.lookupKeybinding(z.id);fe&&(Z=`(${fe.getLabel()})`)}return Z}setActionContext(z){super.setActionContext(z),this._defaultAction.setActionContext(z),this._dropdown.setActionContext(z)}render(z){this._container=z,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const K=(0,f.$)(".action-container");this._defaultAction.render((0,f.R3)(this._container,K)),this._register((0,f.nm)(K,f.tw.KEY_DOWN,fe=>{const T=new O.y(fe);T.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),T.stopPropagation())}));const Z=(0,f.$)(".dropdown-action-container");this._dropdown.render((0,f.R3)(this._container,Z)),this._register((0,f.nm)(Z,f.tw.KEY_DOWN,fe=>{var T;const Re=new O.y(fe);Re.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(T=this._defaultAction.element)===null||T===void 0||T.focus(),Re.stopPropagation())}))}focus(z){z?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(z){z?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};$=M([D(2,s.d),D(3,m.lT),D(4,d.i),D(5,g.co),D(6,i.TG),D(7,b.Uy)],$);let J=class extends u.Lc{constructor(z,K){super(null,z,z.actions.map(Z=>({text:Z.id===p.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":Z.label,isDisabled:!Z.enabled})),0,K,P.BM,{ariaLabel:z.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,z.actions.findIndex(Z=>Z.checked)))}render(z){super.render(z),z.style.borderColor=(0,N.n_1)(N.a9O)}runAction(z,K){const Z=this.action.actions[K];Z&&this.actionRunner.run(Z)}};J=M([D(1,d.u)],J);function Y(j,z,K){return z instanceof g.U8?j.createInstance(k,z,K):z instanceof g.NZ?z.item.isSelection?j.createInstance(J,z):z.item.rememberDefaultAction?j.createInstance($,z,Object.assign(Object.assign({},K),{persistLastActionId:!0})):j.createInstance(R,z,K):void 0}},21208:function(Rt,Be,t){"use strict";t.d(Be,{BH:function(){return c},Ke:function(){return S},NZ:function(){return v},U8:function(){return C},co:function(){return m},eH:function(){return s},f6:function(){return i},r1:function(){return N},vr:function(){return d}});var f=t(98299),O=t(8216),u=t(56709),_=t(38431),p=t(17979),V=t(80793),I=t(76826),L=t(44333),E=t(47679),g=function(P,M,D,F){var B=arguments.length,U=B<3?M:F===null?F=Object.getOwnPropertyDescriptor(M,D):F,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(P,M,D,F);else for(var k=P.length-1;k>=0;k--)(A=P[k])&&(U=(B<3?A(U):B>3?A(M,D,U):A(M,D))||U);return B>3&&U&&Object.defineProperty(M,D,U),U},a=function(P,M){return function(D,F){M(D,F,P)}},l=function(P,M){var D={};for(var F in P)Object.prototype.hasOwnProperty.call(P,F)&&M.indexOf(F)<0&&(D[F]=P[F]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,F=Object.getOwnPropertySymbols(P);B<F.length;B++)M.indexOf(F[B])<0&&Object.prototype.propertyIsEnumerable.call(P,F[B])&&(D[F[B]]=P[F[B]]);return D};function d(P){return P.command!==void 0}function i(P){return P.submenu!==void 0}class s{constructor(M){if(s._instances.has(M))throw new TypeError(`MenuId with identifier '${M}' already exists. Use MenuId.for(ident) or a unique identifier`);s._instances.set(M,this),this.id=M}}s._instances=new Map,s.CommandPalette=new s("CommandPalette"),s.DebugBreakpointsContext=new s("DebugBreakpointsContext"),s.DebugCallStackContext=new s("DebugCallStackContext"),s.DebugConsoleContext=new s("DebugConsoleContext"),s.DebugVariablesContext=new s("DebugVariablesContext"),s.DebugWatchContext=new s("DebugWatchContext"),s.DebugToolBar=new s("DebugToolBar"),s.DebugToolBarStop=new s("DebugToolBarStop"),s.EditorContext=new s("EditorContext"),s.SimpleEditorContext=new s("SimpleEditorContext"),s.EditorContent=new s("EditorContent"),s.EditorLineNumberContext=new s("EditorLineNumberContext"),s.EditorContextCopy=new s("EditorContextCopy"),s.EditorContextPeek=new s("EditorContextPeek"),s.EditorContextShare=new s("EditorContextShare"),s.EditorTitle=new s("EditorTitle"),s.EditorTitleRun=new s("EditorTitleRun"),s.EditorTitleContext=new s("EditorTitleContext"),s.EditorTitleContextShare=new s("EditorTitleContextShare"),s.EmptyEditorGroup=new s("EmptyEditorGroup"),s.EmptyEditorGroupContext=new s("EmptyEditorGroupContext"),s.EditorTabsBarContext=new s("EditorTabsBarContext"),s.ExplorerContext=new s("ExplorerContext"),s.ExplorerContextShare=new s("ExplorerContextShare"),s.ExtensionContext=new s("ExtensionContext"),s.GlobalActivity=new s("GlobalActivity"),s.CommandCenter=new s("CommandCenter"),s.LayoutControlMenuSubmenu=new s("LayoutControlMenuSubmenu"),s.LayoutControlMenu=new s("LayoutControlMenu"),s.MenubarMainMenu=new s("MenubarMainMenu"),s.MenubarAppearanceMenu=new s("MenubarAppearanceMenu"),s.MenubarDebugMenu=new s("MenubarDebugMenu"),s.MenubarEditMenu=new s("MenubarEditMenu"),s.MenubarCopy=new s("MenubarCopy"),s.MenubarFileMenu=new s("MenubarFileMenu"),s.MenubarGoMenu=new s("MenubarGoMenu"),s.MenubarHelpMenu=new s("MenubarHelpMenu"),s.MenubarLayoutMenu=new s("MenubarLayoutMenu"),s.MenubarNewBreakpointMenu=new s("MenubarNewBreakpointMenu"),s.PanelAlignmentMenu=new s("PanelAlignmentMenu"),s.PanelPositionMenu=new s("PanelPositionMenu"),s.MenubarPreferencesMenu=new s("MenubarPreferencesMenu"),s.MenubarRecentMenu=new s("MenubarRecentMenu"),s.MenubarSelectionMenu=new s("MenubarSelectionMenu"),s.MenubarShare=new s("MenubarShare"),s.MenubarSwitchEditorMenu=new s("MenubarSwitchEditorMenu"),s.MenubarSwitchGroupMenu=new s("MenubarSwitchGroupMenu"),s.MenubarTerminalMenu=new s("MenubarTerminalMenu"),s.MenubarViewMenu=new s("MenubarViewMenu"),s.MenubarHomeMenu=new s("MenubarHomeMenu"),s.OpenEditorsContext=new s("OpenEditorsContext"),s.OpenEditorsContextShare=new s("OpenEditorsContextShare"),s.ProblemsPanelContext=new s("ProblemsPanelContext"),s.SCMChangeContext=new s("SCMChangeContext"),s.SCMResourceContext=new s("SCMResourceContext"),s.SCMResourceContextShare=new s("SCMResourceContextShare"),s.SCMResourceFolderContext=new s("SCMResourceFolderContext"),s.SCMResourceGroupContext=new s("SCMResourceGroupContext"),s.SCMSourceControl=new s("SCMSourceControl"),s.SCMTitle=new s("SCMTitle"),s.SearchContext=new s("SearchContext"),s.SearchActionMenu=new s("SearchActionContext"),s.StatusBarWindowIndicatorMenu=new s("StatusBarWindowIndicatorMenu"),s.StatusBarRemoteIndicatorMenu=new s("StatusBarRemoteIndicatorMenu"),s.StickyScrollContext=new s("StickyScrollContext"),s.TestItem=new s("TestItem"),s.TestItemGutter=new s("TestItemGutter"),s.TestPeekElement=new s("TestPeekElement"),s.TestPeekTitle=new s("TestPeekTitle"),s.TouchBarContext=new s("TouchBarContext"),s.TitleBarContext=new s("TitleBarContext"),s.TitleBarTitleContext=new s("TitleBarTitleContext"),s.TunnelContext=new s("TunnelContext"),s.TunnelPrivacy=new s("TunnelPrivacy"),s.TunnelProtocol=new s("TunnelProtocol"),s.TunnelPortInline=new s("TunnelInline"),s.TunnelTitle=new s("TunnelTitle"),s.TunnelLocalAddressInline=new s("TunnelLocalAddressInline"),s.TunnelOriginInline=new s("TunnelOriginInline"),s.ViewItemContext=new s("ViewItemContext"),s.ViewContainerTitle=new s("ViewContainerTitle"),s.ViewContainerTitleContext=new s("ViewContainerTitleContext"),s.ViewTitle=new s("ViewTitle"),s.ViewTitleContext=new s("ViewTitleContext"),s.CommentEditorActions=new s("CommentEditorActions"),s.CommentThreadTitle=new s("CommentThreadTitle"),s.CommentThreadActions=new s("CommentThreadActions"),s.CommentThreadAdditionalActions=new s("CommentThreadAdditionalActions"),s.CommentThreadTitleContext=new s("CommentThreadTitleContext"),s.CommentThreadCommentContext=new s("CommentThreadCommentContext"),s.CommentTitle=new s("CommentTitle"),s.CommentActions=new s("CommentActions"),s.InteractiveToolbar=new s("InteractiveToolbar"),s.InteractiveCellTitle=new s("InteractiveCellTitle"),s.InteractiveCellDelete=new s("InteractiveCellDelete"),s.InteractiveCellExecute=new s("InteractiveCellExecute"),s.InteractiveInputExecute=new s("InteractiveInputExecute"),s.NotebookToolbar=new s("NotebookToolbar"),s.NotebookCellTitle=new s("NotebookCellTitle"),s.NotebookCellDelete=new s("NotebookCellDelete"),s.NotebookCellInsert=new s("NotebookCellInsert"),s.NotebookCellBetween=new s("NotebookCellBetween"),s.NotebookCellListTop=new s("NotebookCellTop"),s.NotebookCellExecute=new s("NotebookCellExecute"),s.NotebookCellExecutePrimary=new s("NotebookCellExecutePrimary"),s.NotebookDiffCellInputTitle=new s("NotebookDiffCellInputTitle"),s.NotebookDiffCellMetadataTitle=new s("NotebookDiffCellMetadataTitle"),s.NotebookDiffCellOutputsTitle=new s("NotebookDiffCellOutputsTitle"),s.NotebookOutputToolbar=new s("NotebookOutputToolbar"),s.NotebookEditorLayoutConfigure=new s("NotebookEditorLayoutConfigure"),s.NotebookKernelSource=new s("NotebookKernelSource"),s.BulkEditTitle=new s("BulkEditTitle"),s.BulkEditContext=new s("BulkEditContext"),s.TimelineItemContext=new s("TimelineItemContext"),s.TimelineTitle=new s("TimelineTitle"),s.TimelineTitleContext=new s("TimelineTitleContext"),s.TimelineFilterSubMenu=new s("TimelineFilterSubMenu"),s.AccountsContext=new s("AccountsContext"),s.PanelTitle=new s("PanelTitle"),s.AuxiliaryBarTitle=new s("AuxiliaryBarTitle"),s.TerminalInstanceContext=new s("TerminalInstanceContext"),s.TerminalEditorInstanceContext=new s("TerminalEditorInstanceContext"),s.TerminalNewDropdownContext=new s("TerminalNewDropdownContext"),s.TerminalTabContext=new s("TerminalTabContext"),s.TerminalTabEmptyAreaContext=new s("TerminalTabEmptyAreaContext"),s.TerminalInlineTabContext=new s("TerminalInlineTabContext"),s.WebviewContext=new s("WebviewContext"),s.InlineCompletionsActions=new s("InlineCompletionsActions"),s.NewFile=new s("NewFile"),s.MergeInput1Toolbar=new s("MergeToolbar1Toolbar"),s.MergeInput2Toolbar=new s("MergeToolbar2Toolbar"),s.MergeBaseToolbar=new s("MergeBaseToolbar"),s.MergeInputResultToolbar=new s("MergeToolbarResultToolbar"),s.InlineSuggestionToolbar=new s("InlineSuggestionToolbar"),s.ChatContext=new s("ChatContext"),s.ChatCodeBlock=new s("ChatCodeblock"),s.ChatMessageTitle=new s("ChatMessageTitle"),s.ChatExecute=new s("ChatExecute");const m=(0,L.yh)("menuService");class b{static for(M){let D=this._all.get(M);return D||(D=new b(M),this._all.set(M,D)),D}static merge(M){const D=new Set;for(const F of M)F instanceof b&&D.add(F.id);return D}constructor(M){this.id=M,this.has=D=>D===M}}b._all=new Map;const c=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new u.SZ({merge:b.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(P){return this._commands.set(P.id,P),this._onDidChangeMenu.fire(b.for(s.CommandPalette)),(0,_.OF)(()=>{this._commands.delete(P.id)&&this._onDidChangeMenu.fire(b.for(s.CommandPalette))})}getCommand(P){return this._commands.get(P)}getCommands(){const P=new Map;return this._commands.forEach((M,D)=>P.set(D,M)),P}appendMenuItem(P,M){let D=this._menuItems.get(P);D||(D=new p.S,this._menuItems.set(P,D));const F=D.push(M);return this._onDidChangeMenu.fire(b.for(P)),(0,_.OF)(F)}appendMenuItems(P){const M=new _.SL;for(const{id:D,item:F}of P)M.add(this.appendMenuItem(D,F));return M}getMenuItems(P){let M;return this._menuItems.has(P)?M=[...this._menuItems.get(P)]:M=[],P===s.CommandPalette&&this._appendImplicitItems(M),M}_appendImplicitItems(P){const M=new Set;for(const D of P)d(D)&&(M.add(D.command.id),D.alt&&M.add(D.alt.id));this._commands.forEach((D,F)=>{M.has(F)||P.push({command:D})})}};class v extends f.wY{constructor(M,D,F){super(`submenuitem.${M.submenu.id}`,typeof M.title=="string"?M.title:M.title.value,F,"submenu"),this.item=M,this.hideActions=D}}let C=class Sc{static label(M,D){return D!=null&&D.renderShortTitle&&M.shortTitle?typeof M.shortTitle=="string"?M.shortTitle:M.shortTitle.value:typeof M.title=="string"?M.title:M.title.value}constructor(M,D,F,B,U,A){var k,R;this.hideActions=B,this._commandService=A,this.id=M.id,this.label=Sc.label(M,F),this.tooltip=(R=typeof M.tooltip=="string"?M.tooltip:(k=M.tooltip)===null||k===void 0?void 0:k.value)!==null&&R!==void 0?R:"",this.enabled=!M.precondition||U.contextMatchesRules(M.precondition),this.checked=void 0;let $;if(M.toggled){const J=M.toggled.condition?M.toggled:{condition:M.toggled};this.checked=U.contextMatchesRules(J.condition),this.checked&&J.tooltip&&(this.tooltip=typeof J.tooltip=="string"?J.tooltip:J.tooltip.value),this.checked&&O.k.isThemeIcon(J.icon)&&($=J.icon),J.title&&(this.label=typeof J.title=="string"?J.title:J.title.value)}$||($=O.k.isThemeIcon(M.icon)?M.icon:void 0),this.item=M,this.alt=D?new Sc(D,void 0,F,B,U,A):void 0,this._options=F,this.class=$&&O.k.asClassName($)}run(...M){var D,F;let B=[];return!((D=this._options)===null||D===void 0)&&D.arg&&(B=[...B,this._options.arg]),!((F=this._options)===null||F===void 0)&&F.shouldForwardArgs&&(B=[...B,...M]),this._commandService.executeCommand(this.id,...B)}};C=g([a(4,I.i6),a(5,V.H)],C);class S{constructor(M){this.desc=M}}function N(P){const M=new _.SL,D=new P,F=D.desc,{f1:B,menu:U,keybinding:A,description:k}=F,R=l(F,["f1","menu","keybinding","description"]);if(M.add(V.P.registerCommand({id:R.id,handler:($,...J)=>D.run($,...J),description:k})),Array.isArray(U))for(const $ of U)M.add(c.appendMenuItem($.id,Object.assign({command:Object.assign(Object.assign({},R),{precondition:$.precondition===null?void 0:R.precondition})},$)));else U&&M.add(c.appendMenuItem(U.id,Object.assign({command:Object.assign(Object.assign({},R),{precondition:U.precondition===null?void 0:R.precondition})},U)));if(B&&(M.add(c.appendMenuItem(s.CommandPalette,{command:R,when:R.precondition})),M.add(c.addCommand(R))),Array.isArray(A))for(const $ of A)M.add(E.W.registerKeybindingRule(Object.assign(Object.assign({},$),{id:R.id,when:R.precondition?I.Ao.and(R.precondition,$.when):$.when})));else A&&M.add(E.W.registerKeybindingRule(Object.assign(Object.assign({},A),{id:R.id,when:R.precondition?I.Ao.and(R.precondition,A.when):A.when})));return M}},87655:function(Rt,Be,t){"use strict";t.d(Be,{e7:function(){return u},y$:function(){return p}});var f=t(44333),O=t(26386);const u=(0,f.yh)("audioCue");class _{static register(I){return new _(I.fileName)}constructor(I){this.fileName=I}}_.error=_.register({fileName:"error.mp3"}),_.warning=_.register({fileName:"warning.mp3"}),_.foldedArea=_.register({fileName:"foldedAreas.mp3"}),_.break=_.register({fileName:"break.mp3"}),_.quickFixes=_.register({fileName:"quickFixes.mp3"}),_.taskCompleted=_.register({fileName:"taskCompleted.mp3"}),_.taskFailed=_.register({fileName:"taskFailed.mp3"}),_.terminalBell=_.register({fileName:"terminalBell.mp3"}),_.diffLineInserted=_.register({fileName:"diffLineInserted.mp3"}),_.diffLineDeleted=_.register({fileName:"diffLineDeleted.mp3"}),_.diffLineModified=_.register({fileName:"diffLineModified.mp3"});class p{static register(I){const L=new p(I.sound,I.name,I.settingsKey);return p._audioCues.add(L),L}constructor(I,L,E){this.sound=I,this.name=L,this.settingsKey=E}}p._audioCues=new Set,p.error=p.register({name:(0,O.NC)("audioCues.lineHasError.name","Error on Line"),sound:_.error,settingsKey:"audioCues.lineHasError"}),p.warning=p.register({name:(0,O.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:_.warning,settingsKey:"audioCues.lineHasWarning"}),p.foldedArea=p.register({name:(0,O.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:_.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),p.break=p.register({name:(0,O.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:_.break,settingsKey:"audioCues.lineHasBreakpoint"}),p.inlineSuggestion=p.register({name:(0,O.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:_.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),p.terminalQuickFix=p.register({name:(0,O.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:_.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),p.onDebugBreak=p.register({name:(0,O.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:_.break,settingsKey:"audioCues.onDebugBreak"}),p.noInlayHints=p.register({name:(0,O.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:_.error,settingsKey:"audioCues.noInlayHints"}),p.taskCompleted=p.register({name:(0,O.NC)("audioCues.taskCompleted","Task Completed"),sound:_.taskCompleted,settingsKey:"audioCues.taskCompleted"}),p.taskFailed=p.register({name:(0,O.NC)("audioCues.taskFailed","Task Failed"),sound:_.taskFailed,settingsKey:"audioCues.taskFailed"}),p.terminalCommandFailed=p.register({name:(0,O.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:_.error,settingsKey:"audioCues.terminalCommandFailed"}),p.terminalBell=p.register({name:(0,O.NC)("audioCues.terminalBell","Terminal Bell"),sound:_.terminalBell,settingsKey:"audioCues.terminalBell"}),p.notebookCellCompleted=p.register({name:(0,O.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:_.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),p.notebookCellFailed=p.register({name:(0,O.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:_.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),p.diffLineInserted=p.register({name:(0,O.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:_.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),p.diffLineDeleted=p.register({name:(0,O.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:_.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),p.diffLineModified=p.register({name:(0,O.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:_.diffLineModified,settingsKey:"audioCues.diffLineModified"})},51941:function(Rt,Be,t){"use strict";t.d(Be,{p:function(){return O}});var f=t(44333);const O=(0,f.yh)("clipboardService")},80793:function(Rt,Be,t){"use strict";t.d(Be,{H:function(){return I},P:function(){return L}});var f=t(56709),O=t(97865),u=t(38431),_=t(17979),p=t(14818),V=t(44333);const I=(0,V.yh)("commandService"),L=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new f.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(E,g){if(!E)throw new Error("invalid command");if(typeof E=="string"){if(!g)throw new Error("invalid command");return this.registerCommand({id:E,handler:g})}if(E.description){const s=[];for(const b of E.description.args)s.push(b.constraint);const m=E.handler;E.handler=function(b,...c){return(0,p.D8)(c,s),m(b,...c)}}const{id:a}=E;let l=this._commands.get(a);l||(l=new _.S,this._commands.set(a,l));const d=l.unshift(E),i=(0,u.OF)(()=>{d();const s=this._commands.get(a);s!=null&&s.isEmpty()&&this._commands.delete(a)});return this._onDidRegisterCommand.fire(a),i}registerCommandAlias(E,g){return L.registerCommand(E,(a,...l)=>a.get(I).executeCommand(g,...l))}getCommand(E){const g=this._commands.get(E);if(!(!g||g.isEmpty()))return O.$.first(g)}getCommands(){const E=new Map;for(const g of this._commands.keys()){const a=this.getCommand(g);a&&E.set(g,a)}return E}};L.registerCommand("noop",()=>{})},71177:function(Rt,Be,t){"use strict";t.d(Be,{KV:function(){return _},Mt:function(){return I},Od:function(){return u},UI:function(){return L},Ui:function(){return O},xL:function(){return p}});var f=t(44333);const O=(0,f.yh)("configurationService");function u(E,g){const a=Object.create(null);for(const l in E)_(a,l,E[l],g);return a}function _(E,g,a,l){const d=g.split("."),i=d.pop();let s=E;for(let m=0;m<d.length;m++){const b=d[m];let c=s[b];switch(typeof c){case"undefined":c=s[b]=Object.create(null);break;case"object":break;default:l(`Ignoring ${g} as ${d.slice(0,m+1).join(".")} is ${JSON.stringify(c)}`);return}s=c}if(typeof s=="object"&&s!==null)try{s[i]=a}catch(m){l(`Ignoring ${g} as ${d.join(".")} is ${JSON.stringify(s)}`)}else l(`Ignoring ${g} as ${d.join(".")} is ${JSON.stringify(s)}`)}function p(E,g){const a=g.split(".");V(E,a)}function V(E,g){const a=g.shift();if(g.length===0){delete E[a];return}if(Object.keys(E).indexOf(a)!==-1){const l=E[a];typeof l=="object"&&!Array.isArray(l)&&(V(l,g),Object.keys(l).length===0&&delete E[a])}}function I(E,g,a){function l(s,m){let b=s;for(const c of m){if(typeof b!="object"||b===null)return;b=b[c]}return b}const d=g.split("."),i=l(E,d);return typeof i=="undefined"?a:i}function L(E){return E.replace(/[\[\]]/g,"")}},12326:function(Rt,Be,t){"use strict";t.d(Be,{IP:function(){return L},eU:function(){return S},ny:function(){return N}});var f=t(16308),O=t(56709),u=t(14818),_=t(26386),p=t(71177),V=t(82123),I=t(6325);const L={Configuration:"base.contributions.configuration"},E={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},a={properties:{},patternProperties:{}},l={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},i={properties:{},patternProperties:{}},s="vscode://schemas/settings/resourceLanguage",m=I.B.as(V.I.JSONContribution);class b{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new O.Q5,this._onDidUpdateConfiguration=new O.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:_.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},m.registerSchema(s,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(B,U=!0){this.registerConfigurations([B],U)}registerConfigurations(B,U=!0){const A=new Set;this.doRegisterConfigurations(B,U,A),m.registerSchema(s,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:A})}registerDefaultConfigurations(B){const U=new Set;this.doRegisterDefaultConfigurations(B,U),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:U,defaultsOverrides:!0})}doRegisterDefaultConfigurations(B,U){var A;const k=[];for(const{overrides:R,source:$}of B)for(const J in R)if(U.add(J),S.test(J)){const Y=this.configurationDefaultsOverrides.get(J),j=(A=Y==null?void 0:Y.valuesSources)!==null&&A!==void 0?A:new Map;if($)for(const fe of Object.keys(R[J]))j.set(fe,$);const z=Object.assign(Object.assign({},(Y==null?void 0:Y.value)||{}),R[J]);this.configurationDefaultsOverrides.set(J,{source:$,value:z,valuesSources:j});const K=(0,p.UI)(J),Z={type:"object",default:z,description:_.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",K),$ref:s,defaultDefaultValue:z,source:u.HD($)?void 0:$,defaultValueSource:$};k.push(...N(J)),this.configurationProperties[J]=Z,this.defaultLanguageConfigurationOverridesNode.properties[J]=Z}else{this.configurationDefaultsOverrides.set(J,{value:R[J],source:$});const Y=this.configurationProperties[J];Y&&(this.updatePropertyDefaultValue(J,Y),this.updateSchema(J,Y))}this.doRegisterOverrideIdentifiers(k)}registerOverrideIdentifiers(B){this.doRegisterOverrideIdentifiers(B),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(B){for(const U of B)this.overrideIdentifiers.add(U);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(B,U,A){B.forEach(k=>{this.validateAndRegisterProperties(k,U,k.extensionInfo,k.restrictedProperties,void 0,A),this.configurationContributors.push(k),this.registerJSONConfiguration(k)})}validateAndRegisterProperties(B,U=!0,A,k,R=3,$){var J;R=u.Jp(B.scope)?R:B.scope;const Y=B.properties;if(Y)for(const z in Y){const K=Y[z];if(U&&D(z,K)){delete Y[z];continue}if(K.source=A,K.defaultDefaultValue=Y[z].default,this.updatePropertyDefaultValue(z,K),S.test(z)?K.scope=void 0:(K.scope=u.Jp(K.scope)?R:K.scope,K.restricted=u.Jp(K.restricted)?!!(k!=null&&k.includes(z)):K.restricted),Y[z].hasOwnProperty("included")&&!Y[z].included){this.excludedConfigurationProperties[z]=Y[z],delete Y[z];continue}else this.configurationProperties[z]=Y[z],!((J=Y[z].policy)===null||J===void 0)&&J.name&&this.policyConfigurations.set(Y[z].policy.name,z);!Y[z].deprecationMessage&&Y[z].markdownDeprecationMessage&&(Y[z].deprecationMessage=Y[z].markdownDeprecationMessage),$.add(z)}const j=B.allOf;if(j)for(const z of j)this.validateAndRegisterProperties(z,U,A,k,R,$)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(B){const U=A=>{const k=A.properties;if(k)for(const $ in k)this.updateSchema($,k[$]);const R=A.allOf;R==null||R.forEach(U)};U(B)}updateSchema(B,U){switch(E.properties[B]=U,U.scope){case 1:g.properties[B]=U;break;case 2:a.properties[B]=U;break;case 6:l.properties[B]=U;break;case 3:d.properties[B]=U;break;case 4:i.properties[B]=U;break;case 5:i.properties[B]=U,this.resourceLanguageSettingsSchema.properties[B]=U;break}}updateOverridePropertyPatternKey(){for(const B of this.overrideIdentifiers.values()){const U=`[${B}]`,A={type:"object",description:_.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:s};this.updatePropertyDefaultValue(U,A),E.properties[U]=A,g.properties[U]=A,a.properties[U]=A,l.properties[U]=A,d.properties[U]=A,i.properties[U]=A}}registerOverridePropertyPatternKey(){const B={type:"object",description:_.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:s};E.patternProperties[C]=B,g.patternProperties[C]=B,a.patternProperties[C]=B,l.patternProperties[C]=B,d.patternProperties[C]=B,i.patternProperties[C]=B,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(B,U){const A=this.configurationDefaultsOverrides.get(B);let k=A==null?void 0:A.value,R=A==null?void 0:A.source;u.o8(k)&&(k=U.defaultDefaultValue,R=void 0),u.o8(k)&&(k=P(U.type)),U.default=k,U.defaultValueSource=R}}const c="\\[([^\\]]+)\\]",v=new RegExp(c,"g"),C=`^(${c})+$`,S=new RegExp(C);function N(F){const B=[];if(S.test(F)){let U=v.exec(F);for(;U!=null&&U.length;){const A=U[1].trim();A&&B.push(A),U=v.exec(F)}}return(0,f.EB)(B)}function P(F){switch(Array.isArray(F)?F[0]:F){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const M=new b;I.B.add(L.Configuration,M);function D(F,B){var U,A,k,R;return F.trim()?S.test(F)?_.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",F):M.getConfigurationProperties()[F]!==void 0?_.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",F):!((U=B.policy)===null||U===void 0)&&U.name&&M.getPolicyConfigurations().get((A=B.policy)===null||A===void 0?void 0:A.name)!==void 0?_.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",F,(k=B.policy)===null||k===void 0?void 0:k.name,M.getPolicyConfigurations().get((R=B.policy)===null||R===void 0?void 0:R.name)):null:_.NC("config.property.empty","Cannot register an empty property")}},76826:function(Rt,Be,t){"use strict";t.d(Be,{Ao:function(){return N},i6:function(){return pe},uy:function(){return _e},Fb:function(){return P},K8:function(){return he}});var f=t(11138),O=t(17416),u=t(20996),_=t(26386);function p(...Ve){switch(Ve.length){case 1:return(0,_.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",Ve[0]);case 2:return(0,_.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",Ve[0],Ve[1]);case 3:return(0,_.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",Ve[0],Ve[1],Ve[2]);default:return}}const V=(0,_.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),I=(0,_.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class L{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(se){switch(se.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return se.isTripleEq?"===":"==";case 4:return se.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return se.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return se.lexeme;case 18:return se.lexeme;case 19:return se.lexeme;case 20:return"EOF";default:throw(0,u.L6)(`unhandled token type: ${JSON.stringify(se)}; have you forgotten to add a case?`)}}reset(se){return this._input=se,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const q=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:q})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const q=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:q})}else this._match(126)?this._addToken(9):this._error(p("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(p("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(p("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(se){return this._isAtEnd()||this._input.charCodeAt(this._current)!==se?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(se){this._tokens.push({type:se,offset:this._start})}_error(se){const q=this._start,Ee=this._input.substring(this._start,this._current),Se={type:19,offset:this._start,lexeme:Ee};this._errors.push({offset:q,lexeme:Ee,additionalInfo:se}),this._tokens.push(Se)}_string(){this.stringRe.lastIndex=this._start;const se=this.stringRe.exec(this._input);if(se){this._current=this._start+se[0].length;const q=this._input.substring(this._start,this._current),Ee=L._keywords.get(q);Ee?this._addToken(Ee):this._tokens.push({type:17,lexeme:q,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(V);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let se=this._current,q=!1,Ee=!1;for(;;){if(se>=this._input.length){this._current=se,this._error(I);return}const we=this._input.charCodeAt(se);if(q)q=!1;else if(we===47&&!Ee){se++;break}else we===91?Ee=!0:we===92?q=!0:we===93&&(Ee=!1);se++}for(;se<this._input.length&&L._regexFlags.has(this._input.charCodeAt(se));)se++;this._current=se;const Se=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:Se,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}L._regexFlags=new Set(["i","g","s","m","y","u"].map(Ve=>Ve.charCodeAt(0))),L._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var E=t(44333);const g=new Map;g.set("false",!1),g.set("true",!0),g.set("isMac",f.dz),g.set("isLinux",f.IJ),g.set("isWindows",f.ED),g.set("isWeb",f.$L),g.set("isMacNative",f.dz&&!f.$L),g.set("isEdge",f.un),g.set("isFirefox",f.vU),g.set("isChrome",f.i7),g.set("isSafari",f.G6);const a=Object.prototype.hasOwnProperty,l={regexParsingWithErrorRecovery:!0},d=(0,_.NC)("contextkey.parser.error.emptyString","Empty context key expression"),i=(0,_.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),s=(0,_.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),m=(0,_.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),b=(0,_.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),c=(0,_.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),v=(0,_.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),C=(0,_.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class S{constructor(se=l){this._config=se,this._scanner=new L,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(se){if(se===""){this._parsingErrors.push({message:d,offset:0,lexeme:"",additionalInfo:i});return}this._tokens=this._scanner.reset(se).scan(),this._current=0,this._parsingErrors=[];try{const q=this._expr();if(!this._isAtEnd()){const Ee=this._peek(),Se=Ee.type===17?c:void 0;throw this._parsingErrors.push({message:b,offset:Ee.offset,lexeme:L.getLexeme(Ee),additionalInfo:Se}),S._parseError}return q}catch(q){if(q!==S._parseError)throw q;return}}_expr(){return this._or()}_or(){const se=[this._and()];for(;this._matchOne(16);){const q=this._and();se.push(q)}return se.length===1?se[0]:N.or(...se)}_and(){const se=[this._term()];for(;this._matchOne(15);){const q=this._term();se.push(q)}return se.length===1?se[0]:N.and(...se)}_term(){if(this._matchOne(2)){const se=this._peek();switch(se.type){case 11:return this._advance(),D.INSTANCE;case 12:return this._advance(),F.INSTANCE;case 0:{this._advance();const q=this._expr();return this._consume(1,m),q==null?void 0:q.negate()}case 17:return this._advance(),$.create(se.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",se)}}return this._primary()}_primary(){const se=this._peek();switch(se.type){case 11:return this._advance(),N.true();case 12:return this._advance(),N.false();case 0:{this._advance();const q=this._expr();return this._consume(1,m),q}case 17:{const q=se.lexeme;if(this._advance(),this._matchOne(9)){const Se=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Se.type!==10)throw this._errExpectedButGot("REGEX",Se);const we=Se.lexeme,ve=we.lastIndexOf("/"),Ne=ve===we.length-1?void 0:this._removeFlagsGY(we.substring(ve+1));let $e;try{$e=new RegExp(we.substring(1,ve),Ne)}catch(Ke){throw this._errExpectedButGot("REGEX",Se)}return Z.create(q,$e)}switch(Se.type){case 10:case 19:{const we=[Se.lexeme];this._advance();let ve=this._peek(),Ne=0;for(let Le=0;Le<Se.lexeme.length;Le++)Se.lexeme.charCodeAt(Le)===40?Ne++:Se.lexeme.charCodeAt(Le)===41&&Ne--;for(;!this._isAtEnd()&&ve.type!==15&&ve.type!==16;){switch(ve.type){case 0:Ne++;break;case 1:Ne--;break;case 10:case 18:for(let Le=0;Le<ve.lexeme.length;Le++)ve.lexeme.charCodeAt(Le)===40?Ne++:Se.lexeme.charCodeAt(Le)===41&&Ne--}if(Ne<0)break;we.push(L.getLexeme(ve)),this._advance(),ve=this._peek()}const $e=we.join(""),Ke=$e.lastIndexOf("/"),ze=Ke===$e.length-1?void 0:this._removeFlagsGY($e.substring(Ke+1));let He;try{He=new RegExp($e.substring(1,Ke),ze)}catch(Le){throw this._errExpectedButGot("REGEX",Se)}return N.regex(q,He)}case 18:{const we=Se.lexeme;this._advance();let ve=null;if(!(0,O.m5)(we)){const Ne=we.indexOf("/"),$e=we.lastIndexOf("/");if(Ne!==$e&&Ne>=0){const Ke=we.slice(Ne+1,$e),ze=we[$e+1]==="i"?"i":"";try{ve=new RegExp(Ke,ze)}catch(He){throw this._errExpectedButGot("REGEX",Se)}}}if(ve===null)throw this._errExpectedButGot("REGEX",Se);return Z.create(q,ve)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,s);const Se=this._value();return N.notIn(q,Se)}switch(this._peek().type){case 3:{this._advance();const Se=this._value();if(this._previous().type===18)return N.equals(q,Se);switch(Se){case"true":return N.has(q);case"false":return N.not(q);default:return N.equals(q,Se)}}case 4:{this._advance();const Se=this._value();if(this._previous().type===18)return N.notEquals(q,Se);switch(Se){case"true":return N.not(q);case"false":return N.has(q);default:return N.notEquals(q,Se)}}case 5:return this._advance(),z.create(q,this._value());case 6:return this._advance(),K.create(q,this._value());case 7:return this._advance(),Y.create(q,this._value());case 8:return this._advance(),j.create(q,this._value());case 13:return this._advance(),N.in(q,this._value());default:return N.has(q)}}case 20:throw this._parsingErrors.push({message:v,offset:se.offset,lexeme:"",additionalInfo:C}),S._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const se=this._peek();switch(se.type){case 17:case 18:return this._advance(),se.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(se){return se.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(se){return this._check(se)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(se,q){if(this._check(se))return this._advance();throw this._errExpectedButGot(q,this._peek())}_errExpectedButGot(se,q,Ee){const Se=(0,_.NC)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,se,L.getLexeme(q)),we=q.offset,ve=L.getLexeme(q);return this._parsingErrors.push({message:Se,offset:we,lexeme:ve,additionalInfo:Ee}),S._parseError}_check(se){return this._peek().type===se}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}S._parseError=new Error;class N{static false(){return D.INSTANCE}static true(){return F.INSTANCE}static has(se){return B.create(se)}static equals(se,q){return U.create(se,q)}static notEquals(se,q){return R.create(se,q)}static regex(se,q){return Z.create(se,q)}static in(se,q){return A.create(se,q)}static notIn(se,q){return k.create(se,q)}static not(se){return $.create(se)}static and(...se){return Re.create(se,null,!0)}static or(...se){return Ce.create(se,null,!0)}static deserialize(se){return se==null?void 0:this._parser.parse(se)}}N._parser=new S({regexParsingWithErrorRecovery:!1});function P(Ve,se){const q=Ve?Ve.substituteConstants():void 0,Ee=se?se.substituteConstants():void 0;return!q&&!Ee?!0:!q||!Ee?!1:q.equals(Ee)}function M(Ve,se){return Ve.cmp(se)}class D{constructor(){this.type=0}cmp(se){return this.type-se.type}equals(se){return se.type===this.type}substituteConstants(){return this}evaluate(se){return!1}serialize(){return"false"}keys(){return[]}negate(){return F.INSTANCE}}D.INSTANCE=new D;class F{constructor(){this.type=1}cmp(se){return this.type-se.type}equals(se){return se.type===this.type}substituteConstants(){return this}evaluate(se){return!0}serialize(){return"true"}keys(){return[]}negate(){return D.INSTANCE}}F.INSTANCE=new F;class B{static create(se,q=null){const Ee=g.get(se);return typeof Ee=="boolean"?Ee?F.INSTANCE:D.INSTANCE:new B(se,q)}constructor(se,q){this.key=se,this.negated=q,this.type=2}cmp(se){return se.type!==this.type?this.type-se.type:le(this.key,se.key)}equals(se){return se.type===this.type?this.key===se.key:!1}substituteConstants(){const se=g.get(this.key);return typeof se=="boolean"?se?F.INSTANCE:D.INSTANCE:this}evaluate(se){return!!se.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=$.create(this.key,this)),this.negated}}class U{static create(se,q,Ee=null){if(typeof q=="boolean")return q?B.create(se,Ee):$.create(se,Ee);const Se=g.get(se);return typeof Se=="boolean"?q===(Se?"true":"false")?F.INSTANCE:D.INSTANCE:new U(se,q,Ee)}constructor(se,q,Ee){this.key=se,this.value=q,this.negated=Ee,this.type=4}cmp(se){return se.type!==this.type?this.type-se.type:oe(this.key,this.value,se.key,se.value)}equals(se){return se.type===this.type?this.key===se.key&&this.value===se.value:!1}substituteConstants(){const se=g.get(this.key);if(typeof se=="boolean"){const q=se?"true":"false";return this.value===q?F.INSTANCE:D.INSTANCE}return this}evaluate(se){return se.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}class A{static create(se,q){return new A(se,q)}constructor(se,q){this.key=se,this.valueKey=q,this.type=10,this.negated=null}cmp(se){return se.type!==this.type?this.type-se.type:oe(this.key,this.valueKey,se.key,se.valueKey)}equals(se){return se.type===this.type?this.key===se.key&&this.valueKey===se.valueKey:!1}substituteConstants(){return this}evaluate(se){const q=se.getValue(this.valueKey),Ee=se.getValue(this.key);return Array.isArray(q)?q.includes(Ee):typeof Ee=="string"&&typeof q=="object"&&q!==null?a.call(q,Ee):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=k.create(this.key,this.valueKey)),this.negated}}class k{static create(se,q){return new k(se,q)}constructor(se,q){this.key=se,this.valueKey=q,this.type=11,this._negated=A.create(se,q)}cmp(se){return se.type!==this.type?this.type-se.type:this._negated.cmp(se._negated)}equals(se){return se.type===this.type?this._negated.equals(se._negated):!1}substituteConstants(){return this}evaluate(se){return!this._negated.evaluate(se)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class R{static create(se,q,Ee=null){if(typeof q=="boolean")return q?$.create(se,Ee):B.create(se,Ee);const Se=g.get(se);return typeof Se=="boolean"?q===(Se?"true":"false")?D.INSTANCE:F.INSTANCE:new R(se,q,Ee)}constructor(se,q,Ee){this.key=se,this.value=q,this.negated=Ee,this.type=5}cmp(se){return se.type!==this.type?this.type-se.type:oe(this.key,this.value,se.key,se.value)}equals(se){return se.type===this.type?this.key===se.key&&this.value===se.value:!1}substituteConstants(){const se=g.get(this.key);if(typeof se=="boolean"){const q=se?"true":"false";return this.value===q?D.INSTANCE:F.INSTANCE}return this}evaluate(se){return se.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=U.create(this.key,this.value,this)),this.negated}}class ${static create(se,q=null){const Ee=g.get(se);return typeof Ee=="boolean"?Ee?D.INSTANCE:F.INSTANCE:new $(se,q)}constructor(se,q){this.key=se,this.negated=q,this.type=3}cmp(se){return se.type!==this.type?this.type-se.type:le(this.key,se.key)}equals(se){return se.type===this.type?this.key===se.key:!1}substituteConstants(){const se=g.get(this.key);return typeof se=="boolean"?se?D.INSTANCE:F.INSTANCE:this}evaluate(se){return!se.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=B.create(this.key,this)),this.negated}}function J(Ve,se){if(typeof Ve=="string"){const q=parseFloat(Ve);isNaN(q)||(Ve=q)}return typeof Ve=="string"||typeof Ve=="number"?se(Ve):D.INSTANCE}class Y{static create(se,q,Ee=null){return J(q,Se=>new Y(se,Se,Ee))}constructor(se,q,Ee){this.key=se,this.value=q,this.negated=Ee,this.type=12}cmp(se){return se.type!==this.type?this.type-se.type:oe(this.key,this.value,se.key,se.value)}equals(se){return se.type===this.type?this.key===se.key&&this.value===se.value:!1}substituteConstants(){return this}evaluate(se){return typeof this.value=="string"?!1:parseFloat(se.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this.key,this.value,this)),this.negated}}class j{static create(se,q,Ee=null){return J(q,Se=>new j(se,Se,Ee))}constructor(se,q,Ee){this.key=se,this.value=q,this.negated=Ee,this.type=13}cmp(se){return se.type!==this.type?this.type-se.type:oe(this.key,this.value,se.key,se.value)}equals(se){return se.type===this.type?this.key===se.key&&this.value===se.value:!1}substituteConstants(){return this}evaluate(se){return typeof this.value=="string"?!1:parseFloat(se.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this.key,this.value,this)),this.negated}}class z{static create(se,q,Ee=null){return J(q,Se=>new z(se,Se,Ee))}constructor(se,q,Ee){this.key=se,this.value=q,this.negated=Ee,this.type=14}cmp(se){return se.type!==this.type?this.type-se.type:oe(this.key,this.value,se.key,se.value)}equals(se){return se.type===this.type?this.key===se.key&&this.value===se.value:!1}substituteConstants(){return this}evaluate(se){return typeof this.value=="string"?!1:parseFloat(se.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=j.create(this.key,this.value,this)),this.negated}}class K{static create(se,q,Ee=null){return J(q,Se=>new K(se,Se,Ee))}constructor(se,q,Ee){this.key=se,this.value=q,this.negated=Ee,this.type=15}cmp(se){return se.type!==this.type?this.type-se.type:oe(this.key,this.value,se.key,se.value)}equals(se){return se.type===this.type?this.key===se.key&&this.value===se.value:!1}substituteConstants(){return this}evaluate(se){return typeof this.value=="string"?!1:parseFloat(se.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Y.create(this.key,this.value,this)),this.negated}}class Z{static create(se,q){return new Z(se,q)}constructor(se,q){this.key=se,this.regexp=q,this.type=7,this.negated=null}cmp(se){if(se.type!==this.type)return this.type-se.type;if(this.key<se.key)return-1;if(this.key>se.key)return 1;const q=this.regexp?this.regexp.source:"",Ee=se.regexp?se.regexp.source:"";return q<Ee?-1:q>Ee?1:0}equals(se){if(se.type===this.type){const q=this.regexp?this.regexp.source:"",Ee=se.regexp?se.regexp.source:"";return this.key===se.key&&q===Ee}return!1}substituteConstants(){return this}evaluate(se){const q=se.getValue(this.key);return this.regexp?this.regexp.test(q):!1}serialize(){const se=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${se}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=fe.create(this)),this.negated}}class fe{static create(se){return new fe(se)}constructor(se){this._actual=se,this.type=8}cmp(se){return se.type!==this.type?this.type-se.type:this._actual.cmp(se._actual)}equals(se){return se.type===this.type?this._actual.equals(se._actual):!1}substituteConstants(){return this}evaluate(se){return!this._actual.evaluate(se)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function T(Ve){let se=null;for(let q=0,Ee=Ve.length;q<Ee;q++){const Se=Ve[q].substituteConstants();if(Ve[q]!==Se&&se===null){se=[];for(let we=0;we<q;we++)se[we]=Ve[we]}se!==null&&(se[q]=Se)}return se===null?Ve:se}class Re{static create(se,q,Ee){return Re._normalizeArr(se,q,Ee)}constructor(se,q){this.expr=se,this.negated=q,this.type=6}cmp(se){if(se.type!==this.type)return this.type-se.type;if(this.expr.length<se.expr.length)return-1;if(this.expr.length>se.expr.length)return 1;for(let q=0,Ee=this.expr.length;q<Ee;q++){const Se=M(this.expr[q],se.expr[q]);if(Se!==0)return Se}return 0}equals(se){if(se.type===this.type){if(this.expr.length!==se.expr.length)return!1;for(let q=0,Ee=this.expr.length;q<Ee;q++)if(!this.expr[q].equals(se.expr[q]))return!1;return!0}return!1}substituteConstants(){const se=T(this.expr);return se===this.expr?this:Re.create(se,this.negated,!1)}evaluate(se){for(let q=0,Ee=this.expr.length;q<Ee;q++)if(!this.expr[q].evaluate(se))return!1;return!0}static _normalizeArr(se,q,Ee){const Se=[];let we=!1;for(const ve of se)if(ve){if(ve.type===1){we=!0;continue}if(ve.type===0)return D.INSTANCE;if(ve.type===6){Se.push(...ve.expr);continue}Se.push(ve)}if(Se.length===0&&we)return F.INSTANCE;if(Se.length!==0){if(Se.length===1)return Se[0];Se.sort(M);for(let ve=1;ve<Se.length;ve++)Se[ve-1].equals(Se[ve])&&(Se.splice(ve,1),ve--);if(Se.length===1)return Se[0];for(;Se.length>1;){const ve=Se[Se.length-1];if(ve.type!==9)break;Se.pop();const Ne=Se.pop(),$e=Se.length===0,Ke=Ce.create(ve.expr.map(ze=>Re.create([ze,Ne],null,Ee)),null,$e);Ke&&(Se.push(Ke),Se.sort(M))}if(Se.length===1)return Se[0];if(Ee){for(let ve=0;ve<Se.length;ve++)for(let Ne=ve+1;Ne<Se.length;Ne++)if(Se[ve].negate().equals(Se[Ne]))return D.INSTANCE;if(Se.length===1)return Se[0]}return new Re(Se,q)}}serialize(){return this.expr.map(se=>se.serialize()).join(" && ")}keys(){const se=[];for(const q of this.expr)se.push(...q.keys());return se}negate(){if(!this.negated){const se=[];for(const q of this.expr)se.push(q.negate());this.negated=Ce.create(se,this,!0)}return this.negated}}class Ce{static create(se,q,Ee){return Ce._normalizeArr(se,q,Ee)}constructor(se,q){this.expr=se,this.negated=q,this.type=9}cmp(se){if(se.type!==this.type)return this.type-se.type;if(this.expr.length<se.expr.length)return-1;if(this.expr.length>se.expr.length)return 1;for(let q=0,Ee=this.expr.length;q<Ee;q++){const Se=M(this.expr[q],se.expr[q]);if(Se!==0)return Se}return 0}equals(se){if(se.type===this.type){if(this.expr.length!==se.expr.length)return!1;for(let q=0,Ee=this.expr.length;q<Ee;q++)if(!this.expr[q].equals(se.expr[q]))return!1;return!0}return!1}substituteConstants(){const se=T(this.expr);return se===this.expr?this:Ce.create(se,this.negated,!1)}evaluate(se){for(let q=0,Ee=this.expr.length;q<Ee;q++)if(this.expr[q].evaluate(se))return!0;return!1}static _normalizeArr(se,q,Ee){let Se=[],we=!1;if(se){for(let ve=0,Ne=se.length;ve<Ne;ve++){const $e=se[ve];if($e){if($e.type===0){we=!0;continue}if($e.type===1)return F.INSTANCE;if($e.type===9){Se=Se.concat($e.expr);continue}Se.push($e)}}if(Se.length===0&&we)return D.INSTANCE;Se.sort(M)}if(Se.length!==0){if(Se.length===1)return Se[0];for(let ve=1;ve<Se.length;ve++)Se[ve-1].equals(Se[ve])&&(Se.splice(ve,1),ve--);if(Se.length===1)return Se[0];if(Ee){for(let ve=0;ve<Se.length;ve++)for(let Ne=ve+1;Ne<Se.length;Ne++)if(Se[ve].negate().equals(Se[Ne]))return F.INSTANCE;if(Se.length===1)return Se[0]}return new Ce(Se,q)}}serialize(){return this.expr.map(se=>se.serialize()).join(" || ")}keys(){const se=[];for(const q of this.expr)se.push(...q.keys());return se}negate(){if(!this.negated){const se=[];for(const q of this.expr)se.push(q.negate());for(;se.length>1;){const q=se.shift(),Ee=se.shift(),Se=[];for(const we of Xe(q))for(const ve of Xe(Ee))Se.push(Re.create([we,ve],null,!1));se.unshift(Ce.create(Se,null,!1))}this.negated=Ce.create(se,this,!0)}return this.negated}}class _e extends B{static all(){return _e._info.values()}constructor(se,q,Ee){super(se,null),this._defaultValue=q,typeof Ee=="object"?_e._info.push(Object.assign(Object.assign({},Ee),{key:se})):Ee!==!0&&_e._info.push({key:se,description:Ee,type:q!=null?typeof q:void 0})}bindTo(se){return se.createKey(this.key,this._defaultValue)}getValue(se){return se.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(se){return U.create(this.key,se)}}_e._info=[];const pe=(0,E.yh)("contextKeyService");function le(Ve,se){return Ve<se?-1:Ve>se?1:0}function oe(Ve,se,q,Ee){return Ve<q?-1:Ve>q?1:se<Ee?-1:se>Ee?1:0}function he(Ve,se){if(Ve.type===0||se.type===1)return!0;if(Ve.type===9)return se.type===9?je(Ve.expr,se.expr):!1;if(se.type===9){for(const q of se.expr)if(he(Ve,q))return!0;return!1}if(Ve.type===6){if(se.type===6)return je(se.expr,Ve.expr);for(const q of Ve.expr)if(he(q,se))return!0;return!1}return Ve.equals(se)}function je(Ve,se){let q=0,Ee=0;for(;q<Ve.length&&Ee<se.length;){const Se=Ve[q].cmp(se[Ee]);if(Se<0)return!1;Se===0&&q++,Ee++}return q===Ve.length}function Xe(Ve){return Ve.type===9?Ve.expr:[Ve]}},57131:function(Rt,Be,t){"use strict";t.d(Be,{cv:function(){return V},d0:function(){return d}});var f=t(11138),O=t(26386),u=t(76826);const _=new u.uy("isMac",f.dz,(0,O.NC)("isMac","Whether the operating system is macOS")),p=new u.uy("isLinux",f.IJ,(0,O.NC)("isLinux","Whether the operating system is Linux")),V=new u.uy("isWindows",f.ED,(0,O.NC)("isWindows","Whether the operating system is Windows")),I=new u.uy("isWeb",f.$L,(0,O.NC)("isWeb","Whether the platform is a web browser")),L=new u.uy("isMacNative",f.dz&&!f.$L,(0,O.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),E=new u.uy("isIOS",f.gn,(0,O.NC)("isIOS","Whether the operating system is iOS")),g=new u.uy("isMobile",f.tq,(0,O.NC)("isMobile","Whether the platform is a mobile web browser")),a=new u.uy("isDevelopment",!1,!0),l=new u.uy("productQualityType","",(0,O.NC)("productQualityType","Quality type of VS Code")),d="inputFocus",i=new u.uy(d,!1,(0,O.NC)("inputFocus","Whether keyboard focus is inside an input box"))},36953:function(Rt,Be,t){"use strict";t.d(Be,{i:function(){return u},u:function(){return O}});var f=t(44333);const O=(0,f.yh)("contextViewService"),u=(0,f.yh)("contextMenuService")},5267:function(Rt,Be,t){"use strict";t.d(Be,{S:function(){return O}});var f=t(44333);const O=(0,f.yh)("dialogService")},42829:function(Rt,Be,t){"use strict";t.d(Be,{Ej:function(){return p},Km:function(){return O}});var f=t(6325);const O={EDITORS:"CodeEditors",FILES:"CodeFiles"};class u{}const _={DragAndDropContribution:"workbench.contributions.dragAndDrop"};f.B.add(_.DragAndDropContribution,new u);class p{constructor(){}static getInstance(){return p.INSTANCE}hasData(I){return I&&I===this.proto}getData(I){if(this.hasData(I))return this.data}}p.INSTANCE=new p},99650:function(Rt,Be,t){"use strict";t.d(Be,{Yb:function(){return F},Nq:function(){return B},iX:function(){return v}});var f=t(12049),O=t(34441),u=t(23602),_=t(6364),p=t(88305),V=t(407),I=t(56709),L=t(55873),E=t(26386);const g=E.NC("defaultLabel","input"),a=E.NC("label.preserveCaseToggle","Preserve Case");class l extends u.Z{constructor(A){super({icon:V.l.preserveCase,title:a+A.appendTitle,isChecked:A.isChecked,inputActiveOptionBorder:A.inputActiveOptionBorder,inputActiveOptionForeground:A.inputActiveOptionForeground,inputActiveOptionBackground:A.inputActiveOptionBackground})}}class d extends p.${constructor(A,k,R,$){super(),this._showOptionButtons=R,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new I.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new I.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new I.Q5),this._onInput=this._register(new I.Q5),this._onKeyUp=this._register(new I.Q5),this._onPreserveCaseKeyDown=this._register(new I.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=k,this.placeholder=$.placeholder||"",this.validation=$.validation,this.label=$.label||g;const J=$.appendPreserveCaseLabel||"",Y=$.history||[],j=!!$.flexibleHeight,z=!!$.flexibleWidth,K=$.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new _.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:Y,showHistoryHint:$.showHistoryHint,flexibleHeight:j,flexibleWidth:z,flexibleMaxHeight:K,inputBoxStyles:$.inputBoxStyles})),this.preserveCase=this._register(new l(Object.assign({appendTitle:J,isChecked:!1},$.toggleStyles))),this._register(this.preserveCase.onChange(T=>{this._onDidOptionChange.fire(T),!T&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(T=>{this._onPreserveCaseKeyDown.fire(T)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const Z=[this.preserveCase.domNode];this.onkeydown(this.domNode,T=>{if(T.equals(15)||T.equals(17)||T.equals(9)){const Re=Z.indexOf(document.activeElement);if(Re>=0){let Ce=-1;T.equals(17)?Ce=(Re+1)%Z.length:T.equals(15)&&(Re===0?Ce=Z.length-1:Ce=Re-1),T.equals(9)?(Z[Re].blur(),this.inputBox.focus()):Ce>=0&&Z[Ce].focus(),O.zB.stop(T,!0)}}});const fe=document.createElement("div");fe.className="controls",fe.style.display=this._showOptionButtons?"block":"none",fe.appendChild(this.preserveCase.domNode),this.domNode.appendChild(fe),A==null||A.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,T=>this._onKeyDown.fire(T)),this.onkeyup(this.inputBox.inputElement,T=>this._onKeyUp.fire(T)),this.oninput(this.inputBox.inputElement,T=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,T=>this._onMouseDown.fire(T))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(A){A?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(A){this.preserveCase.checked=A}focusOnPreserve(){this.preserveCase.focus()}validate(){var A;(A=this.inputBox)===null||A===void 0||A.validate()}set width(A){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=A+"px"}dispose(){super.dispose()}}var i=t(76826),s=t(47679),m=t(38431),b=function(U,A,k,R){var $=arguments.length,J=$<3?A:R===null?R=Object.getOwnPropertyDescriptor(A,k):R,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(U,A,k,R);else for(var j=U.length-1;j>=0;j--)(Y=U[j])&&(J=($<3?Y(J):$>3?Y(A,k,J):Y(A,k))||J);return $>3&&J&&Object.defineProperty(A,k,J),J},c=function(U,A){return function(k,R){A(k,R,U)}};const v=new i.uy("suggestWidgetVisible",!1,(0,E.NC)("suggestWidgetVisible","Whether suggestion are visible")),C="historyNavigationWidgetFocus",S="historyNavigationForwardsEnabled",N="historyNavigationBackwardsEnabled";let P;const M=[];function D(U,A){if(M.includes(A))throw new Error("Cannot register the same widget multiple times");M.push(A);const k=new m.SL,R=new i.uy(C,!1).bindTo(U),$=new i.uy(S,!0).bindTo(U),J=new i.uy(N,!0).bindTo(U),Y=()=>{R.set(!0),P=A},j=()=>{R.set(!1),P===A&&(P=void 0)};return A.element===document.activeElement&&Y(),k.add(A.onDidFocus(()=>Y())),k.add(A.onDidBlur(()=>j())),k.add((0,m.OF)(()=>{M.splice(M.indexOf(A),1),j()})),{historyNavigationForwardsEnablement:$,historyNavigationBackwardsEnablement:J,dispose(){k.dispose()}}}let F=class extends f.V{constructor(A,k,R,$){super(A,k,R);const J=this._register($.createScoped(this.inputBox.element));this._register(D(J,this.inputBox))}};F=b([c(3,i.i6)],F);let B=class extends d{constructor(A,k,R,$,J=!1){super(A,k,J,R);const Y=this._register($.createScoped(this.inputBox.element));this._register(D(Y,this.inputBox))}};B=b([c(3,i.i6)],B),s.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:i.Ao.and(i.Ao.has(C),i.Ao.equals(N,!0),v.isEqualTo(!1)),primary:16,secondary:[528],handler:U=>{P==null||P.showPreviousValue()}}),s.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:i.Ao.and(i.Ao.has(C),i.Ao.equals(S,!0),v.isEqualTo(!1)),primary:18,secondary:[530],handler:U=>{P==null||P.showNextValue()}})},30840:function(Rt,Be,t){"use strict";t.d(Be,{M:function(){return f}});class f{constructor(u,_=[],p=!1){this.ctor=u,this.staticArguments=_,this.supportsDelayedInstantiation=p}}},53061:function(Rt,Be,t){"use strict";t.d(Be,{d:function(){return _},z:function(){return u}});var f=t(30840);const O=[];function u(p,V,I){V instanceof f.M||(V=new f.M(V,[],!!I)),O.push([p,V])}function _(){return O}},44333:function(Rt,Be,t){"use strict";t.d(Be,{I8:function(){return f},TG:function(){return O},yh:function(){return _}});var f;(function(p){p.serviceIds=new Map,p.DI_TARGET="$di$target",p.DI_DEPENDENCIES="$di$dependencies";function V(I){return I[p.DI_DEPENDENCIES]||[]}p.getServiceDependencies=V})(f||(f={}));const O=_("instantiationService");function u(p,V,I){V[f.DI_TARGET]===V?V[f.DI_DEPENDENCIES].push({id:p,index:I}):(V[f.DI_DEPENDENCIES]=[{id:p,index:I}],V[f.DI_TARGET]=V)}function _(p){if(f.serviceIds.has(p))return f.serviceIds.get(p);const V=function(I,L,E){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");u(V,I,E)};return V.toString=()=>p,f.serviceIds.set(p,V),V}},28596:function(Rt,Be,t){"use strict";t.d(Be,{y:function(){return f}});class f{constructor(...u){this._entries=new Map;for(const[_,p]of u)this.set(_,p)}set(u,_){const p=this._entries.get(u);return this._entries.set(u,_),p}get(u){return this._entries.get(u)}}},82123:function(Rt,Be,t){"use strict";t.d(Be,{I:function(){return u}});var f=t(56709),O=t(6325);const u={JSONContribution:"base.contributions.json"};function _(I){return I.length>0&&I.charAt(I.length-1)==="#"?I.substring(0,I.length-1):I}class p{constructor(){this._onDidChangeSchema=new f.Q5,this.schemasById={}}registerSchema(L,E){this.schemasById[_(L)]=E,this._onDidChangeSchema.fire(L)}notifySchemaChanged(L){this._onDidChangeSchema.fire(L)}}const V=new p;O.B.add(u.JSONContribution,V)},62297:function(Rt,Be,t){"use strict";t.d(Be,{d:function(){return O}});var f=t(44333);const O=(0,f.yh)("keybindingService")},47679:function(Rt,Be,t){"use strict";t.d(Be,{W:function(){return L}});var f=t(21994),O=t(11138),u=t(80793),_=t(6325),p=t(38431),V=t(17979);class I{constructor(){this._coreKeybindings=new V.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(l){if(O.OS===1){if(l&&l.win)return l.win}else if(O.OS===2){if(l&&l.mac)return l.mac}else if(l&&l.linux)return l.linux;return l}registerKeybindingRule(l){const d=I.bindToCurrentPlatform(l),i=new p.SL;if(d&&d.primary){const s=(0,f.Z9)(d.primary,O.OS);s&&i.add(this._registerDefaultKeybinding(s,l.id,l.args,l.weight,0,l.when))}if(d&&Array.isArray(d.secondary))for(let s=0,m=d.secondary.length;s<m;s++){const b=d.secondary[s],c=(0,f.Z9)(b,O.OS);c&&i.add(this._registerDefaultKeybinding(c,l.id,l.args,l.weight,-s-1,l.when))}return i}registerCommandAndKeybindingRule(l){return(0,p.F8)(this.registerKeybindingRule(l),u.P.registerCommand(l))}_registerDefaultKeybinding(l,d,i,s,m,b){const c=this._coreKeybindings.push({keybinding:l,command:d,commandArgs:i,when:b,weight1:s,weight2:m,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,p.OF)(()=>{c(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(g)),this._cachedMergedKeybindings.slice(0)}}const L=new I,E={EditorModes:"platform.keybindingsRegistry"};_.B.add(E.EditorModes,L);function g(a,l){if(a.weight1!==l.weight1)return a.weight1-l.weight1;if(a.command&&l.command){if(a.command<l.command)return-1;if(a.command>l.command)return 1}return a.weight2-l.weight2}},18680:function(Rt,Be,t){"use strict";t.d(Be,{e:function(){return O}});var f=t(44333);const O=(0,f.yh)("labelService")},48981:function(Rt,Be,t){"use strict";t.d(Be,{Lw:function(){return ai},XN:function(){return Zt},ls:function(){return Eo},ev:function(){return wi},CQ:function(){return xt},PS:function(){return ge},uJ:function(){return ae}});var f=t(34441),O=t(16308),u=t(97464),_=t(56709),p=t(38431),V=t(12591),I=t(75490);class L{get templateId(){return this.renderer.templateId}constructor(re,ke){this.renderer=re,this.modelProvider=ke}renderTemplate(re){return{data:this.renderer.renderTemplate(re),disposable:p.JT.None}}renderElement(re,ke,lt,Ge){var w;if((w=lt.disposable)===null||w===void 0||w.dispose(),!lt.data)return;const H=this.modelProvider();if(H.isResolved(re))return this.renderer.renderElement(H.get(re),re,lt.data,Ge);const ie=new u.A,De=H.resolve(re,ie.token);lt.disposable={dispose:()=>ie.cancel()},this.renderer.renderPlaceholder(re,lt.data),De.then(Fe=>this.renderer.renderElement(Fe,re,lt.data,Ge))}disposeTemplate(re){re.disposable&&(re.disposable.dispose(),re.disposable=void 0),re.data&&(this.renderer.disposeTemplate(re.data),re.data=void 0)}}class E{constructor(re,ke){this.modelProvider=re,this.accessibilityProvider=ke}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(re){const ke=this.modelProvider();return ke.isResolved(re)?this.accessibilityProvider.getAriaLabel(ke.get(re)):null}}function g($t,re){return Object.assign(Object.assign({},re),{accessibilityProvider:re.accessibilityProvider&&new E($t,re.accessibilityProvider)})}class a{constructor(re,ke,lt,Ge,w={}){const H=()=>this.model,ie=Ge.map(De=>new L(De,H));this.list=new I.aV(re,ke,lt,ie,g(H,w))}updateOptions(re){this.list.updateOptions(re)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return _.ju.map(this.list.onMouseDblClick,({element:re,index:ke,browserEvent:lt})=>({element:re===void 0?void 0:this._model.get(re),index:ke,browserEvent:lt}))}get onPointer(){return _.ju.map(this.list.onPointer,({element:re,index:ke,browserEvent:lt})=>({element:re===void 0?void 0:this._model.get(re),index:ke,browserEvent:lt}))}get onDidChangeSelection(){return _.ju.map(this.list.onDidChangeSelection,({elements:re,indexes:ke,browserEvent:lt})=>({elements:re.map(Ge=>this._model.get(Ge)),indexes:ke,browserEvent:lt}))}get model(){return this._model}set model(re){this._model=re,this.list.splice(0,this.list.length,(0,O.w6)(re.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(re=>this.model.get(re))}style(re){this.list.style(re)}dispose(){this.list.dispose()}}var l=t(66238);class d{constructor(re,ke,lt){this.columns=re,this.getColumnSize=lt,this.templateId=d.TemplateId,this.renderedTemplates=new Set;const Ge=new Map(ke.map(w=>[w.templateId,w]));this.renderers=[];for(const w of re){const H=Ge.get(w.templateId);if(!H)throw new Error(`Table cell renderer for template id ${w.templateId} not found.`);this.renderers.push(H)}}renderTemplate(re){const ke=(0,f.R3)(re,(0,f.$)(".monaco-table-tr")),lt=[],Ge=[];for(let H=0;H<this.columns.length;H++){const ie=this.renderers[H],De=(0,f.R3)(ke,(0,f.$)(".monaco-table-td",{"data-col-index":H}));De.style.width=`${this.getColumnSize(H)}px`,lt.push(De),Ge.push(ie.renderTemplate(De))}const w={container:re,cellContainers:lt,cellTemplateData:Ge};return this.renderedTemplates.add(w),w}renderElement(re,ke,lt,Ge){for(let w=0;w<this.columns.length;w++){const ie=this.columns[w].project(re);this.renderers[w].renderElement(ie,ke,lt.cellTemplateData[w],Ge)}}disposeElement(re,ke,lt,Ge){for(let w=0;w<this.columns.length;w++){const H=this.renderers[w];if(H.disposeElement){const De=this.columns[w].project(re);H.disposeElement(De,ke,lt.cellTemplateData[w],Ge)}}}disposeTemplate(re){for(let ke=0;ke<this.columns.length;ke++)this.renderers[ke].disposeTemplate(re.cellTemplateData[ke]);(0,f.PO)(re.container),this.renderedTemplates.delete(re)}layoutColumn(re,ke){for(const{cellContainers:lt}of this.renderedTemplates)lt[re].style.width=`${ke}px`}}d.TemplateId="row";function i($t){return{getHeight(re){return $t.getHeight(re)},getTemplateId(){return d.TemplateId}}}class s{get minimumSize(){var re;return(re=this.column.minimumWidth)!==null&&re!==void 0?re:120}get maximumSize(){var re;return(re=this.column.maximumWidth)!==null&&re!==void 0?re:Number.POSITIVE_INFINITY}get onDidChange(){var re;return(re=this.column.onDidChangeWidthConstraints)!==null&&re!==void 0?re:_.ju.None}constructor(re,ke){this.column=re,this.index=ke,this._onDidLayout=new _.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,f.$)(".monaco-table-th",{"data-col-index":ke,title:re.tooltip},re.label)}layout(re){this._onDidLayout.fire([this.index,re])}}class m{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}constructor(re,ke,lt,Ge,w,H){this.virtualDelegate=lt,this.domId=`table_id_${++m.InstanceCount}`,this.disposables=new p.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,f.R3)(ke,(0,f.$)(`.monaco-table.${this.domId}`));const ie=Ge.map((Qe,ft)=>new s(Qe,ft)),De={size:ie.reduce((Qe,ft)=>Qe+ft.column.weight,0),views:ie.map(Qe=>({size:Qe.column.weight,view:Qe}))};this.splitview=this.disposables.add(new l.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:De})),this.splitview.el.style.height=`${lt.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${lt.headerRowHeight}px`;const Fe=new d(Ge,w,Qe=>this.splitview.getViewSize(Qe));this.list=this.disposables.add(new I.aV(re,this.domNode,i(lt),[Fe],H)),_.ju.any(...ie.map(Qe=>Qe.onDidLayout))(([Qe,ft])=>Fe.layoutColumn(Qe,ft),null,this.disposables),this.splitview.onDidSashReset(Qe=>{const ft=Ge.reduce((Pt,Tt)=>Pt+Tt.weight,0),mt=Ge[Qe].weight/ft*this.cachedWidth;this.splitview.resizeView(Qe,mt)},null,this.disposables),this.styleElement=(0,f.dS)(this.domNode),this.style(I.uZ)}updateOptions(re){this.list.updateOptions(re)}splice(re,ke,lt=[]){this.list.splice(re,ke,lt)}getHTMLElement(){return this.domNode}style(re){const ke=[];ke.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=ke.join(`
`),this.list.style(re)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}m.InstanceCount=0;var b=t(54505),c=t(6544),v=t(67235),C=t(12049),S=t(6364),N=t(95367),P=t(23602),M;(function($t){$t[$t.Expanded=0]="Expanded",$t[$t.Collapsed=1]="Collapsed",$t[$t.PreserveOrExpanded=2]="PreserveOrExpanded",$t[$t.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(M||(M={}));var D;(function($t){$t[$t.Unknown=0]="Unknown",$t[$t.Twistie=1]="Twistie",$t[$t.Element=2]="Element",$t[$t.Filter=3]="Filter"})(D||(D={}));class F extends Error{constructor(re,ke){super(`TreeError [${re}] ${ke}`)}}class B{constructor(re){this.fn=re,this._map=new WeakMap}map(re){let ke=this._map.get(re);return ke||(ke=this.fn(re),this._map.set(re,ke)),ke}}var U=t(13484),A=t(808),k=t(49927),R=t(97865);function $($t){return typeof $t=="object"&&"visibility"in $t&&"data"in $t}function J($t){switch($t){case!0:return 1;case!1:return 0;default:return $t}}function Y($t){return typeof $t.collapsible=="boolean"}class j{constructor(re,ke,lt,Ge={}){this.user=re,this.list=ke,this.rootRef=[],this.eventBufferer=new _.E7,this._onDidChangeCollapseState=new _.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new _.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new _.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new U.vp(A.n),this.collapseByDefault=typeof Ge.collapseByDefault=="undefined"?!1:Ge.collapseByDefault,this.filter=Ge.filter,this.autoExpandSingleChildren=typeof Ge.autoExpandSingleChildren=="undefined"?!1:Ge.autoExpandSingleChildren,this.root={parent:void 0,element:lt,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(re,ke,lt=R.$.empty(),Ge={}){if(re.length===0)throw new F(this.user,"Invalid tree location");Ge.diffIdentityProvider?this.spliceSmart(Ge.diffIdentityProvider,re,ke,lt,Ge):this.spliceSimple(re,ke,lt,Ge)}spliceSmart(re,ke,lt,Ge,w,H){var ie;Ge===void 0&&(Ge=R.$.empty()),H===void 0&&(H=(ie=w.diffDepth)!==null&&ie!==void 0?ie:0);const{parentNode:De}=this.getParentNodeWithListIndex(ke);if(!De.lastDiffIds)return this.spliceSimple(ke,lt,Ge,w);const Fe=[...Ge],Qe=ke[ke.length-1],ft=new k.Hs({getElements:()=>De.lastDiffIds},{getElements:()=>[...De.children.slice(0,Qe),...Fe,...De.children.slice(Qe+lt)].map(zt=>re.getId(zt.element).toString())}).ComputeDiff(!1);if(ft.quitEarly)return De.lastDiffIds=void 0,this.spliceSimple(ke,lt,Fe,w);const mt=ke.slice(0,-1),Pt=(zt,ui,Di)=>{if(H>0)for(let Ni=0;Ni<Di;Ni++)zt--,ui--,this.spliceSmart(re,[...mt,zt,0],Number.MAX_SAFE_INTEGER,Fe[ui].children,w,H-1)};let Tt=Math.min(De.children.length,Qe+lt),Dt=Fe.length;for(const zt of ft.changes.sort((ui,Di)=>Di.originalStart-ui.originalStart))Pt(Tt,Dt,Tt-(zt.originalStart+zt.originalLength)),Tt=zt.originalStart,Dt=zt.modifiedStart-Qe,this.spliceSimple([...mt,Tt],zt.originalLength,R.$.slice(Fe,Dt,Dt+zt.modifiedLength),w);Pt(Tt,Dt,Tt)}spliceSimple(re,ke,lt=R.$.empty(),{onDidCreateNode:Ge,onDidDeleteNode:w,diffIdentityProvider:H}){const{parentNode:ie,listIndex:De,revealed:Fe,visible:Qe}=this.getParentNodeWithListIndex(re),ft=[],mt=R.$.map(lt,cn=>this.createTreeNode(cn,ie,ie.visible?1:0,Fe,ft,Ge)),Pt=re[re.length-1],Tt=ie.children.length>0;let Dt=0;for(let cn=Pt;cn>=0&&cn<ie.children.length;cn--){const $n=ie.children[cn];if($n.visible){Dt=$n.visibleChildIndex;break}}const zt=[];let ui=0,Di=0;for(const cn of mt)zt.push(cn),Di+=cn.renderNodeCount,cn.visible&&(cn.visibleChildIndex=Dt+ui++);const Ni=(0,O.db)(ie.children,Pt,ke,zt);H?ie.lastDiffIds?(0,O.db)(ie.lastDiffIds,Pt,ke,zt.map(cn=>H.getId(cn.element).toString())):ie.lastDiffIds=ie.children.map(cn=>H.getId(cn.element).toString()):ie.lastDiffIds=void 0;let Ei=0;for(const cn of Ni)cn.visible&&Ei++;if(Ei!==0)for(let cn=Pt+zt.length;cn<ie.children.length;cn++){const $n=ie.children[cn];$n.visible&&($n.visibleChildIndex-=Ei)}if(ie.visibleChildrenCount+=ui-Ei,Fe&&Qe){const cn=Ni.reduce(($n,Ps)=>$n+(Ps.visible?Ps.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(ie,Di-cn),this.list.splice(De,cn,ft)}if(Ni.length>0&&w){const cn=$n=>{w($n),$n.children.forEach(cn)};Ni.forEach(cn)}this._onDidSplice.fire({insertedNodes:zt,deletedNodes:Ni});const qi=ie.children.length>0;Tt!==qi&&this.setCollapsible(re.slice(0,-1),qi);let yn=ie;for(;yn;){if(yn.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}yn=yn.parent}}rerender(re){if(re.length===0)throw new F(this.user,"Invalid tree location");const{node:ke,listIndex:lt,revealed:Ge}=this.getTreeNodeWithListIndex(re);ke.visible&&Ge&&this.list.splice(lt,1,[ke])}has(re){return this.hasTreeNode(re)}getListIndex(re){const{listIndex:ke,visible:lt,revealed:Ge}=this.getTreeNodeWithListIndex(re);return lt&&Ge?ke:-1}getListRenderCount(re){return this.getTreeNode(re).renderNodeCount}isCollapsible(re){return this.getTreeNode(re).collapsible}setCollapsible(re,ke){const lt=this.getTreeNode(re);typeof ke=="undefined"&&(ke=!lt.collapsible);const Ge={collapsible:ke};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(re,Ge))}isCollapsed(re){return this.getTreeNode(re).collapsed}setCollapsed(re,ke,lt){const Ge=this.getTreeNode(re);typeof ke=="undefined"&&(ke=!Ge.collapsed);const w={collapsed:ke,recursive:lt||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(re,w))}_setCollapseState(re,ke){const{node:lt,listIndex:Ge,revealed:w}=this.getTreeNodeWithListIndex(re),H=this._setListNodeCollapseState(lt,Ge,w,ke);if(lt!==this.root&&this.autoExpandSingleChildren&&H&&!Y(ke)&&lt.collapsible&&!lt.collapsed&&!ke.recursive){let ie=-1;for(let De=0;De<lt.children.length;De++)if(lt.children[De].visible)if(ie>-1){ie=-1;break}else ie=De;ie>-1&&this._setCollapseState([...re,ie],ke)}return H}_setListNodeCollapseState(re,ke,lt,Ge){const w=this._setNodeCollapseState(re,Ge,!1);if(!lt||!re.visible||!w)return w;const H=re.renderNodeCount,ie=this.updateNodeAfterCollapseChange(re),De=H-(ke===-1?0:1);return this.list.splice(ke+1,De,ie.slice(1)),w}_setNodeCollapseState(re,ke,lt){let Ge;if(re===this.root?Ge=!1:(Y(ke)?(Ge=re.collapsible!==ke.collapsible,re.collapsible=ke.collapsible):re.collapsible?(Ge=re.collapsed!==ke.collapsed,re.collapsed=ke.collapsed):Ge=!1,Ge&&this._onDidChangeCollapseState.fire({node:re,deep:lt})),!Y(ke)&&ke.recursive)for(const w of re.children)Ge=this._setNodeCollapseState(w,ke,!0)||Ge;return Ge}expandTo(re){this.eventBufferer.bufferEvents(()=>{let ke=this.getTreeNode(re);for(;ke.parent;)ke=ke.parent,re=re.slice(0,re.length-1),ke.collapsed&&this._setCollapseState(re,{collapsed:!1,recursive:!1})})}refilter(){const re=this.root.renderNodeCount,ke=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,re,ke),this.refilterDelayer.cancel()}createTreeNode(re,ke,lt,Ge,w,H){const ie={parent:ke,element:re.element,children:[],depth:ke.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof re.collapsible=="boolean"?re.collapsible:typeof re.collapsed!="undefined",collapsed:typeof re.collapsed=="undefined"?this.collapseByDefault:re.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},De=this._filterNode(ie,lt);ie.visibility=De,Ge&&w.push(ie);const Fe=re.children||R.$.empty(),Qe=Ge&&De!==0&&!ie.collapsed;let ft=0,mt=1;for(const Pt of Fe){const Tt=this.createTreeNode(Pt,ie,De,Qe,w,H);ie.children.push(Tt),mt+=Tt.renderNodeCount,Tt.visible&&(Tt.visibleChildIndex=ft++)}return ie.collapsible=ie.collapsible||ie.children.length>0,ie.visibleChildrenCount=ft,ie.visible=De===2?ft>0:De===1,ie.visible?ie.collapsed||(ie.renderNodeCount=mt):(ie.renderNodeCount=0,Ge&&w.pop()),H==null||H(ie),ie}updateNodeAfterCollapseChange(re){const ke=re.renderNodeCount,lt=[];return this._updateNodeAfterCollapseChange(re,lt),this._updateAncestorsRenderNodeCount(re.parent,lt.length-ke),lt}_updateNodeAfterCollapseChange(re,ke){if(re.visible===!1)return 0;if(ke.push(re),re.renderNodeCount=1,!re.collapsed)for(const lt of re.children)re.renderNodeCount+=this._updateNodeAfterCollapseChange(lt,ke);return this._onDidChangeRenderNodeCount.fire(re),re.renderNodeCount}updateNodeAfterFilterChange(re){const ke=re.renderNodeCount,lt=[];return this._updateNodeAfterFilterChange(re,re.visible?1:0,lt),this._updateAncestorsRenderNodeCount(re.parent,lt.length-ke),lt}_updateNodeAfterFilterChange(re,ke,lt,Ge=!0){let w;if(re!==this.root){if(w=this._filterNode(re,ke),w===0)return re.visible=!1,re.renderNodeCount=0,!1;Ge&&lt.push(re)}const H=lt.length;re.renderNodeCount=re===this.root?0:1;let ie=!1;if(!re.collapsed||w!==0){let De=0;for(const Fe of re.children)ie=this._updateNodeAfterFilterChange(Fe,w,lt,Ge&&!re.collapsed)||ie,Fe.visible&&(Fe.visibleChildIndex=De++);re.visibleChildrenCount=De}else re.visibleChildrenCount=0;return re!==this.root&&(re.visible=w===2?ie:w===1,re.visibility=w),re.visible?re.collapsed||(re.renderNodeCount+=lt.length-H):(re.renderNodeCount=0,Ge&&lt.pop()),this._onDidChangeRenderNodeCount.fire(re),re.visible}_updateAncestorsRenderNodeCount(re,ke){if(ke!==0)for(;re;)re.renderNodeCount+=ke,this._onDidChangeRenderNodeCount.fire(re),re=re.parent}_filterNode(re,ke){const lt=this.filter?this.filter.filter(re.element,ke):1;return typeof lt=="boolean"?(re.filterData=void 0,lt?1:0):$(lt)?(re.filterData=lt.data,J(lt.visibility)):(re.filterData=void 0,J(lt))}hasTreeNode(re,ke=this.root){if(!re||re.length===0)return!0;const[lt,...Ge]=re;return lt<0||lt>ke.children.length?!1:this.hasTreeNode(Ge,ke.children[lt])}getTreeNode(re,ke=this.root){if(!re||re.length===0)return ke;const[lt,...Ge]=re;if(lt<0||lt>ke.children.length)throw new F(this.user,"Invalid tree location");return this.getTreeNode(Ge,ke.children[lt])}getTreeNodeWithListIndex(re){if(re.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:ke,listIndex:lt,revealed:Ge,visible:w}=this.getParentNodeWithListIndex(re),H=re[re.length-1];if(H<0||H>ke.children.length)throw new F(this.user,"Invalid tree location");const ie=ke.children[H];return{node:ie,listIndex:lt,revealed:Ge,visible:w&&ie.visible}}getParentNodeWithListIndex(re,ke=this.root,lt=0,Ge=!0,w=!0){const[H,...ie]=re;if(H<0||H>ke.children.length)throw new F(this.user,"Invalid tree location");for(let De=0;De<H;De++)lt+=ke.children[De].renderNodeCount;return Ge=Ge&&!ke.collapsed,w=w&&ke.visible,ie.length===0?{parentNode:ke,listIndex:lt,revealed:Ge,visible:w}:this.getParentNodeWithListIndex(ie,ke.children[H],lt+1,Ge,w)}getNode(re=[]){return this.getTreeNode(re)}getNodeLocation(re){const ke=[];let lt=re;for(;lt.parent;)ke.push(lt.parent.children.indexOf(lt)),lt=lt.parent;return ke.reverse()}getParentNodeLocation(re){if(re.length!==0)return re.length===1?[]:(0,O.JH)(re)[0]}getFirstElementChild(re){const ke=this.getTreeNode(re);if(ke.children.length!==0)return ke.children[0].element}}var z=t(98299),K=t(407),Z=t(8216);class fe{constructor(){this.map=new Map}add(re,ke){let lt=this.map.get(re);lt||(lt=new Set,this.map.set(re,lt)),lt.add(ke)}delete(re,ke){const lt=this.map.get(re);lt&&(lt.delete(ke),lt.size===0&&this.map.delete(re))}forEach(re,ke){const lt=this.map.get(re);lt&&lt.forEach(ke)}}var T=t(4538),Re=t(98726),Ce=t(14818),_e=t(26386),pe=function($t,re,ke,lt){function Ge(w){return w instanceof ke?w:new ke(function(H){H(w)})}return new(ke||(ke=Promise))(function(w,H){function ie(Qe){try{Fe(lt.next(Qe))}catch(ft){H(ft)}}function De(Qe){try{Fe(lt.throw(Qe))}catch(ft){H(ft)}}function Fe(Qe){Qe.done?w(Qe.value):Ge(Qe.value).then(ie,De)}Fe((lt=lt.apply($t,re||[])).next())})};class le extends N.kX{constructor(re){super(re.elements.map(ke=>ke.element)),this.data=re}}function oe($t){return $t instanceof N.kX?new le($t):$t}class he{constructor(re,ke){this.modelProvider=re,this.dnd=ke,this.autoExpandDisposable=p.JT.None}getDragURI(re){return this.dnd.getDragURI(re.element)}getDragLabel(re,ke){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(re.map(lt=>lt.element),ke)}onDragStart(re,ke){var lt,Ge;(Ge=(lt=this.dnd).onDragStart)===null||Ge===void 0||Ge.call(lt,oe(re),ke)}onDragOver(re,ke,lt,Ge,w=!0){const H=this.dnd.onDragOver(oe(re),ke&&ke.element,lt,Ge),ie=this.autoExpandNode!==ke;if(ie&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=ke),typeof ke=="undefined")return H;if(ie&&typeof H!="boolean"&&H.autoExpand&&(this.autoExpandDisposable=(0,U.Vg)(()=>{const mt=this.modelProvider(),Pt=mt.getNodeLocation(ke);mt.isCollapsed(Pt)&&mt.setCollapsed(Pt,!1),this.autoExpandNode=void 0},500)),typeof H=="boolean"||!H.accept||typeof H.bubble=="undefined"||H.feedback){if(!w){const mt=typeof H=="boolean"?H:H.accept,Pt=typeof H=="boolean"?void 0:H.effect;return{accept:mt,effect:Pt,feedback:[lt]}}return H}if(H.bubble===1){const mt=this.modelProvider(),Pt=mt.getNodeLocation(ke),Tt=mt.getParentNodeLocation(Pt),Dt=mt.getNode(Tt),zt=Tt&&mt.getListIndex(Tt);return this.onDragOver(re,Dt,zt,Ge,!1)}const De=this.modelProvider(),Fe=De.getNodeLocation(ke),Qe=De.getListIndex(Fe),ft=De.getListRenderCount(Fe);return Object.assign(Object.assign({},H),{feedback:(0,O.w6)(Qe,Qe+ft)})}drop(re,ke,lt,Ge){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(oe(re),ke&&ke.element,lt,Ge)}onDragEnd(re){var ke,lt;(lt=(ke=this.dnd).onDragEnd)===null||lt===void 0||lt.call(ke,re)}}function je($t,re){return re&&Object.assign(Object.assign({},re),{identityProvider:re.identityProvider&&{getId(ke){return re.identityProvider.getId(ke.element)}},dnd:re.dnd&&new he($t,re.dnd),multipleSelectionController:re.multipleSelectionController&&{isSelectionSingleChangeEvent(ke){return re.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},ke),{element:ke.element}))},isSelectionRangeChangeEvent(ke){return re.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},ke),{element:ke.element}))}},accessibilityProvider:re.accessibilityProvider&&Object.assign(Object.assign({},re.accessibilityProvider),{getSetSize(ke){const lt=$t(),Ge=lt.getNodeLocation(ke),w=lt.getParentNodeLocation(Ge);return lt.getNode(w).visibleChildrenCount},getPosInSet(ke){return ke.visibleChildIndex+1},isChecked:re.accessibilityProvider&&re.accessibilityProvider.isChecked?ke=>re.accessibilityProvider.isChecked(ke.element):void 0,getRole:re.accessibilityProvider&&re.accessibilityProvider.getRole?ke=>re.accessibilityProvider.getRole(ke.element):()=>"treeitem",getAriaLabel(ke){return re.accessibilityProvider.getAriaLabel(ke.element)},getWidgetAriaLabel(){return re.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:re.accessibilityProvider&&re.accessibilityProvider.getWidgetRole?()=>re.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:re.accessibilityProvider&&re.accessibilityProvider.getAriaLevel?ke=>re.accessibilityProvider.getAriaLevel(ke.element):ke=>ke.depth,getActiveDescendantId:re.accessibilityProvider.getActiveDescendantId&&(ke=>re.accessibilityProvider.getActiveDescendantId(ke.element))}),keyboardNavigationLabelProvider:re.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},re.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(ke){return re.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ke.element)}})})}class Xe{constructor(re){this.delegate=re}getHeight(re){return this.delegate.getHeight(re.element)}getTemplateId(re){return this.delegate.getTemplateId(re.element)}hasDynamicHeight(re){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(re.element)}setDynamicHeight(re,ke){var lt,Ge;(Ge=(lt=this.delegate).setDynamicHeight)===null||Ge===void 0||Ge.call(lt,re.element,ke)}}var Ve;(function($t){$t.None="none",$t.OnHover="onHover",$t.Always="always"})(Ve||(Ve={}));class se{get elements(){return this._elements}constructor(re,ke=[]){this._elements=ke,this.disposables=new p.SL,this.onDidChange=_.ju.forEach(re,lt=>this._elements=lt,this.disposables)}dispose(){this.disposables.dispose()}}class q{constructor(re,ke,lt,Ge,w,H={}){var ie;this.renderer=re,this.modelProvider=ke,this.activeNodes=Ge,this.renderedIndentGuides=w,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=q.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=p.JT.None,this.disposables=new p.SL,this.templateId=re.templateId,this.updateOptions(H),_.ju.map(lt,De=>De.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(ie=re.onDidChangeTwistieState)===null||ie===void 0||ie.call(re,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(re={}){if(typeof re.indent!="undefined"){const ke=(0,Re.uZ)(re.indent,0,40);if(ke!==this.indent){this.indent=ke;for(const[lt,Ge]of this.renderedNodes)this.renderTreeElement(lt,Ge)}}if(typeof re.renderIndentGuides!="undefined"){const ke=re.renderIndentGuides!==Ve.None;if(ke!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=ke;for(const[lt,Ge]of this.renderedNodes)this._renderIndentGuides(lt,Ge);if(this.indentGuidesDisposable.dispose(),ke){const lt=new p.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,lt),this.indentGuidesDisposable=lt,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof re.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=re.hideTwistiesOfChildlessElements)}renderTemplate(re){const ke=(0,f.R3)(re,(0,f.$)(".monaco-tl-row")),lt=(0,f.R3)(ke,(0,f.$)(".monaco-tl-indent")),Ge=(0,f.R3)(ke,(0,f.$)(".monaco-tl-twistie")),w=(0,f.R3)(ke,(0,f.$)(".monaco-tl-contents")),H=this.renderer.renderTemplate(w);return{container:re,indent:lt,twistie:Ge,indentGuidesDisposable:p.JT.None,templateData:H}}renderElement(re,ke,lt,Ge){this.renderedNodes.set(re,lt),this.renderedElements.set(re.element,re),this.renderTreeElement(re,lt),this.renderer.renderElement(re,ke,lt.templateData,Ge)}disposeElement(re,ke,lt,Ge){var w,H;lt.indentGuidesDisposable.dispose(),(H=(w=this.renderer).disposeElement)===null||H===void 0||H.call(w,re,ke,lt.templateData,Ge),typeof Ge=="number"&&(this.renderedNodes.delete(re),this.renderedElements.delete(re.element))}disposeTemplate(re){this.renderer.disposeTemplate(re.templateData)}onDidChangeTwistieState(re){const ke=this.renderedElements.get(re);ke&&this.onDidChangeNodeTwistieState(ke)}onDidChangeNodeTwistieState(re){const ke=this.renderedNodes.get(re);ke&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(re,ke))}renderTreeElement(re,ke){const lt=q.DefaultIndent+(re.depth-1)*this.indent;ke.twistie.style.paddingLeft=`${lt}px`,ke.indent.style.width=`${lt+this.indent-16}px`,re.collapsible?ke.container.setAttribute("aria-expanded",String(!re.collapsed)):ke.container.removeAttribute("aria-expanded"),ke.twistie.classList.remove(...Z.k.asClassNameArray(K.l.treeItemExpanded));let Ge=!1;this.renderer.renderTwistie&&(Ge=this.renderer.renderTwistie(re.element,ke.twistie)),re.collapsible&&(!this.hideTwistiesOfChildlessElements||re.visibleChildrenCount>0)?(Ge||ke.twistie.classList.add(...Z.k.asClassNameArray(K.l.treeItemExpanded)),ke.twistie.classList.add("collapsible"),ke.twistie.classList.toggle("collapsed",re.collapsed)):ke.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(re,ke)}_renderIndentGuides(re,ke){if((0,f.PO)(ke.indent),ke.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const lt=new p.SL,Ge=this.modelProvider();for(;;){const w=Ge.getNodeLocation(re),H=Ge.getParentNodeLocation(w);if(!H)break;const ie=Ge.getNode(H),De=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ie)&&De.classList.add("active"),ke.indent.childElementCount===0?ke.indent.appendChild(De):ke.indent.insertBefore(De,ke.indent.firstElementChild),this.renderedIndentGuides.add(ie,De),lt.add((0,p.OF)(()=>this.renderedIndentGuides.delete(ie,De))),re=ie}ke.indentGuidesDisposable=lt}_onDidChangeActiveNodes(re){if(!this.shouldRenderIndentGuides)return;const ke=new Set,lt=this.modelProvider();re.forEach(Ge=>{const w=lt.getNodeLocation(Ge);try{const H=lt.getParentNodeLocation(w);Ge.collapsible&&Ge.children.length>0&&!Ge.collapsed?ke.add(Ge):H&&ke.add(lt.getNode(H))}catch(H){}}),this.activeIndentNodes.forEach(Ge=>{ke.has(Ge)||this.renderedIndentGuides.forEach(Ge,w=>w.classList.remove("active"))}),ke.forEach(Ge=>{this.activeIndentNodes.has(Ge)||this.renderedIndentGuides.forEach(Ge,w=>w.classList.add("active"))}),this.activeIndentNodes=ke}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,p.B9)(this.disposables)}}q.DefaultIndent=8;class Ee{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(re,ke,lt){this.tree=re,this.keyboardNavigationLabelProvider=ke,this._filter=lt,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new p.SL,re.onWillRefilter(this.reset,this,this.disposables)}filter(re,ke){let lt=1;if(this._filter){const H=this._filter.filter(re,ke);if(typeof H=="boolean"?lt=H?1:0:$(H)?lt=J(H.visibility):lt=H,lt===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:T.CL.Default,visibility:lt};const Ge=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re),w=Array.isArray(Ge)?Ge:[Ge];for(const H of w){const ie=H&&H.toString();if(typeof ie=="undefined")return{data:T.CL.Default,visibility:lt};let De;if(this.tree.findMatchType===$e.Contiguous){const Fe=ie.toLowerCase().indexOf(this._lowercasePattern);if(Fe>-1){De=[Number.MAX_SAFE_INTEGER,0];for(let Qe=this._lowercasePattern.length;Qe>0;Qe--)De.push(Fe+Qe-1)}}else De=(0,T.EW)(this._pattern,this._lowercasePattern,0,ie,ie.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(De)return this._matchCount++,w.length===1?{data:De,visibility:lt}:{data:{label:ie,score:De},visibility:lt}}return this.tree.findMode===Ne.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(re):2:{data:T.CL.Default,visibility:lt}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,p.B9)(this.disposables)}}class Se extends null{constructor(re){var ke;super({icon:Codicon.listFilter,title:localize("filter","Filter"),isChecked:(ke=re.isChecked)!==null&&ke!==void 0?ke:!1,inputActiveOptionBorder:re.inputActiveOptionBorder,inputActiveOptionForeground:re.inputActiveOptionForeground,inputActiveOptionBackground:re.inputActiveOptionBackground})}}class we extends null{constructor(re){var ke;super({icon:Codicon.searchFuzzy,title:localize("fuzzySearch","Fuzzy Match"),isChecked:(ke=re.isChecked)!==null&&ke!==void 0?ke:!1,inputActiveOptionBorder:re.inputActiveOptionBorder,inputActiveOptionForeground:re.inputActiveOptionForeground,inputActiveOptionBackground:re.inputActiveOptionBackground})}}const ve={inputBoxStyles:S.g4,toggleStyles:P.D,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var Ne;(function($t){$t[$t.Highlight=0]="Highlight",$t[$t.Filter=1]="Filter"})(Ne||(Ne={}));var $e;(function($t){$t[$t.Fuzzy=0]="Fuzzy",$t[$t.Contiguous=1]="Contiguous"})($e||($e={}));class Ke extends null{set mode(re){this.modeToggle.checked=re===Ne.Filter,this.findInput.inputBox.setPlaceHolder(re===Ne.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}set matchType(re){this.matchTypeToggle.checked=re===$e.Fuzzy}constructor(re,ke,lt,Ge,w,H){var ie;super(),this.tree=ke,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new Emitter,re.appendChild(this.elements.root),this._register(toDisposable(()=>re.removeChild(this.elements.root)));const De=(ie=H==null?void 0:H.styles)!==null&&ie!==void 0?ie:ve;De.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=De.listFilterWidgetBackground),De.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${De.listFilterWidgetShadow}`),this.modeToggle=this._register(new Se(Object.assign(Object.assign({},De.toggleStyles),{isChecked:Ge===Ne.Filter}))),this.matchTypeToggle=this._register(new we(Object.assign(Object.assign({},De.toggleStyles),{isChecked:w===$e.Fuzzy}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?Ne.Filter:Ne.Highlight,this._store),this.onDidChangeMatchType=Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?$e.Fuzzy:$e.Contiguous,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,lt,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:De.inputBoxStyles,toggleStyles:De.toggleStyles,history:H==null?void 0:H.history})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=Ge;const Fe=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),Qe=this._register(Event.chain(Fe.event)).map(Tt=>new StandardKeyboardEvent(Tt)).event;this._register(Qe(Tt=>{if(Tt.equals(3)){Tt.preventDefault(),Tt.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Tt.equals(18)){Tt.preventDefault(),Tt.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Tt.equals(16)){Tt.preventDefault(),Tt.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const ft=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(ft,{icon:!0,label:!1});const mt=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(mt.event(Tt=>{const Dt=new DisposableStore,zt=Dt.add(new DomEmitter(window,"mousemove")),ui=Dt.add(new DomEmitter(window,"mouseup")),Di=this.right,Ni=Tt.pageX,Ei=this.top,qi=Tt.pageY;this.elements.grab.classList.add("grabbing");const yn=this.elements.root.style.transition;this.elements.root.style.transition="unset";const cn=$n=>{const Ps=$n.pageX-Ni;this.right=Di-Ps;const vs=$n.pageY-qi;this.top=Ei+vs,this.layout()};Dt.add(zt.event(cn)),Dt.add(ui.event($n=>{cn($n),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=yn,Dt.dispose()}))}));const Pt=this._register(Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event)).map(Tt=>new StandardKeyboardEvent(Tt)).event;this._register(Pt(Tt=>{let Dt,zt;if(Tt.keyCode===15?Dt=Number.POSITIVE_INFINITY:Tt.keyCode===17?Dt=0:Tt.keyCode===10&&(Dt=this.right===0?Number.POSITIVE_INFINITY:0),Tt.keyCode===16?zt=0:Tt.keyCode===18&&(zt=Number.POSITIVE_INFINITY),Dt!==void 0&&(Tt.preventDefault(),Tt.stopPropagation(),this.right=Dt,this.layout()),zt!==void 0){Tt.preventDefault(),Tt.stopPropagation(),this.top=zt;const ui=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=ui},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(re=this.width){this.width=re,this.right=clamp(this.right,0,Math.max(0,re-212)),this.elements.root.style.right=`${this.right}px`,this.top=clamp(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(re){this.findInput.showMessage(re)}clearMessage(){this.findInput.clearMessage()}dispose(){const re=Object.create(null,{dispose:{get:()=>super.dispose}});return pe(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),re.dispose.call(this)})}}class ze{get pattern(){return this._pattern}get mode(){return this._mode}set mode(re){re!==this._mode&&(this._mode=re,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(re))}get matchType(){return this._matchType}set matchType(re){re!==this._matchType&&(this._matchType=re,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(re))}constructor(re,ke,lt,Ge,w,H={}){var ie,De;this.tree=re,this.view=lt,this.filter=Ge,this.contextViewProvider=w,this.options=H,this._pattern="",this.width=0,this._onDidChangeMode=new _.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new _.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new _.Q5,this._onDidChangeOpenState=new _.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new p.SL,this.disposables=new p.SL,this._mode=(ie=re.options.defaultFindMode)!==null&&ie!==void 0?ie:Ne.Highlight,this._matchType=(De=re.options.defaultFindMatchType)!==null&&De!==void 0?De:$e.Fuzzy,ke.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(re={}){re.defaultFindMode!==void 0&&(this.mode=re.defaultFindMode),re.defaultFindMatchType!==void 0&&(this.matchType=re.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var re,ke,lt,Ge;const w=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&w?!((re=this.tree.options.showNotFoundMessage)!==null&&re!==void 0)||re?(ke=this.widget)===null||ke===void 0||ke.showMessage({type:2,content:(0,_e.NC)("not found","No elements found.")}):(lt=this.widget)===null||lt===void 0||lt.showMessage({type:2}):(Ge=this.widget)===null||Ge===void 0||Ge.clearMessage()}shouldAllowFocus(re){return!this.widget||!this.pattern||this._mode===Ne.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!T.CL.isDefault(re.filterData)}layout(re){var ke;this.width=re,(ke=this.widget)===null||ke===void 0||ke.layout(re)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function He($t){let re=D.Unknown;return(0,f.uU)($t.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?re=D.Twistie:(0,f.uU)($t.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?re=D.Element:(0,f.uU)($t.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(re=D.Filter),{browserEvent:$t.browserEvent,element:$t.element?$t.element.element:null,target:re}}function Le($t,re){re($t),$t.children.forEach(ke=>Le(ke,re))}class de{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(re,ke){this.getFirstViewElementWithTrait=re,this.identityProvider=ke,this.nodes=[],this._onDidChange=new _.Q5,this.onDidChange=this._onDidChange.event}set(re,ke){!(ke!=null&&ke.__forceEvent)&&(0,O.fS)(this.nodes,re)||this._set(re,!1,ke)}_set(re,ke,lt){if(this.nodes=[...re],this.elements=void 0,this._nodeSet=void 0,!ke){const Ge=this;this._onDidChange.fire({get elements(){return Ge.get()},browserEvent:lt})}}get(){return this.elements||(this.elements=this.nodes.map(re=>re.element)),[...this.elements]}getNodes(){return this.nodes}has(re){return this.nodeSet.has(re)}onDidModelSplice({insertedNodes:re,deletedNodes:ke}){if(!this.identityProvider){const De=this.createNodeSet(),Fe=Qe=>De.delete(Qe);ke.forEach(Qe=>Le(Qe,Fe)),this.set([...De.values()]);return}const lt=new Set,Ge=De=>lt.add(this.identityProvider.getId(De.element).toString());ke.forEach(De=>Le(De,Ge));const w=new Map,H=De=>w.set(this.identityProvider.getId(De.element).toString(),De);re.forEach(De=>Le(De,H));const ie=[];for(const De of this.nodes){const Fe=this.identityProvider.getId(De.element).toString();if(!lt.has(Fe))ie.push(De);else{const ft=w.get(Fe);ft&&ft.visible&&ie.push(ft)}}if(this.nodes.length>0&&ie.length===0){const De=this.getFirstViewElementWithTrait();De&&ie.push(De)}this._set(ie,!0)}createNodeSet(){const re=new Set;for(const ke of this.nodes)re.add(ke);return re}}class ee extends I.sx{constructor(re,ke){super(re),this.tree=ke}onViewPointer(re){if((0,I.iK)(re.browserEvent.target)||(0,I.cK)(re.browserEvent.target)||(0,I.hD)(re.browserEvent.target)||re.browserEvent.isHandledByList)return;const ke=re.element;if(!ke)return super.onViewPointer(re);if(this.isSelectionRangeChangeEvent(re)||this.isSelectionSingleChangeEvent(re))return super.onViewPointer(re);const lt=re.browserEvent.target,Ge=lt.classList.contains("monaco-tl-twistie")||lt.classList.contains("monaco-icon-label")&&lt.classList.contains("folder-icon")&&re.browserEvent.offsetX<16;let w=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?w=this.tree.expandOnlyOnTwistieClick(ke.element):w=!!this.tree.expandOnlyOnTwistieClick,w&&!Ge&&re.browserEvent.detail!==2)return super.onViewPointer(re);if(!this.tree.expandOnDoubleClick&&re.browserEvent.detail===2)return super.onViewPointer(re);if(ke.collapsible){const H=this.tree.getNodeLocation(ke),ie=re.browserEvent.altKey;if(this.tree.setFocus([H]),this.tree.toggleCollapsed(H,ie),w&&Ge){re.browserEvent.isHandledByList=!0;return}}super.onViewPointer(re)}onDoubleClick(re){re.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||re.browserEvent.isHandledByList||super.onDoubleClick(re)}}class ne extends I.aV{constructor(re,ke,lt,Ge,w,H,ie,De){super(re,ke,lt,Ge,De),this.focusTrait=w,this.selectionTrait=H,this.anchorTrait=ie}createMouseController(re){return new ee(this,re.tree)}splice(re,ke,lt=[]){if(super.splice(re,ke,lt),lt.length===0)return;const Ge=[],w=[];let H;lt.forEach((ie,De)=>{this.focusTrait.has(ie)&&Ge.push(re+De),this.selectionTrait.has(ie)&&w.push(re+De),this.anchorTrait.has(ie)&&(H=re+De)}),Ge.length>0&&super.setFocus((0,O.EB)([...super.getFocus(),...Ge])),w.length>0&&super.setSelection((0,O.EB)([...super.getSelection(),...w])),typeof H=="number"&&super.setAnchor(H)}setFocus(re,ke,lt=!1){super.setFocus(re,ke),lt||this.focusTrait.set(re.map(Ge=>this.element(Ge)),ke)}setSelection(re,ke,lt=!1){super.setSelection(re,ke),lt||this.selectionTrait.set(re.map(Ge=>this.element(Ge)),ke)}setAnchor(re,ke=!1){super.setAnchor(re),ke||(typeof re=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(re)]))}}class me{get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return _.ju.filter(_.ju.map(this.view.onMouseDblClick,He),re=>re.target!==D.Filter)}get onPointer(){return _.ju.map(this.view.onPointer,He)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return _.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var re,ke;return(ke=(re=this.findController)===null||re===void 0?void 0:re.mode)!==null&&ke!==void 0?ke:Ne.Highlight}set findMode(re){this.findController&&(this.findController.mode=re)}get findMatchType(){var re,ke;return(ke=(re=this.findController)===null||re===void 0?void 0:re.matchType)!==null&&ke!==void 0?ke:$e.Fuzzy}set findMatchType(re){this.findController&&(this.findController.matchType=re)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(re,ke,lt,Ge,w={}){var H;this._user=re,this._options=w,this.eventBufferer=new _.E7,this.onDidChangeFindOpenState=_.ju.None,this.disposables=new p.SL,this._onWillRefilter=new _.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new _.Q5;const ie=new Xe(lt),De=new _.ZD,Fe=new _.ZD,Qe=this.disposables.add(new se(Fe.event)),ft=new fe;this.renderers=Ge.map(Tt=>new q(Tt,()=>this.model,De.event,Qe,ft,w));for(const Tt of this.renderers)this.disposables.add(Tt);let mt;w.keyboardNavigationLabelProvider&&(mt=new Ee(this,w.keyboardNavigationLabelProvider,w.filter),w=Object.assign(Object.assign({},w),{filter:mt}),this.disposables.add(mt)),this.focus=new de(()=>this.view.getFocusedElements()[0],w.identityProvider),this.selection=new de(()=>this.view.getSelectedElements()[0],w.identityProvider),this.anchor=new de(()=>this.view.getAnchorElement(),w.identityProvider),this.view=new ne(re,ke,ie,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},je(()=>this.model,w)),{tree:this})),this.model=this.createModel(re,this.view,w),De.input=this.model.onDidChangeCollapseState;const Pt=_.ju.forEach(this.model.onDidSplice,Tt=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Tt),this.selection.onDidModelSplice(Tt)})},this.disposables);if(Pt(()=>null,null,this.disposables),Fe.input=_.ju.chain(_.ju.any(Pt,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Tt=new Set;for(const Dt of this.focus.getNodes())Tt.add(Dt);for(const Dt of this.selection.getNodes())Tt.add(Dt);return[...Tt.values()]}).event,w.keyboardSupport!==!1){const Tt=_.ju.chain(this.view.onKeyDown).filter(Dt=>!(0,I.cK)(Dt.target)).map(Dt=>new c.y(Dt));Tt.filter(Dt=>Dt.keyCode===15).on(this.onLeftArrow,this,this.disposables),Tt.filter(Dt=>Dt.keyCode===17).on(this.onRightArrow,this,this.disposables),Tt.filter(Dt=>Dt.keyCode===10).on(this.onSpace,this,this.disposables)}if((!((H=w.findWidgetEnabled)!==null&&H!==void 0)||H)&&w.keyboardNavigationLabelProvider&&w.contextViewProvider){const Tt=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new ze(this,this.model,this.view,mt,w.contextViewProvider,Tt),this.focusNavigationFilter=Dt=>this.findController.shouldAllowFocus(Dt),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=_.ju.None,this.onDidChangeFindMatchType=_.ju.None;this.styleElement=(0,f.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ve.Always)}updateOptions(re={}){var ke;this._options=Object.assign(Object.assign({},this._options),re);for(const lt of this.renderers)lt.updateOptions(re);this.view.updateOptions(this._options),(ke=this.findController)===null||ke===void 0||ke.updateOptions(re),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ve.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(re){this.view.scrollTop=re}domFocus(){this.view.domFocus()}layout(re,ke){var lt;this.view.layout(re,ke),(0,Ce.hj)(ke)&&((lt=this.findController)===null||lt===void 0||lt.layout(ke))}style(re){const ke=`.${this.view.domId}`,lt=[];re.treeIndentGuidesStroke&&(lt.push(`.monaco-list${ke}:hover .monaco-tl-indent > .indent-guide, .monaco-list${ke}.always .monaco-tl-indent > .indent-guide  { border-color: ${re.treeInactiveIndentGuidesStroke}; }`),lt.push(`.monaco-list${ke} .monaco-tl-indent > .indent-guide.active { border-color: ${re.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=lt.join(`
`),this.view.style(re)}getParentElement(re){const ke=this.model.getParentNodeLocation(re);return this.model.getNode(ke).element}getFirstElementChild(re){return this.model.getFirstElementChild(re)}getNode(re){return this.model.getNode(re)}getNodeLocation(re){return this.model.getNodeLocation(re)}collapse(re,ke=!1){return this.model.setCollapsed(re,!0,ke)}expand(re,ke=!1){return this.model.setCollapsed(re,!1,ke)}toggleCollapsed(re,ke=!1){return this.model.setCollapsed(re,void 0,ke)}isCollapsible(re){return this.model.isCollapsible(re)}setCollapsible(re,ke){return this.model.setCollapsible(re,ke)}isCollapsed(re){return this.model.isCollapsed(re)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(re,ke){const lt=re.map(w=>this.model.getNode(w));this.selection.set(lt,ke);const Ge=re.map(w=>this.model.getListIndex(w)).filter(w=>w>-1);this.view.setSelection(Ge,ke,!0)}getSelection(){return this.selection.get()}setFocus(re,ke){const lt=re.map(w=>this.model.getNode(w));this.focus.set(lt,ke);const Ge=re.map(w=>this.model.getListIndex(w)).filter(w=>w>-1);this.view.setFocus(Ge,ke,!0)}getFocus(){return this.focus.get()}reveal(re,ke){this.model.expandTo(re);const lt=this.model.getListIndex(re);lt!==-1&&this.view.reveal(lt,ke)}onLeftArrow(re){re.preventDefault(),re.stopPropagation();const ke=this.view.getFocusedElements();if(ke.length===0)return;const lt=ke[0],Ge=this.model.getNodeLocation(lt);if(!this.model.setCollapsed(Ge,!0)){const H=this.model.getParentNodeLocation(Ge);if(!H)return;const ie=this.model.getListIndex(H);this.view.reveal(ie),this.view.setFocus([ie])}}onRightArrow(re){re.preventDefault(),re.stopPropagation();const ke=this.view.getFocusedElements();if(ke.length===0)return;const lt=ke[0],Ge=this.model.getNodeLocation(lt);if(!this.model.setCollapsed(Ge,!1)){if(!lt.children.some(De=>De.visible))return;const[H]=this.view.getFocus(),ie=H+1;this.view.reveal(ie),this.view.setFocus([ie])}}onSpace(re){re.preventDefault(),re.stopPropagation();const ke=this.view.getFocusedElements();if(ke.length===0)return;const lt=ke[0],Ge=this.model.getNodeLocation(lt),w=re.browserEvent.altKey;this.model.setCollapsed(Ge,void 0,w)}dispose(){(0,p.B9)(this.disposables),this.view.dispose()}}class ue{constructor(re,ke,lt={}){this.user=re,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new j(re,ke,null,lt),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,lt.sorter&&(this.sorter={compare(Ge,w){return lt.sorter.compare(Ge.element,w.element)}}),this.identityProvider=lt.identityProvider}setChildren(re,ke=R.$.empty(),lt={}){const Ge=this.getElementLocation(re);this._setChildren(Ge,this.preserveCollapseState(ke),lt)}_setChildren(re,ke=R.$.empty(),lt){const Ge=new Set,w=new Set,H=De=>{var Fe;if(De.element===null)return;const Qe=De;if(Ge.add(Qe.element),this.nodes.set(Qe.element,Qe),this.identityProvider){const ft=this.identityProvider.getId(Qe.element).toString();w.add(ft),this.nodesByIdentity.set(ft,Qe)}(Fe=lt.onDidCreateNode)===null||Fe===void 0||Fe.call(lt,Qe)},ie=De=>{var Fe;if(De.element===null)return;const Qe=De;if(Ge.has(Qe.element)||this.nodes.delete(Qe.element),this.identityProvider){const ft=this.identityProvider.getId(Qe.element).toString();w.has(ft)||this.nodesByIdentity.delete(ft)}(Fe=lt.onDidDeleteNode)===null||Fe===void 0||Fe.call(lt,Qe)};this.model.splice([...re,0],Number.MAX_VALUE,ke,Object.assign(Object.assign({},lt),{onDidCreateNode:H,onDidDeleteNode:ie}))}preserveCollapseState(re=R.$.empty()){return this.sorter&&(re=[...re].sort(this.sorter.compare.bind(this.sorter))),R.$.map(re,ke=>{let lt=this.nodes.get(ke.element);if(!lt&&this.identityProvider){const H=this.identityProvider.getId(ke.element).toString();lt=this.nodesByIdentity.get(H)}if(!lt){let H;return typeof ke.collapsed=="undefined"?H=void 0:ke.collapsed===M.Collapsed||ke.collapsed===M.PreserveOrCollapsed?H=!0:ke.collapsed===M.Expanded||ke.collapsed===M.PreserveOrExpanded?H=!1:H=!!ke.collapsed,Object.assign(Object.assign({},ke),{children:this.preserveCollapseState(ke.children),collapsed:H})}const Ge=typeof ke.collapsible=="boolean"?ke.collapsible:lt.collapsible;let w;return typeof ke.collapsed=="undefined"||ke.collapsed===M.PreserveOrCollapsed||ke.collapsed===M.PreserveOrExpanded?w=lt.collapsed:ke.collapsed===M.Collapsed?w=!0:ke.collapsed===M.Expanded?w=!1:w=!!ke.collapsed,Object.assign(Object.assign({},ke),{collapsible:Ge,collapsed:w,children:this.preserveCollapseState(ke.children)})})}rerender(re){const ke=this.getElementLocation(re);this.model.rerender(ke)}getFirstElementChild(re=null){const ke=this.getElementLocation(re);return this.model.getFirstElementChild(ke)}has(re){return this.nodes.has(re)}getListIndex(re){const ke=this.getElementLocation(re);return this.model.getListIndex(ke)}getListRenderCount(re){const ke=this.getElementLocation(re);return this.model.getListRenderCount(ke)}isCollapsible(re){const ke=this.getElementLocation(re);return this.model.isCollapsible(ke)}setCollapsible(re,ke){const lt=this.getElementLocation(re);return this.model.setCollapsible(lt,ke)}isCollapsed(re){const ke=this.getElementLocation(re);return this.model.isCollapsed(ke)}setCollapsed(re,ke,lt){const Ge=this.getElementLocation(re);return this.model.setCollapsed(Ge,ke,lt)}expandTo(re){const ke=this.getElementLocation(re);this.model.expandTo(ke)}refilter(){this.model.refilter()}getNode(re=null){if(re===null)return this.model.getNode(this.model.rootRef);const ke=this.nodes.get(re);if(!ke)throw new F(this.user,`Tree element not found: ${re}`);return ke}getNodeLocation(re){return re.element}getParentNodeLocation(re){if(re===null)throw new F(this.user,"Invalid getParentNodeLocation call");const ke=this.nodes.get(re);if(!ke)throw new F(this.user,`Tree element not found: ${re}`);const lt=this.model.getNodeLocation(ke),Ge=this.model.getParentNodeLocation(lt);return this.model.getNode(Ge).element}getElementLocation(re){if(re===null)return[];const ke=this.nodes.get(re);if(!ke)throw new F(this.user,`Tree element not found: ${re}`);return this.model.getNodeLocation(ke)}}function Pe($t){const re=[$t.element],ke=$t.incompressible||!1;return{element:{elements:re,incompressible:ke},children:R.$.map(R.$.from($t.children),Pe),collapsible:$t.collapsible,collapsed:$t.collapsed}}function ot($t){const re=[$t.element],ke=$t.incompressible||!1;let lt,Ge;for(;[Ge,lt]=R.$.consume(R.$.from($t.children),2),!(Ge.length!==1||Ge[0].incompressible);)$t=Ge[0],re.push($t.element);return{element:{elements:re,incompressible:ke},children:R.$.map(R.$.concat(Ge,lt),ot),collapsible:$t.collapsible,collapsed:$t.collapsed}}function gt($t,re=0){let ke;return re<$t.element.elements.length-1?ke=[gt($t,re+1)]:ke=R.$.map(R.$.from($t.children),lt=>gt(lt,0)),re===0&&$t.element.incompressible?{element:$t.element.elements[re],children:ke,incompressible:!0,collapsible:$t.collapsible,collapsed:$t.collapsed}:{element:$t.element.elements[re],children:ke,collapsible:$t.collapsible,collapsed:$t.collapsed}}function nt($t){return gt($t,0)}function tt($t,re,ke){return $t.element===re?Object.assign(Object.assign({},$t),{children:ke}):Object.assign(Object.assign({},$t),{children:R.$.map(R.$.from($t.children),lt=>tt(lt,re,ke))})}const st=$t=>({getId(re){return re.elements.map(ke=>$t.getId(ke).toString()).join("\0")}});class It{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(re,ke,lt={}){this.user=re,this.rootRef=null,this.nodes=new Map,this.model=new ue(re,ke,lt),this.enabled=typeof lt.compressionEnabled=="undefined"?!0:lt.compressionEnabled,this.identityProvider=lt.identityProvider}setChildren(re,ke=R.$.empty(),lt){const Ge=lt.diffIdentityProvider&&st(lt.diffIdentityProvider);if(re===null){const Pt=R.$.map(ke,this.enabled?ot:Pe);this._setChildren(null,Pt,{diffIdentityProvider:Ge,diffDepth:1/0});return}const w=this.nodes.get(re);if(!w)throw new F(this.user,"Unknown compressed tree node");const H=this.model.getNode(w),ie=this.model.getParentNodeLocation(w),De=this.model.getNode(ie),Fe=nt(H),Qe=tt(Fe,re,ke),ft=(this.enabled?ot:Pe)(Qe),mt=De.children.map(Pt=>Pt===H?ft:Pt);this._setChildren(De.element,mt,{diffIdentityProvider:Ge,diffDepth:H.depth-De.depth})}setCompressionEnabled(re){if(re===this.enabled)return;this.enabled=re;const lt=this.model.getNode().children,Ge=R.$.map(lt,nt),w=R.$.map(Ge,re?ot:Pe);this._setChildren(null,w,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(re,ke,lt){const Ge=new Set,w=ie=>{for(const De of ie.element.elements)Ge.add(De),this.nodes.set(De,ie.element)},H=ie=>{for(const De of ie.element.elements)Ge.has(De)||this.nodes.delete(De)};this.model.setChildren(re,ke,Object.assign(Object.assign({},lt),{onDidCreateNode:w,onDidDeleteNode:H}))}has(re){return this.nodes.has(re)}getListIndex(re){const ke=this.getCompressedNode(re);return this.model.getListIndex(ke)}getListRenderCount(re){const ke=this.getCompressedNode(re);return this.model.getListRenderCount(ke)}getNode(re){if(typeof re=="undefined")return this.model.getNode();const ke=this.getCompressedNode(re);return this.model.getNode(ke)}getNodeLocation(re){const ke=this.model.getNodeLocation(re);return ke===null?null:ke.elements[ke.elements.length-1]}getParentNodeLocation(re){const ke=this.getCompressedNode(re),lt=this.model.getParentNodeLocation(ke);return lt===null?null:lt.elements[lt.elements.length-1]}getFirstElementChild(re){const ke=this.getCompressedNode(re);return this.model.getFirstElementChild(ke)}isCollapsible(re){const ke=this.getCompressedNode(re);return this.model.isCollapsible(ke)}setCollapsible(re,ke){const lt=this.getCompressedNode(re);return this.model.setCollapsible(lt,ke)}isCollapsed(re){const ke=this.getCompressedNode(re);return this.model.isCollapsed(ke)}setCollapsed(re,ke,lt){const Ge=this.getCompressedNode(re);return this.model.setCollapsed(Ge,ke,lt)}expandTo(re){const ke=this.getCompressedNode(re);this.model.expandTo(ke)}rerender(re){const ke=this.getCompressedNode(re);this.model.rerender(ke)}refilter(){this.model.refilter()}getCompressedNode(re){if(re===null)return null;const ke=this.nodes.get(re);if(!ke)throw new F(this.user,`Tree element not found: ${re}`);return ke}}const Wt=$t=>$t[$t.length-1];class Vt{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(re=>new Vt(this.unwrapper,re))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(re,ke){this.unwrapper=re,this.node=ke}}function Ct($t,re){return{splice(ke,lt,Ge){re.splice(ke,lt,Ge.map(w=>$t.map(w)))},updateElementHeight(ke,lt){re.updateElementHeight(ke,lt)}}}function gi($t,re){return Object.assign(Object.assign({},re),{identityProvider:re.identityProvider&&{getId(ke){return re.identityProvider.getId($t(ke))}},sorter:re.sorter&&{compare(ke,lt){return re.sorter.compare(ke.elements[0],lt.elements[0])}},filter:re.filter&&{filter(ke,lt){return re.filter.filter($t(ke),lt)}}})}class jt{get onDidSplice(){return _.ju.map(this.model.onDidSplice,({insertedNodes:re,deletedNodes:ke})=>({insertedNodes:re.map(lt=>this.nodeMapper.map(lt)),deletedNodes:ke.map(lt=>this.nodeMapper.map(lt))}))}get onDidChangeCollapseState(){return _.ju.map(this.model.onDidChangeCollapseState,({node:re,deep:ke})=>({node:this.nodeMapper.map(re),deep:ke}))}get onDidChangeRenderNodeCount(){return _.ju.map(this.model.onDidChangeRenderNodeCount,re=>this.nodeMapper.map(re))}constructor(re,ke,lt={}){this.rootRef=null,this.elementMapper=lt.elementMapper||Wt;const Ge=w=>this.elementMapper(w.elements);this.nodeMapper=new B(w=>new Vt(Ge,w)),this.model=new It(re,Ct(this.nodeMapper,ke),gi(Ge,lt))}setChildren(re,ke=R.$.empty(),lt={}){this.model.setChildren(re,ke,lt)}setCompressionEnabled(re){this.model.setCompressionEnabled(re)}has(re){return this.model.has(re)}getListIndex(re){return this.model.getListIndex(re)}getListRenderCount(re){return this.model.getListRenderCount(re)}getNode(re){return this.nodeMapper.map(this.model.getNode(re))}getNodeLocation(re){return re.element}getParentNodeLocation(re){return this.model.getParentNodeLocation(re)}getFirstElementChild(re){const ke=this.model.getFirstElementChild(re);return ke===null||typeof ke=="undefined"?ke:this.elementMapper(ke.elements)}isCollapsible(re){return this.model.isCollapsible(re)}setCollapsible(re,ke){return this.model.setCollapsible(re,ke)}isCollapsed(re){return this.model.isCollapsed(re)}setCollapsed(re,ke,lt){return this.model.setCollapsed(re,ke,lt)}expandTo(re){return this.model.expandTo(re)}rerender(re){return this.model.rerender(re)}refilter(){return this.model.refilter()}getCompressedTreeNode(re=null){return this.model.getNode(re)}}var Ye=t(4848),ut=function($t,re,ke,lt){var Ge=arguments.length,w=Ge<3?re:lt===null?lt=Object.getOwnPropertyDescriptor(re,ke):lt,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate($t,re,ke,lt);else for(var ie=$t.length-1;ie>=0;ie--)(H=$t[ie])&&(w=(Ge<3?H(w):Ge>3?H(re,ke,w):H(re,ke))||w);return Ge>3&&w&&Object.defineProperty(re,ke,w),w};class dt extends me{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(re,ke,lt,Ge,w={}){super(re,ke,lt,Ge,w),this.user=re}setChildren(re,ke=R.$.empty(),lt){this.model.setChildren(re,ke,lt)}rerender(re){if(re===void 0){this.view.rerender();return}this.model.rerender(re)}hasElement(re){return this.model.has(re)}createModel(re,ke,lt){return new ue(re,ke,lt)}}class bt{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(re,ke){this._compressedTreeNodeProvider=re,this.renderer=ke,this.templateId=ke.templateId,ke.onDidChangeTwistieState&&(this.onDidChangeTwistieState=ke.onDidChangeTwistieState)}renderTemplate(re){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(re)}}renderElement(re,ke,lt,Ge){const w=this.compressedTreeNodeProvider.getCompressedTreeNode(re.element);w.element.elements.length===1?(lt.compressedTreeNode=void 0,this.renderer.renderElement(re,ke,lt.data,Ge)):(lt.compressedTreeNode=w,this.renderer.renderCompressedElements(w,ke,lt.data,Ge))}disposeElement(re,ke,lt,Ge){var w,H,ie,De;lt.compressedTreeNode?(H=(w=this.renderer).disposeCompressedElements)===null||H===void 0||H.call(w,lt.compressedTreeNode,ke,lt.data,Ge):(De=(ie=this.renderer).disposeElement)===null||De===void 0||De.call(ie,re,ke,lt.data,Ge)}disposeTemplate(re){this.renderer.disposeTemplate(re.data)}renderTwistie(re,ke){return this.renderer.renderTwistie?this.renderer.renderTwistie(re,ke):!1}}ut([Ye.H],bt.prototype,"compressedTreeNodeProvider",null);function Mt($t,re){return re&&Object.assign(Object.assign({},re),{keyboardNavigationLabelProvider:re.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(ke){let lt;try{lt=$t().getCompressedTreeNode(ke)}catch(Ge){return re.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ke)}return lt.element.elements.length===1?re.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ke):re.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(lt.element.elements)}}})}class ni extends dt{constructor(re,ke,lt,Ge,w={}){const H=()=>this,ie=Ge.map(De=>new bt(H,De));super(re,ke,lt,ie,Mt(H,w))}setChildren(re,ke=R.$.empty(),lt){this.model.setChildren(re,ke,lt)}createModel(re,ke,lt){return new jt(re,ke,lt)}updateOptions(re={}){super.updateOptions(re),typeof re.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(re.compressionEnabled)}getCompressedTreeNode(re=null){return this.model.getCompressedTreeNode(re)}}var qt=t(20996),yt=function($t,re,ke,lt){function Ge(w){return w instanceof ke?w:new ke(function(H){H(w)})}return new(ke||(ke=Promise))(function(w,H){function ie(Qe){try{Fe(lt.next(Qe))}catch(ft){H(ft)}}function De(Qe){try{Fe(lt.throw(Qe))}catch(ft){H(ft)}}function Fe(Qe){Qe.done?w(Qe.value):Ge(Qe.value).then(ie,De)}Fe((lt=lt.apply($t,re||[])).next())})};function At($t){return Object.assign(Object.assign({},$t),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Qt($t,re){return re.parent?re.parent===$t?!0:Qt($t,re.parent):!1}function si($t,re){return $t===re||Qt($t,re)||Qt(re,$t)}class oi{get element(){return this.node.element.element}get children(){return this.node.children.map(re=>new oi(re))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(re){this.node=re}}class mi{constructor(re,ke,lt){this.renderer=re,this.nodeMapper=ke,this.onDidChangeTwistieState=lt,this.renderedNodes=new Map,this.templateId=re.templateId}renderTemplate(re){return{templateData:this.renderer.renderTemplate(re)}}renderElement(re,ke,lt,Ge){this.renderer.renderElement(this.nodeMapper.map(re),ke,lt.templateData,Ge)}renderTwistie(re,ke){return re.slow?(ke.classList.add(...Z.k.asClassNameArray(K.l.treeItemLoading)),!0):(ke.classList.remove(...Z.k.asClassNameArray(K.l.treeItemLoading)),!1)}disposeElement(re,ke,lt,Ge){var w,H;(H=(w=this.renderer).disposeElement)===null||H===void 0||H.call(w,this.nodeMapper.map(re),ke,lt.templateData,Ge)}disposeTemplate(re){this.renderer.disposeTemplate(re.templateData)}dispose(){this.renderedNodes.clear()}}function bi($t){return{browserEvent:$t.browserEvent,elements:$t.elements.map(re=>re.element)}}function Ai($t){return{browserEvent:$t.browserEvent,element:$t.element&&$t.element.element,target:$t.target}}class $i extends N.kX{constructor(re){super(re.elements.map(ke=>ke.element)),this.data=re}}function Vi($t){return $t instanceof N.kX?new $i($t):$t}class Qi{constructor(re){this.dnd=re}getDragURI(re){return this.dnd.getDragURI(re.element)}getDragLabel(re,ke){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(re.map(lt=>lt.element),ke)}onDragStart(re,ke){var lt,Ge;(Ge=(lt=this.dnd).onDragStart)===null||Ge===void 0||Ge.call(lt,Vi(re),ke)}onDragOver(re,ke,lt,Ge,w=!0){return this.dnd.onDragOver(Vi(re),ke&&ke.element,lt,Ge)}drop(re,ke,lt,Ge){this.dnd.drop(Vi(re),ke&&ke.element,lt,Ge)}onDragEnd(re){var ke,lt;(lt=(ke=this.dnd).onDragEnd)===null||lt===void 0||lt.call(ke,re)}}function fn($t){return $t&&Object.assign(Object.assign({},$t),{collapseByDefault:!0,identityProvider:$t.identityProvider&&{getId(re){return $t.identityProvider.getId(re.element)}},dnd:$t.dnd&&new Qi($t.dnd),multipleSelectionController:$t.multipleSelectionController&&{isSelectionSingleChangeEvent(re){return $t.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},re),{element:re.element}))},isSelectionRangeChangeEvent(re){return $t.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},re),{element:re.element}))}},accessibilityProvider:$t.accessibilityProvider&&Object.assign(Object.assign({},$t.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:$t.accessibilityProvider.getRole?re=>$t.accessibilityProvider.getRole(re.element):()=>"treeitem",isChecked:$t.accessibilityProvider.isChecked?re=>{var ke;return!!(!((ke=$t.accessibilityProvider)===null||ke===void 0)&&ke.isChecked(re.element))}:void 0,getAriaLabel(re){return $t.accessibilityProvider.getAriaLabel(re.element)},getWidgetAriaLabel(){return $t.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:$t.accessibilityProvider.getWidgetRole?()=>$t.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:$t.accessibilityProvider.getAriaLevel&&(re=>$t.accessibilityProvider.getAriaLevel(re.element)),getActiveDescendantId:$t.accessibilityProvider.getActiveDescendantId&&(re=>$t.accessibilityProvider.getActiveDescendantId(re.element))}),filter:$t.filter&&{filter(re,ke){return $t.filter.filter(re.element,ke)}},keyboardNavigationLabelProvider:$t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},$t.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(re){return $t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof $t.expandOnlyOnTwistieClick=="undefined"?void 0:typeof $t.expandOnlyOnTwistieClick!="function"?$t.expandOnlyOnTwistieClick:re=>$t.expandOnlyOnTwistieClick(re.element),defaultFindVisibility:re=>re.hasChildren&&re.stale?1:typeof $t.defaultFindVisibility=="number"?$t.defaultFindVisibility:typeof $t.defaultFindVisibility=="undefined"?2:$t.defaultFindVisibility(re.element)})}function Yi($t,re){re($t),$t.children.forEach(ke=>Yi(ke,re))}class Pi{get onDidChangeFocus(){return _.ju.map(this.tree.onDidChangeFocus,bi)}get onDidChangeSelection(){return _.ju.map(this.tree.onDidChangeSelection,bi)}get onMouseDblClick(){return _.ju.map(this.tree.onMouseDblClick,Ai)}get onPointer(){return _.ju.map(this.tree.onPointer,Ai)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(re,ke,lt,Ge,w,H={}){this.user=re,this.dataSource=w,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new _.Q5,this._onDidChangeNodeSlowState=new _.Q5,this.nodeMapper=new B(ie=>new oi(ie)),this.disposables=new p.SL,this.identityProvider=H.identityProvider,this.autoExpandSingleChildren=typeof H.autoExpandSingleChildren=="undefined"?!1:H.autoExpandSingleChildren,this.sorter=H.sorter,this.collapseByDefault=H.collapseByDefault,this.tree=this.createTree(re,ke,lt,Ge,H),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=At({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(re,ke,lt,Ge,w){const H=new Xe(lt),ie=Ge.map(Fe=>new mi(Fe,this.nodeMapper,this._onDidChangeNodeSlowState.event)),De=fn(w)||{};return new dt(re,ke,H,ie,De)}updateOptions(re={}){this.tree.updateOptions(re)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(re){this.tree.scrollTop=re}domFocus(){this.tree.domFocus()}layout(re,ke){this.tree.layout(re,ke)}style(re){this.tree.style(re)}getInput(){return this.root.element}setInput(re,ke){return yt(this,void 0,void 0,function*(){this.refreshPromises.forEach(Ge=>Ge.cancel()),this.refreshPromises.clear(),this.root.element=re;const lt=ke&&{viewState:ke,focus:[],selection:[]};yield this._updateChildren(re,!0,!1,lt),lt&&(this.tree.setFocus(lt.focus),this.tree.setSelection(lt.selection)),ke&&typeof ke.scrollTop=="number"&&(this.scrollTop=ke.scrollTop)})}_updateChildren(re=this.root.element,ke=!0,lt=!1,Ge,w){return yt(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new F(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield _.ju.toPromise(this._onDidRender.event));const H=this.getDataNode(re);if(yield this.refreshAndRenderNode(H,ke,Ge,w),lt)try{this.tree.rerender(H)}catch(ie){}})}rerender(re){if(re===void 0||re===this.root.element){this.tree.rerender();return}const ke=this.getDataNode(re);this.tree.rerender(ke)}getNode(re=this.root.element){const ke=this.getDataNode(re),lt=this.tree.getNode(ke===this.root?null:ke);return this.nodeMapper.map(lt)}collapse(re,ke=!1){const lt=this.getDataNode(re);return this.tree.collapse(lt===this.root?null:lt,ke)}expand(re,ke=!1){return yt(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new F(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield _.ju.toPromise(this._onDidRender.event));const lt=this.getDataNode(re);if(this.tree.hasElement(lt)&&!this.tree.isCollapsible(lt)||(lt.refreshPromise&&(yield this.root.refreshPromise,yield _.ju.toPromise(this._onDidRender.event)),lt!==this.root&&!lt.refreshPromise&&!this.tree.isCollapsed(lt)))return!1;const Ge=this.tree.expand(lt===this.root?null:lt,ke);return lt.refreshPromise&&(yield this.root.refreshPromise,yield _.ju.toPromise(this._onDidRender.event)),Ge})}setSelection(re,ke){const lt=re.map(Ge=>this.getDataNode(Ge));this.tree.setSelection(lt,ke)}getSelection(){return this.tree.getSelection().map(ke=>ke.element)}setFocus(re,ke){const lt=re.map(Ge=>this.getDataNode(Ge));this.tree.setFocus(lt,ke)}getFocus(){return this.tree.getFocus().map(ke=>ke.element)}reveal(re,ke){this.tree.reveal(this.getDataNode(re),ke)}getParentElement(re){const ke=this.tree.getParentElement(this.getDataNode(re));return ke&&ke.element}getFirstElementChild(re=this.root.element){const ke=this.getDataNode(re),lt=this.tree.getFirstElementChild(ke===this.root?null:ke);return lt&&lt.element}getDataNode(re){const ke=this.nodes.get(re===this.root.element?null:re);if(!ke)throw new F(this.user,`Data tree node not found: ${re}`);return ke}refreshAndRenderNode(re,ke,lt,Ge){return yt(this,void 0,void 0,function*(){yield this.refreshNode(re,ke,lt),this.render(re,lt,Ge)})}refreshNode(re,ke,lt){return yt(this,void 0,void 0,function*(){let Ge;if(this.subTreeRefreshPromises.forEach((w,H)=>{!Ge&&si(H,re)&&(Ge=w.then(()=>this.refreshNode(re,ke,lt)))}),Ge)return Ge;if(re!==this.root&&this.tree.getNode(re).collapsed){re.hasChildren=!!this.dataSource.hasChildren(re.element),re.stale=!0;return}return this.doRefreshSubTree(re,ke,lt)})}doRefreshSubTree(re,ke,lt){return yt(this,void 0,void 0,function*(){let Ge;re.refreshPromise=new Promise(w=>Ge=w),this.subTreeRefreshPromises.set(re,re.refreshPromise),re.refreshPromise.finally(()=>{re.refreshPromise=void 0,this.subTreeRefreshPromises.delete(re)});try{const w=yield this.doRefreshNode(re,ke,lt);re.stale=!1,yield U.jT.settled(w.map(H=>this.doRefreshSubTree(H,ke,lt)))}finally{Ge()}})}doRefreshNode(re,ke,lt){return yt(this,void 0,void 0,function*(){re.hasChildren=!!this.dataSource.hasChildren(re.element);let Ge;if(!re.hasChildren)Ge=Promise.resolve(R.$.empty());else{const w=this.doGetChildren(re);if((0,Ce.TW)(w))Ge=Promise.resolve(w);else{const H=(0,U.Vs)(800);H.then(()=>{re.slow=!0,this._onDidChangeNodeSlowState.fire(re)},ie=>null),Ge=w.finally(()=>H.cancel())}}try{const w=yield Ge;return this.setChildren(re,w,ke,lt)}catch(w){if(re!==this.root&&this.tree.hasElement(re)&&this.tree.collapse(re),(0,qt.n2)(w))return[];throw w}finally{re.slow&&(re.slow=!1,this._onDidChangeNodeSlowState.fire(re))}})}doGetChildren(re){let ke=this.refreshPromises.get(re);if(ke)return ke;const lt=this.dataSource.getChildren(re.element);return(0,Ce.TW)(lt)?this.processChildren(lt):(ke=(0,U.PG)(()=>yt(this,void 0,void 0,function*(){return this.processChildren(yield lt)})),this.refreshPromises.set(re,ke),ke.finally(()=>{this.refreshPromises.delete(re)}))}_onDidChangeCollapseState({node:re,deep:ke}){re.element!==null&&!re.collapsed&&re.element.stale&&(ke?this.collapse(re.element.element):this.refreshAndRenderNode(re.element,!1).catch(qt.dL))}setChildren(re,ke,lt,Ge){const w=[...ke];if(re.children.length===0&&w.length===0)return[];const H=new Map,ie=new Map;for(const Qe of re.children)if(H.set(Qe.element,Qe),this.identityProvider){const ft=this.tree.isCollapsed(Qe);ie.set(Qe.id,{node:Qe,collapsed:ft})}const De=[],Fe=w.map(Qe=>{const ft=!!this.dataSource.hasChildren(Qe);if(!this.identityProvider){const Dt=At({element:Qe,parent:re,hasChildren:ft});return ft&&this.collapseByDefault&&!this.collapseByDefault(Qe)&&(Dt.collapsedByDefault=!1,De.push(Dt)),Dt}const mt=this.identityProvider.getId(Qe).toString(),Pt=ie.get(mt);if(Pt){const Dt=Pt.node;return H.delete(Dt.element),this.nodes.delete(Dt.element),this.nodes.set(Qe,Dt),Dt.element=Qe,Dt.hasChildren=ft,lt?Pt.collapsed?(Dt.children.forEach(zt=>Yi(zt,ui=>this.nodes.delete(ui.element))),Dt.children.splice(0,Dt.children.length),Dt.stale=!0):De.push(Dt):ft&&this.collapseByDefault&&!this.collapseByDefault(Qe)&&(Dt.collapsedByDefault=!1,De.push(Dt)),Dt}const Tt=At({element:Qe,parent:re,id:mt,hasChildren:ft});return Ge&&Ge.viewState.focus&&Ge.viewState.focus.indexOf(mt)>-1&&Ge.focus.push(Tt),Ge&&Ge.viewState.selection&&Ge.viewState.selection.indexOf(mt)>-1&&Ge.selection.push(Tt),Ge&&Ge.viewState.expanded&&Ge.viewState.expanded.indexOf(mt)>-1?De.push(Tt):ft&&this.collapseByDefault&&!this.collapseByDefault(Qe)&&(Tt.collapsedByDefault=!1,De.push(Tt)),Tt});for(const Qe of H.values())Yi(Qe,ft=>this.nodes.delete(ft.element));for(const Qe of Fe)this.nodes.set(Qe.element,Qe);return re.children.splice(0,re.children.length,...Fe),re!==this.root&&this.autoExpandSingleChildren&&Fe.length===1&&De.length===0&&(Fe[0].collapsedByDefault=!1,De.push(Fe[0])),De}render(re,ke,lt){const Ge=re.children.map(H=>this.asTreeElement(H,ke)),w=lt&&Object.assign(Object.assign({},lt),{diffIdentityProvider:lt.diffIdentityProvider&&{getId(H){return lt.diffIdentityProvider.getId(H.element)}}});this.tree.setChildren(re===this.root?null:re,Ge,w),re!==this.root&&this.tree.setCollapsible(re,re.hasChildren),this._onDidRender.fire()}asTreeElement(re,ke){if(re.stale)return{element:re,collapsible:re.hasChildren,collapsed:!0};let lt;return ke&&ke.viewState.expanded&&re.id&&ke.viewState.expanded.indexOf(re.id)>-1?lt=!1:lt=re.collapsedByDefault,re.collapsedByDefault=void 0,{element:re,children:re.hasChildren?R.$.map(re.children,Ge=>this.asTreeElement(Ge,ke)):[],collapsible:re.hasChildren,collapsed:lt}}processChildren(re){return this.sorter&&(re=[...re].sort(this.sorter.compare.bind(this.sorter))),re}dispose(){this.disposables.dispose()}}class Li{get element(){return{elements:this.node.element.elements.map(re=>re.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(re=>new Li(re))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(re){this.node=re}}class gn{constructor(re,ke,lt,Ge){this.renderer=re,this.nodeMapper=ke,this.compressibleNodeMapperProvider=lt,this.onDidChangeTwistieState=Ge,this.renderedNodes=new Map,this.disposables=[],this.templateId=re.templateId}renderTemplate(re){return{templateData:this.renderer.renderTemplate(re)}}renderElement(re,ke,lt,Ge){this.renderer.renderElement(this.nodeMapper.map(re),ke,lt.templateData,Ge)}renderCompressedElements(re,ke,lt,Ge){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(re),ke,lt.templateData,Ge)}renderTwistie(re,ke){return re.slow?(ke.classList.add(...Z.k.asClassNameArray(K.l.treeItemLoading)),!0):(ke.classList.remove(...Z.k.asClassNameArray(K.l.treeItemLoading)),!1)}disposeElement(re,ke,lt,Ge){var w,H;(H=(w=this.renderer).disposeElement)===null||H===void 0||H.call(w,this.nodeMapper.map(re),ke,lt.templateData,Ge)}disposeCompressedElements(re,ke,lt,Ge){var w,H;(H=(w=this.renderer).disposeCompressedElements)===null||H===void 0||H.call(w,this.compressibleNodeMapperProvider().map(re),ke,lt.templateData,Ge)}disposeTemplate(re){this.renderer.disposeTemplate(re.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,p.B9)(this.disposables)}}function on($t){const re=$t&&fn($t);return re&&Object.assign(Object.assign({},re),{keyboardNavigationLabelProvider:re.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},re.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(ke){return $t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(ke.map(lt=>lt.element))}})})}class Nn extends Pi{constructor(re,ke,lt,Ge,w,H,ie={}){super(re,ke,lt,w,H,ie),this.compressionDelegate=Ge,this.compressibleNodeMapper=new B(De=>new Li(De)),this.filter=ie.filter}createTree(re,ke,lt,Ge,w){const H=new Xe(lt),ie=Ge.map(Fe=>new gn(Fe,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),De=on(w)||{};return new ni(re,ke,H,ie,De)}asTreeElement(re,ke){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(re.element)},super.asTreeElement(re,ke))}updateOptions(re={}){this.tree.updateOptions(re)}render(re,ke){if(!this.identityProvider)return super.render(re,ke);const lt=mt=>this.identityProvider.getId(mt).toString(),Ge=mt=>{const Pt=new Set;for(const Tt of mt){const Dt=this.tree.getCompressedTreeNode(Tt===this.root?null:Tt);if(Dt.element)for(const zt of Dt.element.elements)Pt.add(lt(zt.element))}return Pt},w=Ge(this.tree.getSelection()),H=Ge(this.tree.getFocus());super.render(re,ke);const ie=this.getSelection();let De=!1;const Fe=this.getFocus();let Qe=!1;const ft=mt=>{const Pt=mt.element;if(Pt)for(let Tt=0;Tt<Pt.elements.length;Tt++){const Dt=lt(Pt.elements[Tt].element),zt=Pt.elements[Pt.elements.length-1].element;w.has(Dt)&&ie.indexOf(zt)===-1&&(ie.push(zt),De=!0),H.has(Dt)&&Fe.indexOf(zt)===-1&&(Fe.push(zt),Qe=!0)}mt.children.forEach(ft)};ft(this.tree.getCompressedTreeNode(re===this.root?null:re)),De&&this.setSelection(ie),Qe&&this.setFocus(Fe)}processChildren(re){return this.filter&&(re=R.$.filter(re,ke=>{const lt=this.filter.filter(ke,1),Ge=ln(lt);if(Ge===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return Ge===1})),super.processChildren(re)}}function ln($t){return typeof $t=="boolean"?$t?1:0:$($t)?J($t.visibility):J($t)}class Yt extends me{constructor(re,ke,lt,Ge,w,H={}){super(re,ke,lt,Ge,H),this.user=re,this.dataSource=w,this.identityProvider=H.identityProvider}createModel(re,ke,lt){return new ue(re,ke,lt)}}var ti=t(71177),fi=t(12326),Gt=t(76826),Si=t(57131),zi=t(36953),ji=t(44333),Hi=t(62297),tn=t(6325),sn=t(60140),Xi=function($t,re,ke,lt){var Ge=arguments.length,w=Ge<3?re:lt===null?lt=Object.getOwnPropertyDescriptor(re,ke):lt,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate($t,re,ke,lt);else for(var ie=$t.length-1;ie>=0;ie--)(H=$t[ie])&&(w=(Ge<3?H(w):Ge>3?H(re,ke,w):H(re,ke))||w);return Ge>3&&w&&Object.defineProperty(re,ke,w),w},Oi=function($t,re){return function(ke,lt){re(ke,lt,$t)}};const ai=(0,ji.yh)("listService");class Zt{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new p.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(re){var ke,lt;re!==this._lastFocusedWidget&&((ke=this._lastFocusedWidget)===null||ke===void 0||ke.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=re,(lt=this._lastFocusedWidget)===null||lt===void 0||lt.getHTMLElement().classList.add("last-focused"))}register(re,ke){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new I.wD((0,f.dS)(),"").style(sn.O2)),this.lists.some(Ge=>Ge.widget===re))throw new Error("Cannot register the same widget multiple times");const lt={widget:re,extraContextKeys:ke};return this.lists.push(lt),re.getHTMLElement()===document.activeElement&&this.setLastFocusedList(re),(0,p.F8)(re.onDidFocus(()=>this.setLastFocusedList(re)),(0,p.OF)(()=>this.lists.splice(this.lists.indexOf(lt),1)),re.onDidDispose(()=>{this.lists=this.lists.filter(Ge=>Ge!==lt),this._lastFocusedWidget===re&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Jt=new Gt.uy("listFocus",!0),_t=new Gt.uy("listSupportsMultiselect",!0),xt=Gt.Ao.and(Jt,Gt.Ao.not(Si.d0)),Ht=new Gt.uy("listHasSelectionOrFocus",!1),at=new Gt.uy("listDoubleSelection",!1),ce=new Gt.uy("listMultiSelection",!1),We=new Gt.uy("listSelectionNavigation",!1),Me=new Gt.uy("listSupportsFind",!0),ge=new Gt.uy("treeElementCanCollapse",!1),Q=new Gt.uy("treeElementHasParent",!1),ae=new Gt.uy("treeElementCanExpand",!1),xe=new Gt.uy("treeElementHasChild",!1),Ae=new Gt.uy("treeFindOpen",!1),Je="listTypeNavigationMode",vt="listAutomaticKeyboardNavigation";function St($t,re){const ke=$t.createScoped(re.getHTMLElement());return Jt.bindTo(ke),ke}const wt="workbench.list.multiSelectModifier",Lt="workbench.list.openMode",Bt="workbench.list.horizontalScrolling",ei="workbench.list.defaultFindMode",pi="workbench.list.typeNavigationMode",di="workbench.list.keyboardNavigation",hi="workbench.list.scrollByPage",yi="workbench.list.defaultFindMatchType",Bi="workbench.tree.indent",ki="workbench.tree.renderIndentGuides",Wi="workbench.list.smoothScrolling",Ri="workbench.list.mouseWheelScrollSensitivity",Cn="workbench.list.fastScrollSensitivity",ts="workbench.tree.expandMode";function Hn($t){return $t.getValue(wt)==="alt"}class Ss extends p.JT{constructor(re){super(),this.configurationService=re,this.useAltAsMultipleSelectionModifier=Hn(re),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(re=>{re.affectsConfiguration(wt)&&(this.useAltAsMultipleSelectionModifier=Hn(this.configurationService))}))}isSelectionSingleChangeEvent(re){return this.useAltAsMultipleSelectionModifier?re.browserEvent.altKey:(0,I.Zo)(re)}isSelectionRangeChangeEvent(re){return(0,I.wn)(re)}}function mn($t,re){var ke;const lt=$t.get(ti.Ui),Ge=$t.get(Hi.d),w=new p.SL;return[Object.assign(Object.assign({},re),{keyboardNavigationDelegate:{mightProducePrintableCharacter(ie){return Ge.mightProducePrintableCharacter(ie)}},smoothScrolling:!!lt.getValue(Wi),mouseWheelScrollSensitivity:lt.getValue(Ri),fastScrollSensitivity:lt.getValue(Cn),multipleSelectionController:(ke=re.multipleSelectionController)!==null&&ke!==void 0?ke:w.add(new Ss(lt)),keyboardNavigationEventFilter:ws(Ge),scrollByPage:!!lt.getValue(hi)}),w]}let wi=class extends I.aV{constructor(re,ke,lt,Ge,w,H,ie,De,Fe){const Qe=typeof w.horizontalScrolling!="undefined"?w.horizontalScrolling:!!De.getValue(Bt),[ft,mt]=Fe.invokeFunction(mn,w);super(re,ke,lt,Ge,Object.assign(Object.assign({keyboardSupport:!1},ft),{horizontalScrolling:Qe})),this.disposables.add(mt),this.contextKeyService=St(H,this),this.listSupportsMultiSelect=_t.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(w.multipleSelectionSupport!==!1),We.bindTo(this.contextKeyService).set(!!w.selectionNavigation),this.listHasSelectionOrFocus=Ht.bindTo(this.contextKeyService),this.listDoubleSelection=at.bindTo(this.contextKeyService),this.listMultiSelection=ce.bindTo(this.contextKeyService),this.horizontalScrolling=w.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Hn(De),this.disposables.add(this.contextKeyService),this.disposables.add(ie.register(this)),this.updateStyles(w.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Tt=this.getSelection(),Dt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Tt.length>0||Dt.length>0),this.listMultiSelection.set(Tt.length>1),this.listDoubleSelection.set(Tt.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Tt=this.getSelection(),Dt=this.getFocus();this.listHasSelectionOrFocus.set(Tt.length>0||Dt.length>0)})),this.disposables.add(De.onDidChangeConfiguration(Tt=>{Tt.affectsConfiguration(wt)&&(this._useAltAsMultipleSelectionModifier=Hn(De));let Dt={};if(Tt.affectsConfiguration(Bt)&&this.horizontalScrolling===void 0){const zt=!!De.getValue(Bt);Dt=Object.assign(Object.assign({},Dt),{horizontalScrolling:zt})}if(Tt.affectsConfiguration(hi)){const zt=!!De.getValue(hi);Dt=Object.assign(Object.assign({},Dt),{scrollByPage:zt})}if(Tt.affectsConfiguration(Wi)){const zt=!!De.getValue(Wi);Dt=Object.assign(Object.assign({},Dt),{smoothScrolling:zt})}if(Tt.affectsConfiguration(Ri)){const zt=De.getValue(Ri);Dt=Object.assign(Object.assign({},Dt),{mouseWheelScrollSensitivity:zt})}if(Tt.affectsConfiguration(Cn)){const zt=De.getValue(Cn);Dt=Object.assign(Object.assign({},Dt),{fastScrollSensitivity:zt})}Object.keys(Dt).length>0&&this.updateOptions(Dt)})),this.navigator=new ns(this,Object.assign({configurationService:De},w)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),re.overrideStyles!==void 0&&this.updateStyles(re.overrideStyles),re.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,sn.TU)(re):sn.O2)}};wi=Xi([Oi(5,Gt.i6),Oi(6,ai),Oi(7,ti.Ui),Oi(8,ji.TG)],wi);let Fi=class extends a{constructor(re,ke,lt,Ge,w,H,ie,De,Fe){const Qe=typeof w.horizontalScrolling!="undefined"?w.horizontalScrolling:!!De.getValue(Bt),[ft,mt]=Fe.invokeFunction(mn,w);super(re,ke,lt,Ge,Object.assign(Object.assign({keyboardSupport:!1},ft),{horizontalScrolling:Qe})),this.disposables=new p.SL,this.disposables.add(mt),this.contextKeyService=St(H,this),this.horizontalScrolling=w.horizontalScrolling,this.listSupportsMultiSelect=_t.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(w.multipleSelectionSupport!==!1),We.bindTo(this.contextKeyService).set(!!w.selectionNavigation),this._useAltAsMultipleSelectionModifier=Hn(De),this.disposables.add(this.contextKeyService),this.disposables.add(ie.register(this)),this.updateStyles(w.overrideStyles),this.disposables.add(De.onDidChangeConfiguration(Tt=>{Tt.affectsConfiguration(wt)&&(this._useAltAsMultipleSelectionModifier=Hn(De));let Dt={};if(Tt.affectsConfiguration(Bt)&&this.horizontalScrolling===void 0){const zt=!!De.getValue(Bt);Dt=Object.assign(Object.assign({},Dt),{horizontalScrolling:zt})}if(Tt.affectsConfiguration(hi)){const zt=!!De.getValue(hi);Dt=Object.assign(Object.assign({},Dt),{scrollByPage:zt})}if(Tt.affectsConfiguration(Wi)){const zt=!!De.getValue(Wi);Dt=Object.assign(Object.assign({},Dt),{smoothScrolling:zt})}if(Tt.affectsConfiguration(Ri)){const zt=De.getValue(Ri);Dt=Object.assign(Object.assign({},Dt),{mouseWheelScrollSensitivity:zt})}if(Tt.affectsConfiguration(Cn)){const zt=De.getValue(Cn);Dt=Object.assign(Object.assign({},Dt),{fastScrollSensitivity:zt})}Object.keys(Dt).length>0&&this.updateOptions(Dt)})),this.navigator=new ns(this,Object.assign({configurationService:De},w)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),re.overrideStyles!==void 0&&this.updateStyles(re.overrideStyles),re.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,sn.TU)(re):sn.O2)}dispose(){this.disposables.dispose(),super.dispose()}};Fi=Xi([Oi(5,Gt.i6),Oi(6,ai),Oi(7,ti.Ui),Oi(8,ji.TG)],Fi);let rn=class extends m{constructor(re,ke,lt,Ge,w,H,ie,De,Fe,Qe){const ft=typeof H.horizontalScrolling!="undefined"?H.horizontalScrolling:!!Fe.getValue(Bt),[mt,Pt]=Qe.invokeFunction(mn,H);super(re,ke,lt,Ge,w,Object.assign(Object.assign({keyboardSupport:!1},mt),{horizontalScrolling:ft})),this.disposables.add(Pt),this.contextKeyService=St(ie,this),this.listSupportsMultiSelect=_t.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(H.multipleSelectionSupport!==!1),We.bindTo(this.contextKeyService).set(!!H.selectionNavigation),this.listHasSelectionOrFocus=Ht.bindTo(this.contextKeyService),this.listDoubleSelection=at.bindTo(this.contextKeyService),this.listMultiSelection=ce.bindTo(this.contextKeyService),this.horizontalScrolling=H.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Hn(Fe),this.disposables.add(this.contextKeyService),this.disposables.add(De.register(this)),this.updateStyles(H.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Dt=this.getSelection(),zt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Dt.length>0||zt.length>0),this.listMultiSelection.set(Dt.length>1),this.listDoubleSelection.set(Dt.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Dt=this.getSelection(),zt=this.getFocus();this.listHasSelectionOrFocus.set(Dt.length>0||zt.length>0)})),this.disposables.add(Fe.onDidChangeConfiguration(Dt=>{Dt.affectsConfiguration(wt)&&(this._useAltAsMultipleSelectionModifier=Hn(Fe));let zt={};if(Dt.affectsConfiguration(Bt)&&this.horizontalScrolling===void 0){const ui=!!Fe.getValue(Bt);zt=Object.assign(Object.assign({},zt),{horizontalScrolling:ui})}if(Dt.affectsConfiguration(hi)){const ui=!!Fe.getValue(hi);zt=Object.assign(Object.assign({},zt),{scrollByPage:ui})}if(Dt.affectsConfiguration(Wi)){const ui=!!Fe.getValue(Wi);zt=Object.assign(Object.assign({},zt),{smoothScrolling:ui})}if(Dt.affectsConfiguration(Ri)){const ui=Fe.getValue(Ri);zt=Object.assign(Object.assign({},zt),{mouseWheelScrollSensitivity:ui})}if(Dt.affectsConfiguration(Cn)){const ui=Fe.getValue(Cn);zt=Object.assign(Object.assign({},zt),{fastScrollSensitivity:ui})}Object.keys(zt).length>0&&this.updateOptions(zt)})),this.navigator=new ys(this,Object.assign({configurationService:Fe},H)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),re.overrideStyles!==void 0&&this.updateStyles(re.overrideStyles),re.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,sn.TU)(re):sn.O2)}dispose(){this.disposables.dispose(),super.dispose()}};rn=Xi([Oi(6,Gt.i6),Oi(7,ai),Oi(8,ti.Ui),Oi(9,ji.TG)],rn);class jn extends p.JT{constructor(re,ke){var lt;super(),this.widget=re,this._onDidOpen=this._register(new _.Q5),this.onDidOpen=this._onDidOpen.event,this._register(_.ju.filter(this.widget.onDidChangeSelection,Ge=>Ge.browserEvent instanceof KeyboardEvent)(Ge=>this.onSelectionFromKeyboard(Ge))),this._register(this.widget.onPointer(Ge=>this.onPointer(Ge.element,Ge.browserEvent))),this._register(this.widget.onMouseDblClick(Ge=>this.onMouseDblClick(Ge.element,Ge.browserEvent))),typeof(ke==null?void 0:ke.openOnSingleClick)!="boolean"&&(ke!=null&&ke.configurationService)?(this.openOnSingleClick=(ke==null?void 0:ke.configurationService.getValue(Lt))!=="doubleClick",this._register(ke==null?void 0:ke.configurationService.onDidChangeConfiguration(Ge=>{Ge.affectsConfiguration(Lt)&&(this.openOnSingleClick=(ke==null?void 0:ke.configurationService.getValue(Lt))!=="doubleClick")}))):this.openOnSingleClick=(lt=ke==null?void 0:ke.openOnSingleClick)!==null&&lt!==void 0?lt:!0}onSelectionFromKeyboard(re){if(re.elements.length!==1)return;const ke=re.browserEvent,lt=typeof ke.preserveFocus=="boolean"?ke.preserveFocus:!0,Ge=typeof ke.pinned=="boolean"?ke.pinned:!lt,w=!1;this._open(this.getSelectedElement(),lt,Ge,w,re.browserEvent)}onPointer(re,ke){if(!this.openOnSingleClick||ke.detail===2)return;const Ge=ke.button===1,w=!0,H=Ge,ie=ke.ctrlKey||ke.metaKey||ke.altKey;this._open(re,w,H,ie,ke)}onMouseDblClick(re,ke){if(!ke)return;const lt=ke.target;if(lt.classList.contains("monaco-tl-twistie")||lt.classList.contains("monaco-icon-label")&&lt.classList.contains("folder-icon")&&ke.offsetX<16)return;const w=!1,H=!0,ie=ke.ctrlKey||ke.metaKey||ke.altKey;this._open(re,w,H,ie,ke)}_open(re,ke,lt,Ge,w){re&&this._onDidOpen.fire({editorOptions:{preserveFocus:ke,pinned:lt,revealIfVisible:!0},sideBySide:Ge,element:re,browserEvent:w})}}class ns extends jn{constructor(re,ke){super(re,ke),this.widget=re}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ys extends jn{constructor(re,ke){super(re,ke)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Ms extends jn{constructor(re,ke){super(re,ke)}getSelectedElement(){var re;return(re=this.widget.getSelection()[0])!==null&&re!==void 0?re:void 0}}function ws($t){let re=!1;return ke=>{if(ke.toKeyCodeChord().isModifierKey())return!1;if(re)return re=!1,!1;const lt=$t.softDispatch(ke,ke.target);return lt.kind===1?(re=!0,!1):(re=!1,lt.kind===0)}}let Mn=class extends dt{constructor(re,ke,lt,Ge,w,H,ie,De,Fe){const{options:Qe,getTypeNavigationMode:ft,disposable:mt}=H.invokeFunction(Es,w);super(re,ke,lt,Ge,Qe),this.disposables.add(mt),this.internals=new Vs(this,w,ft,w.overrideStyles,ie,De,Fe),this.disposables.add(this.internals)}updateOptions(re){super.updateOptions(re),this.internals.updateOptions(re)}};Mn=Xi([Oi(5,ji.TG),Oi(6,Gt.i6),Oi(7,ai),Oi(8,ti.Ui)],Mn);let Ds=class extends ni{constructor(re,ke,lt,Ge,w,H,ie,De,Fe){const{options:Qe,getTypeNavigationMode:ft,disposable:mt}=H.invokeFunction(Es,w);super(re,ke,lt,Ge,Qe),this.disposables.add(mt),this.internals=new Vs(this,w,ft,w.overrideStyles,ie,De,Fe),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),re.overrideStyles&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};Ds=Xi([Oi(5,ji.TG),Oi(6,Gt.i6),Oi(7,ai),Oi(8,ti.Ui)],Ds);let oo=class extends Yt{constructor(re,ke,lt,Ge,w,H,ie,De,Fe,Qe){const{options:ft,getTypeNavigationMode:mt,disposable:Pt}=ie.invokeFunction(Es,H);super(re,ke,lt,Ge,w,ft),this.disposables.add(Pt),this.internals=new Vs(this,H,mt,H.overrideStyles,De,Fe,Qe),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),re.overrideStyles!==void 0&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};oo=Xi([Oi(6,ji.TG),Oi(7,Gt.i6),Oi(8,ai),Oi(9,ti.Ui)],oo);let Eo=class extends Pi{get onDidOpen(){return this.internals.onDidOpen}constructor(re,ke,lt,Ge,w,H,ie,De,Fe,Qe){const{options:ft,getTypeNavigationMode:mt,disposable:Pt}=ie.invokeFunction(Es,H);super(re,ke,lt,Ge,w,ft),this.disposables.add(Pt),this.internals=new Vs(this,H,mt,H.overrideStyles,De,Fe,Qe),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),re.overrideStyles&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};Eo=Xi([Oi(6,ji.TG),Oi(7,Gt.i6),Oi(8,ai),Oi(9,ti.Ui)],Eo);let To=class extends Nn{constructor(re,ke,lt,Ge,w,H,ie,De,Fe,Qe,ft){const{options:mt,getTypeNavigationMode:Pt,disposable:Tt}=De.invokeFunction(Es,ie);super(re,ke,lt,Ge,w,H,mt),this.disposables.add(Tt),this.internals=new Vs(this,ie,Pt,ie.overrideStyles,Fe,Qe,ft),this.disposables.add(this.internals)}updateOptions(re){super.updateOptions(re),this.internals.updateOptions(re)}};To=Xi([Oi(7,ji.TG),Oi(8,Gt.i6),Oi(9,ai),Oi(10,ti.Ui)],To);function Xs($t){const re=$t.getValue(ei);if(re==="highlight")return Ne.Highlight;if(re==="filter")return Ne.Filter;const ke=$t.getValue(di);if(ke==="simple"||ke==="highlight")return Ne.Highlight;if(ke==="filter")return Ne.Filter}function Ws($t){const re=$t.getValue(yi);if(re==="fuzzy")return $e.Fuzzy;if(re==="contiguous")return $e.Contiguous}function Es($t,re){var ke;const lt=$t.get(ti.Ui),Ge=$t.get(zi.u),w=$t.get(Gt.i6),H=$t.get(ji.TG),ie=()=>{const Pt=w.getContextKeyValue(Je);if(Pt==="automatic")return I.AA.Automatic;if(Pt==="trigger"||w.getContextKeyValue(vt)===!1)return I.AA.Trigger;const Dt=lt.getValue(pi);if(Dt==="automatic")return I.AA.Automatic;if(Dt==="trigger")return I.AA.Trigger},De=re.horizontalScrolling!==void 0?re.horizontalScrolling:!!lt.getValue(Bt),[Fe,Qe]=H.invokeFunction(mn,re),ft=re.additionalScrollHeight,mt=re.renderIndentGuides!==void 0?re.renderIndentGuides:lt.getValue(ki);return{getTypeNavigationMode:ie,disposable:Qe,options:Object.assign(Object.assign({keyboardSupport:!1},Fe),{indent:typeof lt.getValue(Bi)=="number"?lt.getValue(Bi):void 0,renderIndentGuides:mt,smoothScrolling:!!lt.getValue(Wi),defaultFindMode:Xs(lt),defaultFindMatchType:Ws(lt),horizontalScrolling:De,scrollByPage:!!lt.getValue(hi),additionalScrollHeight:ft,hideTwistiesOfChildlessElements:re.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ke=re.expandOnlyOnTwistieClick)!==null&&ke!==void 0?ke:lt.getValue(ts)==="doubleClick",contextViewProvider:Ge,findWidgetStyles:sn.uX})}}let Vs=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(re,ke,lt,Ge,w,H,ie){var De;this.tree=re,this.disposables=[],this.contextKeyService=St(w,re),this.listSupportsMultiSelect=_t.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ke.multipleSelectionSupport!==!1),We.bindTo(this.contextKeyService).set(!!ke.selectionNavigation),this.listSupportFindWidget=Me.bindTo(this.contextKeyService),this.listSupportFindWidget.set((De=ke.findWidgetEnabled)!==null&&De!==void 0?De:!0),this.hasSelectionOrFocus=Ht.bindTo(this.contextKeyService),this.hasDoubleSelection=at.bindTo(this.contextKeyService),this.hasMultiSelection=ce.bindTo(this.contextKeyService),this.treeElementCanCollapse=ge.bindTo(this.contextKeyService),this.treeElementHasParent=Q.bindTo(this.contextKeyService),this.treeElementCanExpand=ae.bindTo(this.contextKeyService),this.treeElementHasChild=xe.bindTo(this.contextKeyService),this.treeFindOpen=Ae.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Hn(ie),this.updateStyleOverrides(Ge);const Qe=()=>{const mt=re.getFocus()[0];if(!mt)return;const Pt=re.getNode(mt);this.treeElementCanCollapse.set(Pt.collapsible&&!Pt.collapsed),this.treeElementHasParent.set(!!re.getParentElement(mt)),this.treeElementCanExpand.set(Pt.collapsible&&Pt.collapsed),this.treeElementHasChild.set(!!re.getFirstElementChild(mt))},ft=new Set;ft.add(Je),ft.add(vt),this.disposables.push(this.contextKeyService,H.register(re),re.onDidChangeSelection(()=>{const mt=re.getSelection(),Pt=re.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(mt.length>0||Pt.length>0),this.hasMultiSelection.set(mt.length>1),this.hasDoubleSelection.set(mt.length===2)})}),re.onDidChangeFocus(()=>{const mt=re.getSelection(),Pt=re.getFocus();this.hasSelectionOrFocus.set(mt.length>0||Pt.length>0),Qe()}),re.onDidChangeCollapseState(Qe),re.onDidChangeModel(Qe),re.onDidChangeFindOpenState(mt=>this.treeFindOpen.set(mt)),ie.onDidChangeConfiguration(mt=>{let Pt={};if(mt.affectsConfiguration(wt)&&(this._useAltAsMultipleSelectionModifier=Hn(ie)),mt.affectsConfiguration(Bi)){const Tt=ie.getValue(Bi);Pt=Object.assign(Object.assign({},Pt),{indent:Tt})}if(mt.affectsConfiguration(ki)&&ke.renderIndentGuides===void 0){const Tt=ie.getValue(ki);Pt=Object.assign(Object.assign({},Pt),{renderIndentGuides:Tt})}if(mt.affectsConfiguration(Wi)){const Tt=!!ie.getValue(Wi);Pt=Object.assign(Object.assign({},Pt),{smoothScrolling:Tt})}if(mt.affectsConfiguration(ei)||mt.affectsConfiguration(di)){const Tt=Xs(ie);Pt=Object.assign(Object.assign({},Pt),{defaultFindMode:Tt})}if(mt.affectsConfiguration(pi)||mt.affectsConfiguration(di)){const Tt=lt();Pt=Object.assign(Object.assign({},Pt),{typeNavigationMode:Tt})}if(mt.affectsConfiguration(yi)){const Tt=Ws(ie);Pt=Object.assign(Object.assign({},Pt),{defaultFindMatchType:Tt})}if(mt.affectsConfiguration(Bt)&&ke.horizontalScrolling===void 0){const Tt=!!ie.getValue(Bt);Pt=Object.assign(Object.assign({},Pt),{horizontalScrolling:Tt})}if(mt.affectsConfiguration(hi)){const Tt=!!ie.getValue(hi);Pt=Object.assign(Object.assign({},Pt),{scrollByPage:Tt})}if(mt.affectsConfiguration(ts)&&ke.expandOnlyOnTwistieClick===void 0&&(Pt=Object.assign(Object.assign({},Pt),{expandOnlyOnTwistieClick:ie.getValue(ts)==="doubleClick"})),mt.affectsConfiguration(Ri)){const Tt=ie.getValue(Ri);Pt=Object.assign(Object.assign({},Pt),{mouseWheelScrollSensitivity:Tt})}if(mt.affectsConfiguration(Cn)){const Tt=ie.getValue(Cn);Pt=Object.assign(Object.assign({},Pt),{fastScrollSensitivity:Tt})}Object.keys(Pt).length>0&&re.updateOptions(Pt)}),this.contextKeyService.onDidChangeContext(mt=>{mt.affectsSome(ft)&&re.updateOptions({typeNavigationMode:lt()})})),this.navigator=new Ms(re,Object.assign({configurationService:ie},ke)),this.disposables.push(this.navigator)}updateOptions(re){re.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyleOverrides(re){this.tree.style(re?(0,sn.TU)(re):sn.O2)}dispose(){this.disposables=(0,p.B9)(this.disposables)}};Vs=Xi([Oi(4,Gt.i6),Oi(5,ai),Oi(6,ti.Ui)],Vs),tn.B.as(fi.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,_e.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[wt]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,_e.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,_e.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,_e.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Lt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,_e.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Bt]:{type:"boolean",default:!1,description:(0,_e.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[hi]:{type:"boolean",default:!1,description:(0,_e.NC)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Bi]:{type:"number",default:8,minimum:4,maximum:40,description:(0,_e.NC)("tree indent setting","Controls tree indentation in pixels.")},[ki]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,_e.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[Wi]:{type:"boolean",default:!1,description:(0,_e.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Ri]:{type:"number",default:1,markdownDescription:(0,_e.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Cn]:{type:"number",default:5,markdownDescription:(0,_e.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[ei]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,_e.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,_e.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,_e.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[di]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,_e.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,_e.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,_e.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,_e.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,_e.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[yi]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,_e.NC)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,_e.NC)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,_e.NC)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[ts]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,_e.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[pi]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,_e.NC)("typeNavigationMode","Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.")}}})},59271:function(Rt,Be,t){"use strict";t.d(Be,{VZ:function(){return p},in:function(){return V},kw:function(){return E},qA:function(){return g}});var f=t(56709),O=t(38431),u=t(76826),_=t(44333);const p=(0,_.yh)("logService");var V;(function(d){d[d.Off=0]="Off",d[d.Trace=1]="Trace",d[d.Debug=2]="Debug",d[d.Info=3]="Info",d[d.Warning=4]="Warning",d[d.Error=5]="Error"})(V||(V={}));const I=V.Info;class L extends O.JT{constructor(){super(...arguments),this.level=I,this._onDidChangeLogLevel=this._register(new f.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(i){return this.level!==V.Off&&this.level<=i}}class E extends L{constructor(i=I,s=!0){super(),this.useColors=s,this.setLevel(i)}trace(i,...s){this.checkLogLevel(V.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",i,...s):console.log(i,...s))}debug(i,...s){this.checkLogLevel(V.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",i,...s):console.log(i,...s))}info(i,...s){this.checkLogLevel(V.Info)&&(this.useColors?console.log("%c INFO","color: #33f",i,...s):console.log(i,...s))}error(i,...s){this.checkLogLevel(V.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",i,...s):console.error(i,...s))}dispose(){}}class g extends L{constructor(i){super(),this.loggers=i,i.length&&this.setLevel(i[0].getLevel())}setLevel(i){for(const s of this.loggers)s.setLevel(i);super.setLevel(i)}trace(i,...s){for(const m of this.loggers)m.trace(i,...s)}debug(i,...s){for(const m of this.loggers)m.debug(i,...s)}info(i,...s){for(const m of this.loggers)m.info(i,...s)}error(i,...s){for(const m of this.loggers)m.error(i,...s)}dispose(){for(const i of this.loggers)i.dispose()}}function a(d){switch(d){case V.Trace:return"trace";case V.Debug:return"debug";case V.Info:return"info";case V.Warning:return"warn";case V.Error:return"error";case V.Off:return"off"}}const l=new u.uy("logLevel",a(V.Info))},36156:function(Rt,Be,t){"use strict";t.d(Be,{H0:function(){return p},ZL:function(){return _},lT:function(){return V}});var f=t(87068),O=t(26386),u=t(44333),_;(function(I){I[I.Hint=1]="Hint",I[I.Info=2]="Info",I[I.Warning=4]="Warning",I[I.Error=8]="Error"})(_||(_={})),function(I){function L(d,i){return i-d}I.compare=L;const E=Object.create(null);E[I.Error]=(0,O.NC)("sev.error","Error"),E[I.Warning]=(0,O.NC)("sev.warning","Warning"),E[I.Info]=(0,O.NC)("sev.info","Info");function g(d){return E[d]||""}I.toString=g;function a(d){switch(d){case f.Z.Error:return I.Error;case f.Z.Warning:return I.Warning;case f.Z.Info:return I.Info;case f.Z.Ignore:return I.Hint}}I.fromSeverity=a;function l(d){switch(d){case I.Error:return f.Z.Error;case I.Warning:return f.Z.Warning;case I.Info:return f.Z.Info;case I.Hint:return f.Z.Ignore}}I.toSeverity=l}(_||(_={}));var p;(function(I){const L="";function E(a){return g(a,!0)}I.makeKey=E;function g(a,l){const d=[L];return a.source?d.push(a.source.replace("\xA6","\\\xA6")):d.push(L),a.code?typeof a.code=="string"?d.push(a.code.replace("\xA6","\\\xA6")):d.push(a.code.value.replace("\xA6","\\\xA6")):d.push(L),a.severity!==void 0&&a.severity!==null?d.push(_.toString(a.severity)):d.push(L),a.message&&l?d.push(a.message.replace("\xA6","\\\xA6")):d.push(L),a.startLineNumber!==void 0&&a.startLineNumber!==null?d.push(a.startLineNumber.toString()):d.push(L),a.startColumn!==void 0&&a.startColumn!==null?d.push(a.startColumn.toString()):d.push(L),a.endLineNumber!==void 0&&a.endLineNumber!==null?d.push(a.endLineNumber.toString()):d.push(L),a.endColumn!==void 0&&a.endColumn!==null?d.push(a.endColumn.toString()):d.push(L),d.push(L),d.join("\xA6")}I.makeKeyOptionalMessage=g})(p||(p={}));const V=(0,u.yh)("markerService")},97968:function(Rt,Be,t){"use strict";t.d(Be,{EO:function(){return p},lT:function(){return _},zb:function(){return u}});var f=t(87068),O=t(44333),u=f.Z;const _=(0,O.yh)("notificationService");class p{}},48786:function(Rt,Be,t){"use strict";t.d(Be,{Gs:function(){return V},v4:function(){return _},xI:function(){return I},xn:function(){return p}});var f=t(17416),O=t(28919),u=t(44333);const _=(0,u.yh)("openerService");function p(L,E){return O.o.isUri(L)?(0,f.qq)(L.scheme,E):(0,f.ok)(L,E+":")}function V(L,...E){return E.some(g=>p(L,g))}function I(L){let E;const g=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(L.fragment);return g&&(E={startLineNumber:parseInt(g[1]),startColumn:g[2]?parseInt(g[2]):1,endLineNumber:g[4]?parseInt(g[4]):void 0,endColumn:g[4]?g[5]?parseInt(g[5]):1:void 0},L=L.with({fragment:""})),{selection:E,uri:L}}},79969:function(Rt,Be,t){"use strict";t.d(Be,{Ex:function(){return _},R9:function(){return O},ek:function(){return p}});var f=t(44333);const O=(0,f.yh)("progressService"),u=Object.freeze({total(){},worked(){},done(){}});class _{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}_.None=Object.freeze({report(){}});const p=(0,f.yh)("editorProgressService")},26152:function(Rt,Be,t){"use strict";t.d(Be,{IP:function(){return p},Ry:function(){return _}});var f=t(16308),O=t(38431),u=t(6325),_;(function(I){I[I.PRESERVE=0]="PRESERVE",I[I.LAST=1]="LAST"})(_||(_={}));const p={Quickaccess:"workbench.contributions.quickaccess"};class V{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(L){return L.prefix.length===0?this.defaultProvider=L:this.providers.push(L),this.providers.sort((E,g)=>g.prefix.length-E.prefix.length),(0,O.OF)(()=>{this.providers.splice(this.providers.indexOf(L),1),this.defaultProvider===L&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,f.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(L){return L&&this.providers.find(g=>L.startsWith(g.prefix))||void 0||this.defaultProvider}}u.B.add(p.Quickaccess,new V)},38785:function(Rt,Be,t){"use strict";t.d(Be,{Jq:function(){return u},X5:function(){return O},eJ:function(){return I},jG:function(){return _}});var f=t(44333);const O={ctrlCmd:!1,alt:!1};var u;(function(L){L[L.Blur=1]="Blur",L[L.Gesture=2]="Gesture",L[L.Other=3]="Other"})(u||(u={}));var _;(function(L){L[L.NONE=0]="NONE",L[L.FIRST=1]="FIRST",L[L.SECOND=2]="SECOND",L[L.LAST=3]="LAST"})(_||(_={}));class p{constructor(E){this.options=E}}const V=new p,I=(0,f.yh)("quickInputService")},6325:function(Rt,Be,t){"use strict";t.d(Be,{B:function(){return _}});var f=t(14527),O=t(14818);class u{constructor(){this.data=new Map}add(V,I){f.ok(O.HD(V)),f.ok(O.Kn(I)),f.ok(!this.data.has(V),"There is already an extension with this id"),this.data.set(V,I)}as(V){return this.data.get(V)||null}}const _=new u},63536:function(Rt,Be,t){"use strict";t.d(Be,{Uy:function(){return d},vm:function(){return b},fk:function(){return i}});var f=t(56709),O=t(38431),u=t(14818),_=t(13484),p=t(65533),V=function(c,v,C,S){function N(P){return P instanceof C?P:new C(function(M){M(P)})}return new(C||(C=Promise))(function(P,M){function D(U){try{B(S.next(U))}catch(A){M(A)}}function F(U){try{B(S.throw(U))}catch(A){M(A)}}function B(U){U.done?P(U.value):N(U.value).then(D,F)}B((S=S.apply(c,v||[])).next())})},I;(function(c){c[c.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",c[c.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(I||(I={}));var L;(function(c){c[c.None=0]="None",c[c.Initialized=1]="Initialized",c[c.Closed=2]="Closed"})(L||(L={}));class E extends O.JT{constructor(v,C=Object.create(null)){super(),this.database=v,this.options=C,this._onDidChangeStorage=this._register(new f.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=L.None,this.cache=new Map,this.flushDelayer=new _.rH(E.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(v=>this.onDidChangeItemsExternal(v)))}onDidChangeItemsExternal(v){var C,S;(C=v.changed)===null||C===void 0||C.forEach((N,P)=>this.accept(P,N)),(S=v.deleted)===null||S===void 0||S.forEach(N=>this.accept(N,void 0))}accept(v,C){if(this.state===L.Closed)return;let S=!1;(0,u.Jp)(C)?S=this.cache.delete(v):this.cache.get(v)!==C&&(this.cache.set(v,C),S=!0),S&&this._onDidChangeStorage.fire(v)}get(v,C){const S=this.cache.get(v);return(0,u.Jp)(S)?C:S}getBoolean(v,C){const S=this.get(v);return(0,u.Jp)(S)?C:S==="true"}getNumber(v,C){const S=this.get(v);return(0,u.Jp)(S)?C:parseInt(S,10)}set(v,C){return V(this,void 0,void 0,function*(){if(this.state===L.Closed)return;if((0,u.Jp)(C))return this.delete(v);const S=(0,u.Kn)(C)||Array.isArray(C)?(0,p.Pz)(C):String(C);if(this.cache.get(v)!==S)return this.cache.set(v,S),this.pendingInserts.set(v,S),this.pendingDeletes.delete(v),this._onDidChangeStorage.fire(v),this.doFlush()})}delete(v){return V(this,void 0,void 0,function*(){if(!(this.state===L.Closed||!this.cache.delete(v)))return this.pendingDeletes.has(v)||this.pendingDeletes.add(v),this.pendingInserts.delete(v),this._onDidChangeStorage.fire(v),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return V(this,void 0,void 0,function*(){if(!this.hasPending)return;const v={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(v).finally(()=>{var C;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(C=this.whenFlushedCallbacks.pop())===null||C===void 0||C()})})}doFlush(v){return V(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),v)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}E.DEFAULT_FLUSH_DELAY=100;class g{constructor(){this.onDidChangeItemsExternal=f.ju.None,this.items=new Map}updateItems(v){var C,S;return V(this,void 0,void 0,function*(){(C=v.insert)===null||C===void 0||C.forEach((N,P)=>this.items.set(P,N)),(S=v.delete)===null||S===void 0||S.forEach(N=>this.items.delete(N))})}}var a=t(44333);const l="__$__targetStorageMarker",d=(0,a.yh)("storageService");var i;(function(c){c[c.NONE=0]="NONE",c[c.SHUTDOWN=1]="SHUTDOWN"})(i||(i={}));function s(c){const v=c.get(l);if(v)try{return JSON.parse(v)}catch(C){}return Object.create(null)}class m extends O.JT{constructor(v={flushInterval:m.DEFAULT_FLUSH_INTERVAL}){super(),this.options=v,this._onDidChangeValue=this._register(new f.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new f.K3),this._onWillSaveState=this._register(new f.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(v,C){if(C===l){switch(v){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:v})}else this._onDidChangeValue.fire({scope:v,key:C,target:this.getKeyTargets(v)[C]})}get(v,C,S){var N;return(N=this.getStorage(C))===null||N===void 0?void 0:N.get(v,S)}getBoolean(v,C,S){var N;return(N=this.getStorage(C))===null||N===void 0?void 0:N.getBoolean(v,S)}getNumber(v,C,S){var N;return(N=this.getStorage(C))===null||N===void 0?void 0:N.getNumber(v,S)}store(v,C,S,N){if((0,u.Jp)(C)){this.remove(v,S);return}this.withPausedEmitters(()=>{var P;this.updateKeyTarget(v,S,N),(P=this.getStorage(S))===null||P===void 0||P.set(v,C)})}remove(v,C){this.withPausedEmitters(()=>{var S;this.updateKeyTarget(v,C,void 0),(S=this.getStorage(C))===null||S===void 0||S.delete(v)})}withPausedEmitters(v){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{v()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(v,C,S){var N,P;const M=this.getKeyTargets(C);typeof S=="number"?M[v]!==S&&(M[v]=S,(N=this.getStorage(C))===null||N===void 0||N.set(l,JSON.stringify(M))):typeof M[v]=="number"&&(delete M[v],(P=this.getStorage(C))===null||P===void 0||P.set(l,JSON.stringify(M)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(v){switch(v){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(v){const C=this.getStorage(v);return C?s(C):Object.create(null)}}m.DEFAULT_FLUSH_INTERVAL=60*1e3;class b extends m{constructor(){super(),this.applicationStorage=this._register(new E(new g,{hint:I.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new E(new g,{hint:I.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new E(new g,{hint:I.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(v=>this.emitDidChangeValue(1,v))),this._register(this.profileStorage.onDidChangeStorage(v=>this.emitDidChangeValue(0,v))),this._register(this.applicationStorage.onDidChangeStorage(v=>this.emitDidChangeValue(-1,v)))}getStorage(v){switch(v){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},68554:function(Rt,Be,t){"use strict";t.d(Be,{b:function(){return O}});var f=t(44333);const O=(0,f.yh)("telemetryService")},60140:function(Rt,Be,t){"use strict";t.d(Be,{BM:function(){return m},Hc:function(){return g},O2:function(){return i},TU:function(){return s},ZR:function(){return b},b5:function(){return V},eO:function(){return _},ku:function(){return l},pl:function(){return I},uX:function(){return a},wG:function(){return p}});var f=t(92537),O=t(86741);function u(c,v){const C=Object.assign({},v);for(const S in c){const N=c[S];C[S]=N!==void 0?(0,f.n_1)(N):void 0}return C}const _={keybindingLabelBackground:(0,f.n_1)(f.oQ$),keybindingLabelForeground:(0,f.n_1)(f.lWp),keybindingLabelBorder:(0,f.n_1)(f.AWI),keybindingLabelBottomBorder:(0,f.n_1)(f.K19),keybindingLabelShadow:(0,f.n_1)(f.rh)},p={buttonForeground:(0,f.n_1)(f.j5u),buttonSeparator:(0,f.n_1)(f.iFQ),buttonBackground:(0,f.n_1)(f.b7$),buttonHoverBackground:(0,f.n_1)(f.GO4),buttonSecondaryForeground:(0,f.n_1)(f.qBU),buttonSecondaryBackground:(0,f.n_1)(f.ESD),buttonSecondaryHoverBackground:(0,f.n_1)(f.xEn),buttonBorder:(0,f.n_1)(f.GYc)},V={progressBarBackground:(0,f.n_1)(f.zRJ)},I={inputActiveOptionBorder:(0,f.n_1)(f.PRb),inputActiveOptionForeground:(0,f.n_1)(f.Pvw),inputActiveOptionBackground:(0,f.n_1)(f.XEs)},L={checkboxBackground:(0,f.n_1)(f.SUp),checkboxBorder:(0,f.n_1)(f.nd),checkboxForeground:(0,f.n_1)(f.BQ0)},E={dialogBackground:(0,f.n_1)(f.D0T),dialogForeground:(0,f.n_1)(f.Hfx),dialogShadow:(0,f.n_1)(f.rh),dialogBorder:(0,f.n_1)(f.lRK),errorIconForeground:(0,f.n_1)(f.JpG),warningIconForeground:(0,f.n_1)(f.BOY),infoIconForeground:(0,f.n_1)(f.OLZ),textLinkForeground:(0,f.n_1)(f.url)},g={inputBackground:(0,f.n_1)(f.sEe),inputForeground:(0,f.n_1)(f.zJb),inputBorder:(0,f.n_1)(f.dt_),inputValidationInfoBorder:(0,f.n_1)(f.EPQ),inputValidationInfoBackground:(0,f.n_1)(f._lC),inputValidationInfoForeground:(0,f.n_1)(f.YI3),inputValidationWarningBorder:(0,f.n_1)(f.C3g),inputValidationWarningBackground:(0,f.n_1)(f.RV_),inputValidationWarningForeground:(0,f.n_1)(f.SUG),inputValidationErrorBorder:(0,f.n_1)(f.OZR),inputValidationErrorBackground:(0,f.n_1)(f.paE),inputValidationErrorForeground:(0,f.n_1)(f._t9)},a={listFilterWidgetBackground:(0,f.n_1)(f.vGG),listFilterWidgetOutline:(0,f.n_1)(f.oSI),listFilterWidgetNoMatchesOutline:(0,f.n_1)(f.Saq),listFilterWidgetShadow:(0,f.n_1)(f.y65),inputBoxStyles:g,toggleStyles:I},l={badgeBackground:(0,f.n_1)(f.g8u),badgeForeground:(0,f.n_1)(f.qeD),badgeBorder:(0,f.n_1)(f.lRK)},d={breadcrumbsBackground:(0,f.n_1)(f.ixd),breadcrumbsForeground:(0,f.n_1)(f.l80),breadcrumbsHoverForeground:(0,f.n_1)(f.H6q),breadcrumbsFocusForeground:(0,f.n_1)(f.H6q),breadcrumbsFocusAndSelectionForeground:(0,f.n_1)(f.fSI)},i={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,f.n_1)(f._bK),listFocusForeground:(0,f.n_1)(f._2n),listFocusOutline:(0,f.n_1)(f.Oop),listActiveSelectionBackground:(0,f.n_1)(f.dCr),listActiveSelectionForeground:(0,f.n_1)(f.M6C),listActiveSelectionIconForeground:(0,f.n_1)(f.Tnx),listFocusAndSelectionOutline:(0,f.n_1)(f.Bqu),listFocusAndSelectionBackground:(0,f.n_1)(f.dCr),listFocusAndSelectionForeground:(0,f.n_1)(f.M6C),listInactiveSelectionBackground:(0,f.n_1)(f.rg2),listInactiveSelectionIconForeground:(0,f.n_1)(f.kvU),listInactiveSelectionForeground:(0,f.n_1)(f.ytC),listInactiveFocusBackground:(0,f.n_1)(f.s$),listInactiveFocusOutline:(0,f.n_1)(f.F3d),listHoverBackground:(0,f.n_1)(f.mV1),listHoverForeground:(0,f.n_1)(f.$d5),listDropBackground:(0,f.n_1)(f.AS1),listSelectionOutline:(0,f.n_1)(f.xL1),listHoverOutline:(0,f.n_1)(f.xL1),treeIndentGuidesStroke:(0,f.n_1)(f.UnT),treeInactiveIndentGuidesStroke:(0,f.n_1)(f.KjV),tableColumnsBorder:(0,f.n_1)(f.uxu),tableOddRowsBackgroundColor:(0,f.n_1)(f.EQn)};function s(c){return u(c,i)}const m={selectBackground:(0,f.n_1)(f.XV0),selectListBackground:(0,f.n_1)(f.Fgs),selectForeground:(0,f.n_1)(f._g0),decoratorRightForeground:(0,f.n_1)(f.kJk),selectBorder:(0,f.n_1)(f.a9O),focusBorder:(0,f.n_1)(f.R80),listFocusBackground:(0,f.n_1)(f.Vqd),listInactiveSelectionIconForeground:(0,f.n_1)(f.cbQ),listFocusForeground:(0,f.n_1)(f.NPS),listFocusOutline:(0,f.BtC)(f.xL1,O.Il.transparent.toString()),listHoverBackground:(0,f.n_1)(f.mV1),listHoverForeground:(0,f.n_1)(f.$d5),listHoverOutline:(0,f.n_1)(f.xL1),selectListBorder:(0,f.n_1)(f.D1_),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},b={shadowColor:(0,f.n_1)(f.rh),borderColor:(0,f.n_1)(f.Cdg),foregroundColor:(0,f.n_1)(f.DEr),backgroundColor:(0,f.n_1)(f.Hz8),selectionForegroundColor:(0,f.n_1)(f.jbW),selectionBackgroundColor:(0,f.n_1)(f.$DX),selectionBorderColor:(0,f.n_1)(f.E3h),separatorColor:(0,f.n_1)(f.ZGJ),scrollbarShadow:(0,f.n_1)(f._wn),scrollbarSliderBackground:(0,f.n_1)(f.etL),scrollbarSliderHoverBackground:(0,f.n_1)(f.ABB),scrollbarSliderActiveBackground:(0,f.n_1)(f.ynu)}},92537:function(Rt,Be,t){"use strict";t.d(Be,{$DX:function(){return Tt},$d5:function(){return Fi},A42:function(){return $},ABB:function(){return me},AS1:function(){return rn},AWI:function(){return Vi},BOY:function(){return Yo},BQ0:function(){return lt},Bqu:function(){return Bi},BtC:function(){return g},C3g:function(){return oe},CNo:function(){return sn},Cdg:function(){return Qe},CzK:function(){return We},D0T:function(){return ni},D1_:function(){return yt},DEr:function(){return ft},Dut:function(){return gi},E3h:function(){return Dt},EPQ:function(){return _e},EQn:function(){return yo},ES4:function(){return Pi},ESD:function(){return ze},EiJ:function(){return ti},F3d:function(){return mn},F9q:function(){return St},Fgs:function(){return se},Fm_:function(){return cs},GO4:function(){return Ne},GYc:function(){return $e},Gj_:function(){return Rr},Gwp:function(){return jn},H6q:function(){return vs},HCL:function(){return xt},Hfx:function(){return qt},Hz8:function(){return mt},IPX:function(){return a},IYc:function(){return sr},Ido:function(){return b},Itd:function(){return Or},Ivo:function(){return hr},JpG:function(){return na},K19:function(){return Qi},KjV:function(){return Es},L_t:function(){return ei},M6C:function(){return Wi},MUv:function(){return Nn},NOs:function(){return dt},NPS:function(){return ie},Ng6:function(){return At},OLZ:function(){return Ar},OZR:function(){return Xe},Oop:function(){return yi},P4M:function(){return Q},P6G:function(){return i},P6Y:function(){return vt},PRb:function(){return z},PX0:function(){return ns},PpC:function(){return Zt},Pvw:function(){return fe},QO2:function(){return L},R80:function(){return C},RV_:function(){return pe},Rzx:function(){return Li},SPM:function(){return Os},SUG:function(){return le},SUY:function(){return uo},SUp:function(){return re},Saq:function(){return oo},T83:function(){return Ct},Tnx:function(){return Ri},UnT:function(){return Ws},VVv:function(){return ai},Vqd:function(){return Fe},XEs:function(){return Z},XV0:function(){return Ve},XZx:function(){return v},YI3:function(){return Ce},ZGJ:function(){return zt},ZnX:function(){return wn},_2n:function(){return hi},_Yy:function(){return Oi},_bK:function(){return di},_g0:function(){return q},_lC:function(){return Re},_t9:function(){return je},_wn:function(){return ee},a9O:function(){return Ee},b6y:function(){return nt},b7$:function(){return ve},bKB:function(){return _t},c63:function(){return Vt},cbQ:function(){return De},cvW:function(){return ut},dCr:function(){return ki},dRz:function(){return s},dt_:function(){return j},etL:function(){return ne},fSI:function(){return xs},g8u:function(){return Le},gkn:function(){return fi},hEj:function(){return fn},hX8:function(){return Jt},iFQ:function(){return we},ixd:function(){return Ps},j5u:function(){return Se},jUe:function(){return ln},jbW:function(){return Pt},kJk:function(){return mi},kVY:function(){return or},keg:function(){return Me},kvU:function(){return Hn},kwl:function(){return Jo},l80:function(){return $n},lRK:function(){return S},lUq:function(){return ui},lWp:function(){return $i},lXJ:function(){return gt},loF:function(){return oi},mV1:function(){return wi},n_1:function(){return E},nd:function(){return Ge},nyM:function(){return on},oQ$:function(){return Ai},oSI:function(){return Ds},opG:function(){return bi},ov3:function(){return ur},pW3:function(){return It},paE:function(){return he},phM:function(){return Ht},pnM:function(){return Yt},qBU:function(){return Ke},qeD:function(){return de},rg2:function(){return Cn},rh:function(){return R},s$:function(){return Ss},sEe:function(){return J},tZ6:function(){return si},uoC:function(){return st},url:function(){return D},uxu:function(){return Vs},vGG:function(){return Mn},xEn:function(){return He},xL1:function(){return N},y65:function(){return Eo},yJx:function(){return Hi},yb5:function(){return Yi},ynu:function(){return ue},ypS:function(){return ge},ytC:function(){return ts},zJb:function(){return Y},zKr:function(){return Qt},zRJ:function(){return Pe}});var f=t(13484),O=t(86741),u=t(56709),_=t(14527),p=t(26386),V=t(82123),I=t(6325);function L(es){return`--vscode-${es.replace(/\./g,"-")}`}function E(es){return`var(${L(es)})`}function g(es,Jn){return`var(${L(es)}, ${Jn})`}const a={ColorContribution:"base.contributions.colors"};class l{constructor(){this._onDidChangeSchema=new u.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Jn,to,qs,Co=!1,Ho){const No={id:Jn,description:qs,defaults:to,needsTransparency:Co,deprecationMessage:Ho};this.colorsById[Jn]=No;const bo={type:"string",description:qs,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Ho&&(bo.deprecationMessage=Ho),this.colorSchema.properties[Jn]=bo,this.colorReferenceSchema.enum.push(Jn),this.colorReferenceSchema.enumDescriptions.push(qs),this._onDidChangeSchema.fire(),Jn}getColors(){return Object.keys(this.colorsById).map(Jn=>this.colorsById[Jn])}resolveDefaultColor(Jn,to){const qs=this.colorsById[Jn];if(qs&&qs.defaults){const Co=qs.defaults[to.type];return Ys(Co,to)}}getColorSchema(){return this.colorSchema}toString(){const Jn=(to,qs)=>{const Co=to.indexOf(".")===-1?0:1,Ho=qs.indexOf(".")===-1?0:1;return Co!==Ho?Co-Ho:to.localeCompare(qs)};return Object.keys(this.colorsById).sort(Jn).map(to=>`- \`${to}\`: ${this.colorsById[to].description}`).join(`
`)}}const d=new l;I.B.add(a.ColorContribution,d);function i(es,Jn,to,qs,Co){return d.registerColor(es,Jn,to,qs,Co)}const s=i("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},p.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),m=i("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},p.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),b=i("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},p.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),c=i("descriptionForeground",{light:"#717171",dark:wn(s,.7),hcDark:wn(s,.7),hcLight:wn(s,.7)},p.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),v=i("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},p.NC("iconForeground","The default color for icons in the workbench.")),C=i("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},p.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),S=i("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},p.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),N=i("contrastActiveBorder",{light:null,dark:null,hcDark:C,hcLight:C},p.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),P=i("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},p.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),M=i("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:O.Il.black,hcLight:"#292929"},p.NC("textSeparatorForeground","Color for text separators.")),D=i("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},p.NC("textLinkForeground","Foreground color for links in text.")),F=i("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},p.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),B=i("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},p.NC("textPreformatForeground","Foreground color for preformatted text segments.")),U=i("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},p.NC("textBlockQuoteBackground","Background color for block quotes in text.")),A=i("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:O.Il.white,hcLight:"#292929"},p.NC("textBlockQuoteBorder","Border color for block quotes in text.")),k=i("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:O.Il.black,hcLight:"#F2F2F2"},p.NC("textCodeBlockBackground","Background color for code blocks in text.")),R=i("widget.shadow",{dark:wn(O.Il.black,.36),light:wn(O.Il.black,.16),hcDark:null,hcLight:null},p.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),$=i("widget.border",{dark:null,light:null,hcDark:S,hcLight:S},p.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),J=i("input.background",{dark:"#3C3C3C",light:O.Il.white,hcDark:O.Il.black,hcLight:O.Il.white},p.NC("inputBoxBackground","Input box background.")),Y=i("input.foreground",{dark:s,light:s,hcDark:s,hcLight:s},p.NC("inputBoxForeground","Input box foreground.")),j=i("input.border",{dark:null,light:null,hcDark:S,hcLight:S},p.NC("inputBoxBorder","Input box border.")),z=i("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:S,hcLight:S},p.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),K=i("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},p.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),Z=i("inputOption.activeBackground",{dark:wn(C,.4),light:wn(C,.2),hcDark:O.Il.transparent,hcLight:O.Il.transparent},p.NC("inputOption.activeBackground","Background hover color of options in input fields.")),fe=i("inputOption.activeForeground",{dark:O.Il.white,light:O.Il.black,hcDark:s,hcLight:s},p.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),T=i("input.placeholderForeground",{light:wn(s,.5),dark:wn(s,.5),hcDark:wn(s,.7),hcLight:wn(s,.7)},p.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Re=i("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:O.Il.black,hcLight:O.Il.white},p.NC("inputValidationInfoBackground","Input validation background color for information severity.")),Ce=i("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:s},p.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),_e=i("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:S,hcLight:S},p.NC("inputValidationInfoBorder","Input validation border color for information severity.")),pe=i("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:O.Il.black,hcLight:O.Il.white},p.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),le=i("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:s},p.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),oe=i("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:S,hcLight:S},p.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),he=i("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:O.Il.black,hcLight:O.Il.white},p.NC("inputValidationErrorBackground","Input validation background color for error severity.")),je=i("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:s},p.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),Xe=i("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:S,hcLight:S},p.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Ve=i("dropdown.background",{dark:"#3C3C3C",light:O.Il.white,hcDark:O.Il.black,hcLight:O.Il.white},p.NC("dropdownBackground","Dropdown background.")),se=i("dropdown.listBackground",{dark:null,light:null,hcDark:O.Il.black,hcLight:O.Il.white},p.NC("dropdownListBackground","Dropdown list background.")),q=i("dropdown.foreground",{dark:"#F0F0F0",light:s,hcDark:O.Il.white,hcLight:s},p.NC("dropdownForeground","Dropdown foreground.")),Ee=i("dropdown.border",{dark:Ve,light:"#CECECE",hcDark:S,hcLight:S},p.NC("dropdownBorder","Dropdown border.")),Se=i("button.foreground",{dark:O.Il.white,light:O.Il.white,hcDark:O.Il.white,hcLight:O.Il.white},p.NC("buttonForeground","Button foreground color.")),we=i("button.separator",{dark:wn(Se,.4),light:wn(Se,.4),hcDark:wn(Se,.4),hcLight:wn(Se,.4)},p.NC("buttonSeparator","Button separator color.")),ve=i("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},p.NC("buttonBackground","Button background color.")),Ne=i("button.hoverBackground",{dark:Io(ve,.2),light:Fo(ve,.2),hcDark:ve,hcLight:ve},p.NC("buttonHoverBackground","Button background color when hovering.")),$e=i("button.border",{dark:S,light:S,hcDark:S,hcLight:S},p.NC("buttonBorder","Button border color.")),Ke=i("button.secondaryForeground",{dark:O.Il.white,light:O.Il.white,hcDark:O.Il.white,hcLight:s},p.NC("buttonSecondaryForeground","Secondary button foreground color.")),ze=i("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:O.Il.white},p.NC("buttonSecondaryBackground","Secondary button background color.")),He=i("button.secondaryHoverBackground",{dark:Io(ze,.2),light:Fo(ze,.2),hcDark:null,hcLight:null},p.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Le=i("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:O.Il.black,hcLight:"#0F4A85"},p.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),de=i("badge.foreground",{dark:O.Il.white,light:"#333",hcDark:O.Il.white,hcLight:O.Il.white},p.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),ee=i("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},p.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),ne=i("scrollbarSlider.background",{dark:O.Il.fromHex("#797979").transparent(.4),light:O.Il.fromHex("#646464").transparent(.4),hcDark:wn(S,.6),hcLight:wn(S,.4)},p.NC("scrollbarSliderBackground","Scrollbar slider background color.")),me=i("scrollbarSlider.hoverBackground",{dark:O.Il.fromHex("#646464").transparent(.7),light:O.Il.fromHex("#646464").transparent(.7),hcDark:wn(S,.8),hcLight:wn(S,.8)},p.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),ue=i("scrollbarSlider.activeBackground",{dark:O.Il.fromHex("#BFBFBF").transparent(.4),light:O.Il.fromHex("#000000").transparent(.6),hcDark:S,hcLight:S},p.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Pe=i("progressBar.background",{dark:O.Il.fromHex("#0E70C0"),light:O.Il.fromHex("#0E70C0"),hcDark:S,hcLight:S},p.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),ot=i("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),gt=i("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},p.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),nt=i("editorError.border",{dark:null,light:null,hcDark:O.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},p.NC("errorBorder","If set, color of double underlines for errors in the editor.")),tt=i("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),st=i("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},p.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),It=i("editorWarning.border",{dark:null,light:null,hcDark:O.Il.fromHex("#FFCC00").transparent(.8),hcLight:O.Il.fromHex("#FFCC00").transparent(.8)},p.NC("warningBorder","If set, color of double underlines for warnings in the editor.")),Wt=i("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Vt=i("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},p.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Ct=i("editorInfo.border",{dark:null,light:null,hcDark:O.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},p.NC("infoBorder","If set, color of double underlines for infos in the editor.")),gi=i("editorHint.foreground",{dark:O.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},p.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),jt=i("editorHint.border",{dark:null,light:null,hcDark:O.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},p.NC("hintBorder","If set, color of double underlines for hints in the editor.")),Ye=i("sash.hoverBorder",{dark:C,light:C,hcDark:C,hcLight:C},p.NC("sashActiveBorder","Border color of active sashes.")),ut=i("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:O.Il.black,hcLight:O.Il.white},p.NC("editorBackground","Editor background color.")),dt=i("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:O.Il.white,hcLight:s},p.NC("editorForeground","Editor default foreground color.")),bt=i("editorStickyScroll.background",{light:ut,dark:ut,hcDark:ut,hcLight:ut},p.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),Mt=i("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:O.Il.fromHex("#0F4A85").transparent(.1)},p.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),ni=i("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:O.Il.white},p.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),qt=i("editorWidget.foreground",{dark:s,light:s,hcDark:s,hcLight:s},p.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),yt=i("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:S,hcLight:S},p.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),At=i("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},p.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Qt=i("quickInput.background",{dark:ni,light:ni,hcDark:ni,hcLight:ni},p.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),si=i("quickInput.foreground",{dark:qt,light:qt,hcDark:qt,hcLight:qt},p.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),oi=i("quickInputTitle.background",{dark:new O.Il(new O.VS(255,255,255,.105)),light:new O.Il(new O.VS(0,0,0,.06)),hcDark:"#000000",hcLight:O.Il.white},p.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),mi=i("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:O.Il.white,hcLight:"#0F4A85"},p.NC("pickerGroupForeground","Quick picker color for grouping labels.")),bi=i("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:O.Il.white,hcLight:"#0F4A85"},p.NC("pickerGroupBorder","Quick picker color for grouping borders.")),Ai=i("keybindingLabel.background",{dark:new O.Il(new O.VS(128,128,128,.17)),light:new O.Il(new O.VS(221,221,221,.4)),hcDark:O.Il.transparent,hcLight:O.Il.transparent},p.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),$i=i("keybindingLabel.foreground",{dark:O.Il.fromHex("#CCCCCC"),light:O.Il.fromHex("#555555"),hcDark:O.Il.white,hcLight:s},p.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Vi=i("keybindingLabel.border",{dark:new O.Il(new O.VS(51,51,51,.6)),light:new O.Il(new O.VS(204,204,204,.4)),hcDark:new O.Il(new O.VS(111,195,223)),hcLight:S},p.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Qi=i("keybindingLabel.bottomBorder",{dark:new O.Il(new O.VS(68,68,68,.6)),light:new O.Il(new O.VS(187,187,187,.4)),hcDark:new O.Il(new O.VS(111,195,223)),hcLight:s},p.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),fn=i("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},p.NC("editorSelectionBackground","Color of the editor selection.")),Yi=i("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:O.Il.white},p.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Pi=i("editor.inactiveSelectionBackground",{light:wn(fn,.5),dark:wn(fn,.5),hcDark:wn(fn,.7),hcLight:wn(fn,.5)},p.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Li=i("editor.selectionHighlightBackground",{light:lo(fn,ut,.3,.6),dark:lo(fn,ut,.3,.6),hcDark:null,hcLight:null},p.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),gn=i("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:N,hcLight:N},p.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),on=i("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},p.NC("editorFindMatch","Color of the current search match.")),Nn=i("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},p.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),ln=i("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},p.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Yt=i("editor.findMatchBorder",{light:null,dark:null,hcDark:N,hcLight:N},p.NC("editorFindMatchBorder","Border color of the current search match.")),ti=i("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:N,hcLight:N},p.NC("findMatchHighlightBorder","Border color of the other search matches.")),fi=i("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:wn(N,.4),hcLight:wn(N,.4)},p.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Gt=i("searchEditor.findMatchBackground",{light:wn(Nn,.66),dark:wn(Nn,.66),hcDark:Nn,hcLight:Nn},p.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),Si=i("searchEditor.findMatchBorder",{light:wn(ti,.66),dark:wn(ti,.66),hcDark:ti,hcLight:ti},p.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),zi=i("search.resultsInfoForeground",{light:s,dark:wn(s,.65),hcDark:s,hcLight:s},p.NC("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),ji=i("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},p.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Hi=i("editorHoverWidget.background",{light:ni,dark:ni,hcDark:ni,hcLight:ni},p.NC("hoverBackground","Background color of the editor hover.")),tn=i("editorHoverWidget.foreground",{light:qt,dark:qt,hcDark:qt,hcLight:qt},p.NC("hoverForeground","Foreground color of the editor hover.")),sn=i("editorHoverWidget.border",{light:yt,dark:yt,hcDark:yt,hcLight:yt},p.NC("hoverBorder","Border color of the editor hover.")),Xi=i("editorHoverWidget.statusBarBackground",{dark:Io(Hi,.2),light:Fo(Hi,.05),hcDark:ni,hcLight:ni},p.NC("statusBarBackground","Background color of the editor hover status bar.")),Oi=i("editorLink.activeForeground",{dark:"#4E94CE",light:O.Il.blue,hcDark:O.Il.cyan,hcLight:"#292929"},p.NC("activeLinkForeground","Color of active links.")),ai=i("editorInlayHint.foreground",{dark:de,light:de,hcDark:O.Il.black,hcLight:de},p.NC("editorInlayHintForeground","Foreground color of inline hints")),Zt=i("editorInlayHint.background",{dark:wn(Le,.8),light:wn(Le,.6),hcDark:"#f38518",hcLight:Le},p.NC("editorInlayHintBackground","Background color of inline hints")),Jt=i("editorInlayHint.typeForeground",{dark:ai,light:ai,hcDark:ai,hcLight:ai},p.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),_t=i("editorInlayHint.typeBackground",{dark:Zt,light:Zt,hcDark:Zt,hcLight:Zt},p.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),xt=i("editorInlayHint.parameterForeground",{dark:ai,light:ai,hcDark:ai,hcLight:ai},p.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Ht=i("editorInlayHint.parameterBackground",{dark:Zt,light:Zt,hcDark:Zt,hcLight:Zt},p.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),at=i("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},p.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),ce=i("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},p.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),We=new O.Il(new O.VS(155,185,85,.2)),Me=new O.Il(new O.VS(255,0,0,.2)),ge=i("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},p.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Q=i("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},p.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ae=i("diffEditor.insertedLineBackground",{dark:We,light:We,hcDark:null,hcLight:null},p.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),xe=i("diffEditor.removedLineBackground",{dark:Me,light:Me,hcDark:null,hcLight:null},p.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Ae=i("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Je=i("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),vt=i("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),St=i("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),wt=i("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},p.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Lt=i("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},p.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),Bt=i("diffEditor.border",{dark:null,light:null,hcDark:S,hcLight:S},p.NC("diffEditorBorder","Border color between the two text editors.")),ei=i("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},p.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),pi=i("diffEditor.unchangedRegionBackground",{dark:"#000000",light:"#e4e4e4",hcDark:null,hcLight:null},p.NC("diffEditor.unchangedRegionBackground","The color of unchanged blocks in diff editor.")),di=i("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),hi=i("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),yi=i("list.focusOutline",{dark:C,light:C,hcDark:N,hcLight:N},p.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bi=i("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),ki=i("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:O.Il.fromHex("#0F4A85").transparent(.1)},p.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Wi=i("list.activeSelectionForeground",{dark:O.Il.white,light:O.Il.white,hcDark:null,hcLight:null},p.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ri=i("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Cn=i("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:O.Il.fromHex("#0F4A85").transparent(.1)},p.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ts=i("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Hn=i("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ss=i("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),mn=i("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),wi=i("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:O.Il.white.transparent(.1),hcLight:O.Il.fromHex("#0F4A85").transparent(.1)},p.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Fi=i("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),rn=i("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},p.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),jn=i("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:C,hcLight:C},p.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),ns=i("list.focusHighlightForeground",{dark:jn,light:$o(ki,jn,"#BBE7FF"),hcDark:jn,hcLight:jn},p.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),ys=i("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},p.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),Ms=i("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},p.NC("listErrorForeground","Foreground color of list items containing errors.")),ws=i("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},p.NC("listWarningForeground","Foreground color of list items containing warnings.")),Mn=i("listFilterWidget.background",{light:Fo(ni,0),dark:Io(ni,0),hcDark:ni,hcLight:ni},p.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Ds=i("listFilterWidget.outline",{dark:O.Il.transparent,light:O.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},p.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),oo=i("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:S,hcLight:S},p.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Eo=i("listFilterWidget.shadow",{dark:R,light:R,hcDark:R,hcLight:R},p.NC("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),To=i("list.filterMatchBackground",{dark:Nn,light:Nn,hcDark:null,hcLight:null},p.NC("listFilterMatchHighlight","Background color of the filtered match.")),Xs=i("list.filterMatchBorder",{dark:ti,light:ti,hcDark:S,hcLight:N},p.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Ws=i("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},p.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Es=i("tree.inactiveIndentGuidesStroke",{dark:wn(Ws,.4),light:wn(Ws,.4),hcDark:wn(Ws,.4),hcLight:wn(Ws,.4)},p.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Vs=i("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},p.NC("tableColumnsBorder","Table border color between columns.")),yo=i("tree.tableOddRowsBackground",{dark:wn(s,.04),light:wn(s,.04),hcDark:null,hcLight:null},p.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),$t=i("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},p.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),re=i("checkbox.background",{dark:Ve,light:Ve,hcDark:Ve,hcLight:Ve},p.NC("checkbox.background","Background color of checkbox widget.")),ke=i("checkbox.selectBackground",{dark:ni,light:ni,hcDark:ni,hcLight:ni},p.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),lt=i("checkbox.foreground",{dark:q,light:q,hcDark:q,hcLight:q},p.NC("checkbox.foreground","Foreground color of checkbox widget.")),Ge=i("checkbox.border",{dark:Ee,light:Ee,hcDark:Ee,hcLight:Ee},p.NC("checkbox.border","Border color of checkbox widget.")),w=i("checkbox.selectBorder",{dark:v,light:v,hcDark:v,hcLight:v},p.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),H=i("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,p.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),ie=i("quickInputList.focusForeground",{dark:Wi,light:Wi,hcDark:Wi,hcLight:Wi},p.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),De=i("quickInputList.focusIconForeground",{dark:Ri,light:Ri,hcDark:Ri,hcLight:Ri},p.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Fe=i("quickInputList.focusBackground",{dark:Jo(H,ki),light:Jo(H,ki),hcDark:null,hcLight:null},p.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Qe=i("menu.border",{dark:null,light:null,hcDark:S,hcLight:S},p.NC("menuBorder","Border color of menus.")),ft=i("menu.foreground",{dark:q,light:q,hcDark:q,hcLight:q},p.NC("menuForeground","Foreground color of menu items.")),mt=i("menu.background",{dark:Ve,light:Ve,hcDark:Ve,hcLight:Ve},p.NC("menuBackground","Background color of menu items.")),Pt=i("menu.selectionForeground",{dark:Wi,light:Wi,hcDark:Wi,hcLight:Wi},p.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Tt=i("menu.selectionBackground",{dark:ki,light:ki,hcDark:ki,hcLight:ki},p.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Dt=i("menu.selectionBorder",{dark:null,light:null,hcDark:N,hcLight:N},p.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),zt=i("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:S,hcLight:S},p.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),ui=i("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},p.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Di=i("toolbar.hoverOutline",{dark:null,light:null,hcDark:N,hcLight:N},p.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),Ni=i("toolbar.activeBackground",{dark:Io(ui,.1),light:Fo(ui,.1),hcDark:null,hcLight:null},p.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Ei=i("editor.snippetTabstopHighlightBackground",{dark:new O.Il(new O.VS(124,124,124,.3)),light:new O.Il(new O.VS(10,50,100,.2)),hcDark:new O.Il(new O.VS(124,124,124,.3)),hcLight:new O.Il(new O.VS(10,50,100,.2))},p.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),qi=i("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),yn=i("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),cn=i("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new O.Il(new O.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},p.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),$n=i("breadcrumb.foreground",{light:wn(s,.8),dark:wn(s,.8),hcDark:wn(s,.8),hcLight:wn(s,.8)},p.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Ps=i("breadcrumb.background",{light:ut,dark:ut,hcDark:ut,hcLight:ut},p.NC("breadcrumbsBackground","Background color of breadcrumb items.")),vs=i("breadcrumb.focusForeground",{light:Fo(s,.2),dark:Io(s,.1),hcDark:Io(s,.1),hcLight:Io(s,.1)},p.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),xs=i("breadcrumb.activeSelectionForeground",{light:Fo(s,.2),dark:Io(s,.1),hcDark:Io(s,.1),hcLight:Io(s,.1)},p.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),go=i("breadcrumbPicker.background",{light:ni,dark:ni,hcDark:ni,hcLight:ni},p.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),Rs=.5,xo=O.Il.fromHex("#40C8AE").transparent(Rs),ao=O.Il.fromHex("#40A6FF").transparent(Rs),mo=O.Il.fromHex("#606060").transparent(.4),Gs=.4,po=1,Js=i("merge.currentHeaderBackground",{dark:xo,light:xo,hcDark:null,hcLight:null},p.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ko=i("merge.currentContentBackground",{dark:wn(Js,Gs),light:wn(Js,Gs),hcDark:wn(Js,Gs),hcLight:wn(Js,Gs)},p.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),wo=i("merge.incomingHeaderBackground",{dark:ao,light:ao,hcDark:null,hcLight:null},p.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Cr=i("merge.incomingContentBackground",{dark:wn(wo,Gs),light:wn(wo,Gs),hcDark:wn(wo,Gs),hcLight:wn(wo,Gs)},p.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ms=i("merge.commonHeaderBackground",{dark:mo,light:mo,hcDark:null,hcLight:null},p.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),dr=i("merge.commonContentBackground",{dark:wn(ms,Gs),light:wn(ms,Gs),hcDark:wn(ms,Gs),hcLight:wn(ms,Gs)},p.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),As=i("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},p.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Xn=i("editorOverviewRuler.currentContentForeground",{dark:wn(Js,po),light:wn(Js,po),hcDark:As,hcLight:As},p.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),hs=i("editorOverviewRuler.incomingContentForeground",{dark:wn(wo,po),light:wn(wo,po),hcDark:As,hcLight:As},p.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),js=i("editorOverviewRuler.commonContentForeground",{dark:wn(ms,po),light:wn(ms,po),hcDark:As,hcLight:As},p.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),cs=i("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},p.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Os=i("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},p.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),uo=i("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},p.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),sr=i("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},p.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),ur=i("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},p.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Rr=i("minimap.errorHighlight",{dark:new O.Il(new O.VS(255,18,18,.7)),light:new O.Il(new O.VS(255,18,18,.7)),hcDark:new O.Il(new O.VS(255,50,50,1)),hcLight:"#B5200D"},p.NC("minimapError","Minimap marker color for errors.")),hr=i("minimap.warningHighlight",{dark:st,light:st,hcDark:It,hcLight:It},p.NC("overviewRuleWarning","Minimap marker color for warnings.")),or=i("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},p.NC("minimapBackground","Minimap background color.")),Or=i("minimap.foregroundOpacity",{dark:O.Il.fromHex("#000f"),light:O.Il.fromHex("#000f"),hcDark:O.Il.fromHex("#000f"),hcLight:O.Il.fromHex("#000f")},p.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Pa=i("minimapSlider.background",{light:wn(ne,.5),dark:wn(ne,.5),hcDark:wn(ne,.5),hcLight:wn(ne,.5)},p.NC("minimapSliderBackground","Minimap slider background color.")),_a=i("minimapSlider.hoverBackground",{light:wn(me,.5),dark:wn(me,.5),hcDark:wn(me,.5),hcLight:wn(me,.5)},p.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),br=i("minimapSlider.activeBackground",{light:wn(ue,.5),dark:wn(ue,.5),hcDark:wn(ue,.5),hcLight:wn(ue,.5)},p.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),na=i("problemsErrorIcon.foreground",{dark:gt,light:gt,hcDark:gt,hcLight:gt},p.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Yo=i("problemsWarningIcon.foreground",{dark:st,light:st,hcDark:st,hcLight:st},p.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Ar=i("problemsInfoIcon.foreground",{dark:Vt,light:Vt,hcDark:Vt,hcLight:Vt},p.NC("problemsInfoIconForeground","The color used for the problems info icon.")),kr=i("charts.foreground",{dark:s,light:s,hcDark:s,hcLight:s},p.NC("chartsForeground","The foreground color used in charts.")),Ca=i("charts.lines",{dark:wn(s,.5),light:wn(s,.5),hcDark:wn(s,.5),hcLight:wn(s,.5)},p.NC("chartsLines","The color used for horizontal lines in charts.")),ba=i("charts.red",{dark:gt,light:gt,hcDark:gt,hcLight:gt},p.NC("chartsRed","The red color used in chart visualizations.")),Hs=i("charts.blue",{dark:Vt,light:Vt,hcDark:Vt,hcLight:Vt},p.NC("chartsBlue","The blue color used in chart visualizations.")),Sr=i("charts.yellow",{dark:st,light:st,hcDark:st,hcLight:st},p.NC("chartsYellow","The yellow color used in chart visualizations.")),Us=i("charts.orange",{dark:uo,light:uo,hcDark:uo,hcLight:uo},p.NC("chartsOrange","The orange color used in chart visualizations.")),Fr=i("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},p.NC("chartsGreen","The green color used in chart visualizations.")),Oo=i("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},p.NC("chartsPurple","The purple color used in chart visualizations."));function Xo(es,Jn){var to,qs,Co,Ho;switch(es.op){case 0:return(to=Ys(es.value,Jn))===null||to===void 0?void 0:to.darken(es.factor);case 1:return(qs=Ys(es.value,Jn))===null||qs===void 0?void 0:qs.lighten(es.factor);case 2:return(Co=Ys(es.value,Jn))===null||Co===void 0?void 0:Co.transparent(es.factor);case 3:{const No=Ys(es.background,Jn);return No?(Ho=Ys(es.value,Jn))===null||Ho===void 0?void 0:Ho.makeOpaque(No):Ys(es.value,Jn)}case 4:for(const No of es.values){const bo=Ys(No,Jn);if(bo)return bo}return;case 6:return Ys(Jn.defines(es.if)?es.then:es.else,Jn);case 5:{const No=Ys(es.value,Jn);if(!No)return;const bo=Ys(es.background,Jn);return bo?No.isDarkerThan(bo)?O.Il.getLighterColor(No,bo,es.factor).transparent(es.transparency):O.Il.getDarkerColor(No,bo,es.factor).transparent(es.transparency):No.transparent(es.factor*es.transparency)}default:throw(0,_.vE)(es)}}function Fo(es,Jn){return{op:0,value:es,factor:Jn}}function Io(es,Jn){return{op:1,value:es,factor:Jn}}function wn(es,Jn){return{op:2,value:es,factor:Jn}}function Jo(...es){return{op:4,values:es}}function $o(es,Jn,to){return{op:6,if:es,then:Jn,else:to}}function lo(es,Jn,to,qs){return{op:5,value:es,background:Jn,factor:to,transparency:qs}}function Ys(es,Jn){if(es!==null){if(typeof es=="string")return es[0]==="#"?O.Il.fromHex(es):Jn.getColor(es);if(es instanceof O.Il)return es;if(typeof es=="object")return Xo(es,Jn)}}const Bo="vscode://schemas/workbench-colors",Wo=I.B.as(V.I.JSONContribution);Wo.registerSchema(Bo,d.getColorSchema());const yr=new f.pY(()=>Wo.notifySchemaChanged(Bo),200);d.onDidChangeSchema(()=>{yr.isScheduled()||yr.schedule()})},89528:function(Rt,Be,t){"use strict";t.d(Be,{Ks:function(){return m},q5:function(){return s},s_:function(){return S}});var f=t(13484),O=t(407),u=t(8216),_=t(56709),p=t(14818),V=t(28919),I=t(26386),L=t(82123),E=t(6325);const g={IconContribution:"base.contributions.icons"};var a;(function(F){function B(U,A){let k=U.defaults;for(;u.k.isThemeIcon(k);){const R=i.getIcon(k.id);if(!R)return;k=R.defaults}return k}F.getDefinition=B})(a||(a={}));var l;(function(F){function B(A){return{weight:A.weight,style:A.style,src:A.src.map(k=>({format:k.format,location:k.location.toString()}))}}F.toJSONObject=B;function U(A){const k=R=>(0,p.HD)(R)?R:void 0;if(A&&Array.isArray(A.src)&&A.src.every(R=>(0,p.HD)(R.format)&&(0,p.HD)(R.location)))return{weight:k(A.weight),style:k(A.style),src:A.src.map(R=>({format:R.format,location:V.o.parse(R.location)}))}}F.fromJSONObject=U})(l||(l={}));class d{constructor(){this._onDidChange=new _.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,I.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,I.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${u.k.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(B,U,A,k){const R=this.iconsById[B];if(R){if(A&&!R.description){R.description=A,this.iconSchema.properties[B].markdownDescription=`${A} $(${B})`;const Y=this.iconReferenceSchema.enum.indexOf(B);Y!==-1&&(this.iconReferenceSchema.enumDescriptions[Y]=A),this._onDidChange.fire()}return R}const $={id:B,description:A,defaults:U,deprecationMessage:k};this.iconsById[B]=$;const J={$ref:"#/definitions/icons"};return k&&(J.deprecationMessage=k),A&&(J.markdownDescription=`${A}: $(${B})`),this.iconSchema.properties[B]=J,this.iconReferenceSchema.enum.push(B),this.iconReferenceSchema.enumDescriptions.push(A||""),this._onDidChange.fire(),{id:B}}getIcons(){return Object.keys(this.iconsById).map(B=>this.iconsById[B])}getIcon(B){return this.iconsById[B]}getIconSchema(){return this.iconSchema}toString(){const B=(R,$)=>R.id.localeCompare($.id),U=R=>{for(;u.k.isThemeIcon(R.defaults);)R=this.iconsById[R.defaults.id];return`codicon codicon-${R?R.id:""}`},A=[];A.push("| preview     | identifier                        | default codicon ID                | description"),A.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const k=Object.keys(this.iconsById).map(R=>this.iconsById[R]);for(const R of k.filter($=>!!$.description).sort(B))A.push(`|<i class="${U(R)}"></i>|${R.id}|${u.k.isThemeIcon(R.defaults)?R.defaults.id:R.id}|${R.description||""}|`);A.push("| preview     | identifier                        "),A.push("| ----------- | --------------------------------- |");for(const R of k.filter($=>!u.k.isThemeIcon($.defaults)).sort(B))A.push(`|<i class="${U(R)}"></i>|${R.id}|`);return A.join(`
`)}}const i=new d;E.B.add(g.IconContribution,i);function s(F,B,U,A){return i.registerIcon(F,B,U,A)}function m(){return i}function b(){const F=(0,O.u)();for(const B in F){const U="\\"+F[B].toString(16);i.registerIcon(B,{fontCharacter:U})}}b();const c="vscode://schemas/icons",v=E.B.as(L.I.JSONContribution);v.registerSchema(c,i.getIconSchema());const C=new f.pY(()=>v.notifySchemaChanged(c),200);i.onDidChange(()=>{C.isScheduled()||C.schedule()});const S=s("widget-close",O.l.close,(0,I.NC)("widgetClose","Icon for the close action in widgets.")),N=s("goto-previous-location",O.l.arrowUp,(0,I.NC)("previousChangeIcon","Icon for goto previous editor location.")),P=s("goto-next-location",O.l.arrowDown,(0,I.NC)("nextChangeIcon","Icon for goto next editor location.")),M=u.k.modify(O.l.sync,"spin"),D=u.k.modify(O.l.loading,"spin")},49914:function(Rt,Be,t){"use strict";t.d(Be,{_T:function(){return u},c3:function(){return O},eL:function(){return f}});var f;(function(_){_.DARK="dark",_.LIGHT="light",_.HIGH_CONTRAST_DARK="hcDark",_.HIGH_CONTRAST_LIGHT="hcLight"})(f||(f={}));function O(_){return _===f.HIGH_CONTRAST_DARK||_===f.HIGH_CONTRAST_LIGHT}function u(_){return _===f.DARK||_===f.HIGH_CONTRAST_DARK}},58566:function(Rt,Be,t){"use strict";t.d(Be,{EN:function(){return I},IP:function(){return E},Ic:function(){return l},XE:function(){return V},bB:function(){return d},m6:function(){return L}});var f=t(56709),O=t(38431),u=t(44333),_=t(6325),p=t(49914);const V=(0,u.yh)("themeService");function I(i){return{id:i}}function L(i){switch(i){case p.eL.DARK:return"vs-dark";case p.eL.HIGH_CONTRAST_DARK:return"hc-black";case p.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const E={ThemingContribution:"base.contributions.theming"};class g{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new f.Q5}onColorThemeChange(s){return this.themingParticipants.push(s),this.onThemingParticipantAddedEmitter.fire(s),(0,O.OF)(()=>{const m=this.themingParticipants.indexOf(s);this.themingParticipants.splice(m,1)})}getThemingParticipants(){return this.themingParticipants}}const a=new g;_.B.add(E.ThemingContribution,a);function l(i){return a.onColorThemeChange(i)}class d extends O.JT{constructor(s){super(),this.themeService=s,this.theme=s.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(m=>this.onThemeChange(m)))}onThemeChange(s){this.theme=s,this.updateStyles()}updateStyles(){}}},48900:function(Rt,Be,t){"use strict";t.d(Be,{Xt:function(){return _},YO:function(){return u},gJ:function(){return p},tJ:function(){return O}});var f=t(44333);const O=(0,f.yh)("undoRedoService");class u{constructor(I,L){this.resource=I,this.elements=L}}class _{constructor(){this.id=_._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}_._ID=0,_.None=new _;class p{constructor(){this.id=p._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}p._ID=0,p.None=new p},83799:function(Rt,Be,t){"use strict";t.d(Be,{A6:function(){return s},c$:function(){return L},eb:function(){return I},ec:function(){return V},md:function(){return i},p$:function(){return b},uT:function(){return a},x:function(){return c}});var f=t(26386),O=t(75296),u=t(87057),_=t(28919),p=t(44333);const V=(0,p.yh)("contextService");function I(v){const C=v;return typeof(C==null?void 0:C.id)=="string"&&_.o.isUri(C.uri)}function L(v){const C=v;return typeof(C==null?void 0:C.id)=="string"&&!I(v)&&!l(v)}const E={id:"ext-dev"},g={id:"empty-window"};function a(v,C){if(typeof v=="string"||typeof v=="undefined")return typeof v=="string"?{id:(0,O.EZ)(v)}:C?E:g;const S=v;return S.configuration?{id:S.id,configPath:S.configuration}:S.folders.length===1?{id:S.id,uri:S.folders[0].uri}:{id:S.id}}function l(v){const C=v;return typeof(C==null?void 0:C.id)=="string"&&_.o.isUri(C.configPath)}class d{constructor(C,S,N,P,M){this._id=C,this._transient=N,this._configuration=P,this._ignorePathCasing=M,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=S}get folders(){return this._folders}set folders(C){this._folders=C,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(C){this._configuration=C}getFolder(C){return C&&this._foldersMap.findSubstr(C)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const C of this.folders)this._foldersMap.set(C.uri,C)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class i{constructor(C,S){this.raw=S,this.uri=C.uri,this.index=C.index,this.name=C.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const s="code-workspace",m=[{name:(0,f.NC)("codeWorkspace","Code Workspace"),extensions:[s]}],b="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function c(v){return v.id===b}},24905:function(Rt,Be,t){"use strict";t.d(Be,{Y:function(){return O}});var f=t(44333);const O=(0,f.yh)("workspaceTrustManagementService")},87631:function(Rt,Be){"use strict";Be.Z=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))}},5217:function(Rt,Be,t){var f=t(7278);function O(u,_){var p=typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(!p){if(Array.isArray(u)||(p=f(u))||_&&u&&typeof u.length=="number"){p&&(u=p);var V=0,I=function(){};return{s:I,n:function(){return V>=u.length?{done:!0}:{done:!1,value:u[V++]}},e:function(l){throw l},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L=!0,E=!1,g;return{s:function(){p=p.call(u)},n:function(){var l=p.next();return L=l.done,l},e:function(l){E=!0,g=l},f:function(){try{!L&&p.return!=null&&p.return()}finally{if(E)throw g}}}}Rt.exports=O,Rt.exports.__esModule=!0,Rt.exports.default=Rt.exports}}]);
