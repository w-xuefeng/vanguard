var gm=Object.defineProperty;var mm=(Ot,He,i)=>He in Ot?gm(Ot,He,{enumerable:!0,configurable:!0,writable:!0,value:i}):Ot[He]=i;var ad=(Ot,He,i)=>(mm(Ot,typeof He!="symbol"?He+"":He,i),i);(self.webpackChunk_vanguard_fe=self.webpackChunk_vanguard_fe||[]).push([[812],{37588:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return M}});var m=i(33028),B=i(2784),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"},_=f,v=i(9760),A=function(R,p){return B.createElement(v.Z,(0,m.Z)((0,m.Z)({},R),{},{ref:p,icon:_}))};A.displayName="AppstoreAddOutlined";var M=B.forwardRef(A)},77138:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return M}});var m=i(33028),B=i(2784),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},_=f,v=i(9760),A=function(R,p){return B.createElement(v.Z,(0,m.Z)((0,m.Z)({},R),{},{ref:p,icon:_}))};A.displayName="QuestionCircleOutlined";var M=B.forwardRef(A)},13569:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return M}});var m=i(33028),B=i(2784),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},_=f,v=i(9760),A=function(R,p){return B.createElement(v.Z,(0,m.Z)((0,m.Z)({},R),{},{ref:p,icon:_}))};A.displayName="SaveOutlined";var M=B.forwardRef(A)},17922:function(){"use strict"},55873:function(){"use strict"},12591:function(){"use strict"},93411:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return Cd}});var m=i(72779),B=i.n(m),f=i(94899),_=i(2784),v=i(35298),A=i(44153),E=de=>{const{prefixCls:Pe,className:tt,style:dt,size:ft,shape:Dt}=de,ct=B()({[`${Pe}-lg`]:ft==="large",[`${Pe}-sm`]:ft==="small"}),Jt=B()({[`${Pe}-circle`]:Dt==="circle",[`${Pe}-square`]:Dt==="square",[`${Pe}-round`]:Dt==="round"}),Ut=_.useMemo(()=>typeof ft=="number"?{width:ft,height:ft,lineHeight:`${ft}px`}:{},[ft]);return _.createElement("span",{className:B()(Pe,ct,Jt,tt),style:Object.assign(Object.assign({},Ut),dt)})},R=i(33569),p=i(44875),l=i(23707);const d=new R.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),g=de=>({height:de,lineHeight:`${de}px`}),n=de=>Object.assign({width:de},g(de)),a=de=>({background:de.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:d,animationDuration:de.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),C=de=>Object.assign({width:de*5,minWidth:de*5},g(de)),D=de=>{const{skeletonAvatarCls:Pe,color:tt,controlHeight:dt,controlHeightLG:ft,controlHeightSM:Dt}=de;return{[`${Pe}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:tt},n(dt)),[`${Pe}${Pe}-circle`]:{borderRadius:"50%"},[`${Pe}${Pe}-lg`]:Object.assign({},n(ft)),[`${Pe}${Pe}-sm`]:Object.assign({},n(Dt))}},u=de=>{const{controlHeight:Pe,borderRadiusSM:tt,skeletonInputCls:dt,controlHeightLG:ft,controlHeightSM:Dt,color:ct}=de;return{[`${dt}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:ct,borderRadius:tt},C(Pe)),[`${dt}-lg`]:Object.assign({},C(ft)),[`${dt}-sm`]:Object.assign({},C(Dt))}},S=de=>Object.assign({width:de},g(de)),w=de=>{const{skeletonImageCls:Pe,imageSizeBase:tt,color:dt,borderRadiusSM:ft}=de;return{[`${Pe}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:dt,borderRadius:ft},S(tt*2)),{[`${Pe}-path`]:{fill:"#bfbfbf"},[`${Pe}-svg`]:Object.assign(Object.assign({},S(tt)),{maxWidth:tt*4,maxHeight:tt*4}),[`${Pe}-svg${Pe}-svg-circle`]:{borderRadius:"50%"}}),[`${Pe}${Pe}-circle`]:{borderRadius:"50%"}}},L=(de,Pe,tt)=>{const{skeletonButtonCls:dt}=de;return{[`${tt}${dt}-circle`]:{width:Pe,minWidth:Pe,borderRadius:"50%"},[`${tt}${dt}-round`]:{borderRadius:Pe}}},N=de=>Object.assign({width:de*2,minWidth:de*2},g(de)),O=de=>{const{borderRadiusSM:Pe,skeletonButtonCls:tt,controlHeight:dt,controlHeightLG:ft,controlHeightSM:Dt,color:ct}=de;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${tt}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:ct,borderRadius:Pe,width:dt*2,minWidth:dt*2},N(dt))},L(de,dt,tt)),{[`${tt}-lg`]:Object.assign({},N(ft))}),L(de,ft,`${tt}-lg`)),{[`${tt}-sm`]:Object.assign({},N(Dt))}),L(de,Dt,`${tt}-sm`))},x=de=>{const{componentCls:Pe,skeletonAvatarCls:tt,skeletonTitleCls:dt,skeletonParagraphCls:ft,skeletonButtonCls:Dt,skeletonInputCls:ct,skeletonImageCls:Jt,controlHeight:Ut,controlHeightLG:fi,controlHeightSM:Ei,color:xi,padding:Mi,marginSM:Ri,borderRadius:Ni,skeletonTitleHeight:zi,skeletonBlockRadius:cn,skeletonParagraphLineHeight:rn,controlHeightXS:Qi,skeletonParagraphMarginTop:on}=de;return{[`${Pe}`]:{display:"table",width:"100%",[`${Pe}-header`]:{display:"table-cell",paddingInlineEnd:Mi,verticalAlign:"top",[`${tt}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:xi},n(Ut)),[`${tt}-circle`]:{borderRadius:"50%"},[`${tt}-lg`]:Object.assign({},n(fi)),[`${tt}-sm`]:Object.assign({},n(Ei))},[`${Pe}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${dt}`]:{width:"100%",height:zi,background:xi,borderRadius:cn,[`+ ${ft}`]:{marginBlockStart:Ei}},[`${ft}`]:{padding:0,"> li":{width:"100%",height:rn,listStyle:"none",background:xi,borderRadius:cn,"+ li":{marginBlockStart:Qi}}},[`${ft}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${Pe}-content`]:{[`${dt}, ${ft} > li`]:{borderRadius:Ni}}},[`${Pe}-with-avatar ${Pe}-content`]:{[`${dt}`]:{marginBlockStart:Ri,[`+ ${ft}`]:{marginBlockStart:on}}},[`${Pe}${Pe}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},O(de)),D(de)),u(de)),w(de)),[`${Pe}${Pe}-block`]:{width:"100%",[`${Dt}`]:{width:"100%"},[`${ct}`]:{width:"100%"}},[`${Pe}${Pe}-active`]:{[`
        ${dt},
        ${ft} > li,
        ${tt},
        ${Dt},
        ${ct},
        ${Jt}
      `]:Object.assign({},a(de))}}};var T=(0,p.Z)("Skeleton",de=>{const{componentCls:Pe}=de,tt=(0,l.TS)(de,{skeletonAvatarCls:`${Pe}-avatar`,skeletonTitleCls:`${Pe}-title`,skeletonParagraphCls:`${Pe}-paragraph`,skeletonButtonCls:`${Pe}-button`,skeletonInputCls:`${Pe}-input`,skeletonImageCls:`${Pe}-image`,imageSizeBase:de.controlHeight*1.5,skeletonTitleHeight:de.controlHeight/2,skeletonBlockRadius:de.borderRadiusSM,skeletonParagraphLineHeight:de.controlHeight/2,skeletonParagraphMarginTop:de.marginLG+de.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${de.color} 25%, ${de.colorGradientEnd} 37%, ${de.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[x(tt)]},de=>{const{colorFillContent:Pe,colorFill:tt}=de;return{color:Pe,colorGradientEnd:tt}}),U=de=>{const{prefixCls:Pe,className:tt,rootClassName:dt,active:ft,shape:Dt="circle",size:ct="default"}=de,{getPrefixCls:Jt}=_.useContext(v.E_),Ut=Jt("skeleton",Pe),[fi,Ei]=T(Ut),xi=(0,f.Z)(de,["prefixCls","className"]),Mi=B()(Ut,`${Ut}-element`,{[`${Ut}-active`]:ft},tt,dt,Ei);return fi(_.createElement("div",{className:Mi},_.createElement(E,Object.assign({prefixCls:`${Ut}-avatar`,shape:Dt,size:ct},xi))))},G=de=>{const{prefixCls:Pe,className:tt,rootClassName:dt,active:ft,block:Dt=!1,size:ct="default"}=de,{getPrefixCls:Jt}=_.useContext(v.E_),Ut=Jt("skeleton",Pe),[fi,Ei]=T(Ut),xi=(0,f.Z)(de,["prefixCls"]),Mi=B()(Ut,`${Ut}-element`,{[`${Ut}-active`]:ft,[`${Ut}-block`]:Dt},tt,dt,Ei);return fi(_.createElement("div",{className:Mi},_.createElement(E,Object.assign({prefixCls:`${Ut}-button`,size:ct},xi))))},z=i(33028),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},q=k,te=i(9760),X=function(Pe,tt){return _.createElement(te.Z,(0,z.Z)((0,z.Z)({},Pe),{},{ref:tt,icon:q}))};X.displayName="DotChartOutlined";var j=_.forwardRef(X),Y=de=>{const{prefixCls:Pe,className:tt,rootClassName:dt,style:ft,active:Dt,children:ct}=de,{getPrefixCls:Jt}=_.useContext(v.E_),Ut=Jt("skeleton",Pe),[fi,Ei]=T(Ut),xi=B()(Ut,`${Ut}-element`,{[`${Ut}-active`]:Dt},Ei,tt,dt),Mi=ct!=null?ct:_.createElement(j,null);return fi(_.createElement("div",{className:xi},_.createElement("div",{className:B()(`${Ut}-image`,tt),style:ft},Mi)))};const ee="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var De=de=>{const{prefixCls:Pe,className:tt,rootClassName:dt,style:ft,active:Dt}=de,{getPrefixCls:ct}=_.useContext(v.E_),Jt=ct("skeleton",Pe),[Ut,fi]=T(Jt),Ei=B()(Jt,`${Jt}-element`,{[`${Jt}-active`]:Dt},tt,dt,fi);return Ut(_.createElement("div",{className:Ei},_.createElement("div",{className:B()(`${Jt}-image`,tt),style:ft},_.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${Jt}-image-svg`},_.createElement("path",{d:ee,className:`${Jt}-image-path`})))))},be=de=>{const{prefixCls:Pe,className:tt,rootClassName:dt,active:ft,block:Dt,size:ct="default"}=de,{getPrefixCls:Jt}=_.useContext(v.E_),Ut=Jt("skeleton",Pe),[fi,Ei]=T(Ut),xi=(0,f.Z)(de,["prefixCls"]),Mi=B()(Ut,`${Ut}-element`,{[`${Ut}-active`]:ft,[`${Ut}-block`]:Dt},tt,dt,Ei);return fi(_.createElement("div",{className:Mi},_.createElement(E,Object.assign({prefixCls:`${Ut}-input`,size:ct},xi))))},xe=i(85942),ue=de=>{const Pe=Jt=>{const{width:Ut,rows:fi=2}=de;if(Array.isArray(Ut))return Ut[Jt];if(fi-1===Jt)return Ut},{prefixCls:tt,className:dt,style:ft,rows:Dt}=de,ct=(0,xe.Z)(Array(Dt)).map((Jt,Ut)=>_.createElement("li",{key:Ut,style:{width:Pe(Ut)}}));return _.createElement("ul",{className:B()(tt,dt),style:ft},ct)},_e=de=>{let{prefixCls:Pe,className:tt,width:dt,style:ft}=de;return _.createElement("h3",{className:B()(Pe,tt),style:Object.assign({width:dt},ft)})};function Ue(de){return de&&typeof de=="object"?de:{}}function Qe(de,Pe){return de&&!Pe?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Re(de,Pe){return!de&&Pe?{width:"38%"}:de&&Pe?{width:"50%"}:{}}function ie(de,Pe){const tt={};return(!de||!Pe)&&(tt.width="61%"),!de&&Pe?tt.rows=3:tt.rows=2,tt}const Z=de=>{const{prefixCls:Pe,loading:tt,className:dt,rootClassName:ft,style:Dt,children:ct,avatar:Jt=!1,title:Ut=!0,paragraph:fi=!0,active:Ei,round:xi}=de,{getPrefixCls:Mi,direction:Ri}=_.useContext(v.E_),Ni=Mi("skeleton",Pe),[zi,cn]=T(Ni);if(tt||!("loading"in de)){const rn=!!Jt,Qi=!!Ut,on=!!fi;let sn;if(rn){const Tn=Object.assign(Object.assign({prefixCls:`${Ni}-avatar`},Qe(Qi,on)),Ue(Jt));sn=_.createElement("div",{className:`${Ni}-header`},_.createElement(E,Object.assign({},Tn)))}let Nn;if(Qi||on){let Tn;if(Qi){const Mn=Object.assign(Object.assign({prefixCls:`${Ni}-title`},Re(rn,on)),Ue(Ut));Tn=_.createElement(_e,Object.assign({},Mn))}let Zn;if(on){const Mn=Object.assign(Object.assign({prefixCls:`${Ni}-paragraph`},ie(rn,Qi)),Ue(fi));Zn=_.createElement(ue,Object.assign({},Mn))}Nn=_.createElement("div",{className:`${Ni}-content`},Tn,Zn)}const Cn=B()(Ni,{[`${Ni}-with-avatar`]:rn,[`${Ni}-active`]:Ei,[`${Ni}-rtl`]:Ri==="rtl",[`${Ni}-round`]:xi},dt,ft,cn);return zi(_.createElement("div",{className:Cn,style:Dt},sn,Nn))}return typeof ct!="undefined"?ct:null};Z.Button=G,Z.Avatar=U,Z.Input=be,Z.Image=De,Z.Node=Y;var se=Z,ve=se,he=i(65393),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Ee=ce,We=function(Pe,tt){return _.createElement(te.Z,(0,z.Z)((0,z.Z)({},Pe),{},{ref:tt,icon:Ee}))};We.displayName="EllipsisOutlined";var it=_.forwardRef(We),Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},je=Ze,Te=function(Pe,tt){return _.createElement(te.Z,(0,z.Z)((0,z.Z)({},Pe),{},{ref:tt,icon:je}))};Te.displayName="PlusOutlined";var Ie=_.forwardRef(Te),oe=i(7896),ge=i(56666),Ce=i(76854),me=i(86522),Me=i(99980),qe=i(87631),ot=i(32340),ut=i(18511),ht=(0,_.createContext)(null),Ct=_.forwardRef(function(de,Pe){var tt=de.prefixCls,dt=de.className,ft=de.style,Dt=de.id,ct=de.active,Jt=de.tabKey,Ut=de.children;return _.createElement("div",{id:Dt&&"".concat(Dt,"-panel-").concat(Jt),role:"tabpanel",tabIndex:ct?0:-1,"aria-labelledby":Dt&&"".concat(Dt,"-tab-").concat(Jt),"aria-hidden":!ct,style:ft,className:B()(tt,ct&&"".concat(tt,"-active"),dt),ref:Pe},Ut)}),Pt=Ct,bt=["key","forceRender","style","className"];function $t(de){var Pe=de.id,tt=de.activeKey,dt=de.animated,ft=de.tabPosition,Dt=de.destroyInactiveTabPane,ct=_.useContext(ht),Jt=ct.prefixCls,Ut=ct.tabs,fi=dt.tabPane,Ei="".concat(Jt,"-tabpane");return _.createElement("div",{className:B()("".concat(Jt,"-content-holder"))},_.createElement("div",{className:B()("".concat(Jt,"-content"),"".concat(Jt,"-content-").concat(ft),(0,ge.Z)({},"".concat(Jt,"-content-animated"),fi))},Ut.map(function(xi){var Mi=xi.key,Ri=xi.forceRender,Ni=xi.style,zi=xi.className,cn=(0,Me.Z)(xi,bt),rn=Mi===tt;return _.createElement(ut.ZP,(0,oe.Z)({key:Mi,visible:rn,forceRender:Ri,removeOnLeave:!!Dt,leavedClassName:"".concat(Ei,"-hidden")},dt.tabPaneMotion),function(Qi,on){var sn=Qi.style,Nn=Qi.className;return _.createElement(Pt,(0,oe.Z)({},cn,{prefixCls:Ei,id:Pe,tabKey:Mi,animated:fi,active:rn,style:(0,z.Z)((0,z.Z)({},Ni),sn),className:B()(zi,Nn),ref:on}))})})))}var Mt=i(62300),Xe=i(46574),Lt=i(29694),Xt=i(16381),zt={width:0,height:0,left:0,top:0};function Fe(de,Pe,tt){return(0,_.useMemo)(function(){for(var dt,ft=new Map,Dt=Pe.get((dt=de[0])===null||dt===void 0?void 0:dt.key)||zt,ct=Dt.left+Dt.width,Jt=0;Jt<de.length;Jt+=1){var Ut=de[Jt].key,fi=Pe.get(Ut);if(!fi){var Ei;fi=Pe.get((Ei=de[Jt-1])===null||Ei===void 0?void 0:Ei.key)||zt}var xi=ft.get(Ut)||(0,z.Z)({},fi);xi.right=ct-xi.left-xi.width,ft.set(Ut,xi)}return ft},[de.map(function(dt){return dt.key}).join("_"),Pe,tt])}function et(de,Pe){var tt=_.useRef(de),dt=_.useState({}),ft=(0,Ce.Z)(dt,2),Dt=ft[1];function ct(Jt){var Ut=typeof Jt=="function"?Jt(tt.current):Jt;Ut!==tt.current&&Pe(Ut,tt.current),tt.current=Ut,Dt({})}return[tt.current,ct]}var pt=.1,It=.01,kt=20,yt=Math.pow(.995,kt);function St(de,Pe){var tt=(0,_.useState)(),dt=(0,Ce.Z)(tt,2),ft=dt[0],Dt=dt[1],ct=(0,_.useState)(0),Jt=(0,Ce.Z)(ct,2),Ut=Jt[0],fi=Jt[1],Ei=(0,_.useState)(0),xi=(0,Ce.Z)(Ei,2),Mi=xi[0],Ri=xi[1],Ni=(0,_.useState)(),zi=(0,Ce.Z)(Ni,2),cn=zi[0],rn=zi[1],Qi=(0,_.useRef)();function on(Mn){var ss=Mn.touches[0],Dn=ss.screenX,xn=ss.screenY;Dt({x:Dn,y:xn}),window.clearInterval(Qi.current)}function sn(Mn){if(ft){Mn.preventDefault();var ss=Mn.touches[0],Dn=ss.screenX,xn=ss.screenY;Dt({x:Dn,y:xn});var $n=Dn-ft.x,as=xn-ft.y;Pe($n,as);var Cs=Date.now();fi(Cs),Ri(Cs-Ut),rn({x:$n,y:as})}}function Nn(){if(ft&&(Dt(null),rn(null),cn)){var Mn=cn.x/Mi,ss=cn.y/Mi,Dn=Math.abs(Mn),xn=Math.abs(ss);if(Math.max(Dn,xn)<pt)return;var $n=Mn,as=ss;Qi.current=window.setInterval(function(){if(Math.abs($n)<It&&Math.abs(as)<It){window.clearInterval(Qi.current);return}$n*=yt,as*=yt,Pe($n*kt,as*kt)},kt)}}var Cn=(0,_.useRef)();function Tn(Mn){var ss=Mn.deltaX,Dn=Mn.deltaY,xn=0,$n=Math.abs(ss),as=Math.abs(Dn);$n===as?xn=Cn.current==="x"?ss:Dn:$n>as?(xn=ss,Cn.current="x"):(xn=Dn,Cn.current="y"),Pe(-xn,-xn)&&Mn.preventDefault()}var Zn=(0,_.useRef)(null);Zn.current={onTouchStart:on,onTouchMove:sn,onTouchEnd:Nn,onWheel:Tn},_.useEffect(function(){function Mn($n){Zn.current.onTouchStart($n)}function ss($n){Zn.current.onTouchMove($n)}function Dn($n){Zn.current.onTouchEnd($n)}function xn($n){Zn.current.onWheel($n)}return document.addEventListener("touchmove",ss,{passive:!1}),document.addEventListener("touchend",Dn,{passive:!1}),de.current.addEventListener("touchstart",Mn,{passive:!1}),de.current.addEventListener("wheel",xn),function(){document.removeEventListener("touchmove",ss),document.removeEventListener("touchend",Dn)}},[])}var Gt=i(63803);function ti(de){var Pe=(0,_.useState)(0),tt=(0,Ce.Z)(Pe,2),dt=tt[0],ft=tt[1],Dt=(0,_.useRef)(0),ct=(0,_.useRef)();return ct.current=de,(0,Gt.o)(function(){var Jt;(Jt=ct.current)===null||Jt===void 0||Jt.call(ct)},[dt]),function(){Dt.current===dt&&(Dt.current+=1,ft(Dt.current))}}function ri(de){var Pe=(0,_.useRef)([]),tt=(0,_.useState)({}),dt=(0,Ce.Z)(tt,2),ft=dt[1],Dt=(0,_.useRef)(typeof de=="function"?de():de),ct=ti(function(){var Ut=Dt.current;Pe.current.forEach(function(fi){Ut=fi(Ut)}),Pe.current=[],Dt.current=Ut,ft({})});function Jt(Ut){Pe.current.push(Ut),ct()}return[Dt.current,Jt]}var li={width:0,height:0,left:0,top:0,right:0};function gi(de,Pe,tt,dt,ft,Dt,ct){var Jt=ct.tabs,Ut=ct.tabPosition,fi=ct.rtl,Ei,xi,Mi;return["top","bottom"].includes(Ut)?(Ei="width",xi=fi?"right":"left",Mi=Math.abs(tt)):(Ei="height",xi="top",Mi=-tt),(0,_.useMemo)(function(){if(!Jt.length)return[0,0];for(var Ri=Jt.length,Ni=Ri,zi=0;zi<Ri;zi+=1){var cn=de.get(Jt[zi].key)||li;if(cn[xi]+cn[Ei]>Mi+Pe){Ni=zi-1;break}}for(var rn=0,Qi=Ri-1;Qi>=0;Qi-=1){var on=de.get(Jt[Qi].key)||li;if(on[xi]<Mi){rn=Qi+1;break}}return[rn,Ni]},[de,Pe,dt,ft,Dt,Mi,Ut,Jt.map(function(Ri){return Ri.key}).join("_"),fi])}function Pi(de){var Pe;return de instanceof Map?(Pe={},de.forEach(function(tt,dt){Pe[dt]=tt})):Pe=de,JSON.stringify(Pe)}var Hi="TABS_DQ";function ji(de){return String(de).replace(/"/g,Hi)}function bn(de,Pe){var tt=de.prefixCls,dt=de.editable,ft=de.locale,Dt=de.style;return!dt||dt.showAdd===!1?null:_.createElement("button",{ref:Pe,type:"button",className:"".concat(tt,"-nav-add"),style:Dt,"aria-label":(ft==null?void 0:ft.addAriaLabel)||"Add tab",onClick:function(Jt){dt.onEdit("add",{event:Jt})}},dt.addIcon||"+")}var Rn=_.forwardRef(bn),bs=_.forwardRef(function(de,Pe){var tt=de.position,dt=de.prefixCls,ft=de.extra;if(!ft)return null;var Dt,ct={};return(0,me.Z)(ft)==="object"&&!_.isValidElement(ft)?ct=ft:ct.right=ft,tt==="right"&&(Dt=ct.right),tt==="left"&&(Dt=ct.left),Dt?_.createElement("div",{className:"".concat(dt,"-extra-content"),ref:Pe},Dt):null}),ms=bs,ki=i(9249),Vi=i(87371),Ki=i(80753),es=i(64136),Ls=i(33219),ts=i(28316),Kn=i(88637),Wn=i(50553);function yn(de,Pe,tt,dt){var ft=ts.unstable_batchedUpdates?function(ct){ts.unstable_batchedUpdates(tt,ct)}:tt;return de.addEventListener&&de.addEventListener(Pe,ft,dt),{remove:function(){de.removeEventListener&&de.removeEventListener(Pe,ft,dt)}}}var en=i(39588),Ms=(0,_.forwardRef)(function(de,Pe){var tt=de.didUpdate,dt=de.getContainer,ft=de.children,Dt=(0,_.useRef)(),ct=(0,_.useRef)();(0,_.useImperativeHandle)(Pe,function(){return{}});var Jt=(0,_.useRef)(!1);return!Jt.current&&(0,en.Z)()&&(ct.current=dt(),Dt.current=ct.current.parentNode,Jt.current=!0),(0,_.useEffect)(function(){tt==null||tt(de)}),(0,_.useEffect)(function(){return ct.current.parentNode===null&&Dt.current!==null&&Dt.current.appendChild(ct.current),function(){var Ut,fi;(Ut=ct.current)===null||Ut===void 0||(fi=Ut.parentNode)===null||fi===void 0||fi.removeChild(ct.current)}},[]),ct.current?ts.createPortal(ft,ct.current):null}),Ss=Ms;function ps(de,Pe,tt){return tt?de[0]===Pe[0]:de[0]===Pe[0]&&de[1]===Pe[1]}function oo(de,Pe,tt){var dt=de[Pe]||{};return(0,z.Z)((0,z.Z)({},dt),tt)}function hs(de,Pe,tt,dt){for(var ft=tt.points,Dt=Object.keys(de),ct=0;ct<Dt.length;ct+=1){var Jt=Dt[ct];if(ps(de[Jt].points,ft,dt))return"".concat(Pe,"-placement-").concat(Jt)}return""}function Ts(de){var Pe=de.prefixCls,tt=de.motion,dt=de.animation,ft=de.transitionName;return tt||(dt?{motionName:"".concat(Pe,"-").concat(dt)}:ft?{motionName:ft}:null)}function In(de){var Pe=de.prefixCls,tt=de.visible,dt=de.zIndex,ft=de.mask,Dt=de.maskMotion,ct=de.maskAnimation,Jt=de.maskTransitionName;if(!ft)return null;var Ut={};return(Dt||Jt||ct)&&(Ut=(0,z.Z)({motionAppear:!0},Ts({motion:Dt,prefixCls:Pe,transitionName:Jt,animation:ct}))),_.createElement(ut.ZP,(0,oe.Z)({},Ut,{visible:tt,removeOnLeave:!0}),function(fi){var Ei=fi.className;return _.createElement("div",{style:{zIndex:dt},className:B()("".concat(Pe,"-mask"),Ei)})})}function Yn(de,Pe){var tt=Object.keys(de);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(de);Pe&&(dt=dt.filter(function(ft){return Object.getOwnPropertyDescriptor(de,ft).enumerable})),tt.push.apply(tt,dt)}return tt}function pi(de){for(var Pe=1;Pe<arguments.length;Pe++){var tt=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?Yn(Object(tt),!0).forEach(function(dt){ui(de,dt,tt[dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(tt)):Yn(Object(tt)).forEach(function(dt){Object.defineProperty(de,dt,Object.getOwnPropertyDescriptor(tt,dt))})}return de}function ci(de){return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},ci(de)}function ui(de,Pe,tt){return Pe in de?Object.defineProperty(de,Pe,{value:tt,enumerable:!0,configurable:!0,writable:!0}):de[Pe]=tt,de}var wt,mt={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Oe(){if(wt!==void 0)return wt;wt="";var de=document.createElement("p").style,Pe="Transform";for(var tt in mt)tt+Pe in de&&(wt=tt);return wt}function le(){return Oe()?"".concat(Oe(),"TransitionProperty"):"transitionProperty"}function Be(){return Oe()?"".concat(Oe(),"Transform"):"transform"}function Ke(de,Pe){var tt=le();tt&&(de.style[tt]=Pe,tt!=="transitionProperty"&&(de.style.transitionProperty=Pe))}function Ge(de,Pe){var tt=Be();tt&&(de.style[tt]=Pe,tt!=="transform"&&(de.style.transform=Pe))}function ye(de){return de.style.transitionProperty||de.style[le()]}function ze(de){var Pe=window.getComputedStyle(de,null),tt=Pe.getPropertyValue("transform")||Pe.getPropertyValue(Be());if(tt&&tt!=="none"){var dt=tt.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(dt[12]||dt[4],0),y:parseFloat(dt[13]||dt[5],0)}}return{x:0,y:0}}var lt=/matrix\((.*)\)/,Rt=/matrix3d\((.*)\)/;function Bt(de,Pe){var tt=window.getComputedStyle(de,null),dt=tt.getPropertyValue("transform")||tt.getPropertyValue(Be());if(dt&&dt!=="none"){var ft,Dt=dt.match(lt);if(Dt)Dt=Dt[1],ft=Dt.split(",").map(function(Jt){return parseFloat(Jt,10)}),ft[4]=Pe.x,ft[5]=Pe.y,Ge(de,"matrix(".concat(ft.join(","),")"));else{var ct=dt.match(Rt)[1];ft=ct.split(",").map(function(Jt){return parseFloat(Jt,10)}),ft[12]=Pe.x,ft[13]=Pe.y,Ge(de,"matrix3d(".concat(ft.join(","),")"))}}else Ge(de,"translateX(".concat(Pe.x,"px) translateY(").concat(Pe.y,"px) translateZ(0)"))}var At=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ii;function vi(de){var Pe=de.style.display;de.style.display="none",de.offsetHeight,de.style.display=Pe}function yi(de,Pe,tt){var dt=tt;if(ci(Pe)==="object"){for(var ft in Pe)Pe.hasOwnProperty(ft)&&yi(de,ft,Pe[ft]);return}if(typeof dt!="undefined"){typeof dt=="number"&&(dt="".concat(dt,"px")),de.style[Pe]=dt;return}return ii(de,Pe)}function hi(de){var Pe,tt,dt,ft=de.ownerDocument,Dt=ft.body,ct=ft&&ft.documentElement;return Pe=de.getBoundingClientRect(),tt=Math.floor(Pe.left),dt=Math.floor(Pe.top),tt-=ct.clientLeft||Dt.clientLeft||0,dt-=ct.clientTop||Dt.clientTop||0,{left:tt,top:dt}}function Si(de,Pe){var tt=de["page".concat(Pe?"Y":"X","Offset")],dt="scroll".concat(Pe?"Top":"Left");if(typeof tt!="number"){var ft=de.document;tt=ft.documentElement[dt],typeof tt!="number"&&(tt=ft.body[dt])}return tt}function Oi(de){return Si(de)}function Ai(de){return Si(de,!0)}function Zi(de){var Pe=hi(de),tt=de.ownerDocument,dt=tt.defaultView||tt.parentWindow;return Pe.left+=Oi(dt),Pe.top+=Ai(dt),Pe}function pn(de){return de!=null&&de==de.window}function Pn(de){return pn(de)?de.document:de.nodeType===9?de:de.ownerDocument}function cs(de,Pe,tt){var dt=tt,ft="",Dt=Pn(de);return dt=dt||Dt.defaultView.getComputedStyle(de,null),dt&&(ft=dt.getPropertyValue(Pe)||dt[Pe]),ft}var ds=new RegExp("^(".concat(At,")(?!px)[a-z%]+$"),"i"),Es=/^(top|right|bottom|left)$/,ro="currentStyle",Gs="runtimeStyle",Ws="left",Hr="px";function Fn(de,Pe){var tt=de[ro]&&de[ro][Pe];if(ds.test(tt)&&!Es.test(Pe)){var dt=de.style,ft=dt[Ws],Dt=de[Gs][Ws];de[Gs][Ws]=de[ro][Ws],dt[Ws]=Pe==="fontSize"?"1em":tt||0,tt=dt.pixelLeft+Hr,dt[Ws]=ft,de[Gs][Ws]=Dt}return tt===""?"auto":tt}typeof window!="undefined"&&(ii=window.getComputedStyle?cs:Fn);function Ci(de,Pe){return de==="left"?Pe.useCssRight?"right":de:Pe.useCssBottom?"bottom":de}function Xi(de){if(de==="left")return"right";if(de==="right")return"left";if(de==="top")return"bottom";if(de==="bottom")return"top"}function tn(de,Pe,tt){yi(de,"position")==="static"&&(de.style.position="relative");var dt=-999,ft=-999,Dt=Ci("left",tt),ct=Ci("top",tt),Jt=Xi(Dt),Ut=Xi(ct);Dt!=="left"&&(dt=999),ct!=="top"&&(ft=999);var fi="",Ei=Zi(de);("left"in Pe||"top"in Pe)&&(fi=ye(de)||"",Ke(de,"none")),"left"in Pe&&(de.style[Jt]="",de.style[Dt]="".concat(dt,"px")),"top"in Pe&&(de.style[Ut]="",de.style[ct]="".concat(ft,"px")),vi(de);var xi=Zi(de),Mi={};for(var Ri in Pe)if(Pe.hasOwnProperty(Ri)){var Ni=Ci(Ri,tt),zi=Ri==="left"?dt:ft,cn=Ei[Ri]-xi[Ri];Ni===Ri?Mi[Ni]=zi+cn:Mi[Ni]=zi-cn}yi(de,Mi),vi(de),("left"in Pe||"top"in Pe)&&Ke(de,fi);var rn={};for(var Qi in Pe)if(Pe.hasOwnProperty(Qi)){var on=Ci(Qi,tt),sn=Pe[Qi]-Ei[Qi];Qi===on?rn[on]=Mi[on]+sn:rn[on]=Mi[on]-sn}yi(de,rn)}function us(de,Pe){var tt=Zi(de),dt=ze(de),ft={x:dt.x,y:dt.y};"left"in Pe&&(ft.x=dt.x+Pe.left-tt.left),"top"in Pe&&(ft.y=dt.y+Pe.top-tt.top),Bt(de,ft)}function Wt(de,Pe,tt){if(tt.ignoreShake){var dt=Zi(de),ft=dt.left.toFixed(0),Dt=dt.top.toFixed(0),ct=Pe.left.toFixed(0),Jt=Pe.top.toFixed(0);if(ft===ct&&Dt===Jt)return}tt.useCssRight||tt.useCssBottom?tn(de,Pe,tt):tt.useCssTransform&&Be()in document.body.style?us(de,Pe):tn(de,Pe,tt)}function Zt(de,Pe){for(var tt=0;tt<de.length;tt++)Pe(de[tt])}function Yt(de){return ii(de,"boxSizing")==="border-box"}var oi=["margin","border","padding"],mi=-1,Fi=2,Di=1,Ji=0;function Ui(de,Pe,tt){var dt={},ft=de.style,Dt;for(Dt in Pe)Pe.hasOwnProperty(Dt)&&(dt[Dt]=ft[Dt],ft[Dt]=Pe[Dt]);tt.call(de);for(Dt in Pe)Pe.hasOwnProperty(Dt)&&(ft[Dt]=dt[Dt])}function _n(de,Pe,tt){var dt=0,ft,Dt,ct;for(Dt=0;Dt<Pe.length;Dt++)if(ft=Pe[Dt],ft)for(ct=0;ct<tt.length;ct++){var Jt=void 0;ft==="border"?Jt="".concat(ft).concat(tt[ct],"Width"):Jt=ft+tt[ct],dt+=parseFloat(ii(de,Jt))||0}return dt}var gn={getParent:function(Pe){var tt=Pe;do tt.nodeType===11&&tt.host?tt=tt.host:tt=tt.parentNode;while(tt&&tt.nodeType!==1&&tt.nodeType!==9);return tt}};Zt(["Width","Height"],function(de){gn["doc".concat(de)]=function(Pe){var tt=Pe.document;return Math.max(tt.documentElement["scroll".concat(de)],tt.body["scroll".concat(de)],gn["viewport".concat(de)](tt))},gn["viewport".concat(de)]=function(Pe){var tt="client".concat(de),dt=Pe.document,ft=dt.body,Dt=dt.documentElement,ct=Dt[tt];return dt.compatMode==="CSS1Compat"&&ct||ft&&ft[tt]||ct}});function vn(de,Pe,tt){var dt=tt;if(pn(de))return Pe==="width"?gn.viewportWidth(de):gn.viewportHeight(de);if(de.nodeType===9)return Pe==="width"?gn.docWidth(de):gn.docHeight(de);var ft=Pe==="width"?["Left","Right"]:["Top","Bottom"],Dt=Math.floor(Pe==="width"?de.getBoundingClientRect().width:de.getBoundingClientRect().height),ct=Yt(de),Jt=0;(Dt==null||Dt<=0)&&(Dt=void 0,Jt=ii(de,Pe),(Jt==null||Number(Jt)<0)&&(Jt=de.style[Pe]||0),Jt=Math.floor(parseFloat(Jt))||0),dt===void 0&&(dt=ct?Di:mi);var Ut=Dt!==void 0||ct,fi=Dt||Jt;return dt===mi?Ut?fi-_n(de,["border","padding"],ft):Jt:Ut?dt===Di?fi:fi+(dt===Fi?-_n(de,["border"],ft):_n(de,["margin"],ft)):Jt+_n(de,oi.slice(dt),ft)}var Vn={position:"absolute",visibility:"hidden",display:"block"};function Bn(){for(var de=arguments.length,Pe=new Array(de),tt=0;tt<de;tt++)Pe[tt]=arguments[tt];var dt,ft=Pe[0];return ft.offsetWidth!==0?dt=vn.apply(void 0,Pe):Ui(ft,Vn,function(){dt=vn.apply(void 0,Pe)}),dt}Zt(["width","height"],function(de){var Pe=de.charAt(0).toUpperCase()+de.slice(1);gn["outer".concat(Pe)]=function(dt,ft){return dt&&Bn(dt,de,ft?Ji:Di)};var tt=de==="width"?["Left","Right"]:["Top","Bottom"];gn[de]=function(dt,ft){var Dt=ft;if(Dt!==void 0){if(dt){var ct=Yt(dt);return ct&&(Dt+=_n(dt,["padding","border"],tt)),yi(dt,de,Dt)}return}return dt&&Bn(dt,de,mi)}});function Kt(de,Pe){for(var tt in Pe)Pe.hasOwnProperty(tt)&&(de[tt]=Pe[tt]);return de}var F={getWindow:function(Pe){if(Pe&&Pe.document&&Pe.setTimeout)return Pe;var tt=Pe.ownerDocument||Pe;return tt.defaultView||tt.parentWindow},getDocument:Pn,offset:function(Pe,tt,dt){if(typeof tt!="undefined")Wt(Pe,tt,dt||{});else return Zi(Pe)},isWindow:pn,each:Zt,css:yi,clone:function(Pe){var tt,dt={};for(tt in Pe)Pe.hasOwnProperty(tt)&&(dt[tt]=Pe[tt]);var ft=Pe.overflow;if(ft)for(tt in Pe)Pe.hasOwnProperty(tt)&&(dt.overflow[tt]=Pe.overflow[tt]);return dt},mix:Kt,getWindowScrollLeft:function(Pe){return Oi(Pe)},getWindowScrollTop:function(Pe){return Ai(Pe)},merge:function(){for(var Pe={},tt=0;tt<arguments.length;tt++)F.mix(Pe,tt<0||arguments.length<=tt?void 0:arguments[tt]);return Pe},viewportWidth:0,viewportHeight:0};Kt(F,gn);var r=F.getParent;function I(de){if(F.isWindow(de)||de.nodeType===9)return null;var Pe=F.getDocument(de),tt=Pe.body,dt,ft=F.css(de,"position"),Dt=ft==="fixed"||ft==="absolute";if(!Dt)return de.nodeName.toLowerCase()==="html"?null:r(de);for(dt=r(de);dt&&dt!==tt&&dt.nodeType!==9;dt=r(dt))if(ft=F.css(dt,"position"),ft!=="static")return dt;return null}var $=F.getParent;function ae(de){if(F.isWindow(de)||de.nodeType===9)return!1;var Pe=F.getDocument(de),tt=Pe.body,dt=null;for(dt=$(de);dt&&dt!==tt&&dt!==Pe;dt=$(dt)){var ft=F.css(dt,"position");if(ft==="fixed")return!0}return!1}function we(de,Pe){for(var tt={left:0,right:1/0,top:0,bottom:1/0},dt=I(de),ft=F.getDocument(de),Dt=ft.defaultView||ft.parentWindow,ct=ft.body,Jt=ft.documentElement;dt;){if((navigator.userAgent.indexOf("MSIE")===-1||dt.clientWidth!==0)&&dt!==ct&&dt!==Jt&&F.css(dt,"overflow")!=="visible"){var Ut=F.offset(dt);Ut.left+=dt.clientLeft,Ut.top+=dt.clientTop,tt.top=Math.max(tt.top,Ut.top),tt.right=Math.min(tt.right,Ut.left+dt.clientWidth),tt.bottom=Math.min(tt.bottom,Ut.top+dt.clientHeight),tt.left=Math.max(tt.left,Ut.left)}else if(dt===ct||dt===Jt)break;dt=I(dt)}var fi=null;if(!F.isWindow(de)&&de.nodeType!==9){fi=de.style.position;var Ei=F.css(de,"position");Ei==="absolute"&&(de.style.position="fixed")}var xi=F.getWindowScrollLeft(Dt),Mi=F.getWindowScrollTop(Dt),Ri=F.viewportWidth(Dt),Ni=F.viewportHeight(Dt),zi=Jt.scrollWidth,cn=Jt.scrollHeight,rn=window.getComputedStyle(ct);if(rn.overflowX==="hidden"&&(zi=Dt.innerWidth),rn.overflowY==="hidden"&&(cn=Dt.innerHeight),de.style&&(de.style.position=fi),Pe||ae(de))tt.left=Math.max(tt.left,xi),tt.top=Math.max(tt.top,Mi),tt.right=Math.min(tt.right,xi+Ri),tt.bottom=Math.min(tt.bottom,Mi+Ni);else{var Qi=Math.max(zi,xi+Ri);tt.right=Math.min(tt.right,Qi);var on=Math.max(cn,Mi+Ni);tt.bottom=Math.min(tt.bottom,on)}return tt.top>=0&&tt.left>=0&&tt.bottom>tt.top&&tt.right>tt.left?tt:null}function ke(de,Pe,tt,dt){var ft=F.clone(de),Dt={width:Pe.width,height:Pe.height};return dt.adjustX&&ft.left<tt.left&&(ft.left=tt.left),dt.resizeWidth&&ft.left>=tt.left&&ft.left+Dt.width>tt.right&&(Dt.width-=ft.left+Dt.width-tt.right),dt.adjustX&&ft.left+Dt.width>tt.right&&(ft.left=Math.max(tt.right-Dt.width,tt.left)),dt.adjustY&&ft.top<tt.top&&(ft.top=tt.top),dt.resizeHeight&&ft.top>=tt.top&&ft.top+Dt.height>tt.bottom&&(Dt.height-=ft.top+Dt.height-tt.bottom),dt.adjustY&&ft.top+Dt.height>tt.bottom&&(ft.top=Math.max(tt.bottom-Dt.height,tt.top)),F.mix(ft,Dt)}function nt(de){var Pe,tt,dt;if(!F.isWindow(de)&&de.nodeType!==9)Pe=F.offset(de),tt=F.outerWidth(de),dt=F.outerHeight(de);else{var ft=F.getWindow(de);Pe={left:F.getWindowScrollLeft(ft),top:F.getWindowScrollTop(ft)},tt=F.viewportWidth(ft),dt=F.viewportHeight(ft)}return Pe.width=tt,Pe.height=dt,Pe}function at(de,Pe){var tt=Pe.charAt(0),dt=Pe.charAt(1),ft=de.width,Dt=de.height,ct=de.left,Jt=de.top;return tt==="c"?Jt+=Dt/2:tt==="b"&&(Jt+=Dt),dt==="c"?ct+=ft/2:dt==="r"&&(ct+=ft),{left:ct,top:Jt}}function _t(de,Pe,tt,dt,ft){var Dt=at(Pe,tt[1]),ct=at(de,tt[0]),Jt=[ct.left-Dt.left,ct.top-Dt.top];return{left:Math.round(de.left-Jt[0]+dt[0]-ft[0]),top:Math.round(de.top-Jt[1]+dt[1]-ft[1])}}function xt(de,Pe,tt){return de.left<tt.left||de.left+Pe.width>tt.right}function Et(de,Pe,tt){return de.top<tt.top||de.top+Pe.height>tt.bottom}function Ft(de,Pe,tt){return de.left>tt.right||de.left+Pe.width<tt.left}function Vt(de,Pe,tt){return de.top>tt.bottom||de.top+Pe.height<tt.top}function Qt(de,Pe,tt){var dt=[];return F.each(de,function(ft){dt.push(ft.replace(Pe,function(Dt){return tt[Dt]}))}),dt}function si(de,Pe){return de[Pe]=-de[Pe],de}function wi(de,Pe){var tt;return/%$/.test(de)?tt=parseInt(de.substring(0,de.length-1),10)/100*Pe:tt=parseInt(de,10),tt||0}function Ti(de,Pe){de[0]=wi(de[0],Pe.width),de[1]=wi(de[1],Pe.height)}function Wi(de,Pe,tt,dt){var ft=tt.points,Dt=tt.offset||[0,0],ct=tt.targetOffset||[0,0],Jt=tt.overflow,Ut=tt.source||de;Dt=[].concat(Dt),ct=[].concat(ct),Jt=Jt||{};var fi={},Ei=0,xi=!!(Jt&&Jt.alwaysByViewport),Mi=we(Ut,xi),Ri=nt(Ut);Ti(Dt,Ri),Ti(ct,Pe);var Ni=_t(Ri,Pe,ft,Dt,ct),zi=F.merge(Ri,Ni);if(Mi&&(Jt.adjustX||Jt.adjustY)&&dt){if(Jt.adjustX&&xt(Ni,Ri,Mi)){var cn=Qt(ft,/[lr]/gi,{l:"r",r:"l"}),rn=si(Dt,0),Qi=si(ct,0),on=_t(Ri,Pe,cn,rn,Qi);Ft(on,Ri,Mi)||(Ei=1,ft=cn,Dt=rn,ct=Qi)}if(Jt.adjustY&&Et(Ni,Ri,Mi)){var sn=Qt(ft,/[tb]/gi,{t:"b",b:"t"}),Nn=si(Dt,1),Cn=si(ct,1),Tn=_t(Ri,Pe,sn,Nn,Cn);Vt(Tn,Ri,Mi)||(Ei=1,ft=sn,Dt=Nn,ct=Cn)}Ei&&(Ni=_t(Ri,Pe,ft,Dt,ct),F.mix(zi,Ni));var Zn=xt(Ni,Ri,Mi),Mn=Et(Ni,Ri,Mi);if(Zn||Mn){var ss=ft;Zn&&(ss=Qt(ft,/[lr]/gi,{l:"r",r:"l"})),Mn&&(ss=Qt(ft,/[tb]/gi,{t:"b",b:"t"})),ft=ss,Dt=tt.offset||[0,0],ct=tt.targetOffset||[0,0]}fi.adjustX=Jt.adjustX&&Zn,fi.adjustY=Jt.adjustY&&Mn,(fi.adjustX||fi.adjustY)&&(zi=ke(Ni,Ri,Mi,fi))}return zi.width!==Ri.width&&F.css(Ut,"width",F.width(Ut)+zi.width-Ri.width),zi.height!==Ri.height&&F.css(Ut,"height",F.height(Ut)+zi.height-Ri.height),F.offset(Ut,{left:zi.left,top:zi.top},{useCssRight:tt.useCssRight,useCssBottom:tt.useCssBottom,useCssTransform:tt.useCssTransform,ignoreShake:tt.ignoreShake}),{points:ft,offset:Dt,targetOffset:ct,overflow:fi}}function wn(de,Pe){var tt=we(de,Pe),dt=nt(de);return!tt||dt.left+dt.width<=tt.left||dt.top+dt.height<=tt.top||dt.left>=tt.right||dt.top>=tt.bottom}function Qn(de,Pe,tt){var dt=tt.target||Pe,ft=nt(dt),Dt=!wn(dt,tt.overflow&&tt.overflow.alwaysByViewport);return Wi(de,ft,tt,Dt)}Qn.__getOffsetParent=I,Qn.__getVisibleRectForElement=we;function vs(de,Pe,tt){var dt,ft,Dt=F.getDocument(de),ct=Dt.defaultView||Dt.parentWindow,Jt=F.getWindowScrollLeft(ct),Ut=F.getWindowScrollTop(ct),fi=F.viewportWidth(ct),Ei=F.viewportHeight(ct);"pageX"in Pe?dt=Pe.pageX:dt=Jt+Pe.clientX,"pageY"in Pe?ft=Pe.pageY:ft=Ut+Pe.clientY;var xi={left:dt,top:ft,width:0,height:0},Mi=dt>=0&&dt<=Jt+fi&&ft>=0&&ft<=Ut+Ei,Ri=[tt.points[0],"cc"];return Wi(de,xi,pi(pi({},tt),{},{points:Ri}),Mi)}var an=null,fs=i(1992),Ys=i(93174),Zs=function(de,Pe){var tt=_.useRef(!1),dt=_.useRef(null);function ft(){window.clearTimeout(dt.current)}function Dt(ct){if(ft(),!tt.current||ct===!0){if(de(ct)===!1)return;tt.current=!0,dt.current=window.setTimeout(function(){tt.current=!1},Pe)}else dt.current=window.setTimeout(function(){tt.current=!1,Dt()},Pe)}return[Dt,function(){tt.current=!1,ft()}]},xs=i(97209);function zs(de,Pe){return de===Pe?!0:!de||!Pe?!1:"pageX"in Pe&&"pageY"in Pe?de.pageX===Pe.pageX&&de.pageY===Pe.pageY:"clientX"in Pe&&"clientY"in Pe?de.clientX===Pe.clientX&&de.clientY===Pe.clientY:!1}function po(de,Pe){de!==document.activeElement&&(0,Kn.Z)(Pe,de)&&typeof de.focus=="function"&&de.focus()}function yo(de,Pe){var tt=null,dt=null;function ft(ct){var Jt=(0,Ce.Z)(ct,1),Ut=Jt[0].target;if(document.documentElement.contains(Ut)){var fi=Ut.getBoundingClientRect(),Ei=fi.width,xi=fi.height,Mi=Math.floor(Ei),Ri=Math.floor(xi);(tt!==Mi||dt!==Ri)&&Promise.resolve().then(function(){Pe({width:Mi,height:Ri})}),tt=Mi,dt=Ri}}var Dt=new xs.Z(ft);return de&&Dt.observe(de),function(){Dt.disconnect()}}function Bo(de){return typeof de!="function"?null:de()}function ao(de){return(0,me.Z)(de)!=="object"||!de?null:de}var Do=function(Pe,tt){var dt=Pe.children,ft=Pe.disabled,Dt=Pe.target,ct=Pe.align,Jt=Pe.onAlign,Ut=Pe.monitorWindowResize,fi=Pe.monitorBufferTime,Ei=fi===void 0?0:fi,xi=_.useRef({}),Mi=_.useRef(),Ri=_.Children.only(dt),Ni=_.useRef({});Ni.current.disabled=ft,Ni.current.target=Dt,Ni.current.align=ct,Ni.current.onAlign=Jt;var zi=Zs(function(){var Dn=Ni.current,xn=Dn.disabled,$n=Dn.target,as=Dn.align,Cs=Dn.onAlign,Ps=Mi.current;if(!xn&&$n&&Ps){var Fs,_s=Bo($n),no=ao($n);xi.current.element=_s,xi.current.point=no,xi.current.align=as;var Ro=document,Co=Ro.activeElement;return _s&&(0,Ys.Z)(_s)?Fs=Qn(Ps,_s,as):no&&(Fs=vs(Ps,no,as)),po(Co,Ps),Cs&&Fs&&Cs(Ps,Fs),!0}return!1},Ei),cn=(0,Ce.Z)(zi,2),rn=cn[0],Qi=cn[1],on=_.useState(),sn=(0,Ce.Z)(on,2),Nn=sn[0],Cn=sn[1],Tn=_.useState(),Zn=(0,Ce.Z)(Tn,2),Mn=Zn[0],ss=Zn[1];return(0,Gt.Z)(function(){Cn(Bo(Dt)),ss(ao(Dt))}),_.useEffect(function(){(xi.current.element!==Nn||!zs(xi.current.point,Mn)||!(0,fs.Z)(xi.current.align,ct))&&rn()}),_.useEffect(function(){var Dn=yo(Mi.current,rn);return Dn},[Mi.current]),_.useEffect(function(){var Dn=yo(Nn,rn);return Dn},[Nn]),_.useEffect(function(){ft?Qi():rn()},[ft]),_.useEffect(function(){if(Ut){var Dn=yn(window,"resize",rn);return Dn.remove}},[Ut]),_.useEffect(function(){return function(){Qi()}},[]),_.useImperativeHandle(tt,function(){return{forceAlign:function(){return rn(!0)}}}),_.isValidElement(Ri)&&(Ri=_.cloneElement(Ri,{ref:(0,Xt.sQ)(Ri.ref,Mi)})),Ri},No=_.forwardRef(Do);No.displayName="Align";var ta=No,Or=ta,Is=i(32723),fr=i(34795),Qs=i(53411),rr=["measure","alignPre","align",null,"motion"],To=function(de,Pe){var tt=(0,Qs.Z)(null),dt=(0,Ce.Z)(tt,2),ft=dt[0],Dt=dt[1],ct=(0,_.useRef)();function Jt(Ei){Dt(Ei,!0)}function Ut(){Lt.Z.cancel(ct.current)}function fi(Ei){Ut(),ct.current=(0,Lt.Z)(function(){Jt(function(xi){switch(ft){case"align":return"motion";case"motion":return"stable";default:}return xi}),Ei==null||Ei()})}return(0,_.useEffect)(function(){Jt("measure")},[de]),(0,_.useEffect)(function(){switch(ft){case"measure":Pe();break;default:}ft&&(ct.current=(0,Lt.Z)((0,fr.Z)((0,Is.Z)().mark(function Ei(){var xi,Mi;return(0,Is.Z)().wrap(function(Ni){for(;;)switch(Ni.prev=Ni.next){case 0:xi=rr.indexOf(ft),Mi=rr[xi+1],Mi&&xi!==-1&&Jt(Mi);case 3:case"end":return Ni.stop()}},Ei)}))))},[ft]),(0,_.useEffect)(function(){return function(){Ut()}},[]),[ft,fi]},fo=function(de){var Pe=_.useState({width:0,height:0}),tt=(0,Ce.Z)(Pe,2),dt=tt[0],ft=tt[1];function Dt(Jt){var Ut=Jt.offsetWidth,fi=Jt.offsetHeight,Ei=Jt.getBoundingClientRect(),xi=Ei.width,Mi=Ei.height;Math.abs(Ut-xi)<1&&Math.abs(fi-Mi)<1&&(Ut=xi,fi=Mi),ft({width:Ut,height:fi})}var ct=_.useMemo(function(){var Jt={};if(de){var Ut=dt.width,fi=dt.height;de.indexOf("height")!==-1&&fi?Jt.height=fi:de.indexOf("minHeight")!==-1&&fi&&(Jt.minHeight=fi),de.indexOf("width")!==-1&&Ut?Jt.width=Ut:de.indexOf("minWidth")!==-1&&Ut&&(Jt.minWidth=Ut)}return Jt},[de,dt]);return[ct,Dt]},Qo=_.forwardRef(function(de,Pe){var tt=de.visible,dt=de.prefixCls,ft=de.className,Dt=de.style,ct=de.children,Jt=de.zIndex,Ut=de.stretch,fi=de.destroyPopupOnHide,Ei=de.forceRender,xi=de.align,Mi=de.point,Ri=de.getRootDomNode,Ni=de.getClassNameFromAlign,zi=de.onAlign,cn=de.onMouseEnter,rn=de.onMouseLeave,Qi=de.onMouseDown,on=de.onTouchStart,sn=de.onClick,Nn=(0,_.useRef)(),Cn=(0,_.useRef)(),Tn=(0,_.useState)(),Zn=(0,Ce.Z)(Tn,2),Mn=Zn[0],ss=Zn[1],Dn=fo(Ut),xn=(0,Ce.Z)(Dn,2),$n=xn[0],as=xn[1];function Cs(){Ut&&as(Ri())}var Ps=To(tt,Cs),Fs=(0,Ce.Z)(Ps,2),_s=Fs[0],no=Fs[1],Ro=(0,_.useState)(0),Co=(0,Ce.Z)(Ro,2),os=Co[0],jn=Co[1],Ns=(0,_.useRef)();(0,Gt.Z)(function(){_s==="alignPre"&&jn(0)},[_s]);function Vs(){return Mi||Ri}function As(){var so;(so=Nn.current)===null||so===void 0||so.forceAlign()}function mo(so,wr){var Go=Ni(wr);Mn!==Go&&ss(Go),jn(function(Bs){return Bs+1}),_s==="align"&&(zi==null||zi(so,wr))}(0,Gt.Z)(function(){_s==="align"&&(os<3?As():no(function(){var so;(so=Ns.current)===null||so===void 0||so.call(Ns)}))},[os]);var xo=(0,z.Z)({},Ts(de));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(so){var wr=xo[so];xo[so]=function(Go,Bs){return no(),wr==null?void 0:wr(Go,Bs)}});function _r(){return new Promise(function(so){Ns.current=so})}_.useEffect(function(){!xo.motionName&&_s==="motion"&&no()},[xo.motionName,_s]),_.useImperativeHandle(Pe,function(){return{forceAlign:As,getElement:function(){return Cn.current}}});var bo=(0,z.Z)((0,z.Z)({},$n),{},{zIndex:Jt,opacity:_s==="motion"||_s==="stable"||!tt?void 0:0,pointerEvents:!tt&&_s!=="stable"?"none":void 0},Dt),Io=!0;xi!=null&&xi.points&&(_s==="align"||_s==="stable")&&(Io=!1);var Ao=ct;return _.Children.count(ct)>1&&(Ao=_.createElement("div",{className:"".concat(dt,"-content")},ct)),_.createElement(ut.ZP,(0,oe.Z)({visible:tt,ref:Cn,leavedClassName:"".concat(dt,"-hidden")},xo,{onAppearPrepare:_r,onEnterPrepare:_r,removeOnLeave:fi,forceRender:Ei}),function(so,wr){var Go=so.className,Bs=so.style,ur=B()(dt,ft,Mn,Go);return _.createElement(Or,{target:Vs(),key:"popup",ref:Nn,monitorWindowResize:!0,disabled:Io,align:xi,onAlign:mo},_.createElement("div",{ref:wr,className:ur,onMouseEnter:cn,onMouseLeave:rn,onMouseDownCapture:Qi,onTouchStartCapture:on,onClick:sn,style:(0,z.Z)((0,z.Z)({},Bs),bo)},Ao))})});Qo.displayName="PopupInner";var Xo=Qo,ni=_.forwardRef(function(de,Pe){var tt=de.prefixCls,dt=de.visible,ft=de.zIndex,Dt=de.children,ct=de.mobile;ct=ct===void 0?{}:ct;var Jt=ct.popupClassName,Ut=ct.popupStyle,fi=ct.popupMotion,Ei=fi===void 0?{}:fi,xi=ct.popupRender,Mi=de.onClick,Ri=_.useRef();_.useImperativeHandle(Pe,function(){return{forceAlign:function(){},getElement:function(){return Ri.current}}});var Ni=(0,z.Z)({zIndex:ft},Ut),zi=Dt;return _.Children.count(Dt)>1&&(zi=_.createElement("div",{className:"".concat(tt,"-content")},Dt)),xi&&(zi=xi(zi)),_.createElement(ut.ZP,(0,oe.Z)({visible:dt,ref:Ri,removeOnLeave:!0},Ei),function(cn,rn){var Qi=cn.className,on=cn.style,sn=B()(tt,Jt,Qi);return _.createElement("div",{ref:rn,className:sn,onClick:Mi,style:(0,z.Z)((0,z.Z)({},on),Ni)},zi)})});ni.displayName="MobilePopupInner";var Jo=ni,ar=["visible","mobile"],zr=_.forwardRef(function(de,Pe){var tt=de.visible,dt=de.mobile,ft=(0,Me.Z)(de,ar),Dt=(0,_.useState)(tt),ct=(0,Ce.Z)(Dt,2),Jt=ct[0],Ut=ct[1],fi=(0,_.useState)(!1),Ei=(0,Ce.Z)(fi,2),xi=Ei[0],Mi=Ei[1],Ri=(0,z.Z)((0,z.Z)({},ft),{},{visible:Jt});(0,_.useEffect)(function(){Ut(tt),tt&&dt&&Mi((0,qe.Z)())},[tt,dt]);var Ni=xi?_.createElement(Jo,(0,oe.Z)({},Ri,{mobile:dt,ref:Pe})):_.createElement(Xo,(0,oe.Z)({},Ri,{ref:Pe}));return _.createElement("div",null,_.createElement(In,Ri),Ni)});zr.displayName="Popup";var lo=zr,Ar=_.createContext(null),Gr=Ar;function go(){}function lr(){return""}function ln(de){return de?de.ownerDocument:window.document}var Sr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function qo(de){var Pe=function(tt){(0,es.Z)(ft,tt);var dt=(0,Ls.Z)(ft);function ft(Dt){var ct;(0,ki.Z)(this,ft),ct=dt.call(this,Dt),(0,ge.Z)((0,Ki.Z)(ct),"popupRef",_.createRef()),(0,ge.Z)((0,Ki.Z)(ct),"triggerRef",_.createRef()),(0,ge.Z)((0,Ki.Z)(ct),"portalContainer",void 0),(0,ge.Z)((0,Ki.Z)(ct),"attachId",void 0),(0,ge.Z)((0,Ki.Z)(ct),"clickOutsideHandler",void 0),(0,ge.Z)((0,Ki.Z)(ct),"touchOutsideHandler",void 0),(0,ge.Z)((0,Ki.Z)(ct),"contextMenuOutsideHandler1",void 0),(0,ge.Z)((0,Ki.Z)(ct),"contextMenuOutsideHandler2",void 0),(0,ge.Z)((0,Ki.Z)(ct),"mouseDownTimeout",void 0),(0,ge.Z)((0,Ki.Z)(ct),"focusTime",void 0),(0,ge.Z)((0,Ki.Z)(ct),"preClickTime",void 0),(0,ge.Z)((0,Ki.Z)(ct),"preTouchTime",void 0),(0,ge.Z)((0,Ki.Z)(ct),"delayTimer",void 0),(0,ge.Z)((0,Ki.Z)(ct),"hasPopupMouseDown",void 0),(0,ge.Z)((0,Ki.Z)(ct),"onMouseEnter",function(Ut){var fi=ct.props.mouseEnterDelay;ct.fireEvents("onMouseEnter",Ut),ct.delaySetPopupVisible(!0,fi,fi?null:Ut)}),(0,ge.Z)((0,Ki.Z)(ct),"onMouseMove",function(Ut){ct.fireEvents("onMouseMove",Ut),ct.setPoint(Ut)}),(0,ge.Z)((0,Ki.Z)(ct),"onMouseLeave",function(Ut){ct.fireEvents("onMouseLeave",Ut),ct.delaySetPopupVisible(!1,ct.props.mouseLeaveDelay)}),(0,ge.Z)((0,Ki.Z)(ct),"onPopupMouseEnter",function(){ct.clearDelayTimer()}),(0,ge.Z)((0,Ki.Z)(ct),"onPopupMouseLeave",function(Ut){var fi;Ut.relatedTarget&&!Ut.relatedTarget.setTimeout&&(0,Kn.Z)((fi=ct.popupRef.current)===null||fi===void 0?void 0:fi.getElement(),Ut.relatedTarget)||ct.delaySetPopupVisible(!1,ct.props.mouseLeaveDelay)}),(0,ge.Z)((0,Ki.Z)(ct),"onFocus",function(Ut){ct.fireEvents("onFocus",Ut),ct.clearDelayTimer(),ct.isFocusToShow()&&(ct.focusTime=Date.now(),ct.delaySetPopupVisible(!0,ct.props.focusDelay))}),(0,ge.Z)((0,Ki.Z)(ct),"onMouseDown",function(Ut){ct.fireEvents("onMouseDown",Ut),ct.preClickTime=Date.now()}),(0,ge.Z)((0,Ki.Z)(ct),"onTouchStart",function(Ut){ct.fireEvents("onTouchStart",Ut),ct.preTouchTime=Date.now()}),(0,ge.Z)((0,Ki.Z)(ct),"onBlur",function(Ut){ct.fireEvents("onBlur",Ut),ct.clearDelayTimer(),ct.isBlurToHide()&&ct.delaySetPopupVisible(!1,ct.props.blurDelay)}),(0,ge.Z)((0,Ki.Z)(ct),"onContextMenu",function(Ut){Ut.preventDefault(),ct.fireEvents("onContextMenu",Ut),ct.setPopupVisible(!0,Ut)}),(0,ge.Z)((0,Ki.Z)(ct),"onContextMenuClose",function(){ct.isContextMenuToShow()&&ct.close()}),(0,ge.Z)((0,Ki.Z)(ct),"onClick",function(Ut){if(ct.fireEvents("onClick",Ut),ct.focusTime){var fi;if(ct.preClickTime&&ct.preTouchTime?fi=Math.min(ct.preClickTime,ct.preTouchTime):ct.preClickTime?fi=ct.preClickTime:ct.preTouchTime&&(fi=ct.preTouchTime),Math.abs(fi-ct.focusTime)<20)return;ct.focusTime=0}ct.preClickTime=0,ct.preTouchTime=0,ct.isClickToShow()&&(ct.isClickToHide()||ct.isBlurToHide())&&Ut&&Ut.preventDefault&&Ut.preventDefault();var Ei=!ct.state.popupVisible;(ct.isClickToHide()&&!Ei||Ei&&ct.isClickToShow())&&ct.setPopupVisible(!ct.state.popupVisible,Ut)}),(0,ge.Z)((0,Ki.Z)(ct),"onPopupMouseDown",function(){if(ct.hasPopupMouseDown=!0,clearTimeout(ct.mouseDownTimeout),ct.mouseDownTimeout=window.setTimeout(function(){ct.hasPopupMouseDown=!1},0),ct.context){var Ut;(Ut=ct.context).onPopupMouseDown.apply(Ut,arguments)}}),(0,ge.Z)((0,Ki.Z)(ct),"onDocumentClick",function(Ut){if(!(ct.props.mask&&!ct.props.maskClosable)){var fi=Ut.target,Ei=ct.getRootDomNode(),xi=ct.getPopupDomNode();(!(0,Kn.Z)(Ei,fi)||ct.isContextMenuOnly())&&!(0,Kn.Z)(xi,fi)&&!ct.hasPopupMouseDown&&ct.close()}}),(0,ge.Z)((0,Ki.Z)(ct),"getRootDomNode",function(){var Ut=ct.props.getTriggerDOMNode;if(Ut)return Ut(ct.triggerRef.current);try{var fi=(0,Wn.Z)(ct.triggerRef.current);if(fi)return fi}catch(Ei){}return ts.findDOMNode((0,Ki.Z)(ct))}),(0,ge.Z)((0,Ki.Z)(ct),"getPopupClassNameFromAlign",function(Ut){var fi=[],Ei=ct.props,xi=Ei.popupPlacement,Mi=Ei.builtinPlacements,Ri=Ei.prefixCls,Ni=Ei.alignPoint,zi=Ei.getPopupClassNameFromAlign;return xi&&Mi&&fi.push(hs(Mi,Ri,Ut,Ni)),zi&&fi.push(zi(Ut)),fi.join(" ")}),(0,ge.Z)((0,Ki.Z)(ct),"getComponent",function(){var Ut=ct.props,fi=Ut.prefixCls,Ei=Ut.destroyPopupOnHide,xi=Ut.popupClassName,Mi=Ut.onPopupAlign,Ri=Ut.popupMotion,Ni=Ut.popupAnimation,zi=Ut.popupTransitionName,cn=Ut.popupStyle,rn=Ut.mask,Qi=Ut.maskAnimation,on=Ut.maskTransitionName,sn=Ut.maskMotion,Nn=Ut.zIndex,Cn=Ut.popup,Tn=Ut.stretch,Zn=Ut.alignPoint,Mn=Ut.mobile,ss=Ut.forceRender,Dn=Ut.onPopupClick,xn=ct.state,$n=xn.popupVisible,as=xn.point,Cs=ct.getPopupAlign(),Ps={};return ct.isMouseEnterToShow()&&(Ps.onMouseEnter=ct.onPopupMouseEnter),ct.isMouseLeaveToHide()&&(Ps.onMouseLeave=ct.onPopupMouseLeave),Ps.onMouseDown=ct.onPopupMouseDown,Ps.onTouchStart=ct.onPopupMouseDown,_.createElement(lo,(0,oe.Z)({prefixCls:fi,destroyPopupOnHide:Ei,visible:$n,point:Zn&&as,className:xi,align:Cs,onAlign:Mi,animation:Ni,getClassNameFromAlign:ct.getPopupClassNameFromAlign},Ps,{stretch:Tn,getRootDomNode:ct.getRootDomNode,style:cn,mask:rn,zIndex:Nn,transitionName:zi,maskAnimation:Qi,maskTransitionName:on,maskMotion:sn,ref:ct.popupRef,motion:Ri,mobile:Mn,forceRender:ss,onClick:Dn}),typeof Cn=="function"?Cn():Cn)}),(0,ge.Z)((0,Ki.Z)(ct),"attachParent",function(Ut){Lt.Z.cancel(ct.attachId);var fi=ct.props,Ei=fi.getPopupContainer,xi=fi.getDocument,Mi=ct.getRootDomNode(),Ri;Ei?(Mi||Ei.length===0)&&(Ri=Ei(Mi)):Ri=xi(ct.getRootDomNode()).body,Ri?Ri.appendChild(Ut):ct.attachId=(0,Lt.Z)(function(){ct.attachParent(Ut)})}),(0,ge.Z)((0,Ki.Z)(ct),"getContainer",function(){if(!ct.portalContainer){var Ut=ct.props.getDocument,fi=Ut(ct.getRootDomNode()).createElement("div");fi.style.position="absolute",fi.style.top="0",fi.style.left="0",fi.style.width="100%",ct.portalContainer=fi}return ct.attachParent(ct.portalContainer),ct.portalContainer}),(0,ge.Z)((0,Ki.Z)(ct),"setPoint",function(Ut){var fi=ct.props.alignPoint;!fi||!Ut||ct.setState({point:{pageX:Ut.pageX,pageY:Ut.pageY}})}),(0,ge.Z)((0,Ki.Z)(ct),"handlePortalUpdate",function(){ct.state.prevPopupVisible!==ct.state.popupVisible&&ct.props.afterPopupVisibleChange(ct.state.popupVisible)}),(0,ge.Z)((0,Ki.Z)(ct),"triggerContextValue",{onPopupMouseDown:ct.onPopupMouseDown});var Jt;return"popupVisible"in Dt?Jt=!!Dt.popupVisible:Jt=!!Dt.defaultPopupVisible,ct.state={prevPopupVisible:Jt,popupVisible:Jt},Sr.forEach(function(Ut){ct["fire".concat(Ut)]=function(fi){ct.fireEvents(Ut,fi)}}),ct}return(0,Vi.Z)(ft,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var ct=this.props,Jt=this.state;if(Jt.popupVisible){var Ut;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(Ut=ct.getDocument(this.getRootDomNode()),this.clickOutsideHandler=yn(Ut,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(Ut=Ut||ct.getDocument(this.getRootDomNode()),this.touchOutsideHandler=yn(Ut,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(Ut=Ut||ct.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=yn(Ut,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=yn(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Lt.Z.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var ct;return((ct=this.popupRef.current)===null||ct===void 0?void 0:ct.getElement())||null}},{key:"getPopupAlign",value:function(){var ct=this.props,Jt=ct.popupPlacement,Ut=ct.popupAlign,fi=ct.builtinPlacements;return Jt&&fi?oo(fi,Jt,Ut):Ut}},{key:"setPopupVisible",value:function(ct,Jt){var Ut=this.props.alignPoint,fi=this.state.popupVisible;this.clearDelayTimer(),fi!==ct&&("popupVisible"in this.props||this.setState({popupVisible:ct,prevPopupVisible:fi}),this.props.onPopupVisibleChange(ct)),Ut&&Jt&&ct&&this.setPoint(Jt)}},{key:"delaySetPopupVisible",value:function(ct,Jt,Ut){var fi=this,Ei=Jt*1e3;if(this.clearDelayTimer(),Ei){var xi=Ut?{pageX:Ut.pageX,pageY:Ut.pageY}:null;this.delayTimer=window.setTimeout(function(){fi.setPopupVisible(ct,xi),fi.clearDelayTimer()},Ei)}else this.setPopupVisible(ct,Ut)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(ct){var Jt=this.props.children.props,Ut=this.props;return Jt[ct]&&Ut[ct]?this["fire".concat(ct)]:Jt[ct]||Ut[ct]}},{key:"isClickToShow",value:function(){var ct=this.props,Jt=ct.action,Ut=ct.showAction;return Jt.indexOf("click")!==-1||Ut.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var ct=this.props.action;return ct==="contextMenu"||ct.length===1&&ct[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var ct=this.props,Jt=ct.action,Ut=ct.showAction;return Jt.indexOf("contextMenu")!==-1||Ut.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var ct=this.props,Jt=ct.action,Ut=ct.hideAction;return Jt.indexOf("click")!==-1||Ut.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var ct=this.props,Jt=ct.action,Ut=ct.showAction;return Jt.indexOf("hover")!==-1||Ut.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var ct=this.props,Jt=ct.action,Ut=ct.hideAction;return Jt.indexOf("hover")!==-1||Ut.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var ct=this.props,Jt=ct.action,Ut=ct.showAction;return Jt.indexOf("focus")!==-1||Ut.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var ct=this.props,Jt=ct.action,Ut=ct.hideAction;return Jt.indexOf("focus")!==-1||Ut.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var ct;(ct=this.popupRef.current)===null||ct===void 0||ct.forceAlign()}}},{key:"fireEvents",value:function(ct,Jt){var Ut=this.props.children.props[ct];Ut&&Ut(Jt);var fi=this.props[ct];fi&&fi(Jt)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var ct=this.state.popupVisible,Jt=this.props,Ut=Jt.children,fi=Jt.forceRender,Ei=Jt.alignPoint,xi=Jt.className,Mi=Jt.autoDestroy,Ri=_.Children.only(Ut),Ni={key:"trigger"};this.isContextMenuToShow()?Ni.onContextMenu=this.onContextMenu:Ni.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(Ni.onClick=this.onClick,Ni.onMouseDown=this.onMouseDown,Ni.onTouchStart=this.onTouchStart):(Ni.onClick=this.createTwoChains("onClick"),Ni.onMouseDown=this.createTwoChains("onMouseDown"),Ni.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(Ni.onMouseEnter=this.onMouseEnter,Ei&&(Ni.onMouseMove=this.onMouseMove)):Ni.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?Ni.onMouseLeave=this.onMouseLeave:Ni.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(Ni.onFocus=this.onFocus,Ni.onBlur=this.onBlur):(Ni.onFocus=this.createTwoChains("onFocus"),Ni.onBlur=this.createTwoChains("onBlur"));var zi=B()(Ri&&Ri.props&&Ri.props.className,xi);zi&&(Ni.className=zi);var cn=(0,z.Z)({},Ni);(0,Xt.Yr)(Ri)&&(cn.ref=(0,Xt.sQ)(this.triggerRef,Ri.ref));var rn=_.cloneElement(Ri,cn),Qi;return(ct||this.popupRef.current||fi)&&(Qi=_.createElement(de,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!ct&&Mi&&(Qi=null),_.createElement(Gr.Provider,{value:this.triggerContextValue},rn,Qi)}}],[{key:"getDerivedStateFromProps",value:function(ct,Jt){var Ut=ct.popupVisible,fi={};return Ut!==void 0&&Jt.popupVisible!==Ut&&(fi.popupVisible=Ut,fi.prevPopupVisible=Jt.popupVisible),fi}}]),ft}(_.Component);return(0,ge.Z)(Pe,"contextType",Gr),(0,ge.Z)(Pe,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:lr,getDocument:ln,onPopupVisibleChange:go,afterPopupVisibleChange:go,onPopupAlign:go,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),Pe}var co=qo(Ss),ys={adjustX:1,adjustY:1},Wo=[0,0],Zr={topLeft:{points:["bl","tl"],overflow:ys,offset:[0,-4],targetOffset:Wo},topCenter:{points:["bc","tc"],overflow:ys,offset:[0,-4],targetOffset:Wo},topRight:{points:["br","tr"],overflow:ys,offset:[0,-4],targetOffset:Wo},bottomLeft:{points:["tl","bl"],overflow:ys,offset:[0,4],targetOffset:Wo},bottomCenter:{points:["tc","bc"],overflow:ys,offset:[0,4],targetOffset:Wo},bottomRight:{points:["tr","br"],overflow:ys,offset:[0,4],targetOffset:Wo}},bl=Zr,vo=i(92981);function Ka(de){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if((0,Ys.Z)(de)){var tt=de.nodeName.toLowerCase(),dt=["input","select","textarea","button"].includes(tt)||de.isContentEditable||tt==="a"&&!!de.getAttribute("href"),ft=de.getAttribute("tabindex"),Dt=Number(ft),ct=null;return ft&&!Number.isNaN(Dt)?ct=Dt:dt&&ct===null&&(ct=0),dt&&de.disabled&&(ct=null),ct!==null&&(ct>=0||Pe&&ct<0)}return!1}function ia(de){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,tt=(0,xe.Z)(de.querySelectorAll("*")).filter(function(dt){return Ka(dt,Pe)});return Ka(de,Pe)&&tt.unshift(de),tt}var Vo=null;function kr(){Vo=document.activeElement}function xr(){Vo=null}function cr(){if(Vo)try{Vo.focus()}catch(de){}}function er(de,Pe){if(Pe.keyCode===9){var tt=ia(de),dt=tt[Pe.shiftKey?0:tt.length-1],ft=dt===document.activeElement||de===document.activeElement;if(ft){var Dt=tt[Pe.shiftKey?tt.length-1:0];Dt.focus(),Pe.preventDefault()}}}var hn=vo.Z.ESC,Ho=vo.Z.TAB;function wa(de){var Pe=de.visible,tt=de.setTriggerVisible,dt=de.triggerRef,ft=de.onVisibleChange,Dt=de.autoFocus,ct=_.useRef(!1),Jt=function(){if(Pe&&dt.current){var xi,Mi,Ri,Ni;(xi=dt.current)===null||xi===void 0||(Mi=xi.triggerRef)===null||Mi===void 0||(Ri=Mi.current)===null||Ri===void 0||(Ni=Ri.focus)===null||Ni===void 0||Ni.call(Ri),tt(!1),typeof ft=="function"&&ft(!1)}},Ut=function(){var xi,Mi,Ri,Ni,zi=ia((xi=dt.current)===null||xi===void 0||(Mi=xi.popupRef)===null||Mi===void 0||(Ri=Mi.current)===null||Ri===void 0||(Ni=Ri.getElement)===null||Ni===void 0?void 0:Ni.call(Ri)),cn=zi[0];return cn!=null&&cn.focus?(cn.focus(),ct.current=!0,!0):!1},fi=function(xi){switch(xi.keyCode){case hn:Jt();break;case Ho:{var Mi=!1;ct.current||(Mi=Ut()),Mi?xi.preventDefault():Jt();break}}};_.useEffect(function(){return Pe?(window.addEventListener("keydown",fi),Dt&&(0,Lt.Z)(Ut,3),function(){window.removeEventListener("keydown",fi),ct.current=!1}):function(){ct.current=!1}},[Pe])}var na=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function tr(de,Pe){var tt=de.arrow,dt=tt===void 0?!1:tt,ft=de.prefixCls,Dt=ft===void 0?"rc-dropdown":ft,ct=de.transitionName,Jt=de.animation,Ut=de.align,fi=de.placement,Ei=fi===void 0?"bottomLeft":fi,xi=de.placements,Mi=xi===void 0?bl:xi,Ri=de.getPopupContainer,Ni=de.showAction,zi=de.hideAction,cn=de.overlayClassName,rn=de.overlayStyle,Qi=de.visible,on=de.trigger,sn=on===void 0?["hover"]:on,Nn=de.autoFocus,Cn=(0,Me.Z)(de,na),Tn=_.useState(),Zn=(0,Ce.Z)(Tn,2),Mn=Zn[0],ss=Zn[1],Dn="visible"in de?Qi:Mn,xn=_.useRef(null);_.useImperativeHandle(Pe,function(){return xn.current}),wa({visible:Dn,setTriggerVisible:ss,triggerRef:xn,onVisibleChange:de.onVisibleChange,autoFocus:Nn});var $n=function(){var jn=de.overlay,Ns;return typeof jn=="function"?Ns=jn():Ns=jn,Ns},as=function(jn){var Ns=de.onOverlayClick;ss(!1),Ns&&Ns(jn)},Cs=function(jn){var Ns=de.onVisibleChange;ss(jn),typeof Ns=="function"&&Ns(jn)},Ps=function(){var jn=$n();return _.createElement(_.Fragment,null,dt&&_.createElement("div",{className:"".concat(Dt,"-arrow")}),jn)},Fs=function(){var jn=de.overlay;return typeof jn=="function"?Ps:Ps()},_s=function(){var jn=de.minOverlayWidthMatchTrigger,Ns=de.alignPoint;return"minOverlayWidthMatchTrigger"in de?jn:!Ns},no=function(){var jn=de.openClassName;return jn!==void 0?jn:"".concat(Dt,"-open")},Ro=function(){var jn=de.children,Ns=jn.props?jn.props:{},Vs=B()(Ns.className,no());return Dn&&jn?_.cloneElement(jn,{className:Vs}):jn},Co=zi;return!Co&&sn.indexOf("contextMenu")!==-1&&(Co=["click"]),_.createElement(co,(0,z.Z)((0,z.Z)({builtinPlacements:Mi},Cn),{},{prefixCls:Dt,ref:xn,popupClassName:B()(cn,(0,ge.Z)({},"".concat(Dt,"-show-arrow"),dt)),popupStyle:rn,action:sn,showAction:Ni,hideAction:Co||[],popupPlacement:Ei,popupAlign:Ut,popupTransitionName:ct,popupAnimation:Jt,popupVisible:Dn,stretch:_s()?"minWidth":"",popup:Fs(),onPopupVisibleChange:Cs,onPopupClick:as,getPopupContainer:Ri}),Ro())}var sa=_.forwardRef(tr),oa=sa,ra=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],On=void 0;function gs(de,Pe){var tt=de.prefixCls,dt=de.invalidate,ft=de.item,Dt=de.renderItem,ct=de.responsive,Jt=de.responsiveDisabled,Ut=de.registerSize,fi=de.itemKey,Ei=de.className,xi=de.style,Mi=de.children,Ri=de.display,Ni=de.order,zi=de.component,cn=zi===void 0?"div":zi,rn=(0,Me.Z)(de,ra),Qi=ct&&!Ri;function on(Zn){Ut(fi,Zn)}_.useEffect(function(){return function(){on(null)}},[]);var sn=Dt&&ft!==On?Dt(ft):Mi,Nn;dt||(Nn={opacity:Qi?0:1,height:Qi?0:On,overflowY:Qi?"hidden":On,order:ct?Ni:On,pointerEvents:Qi?"none":On,position:Qi?"absolute":On});var Cn={};Qi&&(Cn["aria-hidden"]=!0);var Tn=_.createElement(cn,(0,oe.Z)({className:B()(!dt&&tt,Ei),style:(0,z.Z)((0,z.Z)({},Nn),xi)},Cn,rn,{ref:Pe}),sn);return ct&&(Tn=_.createElement(Mt.Z,{onResize:function(Mn){var ss=Mn.offsetWidth;on(ss)},disabled:Jt},Tn)),Tn}var js=_.forwardRef(gs);js.displayName="Item";var uo=js;function jo(de){if(typeof MessageChannel=="undefined")(0,Lt.Z)(de);else{var Pe=new MessageChannel;Pe.port1.onmessage=function(){return de()},Pe.port2.postMessage(void 0)}}function wo(){var de=_.useRef(null),Pe=function(dt){de.current||(de.current=[],jo(function(){(0,ts.unstable_batchedUpdates)(function(){de.current.forEach(function(ft){ft()}),de.current=null})})),de.current.push(dt)};return Pe}function _o(de,Pe){var tt=_.useState(Pe),dt=(0,Ce.Z)(tt,2),ft=dt[0],Dt=dt[1],ct=(0,Xe.Z)(function(Jt){de(function(){Dt(Jt)})});return[ft,ct]}var Ko=["component"],$a=["className"],gr=["className"],dr=function(Pe,tt){var dt=_.useContext(Rs);if(!dt){var ft=Pe.component,Dt=ft===void 0?"div":ft,ct=(0,Me.Z)(Pe,Ko);return _.createElement(Dt,(0,oe.Z)({},ct,{ref:tt}))}var Jt=dt.className,Ut=(0,Me.Z)(dt,$a),fi=Pe.className,Ei=(0,Me.Z)(Pe,gr);return _.createElement(Rs.Provider,{value:null},_.createElement(uo,(0,oe.Z)({ref:tt,className:B()(Jt,fi)},Ut,Ei)))},Ga=_.forwardRef(dr);Ga.displayName="RawItem";var mr=Ga,Za=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Rs=_.createContext(null),ir="responsive",Sl="invalidate";function Fr(de){return"+ ".concat(de.length," ...")}function Yr(de,Pe){var tt=de.prefixCls,dt=tt===void 0?"rc-overflow":tt,ft=de.data,Dt=ft===void 0?[]:ft,ct=de.renderItem,Jt=de.renderRawItem,Ut=de.itemKey,fi=de.itemWidth,Ei=fi===void 0?10:fi,xi=de.ssr,Mi=de.style,Ri=de.className,Ni=de.maxCount,zi=de.renderRest,cn=de.renderRawRest,rn=de.suffix,Qi=de.component,on=Qi===void 0?"div":Qi,sn=de.itemComponent,Nn=de.onVisibleChange,Cn=(0,Me.Z)(de,Za),Tn=xi==="full",Zn=wo(),Mn=_o(Zn,null),ss=(0,Ce.Z)(Mn,2),Dn=ss[0],xn=ss[1],$n=Dn||0,as=_o(Zn,new Map),Cs=(0,Ce.Z)(as,2),Ps=Cs[0],Fs=Cs[1],_s=_o(Zn,0),no=(0,Ce.Z)(_s,2),Ro=no[0],Co=no[1],os=_o(Zn,0),jn=(0,Ce.Z)(os,2),Ns=jn[0],Vs=jn[1],As=_o(Zn,0),mo=(0,Ce.Z)(As,2),xo=mo[0],_r=mo[1],bo=(0,_.useState)(null),Io=(0,Ce.Z)(bo,2),Ao=Io[0],so=Io[1],wr=(0,_.useState)(null),Go=(0,Ce.Z)(wr,2),Bs=Go[0],ur=Go[1],Kr=_.useMemo(function(){return Bs===null&&Tn?Number.MAX_SAFE_INTEGER:Bs||0},[Bs,Dn]),Ma=(0,_.useState)(!1),Ra=(0,Ce.Z)(Ma,2),Jr=Ra[0],Br=Ra[1],Lr="".concat(dt,"-item"),qa=Math.max(Ro,Ns),Ba=Ni===ir,ko=Dt.length&&Ba,Wa=Ni===Sl,Dr=ko||typeof Ni=="number"&&Dt.length>Ni,Zo=(0,_.useMemo)(function(){var Os=Dt;return ko?Dn===null&&Tn?Os=Dt:Os=Dt.slice(0,Math.min(Dt.length,$n/Ei)):typeof Ni=="number"&&(Os=Dt.slice(0,Ni)),Os},[Dt,Ei,Dn,Ni,ko]),$r=(0,_.useMemo)(function(){return ko?Dt.slice(Kr+1):Dt.slice(Zo.length)},[Dt,Zo,ko,Kr]),Po=(0,_.useCallback)(function(Os,ks){var Yo;return typeof Ut=="function"?Ut(Os):(Yo=Ut&&(Os==null?void 0:Os[Ut]))!==null&&Yo!==void 0?Yo:ks},[Ut]),el=(0,_.useCallback)(ct||function(Os){return Os},[ct]);function hr(Os,ks,Yo){Bs===Os&&(ks===void 0||ks===Ao)||(ur(Os),Yo||(Br(Os<Dt.length-1),Nn==null||Nn(Os)),ks!==void 0&&so(ks))}function qr(Os,ks){xn(ks.clientWidth)}function Mr(Os,ks){Fs(function(Yo){var ua=new Map(Yo);return ks===null?ua.delete(Os):ua.set(Os,ks),ua})}function Rr(Os,ks){Vs(ks),Co(Ns)}function vl(Os,ks){_r(ks)}function _l(Os){return Ps.get(Po(Zo[Os],Os))}(0,Gt.Z)(function(){if($n&&typeof qa=="number"&&Zo){var Os=xo,ks=Zo.length,Yo=ks-1;if(!ks){hr(0,null);return}for(var ua=0;ua<ks;ua+=1){var za=_l(ua);if(Tn&&(za=za||0),za===void 0){hr(ua-1,void 0,!0);break}if(Os+=za,Yo===0&&Os<=$n||ua===Yo-1&&Os+_l(Yo)<=$n){hr(Yo,null);break}else if(Os+qa>$n){hr(ua-1,Os-za-xo+Ns);break}}rn&&_l(0)+xo>$n&&so(null)}},[$n,Ps,Ns,xo,Po,Zo]);var tl=Jr&&!!$r.length,Vl={};Ao!==null&&ko&&(Vl={position:"absolute",left:Ao,top:0});var il={prefixCls:Lr,responsive:ko,component:sn,invalidate:Wa},Tl=Jt?function(Os,ks){var Yo=Po(Os,ks);return _.createElement(Rs.Provider,{key:Yo,value:(0,z.Z)((0,z.Z)({},il),{},{order:ks,item:Os,itemKey:Yo,registerSize:Mr,display:ks<=Kr})},Jt(Os,ks))}:function(Os,ks){var Yo=Po(Os,ks);return _.createElement(uo,(0,oe.Z)({},il,{order:ks,key:Yo,item:Os,renderItem:el,itemKey:Yo,registerSize:Mr,display:ks<=Kr}))},da,nl={order:tl?Kr:Number.MAX_SAFE_INTEGER,className:"".concat(Lr,"-rest"),registerSize:Rr,display:tl};if(cn)cn&&(da=_.createElement(Rs.Provider,{value:(0,z.Z)((0,z.Z)({},il),nl)},cn($r)));else{var Va=zi||Fr;da=_.createElement(uo,(0,oe.Z)({},il,nl),typeof Va=="function"?Va($r):Va)}var Ha=_.createElement(on,(0,oe.Z)({className:B()(!Wa&&dt,Ri),style:Mi,ref:Pe},Cn),Zo.map(Tl),Dr?da:null,rn&&_.createElement(uo,(0,oe.Z)({},il,{responsive:Ba,responsiveDisabled:!ko,order:Kr,className:"".concat(Lr,"-suffix"),registerSize:vl,display:!0,style:Vl}),rn));return Ba&&(Ha=_.createElement(Mt.Z,{onResize:qr,disabled:!ko},Ha)),Ha}var pr=_.forwardRef(Yr);pr.displayName="Overflow",pr.Item=mr,pr.RESPONSIVE=ir,pr.INVALIDATE=Sl;var yl=pr,Ir=yl,ma=i(72895),La=_.createContext(null);function Da(de,Pe){return de===void 0?null:"".concat(de,"-").concat(Pe)}function Qr(de){var Pe=_.useContext(La);return Da(Pe,de)}var wl=i(74959),Ll=["children","locked"],zo=_.createContext(null);function Ur(de,Pe){var tt=(0,z.Z)({},de);return Object.keys(Pe).forEach(function(dt){var ft=Pe[dt];ft!==void 0&&(tt[dt]=ft)}),tt}function Mo(de){var Pe=de.children,tt=de.locked,dt=(0,Me.Z)(de,Ll),ft=_.useContext(zo),Dt=(0,wl.Z)(function(){return Ur(ft,dt)},[ft,dt],function(ct,Jt){return!tt&&(ct[0]!==Jt[0]||!(0,fs.Z)(ct[1],Jt[1],!0))});return _.createElement(zo.Provider,{value:Dt},Pe)}var pa=[],jl=_.createContext(null);function Ya(){return _.useContext(jl)}var dl=_.createContext(pa);function Ea(de){var Pe=_.useContext(dl);return _.useMemo(function(){return de!==void 0?[].concat((0,xe.Z)(Pe),[de]):Pe},[Pe,de])}var aa=_.createContext(null),ul=_.createContext({}),Aa=ul,Dl=vo.Z.LEFT,hl=vo.Z.RIGHT,fl=vo.Z.UP,va=vo.Z.DOWN,xa=vo.Z.ENTER,Al=vo.Z.ESC,gl=vo.Z.HOME,Xs=vo.Z.END,ka=[fl,va,Dl,hl];function is(de,Pe,tt,dt){var ft,Dt,ct,Jt,Ut="prev",fi="next",Ei="children",xi="parent";if(de==="inline"&&dt===xa)return{inlineTrigger:!0};var Mi=(ft={},(0,ge.Z)(ft,fl,Ut),(0,ge.Z)(ft,va,fi),ft),Ri=(Dt={},(0,ge.Z)(Dt,Dl,tt?fi:Ut),(0,ge.Z)(Dt,hl,tt?Ut:fi),(0,ge.Z)(Dt,va,Ei),(0,ge.Z)(Dt,xa,Ei),Dt),Ni=(ct={},(0,ge.Z)(ct,fl,Ut),(0,ge.Z)(ct,va,fi),(0,ge.Z)(ct,xa,Ei),(0,ge.Z)(ct,Al,xi),(0,ge.Z)(ct,Dl,tt?Ei:xi),(0,ge.Z)(ct,hl,tt?xi:Ei),ct),zi={inline:Mi,horizontal:Ri,vertical:Ni,inlineSub:Mi,horizontalSub:Ni,verticalSub:Ni},cn=(Jt=zi["".concat(de).concat(Pe?"":"Sub")])===null||Jt===void 0?void 0:Jt[dt];switch(cn){case Ut:return{offset:-1,sibling:!0};case fi:return{offset:1,sibling:!0};case xi:return{offset:-1,sibling:!1};case Ei:return{offset:1,sibling:!1};default:return null}}function ws(de){for(var Pe=de;Pe;){if(Pe.getAttribute("data-menu-list"))return Pe;Pe=Pe.parentElement}return null}function Js(de,Pe){for(var tt=de||document.activeElement;tt;){if(Pe.has(tt))return tt;tt=tt.parentElement}return null}function to(de,Pe){var tt=ia(de,!0);return tt.filter(function(dt){return Pe.has(dt)})}function Eo(de,Pe,tt){var dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!de)return null;var ft=to(de,Pe),Dt=ft.length,ct=ft.findIndex(function(Jt){return tt===Jt});return dt<0?ct===-1?ct=Dt-1:ct-=1:dt>0&&(ct+=1),ct=(ct+Dt)%Dt,ft[ct]}function Ds(de,Pe,tt,dt,ft,Dt,ct,Jt,Ut,fi){var Ei=_.useRef(),xi=_.useRef();xi.current=Pe;var Mi=function(){Lt.Z.cancel(Ei.current)};return _.useEffect(function(){return function(){Mi()}},[]),function(Ri){var Ni=Ri.which;if([].concat(ka,[xa,Al,gl,Xs]).includes(Ni)){var zi,cn,rn,Qi=function(){zi=new Set,cn=new Map,rn=new Map;var Cs=Dt();return Cs.forEach(function(Ps){var Fs=document.querySelector("[data-menu-id='".concat(Da(dt,Ps),"']"));Fs&&(zi.add(Fs),rn.set(Fs,Ps),cn.set(Ps,Fs))}),zi};Qi();var on=cn.get(Pe),sn=Js(on,zi),Nn=rn.get(sn),Cn=is(de,ct(Nn,!0).length===1,tt,Ni);if(!Cn&&Ni!==gl&&Ni!==Xs)return;(ka.includes(Ni)||[gl,Xs].includes(Ni))&&Ri.preventDefault();var Tn=function(Cs){if(Cs){var Ps=Cs,Fs=Cs.querySelector("a");Fs!=null&&Fs.getAttribute("href")&&(Ps=Fs);var _s=rn.get(Cs);Jt(_s),Mi(),Ei.current=(0,Lt.Z)(function(){xi.current===_s&&Ps.focus()})}};if([gl,Xs].includes(Ni)||Cn.sibling||!sn){var Zn;!sn||de==="inline"?Zn=ft.current:Zn=ws(sn);var Mn,ss=to(Zn,zi);Ni===gl?Mn=ss[0]:Ni===Xs?Mn=ss[ss.length-1]:Mn=Eo(Zn,zi,sn,Cn.offset),Tn(Mn)}else if(Cn.inlineTrigger)Ut(Nn);else if(Cn.offset>0)Ut(Nn,!0),Mi(),Ei.current=(0,Lt.Z)(function(){Qi();var as=sn.getAttribute("aria-controls"),Cs=document.getElementById(as),Ps=Eo(Cs,zi);Tn(Ps)},5);else if(Cn.offset<0){var Dn=ct(Nn,!0),xn=Dn[Dn.length-2],$n=cn.get(xn);Ut(xn,!1),Tn($n)}}fi==null||fi(Ri)}}function Ia(de){Promise.resolve().then(de)}var Na="__RC_UTIL_PATH_SPLIT__",ml=function(Pe){return Pe.join(Na)},_a=function(Pe){return Pe.split(Na)},Qa="rc-menu-more";function Lc(){var de=_.useState({}),Pe=(0,Ce.Z)(de,2),tt=Pe[1],dt=(0,_.useRef)(new Map),ft=(0,_.useRef)(new Map),Dt=_.useState([]),ct=(0,Ce.Z)(Dt,2),Jt=ct[0],Ut=ct[1],fi=(0,_.useRef)(0),Ei=(0,_.useRef)(!1),xi=function(){Ei.current||tt({})},Mi=(0,_.useCallback)(function(on,sn){var Nn=ml(sn);ft.current.set(Nn,on),dt.current.set(on,Nn),fi.current+=1;var Cn=fi.current;Ia(function(){Cn===fi.current&&xi()})},[]),Ri=(0,_.useCallback)(function(on,sn){var Nn=ml(sn);ft.current.delete(Nn),dt.current.delete(on)},[]),Ni=(0,_.useCallback)(function(on){Ut(on)},[]),zi=(0,_.useCallback)(function(on,sn){var Nn=dt.current.get(on)||"",Cn=_a(Nn);return sn&&Jt.includes(Cn[0])&&Cn.unshift(Qa),Cn},[Jt]),cn=(0,_.useCallback)(function(on,sn){return on.some(function(Nn){var Cn=zi(Nn,!0);return Cn.includes(sn)})},[zi]),rn=function(){var sn=(0,xe.Z)(dt.current.keys());return Jt.length&&sn.push(Qa),sn},Qi=(0,_.useCallback)(function(on){var sn="".concat(dt.current.get(on)).concat(Na),Nn=new Set;return(0,xe.Z)(ft.current.keys()).forEach(function(Cn){Cn.startsWith(sn)&&Nn.add(ft.current.get(Cn))}),Nn},[]);return _.useEffect(function(){return function(){Ei.current=!0}},[]),{registerPath:Mi,unregisterPath:Ri,refreshOverflowKeys:Ni,isSubPathKey:cn,getKeyPath:zi,getKeys:rn,getSubPathKeys:Qi}}function Ca(de){var Pe=_.useRef(de);Pe.current=de;var tt=_.useCallback(function(){for(var dt,ft=arguments.length,Dt=new Array(ft),ct=0;ct<ft;ct++)Dt[ct]=arguments[ct];return(dt=Pe.current)===null||dt===void 0?void 0:dt.call.apply(dt,[Pe].concat(Dt))},[]);return de?tt:void 0}var kl=Math.random().toFixed(5).toString().slice(2),El=0;function Nr(de){var Pe=(0,ot.Z)(de,{value:de}),tt=(0,Ce.Z)(Pe,2),dt=tt[0],ft=tt[1];return _.useEffect(function(){El+=1;var Dt="".concat(kl,"-").concat(El);ft("rc-menu-uuid-".concat(Dt))},[]),dt}function Fl(de,Pe,tt,dt){var ft=_.useContext(zo),Dt=ft.activeKey,ct=ft.onActive,Jt=ft.onInactive,Ut={active:Dt===de};return Pe||(Ut.onMouseEnter=function(fi){tt==null||tt({key:de,domEvent:fi}),ct(de)},Ut.onMouseLeave=function(fi){dt==null||dt({key:de,domEvent:fi}),Jt(de)}),Ut}function Xr(de){var Pe=_.useContext(zo),tt=Pe.mode,dt=Pe.rtl,ft=Pe.inlineIndent;if(tt!=="inline")return null;var Dt=de;return dt?{paddingRight:Dt*ft}:{paddingLeft:Dt*ft}}function Kl(de){var Pe=de.icon,tt=de.props,dt=de.children,ft;return typeof Pe=="function"?ft=_.createElement(Pe,(0,z.Z)({},tt)):ft=Pe,ft||dt||null}var Dc=["item"];function pl(de){var Pe=de.item,tt=(0,Me.Z)(de,Dc);return Object.defineProperty(tt,"item",{get:function(){return(0,ma.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),Pe}}),tt}var xl=["title","attribute","elementRef"],Il=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],$l=["active"],Gl=function(de){(0,es.Z)(tt,de);var Pe=(0,Ls.Z)(tt);function tt(){return(0,ki.Z)(this,tt),Pe.apply(this,arguments)}return(0,Vi.Z)(tt,[{key:"render",value:function(){var ft=this.props,Dt=ft.title,ct=ft.attribute,Jt=ft.elementRef,Ut=(0,Me.Z)(ft,xl),fi=(0,f.Z)(Ut,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,ma.ZP)(!ct,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),_.createElement(Ir.Item,(0,oe.Z)({},ct,{title:typeof Dt=="string"?Dt:void 0},fi,{ref:Jt}))}}]),tt}(_.Component),Ec=_.forwardRef(function(de,Pe){var tt,dt=de.style,ft=de.className,Dt=de.eventKey,ct=de.warnKey,Jt=de.disabled,Ut=de.itemIcon,fi=de.children,Ei=de.role,xi=de.onMouseEnter,Mi=de.onMouseLeave,Ri=de.onClick,Ni=de.onKeyDown,zi=de.onFocus,cn=(0,Me.Z)(de,Il),rn=Qr(Dt),Qi=_.useContext(zo),on=Qi.prefixCls,sn=Qi.onItemClick,Nn=Qi.disabled,Cn=Qi.overflowDisabled,Tn=Qi.itemIcon,Zn=Qi.selectedKeys,Mn=Qi.onActive,ss=_.useContext(Aa),Dn=ss._internalRenderMenuItem,xn="".concat(on,"-item"),$n=_.useRef(),as=_.useRef(),Cs=Nn||Jt,Ps=(0,Xt.x1)(Pe,as),Fs=Ea(Dt),_s=function(Io){return{key:Dt,keyPath:(0,xe.Z)(Fs).reverse(),item:$n.current,domEvent:Io}},no=Ut||Tn,Ro=Fl(Dt,Cs,xi,Mi),Co=Ro.active,os=(0,Me.Z)(Ro,$l),jn=Zn.includes(Dt),Ns=Xr(Fs.length),Vs=function(Io){if(!Cs){var Ao=_s(Io);Ri==null||Ri(pl(Ao)),sn(Ao)}},As=function(Io){if(Ni==null||Ni(Io),Io.which===vo.Z.ENTER){var Ao=_s(Io);Ri==null||Ri(pl(Ao)),sn(Ao)}},mo=function(Io){Mn(Dt),zi==null||zi(Io)},xo={};de.role==="option"&&(xo["aria-selected"]=jn);var _r=_.createElement(Gl,(0,oe.Z)({ref:$n,elementRef:Ps,role:Ei===null?"none":Ei||"menuitem",tabIndex:Jt?null:-1,"data-menu-id":Cn&&rn?null:rn},cn,os,xo,{component:"li","aria-disabled":Jt,style:(0,z.Z)((0,z.Z)({},Ns),dt),className:B()(xn,(tt={},(0,ge.Z)(tt,"".concat(xn,"-active"),Co),(0,ge.Z)(tt,"".concat(xn,"-selected"),jn),(0,ge.Z)(tt,"".concat(xn,"-disabled"),Cs),tt),ft),onClick:Vs,onKeyDown:As,onFocus:mo}),fi,_.createElement(Kl,{props:(0,z.Z)((0,z.Z)({},de),{},{isSelected:jn}),icon:no}));return Dn&&(_r=Dn(_r,de,{selected:jn})),_r});function xc(de,Pe){var tt=de.eventKey,dt=Ya(),ft=Ea(tt);return _.useEffect(function(){if(dt)return dt.registerPath(tt,ft),function(){dt.unregisterPath(tt,ft)}},[ft]),dt?null:_.createElement(Ec,(0,oe.Z)({},de,{ref:Pe}))}var Zl=_.forwardRef(xc),Ic=["className","children"],ba=function(Pe,tt){var dt=Pe.className,ft=Pe.children,Dt=(0,Me.Z)(Pe,Ic),ct=_.useContext(zo),Jt=ct.prefixCls,Ut=ct.mode,fi=ct.rtl;return _.createElement("ul",(0,oe.Z)({className:B()(Jt,fi&&"".concat(Jt,"-rtl"),"".concat(Jt,"-sub"),"".concat(Jt,"-").concat(Ut==="inline"?"inline":"vertical"),dt),role:"menu"},Dt,{"data-menu-list":!0,ref:tt}),ft)},lc=_.forwardRef(ba);lc.displayName="SubMenuList";var Yl=lc,Bl=i(33514),cc=["label","children","key","type"];function Ql(de,Pe){return(0,Bl.Z)(de).map(function(tt,dt){if(_.isValidElement(tt)){var ft,Dt,ct=tt.key,Jt=(ft=(Dt=tt.props)===null||Dt===void 0?void 0:Dt.eventKey)!==null&&ft!==void 0?ft:ct,Ut=Jt==null;Ut&&(Jt="tmp_key-".concat([].concat((0,xe.Z)(Pe),[dt]).join("-")));var fi={key:Jt,eventKey:Jt};return _.cloneElement(tt,fi)}return tt})}function nr(de){return(de||[]).map(function(Pe,tt){if(Pe&&(0,me.Z)(Pe)==="object"){var dt=Pe,ft=dt.label,Dt=dt.children,ct=dt.key,Jt=dt.type,Ut=(0,Me.Z)(dt,cc),fi=ct!=null?ct:"tmp-".concat(tt);return Dt||Jt==="group"?Jt==="group"?_.createElement(st,(0,oe.Z)({key:fi},Ut,{title:ft}),nr(Dt)):_.createElement(o,(0,oe.Z)({key:fi},Ut,{title:ft}),nr(Dt)):Jt==="divider"?_.createElement(vt,(0,oe.Z)({key:fi},Ut)):_.createElement(Zl,(0,oe.Z)({key:fi},Ut),ft)}return null}).filter(function(Pe){return Pe})}function Uc(de,Pe,tt){var dt=de;return Pe&&(dt=nr(Pe)),Ql(dt,tt)}var Ta={adjustX:1,adjustY:1},dc={topLeft:{points:["bl","tl"],overflow:Ta,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ta,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Ta,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Ta,offset:[4,0]}},jc={topLeft:{points:["bl","tl"],overflow:Ta,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ta,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Ta,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Ta,offset:[4,0]}},la=null;function ca(de,Pe,tt){if(Pe)return Pe;if(tt)return tt[de]||tt.other}var Xl={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Jl(de){var Pe=de.prefixCls,tt=de.visible,dt=de.children,ft=de.popup,Dt=de.popupClassName,ct=de.popupOffset,Jt=de.disabled,Ut=de.mode,fi=de.onVisibleChange,Ei=_.useContext(zo),xi=Ei.getPopupContainer,Mi=Ei.rtl,Ri=Ei.subMenuOpenDelay,Ni=Ei.subMenuCloseDelay,zi=Ei.builtinPlacements,cn=Ei.triggerSubMenuAction,rn=Ei.forceSubMenuRender,Qi=Ei.rootClassName,on=Ei.motion,sn=Ei.defaultMotions,Nn=_.useState(!1),Cn=(0,Ce.Z)(Nn,2),Tn=Cn[0],Zn=Cn[1],Mn=Mi?(0,z.Z)((0,z.Z)({},jc),zi):(0,z.Z)((0,z.Z)({},dc),zi),ss=Xl[Ut],Dn=ca(Ut,on,sn),xn=_.useRef(Dn);Ut!=="inline"&&(xn.current=Dn);var $n=(0,z.Z)((0,z.Z)({},xn.current),{},{leavedClassName:"".concat(Pe,"-hidden"),removeOnLeave:!1,motionAppear:!0}),as=_.useRef();return _.useEffect(function(){return as.current=(0,Lt.Z)(function(){Zn(tt)}),function(){Lt.Z.cancel(as.current)}},[tt]),_.createElement(co,{prefixCls:Pe,popupClassName:B()("".concat(Pe,"-popup"),(0,ge.Z)({},"".concat(Pe,"-rtl"),Mi),Dt,Qi),stretch:Ut==="horizontal"?"minWidth":null,getPopupContainer:xi,builtinPlacements:Mn,popupPlacement:ss,popupVisible:Tn,popup:ft,popupAlign:ct&&{offset:ct},action:Jt?[]:[cn],mouseEnterDelay:Ri,mouseLeaveDelay:Ni,onPopupVisibleChange:fi,forceRender:rn,popupMotion:$n},dt)}function Nc(de){var Pe=de.id,tt=de.open,dt=de.keyPath,ft=de.children,Dt="inline",ct=_.useContext(zo),Jt=ct.prefixCls,Ut=ct.forceSubMenuRender,fi=ct.motion,Ei=ct.defaultMotions,xi=ct.mode,Mi=_.useRef(!1);Mi.current=xi===Dt;var Ri=_.useState(!Mi.current),Ni=(0,Ce.Z)(Ri,2),zi=Ni[0],cn=Ni[1],rn=Mi.current?tt:!1;_.useEffect(function(){Mi.current&&cn(!1)},[xi]);var Qi=(0,z.Z)({},ca(Dt,fi,Ei));dt.length>1&&(Qi.motionAppear=!1);var on=Qi.onVisibleChanged;return Qi.onVisibleChanged=function(sn){return!Mi.current&&!sn&&cn(!0),on==null?void 0:on(sn)},zi?null:_.createElement(Mo,{mode:Dt,locked:!Mi.current},_.createElement(ut.ZP,(0,oe.Z)({visible:rn},Qi,{forceRender:Ut,removeOnLeave:!1,leavedClassName:"".concat(Jt,"-hidden")}),function(sn){var Nn=sn.className,Cn=sn.style;return _.createElement(Yl,{id:Pe,className:Nn,style:Cn},ft)}))}var ql=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Nt=["active"],e=function(Pe){var tt,dt=Pe.style,ft=Pe.className,Dt=Pe.title,ct=Pe.eventKey,Jt=Pe.warnKey,Ut=Pe.disabled,fi=Pe.internalPopupClose,Ei=Pe.children,xi=Pe.itemIcon,Mi=Pe.expandIcon,Ri=Pe.popupClassName,Ni=Pe.popupOffset,zi=Pe.onClick,cn=Pe.onMouseEnter,rn=Pe.onMouseLeave,Qi=Pe.onTitleClick,on=Pe.onTitleMouseEnter,sn=Pe.onTitleMouseLeave,Nn=(0,Me.Z)(Pe,ql),Cn=Qr(ct),Tn=_.useContext(zo),Zn=Tn.prefixCls,Mn=Tn.mode,ss=Tn.openKeys,Dn=Tn.disabled,xn=Tn.overflowDisabled,$n=Tn.activeKey,as=Tn.selectedKeys,Cs=Tn.itemIcon,Ps=Tn.expandIcon,Fs=Tn.onItemClick,_s=Tn.onOpenChange,no=Tn.onActive,Ro=_.useContext(Aa),Co=Ro._internalRenderSubMenuItem,os=_.useContext(aa),jn=os.isSubPathKey,Ns=Ea(),Vs="".concat(Zn,"-submenu"),As=Dn||Ut,mo=_.useRef(),xo=_.useRef(),_r=xi||Cs,bo=Mi||Ps,Io=ss.includes(ct),Ao=!xn&&Io,so=jn(as,ct),wr=Fl(ct,As,on,sn),Go=wr.active,Bs=(0,Me.Z)(wr,Nt),ur=_.useState(!1),Kr=(0,Ce.Z)(ur,2),Ma=Kr[0],Ra=Kr[1],Jr=function(Rr){As||Ra(Rr)},Br=function(Rr){Jr(!0),cn==null||cn({key:ct,domEvent:Rr})},Lr=function(Rr){Jr(!1),rn==null||rn({key:ct,domEvent:Rr})},qa=_.useMemo(function(){return Go||(Mn!=="inline"?Ma||jn([$n],ct):!1)},[Mn,Go,$n,Ma,ct,jn]),Ba=Xr(Ns.length),ko=function(Rr){As||(Qi==null||Qi({key:ct,domEvent:Rr}),Mn==="inline"&&_s(ct,!Io))},Wa=Ca(function(Mr){zi==null||zi(pl(Mr)),Fs(Mr)}),Dr=function(Rr){Mn!=="inline"&&_s(ct,Rr)},Zo=function(){no(ct)},$r=Cn&&"".concat(Cn,"-popup"),Po=_.createElement("div",(0,oe.Z)({role:"menuitem",style:Ba,className:"".concat(Vs,"-title"),tabIndex:As?null:-1,ref:mo,title:typeof Dt=="string"?Dt:null,"data-menu-id":xn&&Cn?null:Cn,"aria-expanded":Ao,"aria-haspopup":!0,"aria-controls":$r,"aria-disabled":As,onClick:ko,onFocus:Zo},Bs),Dt,_.createElement(Kl,{icon:Mn!=="horizontal"?bo:null,props:(0,z.Z)((0,z.Z)({},Pe),{},{isOpen:Ao,isSubMenu:!0})},_.createElement("i",{className:"".concat(Vs,"-arrow")}))),el=_.useRef(Mn);if(Mn!=="inline"&&Ns.length>1?el.current="vertical":el.current=Mn,!xn){var hr=el.current;Po=_.createElement(Jl,{mode:hr,prefixCls:Vs,visible:!fi&&Ao&&Mn!=="inline",popupClassName:Ri,popupOffset:Ni,popup:_.createElement(Mo,{mode:hr==="horizontal"?"vertical":hr},_.createElement(Yl,{id:$r,ref:xo},Ei)),disabled:As,onVisibleChange:Dr},Po)}var qr=_.createElement(Ir.Item,(0,oe.Z)({role:"none"},Nn,{component:"li",style:dt,className:B()(Vs,"".concat(Vs,"-").concat(Mn),ft,(tt={},(0,ge.Z)(tt,"".concat(Vs,"-open"),Ao),(0,ge.Z)(tt,"".concat(Vs,"-active"),qa),(0,ge.Z)(tt,"".concat(Vs,"-selected"),so),(0,ge.Z)(tt,"".concat(Vs,"-disabled"),As),tt)),onMouseEnter:Br,onMouseLeave:Lr}),Po,!xn&&_.createElement(Nc,{id:$r,open:Ao,keyPath:Ns},Ei));return Co&&(qr=Co(qr,Pe,{selected:so,active:qa,open:Ao,disabled:As})),_.createElement(Mo,{onItemClick:Wa,mode:Mn==="horizontal"?"vertical":Mn,itemIcon:_r,expandIcon:bo},qr)};function o(de){var Pe=de.eventKey,tt=de.children,dt=Ea(Pe),ft=Ql(tt,dt),Dt=Ya();_.useEffect(function(){if(Dt)return Dt.registerPath(Pe,dt),function(){Dt.unregisterPath(Pe,dt)}},[dt]);var ct;return Dt?ct=ft:ct=_.createElement(e,de,ft),_.createElement(dl.Provider,{value:dt},ct)}var b=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],V=[],Q=_.forwardRef(function(de,Pe){var tt,dt,ft=de,Dt=ft.prefixCls,ct=Dt===void 0?"rc-menu":Dt,Jt=ft.rootClassName,Ut=ft.style,fi=ft.className,Ei=ft.tabIndex,xi=Ei===void 0?0:Ei,Mi=ft.items,Ri=ft.children,Ni=ft.direction,zi=ft.id,cn=ft.mode,rn=cn===void 0?"vertical":cn,Qi=ft.inlineCollapsed,on=ft.disabled,sn=ft.disabledOverflow,Nn=ft.subMenuOpenDelay,Cn=Nn===void 0?.1:Nn,Tn=ft.subMenuCloseDelay,Zn=Tn===void 0?.1:Tn,Mn=ft.forceSubMenuRender,ss=ft.defaultOpenKeys,Dn=ft.openKeys,xn=ft.activeKey,$n=ft.defaultActiveFirst,as=ft.selectable,Cs=as===void 0?!0:as,Ps=ft.multiple,Fs=Ps===void 0?!1:Ps,_s=ft.defaultSelectedKeys,no=ft.selectedKeys,Ro=ft.onSelect,Co=ft.onDeselect,os=ft.inlineIndent,jn=os===void 0?24:os,Ns=ft.motion,Vs=ft.defaultMotions,As=ft.triggerSubMenuAction,mo=As===void 0?"hover":As,xo=ft.builtinPlacements,_r=ft.itemIcon,bo=ft.expandIcon,Io=ft.overflowedIndicator,Ao=Io===void 0?"...":Io,so=ft.overflowedIndicatorPopupClassName,wr=ft.getPopupContainer,Go=ft.onClick,Bs=ft.onOpenChange,ur=ft.onKeyDown,Kr=ft.openAnimation,Ma=ft.openTransitionName,Ra=ft._internalRenderMenuItem,Jr=ft._internalRenderSubMenuItem,Br=(0,Me.Z)(ft,b),Lr=_.useMemo(function(){return Uc(Ri,Mi,V)},[Ri,Mi]),qa=_.useState(!1),Ba=(0,Ce.Z)(qa,2),ko=Ba[0],Wa=Ba[1],Dr=_.useRef(),Zo=Nr(zi),$r=Ni==="rtl",Po=(0,ot.Z)(ss,{value:Dn,postState:function(ho){return ho||V}}),el=(0,Ce.Z)(Po,2),hr=el[0],qr=el[1],Mr=function(ho){var Uo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Wr(){qr(ho),Bs==null||Bs(ho)}Uo?(0,ts.flushSync)(Wr):Wr()},Rr=_.useState(hr),vl=(0,Ce.Z)(Rr,2),_l=vl[0],tl=vl[1],Vl=_.useRef(!1),il=_.useMemo(function(){return(rn==="inline"||rn==="vertical")&&Qi?["vertical",Qi]:[rn,!1]},[rn,Qi]),Tl=(0,Ce.Z)(il,2),da=Tl[0],nl=Tl[1],Va=da==="inline",Ha=_.useState(da),Os=(0,Ce.Z)(Ha,2),ks=Os[0],Yo=Os[1],ua=_.useState(nl),za=(0,Ce.Z)(ua,2),Xc=za[0],Pc=za[1];_.useEffect(function(){Yo(da),Pc(nl),Vl.current&&(Va?qr(_l):Mr(V))},[da,nl]);var sl=_.useState(0),Hl=(0,Ce.Z)(sl,2),Ml=Hl[0],Jc=Hl[1],Rl=Ml>=Lr.length-1||ks!=="horizontal"||sn;_.useEffect(function(){Va&&tl(hr)},[hr]),_.useEffect(function(){return Vl.current=!0,function(){Vl.current=!1}},[]);var Ua=Lc(),nc=Ua.registerPath,_c=Ua.unregisterPath,sc=Ua.refreshOverflowKeys,qs=Ua.isSubPathKey,eo=Ua.getKeyPath,Cr=Ua.getKeys,Pr=Ua.getSubPathKeys,ol=_.useMemo(function(){return{registerPath:nc,unregisterPath:_c}},[nc,_c]),Pa=_.useMemo(function(){return{isSubPathKey:qs}},[qs]);_.useEffect(function(){sc(Rl?V:Lr.slice(Ml+1).map(function(Oo){return Oo.key}))},[Ml,Rl]);var Cc=(0,ot.Z)(xn||$n&&((tt=Lr[0])===null||tt===void 0?void 0:tt.key),{value:xn}),bd=(0,Ce.Z)(Cc,2),zl=bd[0],qc=bd[1],Sd=Ca(function(Oo){qc(Oo)}),yd=Ca(function(){qc(void 0)});(0,_.useImperativeHandle)(Pe,function(){return{list:Dr.current,focus:function(ho){var Uo,Wr=zl!=null?zl:(Uo=Lr.find(function(xd){return!xd.props.disabled}))===null||Uo===void 0?void 0:Uo.key;if(Wr){var Sa,al,Ul;(Sa=Dr.current)===null||Sa===void 0||(al=Sa.querySelector("li[data-menu-id='".concat(Da(Zo,Wr),"']")))===null||al===void 0||(Ul=al.focus)===null||Ul===void 0||Ul.call(al,ho)}}}});var rl=(0,ot.Z)(_s||[],{value:no,postState:function(ho){return Array.isArray(ho)?ho:ho==null?V:[ho]}}),wd=(0,Ce.Z)(rl,2),Pl=wd[0],ou=wd[1],or=function(ho){if(Cs){var Uo=ho.key,Wr=Pl.includes(Uo),Sa;Fs?Wr?Sa=Pl.filter(function(Ul){return Ul!==Uo}):Sa=[].concat((0,xe.Z)(Pl),[Uo]):Sa=[Uo],ou(Sa);var al=(0,z.Z)((0,z.Z)({},ho),{},{selectedKeys:Sa});Wr?Co==null||Co(al):Ro==null||Ro(al)}!Fs&&hr.length&&ks!=="inline"&&Mr(V)},ed=Ca(function(Oo){Go==null||Go(pl(Oo)),or(Oo)}),Ld=Ca(function(Oo,ho){var Uo=hr.filter(function(Sa){return Sa!==Oo});if(ho)Uo.push(Oo);else if(ks!=="inline"){var Wr=Pr(Oo);Uo=Uo.filter(function(Sa){return!Wr.has(Sa)})}(0,fs.Z)(hr,Uo,!0)||Mr(Uo,!0)}),Dd=Ca(wr),ru=function(ho,Uo){var Wr=Uo!=null?Uo:!hr.includes(ho);Ld(ho,Wr)},au=Ds(ks,zl,$r,Zo,Dr,Cr,eo,qc,ru,ur);_.useEffect(function(){Wa(!0)},[]);var Ed=_.useMemo(function(){return{_internalRenderMenuItem:Ra,_internalRenderSubMenuItem:Jr}},[Ra,Jr]),ha=ks!=="horizontal"||sn?Lr:Lr.map(function(Oo,ho){return _.createElement(Mo,{key:Oo.key,overflowDisabled:ho>Ml},Oo)}),td=_.createElement(Ir,(0,oe.Z)({id:zi,ref:Dr,prefixCls:"".concat(ct,"-overflow"),component:"ul",itemComponent:Zl,className:B()(ct,"".concat(ct,"-root"),"".concat(ct,"-").concat(ks),fi,(dt={},(0,ge.Z)(dt,"".concat(ct,"-inline-collapsed"),Xc),(0,ge.Z)(dt,"".concat(ct,"-rtl"),$r),dt),Jt),dir:Ni,style:Ut,role:"menu",tabIndex:xi,data:ha,renderRawItem:function(ho){return ho},renderRawRest:function(ho){var Uo=ho.length,Wr=Uo?Lr.slice(-Uo):null;return _.createElement(o,{eventKey:Qa,title:Ao,disabled:Rl,internalPopupClose:Uo===0,popupClassName:so},Wr)},maxCount:ks!=="horizontal"||sn?Ir.INVALIDATE:Ir.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(ho){Jc(ho)},onKeyDown:au},Br));return _.createElement(Aa.Provider,{value:Ed},_.createElement(La.Provider,{value:Zo},_.createElement(Mo,{prefixCls:ct,rootClassName:Jt,mode:ks,openKeys:hr,rtl:$r,disabled:on,motion:ko?Ns:null,defaultMotions:ko?Vs:null,activeKey:zl,onActive:Sd,onInactive:yd,selectedKeys:Pl,inlineIndent:jn,subMenuOpenDelay:Cn,subMenuCloseDelay:Zn,forceSubMenuRender:Mn,builtinPlacements:xo,triggerSubMenuAction:mo,getPopupContainer:Dd,itemIcon:_r,expandIcon:bo,onItemClick:ed,onOpenChange:Ld},_.createElement(aa.Provider,{value:Pa},td),_.createElement("div",{style:{display:"none"},"aria-hidden":!0},_.createElement(jl.Provider,{value:ol},Lr)))))}),Se=Q,Ae=["className","title","eventKey","children"],Ye=["children"],rt=function(Pe){var tt=Pe.className,dt=Pe.title,ft=Pe.eventKey,Dt=Pe.children,ct=(0,Me.Z)(Pe,Ae),Jt=_.useContext(zo),Ut=Jt.prefixCls,fi="".concat(Ut,"-item-group");return _.createElement("li",(0,oe.Z)({role:"presentation"},ct,{onClick:function(xi){return xi.stopPropagation()},className:B()(fi,tt)}),_.createElement("div",{role:"presentation",className:"".concat(fi,"-title"),title:typeof dt=="string"?dt:void 0},dt),_.createElement("ul",{role:"group",className:"".concat(fi,"-list")},Dt))};function st(de){var Pe=de.children,tt=(0,Me.Z)(de,Ye),dt=Ea(tt.eventKey),ft=Ql(Pe,dt),Dt=Ya();return Dt?ft:_.createElement(rt,(0,f.Z)(tt,["warnKey"]),ft)}function vt(de){var Pe=de.className,tt=de.style,dt=_.useContext(zo),ft=dt.prefixCls,Dt=Ya();return Dt?null:_.createElement("li",{className:B()("".concat(ft,"-item-divider"),Pe),style:tt})}var Ht=Se;Ht.Item=Zl,Ht.SubMenu=o,Ht.ItemGroup=st,Ht.Divider=vt;var Tt=Ht;function ei(de,Pe){var tt=de.prefixCls,dt=de.id,ft=de.tabs,Dt=de.locale,ct=de.mobile,Jt=de.moreIcon,Ut=Jt===void 0?"More":Jt,fi=de.moreTransitionName,Ei=de.style,xi=de.className,Mi=de.editable,Ri=de.tabBarGutter,Ni=de.rtl,zi=de.removeAriaLabel,cn=de.onTabClick,rn=de.getPopupContainer,Qi=de.popupClassName,on=(0,_.useState)(!1),sn=(0,Ce.Z)(on,2),Nn=sn[0],Cn=sn[1],Tn=(0,_.useState)(null),Zn=(0,Ce.Z)(Tn,2),Mn=Zn[0],ss=Zn[1],Dn="".concat(dt,"-more-popup"),xn="".concat(tt,"-dropdown"),$n=Mn!==null?"".concat(Dn,"-").concat(Mn):null,as=Dt==null?void 0:Dt.dropdownAriaLabel;function Cs(os,jn){os.preventDefault(),os.stopPropagation(),Mi.onEdit("remove",{key:jn,event:os})}var Ps=_.createElement(Tt,{onClick:function(jn){var Ns=jn.key,Vs=jn.domEvent;cn(Ns,Vs),Cn(!1)},prefixCls:"".concat(xn,"-menu"),id:Dn,tabIndex:-1,role:"listbox","aria-activedescendant":$n,selectedKeys:[Mn],"aria-label":as!==void 0?as:"expanded dropdown"},ft.map(function(os){var jn=Mi&&os.closable!==!1&&!os.disabled;return _.createElement(Zl,{key:os.key,id:"".concat(Dn,"-").concat(os.key),role:"option","aria-controls":dt&&"".concat(dt,"-panel-").concat(os.key),disabled:os.disabled},_.createElement("span",null,os.label),jn&&_.createElement("button",{type:"button","aria-label":zi||"remove",tabIndex:0,className:"".concat(xn,"-menu-item-remove"),onClick:function(Vs){Vs.stopPropagation(),Cs(Vs,os.key)}},os.closeIcon||Mi.removeIcon||"\xD7"))}));function Fs(os){for(var jn=ft.filter(function(xo){return!xo.disabled}),Ns=jn.findIndex(function(xo){return xo.key===Mn})||0,Vs=jn.length,As=0;As<Vs;As+=1){Ns=(Ns+os+Vs)%Vs;var mo=jn[Ns];if(!mo.disabled){ss(mo.key);return}}}function _s(os){var jn=os.which;if(!Nn){[vo.Z.DOWN,vo.Z.SPACE,vo.Z.ENTER].includes(jn)&&(Cn(!0),os.preventDefault());return}switch(jn){case vo.Z.UP:Fs(-1),os.preventDefault();break;case vo.Z.DOWN:Fs(1),os.preventDefault();break;case vo.Z.ESC:Cn(!1);break;case vo.Z.SPACE:case vo.Z.ENTER:Mn!==null&&cn(Mn,os);break}}(0,_.useEffect)(function(){var os=document.getElementById($n);os&&os.scrollIntoView&&os.scrollIntoView(!1)},[Mn]),(0,_.useEffect)(function(){Nn||ss(null)},[Nn]);var no=(0,ge.Z)({},Ni?"marginRight":"marginLeft",Ri);ft.length||(no.visibility="hidden",no.order=1);var Ro=B()((0,ge.Z)({},"".concat(xn,"-rtl"),Ni)),Co=ct?null:_.createElement(oa,{prefixCls:xn,overlay:Ps,trigger:["hover"],visible:ft.length?Nn:!1,transitionName:fi,onVisibleChange:Cn,overlayClassName:B()(Ro,Qi),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:rn},_.createElement("button",{type:"button",className:"".concat(tt,"-nav-more"),style:no,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":Dn,id:"".concat(dt,"-more"),"aria-expanded":Nn,onKeyDown:_s},Ut));return _.createElement("div",{className:B()("".concat(tt,"-nav-operations"),xi),style:Ei,ref:Pe},Co,_.createElement(Rn,{prefixCls:tt,locale:Dt,editable:Mi}))}var ai=_.memo(_.forwardRef(ei),function(de,Pe){return Pe.tabMoving});function di(de){var Pe,tt=de.prefixCls,dt=de.id,ft=de.active,Dt=de.tab,ct=Dt.key,Jt=Dt.label,Ut=Dt.disabled,fi=Dt.closeIcon,Ei=de.closable,xi=de.renderWrapper,Mi=de.removeAriaLabel,Ri=de.editable,Ni=de.onClick,zi=de.onFocus,cn=de.style,rn="".concat(tt,"-tab"),Qi=Ri&&Ei!==!1&&!Ut;function on(Cn){Ut||Ni(Cn)}function sn(Cn){Cn.preventDefault(),Cn.stopPropagation(),Ri.onEdit("remove",{key:ct,event:Cn})}var Nn=_.createElement("div",{key:ct,"data-node-key":ji(ct),className:B()(rn,(Pe={},(0,ge.Z)(Pe,"".concat(rn,"-with-remove"),Qi),(0,ge.Z)(Pe,"".concat(rn,"-active"),ft),(0,ge.Z)(Pe,"".concat(rn,"-disabled"),Ut),Pe)),style:cn,onClick:on},_.createElement("div",{role:"tab","aria-selected":ft,id:dt&&"".concat(dt,"-tab-").concat(ct),className:"".concat(rn,"-btn"),"aria-controls":dt&&"".concat(dt,"-panel-").concat(ct),"aria-disabled":Ut,tabIndex:Ut?null:0,onClick:function(Tn){Tn.stopPropagation(),on(Tn)},onKeyDown:function(Tn){[vo.Z.SPACE,vo.Z.ENTER].includes(Tn.which)&&(Tn.preventDefault(),on(Tn))},onFocus:zi},Jt),Qi&&_.createElement("button",{type:"button","aria-label":Mi||"remove",tabIndex:0,className:"".concat(rn,"-remove"),onClick:function(Tn){Tn.stopPropagation(),sn(Tn)}},fi||Ri.removeIcon||"\xD7"));return xi?xi(Nn):Nn}var bi=di,Ii=function(Pe){var tt=Pe.current||{},dt=tt.offsetWidth,ft=dt===void 0?0:dt,Dt=tt.offsetHeight,ct=Dt===void 0?0:Dt;return[ft,ct]},Bi=function(Pe,tt){return Pe[tt?0:1]};function nn(de,Pe){var tt,dt=_.useContext(ht),ft=dt.prefixCls,Dt=dt.tabs,ct=de.className,Jt=de.style,Ut=de.id,fi=de.animated,Ei=de.activeKey,xi=de.rtl,Mi=de.extra,Ri=de.editable,Ni=de.locale,zi=de.tabPosition,cn=de.tabBarGutter,rn=de.children,Qi=de.onTabClick,on=de.onTabScroll,sn=(0,_.useRef)(),Nn=(0,_.useRef)(),Cn=(0,_.useRef)(),Tn=(0,_.useRef)(),Zn=(0,_.useRef)(),Mn=(0,_.useRef)(),ss=(0,_.useRef)(),Dn=zi==="top"||zi==="bottom",xn=et(0,function(qs,eo){Dn&&on&&on({direction:qs>eo?"left":"right"})}),$n=(0,Ce.Z)(xn,2),as=$n[0],Cs=$n[1],Ps=et(0,function(qs,eo){!Dn&&on&&on({direction:qs>eo?"top":"bottom"})}),Fs=(0,Ce.Z)(Ps,2),_s=Fs[0],no=Fs[1],Ro=(0,_.useState)([0,0]),Co=(0,Ce.Z)(Ro,2),os=Co[0],jn=Co[1],Ns=(0,_.useState)([0,0]),Vs=(0,Ce.Z)(Ns,2),As=Vs[0],mo=Vs[1],xo=(0,_.useState)([0,0]),_r=(0,Ce.Z)(xo,2),bo=_r[0],Io=_r[1],Ao=(0,_.useState)([0,0]),so=(0,Ce.Z)(Ao,2),wr=so[0],Go=so[1],Bs=ri(new Map),ur=(0,Ce.Z)(Bs,2),Kr=ur[0],Ma=ur[1],Ra=Fe(Dt,Kr,As[0]),Jr=Bi(os,Dn),Br=Bi(As,Dn),Lr=Bi(bo,Dn),qa=Bi(wr,Dn),Ba=Jr<Br+Lr,ko=Ba?Jr-qa:Jr-Lr,Wa="".concat(ft,"-nav-operations-hidden"),Dr=0,Zo=0;Dn&&xi?(Dr=0,Zo=Math.max(0,Br-ko)):(Dr=Math.min(0,ko-Br),Zo=0);function $r(qs){return qs<Dr?Dr:qs>Zo?Zo:qs}var Po=(0,_.useRef)(),el=(0,_.useState)(),hr=(0,Ce.Z)(el,2),qr=hr[0],Mr=hr[1];function Rr(){Mr(Date.now())}function vl(){window.clearTimeout(Po.current)}St(Tn,function(qs,eo){function Cr(Pr,ol){Pr(function(Pa){var Cc=$r(Pa+ol);return Cc})}return Ba?(Dn?Cr(Cs,qs):Cr(no,eo),vl(),Rr(),!0):!1}),(0,_.useEffect)(function(){return vl(),qr&&(Po.current=window.setTimeout(function(){Mr(0)},100)),vl},[qr]);var _l=gi(Ra,ko,Dn?as:_s,Br,Lr,qa,(0,z.Z)((0,z.Z)({},de),{},{tabs:Dt})),tl=(0,Ce.Z)(_l,2),Vl=tl[0],il=tl[1],Tl=(0,Xe.Z)(function(){var qs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ei,eo=Ra.get(qs)||{width:0,height:0,left:0,right:0,top:0};if(Dn){var Cr=as;xi?eo.right<as?Cr=eo.right:eo.right+eo.width>as+ko&&(Cr=eo.right+eo.width-ko):eo.left<-as?Cr=-eo.left:eo.left+eo.width>-as+ko&&(Cr=-(eo.left+eo.width-ko)),no(0),Cs($r(Cr))}else{var Pr=_s;eo.top<-_s?Pr=-eo.top:eo.top+eo.height>-_s+ko&&(Pr=-(eo.top+eo.height-ko)),Cs(0),no($r(Pr))}}),da={};zi==="top"||zi==="bottom"?da[xi?"marginRight":"marginLeft"]=cn:da.marginTop=cn;var nl=Dt.map(function(qs,eo){var Cr=qs.key;return _.createElement(bi,{id:Ut,prefixCls:ft,key:Cr,tab:qs,style:eo===0?void 0:da,closable:qs.closable,editable:Ri,active:Cr===Ei,renderWrapper:rn,removeAriaLabel:Ni==null?void 0:Ni.removeAriaLabel,onClick:function(ol){Qi(Cr,ol)},onFocus:function(){Tl(Cr),Rr(),Tn.current&&(xi||(Tn.current.scrollLeft=0),Tn.current.scrollTop=0)}})}),Va=function(){return Ma(function(){var eo=new Map;return Dt.forEach(function(Cr){var Pr,ol=Cr.key,Pa=(Pr=Zn.current)===null||Pr===void 0?void 0:Pr.querySelector('[data-node-key="'.concat(ji(ol),'"]'));Pa&&eo.set(ol,{width:Pa.offsetWidth,height:Pa.offsetHeight,left:Pa.offsetLeft,top:Pa.offsetTop})}),eo})};(0,_.useEffect)(function(){Va()},[Dt.map(function(qs){return qs.key}).join("_")]);var Ha=ti(function(){var qs=Ii(sn),eo=Ii(Nn),Cr=Ii(Cn);jn([qs[0]-eo[0]-Cr[0],qs[1]-eo[1]-Cr[1]]);var Pr=Ii(ss);Io(Pr);var ol=Ii(Mn);Go(ol);var Pa=Ii(Zn);mo([Pa[0]-Pr[0],Pa[1]-Pr[1]]),Va()}),Os=Dt.slice(0,Vl),ks=Dt.slice(il+1),Yo=[].concat((0,xe.Z)(Os),(0,xe.Z)(ks)),ua=(0,_.useState)(),za=(0,Ce.Z)(ua,2),Xc=za[0],Pc=za[1],sl=Ra.get(Ei),Hl=(0,_.useRef)();function Ml(){Lt.Z.cancel(Hl.current)}(0,_.useEffect)(function(){var qs={};return sl&&(Dn?(xi?qs.right=sl.right:qs.left=sl.left,qs.width=sl.width):(qs.top=sl.top,qs.height=sl.height)),Ml(),Hl.current=(0,Lt.Z)(function(){Pc(qs)}),Ml},[sl,Dn,xi]),(0,_.useEffect)(function(){Tl()},[Ei,Dr,Zo,Pi(sl),Pi(Ra),Dn]),(0,_.useEffect)(function(){Ha()},[xi]);var Jc=!!Yo.length,Rl="".concat(ft,"-nav-wrap"),Ua,nc,_c,sc;return Dn?xi?(nc=as>0,Ua=as!==Zo):(Ua=as<0,nc=as!==Dr):(_c=_s<0,sc=_s!==Dr),_.createElement(Mt.Z,{onResize:Ha},_.createElement("div",{ref:(0,Xt.x1)(Pe,sn),role:"tablist",className:B()("".concat(ft,"-nav"),ct),style:Jt,onKeyDown:function(){Rr()}},_.createElement(ms,{ref:Nn,position:"left",extra:Mi,prefixCls:ft}),_.createElement("div",{className:B()(Rl,(tt={},(0,ge.Z)(tt,"".concat(Rl,"-ping-left"),Ua),(0,ge.Z)(tt,"".concat(Rl,"-ping-right"),nc),(0,ge.Z)(tt,"".concat(Rl,"-ping-top"),_c),(0,ge.Z)(tt,"".concat(Rl,"-ping-bottom"),sc),tt)),ref:Tn},_.createElement(Mt.Z,{onResize:Ha},_.createElement("div",{ref:Zn,className:"".concat(ft,"-nav-list"),style:{transform:"translate(".concat(as,"px, ").concat(_s,"px)"),transition:qr?"none":void 0}},nl,_.createElement(Rn,{ref:ss,prefixCls:ft,locale:Ni,editable:Ri,style:(0,z.Z)((0,z.Z)({},nl.length===0?void 0:da),{},{visibility:Jc?"hidden":null})}),_.createElement("div",{className:B()("".concat(ft,"-ink-bar"),(0,ge.Z)({},"".concat(ft,"-ink-bar-animated"),fi.inkBar)),style:Xc})))),_.createElement(ai,(0,oe.Z)({},de,{removeAriaLabel:Ni==null?void 0:Ni.removeAriaLabel,ref:Mn,prefixCls:ft,tabs:Yo,className:!Jc&&Wa,tabMoving:!!qr})),_.createElement(ms,{ref:Cn,position:"right",extra:Mi,prefixCls:ft})))}var Yi=_.forwardRef(nn),Sn=["renderTabBar"],Ln=["label","key"];function En(de){var Pe=de.renderTabBar,tt=(0,Me.Z)(de,Sn),dt=_.useContext(ht),ft=dt.tabs;if(Pe){var Dt=(0,z.Z)((0,z.Z)({},tt),{},{panes:ft.map(function(ct){var Jt=ct.label,Ut=ct.key,fi=(0,Me.Z)(ct,Ln);return _.createElement(Pt,(0,oe.Z)({tab:Jt,key:Ut,tabKey:Ut},fi))})});return Pe(Dt,Yi)}return _.createElement(Yi,tt)}function $i(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},Pe;return de===!1?Pe={inkBar:!1,tabPane:!1}:de===!0?Pe={inkBar:!0,tabPane:!1}:Pe=(0,z.Z)({inkBar:!0},(0,me.Z)(de)==="object"?de:{}),Pe.tabPaneMotion&&Pe.tabPane===void 0&&(Pe.tabPane=!0),!Pe.tabPaneMotion&&Pe.tabPane&&(Pe.tabPane=!1),Pe}var Xn=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Un=0;function Gn(de,Pe){var tt,dt=de.id,ft=de.prefixCls,Dt=ft===void 0?"rc-tabs":ft,ct=de.className,Jt=de.items,Ut=de.direction,fi=de.activeKey,Ei=de.defaultActiveKey,xi=de.editable,Mi=de.animated,Ri=de.tabPosition,Ni=Ri===void 0?"top":Ri,zi=de.tabBarGutter,cn=de.tabBarStyle,rn=de.tabBarExtraContent,Qi=de.locale,on=de.moreIcon,sn=de.moreTransitionName,Nn=de.destroyInactiveTabPane,Cn=de.renderTabBar,Tn=de.onChange,Zn=de.onTabClick,Mn=de.onTabScroll,ss=de.getPopupContainer,Dn=de.popupClassName,xn=(0,Me.Z)(de,Xn),$n=_.useMemo(function(){return(Jt||[]).filter(function(Bs){return Bs&&(0,me.Z)(Bs)==="object"&&"key"in Bs})},[Jt]),as=Ut==="rtl",Cs=$i(Mi),Ps=(0,_.useState)(!1),Fs=(0,Ce.Z)(Ps,2),_s=Fs[0],no=Fs[1];(0,_.useEffect)(function(){no((0,qe.Z)())},[]);var Ro=(0,ot.Z)(function(){var Bs;return(Bs=$n[0])===null||Bs===void 0?void 0:Bs.key},{value:fi,defaultValue:Ei}),Co=(0,Ce.Z)(Ro,2),os=Co[0],jn=Co[1],Ns=(0,_.useState)(function(){return $n.findIndex(function(Bs){return Bs.key===os})}),Vs=(0,Ce.Z)(Ns,2),As=Vs[0],mo=Vs[1];(0,_.useEffect)(function(){var Bs=$n.findIndex(function(Kr){return Kr.key===os});if(Bs===-1){var ur;Bs=Math.max(0,Math.min(As,$n.length-1)),jn((ur=$n[Bs])===null||ur===void 0?void 0:ur.key)}mo(Bs)},[$n.map(function(Bs){return Bs.key}).join("_"),os,As]);var xo=(0,ot.Z)(null,{value:dt}),_r=(0,Ce.Z)(xo,2),bo=_r[0],Io=_r[1];(0,_.useEffect)(function(){dt||(Io("rc-tabs-".concat(Un)),Un+=1)},[]);function Ao(Bs,ur){Zn==null||Zn(Bs,ur);var Kr=Bs!==os;jn(Bs),Kr&&(Tn==null||Tn(Bs))}var so={id:bo,activeKey:os,animated:Cs,tabPosition:Ni,rtl:as,mobile:_s},wr,Go=(0,z.Z)((0,z.Z)({},so),{},{editable:xi,locale:Qi,moreIcon:on,moreTransitionName:sn,tabBarGutter:zi,onTabClick:Ao,onTabScroll:Mn,extra:rn,style:cn,panes:null,getPopupContainer:ss,popupClassName:Dn});return _.createElement(ht.Provider,{value:{tabs:$n,prefixCls:Dt}},_.createElement("div",(0,oe.Z)({ref:Pe,id:dt,className:B()(Dt,"".concat(Dt,"-").concat(Ni),(tt={},(0,ge.Z)(tt,"".concat(Dt,"-mobile"),_s),(0,ge.Z)(tt,"".concat(Dt,"-editable"),xi),(0,ge.Z)(tt,"".concat(Dt,"-rtl"),as),tt),ct)},xn),wr,_.createElement(En,(0,oe.Z)({},Go,{renderTabBar:Cn})),_.createElement($t,(0,oe.Z)({destroyInactiveTabPane:Nn},so,{animated:Cs}))))}var rs=_.forwardRef(Gn),Ks=rs,Jn=Ks,sr=i(91754);const Us={motionAppear:!1,motionEnter:!0,motionLeave:!0};function $o(de){let Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},tt;return Pe===!1?tt={inkBar:!1,tabPane:!1}:Pe===!0?tt={inkBar:!0,tabPane:!0}:tt=Object.assign({inkBar:!0},typeof Pe=="object"?Pe:{}),tt.tabPane&&(tt.tabPaneMotion=Object.assign(Object.assign({},Us),{motionName:(0,sr.mL)(de,"switch")})),tt}var io=function(de,Pe){var tt={};for(var dt in de)Object.prototype.hasOwnProperty.call(de,dt)&&Pe.indexOf(dt)<0&&(tt[dt]=de[dt]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,dt=Object.getOwnPropertySymbols(de);ft<dt.length;ft++)Pe.indexOf(dt[ft])<0&&Object.prototype.propertyIsEnumerable.call(de,dt[ft])&&(tt[dt[ft]]=de[dt[ft]]);return tt};function jr(de){return de.filter(Pe=>Pe)}function Xa(de,Pe){if(de)return de;const tt=(0,Bl.Z)(Pe).map(dt=>{if(_.isValidElement(dt)){const{key:ft,props:Dt}=dt,ct=Dt||{},{tab:Jt}=ct,Ut=io(ct,["tab"]);return Object.assign(Object.assign({key:String(ft)},Ut),{label:Jt})}return null});return jr(tt)}var Tr=()=>null,vr=i(23773),Ja=i(6521);const Tc=new R.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Kc=new R.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),yr=new R.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Gd=new R.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Zd=new R.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Mc=new R.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Yd=new R.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),$c=new R.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Qd={"slide-up":{inKeyframes:Tc,outKeyframes:Kc},"slide-down":{inKeyframes:yr,outKeyframes:Gd},"slide-left":{inKeyframes:Zd,outKeyframes:Mc},"slide-right":{inKeyframes:Yd,outKeyframes:$c}},fd=(de,Pe)=>{const{antCls:tt}=de,dt=`${tt}-${Pe}`,{inKeyframes:ft,outKeyframes:Dt}=Qd[Pe];return[(0,Ja.R)(dt,ft,Dt,de.motionDurationMid),{[`
      ${dt}-enter,
      ${dt}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:de.motionEaseOutQuint,["&-prepare"]:{transform:"scale(1)"}},[`${dt}-leave`]:{animationTimingFunction:de.motionEaseInQuint}}]};var Wl=de=>{const{componentCls:Pe,motionDurationSlow:tt}=de;return[{[Pe]:{[`${Pe}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${tt}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${tt}`}}}}},[fd(de,"slide-up"),fd(de,"slide-down")]]};const gd=de=>{const{componentCls:Pe,tabsCardHorizontalPadding:tt,tabsCardHeadBackground:dt,tabsCardGutter:ft,colorBorderSecondary:Dt}=de;return{[`${Pe}-card`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-tab`]:{margin:0,padding:tt,background:dt,border:`${de.lineWidth}px ${de.lineType} ${Dt}`,transition:`all ${de.motionDurationSlow} ${de.motionEaseInOut}`},[`${Pe}-tab-active`]:{color:de.colorPrimary,background:de.colorBgContainer},[`${Pe}-ink-bar`]:{visibility:"hidden"}},[`&${Pe}-top, &${Pe}-bottom`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-tab + ${Pe}-tab`]:{marginLeft:{_skip_check_:!0,value:`${ft}px`}}}},[`&${Pe}-top`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-tab`]:{borderRadius:`${de.borderRadiusLG}px ${de.borderRadiusLG}px 0 0`},[`${Pe}-tab-active`]:{borderBottomColor:de.colorBgContainer}}},[`&${Pe}-bottom`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-tab`]:{borderRadius:`0 0 ${de.borderRadiusLG}px ${de.borderRadiusLG}px`},[`${Pe}-tab-active`]:{borderTopColor:de.colorBgContainer}}},[`&${Pe}-left, &${Pe}-right`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-tab + ${Pe}-tab`]:{marginTop:`${ft}px`}}},[`&${Pe}-left`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-tab`]:{borderRadius:{_skip_check_:!0,value:`${de.borderRadiusLG}px 0 0 ${de.borderRadiusLG}px`}},[`${Pe}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:de.colorBgContainer}}}},[`&${Pe}-right`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${de.borderRadiusLG}px ${de.borderRadiusLG}px 0`}},[`${Pe}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:de.colorBgContainer}}}}}}},Xd=de=>{const{componentCls:Pe,tabsHoverColor:tt,dropdownEdgeChildVerticalPadding:dt}=de;return{[`${Pe}-dropdown`]:Object.assign(Object.assign({},(0,vr.Wf)(de)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:de.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${Pe}-dropdown-menu`]:{maxHeight:de.tabsDropdownHeight,margin:0,padding:`${dt}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:de.colorBgContainer,backgroundClip:"padding-box",borderRadius:de.borderRadiusLG,outline:"none",boxShadow:de.boxShadowSecondary,"&-item":Object.assign(Object.assign({},vr.vS),{display:"flex",alignItems:"center",minWidth:de.tabsDropdownWidth,margin:0,padding:`${de.paddingXXS}px ${de.paddingSM}px`,color:de.colorText,fontWeight:"normal",fontSize:de.fontSize,lineHeight:de.lineHeight,cursor:"pointer",transition:`all ${de.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:de.marginSM},color:de.colorTextDescription,fontSize:de.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:tt}},"&:hover":{background:de.controlItemBgHover},"&-disabled":{"&, &:hover":{color:de.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},Jd=de=>{const{componentCls:Pe,margin:tt,colorBorderSecondary:dt}=de;return{[`${Pe}-top, ${Pe}-bottom`]:{flexDirection:"column",[`> ${Pe}-nav, > div > ${Pe}-nav`]:{margin:`0 0 ${tt}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${de.lineWidth}px ${de.lineType} ${dt}`,content:"''"},[`${Pe}-ink-bar`]:{height:de.lineWidthBold,"&-animated":{transition:`width ${de.motionDurationSlow}, left ${de.motionDurationSlow},
            right ${de.motionDurationSlow}`}},[`${Pe}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:de.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:de.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:de.boxShadowTabsOverflowRight},[`&${Pe}-nav-wrap-ping-left::before`]:{opacity:1},[`&${Pe}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${Pe}-top`]:{[`> ${Pe}-nav,
        > div > ${Pe}-nav`]:{"&::before":{bottom:0},[`${Pe}-ink-bar`]:{bottom:0}}},[`${Pe}-bottom`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{order:1,marginTop:`${tt}px`,marginBottom:0,"&::before":{top:0},[`${Pe}-ink-bar`]:{top:0}},[`> ${Pe}-content-holder, > div > ${Pe}-content-holder`]:{order:0}},[`${Pe}-left, ${Pe}-right`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{flexDirection:"column",minWidth:de.controlHeight*1.25,[`${Pe}-tab`]:{padding:`${de.paddingXS}px ${de.paddingLG}px`,textAlign:"center"},[`${Pe}-tab + ${Pe}-tab`]:{margin:`${de.margin}px 0 0 0`},[`${Pe}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:de.controlHeight},"&::before":{top:0,boxShadow:de.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:de.boxShadowTabsOverflowBottom},[`&${Pe}-nav-wrap-ping-top::before`]:{opacity:1},[`&${Pe}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${Pe}-ink-bar`]:{width:de.lineWidthBold,"&-animated":{transition:`height ${de.motionDurationSlow}, top ${de.motionDurationSlow}`}},[`${Pe}-nav-list, ${Pe}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${Pe}-left`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${Pe}-content-holder, > div > ${Pe}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${de.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${de.lineWidth}px ${de.lineType} ${de.colorBorder}`},[`> ${Pe}-content > ${Pe}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:de.paddingLG}}}},[`${Pe}-right`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{order:1,[`${Pe}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${Pe}-content-holder, > div > ${Pe}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-de.lineWidth},borderRight:{_skip_check_:!0,value:`${de.lineWidth}px ${de.lineType} ${de.colorBorder}`},[`> ${Pe}-content > ${Pe}-tabpane`]:{paddingRight:{_skip_check_:!0,value:de.paddingLG}}}}}},hc=de=>{const{componentCls:Pe,padding:tt}=de;return{[Pe]:{"&-small":{[`> ${Pe}-nav`]:{[`${Pe}-tab`]:{padding:`${de.paddingXS}px 0`,fontSize:de.fontSize}}},"&-large":{[`> ${Pe}-nav`]:{[`${Pe}-tab`]:{padding:`${tt}px 0`,fontSize:de.fontSizeLG}}}},[`${Pe}-card`]:{[`&${Pe}-small`]:{[`> ${Pe}-nav`]:{[`${Pe}-tab`]:{padding:`${de.paddingXXS*1.5}px ${tt}px`}},[`&${Pe}-bottom`]:{[`> ${Pe}-nav ${Pe}-tab`]:{borderRadius:`0 0 ${de.borderRadius}px ${de.borderRadius}px`}},[`&${Pe}-top`]:{[`> ${Pe}-nav ${Pe}-tab`]:{borderRadius:`${de.borderRadius}px ${de.borderRadius}px 0 0`}},[`&${Pe}-right`]:{[`> ${Pe}-nav ${Pe}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${de.borderRadius}px ${de.borderRadius}px 0`}}},[`&${Pe}-left`]:{[`> ${Pe}-nav ${Pe}-tab`]:{borderRadius:{_skip_check_:!0,value:`${de.borderRadius}px 0 0 ${de.borderRadius}px`}}}},[`&${Pe}-large`]:{[`> ${Pe}-nav`]:{[`${Pe}-tab`]:{padding:`${de.paddingXS}px ${tt}px ${de.paddingXXS*1.5}px`}}}}}},md=de=>{const{componentCls:Pe,tabsActiveColor:tt,tabsHoverColor:dt,iconCls:ft,tabsHorizontalGutter:Dt}=de,ct=`${Pe}-tab`;return{[ct]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${de.paddingSM}px 0`,fontSize:`${de.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:tt}},(0,vr.Qy)(de)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-de.marginXXS},marginLeft:{_skip_check_:!0,value:de.marginXS},color:de.colorTextDescription,fontSize:de.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${de.motionDurationSlow}`,"&:hover":{color:de.colorTextHeading}},"&:hover":{color:dt},[`&${ct}-active ${ct}-btn`]:{color:de.colorPrimary,textShadow:de.tabsActiveTextShadow},[`&${ct}-disabled`]:{color:de.colorTextDisabled,cursor:"not-allowed"},[`&${ct}-disabled ${ct}-btn, &${ct}-disabled ${Pe}-remove`]:{"&:focus, &:active":{color:de.colorTextDisabled}},[`& ${ct}-remove ${ft}`]:{margin:0},[ft]:{marginRight:{_skip_check_:!0,value:de.marginSM}}},[`${ct} + ${ct}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${Dt}px`}}}},pd=de=>{const{componentCls:Pe,tabsHorizontalGutter:tt,iconCls:dt,tabsCardGutter:ft}=de;return{[`${Pe}-rtl`]:{direction:"rtl",[`${Pe}-nav`]:{[`${Pe}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${tt}px`},[`${Pe}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[dt]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${de.marginSM}px`}},[`${Pe}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${de.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${de.marginXXS}px`},[dt]:{margin:0}}}},[`&${Pe}-left`]:{[`> ${Pe}-nav`]:{order:1},[`> ${Pe}-content-holder`]:{order:0}},[`&${Pe}-right`]:{[`> ${Pe}-nav`]:{order:0},[`> ${Pe}-content-holder`]:{order:1}},[`&${Pe}-card${Pe}-top, &${Pe}-card${Pe}-bottom`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-tab + ${Pe}-tab`]:{marginRight:{_skip_check_:!0,value:`${ft}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${Pe}-dropdown-rtl`]:{direction:"rtl"},[`${Pe}-menu-item`]:{[`${Pe}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},qd=de=>{const{componentCls:Pe,tabsCardHorizontalPadding:tt,tabsCardHeight:dt,tabsCardGutter:ft,tabsHoverColor:Dt,tabsActiveColor:ct,colorBorderSecondary:Jt}=de;return{[Pe]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,vr.Wf)(de)),{display:"flex",[`> ${Pe}-nav, > div > ${Pe}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${Pe}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${de.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${Pe}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${de.motionDurationSlow}`},[`${Pe}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${Pe}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${Pe}-nav-more`]:{position:"relative",padding:tt,background:"transparent",border:0,color:de.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:de.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${Pe}-nav-add`]:Object.assign({minWidth:`${dt}px`,marginLeft:{_skip_check_:!0,value:`${ft}px`},padding:`0 ${de.paddingXS}px`,background:"transparent",border:`${de.lineWidth}px ${de.lineType} ${Jt}`,borderRadius:`${de.borderRadiusLG}px ${de.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:de.colorText,transition:`all ${de.motionDurationSlow} ${de.motionEaseInOut}`,"&:hover":{color:Dt},"&:active, &:focus:not(:focus-visible)":{color:ct}},(0,vr.Qy)(de))},[`${Pe}-extra-content`]:{flex:"none"},[`${Pe}-ink-bar`]:{position:"absolute",background:de.colorPrimary,pointerEvents:"none"}}),md(de)),{[`${Pe}-content`]:{position:"relative",width:"100%"},[`${Pe}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${Pe}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${Pe}-centered`]:{[`> ${Pe}-nav, > div > ${Pe}-nav`]:{[`${Pe}-nav-wrap`]:{[`&:not([class*='${Pe}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}};var vd=(0,p.Z)("Tabs",de=>{const Pe=de.controlHeightLG,tt=(0,l.TS)(de,{tabsHoverColor:de.colorPrimaryHover,tabsActiveColor:de.colorPrimaryActive,tabsCardHorizontalPadding:`${(Pe-Math.round(de.fontSize*de.lineHeight))/2-de.lineWidth}px ${de.padding}px`,tabsCardHeight:Pe,tabsCardGutter:de.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:de.colorFillAlter,dropdownEdgeChildVerticalPadding:de.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[hc(tt),pd(tt),Jd(tt),Xd(tt),gd(tt),qd(tt),Wl(tt)]},de=>({zIndexPopup:de.zIndexPopupBase+50})),Gc=function(de,Pe){var tt={};for(var dt in de)Object.prototype.hasOwnProperty.call(de,dt)&&Pe.indexOf(dt)<0&&(tt[dt]=de[dt]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,dt=Object.getOwnPropertySymbols(de);ft<dt.length;ft++)Pe.indexOf(dt[ft])<0&&Object.prototype.propertyIsEnumerable.call(de,dt[ft])&&(tt[dt[ft]]=de[dt[ft]]);return tt};function fc(de){var{type:Pe,className:tt,rootClassName:dt,size:ft,onEdit:Dt,hideAdd:ct,centered:Jt,addIcon:Ut,popupClassName:fi,children:Ei,items:xi,animated:Mi}=de,Ri=Gc(de,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated"]);const{prefixCls:Ni,moreIcon:zi=_.createElement(it,null)}=Ri,{direction:cn,getPrefixCls:rn,getPopupContainer:Qi}=_.useContext(v.E_),on=rn("tabs",Ni),[sn,Nn]=vd(on);let Cn;Pe==="editable-card"&&(Cn={onEdit:(xn,$n)=>{let{key:as,event:Cs}=$n;Dt==null||Dt(xn==="add"?Cs:as,xn)},removeIcon:_.createElement(he.Z,null),addIcon:Ut||_.createElement(Ie,null),showAdd:ct!==!0});const Tn=rn(),Zn=Xa(xi,Ei),Mn=$o(on,Mi),ss=_.useContext(A.Z),Dn=ft!==void 0?ft:ss;return sn(_.createElement(Jn,Object.assign({direction:cn,getPopupContainer:Qi,moreTransitionName:`${Tn}-slide-up`},Ri,{items:Zn,className:B()({[`${on}-${Dn}`]:Dn,[`${on}-card`]:["card","editable-card"].includes(Pe),[`${on}-editable-card`]:Pe==="editable-card",[`${on}-centered`]:Jt},tt,dt,Nn),popupClassName:B()(fi,Nn),editable:Cn,moreIcon:zi,prefixCls:on,animated:Mn})))}fc.TabPane=Tr;var eu=fc,gc=function(de,Pe){var tt={};for(var dt in de)Object.prototype.hasOwnProperty.call(de,dt)&&Pe.indexOf(dt)<0&&(tt[dt]=de[dt]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,dt=Object.getOwnPropertySymbols(de);ft<dt.length;ft++)Pe.indexOf(dt[ft])<0&&Object.prototype.propertyIsEnumerable.call(de,dt[ft])&&(tt[dt[ft]]=de[dt[ft]]);return tt},mc=de=>{var{prefixCls:Pe,className:tt,hoverable:dt=!0}=de,ft=gc(de,["prefixCls","className","hoverable"]);const{getPrefixCls:Dt}=_.useContext(v.E_),ct=Dt("card",Pe),Jt=B()(`${ct}-grid`,tt,{[`${ct}-grid-hoverable`]:dt});return _.createElement("div",Object.assign({},ft,{className:Jt}))};const Zc=de=>{const{antCls:Pe,componentCls:tt,cardHeadHeight:dt,cardPaddingBase:ft,cardHeadTabsMarginBottom:Dt}=de;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:dt,marginBottom:-1,padding:`0 ${ft}px`,color:de.colorTextHeading,fontWeight:de.fontWeightStrong,fontSize:de.fontSizeLG,background:"transparent",borderBottom:`${de.lineWidth}px ${de.lineType} ${de.colorBorderSecondary}`,borderRadius:`${de.borderRadiusLG}px ${de.borderRadiusLG}px 0 0`},(0,vr.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},vr.vS),{[`
          > ${tt}-typography,
          > ${tt}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${Pe}-tabs-top`]:{clear:"both",marginBottom:Dt,color:de.colorText,fontWeight:"normal",fontSize:de.fontSize,"&-bar":{borderBottom:`${de.lineWidth}px ${de.lineType} ${de.colorBorderSecondary}`}}})},Yc=de=>{const{cardPaddingBase:Pe,colorBorderSecondary:tt,cardShadow:dt,lineWidth:ft}=de;return{width:"33.33%",padding:Pe,border:0,borderRadius:0,boxShadow:`
      ${ft}px 0 0 0 ${tt},
      0 ${ft}px 0 0 ${tt},
      ${ft}px ${ft}px 0 0 ${tt},
      ${ft}px 0 0 0 ${tt} inset,
      0 ${ft}px 0 0 ${tt} inset;
    `,transition:`all ${de.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:dt}}},Rc=de=>{const{componentCls:Pe,iconCls:tt,cardActionsLiMargin:dt,cardActionsIconSize:ft,colorBorderSecondary:Dt}=de;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:de.colorBgContainer,borderTop:`${de.lineWidth}px ${de.lineType} ${Dt}`,display:"flex",borderRadius:`0 0 ${de.borderRadiusLG}px ${de.borderRadiusLG}px `},(0,vr.dF)()),{"& > li":{margin:dt,color:de.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:de.cardActionsIconSize*2,fontSize:de.fontSize,lineHeight:de.lineHeight,cursor:"pointer","&:hover":{color:de.colorPrimary,transition:`color ${de.motionDurationMid}`},[`a:not(${Pe}-btn), > ${tt}`]:{display:"inline-block",width:"100%",color:de.colorTextDescription,lineHeight:`${de.fontSize*de.lineHeight}px`,transition:`color ${de.motionDurationMid}`,"&:hover":{color:de.colorPrimary}},[`> ${tt}`]:{fontSize:ft,lineHeight:`${ft*de.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${de.lineWidth}px ${de.lineType} ${Dt}`}}})},tu=de=>Object.assign(Object.assign({margin:`-${de.marginXXS}px 0`,display:"flex"},(0,vr.dF)()),{"&-avatar":{paddingInlineEnd:de.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:de.marginXS}},"&-title":Object.assign({color:de.colorTextHeading,fontWeight:de.fontWeightStrong,fontSize:de.fontSizeLG},vr.vS),"&-description":{color:de.colorTextDescription}}),iu=de=>{const{componentCls:Pe,cardPaddingBase:tt,colorFillAlter:dt}=de;return{[`${Pe}-head`]:{padding:`0 ${tt}px`,background:dt,"&-title":{fontSize:de.fontSize}},[`${Pe}-body`]:{padding:`${de.padding}px ${tt}px`}}},_d=de=>{const{componentCls:Pe}=de;return{overflow:"hidden",[`${Pe}-body`]:{userSelect:"none"}}},Nl=de=>{const{componentCls:Pe,cardShadow:tt,cardHeadPadding:dt,colorBorderSecondary:ft,boxShadowTertiary:Dt,cardPaddingBase:ct}=de;return{[Pe]:Object.assign(Object.assign({},(0,vr.Wf)(de)),{position:"relative",background:de.colorBgContainer,borderRadius:de.borderRadiusLG,[`&:not(${Pe}-bordered)`]:{boxShadow:Dt},[`${Pe}-head`]:Zc(de),[`${Pe}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:de.fontSize},[`${Pe}-body`]:Object.assign({padding:ct,borderRadius:` 0 0 ${de.borderRadiusLG}px ${de.borderRadiusLG}px`},(0,vr.dF)()),[`${Pe}-grid`]:Yc(de),[`${Pe}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${de.borderRadiusLG}px ${de.borderRadiusLG}px 0 0`}},[`${Pe}-actions`]:Rc(de),[`${Pe}-meta`]:tu(de)}),[`${Pe}-bordered`]:{border:`${de.lineWidth}px ${de.lineType} ${ft}`,[`${Pe}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${Pe}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${de.motionDurationMid}, border-color ${de.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:tt}},[`${Pe}-contain-grid`]:{[`${Pe}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${Pe}-loading) ${Pe}-body`]:{marginBlockStart:-de.lineWidth,marginInlineStart:-de.lineWidth,padding:0}},[`${Pe}-contain-tabs`]:{[`> ${Pe}-head`]:{[`${Pe}-head-title, ${Pe}-extra`]:{paddingTop:dt}}},[`${Pe}-type-inner`]:iu(de),[`${Pe}-loading`]:_d(de),[`${Pe}-rtl`]:{direction:"rtl"}}},ec=de=>{const{componentCls:Pe,cardPaddingSM:tt,cardHeadHeightSM:dt}=de;return{[`${Pe}-small`]:{[`> ${Pe}-head`]:{minHeight:dt,padding:`0 ${tt}px`,fontSize:de.fontSize,[`> ${Pe}-head-wrapper`]:{[`> ${Pe}-extra`]:{fontSize:de.fontSize}}},[`> ${Pe}-body`]:{padding:tt}},[`${Pe}-small${Pe}-contain-tabs`]:{[`> ${Pe}-head`]:{[`${Pe}-head-title, ${Pe}-extra`]:{minHeight:dt,paddingTop:0,display:"flex",alignItems:"center"}}}}};var tc=(0,p.Z)("Card",de=>{const Pe=(0,l.TS)(de,{cardShadow:de.boxShadowCard,cardHeadHeight:de.fontSizeLG*de.lineHeightLG+de.padding*2,cardHeadHeightSM:de.fontSize*de.lineHeight+de.paddingXS*2,cardHeadPadding:de.padding,cardPaddingBase:de.paddingLG,cardHeadTabsMarginBottom:-de.padding-de.lineWidth,cardActionsLiMargin:`${de.paddingSM}px 0`,cardActionsIconSize:de.fontSize,cardPaddingSM:12});return[Nl(Pe),ec(Pe)]}),nu=function(de,Pe){var tt={};for(var dt in de)Object.prototype.hasOwnProperty.call(de,dt)&&Pe.indexOf(dt)<0&&(tt[dt]=de[dt]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,dt=Object.getOwnPropertySymbols(de);ft<dt.length;ft++)Pe.indexOf(dt[ft])<0&&Object.prototype.propertyIsEnumerable.call(de,dt[ft])&&(tt[dt[ft]]=de[dt[ft]]);return tt};function su(de){return de.map((tt,dt)=>_.createElement("li",{style:{width:`${100/de.length}%`},key:`action-${dt}`},_.createElement("span",null,tt)))}var Qc=_.forwardRef((de,Pe)=>{const{getPrefixCls:tt,direction:dt}=_.useContext(v.E_),ft=_.useContext(A.Z),Dt=As=>{var mo;(mo=de.onTabChange)===null||mo===void 0||mo.call(de,As)},ct=()=>{let As;return _.Children.forEach(de.children,mo=>{mo&&mo.type&&mo.type===mc&&(As=!0)}),As},{prefixCls:Jt,className:Ut,rootClassName:fi,extra:Ei,headStyle:xi={},bodyStyle:Mi={},title:Ri,loading:Ni,bordered:zi=!0,size:cn,type:rn,cover:Qi,actions:on,tabList:sn,children:Nn,activeTabKey:Cn,defaultActiveTabKey:Tn,tabBarExtraContent:Zn,hoverable:Mn,tabProps:ss={}}=de,Dn=nu(de,["prefixCls","className","rootClassName","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),xn=tt("card",Jt),[$n,as]=tc(xn),Cs=_.createElement(ve,{loading:!0,active:!0,paragraph:{rows:4},title:!1},Nn),Ps=Cn!==void 0,Fs=Object.assign(Object.assign({},ss),{[Ps?"activeKey":"defaultActiveKey"]:Ps?Cn:Tn,tabBarExtraContent:Zn});let _s;const no=sn&&sn.length?_.createElement(eu,Object.assign({size:"large"},Fs,{className:`${xn}-head-tabs`,onChange:Dt,items:sn.map(As=>{var mo;return{label:As.tab,key:As.key,disabled:(mo=As.disabled)!==null&&mo!==void 0?mo:!1}})})):null;(Ri||Ei||no)&&(_s=_.createElement("div",{className:`${xn}-head`,style:xi},_.createElement("div",{className:`${xn}-head-wrapper`},Ri&&_.createElement("div",{className:`${xn}-head-title`},Ri),Ei&&_.createElement("div",{className:`${xn}-extra`},Ei)),no));const Ro=Qi?_.createElement("div",{className:`${xn}-cover`},Qi):null,Co=_.createElement("div",{className:`${xn}-body`,style:Mi},Ni?Cs:Nn),os=on&&on.length?_.createElement("ul",{className:`${xn}-actions`},su(on)):null,jn=(0,f.Z)(Dn,["onTabChange"]),Ns=cn||ft,Vs=B()(xn,{[`${xn}-loading`]:Ni,[`${xn}-bordered`]:zi,[`${xn}-hoverable`]:Mn,[`${xn}-contain-grid`]:ct(),[`${xn}-contain-tabs`]:sn&&sn.length,[`${xn}-${Ns}`]:Ns,[`${xn}-type-${rn}`]:!!rn,[`${xn}-rtl`]:dt==="rtl"},Ut,fi,as);return $n(_.createElement("div",Object.assign({ref:Pe},jn,{className:Vs}),_s,Ro,Co,os))}),pc=function(de,Pe){var tt={};for(var dt in de)Object.prototype.hasOwnProperty.call(de,dt)&&Pe.indexOf(dt)<0&&(tt[dt]=de[dt]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,dt=Object.getOwnPropertySymbols(de);ft<dt.length;ft++)Pe.indexOf(dt[ft])<0&&Object.prototype.propertyIsEnumerable.call(de,dt[ft])&&(tt[dt[ft]]=de[dt[ft]]);return tt},ic=de=>{const{prefixCls:Pe,className:tt,avatar:dt,title:ft,description:Dt}=de,ct=pc(de,["prefixCls","className","avatar","title","description"]),{getPrefixCls:Jt}=_.useContext(v.E_),Ut=Jt("card",Pe),fi=B()(`${Ut}-meta`,tt),Ei=dt?_.createElement("div",{className:`${Ut}-meta-avatar`},dt):null,xi=ft?_.createElement("div",{className:`${Ut}-meta-title`},ft):null,Mi=Dt?_.createElement("div",{className:`${Ut}-meta-description`},Dt):null,Ri=xi||Mi?_.createElement("div",{className:`${Ut}-meta-detail`},xi,Mi):null;return _.createElement("div",Object.assign({},ct,{className:fi}),Ei,Ri)};const vc=Qc;vc.Grid=mc,vc.Meta=ic;var Cd=vc},37517:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return d}});var m=i(72779),B=i.n(m),f=i(2784),_=i(35298),v=i(80293),A=i(2678),M=function(g,n){var a={};for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&n.indexOf(C)<0&&(a[C]=g[C]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,C=Object.getOwnPropertySymbols(g);D<C.length;D++)n.indexOf(C[D])<0&&Object.prototype.propertyIsEnumerable.call(g,C[D])&&(a[C[D]]=g[C[D]]);return a};function E(g){return typeof g=="number"?`${g} ${g} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(g)?`0 0 ${g}`:g}const R=["xs","sm","md","lg","xl","xxl"];var l=f.forwardRef((g,n)=>{const{getPrefixCls:a,direction:C}=f.useContext(_.E_),{gutter:D,wrap:u,supportFlexGap:S}=f.useContext(v.Z),{prefixCls:w,span:L,order:N,offset:O,push:x,pull:T,className:W,children:U,flex:K,style:G}=g,z=M(g,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),k=a("col",w),[q,te]=(0,A.c)(k);let X={};R.forEach(Y=>{let ee={};const fe=g[Y];typeof fe=="number"?ee.span=fe:typeof fe=="object"&&(ee=fe||{}),delete z[Y],X=Object.assign(Object.assign({},X),{[`${k}-${Y}-${ee.span}`]:ee.span!==void 0,[`${k}-${Y}-order-${ee.order}`]:ee.order||ee.order===0,[`${k}-${Y}-offset-${ee.offset}`]:ee.offset||ee.offset===0,[`${k}-${Y}-push-${ee.push}`]:ee.push||ee.push===0,[`${k}-${Y}-pull-${ee.pull}`]:ee.pull||ee.pull===0,[`${k}-${Y}-flex-${ee.flex}`]:ee.flex||ee.flex==="auto",[`${k}-rtl`]:C==="rtl"})});const j=B()(k,{[`${k}-${L}`]:L!==void 0,[`${k}-order-${N}`]:N,[`${k}-offset-${O}`]:O,[`${k}-push-${x}`]:x,[`${k}-pull-${T}`]:T},W,X,te),J={};if(D&&D[0]>0){const Y=D[0]/2;J.paddingLeft=Y,J.paddingRight=Y}if(D&&D[1]>0&&!S){const Y=D[1]/2;J.paddingTop=Y,J.paddingBottom=Y}return K&&(J.flex=E(K),u===!1&&!J.minWidth&&(J.minWidth=0)),q(f.createElement("div",Object.assign({},z,{style:Object.assign(Object.assign({},J),G),className:j,ref:n}),U))}),d=l},30693:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return Le}});var m=i(72779),B=i.n(m),f=i(33028),_=i(76854),v=i(2784),A=i(17206),M=i(63803),E=i(56666),R=i(7896),p=i(18511),l=function(re){var _e=re.prefixCls,Ue=re.className,Qe=re.style,Re=re.children,ie=re.containerRef;return v.createElement(v.Fragment,null,v.createElement("div",{className:B()("".concat(_e,"-content"),Ue),style:(0,f.Z)({},Qe),"aria-modal":"true",role:"dialog",ref:ie},Re))},d=l,g=v.createContext(null),n=g,a=i(92981),C=i(72895);function D(ue){return typeof ue=="string"&&String(Number(ue))===ue?((0,C.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(ue)):ue}function u(ue){warning(!("wrapperClassName"in ue),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!ue.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var S={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function w(ue,re){var _e,Ue,Qe,Re,ie=ue.prefixCls,Z=ue.open,se=ue.placement,ve=ue.inline,he=ue.push,ce=ue.forceRender,Ee=ue.autoFocus,We=ue.keyboard,it=ue.rootClassName,Ze=ue.rootStyle,je=ue.zIndex,Te=ue.className,Ie=ue.style,oe=ue.motion,ge=ue.width,Ce=ue.height,me=ue.children,Me=ue.contentWrapperStyle,qe=ue.mask,ot=ue.maskClosable,ut=ue.maskMotion,ht=ue.maskClassName,Ct=ue.maskStyle,Pt=ue.afterOpenChange,bt=ue.onClose,$t=v.useRef(),Mt=v.useRef(),Xe=v.useRef();v.useImperativeHandle(re,function(){return $t.current});var Lt=function(Pi){var Hi=Pi.keyCode,ji=Pi.shiftKey;switch(Hi){case a.Z.TAB:{if(Hi===a.Z.TAB){if(!ji&&document.activeElement===Xe.current){var bn;(bn=Mt.current)===null||bn===void 0||bn.focus({preventScroll:!0})}else if(ji&&document.activeElement===Mt.current){var Rn;(Rn=Xe.current)===null||Rn===void 0||Rn.focus({preventScroll:!0})}}break}case a.Z.ESC:{bt&&We&&(Pi.stopPropagation(),bt(Pi));break}}};v.useEffect(function(){if(Z&&Ee){var gi;(gi=$t.current)===null||gi===void 0||gi.focus({preventScroll:!0})}},[Z]);var Xt=v.useState(!1),zt=(0,_.Z)(Xt,2),Fe=zt[0],et=zt[1],pt=v.useContext(n),It;he===!1?It={distance:0}:he===!0?It={}:It=he||{};var kt=(_e=(Ue=(Qe=It)===null||Qe===void 0?void 0:Qe.distance)!==null&&Ue!==void 0?Ue:pt==null?void 0:pt.pushDistance)!==null&&_e!==void 0?_e:180,yt=v.useMemo(function(){return{pushDistance:kt,push:function(){et(!0)},pull:function(){et(!1)}}},[kt]);v.useEffect(function(){if(Z){var gi;pt==null||(gi=pt.push)===null||gi===void 0||gi.call(pt)}else{var Pi;pt==null||(Pi=pt.pull)===null||Pi===void 0||Pi.call(pt)}},[Z]),v.useEffect(function(){return function(){var gi;pt==null||(gi=pt.pull)===null||gi===void 0||gi.call(pt)}},[]);var St=qe&&v.createElement(p.ZP,(0,R.Z)({key:"mask"},ut,{visible:Z}),function(gi,Pi){var Hi=gi.className,ji=gi.style;return v.createElement("div",{className:B()("".concat(ie,"-mask"),Hi,ht),style:(0,f.Z)((0,f.Z)({},ji),Ct),onClick:ot&&Z?bt:void 0,ref:Pi})}),Gt=typeof oe=="function"?oe(se):oe,ti={};if(Fe&&kt)switch(se){case"top":ti.transform="translateY(".concat(kt,"px)");break;case"bottom":ti.transform="translateY(".concat(-kt,"px)");break;case"left":ti.transform="translateX(".concat(kt,"px)");break;default:ti.transform="translateX(".concat(-kt,"px)");break}se==="left"||se==="right"?ti.width=D(ge):ti.height=D(Ce);var ri=v.createElement(p.ZP,(0,R.Z)({key:"panel"},Gt,{visible:Z,forceRender:ce,onVisibleChanged:function(Pi){Pt==null||Pt(Pi)},removeOnLeave:!1,leavedClassName:"".concat(ie,"-content-wrapper-hidden")}),function(gi,Pi){var Hi=gi.className,ji=gi.style;return v.createElement("div",{className:B()("".concat(ie,"-content-wrapper"),Hi),style:(0,f.Z)((0,f.Z)((0,f.Z)({},ti),ji),Me)},v.createElement(d,{containerRef:Pi,prefixCls:ie,className:Te,style:Ie},me))}),li=(0,f.Z)({},Ze);return je&&(li.zIndex=je),v.createElement(n.Provider,{value:yt},v.createElement("div",{className:B()(ie,"".concat(ie,"-").concat(se),it,(Re={},(0,E.Z)(Re,"".concat(ie,"-open"),Z),(0,E.Z)(Re,"".concat(ie,"-inline"),ve),Re)),style:li,tabIndex:-1,ref:$t,onKeyDown:Lt},St,v.createElement("div",{tabIndex:0,ref:Mt,style:S,"aria-hidden":"true","data-sentinel":"start"}),ri,v.createElement("div",{tabIndex:0,ref:Xe,style:S,"aria-hidden":"true","data-sentinel":"end"})))}var L=v.forwardRef(w),N=L,O=function(re){var _e=re.open,Ue=_e===void 0?!1:_e,Qe=re.prefixCls,Re=Qe===void 0?"rc-drawer":Qe,ie=re.placement,Z=ie===void 0?"right":ie,se=re.autoFocus,ve=se===void 0?!0:se,he=re.keyboard,ce=he===void 0?!0:he,Ee=re.width,We=Ee===void 0?378:Ee,it=re.mask,Ze=it===void 0?!0:it,je=re.maskClosable,Te=je===void 0?!0:je,Ie=re.getContainer,oe=re.forceRender,ge=re.afterOpenChange,Ce=re.destroyOnClose,me=v.useState(!1),Me=(0,_.Z)(me,2),qe=Me[0],ot=Me[1],ut=v.useState(!1),ht=(0,_.Z)(ut,2),Ct=ht[0],Pt=ht[1];(0,M.Z)(function(){Pt(!0)},[]);var bt=Ct?Ue:!1,$t=v.useRef(),Mt=v.useRef();(0,M.Z)(function(){bt&&(Mt.current=document.activeElement)},[bt]);var Xe=function(zt){var Fe;if(ot(zt),ge==null||ge(zt),!zt&&Mt.current&&!(!((Fe=$t.current)===null||Fe===void 0)&&Fe.contains(Mt.current))){var et;(et=Mt.current)===null||et===void 0||et.focus()}};if(!oe&&!qe&&!bt&&Ce)return null;var Lt=(0,f.Z)((0,f.Z)({},re),{},{open:bt,prefixCls:Re,placement:Z,autoFocus:ve,keyboard:ce,width:We,mask:Ze,maskClosable:Te,inline:Ie===!1,afterOpenChange:Xe,ref:$t});return v.createElement(A.Z,{open:bt||oe||qe,autoDestroy:!1,getContainer:Ie,autoLock:Ze&&(bt||qe)},v.createElement(N,Lt))},x=O,T=x,W=i(35298),U=i(96619),K=i(91754),G=i(65393),k=ue=>{const{prefixCls:re,title:_e,footer:Ue,extra:Qe,closable:Re=!0,closeIcon:ie=v.createElement(G.Z,null),onClose:Z,headerStyle:se,drawerStyle:ve,bodyStyle:he,footerStyle:ce,children:Ee}=ue,We=Re&&v.createElement("button",{type:"button",onClick:Z,"aria-label":"Close",className:`${re}-close`},ie),it=v.useMemo(()=>!_e&&!Re?null:v.createElement("div",{style:se,className:B()(`${re}-header`,{[`${re}-header-close-only`]:Re&&!_e&&!Qe})},v.createElement("div",{className:`${re}-header-title`},We,_e&&v.createElement("div",{className:`${re}-title`},_e)),Qe&&v.createElement("div",{className:`${re}-extra`},Qe)),[Re,We,Qe,se,re,_e]),Ze=v.useMemo(()=>{if(!Ue)return null;const je=`${re}-footer`;return v.createElement("div",{className:je,style:ce},Ue)},[Ue,ce,re]);return v.createElement("div",{className:`${re}-wrapper-body`,style:ve},it,v.createElement("div",{className:`${re}-body`,style:he},Ee),Ze)},q=i(44875),te=i(23707),j=ue=>{const{componentCls:re,motionDurationSlow:_e}=ue,Ue={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${_e}`}}};return{[re]:{[`${re}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${_e}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${re}-panel-motion`]:{"&-left":[Ue,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[Ue,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[Ue,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[Ue,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}};const J=ue=>{const{componentCls:re,zIndexPopup:_e,colorBgMask:Ue,colorBgElevated:Qe,motionDurationSlow:Re,motionDurationMid:ie,padding:Z,paddingLG:se,fontSizeLG:ve,lineHeightLG:he,lineWidth:ce,lineType:Ee,colorSplit:We,marginSM:it,colorIcon:Ze,colorIconHover:je,colorText:Te,fontWeightStrong:Ie,drawerFooterPaddingVertical:oe,drawerFooterPaddingHorizontal:ge}=ue,Ce=`${re}-content-wrapper`;return{[re]:{position:"fixed",inset:0,zIndex:_e,pointerEvents:"none","&-pure":{position:"relative",background:Qe,[`&${re}-left`]:{boxShadow:ue.boxShadowDrawerLeft},[`&${re}-right`]:{boxShadow:ue.boxShadowDrawerRight},[`&${re}-top`]:{boxShadow:ue.boxShadowDrawerUp},[`&${re}-bottom`]:{boxShadow:ue.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${re}-mask`]:{position:"absolute",inset:0,zIndex:_e,background:Ue,pointerEvents:"auto"},[Ce]:{position:"absolute",zIndex:_e,transition:`all ${Re}`,"&-hidden":{display:"none"}},[`&-left > ${Ce}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:ue.boxShadowDrawerLeft},[`&-right > ${Ce}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:ue.boxShadowDrawerRight},[`&-top > ${Ce}`]:{top:0,insetInline:0,boxShadow:ue.boxShadowDrawerUp},[`&-bottom > ${Ce}`]:{bottom:0,insetInline:0,boxShadow:ue.boxShadowDrawerDown},[`${re}-content`]:{width:"100%",height:"100%",overflow:"auto",background:Qe,pointerEvents:"auto"},[`${re}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${re}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Z}px ${se}px`,fontSize:ve,lineHeight:he,borderBottom:`${ce}px ${Ee} ${We}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${re}-extra`]:{flex:"none"},[`${re}-close`]:{display:"inline-block",marginInlineEnd:it,color:Ze,fontWeight:Ie,fontSize:ve,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${ie}`,textRendering:"auto","&:focus, &:hover":{color:je,textDecoration:"none"}},[`${re}-title`]:{flex:1,margin:0,color:Te,fontWeight:ue.fontWeightStrong,fontSize:ve,lineHeight:he},[`${re}-body`]:{flex:1,minWidth:0,minHeight:0,padding:se,overflow:"auto"},[`${re}-footer`]:{flexShrink:0,padding:`${oe}px ${ge}px`,borderTop:`${ce}px ${Ee} ${We}`},"&-rtl":{direction:"rtl"}}}};var Y=(0,q.Z)("Drawer",ue=>{const re=(0,te.TS)(ue,{drawerFooterPaddingVertical:ue.paddingXS,drawerFooterPaddingHorizontal:ue.padding});return[J(re),j(re)]},ue=>({zIndexPopup:ue.zIndexPopupBase})),ee=i(74274),fe=function(ue,re){var _e={};for(var Ue in ue)Object.prototype.hasOwnProperty.call(ue,Ue)&&re.indexOf(Ue)<0&&(_e[Ue]=ue[Ue]);if(ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Qe=0,Ue=Object.getOwnPropertySymbols(ue);Qe<Ue.length;Qe++)re.indexOf(Ue[Qe])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ue[Qe])&&(_e[Ue[Qe]]=ue[Ue[Qe]]);return _e};const De=null,Ne={distance:180};function be(ue){var re;const{rootClassName:_e,width:Ue,height:Qe,size:Re="default",mask:ie=!0,push:Z=Ne,open:se,afterOpenChange:ve,onClose:he,prefixCls:ce,getContainer:Ee,visible:We,afterVisibleChange:it}=ue,Ze=fe(ue,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","visible","afterVisibleChange"]),{getPopupContainer:je,getPrefixCls:Te,direction:Ie}=v.useContext(W.E_),oe=Te("drawer",ce),[ge,Ce]=Y(oe),me=Ee===void 0&&je?()=>je(document.body):Ee,Me=B()({"no-mask":!ie,[`${oe}-rtl`]:Ie==="rtl"},_e,Ce),qe=v.useMemo(()=>Ue!=null?Ue:Re==="large"?736:378,[Ue,Re]),ot=v.useMemo(()=>Qe!=null?Qe:Re==="large"?736:378,[Qe,Re]),ut={motionName:(0,K.mL)(oe,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ht=Ct=>({motionName:(0,K.mL)(oe,`panel-motion-${Ct}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500});return ge(v.createElement(ee.BR,null,v.createElement(U.Ux,{status:!0,override:!0},v.createElement(T,Object.assign({prefixCls:oe,onClose:he,maskMotion:ut,motion:ht},Ze,{open:se!=null?se:We,mask:ie,push:Z,width:qe,height:ot,rootClassName:Me,getContainer:me,afterOpenChange:ve!=null?ve:it}),v.createElement(k,Object.assign({prefixCls:oe},Ze,{onClose:he}))))))}function xe(ue){var{prefixCls:re,style:_e,className:Ue,placement:Qe="right"}=ue,Re=fe(ue,["prefixCls","style","className","placement"]);const{getPrefixCls:ie}=v.useContext(W.E_),Z=ie("drawer",re),[se,ve]=Y(Z);return se(v.createElement("div",{className:B()(Z,`${Z}-pure`,`${Z}-${Qe}`,ve,Ue),style:_e},v.createElement(k,Object.assign({prefixCls:Z},Re))))}be._InternalPanelDoNotUseOrYouWillBeFired=xe;var Le=be},80293:function(Ot,He,i){"use strict";var m=i(2784);const B=(0,m.createContext)({});He.Z=B},2678:function(Ot,He,i){"use strict";i.d(He,{V:function(){return E},c:function(){return R}});var m=i(44875),B=i(23707);const f=p=>{const{componentCls:l}=p;return{[l]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},_=p=>{const{componentCls:l}=p;return{[l]:{position:"relative",maxWidth:"100%",minHeight:1}}},v=(p,l)=>{const{componentCls:d,gridColumns:g}=p,n={};for(let a=g;a>=0;a--)a===0?(n[`${d}${l}-${a}`]={display:"none"},n[`${d}-push-${a}`]={insetInlineStart:"auto"},n[`${d}-pull-${a}`]={insetInlineEnd:"auto"},n[`${d}${l}-push-${a}`]={insetInlineStart:"auto"},n[`${d}${l}-pull-${a}`]={insetInlineEnd:"auto"},n[`${d}${l}-offset-${a}`]={marginInlineStart:0},n[`${d}${l}-order-${a}`]={order:0}):(n[`${d}${l}-${a}`]={display:"block",flex:`0 0 ${a/g*100}%`,maxWidth:`${a/g*100}%`},n[`${d}${l}-push-${a}`]={insetInlineStart:`${a/g*100}%`},n[`${d}${l}-pull-${a}`]={insetInlineEnd:`${a/g*100}%`},n[`${d}${l}-offset-${a}`]={marginInlineStart:`${a/g*100}%`},n[`${d}${l}-order-${a}`]={order:a});return n},A=(p,l)=>v(p,l),M=(p,l,d)=>({[`@media (min-width: ${l}px)`]:Object.assign({},A(p,d))}),E=(0,m.Z)("Grid",p=>[f(p)]),R=(0,m.Z)("Grid",p=>{const l=(0,B.TS)(p,{gridColumns:24}),d={"-sm":l.screenSMMin,"-md":l.screenMDMin,"-lg":l.screenLGMin,"-xl":l.screenXLMin,"-xxl":l.screenXXLMin};return[_(l),A(l,""),A(l,"-xs"),Object.keys(d).map(g=>M(l,d[g],g)).reduce((g,n)=>Object.assign(Object.assign({},g),n),{})]})},88133:function(Ot,He,i){"use strict";var m=i(85942),B=i(47583),f=i(2784),_=i(69247),v=i(65761),A=i(88243),M=i(43351);let E=null,R=T=>T(),p=[],l={};function d(){const{prefixCls:T,getContainer:W,duration:U,rtl:K,maxCount:G,top:z}=l,k=T!=null?T:(0,_.w6)().getPrefixCls("message"),q=(W==null?void 0:W())||document.body;return{prefixCls:k,container:q,duration:U,rtl:K,maxCount:G,top:z}}const g=f.forwardRef((T,W)=>{const U=()=>{const{prefixCls:J,container:Y,maxCount:ee,duration:fe,rtl:De,top:Ne}=d();return{prefixCls:J,getContainer:()=>Y,maxCount:ee,duration:fe,rtl:De,top:Ne}},[K,G]=f.useState(U),[z,k]=(0,A.K)(K),q=(0,_.w6)(),te=q.getRootPrefixCls(),X=q.getIconPrefixCls(),j=()=>{G(U)};return f.useEffect(j,[]),f.useImperativeHandle(W,()=>{const J=Object.assign({},z);return Object.keys(J).forEach(Y=>{J[Y]=function(){return j(),z[Y].apply(z,arguments)}}),{instance:J,sync:j}}),f.createElement(_.ZP,{prefixCls:te,iconPrefixCls:X},k)});function n(){if(!E){const T=document.createDocumentFragment(),W={fragment:T};E=W,R(()=>{(0,B.s)(f.createElement(g,{ref:U=>{const{instance:K,sync:G}=U||{};Promise.resolve().then(()=>{!W.instance&&K&&(W.instance=K,W.sync=G,n())})}}),T)});return}E.instance&&(p.forEach(T=>{const{type:W,skipped:U}=T;if(!U)switch(W){case"open":{R(()=>{const K=E.instance.open(Object.assign(Object.assign({},l),T.config));K==null||K.then(T.resolve),T.setCloseFn(K)});break}case"destroy":R(()=>{E==null||E.instance.destroy(T.key)});break;default:R(()=>{var K;const G=(K=E.instance)[W].apply(K,(0,m.Z)(T.args));G==null||G.then(T.resolve),T.setCloseFn(G)})}}),p=[])}function a(T){l=Object.assign(Object.assign({},l),T),R(()=>{var W;(W=E==null?void 0:E.sync)===null||W===void 0||W.call(E)})}function C(T){const W=(0,M.J)(U=>{let K;const G={type:"open",config:T,resolve:U,setCloseFn:z=>{K=z}};return p.push(G),()=>{K?R(()=>{K()}):G.skipped=!0}});return n(),W}function D(T,W){const U=(0,M.J)(K=>{let G;const z={type:T,args:W,resolve:K,setCloseFn:k=>{G=k}};return p.push(z),()=>{G?R(()=>{G()}):z.skipped=!0}});return n(),U}function u(T){p.push({type:"destroy",key:T}),n()}const S=["success","info","warning","error","loading"],L={open:C,destroy:u,config:a,useMessage:A.Z,_InternalPanelDoNotUseOrYouWillBeFired:v.ZP};S.forEach(T=>{L[T]=function(){for(var W=arguments.length,U=new Array(W),K=0;K<W;K++)U[K]=arguments[K];return D(T,U)}});const N=()=>{};let O=null,x=null;He.ZP=L},76123:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return us}});var m=i(20094),B=i(72779),f=i.n(B),_=i(32340),v=i(92981),A=i(2784),M=i(94899),E=i(35298),R=i(7896),p=i(33028),l=i(99980),d=i(76854),g=i(28316),n=i(39588),a=i(72895),C=i(16381),D=A.createContext(null),u=D,S=i(85942),w=i(63803),L=[];function N(Wt,Zt){var Yt=A.useState(function(){if(!(0,n.Z)())return null;var Kt=document.createElement("div");return Kt}),oi=(0,d.Z)(Yt,1),mi=oi[0],Fi=A.useRef(!1),Di=A.useContext(u),Ji=A.useState(L),Ui=(0,d.Z)(Ji,2),_n=Ui[0],gn=Ui[1],vn=Di||(Fi.current?void 0:function(Kt){gn(function(F){var r=[Kt].concat((0,S.Z)(F));return r})});function Vn(){mi.parentElement||document.body.appendChild(mi),Fi.current=!0}function Bn(){var Kt;(Kt=mi.parentElement)===null||Kt===void 0||Kt.removeChild(mi),Fi.current=!1}return(0,w.Z)(function(){return Wt?Di?Di(Vn):Vn():Bn(),Bn},[Wt]),(0,w.Z)(function(){_n.length&&(_n.forEach(function(Kt){return Kt()}),gn(L))},[_n]),[mi,vn]}var O=i(13167),x=i(84226);function T(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var W="rc-util-locker-".concat(Date.now()),U=0;function K(Wt){var Zt=!!Wt,Yt=A.useState(function(){return U+=1,"".concat(W,"_").concat(U)}),oi=(0,d.Z)(Yt,1),mi=oi[0];(0,w.Z)(function(){if(Zt){var Fi=(0,x.Z)(),Di=T();(0,O.hq)(`
html body {
  overflow-y: hidden;
  `.concat(Di?"width: calc(100% - ".concat(Fi,"px);"):"",`
}`),mi)}else(0,O.jL)(mi);return function(){(0,O.jL)(mi)}},[Zt,mi])}var G=!1;function z(Wt){return typeof Wt=="boolean"&&(G=Wt),G}var k=function(Zt){return Zt===!1?!1:!(0,n.Z)()||!Zt?null:typeof Zt=="string"?document.querySelector(Zt):typeof Zt=="function"?Zt():Zt},q=A.forwardRef(function(Wt,Zt){var Yt=Wt.open,oi=Wt.autoLock,mi=Wt.getContainer,Fi=Wt.debug,Di=Wt.autoDestroy,Ji=Di===void 0?!0:Di,Ui=Wt.children,_n=A.useState(Yt),gn=(0,d.Z)(_n,2),vn=gn[0],Vn=gn[1],Bn=vn||Yt;A.useEffect(function(){(Ji||Yt)&&Vn(Yt)},[Yt,Ji]);var Kt=A.useState(function(){return k(mi)}),F=(0,d.Z)(Kt,2),r=F[0],I=F[1];A.useEffect(function(){var Vt=k(mi);I(Vt!=null?Vt:null)});var $=N(Bn&&!r,Fi),ae=(0,d.Z)($,2),we=ae[0],ke=ae[1],nt=r!=null?r:we;K(oi&&Yt&&(0,n.Z)()&&(nt===we||nt===document.body));var at=null;if(Ui&&(0,C.Yr)(Ui)&&Zt){var _t=Ui;at=_t.ref}var xt=(0,C.x1)(at,Zt);if(!Bn||!(0,n.Z)()||r===void 0)return null;var Et=nt===!1||z(),Ft=Ui;return Zt&&(Ft=A.cloneElement(Ui,{ref:xt})),A.createElement(u.Provider,{value:ke},Et?Ft:(0,g.createPortal)(Ft,nt))}),te=q,X=te,j=i(62300),J=i(50553),Y=i(46574),ee=i(56598),fe=i(87631),De=A.createContext(null),Ne=De;function be(Wt){return Wt?Array.isArray(Wt)?Wt:[Wt]:[]}function xe(Wt,Zt,Yt,oi){return A.useMemo(function(){var mi=be(Yt!=null?Yt:Zt),Fi=be(oi!=null?oi:Zt),Di=new Set(mi),Ji=new Set(Fi);return Wt&&(Di.has("hover")&&(Di.delete("hover"),Di.add("click")),Ji.has("hover")&&(Ji.delete("hover"),Ji.add("click"))),[Di,Ji]},[Wt,Zt,Yt,oi])}var Le=i(93174);function ue(){var Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Yt=arguments.length>2?arguments[2]:void 0;return Yt?Wt[0]===Zt[0]:Wt[0]===Zt[0]&&Wt[1]===Zt[1]}function re(Wt,Zt,Yt,oi){for(var mi=Yt.points,Fi=Object.keys(Wt),Di=0;Di<Fi.length;Di+=1){var Ji,Ui=Fi[Di];if(ue((Ji=Wt[Ui])===null||Ji===void 0?void 0:Ji.points,mi,oi))return"".concat(Zt,"-placement-").concat(Ui)}return""}function _e(Wt,Zt,Yt,oi){return Zt||(Yt?{motionName:"".concat(Wt,"-").concat(Yt)}:oi?{motionName:oi}:null)}function Ue(Wt){return Wt.ownerDocument.defaultView}function Qe(Wt){for(var Zt=[],Yt=Wt==null?void 0:Wt.parentElement,oi=["hidden","scroll","auto"];Yt;){var mi=Ue(Yt).getComputedStyle(Yt),Fi=mi.overflowX,Di=mi.overflowY;(oi.includes(Fi)||oi.includes(Di))&&Zt.push(Yt),Yt=Yt.parentElement}return Zt}function Re(Wt){return Number.isNaN(Wt)?1:Wt}function ie(Wt,Zt){var Yt=(0,p.Z)({},Wt);return(Zt||[]).forEach(function(oi){if(!(oi instanceof HTMLBodyElement)){var mi=Ue(oi).getComputedStyle(oi),Fi=mi.position;if(Fi!=="static"){var Di=oi.getBoundingClientRect(),Ji=oi.offsetHeight,Ui=oi.clientHeight,_n=oi.offsetWidth,gn=oi.clientWidth,vn=Re(Math.round(Di.width/_n*1e3)/1e3),Vn=Re(Math.round(Di.height/Ji*1e3)/1e3),Bn=(_n-gn)*vn,Kt=(Ji-Ui)*Vn,F=Di.x+Di.width-Bn,r=Di.y+Di.height-Kt;Yt.left=Math.max(Yt.left,Di.x),Yt.top=Math.max(Yt.top,Di.y),Yt.right=Math.min(Yt.right,F),Yt.bottom=Math.min(Yt.bottom,r)}}}),Yt}function Z(){var Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[Wt[0],Wt[1]]}function se(Wt,Zt){var Yt=Zt[0],oi=Zt[1],mi,Fi;return Yt==="t"?Fi=Wt.y:Yt==="b"?Fi=Wt.y+Wt.height:Fi=Wt.y+Wt.height/2,oi==="l"?mi=Wt.x:oi==="r"?mi=Wt.x+Wt.width:mi=Wt.x+Wt.width/2,{x:mi,y:Fi}}function ve(Wt,Zt){var Yt={t:"b",b:"t",l:"r",r:"l"};return Wt.map(function(oi,mi){return mi===Zt?Yt[oi]||"c":oi}).join("")}function he(Wt,Zt,Yt,oi,mi,Fi,Di){var Ji=A.useState({ready:!1,offsetX:0,offsetY:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:mi[oi]||{}}),Ui=(0,d.Z)(Ji,2),_n=Ui[0],gn=Ui[1],vn=A.useRef(0),Vn=A.useMemo(function(){return Zt?Qe(Zt):[]},[Zt]),Bn=A.useRef({}),Kt=function(){Bn.current={}};Wt||Kt();var F=(0,Y.Z)(function(){if(Zt&&Yt&&Wt){let Yr=function(yl,Ir){var ma=Et.x+yl,La=Et.y+Ir,Da=ma+fs,Qr=La+an,wl=Math.max(ma,xs.left),Ll=Math.max(La,xs.top),zo=Math.min(Da,xs.right),Ur=Math.min(Qr,xs.bottom);return Math.max(0,(zo-wl)*(Ur-Ll))},pr=function(){kr=Et.y+ln,xr=kr+an,cr=Et.x+lr,er=cr+fs};var $=Zt,ae=$.style.left,we=$.style.top,ke=$.ownerDocument,nt=Ue($),at=(0,p.Z)((0,p.Z)({},mi[oi]),Fi);$.style.left="0",$.style.top="0";var _t;if(Array.isArray(Yt))_t={x:Yt[0],y:Yt[1],width:0,height:0};else{var xt=Yt.getBoundingClientRect();_t={x:xt.x,y:xt.y,width:xt.width,height:xt.height}}var Et=$.getBoundingClientRect(),Ft=nt.getComputedStyle($),Vt=Ft.width,Qt=Ft.height,si=ke.documentElement,wi=si.clientWidth,Ti=si.clientHeight,Wi=si.scrollWidth,wn=si.scrollHeight,Qn=si.scrollTop,vs=si.scrollLeft,an=Et.height,fs=Et.width,Ys=_t.height,Zs=_t.width,xs=at.htmlRegion==="scroll"?{left:-vs,top:-Qn,right:Wi-vs,bottom:wn-Qn}:{left:0,top:0,right:wi,bottom:Ti};xs=ie(xs,Vn),$.style.left=ae,$.style.top=we;var zs=Re(Math.round(fs/parseFloat(Vt)*1e3)/1e3),po=Re(Math.round(an/parseFloat(Qt)*1e3)/1e3);if(zs===0||po===0||(0,J.S)(Yt)&&!(0,Le.Z)(Yt))return;var yo=at.offset,Bo=at.targetOffset,ao=yo||[],Do=(0,d.Z)(ao,2),No=Do[0],ta=No===void 0?0:No,Or=Do[1],Is=Or===void 0?0:Or,fr=Bo||[],Qs=(0,d.Z)(fr,2),rr=Qs[0],To=rr===void 0?0:rr,fo=Qs[1],Qo=fo===void 0?0:fo;_t.x+=To,_t.y+=Qo;var Xo=at.points||[],ni=(0,d.Z)(Xo,2),Jo=ni[0],ar=ni[1],zr=Z(ar),lo=Z(Jo),Ar=se(_t,zr),Gr=se(Et,lo),go=(0,p.Z)({},at),lr=Ar.x-Gr.x+ta,ln=Ar.y-Gr.y+Is,Sr=Yr(lr,ln),qo=se(_t,["t","l"]),co=se(Et,["t","l"]),ys=se(_t,["b","r"]),Wo=se(Et,["b","r"]),Zr=at.overflow||{},bl=Zr.adjustX,vo=Zr.adjustY,Ka=Zr.shiftX,ia=Zr.shiftY,Vo=function(Ir){return typeof Ir=="boolean"?Ir:Ir>=0},kr,xr,cr,er;pr();var hn=Vo(vo),Ho=lo[0]===zr[0];if(hn&&lo[0]==="t"&&(xr>xs.bottom||Bn.current.bt)){var wa=ln;Ho?wa-=an-Ys:wa=qo.y-Wo.y-Is,Yr(lr,wa)>=Sr?(Bn.current.bt=!0,ln=wa,go.points=[ve(lo,0),ve(zr,0)]):Bn.current.bt=!1}if(hn&&lo[0]==="b"&&(kr<xs.top||Bn.current.tb)){var na=ln;Ho?na+=an-Ys:na=ys.y-co.y-Is,Yr(lr,na)>=Sr?(Bn.current.tb=!0,ln=na,go.points=[ve(lo,0),ve(zr,0)]):Bn.current.tb=!1}var tr=Vo(bl),sa=lo[1]===zr[1];if(tr&&lo[1]==="l"&&(er>xs.right||Bn.current.rl)){var oa=lr;sa?oa-=fs-Zs:oa=qo.x-Wo.x-ta,Yr(oa,ln)>=Sr?(Bn.current.rl=!0,lr=oa,go.points=[ve(lo,1),ve(zr,1)]):Bn.current.rl=!1}if(tr&&lo[1]==="r"&&(cr<xs.left||Bn.current.lr)){var ra=lr;sa?ra+=fs-Zs:ra=ys.x-co.x-ta,Yr(ra,ln)>=Sr?(Bn.current.lr=!0,lr=ra,go.points=[ve(lo,1),ve(zr,1)]):Bn.current.lr=!1}pr();var On=Ka===!0?0:Ka;typeof On=="number"&&(cr<xs.left&&(lr-=cr-xs.left,_t.x+Zs<xs.left+On&&(lr+=_t.x-xs.left+Zs-On)),er>xs.right&&(lr-=er-xs.right,_t.x>xs.right-On&&(lr+=_t.x-xs.right+On)));var gs=ia===!0?0:ia;typeof gs=="number"&&(kr<xs.top&&(ln-=kr-xs.top,_t.y+Ys<xs.top+gs&&(ln+=_t.y-xs.top+Ys-gs)),xr>xs.bottom&&(ln-=xr-xs.bottom,_t.y>xs.bottom-gs&&(ln+=_t.y-xs.bottom+gs)));var js=Et.x+lr,uo=js+fs,jo=Et.y+ln,wo=jo+an,_o=_t.x,Ko=_o+Zs,$a=_t.y,gr=$a+Ys,dr=Math.max(js,_o),Ga=Math.min(uo,Ko),mr=(dr+Ga)/2,Za=mr-js,Rs=Math.max(jo,$a),ir=Math.min(wo,gr),Sl=(Rs+ir)/2,Fr=Sl-jo;Di==null||Di(Zt,go),gn({ready:!0,offsetX:lr/zs,offsetY:ln/po,arrowX:Za/zs,arrowY:Fr/po,scaleX:zs,scaleY:po,align:go})}}),r=function(){vn.current+=1;var ae=vn.current;Promise.resolve().then(function(){vn.current===ae&&F()})},I=function(){gn(function(ae){return(0,p.Z)((0,p.Z)({},ae),{},{ready:!1})})};return(0,w.Z)(I,[oi]),(0,w.Z)(function(){Wt||I()},[Wt]),[_n.ready,_n.offsetX,_n.offsetY,_n.arrowX,_n.arrowY,_n.scaleX,_n.scaleY,_n.align,r]}function ce(Wt,Zt,Yt,oi){(0,w.Z)(function(){if(Wt&&Zt&&Yt){let gn=function(){oi()};var mi=Zt,Fi=Yt,Di=Qe(mi),Ji=Qe(Fi),Ui=Ue(Fi),_n=new Set([Ui].concat((0,S.Z)(Di),(0,S.Z)(Ji)));return _n.forEach(function(vn){vn.addEventListener("scroll",gn,{passive:!0})}),Ui.addEventListener("resize",gn,{passive:!0}),oi(),function(){_n.forEach(function(vn){vn.removeEventListener("scroll",gn),Ui.removeEventListener("resize",gn)})}}},[Wt,Zt,Yt])}var Ee=i(18511);function We(Wt){var Zt=Wt.prefixCls,Yt=Wt.align,oi=Wt.arrow,mi=oi||{},Fi=mi.x,Di=Fi===void 0?0:Fi,Ji=mi.y,Ui=Ji===void 0?0:Ji,_n=mi.className,gn=A.useRef();if(!Yt||!Yt.points)return null;var vn={position:"absolute"};if(Yt.autoArrow!==!1){var Vn=Yt.points[0],Bn=Yt.points[1],Kt=Vn[0],F=Vn[1],r=Bn[0],I=Bn[1];Kt===r||!["t","b"].includes(Kt)?vn.top=Ui:Kt==="t"?vn.top=0:vn.bottom=0,F===I||!["l","r"].includes(F)?vn.left=Di:F==="l"?vn.left=0:vn.right=0}return A.createElement("div",{ref:gn,className:f()("".concat(Zt,"-arrow"),_n),style:vn})}function it(Wt){var Zt=Wt.prefixCls,Yt=Wt.open,oi=Wt.zIndex,mi=Wt.mask,Fi=Wt.motion;return mi?React.createElement(Ee.ZP,(0,R.Z)({},Fi,{motionAppear:!0,visible:Yt,removeOnLeave:!0}),function(Di){var Ji=Di.className;return React.createElement("div",{style:{zIndex:oi},className:f()("".concat(Zt,"-mask"),Ji)})}):null}var Ze=A.memo(function(Wt){var Zt=Wt.children;return Zt},function(Wt,Zt){return Zt.cache}),je=Ze,Te=A.forwardRef(function(Wt,Zt){var Yt=Wt.popup,oi=Wt.className,mi=Wt.prefixCls,Fi=Wt.style,Di=Wt.target,Ji=Wt.onVisibleChanged,Ui=Wt.open,_n=Wt.keepDom,gn=Wt.onClick,vn=Wt.mask,Vn=Wt.arrow,Bn=Wt.align,Kt=Wt.motion,F=Wt.maskMotion,r=Wt.forceRender,I=Wt.getPopupContainer,$=Wt.autoDestroy,ae=Wt.portal,we=Wt.zIndex,ke=Wt.onMouseEnter,nt=Wt.onMouseLeave,at=Wt.ready,_t=Wt.offsetX,xt=Wt.offsetY,Et=Wt.onAlign,Ft=Wt.onPrepare,Vt=Wt.stretch,Qt=Wt.targetWidth,si=Wt.targetHeight,wi=typeof Yt=="function"?Yt():Yt,Ti=Ui||_n,Wi=(I==null?void 0:I.length)>0,wn=A.useState(!I||!Wi),Qn=(0,d.Z)(wn,2),vs=Qn[0],an=Qn[1];if((0,w.Z)(function(){!vs&&Wi&&Di&&an(!0)},[vs,Wi,Di]),!vs)return null;var fs=at||!Ui?{left:_t,top:xt}:{left:"-1000vw",top:"-1000vh"},Ys={};return Vt&&(Vt.includes("height")&&si?Ys.height=si:Vt.includes("minHeight")&&si&&(Ys.minHeight=si),Vt.includes("width")&&Qt?Ys.width=Qt:Vt.includes("minWidth")&&Qt&&(Ys.minWidth=Qt)),Ui||(Ys.pointerEvents="none"),A.createElement(ae,{open:r||Ti,getContainer:I&&function(){return I(Di)},autoDestroy:$},A.createElement(it,{prefixCls:mi,open:Ui,zIndex:we,mask:vn,motion:F}),A.createElement(j.Z,{onResize:Et,disabled:!Ui},function(Zs){return A.createElement(Ee.ZP,(0,R.Z)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:r,leavedClassName:"".concat(mi,"-hidden")},Kt,{onAppearPrepare:Ft,onEnterPrepare:Ft,visible:Ui,onVisibleChanged:function(zs){var po;Kt==null||(po=Kt.onVisibleChanged)===null||po===void 0||po.call(Kt,zs),Ji(zs)}}),function(xs,zs){var po=xs.className,yo=xs.style,Bo=f()(mi,po,oi);return A.createElement("div",{ref:(0,C.sQ)(Zs,Zt,zs),className:Bo,style:(0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)({},fs),Ys),yo),{},{boxSizing:"border-box",zIndex:we},Fi),onMouseEnter:ke,onMouseLeave:nt,onClick:gn},Vn&&A.createElement(We,{prefixCls:mi,arrow:Vn,align:Bn}),A.createElement(je,{cache:!Ui},wi))})}))}),Ie=Te,oe=A.forwardRef(function(Wt,Zt){var Yt=Wt.children,oi=Wt.getTriggerDOMNode,mi=(0,C.Yr)(Yt),Fi=A.useCallback(function(Ji){(0,C.mH)(Zt,oi?oi(Ji):Ji)},[oi]),Di=(0,C.x1)(Fi,Yt.ref);return mi?A.cloneElement(Yt,{ref:Di}):Yt}),ge=oe,Ce=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function me(){var Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X,Zt=A.forwardRef(function(Yt,oi){var mi=Yt.prefixCls,Fi=mi===void 0?"rc-trigger-popup":mi,Di=Yt.children,Ji=Yt.action,Ui=Ji===void 0?"hover":Ji,_n=Yt.showAction,gn=Yt.hideAction,vn=Yt.popupVisible,Vn=Yt.defaultPopupVisible,Bn=Yt.onPopupVisibleChange,Kt=Yt.afterPopupVisibleChange,F=Yt.mouseEnterDelay,r=Yt.mouseLeaveDelay,I=r===void 0?.1:r,$=Yt.focusDelay,ae=Yt.blurDelay,we=Yt.mask,ke=Yt.maskClosable,nt=ke===void 0?!0:ke,at=Yt.getPopupContainer,_t=Yt.forceRender,xt=Yt.autoDestroy,Et=Yt.destroyPopupOnHide,Ft=Yt.popup,Vt=Yt.popupClassName,Qt=Yt.popupStyle,si=Yt.popupPlacement,wi=Yt.builtinPlacements,Ti=wi===void 0?{}:wi,Wi=Yt.popupAlign,wn=Yt.zIndex,Qn=Yt.stretch,vs=Yt.getPopupClassNameFromAlign,an=Yt.alignPoint,fs=Yt.onPopupClick,Ys=Yt.onPopupAlign,Zs=Yt.arrow,xs=Yt.popupMotion,zs=Yt.maskMotion,po=Yt.popupTransitionName,yo=Yt.popupAnimation,Bo=Yt.maskTransitionName,ao=Yt.maskAnimation,Do=Yt.className,No=Yt.getTriggerDOMNode,ta=(0,l.Z)(Yt,Ce),Or=xt||Et||!1,Is=A.useState(!1),fr=(0,d.Z)(Is,2),Qs=fr[0],rr=fr[1];(0,w.Z)(function(){rr((0,fe.Z)())},[]);var To=A.useRef({}),fo=A.useContext(Ne),Qo=A.useMemo(function(){return{registerSubPopup:function(ws,Js){To.current[ws]=Js,fo==null||fo.registerSubPopup(ws,Js)}}},[fo]),Xo=(0,ee.Z)(),ni=A.useState(null),Jo=(0,d.Z)(ni,2),ar=Jo[0],zr=Jo[1],lo=(0,Y.Z)(function(is){(0,J.S)(is)&&ar!==is&&zr(is),fo==null||fo.registerSubPopup(Xo,is)}),Ar=A.useState(null),Gr=(0,d.Z)(Ar,2),go=Gr[0],lr=Gr[1],ln=(0,Y.Z)(function(is){(0,J.S)(is)&&go!==is&&lr(is)}),Sr=A.Children.only(Di),qo=(Sr==null?void 0:Sr.props)||{},co={},ys=(0,Y.Z)(function(is){var ws,Js,to=go;return(to==null?void 0:to.contains(is))||(to==null||(ws=to.getRootNode())===null||ws===void 0?void 0:ws.host)===is||is===to||(ar==null?void 0:ar.contains(is))||(ar==null||(Js=ar.getRootNode())===null||Js===void 0?void 0:Js.host)===is||is===ar||Object.values(To.current).some(function(Eo){return(Eo==null?void 0:Eo.contains(is))||is===Eo})}),Wo=_e(Fi,xs,yo,po),Zr=_e(Fi,zs,ao,Bo),bl=A.useState(Vn||!1),vo=(0,d.Z)(bl,2),Ka=vo[0],ia=vo[1],Vo=vn!=null?vn:Ka,kr=(0,Y.Z)(function(is){vn===void 0&&ia(is)});(0,w.Z)(function(){ia(vn||!1)},[vn]);var xr=A.useRef(Vo);xr.current=Vo;var cr=(0,Y.Z)(function(is){Vo!==is&&(kr(is),Bn==null||Bn(is))}),er=A.useRef(),hn=function(){clearTimeout(er.current)},Ho=function(ws){var Js=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;hn(),Js===0?cr(ws):er.current=setTimeout(function(){cr(ws)},Js*1e3)};A.useEffect(function(){return hn},[]);var wa=A.useState(!1),na=(0,d.Z)(wa,2),tr=na[0],sa=na[1],oa=A.useRef(!0);(0,w.Z)(function(){(!oa.current||Vo)&&sa(!0),oa.current=!0},[Vo]);var ra=A.useState(null),On=(0,d.Z)(ra,2),gs=On[0],js=On[1],uo=A.useState([0,0]),jo=(0,d.Z)(uo,2),wo=jo[0],_o=jo[1],Ko=function(ws){_o([ws.clientX,ws.clientY])},$a=he(Vo,ar,an?wo:go,si,Ti,Wi,Ys),gr=(0,d.Z)($a,9),dr=gr[0],Ga=gr[1],mr=gr[2],Za=gr[3],Rs=gr[4],ir=gr[5],Sl=gr[6],Fr=gr[7],Yr=gr[8],pr=(0,Y.Z)(function(){tr||Yr()});ce(Vo,go,ar,pr),(0,w.Z)(function(){pr()},[wo]),(0,w.Z)(function(){Vo&&!(Ti!=null&&Ti[si])&&pr()},[JSON.stringify(Wi)]);var yl=A.useMemo(function(){var is=re(Ti,Fi,Fr,an);return f()(is,vs==null?void 0:vs(Fr))},[Fr,vs,Ti,Fi,an]);A.useImperativeHandle(oi,function(){return{forceAlign:pr}});var Ir=function(ws){sa(!1),Yr(),Kt==null||Kt(ws)},ma=function(){return new Promise(function(ws){js(function(){return ws})})};(0,w.Z)(function(){gs&&(Yr(),gs(),js(null))},[gs]);var La=A.useState(0),Da=(0,d.Z)(La,2),Qr=Da[0],wl=Da[1],Ll=A.useState(0),zo=(0,d.Z)(Ll,2),Ur=zo[0],Mo=zo[1],pa=function(ws,Js){if(pr(),Qn){var to=Js.getBoundingClientRect();wl(to.width),Mo(to.height)}},jl=xe(Qs,Ui,_n,gn),Ya=(0,d.Z)(jl,2),dl=Ya[0],Ea=Ya[1],aa=function(ws,Js,to,Eo){co[ws]=function(Ds){var Ia;Eo==null||Eo(Ds),Ho(Js,to);for(var Na=arguments.length,ml=new Array(Na>1?Na-1:0),_a=1;_a<Na;_a++)ml[_a-1]=arguments[_a];(Ia=qo[ws])===null||Ia===void 0||Ia.call.apply(Ia,[qo,Ds].concat(ml))}},ul=dl.has("click"),Aa=Ea.has("click")||Ea.has("contextMenu");(ul||Aa)&&(co.onClick=function(is){var ws;xr.current&&Aa?Ho(!1):!xr.current&&ul&&(Ko(is),Ho(!0));for(var Js=arguments.length,to=new Array(Js>1?Js-1:0),Eo=1;Eo<Js;Eo++)to[Eo-1]=arguments[Eo];(ws=qo.onClick)===null||ws===void 0||ws.call.apply(ws,[qo,is].concat(to))}),A.useEffect(function(){if(Aa&&ar&&(!we||nt)){var is=function(Ia){var Na=Ia.target;xr.current&&!ys(Na)&&Ho(!1)},ws=Ue(ar),Js=go==null?void 0:go.getRootNode();ws.addEventListener("click",is);var to=Js&&Js!==go.ownerDocument;if(to&&Js.addEventListener("click",is),!1)var Eo;return function(){ws.removeEventListener("click",is),to&&Js.removeEventListener("click",is)}}},[Aa,go,ar,we,nt]);var Dl=dl.has("hover"),hl=Ea.has("hover"),fl,va;Dl&&(aa("onMouseEnter",!0,F,function(is){Ko(is)}),fl=function(){Ho(!0,F)},an&&(co.onMouseMove=function(is){var ws;(ws=qo.onMouseMove)===null||ws===void 0||ws.call(qo,is)})),hl&&(aa("onMouseLeave",!1,I),va=function(){Ho(!1,I)}),dl.has("focus")&&aa("onFocus",!0,$),Ea.has("focus")&&aa("onBlur",!1,ae),dl.has("contextMenu")&&(co.onContextMenu=function(is){var ws;Ko(is),Ho(!0),is.preventDefault();for(var Js=arguments.length,to=new Array(Js>1?Js-1:0),Eo=1;Eo<Js;Eo++)to[Eo-1]=arguments[Eo];(ws=qo.onContextMenu)===null||ws===void 0||ws.call.apply(ws,[qo,is].concat(to))}),Do&&(co.className=f()(qo.className,Do));var xa=(0,p.Z)((0,p.Z)({},qo),co),Al={},gl=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];gl.forEach(function(is){ta[is]&&(Al[is]=function(){for(var ws,Js=arguments.length,to=new Array(Js),Eo=0;Eo<Js;Eo++)to[Eo]=arguments[Eo];(ws=xa[is])===null||ws===void 0||ws.call.apply(ws,[xa].concat(to)),ta[is].apply(ta,to)})});var Xs=A.cloneElement(Sr,(0,p.Z)((0,p.Z)({},xa),Al)),ka=Zs?(0,p.Z)((0,p.Z)({},Zs!==!0?Zs:{}),{},{x:Za,y:Rs}):null;return A.createElement(A.Fragment,null,A.createElement(j.Z,{disabled:!Vo,ref:ln,onResize:pa},A.createElement(ge,{getTriggerDOMNode:No},Xs)),A.createElement(Ne.Provider,{value:Qo},A.createElement(Ie,{portal:Wt,ref:lo,prefixCls:Fi,popup:Ft,className:f()(Vt,yl),style:Qt,target:go,onMouseEnter:fl,onMouseLeave:va,zIndex:wn,open:Vo,keepDom:tr,onClick:fs,mask:we,motion:Wo,maskMotion:Zr,onVisibleChanged:Ir,onPrepare:ma,forceRender:_t,autoDestroy:Or,getPopupContainer:at,align:Fr,arrow:ka,ready:dr,offsetX:Ga,offsetY:mr,onAlign:pr,stretch:Qn,targetWidth:Qr/ir,targetHeight:Ur/Sl})))});return Zt}var Me=me(X),qe={shiftX:64,adjustY:1},ot={adjustX:1,shiftY:!0},ut=[0,0],ht={left:{points:["cr","cl"],overflow:ot,offset:[-4,0],targetOffset:ut},right:{points:["cl","cr"],overflow:ot,offset:[4,0],targetOffset:ut},top:{points:["bc","tc"],overflow:qe,offset:[0,-4],targetOffset:ut},bottom:{points:["tc","bc"],overflow:qe,offset:[0,4],targetOffset:ut},topLeft:{points:["bl","tl"],overflow:qe,offset:[0,-4],targetOffset:ut},leftTop:{points:["tr","tl"],overflow:ot,offset:[-4,0],targetOffset:ut},topRight:{points:["br","tr"],overflow:qe,offset:[0,-4],targetOffset:ut},rightTop:{points:["tl","tr"],overflow:ot,offset:[4,0],targetOffset:ut},bottomRight:{points:["tr","br"],overflow:qe,offset:[0,4],targetOffset:ut},rightBottom:{points:["bl","br"],overflow:ot,offset:[4,0],targetOffset:ut},bottomLeft:{points:["tl","bl"],overflow:qe,offset:[0,4],targetOffset:ut},leftBottom:{points:["br","bl"],overflow:ot,offset:[-4,0],targetOffset:ut}},Ct=null;function Pt(Wt){var Zt=Wt.children,Yt=Wt.prefixCls,oi=Wt.id,mi=Wt.overlayInnerStyle,Fi=Wt.className,Di=Wt.style;return A.createElement("div",{className:f()("".concat(Yt,"-content"),Fi),style:Di},A.createElement("div",{className:"".concat(Yt,"-inner"),id:oi,role:"tooltip",style:mi},typeof Zt=="function"?Zt():Zt))}var bt=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],$t=function(Zt,Yt){var oi=Zt.overlayClassName,mi=Zt.trigger,Fi=mi===void 0?["hover"]:mi,Di=Zt.mouseEnterDelay,Ji=Di===void 0?0:Di,Ui=Zt.mouseLeaveDelay,_n=Ui===void 0?.1:Ui,gn=Zt.overlayStyle,vn=Zt.prefixCls,Vn=vn===void 0?"rc-tooltip":vn,Bn=Zt.children,Kt=Zt.onVisibleChange,F=Zt.afterVisibleChange,r=Zt.transitionName,I=Zt.animation,$=Zt.motion,ae=Zt.placement,we=ae===void 0?"right":ae,ke=Zt.align,nt=ke===void 0?{}:ke,at=Zt.destroyTooltipOnHide,_t=at===void 0?!1:at,xt=Zt.defaultVisible,Et=Zt.getTooltipContainer,Ft=Zt.overlayInnerStyle,Vt=Zt.arrowContent,Qt=Zt.overlay,si=Zt.id,wi=Zt.showArrow,Ti=wi===void 0?!0:wi,Wi=(0,l.Z)(Zt,bt),wn=(0,A.useRef)(null);(0,A.useImperativeHandle)(Yt,function(){return wn.current});var Qn=(0,p.Z)({},Wi);"visible"in Zt&&(Qn.popupVisible=Zt.visible);var vs=function(){return A.createElement(Pt,{key:"content",prefixCls:Vn,id:si,overlayInnerStyle:Ft},Qt)};return A.createElement(Me,(0,R.Z)({popupClassName:oi,prefixCls:Vn,popup:vs,action:Fi,builtinPlacements:ht,popupPlacement:we,ref:wn,popupAlign:nt,getPopupContainer:Et,onPopupVisibleChange:Kt,afterPopupVisibleChange:F,popupTransitionName:r,popupAnimation:I,popupMotion:$,defaultPopupVisible:xt,autoDestroy:_t,mouseLeaveDelay:_n,popupStyle:gn,mouseEnterDelay:Ji,arrow:Ti},Qn),Bn)},Mt=(0,A.forwardRef)($t),Xe=Mt,Lt=i(74274),Xt=i(62471),zt=i(98292),Fe=i(18467),et=i(86504),pt=i(66341),It=i(3957);const kt=(Wt,Zt)=>new It.C(Wt).setAlpha(Zt).toRgbString(),yt=(Wt,Zt)=>new It.C(Wt).lighten(Zt).toHexString(),St=Wt=>{const Zt=(0,Fe.R_)(Wt,{theme:"dark"});return{1:Zt[0],2:Zt[1],3:Zt[2],4:Zt[3],5:Zt[6],6:Zt[5],7:Zt[4],8:Zt[6],9:Zt[5],10:Zt[4]}},Gt=(Wt,Zt)=>{const Yt=Wt||"#000",oi=Zt||"#fff";return{colorBgBase:Yt,colorTextBase:oi,colorText:kt(oi,.85),colorTextSecondary:kt(oi,.65),colorTextTertiary:kt(oi,.45),colorTextQuaternary:kt(oi,.25),colorFill:kt(oi,.18),colorFillSecondary:kt(oi,.12),colorFillTertiary:kt(oi,.08),colorFillQuaternary:kt(oi,.04),colorBgElevated:yt(Yt,12),colorBgContainer:yt(Yt,8),colorBgLayout:yt(Yt,0),colorBgSpotlight:yt(Yt,26),colorBorder:yt(Yt,26),colorBorderSecondary:yt(Yt,19)}};var ri=(Wt,Zt)=>{const Yt=Object.keys(et.M).map(mi=>{const Fi=(0,Fe.R_)(Wt[mi],{theme:"dark"});return new Array(10).fill(1).reduce((Di,Ji,Ui)=>(Di[`${mi}-${Ui+1}`]=Fi[Ui],Di[`${mi}${Ui+1}`]=Fi[Ui],Di),{})}).reduce((mi,Fi)=>(mi=Object.assign(Object.assign({},mi),Fi),mi),{}),oi=Zt!=null?Zt:(0,zt.Z)(Wt);return Object.assign(Object.assign(Object.assign({},oi),Yt),(0,pt.Z)(Wt,{generateColorPalettes:St,generateNeutralColorPalettes:Gt}))},li=i(30749);function gi(Wt){const{sizeUnit:Zt,sizeStep:Yt}=Wt,oi=Yt-2;return{sizeXXL:Zt*(oi+10),sizeXL:Zt*(oi+6),sizeLG:Zt*(oi+2),sizeMD:Zt*(oi+2),sizeMS:Zt*(oi+1),size:Zt*oi,sizeSM:Zt*oi,sizeXS:Zt*(oi-1),sizeXXS:Zt*(oi-1)}}var Pi=i(97292),ji=(Wt,Zt)=>{const Yt=Zt!=null?Zt:(0,zt.Z)(Wt),oi=Yt.fontSizeSM,mi=Yt.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Yt),gi(Zt!=null?Zt:Wt)),(0,Pi.Z)(oi)),{controlHeight:mi}),(0,li.Z)(Object.assign(Object.assign({},Yt),{controlHeight:mi})))};function bn(){const[Wt,Zt,Yt]=(0,Xt.dQ)();return{theme:Wt,token:Zt,hashId:Yt}}var Rn={defaultConfig:Xt.u_,defaultSeed:Xt.u_.token,useToken:bn,defaultAlgorithm:zt.Z,darkAlgorithm:ri,compactAlgorithm:ji},bs=i(91754);const ms=(Wt,Zt,Yt,oi,mi)=>{const Fi=Wt/2,Di=0,Ji=Fi,Ui=Yt*1/Math.sqrt(2),_n=Fi-Yt*(1-1/Math.sqrt(2)),gn=Fi-Zt*(1/Math.sqrt(2)),vn=Yt*(Math.sqrt(2)-1)+Zt*(1/Math.sqrt(2)),Vn=2*Fi-gn,Bn=vn,Kt=2*Fi-Ui,F=_n,r=2*Fi-Di,I=Ji,$=Fi*Math.sqrt(2)+Yt*(Math.sqrt(2)-2),ae=Yt*(Math.sqrt(2)-1);return{pointerEvents:"none",width:Wt,height:Wt,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:Wt,height:Wt/2,background:oi,clipPath:{_multi_value_:!0,value:[`polygon(${ae}px 100%, 50% ${ae}px, ${2*Fi-ae}px 100%, ${ae}px 100%)`,`path('M ${Di} ${Ji} A ${Yt} ${Yt} 0 0 0 ${Ui} ${_n} L ${gn} ${vn} A ${Zt} ${Zt} 0 0 1 ${Vn} ${Bn} L ${Kt} ${F} A ${Yt} ${Yt} 0 0 0 ${r} ${I} Z')`]},content:'""'},"&::after":{content:'""',position:"absolute",width:$,height:$,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Zt}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:mi,zIndex:0,background:"transparent"}}},ki=8;function Vi(Wt){const Zt=ki,{contentRadius:Yt,limitVerticalRadius:oi}=Wt,mi=Yt>12?Yt+2:12;return{dropdownArrowOffset:mi,dropdownArrowOffsetVertical:oi?Zt:mi}}function Ki(Wt,Zt){return Wt?Zt:{}}function es(Wt,Zt){const{componentCls:Yt,sizePopupArrow:oi,borderRadiusXS:mi,borderRadiusOuter:Fi,boxShadowPopoverArrow:Di}=Wt,{colorBg:Ji,contentRadius:Ui=Wt.borderRadiusLG,limitVerticalRadius:_n,arrowDistance:gn=0,arrowPlacement:vn={left:!0,right:!0,top:!0,bottom:!0}}=Zt,{dropdownArrowOffsetVertical:Vn,dropdownArrowOffset:Bn}=Vi({contentRadius:Ui,limitVerticalRadius:_n});return{[Yt]:Object.assign(Object.assign(Object.assign(Object.assign({[`${Yt}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},ms(oi,mi,Fi,Ji,Di)),{"&:before":{background:Ji}})]},Ki(!!vn.top,{[[`&-placement-top ${Yt}-arrow`,`&-placement-topLeft ${Yt}-arrow`,`&-placement-topRight ${Yt}-arrow`].join(",")]:{bottom:gn,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${Yt}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${Yt}-arrow`]:{left:{_skip_check_:!0,value:Bn}},[`&-placement-topRight ${Yt}-arrow`]:{right:{_skip_check_:!0,value:Bn}}})),Ki(!!vn.bottom,{[[`&-placement-bottom ${Yt}-arrow`,`&-placement-bottomLeft ${Yt}-arrow`,`&-placement-bottomRight ${Yt}-arrow`].join(",")]:{top:gn,transform:"translateY(-100%)"},[`&-placement-bottom ${Yt}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${Yt}-arrow`]:{left:{_skip_check_:!0,value:Bn}},[`&-placement-bottomRight ${Yt}-arrow`]:{right:{_skip_check_:!0,value:Bn}}})),Ki(!!vn.left,{[[`&-placement-left ${Yt}-arrow`,`&-placement-leftTop ${Yt}-arrow`,`&-placement-leftBottom ${Yt}-arrow`].join(",")]:{right:{_skip_check_:!0,value:gn},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${Yt}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${Yt}-arrow`]:{top:Vn},[`&-placement-leftBottom ${Yt}-arrow`]:{bottom:Vn}})),Ki(!!vn.right,{[[`&-placement-right ${Yt}-arrow`,`&-placement-rightTop ${Yt}-arrow`,`&-placement-rightBottom ${Yt}-arrow`].join(",")]:{left:{_skip_check_:!0,value:gn},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${Yt}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${Yt}-arrow`]:{top:Vn},[`&-placement-rightBottom ${Yt}-arrow`]:{bottom:Vn}}))}}function Ls(Wt,Zt,Yt,oi){if(oi===!1)return{adjustX:!1,adjustY:!1};const mi=oi&&typeof oi=="object"?oi:{},Fi={};switch(Wt){case"top":case"bottom":Fi.shiftX=Zt.dropdownArrowOffset*2+Yt;break;case"left":case"right":Fi.shiftY=Zt.dropdownArrowOffsetVertical*2+Yt;break}const Di=Object.assign(Object.assign({},Fi),mi);return Di.shiftX||(Di.adjustX=!0),Di.shiftY||(Di.adjustY=!0),Di}const ts={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Kn={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Wn=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function yn(Wt){const{arrowWidth:Zt,autoAdjustOverflow:Yt,arrowPointAtCenter:oi,offset:mi,borderRadius:Fi}=Wt,Di=Zt/2,Ji={};return Object.keys(ts).forEach(Ui=>{const _n=oi&&Kn[Ui]||ts[Ui],gn=Object.assign(Object.assign({},_n),{offset:[0,0]});switch(Ji[Ui]=gn,Wn.has(Ui)&&(gn.autoArrow=!1),Ui){case"top":case"topLeft":case"topRight":gn.offset[1]=-Di-mi;break;case"bottom":case"bottomLeft":case"bottomRight":gn.offset[1]=Di+mi;break;case"left":case"leftTop":case"leftBottom":gn.offset[0]=-Di-mi;break;case"right":case"rightTop":case"rightBottom":gn.offset[0]=Di+mi;break}const vn=Vi({contentRadius:Fi,limitVerticalRadius:!0});if(oi)switch(Ui){case"topLeft":case"bottomLeft":gn.offset[0]=-vn.dropdownArrowOffset-Di;break;case"topRight":case"bottomRight":gn.offset[0]=vn.dropdownArrowOffset+Di;break;case"leftTop":case"rightTop":gn.offset[1]=-vn.dropdownArrowOffset-Di;break;case"leftBottom":case"rightBottom":gn.offset[1]=vn.dropdownArrowOffset+Di;break}gn.overflow=Ls(Ui,vn,Zt,Yt)}),Ji}var en=i(29095),Ms=i(23773),Ss=i(94120);const ps=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function oo(Wt,Zt){return ps.reduce((Yt,oi)=>{const mi=Wt[`${oi}1`],Fi=Wt[`${oi}3`],Di=Wt[`${oi}6`],Ji=Wt[`${oi}7`];return Object.assign(Object.assign({},Yt),Zt(oi,{lightColor:mi,lightBorderColor:Fi,darkColor:Di,textColor:Ji}))},{})}var hs=i(23707),Ts=i(44875);const In=Wt=>{const{componentCls:Zt,tooltipMaxWidth:Yt,tooltipColor:oi,tooltipBg:mi,tooltipBorderRadius:Fi,zIndexPopup:Di,controlHeight:Ji,boxShadowSecondary:Ui,paddingSM:_n,paddingXS:gn,tooltipRadiusOuter:vn}=Wt;return[{[Zt]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Ms.Wf)(Wt)),{position:"absolute",zIndex:Di,display:"block",width:"max-content",maxWidth:Yt,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":mi,[`${Zt}-inner`]:{minWidth:Ji,minHeight:Ji,padding:`${_n/2}px ${gn}px`,color:oi,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:mi,borderRadius:Fi,boxShadow:Ui},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${Zt}-inner`]:{borderRadius:Math.min(Fi,ki)}},[`${Zt}-content`]:{position:"relative"}}),oo(Wt,(Vn,Bn)=>{let{darkColor:Kt}=Bn;return{[`&${Zt}-${Vn}`]:{[`${Zt}-inner`]:{backgroundColor:Kt},[`${Zt}-arrow`]:{"--antd-arrow-background-color":Kt}}}})),{"&-rtl":{direction:"rtl"}})},es((0,hs.TS)(Wt,{borderRadiusOuter:vn}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:Fi,limitVerticalRadius:!0}),{[`${Zt}-pure`]:{position:"relative",maxWidth:"none",margin:Wt.sizePopupArrow}}]};var Yn=(Wt,Zt)=>(0,Ts.Z)("Tooltip",oi=>{if(Zt===!1)return[];const{borderRadius:mi,colorTextLightSolid:Fi,colorBgDefault:Di,borderRadiusOuter:Ji}=oi,Ui=(0,hs.TS)(oi,{tooltipMaxWidth:250,tooltipColor:Fi,tooltipBorderRadius:mi,tooltipBg:Di,tooltipRadiusOuter:Ji>4?4:Ji});return[In(Ui),(0,Ss._y)(oi,"zoom-big-fast")]},oi=>{let{zIndexPopupBase:mi,colorBgSpotlight:Fi}=oi;return{zIndexPopup:mi+70,colorBgDefault:Fi}})(Wt);const pi=ps.map(Wt=>`${Wt}-inverse`),ci=null;function ui(Wt){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,S.Z)(pi),(0,S.Z)(ps)).includes(Wt):ps.includes(Wt)}function wt(Wt){return ci.includes(Wt)}function mt(Wt,Zt){const Yt=ui(Zt),oi=f()({[`${Wt}-${Zt}`]:Zt&&Yt}),mi={},Fi={};return Zt&&!Yt&&(mi.background=Zt,Fi["--antd-arrow-background-color"]=Zt),{className:oi,overlayStyle:mi,arrowStyle:Fi}}function Oe(Wt){const{prefixCls:Zt,className:Yt,placement:oi="top",title:mi,color:Fi,overlayInnerStyle:Di}=Wt,{getPrefixCls:Ji}=A.useContext(E.E_),Ui=Ji("tooltip",Zt),[_n,gn]=Yn(Ui,!0),vn=mt(Ui,Fi),Vn=Object.assign(Object.assign({},Di),vn.overlayStyle),Bn=vn.arrowStyle;return _n(A.createElement("div",{className:f()(gn,Ui,`${Ui}-pure`,`${Ui}-placement-${oi}`,Yt,vn.className),style:Bn},A.createElement("div",{className:`${Ui}-arrow`}),A.createElement(Pt,Object.assign({},Wt,{className:gn,prefixCls:Ui,overlayInnerStyle:Vn}),mi)))}var le=function(Wt,Zt){var Yt={};for(var oi in Wt)Object.prototype.hasOwnProperty.call(Wt,oi)&&Zt.indexOf(oi)<0&&(Yt[oi]=Wt[oi]);if(Wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mi=0,oi=Object.getOwnPropertySymbols(Wt);mi<oi.length;mi++)Zt.indexOf(oi[mi])<0&&Object.prototype.propertyIsEnumerable.call(Wt,oi[mi])&&(Yt[oi[mi]]=Wt[oi[mi]]);return Yt};const{useToken:Be}=Rn,Ke=(Wt,Zt)=>{const Yt={},oi=Object.assign({},Wt);return Zt.forEach(mi=>{Wt&&mi in Wt&&(Yt[mi]=Wt[mi],delete oi[mi])}),{picked:Yt,omitted:oi}};function Ge(Wt,Zt){const Yt=Wt.type;if((Yt.__ANT_BUTTON===!0||Wt.type==="button")&&Wt.props.disabled||Yt.__ANT_SWITCH===!0&&(Wt.props.disabled||Wt.props.loading)||Yt.__ANT_RADIO===!0&&Wt.props.disabled){const{picked:oi,omitted:mi}=Ke(Wt.props.style,["position","left","right","top","bottom","float","display","zIndex"]),Fi=Object.assign(Object.assign({display:"inline-block"},oi),{cursor:"not-allowed",width:Wt.props.block?"100%":void 0}),Di=Object.assign(Object.assign({},mi),{pointerEvents:"none"}),Ji=(0,en.Tm)(Wt,{style:Di,className:null});return A.createElement("span",{style:Fi,className:f()(Wt.props.className,`${Zt}-disabled-compatible-wrapper`)},Ji)}return Wt}const ye=A.forwardRef((Wt,Zt)=>{var Yt,oi;const{prefixCls:mi,openClassName:Fi,getTooltipContainer:Di,overlayClassName:Ji,color:Ui,overlayInnerStyle:_n,children:gn,afterOpenChange:vn,afterVisibleChange:Vn,destroyTooltipOnHide:Bn,arrow:Kt=!0,title:F,overlay:r,builtinPlacements:I,arrowPointAtCenter:$=!1,autoAdjustOverflow:ae=!0}=Wt,we=!!Kt,{token:ke}=Be(),{getPopupContainer:nt,getPrefixCls:at,direction:_t}=A.useContext(E.E_),xt=A.useRef(null),Et=()=>{var To;(To=xt.current)===null||To===void 0||To.forceAlign()};A.useImperativeHandle(Zt,()=>({forceAlign:Et,forcePopupAlign:()=>{Et()}}));const[Ft,Vt]=(0,_.Z)(!1,{value:(Yt=Wt.open)!==null&&Yt!==void 0?Yt:Wt.visible,defaultValue:(oi=Wt.defaultOpen)!==null&&oi!==void 0?oi:Wt.defaultVisible}),Qt=!F&&!r&&F!==0,si=To=>{var fo,Qo;Vt(Qt?!1:To),Qt||((fo=Wt.onOpenChange)===null||fo===void 0||fo.call(Wt,To),(Qo=Wt.onVisibleChange)===null||Qo===void 0||Qo.call(Wt,To))},wi=A.useMemo(()=>{var To,fo;let Qo=$;return typeof Kt=="object"&&(Qo=(fo=(To=Kt.pointAtCenter)!==null&&To!==void 0?To:Kt.arrowPointAtCenter)!==null&&fo!==void 0?fo:$),I||yn({arrowPointAtCenter:Qo,autoAdjustOverflow:ae,arrowWidth:we?ke.sizePopupArrow:0,borderRadius:ke.borderRadius,offset:ke.marginXXS})},[$,Kt,I,ke]),Ti=(To,fo)=>{const Qo=Object.keys(wi).find(Xo=>{var ni,Jo;return wi[Xo].points[0]===((ni=fo.points)===null||ni===void 0?void 0:ni[0])&&wi[Xo].points[1]===((Jo=fo.points)===null||Jo===void 0?void 0:Jo[1])});if(Qo){const Xo=To.getBoundingClientRect(),ni={top:"50%",left:"50%"};/top|Bottom/.test(Qo)?ni.top=`${Xo.height-fo.offset[1]}px`:/Top|bottom/.test(Qo)&&(ni.top=`${-fo.offset[1]}px`),/left|Right/.test(Qo)?ni.left=`${Xo.width-fo.offset[0]}px`:/right|Left/.test(Qo)&&(ni.left=`${-fo.offset[0]}px`),To.style.transformOrigin=`${ni.left} ${ni.top}`}},Wi=A.useMemo(()=>F===0?F:r||F||"",[r,F]),wn=A.createElement(Lt.BR,null,typeof Wi=="function"?Wi():Wi),{getPopupContainer:Qn,placement:vs="top",mouseEnterDelay:an=.1,mouseLeaveDelay:fs=.1,overlayStyle:Ys,rootClassName:Zs}=Wt,xs=le(Wt,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),zs=at("tooltip",mi),po=at(),yo=Wt["data-popover-inject"];let Bo=Ft;!("open"in Wt)&&!("visible"in Wt)&&Qt&&(Bo=!1);const ao=Ge((0,en.l$)(gn)&&!(0,en.M2)(gn)?gn:A.createElement("span",null,gn),zs),Do=ao.props,No=!Do.className||typeof Do.className=="string"?f()(Do.className,{[Fi||`${zs}-open`]:!0}):Do.className,[ta,Or]=Yn(zs,!yo),Is=mt(zs,Ui),fr=Object.assign(Object.assign({},_n),Is.overlayStyle),Qs=Is.arrowStyle,rr=f()(Ji,{[`${zs}-rtl`]:_t==="rtl"},Is.className,Zs,Or);return ta(A.createElement(Xe,Object.assign({},xs,{showArrow:we,placement:vs,mouseEnterDelay:an,mouseLeaveDelay:fs,prefixCls:zs,overlayClassName:rr,overlayStyle:Object.assign(Object.assign({},Qs),Ys),getTooltipContainer:Qn||Di||nt,ref:xt,builtinPlacements:wi,overlay:wn,visible:Bo,onVisibleChange:si,afterVisibleChange:vn!=null?vn:Vn,onPopupAlign:Ti,overlayInnerStyle:fr,arrowContent:A.createElement("span",{className:`${zs}-arrow-content`}),motion:{motionName:(0,bs.mL)(po,"zoom-big-fast",Wt.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!Bn}),Bo?(0,en.Tm)(ao,{className:No}):ao))});ye._InternalPanelDoNotUseOrYouWillBeFired=Oe;var ze=ye;const lt=Wt=>Wt?typeof Wt=="function"?Wt():Wt:null,Rt=Wt=>{const{componentCls:Zt,popoverBg:Yt,popoverColor:oi,width:mi,fontWeightStrong:Fi,popoverPadding:Di,boxShadowSecondary:Ji,colorTextHeading:Ui,borderRadiusLG:_n,zIndexPopup:gn,marginXS:vn,colorBgElevated:Vn}=Wt;return[{[Zt]:Object.assign(Object.assign({},(0,Ms.Wf)(Wt)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:gn,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":Vn,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${Zt}-content`]:{position:"relative"},[`${Zt}-inner`]:{backgroundColor:Yt,backgroundClip:"padding-box",borderRadius:_n,boxShadow:Ji,padding:Di},[`${Zt}-title`]:{minWidth:mi,marginBottom:vn,color:Ui,fontWeight:Fi},[`${Zt}-inner-content`]:{color:oi}})},es(Wt,{colorBg:"var(--antd-arrow-background-color)"}),{[`${Zt}-pure`]:{position:"relative",maxWidth:"none",margin:Wt.sizePopupArrow,display:"inline-block",[`${Zt}-content`]:{display:"inline-block"}}}]},Bt=Wt=>{const{componentCls:Zt}=Wt;return{[Zt]:ps.map(Yt=>{const oi=Wt[`${Yt}6`];return{[`&${Zt}-${Yt}`]:{"--antd-arrow-background-color":oi,[`${Zt}-inner`]:{backgroundColor:oi},[`${Zt}-arrow`]:{background:"transparent"}}}})}},At=Wt=>{const{componentCls:Zt,lineWidth:Yt,lineType:oi,colorSplit:mi,paddingSM:Fi,controlHeight:Di,fontSize:Ji,lineHeight:Ui,padding:_n}=Wt,gn=Di-Math.round(Ji*Ui),vn=gn/2,Vn=gn/2-Yt,Bn=_n;return{[Zt]:{[`${Zt}-inner`]:{padding:0},[`${Zt}-title`]:{margin:0,padding:`${vn}px ${Bn}px ${Vn}px`,borderBottom:`${Yt}px ${oi} ${mi}`},[`${Zt}-inner-content`]:{padding:`${Fi}px ${Bn}px`}}}};var ii=(0,Ts.Z)("Popover",Wt=>{const{colorBgElevated:Zt,colorText:Yt,wireframe:oi}=Wt,mi=(0,hs.TS)(Wt,{popoverBg:Zt,popoverColor:Yt,popoverPadding:12});return[Rt(mi),Bt(mi),oi&&At(mi),(0,Ss._y)(mi,"zoom-big")]},Wt=>{let{zIndexPopupBase:Zt}=Wt;return{zIndexPopup:Zt+30,width:177}}),vi=function(Wt,Zt){var Yt={};for(var oi in Wt)Object.prototype.hasOwnProperty.call(Wt,oi)&&Zt.indexOf(oi)<0&&(Yt[oi]=Wt[oi]);if(Wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mi=0,oi=Object.getOwnPropertySymbols(Wt);mi<oi.length;mi++)Zt.indexOf(oi[mi])<0&&Object.prototype.propertyIsEnumerable.call(Wt,oi[mi])&&(Yt[oi[mi]]=Wt[oi[mi]]);return Yt};const yi=(Wt,Zt,Yt)=>{if(!(!Zt&&!Yt))return A.createElement(A.Fragment,null,Zt&&A.createElement("div",{className:`${Wt}-title`},lt(Zt)),A.createElement("div",{className:`${Wt}-inner-content`},lt(Yt)))};function hi(Wt){const{hashId:Zt,prefixCls:Yt,className:oi,style:mi,placement:Fi="top",title:Di,content:Ji,children:Ui}=Wt;return A.createElement("div",{className:f()(Zt,Yt,`${Yt}-pure`,`${Yt}-placement-${Fi}`,oi),style:mi},A.createElement("div",{className:`${Yt}-arrow`}),A.createElement(Pt,Object.assign({},Wt,{className:Zt,prefixCls:Yt}),Ui||yi(Yt,Di,Ji)))}function Si(Wt){const{prefixCls:Zt}=Wt,Yt=vi(Wt,["prefixCls"]),{getPrefixCls:oi}=A.useContext(E.E_),mi=oi("popover",Zt),[Fi,Di]=ii(mi);return Fi(A.createElement(hi,Object.assign({},Yt,{prefixCls:mi,hashId:Di})))}var Oi=function(Wt,Zt){var Yt={};for(var oi in Wt)Object.prototype.hasOwnProperty.call(Wt,oi)&&Zt.indexOf(oi)<0&&(Yt[oi]=Wt[oi]);if(Wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mi=0,oi=Object.getOwnPropertySymbols(Wt);mi<oi.length;mi++)Zt.indexOf(oi[mi])<0&&Object.prototype.propertyIsEnumerable.call(Wt,oi[mi])&&(Yt[oi[mi]]=Wt[oi[mi]]);return Yt};const Ai=Wt=>{let{title:Zt,content:Yt,prefixCls:oi}=Wt;return!Zt&&!Yt?null:A.createElement(A.Fragment,null,Zt&&A.createElement("div",{className:`${oi}-title`},lt(Zt)),A.createElement("div",{className:`${oi}-inner-content`},lt(Yt)))},Zi=A.forwardRef((Wt,Zt)=>{const{prefixCls:Yt,title:oi,content:mi,overlayClassName:Fi,placement:Di="top",trigger:Ji="hover",mouseEnterDelay:Ui=.1,mouseLeaveDelay:_n=.1,overlayStyle:gn={}}=Wt,vn=Oi(Wt,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:Vn}=A.useContext(E.E_),Bn=Vn("popover",Yt),[Kt,F]=ii(Bn),r=Vn(),I=f()(Fi,F);return Kt(A.createElement(ze,Object.assign({placement:Di,trigger:Ji,mouseEnterDelay:Ui,mouseLeaveDelay:_n,overlayStyle:gn},vn,{prefixCls:Bn,overlayClassName:I,ref:Zt,overlay:A.createElement(Ai,{prefixCls:Bn,title:oi,content:mi}),transitionName:(0,bs.mL)(r,"zoom-big",vn.transitionName),"data-popover-inject":!0})))});Zi._InternalPanelDoNotUseOrYouWillBeFired=Si;var pn=Zi,Pn=i(24832),cs=i(6696),ds=i(62687),Es=i(9660),ro=i(51432);const Gs=Wt=>{const{componentCls:Zt,iconCls:Yt,zIndexPopup:oi,colorText:mi,colorWarning:Fi,marginXS:Di,fontSize:Ji,fontWeightStrong:Ui,lineHeight:_n}=Wt;return{[Zt]:{zIndex:oi,[`${Zt}-inner-content`]:{color:mi},[`${Zt}-message`]:{position:"relative",marginBottom:Di,color:mi,fontSize:Ji,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${Zt}-message-icon ${Yt}`]:{color:Fi,fontSize:Ji,flex:"none",lineHeight:1,paddingTop:(Math.round(Ji*_n)-Ji)/2},"&-title":{flex:"auto",marginInlineStart:Di},"&-title-only":{fontWeight:Ui}},[`${Zt}-description`]:{position:"relative",marginInlineStart:Ji+Di,marginBottom:Di,color:mi,fontSize:Ji},[`${Zt}-buttons`]:{textAlign:"end",button:{marginInlineStart:Di}}}}};var Ws=(0,Ts.Z)("Popconfirm",Wt=>Gs(Wt),Wt=>{const{zIndexPopupBase:Zt}=Wt;return{zIndexPopup:Zt+60}}),Hr=function(Wt,Zt){var Yt={};for(var oi in Wt)Object.prototype.hasOwnProperty.call(Wt,oi)&&Zt.indexOf(oi)<0&&(Yt[oi]=Wt[oi]);if(Wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mi=0,oi=Object.getOwnPropertySymbols(Wt);mi<oi.length;mi++)Zt.indexOf(oi[mi])<0&&Object.prototype.propertyIsEnumerable.call(Wt,oi[mi])&&(Yt[oi[mi]]=Wt[oi[mi]]);return Yt};const Fn=Wt=>{const{prefixCls:Zt,okButtonProps:Yt,cancelButtonProps:oi,title:mi,description:Fi,cancelText:Di,okText:Ji,okType:Ui="primary",icon:_n=A.createElement(m.Z,null),showCancel:gn=!0,close:vn,onConfirm:Vn,onCancel:Bn}=Wt,{getPrefixCls:Kt}=A.useContext(E.E_),[F]=(0,Es.Z)("Popconfirm",ds.Z.Popconfirm);return A.createElement("div",{className:`${Zt}-inner-content`},A.createElement("div",{className:`${Zt}-message`},_n&&A.createElement("span",{className:`${Zt}-message-icon`},_n),A.createElement("div",{className:f()(`${Zt}-message-title`,{[`${Zt}-message-title-only`]:!!Fi})},lt(mi))),Fi&&A.createElement("div",{className:`${Zt}-description`},lt(Fi)),A.createElement("div",{className:`${Zt}-buttons`},gn&&A.createElement(Pn.ZP,Object.assign({onClick:Bn,size:"small"},oi),Di!=null?Di:F==null?void 0:F.cancelText),A.createElement(ro.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,cs.n)(Ui)),Yt),actionFn:Vn,close:vn,prefixCls:Kt("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},Ji!=null?Ji:F==null?void 0:F.okText)))};function Ci(Wt){const{prefixCls:Zt,placement:Yt,className:oi,style:mi}=Wt,Fi=Hr(Wt,["prefixCls","placement","className","style"]),{getPrefixCls:Di}=A.useContext(E.E_),Ji=Di("popconfirm",Zt),[Ui]=Ws(Ji);return Ui(A.createElement(Si,{placement:Yt,className:f()(Ji,oi),style:mi,content:A.createElement(Fn,Object.assign({prefixCls:Ji},Fi))}))}var Xi=function(Wt,Zt){var Yt={};for(var oi in Wt)Object.prototype.hasOwnProperty.call(Wt,oi)&&Zt.indexOf(oi)<0&&(Yt[oi]=Wt[oi]);if(Wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mi=0,oi=Object.getOwnPropertySymbols(Wt);mi<oi.length;mi++)Zt.indexOf(oi[mi])<0&&Object.prototype.propertyIsEnumerable.call(Wt,oi[mi])&&(Yt[oi[mi]]=Wt[oi[mi]]);return Yt};const tn=A.forwardRef((Wt,Zt)=>{const{getPrefixCls:Yt}=A.useContext(E.E_),[oi,mi]=(0,_.Z)(!1,{value:Wt.open,defaultValue:Wt.defaultOpen}),Fi=(nt,at)=>{var _t;mi(nt,!0),(_t=Wt.onOpenChange)===null||_t===void 0||_t.call(Wt,nt,at)},Di=nt=>{Fi(!1,nt)},Ji=nt=>{var at;return(at=Wt.onConfirm)===null||at===void 0?void 0:at.call(void 0,nt)},Ui=nt=>{var at;Fi(!1,nt),(at=Wt.onCancel)===null||at===void 0||at.call(void 0,nt)},_n=nt=>{nt.keyCode===v.Z.ESC&&oi&&Fi(!1,nt)},gn=nt=>{const{disabled:at=!1}=Wt;at||Fi(nt)},{prefixCls:vn,placement:Vn="top",trigger:Bn="click",okType:Kt="primary",icon:F=A.createElement(m.Z,null),children:r,overlayClassName:I}=Wt,$=Xi(Wt,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),ae=Yt("popconfirm",vn),we=f()(ae,I),[ke]=Ws(ae);return ke(A.createElement(pn,Object.assign({},(0,M.Z)($,["title"]),{trigger:Bn,placement:Vn,onOpenChange:gn,open:oi,ref:Zt,overlayClassName:we,content:A.createElement(Fn,Object.assign({okType:Kt,icon:F},Wt,{prefixCls:ae,close:Di,onConfirm:Ji,onCancel:Ui})),"data-popover-inject":!0}),(0,en.Tm)(r,{onKeyDown:nt=>{var at,_t;A.isValidElement(r)&&((_t=r==null?void 0:(at=r.props).onKeyDown)===null||_t===void 0||_t.call(at,nt)),_n(nt)}})))});tn._InternalPanelDoNotUseOrYouWillBeFired=Ci;var us=tn},88926:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return w}});var m=i(72779),B=i.n(m),f=i(2784),_=i(35298),v=i(23685),A=()=>{const[L,N]=f.useState(!1);return f.useEffect(()=>{N((0,v.fk)())},[]),L},M=i(62471);const E=["xxl","xl","lg","md","sm","xs"],R=L=>({xs:`(max-width: ${L.screenXSMax}px)`,sm:`(min-width: ${L.screenSM}px)`,md:`(min-width: ${L.screenMD}px)`,lg:`(min-width: ${L.screenLG}px)`,xl:`(min-width: ${L.screenXL}px)`,xxl:`(min-width: ${L.screenXXL}px)`}),p=L=>{const N=L,O=[].concat(E).reverse();return O.forEach((x,T)=>{const W=x.toUpperCase(),U=`screen${W}Min`,K=`screen${W}`;if(!(N[U]<=N[K]))throw new Error(`${U}<=${K} fails : !(${N[U]}<=${N[K]})`);if(T<O.length-1){const G=`screen${W}Max`;if(!(N[K]<=N[G]))throw new Error(`${K}<=${G} fails : !(${N[K]}<=${N[G]})`);const k=`screen${O[T+1].toUpperCase()}Min`;if(!(N[G]<=N[k]))throw new Error(`${G}<=${k} fails : !(${N[G]}<=${N[k]})`)}}),L};function l(){const[,L]=(0,M.dQ)(),N=R(p(L));return f.useMemo(()=>{const O=new Map;let x=-1,T={};return{matchHandlers:{},dispatch(W){return T=W,O.forEach(U=>U(T)),O.size>=1},subscribe(W){return O.size||this.register(),x+=1,O.set(x,W),W(T),x},unsubscribe(W){O.delete(W),O.size||this.unregister()},unregister(){Object.keys(N).forEach(W=>{const U=N[W],K=this.matchHandlers[U];K==null||K.mql.removeListener(K==null?void 0:K.listener)}),O.clear()},register(){Object.keys(N).forEach(W=>{const U=N[W],K=z=>{let{matches:k}=z;this.dispatch(Object.assign(Object.assign({},T),{[W]:k}))},G=window.matchMedia(U);G.addListener(K),this.matchHandlers[U]={mql:G,listener:K},K(G)})},responsiveMap:N}},[L])}var d=i(80293),g=i(2678),n=function(L,N){var O={};for(var x in L)Object.prototype.hasOwnProperty.call(L,x)&&N.indexOf(x)<0&&(O[x]=L[x]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,x=Object.getOwnPropertySymbols(L);T<x.length;T++)N.indexOf(x[T])<0&&Object.prototype.propertyIsEnumerable.call(L,x[T])&&(O[x[T]]=L[x[T]]);return O};const a=null,C=null;function D(L,N){const[O,x]=f.useState(typeof L=="string"?L:""),T=()=>{if(typeof L=="string"&&x(L),typeof L=="object")for(let W=0;W<E.length;W++){const U=E[W];if(!N[U])continue;const K=L[U];if(K!==void 0){x(K);return}}};return f.useEffect(()=>{T()},[JSON.stringify(L),N]),O}var S=f.forwardRef((L,N)=>{const{prefixCls:O,justify:x,align:T,className:W,style:U,children:K,gutter:G=0,wrap:z}=L,k=n(L,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:q,direction:te}=f.useContext(_.E_),[X,j]=f.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[J,Y]=f.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),ee=D(T,J),fe=D(x,J),De=A(),Ne=f.useRef(G),be=l();f.useEffect(()=>{const he=be.subscribe(ce=>{Y(ce);const Ee=Ne.current||0;(!Array.isArray(Ee)&&typeof Ee=="object"||Array.isArray(Ee)&&(typeof Ee[0]=="object"||typeof Ee[1]=="object"))&&j(ce)});return()=>be.unsubscribe(he)},[]);const xe=()=>{const he=[void 0,void 0];return(Array.isArray(G)?G:[G,void 0]).forEach((Ee,We)=>{if(typeof Ee=="object")for(let it=0;it<E.length;it++){const Ze=E[it];if(X[Ze]&&Ee[Ze]!==void 0){he[We]=Ee[Ze];break}}else he[We]=Ee}),he},Le=q("row",O),[ue,re]=(0,g.V)(Le),_e=xe(),Ue=B()(Le,{[`${Le}-no-wrap`]:z===!1,[`${Le}-${fe}`]:fe,[`${Le}-${ee}`]:ee,[`${Le}-rtl`]:te==="rtl"},W,re),Qe={},Re=_e[0]!=null&&_e[0]>0?_e[0]/-2:void 0,ie=_e[1]!=null&&_e[1]>0?_e[1]/-2:void 0;Re&&(Qe.marginLeft=Re,Qe.marginRight=Re),De?[,Qe.rowGap]=_e:ie&&(Qe.marginTop=ie,Qe.marginBottom=ie);const[Z,se]=_e,ve=f.useMemo(()=>({gutter:[Z,se],wrap:z,supportFlexGap:De}),[Z,se,z,De]);return ue(f.createElement(d.Z.Provider,{value:ve},f.createElement("div",Object.assign({},k,{className:Ue,style:Object.assign(Object.assign({},Qe),U),ref:N}),K)))}),w=S},62220:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return x}});var m=i(72779),B=i.n(m);function f(T,W,U){var K=U||{},G=K.noTrailing,z=G===void 0?!1:G,k=K.noLeading,q=k===void 0?!1:k,te=K.debounceMode,X=te===void 0?void 0:te,j,J=!1,Y=0;function ee(){j&&clearTimeout(j)}function fe(Ne){var be=Ne||{},xe=be.upcomingOnly,Le=xe===void 0?!1:xe;ee(),J=!Le}function De(){for(var Ne=arguments.length,be=new Array(Ne),xe=0;xe<Ne;xe++)be[xe]=arguments[xe];var Le=this,ue=Date.now()-Y;if(J)return;function re(){Y=Date.now(),W.apply(Le,be)}function _e(){j=void 0}!q&&X&&!j&&re(),ee(),X===void 0&&ue>T?q?(Y=Date.now(),z||(j=setTimeout(X?_e:re,T))):re():z!==!0&&(j=setTimeout(X?_e:re,X===void 0?T-ue:T))}return De.cancel=fe,De}function _(T,W,U){var K=U||{},G=K.atBegin,z=G===void 0?!1:G;return f(T,W,{debounceMode:z!==!1})}var v=i(94899),A=i(2784),M=i(35298),E=i(29095),R=i(33569),p=i(44875),l=i(23707),d=i(23773);const g=new R.E4("antSpinMove",{to:{opacity:1}}),n=new R.E4("antRotate",{to:{transform:"rotate(405deg)"}}),a=T=>({[`${T.componentCls}`]:Object.assign(Object.assign({},(0,d.Wf)(T)),{position:"absolute",display:"none",color:T.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${T.motionDurationSlow} ${T.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${T.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:T.contentHeight,[`${T.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-T.spinDotSize/2},[`${T.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(T.spinDotSize-T.fontSize)/2+2,textShadow:`0 1px 2px ${T.colorBgContainer}`},[`&${T.componentCls}-show-text ${T.componentCls}-dot`]:{marginTop:-(T.spinDotSize/2)-10},"&-sm":{[`${T.componentCls}-dot`]:{margin:-T.spinDotSizeSM/2},[`${T.componentCls}-text`]:{paddingTop:(T.spinDotSizeSM-T.fontSize)/2+2},[`&${T.componentCls}-show-text ${T.componentCls}-dot`]:{marginTop:-(T.spinDotSizeSM/2)-10}},"&-lg":{[`${T.componentCls}-dot`]:{margin:-(T.spinDotSizeLG/2)},[`${T.componentCls}-text`]:{paddingTop:(T.spinDotSizeLG-T.fontSize)/2+2},[`&${T.componentCls}-show-text ${T.componentCls}-dot`]:{marginTop:-(T.spinDotSizeLG/2)-10}}},[`${T.componentCls}-container`]:{position:"relative",transition:`opacity ${T.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:T.colorBgContainer,opacity:0,transition:`all ${T.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${T.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none",["&::after"]:{opacity:.4,pointerEvents:"auto"}}},["&-tip"]:{color:T.spinDotDefault},[`${T.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:T.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(T.spinDotSize-T.marginXXS/2)/2,height:(T.spinDotSize-T.marginXXS/2)/2,backgroundColor:T.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:g,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:n,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${T.componentCls}-dot`]:{fontSize:T.spinDotSizeSM,i:{width:(T.spinDotSizeSM-T.marginXXS/2)/2,height:(T.spinDotSizeSM-T.marginXXS/2)/2}},[`&-lg ${T.componentCls}-dot`]:{fontSize:T.spinDotSizeLG,i:{width:(T.spinDotSizeLG-T.marginXXS)/2,height:(T.spinDotSizeLG-T.marginXXS)/2}},[`&${T.componentCls}-show-text ${T.componentCls}-text`]:{display:"block"}})});var C=(0,p.Z)("Spin",T=>{const W=(0,l.TS)(T,{spinDotDefault:T.colorTextDescription,spinDotSize:T.controlHeightLG/2,spinDotSizeSM:T.controlHeightLG*.35,spinDotSizeLG:T.controlHeight});return[a(W)]},{contentHeight:400}),D=function(T,W){var U={};for(var K in T)Object.prototype.hasOwnProperty.call(T,K)&&W.indexOf(K)<0&&(U[K]=T[K]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,K=Object.getOwnPropertySymbols(T);G<K.length;G++)W.indexOf(K[G])<0&&Object.prototype.propertyIsEnumerable.call(T,K[G])&&(U[K[G]]=T[K[G]]);return U};const u=null;let S=null;function w(T,W){const{indicator:U}=W,K=`${T}-dot`;return U===null?null:(0,E.l$)(U)?(0,E.Tm)(U,{className:B()(U.props.className,K)}):(0,E.l$)(S)?(0,E.Tm)(S,{className:B()(S.props.className,K)}):A.createElement("span",{className:B()(K,`${T}-dot-spin`)},A.createElement("i",{className:`${T}-dot-item`}),A.createElement("i",{className:`${T}-dot-item`}),A.createElement("i",{className:`${T}-dot-item`}),A.createElement("i",{className:`${T}-dot-item`}))}function L(T,W){return!!T&&!!W&&!isNaN(Number(W))}const N=T=>{const{spinPrefixCls:W,spinning:U=!0,delay:K=0,className:G,rootClassName:z,size:k="default",tip:q,wrapperClassName:te,style:X,children:j,hashId:J}=T,Y=D(T,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[ee,fe]=A.useState(()=>U&&!L(U,K));A.useEffect(()=>{if(U){const re=_(K,()=>{fe(!0)});return re(),()=>{var _e;(_e=re==null?void 0:re.cancel)===null||_e===void 0||_e.call(re)}}fe(!1)},[K,U]);const De=A.useMemo(()=>typeof j!="undefined",[j]),{direction:Ne}=A.useContext(M.E_),be=B()(W,{[`${W}-sm`]:k==="small",[`${W}-lg`]:k==="large",[`${W}-spinning`]:ee,[`${W}-show-text`]:!!q,[`${W}-rtl`]:Ne==="rtl"},G,z,J),xe=B()(`${W}-container`,{[`${W}-blur`]:ee}),Le=(0,v.Z)(Y,["indicator","prefixCls"]),ue=A.createElement("div",Object.assign({},Le,{style:X,className:be,"aria-live":"polite","aria-busy":ee}),w(W,T),q?A.createElement("div",{className:`${W}-text`},q):null);return De?A.createElement("div",Object.assign({},Le,{className:B()(`${W}-nested-loading`,te,J)}),ee&&A.createElement("div",{key:"loading"},ue),A.createElement("div",{className:xe,key:"container"},j)):ue},O=T=>{const{prefixCls:W}=T,{getPrefixCls:U}=A.useContext(M.E_),K=U("spin",W),[G,z]=C(K),k=Object.assign(Object.assign({},T),{spinPrefixCls:K,hashId:z});return G(A.createElement(N,Object.assign({},k)))};O.setDefaultIndicator=T=>{S=T};var x=O},95766:function(Ot,He){"use strict";He.byteLength=M,He.toByteArray=R,He.fromByteArray=d;for(var i=[],m=[],B=typeof Uint8Array!="undefined"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,v=f.length;_<v;++_)i[_]=f[_],m[f.charCodeAt(_)]=_;m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63;function A(g){var n=g.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=g.indexOf("=");a===-1&&(a=n);var C=a===n?0:4-a%4;return[a,C]}function M(g){var n=A(g),a=n[0],C=n[1];return(a+C)*3/4-C}function E(g,n,a){return(n+a)*3/4-a}function R(g){var n,a=A(g),C=a[0],D=a[1],u=new B(E(g,C,D)),S=0,w=D>0?C-4:C,L;for(L=0;L<w;L+=4)n=m[g.charCodeAt(L)]<<18|m[g.charCodeAt(L+1)]<<12|m[g.charCodeAt(L+2)]<<6|m[g.charCodeAt(L+3)],u[S++]=n>>16&255,u[S++]=n>>8&255,u[S++]=n&255;return D===2&&(n=m[g.charCodeAt(L)]<<2|m[g.charCodeAt(L+1)]>>4,u[S++]=n&255),D===1&&(n=m[g.charCodeAt(L)]<<10|m[g.charCodeAt(L+1)]<<4|m[g.charCodeAt(L+2)]>>2,u[S++]=n>>8&255,u[S++]=n&255),u}function p(g){return i[g>>18&63]+i[g>>12&63]+i[g>>6&63]+i[g&63]}function l(g,n,a){for(var C,D=[],u=n;u<a;u+=3)C=(g[u]<<16&16711680)+(g[u+1]<<8&65280)+(g[u+2]&255),D.push(p(C));return D.join("")}function d(g){for(var n,a=g.length,C=a%3,D=[],u=16383,S=0,w=a-C;S<w;S+=u)D.push(l(g,S,S+u>w?w:S+u));return C===1?(n=g[a-1],D.push(i[n>>2]+i[n<<4&63]+"==")):C===2&&(n=(g[a-2]<<8)+g[a-1],D.push(i[n>>10]+i[n>>4&63]+i[n<<2&63]+"=")),D.join("")}},48834:function(Ot,He,i){"use strict";var m;var B=i(95766),f=i(62333),_=i(79192);He.lW=E,m=u,He.h2=50,E.TYPED_ARRAY_SUPPORT=i.g.TYPED_ARRAY_SUPPORT!==void 0?i.g.TYPED_ARRAY_SUPPORT:v(),m=A();function v(){try{var he=new Uint8Array(1);return he.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},he.foo()===42&&typeof he.subarray=="function"&&he.subarray(1,1).byteLength===0}catch(ce){return!1}}function A(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function M(he,ce){if(A()<ce)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(he=new Uint8Array(ce),he.__proto__=E.prototype):(he===null&&(he=new E(ce)),he.length=ce),he}function E(he,ce,Ee){if(!E.TYPED_ARRAY_SUPPORT&&!(this instanceof E))return new E(he,ce,Ee);if(typeof he=="number"){if(typeof ce=="string")throw new Error("If encoding is specified then the first argument must be a string");return d(this,he)}return R(this,he,ce,Ee)}E.poolSize=8192,E._augment=function(he){return he.__proto__=E.prototype,he};function R(he,ce,Ee,We){if(typeof ce=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&ce instanceof ArrayBuffer?a(he,ce,Ee,We):typeof ce=="string"?g(he,ce,Ee):C(he,ce)}E.from=function(he,ce,Ee){return R(null,he,ce,Ee)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,configurable:!0}));function p(he){if(typeof he!="number")throw new TypeError('"size" argument must be a number');if(he<0)throw new RangeError('"size" argument must not be negative')}function l(he,ce,Ee,We){return p(ce),ce<=0?M(he,ce):Ee!==void 0?typeof We=="string"?M(he,ce).fill(Ee,We):M(he,ce).fill(Ee):M(he,ce)}E.alloc=function(he,ce,Ee){return l(null,he,ce,Ee)};function d(he,ce){if(p(ce),he=M(he,ce<0?0:D(ce)|0),!E.TYPED_ARRAY_SUPPORT)for(var Ee=0;Ee<ce;++Ee)he[Ee]=0;return he}E.allocUnsafe=function(he){return d(null,he)},E.allocUnsafeSlow=function(he){return d(null,he)};function g(he,ce,Ee){if((typeof Ee!="string"||Ee==="")&&(Ee="utf8"),!E.isEncoding(Ee))throw new TypeError('"encoding" must be a valid string encoding');var We=S(ce,Ee)|0;he=M(he,We);var it=he.write(ce,Ee);return it!==We&&(he=he.slice(0,it)),he}function n(he,ce){var Ee=ce.length<0?0:D(ce.length)|0;he=M(he,Ee);for(var We=0;We<Ee;We+=1)he[We]=ce[We]&255;return he}function a(he,ce,Ee,We){if(ce.byteLength,Ee<0||ce.byteLength<Ee)throw new RangeError("'offset' is out of bounds");if(ce.byteLength<Ee+(We||0))throw new RangeError("'length' is out of bounds");return Ee===void 0&&We===void 0?ce=new Uint8Array(ce):We===void 0?ce=new Uint8Array(ce,Ee):ce=new Uint8Array(ce,Ee,We),E.TYPED_ARRAY_SUPPORT?(he=ce,he.__proto__=E.prototype):he=n(he,ce),he}function C(he,ce){if(E.isBuffer(ce)){var Ee=D(ce.length)|0;return he=M(he,Ee),he.length===0||ce.copy(he,0,0,Ee),he}if(ce){if(typeof ArrayBuffer!="undefined"&&ce.buffer instanceof ArrayBuffer||"length"in ce)return typeof ce.length!="number"||ve(ce.length)?M(he,0):n(he,ce);if(ce.type==="Buffer"&&_(ce.data))return n(he,ce.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function D(he){if(he>=A())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A().toString(16)+" bytes");return he|0}function u(he){return+he!=he&&(he=0),E.alloc(+he)}E.isBuffer=function(ce){return!!(ce!=null&&ce._isBuffer)},E.compare=function(ce,Ee){if(!E.isBuffer(ce)||!E.isBuffer(Ee))throw new TypeError("Arguments must be Buffers");if(ce===Ee)return 0;for(var We=ce.length,it=Ee.length,Ze=0,je=Math.min(We,it);Ze<je;++Ze)if(ce[Ze]!==Ee[Ze]){We=ce[Ze],it=Ee[Ze];break}return We<it?-1:it<We?1:0},E.isEncoding=function(ce){switch(String(ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(ce,Ee){if(!_(ce))throw new TypeError('"list" argument must be an Array of Buffers');if(ce.length===0)return E.alloc(0);var We;if(Ee===void 0)for(Ee=0,We=0;We<ce.length;++We)Ee+=ce[We].length;var it=E.allocUnsafe(Ee),Ze=0;for(We=0;We<ce.length;++We){var je=ce[We];if(!E.isBuffer(je))throw new TypeError('"list" argument must be an Array of Buffers');je.copy(it,Ze),Ze+=je.length}return it};function S(he,ce){if(E.isBuffer(he))return he.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(he)||he instanceof ArrayBuffer))return he.byteLength;typeof he!="string"&&(he=""+he);var Ee=he.length;if(Ee===0)return 0;for(var We=!1;;)switch(ce){case"ascii":case"latin1":case"binary":return Ee;case"utf8":case"utf-8":case void 0:return Qe(he).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee*2;case"hex":return Ee>>>1;case"base64":return Z(he).length;default:if(We)return Qe(he).length;ce=(""+ce).toLowerCase(),We=!0}}E.byteLength=S;function w(he,ce,Ee){var We=!1;if((ce===void 0||ce<0)&&(ce=0),ce>this.length||((Ee===void 0||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0,ce>>>=0,Ee<=ce))return"";for(he||(he="utf8");;)switch(he){case"hex":return J(this,ce,Ee);case"utf8":case"utf-8":return k(this,ce,Ee);case"ascii":return X(this,ce,Ee);case"latin1":case"binary":return j(this,ce,Ee);case"base64":return z(this,ce,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,ce,Ee);default:if(We)throw new TypeError("Unknown encoding: "+he);he=(he+"").toLowerCase(),We=!0}}E.prototype._isBuffer=!0;function L(he,ce,Ee){var We=he[ce];he[ce]=he[Ee],he[Ee]=We}E.prototype.swap16=function(){var ce=this.length;if(ce%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ee=0;Ee<ce;Ee+=2)L(this,Ee,Ee+1);return this},E.prototype.swap32=function(){var ce=this.length;if(ce%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ee=0;Ee<ce;Ee+=4)L(this,Ee,Ee+3),L(this,Ee+1,Ee+2);return this},E.prototype.swap64=function(){var ce=this.length;if(ce%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ee=0;Ee<ce;Ee+=8)L(this,Ee,Ee+7),L(this,Ee+1,Ee+6),L(this,Ee+2,Ee+5),L(this,Ee+3,Ee+4);return this},E.prototype.toString=function(){var ce=this.length|0;return ce===0?"":arguments.length===0?k(this,0,ce):w.apply(this,arguments)},E.prototype.equals=function(ce){if(!E.isBuffer(ce))throw new TypeError("Argument must be a Buffer");return this===ce?!0:E.compare(this,ce)===0},E.prototype.inspect=function(){var ce="",Ee=He.h2;return this.length>0&&(ce=this.toString("hex",0,Ee).match(/.{2}/g).join(" "),this.length>Ee&&(ce+=" ... ")),"<Buffer "+ce+">"},E.prototype.compare=function(ce,Ee,We,it,Ze){if(!E.isBuffer(ce))throw new TypeError("Argument must be a Buffer");if(Ee===void 0&&(Ee=0),We===void 0&&(We=ce?ce.length:0),it===void 0&&(it=0),Ze===void 0&&(Ze=this.length),Ee<0||We>ce.length||it<0||Ze>this.length)throw new RangeError("out of range index");if(it>=Ze&&Ee>=We)return 0;if(it>=Ze)return-1;if(Ee>=We)return 1;if(Ee>>>=0,We>>>=0,it>>>=0,Ze>>>=0,this===ce)return 0;for(var je=Ze-it,Te=We-Ee,Ie=Math.min(je,Te),oe=this.slice(it,Ze),ge=ce.slice(Ee,We),Ce=0;Ce<Ie;++Ce)if(oe[Ce]!==ge[Ce]){je=oe[Ce],Te=ge[Ce];break}return je<Te?-1:Te<je?1:0};function N(he,ce,Ee,We,it){if(he.length===0)return-1;if(typeof Ee=="string"?(We=Ee,Ee=0):Ee>2147483647?Ee=2147483647:Ee<-2147483648&&(Ee=-2147483648),Ee=+Ee,isNaN(Ee)&&(Ee=it?0:he.length-1),Ee<0&&(Ee=he.length+Ee),Ee>=he.length){if(it)return-1;Ee=he.length-1}else if(Ee<0)if(it)Ee=0;else return-1;if(typeof ce=="string"&&(ce=E.from(ce,We)),E.isBuffer(ce))return ce.length===0?-1:O(he,ce,Ee,We,it);if(typeof ce=="number")return ce=ce&255,E.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?it?Uint8Array.prototype.indexOf.call(he,ce,Ee):Uint8Array.prototype.lastIndexOf.call(he,ce,Ee):O(he,[ce],Ee,We,it);throw new TypeError("val must be string, number or Buffer")}function O(he,ce,Ee,We,it){var Ze=1,je=he.length,Te=ce.length;if(We!==void 0&&(We=String(We).toLowerCase(),We==="ucs2"||We==="ucs-2"||We==="utf16le"||We==="utf-16le")){if(he.length<2||ce.length<2)return-1;Ze=2,je/=2,Te/=2,Ee/=2}function Ie(Me,qe){return Ze===1?Me[qe]:Me.readUInt16BE(qe*Ze)}var oe;if(it){var ge=-1;for(oe=Ee;oe<je;oe++)if(Ie(he,oe)===Ie(ce,ge===-1?0:oe-ge)){if(ge===-1&&(ge=oe),oe-ge+1===Te)return ge*Ze}else ge!==-1&&(oe-=oe-ge),ge=-1}else for(Ee+Te>je&&(Ee=je-Te),oe=Ee;oe>=0;oe--){for(var Ce=!0,me=0;me<Te;me++)if(Ie(he,oe+me)!==Ie(ce,me)){Ce=!1;break}if(Ce)return oe}return-1}E.prototype.includes=function(ce,Ee,We){return this.indexOf(ce,Ee,We)!==-1},E.prototype.indexOf=function(ce,Ee,We){return N(this,ce,Ee,We,!0)},E.prototype.lastIndexOf=function(ce,Ee,We){return N(this,ce,Ee,We,!1)};function x(he,ce,Ee,We){Ee=Number(Ee)||0;var it=he.length-Ee;We?(We=Number(We),We>it&&(We=it)):We=it;var Ze=ce.length;if(Ze%2!==0)throw new TypeError("Invalid hex string");We>Ze/2&&(We=Ze/2);for(var je=0;je<We;++je){var Te=parseInt(ce.substr(je*2,2),16);if(isNaN(Te))return je;he[Ee+je]=Te}return je}function T(he,ce,Ee,We){return se(Qe(ce,he.length-Ee),he,Ee,We)}function W(he,ce,Ee,We){return se(Re(ce),he,Ee,We)}function U(he,ce,Ee,We){return W(he,ce,Ee,We)}function K(he,ce,Ee,We){return se(Z(ce),he,Ee,We)}function G(he,ce,Ee,We){return se(ie(ce,he.length-Ee),he,Ee,We)}E.prototype.write=function(ce,Ee,We,it){if(Ee===void 0)it="utf8",We=this.length,Ee=0;else if(We===void 0&&typeof Ee=="string")it=Ee,We=this.length,Ee=0;else if(isFinite(Ee))Ee=Ee|0,isFinite(We)?(We=We|0,it===void 0&&(it="utf8")):(it=We,We=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ze=this.length-Ee;if((We===void 0||We>Ze)&&(We=Ze),ce.length>0&&(We<0||Ee<0)||Ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");for(var je=!1;;)switch(it){case"hex":return x(this,ce,Ee,We);case"utf8":case"utf-8":return T(this,ce,Ee,We);case"ascii":return W(this,ce,Ee,We);case"latin1":case"binary":return U(this,ce,Ee,We);case"base64":return K(this,ce,Ee,We);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,ce,Ee,We);default:if(je)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),je=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(he,ce,Ee){return ce===0&&Ee===he.length?B.fromByteArray(he):B.fromByteArray(he.slice(ce,Ee))}function k(he,ce,Ee){Ee=Math.min(he.length,Ee);for(var We=[],it=ce;it<Ee;){var Ze=he[it],je=null,Te=Ze>239?4:Ze>223?3:Ze>191?2:1;if(it+Te<=Ee){var Ie,oe,ge,Ce;switch(Te){case 1:Ze<128&&(je=Ze);break;case 2:Ie=he[it+1],(Ie&192)===128&&(Ce=(Ze&31)<<6|Ie&63,Ce>127&&(je=Ce));break;case 3:Ie=he[it+1],oe=he[it+2],(Ie&192)===128&&(oe&192)===128&&(Ce=(Ze&15)<<12|(Ie&63)<<6|oe&63,Ce>2047&&(Ce<55296||Ce>57343)&&(je=Ce));break;case 4:Ie=he[it+1],oe=he[it+2],ge=he[it+3],(Ie&192)===128&&(oe&192)===128&&(ge&192)===128&&(Ce=(Ze&15)<<18|(Ie&63)<<12|(oe&63)<<6|ge&63,Ce>65535&&Ce<1114112&&(je=Ce))}}je===null?(je=65533,Te=1):je>65535&&(je-=65536,We.push(je>>>10&1023|55296),je=56320|je&1023),We.push(je),it+=Te}return te(We)}var q=4096;function te(he){var ce=he.length;if(ce<=q)return String.fromCharCode.apply(String,he);for(var Ee="",We=0;We<ce;)Ee+=String.fromCharCode.apply(String,he.slice(We,We+=q));return Ee}function X(he,ce,Ee){var We="";Ee=Math.min(he.length,Ee);for(var it=ce;it<Ee;++it)We+=String.fromCharCode(he[it]&127);return We}function j(he,ce,Ee){var We="";Ee=Math.min(he.length,Ee);for(var it=ce;it<Ee;++it)We+=String.fromCharCode(he[it]);return We}function J(he,ce,Ee){var We=he.length;(!ce||ce<0)&&(ce=0),(!Ee||Ee<0||Ee>We)&&(Ee=We);for(var it="",Ze=ce;Ze<Ee;++Ze)it+=Ue(he[Ze]);return it}function Y(he,ce,Ee){for(var We=he.slice(ce,Ee),it="",Ze=0;Ze<We.length;Ze+=2)it+=String.fromCharCode(We[Ze]+We[Ze+1]*256);return it}E.prototype.slice=function(ce,Ee){var We=this.length;ce=~~ce,Ee=Ee===void 0?We:~~Ee,ce<0?(ce+=We,ce<0&&(ce=0)):ce>We&&(ce=We),Ee<0?(Ee+=We,Ee<0&&(Ee=0)):Ee>We&&(Ee=We),Ee<ce&&(Ee=ce);var it;if(E.TYPED_ARRAY_SUPPORT)it=this.subarray(ce,Ee),it.__proto__=E.prototype;else{var Ze=Ee-ce;it=new E(Ze,void 0);for(var je=0;je<Ze;++je)it[je]=this[je+ce]}return it};function ee(he,ce,Ee){if(he%1!==0||he<0)throw new RangeError("offset is not uint");if(he+ce>Ee)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUIntLE=function(ce,Ee,We){ce=ce|0,Ee=Ee|0,We||ee(ce,Ee,this.length);for(var it=this[ce],Ze=1,je=0;++je<Ee&&(Ze*=256);)it+=this[ce+je]*Ze;return it},E.prototype.readUIntBE=function(ce,Ee,We){ce=ce|0,Ee=Ee|0,We||ee(ce,Ee,this.length);for(var it=this[ce+--Ee],Ze=1;Ee>0&&(Ze*=256);)it+=this[ce+--Ee]*Ze;return it},E.prototype.readUInt8=function(ce,Ee){return Ee||ee(ce,1,this.length),this[ce]},E.prototype.readUInt16LE=function(ce,Ee){return Ee||ee(ce,2,this.length),this[ce]|this[ce+1]<<8},E.prototype.readUInt16BE=function(ce,Ee){return Ee||ee(ce,2,this.length),this[ce]<<8|this[ce+1]},E.prototype.readUInt32LE=function(ce,Ee){return Ee||ee(ce,4,this.length),(this[ce]|this[ce+1]<<8|this[ce+2]<<16)+this[ce+3]*16777216},E.prototype.readUInt32BE=function(ce,Ee){return Ee||ee(ce,4,this.length),this[ce]*16777216+(this[ce+1]<<16|this[ce+2]<<8|this[ce+3])},E.prototype.readIntLE=function(ce,Ee,We){ce=ce|0,Ee=Ee|0,We||ee(ce,Ee,this.length);for(var it=this[ce],Ze=1,je=0;++je<Ee&&(Ze*=256);)it+=this[ce+je]*Ze;return Ze*=128,it>=Ze&&(it-=Math.pow(2,8*Ee)),it},E.prototype.readIntBE=function(ce,Ee,We){ce=ce|0,Ee=Ee|0,We||ee(ce,Ee,this.length);for(var it=Ee,Ze=1,je=this[ce+--it];it>0&&(Ze*=256);)je+=this[ce+--it]*Ze;return Ze*=128,je>=Ze&&(je-=Math.pow(2,8*Ee)),je},E.prototype.readInt8=function(ce,Ee){return Ee||ee(ce,1,this.length),this[ce]&128?(255-this[ce]+1)*-1:this[ce]},E.prototype.readInt16LE=function(ce,Ee){Ee||ee(ce,2,this.length);var We=this[ce]|this[ce+1]<<8;return We&32768?We|4294901760:We},E.prototype.readInt16BE=function(ce,Ee){Ee||ee(ce,2,this.length);var We=this[ce+1]|this[ce]<<8;return We&32768?We|4294901760:We},E.prototype.readInt32LE=function(ce,Ee){return Ee||ee(ce,4,this.length),this[ce]|this[ce+1]<<8|this[ce+2]<<16|this[ce+3]<<24},E.prototype.readInt32BE=function(ce,Ee){return Ee||ee(ce,4,this.length),this[ce]<<24|this[ce+1]<<16|this[ce+2]<<8|this[ce+3]},E.prototype.readFloatLE=function(ce,Ee){return Ee||ee(ce,4,this.length),f.read(this,ce,!0,23,4)},E.prototype.readFloatBE=function(ce,Ee){return Ee||ee(ce,4,this.length),f.read(this,ce,!1,23,4)},E.prototype.readDoubleLE=function(ce,Ee){return Ee||ee(ce,8,this.length),f.read(this,ce,!0,52,8)},E.prototype.readDoubleBE=function(ce,Ee){return Ee||ee(ce,8,this.length),f.read(this,ce,!1,52,8)};function fe(he,ce,Ee,We,it,Ze){if(!E.isBuffer(he))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce>it||ce<Ze)throw new RangeError('"value" argument is out of bounds');if(Ee+We>he.length)throw new RangeError("Index out of range")}E.prototype.writeUIntLE=function(ce,Ee,We,it){if(ce=+ce,Ee=Ee|0,We=We|0,!it){var Ze=Math.pow(2,8*We)-1;fe(this,ce,Ee,We,Ze,0)}var je=1,Te=0;for(this[Ee]=ce&255;++Te<We&&(je*=256);)this[Ee+Te]=ce/je&255;return Ee+We},E.prototype.writeUIntBE=function(ce,Ee,We,it){if(ce=+ce,Ee=Ee|0,We=We|0,!it){var Ze=Math.pow(2,8*We)-1;fe(this,ce,Ee,We,Ze,0)}var je=We-1,Te=1;for(this[Ee+je]=ce&255;--je>=0&&(Te*=256);)this[Ee+je]=ce/Te&255;return Ee+We},E.prototype.writeUInt8=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,1,255,0),E.TYPED_ARRAY_SUPPORT||(ce=Math.floor(ce)),this[Ee]=ce&255,Ee+1};function De(he,ce,Ee,We){ce<0&&(ce=65535+ce+1);for(var it=0,Ze=Math.min(he.length-Ee,2);it<Ze;++it)he[Ee+it]=(ce&255<<8*(We?it:1-it))>>>(We?it:1-it)*8}E.prototype.writeUInt16LE=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[Ee]=ce&255,this[Ee+1]=ce>>>8):De(this,ce,Ee,!0),Ee+2},E.prototype.writeUInt16BE=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[Ee]=ce>>>8,this[Ee+1]=ce&255):De(this,ce,Ee,!1),Ee+2};function Ne(he,ce,Ee,We){ce<0&&(ce=4294967295+ce+1);for(var it=0,Ze=Math.min(he.length-Ee,4);it<Ze;++it)he[Ee+it]=ce>>>(We?it:3-it)*8&255}E.prototype.writeUInt32LE=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[Ee+3]=ce>>>24,this[Ee+2]=ce>>>16,this[Ee+1]=ce>>>8,this[Ee]=ce&255):Ne(this,ce,Ee,!0),Ee+4},E.prototype.writeUInt32BE=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[Ee]=ce>>>24,this[Ee+1]=ce>>>16,this[Ee+2]=ce>>>8,this[Ee+3]=ce&255):Ne(this,ce,Ee,!1),Ee+4},E.prototype.writeIntLE=function(ce,Ee,We,it){if(ce=+ce,Ee=Ee|0,!it){var Ze=Math.pow(2,8*We-1);fe(this,ce,Ee,We,Ze-1,-Ze)}var je=0,Te=1,Ie=0;for(this[Ee]=ce&255;++je<We&&(Te*=256);)ce<0&&Ie===0&&this[Ee+je-1]!==0&&(Ie=1),this[Ee+je]=(ce/Te>>0)-Ie&255;return Ee+We},E.prototype.writeIntBE=function(ce,Ee,We,it){if(ce=+ce,Ee=Ee|0,!it){var Ze=Math.pow(2,8*We-1);fe(this,ce,Ee,We,Ze-1,-Ze)}var je=We-1,Te=1,Ie=0;for(this[Ee+je]=ce&255;--je>=0&&(Te*=256);)ce<0&&Ie===0&&this[Ee+je+1]!==0&&(Ie=1),this[Ee+je]=(ce/Te>>0)-Ie&255;return Ee+We},E.prototype.writeInt8=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,1,127,-128),E.TYPED_ARRAY_SUPPORT||(ce=Math.floor(ce)),ce<0&&(ce=255+ce+1),this[Ee]=ce&255,Ee+1},E.prototype.writeInt16LE=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[Ee]=ce&255,this[Ee+1]=ce>>>8):De(this,ce,Ee,!0),Ee+2},E.prototype.writeInt16BE=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[Ee]=ce>>>8,this[Ee+1]=ce&255):De(this,ce,Ee,!1),Ee+2},E.prototype.writeInt32LE=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[Ee]=ce&255,this[Ee+1]=ce>>>8,this[Ee+2]=ce>>>16,this[Ee+3]=ce>>>24):Ne(this,ce,Ee,!0),Ee+4},E.prototype.writeInt32BE=function(ce,Ee,We){return ce=+ce,Ee=Ee|0,We||fe(this,ce,Ee,4,2147483647,-2147483648),ce<0&&(ce=4294967295+ce+1),E.TYPED_ARRAY_SUPPORT?(this[Ee]=ce>>>24,this[Ee+1]=ce>>>16,this[Ee+2]=ce>>>8,this[Ee+3]=ce&255):Ne(this,ce,Ee,!1),Ee+4};function be(he,ce,Ee,We,it,Ze){if(Ee+We>he.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("Index out of range")}function xe(he,ce,Ee,We,it){return it||be(he,ce,Ee,4,34028234663852886e22,-34028234663852886e22),f.write(he,ce,Ee,We,23,4),Ee+4}E.prototype.writeFloatLE=function(ce,Ee,We){return xe(this,ce,Ee,!0,We)},E.prototype.writeFloatBE=function(ce,Ee,We){return xe(this,ce,Ee,!1,We)};function Le(he,ce,Ee,We,it){return it||be(he,ce,Ee,8,17976931348623157e292,-17976931348623157e292),f.write(he,ce,Ee,We,52,8),Ee+8}E.prototype.writeDoubleLE=function(ce,Ee,We){return Le(this,ce,Ee,!0,We)},E.prototype.writeDoubleBE=function(ce,Ee,We){return Le(this,ce,Ee,!1,We)},E.prototype.copy=function(ce,Ee,We,it){if(We||(We=0),!it&&it!==0&&(it=this.length),Ee>=ce.length&&(Ee=ce.length),Ee||(Ee=0),it>0&&it<We&&(it=We),it===We||ce.length===0||this.length===0)return 0;if(Ee<0)throw new RangeError("targetStart out of bounds");if(We<0||We>=this.length)throw new RangeError("sourceStart out of bounds");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),ce.length-Ee<it-We&&(it=ce.length-Ee+We);var Ze=it-We,je;if(this===ce&&We<Ee&&Ee<it)for(je=Ze-1;je>=0;--je)ce[je+Ee]=this[je+We];else if(Ze<1e3||!E.TYPED_ARRAY_SUPPORT)for(je=0;je<Ze;++je)ce[je+Ee]=this[je+We];else Uint8Array.prototype.set.call(ce,this.subarray(We,We+Ze),Ee);return Ze},E.prototype.fill=function(ce,Ee,We,it){if(typeof ce=="string"){if(typeof Ee=="string"?(it=Ee,Ee=0,We=this.length):typeof We=="string"&&(it=We,We=this.length),ce.length===1){var Ze=ce.charCodeAt(0);Ze<256&&(ce=Ze)}if(it!==void 0&&typeof it!="string")throw new TypeError("encoding must be a string");if(typeof it=="string"&&!E.isEncoding(it))throw new TypeError("Unknown encoding: "+it)}else typeof ce=="number"&&(ce=ce&255);if(Ee<0||this.length<Ee||this.length<We)throw new RangeError("Out of range index");if(We<=Ee)return this;Ee=Ee>>>0,We=We===void 0?this.length:We>>>0,ce||(ce=0);var je;if(typeof ce=="number")for(je=Ee;je<We;++je)this[je]=ce;else{var Te=E.isBuffer(ce)?ce:Qe(new E(ce,it).toString()),Ie=Te.length;for(je=0;je<We-Ee;++je)this[je+Ee]=Te[je%Ie]}return this};var ue=/[^+\/0-9A-Za-z-_]/g;function re(he){if(he=_e(he).replace(ue,""),he.length<2)return"";for(;he.length%4!==0;)he=he+"=";return he}function _e(he){return he.trim?he.trim():he.replace(/^\s+|\s+$/g,"")}function Ue(he){return he<16?"0"+he.toString(16):he.toString(16)}function Qe(he,ce){ce=ce||1/0;for(var Ee,We=he.length,it=null,Ze=[],je=0;je<We;++je){if(Ee=he.charCodeAt(je),Ee>55295&&Ee<57344){if(!it){if(Ee>56319){(ce-=3)>-1&&Ze.push(239,191,189);continue}else if(je+1===We){(ce-=3)>-1&&Ze.push(239,191,189);continue}it=Ee;continue}if(Ee<56320){(ce-=3)>-1&&Ze.push(239,191,189),it=Ee;continue}Ee=(it-55296<<10|Ee-56320)+65536}else it&&(ce-=3)>-1&&Ze.push(239,191,189);if(it=null,Ee<128){if((ce-=1)<0)break;Ze.push(Ee)}else if(Ee<2048){if((ce-=2)<0)break;Ze.push(Ee>>6|192,Ee&63|128)}else if(Ee<65536){if((ce-=3)<0)break;Ze.push(Ee>>12|224,Ee>>6&63|128,Ee&63|128)}else if(Ee<1114112){if((ce-=4)<0)break;Ze.push(Ee>>18|240,Ee>>12&63|128,Ee>>6&63|128,Ee&63|128)}else throw new Error("Invalid code point")}return Ze}function Re(he){for(var ce=[],Ee=0;Ee<he.length;++Ee)ce.push(he.charCodeAt(Ee)&255);return ce}function ie(he,ce){for(var Ee,We,it,Ze=[],je=0;je<he.length&&!((ce-=2)<0);++je)Ee=he.charCodeAt(je),We=Ee>>8,it=Ee%256,Ze.push(it),Ze.push(We);return Ze}function Z(he){return B.toByteArray(re(he))}function se(he,ce,Ee,We){for(var it=0;it<We&&!(it+Ee>=ce.length||it>=he.length);++it)ce[it+Ee]=he[it];return it}function ve(he){return he!==he}},79192:function(Ot){var He={}.toString;Ot.exports=Array.isArray||function(i){return He.call(i)=="[object Array]"}},62333:function(Ot,He){He.read=function(i,m,B,f,_){var v,A,M=_*8-f-1,E=(1<<M)-1,R=E>>1,p=-7,l=B?_-1:0,d=B?-1:1,g=i[m+l];for(l+=d,v=g&(1<<-p)-1,g>>=-p,p+=M;p>0;v=v*256+i[m+l],l+=d,p-=8);for(A=v&(1<<-p)-1,v>>=-p,p+=f;p>0;A=A*256+i[m+l],l+=d,p-=8);if(v===0)v=1-R;else{if(v===E)return A?NaN:(g?-1:1)*(1/0);A=A+Math.pow(2,f),v=v-R}return(g?-1:1)*A*Math.pow(2,v-f)},He.write=function(i,m,B,f,_,v){var A,M,E,R=v*8-_-1,p=(1<<R)-1,l=p>>1,d=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=f?0:v-1,n=f?1:-1,a=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(M=isNaN(m)?1:0,A=p):(A=Math.floor(Math.log(m)/Math.LN2),m*(E=Math.pow(2,-A))<1&&(A--,E*=2),A+l>=1?m+=d/E:m+=d*Math.pow(2,1-l),m*E>=2&&(A++,E/=2),A+l>=p?(M=0,A=p):A+l>=1?(M=(m*E-1)*Math.pow(2,_),A=A+l):(M=m*Math.pow(2,l-1)*Math.pow(2,_),A=0));_>=8;i[B+g]=M&255,g+=n,M/=256,_-=8);for(A=A<<_|M,R+=_;R>0;i[B+g]=A&255,g+=n,A/=256,R-=8);i[B+g-n]|=a*128}},46342:function(Ot,He,i){self.MonacoEnvironment=function(m){function B(f){return f.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(f,_){var v=i.p,A=(v?B(v)+"/":"")+m[_];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(A)){var M=String(window.location),E=M.substr(0,M.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(A.substring(0,E.length)!==E){/^(\/\/)/.test(A)&&(A=window.location.protocol+A);var R="/*"+_+'*/importScripts("'+A+'");',p=new Blob([R],{type:"application/javascript"});return URL.createObjectURL(p)}}return A}}}({editorWorkerService:"editor.worker.js",json:"json.worker.js"}),i(59110),i(91845),i(78295),i(68076),i(65253),i(75845),i(78788),i(58927),i(40650),i(78845),i(21678),i(39994),i(79389),i(74744),i(57042),i(30233),i(90680),i(27293),i(58579),i(46249),i(60849),i(56993),i(29571),i(55843),i(59227),i(37104),i(5566),i(99006),i(32262),i(4328),i(90266),i(27804),i(29213),i(77352),i(58997),i(33814),i(77723),i(28188),i(44091),i(85809),i(49127),i(47707),i(25778),i(70374),i(22289),i(58988),i(65329),i(28211),i(31046),i(3156),i(22270),i(69542),i(59970),i(87112),i(21664),i(63198),i(94689),i(34928),i(66408),i(61180),Ot.exports=i(29779),i(7481)},71488:function(Ot,He,i){"use strict";i.r(He),i.d(He,{PixelRatio:function(){return E},addMatchMediaChangeListener:function(){return M},getZoomFactor:function(){return R},isAndroid:function(){return D},isChrome:function(){return g},isElectron:function(){return C},isFirefox:function(){return l},isSafari:function(){return n},isStandalone:function(){return S},isWebKit:function(){return d},isWebkitWebView:function(){return a}});var m=i(56709),B=i(38431);class f{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}f.INSTANCE=new f;class _ extends B.JT{constructor(){super(),this._onDidChange=this._register(new m.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(L){var N;(N=this._mediaQueryList)===null||N===void 0||N.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),L&&this._onDidChange.fire()}}class v extends B.JT{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new m.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const L=this._register(new _);this._register(L.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const L=document.createElement("canvas").getContext("2d"),N=window.devicePixelRatio||1,O=L.webkitBackingStorePixelRatio||L.mozBackingStorePixelRatio||L.msBackingStorePixelRatio||L.oBackingStorePixelRatio||L.backingStorePixelRatio||1;return N/O}}class A{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,B.dk)(new v)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function M(w,L){typeof w=="string"&&(w=window.matchMedia(w)),w.addEventListener("change",L)}const E=new A;function R(){return f.INSTANCE.getZoomFactor()}const p=navigator.userAgent,l=p.indexOf("Firefox")>=0,d=p.indexOf("AppleWebKit")>=0,g=p.indexOf("Chrome")>=0,n=!g&&p.indexOf("Safari")>=0,a=!g&&!n&&d,C=p.indexOf("Electron/")>=0,D=p.indexOf("Android")>=0;let u=!1;if(window.matchMedia){const w=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),L=window.matchMedia("(display-mode: fullscreen)");u=w.matches,M(w,({matches:N})=>{u&&L.matches||(u=N)})}function S(){return u}},83092:function(Ot,He,i){"use strict";i.d(He,{D:function(){return f}});var m=i(71488),B=i(11138);const f={clipboard:{writeText:B.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:B.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>B.tY||m.isStandalone()?0:navigator.keyboard||m.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},89181:function(Ot,He,i){"use strict";i.d(He,{g:function(){return B}});var m=i(9161);const B={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:m.v.text}},34441:function(Ot,He,i){"use strict";i.d(He,{$:function(){return oe},$Z:function(){return Ce},Ay:function(){return be},Ce:function(){return it},Cp:function(){return me},D6:function(){return W},Dx:function(){return T},FK:function(){return X},Fx:function(){return ee},GQ:function(){return u},I8:function(){return q},If:function(){return j},OO:function(){return Ne},PO:function(){return l},R3:function(){return We},Re:function(){return Re},Ro:function(){return K},Uh:function(){return Me},Uw:function(){return d},V3:function(){return qe},XT:function(){return Ct},_0:function(){return he},_F:function(){return Pt},_h:function(){return ht},_q:function(){return Mt},cl:function(){return Z},dS:function(){return Le},dp:function(){return z},eg:function(){return Xe},fk:function(){return Ue},go:function(){return Ee},h:function(){return Xt},i:function(){return k},iJ:function(){return ge},jL:function(){return O},jg:function(){return Y},jt:function(){return ot},lI:function(){return N},mc:function(){return Ze},mu:function(){return D},nm:function(){return n},sQ:function(){return bt},tw:function(){return ie},uN:function(){return Qe},uU:function(){return fe},vL:function(){return ve},vY:function(){return xe},w:function(){return te},wY:function(){return ut},wn:function(){return J},xQ:function(){return G},zB:function(){return se}});var m=i(71488),B=i(83092),f=i(6544),_=i(64079),v=i(20996),A=i(56709),M=i(29278),E=i(38431),R=i(5007),p=i(11138);function l(Fe){for(;Fe.firstChild;)Fe.firstChild.remove()}function d(Fe){var et;return(et=Fe==null?void 0:Fe.isConnected)!==null&&et!==void 0?et:!1}class g{constructor(et,pt,It,kt){this._node=et,this._type=pt,this._handler=It,this._options=kt||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function n(Fe,et,pt,It){return new g(Fe,et,pt,It)}function a(Fe){return function(et){return Fe(new _.n(et))}}function C(Fe){return function(et){return Fe(new f.y(et))}}const D=function(et,pt,It,kt){let yt=It;return pt==="click"||pt==="mousedown"?yt=a(It):(pt==="keydown"||pt==="keypress"||pt==="keyup")&&(yt=C(It)),n(et,pt,yt,kt)},u=function(et,pt,It){const kt=a(pt);return w(et,kt,It)},S=function(et,pt,It){const kt=a(pt);return L(et,kt,It)};function w(Fe,et,pt){return n(Fe,p.gn&&B.D.pointerEvents?ie.POINTER_DOWN:ie.MOUSE_DOWN,et,pt)}function L(Fe,et,pt){return n(Fe,platform.isIOS&&BrowserFeatures.pointerEvents?ie.POINTER_UP:ie.MOUSE_UP,et,pt)}let N,O;class x{constructor(et,pt=0){this._runner=et,this.priority=pt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(et){(0,v.dL)(et)}}static sort(et,pt){return pt.priority-et.priority}}(function(){let Fe=[],et=null,pt=!1,It=!1;const kt=()=>{for(pt=!1,et=Fe,Fe=[],It=!0;et.length>0;)et.sort(x.sort),et.shift().execute();It=!1};O=(yt,St=0)=>{const Gt=new x(yt,St);return Fe.push(Gt),pt||(pt=!0,requestAnimationFrame(kt)),Gt},N=(yt,St)=>{if(It){const Gt=new x(yt,St);return et.push(Gt),Gt}else return O(yt,St)}})();function T(Fe){return document.defaultView.getComputedStyle(Fe,null)}function W(Fe){if(Fe!==document.body)return new K(Fe.clientWidth,Fe.clientHeight);if(p.gn&&window.visualViewport)return new K(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new K(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new K(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new K(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class U{static convertToPixels(et,pt){return parseFloat(pt)||0}static getDimension(et,pt,It){const kt=T(et),yt=kt?kt.getPropertyValue(pt):"0";return U.convertToPixels(et,yt)}static getBorderLeftWidth(et){return U.getDimension(et,"border-left-width","borderLeftWidth")}static getBorderRightWidth(et){return U.getDimension(et,"border-right-width","borderRightWidth")}static getBorderTopWidth(et){return U.getDimension(et,"border-top-width","borderTopWidth")}static getBorderBottomWidth(et){return U.getDimension(et,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(et){return U.getDimension(et,"padding-left","paddingLeft")}static getPaddingRight(et){return U.getDimension(et,"padding-right","paddingRight")}static getPaddingTop(et){return U.getDimension(et,"padding-top","paddingTop")}static getPaddingBottom(et){return U.getDimension(et,"padding-bottom","paddingBottom")}static getMarginLeft(et){return U.getDimension(et,"margin-left","marginLeft")}static getMarginTop(et){return U.getDimension(et,"margin-top","marginTop")}static getMarginRight(et){return U.getDimension(et,"margin-right","marginRight")}static getMarginBottom(et){return U.getDimension(et,"margin-bottom","marginBottom")}}class K{constructor(et,pt){this.width=et,this.height=pt}with(et=this.width,pt=this.height){return et!==this.width||pt!==this.height?new K(et,pt):this}static is(et){return typeof et=="object"&&typeof et.height=="number"&&typeof et.width=="number"}static lift(et){return et instanceof K?et:new K(et.width,et.height)}static equals(et,pt){return et===pt?!0:!et||!pt?!1:et.width===pt.width&&et.height===pt.height}}K.None=new K(0,0);function G(Fe){let et=Fe.offsetParent,pt=Fe.offsetTop,It=Fe.offsetLeft;for(;(Fe=Fe.parentNode)!==null&&Fe!==document.body&&Fe!==document.documentElement;){pt-=Fe.scrollTop;const kt=De(Fe)?null:T(Fe);kt&&(It-=kt.direction!=="rtl"?Fe.scrollLeft:-Fe.scrollLeft),Fe===et&&(It+=U.getBorderLeftWidth(Fe),pt+=U.getBorderTopWidth(Fe),pt+=Fe.offsetTop,It+=Fe.offsetLeft,et=Fe.offsetParent)}return{left:It,top:pt}}function z(Fe,et,pt){typeof et=="number"&&(Fe.style.width=`${et}px`),typeof pt=="number"&&(Fe.style.height=`${pt}px`)}function k(Fe){const et=Fe.getBoundingClientRect();return{left:et.left+window.scrollX,top:et.top+window.scrollY,width:et.width,height:et.height}}function q(Fe){let et=Fe,pt=1;do{const It=T(et).zoom;It!=null&&It!=="1"&&(pt*=It),et=et.parentElement}while(et!==null&&et!==document.documentElement);return pt}function te(Fe){const et=U.getMarginLeft(Fe)+U.getMarginRight(Fe);return Fe.offsetWidth+et}function X(Fe){const et=U.getBorderLeftWidth(Fe)+U.getBorderRightWidth(Fe),pt=U.getPaddingLeft(Fe)+U.getPaddingRight(Fe);return Fe.offsetWidth-et-pt}function j(Fe){const et=U.getBorderTopWidth(Fe)+U.getBorderBottomWidth(Fe),pt=U.getPaddingTop(Fe)+U.getPaddingBottom(Fe);return Fe.offsetHeight-et-pt}function J(Fe){const et=U.getMarginTop(Fe)+U.getMarginBottom(Fe);return Fe.offsetHeight+et}function Y(Fe,et){for(;Fe;){if(Fe===et)return!0;Fe=Fe.parentNode}return!1}function ee(Fe,et,pt){for(;Fe&&Fe.nodeType===Fe.ELEMENT_NODE;){if(Fe.classList.contains(et))return Fe;if(pt){if(typeof pt=="string"){if(Fe.classList.contains(pt))return null}else if(Fe===pt)return null}Fe=Fe.parentNode}return null}function fe(Fe,et,pt){return!!ee(Fe,et,pt)}function De(Fe){return Fe&&!!Fe.host&&!!Fe.mode}function Ne(Fe){return!!be(Fe)}function be(Fe){for(;Fe.parentNode;){if(Fe===document.body)return null;Fe=Fe.parentNode}return De(Fe)?Fe:null}function xe(){let Fe=document.activeElement;for(;Fe!=null&&Fe.shadowRoot;)Fe=Fe.shadowRoot.activeElement;return Fe}function Le(Fe=document.getElementsByTagName("head")[0],et){const pt=document.createElement("style");return pt.type="text/css",pt.media="screen",et==null||et(pt),Fe.appendChild(pt),pt}let ue=null;function re(){return ue||(ue=Le()),ue}function _e(Fe){var et,pt;return!((et=Fe==null?void 0:Fe.sheet)===null||et===void 0)&&et.rules?Fe.sheet.rules:!((pt=Fe==null?void 0:Fe.sheet)===null||pt===void 0)&&pt.cssRules?Fe.sheet.cssRules:[]}function Ue(Fe,et,pt=re()){!pt||!et||pt.sheet.insertRule(Fe+"{"+et+"}",0)}function Qe(Fe,et=re()){if(!et)return;const pt=_e(et),It=[];for(let kt=0;kt<pt.length;kt++)pt[kt].selectorText.indexOf(Fe)!==-1&&It.push(kt);for(let kt=It.length-1;kt>=0;kt--)et.sheet.deleteRule(It[kt])}function Re(Fe){return typeof HTMLElement=="object"?Fe instanceof HTMLElement:Fe&&typeof Fe=="object"&&Fe.nodeType===1&&typeof Fe.nodeName=="string"}const ie={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:m.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:m.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:m.isWebKit?"webkitAnimationIteration":"animationiteration"};function Z(Fe){const et=Fe;return!!(et&&typeof et.preventDefault=="function"&&typeof et.stopPropagation=="function")}const se={stop:(Fe,et)=>(Fe.preventDefault(),et&&Fe.stopPropagation(),Fe)};function ve(Fe){const et=[];for(let pt=0;Fe&&Fe.nodeType===Fe.ELEMENT_NODE;pt++)et[pt]=Fe.scrollTop,Fe=Fe.parentNode;return et}function he(Fe,et){for(let pt=0;Fe&&Fe.nodeType===Fe.ELEMENT_NODE;pt++)Fe.scrollTop!==et[pt]&&(Fe.scrollTop=et[pt]),Fe=Fe.parentNode}class ce extends E.JT{static hasFocusWithin(et){const pt=be(et),It=pt?pt.activeElement:document.activeElement;return Y(It,et)}constructor(et){super(),this._onDidFocus=this._register(new A.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new A.Q5),this.onDidBlur=this._onDidBlur.event;let pt=ce.hasFocusWithin(et),It=!1;const kt=()=>{It=!1,pt||(pt=!0,this._onDidFocus.fire())},yt=()=>{pt&&(It=!0,window.setTimeout(()=>{It&&(It=!1,pt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ce.hasFocusWithin(et)!==pt&&(pt?yt():kt())},this._register(n(et,ie.FOCUS,kt,!0)),this._register(n(et,ie.BLUR,yt,!0)),this._register(n(et,ie.FOCUS_IN,()=>this._refreshStateHandler())),this._register(n(et,ie.FOCUS_OUT,()=>this._refreshStateHandler()))}}function Ee(Fe){return new ce(Fe)}function We(Fe,...et){if(Fe.append(...et),et.length===1&&typeof et[0]!="string")return et[0]}function it(Fe,et){return Fe.insertBefore(et,Fe.firstChild),et}function Ze(Fe,...et){Fe.innerText="",We(Fe,...et)}const je=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Te;(function(Fe){Fe.HTML="http://www.w3.org/1999/xhtml",Fe.SVG="http://www.w3.org/2000/svg"})(Te||(Te={}));function Ie(Fe,et,pt,...It){const kt=je.exec(et);if(!kt)throw new Error("Bad use of emmet");const yt=kt[1]||"div";let St;return Fe!==Te.HTML?St=document.createElementNS(Fe,yt):St=document.createElement(yt),kt[3]&&(St.id=kt[3]),kt[4]&&(St.className=kt[4].replace(/\./g," ").trim()),pt&&Object.entries(pt).forEach(([Gt,ti])=>{typeof ti!="undefined"&&(/^on\w+$/.test(Gt)?St[Gt]=ti:Gt==="selected"?ti&&St.setAttribute(Gt,"true"):St.setAttribute(Gt,ti))}),St.append(...It),St}function oe(Fe,et,...pt){return Ie(Te.HTML,Fe,et,...pt)}oe.SVG=function(Fe,et,...pt){return Ie(Te.SVG,Fe,et,...pt)};function ge(Fe,...et){Fe?Ce(...et):me(...et)}function Ce(...Fe){for(const et of Fe)et.style.display="",et.removeAttribute("aria-hidden")}function me(...Fe){for(const et of Fe)et.style.display="none",et.setAttribute("aria-hidden","true")}function Me(Fe){const et=window.devicePixelRatio*Fe;return Math.max(1,Math.floor(et))/window.devicePixelRatio}function qe(Fe){window.open(Fe,"_blank","noopener")}function ot(Fe){const et=()=>{Fe(),pt=O(et)};let pt=O(et);return(0,E.OF)(()=>pt.dispose())}R.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function ut(Fe){return Fe?`url('${R.Gi.uriToBrowserUri(Fe).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function ht(Fe){return`'${Fe.replace(/'/g,"%27")}'`}function Ct(Fe,et){if(Fe!==void 0){const pt=Fe.match(/^\s*var\((.+)\)$/);if(pt){const It=pt[1].split(",",2);return It.length===2&&(et=Ct(It[1].trim(),et)),`var(${It[0]}, ${et})`}return Fe}return et}function Pt(Fe,et=!1){const pt=document.createElement("a");return M.v5("afterSanitizeAttributes",It=>{for(const kt of["href","src"])if(It.hasAttribute(kt)){const yt=It.getAttribute(kt);if(kt==="href"&&yt.startsWith("#"))continue;if(pt.href=yt,!Fe.includes(pt.protocol.replace(/:$/,""))){if(et&&kt==="src"&&pt.href.startsWith("data:"))continue;It.removeAttribute(kt)}}}),(0,E.OF)(()=>{M.ok("afterSanitizeAttributes")})}const bt=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),$t=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Mt extends A.Q5{constructor(){super(),this._subscriptions=new E.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(n(window,"keydown",et=>{if(et.defaultPrevented)return;const pt=new f.y(et);if(!(pt.keyCode===6&&et.repeat)){if(et.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(et.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(et.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(et.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(pt.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=et.altKey,this._keyStatus.ctrlKey=et.ctrlKey,this._keyStatus.metaKey=et.metaKey,this._keyStatus.shiftKey=et.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=et,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(n(window,"keyup",et=>{et.defaultPrevented||(!et.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!et.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!et.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!et.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=et.altKey,this._keyStatus.ctrlKey=et.ctrlKey,this._keyStatus.metaKey=et.metaKey,this._keyStatus.shiftKey=et.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=et,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(n(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mousemove",et=>{et.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(n(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Mt.instance||(Mt.instance=new Mt),Mt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Xe extends E.JT{constructor(et,pt){super(),this.element=et,this.callbacks=pt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(n(this.element,ie.DRAG_ENTER,et=>{this.counter++,this.dragStartTime=et.timeStamp,this.callbacks.onDragEnter(et)})),this._register(n(this.element,ie.DRAG_OVER,et=>{var pt,It;et.preventDefault(),(It=(pt=this.callbacks).onDragOver)===null||It===void 0||It.call(pt,et,et.timeStamp-this.dragStartTime)})),this._register(n(this.element,ie.DRAG_LEAVE,et=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(et))})),this._register(n(this.element,ie.DRAG_END,et=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(et)})),this._register(n(this.element,ie.DROP,et=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(et)}))}}const Lt=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function Xt(Fe,...et){let pt,It;Array.isArray(et[0])?(pt={},It=et[0]):(pt=et[0]||{},It=et[1]);const kt=Lt.exec(Fe);if(!kt||!kt.groups)throw new Error("Bad use of h");const yt=kt.groups.tag||"div",St=document.createElement(yt);kt.groups.id&&(St.id=kt.groups.id);const Gt=[];if(kt.groups.class)for(const ri of kt.groups.class.split("."))ri!==""&&Gt.push(ri);if(pt.className!==void 0)for(const ri of pt.className.split("."))ri!==""&&Gt.push(ri);Gt.length>0&&(St.className=Gt.join(" "));const ti={};if(kt.groups.name&&(ti[kt.groups.name]=St),It)for(const ri of It)ri instanceof HTMLElement?St.appendChild(ri):typeof ri=="string"?St.append(ri):(Object.assign(ti,ri),St.appendChild(ri.root));for(const[ri,li]of Object.entries(pt))if(ri!=="className")if(ri==="style")for(const[gi,Pi]of Object.entries(li))St.style.setProperty(zt(gi),typeof Pi=="number"?Pi+"px":""+Pi);else ri==="tabIndex"?St.tabIndex=li:St.setAttribute(zt(ri),li.toString());return ti.root=St,ti}function zt(Fe){return Fe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},29278:function(Ot,He,i){"use strict";i.d(He,{Nw:function(){return he},ok:function(){return Ze},v5:function(){return it}});function m(Ie){if(Array.isArray(Ie)){for(var oe=0,ge=Array(Ie.length);oe<Ie.length;oe++)ge[oe]=Ie[oe];return ge}else return Array.from(Ie)}var B=Object.hasOwnProperty,f=Object.setPrototypeOf,_=Object.isFrozen,v=Object.getPrototypeOf,A=Object.getOwnPropertyDescriptor,M=Object.freeze,E=Object.seal,R=Object.create,p=typeof Reflect!="undefined"&&Reflect,l=p.apply,d=p.construct;l||(l=function(oe,ge,Ce){return oe.apply(ge,Ce)}),M||(M=function(oe){return oe}),E||(E=function(oe){return oe}),d||(d=function(oe,ge){return new(Function.prototype.bind.apply(oe,[null].concat(m(ge))))});var g=O(Array.prototype.forEach),n=O(Array.prototype.pop),a=O(Array.prototype.push),C=O(String.prototype.toLowerCase),D=O(String.prototype.match),u=O(String.prototype.replace),S=O(String.prototype.indexOf),w=O(String.prototype.trim),L=O(RegExp.prototype.test),N=x(TypeError);function O(Ie){return function(oe){for(var ge=arguments.length,Ce=Array(ge>1?ge-1:0),me=1;me<ge;me++)Ce[me-1]=arguments[me];return l(Ie,oe,Ce)}}function x(Ie){return function(){for(var oe=arguments.length,ge=Array(oe),Ce=0;Ce<oe;Ce++)ge[Ce]=arguments[Ce];return d(Ie,ge)}}function T(Ie,oe){f&&f(Ie,null);for(var ge=oe.length;ge--;){var Ce=oe[ge];if(typeof Ce=="string"){var me=C(Ce);me!==Ce&&(_(oe)||(oe[ge]=me),Ce=me)}Ie[Ce]=!0}return Ie}function W(Ie){var oe=R(null),ge=void 0;for(ge in Ie)l(B,Ie,[ge])&&(oe[ge]=Ie[ge]);return oe}function U(Ie,oe){for(;Ie!==null;){var ge=A(Ie,oe);if(ge){if(ge.get)return O(ge.get);if(typeof ge.value=="function")return O(ge.value)}Ie=v(Ie)}function Ce(me){return console.warn("fallback value for",me),null}return Ce}var K=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),G=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k=M(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),q=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),te=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),X=M(["#text"]),j=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),J=M(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ee=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fe=E(/\{\{[\s\S]*|[\s\S]*\}\}/gm),De=E(/<%[\s\S]*|[\s\S]*%>/gm),Ne=E(/^data-[\-\w.\u00B7-\uFFFF]/),be=E(/^aria-[\-\w]+$/),xe=E(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Le=E(/^(?:\w+script|data):/i),ue=E(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie};function _e(Ie){if(Array.isArray(Ie)){for(var oe=0,ge=Array(Ie.length);oe<Ie.length;oe++)ge[oe]=Ie[oe];return ge}else return Array.from(Ie)}var Ue=function(){return typeof window=="undefined"?null:window},Qe=function(oe,ge){if((typeof oe=="undefined"?"undefined":re(oe))!=="object"||typeof oe.createPolicy!="function")return null;var Ce=null,me="data-tt-policy-suffix";ge.currentScript&&ge.currentScript.hasAttribute(me)&&(Ce=ge.currentScript.getAttribute(me));var Me="dompurify"+(Ce?"#"+Ce:"");try{return oe.createPolicy(Me,{createHTML:function(ot){return ot}})}catch(qe){return console.warn("TrustedTypes policy "+Me+" could not be created."),null}};function Re(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ue(),oe=function(Ci){return Re(Ci)};if(oe.version="2.3.1",oe.removed=[],!Ie||!Ie.document||Ie.document.nodeType!==9)return oe.isSupported=!1,oe;var ge=Ie.document,Ce=Ie.document,me=Ie.DocumentFragment,Me=Ie.HTMLTemplateElement,qe=Ie.Node,ot=Ie.Element,ut=Ie.NodeFilter,ht=Ie.NamedNodeMap,Ct=ht===void 0?Ie.NamedNodeMap||Ie.MozNamedAttrMap:ht,Pt=Ie.Text,bt=Ie.Comment,$t=Ie.DOMParser,Mt=Ie.trustedTypes,Xe=ot.prototype,Lt=U(Xe,"cloneNode"),Xt=U(Xe,"nextSibling"),zt=U(Xe,"childNodes"),Fe=U(Xe,"parentNode");if(typeof Me=="function"){var et=Ce.createElement("template");et.content&&et.content.ownerDocument&&(Ce=et.content.ownerDocument)}var pt=Qe(Mt,ge),It=pt&&In?pt.createHTML(""):"",kt=Ce,yt=kt.implementation,St=kt.createNodeIterator,Gt=kt.createDocumentFragment,ti=kt.getElementsByTagName,ri=ge.importNode,li={};try{li=W(Ce).documentMode?Ce.documentMode:{}}catch(Fn){}var gi={};oe.isSupported=typeof Fe=="function"&&yt&&typeof yt.createHTMLDocument!="undefined"&&li!==9;var Pi=fe,Hi=De,ji=Ne,bn=be,Rn=Le,bs=ue,ms=xe,ki=null,Vi=T({},[].concat(_e(K),_e(G),_e(z),_e(q),_e(X))),Ki=null,es=T({},[].concat(_e(j),_e(J),_e(Y),_e(ee))),Ls=null,ts=null,Kn=!0,Wn=!0,yn=!1,en=!1,Ms=!1,Ss=!1,ps=!1,oo=!1,hs=!1,Ts=!0,In=!1,Yn=!0,pi=!0,ci=!1,ui={},wt=null,mt=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Oe=null,le=T({},["audio","video","img","source","image","track"]),Be=null,Ke=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",ze="http://www.w3.org/1999/xhtml",lt=ze,Rt=!1,Bt=null,At=Ce.createElement("form"),ii=function(Ci){Bt&&Bt===Ci||((!Ci||(typeof Ci=="undefined"?"undefined":re(Ci))!=="object")&&(Ci={}),Ci=W(Ci),ki="ALLOWED_TAGS"in Ci?T({},Ci.ALLOWED_TAGS):Vi,Ki="ALLOWED_ATTR"in Ci?T({},Ci.ALLOWED_ATTR):es,Be="ADD_URI_SAFE_ATTR"in Ci?T(W(Ke),Ci.ADD_URI_SAFE_ATTR):Ke,Oe="ADD_DATA_URI_TAGS"in Ci?T(W(le),Ci.ADD_DATA_URI_TAGS):le,wt="FORBID_CONTENTS"in Ci?T({},Ci.FORBID_CONTENTS):mt,Ls="FORBID_TAGS"in Ci?T({},Ci.FORBID_TAGS):{},ts="FORBID_ATTR"in Ci?T({},Ci.FORBID_ATTR):{},ui="USE_PROFILES"in Ci?Ci.USE_PROFILES:!1,Kn=Ci.ALLOW_ARIA_ATTR!==!1,Wn=Ci.ALLOW_DATA_ATTR!==!1,yn=Ci.ALLOW_UNKNOWN_PROTOCOLS||!1,en=Ci.SAFE_FOR_TEMPLATES||!1,Ms=Ci.WHOLE_DOCUMENT||!1,oo=Ci.RETURN_DOM||!1,hs=Ci.RETURN_DOM_FRAGMENT||!1,Ts=Ci.RETURN_DOM_IMPORT!==!1,In=Ci.RETURN_TRUSTED_TYPE||!1,ps=Ci.FORCE_BODY||!1,Yn=Ci.SANITIZE_DOM!==!1,pi=Ci.KEEP_CONTENT!==!1,ci=Ci.IN_PLACE||!1,ms=Ci.ALLOWED_URI_REGEXP||ms,lt=Ci.NAMESPACE||ze,en&&(Wn=!1),hs&&(oo=!0),ui&&(ki=T({},[].concat(_e(X))),Ki=[],ui.html===!0&&(T(ki,K),T(Ki,j)),ui.svg===!0&&(T(ki,G),T(Ki,J),T(Ki,ee)),ui.svgFilters===!0&&(T(ki,z),T(Ki,J),T(Ki,ee)),ui.mathMl===!0&&(T(ki,q),T(Ki,Y),T(Ki,ee))),Ci.ADD_TAGS&&(ki===Vi&&(ki=W(ki)),T(ki,Ci.ADD_TAGS)),Ci.ADD_ATTR&&(Ki===es&&(Ki=W(Ki)),T(Ki,Ci.ADD_ATTR)),Ci.ADD_URI_SAFE_ATTR&&T(Be,Ci.ADD_URI_SAFE_ATTR),Ci.FORBID_CONTENTS&&(wt===mt&&(wt=W(wt)),T(wt,Ci.FORBID_CONTENTS)),pi&&(ki["#text"]=!0),Ms&&T(ki,["html","head","body"]),ki.table&&(T(ki,["tbody"]),delete Ls.tbody),M&&M(Ci),Bt=Ci)},vi=T({},["mi","mo","mn","ms","mtext"]),yi=T({},["foreignobject","desc","title","annotation-xml"]),hi=T({},G);T(hi,z),T(hi,k);var Si=T({},q);T(Si,te);var Oi=function(Ci){var Xi=Fe(Ci);(!Xi||!Xi.tagName)&&(Xi={namespaceURI:ze,tagName:"template"});var tn=C(Ci.tagName),us=C(Xi.tagName);if(Ci.namespaceURI===ye)return Xi.namespaceURI===ze?tn==="svg":Xi.namespaceURI===Ge?tn==="svg"&&(us==="annotation-xml"||vi[us]):Boolean(hi[tn]);if(Ci.namespaceURI===Ge)return Xi.namespaceURI===ze?tn==="math":Xi.namespaceURI===ye?tn==="math"&&yi[us]:Boolean(Si[tn]);if(Ci.namespaceURI===ze){if(Xi.namespaceURI===ye&&!yi[us]||Xi.namespaceURI===Ge&&!vi[us])return!1;var Wt=T({},["title","style","font","a","script"]);return!Si[tn]&&(Wt[tn]||!hi[tn])}return!1},Ai=function(Ci){a(oe.removed,{element:Ci});try{Ci.parentNode.removeChild(Ci)}catch(Xi){try{Ci.outerHTML=It}catch(tn){Ci.remove()}}},Zi=function(Ci,Xi){try{a(oe.removed,{attribute:Xi.getAttributeNode(Ci),from:Xi})}catch(tn){a(oe.removed,{attribute:null,from:Xi})}if(Xi.removeAttribute(Ci),Ci==="is"&&!Ki[Ci])if(oo||hs)try{Ai(Xi)}catch(tn){}else try{Xi.setAttribute(Ci,"")}catch(tn){}},pn=function(Ci){var Xi=void 0,tn=void 0;if(ps)Ci="<remove></remove>"+Ci;else{var us=D(Ci,/^[\r\n\t ]+/);tn=us&&us[0]}var Wt=pt?pt.createHTML(Ci):Ci;if(lt===ze)try{Xi=new $t().parseFromString(Wt,"text/html")}catch(Yt){}if(!Xi||!Xi.documentElement){Xi=yt.createDocument(lt,"template",null);try{Xi.documentElement.innerHTML=Rt?"":Wt}catch(Yt){}}var Zt=Xi.body||Xi.documentElement;return Ci&&tn&&Zt.insertBefore(Ce.createTextNode(tn),Zt.childNodes[0]||null),lt===ze?ti.call(Xi,Ms?"html":"body")[0]:Ms?Xi.documentElement:Zt},Pn=function(Ci){return St.call(Ci.ownerDocument||Ci,Ci,ut.SHOW_ELEMENT|ut.SHOW_COMMENT|ut.SHOW_TEXT,null,!1)},cs=function(Ci){return Ci instanceof Pt||Ci instanceof bt?!1:typeof Ci.nodeName!="string"||typeof Ci.textContent!="string"||typeof Ci.removeChild!="function"||!(Ci.attributes instanceof Ct)||typeof Ci.removeAttribute!="function"||typeof Ci.setAttribute!="function"||typeof Ci.namespaceURI!="string"||typeof Ci.insertBefore!="function"},ds=function(Ci){return(typeof qe=="undefined"?"undefined":re(qe))==="object"?Ci instanceof qe:Ci&&(typeof Ci=="undefined"?"undefined":re(Ci))==="object"&&typeof Ci.nodeType=="number"&&typeof Ci.nodeName=="string"},Es=function(Ci,Xi,tn){gi[Ci]&&g(gi[Ci],function(us){us.call(oe,Xi,tn,Bt)})},ro=function(Ci){var Xi=void 0;if(Es("beforeSanitizeElements",Ci,null),cs(Ci)||D(Ci.nodeName,/[\u0080-\uFFFF]/))return Ai(Ci),!0;var tn=C(Ci.nodeName);if(Es("uponSanitizeElement",Ci,{tagName:tn,allowedTags:ki}),!ds(Ci.firstElementChild)&&(!ds(Ci.content)||!ds(Ci.content.firstElementChild))&&L(/<[/\w]/g,Ci.innerHTML)&&L(/<[/\w]/g,Ci.textContent)||tn==="select"&&L(/<template/i,Ci.innerHTML))return Ai(Ci),!0;if(!ki[tn]||Ls[tn]){if(pi&&!wt[tn]){var us=Fe(Ci)||Ci.parentNode,Wt=zt(Ci)||Ci.childNodes;if(Wt&&us)for(var Zt=Wt.length,Yt=Zt-1;Yt>=0;--Yt)us.insertBefore(Lt(Wt[Yt],!0),Xt(Ci))}return Ai(Ci),!0}return Ci instanceof ot&&!Oi(Ci)||(tn==="noscript"||tn==="noembed")&&L(/<\/no(script|embed)/i,Ci.innerHTML)?(Ai(Ci),!0):(en&&Ci.nodeType===3&&(Xi=Ci.textContent,Xi=u(Xi,Pi," "),Xi=u(Xi,Hi," "),Ci.textContent!==Xi&&(a(oe.removed,{element:Ci.cloneNode()}),Ci.textContent=Xi)),Es("afterSanitizeElements",Ci,null),!1)},Gs=function(Ci,Xi,tn){if(Yn&&(Xi==="id"||Xi==="name")&&(tn in Ce||tn in At))return!1;if(!(Wn&&!ts[Xi]&&L(ji,Xi))){if(!(Kn&&L(bn,Xi))){if(!Ki[Xi]||ts[Xi])return!1;if(!Be[Xi]){if(!L(ms,u(tn,bs,""))){if(!((Xi==="src"||Xi==="xlink:href"||Xi==="href")&&Ci!=="script"&&S(tn,"data:")===0&&Oe[Ci])){if(!(yn&&!L(Rn,u(tn,bs,"")))){if(tn)return!1}}}}}}return!0},Ws=function(Ci){var Xi=void 0,tn=void 0,us=void 0,Wt=void 0;Es("beforeSanitizeAttributes",Ci,null);var Zt=Ci.attributes;if(Zt){var Yt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ki};for(Wt=Zt.length;Wt--;){Xi=Zt[Wt];var oi=Xi,mi=oi.name,Fi=oi.namespaceURI;if(tn=w(Xi.value),us=C(mi),Yt.attrName=us,Yt.attrValue=tn,Yt.keepAttr=!0,Yt.forceKeepAttr=void 0,Es("uponSanitizeAttribute",Ci,Yt),tn=Yt.attrValue,!Yt.forceKeepAttr&&(Zi(mi,Ci),!!Yt.keepAttr)){if(L(/\/>/i,tn)){Zi(mi,Ci);continue}en&&(tn=u(tn,Pi," "),tn=u(tn,Hi," "));var Di=Ci.nodeName.toLowerCase();if(Gs(Di,us,tn))try{Fi?Ci.setAttributeNS(Fi,mi,tn):Ci.setAttribute(mi,tn),n(oe.removed)}catch(Ji){}}}Es("afterSanitizeAttributes",Ci,null)}},Hr=function Fn(Ci){var Xi=void 0,tn=Pn(Ci);for(Es("beforeSanitizeShadowDOM",Ci,null);Xi=tn.nextNode();)Es("uponSanitizeShadowNode",Xi,null),!ro(Xi)&&(Xi.content instanceof me&&Fn(Xi.content),Ws(Xi));Es("afterSanitizeShadowDOM",Ci,null)};return oe.sanitize=function(Fn,Ci){var Xi=void 0,tn=void 0,us=void 0,Wt=void 0,Zt=void 0;if(Rt=!Fn,Rt&&(Fn="<!-->"),typeof Fn!="string"&&!ds(Fn)){if(typeof Fn.toString!="function")throw N("toString is not a function");if(Fn=Fn.toString(),typeof Fn!="string")throw N("dirty is not a string, aborting")}if(!oe.isSupported){if(re(Ie.toStaticHTML)==="object"||typeof Ie.toStaticHTML=="function"){if(typeof Fn=="string")return Ie.toStaticHTML(Fn);if(ds(Fn))return Ie.toStaticHTML(Fn.outerHTML)}return Fn}if(Ss||ii(Ci),oe.removed=[],typeof Fn=="string"&&(ci=!1),!ci)if(Fn instanceof qe)Xi=pn("<!---->"),tn=Xi.ownerDocument.importNode(Fn,!0),tn.nodeType===1&&tn.nodeName==="BODY"||tn.nodeName==="HTML"?Xi=tn:Xi.appendChild(tn);else{if(!oo&&!en&&!Ms&&Fn.indexOf("<")===-1)return pt&&In?pt.createHTML(Fn):Fn;if(Xi=pn(Fn),!Xi)return oo?null:It}Xi&&ps&&Ai(Xi.firstChild);for(var Yt=Pn(ci?Fn:Xi);us=Yt.nextNode();)us.nodeType===3&&us===Wt||ro(us)||(us.content instanceof me&&Hr(us.content),Ws(us),Wt=us);if(Wt=null,ci)return Fn;if(oo){if(hs)for(Zt=Gt.call(Xi.ownerDocument);Xi.firstChild;)Zt.appendChild(Xi.firstChild);else Zt=Xi;return Ts&&(Zt=ri.call(ge,Zt,!0)),Zt}var oi=Ms?Xi.outerHTML:Xi.innerHTML;return en&&(oi=u(oi,Pi," "),oi=u(oi,Hi," ")),pt&&In?pt.createHTML(oi):oi},oe.setConfig=function(Fn){ii(Fn),Ss=!0},oe.clearConfig=function(){Bt=null,Ss=!1},oe.isValidAttribute=function(Fn,Ci,Xi){Bt||ii({});var tn=C(Fn),us=C(Ci);return Gs(tn,us,Xi)},oe.addHook=function(Fn,Ci){typeof Ci=="function"&&(gi[Fn]=gi[Fn]||[],a(gi[Fn],Ci))},oe.removeHook=function(Fn){gi[Fn]&&n(gi[Fn])},oe.removeHooks=function(Fn){gi[Fn]&&(gi[Fn]=[])},oe.removeAllHooks=function(){gi={}},oe}var ie=Re(),Z=null;const se=ie.version,ve=ie.isSupported,he=ie.sanitize,ce=ie.setConfig,Ee=ie.clearConfig,We=ie.isValidAttribute,it=ie.addHook,Ze=ie.removeHook,je=ie.removeHooks,Te=ie.removeAllHooks},54505:function(Ot,He,i){"use strict";i.d(He,{Y:function(){return B}});var m=i(56709);class B{get event(){return this.emitter.event}constructor(_,v,A){const M=E=>this.emitter.fire(E);this.emitter=new m.Q5({onWillAddFirstListener:()=>_.addEventListener(v,M,A),onDidRemoveLastListener:()=>_.removeEventListener(v,M,A)})}dispose(){this.emitter.dispose()}}},34733:function(Ot,He,i){"use strict";i.d(He,{X:function(){return f},Z:function(){return m}});class m{constructor(v){this.domNode=v,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(v){const A=B(v);this._maxWidth!==A&&(this._maxWidth=A,this.domNode.style.maxWidth=this._maxWidth)}setWidth(v){const A=B(v);this._width!==A&&(this._width=A,this.domNode.style.width=this._width)}setHeight(v){const A=B(v);this._height!==A&&(this._height=A,this.domNode.style.height=this._height)}setTop(v){const A=B(v);this._top!==A&&(this._top=A,this.domNode.style.top=this._top)}setLeft(v){const A=B(v);this._left!==A&&(this._left=A,this.domNode.style.left=this._left)}setBottom(v){const A=B(v);this._bottom!==A&&(this._bottom=A,this.domNode.style.bottom=this._bottom)}setRight(v){const A=B(v);this._right!==A&&(this._right=A,this.domNode.style.right=this._right)}setPaddingLeft(v){const A=B(v);this._paddingLeft!==A&&(this._paddingLeft=A,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(v){this._fontFamily!==v&&(this._fontFamily=v,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(v){this._fontWeight!==v&&(this._fontWeight=v,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(v){const A=B(v);this._fontSize!==A&&(this._fontSize=A,this.domNode.style.fontSize=this._fontSize)}setFontStyle(v){this._fontStyle!==v&&(this._fontStyle=v,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(v){this._fontFeatureSettings!==v&&(this._fontFeatureSettings=v,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(v){this._fontVariationSettings!==v&&(this._fontVariationSettings=v,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(v){this._textDecoration!==v&&(this._textDecoration=v,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(v){const A=B(v);this._lineHeight!==A&&(this._lineHeight=A,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(v){const A=B(v);this._letterSpacing!==A&&(this._letterSpacing=A,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(v){this._className!==v&&(this._className=v,this.domNode.className=this._className)}toggleClassName(v,A){this.domNode.classList.toggle(v,A),this._className=this.domNode.className}setDisplay(v){this._display!==v&&(this._display=v,this.domNode.style.display=this._display)}setPosition(v){this._position!==v&&(this._position=v,this.domNode.style.position=this._position)}setVisibility(v){this._visibility!==v&&(this._visibility=v,this.domNode.style.visibility=this._visibility)}setColor(v){this._color!==v&&(this._color=v,this.domNode.style.color=this._color)}setBackgroundColor(v){this._backgroundColor!==v&&(this._backgroundColor=v,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(v){this._layerHint!==v&&(this._layerHint=v,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(v){this._boxShadow!==v&&(this._boxShadow=v,this.domNode.style.boxShadow=v)}setContain(v){this._contain!==v&&(this._contain=v,this.domNode.style.contain=this._contain)}setAttribute(v,A){this.domNode.setAttribute(v,A)}removeAttribute(v){this.domNode.removeAttribute(v)}appendChild(v){this.domNode.appendChild(v.domNode)}removeChild(v){this.domNode.removeChild(v.domNode)}}function B(_){return typeof _=="number"?`${_}px`:_}function f(_){return new m(_)}},66578:function(Ot,He,i){"use strict";i.d(He,{BO:function(){return f},IY:function(){return B},az:function(){return _}});var m=i(34441);function B(p,l={}){const d=_(l);return d.textContent=p,d}function f(p,l={}){const d=_(l);return A(d,M(p,!!l.renderCodeSegments),l.actionHandler,l.renderCodeSegments),d}function _(p){const l=p.inline?"span":"div",d=document.createElement(l);return p.className&&(d.className=p.className),d}class v{constructor(l){this.source=l,this.index=0}eos(){return this.index>=this.source.length}next(){const l=this.peek();return this.advance(),l}peek(){return this.source[this.index]}advance(){this.index++}}function A(p,l,d,g){let n;if(l.type===2)n=document.createTextNode(l.content||"");else if(l.type===3)n=document.createElement("b");else if(l.type===4)n=document.createElement("i");else if(l.type===7&&g)n=document.createElement("code");else if(l.type===5&&d){const a=document.createElement("a");d.disposables.add(m.mu(a,"click",C=>{d.callback(String(l.index),C)})),n=a}else l.type===8?n=document.createElement("br"):l.type===1&&(n=p);n&&p!==n&&p.appendChild(n),n&&Array.isArray(l.children)&&l.children.forEach(a=>{A(n,a,d,g)})}function M(p,l){const d={type:1,children:[]};let g=0,n=d;const a=[],C=new v(p);for(;!C.eos();){let D=C.next();const u=D==="\\"&&R(C.peek(),l)!==0;if(u&&(D=C.next()),!u&&E(D,l)&&D===C.peek()){C.advance(),n.type===2&&(n=a.pop());const S=R(D,l);if(n.type===S||n.type===5&&S===6)n=a.pop();else{const w={type:S,children:[]};S===5&&(w.index=g,g++),n.children.push(w),a.push(n),n=w}}else if(D===`
`)n.type===2&&(n=a.pop()),n.children.push({type:8});else if(n.type!==2){const S={type:2,content:D};n.children.push(S),a.push(n),n=S}else n.content+=D}return n.type===2&&(n=a.pop()),a.length,d}function E(p,l){return R(p,l)!==0}function R(p,l){switch(p){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return l?7:0;default:return 0}}},97314:function(Ot,He,i){"use strict";i.d(He,{C:function(){return f}});var m=i(34441),B=i(38431);class f{constructor(){this._hooks=new B.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(v,A){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const M=this._onStopCallback;this._onStopCallback=null,v&&M&&M(A)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(v,A,M,E,R){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=E,this._onStopCallback=R;let p=v;try{v.setPointerCapture(A),this._hooks.add((0,B.OF)(()=>{try{v.releasePointerCapture(A)}catch(l){}}))}catch(l){p=window}this._hooks.add(m.nm(p,m.tw.POINTER_MOVE,l=>{if(l.buttons!==M){this.stopMonitoring(!0);return}l.preventDefault(),this._pointerMoveCallback(l)})),this._hooks.add(m.nm(p,m.tw.POINTER_UP,l=>this.stopMonitoring(!0)))}}},6544:function(Ot,He,i){"use strict";i.d(He,{y:function(){return p}});var m=i(71488),B=i(94880),f=i(21994),_=i(11138);function v(l){if(l.charCode){const g=String.fromCharCode(l.charCode).toUpperCase();return B.kL.fromString(g)}const d=l.keyCode;if(d===3)return 7;if(m.isFirefox)switch(d){case 59:return 80;case 107:return 104;case 109:return 106;case 224:if(_.dz)return 57}else if(m.isWebKit){if(_.dz&&d===93)return 57;if(!_.dz&&d===92)return 57}return B.H_[d]||0}const A=_.dz?256:2048,M=512,E=1024,R=_.dz?2048:256;class p{constructor(d){this._standardKeyboardEventBrand=!0;const g=d;this.browserEvent=g,this.target=g.target,this.ctrlKey=g.ctrlKey,this.shiftKey=g.shiftKey,this.altKey=g.altKey,this.metaKey=g.metaKey,this.altGraphKey=g.getModifierState("AltGraph"),this.keyCode=v(g),this.code=g.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(d){return this._asKeybinding===d}_computeKeybinding(){let d=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(d=this.keyCode);let g=0;return this.ctrlKey&&(g|=A),this.altKey&&(g|=M),this.shiftKey&&(g|=E),this.metaKey&&(g|=R),g|=d,g}_computeKeyCodeChord(){let d=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(d=this.keyCode),new f.$M(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,d)}}},10786:function(Ot,He,i){"use strict";i.d(He,{ap:function(){return fe},et:function(){return ue}});var m=i(34441),B=i(29278),f=i(54505),_=i(66578),v=i(6544),A=i(64079),M=i(19111),E=i(20996),R=i(56709),p=i(69008),l=i(5858),d=i(6100),g=i(51280),n=i(38431);let a={};(function(){function Ie(oe,ge){ge(a)}Ie.amd=!0,function(oe,ge){typeof Ie=="function"&&Ie.amd?Ie(["exports"],ge):typeof exports=="object"?ge(exports):(oe=typeof globalThis!="undefined"?globalThis:oe||self,ge(oe.marked={}))}(this,function(oe){"use strict";function ge(pi,ci){for(var ui=0;ui<ci.length;ui++){var wt=ci[ui];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(pi,wt.key,wt)}}function Ce(pi,ci,ui){return ci&&ge(pi.prototype,ci),ui&&ge(pi,ui),Object.defineProperty(pi,"prototype",{writable:!1}),pi}function me(pi,ci){if(pi){if(typeof pi=="string")return Me(pi,ci);var ui=Object.prototype.toString.call(pi).slice(8,-1);if(ui==="Object"&&pi.constructor&&(ui=pi.constructor.name),ui==="Map"||ui==="Set")return Array.from(pi);if(ui==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ui))return Me(pi,ci)}}function Me(pi,ci){(ci==null||ci>pi.length)&&(ci=pi.length);for(var ui=0,wt=new Array(ci);ui<ci;ui++)wt[ui]=pi[ui];return wt}function qe(pi,ci){var ui=typeof Symbol!="undefined"&&pi[Symbol.iterator]||pi["@@iterator"];if(ui)return(ui=ui.call(pi)).next.bind(ui);if(Array.isArray(pi)||(ui=me(pi))||ci&&pi&&typeof pi.length=="number"){ui&&(pi=ui);var wt=0;return function(){return wt>=pi.length?{done:!0}:{done:!1,value:pi[wt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}oe.defaults=ot();function ut(pi){oe.defaults=pi}var ht=/[&<>"']/,Ct=/[&<>"']/g,Pt=/[<>"']|&(?!#?\w+;)/,bt=/[<>"']|&(?!#?\w+;)/g,$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mt=function(ci){return $t[ci]};function Xe(pi,ci){if(ci){if(ht.test(pi))return pi.replace(Ct,Mt)}else if(Pt.test(pi))return pi.replace(bt,Mt);return pi}var Lt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Xt(pi){return pi.replace(Lt,function(ci,ui){return ui=ui.toLowerCase(),ui==="colon"?":":ui.charAt(0)==="#"?ui.charAt(1)==="x"?String.fromCharCode(parseInt(ui.substring(2),16)):String.fromCharCode(+ui.substring(1)):""})}var zt=/(^|[^\[])\^/g;function Fe(pi,ci){pi=typeof pi=="string"?pi:pi.source,ci=ci||"";var ui={replace:function(mt,Oe){return Oe=Oe.source||Oe,Oe=Oe.replace(zt,"$1"),pi=pi.replace(mt,Oe),ui},getRegex:function(){return new RegExp(pi,ci)}};return ui}var et=/[^\w:]/g,pt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function It(pi,ci,ui){if(pi){var wt;try{wt=decodeURIComponent(Xt(ui)).replace(et,"").toLowerCase()}catch(mt){return null}if(wt.indexOf("javascript:")===0||wt.indexOf("vbscript:")===0||wt.indexOf("data:")===0)return null}ci&&!pt.test(ui)&&(ui=ti(ci,ui));try{ui=encodeURI(ui).replace(/%25/g,"%")}catch(mt){return null}return ui}var kt={},yt=/^[^:]+:\/*[^/]*$/,St=/^([^:]+:)[\s\S]*$/,Gt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ti(pi,ci){kt[" "+pi]||(yt.test(pi)?kt[" "+pi]=pi+"/":kt[" "+pi]=Pi(pi,"/",!0)),pi=kt[" "+pi];var ui=pi.indexOf(":")===-1;return ci.substring(0,2)==="//"?ui?ci:pi.replace(St,"$1")+ci:ci.charAt(0)==="/"?ui?ci:pi.replace(Gt,"$1")+ci:pi+ci}var ri={exec:function(){}};function li(pi){for(var ci=1,ui,wt;ci<arguments.length;ci++){ui=arguments[ci];for(wt in ui)Object.prototype.hasOwnProperty.call(ui,wt)&&(pi[wt]=ui[wt])}return pi}function gi(pi,ci){var ui=pi.replace(/\|/g,function(Oe,le,Be){for(var Ke=!1,Ge=le;--Ge>=0&&Be[Ge]==="\\";)Ke=!Ke;return Ke?"|":" |"}),wt=ui.split(/ \|/),mt=0;if(wt[0].trim()||wt.shift(),wt.length>0&&!wt[wt.length-1].trim()&&wt.pop(),wt.length>ci)wt.splice(ci);else for(;wt.length<ci;)wt.push("");for(;mt<wt.length;mt++)wt[mt]=wt[mt].trim().replace(/\\\|/g,"|");return wt}function Pi(pi,ci,ui){var wt=pi.length;if(wt===0)return"";for(var mt=0;mt<wt;){var Oe=pi.charAt(wt-mt-1);if(Oe===ci&&!ui)mt++;else if(Oe!==ci&&ui)mt++;else break}return pi.slice(0,wt-mt)}function Hi(pi,ci){if(pi.indexOf(ci[1])===-1)return-1;for(var ui=pi.length,wt=0,mt=0;mt<ui;mt++)if(pi[mt]==="\\")mt++;else if(pi[mt]===ci[0])wt++;else if(pi[mt]===ci[1]&&(wt--,wt<0))return mt;return-1}function ji(pi){pi&&pi.sanitize&&!pi.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function bn(pi,ci){if(ci<1)return"";for(var ui="";ci>1;)ci&1&&(ui+=pi),ci>>=1,pi+=pi;return ui+pi}function Rn(pi,ci,ui,wt){var mt=ci.href,Oe=ci.title?Xe(ci.title):null,le=pi[1].replace(/\\([\[\]])/g,"$1");if(pi[0].charAt(0)!=="!"){wt.state.inLink=!0;var Be={type:"link",raw:ui,href:mt,title:Oe,text:le,tokens:wt.inlineTokens(le)};return wt.state.inLink=!1,Be}return{type:"image",raw:ui,href:mt,title:Oe,text:Xe(le)}}function bs(pi,ci){var ui=pi.match(/^(\s+)(?:```)/);if(ui===null)return ci;var wt=ui[1];return ci.split(`
`).map(function(mt){var Oe=mt.match(/^\s+/);if(Oe===null)return mt;var le=Oe[0];return le.length>=wt.length?mt.slice(wt.length):mt}).join(`
`)}var ms=function(){function pi(ui){this.options=ui||oe.defaults}var ci=pi.prototype;return ci.space=function(wt){var mt=this.rules.block.newline.exec(wt);if(mt&&mt[0].length>0)return{type:"space",raw:mt[0]}},ci.code=function(wt){var mt=this.rules.block.code.exec(wt);if(mt){var Oe=mt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:mt[0],codeBlockStyle:"indented",text:this.options.pedantic?Oe:Pi(Oe,`
`)}}},ci.fences=function(wt){var mt=this.rules.block.fences.exec(wt);if(mt){var Oe=mt[0],le=bs(Oe,mt[3]||"");return{type:"code",raw:Oe,lang:mt[2]?mt[2].trim():mt[2],text:le}}},ci.heading=function(wt){var mt=this.rules.block.heading.exec(wt);if(mt){var Oe=mt[2].trim();if(/#$/.test(Oe)){var le=Pi(Oe,"#");(this.options.pedantic||!le||/ $/.test(le))&&(Oe=le.trim())}return{type:"heading",raw:mt[0],depth:mt[1].length,text:Oe,tokens:this.lexer.inline(Oe)}}},ci.hr=function(wt){var mt=this.rules.block.hr.exec(wt);if(mt)return{type:"hr",raw:mt[0]}},ci.blockquote=function(wt){var mt=this.rules.block.blockquote.exec(wt);if(mt){var Oe=mt[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:mt[0],tokens:this.lexer.blockTokens(Oe,[]),text:Oe}}},ci.list=function(wt){var mt=this.rules.block.list.exec(wt);if(mt){var Oe,le,Be,Ke,Ge,ye,ze,lt,Rt,Bt,At,ii,vi=mt[1].trim(),yi=vi.length>1,hi={type:"list",raw:"",ordered:yi,start:yi?+vi.slice(0,-1):"",loose:!1,items:[]};vi=yi?"\\d{1,9}\\"+vi.slice(-1):"\\"+vi,this.options.pedantic&&(vi=yi?vi:"[*+-]");for(var Si=new RegExp("^( {0,3}"+vi+")((?:[	 ][^\\n]*)?(?:\\n|$))");wt&&(ii=!1,!(!(mt=Si.exec(wt))||this.rules.block.hr.test(wt)));){if(Oe=mt[0],wt=wt.substring(Oe.length),lt=mt[2].split(`
`,1)[0],Rt=wt.split(`
`,1)[0],this.options.pedantic?(Ke=2,At=lt.trimLeft()):(Ke=mt[2].search(/[^ ]/),Ke=Ke>4?1:Ke,At=lt.slice(Ke),Ke+=mt[1].length),ye=!1,!lt&&/^ *$/.test(Rt)&&(Oe+=Rt+`
`,wt=wt.substring(Rt.length+1),ii=!0),!ii)for(var Oi=new RegExp("^ {0,"+Math.min(3,Ke-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ai=new RegExp("^ {0,"+Math.min(3,Ke-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Zi=new RegExp("^ {0,"+Math.min(3,Ke-1)+"}(?:```|~~~)"),pn=new RegExp("^ {0,"+Math.min(3,Ke-1)+"}#");wt&&(Bt=wt.split(`
`,1)[0],lt=Bt,this.options.pedantic&&(lt=lt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Zi.test(lt)||pn.test(lt)||Oi.test(lt)||Ai.test(wt)));){if(lt.search(/[^ ]/)>=Ke||!lt.trim())At+=`
`+lt.slice(Ke);else if(!ye)At+=`
`+lt;else break;!ye&&!lt.trim()&&(ye=!0),Oe+=Bt+`
`,wt=wt.substring(Bt.length+1)}hi.loose||(ze?hi.loose=!0:/\n *\n *$/.test(Oe)&&(ze=!0)),this.options.gfm&&(le=/^\[[ xX]\] /.exec(At),le&&(Be=le[0]!=="[ ] ",At=At.replace(/^\[[ xX]\] +/,""))),hi.items.push({type:"list_item",raw:Oe,task:!!le,checked:Be,loose:!1,text:At}),hi.raw+=Oe}hi.items[hi.items.length-1].raw=Oe.trimRight(),hi.items[hi.items.length-1].text=At.trimRight(),hi.raw=hi.raw.trimRight();var Pn=hi.items.length;for(Ge=0;Ge<Pn;Ge++){this.lexer.state.top=!1,hi.items[Ge].tokens=this.lexer.blockTokens(hi.items[Ge].text,[]);var cs=hi.items[Ge].tokens.filter(function(Es){return Es.type==="space"}),ds=cs.every(function(Es){for(var ro=Es.raw.split(""),Gs=0,Ws=qe(ro),Hr;!(Hr=Ws()).done;){var Fn=Hr.value;if(Fn===`
`&&(Gs+=1),Gs>1)return!0}return!1});!hi.loose&&cs.length&&ds&&(hi.loose=!0,hi.items[Ge].loose=!0)}return hi}},ci.html=function(wt){var mt=this.rules.block.html.exec(wt);if(mt){var Oe={type:"html",raw:mt[0],pre:!this.options.sanitizer&&(mt[1]==="pre"||mt[1]==="script"||mt[1]==="style"),text:mt[0]};if(this.options.sanitize){var le=this.options.sanitizer?this.options.sanitizer(mt[0]):Xe(mt[0]);Oe.type="paragraph",Oe.text=le,Oe.tokens=this.lexer.inline(le)}return Oe}},ci.def=function(wt){var mt=this.rules.block.def.exec(wt);if(mt){mt[3]&&(mt[3]=mt[3].substring(1,mt[3].length-1));var Oe=mt[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Oe,raw:mt[0],href:mt[2],title:mt[3]}}},ci.table=function(wt){var mt=this.rules.block.table.exec(wt);if(mt){var Oe={type:"table",header:gi(mt[1]).map(function(ze){return{text:ze}}),align:mt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:mt[3]&&mt[3].trim()?mt[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Oe.header.length===Oe.align.length){Oe.raw=mt[0];var le=Oe.align.length,Be,Ke,Ge,ye;for(Be=0;Be<le;Be++)/^ *-+: *$/.test(Oe.align[Be])?Oe.align[Be]="right":/^ *:-+: *$/.test(Oe.align[Be])?Oe.align[Be]="center":/^ *:-+ *$/.test(Oe.align[Be])?Oe.align[Be]="left":Oe.align[Be]=null;for(le=Oe.rows.length,Be=0;Be<le;Be++)Oe.rows[Be]=gi(Oe.rows[Be],Oe.header.length).map(function(ze){return{text:ze}});for(le=Oe.header.length,Ke=0;Ke<le;Ke++)Oe.header[Ke].tokens=this.lexer.inline(Oe.header[Ke].text);for(le=Oe.rows.length,Ke=0;Ke<le;Ke++)for(ye=Oe.rows[Ke],Ge=0;Ge<ye.length;Ge++)ye[Ge].tokens=this.lexer.inline(ye[Ge].text);return Oe}}},ci.lheading=function(wt){var mt=this.rules.block.lheading.exec(wt);if(mt)return{type:"heading",raw:mt[0],depth:mt[2].charAt(0)==="="?1:2,text:mt[1],tokens:this.lexer.inline(mt[1])}},ci.paragraph=function(wt){var mt=this.rules.block.paragraph.exec(wt);if(mt){var Oe=mt[1].charAt(mt[1].length-1)===`
`?mt[1].slice(0,-1):mt[1];return{type:"paragraph",raw:mt[0],text:Oe,tokens:this.lexer.inline(Oe)}}},ci.text=function(wt){var mt=this.rules.block.text.exec(wt);if(mt)return{type:"text",raw:mt[0],text:mt[0],tokens:this.lexer.inline(mt[0])}},ci.escape=function(wt){var mt=this.rules.inline.escape.exec(wt);if(mt)return{type:"escape",raw:mt[0],text:Xe(mt[1])}},ci.tag=function(wt){var mt=this.rules.inline.tag.exec(wt);if(mt)return!this.lexer.state.inLink&&/^<a /i.test(mt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(mt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(mt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(mt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:mt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(mt[0]):Xe(mt[0]):mt[0]}},ci.link=function(wt){var mt=this.rules.inline.link.exec(wt);if(mt){var Oe=mt[2].trim();if(!this.options.pedantic&&/^</.test(Oe)){if(!/>$/.test(Oe))return;var le=Pi(Oe.slice(0,-1),"\\");if((Oe.length-le.length)%2===0)return}else{var Be=Hi(mt[2],"()");if(Be>-1){var Ke=mt[0].indexOf("!")===0?5:4,Ge=Ke+mt[1].length+Be;mt[2]=mt[2].substring(0,Be),mt[0]=mt[0].substring(0,Ge).trim(),mt[3]=""}}var ye=mt[2],ze="";if(this.options.pedantic){var lt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ye);lt&&(ye=lt[1],ze=lt[3])}else ze=mt[3]?mt[3].slice(1,-1):"";return ye=ye.trim(),/^</.test(ye)&&(this.options.pedantic&&!/>$/.test(Oe)?ye=ye.slice(1):ye=ye.slice(1,-1)),Rn(mt,{href:ye&&ye.replace(this.rules.inline._escapes,"$1"),title:ze&&ze.replace(this.rules.inline._escapes,"$1")},mt[0],this.lexer)}},ci.reflink=function(wt,mt){var Oe;if((Oe=this.rules.inline.reflink.exec(wt))||(Oe=this.rules.inline.nolink.exec(wt))){var le=(Oe[2]||Oe[1]).replace(/\s+/g," ");if(le=mt[le.toLowerCase()],!le||!le.href){var Be=Oe[0].charAt(0);return{type:"text",raw:Be,text:Be}}return Rn(Oe,le,Oe[0],this.lexer)}},ci.emStrong=function(wt,mt,Oe){Oe===void 0&&(Oe="");var le=this.rules.inline.emStrong.lDelim.exec(wt);if(le&&!(le[3]&&Oe.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Be=le[1]||le[2]||"";if(!Be||Be&&(Oe===""||this.rules.inline.punctuation.exec(Oe))){var Ke=le[0].length-1,Ge,ye,ze=Ke,lt=0,Rt=le[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Rt.lastIndex=0,mt=mt.slice(-1*wt.length+Ke);(le=Rt.exec(mt))!=null;)if(Ge=le[1]||le[2]||le[3]||le[4]||le[5]||le[6],!!Ge){if(ye=Ge.length,le[3]||le[4]){ze+=ye;continue}else if((le[5]||le[6])&&Ke%3&&!((Ke+ye)%3)){lt+=ye;continue}if(ze-=ye,!(ze>0)){if(ye=Math.min(ye,ye+ze+lt),Math.min(Ke,ye)%2){var Bt=wt.slice(1,Ke+le.index+ye);return{type:"em",raw:wt.slice(0,Ke+le.index+ye+1),text:Bt,tokens:this.lexer.inlineTokens(Bt)}}var At=wt.slice(2,Ke+le.index+ye-1);return{type:"strong",raw:wt.slice(0,Ke+le.index+ye+1),text:At,tokens:this.lexer.inlineTokens(At)}}}}}},ci.codespan=function(wt){var mt=this.rules.inline.code.exec(wt);if(mt){var Oe=mt[2].replace(/\n/g," "),le=/[^ ]/.test(Oe),Be=/^ /.test(Oe)&&/ $/.test(Oe);return le&&Be&&(Oe=Oe.substring(1,Oe.length-1)),Oe=Xe(Oe,!0),{type:"codespan",raw:mt[0],text:Oe}}},ci.br=function(wt){var mt=this.rules.inline.br.exec(wt);if(mt)return{type:"br",raw:mt[0]}},ci.del=function(wt){var mt=this.rules.inline.del.exec(wt);if(mt)return{type:"del",raw:mt[0],text:mt[2],tokens:this.lexer.inlineTokens(mt[2])}},ci.autolink=function(wt,mt){var Oe=this.rules.inline.autolink.exec(wt);if(Oe){var le,Be;return Oe[2]==="@"?(le=Xe(this.options.mangle?mt(Oe[1]):Oe[1]),Be="mailto:"+le):(le=Xe(Oe[1]),Be=le),{type:"link",raw:Oe[0],text:le,href:Be,tokens:[{type:"text",raw:le,text:le}]}}},ci.url=function(wt,mt){var Oe;if(Oe=this.rules.inline.url.exec(wt)){var le,Be;if(Oe[2]==="@")le=Xe(this.options.mangle?mt(Oe[0]):Oe[0]),Be="mailto:"+le;else{var Ke;do Ke=Oe[0],Oe[0]=this.rules.inline._backpedal.exec(Oe[0])[0];while(Ke!==Oe[0]);le=Xe(Oe[0]),Oe[1]==="www."?Be="http://"+le:Be=le}return{type:"link",raw:Oe[0],text:le,href:Be,tokens:[{type:"text",raw:le,text:le}]}}},ci.inlineText=function(wt,mt){var Oe=this.rules.inline.text.exec(wt);if(Oe){var le;return this.lexer.state.inRawBlock?le=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Oe[0]):Xe(Oe[0]):Oe[0]:le=Xe(this.options.smartypants?mt(Oe[0]):Oe[0]),{type:"text",raw:Oe[0],text:le}}},pi}(),ki={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ri,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ki._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ki._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ki.def=Fe(ki.def).replace("label",ki._label).replace("title",ki._title).getRegex(),ki.bullet=/(?:[*+-]|\d{1,9}[.)])/,ki.listItemStart=Fe(/^( *)(bull) */).replace("bull",ki.bullet).getRegex(),ki.list=Fe(ki.list).replace(/bull/g,ki.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ki.def.source+")").getRegex(),ki._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ki._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ki.html=Fe(ki.html,"i").replace("comment",ki._comment).replace("tag",ki._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ki.paragraph=Fe(ki._paragraph).replace("hr",ki.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ki._tag).getRegex(),ki.blockquote=Fe(ki.blockquote).replace("paragraph",ki.paragraph).getRegex(),ki.normal=li({},ki),ki.gfm=li({},ki.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ki.gfm.table=Fe(ki.gfm.table).replace("hr",ki.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ki._tag).getRegex(),ki.gfm.paragraph=Fe(ki._paragraph).replace("hr",ki.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ki.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ki._tag).getRegex(),ki.pedantic=li({},ki.normal,{html:Fe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ki._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ri,paragraph:Fe(ki.normal._paragraph).replace("hr",ki.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ki.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Vi={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ri,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ri,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Vi._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Vi.punctuation=Fe(Vi.punctuation).replace(/punctuation/g,Vi._punctuation).getRegex(),Vi.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Vi.escapedEmSt=/\\\*|\\_/g,Vi._comment=Fe(ki._comment).replace("(?:-->|$)","-->").getRegex(),Vi.emStrong.lDelim=Fe(Vi.emStrong.lDelim).replace(/punct/g,Vi._punctuation).getRegex(),Vi.emStrong.rDelimAst=Fe(Vi.emStrong.rDelimAst,"g").replace(/punct/g,Vi._punctuation).getRegex(),Vi.emStrong.rDelimUnd=Fe(Vi.emStrong.rDelimUnd,"g").replace(/punct/g,Vi._punctuation).getRegex(),Vi._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Vi._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Vi._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Vi.autolink=Fe(Vi.autolink).replace("scheme",Vi._scheme).replace("email",Vi._email).getRegex(),Vi._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Vi.tag=Fe(Vi.tag).replace("comment",Vi._comment).replace("attribute",Vi._attribute).getRegex(),Vi._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Vi._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Vi._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Vi.link=Fe(Vi.link).replace("label",Vi._label).replace("href",Vi._href).replace("title",Vi._title).getRegex(),Vi.reflink=Fe(Vi.reflink).replace("label",Vi._label).replace("ref",ki._label).getRegex(),Vi.nolink=Fe(Vi.nolink).replace("ref",ki._label).getRegex(),Vi.reflinkSearch=Fe(Vi.reflinkSearch,"g").replace("reflink",Vi.reflink).replace("nolink",Vi.nolink).getRegex(),Vi.normal=li({},Vi),Vi.pedantic=li({},Vi.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Fe(/^!?\[(label)\]\((.*?)\)/).replace("label",Vi._label).getRegex(),reflink:Fe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vi._label).getRegex()}),Vi.gfm=li({},Vi.normal,{escape:Fe(Vi.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Vi.gfm.url=Fe(Vi.gfm.url,"i").replace("email",Vi.gfm._extended_email).getRegex(),Vi.breaks=li({},Vi.gfm,{br:Fe(Vi.br).replace("{2,}","*").getRegex(),text:Fe(Vi.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ki(pi){return pi.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function es(pi){var ci="",ui,wt,mt=pi.length;for(ui=0;ui<mt;ui++)wt=pi.charCodeAt(ui),Math.random()>.5&&(wt="x"+wt.toString(16)),ci+="&#"+wt+";";return ci}var Ls=function(){function pi(ui){this.tokens=[],this.tokens.links=Object.create(null),this.options=ui||oe.defaults,this.options.tokenizer=this.options.tokenizer||new ms,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var wt={block:ki.normal,inline:Vi.normal};this.options.pedantic?(wt.block=ki.pedantic,wt.inline=Vi.pedantic):this.options.gfm&&(wt.block=ki.gfm,this.options.breaks?wt.inline=Vi.breaks:wt.inline=Vi.gfm),this.tokenizer.rules=wt}pi.lex=function(wt,mt){var Oe=new pi(mt);return Oe.lex(wt)},pi.lexInline=function(wt,mt){var Oe=new pi(mt);return Oe.inlineTokens(wt)};var ci=pi.prototype;return ci.lex=function(wt){wt=wt.replace(/\r\n|\r/g,`
`),this.blockTokens(wt,this.tokens);for(var mt;mt=this.inlineQueue.shift();)this.inlineTokens(mt.src,mt.tokens);return this.tokens},ci.blockTokens=function(wt,mt){var Oe=this;mt===void 0&&(mt=[]),this.options.pedantic?wt=wt.replace(/\t/g,"    ").replace(/^ +$/gm,""):wt=wt.replace(/^( *)(\t+)/gm,function(ze,lt,Rt){return lt+"    ".repeat(Rt.length)});for(var le,Be,Ke,Ge;wt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ze){return(le=ze.call({lexer:Oe},wt,mt))?(wt=wt.substring(le.raw.length),mt.push(le),!0):!1}))){if(le=this.tokenizer.space(wt)){wt=wt.substring(le.raw.length),le.raw.length===1&&mt.length>0?mt[mt.length-1].raw+=`
`:mt.push(le);continue}if(le=this.tokenizer.code(wt)){wt=wt.substring(le.raw.length),Be=mt[mt.length-1],Be&&(Be.type==="paragraph"||Be.type==="text")?(Be.raw+=`
`+le.raw,Be.text+=`
`+le.text,this.inlineQueue[this.inlineQueue.length-1].src=Be.text):mt.push(le);continue}if(le=this.tokenizer.fences(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.heading(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.hr(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.blockquote(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.list(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.html(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.def(wt)){wt=wt.substring(le.raw.length),Be=mt[mt.length-1],Be&&(Be.type==="paragraph"||Be.type==="text")?(Be.raw+=`
`+le.raw,Be.text+=`
`+le.raw,this.inlineQueue[this.inlineQueue.length-1].src=Be.text):this.tokens.links[le.tag]||(this.tokens.links[le.tag]={href:le.href,title:le.title});continue}if(le=this.tokenizer.table(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.lheading(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(Ke=wt,this.options.extensions&&this.options.extensions.startBlock&&function(){var ze=1/0,lt=wt.slice(1),Rt=void 0;Oe.options.extensions.startBlock.forEach(function(Bt){Rt=Bt.call({lexer:this},lt),typeof Rt=="number"&&Rt>=0&&(ze=Math.min(ze,Rt))}),ze<1/0&&ze>=0&&(Ke=wt.substring(0,ze+1))}(),this.state.top&&(le=this.tokenizer.paragraph(Ke))){Be=mt[mt.length-1],Ge&&Be.type==="paragraph"?(Be.raw+=`
`+le.raw,Be.text+=`
`+le.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Be.text):mt.push(le),Ge=Ke.length!==wt.length,wt=wt.substring(le.raw.length);continue}if(le=this.tokenizer.text(wt)){wt=wt.substring(le.raw.length),Be=mt[mt.length-1],Be&&Be.type==="text"?(Be.raw+=`
`+le.raw,Be.text+=`
`+le.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Be.text):mt.push(le);continue}if(wt){var ye="Infinite loop on byte: "+wt.charCodeAt(0);if(this.options.silent){console.error(ye);break}else throw new Error(ye)}}return this.state.top=!0,mt},ci.inline=function(wt,mt){return mt===void 0&&(mt=[]),this.inlineQueue.push({src:wt,tokens:mt}),mt},ci.inlineTokens=function(wt,mt){var Oe=this;mt===void 0&&(mt=[]);var le,Be,Ke,Ge=wt,ye,ze,lt;if(this.tokens.links){var Rt=Object.keys(this.tokens.links);if(Rt.length>0)for(;(ye=this.tokenizer.rules.inline.reflinkSearch.exec(Ge))!=null;)Rt.includes(ye[0].slice(ye[0].lastIndexOf("[")+1,-1))&&(Ge=Ge.slice(0,ye.index)+"["+bn("a",ye[0].length-2)+"]"+Ge.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ye=this.tokenizer.rules.inline.blockSkip.exec(Ge))!=null;)Ge=Ge.slice(0,ye.index)+"["+bn("a",ye[0].length-2)+"]"+Ge.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ye=this.tokenizer.rules.inline.escapedEmSt.exec(Ge))!=null;)Ge=Ge.slice(0,ye.index)+"++"+Ge.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;wt;)if(ze||(lt=""),ze=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(At){return(le=At.call({lexer:Oe},wt,mt))?(wt=wt.substring(le.raw.length),mt.push(le),!0):!1}))){if(le=this.tokenizer.escape(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.tag(wt)){wt=wt.substring(le.raw.length),Be=mt[mt.length-1],Be&&le.type==="text"&&Be.type==="text"?(Be.raw+=le.raw,Be.text+=le.text):mt.push(le);continue}if(le=this.tokenizer.link(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.reflink(wt,this.tokens.links)){wt=wt.substring(le.raw.length),Be=mt[mt.length-1],Be&&le.type==="text"&&Be.type==="text"?(Be.raw+=le.raw,Be.text+=le.text):mt.push(le);continue}if(le=this.tokenizer.emStrong(wt,Ge,lt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.codespan(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.br(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.del(wt)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(le=this.tokenizer.autolink(wt,es)){wt=wt.substring(le.raw.length),mt.push(le);continue}if(!this.state.inLink&&(le=this.tokenizer.url(wt,es))){wt=wt.substring(le.raw.length),mt.push(le);continue}if(Ke=wt,this.options.extensions&&this.options.extensions.startInline&&function(){var At=1/0,ii=wt.slice(1),vi=void 0;Oe.options.extensions.startInline.forEach(function(yi){vi=yi.call({lexer:this},ii),typeof vi=="number"&&vi>=0&&(At=Math.min(At,vi))}),At<1/0&&At>=0&&(Ke=wt.substring(0,At+1))}(),le=this.tokenizer.inlineText(Ke,Ki)){wt=wt.substring(le.raw.length),le.raw.slice(-1)!=="_"&&(lt=le.raw.slice(-1)),ze=!0,Be=mt[mt.length-1],Be&&Be.type==="text"?(Be.raw+=le.raw,Be.text+=le.text):mt.push(le);continue}if(wt){var Bt="Infinite loop on byte: "+wt.charCodeAt(0);if(this.options.silent){console.error(Bt);break}else throw new Error(Bt)}}return mt},Ce(pi,null,[{key:"rules",get:function(){return{block:ki,inline:Vi}}}]),pi}(),ts=function(){function pi(ui){this.options=ui||oe.defaults}var ci=pi.prototype;return ci.code=function(wt,mt,Oe){var le=(mt||"").match(/\S*/)[0];if(this.options.highlight){var Be=this.options.highlight(wt,le);Be!=null&&Be!==wt&&(Oe=!0,wt=Be)}return wt=wt.replace(/\n$/,"")+`
`,le?'<pre><code class="'+this.options.langPrefix+Xe(le,!0)+'">'+(Oe?wt:Xe(wt,!0))+`</code></pre>
`:"<pre><code>"+(Oe?wt:Xe(wt,!0))+`</code></pre>
`},ci.blockquote=function(wt){return`<blockquote>
`+wt+`</blockquote>
`},ci.html=function(wt){return wt},ci.heading=function(wt,mt,Oe,le){if(this.options.headerIds){var Be=this.options.headerPrefix+le.slug(Oe);return"<h"+mt+' id="'+Be+'">'+wt+"</h"+mt+`>
`}return"<h"+mt+">"+wt+"</h"+mt+`>
`},ci.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ci.list=function(wt,mt,Oe){var le=mt?"ol":"ul",Be=mt&&Oe!==1?' start="'+Oe+'"':"";return"<"+le+Be+`>
`+wt+"</"+le+`>
`},ci.listitem=function(wt){return"<li>"+wt+`</li>
`},ci.checkbox=function(wt){return"<input "+(wt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ci.paragraph=function(wt){return"<p>"+wt+`</p>
`},ci.table=function(wt,mt){return mt&&(mt="<tbody>"+mt+"</tbody>"),`<table>
<thead>
`+wt+`</thead>
`+mt+`</table>
`},ci.tablerow=function(wt){return`<tr>
`+wt+`</tr>
`},ci.tablecell=function(wt,mt){var Oe=mt.header?"th":"td",le=mt.align?"<"+Oe+' align="'+mt.align+'">':"<"+Oe+">";return le+wt+("</"+Oe+`>
`)},ci.strong=function(wt){return"<strong>"+wt+"</strong>"},ci.em=function(wt){return"<em>"+wt+"</em>"},ci.codespan=function(wt){return"<code>"+wt+"</code>"},ci.br=function(){return this.options.xhtml?"<br/>":"<br>"},ci.del=function(wt){return"<del>"+wt+"</del>"},ci.link=function(wt,mt,Oe){if(wt=It(this.options.sanitize,this.options.baseUrl,wt),wt===null)return Oe;var le='<a href="'+Xe(wt)+'"';return mt&&(le+=' title="'+mt+'"'),le+=">"+Oe+"</a>",le},ci.image=function(wt,mt,Oe){if(wt=It(this.options.sanitize,this.options.baseUrl,wt),wt===null)return Oe;var le='<img src="'+wt+'" alt="'+Oe+'"';return mt&&(le+=' title="'+mt+'"'),le+=this.options.xhtml?"/>":">",le},ci.text=function(wt){return wt},pi}(),Kn=function(){function pi(){}var ci=pi.prototype;return ci.strong=function(wt){return wt},ci.em=function(wt){return wt},ci.codespan=function(wt){return wt},ci.del=function(wt){return wt},ci.html=function(wt){return wt},ci.text=function(wt){return wt},ci.link=function(wt,mt,Oe){return""+Oe},ci.image=function(wt,mt,Oe){return""+Oe},ci.br=function(){return""},pi}(),Wn=function(){function pi(){this.seen={}}var ci=pi.prototype;return ci.serialize=function(wt){return wt.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ci.getNextSafeSlug=function(wt,mt){var Oe=wt,le=0;if(this.seen.hasOwnProperty(Oe)){le=this.seen[wt];do le++,Oe=wt+"-"+le;while(this.seen.hasOwnProperty(Oe))}return mt||(this.seen[wt]=le,this.seen[Oe]=0),Oe},ci.slug=function(wt,mt){mt===void 0&&(mt={});var Oe=this.serialize(wt);return this.getNextSafeSlug(Oe,mt.dryrun)},pi}(),yn=function(){function pi(ui){this.options=ui||oe.defaults,this.options.renderer=this.options.renderer||new ts,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Kn,this.slugger=new Wn}pi.parse=function(wt,mt){var Oe=new pi(mt);return Oe.parse(wt)},pi.parseInline=function(wt,mt){var Oe=new pi(mt);return Oe.parseInline(wt)};var ci=pi.prototype;return ci.parse=function(wt,mt){mt===void 0&&(mt=!0);var Oe="",le,Be,Ke,Ge,ye,ze,lt,Rt,Bt,At,ii,vi,yi,hi,Si,Oi,Ai,Zi,pn,Pn=wt.length;for(le=0;le<Pn;le++){if(At=wt[le],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[At.type]&&(pn=this.options.extensions.renderers[At.type].call({parser:this},At),pn!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(At.type))){Oe+=pn||"";continue}switch(At.type){case"space":continue;case"hr":{Oe+=this.renderer.hr();continue}case"heading":{Oe+=this.renderer.heading(this.parseInline(At.tokens),At.depth,Xt(this.parseInline(At.tokens,this.textRenderer)),this.slugger);continue}case"code":{Oe+=this.renderer.code(At.text,At.lang,At.escaped);continue}case"table":{for(Rt="",lt="",Ge=At.header.length,Be=0;Be<Ge;Be++)lt+=this.renderer.tablecell(this.parseInline(At.header[Be].tokens),{header:!0,align:At.align[Be]});for(Rt+=this.renderer.tablerow(lt),Bt="",Ge=At.rows.length,Be=0;Be<Ge;Be++){for(ze=At.rows[Be],lt="",ye=ze.length,Ke=0;Ke<ye;Ke++)lt+=this.renderer.tablecell(this.parseInline(ze[Ke].tokens),{header:!1,align:At.align[Ke]});Bt+=this.renderer.tablerow(lt)}Oe+=this.renderer.table(Rt,Bt);continue}case"blockquote":{Bt=this.parse(At.tokens),Oe+=this.renderer.blockquote(Bt);continue}case"list":{for(ii=At.ordered,vi=At.start,yi=At.loose,Ge=At.items.length,Bt="",Be=0;Be<Ge;Be++)Si=At.items[Be],Oi=Si.checked,Ai=Si.task,hi="",Si.task&&(Zi=this.renderer.checkbox(Oi),yi?Si.tokens.length>0&&Si.tokens[0].type==="paragraph"?(Si.tokens[0].text=Zi+" "+Si.tokens[0].text,Si.tokens[0].tokens&&Si.tokens[0].tokens.length>0&&Si.tokens[0].tokens[0].type==="text"&&(Si.tokens[0].tokens[0].text=Zi+" "+Si.tokens[0].tokens[0].text)):Si.tokens.unshift({type:"text",text:Zi}):hi+=Zi),hi+=this.parse(Si.tokens,yi),Bt+=this.renderer.listitem(hi,Ai,Oi);Oe+=this.renderer.list(Bt,ii,vi);continue}case"html":{Oe+=this.renderer.html(At.text);continue}case"paragraph":{Oe+=this.renderer.paragraph(this.parseInline(At.tokens));continue}case"text":{for(Bt=At.tokens?this.parseInline(At.tokens):At.text;le+1<Pn&&wt[le+1].type==="text";)At=wt[++le],Bt+=`
`+(At.tokens?this.parseInline(At.tokens):At.text);Oe+=mt?this.renderer.paragraph(Bt):Bt;continue}default:{var cs='Token with "'+At.type+'" type was not found.';if(this.options.silent){console.error(cs);return}else throw new Error(cs)}}}return Oe},ci.parseInline=function(wt,mt){mt=mt||this.renderer;var Oe="",le,Be,Ke,Ge=wt.length;for(le=0;le<Ge;le++){if(Be=wt[le],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Be.type]&&(Ke=this.options.extensions.renderers[Be.type].call({parser:this},Be),Ke!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Be.type))){Oe+=Ke||"";continue}switch(Be.type){case"escape":{Oe+=mt.text(Be.text);break}case"html":{Oe+=mt.html(Be.text);break}case"link":{Oe+=mt.link(Be.href,Be.title,this.parseInline(Be.tokens,mt));break}case"image":{Oe+=mt.image(Be.href,Be.title,Be.text);break}case"strong":{Oe+=mt.strong(this.parseInline(Be.tokens,mt));break}case"em":{Oe+=mt.em(this.parseInline(Be.tokens,mt));break}case"codespan":{Oe+=mt.codespan(Be.text);break}case"br":{Oe+=mt.br();break}case"del":{Oe+=mt.del(this.parseInline(Be.tokens,mt));break}case"text":{Oe+=mt.text(Be.text);break}default:{var ye='Token with "'+Be.type+'" type was not found.';if(this.options.silent){console.error(ye);return}else throw new Error(ye)}}}return Oe},pi}();function en(pi,ci,ui){if(typeof pi=="undefined"||pi===null)throw new Error("marked(): input parameter is undefined or null");if(typeof pi!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(pi)+", string expected");if(typeof ci=="function"&&(ui=ci,ci=null),ci=li({},en.defaults,ci||{}),ji(ci),ui){var wt=ci.highlight,mt;try{mt=Ls.lex(pi,ci)}catch(Ge){return ui(Ge)}var Oe=function(ye){var ze;if(!ye)try{ci.walkTokens&&en.walkTokens(mt,ci.walkTokens),ze=yn.parse(mt,ci)}catch(lt){ye=lt}return ci.highlight=wt,ye?ui(ye):ui(null,ze)};if(!wt||wt.length<3||(delete ci.highlight,!mt.length))return Oe();var le=0;en.walkTokens(mt,function(Ge){Ge.type==="code"&&(le++,setTimeout(function(){wt(Ge.text,Ge.lang,function(ye,ze){if(ye)return Oe(ye);ze!=null&&ze!==Ge.text&&(Ge.text=ze,Ge.escaped=!0),le--,le===0&&Oe()})},0))}),le===0&&Oe();return}function Be(Ge){if(Ge.message+=`
Please report this to https://github.com/markedjs/marked.`,ci.silent)return"<p>An error occurred:</p><pre>"+Xe(Ge.message+"",!0)+"</pre>";throw Ge}try{var Ke=Ls.lex(pi,ci);if(ci.walkTokens){if(ci.async)return Promise.all(en.walkTokens(Ke,ci.walkTokens)).then(function(){return yn.parse(Ke,ci)}).catch(Be);en.walkTokens(Ke,ci.walkTokens)}return yn.parse(Ke,ci)}catch(Ge){Be(Ge)}}en.options=en.setOptions=function(pi){return li(en.defaults,pi),ut(en.defaults),en},en.getDefaults=ot,en.defaults=oe.defaults,en.use=function(){for(var pi=arguments.length,ci=new Array(pi),ui=0;ui<pi;ui++)ci[ui]=arguments[ui];var wt=li.apply(void 0,[{}].concat(ci)),mt=en.defaults.extensions||{renderers:{},childTokens:{}},Oe;ci.forEach(function(le){if(le.extensions&&(Oe=!0,le.extensions.forEach(function(Ke){if(!Ke.name)throw new Error("extension name required");if(Ke.renderer){var Ge=mt.renderers?mt.renderers[Ke.name]:null;Ge?mt.renderers[Ke.name]=function(){for(var ye=arguments.length,ze=new Array(ye),lt=0;lt<ye;lt++)ze[lt]=arguments[lt];var Rt=Ke.renderer.apply(this,ze);return Rt===!1&&(Rt=Ge.apply(this,ze)),Rt}:mt.renderers[Ke.name]=Ke.renderer}if(Ke.tokenizer){if(!Ke.level||Ke.level!=="block"&&Ke.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");mt[Ke.level]?mt[Ke.level].unshift(Ke.tokenizer):mt[Ke.level]=[Ke.tokenizer],Ke.start&&(Ke.level==="block"?mt.startBlock?mt.startBlock.push(Ke.start):mt.startBlock=[Ke.start]:Ke.level==="inline"&&(mt.startInline?mt.startInline.push(Ke.start):mt.startInline=[Ke.start]))}Ke.childTokens&&(mt.childTokens[Ke.name]=Ke.childTokens)})),le.renderer&&function(){var Ke=en.defaults.renderer||new ts,Ge=function(lt){var Rt=Ke[lt];Ke[lt]=function(){for(var Bt=arguments.length,At=new Array(Bt),ii=0;ii<Bt;ii++)At[ii]=arguments[ii];var vi=le.renderer[lt].apply(Ke,At);return vi===!1&&(vi=Rt.apply(Ke,At)),vi}};for(var ye in le.renderer)Ge(ye);wt.renderer=Ke}(),le.tokenizer&&function(){var Ke=en.defaults.tokenizer||new ms,Ge=function(lt){var Rt=Ke[lt];Ke[lt]=function(){for(var Bt=arguments.length,At=new Array(Bt),ii=0;ii<Bt;ii++)At[ii]=arguments[ii];var vi=le.tokenizer[lt].apply(Ke,At);return vi===!1&&(vi=Rt.apply(Ke,At)),vi}};for(var ye in le.tokenizer)Ge(ye);wt.tokenizer=Ke}(),le.walkTokens){var Be=en.defaults.walkTokens;wt.walkTokens=function(Ke){var Ge=[];return Ge.push(le.walkTokens.call(this,Ke)),Be&&(Ge=Ge.concat(Be.call(this,Ke))),Ge}}Oe&&(wt.extensions=mt),en.setOptions(wt)})},en.walkTokens=function(pi,ci){for(var ui=[],wt=function(){var Be=Oe.value;switch(ui=ui.concat(ci.call(en,Be)),Be.type){case"table":{for(var Ke=qe(Be.header),Ge;!(Ge=Ke()).done;){var ye=Ge.value;ui=ui.concat(en.walkTokens(ye.tokens,ci))}for(var ze=qe(Be.rows),lt;!(lt=ze()).done;)for(var Rt=lt.value,Bt=qe(Rt),At;!(At=Bt()).done;){var ii=At.value;ui=ui.concat(en.walkTokens(ii.tokens,ci))}break}case"list":{ui=ui.concat(en.walkTokens(Be.items,ci));break}default:en.defaults.extensions&&en.defaults.extensions.childTokens&&en.defaults.extensions.childTokens[Be.type]?en.defaults.extensions.childTokens[Be.type].forEach(function(vi){ui=ui.concat(en.walkTokens(Be[vi],ci))}):Be.tokens&&(ui=ui.concat(en.walkTokens(Be.tokens,ci)))}},mt=qe(pi),Oe;!(Oe=mt()).done;)wt();return ui},en.parseInline=function(pi,ci){if(typeof pi=="undefined"||pi===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof pi!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(pi)+", string expected");ci=li({},en.defaults,ci||{}),ji(ci);try{var ui=Ls.lexInline(pi,ci);return ci.walkTokens&&en.walkTokens(ui,ci.walkTokens),yn.parseInline(ui,ci)}catch(wt){if(wt.message+=`
Please report this to https://github.com/markedjs/marked.`,ci.silent)return"<p>An error occurred:</p><pre>"+Xe(wt.message+"",!0)+"</pre>";throw wt}},en.Parser=yn,en.parser=yn.parse,en.Renderer=ts,en.TextRenderer=Kn,en.Lexer=Ls,en.lexer=Ls.lex,en.Tokenizer=ms,en.Slugger=Wn,en.parse=en;var Ms=en.options,Ss=en.setOptions,ps=en.use,oo=en.walkTokens,hs=en.parseInline,Ts=en,In=yn.parse,Yn=Ls.lex;oe.Lexer=Ls,oe.Parser=yn,oe.Renderer=ts,oe.Slugger=Wn,oe.TextRenderer=Kn,oe.Tokenizer=ms,oe.getDefaults=ot,oe.lexer=Yn,oe.marked=en,oe.options=Ms,oe.parse=Ts,oe.parseInline=hs,oe.parser=In,oe.setOptions=Ss,oe.use=ps,oe.walkTokens=oo,Object.defineProperty(oe,"__esModule",{value:!0})})})();var C=a.Lexer||exports.Lexer,D=a.Parser||exports.Parser,u=a.Renderer||exports.Renderer,S=a.Slugger||exports.Slugger,w=a.TextRenderer||exports.TextRenderer,L=a.Tokenizer||exports.Tokenizer,N=a.getDefaults||exports.getDefaults,O=a.lexer||exports.lexer,x=a.marked||exports.marked,T=a.options||exports.options,W=a.parse||exports.parse,U=a.parseInline||exports.parseInline,K=a.parser||exports.parser,G=a.setOptions||exports.setOptions,z=a.use||exports.use,k=a.walkTokens||exports.walkTokens,q=i(65533),te=i(5007),X=i(23127),j=i(6227),J=i(17416),Y=i(28919);const ee=Object.freeze({image:(Ie,oe,ge)=>{let Ce=[],me=[];return Ie&&({href:Ie,dimensions:Ce}=(0,p.v1)(Ie),me.push(`src="${(0,p.d9)(Ie)}"`)),ge&&me.push(`alt="${(0,p.d9)(ge)}"`),oe&&me.push(`title="${(0,p.d9)(oe)}"`),Ce.length&&(me=me.concat(Ce)),"<img "+me.join(" ")+">"},paragraph:Ie=>`<p>${Ie}</p>`,link:(Ie,oe,ge)=>typeof Ie!="string"?"":(Ie===ge&&(ge=(0,p.oR)(ge)),oe=typeof oe=="string"?(0,p.d9)((0,p.oR)(oe)):"",Ie=(0,p.oR)(Ie),Ie=Ie.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${Ie}" title="${oe||Ie}">${ge}</a>`)});function fe(Ie,oe={},ge={}){var Ce,me;const Me=new n.SL;let qe=!1;const ot=(0,_.az)(oe),ut=function(Xt){let zt;try{zt=(0,q.Q)(decodeURIComponent(Xt))}catch(Fe){}return zt?(zt=(0,X.rs)(zt,Fe=>{if(Ie.uris&&Ie.uris[Fe])return Y.o.revive(Ie.uris[Fe])}),encodeURIComponent(JSON.stringify(zt))):Xt},ht=function(Xt,zt){const Fe=Ie.uris&&Ie.uris[Xt];let et=Y.o.revive(Fe);return zt?Xt.startsWith(te.lg.data+":")?Xt:(et||(et=Y.o.parse(Xt)),te.Gi.uriToBrowserUri(et).toString(!0)):!et||Y.o.parse(Xt).toString()===et.toString()?Xt:(et.query&&(et=et.with({query:ut(et.query)})),et.toString())},Ct=new x.Renderer;Ct.image=ee.image,Ct.link=ee.link,Ct.paragraph=ee.paragraph;const Pt=[],bt=[];if(oe.codeBlockRendererSync?Ct.code=(Xt,zt)=>{const Fe=d.a.nextId(),et=oe.codeBlockRendererSync(De(zt),Xt);return bt.push([Fe,et]),`<div class="code" data-code="${Fe}">${(0,J.YU)(Xt)}</div>`}:oe.codeBlockRenderer&&(Ct.code=(Xt,zt)=>{const Fe=d.a.nextId(),et=oe.codeBlockRenderer(De(zt),Xt);return Pt.push(et.then(pt=>[Fe,pt])),`<div class="code" data-code="${Fe}">${(0,J.YU)(Xt)}</div>`}),oe.actionHandler){const Xt=function(et){let pt=et.target;if(!(pt.tagName!=="A"&&(pt=pt.parentElement,!pt||pt.tagName!=="A")))try{let It=pt.dataset.href;It&&(Ie.baseUri&&(It=Ne(Y.o.from(Ie.baseUri),It)),oe.actionHandler.callback(It,et))}catch(It){(0,E.dL)(It)}finally{et.preventDefault()}},zt=oe.actionHandler.disposables.add(new f.Y(ot,"click")),Fe=oe.actionHandler.disposables.add(new f.Y(ot,"auxclick"));oe.actionHandler.disposables.add(R.ju.any(zt.event,Fe.event)(et=>{const pt=new A.n(et);!pt.leftButton&&!pt.middleButton||Xt(pt)})),oe.actionHandler.disposables.add(m.nm(ot,"keydown",et=>{const pt=new v.y(et);!pt.equals(10)&&!pt.equals(3)||Xt(pt)}))}Ie.supportHtml||(ge.sanitizer=Xt=>(Ie.isTrusted?Xt.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Xt:"",ge.sanitize=!0,ge.silent=!0),ge.renderer=Ct;let $t=(Ce=Ie.value)!==null&&Ce!==void 0?Ce:"";$t.length>1e5&&($t=`${$t.substr(0,1e5)}\u2026`),Ie.supportThemeIcons&&($t=(0,l.f$)($t));let Mt;if(oe.fillInIncompleteTokens){const Xt=Object.assign(Object.assign({},x.defaults),ge),zt=x.lexer($t,Xt),Fe=Z(zt);Mt=x.parser(Fe,Xt)}else Mt=x.parse($t,ge);Ie.supportThemeIcons&&(Mt=(0,M.T)(Mt).map(zt=>typeof zt=="string"?zt:zt.outerHTML).join(""));const Lt=new DOMParser().parseFromString(be(Ie,Mt),"text/html");if(Lt.body.querySelectorAll("img").forEach(Xt=>{const zt=Xt.getAttribute("src");if(zt){let Fe=zt;try{Ie.baseUri&&(Fe=Ne(Y.o.from(Ie.baseUri),Fe))}catch(et){}Xt.src=ht(Fe,!0)}}),Lt.body.querySelectorAll("a").forEach(Xt=>{const zt=Xt.getAttribute("href");if(Xt.setAttribute("href",""),!zt||/^data:|javascript:/i.test(zt)||/^command:/i.test(zt)&&!Ie.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(zt))Xt.replaceWith(...Xt.childNodes);else{let Fe=ht(zt,!1);Ie.baseUri&&(Fe=Ne(Y.o.from(Ie.baseUri),zt)),Xt.dataset.href=Fe}}),ot.innerHTML=be(Ie,Lt.body.innerHTML),Pt.length>0)Promise.all(Pt).then(Xt=>{var zt,Fe;if(qe)return;const et=new Map(Xt),pt=ot.querySelectorAll("div[data-code]");for(const It of pt){const kt=et.get((zt=It.dataset.code)!==null&&zt!==void 0?zt:"");kt&&m.mc(It,kt)}(Fe=oe.asyncRenderCallback)===null||Fe===void 0||Fe.call(oe)});else if(bt.length>0){const Xt=new Map(bt),zt=ot.querySelectorAll("div[data-code]");for(const Fe of zt){const et=Xt.get((me=Fe.dataset.code)!==null&&me!==void 0?me:"");et&&m.mc(Fe,et)}}if(oe.asyncRenderCallback)for(const Xt of ot.getElementsByTagName("img")){const zt=Me.add(m.nm(Xt,"load",()=>{zt.dispose(),oe.asyncRenderCallback()}))}return{element:ot,dispose:()=>{qe=!0,Me.dispose()}}}function De(Ie){if(!Ie)return"";const oe=Ie.split(/[\s+|:|,|\{|\?]/,1);return oe.length?oe[0]:Ie}function Ne(Ie,oe){return/^\w[\w\d+.-]*:/.test(oe)?oe:Ie.path.endsWith("/")?(0,j.i3)(Ie,oe).toString():(0,j.i3)((0,j.XX)(Ie),oe).toString()}function be(Ie,oe){const{config:ge,allowedSchemes:Ce}=Le(Ie);B.v5("uponSanitizeAttribute",(Me,qe)=>{if(qe.attrName==="style"||qe.attrName==="class"){if(Me.tagName==="SPAN"){if(qe.attrName==="style"){qe.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(qe.attrValue);return}else if(qe.attrName==="class"){qe.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(qe.attrValue);return}}qe.keepAttr=!1;return}});const me=m._F(Ce);try{return B.Nw(oe,Object.assign(Object.assign({},ge),{RETURN_TRUSTED_TYPE:!0}))}finally{B.ok("uponSanitizeAttribute"),me.dispose()}}const xe=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function Le(Ie){const oe=[te.lg.http,te.lg.https,te.lg.mailto,te.lg.data,te.lg.file,te.lg.vscodeFileResource,te.lg.vscodeRemote,te.lg.vscodeRemoteResource];return Ie.isTrusted&&oe.push(te.lg.command),{config:{ALLOWED_TAGS:[...m.sQ],ALLOWED_ATTR:xe,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:oe}}function ue(Ie){return typeof Ie=="string"?Ie:re(Ie)}function re(Ie){var oe;let ge=(oe=Ie.value)!==null&&oe!==void 0?oe:"";ge.length>1e5&&(ge=`${ge.substr(0,1e5)}\u2026`);const Ce=x.parse(ge,{renderer:Ue.value}).replace(/&(#\d+|[a-zA-Z]+);/g,me=>{var Me;return(Me=_e.get(me))!==null&&Me!==void 0?Me:me});return be({isTrusted:!1},Ce).toString()}const _e=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),Ue=new g.o(()=>{const Ie=new x.Renderer;return Ie.code=oe=>oe,Ie.blockquote=oe=>oe,Ie.html=oe=>"",Ie.heading=(oe,ge,Ce)=>oe+`
`,Ie.hr=()=>"",Ie.list=(oe,ge)=>oe,Ie.listitem=oe=>oe+`
`,Ie.paragraph=oe=>oe+`
`,Ie.table=(oe,ge)=>oe+ge+`
`,Ie.tablerow=oe=>oe,Ie.tablecell=(oe,ge)=>oe+" ",Ie.strong=oe=>oe,Ie.em=oe=>oe,Ie.codespan=oe=>oe,Ie.br=()=>`
`,Ie.del=oe=>oe,Ie.image=(oe,ge,Ce)=>"",Ie.text=oe=>oe,Ie.link=(oe,ge,Ce)=>Ce,Ie});function Qe(Ie){let oe="";return Ie.forEach(ge=>{oe+=ge.raw}),oe}function Re(Ie){const oe=Ie.tokens[0];if(oe.type==="text"){const ge=oe.raw.split(`
`),Ce=ge[ge.length-1];if(Ce.includes("`"))return ve(Ie);if(Ce.includes("**"))return it(Ie);if(Ce.match(/\*\w/))return he(Ie);if(Ce.match(/(^|\s)__\w/))return Ze(Ie);if(Ce.match(/(^|\s)_\w/))return ce(Ie);if(Ce.match(/(^|\s)\[.*\]\(\w*/))return Ee(Ie);if(Ce.match(/(^|\s)\[\w/))return We(Ie)}}function ie(Ie){const oe=Ie.items[Ie.items.length-1],ge=Re(oe);if(!ge||ge.type!=="list")return;const Ce=x.lexer(Qe(Ie.items.slice(0,Ie.items.length-1))+ge.items[0].raw);if(Ce.length===1&&Ce[0].type==="list")return Ce[0]}function Z(Ie){let oe,ge;for(oe=0;oe<Ie.length;oe++){const Ce=Ie[oe];if(Ce.type==="paragraph"&&Ce.raw.match(/(\n|^)```/)){ge=se(Ie.slice(oe));break}if(Ce.type==="paragraph"&&Ce.raw.match(/(\n|^)\|/)){ge=Te(Ie.slice(oe));break}if(oe===Ie.length-1&&Ce.type==="list"){const me=ie(Ce);if(me){ge=[me];break}}if(oe===Ie.length-1&&Ce.type==="paragraph"){const me=Re(Ce);if(me){ge=[me];break}}}if(ge){const Ce=[...Ie.slice(0,oe),...ge];return Ce.links=Ie.links,Ce}return Ie}function se(Ie){const oe=Qe(Ie);return x.lexer(oe+"\n```")}function ve(Ie){return je(Ie,"`")}function he(Ie){return je(Ie,"*")}function ce(Ie){return je(Ie,"_")}function Ee(Ie){return je(Ie,")")}function We(Ie){return je(Ie,"](about:blank)")}function it(Ie){return je(Ie,"**")}function Ze(Ie){return je(Ie,"__")}function je(Ie,oe){const ge=Qe(Array.isArray(Ie)?Ie:[Ie]);return x.lexer(ge+oe)[0]}function Te(Ie){const oe=Qe(Ie),ge=oe.split(`
`);let Ce,me=!1;for(let Me=0;Me<ge.length;Me++){const qe=ge[Me].trim();if(typeof Ce=="undefined"&&qe.match(/^\s*\|/)){const ot=qe.match(/(\|[^\|]+)(?=\||$)/g);ot&&(Ce=ot.length)}else if(typeof Ce=="number")if(qe.match(/^\s*\|/)){if(Me!==ge.length-1)return;me=!0}else return}if(typeof Ce=="number"&&Ce>0){const Me=me?ge.slice(0,-1).join(`
`):oe,qe=!!Me.match(/\|\s*$/),ot=Me+(qe?"":"|")+`
|${" --- |".repeat(Ce)}`;return x.lexer(ot)}}},64079:function(Ot,He,i){"use strict";i.d(He,{n:function(){return M},q:function(){return E}});var m=i(71488);let B=!1,f=null;function _(R){if(!R.parent||R.parent===R)return null;try{const p=R.location,l=R.parent.location;if(p.origin!=="null"&&l.origin!=="null"&&p.origin!==l.origin)return B=!0,null}catch(p){return B=!0,null}return R.parent}class v{static getSameOriginWindowChain(){if(!f){f=[];let p=window,l;do l=_(p),l?f.push({window:p,iframeElement:p.frameElement||null}):f.push({window:p,iframeElement:null}),p=l;while(p)}return f.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(p,l){if(!l||p===l)return{top:0,left:0};let d=0,g=0;const n=this.getSameOriginWindowChain();for(const a of n){if(d+=a.window.scrollY,g+=a.window.scrollX,a.window===l||!a.iframeElement)break;const C=a.iframeElement.getBoundingClientRect();d+=C.top,g+=C.left}return{top:d,left:g}}}var A=i(11138);class M{constructor(p){this.timestamp=Date.now(),this.browserEvent=p,this.leftButton=p.button===0,this.middleButton=p.button===1,this.rightButton=p.button===2,this.buttons=p.buttons,this.target=p.target,this.detail=p.detail||1,p.type==="dblclick"&&(this.detail=2),this.ctrlKey=p.ctrlKey,this.shiftKey=p.shiftKey,this.altKey=p.altKey,this.metaKey=p.metaKey,typeof p.pageX=="number"?(this.posx=p.pageX,this.posy=p.pageY):(this.posx=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=p.clientY+document.body.scrollTop+document.documentElement.scrollTop);const l=v.getPositionOfChildWindowRelativeToAncestorWindow(window,p.view);this.posx-=l.left,this.posy-=l.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class E{constructor(p,l=0,d=0){if(this.browserEvent=p||null,this.target=p?p.target||p.targetNode||p.srcElement:null,this.deltaY=d,this.deltaX=l,p){const g=p,n=p;if(typeof g.wheelDeltaY!="undefined")this.deltaY=g.wheelDeltaY/120;else if(typeof n.VERTICAL_AXIS!="undefined"&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if(p.type==="wheel"){const a=p;a.deltaMode===a.DOM_DELTA_LINE?m.isFirefox&&!A.dz?this.deltaY=-p.deltaY/3:this.deltaY=-p.deltaY:this.deltaY=-p.deltaY/40}if(typeof g.wheelDeltaX!="undefined")m.isSafari&&A.ED?this.deltaX=-(g.wheelDeltaX/120):this.deltaX=g.wheelDeltaX/120;else if(typeof n.HORIZONTAL_AXIS!="undefined"&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-p.detail/3;else if(p.type==="wheel"){const a=p;a.deltaMode===a.DOM_DELTA_LINE?m.isFirefox&&!A.dz?this.deltaX=-p.deltaX/3:this.deltaX=-p.deltaX:this.deltaX=-p.deltaX/40}this.deltaY===0&&this.deltaX===0&&p.wheelDelta&&(this.deltaY=p.wheelDelta/120)}}preventDefault(){var p;(p=this.browserEvent)===null||p===void 0||p.preventDefault()}stopPropagation(){var p;(p=this.browserEvent)===null||p===void 0||p.stopPropagation()}}},14209:function(Ot,He,i){"use strict";i.d(He,{B:function(){return m}});var m;(function(B){const f={total:0,min:Number.MAX_VALUE,max:0},_=Object.assign({},f),v=Object.assign({},f),A=Object.assign({},f);let M=0;const E={keydown:0,input:0,render:0};function R(){S(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),E.keydown=1,queueMicrotask(p)}B.onKeyDown=R;function p(){E.keydown===1&&(performance.mark("keydown/end"),E.keydown=2)}function l(){performance.mark("input/start"),E.input=1,u()}B.onBeforeInput=l;function d(){E.input===0&&l(),queueMicrotask(g)}B.onInput=d;function g(){E.input===1&&(performance.mark("input/end"),E.input=2)}function n(){S()}B.onKeyUp=n;function a(){S()}B.onSelectionChange=a;function C(){E.keydown===2&&E.input===2&&E.render===0&&(performance.mark("render/start"),E.render=1,queueMicrotask(D),u())}B.onRenderStart=C;function D(){E.render===1&&(performance.mark("render/end"),E.render=2)}function u(){setTimeout(S)}function S(){E.keydown===2&&E.input===2&&E.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),w("keydown",f),w("input",_),w("render",v),w("inputlatency",A),M++,L())}function w(T,W){const U=performance.getEntriesByName(T)[0].duration;W.total+=U,W.min=Math.min(W.min,U),W.max=Math.max(W.max,U)}function L(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),E.keydown=0,E.input=0,E.render=0}function N(){if(M===0)return;const T={keydown:O(f),input:O(_),render:O(v),total:O(A),sampleCount:M};return x(f),x(_),x(v),x(A),M=0,T}B.getAndClearMeasurements=N;function O(T){return{average:T.total/M,max:T.max,min:T.min}}function x(T){T.total=0,T.min=Number.MAX_VALUE,T.max=0}})(m||(m={}))},80265:function(Ot,He,i){"use strict";i.d(He,{o:function(){return E},t:function(){return M}});var m=i(34441),B=i(16308),f=i(4848),_=i(38431),v=i(17979),A=function(R,p,l,d){var g=arguments.length,n=g<3?p:d===null?d=Object.getOwnPropertyDescriptor(p,l):d,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(R,p,l,d);else for(var C=R.length-1;C>=0;C--)(a=R[C])&&(n=(g<3?a(n):g>3?a(p,l,n):a(p,l))||n);return g>3&&n&&Object.defineProperty(p,l,n),n},M;(function(R){R.Tap="-monaco-gesturetap",R.Change="-monaco-gesturechange",R.Start="-monaco-gesturestart",R.End="-monaco-gesturesend",R.Contextmenu="-monaco-gesturecontextmenu"})(M||(M={}));class E extends _.JT{constructor(){super(),this.dispatched=!1,this.targets=new v.S,this.ignoreTargets=new v.S,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(m.nm(document,"touchstart",p=>this.onTouchStart(p),{passive:!1})),this._register(m.nm(document,"touchend",p=>this.onTouchEnd(p))),this._register(m.nm(document,"touchmove",p=>this.onTouchMove(p),{passive:!1}))}static addTarget(p){if(!E.isTouchDevice())return _.JT.None;E.INSTANCE||(E.INSTANCE=new E);const l=E.INSTANCE.targets.push(p);return(0,_.OF)(l)}static ignoreTarget(p){if(!E.isTouchDevice())return _.JT.None;E.INSTANCE||(E.INSTANCE=new E);const l=E.INSTANCE.ignoreTargets.push(p);return(0,_.OF)(l)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(p){const l=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let d=0,g=p.targetTouches.length;d<g;d++){const n=p.targetTouches.item(d);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:l,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[l],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};const a=this.newGestureEvent(M.Start,n.target);a.pageX=n.pageX,a.pageY=n.pageY,this.dispatchEvent(a)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}onTouchEnd(p){const l=Date.now(),d=Object.keys(this.activeTouches).length;for(let g=0,n=p.changedTouches.length;g<n;g++){const a=p.changedTouches.item(g);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const C=this.activeTouches[a.identifier],D=Date.now()-C.initialTimeStamp;if(D<E.HOLD_DELAY&&Math.abs(C.initialPageX-B.Gb(C.rollingPageX))<30&&Math.abs(C.initialPageY-B.Gb(C.rollingPageY))<30){const u=this.newGestureEvent(M.Tap,C.initialTarget);u.pageX=B.Gb(C.rollingPageX),u.pageY=B.Gb(C.rollingPageY),this.dispatchEvent(u)}else if(D>=E.HOLD_DELAY&&Math.abs(C.initialPageX-B.Gb(C.rollingPageX))<30&&Math.abs(C.initialPageY-B.Gb(C.rollingPageY))<30){const u=this.newGestureEvent(M.Contextmenu,C.initialTarget);u.pageX=B.Gb(C.rollingPageX),u.pageY=B.Gb(C.rollingPageY),this.dispatchEvent(u)}else if(d===1){const u=B.Gb(C.rollingPageX),S=B.Gb(C.rollingPageY),w=B.Gb(C.rollingTimestamps)-C.rollingTimestamps[0],L=u-C.rollingPageX[0],N=S-C.rollingPageY[0],O=[...this.targets].filter(x=>C.initialTarget instanceof Node&&x.contains(C.initialTarget));this.inertia(O,l,Math.abs(L)/w,L>0?1:-1,u,Math.abs(N)/w,N>0?1:-1,S)}this.dispatchEvent(this.newGestureEvent(M.End,C.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}newGestureEvent(p,l){const d=document.createEvent("CustomEvent");return d.initEvent(p,!1,!0),d.initialTarget=l,d.tapCount=0,d}dispatchEvent(p){if(p.type===M.Tap){const l=new Date().getTime();let d=0;l-this._lastSetTapCountTime>E.CLEAR_TAP_COUNT_TIME?d=1:d=2,this._lastSetTapCountTime=l,p.tapCount=d}else(p.type===M.Change||p.type===M.Contextmenu)&&(this._lastSetTapCountTime=0);if(p.initialTarget instanceof Node){for(const l of this.ignoreTargets)if(l.contains(p.initialTarget))return;for(const l of this.targets)l.contains(p.initialTarget)&&(l.dispatchEvent(p),this.dispatched=!0)}}inertia(p,l,d,g,n,a,C,D){this.handle=m.jL(()=>{const u=Date.now(),S=u-l;let w=0,L=0,N=!0;d+=E.SCROLL_FRICTION*S,a+=E.SCROLL_FRICTION*S,d>0&&(N=!1,w=g*d*S),a>0&&(N=!1,L=C*a*S);const O=this.newGestureEvent(M.Change);O.translationX=w,O.translationY=L,p.forEach(x=>x.dispatchEvent(O)),N||this.inertia(p,u,d,g,n+w,a,C,D+L)})}onTouchMove(p){const l=Date.now();for(let d=0,g=p.changedTouches.length;d<g;d++){const n=p.changedTouches.item(d);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}const a=this.activeTouches[n.identifier],C=this.newGestureEvent(M.Change,a.initialTarget);C.translationX=n.pageX-B.Gb(a.rollingPageX),C.translationY=n.pageY-B.Gb(a.rollingPageY),C.pageX=n.pageX,C.pageY=n.pageY,this.dispatchEvent(C),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(n.pageX),a.rollingPageY.push(n.pageY),a.rollingTimestamps.push(l)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}}E.SCROLL_FRICTION=-.005,E.HOLD_DELAY=700,E.CLEAR_TAP_COUNT_TIME=400,A([f.H],E,"isTouchDevice",null)},31957:function(Ot,He,i){"use strict";i.d(He,{gU:function(){return U},YH:function(){return W},Lc:function(){return K}});var m=i(71488),B=i(89181),f=i(34441),_=i(80265),v=i(83579),A=i(54505),M=i(6544),E=i(10786),R=i(75490),p=i(16308),l=i(56709),d=i(94880),g=i(38431),n=i(11138),a=i(26386);const C=f.$,D="selectOption.entry.template";class u{get templateId(){return D}renderTemplate(z){const k=Object.create(null);return k.root=z,k.text=f.R3(z,C(".option-text")),k.detail=f.R3(z,C(".option-detail")),k.decoratorRight=f.R3(z,C(".option-decorator-right")),k}renderElement(z,k,q){const te=q,X=z.text,j=z.detail,J=z.decoratorRight,Y=z.isDisabled;te.text.textContent=X,te.detail.textContent=j||"",te.decoratorRight.innerText=J||"",Y?te.root.classList.add("option-disabled"):te.root.classList.remove("option-disabled")}disposeTemplate(z){}}class S extends g.JT{constructor(z,k,q,te,X){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=te,this.selectBoxOptions=X||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=S.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new l.Q5,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(q),this.selected=k||0,z&&this.setOptions(z,k),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return D}constructSelectDropDown(z){this.contextViewProvider=z,this.selectDropDownContainer=f.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=f.R3(this.selectDropDownContainer,C(".select-box-details-pane"));const k=f.R3(this.selectDropDownContainer,C(".select-box-dropdown-container-width-control")),q=f.R3(k,C(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",f.R3(q,this.widthControlElement),this._dropDownPosition=0,this.styleElement=f.dS(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(f.nm(this.selectDropDownContainer,f.tw.DRAG_START,te=>{f.zB.stop(te,!0)}))}registerListeners(){this._register(f.mu(this.selectElement,"change",k=>{this.selected=k.target.selectedIndex,this._onDidSelect.fire({index:k.target.selectedIndex,selected:k.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(f.nm(this.selectElement,f.tw.CLICK,k=>{f.zB.stop(k),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.nm(this.selectElement,f.tw.MOUSE_DOWN,k=>{f.zB.stop(k)}));let z;this._register(f.nm(this.selectElement,"touchstart",k=>{z=this._isVisible})),this._register(f.nm(this.selectElement,"touchend",k=>{f.zB.stop(k),z?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.nm(this.selectElement,f.tw.KEY_DOWN,k=>{const q=new M.y(k);let te=!1;n.dz?(q.keyCode===18||q.keyCode===16||q.keyCode===10||q.keyCode===3)&&(te=!0):(q.keyCode===18&&q.altKey||q.keyCode===16&&q.altKey||q.keyCode===10||q.keyCode===3)&&(te=!0),te&&(this.showSelectDropDown(),f.zB.stop(k,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(z,k){p.fS(this.options,z)||(this.options=z,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((q,te)=>{this.selectElement.add(this.createOption(q.text,te,q.isDisabled)),typeof q.description=="string"&&(this._hasDetails=!0)})),k!==void 0&&(this.select(k),this._currentSelection=this.selected)}setOptionsList(){var z;(z=this.selectList)===null||z===void 0||z.splice(0,this.selectList.length,this.options)}select(z){z>=0&&z<this.options.length?this.selected=z:z>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(z){this.selectElement.tabIndex=z?0:-1}render(z){this.container=z,z.classList.add("select-container"),z.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const z=[];this.styles.listFocusBackground&&z.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&z.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&z.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(z.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),z.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),z.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(z.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),z.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&z.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&z.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&z.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&z.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),z.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),z.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=z.join(`
`)}styleSelectElement(){var z,k,q;const te=(z=this.styles.selectBackground)!==null&&z!==void 0?z:"",X=(k=this.styles.selectForeground)!==null&&k!==void 0?k:"",j=(q=this.styles.selectBorder)!==null&&q!==void 0?q:"";this.selectElement.style.backgroundColor=te,this.selectElement.style.color=X,this.selectElement.style.borderColor=j}styleList(){var z,k;const q=(z=this.styles.selectBackground)!==null&&z!==void 0?z:"",te=f.XT(this.styles.selectListBackground,q);this.selectDropDownListContainer.style.backgroundColor=te,this.selectionDetailsPane.style.backgroundColor=te;const X=(k=this.styles.focusBorder)!==null&&k!==void 0?k:"";this.selectDropDownContainer.style.outlineColor=X,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(z,k,q){const te=document.createElement("option");return te.value=z,te.text=z,te.disabled=!!q,te}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:z=>this.renderSelectDropDown(z,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:z=>this.renderSelectDropDown(z),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(z){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),z&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(z,k){return z.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(k),{dispose:()=>{try{z.removeChild(this.selectDropDownContainer)}catch(q){}}}}measureMaxDetailsHeight(){let z=0;return this.options.forEach((k,q)=>{this.updateDetail(q),this.selectionDetailsPane.offsetHeight>z&&(z=this.selectionDetailsPane.offsetHeight)}),z}layoutSelectDropDown(z){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const k=f.i(this.selectElement),q=getComputedStyle(this.selectElement),te=parseFloat(q.getPropertyValue("--dropdown-padding-top"))+parseFloat(q.getPropertyValue("--dropdown-padding-bottom")),X=window.innerHeight-k.top-k.height-(this.selectBoxOptions.minBottomMargin||0),j=k.top-S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,J=this.selectElement.offsetWidth,Y=this.setWidthControlElement(this.widthControlElement),ee=Math.max(Y,Math.round(J)).toString()+"px";this.selectDropDownContainer.style.width=ee,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let fe=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const De=this._hasDetails?this._cachedMaxDetailsHeight:0,Ne=fe+te+De,be=Math.floor((X-te-De)/this.getHeight()),xe=Math.floor((j-te-De)/this.getHeight());if(z)return k.top+k.height>window.innerHeight-22||k.top<S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||be<1&&xe<1?!1:(be<S.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&xe>be&&this.options.length>be?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(k.top+k.height>window.innerHeight-22||k.top<S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&be<1||this._dropDownPosition===1&&xe<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&be+xe<1)return this.hideSelectDropDown(!0),!1;Ne>X&&(fe=be*this.getHeight())}else Ne>j&&(fe=xe*this.getHeight());return this.selectList.layout(fe),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=fe+te+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=fe+te+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=ee,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(z){let k=0;if(z){let q=0,te=0;this.options.forEach((X,j)=>{const J=X.detail?X.detail.length:0,Y=X.decoratorRight?X.decoratorRight.length:0,ee=X.text.length+J+Y;ee>te&&(q=j,te=ee)}),z.textContent=this.options[q].text+(this.options[q].decoratorRight?this.options[q].decoratorRight+" ":""),k=f.w(z)}return k}createSelectList(z){if(this.selectList)return;this.selectDropDownListContainer=f.R3(z,C(".select-box-dropdown-list-container")),this.listRenderer=new u,this.selectList=new R.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:te=>{let X=te.text;return te.detail&&(X+=`. ${te.detail}`),te.decoratorRight&&(X+=`. ${te.decoratorRight}`),te.description&&(X+=`. ${te.description}`),X},getWidgetAriaLabel:()=>(0,a.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const k=this._register(new A.Y(this.selectDropDownListContainer,"keydown")),q=l.ju.chain(k.event).filter(()=>this.selectList.length>0).map(te=>new M.y(te));this._register(q.filter(te=>te.keyCode===3).on(te=>this.onEnter(te),this)),this._register(q.filter(te=>te.keyCode===2).on(te=>this.onEnter(te),this)),this._register(q.filter(te=>te.keyCode===9).on(te=>this.onEscape(te),this)),this._register(q.filter(te=>te.keyCode===16).on(te=>this.onUpArrow(te),this)),this._register(q.filter(te=>te.keyCode===18).on(te=>this.onDownArrow(te),this)),this._register(q.filter(te=>te.keyCode===12).on(this.onPageDown,this)),this._register(q.filter(te=>te.keyCode===11).on(this.onPageUp,this)),this._register(q.filter(te=>te.keyCode===14).on(this.onHome,this)),this._register(q.filter(te=>te.keyCode===13).on(this.onEnd,this)),this._register(q.filter(te=>te.keyCode>=21&&te.keyCode<=56||te.keyCode>=80&&te.keyCode<=108).on(this.onCharacter,this)),this._register(f.nm(this.selectList.getHTMLElement(),f.tw.POINTER_UP,te=>this.onPointerUp(te))),this._register(this.selectList.onMouseOver(te=>typeof te.index!="undefined"&&this.selectList.setFocus([te.index]))),this._register(this.selectList.onDidChangeFocus(te=>this.onListFocus(te))),this._register(f.nm(this.selectDropDownContainer,f.tw.FOCUS_OUT,te=>{!this._isVisible||f.jg(te.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(z){if(!this.selectList.length)return;f.zB.stop(z);const k=z.target;if(!k||k.classList.contains("slider"))return;const q=k.closest(".monaco-list-row");if(!q)return;const te=Number(q.getAttribute("data-index")),X=q.classList.contains("option-disabled");te>=0&&te<this.options.length&&!X&&(this.selected=te,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(z,k){const q=X=>{for(let j=0;j<X.childNodes.length;j++){const J=X.childNodes.item(j);(J.tagName&&J.tagName.toLowerCase())==="img"?X.removeChild(J):q(J)}},te=(0,E.ap)({value:z,supportThemeIcons:!0},{actionHandler:k});return te.element.classList.add("select-box-description-markdown"),q(te.element),te.element}onListFocus(z){!this._isVisible||!this._hasDetails||this.updateDetail(z.indexes[0])}updateDetail(z){var k,q;this.selectionDetailsPane.innerText="";const te=this.options[z],X=(k=te==null?void 0:te.description)!==null&&k!==void 0?k:"",j=(q=te==null?void 0:te.descriptionIsMarkdown)!==null&&q!==void 0?q:!1;if(X){if(j){const J=te.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(X,J))}else this.selectionDetailsPane.innerText=X;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(z){f.zB.stop(z),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(z){f.zB.stop(z),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(z){if(this.selected<this.options.length-1){f.zB.stop(z,!0);const k=this.options[this.selected+1].isDisabled;if(k&&this.options.length>this.selected+2)this.selected+=2;else{if(k)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(z){this.selected>0&&(f.zB.stop(z,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(z){f.zB.stop(z),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(z){f.zB.stop(z),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(z){f.zB.stop(z),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(z){f.zB.stop(z),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(z){const k=d.kL.toString(z.keyCode);let q=-1;for(let te=0;te<this.options.length-1;te++)if(q=(te+this.selected+1)%this.options.length,this.options[q].text.charAt(0).toUpperCase()===k&&!this.options[q].isDisabled){this.select(q),this.selectList.setFocus([q]),this.selectList.reveal(this.selectList.getFocus()[0]),f.zB.stop(z);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}S.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,S.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,S.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class w extends g.JT{constructor(z,k,q,te){super(),this.selected=0,this.selectBoxOptions=te||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new l.Q5),this.styles=q,this.registerListeners(),this.setOptions(z,k)}registerListeners(){this._register(_.o.addTarget(this.selectElement)),[_.t.Tap].forEach(z=>{this._register(f.nm(this.selectElement,z,k=>{this.selectElement.focus()}))}),this._register(f.mu(this.selectElement,"click",z=>{f.zB.stop(z,!0)})),this._register(f.mu(this.selectElement,"change",z=>{this.selectElement.title=z.target.value,this._onDidSelect.fire({index:z.target.selectedIndex,selected:z.target.value})})),this._register(f.mu(this.selectElement,"keydown",z=>{let k=!1;n.dz?(z.keyCode===18||z.keyCode===16||z.keyCode===10)&&(k=!0):(z.keyCode===18&&z.altKey||z.keyCode===10||z.keyCode===3)&&(k=!0),k&&z.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(z,k){(!this.options||!p.fS(this.options,z))&&(this.options=z,this.selectElement.options.length=0,this.options.forEach((q,te)=>{this.selectElement.add(this.createOption(q.text,te,q.isDisabled))})),k!==void 0&&this.select(k)}select(z){this.options.length===0?this.selected=0:z>=0&&z<this.options.length?this.selected=z:z>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(z){this.selectElement.tabIndex=z?0:-1}render(z){z.classList.add("select-container"),z.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var z,k,q;this.selectElement&&(this.selectElement.style.backgroundColor=(z=this.styles.selectBackground)!==null&&z!==void 0?z:"",this.selectElement.style.color=(k=this.styles.selectForeground)!==null&&k!==void 0?k:"",this.selectElement.style.borderColor=(q=this.styles.selectBorder)!==null&&q!==void 0?q:"")}createOption(z,k,q){const te=document.createElement("option");return te.value=z,te.text=z,te.disabled=!!q,te}}var L=i(88305);class N extends L.${constructor(z,k,q,te,X){super(),n.dz&&!(X!=null&&X.useCustomDrawn)?this.selectBoxDelegate=new w(z,k,te,X):this.selectBoxDelegate=new S(z,k,q,te,X),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(z,k){this.selectBoxDelegate.setOptions(z,k)}select(z){this.selectBoxDelegate.select(z)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(z){this.selectBoxDelegate.setFocusable(z)}render(z){this.selectBoxDelegate.render(z)}}var O=i(98299),x=i(14818),T=i(17922);class W extends g.JT{get action(){return this._action}constructor(z,k,q={}){super(),this.options=q,this._context=z||this,this._action=k,k instanceof O.aU&&this._register(k.onDidChange(te=>{this.element&&this.handleActionChangeEvent(te)}))}handleActionChangeEvent(z){z.enabled!==void 0&&this.updateEnabled(),z.checked!==void 0&&this.updateChecked(),z.class!==void 0&&this.updateClass(),z.label!==void 0&&(this.updateLabel(),this.updateTooltip()),z.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new O.Wi)),this._actionRunner}set actionRunner(z){this._actionRunner=z}isEnabled(){return this._action.enabled}setActionContext(z){this._context=z}render(z){const k=this.element=z;this._register(_.o.addTarget(z));const q=this.options&&this.options.draggable;q&&(z.draggable=!0,m.isFirefox&&this._register((0,f.nm)(z,f.tw.DRAG_START,te=>{var X;return(X=te.dataTransfer)===null||X===void 0?void 0:X.setData(B.g.TEXT,this._action.label)}))),this._register((0,f.nm)(k,_.t.Tap,te=>this.onClick(te,!0))),this._register((0,f.nm)(k,f.tw.MOUSE_DOWN,te=>{q||f.zB.stop(te,!0),this._action.enabled&&te.button===0&&k.classList.add("active")})),n.dz&&this._register((0,f.nm)(k,f.tw.CONTEXT_MENU,te=>{te.button===0&&te.ctrlKey===!0&&this.onClick(te)})),this._register((0,f.nm)(k,f.tw.CLICK,te=>{f.zB.stop(te,!0),this.options&&this.options.isMenu||this.onClick(te)})),this._register((0,f.nm)(k,f.tw.DBLCLICK,te=>{f.zB.stop(te,!0)})),[f.tw.MOUSE_UP,f.tw.MOUSE_OUT].forEach(te=>{this._register((0,f.nm)(k,te,X=>{f.zB.stop(X),k.classList.remove("active")}))})}onClick(z,k=!1){var q;f.zB.stop(z,!0);const te=x.Jp(this._context)?!((q=this.options)===null||q===void 0)&&q.useEventAsContext?z:{preserveFocus:k}:this._context;this.actionRunner.run(this._action,te)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(z){this.element&&(this.element.tabIndex=z?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var z;if(!this.element)return;const k=(z=this.getTooltip())!==null&&z!==void 0?z:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(k):(this.customHover=(0,v.g)(this.options.hoverDelegate,this.element,k),this._store.add(this.customHover))):this.element.title=k}updateAriaLabel(){var z;if(this.element){const k=(z=this.getTooltip())!==null&&z!==void 0?z:"";this.element.setAttribute("aria-label",k)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class U extends W{constructor(z,k,q){super(z,k,q),this.options=q,this.options.icon=q.icon!==void 0?q.icon:!1,this.options.label=q.label!==void 0?q.label:!0,this.cssClass=""}render(z){super.render(z),this.element&&(this.label=(0,f.R3)(this.element,(0,f.$)("a.action-label"))),this.label&&(this._action.id===O.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,f.R3)(this.element,(0,f.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(z){this.label&&(this.label.tabIndex=z?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let z=null;return this.action.tooltip?z=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(z=this.action.label,this.options.keybinding&&(z=a.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",z,this.options.keybinding))),z!=null?z:void 0}updateClass(){var z;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(z=this.label)===null||z===void 0||z.classList.remove("codicon")}updateEnabled(){var z,k;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(z=this.element)===null||z===void 0||z.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(k=this.element)===null||k===void 0||k.classList.add("disabled"))}updateAriaLabel(){var z;if(this.label){const k=(z=this.getTooltip())!==null&&z!==void 0?z:"";this.label.setAttribute("aria-label",k)}}updateChecked(){this.label&&(this.action.checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}class K extends W{constructor(z,k,q,te,X,j,J){super(z,k),this.selectBox=new N(q,te,X,j,J),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(z){this.selectBox.select(z)}registerListeners(){this._register(this.selectBox.onDidSelect(z=>this.runAction(z.selected,z.index)))}runAction(z,k){this.actionRunner.run(this._action,this.getActionContext(z,k))}getActionContext(z,k){return z}setFocusable(z){this.selectBox.setFocusable(z)}focus(){var z;(z=this.selectBox)===null||z===void 0||z.focus()}blur(){var z;(z=this.selectBox)===null||z===void 0||z.blur()}render(z){this.selectBox.render(z)}}},67235:function(Ot,He,i){"use strict";i.d(He,{o:function(){return p}});var m=i(34441),B=i(6544),f=i(31957),_=i(98299),v=i(56709),A=i(38431),M=i(14818),E=i(17922),R=function(l,d,g,n){function a(C){return C instanceof g?C:new g(function(D){D(C)})}return new(g||(g=Promise))(function(C,D){function u(L){try{w(n.next(L))}catch(N){D(N)}}function S(L){try{w(n.throw(L))}catch(N){D(N)}}function w(L){L.done?C(L.value):a(L.value).then(u,S)}w((n=n.apply(l,d||[])).next())})};class p extends A.JT{constructor(d,g={}){var n,a,C,D,u,S;super(),this._actionRunnerDisposables=this._register(new A.SL),this.viewItemDisposables=this._register(new A.b2),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new v.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new v.Q5({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new v.Q5),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new v.Q5),this.onWillRun=this._onWillRun.event,this.options=g,this._context=(n=g.context)!==null&&n!==void 0?n:null,this._orientation=(a=this.options.orientation)!==null&&a!==void 0?a:0,this._triggerKeys={keyDown:(D=(C=this.options.triggerKeys)===null||C===void 0?void 0:C.keyDown)!==null&&D!==void 0?D:!1,keys:(S=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keys)!==null&&S!==void 0?S:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new _.Wi,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(N=>this._onDidRun.fire(N))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(N=>this._onWillRun.fire(N))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",g.animated!==!1&&this.domNode.classList.add("animated");let w,L;switch(this._orientation){case 0:w=[15],L=[17];break;case 1:w=[16],L=[18],this.domNode.className+=" vertical";break}this._register(m.nm(this.domNode,m.tw.KEY_DOWN,N=>{const O=new B.y(N);let x=!0;const T=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;w&&(O.equals(w[0])||O.equals(w[1]))?x=this.focusPrevious():L&&(O.equals(L[0])||O.equals(L[1]))?x=this.focusNext():O.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():O.equals(14)?x=this.focusFirst():O.equals(13)?x=this.focusLast():O.equals(2)&&T instanceof f.YH&&T.trapsArrowNavigation?x=this.focusNext():this.isTriggerKeyEvent(O)?this._triggerKeys.keyDown?this.doTrigger(O):this.triggerKeyDown=!0:x=!1,x&&(O.preventDefault(),O.stopPropagation())})),this._register(m.nm(this.domNode,m.tw.KEY_UP,N=>{const O=new B.y(N);this.isTriggerKeyEvent(O)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(O)),O.preventDefault(),O.stopPropagation()):(O.equals(2)||O.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(m.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(m.vY()===this.domNode||!m.jg(m.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),d.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(d){if(this.focusable=d,this.focusable){const g=this.viewItems.find(n=>n instanceof f.YH&&n.isEnabled());g instanceof f.YH&&g.setFocusable(!0)}else this.viewItems.forEach(g=>{g instanceof f.YH&&g.setFocusable(!1)})}isTriggerKeyEvent(d){let g=!1;return this._triggerKeys.keys.forEach(n=>{g=g||d.equals(n)}),g}updateFocusedItem(){for(let d=0;d<this.actionsList.children.length;d++){const g=this.actionsList.children[d];if(m.jg(m.vY(),g)){this.focusedItem=d;break}}}get context(){return this._context}set context(d){this._context=d,this.viewItems.forEach(g=>g.setActionContext(d))}get actionRunner(){return this._actionRunner}set actionRunner(d){this._actionRunner=d,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(g=>this._onDidRun.fire(g))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(g=>this._onWillRun.fire(g))),this.viewItems.forEach(g=>g.actionRunner=d)}getContainer(){return this.domNode}getAction(d){var g;if(typeof d=="number")return(g=this.viewItems[d])===null||g===void 0?void 0:g.action;if(d instanceof HTMLElement){for(;d.parentElement!==this.actionsList;){if(!d.parentElement)return;d=d.parentElement}for(let n=0;n<this.actionsList.childNodes.length;n++)if(this.actionsList.childNodes[n]===d)return this.viewItems[n].action}}push(d,g={}){const n=Array.isArray(d)?d:[d];let a=M.hj(g.index)?g.index:null;n.forEach(C=>{const D=document.createElement("li");D.className="action-item",D.setAttribute("role","presentation");let u;const S=Object.assign({hoverDelegate:this.options.hoverDelegate},g);this.options.actionViewItemProvider&&(u=this.options.actionViewItemProvider(C,S)),u||(u=new f.gU(this.context,C,S)),this.options.allowContextMenu||this.viewItemDisposables.set(u,m.nm(D,m.tw.CONTEXT_MENU,w=>{m.zB.stop(w,!0)})),u.actionRunner=this._actionRunner,u.setActionContext(this.context),u.render(D),this.focusable&&u instanceof f.YH&&this.viewItems.length===0&&u.setFocusable(!0),a===null||a<0||a>=this.actionsList.children.length?(this.actionsList.appendChild(D),this.viewItems.push(u)):(this.actionsList.insertBefore(D,this.actionsList.children[a]),this.viewItems.splice(a,0,u),a++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,A.B9)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),m.PO(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(d){let g=!1,n;if(d===void 0?g=!0:typeof d=="number"?n=d:typeof d=="boolean"&&(g=d),g&&typeof this.focusedItem=="undefined"){const a=this.viewItems.findIndex(C=>C.isEnabled());this.focusedItem=a===-1?void 0:a,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(d){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const g=this.focusedItem;let n;do{if(!d&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=g,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==g&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===_.Z0.ID));return this.updateFocus(),!0}focusPrevious(d){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const g=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!d&&this.options.preventLoopNavigation)return this.focusedItem=g,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==g&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===_.Z0.ID));return this.updateFocus(!0),!0}updateFocus(d,g,n=!1){var a;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:g}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((a=this.viewItems[this.previouslyFocusedItem])===null||a===void 0||a.blur());const C=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(C){let D=!0;M.mf(C.focus)||(D=!1),this.options.focusOnlyEnabledItems&&M.mf(C.isEnabled)&&!C.isEnabled()&&(D=!1),C.action.id===_.Z0.ID&&(D=!1),D?(n||this.previouslyFocusedItem!==this.focusedItem)&&(C.focus(d),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:g}),this.previouslyFocusedItem=void 0)}}doTrigger(d){if(typeof this.focusedItem=="undefined")return;const g=this.viewItems[this.focusedItem];if(g instanceof f.YH){const n=g._context===null||g._context===void 0?d:g._context;this.run(g._action,n)}}run(d,g){return R(this,void 0,void 0,function*(){yield this._actionRunner.run(d,g)})}dispose(){this._context=void 0,this.viewItems=(0,A.B9)(this.viewItems),this.getContainer().remove(),super.dispose()}}},79874:function(Ot,He,i){"use strict";i.d(He,{Z9:function(){return p},wW:function(){return R},i7:function(){return l}});var m=i(34441),B=i(11138);const f=2e4;let _,v,A,M,E;function R(g){_=document.createElement("div"),_.className="monaco-aria-container";const n=()=>{const C=document.createElement("div");return C.className="monaco-alert",C.setAttribute("role","alert"),C.setAttribute("aria-atomic","true"),_.appendChild(C),C};v=n(),A=n();const a=()=>{const C=document.createElement("div");return C.className="monaco-status",C.setAttribute("role","complementary"),C.setAttribute("aria-live","polite"),C.setAttribute("aria-atomic","true"),_.appendChild(C),C};M=a(),E=a(),g.appendChild(_)}function p(g){_&&(v.textContent!==g?(m.PO(A),d(v,g)):(m.PO(v),d(A,g)))}function l(g){_&&(B.dz?p(g):M.textContent!==g?(m.PO(E),d(M,g)):(m.PO(M),d(E,g)))}function d(g,n){m.PO(g),n.length>f&&(n=n.substr(0,f)),g.textContent=n,g.style.visibility="hidden",g.style.visibility="visible"}},89467:function(){"use strict"},19205:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return f}});var m=i(34441),B=i(17416);class f{constructor(v,A,M){this.options=A,this.styles=M,this.count=0,this.element=(0,m.R3)(v,(0,m.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(v){this.count=v,this.render()}setTitleFormat(v){this.titleFormat=v,this.render()}render(){var v,A;this.element.textContent=(0,B.WU)(this.countFormat,this.count),this.element.title=(0,B.WU)(this.titleFormat,this.count),this.element.style.backgroundColor=(v=this.styles.badgeBackground)!==null&&v!==void 0?v:"",this.element.style.color=(A=this.styles.badgeForeground)!==null&&A!==void 0?A:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},19792:function(Ot,He,i){"use strict";i.d(He,{C:function(){return R}});var m=i(34441),B=i(31957),f=i(6544),_=i(80265),v=i(98299),A=i(56709);class M extends v.Wi{constructor(l,d){super(),this._onDidChangeVisibility=this._register(new A.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,m.R3)(l,(0,m.$)(".monaco-dropdown")),this._label=(0,m.R3)(this._element,(0,m.$)(".dropdown-label"));let g=d.labelRenderer;g||(g=a=>(a.textContent=d.label||"",null));for(const a of[m.tw.CLICK,m.tw.MOUSE_DOWN,_.t.Tap])this._register((0,m.nm)(this.element,a,C=>m.zB.stop(C,!0)));for(const a of[m.tw.MOUSE_DOWN,_.t.Tap])this._register((0,m.nm)(this._label,a,C=>{C instanceof MouseEvent&&(C.detail>1||C.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,m.nm)(this._label,m.tw.KEY_UP,a=>{const C=new f.y(a);(C.equals(3)||C.equals(10))&&(m.zB.stop(a,!0),this.visible?this.hide():this.show())}));const n=g(this._label);n&&this._register(n),this._register(_.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class E extends M{constructor(l,d){super(l,d),this._actions=[],this._contextMenuProvider=d.contextMenuProvider,this.actions=d.actions||[],this.actionProvider=d.actionProvider,this.menuClassName=d.menuClassName||"",this.menuAsChild=!!d.menuAsChild}set menuOptions(l){this._menuOptions=l}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(l){this._actions=l}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(l,d)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(l,d):void 0,getKeyBinding:l=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(l):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class R extends B.YH{constructor(l,d,g,n=Object.create(null)){super(null,l,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new A.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=d,this.contextMenuProvider=g,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(l){this.actionItem=l;const d=a=>{this.element=(0,m.R3)(a,(0,m.$)("a.action-label"));let C=[];return typeof this.options.classNames=="string"?C=this.options.classNames.split(/\s+/g).filter(D=>!!D):this.options.classNames&&(C=this.options.classNames),C.find(D=>D==="icon")||C.push("codicon"),this.element.classList.add(...C),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},g=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:d,menuAsChild:this.options.menuAsChild,actions:g?this.menuActionsOrProvider:void 0,actionProvider:g?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new E(l,n)),this._register(this.dropdownMenu.onDidChangeVisibility(a=>{var C;(C=this.element)===null||C===void 0||C.setAttribute("aria-expanded",`${a}`),this._onDidChangeVisibility.fire(a)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const a=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return a.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let l=null;return this.action.tooltip?l=this.action.tooltip:this.action.label&&(l=this.action.label),l!=null?l:void 0}setActionContext(l){super.setActionContext(l),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=l:this.dropdownMenu.menuOptions={context:l})}show(){var l;(l=this.dropdownMenu)===null||l===void 0||l.show()}updateEnabled(){var l,d;const g=!this.action.enabled;(l=this.actionItem)===null||l===void 0||l.classList.toggle("disabled",g),(d=this.element)===null||d===void 0||d.classList.toggle("disabled",g)}}},12049:function(Ot,He,i){"use strict";i.d(He,{V:function(){return p}});var m=i(34441),B=i(22664),f=i(6364),_=i(88305),v=i(56709),A=i(55873),M=i(26386),E=i(38431);const R=M.NC("defaultLabel","input");class p extends _.${constructor(d,g,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new E.SL,this.additionalToggles=[],this._onDidOptionChange=this._register(new v.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new v.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new v.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new v.Q5),this._onKeyUp=this._register(new v.Q5),this._onCaseSensitiveKeyDown=this._register(new v.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new v.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||R,this.showCommonFindToggles=!!n.showCommonFindToggles;const a=n.appendCaseSensitiveLabel||"",C=n.appendWholeWordsLabel||"",D=n.appendRegexLabel||"",u=n.history||[],S=!!n.flexibleHeight,w=!!n.flexibleWidth,L=n.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new f.pG(this.domNode,g,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:u,showHistoryHint:n.showHistoryHint,flexibleHeight:S,flexibleWidth:w,flexibleMaxHeight:L,inputBoxStyles:n.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new B.eH(Object.assign({appendTitle:D,isChecked:!1},n.toggleStyles))),this._register(this.regex.onChange(O=>{this._onDidOptionChange.fire(O),!O&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(O=>{this._onRegexKeyDown.fire(O)})),this.wholeWords=this._register(new B.Qx(Object.assign({appendTitle:C,isChecked:!1},n.toggleStyles))),this._register(this.wholeWords.onChange(O=>{this._onDidOptionChange.fire(O),!O&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new B.rk(Object.assign({appendTitle:a,isChecked:!1},n.toggleStyles))),this._register(this.caseSensitive.onChange(O=>{this._onDidOptionChange.fire(O),!O&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(O=>{this._onCaseSensitiveKeyDown.fire(O)}));const N=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,O=>{if(O.equals(15)||O.equals(17)||O.equals(9)){const x=N.indexOf(document.activeElement);if(x>=0){let T=-1;O.equals(17)?T=(x+1)%N.length:O.equals(15)&&(x===0?T=N.length-1:T=x-1),O.equals(9)?(N[x].blur(),this.inputBox.focus()):T>=0&&N[T].focus(),m.zB.stop(O,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n==null?void 0:n.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),d==null||d.appendChild(this.domNode),this._register(m.nm(this.inputBox.inputElement,"compositionstart",N=>{this.imeSessionInProgress=!0})),this._register(m.nm(this.inputBox.inputElement,"compositionend",N=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,N=>this._onKeyDown.fire(N)),this.onkeyup(this.inputBox.inputElement,N=>this._onKeyUp.fire(N)),this.oninput(this.inputBox.inputElement,N=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,N=>this._onMouseDown.fire(N))}get onDidChange(){return this.inputBox.onDidChange}layout(d){this.inputBox.layout(),this.updateInputBoxPadding(d.collapsedFindWidget)}enable(){var d,g,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(d=this.regex)===null||d===void 0||d.enable(),(g=this.wholeWords)===null||g===void 0||g.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(const a of this.additionalToggles)a.enable()}disable(){var d,g,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(d=this.regex)===null||d===void 0||d.disable(),(g=this.wholeWords)===null||g===void 0||g.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(const a of this.additionalToggles)a.disable()}setFocusInputOnOptionClick(d){this.fixFocusOnOptionClickEnabled=d}setEnabled(d){d?this.enable():this.disable()}setAdditionalToggles(d){for(const g of this.additionalToggles)g.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new E.SL;for(const g of d!=null?d:[])this.additionalTogglesDisposables.add(g),this.controls.appendChild(g.domNode),this.additionalTogglesDisposables.add(g.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(g);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(d=!1){var g,n,a,C,D,u;d?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((n=(g=this.caseSensitive)===null||g===void 0?void 0:g.width())!==null&&n!==void 0?n:0)+((C=(a=this.wholeWords)===null||a===void 0?void 0:a.width())!==null&&C!==void 0?C:0)+((u=(D=this.regex)===null||D===void 0?void 0:D.width())!==null&&u!==void 0?u:0)+this.additionalToggles.reduce((S,w)=>S+w.width(),0)}getValue(){return this.inputBox.value}setValue(d){this.inputBox.value!==d&&(this.inputBox.value=d)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var d,g;return(g=(d=this.caseSensitive)===null||d===void 0?void 0:d.checked)!==null&&g!==void 0?g:!1}setCaseSensitive(d){this.caseSensitive&&(this.caseSensitive.checked=d)}getWholeWords(){var d,g;return(g=(d=this.wholeWords)===null||d===void 0?void 0:d.checked)!==null&&g!==void 0?g:!1}setWholeWords(d){this.wholeWords&&(this.wholeWords.checked=d)}getRegex(){var d,g;return(g=(d=this.regex)===null||d===void 0?void 0:d.checked)!==null&&g!==void 0?g:!1}setRegex(d){this.regex&&(this.regex.checked=d,this.validate())}focusOnCaseSensitive(){var d;(d=this.caseSensitive)===null||d===void 0||d.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(d){this.inputBox.showMessage(d)}clearMessage(){this.inputBox.hideMessage()}}},22664:function(Ot,He,i){"use strict";i.d(He,{Qx:function(){return E},eH:function(){return R},rk:function(){return M}});var m=i(23602),B=i(407),f=i(26386);const _=f.NC("caseDescription","Match Case"),v=f.NC("wordsDescription","Match Whole Word"),A=f.NC("regexDescription","Use Regular Expression");class M extends m.Z{constructor(l){super({icon:B.l.caseSensitive,title:_+l.appendTitle,isChecked:l.isChecked,inputActiveOptionBorder:l.inputActiveOptionBorder,inputActiveOptionForeground:l.inputActiveOptionForeground,inputActiveOptionBackground:l.inputActiveOptionBackground})}}class E extends m.Z{constructor(l){super({icon:B.l.wholeWord,title:v+l.appendTitle,isChecked:l.isChecked,inputActiveOptionBorder:l.inputActiveOptionBorder,inputActiveOptionForeground:l.inputActiveOptionForeground,inputActiveOptionBackground:l.inputActiveOptionBackground})}}class R extends m.Z{constructor(l){super({icon:B.l.regex,title:A+l.appendTitle,isChecked:l.isChecked,inputActiveOptionBorder:l.inputActiveOptionBorder,inputActiveOptionForeground:l.inputActiveOptionForeground,inputActiveOptionBackground:l.inputActiveOptionBackground})}}},86357:function(Ot,He,i){"use strict";i.d(He,{q:function(){return _}});var m=i(34441),B=i(19111),f=i(23127);class _{constructor(A,M){var E;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(E=M==null?void 0:M.supportIcons)!==null&&E!==void 0?E:!1,this.domNode=m.R3(A,m.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(A,M=[],E="",R){A||(A=""),R&&(A=_.escapeNewLines(A,M)),!(this.didEverRender&&this.text===A&&this.title===E&&f.fS(this.highlights,M))&&(this.text=A,this.title=E,this.highlights=M,this.render())}render(){const A=[];let M=0;for(const E of this.highlights){if(E.end===E.start)continue;if(M<E.start){const l=this.text.substring(M,E.start);this.supportIcons?A.push(...(0,B.T)(l)):A.push(l),M=E.start}const R=this.text.substring(M,E.end),p=m.$("span.highlight",void 0,...this.supportIcons?(0,B.T)(R):[R]);E.extraClasses&&p.classList.add(...E.extraClasses),A.push(p),M=E.end}if(M<this.text.length){const E=this.text.substring(M);this.supportIcons?A.push(...(0,B.T)(E)):A.push(E)}m.mc(this.domNode,...A),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(A,M){let E=0,R=0;return A.replace(/\r\n|\r|\n/g,(p,l)=>{R=p===`\r
`?-1:0,l+=E;for(const d of M)d.end<=l||(d.start>=l&&(d.start+=R),d.end>=l&&(d.end+=R));return E+=R,"\u23CE"})}}},65029:function(Ot,He,i){"use strict";i.d(He,{g:function(){return E}});var m=i(34441),B=i(86357),f=i(83579),_=i(38431),v=i(23127),A=i(59004);class M{constructor(g){this._element=g}get element(){return this._element}set textContent(g){this.disposed||g===this._textContent||(this._textContent=g,this._element.textContent=g)}set className(g){this.disposed||g===this._className||(this._className=g,this._element.className=g)}set empty(g){this.disposed||g===this._empty||(this._empty=g,this._element.style.marginLeft=g?"0":"")}dispose(){this.disposed=!0}}class E extends _.JT{constructor(g,n){super(),this.customHovers=new Map,this.creationOptions=n,this.domNode=this._register(new M(m.R3(g,m.$(".monaco-icon-label")))),this.labelContainer=m.R3(this.domNode.element,m.$(".monaco-icon-label-container"));const a=m.R3(this.labelContainer,m.$("span.monaco-icon-name-container"));n!=null&&n.supportHighlights||n!=null&&n.supportIcons?this.nameNode=new l(a,!!n.supportIcons):this.nameNode=new R(a),this.hoverDelegate=n==null?void 0:n.hoverDelegate}get element(){return this.domNode.element}setLabel(g,n,a){const C=["monaco-icon-label"],D=["monaco-icon-label-container"];if(a&&(a.extraClasses&&C.push(...a.extraClasses),a.italic&&C.push("italic"),a.strikethrough&&C.push("strikethrough"),a.disabledCommand&&D.push("disabled")),this.domNode.className=C.join(" "),this.labelContainer.className=D.join(" "),this.setupHover(a!=null&&a.descriptionTitle?this.labelContainer:this.element,a==null?void 0:a.title),this.nameNode.setLabel(g,a),n||this.descriptionNode){const u=this.getOrCreateDescriptionNode();u instanceof B.q?(u.set(n||"",a?a.descriptionMatches:void 0,void 0,a==null?void 0:a.labelEscapeNewLines),this.setupHover(u.element,a==null?void 0:a.descriptionTitle)):(u.textContent=n&&(a!=null&&a.labelEscapeNewLines)?B.q.escapeNewLines(n,[]):n||"",this.setupHover(u.element,(a==null?void 0:a.descriptionTitle)||""),u.empty=!n)}}setupHover(g,n){const a=this.customHovers.get(g);if(a&&(a.dispose(),this.customHovers.delete(g)),!n){g.removeAttribute("title");return}if(!this.hoverDelegate)(0,f.O)(g,n);else{const C=(0,f.g)(this.hoverDelegate,g,n);C&&this.customHovers.set(g,C)}}dispose(){super.dispose();for(const g of this.customHovers.values())g.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var g;if(!this.descriptionNode){const n=this._register(new M(m.R3(this.labelContainer,m.$("span.monaco-icon-description-container"))));!((g=this.creationOptions)===null||g===void 0)&&g.supportDescriptionHighlights?this.descriptionNode=new B.q(m.R3(n.element,m.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new M(m.R3(n.element,m.$("span.label-description"))))}return this.descriptionNode}}class R{constructor(g){this.container=g,this.label=void 0,this.singleLabel=void 0}setLabel(g,n){if(!(this.label===g&&(0,v.fS)(this.options,n)))if(this.label=g,this.options=n,typeof g=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=m.R3(this.container,m.$("a.label-name",{id:n==null?void 0:n.domId}))),this.singleLabel.textContent=g;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let a=0;a<g.length;a++){const C=g[a],D=(n==null?void 0:n.domId)&&`${n==null?void 0:n.domId}_${a}`;m.R3(this.container,m.$("a.label-name",{id:D,"data-icon-label-count":g.length,"data-icon-label-index":a,role:"treeitem"},C)),a<g.length-1&&m.R3(this.container,m.$("span.label-separator",void 0,(n==null?void 0:n.separator)||"/"))}}}}function p(d,g,n){if(!n)return;let a=0;return d.map(C=>{const D={start:a,end:a+C.length},u=n.map(S=>A.e.intersect(D,S)).filter(S=>!A.e.isEmpty(S)).map(({start:S,end:w})=>({start:S-a,end:w-a}));return a=D.end+g.length,u})}class l{constructor(g,n){this.container=g,this.supportIcons=n,this.label=void 0,this.singleLabel=void 0}setLabel(g,n){if(!(this.label===g&&(0,v.fS)(this.options,n)))if(this.label=g,this.options=n,typeof g=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new B.q(m.R3(this.container,m.$("a.label-name",{id:n==null?void 0:n.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(g,n==null?void 0:n.matches,void 0,n==null?void 0:n.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const a=(n==null?void 0:n.separator)||"/",C=p(g,a,n==null?void 0:n.matches);for(let D=0;D<g.length;D++){const u=g[D],S=C?C[D]:void 0,w=(n==null?void 0:n.domId)&&`${n==null?void 0:n.domId}_${D}`,L=m.$("a.label-name",{id:w,"data-icon-label-count":g.length,"data-icon-label-index":D,role:"treeitem"});new B.q(m.R3(this.container,L),{supportIcons:this.supportIcons}).set(u,S,void 0,n==null?void 0:n.labelEscapeNewLines),D<g.length-1&&m.R3(L,m.$("span.label-separator",void 0,a))}}}}},83579:function(Ot,He,i){"use strict";i.d(He,{O:function(){return p},g:function(){return d}});var m=i(34441),B=i(13484),f=i(97464),_=i(69008),v=i(5858),A=i(38431),M=i(14818),E=i(26386),R=function(g,n,a,C){function D(u){return u instanceof a?u:new a(function(S){S(u)})}return new(a||(a=Promise))(function(u,S){function w(O){try{N(C.next(O))}catch(x){S(x)}}function L(O){try{N(C.throw(O))}catch(x){S(x)}}function N(O){O.done?u(O.value):D(O.value).then(w,L)}N((C=C.apply(g,n||[])).next())})};function p(g,n){(0,M.HD)(n)?g.title=(0,v.x$)(n):n!=null&&n.markdownNotSupportedFallback?g.title=n.markdownNotSupportedFallback:g.removeAttribute("title")}class l{constructor(n,a,C){this.hoverDelegate=n,this.target=a,this.fadeInAnimation=C}update(n,a,C){var D;return R(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let u;if(n===void 0||(0,M.HD)(n)||n instanceof HTMLElement)u=n;else if(!(0,M.mf)(n.markdown))u=(D=n.markdown)!==null&&D!==void 0?D:n.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,E.NC)("iconLabel.loading","Loading..."),a),this._cancellationTokenSource=new f.A;const S=this._cancellationTokenSource.token;if(u=yield n.markdown(S),u===void 0&&(u=n.markdownNotSupportedFallback),this.isDisposed||S.isCancellationRequested)return}this.show(u,a,C)})}show(n,a,C){const D=this._hoverWidget;if(this.hasContent(n)){const u=Object.assign({content:n,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!D},C);this._hoverWidget=this.hoverDelegate.showHover(u,a)}D==null||D.dispose()}hasContent(n){return n?(0,_.Fr)(n)?!!n.value:!0:!1}get isDisposed(){var n;return(n=this._hoverWidget)===null||n===void 0?void 0:n.isDisposed}dispose(){var n,a;(n=this._hoverWidget)===null||n===void 0||n.dispose(),(a=this._cancellationTokenSource)===null||a===void 0||a.dispose(!0),this._cancellationTokenSource=void 0}}function d(g,n,a,C){let D,u;const S=(x,T)=>{var W;const U=u!==void 0;x&&(u==null||u.dispose(),u=void 0),T&&(D==null||D.dispose(),D=void 0),U&&((W=g.onDidHideHover)===null||W===void 0||W.call(g))},w=(x,T,W)=>new B._F(()=>R(this,void 0,void 0,function*(){(!u||u.isDisposed)&&(u=new l(g,W||n,x>0),yield u.update(a,T,C))}),x),L=()=>{if(D)return;const x=new A.SL,T=K=>S(!1,K.fromElement===n);x.add(m.nm(n,m.tw.MOUSE_LEAVE,T,!0));const W=()=>S(!0,!0);x.add(m.nm(n,m.tw.MOUSE_DOWN,W,!0));const U={targetElements:[n],dispose:()=>{}};if(g.placement===void 0||g.placement==="mouse"){const K=G=>{U.x=G.x+10,G.target instanceof HTMLElement&&G.target.classList.contains("action-label")&&S(!0,!0)};x.add(m.nm(n,m.tw.MOUSE_MOVE,K,!0))}x.add(w(g.delay,!1,U)),D=x},N=m.nm(n,m.tw.MOUSE_OVER,L,!0);return{show:x=>{S(!1,!0),w(0,x)},hide:()=>{S(!0,!0)},update:(x,T)=>R(this,void 0,void 0,function*(){a=x,yield u==null?void 0:u.update(a,void 0,T)}),dispose:()=>{N.dispose(),S(!0,!0)}}}},19111:function(Ot,He,i){"use strict";i.d(He,{T:function(){return _}});var m=i(34441),B=i(8216);const f=new RegExp(`(\\\\)?\\$\\((${B.k.iconNameExpression}(?:${B.k.iconModifierExpression})?)\\)`,"g");function _(A){const M=new Array;let E,R=0,p=0;for(;(E=f.exec(A))!==null;){p=E.index||0,R<p&&M.push(A.substring(R,p)),R=(E.index||0)+E[0].length;const[,l,d]=E;M.push(l?`$(${d})`:v({id:d}))}return R<A.length&&M.push(A.substring(R)),M}function v(A){const M=m.$("span");return M.classList.add(...B.k.asClassNameArray(A)),M}},6364:function(Ot,He,i){"use strict";i.d(He,{pG:function(){return C},g4:function(){return n}});var m=i(34441),B=i(54505),f=i(66578),_=i(67235),v=i(79874),A=i(60018),M=i(88305),E=i(56709);class R{constructor(u,S=0,w=u.length,L=S-1){this.items=u,this.start=S,this.end=w,this.index=L}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class p{constructor(u=[],S=10){this._initialize(u),this._limit=S,this._onChange()}getHistory(){return this._elements}add(u){this._history.delete(u),this._history.add(u),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()===this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(u){return this._history.has(u)}_onChange(){this._reduceToLimit();const u=this._elements;this._navigator=new R(u,0,u.length,u.length)}_reduceToLimit(){const u=this._elements;u.length>this._limit&&this._initialize(u.slice(u.length-this._limit))}_currentPosition(){const u=this._navigator.current();return u?this._elements.indexOf(u):-1}_initialize(u){this._history=new Set;for(const S of u)this._history.add(S)}get _elements(){const u=[];return this._history.forEach(S=>u.push(S)),u}}var l=i(23127),d=i(26386);const g=m.$,n={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class a extends M.${constructor(u,S,w){var L;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new E.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new E.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=S,this.options=w,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(L=this.options.tooltip)!==null&&L!==void 0?L:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=m.R3(u,g(".monaco-inputbox.idle"));const N=this.options.flexibleHeight?"textarea":"input",O=m.R3(this.element,g(".ibwrapper"));if(this.input=m.R3(O,g(N+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=m.R3(O,g("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new A.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),m.R3(u,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(W=>this.input.scrollTop=W.scrollTop));const x=this._register(new B.Y(document,"selectionchange")),T=E.ju.filter(x.event,()=>{const W=document.getSelection();return(W==null?void 0:W.anchorNode)===O});this._register(T(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new _.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(u){this.placeholder=u,this.input.setAttribute("placeholder",u)}setTooltip(u){this.tooltip=u,this.input.title=u}get inputElement(){return this.input}get value(){return this.input.value}set value(u){this.input.value!==u&&(this.input.value=u,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:m.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(u=null){this.input.select(),u&&(this.input.setSelectionRange(u.start,u.end),u.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(u){this.input.style.width=`calc(100% - ${u}px)`,this.mirror&&(this.mirror.style.paddingRight=u+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const u=this.cachedContentHeight,S=this.cachedHeight,w=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:u,height:S}),this.scrollableElement.setScrollPosition({scrollTop:w})}showMessage(u,S){if(this.state==="open"&&(0,l.fS)(this.message,u))return;this.message=u,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(u.type));const w=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${m.XT(w.border,"transparent")}`,this.message.content&&(this.hasFocus()||S)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let u=null;return this.validation&&(u=this.validation(this.value),u?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(u)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),u==null?void 0:u.type}stylesForType(u){const S=this.options.inputBoxStyles;switch(u){case 1:return{border:S.inputValidationInfoBorder,background:S.inputValidationInfoBackground,foreground:S.inputValidationInfoForeground};case 2:return{border:S.inputValidationWarningBorder,background:S.inputValidationWarningBackground,foreground:S.inputValidationWarningForeground};default:return{border:S.inputValidationErrorBorder,background:S.inputValidationErrorBackground,foreground:S.inputValidationErrorForeground}}}classForType(u){switch(u){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let u;const S=()=>u.style.width=m.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:L=>{var N,O;if(!this.message)return null;u=m.R3(L,g(".monaco-inputbox-container")),S();const x={inline:!0,className:"monaco-inputbox-message"},T=this.message.formatContent?(0,f.BO)(this.message.content,x):(0,f.IY)(this.message.content,x);T.classList.add(this.classForType(this.message.type));const W=this.stylesForType(this.message.type);return T.style.backgroundColor=(N=W.background)!==null&&N!==void 0?N:"",T.style.color=(O=W.foreground)!==null&&O!==void 0?O:"",T.style.border=W.border?`1px solid ${W.border}`:"",m.R3(u,T),null},onHide:()=>{this.state="closed"},layout:S});let w;this.message.type===3?w=d.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?w=d.NC("alertWarningMessage","Warning: {0}",this.message.content):w=d.NC("alertInfoMessage","Info: {0}",this.message.content),v.Z9(w),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const u=this.value,w=u.charCodeAt(u.length-1)===10?" ":"";(u+w).replace(/\u000c/g,"")?this.mirror.textContent=u+w:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var u,S,w;const L=this.options.inputBoxStyles,N=(u=L.inputBackground)!==null&&u!==void 0?u:"",O=(S=L.inputForeground)!==null&&S!==void 0?S:"",x=(w=L.inputBorder)!==null&&w!==void 0?w:"";this.element.style.backgroundColor=N,this.element.style.color=O,this.input.style.backgroundColor="inherit",this.input.style.color=O,this.element.style.border=`1px solid ${m.XT(x,"transparent")}`}layout(){if(!this.mirror)return;const u=this.cachedContentHeight;this.cachedContentHeight=m.wn(this.mirror),u!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(u){const S=this.inputElement,w=S.selectionStart,L=S.selectionEnd,N=S.value;w!==null&&L!==null&&(this.value=N.substr(0,w)+u+N.substr(L),S.setSelectionRange(w+1,w+1),this.layout())}dispose(){var u;this._hideMessage(),this.message=null,(u=this.actionbar)===null||u===void 0||u.dispose(),super.dispose()}}class C extends a{constructor(u,S,w){const L=d.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),N=` or \u21C5 ${L}`,O=` (\u21C5 ${L})`;super(u,S,w),this._onDidFocus=this._register(new E.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new E.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new p(w.history,100);const x=()=>{if(w.showHistoryHint&&w.showHistoryHint()&&!this.placeholder.endsWith(N)&&!this.placeholder.endsWith(O)&&this.history.getHistory().length){const T=this.placeholder.endsWith(")")?N:O,W=this.placeholder+T;w.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=W:this.setPlaceHolder(W)}};this.observer=new MutationObserver((T,W)=>{T.forEach(U=>{U.target.textContent||x()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>x()),this.onblur(this.input,()=>{const T=W=>{if(this.placeholder.endsWith(W)){const U=this.placeholder.slice(0,this.placeholder.length-W.length);return w.showPlaceholderOnFocus?this.placeholder=U:this.setPlaceHolder(U),!0}else return!1};T(O)||T(N)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(u){this.value&&(u||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let u=this.getNextValue();u&&(u=u===this.value?this.getNextValue():u),u&&(this.value=u,v.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let u=this.getPreviousValue();u&&(u=u===this.value?this.getPreviousValue():u),u&&(this.value=u,v.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let u=this.history.current();return u||(u=this.history.last(),this.history.next()),u}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},40186:function(Ot,He,i){"use strict";i.d(He,{e:function(){return M},F:function(){return A}});var m=i(34441),B=i(49553),f=i(23127),_=i(26386);const v=m.$,A={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class M{constructor(R,p,l){this.os=p,this.keyElements=new Set,this.options=l||Object.create(null);const d=this.options.keybindingLabelForeground;this.domNode=m.R3(R,v(".monaco-keybinding")),d&&(this.domNode.style.color=d),this.didEverRender=!1,R.appendChild(this.domNode)}get element(){return this.domNode}set(R,p){this.didEverRender&&this.keybinding===R&&M.areSame(this.matches,p)||(this.keybinding=R,this.matches=p,this.render())}render(){var R;if(this.clear(),this.keybinding){const p=this.keybinding.getChords();p[0]&&this.renderChord(this.domNode,p[0],this.matches?this.matches.firstPart:null);for(let d=1;d<p.length;d++)m.R3(this.domNode,v("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,p[d],this.matches?this.matches.chordPart:null);const l=(R=this.options.disableTitle)!==null&&R!==void 0&&R?void 0:this.keybinding.getAriaLabel()||void 0;l!==void 0?this.domNode.title=l:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){m.PO(this.domNode),this.keyElements.clear()}renderChord(R,p,l){const d=B.xo.modifierLabels[this.os];p.ctrlKey&&this.renderKey(R,d.ctrlKey,Boolean(l==null?void 0:l.ctrlKey),d.separator),p.shiftKey&&this.renderKey(R,d.shiftKey,Boolean(l==null?void 0:l.shiftKey),d.separator),p.altKey&&this.renderKey(R,d.altKey,Boolean(l==null?void 0:l.altKey),d.separator),p.metaKey&&this.renderKey(R,d.metaKey,Boolean(l==null?void 0:l.metaKey),d.separator);const g=p.keyLabel;g&&this.renderKey(R,g,Boolean(l==null?void 0:l.keyCode),"")}renderKey(R,p,l,d){m.R3(R,this.createKeyElement(p,l?".highlight":"")),d&&m.R3(R,v("span.monaco-keybinding-key-separator",void 0,d))}renderUnbound(R){m.R3(R,this.createKeyElement((0,_.NC)("unbound","Unbound")))}createKeyElement(R,p=""){const l=v("span.monaco-keybinding-key"+p,void 0,R);return this.keyElements.add(l),this.options.keybindingLabelBackground&&(l.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(l.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(l.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(l.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),l}static areSame(R,p){return R===p||!R&&!p?!0:!!R&&!!p&&(0,f.fS)(R.firstPart,p.firstPart)&&(0,f.fS)(R.chordPart,p.chordPart)}}},95367:function(Ot,He,i){"use strict";i.d(He,{kX:function(){return x},Bv:function(){return G}});var m=i(89181),B=i(34441),f=i(54505),_=i(80265),v=i(60018),A=i(16308),M=i(13484),E=i(4848),R=i(56709),p=i(38431),l=i(59004),d=i(44929);function g(z,k){const q=[];for(const te of k){if(z.start>=te.range.end)continue;if(z.end<te.range.start)break;const X=l.e.intersect(z,te.range);l.e.isEmpty(X)||q.push({range:X,size:te.size})}return q}function n({start:z,end:k},q){return{start:z+q,end:k+q}}function a(z){const k=[];let q=null;for(const te of z){const X=te.range.start,j=te.range.end,J=te.size;if(q&&J===q.size){q.range.end=j;continue}q={range:{start:X,end:j},size:J},k.push(q)}return k}function C(...z){return a(z.reduce((k,q)=>k.concat(q),[]))}class D{constructor(){this.groups=[],this._size=0}splice(k,q,te=[]){const X=te.length-q,j=g({start:0,end:k},this.groups),J=g({start:k+q,end:Number.POSITIVE_INFINITY},this.groups).map(ee=>({range:n(ee.range,X),size:ee.size})),Y=te.map((ee,fe)=>({range:{start:k+fe,end:k+fe+1},size:ee.size}));this.groups=C(j,Y,J),this._size=this.groups.reduce((ee,fe)=>ee+fe.size*(fe.range.end-fe.range.start),0)}get count(){const k=this.groups.length;return k?this.groups[k-1].range.end:0}get size(){return this._size}indexAt(k){if(k<0)return-1;let q=0,te=0;for(const X of this.groups){const j=X.range.end-X.range.start,J=te+j*X.size;if(k<J)return q+Math.floor((k-te)/X.size);q+=j,te=J}return q}indexAfter(k){return Math.min(this.indexAt(k)+1,this.count)}positionAt(k){if(k<0)return-1;let q=0,te=0;for(const X of this.groups){const j=X.range.end-X.range.start,J=te+j;if(k<J)return q+(k-te)*X.size;q+=j*X.size,te=J}return-1}}function u(z){var k;try{(k=z.parentElement)===null||k===void 0||k.removeChild(z)}catch(q){}}class S{constructor(k){this.renderers=k,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(k){let q=this.getTemplateCache(k).pop(),te=!1;if(q)te=this.transactionNodesPendingRemoval.has(q.domNode),te&&this.transactionNodesPendingRemoval.delete(q.domNode);else{const X=(0,B.$)(".monaco-list-row"),J=this.getRenderer(k).renderTemplate(X);q={domNode:X,templateId:k,templateData:J}}return{row:q,isReusingConnectedDomNode:te}}release(k){k&&this.releaseRow(k)}transact(k){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{k()}finally{for(const q of this.transactionNodesPendingRemoval)this.doRemoveNode(q);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(k){const{domNode:q,templateId:te}=k;q&&(this.inTransaction?this.transactionNodesPendingRemoval.add(q):this.doRemoveNode(q)),this.getTemplateCache(te).push(k)}doRemoveNode(k){k.classList.remove("scrolling"),u(k)}getTemplateCache(k){let q=this.cache.get(k);return q||(q=[],this.cache.set(k,q)),q}dispose(){this.cache.forEach((k,q)=>{for(const te of k)this.getRenderer(q).disposeTemplate(te.templateData),te.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(k){const q=this.renderers.get(k);if(!q)throw new Error(`No renderer found for ${k}`);return q}}var w=i(20996),L=function(z,k,q,te){var X=arguments.length,j=X<3?k:te===null?te=Object.getOwnPropertyDescriptor(k,q):te,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(z,k,q,te);else for(var Y=z.length-1;Y>=0;Y--)(J=z[Y])&&(j=(X<3?J(j):X>3?J(k,q,j):J(k,q))||j);return X>3&&j&&Object.defineProperty(k,q,j),j};const N={CurrentDragAndDropData:void 0},O={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(z){return[z]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class x{constructor(k){this.elements=k}update(){}getData(){return this.elements}}class T{constructor(k){this.elements=k}update(){}getData(){return this.elements}}class W{constructor(){this.types=[],this.files=[]}update(k){if(k.types&&this.types.splice(0,this.types.length,...k.types),k.files){this.files.splice(0,this.files.length);for(let q=0;q<k.files.length;q++){const te=k.files.item(q);te&&(te.size||te.type)&&this.files.push(te)}}}getData(){return{types:this.types,files:this.files}}}function U(z,k){return Array.isArray(z)&&Array.isArray(k)?(0,A.fS)(z,k):z===k}class K{constructor(k){k!=null&&k.getSetSize?this.getSetSize=k.getSetSize.bind(k):this.getSetSize=(q,te,X)=>X,k!=null&&k.getPosInSet?this.getPosInSet=k.getPosInSet.bind(k):this.getPosInSet=(q,te)=>te+1,k!=null&&k.getRole?this.getRole=k.getRole.bind(k):this.getRole=q=>"listitem",k!=null&&k.isChecked?this.isChecked=k.isChecked.bind(k):this.isChecked=q=>{}}}class G{get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(k){if(k!==this._horizontalScrolling){if(k&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=k,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const q of this.items)this.measureItemWidth(q);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,B.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(k,q,te,X=O){var j,J,Y,ee,fe,De,Ne,be,xe,Le,ue,re;if(this.virtualDelegate=q,this.domId=`list_id_${++G.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new M.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=p.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=p.JT.None,this.onDragLeaveTimeout=p.JT.None,this.disposables=new p.SL,this._onDidChangeContentHeight=new R.Q5,this._horizontalScrolling=!1,X.horizontalScrolling&&X.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new D;for(const Ue of te)this.renderers.set(Ue.templateId,Ue);this.cache=this.disposables.add(new S(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof X.mouseSupport=="boolean"?X.mouseSupport:!0),this._horizontalScrolling=(j=X.horizontalScrolling)!==null&&j!==void 0?j:O.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof X.additionalScrollHeight=="undefined"?0:X.additionalScrollHeight,this.accessibilityProvider=new K(X.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((J=X.transformOptimization)!==null&&J!==void 0?J:O.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(_.o.addTarget(this.rowsContainer)),this.scrollable=new d.Rm({forceIntegerValues:!0,smoothScrollDuration:(Y=X.smoothScrolling)!==null&&Y!==void 0&&Y?125:0,scheduleAtNextAnimationFrame:Ue=>(0,B.jL)(Ue)}),this.scrollableElement=this.disposables.add(new v.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(ee=X.alwaysConsumeMouseWheel)!==null&&ee!==void 0?ee:O.alwaysConsumeMouseWheel,horizontal:1,vertical:(fe=X.verticalScrollMode)!==null&&fe!==void 0?fe:O.verticalScrollMode,useShadows:(De=X.useShadows)!==null&&De!==void 0?De:O.useShadows,mouseWheelScrollSensitivity:X.mouseWheelScrollSensitivity,fastScrollSensitivity:X.fastScrollSensitivity,scrollByPage:X.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),k.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,B.nm)(this.rowsContainer,_.t.Change,Ue=>this.onTouchChange(Ue))),this.disposables.add((0,B.nm)(this.scrollableElement.getDomNode(),"scroll",Ue=>Ue.target.scrollTop=0)),this.disposables.add((0,B.nm)(this.domNode,"dragover",Ue=>this.onDragOver(this.toDragEvent(Ue)))),this.disposables.add((0,B.nm)(this.domNode,"drop",Ue=>this.onDrop(this.toDragEvent(Ue)))),this.disposables.add((0,B.nm)(this.domNode,"dragleave",Ue=>this.onDragLeave(this.toDragEvent(Ue)))),this.disposables.add((0,B.nm)(this.domNode,"dragend",Ue=>this.onDragEnd(Ue))),this.setRowLineHeight=(Ne=X.setRowLineHeight)!==null&&Ne!==void 0?Ne:O.setRowLineHeight,this.setRowHeight=(be=X.setRowHeight)!==null&&be!==void 0?be:O.setRowHeight,this.supportDynamicHeights=(xe=X.supportDynamicHeights)!==null&&xe!==void 0?xe:O.supportDynamicHeights,this.dnd=(Le=X.dnd)!==null&&Le!==void 0?Le:O.dnd,this.layout((ue=X.initialSize)===null||ue===void 0?void 0:ue.height,(re=X.initialSize)===null||re===void 0?void 0:re.width)}updateOptions(k){k.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=k.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),k.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(k.smoothScrolling?125:0),k.horizontalScrolling!==void 0&&(this.horizontalScrolling=k.horizontalScrolling);let q;k.scrollByPage!==void 0&&(q=Object.assign(Object.assign({},q!=null?q:{}),{scrollByPage:k.scrollByPage})),k.mouseWheelScrollSensitivity!==void 0&&(q=Object.assign(Object.assign({},q!=null?q:{}),{mouseWheelScrollSensitivity:k.mouseWheelScrollSensitivity})),k.fastScrollSensitivity!==void 0&&(q=Object.assign(Object.assign({},q!=null?q:{}),{fastScrollSensitivity:k.fastScrollSensitivity})),q&&this.scrollableElement.updateOptions(q)}splice(k,q,te=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(k,q,te)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(k,q,te=[]){const X=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j={start:k,end:k+q},J=l.e.intersect(X,j),Y=new Map;for(let Z=J.end-1;Z>=J.start;Z--){const se=this.items[Z];if(se.dragStartDisposable.dispose(),se.checkedDisposable.dispose(),se.row){let ve=Y.get(se.templateId);ve||(ve=[],Y.set(se.templateId,ve));const he=this.renderers.get(se.templateId);he&&he.disposeElement&&he.disposeElement(se.element,Z,se.row.templateData,se.size),ve.push(se.row)}se.row=null}const ee={start:k+q,end:this.items.length},fe=l.e.intersect(ee,X),De=l.e.relativeComplement(ee,X),Ne=te.map(Z=>({id:String(this.itemId++),element:Z,templateId:this.virtualDelegate.getTemplateId(Z),size:this.virtualDelegate.getHeight(Z),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Z),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:p.JT.None,checkedDisposable:p.JT.None}));let be;k===0&&q>=this.items.length?(this.rangeMap=new D,this.rangeMap.splice(0,0,Ne),be=this.items,this.items=Ne):(this.rangeMap.splice(k,q,Ne),be=this.items.splice(k,q,...Ne));const xe=te.length-q,Le=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ue=n(fe,xe),re=l.e.intersect(Le,ue);for(let Z=re.start;Z<re.end;Z++)this.updateItemInDOM(this.items[Z],Z);const _e=l.e.relativeComplement(ue,Le);for(const Z of _e)for(let se=Z.start;se<Z.end;se++)this.removeItemFromDOM(se);const Ue=De.map(Z=>n(Z,xe)),Re=[{start:k,end:k+te.length},...Ue].map(Z=>l.e.intersect(Le,Z)),ie=this.getNextToLastElement(Re);for(const Z of Re)for(let se=Z.start;se<Z.end;se++){const ve=this.items[se],he=Y.get(ve.templateId),ce=he==null?void 0:he.pop();this.insertItemInDOM(se,ie,ce)}for(const Z of Y.values())for(const se of Z)this.cache.release(se);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),be.map(Z=>Z.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,B.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let k=0;for(const q of this.items)typeof q.width!="undefined"&&(k=Math.max(k,q.width));this.scrollWidth=k,this.scrollableElement.setScrollDimensions({scrollWidth:k===0?0:k+10})}rerender(){if(this.supportDynamicHeights){for(const k of this.items)k.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const k=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),q=this.rangeMap.positionAt(k.start),te=this.rangeMap.positionAt(k.start+1);return te!==-1&&(te-q)/2+q<this.scrollTop?k.start+1:k.start}element(k){return this.items[k].element}domElement(k){const q=this.items[k].row;return q&&q.domNode}elementHeight(k){return this.items[k].size}elementTop(k){return this.rangeMap.positionAt(k)}indexAt(k){return this.rangeMap.indexAt(k)}indexAfter(k){return this.rangeMap.indexAfter(k)}layout(k,q){const te={height:typeof k=="number"?k:(0,B.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,te.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(te),typeof q!="undefined"&&(this.renderWidth=q,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof q=="number"?q:(0,B.FK)(this.domNode)})}render(k,q,te,X,j,J=!1){const Y=this.getRenderRange(q,te),ee=l.e.relativeComplement(Y,k),fe=l.e.relativeComplement(k,Y),De=this.getNextToLastElement(ee);if(J){const Ne=l.e.intersect(k,Y);for(let be=Ne.start;be<Ne.end;be++)this.updateItemInDOM(this.items[be],be)}this.cache.transact(()=>{for(const Ne of fe)for(let be=Ne.start;be<Ne.end;be++)this.removeItemFromDOM(be);for(const Ne of ee)for(let be=Ne.start;be<Ne.end;be++)this.insertItemInDOM(be,De)}),X!==void 0&&(this.rowsContainer.style.left=`-${X}px`),this.rowsContainer.style.top=`-${q}px`,this.horizontalScrolling&&j!==void 0&&(this.rowsContainer.style.width=`${Math.max(j,this.renderWidth)}px`),this.lastRenderTop=q,this.lastRenderHeight=te}insertItemInDOM(k,q,te){const X=this.items[k];let j=!1;if(!X.row)if(te)X.row=te;else{const De=this.cache.alloc(X.templateId);X.row=De.row,j=De.isReusingConnectedDomNode}const J=this.accessibilityProvider.getRole(X.element)||"listitem";X.row.domNode.setAttribute("role",J);const Y=this.accessibilityProvider.isChecked(X.element);if(typeof Y=="boolean")X.row.domNode.setAttribute("aria-checked",String(!!Y));else if(Y){const De=Ne=>X.row.domNode.setAttribute("aria-checked",String(!!Ne));De(Y.value),X.checkedDisposable=Y.onDidChange(De)}(j||!X.row.domNode.parentElement)&&(q?this.rowsContainer.insertBefore(X.row.domNode,q):this.rowsContainer.appendChild(X.row.domNode)),this.updateItemInDOM(X,k);const ee=this.renderers.get(X.templateId);if(!ee)throw new Error(`No renderer found for template id ${X.templateId}`);ee==null||ee.renderElement(X.element,k,X.row.templateData,X.size);const fe=this.dnd.getDragURI(X.element);X.dragStartDisposable.dispose(),X.row.domNode.draggable=!!fe,fe&&(X.dragStartDisposable=(0,B.nm)(X.row.domNode,"dragstart",De=>this.onDragStart(X.element,fe,De))),this.horizontalScrolling&&(this.measureItemWidth(X),this.eventuallyUpdateScrollWidth())}measureItemWidth(k){if(!k.row||!k.row.domNode)return;k.row.domNode.style.width="fit-content",k.width=(0,B.FK)(k.row.domNode);const q=window.getComputedStyle(k.row.domNode);q.paddingLeft&&(k.width+=parseFloat(q.paddingLeft)),q.paddingRight&&(k.width+=parseFloat(q.paddingRight)),k.row.domNode.style.width=""}updateItemInDOM(k,q){k.row.domNode.style.top=`${this.elementTop(q)}px`,this.setRowHeight&&(k.row.domNode.style.height=`${k.size}px`),this.setRowLineHeight&&(k.row.domNode.style.lineHeight=`${k.size}px`),k.row.domNode.setAttribute("data-index",`${q}`),k.row.domNode.setAttribute("data-last-element",q===this.length-1?"true":"false"),k.row.domNode.setAttribute("data-parity",q%2===0?"even":"odd"),k.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(k.element,q,this.length))),k.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(k.element,q))),k.row.domNode.setAttribute("id",this.getElementDomId(q)),k.row.domNode.classList.toggle("drop-target",k.dropTarget)}removeItemFromDOM(k){const q=this.items[k];if(q.dragStartDisposable.dispose(),q.checkedDisposable.dispose(),q.row){const te=this.renderers.get(q.templateId);te&&te.disposeElement&&te.disposeElement(q.element,k,q.row.templateData,q.size),this.cache.release(q.row),q.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(k,q){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:k,reuseAnimation:q})}get scrollTop(){return this.getScrollTop()}set scrollTop(k){this.setScrollTop(k)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return R.ju.map(this.disposables.add(new f.Y(this.domNode,"click")).event,k=>this.toMouseEvent(k),this.disposables)}get onMouseDblClick(){return R.ju.map(this.disposables.add(new f.Y(this.domNode,"dblclick")).event,k=>this.toMouseEvent(k),this.disposables)}get onMouseMiddleClick(){return R.ju.filter(R.ju.map(this.disposables.add(new f.Y(this.domNode,"auxclick")).event,k=>this.toMouseEvent(k),this.disposables),k=>k.browserEvent.button===1,this.disposables)}get onMouseDown(){return R.ju.map(this.disposables.add(new f.Y(this.domNode,"mousedown")).event,k=>this.toMouseEvent(k),this.disposables)}get onMouseOver(){return R.ju.map(this.disposables.add(new f.Y(this.domNode,"mouseover")).event,k=>this.toMouseEvent(k),this.disposables)}get onMouseOut(){return R.ju.map(this.disposables.add(new f.Y(this.domNode,"mouseout")).event,k=>this.toMouseEvent(k),this.disposables)}get onContextMenu(){return R.ju.any(R.ju.map(this.disposables.add(new f.Y(this.domNode,"contextmenu")).event,k=>this.toMouseEvent(k),this.disposables),R.ju.map(this.disposables.add(new f.Y(this.domNode,_.t.Contextmenu)).event,k=>this.toGestureEvent(k),this.disposables))}get onTouchStart(){return R.ju.map(this.disposables.add(new f.Y(this.domNode,"touchstart")).event,k=>this.toTouchEvent(k),this.disposables)}get onTap(){return R.ju.map(this.disposables.add(new f.Y(this.rowsContainer,_.t.Tap)).event,k=>this.toGestureEvent(k),this.disposables)}toMouseEvent(k){const q=this.getItemIndexFromEventTarget(k.target||null),te=typeof q=="undefined"?void 0:this.items[q],X=te&&te.element;return{browserEvent:k,index:q,element:X}}toTouchEvent(k){const q=this.getItemIndexFromEventTarget(k.target||null),te=typeof q=="undefined"?void 0:this.items[q],X=te&&te.element;return{browserEvent:k,index:q,element:X}}toGestureEvent(k){const q=this.getItemIndexFromEventTarget(k.initialTarget||null),te=typeof q=="undefined"?void 0:this.items[q],X=te&&te.element;return{browserEvent:k,index:q,element:X}}toDragEvent(k){const q=this.getItemIndexFromEventTarget(k.target||null),te=typeof q=="undefined"?void 0:this.items[q],X=te&&te.element;return{browserEvent:k,index:q,element:X}}onScroll(k){try{const q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(q,k.scrollTop,k.height,k.scrollLeft,k.scrollWidth),this.supportDynamicHeights&&this._rerender(k.scrollTop,k.height,k.inSmoothScrolling)}catch(q){throw console.error("Got bad scroll event:",k),q}}onTouchChange(k){k.preventDefault(),k.stopPropagation(),this.scrollTop-=k.translationY}onDragStart(k,q,te){var X,j;if(!te.dataTransfer)return;const J=this.dnd.getDragElements(k);if(te.dataTransfer.effectAllowed="copyMove",te.dataTransfer.setData(m.g.TEXT,q),te.dataTransfer.setDragImage){let Y;this.dnd.getDragLabel&&(Y=this.dnd.getDragLabel(J,te)),typeof Y=="undefined"&&(Y=String(J.length));const ee=(0,B.$)(".monaco-drag-image");ee.textContent=Y;const De=(Ne=>{for(;Ne&&!Ne.classList.contains("monaco-workbench");)Ne=Ne.parentElement;return Ne||document.body})(this.domNode);De.appendChild(ee),te.dataTransfer.setDragImage(ee,-10,-10),setTimeout(()=>De.removeChild(ee),0)}this.domNode.classList.add("dragging"),this.currentDragData=new x(J),N.CurrentDragAndDropData=new T(J),(j=(X=this.dnd).onDragStart)===null||j===void 0||j.call(X,this.currentDragData,te)}onDragOver(k){var q;if(k.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),N.CurrentDragAndDropData&&N.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(k.browserEvent),!k.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(N.CurrentDragAndDropData)this.currentDragData=N.CurrentDragAndDropData;else{if(!k.browserEvent.dataTransfer.types)return!1;this.currentDragData=new W}const te=this.dnd.onDragOver(this.currentDragData,k.element,k.index,k.browserEvent);if(this.canDrop=typeof te=="boolean"?te:te.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;k.browserEvent.dataTransfer.dropEffect=typeof te!="boolean"&&te.effect===0?"copy":"move";let X;if(typeof te!="boolean"&&te.feedback?X=te.feedback:typeof k.index=="undefined"?X=[-1]:X=[k.index],X=(0,A.EB)(X).filter(j=>j>=-1&&j<this.length).sort((j,J)=>j-J),X=X[0]===-1?[-1]:X,U(this.currentDragFeedback,X))return!0;if(this.currentDragFeedback=X,this.currentDragFeedbackDisposable.dispose(),X[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,p.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const j of X){const J=this.items[j];J.dropTarget=!0,(q=J.row)===null||q===void 0||q.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,p.OF)(()=>{var j;for(const J of X){const Y=this.items[J];Y.dropTarget=!1,(j=Y.row)===null||j===void 0||j.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(k){var q,te;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,M.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((te=(q=this.dnd).onDragLeave)===null||te===void 0||te.call(q,this.currentDragData,k.element,k.index,k.browserEvent))}onDrop(k){if(!this.canDrop)return;const q=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,N.CurrentDragAndDropData=void 0,!(!q||!k.browserEvent.dataTransfer)&&(k.browserEvent.preventDefault(),q.update(k.browserEvent.dataTransfer),this.dnd.drop(q,k.element,k.index,k.browserEvent))}onDragEnd(k){var q,te;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,N.CurrentDragAndDropData=void 0,(te=(q=this.dnd).onDragEnd)===null||te===void 0||te.call(q,k)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=p.JT.None}setupDragAndDropScrollTopAnimation(k){if(!this.dragOverAnimationDisposable){const q=(0,B.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,B.jt)(this.animateDragAndDropScrollTop.bind(this,q))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,M.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=k.pageY}animateDragAndDropScrollTop(k){if(this.dragOverMouseY===void 0)return;const q=this.dragOverMouseY-k,te=this.renderHeight-35;q<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(q-35))):q>te&&(this.scrollTop+=Math.min(14,Math.floor(.3*(q-te))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(k){const q=this.scrollableElement.getDomNode();let te=k;for(;te instanceof HTMLElement&&te!==this.rowsContainer&&q.contains(te);){const X=te.getAttribute("data-index");if(X){const j=Number(X);if(!isNaN(j))return j}te=te.parentElement}}getRenderRange(k,q){return{start:this.rangeMap.indexAt(k),end:this.rangeMap.indexAfter(k+q-1)}}_rerender(k,q,te){const X=this.getRenderRange(k,q);let j,J;k===this.elementTop(X.start)?(j=X.start,J=0):X.end-X.start>1&&(j=X.start+1,J=this.elementTop(j)-k);let Y=0;for(;;){const ee=this.getRenderRange(k,q);let fe=!1;for(let De=ee.start;De<ee.end;De++){const Ne=this.probeDynamicHeight(De);Ne!==0&&this.rangeMap.splice(De,1,[this.items[De]]),Y+=Ne,fe=fe||Ne!==0}if(!fe){Y!==0&&this.eventuallyUpdateScrollDimensions();const De=l.e.relativeComplement(X,ee);for(const be of De)for(let xe=be.start;xe<be.end;xe++)this.items[xe].row&&this.removeItemFromDOM(xe);const Ne=l.e.relativeComplement(ee,X);for(const be of Ne)for(let xe=be.start;xe<be.end;xe++){const Le=xe+1,ue=Le<this.items.length?this.items[Le].row:null,re=ue?ue.domNode:null;this.insertItemInDOM(xe,re)}for(let be=ee.start;be<ee.end;be++)this.items[be].row&&this.updateItemInDOM(this.items[be],be);if(typeof j=="number"){const be=this.scrollable.getFutureScrollPosition().scrollTop-k,xe=this.elementTop(j)-J+be;this.setScrollTop(xe,te)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(k){var q,te,X;const j=this.items[k];if(this.virtualDelegate.getDynamicHeight){const fe=this.virtualDelegate.getDynamicHeight(j.element);if(fe!==null){const De=j.size;return j.size=fe,j.lastDynamicHeightWidth=this.renderWidth,fe-De}}if(!j.hasDynamicHeight||j.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(j.element))return 0;const J=j.size;if(j.row)return j.row.domNode.style.height="",j.size=j.row.domNode.offsetHeight,j.lastDynamicHeightWidth=this.renderWidth,j.size-J;const{row:Y}=this.cache.alloc(j.templateId);Y.domNode.style.height="",this.rowsContainer.appendChild(Y.domNode);const ee=this.renderers.get(j.templateId);if(!ee)throw new w.he("Missing renderer for templateId: "+j.templateId);return ee.renderElement(j.element,k,Y.templateData,void 0),j.size=Y.domNode.offsetHeight,(q=ee.disposeElement)===null||q===void 0||q.call(ee,j.element,k,Y.templateData,void 0),(X=(te=this.virtualDelegate).setDynamicHeight)===null||X===void 0||X.call(te,j.element,j.size),j.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(Y.domNode),this.cache.release(Y),j.size-J}getNextToLastElement(k){const q=k[k.length-1];if(!q)return null;const te=this.items[q.end];return!te||!te.row?null:te.row.domNode}getElementDomId(k){return`${this.domId}_${k}`}dispose(){var k;if(this.items){for(const q of this.items)if(q.row){const te=this.renderers.get(q.row.templateId);te&&((k=te.disposeElement)===null||k===void 0||k.call(te,q.element,-1,q.row.templateData,void 0),te.disposeTemplate(q.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,p.B9)(this.disposables)}}G.InstanceCount=0,L([E.H],G.prototype,"onMouseClick",null),L([E.H],G.prototype,"onMouseDblClick",null),L([E.H],G.prototype,"onMouseMiddleClick",null),L([E.H],G.prototype,"onMouseDown",null),L([E.H],G.prototype,"onMouseOver",null),L([E.H],G.prototype,"onMouseOut",null),L([E.H],G.prototype,"onContextMenu",null),L([E.H],G.prototype,"onTouchStart",null),L([E.H],G.prototype,"onTap",null)},75490:function(Ot,He,i){"use strict";i.d(He,{wD:function(){return De},aV:function(){return Re},sx:function(){return fe},AA:function(){return z},iK:function(){return K},cK:function(){return W},hD:function(){return U},wn:function(){return J},Zo:function(){return j},uZ:function(){return Ne}});var m=i(34441),B=i(54505),f=i(6544),_=i(80265),v=i(79874);class A{constructor(Z){this.spliceables=Z}splice(Z,se,ve){this.spliceables.forEach(he=>he.splice(Z,se,ve))}}var M=i(16308),E=i(13484),R=i(86741),p=i(4848),l=i(56709),d=i(4538),g=i(38431),n=i(98726),a=i(11138),C=i(14818),D=i(12591);class u extends Error{constructor(Z,se){super(`ListError [${Z}] ${se}`)}}var S=i(95367),w=function(ie,Z,se,ve){var he=arguments.length,ce=he<3?Z:ve===null?ve=Object.getOwnPropertyDescriptor(Z,se):ve,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(ie,Z,se,ve);else for(var We=ie.length-1;We>=0;We--)(Ee=ie[We])&&(ce=(he<3?Ee(ce):he>3?Ee(Z,se,ce):Ee(Z,se))||ce);return he>3&&ce&&Object.defineProperty(Z,se,ce),ce},L=function(ie,Z,se,ve){function he(ce){return ce instanceof se?ce:new se(function(Ee){Ee(ce)})}return new(se||(se=Promise))(function(ce,Ee){function We(je){try{Ze(ve.next(je))}catch(Te){Ee(Te)}}function it(je){try{Ze(ve.throw(je))}catch(Te){Ee(Te)}}function Ze(je){je.done?ce(je.value):he(je.value).then(We,it)}Ze((ve=ve.apply(ie,Z||[])).next())})};class N{constructor(Z){this.trait=Z,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(Z){return Z}renderElement(Z,se,ve){const he=this.renderedElements.findIndex(ce=>ce.templateData===ve);if(he>=0){const ce=this.renderedElements[he];this.trait.unrender(ve),ce.index=se}else{const ce={index:se,templateData:ve};this.renderedElements.push(ce)}this.trait.renderIndex(se,ve)}splice(Z,se,ve){const he=[];for(const ce of this.renderedElements)ce.index<Z?he.push(ce):ce.index>=Z+se&&he.push({index:ce.index+ve-se,templateData:ce.templateData});this.renderedElements=he}renderIndexes(Z){for(const{index:se,templateData:ve}of this.renderedElements)Z.indexOf(se)>-1&&this.trait.renderIndex(se,ve)}disposeTemplate(Z){const se=this.renderedElements.findIndex(ve=>ve.templateData===Z);se<0||this.renderedElements.splice(se,1)}}class O{get name(){return this._trait}get renderer(){return new N(this)}constructor(Z){this._trait=Z,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new l.Q5,this.onChange=this._onChange.event}splice(Z,se,ve){var he;se=Math.max(0,Math.min(se,this.length-Z));const ce=ve.length-se,Ee=Z+se,We=[...this.sortedIndexes.filter(Ze=>Ze<Z),...ve.map((Ze,je)=>Ze?je+Z:-1).filter(Ze=>Ze!==-1),...this.sortedIndexes.filter(Ze=>Ze>=Ee).map(Ze=>Ze+ce)],it=this.length+ce;if(this.sortedIndexes.length>0&&We.length===0&&it>0){const Ze=(he=this.sortedIndexes.find(je=>je>=Z))!==null&&he!==void 0?he:it-1;We.push(Math.min(Ze,it-1))}this.renderer.splice(Z,se,ve.length),this._set(We,We),this.length=it}renderIndex(Z,se){se.classList.toggle(this._trait,this.contains(Z))}unrender(Z){Z.classList.remove(this._trait)}set(Z,se){return this._set(Z,[...Z].sort(re),se)}_set(Z,se,ve){const he=this.indexes,ce=this.sortedIndexes;this.indexes=Z,this.sortedIndexes=se;const Ee=Le(ce,Z);return this.renderer.renderIndexes(Ee),this._onChange.fire({indexes:Z,browserEvent:ve}),he}get(){return this.indexes}contains(Z){return(0,M.ry)(this.sortedIndexes,Z,re)>=0}dispose(){(0,g.B9)(this._onChange)}}w([p.H],O.prototype,"renderer",null);class x extends O{constructor(Z){super("selected"),this.setAriaSelected=Z}renderIndex(Z,se){super.renderIndex(Z,se),this.setAriaSelected&&(this.contains(Z)?se.setAttribute("aria-selected","true"):se.setAttribute("aria-selected","false"))}}class T{constructor(Z,se,ve){this.trait=Z,this.view=se,this.identityProvider=ve}splice(Z,se,ve){if(!this.identityProvider)return this.trait.splice(Z,se,ve.map(()=>!1));const he=this.trait.get().map(Ee=>this.identityProvider.getId(this.view.element(Ee)).toString()),ce=ve.map(Ee=>he.indexOf(this.identityProvider.getId(Ee).toString())>-1);this.trait.splice(Z,se,ce)}}function W(ie){return ie.tagName==="INPUT"||ie.tagName==="TEXTAREA"}function U(ie){return ie.classList.contains("monaco-editor")?!0:ie.classList.contains("monaco-list")||!ie.parentElement?!1:U(ie.parentElement)}function K(ie){return ie.tagName==="A"&&ie.classList.contains("monaco-button")||ie.tagName==="DIV"&&ie.classList.contains("monaco-button-dropdown")?!0:ie.classList.contains("monaco-list")||!ie.parentElement?!1:K(ie.parentElement)}class G{get onKeyDown(){return this.disposables.add(l.ju.chain(this.disposables.add(new B.Y(this.view.domNode,"keydown")).event).filter(Z=>!W(Z.target)).map(Z=>new f.y(Z)))}constructor(Z,se,ve){this.list=Z,this.view=se,this.disposables=new g.SL,this.multipleSelectionDisposables=new g.SL,this.onKeyDown.filter(he=>he.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(he=>he.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(he=>he.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(he=>he.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(he=>he.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(he=>he.keyCode===9).on(this.onEscape,this,this.disposables),ve.multipleSelectionSupport!==!1&&this.onKeyDown.filter(he=>(a.dz?he.metaKey:he.ctrlKey)&&he.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}updateOptions(Z){Z.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),Z.multipleSelectionSupport&&this.onKeyDown.filter(se=>(a.dz?se.metaKey:se.ctrlKey)&&se.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(Z){Z.preventDefault(),Z.stopPropagation(),this.list.setSelection(this.list.getFocus(),Z.browserEvent)}onUpArrow(Z){Z.preventDefault(),Z.stopPropagation(),this.list.focusPrevious(1,!1,Z.browserEvent);const se=this.list.getFocus()[0];this.list.setAnchor(se),this.list.reveal(se),this.view.domNode.focus()}onDownArrow(Z){Z.preventDefault(),Z.stopPropagation(),this.list.focusNext(1,!1,Z.browserEvent);const se=this.list.getFocus()[0];this.list.setAnchor(se),this.list.reveal(se),this.view.domNode.focus()}onPageUpArrow(Z){Z.preventDefault(),Z.stopPropagation(),this.list.focusPreviousPage(Z.browserEvent);const se=this.list.getFocus()[0];this.list.setAnchor(se),this.list.reveal(se),this.view.domNode.focus()}onPageDownArrow(Z){Z.preventDefault(),Z.stopPropagation(),this.list.focusNextPage(Z.browserEvent);const se=this.list.getFocus()[0];this.list.setAnchor(se),this.list.reveal(se),this.view.domNode.focus()}onCtrlA(Z){Z.preventDefault(),Z.stopPropagation(),this.list.setSelection((0,M.w6)(this.list.length),Z.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(Z){this.list.getSelection().length&&(Z.preventDefault(),Z.stopPropagation(),this.list.setSelection([],Z.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}w([p.H],G.prototype,"onKeyDown",null);var z;(function(ie){ie[ie.Automatic=0]="Automatic",ie[ie.Trigger=1]="Trigger"})(z||(z={}));var k;(function(ie){ie[ie.Idle=0]="Idle",ie[ie.Typing=1]="Typing"})(k||(k={}));const q=new class{mightProducePrintableCharacter(ie){return ie.ctrlKey||ie.metaKey||ie.altKey?!1:ie.keyCode>=31&&ie.keyCode<=56||ie.keyCode>=21&&ie.keyCode<=30||ie.keyCode>=93&&ie.keyCode<=102||ie.keyCode>=80&&ie.keyCode<=90}};class te{constructor(Z,se,ve,he,ce){this.list=Z,this.view=se,this.keyboardNavigationLabelProvider=ve,this.keyboardNavigationEventFilter=he,this.delegate=ce,this.enabled=!1,this.state=k.Idle,this.mode=z.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new g.SL,this.disposables=new g.SL,this.updateOptions(Z.options)}updateOptions(Z){var se,ve;!((se=Z.typeNavigationEnabled)!==null&&se!==void 0)||se?this.enable():this.disable(),this.mode=(ve=Z.typeNavigationMode)!==null&&ve!==void 0?ve:z.Automatic}enable(){if(this.enabled)return;let Z=!1;const se=this.enabledDisposables.add(l.ju.chain(this.enabledDisposables.add(new B.Y(this.view.domNode,"keydown")).event)).filter(ce=>!W(ce.target)).filter(()=>this.mode===z.Automatic||this.triggered).map(ce=>new f.y(ce)).filter(ce=>Z||this.keyboardNavigationEventFilter(ce)).filter(ce=>this.delegate.mightProducePrintableCharacter(ce)).forEach(ce=>m.zB.stop(ce,!0)).map(ce=>ce.browserEvent.key).event,ve=l.ju.debounce(se,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);l.ju.reduce(l.ju.any(se,ve),(ce,Ee)=>Ee===null?null:(ce||"")+Ee,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ve(this.onClear,this,this.enabledDisposables),se(()=>Z=!0,void 0,this.enabledDisposables),ve(()=>Z=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var Z;const se=this.list.getFocus();if(se.length>0&&se[0]===this.previouslyFocused){const ve=(Z=this.list.options.accessibilityProvider)===null||Z===void 0?void 0:Z.getAriaLabel(this.list.element(se[0]));ve&&(0,v.Z9)(ve)}this.previouslyFocused=-1}onInput(Z){if(!Z){this.state=k.Idle,this.triggered=!1;return}const se=this.list.getFocus(),ve=se.length>0?se[0]:0,he=this.state===k.Idle?1:0;this.state=k.Typing;for(let ce=0;ce<this.list.length;ce++){const Ee=(ve+ce+he)%this.list.length,We=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ee)),it=We&&We.toString();if(typeof it=="undefined"||(0,d.Ji)(Z,it)){this.previouslyFocused=ve,this.list.setFocus([Ee]),this.list.reveal(Ee);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class X{constructor(Z,se){this.list=Z,this.view=se,this.disposables=new g.SL,this.disposables.add(l.ju.chain(this.disposables.add(new B.Y(se.domNode,"keydown")).event)).filter(he=>!W(he.target)).map(he=>new f.y(he)).filter(he=>he.keyCode===2&&!he.ctrlKey&&!he.metaKey&&!he.shiftKey&&!he.altKey).on(this.onTab,this,this.disposables)}onTab(Z){if(Z.target!==this.view.domNode)return;const se=this.list.getFocus();if(se.length===0)return;const ve=this.view.domElement(se[0]);if(!ve)return;const he=ve.querySelector("[tabIndex]");if(!he||!(he instanceof HTMLElement)||he.tabIndex===-1)return;const ce=window.getComputedStyle(he);ce.visibility==="hidden"||ce.display==="none"||(Z.preventDefault(),Z.stopPropagation(),he.focus())}dispose(){this.disposables.dispose()}}function j(ie){return a.dz?ie.browserEvent.metaKey:ie.browserEvent.ctrlKey}function J(ie){return ie.browserEvent.shiftKey}function Y(ie){return ie instanceof MouseEvent&&ie.button===2}const ee={isSelectionSingleChangeEvent:j,isSelectionRangeChangeEvent:J};class fe{constructor(Z){this.list=Z,this.disposables=new g.SL,this._onPointer=new l.Q5,this.onPointer=this._onPointer.event,Z.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ee),this.mouseSupport=typeof Z.options.mouseSupport=="undefined"||!!Z.options.mouseSupport,this.mouseSupport&&(Z.onMouseDown(this.onMouseDown,this,this.disposables),Z.onContextMenu(this.onContextMenu,this,this.disposables),Z.onMouseDblClick(this.onDoubleClick,this,this.disposables),Z.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(_.o.addTarget(Z.getHTMLElement()))),l.ju.any(Z.onMouseClick,Z.onMouseMiddleClick,Z.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(Z){Z.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,Z.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ee))}isSelectionSingleChangeEvent(Z){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(Z):!1}isSelectionRangeChangeEvent(Z){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(Z):!1}isSelectionChangeEvent(Z){return this.isSelectionSingleChangeEvent(Z)||this.isSelectionRangeChangeEvent(Z)}onMouseDown(Z){U(Z.browserEvent.target)||document.activeElement!==Z.browserEvent.target&&this.list.domFocus()}onContextMenu(Z){if(W(Z.browserEvent.target)||U(Z.browserEvent.target))return;const se=typeof Z.index=="undefined"?[]:[Z.index];this.list.setFocus(se,Z.browserEvent)}onViewPointer(Z){if(!this.mouseSupport||W(Z.browserEvent.target)||U(Z.browserEvent.target))return;const se=Z.index;if(typeof se=="undefined"){this.list.setFocus([],Z.browserEvent),this.list.setSelection([],Z.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(Z))return this.changeSelection(Z);if(this.isSelectionChangeEvent(Z))return this.changeSelection(Z);this.list.setFocus([se],Z.browserEvent),this.list.setAnchor(se),Y(Z.browserEvent)||this.list.setSelection([se],Z.browserEvent),this._onPointer.fire(Z)}onDoubleClick(Z){if(W(Z.browserEvent.target)||U(Z.browserEvent.target)||this.isSelectionChangeEvent(Z))return;const se=this.list.getFocus();this.list.setSelection(se,Z.browserEvent)}changeSelection(Z){const se=Z.index;let ve=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(Z)){if(typeof ve=="undefined"){const je=this.list.getFocus()[0];ve=je!=null?je:se,this.list.setAnchor(ve)}const he=Math.min(ve,se),ce=Math.max(ve,se),Ee=(0,M.w6)(he,ce+1),We=this.list.getSelection(),it=xe(Le(We,[ve]),ve);if(it.length===0)return;const Ze=Le(Ee,ue(We,it));this.list.setSelection(Ze,Z.browserEvent),this.list.setFocus([se],Z.browserEvent)}else if(this.isSelectionSingleChangeEvent(Z)){const he=this.list.getSelection(),ce=he.filter(Ee=>Ee!==se);this.list.setFocus([se]),this.list.setAnchor(se),he.length===ce.length?this.list.setSelection([...ce,se],Z.browserEvent):this.list.setSelection(ce,Z.browserEvent)}}dispose(){this.disposables.dispose()}}class De{constructor(Z,se){this.styleElement=Z,this.selectorSuffix=se}style(Z){var se,ve;const he=this.selectorSuffix&&`.${this.selectorSuffix}`,ce=[];Z.listBackground&&ce.push(`.monaco-list${he} .monaco-list-rows { background: ${Z.listBackground}; }`),Z.listFocusBackground&&(ce.push(`.monaco-list${he}:focus .monaco-list-row.focused { background-color: ${Z.listFocusBackground}; }`),ce.push(`.monaco-list${he}:focus .monaco-list-row.focused:hover { background-color: ${Z.listFocusBackground}; }`)),Z.listFocusForeground&&ce.push(`.monaco-list${he}:focus .monaco-list-row.focused { color: ${Z.listFocusForeground}; }`),Z.listActiveSelectionBackground&&(ce.push(`.monaco-list${he}:focus .monaco-list-row.selected { background-color: ${Z.listActiveSelectionBackground}; }`),ce.push(`.monaco-list${he}:focus .monaco-list-row.selected:hover { background-color: ${Z.listActiveSelectionBackground}; }`)),Z.listActiveSelectionForeground&&ce.push(`.monaco-list${he}:focus .monaco-list-row.selected { color: ${Z.listActiveSelectionForeground}; }`),Z.listActiveSelectionIconForeground&&ce.push(`.monaco-list${he}:focus .monaco-list-row.selected .codicon { color: ${Z.listActiveSelectionIconForeground}; }`),Z.listFocusAndSelectionBackground&&ce.push(`
				.monaco-drag-image,
				.monaco-list${he}:focus .monaco-list-row.selected.focused { background-color: ${Z.listFocusAndSelectionBackground}; }
			`),Z.listFocusAndSelectionForeground&&ce.push(`
				.monaco-drag-image,
				.monaco-list${he}:focus .monaco-list-row.selected.focused { color: ${Z.listFocusAndSelectionForeground}; }
			`),Z.listInactiveFocusForeground&&(ce.push(`.monaco-list${he} .monaco-list-row.focused { color:  ${Z.listInactiveFocusForeground}; }`),ce.push(`.monaco-list${he} .monaco-list-row.focused:hover { color:  ${Z.listInactiveFocusForeground}; }`)),Z.listInactiveSelectionIconForeground&&ce.push(`.monaco-list${he} .monaco-list-row.focused .codicon { color:  ${Z.listInactiveSelectionIconForeground}; }`),Z.listInactiveFocusBackground&&(ce.push(`.monaco-list${he} .monaco-list-row.focused { background-color:  ${Z.listInactiveFocusBackground}; }`),ce.push(`.monaco-list${he} .monaco-list-row.focused:hover { background-color:  ${Z.listInactiveFocusBackground}; }`)),Z.listInactiveSelectionBackground&&(ce.push(`.monaco-list${he} .monaco-list-row.selected { background-color:  ${Z.listInactiveSelectionBackground}; }`),ce.push(`.monaco-list${he} .monaco-list-row.selected:hover { background-color:  ${Z.listInactiveSelectionBackground}; }`)),Z.listInactiveSelectionForeground&&ce.push(`.monaco-list${he} .monaco-list-row.selected { color: ${Z.listInactiveSelectionForeground}; }`),Z.listHoverBackground&&ce.push(`.monaco-list${he}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${Z.listHoverBackground}; }`),Z.listHoverForeground&&ce.push(`.monaco-list${he}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${Z.listHoverForeground}; }`);const Ee=(0,m.XT)(Z.listFocusAndSelectionOutline,(0,m.XT)(Z.listSelectionOutline,(se=Z.listFocusOutline)!==null&&se!==void 0?se:""));Ee&&ce.push(`.monaco-list${he}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Ee}; outline-offset: -1px;}`),Z.listFocusOutline&&ce.push(`
				.monaco-drag-image,
				.monaco-list${he}:focus .monaco-list-row.focused { outline: 1px solid ${Z.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${he}.last-focused .monaco-list-row.focused { outline: 1px solid ${Z.listFocusOutline}; outline-offset: -1px; }
			`);const We=(0,m.XT)(Z.listSelectionOutline,(ve=Z.listInactiveFocusOutline)!==null&&ve!==void 0?ve:"");We&&ce.push(`.monaco-list${he} .monaco-list-row.focused.selected { outline: 1px dotted ${We}; outline-offset: -1px; }`),Z.listSelectionOutline&&ce.push(`.monaco-list${he} .monaco-list-row.selected { outline: 1px dotted ${Z.listSelectionOutline}; outline-offset: -1px; }`),Z.listInactiveFocusOutline&&ce.push(`.monaco-list${he} .monaco-list-row.focused { outline: 1px dotted ${Z.listInactiveFocusOutline}; outline-offset: -1px; }`),Z.listHoverOutline&&ce.push(`.monaco-list${he} .monaco-list-row:hover { outline: 1px dashed ${Z.listHoverOutline}; outline-offset: -1px; }`),Z.listDropBackground&&ce.push(`
				.monaco-list${he}.drop-target,
				.monaco-list${he} .monaco-list-rows.drop-target,
				.monaco-list${he} .monaco-list-row.drop-target { background-color: ${Z.listDropBackground} !important; color: inherit !important; }
			`),Z.tableColumnsBorder&&ce.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${Z.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),Z.tableOddRowsBackgroundColor&&ce.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${Z.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=ce.join(`
`)}}const Ne={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:R.Il.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:R.Il.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:R.Il.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},be={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function xe(ie,Z){const se=ie.indexOf(Z);if(se===-1)return[];const ve=[];let he=se-1;for(;he>=0&&ie[he]===Z-(se-he);)ve.push(ie[he--]);for(ve.reverse(),he=se;he<ie.length&&ie[he]===Z+(he-se);)ve.push(ie[he++]);return ve}function Le(ie,Z){const se=[];let ve=0,he=0;for(;ve<ie.length||he<Z.length;)if(ve>=ie.length)se.push(Z[he++]);else if(he>=Z.length)se.push(ie[ve++]);else if(ie[ve]===Z[he]){se.push(ie[ve]),ve++,he++;continue}else ie[ve]<Z[he]?se.push(ie[ve++]):se.push(Z[he++]);return se}function ue(ie,Z){const se=[];let ve=0,he=0;for(;ve<ie.length||he<Z.length;)if(ve>=ie.length)se.push(Z[he++]);else if(he>=Z.length)se.push(ie[ve++]);else if(ie[ve]===Z[he]){ve++,he++;continue}else ie[ve]<Z[he]?se.push(ie[ve++]):he++;return se}const re=(ie,Z)=>ie-Z;class _e{constructor(Z,se){this._templateId=Z,this.renderers=se}get templateId(){return this._templateId}renderTemplate(Z){return this.renderers.map(se=>se.renderTemplate(Z))}renderElement(Z,se,ve,he){let ce=0;for(const Ee of this.renderers)Ee.renderElement(Z,se,ve[ce++],he)}disposeElement(Z,se,ve,he){var ce;let Ee=0;for(const We of this.renderers)(ce=We.disposeElement)===null||ce===void 0||ce.call(We,Z,se,ve[Ee],he),Ee+=1}disposeTemplate(Z){let se=0;for(const ve of this.renderers)ve.disposeTemplate(Z[se++])}}class Ue{constructor(Z){this.accessibilityProvider=Z,this.templateId="a18n"}renderTemplate(Z){return Z}renderElement(Z,se,ve){const he=this.accessibilityProvider.getAriaLabel(Z);he?ve.setAttribute("aria-label",he):ve.removeAttribute("aria-label");const ce=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(Z);typeof ce=="number"?ve.setAttribute("aria-level",`${ce}`):ve.removeAttribute("aria-level")}disposeTemplate(Z){}}class Qe{constructor(Z,se){this.list=Z,this.dnd=se}getDragElements(Z){const se=this.list.getSelectedElements();return se.indexOf(Z)>-1?se:[Z]}getDragURI(Z){return this.dnd.getDragURI(Z)}getDragLabel(Z,se){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Z,se)}onDragStart(Z,se){var ve,he;(he=(ve=this.dnd).onDragStart)===null||he===void 0||he.call(ve,Z,se)}onDragOver(Z,se,ve,he){return this.dnd.onDragOver(Z,se,ve,he)}onDragLeave(Z,se,ve,he){var ce,Ee;(Ee=(ce=this.dnd).onDragLeave)===null||Ee===void 0||Ee.call(ce,Z,se,ve,he)}onDragEnd(Z){var se,ve;(ve=(se=this.dnd).onDragEnd)===null||ve===void 0||ve.call(se,Z)}drop(Z,se,ve,he){this.dnd.drop(Z,se,ve,he)}}class Re{get onDidChangeFocus(){return l.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),Z=>this.toListEvent(Z),this.disposables)}get onDidChangeSelection(){return l.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),Z=>this.toListEvent(Z),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let Z=!1;const se=this.disposables.add(l.ju.chain(this.disposables.add(new B.Y(this.view.domNode,"keydown")).event)).map(ce=>new f.y(ce)).filter(ce=>Z=ce.keyCode===58||ce.shiftKey&&ce.keyCode===68).map(ce=>m.zB.stop(ce,!0)).filter(()=>!1).event,ve=this.disposables.add(l.ju.chain(this.disposables.add(new B.Y(this.view.domNode,"keyup")).event)).forEach(()=>Z=!1).map(ce=>new f.y(ce)).filter(ce=>ce.keyCode===58||ce.shiftKey&&ce.keyCode===68).map(ce=>m.zB.stop(ce,!0)).map(({browserEvent:ce})=>{const Ee=this.getFocus(),We=Ee.length?Ee[0]:void 0,it=typeof We!="undefined"?this.view.element(We):void 0,Ze=typeof We!="undefined"?this.view.domElement(We):this.view.domNode;return{index:We,element:it,anchor:Ze,browserEvent:ce}}).event,he=this.disposables.add(l.ju.chain(this.view.onContextMenu)).filter(ce=>!Z).map(({element:ce,index:Ee,browserEvent:We})=>({element:ce,index:Ee,anchor:{x:We.pageX+1,y:We.pageY},browserEvent:We})).event;return l.ju.any(se,ve,he)}get onKeyDown(){return this.disposables.add(new B.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return l.ju.signal(this.disposables.add(new B.Y(this.view.domNode,"focus",!0)).event)}constructor(Z,se,ve,he,ce=be){var Ee,We,it,Ze;this.user=Z,this._options=ce,this.focus=new O("focused"),this.anchor=new O("anchor"),this.eventBufferer=new l.E7,this._ariaLabel="",this.disposables=new g.SL,this._onDidDispose=new l.Q5,this.onDidDispose=this._onDidDispose.event;const je=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Ee=this._options.accessibilityProvider)===null||Ee===void 0?void 0:Ee.getWidgetRole():"list";this.selection=new x(je!=="listbox");const Te=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ce.accessibilityProvider,this.accessibilityProvider&&(Te.push(new Ue(this.accessibilityProvider)),(it=(We=this.accessibilityProvider).onDidChangeActiveDescendant)===null||it===void 0||it.call(We,this.onDidChangeActiveDescendant,this,this.disposables)),he=he.map(oe=>new _e(oe.templateId,[...Te,oe]));const Ie=Object.assign(Object.assign({},ce),{dnd:ce.dnd&&new Qe(this,ce.dnd)});if(this.view=this.createListView(se,ve,he,Ie),this.view.domNode.setAttribute("role",je),ce.styleController)this.styleController=ce.styleController(this.view.domId);else{const oe=(0,m.dS)(this.view.domNode);this.styleController=new De(oe,this.view.domId)}if(this.spliceable=new A([new T(this.focus,this.view,ce.identityProvider),new T(this.selection,this.view,ce.identityProvider),new T(this.anchor,this.view,ce.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new X(this,this.view)),(typeof ce.keyboardSupport!="boolean"||ce.keyboardSupport)&&(this.keyboardController=new G(this,this.view,ce),this.disposables.add(this.keyboardController)),ce.keyboardNavigationLabelProvider){const oe=ce.keyboardNavigationDelegate||q;this.typeNavigationController=new te(this,this.view,ce.keyboardNavigationLabelProvider,(Ze=ce.keyboardNavigationEventFilter)!==null&&Ze!==void 0?Ze:()=>!0,oe),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(ce),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(Z,se,ve,he){return new S.Bv(Z,se,ve,he)}createMouseController(Z){return new fe(this)}updateOptions(Z={}){var se,ve;this._options=Object.assign(Object.assign({},this._options),Z),(se=this.typeNavigationController)===null||se===void 0||se.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(Z),(ve=this.keyboardController)===null||ve===void 0||ve.updateOptions(Z),this.view.updateOptions(Z)}get options(){return this._options}splice(Z,se,ve=[]){if(Z<0||Z>this.view.length)throw new u(this.user,`Invalid start index: ${Z}`);if(se<0)throw new u(this.user,`Invalid delete count: ${se}`);se===0&&ve.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(Z,se,ve))}rerender(){this.view.rerender()}element(Z){return this.view.element(Z)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(Z){this.view.setScrollTop(Z)}get scrollHeight(){return this.view.scrollHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(Z){this._ariaLabel=Z,this.view.domNode.setAttribute("aria-label",Z)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(Z,se){this.view.layout(Z,se)}setSelection(Z,se){for(const ve of Z)if(ve<0||ve>=this.length)throw new u(this.user,`Invalid index ${ve}`);this.selection.set(Z,se)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(Z=>this.view.element(Z))}setAnchor(Z){if(typeof Z=="undefined"){this.anchor.set([]);return}if(Z<0||Z>=this.length)throw new u(this.user,`Invalid index ${Z}`);this.anchor.set([Z])}getAnchor(){return(0,M.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const Z=this.getAnchor();return typeof Z=="undefined"?void 0:this.element(Z)}setFocus(Z,se){for(const ve of Z)if(ve<0||ve>=this.length)throw new u(this.user,`Invalid index ${ve}`);this.focus.set(Z,se)}focusNext(Z=1,se=!1,ve,he){if(this.length===0)return;const ce=this.focus.get(),Ee=this.findNextIndex(ce.length>0?ce[0]+Z:0,se,he);Ee>-1&&this.setFocus([Ee],ve)}focusPrevious(Z=1,se=!1,ve,he){if(this.length===0)return;const ce=this.focus.get(),Ee=this.findPreviousIndex(ce.length>0?ce[0]-Z:0,se,he);Ee>-1&&this.setFocus([Ee],ve)}focusNextPage(Z,se){return L(this,void 0,void 0,function*(){let ve=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ve=ve===0?0:ve-1;const he=this.getFocus()[0];if(he!==ve&&(he===void 0||ve>he)){const ce=this.findPreviousIndex(ve,!1,se);ce>-1&&he!==ce?this.setFocus([ce],Z):this.setFocus([ve],Z)}else{const ce=this.view.getScrollTop();let Ee=ce+this.view.renderHeight;ve>he&&(Ee-=this.view.elementHeight(ve)),this.view.setScrollTop(Ee),this.view.getScrollTop()!==ce&&(this.setFocus([]),yield(0,E.Vs)(0),yield this.focusNextPage(Z,se))}})}focusPreviousPage(Z,se){return L(this,void 0,void 0,function*(){let ve;const he=this.view.getScrollTop();he===0?ve=this.view.indexAt(he):ve=this.view.indexAfter(he-1);const ce=this.getFocus()[0];if(ce!==ve&&(ce===void 0||ce>=ve)){const Ee=this.findNextIndex(ve,!1,se);Ee>-1&&ce!==Ee?this.setFocus([Ee],Z):this.setFocus([ve],Z)}else{const Ee=he;this.view.setScrollTop(he-this.view.renderHeight),this.view.getScrollTop()!==Ee&&(this.setFocus([]),yield(0,E.Vs)(0),yield this.focusPreviousPage(Z,se))}})}focusLast(Z,se){if(this.length===0)return;const ve=this.findPreviousIndex(this.length-1,!1,se);ve>-1&&this.setFocus([ve],Z)}focusFirst(Z,se){this.focusNth(0,Z,se)}focusNth(Z,se,ve){if(this.length===0)return;const he=this.findNextIndex(Z,!1,ve);he>-1&&this.setFocus([he],se)}findNextIndex(Z,se=!1,ve){for(let he=0;he<this.length;he++){if(Z>=this.length&&!se)return-1;if(Z=Z%this.length,!ve||ve(this.element(Z)))return Z;Z++}return-1}findPreviousIndex(Z,se=!1,ve){for(let he=0;he<this.length;he++){if(Z<0&&!se)return-1;if(Z=(this.length+Z%this.length)%this.length,!ve||ve(this.element(Z)))return Z;Z--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(Z=>this.view.element(Z))}reveal(Z,se){if(Z<0||Z>=this.length)throw new u(this.user,`Invalid index ${Z}`);const ve=this.view.getScrollTop(),he=this.view.elementTop(Z),ce=this.view.elementHeight(Z);if((0,C.hj)(se)){const Ee=ce-this.view.renderHeight;this.view.setScrollTop(Ee*(0,n.uZ)(se,0,1)+he)}else{const Ee=he+ce,We=ve+this.view.renderHeight;he<ve&&Ee>=We||(he<ve||Ee>=We&&ce>=this.view.renderHeight?this.view.setScrollTop(he):Ee>=We&&this.view.setScrollTop(Ee-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(Z){return this.view.getElementDomId(Z)}style(Z){this.styleController.style(Z)}toListEvent({indexes:Z,browserEvent:se}){return{indexes:Z,elements:Z.map(ve=>this.view.element(ve)),browserEvent:se}}_onFocusChange(){const Z=this.focus.get();this.view.domNode.classList.toggle("element-focused",Z.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var Z;const se=this.focus.get();if(se.length>0){let ve;!((Z=this.accessibilityProvider)===null||Z===void 0)&&Z.getActiveDescendantId&&(ve=this.accessibilityProvider.getActiveDescendantId(this.view.element(se[0]))),this.view.domNode.setAttribute("aria-activedescendant",ve||this.view.getElementDomId(se[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const Z=this.selection.get();this.view.domNode.classList.toggle("selection-none",Z.length===0),this.view.domNode.classList.toggle("selection-single",Z.length===1),this.view.domNode.classList.toggle("selection-multiple",Z.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}w([p.H],Re.prototype,"onDidChangeFocus",null),w([p.H],Re.prototype,"onDidChangeSelection",null),w([p.H],Re.prototype,"onContextMenu",null),w([p.H],Re.prototype,"onKeyDown",null),w([p.H],Re.prototype,"onDidFocus",null)},56245:function(Ot,He,i){"use strict";i.d(He,{S:function(){return m}});const m="monaco-mouse-cursor-text"},52243:function(Ot,He,i){"use strict";i.d(He,{l:function(){return l},g:function(){return w}});var m=i(34441),B=i(54505),f=i(80265),_=i(13484),v=i(4848),A=i(56709),M=i(38431),E=i(11138),R=function(L,N,O,x){var T=arguments.length,W=T<3?N:x===null?x=Object.getOwnPropertyDescriptor(N,O):x,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,N,O,x);else for(var K=L.length-1;K>=0;K--)(U=L[K])&&(W=(T<3?U(W):T>3?U(N,O,W):U(N,O))||W);return T>3&&W&&Object.defineProperty(N,O,W),W};const p=!1;var l;(function(L){L.North="north",L.South="south",L.East="east",L.West="west"})(l||(l={}));let d=4;const g=new A.Q5;let n=300;const a=new A.Q5;class C{constructor(){this.disposables=new M.SL}get onPointerMove(){return this.disposables.add(new B.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new B.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}R([v.H],C.prototype,"onPointerMove",null),R([v.H],C.prototype,"onPointerUp",null);class D{get onPointerMove(){return this.disposables.add(new B.Y(this.el,f.t.Change)).event}get onPointerUp(){return this.disposables.add(new B.Y(this.el,f.t.End)).event}constructor(N){this.el=N,this.disposables=new M.SL}dispose(){this.disposables.dispose()}}R([v.H],D.prototype,"onPointerMove",null),R([v.H],D.prototype,"onPointerUp",null);class u{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(N){this.factory=N}dispose(){}}R([v.H],u.prototype,"onPointerMove",null),R([v.H],u.prototype,"onPointerUp",null);const S="pointer-events-disabled";class w extends M.JT{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(N){this._state!==N&&(this.el.classList.toggle("disabled",N===0),this.el.classList.toggle("minimum",N===1),this.el.classList.toggle("maximum",N===2),this._state=N,this.onDidEnablementChange.fire(N))}set orthogonalStartSash(N){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),N){const O=x=>{this.orthogonalStartDragHandleDisposables.clear(),x!==0&&(this._orthogonalStartDragHandle=(0,m.R3)(this.el,(0,m.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,M.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new B.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>w.onMouseEnter(N),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new B.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>w.onMouseLeave(N),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(N.onDidEnablementChange.event(O,this)),O(N.state)}this._orthogonalStartSash=N}set orthogonalEndSash(N){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),N){const O=x=>{this.orthogonalEndDragHandleDisposables.clear(),x!==0&&(this._orthogonalEndDragHandle=(0,m.R3)(this.el,(0,m.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,M.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new B.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>w.onMouseEnter(N),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new B.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>w.onMouseLeave(N),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(N.onDidEnablementChange.event(O,this)),O(N.state)}this._orthogonalEndSash=N}constructor(N,O,x){super(),this.hoverDelay=n,this.hoverDelayer=this._register(new _.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new A.Q5),this._onDidStart=this._register(new A.Q5),this._onDidChange=this._register(new A.Q5),this._onDidReset=this._register(new A.Q5),this._onDidEnd=this._register(new A.Q5),this.orthogonalStartSashDisposables=this._register(new M.SL),this.orthogonalStartDragHandleDisposables=this._register(new M.SL),this.orthogonalEndSashDisposables=this._register(new M.SL),this.orthogonalEndDragHandleDisposables=this._register(new M.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,m.R3)(N,(0,m.$)(".monaco-sash")),x.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${x.orthogonalEdge}`),E.dz&&this.el.classList.add("mac");const T=this._register(new B.Y(this.el,"mousedown")).event;this._register(T(q=>this.onPointerStart(q,new C),this));const W=this._register(new B.Y(this.el,"dblclick")).event;this._register(W(this.onPointerDoublePress,this));const U=this._register(new B.Y(this.el,"mouseenter")).event;this._register(U(()=>w.onMouseEnter(this)));const K=this._register(new B.Y(this.el,"mouseleave")).event;this._register(K(()=>w.onMouseLeave(this))),this._register(f.o.addTarget(this.el));const G=this._register(new B.Y(this.el,f.t.Start)).event;this._register(G(q=>this.onPointerStart(q,new D(this.el)),this));const z=this._register(new B.Y(this.el,f.t.Tap)).event;let k;this._register(z(q=>{if(k){clearTimeout(k),k=void 0,this.onPointerDoublePress(q);return}clearTimeout(k),k=setTimeout(()=>k=void 0,250)},this)),typeof x.size=="number"?(this.size=x.size,x.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=d,this._register(g.event(q=>{this.size=q,this.layout()}))),this._register(a.event(q=>this.hoverDelay=q)),this.layoutProvider=O,this.orthogonalStartSash=x.orthogonalStartSash,this.orthogonalEndSash=x.orthogonalEndSash,this.orientation=x.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",p),this.layout()}onPointerStart(N,O){m.zB.stop(N);let x=!1;if(!N.__orthogonalSashEvent){const j=this.getOrthogonalSash(N);j&&(x=!0,N.__orthogonalSashEvent=!0,j.onPointerStart(N,new u(O)))}if(this.linkedSash&&!N.__linkedSashEvent&&(N.__linkedSashEvent=!0,this.linkedSash.onPointerStart(N,new u(O))),!this.state)return;const T=document.getElementsByTagName("iframe");for(const j of T)j.classList.add(S);const W=N.pageX,U=N.pageY,K=N.altKey,G={startX:W,currentX:W,startY:U,currentY:U,altKey:K};this.el.classList.add("active"),this._onDidStart.fire(G);const z=(0,m.dS)(this.el),k=()=>{let j="";x?j="all-scroll":this.orientation===1?this.state===1?j="s-resize":this.state===2?j="n-resize":j=E.dz?"row-resize":"ns-resize":this.state===1?j="e-resize":this.state===2?j="w-resize":j=E.dz?"col-resize":"ew-resize",z.textContent=`* { cursor: ${j} !important; }`},q=new M.SL;k(),x||this.onDidEnablementChange.event(k,null,q);const te=j=>{m.zB.stop(j,!1);const J={startX:W,currentX:j.pageX,startY:U,currentY:j.pageY,altKey:K};this._onDidChange.fire(J)},X=j=>{m.zB.stop(j,!1),this.el.removeChild(z),this.el.classList.remove("active"),this._onDidEnd.fire(),q.dispose();for(const J of T)J.classList.remove(S)};O.onPointerMove(te,null,q),O.onPointerUp(X,null,q),q.add(O)}onPointerDoublePress(N){const O=this.getOrthogonalSash(N);O&&O._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(N,O=!1){N.el.classList.contains("active")?(N.hoverDelayer.cancel(),N.el.classList.add("hover")):N.hoverDelayer.trigger(()=>N.el.classList.add("hover"),N.hoverDelay).then(void 0,()=>{}),!O&&N.linkedSash&&w.onMouseEnter(N.linkedSash,!0)}static onMouseLeave(N,O=!1){N.hoverDelayer.cancel(),N.el.classList.remove("hover"),!O&&N.linkedSash&&w.onMouseLeave(N.linkedSash,!0)}clearSashHoverState(){w.onMouseLeave(this)}layout(){if(this.orientation===0){const N=this.layoutProvider;this.el.style.left=N.getVerticalSashLeft(this)-this.size/2+"px",N.getVerticalSashTop&&(this.el.style.top=N.getVerticalSashTop(this)+"px"),N.getVerticalSashHeight&&(this.el.style.height=N.getVerticalSashHeight(this)+"px")}else{const N=this.layoutProvider;this.el.style.top=N.getHorizontalSashTop(this)-this.size/2+"px",N.getHorizontalSashLeft&&(this.el.style.left=N.getHorizontalSashLeft(this)+"px"),N.getHorizontalSashWidth&&(this.el.style.width=N.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(N){var O;const x=(O=N.initialTarget)!==null&&O!==void 0?O:N.target;if(!(!x||!(x instanceof HTMLElement))&&x.classList.contains("orthogonal-drag-handle"))return x.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},60018:function(Ot,He,i){"use strict";i.d(He,{s$:function(){return k},Io:function(){return U},NB:function(){return G},$Z:function(){return z}});var m=i(71488),B=i(34441),f=i(34733),_=i(64079),v=i(97314),A=i(88305),M=i(13484),E=i(8216);const R=11;class p extends A.${constructor(X){super(),this._onActivate=X.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=X.bgWidth+"px",this.bgDomNode.style.height=X.bgHeight+"px",typeof X.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof X.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof X.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof X.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=X.className,this.domNode.classList.add(...E.k.asClassNameArray(X.icon)),this.domNode.style.position="absolute",this.domNode.style.width=R+"px",this.domNode.style.height=R+"px",typeof X.top!="undefined"&&(this.domNode.style.top=X.top+"px"),typeof X.left!="undefined"&&(this.domNode.style.left=X.left+"px"),typeof X.bottom!="undefined"&&(this.domNode.style.bottom=X.bottom+"px"),typeof X.right!="undefined"&&(this.domNode.style.right=X.right+"px"),this._pointerMoveMonitor=this._register(new v.C),this._register(B.mu(this.bgDomNode,B.tw.POINTER_DOWN,j=>this._arrowPointerDown(j))),this._register(B.mu(this.domNode,B.tw.POINTER_DOWN,j=>this._arrowPointerDown(j))),this._pointerdownRepeatTimer=this._register(new M.zh),this._pointerdownScheduleRepeatTimer=this._register(new M._F)}_arrowPointerDown(X){if(!X.target||!(X.target instanceof Element))return;const j=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(j,200),this._pointerMoveMonitor.startMonitoring(X.target,X.pointerId,X.buttons,J=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),X.preventDefault()}}var l=i(38431);class d extends l.JT{constructor(X,j,J){super(),this._visibility=X,this._visibleClassName=j,this._invisibleClassName=J,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new M._F)}setVisibility(X){this._visibility!==X&&(this._visibility=X,this._updateShouldBeVisible())}setShouldBeVisible(X){this._rawShouldBeVisible=X,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const X=this._applyVisibilitySetting();this._shouldBeVisible!==X&&(this._shouldBeVisible=X,this.ensureVisibility())}setIsNeeded(X){this._isNeeded!==X&&(this._isNeeded=X,this.ensureVisibility())}setDomNode(X){this._domNode=X,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var X;(X=this._domNode)===null||X===void 0||X.setClassName(this._visibleClassName)},0))}_hide(X){var j;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(j=this._domNode)===null||j===void 0||j.setClassName(this._invisibleClassName+(X?" fade":"")))}}var g=i(11138);const n=140;class a extends A.${constructor(X){super(),this._lazyRender=X.lazyRender,this._host=X.host,this._scrollable=X.scrollable,this._scrollByPage=X.scrollByPage,this._scrollbarState=X.scrollbarState,this._visibilityController=this._register(new d(X.visibility,"visible scrollbar "+X.extraScrollbarClassName,"invisible scrollbar "+X.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new v.C),this._shouldRender=!0,this.domNode=(0,f.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(B.nm(this.domNode.domNode,B.tw.POINTER_DOWN,j=>this._domNodePointerDown(j)))}_createArrow(X){const j=this._register(new p(X));this.domNode.domNode.appendChild(j.bgDomNode),this.domNode.domNode.appendChild(j.domNode)}_createSlider(X,j,J,Y){this.slider=(0,f.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(X),this.slider.setLeft(j),typeof J=="number"&&this.slider.setWidth(J),typeof Y=="number"&&this.slider.setHeight(Y),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(B.nm(this.slider.domNode,B.tw.POINTER_DOWN,ee=>{ee.button===0&&(ee.preventDefault(),this._sliderPointerDown(ee))})),this.onclick(this.slider.domNode,ee=>{ee.leftButton&&ee.stopPropagation()})}_onElementSize(X){return this._scrollbarState.setVisibleSize(X)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(X){return this._scrollbarState.setScrollSize(X)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(X){return this._scrollbarState.setScrollPosition(X)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(X){X.target===this.domNode.domNode&&this._onPointerDown(X)}delegatePointerDown(X){const j=this.domNode.domNode.getClientRects()[0].top,J=j+this._scrollbarState.getSliderPosition(),Y=j+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ee=this._sliderPointerPosition(X);J<=ee&&ee<=Y?X.button===0&&(X.preventDefault(),this._sliderPointerDown(X)):this._onPointerDown(X)}_onPointerDown(X){let j,J;if(X.target===this.domNode.domNode&&typeof X.offsetX=="number"&&typeof X.offsetY=="number")j=X.offsetX,J=X.offsetY;else{const ee=B.i(this.domNode.domNode);j=X.pageX-ee.left,J=X.pageY-ee.top}const Y=this._pointerDownRelativePosition(j,J);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Y):this._scrollbarState.getDesiredScrollPositionFromOffset(Y)),X.button===0&&(X.preventDefault(),this._sliderPointerDown(X))}_sliderPointerDown(X){if(!X.target||!(X.target instanceof Element))return;const j=this._sliderPointerPosition(X),J=this._sliderOrthogonalPointerPosition(X),Y=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(X.target,X.pointerId,X.buttons,ee=>{const fe=this._sliderOrthogonalPointerPosition(ee),De=Math.abs(fe-J);if(g.ED&&De>n){this._setDesiredScrollPositionNow(Y.getScrollPosition());return}const be=this._sliderPointerPosition(ee)-j;this._setDesiredScrollPositionNow(Y.getDesiredScrollPositionFromDelta(be))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(X){const j={};this.writeScrollPosition(j,X),this._scrollable.setScrollPositionNow(j)}updateScrollbarSize(X){this._updateScrollbarSize(X),this._scrollbarState.setScrollbarSize(X),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const C=20;class D{constructor(X,j,J,Y,ee,fe){this._scrollbarSize=Math.round(j),this._oppositeScrollbarSize=Math.round(J),this._arrowSize=Math.round(X),this._visibleSize=Y,this._scrollSize=ee,this._scrollPosition=fe,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new D(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(X){const j=Math.round(X);return this._visibleSize!==j?(this._visibleSize=j,this._refreshComputedValues(),!0):!1}setScrollSize(X){const j=Math.round(X);return this._scrollSize!==j?(this._scrollSize=j,this._refreshComputedValues(),!0):!1}setScrollPosition(X){const j=Math.round(X);return this._scrollPosition!==j?(this._scrollPosition=j,this._refreshComputedValues(),!0):!1}setScrollbarSize(X){this._scrollbarSize=Math.round(X)}setOppositeScrollbarSize(X){this._oppositeScrollbarSize=Math.round(X)}static _computeValues(X,j,J,Y,ee){const fe=Math.max(0,J-X),De=Math.max(0,fe-2*j),Ne=Y>0&&Y>J;if(!Ne)return{computedAvailableSize:Math.round(fe),computedIsNeeded:Ne,computedSliderSize:Math.round(De),computedSliderRatio:0,computedSliderPosition:0};const be=Math.round(Math.max(C,Math.floor(J*De/Y))),xe=(De-be)/(Y-J),Le=ee*xe;return{computedAvailableSize:Math.round(fe),computedIsNeeded:Ne,computedSliderSize:Math.round(be),computedSliderRatio:xe,computedSliderPosition:Math.round(Le)}}_refreshComputedValues(){const X=D._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=X.computedAvailableSize,this._computedIsNeeded=X.computedIsNeeded,this._computedSliderSize=X.computedSliderSize,this._computedSliderRatio=X.computedSliderRatio,this._computedSliderPosition=X.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(X){if(!this._computedIsNeeded)return 0;const j=X-this._arrowSize-this._computedSliderSize/2;return Math.round(j/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(X){if(!this._computedIsNeeded)return 0;const j=X-this._arrowSize;let J=this._scrollPosition;return j<this._computedSliderPosition?J-=this._visibleSize:J+=this._visibleSize,J}getDesiredScrollPositionFromDelta(X){if(!this._computedIsNeeded)return 0;const j=this._computedSliderPosition+X;return Math.round(j/this._computedSliderRatio)}}var u=i(407);class S extends a{constructor(X,j,J){const Y=X.getScrollDimensions(),ee=X.getCurrentScrollPosition();if(super({lazyRender:j.lazyRender,host:J,scrollbarState:new D(j.horizontalHasArrows?j.arrowSize:0,j.horizontal===2?0:j.horizontalScrollbarSize,j.vertical===2?0:j.verticalScrollbarSize,Y.width,Y.scrollWidth,ee.scrollLeft),visibility:j.horizontal,extraScrollbarClassName:"horizontal",scrollable:X,scrollByPage:j.scrollByPage}),j.horizontalHasArrows){const fe=(j.arrowSize-R)/2,De=(j.horizontalScrollbarSize-R)/2;this._createArrow({className:"scra",icon:u.l.scrollbarButtonLeft,top:De,left:fe,bottom:void 0,right:void 0,bgWidth:j.arrowSize,bgHeight:j.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _.q(null,1,0))}),this._createArrow({className:"scra",icon:u.l.scrollbarButtonRight,top:De,left:void 0,bottom:void 0,right:fe,bgWidth:j.arrowSize,bgHeight:j.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _.q(null,-1,0))})}this._createSlider(Math.floor((j.horizontalScrollbarSize-j.horizontalSliderSize)/2),0,void 0,j.horizontalSliderSize)}_updateSlider(X,j){this.slider.setWidth(X),this.slider.setLeft(j)}_renderDomNode(X,j){this.domNode.setWidth(X),this.domNode.setHeight(j),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(X){return this._shouldRender=this._onElementScrollSize(X.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(X.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(X.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(X,j){return X}_sliderPointerPosition(X){return X.pageX}_sliderOrthogonalPointerPosition(X){return X.pageY}_updateScrollbarSize(X){this.slider.setHeight(X)}writeScrollPosition(X,j){X.scrollLeft=j}updateOptions(X){this.updateScrollbarSize(X.horizontal===2?0:X.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(X.vertical===2?0:X.verticalScrollbarSize),this._visibilityController.setVisibility(X.horizontal),this._scrollByPage=X.scrollByPage}}class w extends a{constructor(X,j,J){const Y=X.getScrollDimensions(),ee=X.getCurrentScrollPosition();if(super({lazyRender:j.lazyRender,host:J,scrollbarState:new D(j.verticalHasArrows?j.arrowSize:0,j.vertical===2?0:j.verticalScrollbarSize,0,Y.height,Y.scrollHeight,ee.scrollTop),visibility:j.vertical,extraScrollbarClassName:"vertical",scrollable:X,scrollByPage:j.scrollByPage}),j.verticalHasArrows){const fe=(j.arrowSize-R)/2,De=(j.verticalScrollbarSize-R)/2;this._createArrow({className:"scra",icon:u.l.scrollbarButtonUp,top:fe,left:De,bottom:void 0,right:void 0,bgWidth:j.verticalScrollbarSize,bgHeight:j.arrowSize,onActivate:()=>this._host.onMouseWheel(new _.q(null,0,1))}),this._createArrow({className:"scra",icon:u.l.scrollbarButtonDown,top:void 0,left:De,bottom:fe,right:void 0,bgWidth:j.verticalScrollbarSize,bgHeight:j.arrowSize,onActivate:()=>this._host.onMouseWheel(new _.q(null,0,-1))})}this._createSlider(0,Math.floor((j.verticalScrollbarSize-j.verticalSliderSize)/2),j.verticalSliderSize,void 0)}_updateSlider(X,j){this.slider.setHeight(X),this.slider.setTop(j)}_renderDomNode(X,j){this.domNode.setWidth(j),this.domNode.setHeight(X),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(X){return this._shouldRender=this._onElementScrollSize(X.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(X.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(X.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(X,j){return j}_sliderPointerPosition(X){return X.pageY}_sliderOrthogonalPointerPosition(X){return X.pageX}_updateScrollbarSize(X){this.slider.setWidth(X)}writeScrollPosition(X,j){X.scrollTop=j}updateOptions(X){this.updateScrollbarSize(X.vertical===2?0:X.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(X.vertical),this._scrollByPage=X.scrollByPage}}var L=i(56709),N=i(44929);const O=500,x=50,T=!0;class W{constructor(X,j,J){this.timestamp=X,this.deltaX=j,this.deltaY=J,this.score=0}}class U{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let X=1,j=0,J=1,Y=this._rear;do{const ee=Y===this._front?X:Math.pow(2,-J);if(X-=ee,j+=this._memory[Y].score*ee,Y===this._front)break;Y=(this._capacity+Y-1)%this._capacity,J++}while(!0);return j<=.5}acceptStandardWheelEvent(X){const j=window.devicePixelRatio/(0,m.getZoomFactor)();g.ED||g.IJ?this.accept(Date.now(),X.deltaX/j,X.deltaY/j):this.accept(Date.now(),X.deltaX,X.deltaY)}accept(X,j,J){const Y=new W(X,j,J);Y.score=this._computeScore(Y),this._front===-1&&this._rear===-1?(this._memory[0]=Y,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=Y)}_computeScore(X){if(Math.abs(X.deltaX)>0&&Math.abs(X.deltaY)>0)return 1;let j=.5;const J=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(X.deltaX)||!this._isAlmostInt(X.deltaY))&&(j+=.25),Math.min(Math.max(j,0),1)}_isAlmostInt(X){return Math.abs(Math.round(X)-X)<.01}}U.INSTANCE=new U;class K extends A.${get options(){return this._options}constructor(X,j,J){super(),this._onScroll=this._register(new L.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new L.Q5),X.style.overflow="hidden",this._options=q(j),this._scrollable=J,this._register(this._scrollable.onScroll(ee=>{this._onWillScroll.fire(ee),this._onDidScroll(ee),this._onScroll.fire(ee)}));const Y={onMouseWheel:ee=>this._onMouseWheel(ee),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new w(this._scrollable,this._options,Y)),this._horizontalScrollbar=this._register(new S(this._scrollable,this._options,Y)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(X),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,f.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,f.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,f.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ee=>this._onMouseOver(ee)),this.onmouseleave(this._listenOnDomNode,ee=>this._onMouseLeave(ee)),this._hideTimeout=this._register(new M._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,l.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(X){this._verticalScrollbar.delegatePointerDown(X)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(X){this._scrollable.setScrollDimensions(X,!1)}updateClassName(X){this._options.className=X,g.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(X){typeof X.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=X.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof X.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=X.mouseWheelScrollSensitivity),typeof X.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=X.fastScrollSensitivity),typeof X.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=X.scrollPredominantAxis),typeof X.horizontal!="undefined"&&(this._options.horizontal=X.horizontal),typeof X.vertical!="undefined"&&(this._options.vertical=X.vertical),typeof X.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=X.horizontalScrollbarSize),typeof X.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=X.verticalScrollbarSize),typeof X.scrollByPage!="undefined"&&(this._options.scrollByPage=X.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(X){this._onMouseWheel(new _.q(X))}_setListeningToMouseWheel(X){if(this._mouseWheelToDispose.length>0!==X&&(this._mouseWheelToDispose=(0,l.B9)(this._mouseWheelToDispose),X)){const J=Y=>{this._onMouseWheel(new _.q(Y))};this._mouseWheelToDispose.push(B.nm(this._listenOnDomNode,B.tw.MOUSE_WHEEL,J,{passive:!1}))}}_onMouseWheel(X){const j=U.INSTANCE;T&&j.acceptStandardWheelEvent(X);let J=!1;if(X.deltaY||X.deltaX){let ee=X.deltaY*this._options.mouseWheelScrollSensitivity,fe=X.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ee)>=Math.abs(fe)?fe=0:ee=0),this._options.flipAxes&&([ee,fe]=[fe,ee]);const De=!g.dz&&X.browserEvent&&X.browserEvent.shiftKey;(this._options.scrollYToX||De)&&!fe&&(fe=ee,ee=0),X.browserEvent&&X.browserEvent.altKey&&(fe=fe*this._options.fastScrollSensitivity,ee=ee*this._options.fastScrollSensitivity);const Ne=this._scrollable.getFutureScrollPosition();let be={};if(ee){const xe=x*ee,Le=Ne.scrollTop-(xe<0?Math.floor(xe):Math.ceil(xe));this._verticalScrollbar.writeScrollPosition(be,Le)}if(fe){const xe=x*fe,Le=Ne.scrollLeft-(xe<0?Math.floor(xe):Math.ceil(xe));this._horizontalScrollbar.writeScrollPosition(be,Le)}be=this._scrollable.validateScrollPosition(be),(Ne.scrollLeft!==be.scrollLeft||Ne.scrollTop!==be.scrollTop)&&(T&&this._options.mouseWheelSmoothScroll&&j.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(be):this._scrollable.setScrollPositionNow(be),J=!0)}let Y=J;!Y&&this._options.alwaysConsumeMouseWheel&&(Y=!0),!Y&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(Y=!0),Y&&(X.preventDefault(),X.stopPropagation())}_onDidScroll(X){this._shouldRender=this._horizontalScrollbar.onDidScroll(X)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(X)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const X=this._scrollable.getCurrentScrollPosition(),j=X.scrollTop>0,J=X.scrollLeft>0,Y=J?" left":"",ee=j?" top":"",fe=J||j?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${Y}`),this._topShadowDomNode.setClassName(`shadow${ee}`),this._topLeftShadowDomNode.setClassName(`shadow${fe}${ee}${Y}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(X){this._mouseIsOver=!1,this._hide()}_onMouseOver(X){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),O)}}class G extends K{constructor(X,j){j=j||{},j.mouseWheelSmoothScroll=!1;const J=new N.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:Y=>B.jL(Y)});super(X,j,J),this._register(J)}setScrollPosition(X){this._scrollable.setScrollPositionNow(X)}}class z extends K{constructor(X,j,J){super(X,j,J)}setScrollPosition(X){X.reuseAnimation?this._scrollable.setScrollPositionSmooth(X,X.reuseAnimation):this._scrollable.setScrollPositionNow(X)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class k extends K{constructor(X,j){j=j||{},j.mouseWheelSmoothScroll=!1;const J=new N.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:Y=>B.jL(Y)});super(X,j,J),this._register(J),this._element=X,this.onScroll(Y=>{Y.scrollTopChanged&&(this._element.scrollTop=Y.scrollTop),Y.scrollLeftChanged&&(this._element.scrollLeft=Y.scrollLeft)}),this.scanDomNode()}setScrollPosition(X){this._scrollable.setScrollPositionNow(X)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function q(te){const X={lazyRender:typeof te.lazyRender!="undefined"?te.lazyRender:!1,className:typeof te.className!="undefined"?te.className:"",useShadows:typeof te.useShadows!="undefined"?te.useShadows:!0,handleMouseWheel:typeof te.handleMouseWheel!="undefined"?te.handleMouseWheel:!0,flipAxes:typeof te.flipAxes!="undefined"?te.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof te.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?te.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof te.alwaysConsumeMouseWheel!="undefined"?te.alwaysConsumeMouseWheel:!1,scrollYToX:typeof te.scrollYToX!="undefined"?te.scrollYToX:!1,mouseWheelScrollSensitivity:typeof te.mouseWheelScrollSensitivity!="undefined"?te.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof te.fastScrollSensitivity!="undefined"?te.fastScrollSensitivity:5,scrollPredominantAxis:typeof te.scrollPredominantAxis!="undefined"?te.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof te.mouseWheelSmoothScroll!="undefined"?te.mouseWheelSmoothScroll:!0,arrowSize:typeof te.arrowSize!="undefined"?te.arrowSize:11,listenOnDomNode:typeof te.listenOnDomNode!="undefined"?te.listenOnDomNode:null,horizontal:typeof te.horizontal!="undefined"?te.horizontal:1,horizontalScrollbarSize:typeof te.horizontalScrollbarSize!="undefined"?te.horizontalScrollbarSize:10,horizontalSliderSize:typeof te.horizontalSliderSize!="undefined"?te.horizontalSliderSize:0,horizontalHasArrows:typeof te.horizontalHasArrows!="undefined"?te.horizontalHasArrows:!1,vertical:typeof te.vertical!="undefined"?te.vertical:1,verticalScrollbarSize:typeof te.verticalScrollbarSize!="undefined"?te.verticalScrollbarSize:10,verticalHasArrows:typeof te.verticalHasArrows!="undefined"?te.verticalHasArrows:!1,verticalSliderSize:typeof te.verticalSliderSize!="undefined"?te.verticalSliderSize:0,scrollByPage:typeof te.scrollByPage!="undefined"?te.scrollByPage:!1};return X.horizontalSliderSize=typeof te.horizontalSliderSize!="undefined"?te.horizontalSliderSize:X.horizontalScrollbarSize,X.verticalSliderSize=typeof te.verticalSliderSize!="undefined"?te.verticalSliderSize:X.verticalScrollbarSize,g.dz&&(X.className+=" mac"),X}},66238:function(Ot,He,i){"use strict";i.d(He,{M:function(){return D},z:function(){return u}});var m=i(34441),B=i(54505),f=i(52243),_=i(60018),v=i(16308),A=i(86741),M=i(56709),E=i(38431),R=i(98726),p=i(44929),l=i(14818);const d={separatorBorder:A.Il.transparent};class g{set size(w){this._size=w}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(w,L){var N,O;w!==this.visible&&(w?(this.size=(0,R.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof L=="number"?L:this.size,this.size=0),this.container.classList.toggle("visible",w),(O=(N=this.view).setVisible)===null||O===void 0||O.call(N,w))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var w;return(w=this.view.proportionalLayout)!==null&&w!==void 0?w:!0}get snap(){return!!this.view.snap}set enabled(w){this.container.style.pointerEvents=w?"":"none"}constructor(w,L,N,O){this.container=w,this.view=L,this.disposable=O,this._cachedVisibleSize=void 0,typeof N=="number"?(this._size=N,this._cachedVisibleSize=void 0,w.classList.add("visible")):(this._size=0,this._cachedVisibleSize=N.cachedVisibleSize)}layout(w,L){this.layoutContainer(w),this.view.layout(this.size,w,L)}dispose(){return this.disposable.dispose(),this.view}}class n extends g{layoutContainer(w){this.container.style.top=`${w}px`,this.container.style.height=`${this.size}px`}}class a extends g{layoutContainer(w){this.container.style.left=`${w}px`,this.container.style.width=`${this.size}px`}}var C;(function(S){S[S.Idle=0]="Idle",S[S.Busy=1]="Busy"})(C||(C={}));var D;(function(S){S.Distribute={type:"distribute"};function w(N){return{type:"split",index:N}}S.Split=w;function L(N){return{type:"invisible",cachedVisibleSize:N}}S.Invisible=L})(D||(D={}));class u extends E.JT{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(w){for(const L of this.sashItems)L.sash.orthogonalStartSash=w;this._orthogonalStartSash=w}set orthogonalEndSash(w){for(const L of this.sashItems)L.sash.orthogonalEndSash=w;this._orthogonalEndSash=w}set startSnappingEnabled(w){this._startSnappingEnabled!==w&&(this._startSnappingEnabled=w,this.updateSashEnablement())}set endSnappingEnabled(w){this._endSnappingEnabled!==w&&(this._endSnappingEnabled=w,this.updateSashEnablement())}constructor(w,L={}){var N,O,x,T,W;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=C.Idle,this._onDidSashChange=this._register(new M.Q5),this._onDidSashReset=this._register(new M.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(N=L.orientation)!==null&&N!==void 0?N:0,this.inverseAltBehavior=(O=L.inverseAltBehavior)!==null&&O!==void 0?O:!1,this.proportionalLayout=(x=L.proportionalLayout)!==null&&x!==void 0?x:!0,this.getSashOrthogonalSize=L.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),w.appendChild(this.el),this.sashContainer=(0,m.R3)(this.el,(0,m.$)(".sash-container")),this.viewContainer=(0,m.$)(".split-view-container"),this.scrollable=new p.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:m.jL}),this.scrollableElement=this._register(new _.$Z(this.viewContainer,{vertical:this.orientation===0?(T=L.scrollbarVisibility)!==null&&T!==void 0?T:1:2,horizontal:this.orientation===1?(W=L.scrollbarVisibility)!==null&&W!==void 0?W:1:2},this.scrollable));const U=this._register(new B.Y(this.viewContainer,"scroll")).event;this._register(U(K=>{const G=this.scrollableElement.getScrollPosition(),z=Math.abs(this.viewContainer.scrollLeft-G.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,k=Math.abs(this.viewContainer.scrollTop-G.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(z!==void 0||k!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:z,scrollTop:k})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(K=>{K.scrollTopChanged&&(this.viewContainer.scrollTop=K.scrollTop),K.scrollLeftChanged&&(this.viewContainer.scrollLeft=K.scrollLeft)})),(0,m.R3)(this.el,this.scrollableElement.getDomNode()),this.style(L.styles||d),L.descriptor&&(this.size=L.descriptor.size,L.descriptor.views.forEach((K,G)=>{const z=l.o8(K.visible)||K.visible?K.size:{type:"invisible",cachedVisibleSize:K.size},k=K.view;this.doAddView(k,z,G,!0)}),this.contentSize=this.viewItems.reduce((K,G)=>K+G.size,0),this.saveProportions())}style(w){w.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",w.separatorBorder.toString()))}addView(w,L,N=this.viewItems.length,O){this.doAddView(w,L,N,O)}layout(w,L){const N=Math.max(this.size,this.contentSize);if(this.size=w,this.layoutContext=L,this.proportions){let O=0;for(let x=0;x<this.viewItems.length;x++){const T=this.viewItems[x],W=this.proportions[x];typeof W=="number"?O+=W:w-=T.size}for(let x=0;x<this.viewItems.length;x++){const T=this.viewItems[x],W=this.proportions[x];typeof W=="number"&&(T.size=(0,R.uZ)(Math.round(W*w/O),T.minimumSize,T.maximumSize))}}else{const O=(0,v.w6)(this.viewItems.length),x=O.filter(W=>this.viewItems[W].priority===1),T=O.filter(W=>this.viewItems[W].priority===2);this.resize(this.viewItems.length-1,w-N,void 0,x,T)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(w=>w.proportionalLayout?w.size/this.contentSize:void 0))}onSashStart({sash:w,start:L,alt:N}){for(const W of this.viewItems)W.enabled=!1;const O=this.sashItems.findIndex(W=>W.sash===w),x=(0,E.F8)((0,m.nm)(document.body,"keydown",W=>T(this.sashDragState.current,W.altKey)),(0,m.nm)(document.body,"keyup",()=>T(this.sashDragState.current,!1))),T=(W,U)=>{const K=this.viewItems.map(te=>te.size);let G=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(U=!U),U)if(O===this.sashItems.length-1){const X=this.viewItems[O];G=(X.minimumSize-X.size)/2,z=(X.maximumSize-X.size)/2}else{const X=this.viewItems[O+1];G=(X.size-X.maximumSize)/2,z=(X.size-X.minimumSize)/2}let k,q;if(!U){const te=(0,v.w6)(O,-1),X=(0,v.w6)(O+1,this.viewItems.length),j=te.reduce((xe,Le)=>xe+(this.viewItems[Le].minimumSize-K[Le]),0),J=te.reduce((xe,Le)=>xe+(this.viewItems[Le].viewMaximumSize-K[Le]),0),Y=X.length===0?Number.POSITIVE_INFINITY:X.reduce((xe,Le)=>xe+(K[Le]-this.viewItems[Le].minimumSize),0),ee=X.length===0?Number.NEGATIVE_INFINITY:X.reduce((xe,Le)=>xe+(K[Le]-this.viewItems[Le].viewMaximumSize),0),fe=Math.max(j,ee),De=Math.min(Y,J),Ne=this.findFirstSnapIndex(te),be=this.findFirstSnapIndex(X);if(typeof Ne=="number"){const xe=this.viewItems[Ne],Le=Math.floor(xe.viewMinimumSize/2);k={index:Ne,limitDelta:xe.visible?fe-Le:fe+Le,size:xe.size}}if(typeof be=="number"){const xe=this.viewItems[be],Le=Math.floor(xe.viewMinimumSize/2);q={index:be,limitDelta:xe.visible?De+Le:De-Le,size:xe.size}}}this.sashDragState={start:W,current:W,index:O,sizes:K,minDelta:G,maxDelta:z,alt:U,snapBefore:k,snapAfter:q,disposable:x}};T(L,N)}onSashChange({current:w}){const{index:L,start:N,sizes:O,alt:x,minDelta:T,maxDelta:W,snapBefore:U,snapAfter:K}=this.sashDragState;this.sashDragState.current=w;const G=w-N,z=this.resize(L,G,O,void 0,void 0,T,W,U,K);if(x){const k=L===this.sashItems.length-1,q=this.viewItems.map(ee=>ee.size),te=k?L:L+1,X=this.viewItems[te],j=X.size-X.maximumSize,J=X.size-X.minimumSize,Y=k?L-1:L+1;this.resize(Y,-z,q,void 0,void 0,j,J)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(w){this._onDidSashChange.fire(w),this.sashDragState.disposable.dispose(),this.saveProportions();for(const L of this.viewItems)L.enabled=!0}onViewChange(w,L){const N=this.viewItems.indexOf(w);N<0||N>=this.viewItems.length||(L=typeof L=="number"?L:w.size,L=(0,R.uZ)(L,w.minimumSize,w.maximumSize),this.inverseAltBehavior&&N>0?(this.resize(N-1,Math.floor((w.size-L)/2)),this.distributeEmptySpace(),this.layoutViews()):(w.size=L,this.relayout([N],void 0)))}resizeView(w,L){if(this.state!==C.Idle)throw new Error("Cant modify splitview");if(this.state=C.Busy,w<0||w>=this.viewItems.length)return;const N=(0,v.w6)(this.viewItems.length).filter(W=>W!==w),O=[...N.filter(W=>this.viewItems[W].priority===1),w],x=N.filter(W=>this.viewItems[W].priority===2),T=this.viewItems[w];L=Math.round(L),L=(0,R.uZ)(L,T.minimumSize,Math.min(T.maximumSize,this.size)),T.size=L,this.relayout(O,x),this.state=C.Idle}distributeViewSizes(){const w=[];let L=0;for(const W of this.viewItems)W.maximumSize-W.minimumSize>0&&(w.push(W),L+=W.size);const N=Math.floor(L/w.length);for(const W of w)W.size=(0,R.uZ)(N,W.minimumSize,W.maximumSize);const O=(0,v.w6)(this.viewItems.length),x=O.filter(W=>this.viewItems[W].priority===1),T=O.filter(W=>this.viewItems[W].priority===2);this.relayout(x,T)}getViewSize(w){return w<0||w>=this.viewItems.length?-1:this.viewItems[w].size}doAddView(w,L,N=this.viewItems.length,O){if(this.state!==C.Idle)throw new Error("Cant modify splitview");this.state=C.Busy;const x=(0,m.$)(".split-view-view");N===this.viewItems.length?this.viewContainer.appendChild(x):this.viewContainer.insertBefore(x,this.viewContainer.children.item(N));const T=w.onDidChange(k=>this.onViewChange(G,k)),W=(0,E.OF)(()=>this.viewContainer.removeChild(x)),U=(0,E.F8)(T,W);let K;typeof L=="number"?K=L:L.type==="split"?K=this.getViewSize(L.index)/2:L.type==="invisible"?K={cachedVisibleSize:L.cachedVisibleSize}:K=w.minimumSize;const G=this.orientation===0?new n(x,w,K,U):new a(x,w,K,U);if(this.viewItems.splice(N,0,G),this.viewItems.length>1){const k={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},q=this.orientation===0?new f.g(this.sashContainer,{getHorizontalSashTop:xe=>this.getSashPosition(xe),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},k),{orientation:1})):new f.g(this.sashContainer,{getVerticalSashLeft:xe=>this.getSashPosition(xe),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},k),{orientation:0})),te=this.orientation===0?xe=>({sash:q,start:xe.startY,current:xe.currentY,alt:xe.altKey}):xe=>({sash:q,start:xe.startX,current:xe.currentX,alt:xe.altKey}),j=M.ju.map(q.onDidStart,te)(this.onSashStart,this),Y=M.ju.map(q.onDidChange,te)(this.onSashChange,this),fe=M.ju.map(q.onDidEnd,()=>this.sashItems.findIndex(xe=>xe.sash===q))(this.onSashEnd,this),De=q.onDidReset(()=>{const xe=this.sashItems.findIndex(Ue=>Ue.sash===q),Le=(0,v.w6)(xe,-1),ue=(0,v.w6)(xe+1,this.viewItems.length),re=this.findFirstSnapIndex(Le),_e=this.findFirstSnapIndex(ue);typeof re=="number"&&!this.viewItems[re].visible||typeof _e=="number"&&!this.viewItems[_e].visible||this._onDidSashReset.fire(xe)}),Ne=(0,E.F8)(j,Y,fe,De,q),be={sash:q,disposable:Ne};this.sashItems.splice(N-1,0,be)}x.appendChild(w.element);let z;typeof L!="number"&&L.type==="split"&&(z=[L.index]),O||this.relayout([N],z),this.state=C.Idle,!O&&typeof L!="number"&&L.type==="distribute"&&this.distributeViewSizes()}relayout(w,L){const N=this.viewItems.reduce((O,x)=>O+x.size,0);this.resize(this.viewItems.length-1,this.size-N,void 0,w,L),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(w,L,N=this.viewItems.map(G=>G.size),O,x,T=Number.NEGATIVE_INFINITY,W=Number.POSITIVE_INFINITY,U,K){if(w<0||w>=this.viewItems.length)return 0;const G=(0,v.w6)(w,-1),z=(0,v.w6)(w+1,this.viewItems.length);if(x)for(const be of x)(0,v.zI)(G,be),(0,v.zI)(z,be);if(O)for(const be of O)(0,v.al)(G,be),(0,v.al)(z,be);const k=G.map(be=>this.viewItems[be]),q=G.map(be=>N[be]),te=z.map(be=>this.viewItems[be]),X=z.map(be=>N[be]),j=G.reduce((be,xe)=>be+(this.viewItems[xe].minimumSize-N[xe]),0),J=G.reduce((be,xe)=>be+(this.viewItems[xe].maximumSize-N[xe]),0),Y=z.length===0?Number.POSITIVE_INFINITY:z.reduce((be,xe)=>be+(N[xe]-this.viewItems[xe].minimumSize),0),ee=z.length===0?Number.NEGATIVE_INFINITY:z.reduce((be,xe)=>be+(N[xe]-this.viewItems[xe].maximumSize),0),fe=Math.max(j,ee,T),De=Math.min(Y,J,W);let Ne=!1;if(U){const be=this.viewItems[U.index],xe=L>=U.limitDelta;Ne=xe!==be.visible,be.setVisible(xe,U.size)}if(!Ne&&K){const be=this.viewItems[K.index],xe=L<K.limitDelta;Ne=xe!==be.visible,be.setVisible(xe,K.size)}if(Ne)return this.resize(w,L,N,O,x,T,W);L=(0,R.uZ)(L,fe,De);for(let be=0,xe=L;be<k.length;be++){const Le=k[be],ue=(0,R.uZ)(q[be]+xe,Le.minimumSize,Le.maximumSize),re=ue-q[be];xe-=re,Le.size=ue}for(let be=0,xe=L;be<te.length;be++){const Le=te[be],ue=(0,R.uZ)(X[be]-xe,Le.minimumSize,Le.maximumSize),re=ue-X[be];xe+=re,Le.size=ue}return L}distributeEmptySpace(w){const L=this.viewItems.reduce((W,U)=>W+U.size,0);let N=this.size-L;const O=(0,v.w6)(this.viewItems.length-1,-1),x=O.filter(W=>this.viewItems[W].priority===1),T=O.filter(W=>this.viewItems[W].priority===2);for(const W of T)(0,v.zI)(O,W);for(const W of x)(0,v.al)(O,W);typeof w=="number"&&(0,v.al)(O,w);for(let W=0;N!==0&&W<O.length;W++){const U=this.viewItems[O[W]],K=(0,R.uZ)(U.size+N,U.minimumSize,U.maximumSize),G=K-U.size;N-=G,U.size=K}}layoutViews(){this.contentSize=this.viewItems.reduce((L,N)=>L+N.size,0);let w=0;for(const L of this.viewItems)L.layout(w,this.layoutContext),w+=L.size;this.sashItems.forEach(L=>L.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let w=!1;const L=this.viewItems.map(U=>w=U.size-U.minimumSize>0||w);w=!1;const N=this.viewItems.map(U=>w=U.maximumSize-U.size>0||w),O=[...this.viewItems].reverse();w=!1;const x=O.map(U=>w=U.size-U.minimumSize>0||w).reverse();w=!1;const T=O.map(U=>w=U.maximumSize-U.size>0||w).reverse();let W=0;for(let U=0;U<this.sashItems.length;U++){const{sash:K}=this.sashItems[U],G=this.viewItems[U];W+=G.size;const z=!(L[U]&&T[U+1]),k=!(N[U]&&x[U+1]);if(z&&k){const q=(0,v.w6)(U,-1),te=(0,v.w6)(U+1,this.viewItems.length),X=this.findFirstSnapIndex(q),j=this.findFirstSnapIndex(te),J=typeof X=="number"&&!this.viewItems[X].visible,Y=typeof j=="number"&&!this.viewItems[j].visible;J&&x[U]&&(W>0||this.startSnappingEnabled)?K.state=1:Y&&L[U]&&(W<this.contentSize||this.endSnappingEnabled)?K.state=2:K.state=0}else z&&!k?K.state=1:!z&&k?K.state=2:K.state=3}}getSashPosition(w){let L=0;for(let N=0;N<this.sashItems.length;N++)if(L+=this.viewItems[N].size,this.sashItems[N].sash===w)return L;return 0}findFirstSnapIndex(w){for(const L of w){const N=this.viewItems[L];if(N.visible&&N.snap)return L}for(const L of w){const N=this.viewItems[L];if(N.visible&&N.maximumSize-N.minimumSize>0)return;if(!N.visible&&N.snap)return L}}dispose(){var w;(w=this.sashDragState)===null||w===void 0||w.disposable.dispose(),(0,E.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(L=>L.disposable.dispose()),this.sashItems=[],super.dispose()}}},23602:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return v},D:function(){return _}});var m=i(88305),B=i(8216),f=i(56709);const _={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class v extends m.${constructor(M){super(),this._onChange=this._register(new f.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new f.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=M,this._checked=this._opts.isChecked;const E=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,E.push(...B.k.asClassNameArray(this._icon))),this._opts.actionClassName&&E.push(...this._opts.actionClassName.split(" ")),this._checked&&E.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...E),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,R=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),R.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,R=>{if(R.keyCode===10||R.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),R.preventDefault(),R.stopPropagation();return}this._onKeyDown.fire(R)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(M){this._checked=M,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},88305:function(Ot,He,i){"use strict";i.d(He,{$:function(){return A}});var m=i(34441),B=i(6544),f=i(64079),_=i(80265),v=i(38431);class A extends v.JT{onclick(E,R){this._register(m.nm(E,m.tw.CLICK,p=>R(new f.n(p))))}onmousedown(E,R){this._register(m.nm(E,m.tw.MOUSE_DOWN,p=>R(new f.n(p))))}onmouseover(E,R){this._register(m.nm(E,m.tw.MOUSE_OVER,p=>R(new f.n(p))))}onmouseleave(E,R){this._register(m.nm(E,m.tw.MOUSE_LEAVE,p=>R(new f.n(p))))}onkeydown(E,R){this._register(m.nm(E,m.tw.KEY_DOWN,p=>R(new B.y(p))))}onkeyup(E,R){this._register(m.nm(E,m.tw.KEY_UP,p=>R(new B.y(p))))}oninput(E,R){this._register(m.nm(E,m.tw.INPUT,R))}onblur(E,R){this._register(m.nm(E,m.tw.BLUR,R))}onfocus(E,R){this._register(m.nm(E,m.tw.FOCUS,R))}ignoreGesture(E){return _.o.ignoreTarget(E)}}},98299:function(Ot,He,i){"use strict";i.d(He,{Wi:function(){return A},Z0:function(){return M},aU:function(){return v},eZ:function(){return R},wY:function(){return E},xw:function(){return p}});var m=i(56709),B=i(38431),f=i(26386),_=function(l,d,g,n){function a(C){return C instanceof g?C:new g(function(D){D(C)})}return new(g||(g=Promise))(function(C,D){function u(L){try{w(n.next(L))}catch(N){D(N)}}function S(L){try{w(n.throw(L))}catch(N){D(N)}}function w(L){L.done?C(L.value):a(L.value).then(u,S)}w((n=n.apply(l,d||[])).next())})};class v extends B.JT{constructor(d,g="",n="",a=!0,C){super(),this._onDidChange=this._register(new m.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=d,this._label=g,this._cssClass=n,this._enabled=a,this._actionCallback=C}get id(){return this._id}get label(){return this._label}set label(d){this._setLabel(d)}_setLabel(d){this._label!==d&&(this._label=d,this._onDidChange.fire({label:d}))}get tooltip(){return this._tooltip||""}set tooltip(d){this._setTooltip(d)}_setTooltip(d){this._tooltip!==d&&(this._tooltip=d,this._onDidChange.fire({tooltip:d}))}get class(){return this._cssClass}set class(d){this._setClass(d)}_setClass(d){this._cssClass!==d&&(this._cssClass=d,this._onDidChange.fire({class:d}))}get enabled(){return this._enabled}set enabled(d){this._setEnabled(d)}_setEnabled(d){this._enabled!==d&&(this._enabled=d,this._onDidChange.fire({enabled:d}))}get checked(){return this._checked}set checked(d){this._setChecked(d)}_setChecked(d){this._checked!==d&&(this._checked=d,this._onDidChange.fire({checked:d}))}run(d,g){return _(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(d))})}}class A extends B.JT{constructor(){super(...arguments),this._onWillRun=this._register(new m.Q5),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new m.Q5),this.onDidRun=this._onDidRun.event}run(d,g){return _(this,void 0,void 0,function*(){if(!d.enabled)return;this._onWillRun.fire({action:d});let n;try{yield this.runAction(d,g)}catch(a){n=a}this._onDidRun.fire({action:d,error:n})})}runAction(d,g){return _(this,void 0,void 0,function*(){yield d.run(g)})}}class M{constructor(){this.id=M.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...d){let g=[];for(const n of d)n.length&&(g.length?g=[...g,new M,...n]:g=n);return g}run(){return _(this,void 0,void 0,function*(){})}}M.ID="vs.actions.separator";class E{get actions(){return this._actions}constructor(d,g,n,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=d,this.label=g,this.class=a,this._actions=n}run(){return _(this,void 0,void 0,function*(){})}}class R extends v{constructor(){super(R.ID,f.NC("submenu.empty","(empty)"),void 0,!1)}}R.ID="vs.actions.empty";function p(l){var d,g;return{id:l.id,label:l.label,class:void 0,enabled:(d=l.enabled)!==null&&d!==void 0?d:!0,checked:(g=l.checked)!==null&&g!==void 0?g:!1,run:()=>_(this,void 0,void 0,function*(){return l.run()}),tooltip:l.label}}},16308:function(Ot,He,i){"use strict";i.d(He,{Dc:function(){return z},EB:function(){return n},Gb:function(){return m},H9:function(){return te},HW:function(){return E},JH:function(){return B},LS:function(){return _},Of:function(){return g},Rs:function(){return l},VJ:function(){return q},W$:function(){return X},XY:function(){return d},Xh:function(){return D},Zv:function(){return S},_2:function(){return O},al:function(){return L},dF:function(){return a},db:function(){return T},fS:function(){return f},fv:function(){return G},jV:function(){return k},kX:function(){return p},lG:function(){return M},ry:function(){return v},tT:function(){return K},vA:function(){return N},vM:function(){return R},w6:function(){return u},zI:function(){return w}});function m(j,J=0){return j[j.length-(1+J)]}function B(j){if(j.length===0)throw new Error("Invalid tail call");return[j.slice(0,j.length-1),j[j.length-1]]}function f(j,J,Y=(ee,fe)=>ee===fe){if(j===J)return!0;if(!j||!J||j.length!==J.length)return!1;for(let ee=0,fe=j.length;ee<fe;ee++)if(!Y(j[ee],J[ee]))return!1;return!0}function _(j,J){const Y=j.length-1;J<Y&&(j[J]=j[Y]),j.pop()}function v(j,J,Y){return A(j.length,ee=>Y(j[ee],J))}function A(j,J){let Y=0,ee=j-1;for(;Y<=ee;){const fe=(Y+ee)/2|0,De=J(fe);if(De<0)Y=fe+1;else if(De>0)ee=fe-1;else return fe}return-(Y+1)}function M(j,J){let Y=0,ee=j.length;if(ee===0)return 0;for(;Y<ee;){const fe=Math.floor((Y+ee)/2);J(j[fe])?ee=fe:Y=fe+1}return Y}function E(j,J,Y){if(j=j|0,j>=J.length)throw new TypeError("invalid index");const ee=J[Math.floor(J.length*Math.random())],fe=[],De=[],Ne=[];for(const be of J){const xe=Y(be,ee);xe<0?fe.push(be):xe>0?De.push(be):Ne.push(be)}return j<fe.length?E(j,fe,Y):j<fe.length+Ne.length?Ne[0]:E(j-(fe.length+Ne.length),De,Y)}function R(j,J){const Y=[];let ee;for(const fe of j.slice(0).sort(J))!ee||J(ee[0],fe)!==0?(ee=[fe],Y.push(ee)):ee.push(fe);return Y}function p(j){return j.filter(J=>!!J)}function l(j){let J=0;for(let Y=0;Y<j.length;Y++)j[Y]&&(j[J]=j[Y],J+=1);j.length=J}function d(j){return!Array.isArray(j)||j.length===0}function g(j){return Array.isArray(j)&&j.length>0}function n(j,J=Y=>Y){const Y=new Set;return j.filter(ee=>{const fe=J(ee);return Y.has(fe)?!1:(Y.add(fe),!0)})}function a(j,J){const Y=C(j,J);if(Y!==-1)return j[Y]}function C(j,J){for(let Y=j.length-1;Y>=0;Y--){const ee=j[Y];if(J(ee))return Y}return-1}function D(j,J){return j.length>0?j[0]:J}function u(j,J){let Y=typeof J=="number"?j:0;typeof J=="number"?Y=j:(Y=0,J=j);const ee=[];if(Y<=J)for(let fe=Y;fe<J;fe++)ee.push(fe);else for(let fe=Y;fe>J;fe--)ee.push(fe);return ee}function S(j,J,Y){const ee=j.slice(0,J),fe=j.slice(J);return ee.concat(Y,fe)}function w(j,J){const Y=j.indexOf(J);Y>-1&&(j.splice(Y,1),j.unshift(J))}function L(j,J){const Y=j.indexOf(J);Y>-1&&(j.splice(Y,1),j.push(J))}function N(j,J){for(const Y of J)j.push(Y)}function O(j){return Array.isArray(j)?j:[j]}function x(j,J,Y){const ee=W(j,J),fe=j.length,De=Y.length;j.length=fe+De;for(let Ne=fe-1;Ne>=ee;Ne--)j[Ne+De]=j[Ne];for(let Ne=0;Ne<De;Ne++)j[Ne+ee]=Y[Ne]}function T(j,J,Y,ee){const fe=W(j,J),De=j.splice(fe,Y);return x(j,fe,ee),De}function W(j,J){return J<0?Math.max(J+j.length,0):Math.min(J,j.length)}var U;(function(j){function J(fe){return fe<0}j.isLessThan=J;function Y(fe){return fe>0}j.isGreaterThan=Y;function ee(fe){return fe===0}j.isNeitherLessOrGreaterThan=ee,j.greaterThan=1,j.lessThan=-1,j.neitherLessOrGreaterThan=0})(U||(U={}));function K(j,J){return(Y,ee)=>J(j(Y),j(ee))}const G=(j,J)=>j-J;function z(j,J){if(j.length===0)return;let Y=j[0];for(let ee=1;ee<j.length;ee++){const fe=j[ee];J(fe,Y)>0&&(Y=fe)}return Y}function k(j,J){if(j.length===0)return;let Y=j[0];for(let ee=1;ee<j.length;ee++){const fe=j[ee];J(fe,Y)>=0&&(Y=fe)}return Y}function q(j,J){return z(j,(Y,ee)=>-J(Y,ee))}class te{constructor(J){this.items=J,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(J){let Y=this.firstIdx;for(;Y<this.items.length&&J(this.items[Y]);)Y++;const ee=Y===this.firstIdx?null:this.items.slice(this.firstIdx,Y);return this.firstIdx=Y,ee}takeFromEndWhile(J){let Y=this.lastIdx;for(;Y>=0&&J(this.items[Y]);)Y--;const ee=Y===this.lastIdx?null:this.items.slice(Y+1,this.lastIdx+1);return this.lastIdx=Y,ee}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const J=this.items[this.firstIdx];return this.firstIdx++,J}takeCount(J){const Y=this.items.slice(this.firstIdx,this.firstIdx+J);return this.firstIdx+=J,Y}}class X{constructor(J){this.iterate=J}toArray(){const J=[];return this.iterate(Y=>(J.push(Y),!0)),J}filter(J){return new X(Y=>this.iterate(ee=>J(ee)?Y(ee):!0))}map(J){return new X(Y=>this.iterate(ee=>Y(J(ee))))}findLast(J){let Y;return this.iterate(ee=>(J(ee)&&(Y=ee),!0)),Y}findLastMaxBy(J){let Y,ee=!0;return this.iterate(fe=>((ee||U.isGreaterThan(J(fe,Y)))&&(ee=!1,Y=fe),!0)),Y}}X.empty=new X(j=>{})},14527:function(Ot,He,i){"use strict";i.d(He,{DM:function(){return v},eZ:function(){return _},ok:function(){return B},vE:function(){return f}});var m=i(20996);function B(A,M){if(!A)throw new Error(M?`Assertion failed (${M})`:"Assertion Failed")}function f(A,M="Unreachable"){throw new Error(M)}function _(A){if(!A()){debugger;A(),(0,m.dL)(new m.he("Assertion Failed"))}}function v(A,M){let E=0;for(;E<A.length-1;){const R=A[E],p=A[E+1];if(!M(R,p))return!1;E++}return!0}},13484:function(Ot,He,i){"use strict";i.d(He,{Aq:function(){return U},CR:function(){return T},J8:function(){return R},PG:function(){return p},Ps:function(){return S},To:function(){return O},Ue:function(){return x},Vg:function(){return u},Vs:function(){return D},_F:function(){return w},eP:function(){return l},jT:function(){return W},pY:function(){return N},rH:function(){return C},vp:function(){return a},zS:function(){return G},zh:function(){return L}});var m=i(97464),B=i(20996),f=i(56709),_=i(38431),v=i(11138),A=i(808),M=function(z,k,q,te){function X(j){return j instanceof q?j:new q(function(J){J(j)})}return new(q||(q=Promise))(function(j,J){function Y(De){try{fe(te.next(De))}catch(Ne){J(Ne)}}function ee(De){try{fe(te.throw(De))}catch(Ne){J(Ne)}}function fe(De){De.done?j(De.value):X(De.value).then(Y,ee)}fe((te=te.apply(z,k||[])).next())})},E=function(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=z[Symbol.asyncIterator],q;return k?k.call(z):(z=typeof __values=="function"?__values(z):z[Symbol.iterator](),q={},te("next"),te("throw"),te("return"),q[Symbol.asyncIterator]=function(){return this},q);function te(j){q[j]=z[j]&&function(J){return new Promise(function(Y,ee){J=z[j](J),X(Y,ee,J.done,J.value)})}}function X(j,J,Y,ee){Promise.resolve(ee).then(function(fe){j({value:fe,done:Y})},J)}};function R(z){return!!z&&typeof z.then=="function"}function p(z){const k=new m.A,q=z(k.token),te=new Promise((X,j)=>{const J=k.token.onCancellationRequested(()=>{J.dispose(),k.dispose(),j(new B.FU)});Promise.resolve(q).then(Y=>{J.dispose(),k.dispose(),X(Y)},Y=>{J.dispose(),k.dispose(),j(Y)})});return new class{cancel(){k.cancel()}then(X,j){return te.then(X,j)}catch(X){return this.then(void 0,X)}finally(X){return te.finally(X)}}}function l(z,k,q){return new Promise((te,X)=>{const j=k.onCancellationRequested(()=>{j.dispose(),te(q)});z.then(te,X).finally(()=>j.dispose())})}class d{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(k){if(this.activePromise){if(this.queuedPromiseFactory=k,!this.queuedPromise){const q=()=>{this.queuedPromise=null;const te=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,te};this.queuedPromise=new Promise(te=>{this.activePromise.then(q,q).then(te)})}return new Promise((q,te)=>{this.queuedPromise.then(q,te)})}return this.activePromise=k(),new Promise((q,te)=>{this.activePromise.then(X=>{this.activePromise=null,q(X)},X=>{this.activePromise=null,te(X)})})}}const g=(z,k)=>{let q=!0;const te=setTimeout(()=>{q=!1,k()},z);return{isTriggered:()=>q,dispose:()=>{clearTimeout(te),q=!1}}},n=z=>{let k=!0;return queueMicrotask(()=>{k&&(k=!1,z())}),{isTriggered:()=>k,dispose:()=>{k=!1}}};class a{constructor(k){this.defaultDelay=k,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(k,q=this.defaultDelay){this.task=k,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((X,j)=>{this.doResolve=X,this.doReject=j}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const X=this.task;return this.task=null,X()}}));const te=()=>{var X;this.deferred=null,(X=this.doResolve)===null||X===void 0||X.call(this,null)};return this.deferred=q===A.n?n(te):g(q,te),this.completionPromise}isTriggered(){var k;return!!(!((k=this.deferred)===null||k===void 0)&&k.isTriggered())}cancel(){var k;this.cancelTimeout(),this.completionPromise&&((k=this.doReject)===null||k===void 0||k.call(this,new B.FU),this.completionPromise=null)}cancelTimeout(){var k;(k=this.deferred)===null||k===void 0||k.dispose(),this.deferred=null}dispose(){this.cancel()}}class C{constructor(k){this.delayer=new a(k),this.throttler=new d}trigger(k,q){return this.delayer.trigger(()=>this.throttler.queue(k),q)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}function D(z,k){return k?new Promise((q,te)=>{const X=setTimeout(()=>{j.dispose(),q()},z),j=k.onCancellationRequested(()=>{clearTimeout(X),j.dispose(),te(new B.FU)})}):p(q=>D(z,q))}function u(z,k=0){const q=setTimeout(z,k);return(0,_.OF)(()=>clearTimeout(q))}function S(z,k=te=>!!te,q=null){let te=0;const X=z.length,j=()=>{if(te>=X)return Promise.resolve(q);const J=z[te++];return Promise.resolve(J()).then(ee=>k(ee)?Promise.resolve(ee):j())};return j()}class w{constructor(k,q){this._token=-1,typeof k=="function"&&typeof q=="number"&&this.setIfNotSet(k,q)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(k,q){this.cancel(),this._token=setTimeout(()=>{this._token=-1,k()},q)}setIfNotSet(k,q){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,k()},q))}}class L{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(k,q){this.cancel(),this._token=setInterval(()=>{k()},q)}}class N{constructor(k,q){this.timeoutToken=-1,this.runner=k,this.timeout=q,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(k=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,k)}get delay(){return this.timeout}set delay(k){this.timeout=k}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var k;(k=this.runner)===null||k===void 0||k.call(this)}}let O;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?O=z=>{(0,v.fn)(()=>{if(k)return;const q=Date.now()+15;z(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,q-Date.now())}}))});let k=!1;return{dispose(){k||(k=!0)}}}:O=(z,k)=>{const q=requestIdleCallback(z,typeof k=="number"?{timeout:k}:void 0);let te=!1;return{dispose(){te||(te=!0,cancelIdleCallback(q))}}}})();class x{constructor(k){this._didRun=!1,this._executor=()=>{try{this._value=k()}catch(q){this._error=q}finally{this._didRun=!0}},this._handle=O(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class T{get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((k,q)=>{this.completeCallback=k,this.errorCallback=q})}complete(k){return new Promise(q=>{this.completeCallback(k),this.resolved=!0,q()})}cancel(){new Promise(k=>{this.errorCallback(new B.FU),this.rejected=!0,k()})}}var W;(function(z){function k(te){return M(this,void 0,void 0,function*(){let X;const j=yield Promise.all(te.map(J=>J.then(Y=>Y,Y=>{X||(X=Y)})));if(typeof X!="undefined")throw X;return j})}z.settled=k;function q(te){return new Promise((X,j)=>M(this,void 0,void 0,function*(){try{yield te(X,j)}catch(J){j(J)}}))}z.withAsyncBody=q})(W||(W={}));class U{static fromArray(k){return new U(q=>{q.emitMany(k)})}static fromPromise(k){return new U(q=>M(this,void 0,void 0,function*(){q.emitMany(yield k)}))}static fromPromises(k){return new U(q=>M(this,void 0,void 0,function*(){yield Promise.all(k.map(te=>M(this,void 0,void 0,function*(){return q.emitOne(yield te)})))}))}static merge(k){return new U(q=>M(this,void 0,void 0,function*(){yield Promise.all(k.map(te=>{var X,j,J;return M(this,void 0,void 0,function*(){var Y,ee,fe,De;try{for(X=!0,j=E(te);J=yield j.next(),Y=J.done,!Y;){De=J.value,X=!1;try{const Ne=De;q.emitOne(Ne)}finally{X=!0}}}catch(Ne){ee={error:Ne}}finally{try{!X&&!Y&&(fe=j.return)&&(yield fe.call(j))}finally{if(ee)throw ee.error}}})}))}))}constructor(k){this._state=0,this._results=[],this._error=null,this._onStateChanged=new f.Q5,queueMicrotask(()=>M(this,void 0,void 0,function*(){const q={emitOne:te=>this.emitOne(te),emitMany:te=>this.emitMany(te),reject:te=>this.reject(te)};try{yield Promise.resolve(k(q)),this.resolve()}catch(te){this.reject(te)}finally{q.emitOne=void 0,q.emitMany=void 0,q.reject=void 0}}))}[Symbol.asyncIterator](){let k=0;return{next:()=>M(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(k<this._results.length)return{done:!1,value:this._results[k++]};if(this._state===1)return{done:!0,value:void 0};yield f.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(k,q){return new U(te=>M(this,void 0,void 0,function*(){var X,j,J,Y;try{for(var ee=!0,fe=E(k),De;De=yield fe.next(),X=De.done,!X;){Y=De.value,ee=!1;try{const Ne=Y;te.emitOne(q(Ne))}finally{ee=!0}}}catch(Ne){j={error:Ne}}finally{try{!ee&&!X&&(J=fe.return)&&(yield J.call(fe))}finally{if(j)throw j.error}}}))}map(k){return U.map(this,k)}static filter(k,q){return new U(te=>M(this,void 0,void 0,function*(){var X,j,J,Y;try{for(var ee=!0,fe=E(k),De;De=yield fe.next(),X=De.done,!X;){Y=De.value,ee=!1;try{const Ne=Y;q(Ne)&&te.emitOne(Ne)}finally{ee=!0}}}catch(Ne){j={error:Ne}}finally{try{!ee&&!X&&(J=fe.return)&&(yield J.call(fe))}finally{if(j)throw j.error}}}))}filter(k){return U.filter(this,k)}static coalesce(k){return U.filter(k,q=>!!q)}coalesce(){return U.coalesce(this)}static toPromise(k){var q,te,X,j,J,Y,ee;return M(this,void 0,void 0,function*(){const fe=[];try{for(q=!0,te=E(k);X=yield te.next(),j=X.done,!j;){ee=X.value,q=!1;try{const De=ee;fe.push(De)}finally{q=!0}}}catch(De){J={error:De}}finally{try{!q&&!j&&(Y=te.return)&&(yield Y.call(te))}finally{if(J)throw J.error}}return fe})}toPromise(){return U.toPromise(this)}emitOne(k){this._state===0&&(this._results.push(k),this._onStateChanged.fire())}emitMany(k){this._state===0&&(this._results=this._results.concat(k),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(k){this._state===0&&(this._state=2,this._error=k,this._onStateChanged.fire())}}U.EMPTY=U.fromArray([]);class K extends U{constructor(k,q){super(q),this._source=k}cancel(){this._source.cancel()}}function G(z){const k=new m.A,q=z(k.token);return new K(k,te=>M(this,void 0,void 0,function*(){var X,j,J,Y;const ee=k.token.onCancellationRequested(()=>{ee.dispose(),k.dispose(),te.reject(new B.FU)});try{try{for(var fe=!0,De=E(q),Ne;Ne=yield De.next(),X=Ne.done,!X;){Y=Ne.value,fe=!1;try{const be=Y;if(k.token.isCancellationRequested)return;te.emitOne(be)}finally{fe=!0}}}catch(be){j={error:be}}finally{try{!fe&&!X&&(J=De.return)&&(yield J.call(De))}finally{if(j)throw j.error}}ee.dispose(),k.dispose()}catch(be){ee.dispose(),k.dispose(),te.reject(be)}}))}},77511:function(Ot,He,i){"use strict";i.d(He,{Ag:function(){return M},Cg:function(){return p},KN:function(){return _},Q$:function(){return R},T4:function(){return E},mP:function(){return v},oq:function(){return A}});var m=i(48834).lW;const B=typeof m!="undefined";let f;class _{static wrap(d){return B&&!m.isBuffer(d)&&(d=m.from(d.buffer,d.byteOffset,d.byteLength)),new _(d)}constructor(d){this.buffer=d,this.byteLength=this.buffer.byteLength}toString(){return B?this.buffer.toString():(f||(f=new TextDecoder),f.decode(this.buffer))}}function v(l,d){return l[d+0]<<0>>>0|l[d+1]<<8>>>0}function A(l,d,g){l[g+0]=d&255,d=d>>>8,l[g+1]=d&255}function M(l,d){return l[d]*Math.pow(2,24)+l[d+1]*Math.pow(2,16)+l[d+2]*Math.pow(2,8)+l[d+3]}function E(l,d,g){l[g+3]=d,d=d>>>8,l[g+2]=d,d=d>>>8,l[g+1]=d,d=d>>>8,l[g]=d}function R(l,d){return l[d]}function p(l,d,g){l[g]=d}},88280:function(Ot,He,i){"use strict";i.d(He,{b:function(){return B},t:function(){return m}});class m{constructor(_){this.fn=_,this.lastCache=void 0,this.lastArgKey=void 0}get(_){const v=JSON.stringify(_);return this.lastArgKey!==v&&(this.lastArgKey=v,this.lastCache=this.fn(_)),this.lastCache}}class B{get cachedValues(){return this._map}constructor(_){this.fn=_,this._map=new Map}get(_){if(this._map.has(_))return this._map.get(_);const v=this.fn(_);return this._map.set(_,v),v}}},97464:function(Ot,He,i){"use strict";i.d(He,{A:function(){return v},T:function(){return f}});var m=i(56709);const B=Object.freeze(function(A,M){const E=setTimeout(A.bind(M),0);return{dispose(){clearTimeout(E)}}});var f;(function(A){function M(E){return E===A.None||E===A.Cancelled||E instanceof _?!0:!E||typeof E!="object"?!1:typeof E.isCancellationRequested=="boolean"&&typeof E.onCancellationRequested=="function"}A.isCancellationToken=M,A.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:m.ju.None}),A.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:B})})(f||(f={}));class _{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?B:(this._emitter||(this._emitter=new m.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class v{constructor(M){this._token=void 0,this._parentListener=void 0,this._parentListener=M&&M.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new _),this._token}cancel(){this._token?this._token instanceof _&&this._token.cancel():this._token=f.Cancelled}dispose(M=!1){var E;M&&this.cancel(),(E=this._parentListener)===null||E===void 0||E.dispose(),this._token?this._token instanceof _&&this._token.dispose():this._token=f.None}}},407:function(Ot,He,i){"use strict";i.d(He,{l:function(){return v},u:function(){return _}});var m=i(14818);const B=Object.create(null);function f(A,M){if((0,m.HD)(M)){const E=B[M];if(E===void 0)throw new Error(`${A} references an unknown codicon: ${M}`);M=E}return B[A]=M,{id:A}}function _(){return B}const v={add:f("add",6e4),plus:f("plus",6e4),gistNew:f("gist-new",6e4),repoCreate:f("repo-create",6e4),lightbulb:f("lightbulb",60001),lightBulb:f("light-bulb",60001),repo:f("repo",60002),repoDelete:f("repo-delete",60002),gistFork:f("gist-fork",60003),repoForked:f("repo-forked",60003),gitPullRequest:f("git-pull-request",60004),gitPullRequestAbandoned:f("git-pull-request-abandoned",60004),recordKeys:f("record-keys",60005),keyboard:f("keyboard",60005),tag:f("tag",60006),tagAdd:f("tag-add",60006),tagRemove:f("tag-remove",60006),person:f("person",60007),personFollow:f("person-follow",60007),personOutline:f("person-outline",60007),personFilled:f("person-filled",60007),gitBranch:f("git-branch",60008),gitBranchCreate:f("git-branch-create",60008),gitBranchDelete:f("git-branch-delete",60008),sourceControl:f("source-control",60008),mirror:f("mirror",60009),mirrorPublic:f("mirror-public",60009),star:f("star",60010),starAdd:f("star-add",60010),starDelete:f("star-delete",60010),starEmpty:f("star-empty",60010),comment:f("comment",60011),commentAdd:f("comment-add",60011),alert:f("alert",60012),warning:f("warning",60012),search:f("search",60013),searchSave:f("search-save",60013),logOut:f("log-out",60014),signOut:f("sign-out",60014),logIn:f("log-in",60015),signIn:f("sign-in",60015),eye:f("eye",60016),eyeUnwatch:f("eye-unwatch",60016),eyeWatch:f("eye-watch",60016),circleFilled:f("circle-filled",60017),primitiveDot:f("primitive-dot",60017),closeDirty:f("close-dirty",60017),debugBreakpoint:f("debug-breakpoint",60017),debugBreakpointDisabled:f("debug-breakpoint-disabled",60017),debugHint:f("debug-hint",60017),primitiveSquare:f("primitive-square",60018),edit:f("edit",60019),pencil:f("pencil",60019),info:f("info",60020),issueOpened:f("issue-opened",60020),gistPrivate:f("gist-private",60021),gitForkPrivate:f("git-fork-private",60021),lock:f("lock",60021),mirrorPrivate:f("mirror-private",60021),close:f("close",60022),removeClose:f("remove-close",60022),x:f("x",60022),repoSync:f("repo-sync",60023),sync:f("sync",60023),clone:f("clone",60024),desktopDownload:f("desktop-download",60024),beaker:f("beaker",60025),microscope:f("microscope",60025),vm:f("vm",60026),deviceDesktop:f("device-desktop",60026),file:f("file",60027),fileText:f("file-text",60027),more:f("more",60028),ellipsis:f("ellipsis",60028),kebabHorizontal:f("kebab-horizontal",60028),mailReply:f("mail-reply",60029),reply:f("reply",60029),organization:f("organization",60030),organizationFilled:f("organization-filled",60030),organizationOutline:f("organization-outline",60030),newFile:f("new-file",60031),fileAdd:f("file-add",60031),newFolder:f("new-folder",60032),fileDirectoryCreate:f("file-directory-create",60032),trash:f("trash",60033),trashcan:f("trashcan",60033),history:f("history",60034),clock:f("clock",60034),folder:f("folder",60035),fileDirectory:f("file-directory",60035),symbolFolder:f("symbol-folder",60035),logoGithub:f("logo-github",60036),markGithub:f("mark-github",60036),github:f("github",60036),terminal:f("terminal",60037),console:f("console",60037),repl:f("repl",60037),zap:f("zap",60038),symbolEvent:f("symbol-event",60038),error:f("error",60039),stop:f("stop",60039),variable:f("variable",60040),symbolVariable:f("symbol-variable",60040),array:f("array",60042),symbolArray:f("symbol-array",60042),symbolModule:f("symbol-module",60043),symbolPackage:f("symbol-package",60043),symbolNamespace:f("symbol-namespace",60043),symbolObject:f("symbol-object",60043),symbolMethod:f("symbol-method",60044),symbolFunction:f("symbol-function",60044),symbolConstructor:f("symbol-constructor",60044),symbolBoolean:f("symbol-boolean",60047),symbolNull:f("symbol-null",60047),symbolNumeric:f("symbol-numeric",60048),symbolNumber:f("symbol-number",60048),symbolStructure:f("symbol-structure",60049),symbolStruct:f("symbol-struct",60049),symbolParameter:f("symbol-parameter",60050),symbolTypeParameter:f("symbol-type-parameter",60050),symbolKey:f("symbol-key",60051),symbolText:f("symbol-text",60051),symbolReference:f("symbol-reference",60052),goToFile:f("go-to-file",60052),symbolEnum:f("symbol-enum",60053),symbolValue:f("symbol-value",60053),symbolRuler:f("symbol-ruler",60054),symbolUnit:f("symbol-unit",60054),activateBreakpoints:f("activate-breakpoints",60055),archive:f("archive",60056),arrowBoth:f("arrow-both",60057),arrowDown:f("arrow-down",60058),arrowLeft:f("arrow-left",60059),arrowRight:f("arrow-right",60060),arrowSmallDown:f("arrow-small-down",60061),arrowSmallLeft:f("arrow-small-left",60062),arrowSmallRight:f("arrow-small-right",60063),arrowSmallUp:f("arrow-small-up",60064),arrowUp:f("arrow-up",60065),bell:f("bell",60066),bold:f("bold",60067),book:f("book",60068),bookmark:f("bookmark",60069),debugBreakpointConditionalUnverified:f("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:f("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:f("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:f("debug-breakpoint-data-unverified",60072),debugBreakpointData:f("debug-breakpoint-data",60073),debugBreakpointDataDisabled:f("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:f("debug-breakpoint-log-unverified",60074),debugBreakpointLog:f("debug-breakpoint-log",60075),debugBreakpointLogDisabled:f("debug-breakpoint-log-disabled",60075),briefcase:f("briefcase",60076),broadcast:f("broadcast",60077),browser:f("browser",60078),bug:f("bug",60079),calendar:f("calendar",60080),caseSensitive:f("case-sensitive",60081),check:f("check",60082),checklist:f("checklist",60083),chevronDown:f("chevron-down",60084),dropDownButton:f("drop-down-button",60084),chevronLeft:f("chevron-left",60085),chevronRight:f("chevron-right",60086),chevronUp:f("chevron-up",60087),chromeClose:f("chrome-close",60088),chromeMaximize:f("chrome-maximize",60089),chromeMinimize:f("chrome-minimize",60090),chromeRestore:f("chrome-restore",60091),circle:f("circle",60092),circleOutline:f("circle-outline",60092),debugBreakpointUnverified:f("debug-breakpoint-unverified",60092),circleSlash:f("circle-slash",60093),circuitBoard:f("circuit-board",60094),clearAll:f("clear-all",60095),clippy:f("clippy",60096),closeAll:f("close-all",60097),cloudDownload:f("cloud-download",60098),cloudUpload:f("cloud-upload",60099),code:f("code",60100),collapseAll:f("collapse-all",60101),colorMode:f("color-mode",60102),commentDiscussion:f("comment-discussion",60103),compareChanges:f("compare-changes",60157),creditCard:f("credit-card",60105),dash:f("dash",60108),dashboard:f("dashboard",60109),database:f("database",60110),debugContinue:f("debug-continue",60111),debugDisconnect:f("debug-disconnect",60112),debugPause:f("debug-pause",60113),debugRestart:f("debug-restart",60114),debugStart:f("debug-start",60115),debugStepInto:f("debug-step-into",60116),debugStepOut:f("debug-step-out",60117),debugStepOver:f("debug-step-over",60118),debugStop:f("debug-stop",60119),debug:f("debug",60120),deviceCameraVideo:f("device-camera-video",60121),deviceCamera:f("device-camera",60122),deviceMobile:f("device-mobile",60123),diffAdded:f("diff-added",60124),diffIgnored:f("diff-ignored",60125),diffModified:f("diff-modified",60126),diffRemoved:f("diff-removed",60127),diffRenamed:f("diff-renamed",60128),diff:f("diff",60129),discard:f("discard",60130),editorLayout:f("editor-layout",60131),emptyWindow:f("empty-window",60132),exclude:f("exclude",60133),extensions:f("extensions",60134),eyeClosed:f("eye-closed",60135),fileBinary:f("file-binary",60136),fileCode:f("file-code",60137),fileMedia:f("file-media",60138),filePdf:f("file-pdf",60139),fileSubmodule:f("file-submodule",60140),fileSymlinkDirectory:f("file-symlink-directory",60141),fileSymlinkFile:f("file-symlink-file",60142),fileZip:f("file-zip",60143),files:f("files",60144),filter:f("filter",60145),flame:f("flame",60146),foldDown:f("fold-down",60147),foldUp:f("fold-up",60148),fold:f("fold",60149),folderActive:f("folder-active",60150),folderOpened:f("folder-opened",60151),gear:f("gear",60152),gift:f("gift",60153),gistSecret:f("gist-secret",60154),gist:f("gist",60155),gitCommit:f("git-commit",60156),gitCompare:f("git-compare",60157),gitMerge:f("git-merge",60158),githubAction:f("github-action",60159),githubAlt:f("github-alt",60160),globe:f("globe",60161),grabber:f("grabber",60162),graph:f("graph",60163),gripper:f("gripper",60164),heart:f("heart",60165),home:f("home",60166),horizontalRule:f("horizontal-rule",60167),hubot:f("hubot",60168),inbox:f("inbox",60169),issueClosed:f("issue-closed",60324),issueReopened:f("issue-reopened",60171),issues:f("issues",60172),italic:f("italic",60173),jersey:f("jersey",60174),json:f("json",60175),bracket:f("bracket",60175),kebabVertical:f("kebab-vertical",60176),key:f("key",60177),law:f("law",60178),lightbulbAutofix:f("lightbulb-autofix",60179),linkExternal:f("link-external",60180),link:f("link",60181),listOrdered:f("list-ordered",60182),listUnordered:f("list-unordered",60183),liveShare:f("live-share",60184),loading:f("loading",60185),location:f("location",60186),mailRead:f("mail-read",60187),mail:f("mail",60188),markdown:f("markdown",60189),megaphone:f("megaphone",60190),mention:f("mention",60191),milestone:f("milestone",60192),mortarBoard:f("mortar-board",60193),move:f("move",60194),multipleWindows:f("multiple-windows",60195),mute:f("mute",60196),noNewline:f("no-newline",60197),note:f("note",60198),octoface:f("octoface",60199),openPreview:f("open-preview",60200),package_:f("package",60201),paintcan:f("paintcan",60202),pin:f("pin",60203),play:f("play",60204),run:f("run",60204),plug:f("plug",60205),preserveCase:f("preserve-case",60206),preview:f("preview",60207),project:f("project",60208),pulse:f("pulse",60209),question:f("question",60210),quote:f("quote",60211),radioTower:f("radio-tower",60212),reactions:f("reactions",60213),references:f("references",60214),refresh:f("refresh",60215),regex:f("regex",60216),remoteExplorer:f("remote-explorer",60217),remote:f("remote",60218),remove:f("remove",60219),replaceAll:f("replace-all",60220),replace:f("replace",60221),repoClone:f("repo-clone",60222),repoForcePush:f("repo-force-push",60223),repoPull:f("repo-pull",60224),repoPush:f("repo-push",60225),report:f("report",60226),requestChanges:f("request-changes",60227),rocket:f("rocket",60228),rootFolderOpened:f("root-folder-opened",60229),rootFolder:f("root-folder",60230),rss:f("rss",60231),ruby:f("ruby",60232),saveAll:f("save-all",60233),saveAs:f("save-as",60234),save:f("save",60235),screenFull:f("screen-full",60236),screenNormal:f("screen-normal",60237),searchStop:f("search-stop",60238),server:f("server",60240),settingsGear:f("settings-gear",60241),settings:f("settings",60242),shield:f("shield",60243),smiley:f("smiley",60244),sortPrecedence:f("sort-precedence",60245),splitHorizontal:f("split-horizontal",60246),splitVertical:f("split-vertical",60247),squirrel:f("squirrel",60248),starFull:f("star-full",60249),starHalf:f("star-half",60250),symbolClass:f("symbol-class",60251),symbolColor:f("symbol-color",60252),symbolCustomColor:f("symbol-customcolor",60252),symbolConstant:f("symbol-constant",60253),symbolEnumMember:f("symbol-enum-member",60254),symbolField:f("symbol-field",60255),symbolFile:f("symbol-file",60256),symbolInterface:f("symbol-interface",60257),symbolKeyword:f("symbol-keyword",60258),symbolMisc:f("symbol-misc",60259),symbolOperator:f("symbol-operator",60260),symbolProperty:f("symbol-property",60261),wrench:f("wrench",60261),wrenchSubaction:f("wrench-subaction",60261),symbolSnippet:f("symbol-snippet",60262),tasklist:f("tasklist",60263),telescope:f("telescope",60264),textSize:f("text-size",60265),threeBars:f("three-bars",60266),thumbsdown:f("thumbsdown",60267),thumbsup:f("thumbsup",60268),tools:f("tools",60269),triangleDown:f("triangle-down",60270),triangleLeft:f("triangle-left",60271),triangleRight:f("triangle-right",60272),triangleUp:f("triangle-up",60273),twitter:f("twitter",60274),unfold:f("unfold",60275),unlock:f("unlock",60276),unmute:f("unmute",60277),unverified:f("unverified",60278),verified:f("verified",60279),versions:f("versions",60280),vmActive:f("vm-active",60281),vmOutline:f("vm-outline",60282),vmRunning:f("vm-running",60283),watch:f("watch",60284),whitespace:f("whitespace",60285),wholeWord:f("whole-word",60286),window:f("window",60287),wordWrap:f("word-wrap",60288),zoomIn:f("zoom-in",60289),zoomOut:f("zoom-out",60290),listFilter:f("list-filter",60291),listFlat:f("list-flat",60292),listSelection:f("list-selection",60293),selection:f("selection",60293),listTree:f("list-tree",60294),debugBreakpointFunctionUnverified:f("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:f("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:f("debug-breakpoint-function-disabled",60296),debugStackframeActive:f("debug-stackframe-active",60297),circleSmallFilled:f("circle-small-filled",60298),debugStackframeDot:f("debug-stackframe-dot",60298),debugStackframe:f("debug-stackframe",60299),debugStackframeFocused:f("debug-stackframe-focused",60299),debugBreakpointUnsupported:f("debug-breakpoint-unsupported",60300),symbolString:f("symbol-string",60301),debugReverseContinue:f("debug-reverse-continue",60302),debugStepBack:f("debug-step-back",60303),debugRestartFrame:f("debug-restart-frame",60304),callIncoming:f("call-incoming",60306),callOutgoing:f("call-outgoing",60307),menu:f("menu",60308),expandAll:f("expand-all",60309),feedback:f("feedback",60310),groupByRefType:f("group-by-ref-type",60311),ungroupByRefType:f("ungroup-by-ref-type",60312),account:f("account",60313),bellDot:f("bell-dot",60314),debugConsole:f("debug-console",60315),library:f("library",60316),output:f("output",60317),runAll:f("run-all",60318),syncIgnored:f("sync-ignored",60319),pinned:f("pinned",60320),githubInverted:f("github-inverted",60321),debugAlt:f("debug-alt",60305),serverProcess:f("server-process",60322),serverEnvironment:f("server-environment",60323),pass:f("pass",60324),stopCircle:f("stop-circle",60325),playCircle:f("play-circle",60326),record:f("record",60327),debugAltSmall:f("debug-alt-small",60328),vmConnect:f("vm-connect",60329),cloud:f("cloud",60330),merge:f("merge",60331),exportIcon:f("export",60332),graphLeft:f("graph-left",60333),magnet:f("magnet",60334),notebook:f("notebook",60335),redo:f("redo",60336),checkAll:f("check-all",60337),pinnedDirty:f("pinned-dirty",60338),passFilled:f("pass-filled",60339),circleLargeFilled:f("circle-large-filled",60340),circleLarge:f("circle-large",60341),circleLargeOutline:f("circle-large-outline",60341),combine:f("combine",60342),gather:f("gather",60342),table:f("table",60343),variableGroup:f("variable-group",60344),typeHierarchy:f("type-hierarchy",60345),typeHierarchySub:f("type-hierarchy-sub",60346),typeHierarchySuper:f("type-hierarchy-super",60347),gitPullRequestCreate:f("git-pull-request-create",60348),runAbove:f("run-above",60349),runBelow:f("run-below",60350),notebookTemplate:f("notebook-template",60351),debugRerun:f("debug-rerun",60352),workspaceTrusted:f("workspace-trusted",60353),workspaceUntrusted:f("workspace-untrusted",60354),workspaceUnspecified:f("workspace-unspecified",60355),terminalCmd:f("terminal-cmd",60356),terminalDebian:f("terminal-debian",60357),terminalLinux:f("terminal-linux",60358),terminalPowershell:f("terminal-powershell",60359),terminalTmux:f("terminal-tmux",60360),terminalUbuntu:f("terminal-ubuntu",60361),terminalBash:f("terminal-bash",60362),arrowSwap:f("arrow-swap",60363),copy:f("copy",60364),personAdd:f("person-add",60365),filterFilled:f("filter-filled",60366),wand:f("wand",60367),debugLineByLine:f("debug-line-by-line",60368),inspect:f("inspect",60369),layers:f("layers",60370),layersDot:f("layers-dot",60371),layersActive:f("layers-active",60372),compass:f("compass",60373),compassDot:f("compass-dot",60374),compassActive:f("compass-active",60375),azure:f("azure",60376),issueDraft:f("issue-draft",60377),gitPullRequestClosed:f("git-pull-request-closed",60378),gitPullRequestDraft:f("git-pull-request-draft",60379),debugAll:f("debug-all",60380),debugCoverage:f("debug-coverage",60381),runErrors:f("run-errors",60382),folderLibrary:f("folder-library",60383),debugContinueSmall:f("debug-continue-small",60384),beakerStop:f("beaker-stop",60385),graphLine:f("graph-line",60386),graphScatter:f("graph-scatter",60387),pieChart:f("pie-chart",60388),bracketDot:f("bracket-dot",60389),bracketError:f("bracket-error",60390),lockSmall:f("lock-small",60391),azureDevops:f("azure-devops",60392),verifiedFilled:f("verified-filled",60393),newLine:f("newline",60394),layout:f("layout",60395),layoutActivitybarLeft:f("layout-activitybar-left",60396),layoutActivitybarRight:f("layout-activitybar-right",60397),layoutPanelLeft:f("layout-panel-left",60398),layoutPanelCenter:f("layout-panel-center",60399),layoutPanelJustify:f("layout-panel-justify",60400),layoutPanelRight:f("layout-panel-right",60401),layoutPanel:f("layout-panel",60402),layoutSidebarLeft:f("layout-sidebar-left",60403),layoutSidebarRight:f("layout-sidebar-right",60404),layoutStatusbar:f("layout-statusbar",60405),layoutMenubar:f("layout-menubar",60406),layoutCentered:f("layout-centered",60407),layoutSidebarRightOff:f("layout-sidebar-right-off",60416),layoutPanelOff:f("layout-panel-off",60417),layoutSidebarLeftOff:f("layout-sidebar-left-off",60418),target:f("target",60408),indent:f("indent",60409),recordSmall:f("record-small",60410),errorSmall:f("error-small",60411),arrowCircleDown:f("arrow-circle-down",60412),arrowCircleLeft:f("arrow-circle-left",60413),arrowCircleRight:f("arrow-circle-right",60414),arrowCircleUp:f("arrow-circle-up",60415),heartFilled:f("heart-filled",60420),map:f("map",60421),mapFilled:f("map-filled",60422),circleSmall:f("circle-small",60423),bellSlash:f("bell-slash",60424),bellSlashDot:f("bell-slash-dot",60425),commentUnresolved:f("comment-unresolved",60426),gitPullRequestGoToChanges:f("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:f("git-pull-request-new-changes",60428),searchFuzzy:f("search-fuzzy",60429),commentDraft:f("comment-draft",60430),send:f("send",60431),sparkle:f("sparkle",60432),insert:f("insert",60433),dialogError:f("dialog-error","error"),dialogWarning:f("dialog-warning","warning"),dialogInfo:f("dialog-info","info"),dialogClose:f("dialog-close","close"),treeItemExpanded:f("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:f("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:f("tree-filter-on-type-off","list-selection"),treeFilterClear:f("tree-filter-clear","close"),treeItemLoading:f("tree-item-loading","loading"),menuSelection:f("menu-selection","check"),menuSubmenu:f("menu-submenu","chevron-right"),menuBarMore:f("menubar-more","more"),scrollbarButtonLeft:f("scrollbar-button-left","triangle-left"),scrollbarButtonRight:f("scrollbar-button-right","triangle-right"),scrollbarButtonUp:f("scrollbar-button-up","triangle-up"),scrollbarButtonDown:f("scrollbar-button-down","triangle-down"),toolBarMore:f("toolbar-more","more"),quickInputBack:f("quick-input-back","arrow-left")}},86741:function(Ot,He,i){"use strict";i.d(He,{Il:function(){return v},VS:function(){return B},tx:function(){return _}});function m(A,M){const E=Math.pow(10,M);return Math.round(A*E)/E}class B{constructor(M,E,R,p=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,M))|0,this.g=Math.min(255,Math.max(0,E))|0,this.b=Math.min(255,Math.max(0,R))|0,this.a=m(Math.max(Math.min(1,p),0),3)}static equals(M,E){return M.r===E.r&&M.g===E.g&&M.b===E.b&&M.a===E.a}}class f{constructor(M,E,R,p){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,M),0)|0,this.s=m(Math.max(Math.min(1,E),0),3),this.l=m(Math.max(Math.min(1,R),0),3),this.a=m(Math.max(Math.min(1,p),0),3)}static equals(M,E){return M.h===E.h&&M.s===E.s&&M.l===E.l&&M.a===E.a}static fromRGBA(M){const E=M.r/255,R=M.g/255,p=M.b/255,l=M.a,d=Math.max(E,R,p),g=Math.min(E,R,p);let n=0,a=0;const C=(g+d)/2,D=d-g;if(D>0){switch(a=Math.min(C<=.5?D/(2*C):D/(2-2*C),1),d){case E:n=(R-p)/D+(R<p?6:0);break;case R:n=(p-E)/D+2;break;case p:n=(E-R)/D+4;break}n*=60,n=Math.round(n)}return new f(n,a,C,l)}static _hue2rgb(M,E,R){return R<0&&(R+=1),R>1&&(R-=1),R<1/6?M+(E-M)*6*R:R<1/2?E:R<2/3?M+(E-M)*(2/3-R)*6:M}static toRGBA(M){const E=M.h/360,{s:R,l:p,a:l}=M;let d,g,n;if(R===0)d=g=n=p;else{const a=p<.5?p*(1+R):p+R-p*R,C=2*p-a;d=f._hue2rgb(C,a,E+1/3),g=f._hue2rgb(C,a,E),n=f._hue2rgb(C,a,E-1/3)}return new B(Math.round(d*255),Math.round(g*255),Math.round(n*255),l)}}class _{constructor(M,E,R,p){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,M),0)|0,this.s=m(Math.max(Math.min(1,E),0),3),this.v=m(Math.max(Math.min(1,R),0),3),this.a=m(Math.max(Math.min(1,p),0),3)}static equals(M,E){return M.h===E.h&&M.s===E.s&&M.v===E.v&&M.a===E.a}static fromRGBA(M){const E=M.r/255,R=M.g/255,p=M.b/255,l=Math.max(E,R,p),d=Math.min(E,R,p),g=l-d,n=l===0?0:g/l;let a;return g===0?a=0:l===E?a=((R-p)/g%6+6)%6:l===R?a=(p-E)/g+2:a=(E-R)/g+4,new _(Math.round(a*60),n,l,M.a)}static toRGBA(M){const{h:E,s:R,v:p,a:l}=M,d=p*R,g=d*(1-Math.abs(E/60%2-1)),n=p-d;let[a,C,D]=[0,0,0];return E<60?(a=d,C=g):E<120?(a=g,C=d):E<180?(C=d,D=g):E<240?(C=g,D=d):E<300?(a=g,D=d):E<=360&&(a=d,D=g),a=Math.round((a+n)*255),C=Math.round((C+n)*255),D=Math.round((D+n)*255),new B(a,C,D,l)}}class v{static fromHex(M){return v.Format.CSS.parseHex(M)||v.red}static equals(M,E){return!M&&!E?!0:!M||!E?!1:M.equals(E)}get hsla(){return this._hsla?this._hsla:f.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:_.fromRGBA(this.rgba)}constructor(M){if(M)if(M instanceof B)this.rgba=M;else if(M instanceof f)this._hsla=M,this.rgba=f.toRGBA(M);else if(M instanceof _)this._hsva=M,this.rgba=_.toRGBA(M);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(M){return!!M&&B.equals(this.rgba,M.rgba)&&f.equals(this.hsla,M.hsla)&&_.equals(this.hsva,M.hsva)}getRelativeLuminance(){const M=v._relativeLuminanceForComponent(this.rgba.r),E=v._relativeLuminanceForComponent(this.rgba.g),R=v._relativeLuminanceForComponent(this.rgba.b),p=.2126*M+.7152*E+.0722*R;return m(p,4)}static _relativeLuminanceForComponent(M){const E=M/255;return E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(M){const E=this.getRelativeLuminance(),R=M.getRelativeLuminance();return E>R}isDarkerThan(M){const E=this.getRelativeLuminance(),R=M.getRelativeLuminance();return E<R}lighten(M){return new v(new f(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*M,this.hsla.a))}darken(M){return new v(new f(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*M,this.hsla.a))}transparent(M){const{r:E,g:R,b:p,a:l}=this.rgba;return new v(new B(E,R,p,l*M))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new v(new B(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(M){if(this.isOpaque()||M.rgba.a!==1)return this;const{r:E,g:R,b:p,a:l}=this.rgba;return new v(new B(M.rgba.r-l*(M.rgba.r-E),M.rgba.g-l*(M.rgba.g-R),M.rgba.b-l*(M.rgba.b-p),1))}toString(){return this._toString||(this._toString=v.Format.CSS.format(this)),this._toString}static getLighterColor(M,E,R){if(M.isLighterThan(E))return M;R=R||.5;const p=M.getRelativeLuminance(),l=E.getRelativeLuminance();return R=R*(l-p)/l,M.lighten(R)}static getDarkerColor(M,E,R){if(M.isDarkerThan(E))return M;R=R||.5;const p=M.getRelativeLuminance(),l=E.getRelativeLuminance();return R=R*(p-l)/p,M.darken(R)}}v.white=new v(new B(255,255,255,1)),v.black=new v(new B(0,0,0,1)),v.red=new v(new B(255,0,0,1)),v.blue=new v(new B(0,0,255,1)),v.green=new v(new B(0,255,0,1)),v.cyan=new v(new B(0,255,255,1)),v.lightgrey=new v(new B(211,211,211,1)),v.transparent=new v(new B(0,0,0,0)),function(A){let M;(function(E){let R;(function(p){function l(L){return L.rgba.a===1?`rgb(${L.rgba.r}, ${L.rgba.g}, ${L.rgba.b})`:A.Format.CSS.formatRGBA(L)}p.formatRGB=l;function d(L){return`rgba(${L.rgba.r}, ${L.rgba.g}, ${L.rgba.b}, ${+L.rgba.a.toFixed(2)})`}p.formatRGBA=d;function g(L){return L.hsla.a===1?`hsl(${L.hsla.h}, ${(L.hsla.s*100).toFixed(2)}%, ${(L.hsla.l*100).toFixed(2)}%)`:A.Format.CSS.formatHSLA(L)}p.formatHSL=g;function n(L){return`hsla(${L.hsla.h}, ${(L.hsla.s*100).toFixed(2)}%, ${(L.hsla.l*100).toFixed(2)}%, ${L.hsla.a.toFixed(2)})`}p.formatHSLA=n;function a(L){const N=L.toString(16);return N.length!==2?"0"+N:N}function C(L){return`#${a(L.rgba.r)}${a(L.rgba.g)}${a(L.rgba.b)}`}p.formatHex=C;function D(L,N=!1){return N&&L.rgba.a===1?A.Format.CSS.formatHex(L):`#${a(L.rgba.r)}${a(L.rgba.g)}${a(L.rgba.b)}${a(Math.round(L.rgba.a*255))}`}p.formatHexA=D;function u(L){return L.isOpaque()?A.Format.CSS.formatHex(L):A.Format.CSS.formatRGBA(L)}p.format=u;function S(L){const N=L.length;if(N===0||L.charCodeAt(0)!==35)return null;if(N===7){const O=16*w(L.charCodeAt(1))+w(L.charCodeAt(2)),x=16*w(L.charCodeAt(3))+w(L.charCodeAt(4)),T=16*w(L.charCodeAt(5))+w(L.charCodeAt(6));return new A(new B(O,x,T,1))}if(N===9){const O=16*w(L.charCodeAt(1))+w(L.charCodeAt(2)),x=16*w(L.charCodeAt(3))+w(L.charCodeAt(4)),T=16*w(L.charCodeAt(5))+w(L.charCodeAt(6)),W=16*w(L.charCodeAt(7))+w(L.charCodeAt(8));return new A(new B(O,x,T,W/255))}if(N===4){const O=w(L.charCodeAt(1)),x=w(L.charCodeAt(2)),T=w(L.charCodeAt(3));return new A(new B(16*O+O,16*x+x,16*T+T))}if(N===5){const O=w(L.charCodeAt(1)),x=w(L.charCodeAt(2)),T=w(L.charCodeAt(3)),W=w(L.charCodeAt(4));return new A(new B(16*O+O,16*x+x,16*T+T,(16*W+W)/255))}return null}p.parseHex=S;function w(L){switch(L){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(R=E.CSS||(E.CSS={}))})(M=A.Format||(A.Format={}))}(v||(v={}))},31837:function(Ot,He,i){"use strict";i.d(He,{Hl:function(){return A},Ix:function(){return v},Z0:function(){return M},ZO:function(){return _}});var m=i(16308),B=i(38577),f=function(E,R,p,l){function d(g){return g instanceof p?g:new p(function(n){n(g)})}return new(p||(p=Promise))(function(g,n){function a(u){try{D(l.next(u))}catch(S){n(S)}}function C(u){try{D(l.throw(u))}catch(S){n(S)}}function D(u){u.done?g(u.value):d(u.value).then(a,C)}D((l=l.apply(E,R||[])).next())})};function _(E){return{id:(0,B.R)(),asString:()=>f(this,void 0,void 0,function*(){return E}),asFile:()=>{},value:typeof E=="string"?E:void 0}}function v(E,R,p){return{id:(0,B.R)(),asString:()=>f(this,void 0,void 0,function*(){return""}),asFile:()=>({name:E,uri:R,data:p}),value:void 0}}class A{constructor(){this._entries=new Map}get size(){return this._entries.size}has(R){return this._entries.has(this.toKey(R))}get(R){var p;return(p=this._entries.get(this.toKey(R)))===null||p===void 0?void 0:p[0]}append(R,p){const l=this._entries.get(R);l?l.push(p):this._entries.set(this.toKey(R),[p])}replace(R,p){this._entries.set(this.toKey(R),[p])}delete(R){this._entries.delete(this.toKey(R))}*entries(){for(const[R,p]of this._entries.entries())for(const l of p)yield[R,l]}values(){return Array.from(this._entries.values()).flat()}forEach(R){for(const[p,l]of this.entries())R(l,p)}toKey(R){return R.toLowerCase()}}const M=Object.freeze({create:E=>(0,m.EB)(E.map(R=>R.toString())).join(`\r
`),split:E=>E.split(`\r
`),parse:E=>M.split(E).filter(R=>!R.startsWith("#"))})},4848:function(Ot,He,i){"use strict";i.d(He,{H:function(){return m}});function m(B,f,_){let v=null,A=null;if(typeof _.value=="function"?(v="value",A=_.value,A.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof _.get=="function"&&(v="get",A=_.get),!A)throw new Error("not supported");const M=`$memoize$${f}`;_[v]=function(...E){return this.hasOwnProperty(M)||Object.defineProperty(this,M,{configurable:!1,enumerable:!1,writable:!1,value:A.apply(this,E)}),this[M]}}},49927:function(Ot,He,i){"use strict";i.d(He,{Hs:function(){return E},a$:function(){return _}});class m{constructor(p,l,d,g){this.originalStart=p,this.originalLength=l,this.modifiedStart=d,this.modifiedLength=g}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var B=i(32916);class f{constructor(p){this.source=p}getElements(){const p=this.source,l=new Int32Array(p.length);for(let d=0,g=p.length;d<g;d++)l[d]=p.charCodeAt(d);return l}}function _(R,p,l){return new E(new f(R),new f(p)).ComputeDiff(l).changes}class v{static Assert(p,l){if(!p)throw new Error(l)}}class A{static Copy(p,l,d,g,n){for(let a=0;a<n;a++)d[g+a]=p[l+a]}static Copy2(p,l,d,g,n){for(let a=0;a<n;a++)d[g+a]=p[l+a]}}class M{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new m(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(p,l){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,l),this.m_originalCount++}AddModifiedElement(p,l){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,l),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class E{constructor(p,l,d=null){this.ContinueProcessingPredicate=d,this._originalSequence=p,this._modifiedSequence=l;const[g,n,a]=E._getElements(p),[C,D,u]=E._getElements(l);this._hasStrings=a&&u,this._originalStringElements=g,this._originalElementsOrHash=n,this._modifiedStringElements=C,this._modifiedElementsOrHash=D,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(p){return p.length>0&&typeof p[0]=="string"}static _getElements(p){const l=p.getElements();if(E._isStringArray(l)){const d=new Int32Array(l.length);for(let g=0,n=l.length;g<n;g++)d[g]=(0,B.Cv)(l[g],0);return[l,d,!0]}return l instanceof Int32Array?[[],l,!1]:[[],new Int32Array(l),!1]}ElementsAreEqual(p,l){return this._originalElementsOrHash[p]!==this._modifiedElementsOrHash[l]?!1:this._hasStrings?this._originalStringElements[p]===this._modifiedStringElements[l]:!0}ElementsAreStrictEqual(p,l){if(!this.ElementsAreEqual(p,l))return!1;const d=E._getStrictElement(this._originalSequence,p),g=E._getStrictElement(this._modifiedSequence,l);return d===g}static _getStrictElement(p,l){return typeof p.getStrictElement=="function"?p.getStrictElement(l):null}OriginalElementsAreEqual(p,l){return this._originalElementsOrHash[p]!==this._originalElementsOrHash[l]?!1:this._hasStrings?this._originalStringElements[p]===this._originalStringElements[l]:!0}ModifiedElementsAreEqual(p,l){return this._modifiedElementsOrHash[p]!==this._modifiedElementsOrHash[l]?!1:this._hasStrings?this._modifiedStringElements[p]===this._modifiedStringElements[l]:!0}ComputeDiff(p){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,p)}_ComputeDiff(p,l,d,g,n){const a=[!1];let C=this.ComputeDiffRecursive(p,l,d,g,a);return n&&(C=this.PrettifyChanges(C)),{quitEarly:a[0],changes:C}}ComputeDiffRecursive(p,l,d,g,n){for(n[0]=!1;p<=l&&d<=g&&this.ElementsAreEqual(p,d);)p++,d++;for(;l>=p&&g>=d&&this.ElementsAreEqual(l,g);)l--,g--;if(p>l||d>g){let w;return d<=g?(v.Assert(p===l+1,"originalStart should only be one more than originalEnd"),w=[new m(p,0,d,g-d+1)]):p<=l?(v.Assert(d===g+1,"modifiedStart should only be one more than modifiedEnd"),w=[new m(p,l-p+1,d,0)]):(v.Assert(p===l+1,"originalStart should only be one more than originalEnd"),v.Assert(d===g+1,"modifiedStart should only be one more than modifiedEnd"),w=[]),w}const a=[0],C=[0],D=this.ComputeRecursionPoint(p,l,d,g,a,C,n),u=a[0],S=C[0];if(D!==null)return D;if(!n[0]){const w=this.ComputeDiffRecursive(p,u,d,S,n);let L=[];return n[0]?L=[new m(u+1,l-(u+1)+1,S+1,g-(S+1)+1)]:L=this.ComputeDiffRecursive(u+1,l,S+1,g,n),this.ConcatenateChanges(w,L)}return[new m(p,l-p+1,d,g-d+1)]}WALKTRACE(p,l,d,g,n,a,C,D,u,S,w,L,N,O,x,T,W,U){let K=null,G=null,z=new M,k=l,q=d,te=N[0]-T[0]-g,X=-1073741824,j=this.m_forwardHistory.length-1;do{const J=te+p;J===k||J<q&&u[J-1]<u[J+1]?(w=u[J+1],O=w-te-g,w<X&&z.MarkNextChange(),X=w,z.AddModifiedElement(w+1,O),te=J+1-p):(w=u[J-1]+1,O=w-te-g,w<X&&z.MarkNextChange(),X=w-1,z.AddOriginalElement(w,O+1),te=J-1-p),j>=0&&(u=this.m_forwardHistory[j],p=u[0],k=1,q=u.length-1)}while(--j>=-1);if(K=z.getReverseChanges(),U[0]){let J=N[0]+1,Y=T[0]+1;if(K!==null&&K.length>0){const ee=K[K.length-1];J=Math.max(J,ee.getOriginalEnd()),Y=Math.max(Y,ee.getModifiedEnd())}G=[new m(J,L-J+1,Y,x-Y+1)]}else{z=new M,k=a,q=C,te=N[0]-T[0]-D,X=1073741824,j=W?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const J=te+n;J===k||J<q&&S[J-1]>=S[J+1]?(w=S[J+1]-1,O=w-te-D,w>X&&z.MarkNextChange(),X=w+1,z.AddOriginalElement(w+1,O+1),te=J+1-n):(w=S[J-1],O=w-te-D,w>X&&z.MarkNextChange(),X=w,z.AddModifiedElement(w+1,O+1),te=J-1-n),j>=0&&(S=this.m_reverseHistory[j],n=S[0],k=1,q=S.length-1)}while(--j>=-1);G=z.getChanges()}return this.ConcatenateChanges(K,G)}ComputeRecursionPoint(p,l,d,g,n,a,C){let D=0,u=0,S=0,w=0,L=0,N=0;p--,d--,n[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const O=l-p+(g-d),x=O+1,T=new Int32Array(x),W=new Int32Array(x),U=g-d,K=l-p,G=p-d,z=l-g,q=(K-U)%2===0;T[U]=p,W[K]=l,C[0]=!1;for(let te=1;te<=O/2+1;te++){let X=0,j=0;S=this.ClipDiagonalBound(U-te,te,U,x),w=this.ClipDiagonalBound(U+te,te,U,x);for(let Y=S;Y<=w;Y+=2){Y===S||Y<w&&T[Y-1]<T[Y+1]?D=T[Y+1]:D=T[Y-1]+1,u=D-(Y-U)-G;const ee=D;for(;D<l&&u<g&&this.ElementsAreEqual(D+1,u+1);)D++,u++;if(T[Y]=D,D+u>X+j&&(X=D,j=u),!q&&Math.abs(Y-K)<=te-1&&D>=W[Y])return n[0]=D,a[0]=u,ee<=W[Y]&&1447>0&&te<=1447+1?this.WALKTRACE(U,S,w,G,K,L,N,z,T,W,D,l,n,u,g,a,q,C):null}const J=(X-p+(j-d)-te)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(X,J))return C[0]=!0,n[0]=X,a[0]=j,J>0&&1447>0&&te<=1447+1?this.WALKTRACE(U,S,w,G,K,L,N,z,T,W,D,l,n,u,g,a,q,C):(p++,d++,[new m(p,l-p+1,d,g-d+1)]);L=this.ClipDiagonalBound(K-te,te,K,x),N=this.ClipDiagonalBound(K+te,te,K,x);for(let Y=L;Y<=N;Y+=2){Y===L||Y<N&&W[Y-1]>=W[Y+1]?D=W[Y+1]-1:D=W[Y-1],u=D-(Y-K)-z;const ee=D;for(;D>p&&u>d&&this.ElementsAreEqual(D,u);)D--,u--;if(W[Y]=D,q&&Math.abs(Y-U)<=te&&D<=T[Y])return n[0]=D,a[0]=u,ee>=T[Y]&&1447>0&&te<=1447+1?this.WALKTRACE(U,S,w,G,K,L,N,z,T,W,D,l,n,u,g,a,q,C):null}if(te<=1447){let Y=new Int32Array(w-S+2);Y[0]=U-S+1,A.Copy2(T,S,Y,1,w-S+1),this.m_forwardHistory.push(Y),Y=new Int32Array(N-L+2),Y[0]=K-L+1,A.Copy2(W,L,Y,1,N-L+1),this.m_reverseHistory.push(Y)}}return this.WALKTRACE(U,S,w,G,K,L,N,z,T,W,D,l,n,u,g,a,q,C)}PrettifyChanges(p){for(let l=0;l<p.length;l++){const d=p[l],g=l<p.length-1?p[l+1].originalStart:this._originalElementsOrHash.length,n=l<p.length-1?p[l+1].modifiedStart:this._modifiedElementsOrHash.length,a=d.originalLength>0,C=d.modifiedLength>0;for(;d.originalStart+d.originalLength<g&&d.modifiedStart+d.modifiedLength<n&&(!a||this.OriginalElementsAreEqual(d.originalStart,d.originalStart+d.originalLength))&&(!C||this.ModifiedElementsAreEqual(d.modifiedStart,d.modifiedStart+d.modifiedLength));){const u=this.ElementsAreStrictEqual(d.originalStart,d.modifiedStart);if(this.ElementsAreStrictEqual(d.originalStart+d.originalLength,d.modifiedStart+d.modifiedLength)&&!u)break;d.originalStart++,d.modifiedStart++}const D=[null];if(l<p.length-1&&this.ChangesOverlap(p[l],p[l+1],D)){p[l]=D[0],p.splice(l+1,1),l--;continue}}for(let l=p.length-1;l>=0;l--){const d=p[l];let g=0,n=0;if(l>0){const w=p[l-1];g=w.originalStart+w.originalLength,n=w.modifiedStart+w.modifiedLength}const a=d.originalLength>0,C=d.modifiedLength>0;let D=0,u=this._boundaryScore(d.originalStart,d.originalLength,d.modifiedStart,d.modifiedLength);for(let w=1;;w++){const L=d.originalStart-w,N=d.modifiedStart-w;if(L<g||N<n||a&&!this.OriginalElementsAreEqual(L,L+d.originalLength)||C&&!this.ModifiedElementsAreEqual(N,N+d.modifiedLength))break;const x=(L===g&&N===n?5:0)+this._boundaryScore(L,d.originalLength,N,d.modifiedLength);x>u&&(u=x,D=w)}d.originalStart-=D,d.modifiedStart-=D;const S=[null];if(l>0&&this.ChangesOverlap(p[l-1],p[l],S)){p[l-1]=S[0],p.splice(l,1),l++;continue}}if(this._hasStrings)for(let l=1,d=p.length;l<d;l++){const g=p[l-1],n=p[l],a=n.originalStart-g.originalStart-g.originalLength,C=g.originalStart,D=n.originalStart+n.originalLength,u=D-C,S=g.modifiedStart,w=n.modifiedStart+n.modifiedLength,L=w-S;if(a<5&&u<20&&L<20){const N=this._findBetterContiguousSequence(C,u,S,L,a);if(N){const[O,x]=N;(O!==g.originalStart+g.originalLength||x!==g.modifiedStart+g.modifiedLength)&&(g.originalLength=O-g.originalStart,g.modifiedLength=x-g.modifiedStart,n.originalStart=O+a,n.modifiedStart=x+a,n.originalLength=D-n.originalStart,n.modifiedLength=w-n.modifiedStart)}}}return p}_findBetterContiguousSequence(p,l,d,g,n){if(l<n||g<n)return null;const a=p+l-n+1,C=d+g-n+1;let D=0,u=0,S=0;for(let w=p;w<a;w++)for(let L=d;L<C;L++){const N=this._contiguousSequenceScore(w,L,n);N>0&&N>D&&(D=N,u=w,S=L)}return D>0?[u,S]:null}_contiguousSequenceScore(p,l,d){let g=0;for(let n=0;n<d;n++){if(!this.ElementsAreEqual(p+n,l+n))return 0;g+=this._originalStringElements[p+n].length}return g}_OriginalIsBoundary(p){return p<=0||p>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[p])}_OriginalRegionIsBoundary(p,l){if(this._OriginalIsBoundary(p)||this._OriginalIsBoundary(p-1))return!0;if(l>0){const d=p+l;if(this._OriginalIsBoundary(d-1)||this._OriginalIsBoundary(d))return!0}return!1}_ModifiedIsBoundary(p){return p<=0||p>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[p])}_ModifiedRegionIsBoundary(p,l){if(this._ModifiedIsBoundary(p)||this._ModifiedIsBoundary(p-1))return!0;if(l>0){const d=p+l;if(this._ModifiedIsBoundary(d-1)||this._ModifiedIsBoundary(d))return!0}return!1}_boundaryScore(p,l,d,g){const n=this._OriginalRegionIsBoundary(p,l)?1:0,a=this._ModifiedRegionIsBoundary(d,g)?1:0;return n+a}ConcatenateChanges(p,l){const d=[];if(p.length===0||l.length===0)return l.length>0?l:p;if(this.ChangesOverlap(p[p.length-1],l[0],d)){const g=new Array(p.length+l.length-1);return A.Copy(p,0,g,0,p.length-1),g[p.length-1]=d[0],A.Copy(l,1,g,p.length,l.length-1),g}else{const g=new Array(p.length+l.length);return A.Copy(p,0,g,0,p.length),A.Copy(l,0,g,p.length,l.length),g}}ChangesOverlap(p,l,d){if(v.Assert(p.originalStart<=l.originalStart,"Left change is not less than or equal to right change"),v.Assert(p.modifiedStart<=l.modifiedStart,"Left change is not less than or equal to right change"),p.originalStart+p.originalLength>=l.originalStart||p.modifiedStart+p.modifiedLength>=l.modifiedStart){const g=p.originalStart;let n=p.originalLength;const a=p.modifiedStart;let C=p.modifiedLength;return p.originalStart+p.originalLength>=l.originalStart&&(n=l.originalStart+l.originalLength-p.originalStart),p.modifiedStart+p.modifiedLength>=l.modifiedStart&&(C=l.modifiedStart+l.modifiedLength-p.modifiedStart),d[0]=new m(g,n,a,C),!0}else return d[0]=null,!1}ClipDiagonalBound(p,l,d,g){if(p>=0&&p<g)return p;const n=d,a=g-d-1,C=l%2===0;if(p<0){const D=n%2===0;return C===D?0:1}else{const D=a%2===0;return C===D?g-1:g-2}}}},20996:function(Ot,He,i){"use strict";i.d(He,{B8:function(){return d},Cp:function(){return _},F0:function(){return R},FU:function(){return E},L6:function(){return l},b1:function(){return p},dL:function(){return f},he:function(){return n},n2:function(){return M},ri:function(){return v}});class m{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(C){setTimeout(()=>{throw C.stack?g.isErrorNoTelemetry(C)?new g(C.message+`

`+C.stack):new Error(C.message+`

`+C.stack):C},0)}}emit(C){this.listeners.forEach(D=>{D(C)})}onUnexpectedError(C){this.unexpectedErrorHandler(C),this.emit(C)}onUnexpectedExternalError(C){this.unexpectedErrorHandler(C)}}const B=new m;function f(a){M(a)||B.onUnexpectedError(a)}function _(a){M(a)||B.onUnexpectedExternalError(a)}function v(a){if(a instanceof Error){const{name:C,message:D}=a,u=a.stacktrace||a.stack;return{$isError:!0,name:C,message:D,stack:u,noTelemetry:g.isErrorNoTelemetry(a)}}return a}const A="Canceled";function M(a){return a instanceof E?!0:a instanceof Error&&a.name===A&&a.message===A}class E extends Error{constructor(){super(A),this.name=this.message}}function R(){const a=new Error(A);return a.name=a.message,a}function p(a){return a?new Error(`Illegal argument: ${a}`):new Error("Illegal argument")}function l(a){return a?new Error(`Illegal state: ${a}`):new Error("Illegal state")}class d extends Error{constructor(C){super("NotSupported"),C&&(this.message=C)}}class g extends Error{constructor(C){super(C),this.name="CodeExpectedError"}static fromError(C){if(C instanceof g)return C;const D=new g;return D.message=C.message,D.stack=C.stack,D}static isErrorNoTelemetry(C){return C.name==="CodeExpectedError"}}class n extends Error{constructor(C){super(C||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype);debugger}}},56709:function(Ot,He,i){"use strict";i.d(He,{D0:function(){return S},E7:function(){return N},F3:function(){return a},K3:function(){return u},Q5:function(){return n},SZ:function(){return w},ZD:function(){return O},ju:function(){return E},z5:function(){return L}});var m=i(20996),B=i(89717),f=i(38431),_=i(17979),v=i(69344);const A=!1,M=!1;var E;(function(x){x.None=()=>f.JT.None;function T(Qe){if(M){const{onDidAddListener:Re}=Qe,ie=d.create();let Z=0;Qe.onDidAddListener=()=>{++Z===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ie.print()),Re==null||Re()}}}function W(Qe,Re){return j(Qe,()=>{},0,void 0,!0,void 0,Re)}x.defer=W;function U(Qe){return(Re,ie=null,Z)=>{let se=!1,ve;return ve=Qe(he=>{if(!se)return ve?ve.dispose():se=!0,Re.call(ie,he)},null,Z),se&&ve.dispose(),ve}}x.once=U;function K(Qe,Re,ie){return X((Z,se=null,ve)=>Qe(he=>Z.call(se,Re(he)),null,ve),ie)}x.map=K;function G(Qe,Re,ie){return X((Z,se=null,ve)=>Qe(he=>{Re(he),Z.call(se,he)},null,ve),ie)}x.forEach=G;function z(Qe,Re,ie){return X((Z,se=null,ve)=>Qe(he=>Re(he)&&Z.call(se,he),null,ve),ie)}x.filter=z;function k(Qe){return Qe}x.signal=k;function q(...Qe){return(Re,ie=null,Z)=>(0,f.F8)(...Qe.map(se=>se(ve=>Re.call(ie,ve),null,Z)))}x.any=q;function te(Qe,Re,ie,Z){let se=ie;return K(Qe,ve=>(se=Re(se,ve),se),Z)}x.reduce=te;function X(Qe,Re){let ie;const Z={onWillAddFirstListener(){ie=Qe(se.fire,se)},onDidRemoveLastListener(){ie==null||ie.dispose()}};Re||T(Z);const se=new n(Z);return Re==null||Re.add(se),se.event}function j(Qe,Re,ie=100,Z=!1,se=!1,ve,he){let ce,Ee,We,it=0,Ze;const je={leakWarningThreshold:ve,onWillAddFirstListener(){ce=Qe(Ie=>{it++,Ee=Re(Ee,Ie),Z&&!We&&(Te.fire(Ee),Ee=void 0),Ze=()=>{const oe=Ee;Ee=void 0,We=void 0,(!Z||it>1)&&Te.fire(oe),it=0},typeof ie=="number"?(clearTimeout(We),We=setTimeout(Ze,ie)):We===void 0&&(We=0,queueMicrotask(Ze))})},onWillRemoveListener(){se&&it>0&&(Ze==null||Ze())},onDidRemoveLastListener(){Ze=void 0,ce.dispose()}};he||T(je);const Te=new n(je);return he==null||he.add(Te),Te.event}x.debounce=j;function J(Qe,Re=0,ie){return x.debounce(Qe,(Z,se)=>Z?(Z.push(se),Z):[se],Re,void 0,!0,void 0,ie)}x.accumulate=J;function Y(Qe,Re=(Z,se)=>Z===se,ie){let Z=!0,se;return z(Qe,ve=>{const he=Z||!Re(ve,se);return Z=!1,se=ve,he},ie)}x.latch=Y;function ee(Qe,Re,ie){return[x.filter(Qe,Re,ie),x.filter(Qe,Z=>!Re(Z),ie)]}x.split=ee;function fe(Qe,Re=!1,ie=[]){let Z=ie.slice(),se=Qe(ce=>{Z?Z.push(ce):he.fire(ce)});const ve=()=>{Z==null||Z.forEach(ce=>he.fire(ce)),Z=null},he=new n({onWillAddFirstListener(){se||(se=Qe(ce=>he.fire(ce)))},onDidAddFirstListener(){Z&&(Re?setTimeout(ve):ve())},onDidRemoveLastListener(){se&&se.dispose(),se=null}});return he.event}x.buffer=fe;class De{constructor(Re){this.event=Re,this.disposables=new f.SL}map(Re){return new De(K(this.event,Re,this.disposables))}forEach(Re){return new De(G(this.event,Re,this.disposables))}filter(Re){return new De(z(this.event,Re,this.disposables))}reduce(Re,ie){return new De(te(this.event,Re,ie,this.disposables))}latch(){return new De(Y(this.event,void 0,this.disposables))}debounce(Re,ie=100,Z=!1,se=!1,ve){return new De(j(this.event,Re,ie,Z,se,ve,this.disposables))}on(Re,ie,Z){return this.event(Re,ie,Z)}once(Re,ie,Z){return U(this.event)(Re,ie,Z)}dispose(){this.disposables.dispose()}}function Ne(Qe){return new De(Qe)}x.chain=Ne;function be(Qe,Re,ie=Z=>Z){const Z=(...ce)=>he.fire(ie(...ce)),se=()=>Qe.on(Re,Z),ve=()=>Qe.removeListener(Re,Z),he=new n({onWillAddFirstListener:se,onDidRemoveLastListener:ve});return he.event}x.fromNodeEventEmitter=be;function xe(Qe,Re,ie=Z=>Z){const Z=(...ce)=>he.fire(ie(...ce)),se=()=>Qe.addEventListener(Re,Z),ve=()=>Qe.removeEventListener(Re,Z),he=new n({onWillAddFirstListener:se,onDidRemoveLastListener:ve});return he.event}x.fromDOMEventEmitter=xe;function Le(Qe){return new Promise(Re=>U(Qe)(Re))}x.toPromise=Le;function ue(Qe,Re){return Re(void 0),Qe(ie=>Re(ie))}x.runAndSubscribe=ue;function re(Qe,Re){let ie=null;function Z(ve){ie==null||ie.dispose(),ie=new f.SL,Re(ve,ie)}Z(void 0);const se=Qe(ve=>Z(ve));return(0,f.OF)(()=>{se.dispose(),ie==null||ie.dispose()})}x.runAndSubscribeWithStore=re;class _e{constructor(Re,ie){this.obs=Re,this._counter=0,this._hasChanged=!1;const Z={onWillAddFirstListener:()=>{Re.addObserver(this)},onDidRemoveLastListener:()=>{Re.removeObserver(this)}};ie||T(Z),this.emitter=new n(Z),ie&&ie.add(this.emitter)}beginUpdate(Re){this._counter++}handleChange(Re,ie){this._hasChanged=!0}endUpdate(Re){--this._counter===0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function Ue(Qe,Re){return new _e(Qe,Re).emitter.event}x.fromObservable=Ue})(E||(E={}));class R{constructor(T){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${T}_${R._idPool++}`,R.all.add(this)}start(T){this._stopWatch=new v.G(!0),this.listenerCount=T}stop(){if(this._stopWatch){const T=this._stopWatch.elapsed();this.durations.push(T),this.elapsedOverall+=T,this.invocationCount+=1,this._stopWatch=void 0}}}R.all=new Set,R._idPool=0;let p=-1;class l{constructor(T,W=Math.random().toString(18).slice(2,5)){this.threshold=T,this.name=W,this._warnCountdown=0}dispose(){var T;(T=this._stacks)===null||T===void 0||T.clear()}check(T,W){const U=this.threshold;if(U<=0||W<U)return;this._stacks||(this._stacks=new Map);const K=this._stacks.get(T.value)||0;if(this._stacks.set(T.value,K+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=U*.5;let G,z=0;for(const[k,q]of this._stacks)(!G||z<q)&&(G=k,z=q);console.warn(`[${this.name}] potential listener LEAK detected, having ${W} listeners already. MOST frequent listener (${z}):`),console.warn(G)}return()=>{const G=this._stacks.get(T.value)||0;this._stacks.set(T.value,G-1)}}}class d{static create(){var T;return new d((T=new Error().stack)!==null&&T!==void 0?T:"")}constructor(T){this.value=T}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class g{constructor(T,W,U){this.callback=T,this.callbackThis=W,this.stack=U,this.subscription=new f.dt}invoke(T){this.callback.call(this.callbackThis,T)}}class n{constructor(T){var W,U,K,G,z;this._disposed=!1,this._options=T,this._leakageMon=p>0||!((W=this._options)===null||W===void 0)&&W.leakWarningThreshold?new l((K=(U=this._options)===null||U===void 0?void 0:U.leakWarningThreshold)!==null&&K!==void 0?K:p):void 0,this._perfMon=!((G=this._options)===null||G===void 0)&&G._profName?new R(this._options._profName):void 0,this._deliveryQueue=(z=this._options)===null||z===void 0?void 0:z.deliveryQueue}dispose(){var T,W,U,K;if(!this._disposed){if(this._disposed=!0,this._listeners){if(A){const G=Array.from(this._listeners);queueMicrotask(()=>{var z;for(const k of G)k.subscription.isset()&&(k.subscription.unset(),(z=k.stack)===null||z===void 0||z.print())})}this._listeners.clear()}(T=this._deliveryQueue)===null||T===void 0||T.clear(this),(U=(W=this._options)===null||W===void 0?void 0:W.onDidRemoveLastListener)===null||U===void 0||U.call(W),(K=this._leakageMon)===null||K===void 0||K.dispose()}}get event(){return this._event||(this._event=(T,W,U)=>{var K,G,z;if(this._listeners||(this._listeners=new _.S),this._leakageMon&&this._listeners.size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),f.JT.None;const k=this._listeners.isEmpty();k&&(!((K=this._options)===null||K===void 0)&&K.onWillAddFirstListener)&&this._options.onWillAddFirstListener(this);let q,te;this._leakageMon&&this._listeners.size>=Math.ceil(this._leakageMon.threshold*.2)&&(te=d.create(),q=this._leakageMon.check(te,this._listeners.size+1)),A&&(te=te!=null?te:d.create());const X=new g(T,W,te),j=this._listeners.push(X);k&&(!((G=this._options)===null||G===void 0)&&G.onDidAddFirstListener)&&this._options.onDidAddFirstListener(this),!((z=this._options)===null||z===void 0)&&z.onDidAddListener&&this._options.onDidAddListener(this,T,W);const J=X.subscription.set(()=>{var Y,ee;q==null||q(),this._disposed||((ee=(Y=this._options)===null||Y===void 0?void 0:Y.onWillRemoveListener)===null||ee===void 0||ee.call(Y,this),j(),this._options&&this._options.onDidRemoveLastListener&&(this._listeners&&!this._listeners.isEmpty()||this._options.onDidRemoveLastListener(this)))});return U instanceof f.SL?U.add(J):Array.isArray(U)&&U.push(J),J}),this._event}fire(T){var W,U,K;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new C((W=this._options)===null||W===void 0?void 0:W.onListenerError));for(const G of this._listeners)this._deliveryQueue.push(this,G,T);(U=this._perfMon)===null||U===void 0||U.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(K=this._perfMon)===null||K===void 0||K.stop()}}hasListeners(){return this._listeners?!this._listeners.isEmpty():!1}}class a{constructor(T=m.dL){this._onListenerError=T,this._queue=new _.S}get size(){return this._queue.size}push(T,W,U){this._queue.push(new D(T,W,U))}clear(T){const W=new _.S;for(const U of this._queue)U.emitter!==T&&W.push(U);this._queue=W}deliver(){for(;this._queue.size>0;){const T=this._queue.shift();try{T.listener.invoke(T.event)}catch(W){this._onListenerError(W)}}}}class C extends a{clear(T){this._queue.clear()}}class D{constructor(T,W,U){this.emitter=T,this.listener=W,this.event=U}}class u extends n{constructor(T){super(T),this._isPaused=0,this._eventQueue=new _.S,this._mergeFn=T==null?void 0:T.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const T=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(T))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(T){this._listeners&&(this._isPaused!==0?this._eventQueue.push(T):super.fire(T))}}class S extends u{constructor(T){var W;super(T),this._delay=(W=T.delay)!==null&&W!==void 0?W:100}fire(T){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(T)}}class w extends n{constructor(T){super(T),this._queuedEvents=[],this._mergeFn=T==null?void 0:T.merge}fire(T){this.hasListeners()&&(this._queuedEvents.push(T),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(W=>super.fire(W)),this._queuedEvents=[]}))}}class L{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new n({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(T){const W={event:T,listener:null};this.events.push(W),this.hasListeners&&this.hook(W);const U=()=>{this.hasListeners&&this.unhook(W);const K=this.events.indexOf(W);this.events.splice(K,1)};return(0,f.OF)((0,B.I)(U))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(T=>this.hook(T))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(T=>this.unhook(T))}hook(T){T.listener=T.event(W=>this.emitter.fire(W))}unhook(T){T.listener&&T.listener.dispose(),T.listener=null}dispose(){this.emitter.dispose()}}class N{constructor(){this.buffers=[]}wrapEvent(T){return(W,U,K)=>T(G=>{const z=this.buffers[this.buffers.length-1];z?z.push(()=>W.call(U,G)):W.call(U,G)},void 0,K)}bufferEvents(T){const W=[];this.buffers.push(W);const U=T();return this.buffers.pop(),W.forEach(K=>K()),U}}class O{constructor(){this.listening=!1,this.inputEvent=E.None,this.inputEventListener=f.JT.None,this.emitter=new n({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(T){this.inputEvent=T,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=T(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},7128:function(Ot,He,i){"use strict";i.d(He,{KM:function(){return E},ej:function(){return v},fn:function(){return A},oP:function(){return p},yj:function(){return M}});var m=i(75296),B=i(11138),f=i(17416);function _(l){return l===47||l===92}function v(l){return l.replace(/[\\/]/g,m.KR.sep)}function A(l){return l.indexOf("/")===-1&&(l=v(l)),/^[a-zA-Z]:(\/|$)/.test(l)&&(l="/"+l),l}function M(l,d=m.KR.sep){if(!l)return"";const g=l.length,n=l.charCodeAt(0);if(_(n)){if(_(l.charCodeAt(1))&&!_(l.charCodeAt(2))){let C=3;const D=C;for(;C<g&&!_(l.charCodeAt(C));C++);if(D!==C&&!_(l.charCodeAt(C+1))){for(C+=1;C<g;C++)if(_(l.charCodeAt(C)))return l.slice(0,C+1).replace(/[\\/]/g,d)}}return d}else if(R(n)&&l.charCodeAt(1)===58)return _(l.charCodeAt(2))?l.slice(0,2)+d:l.slice(0,2);let a=l.indexOf("://");if(a!==-1){for(a+=3;a<g;a++)if(_(l.charCodeAt(a)))return l.slice(0,a+1)}return""}function E(l,d,g,n=m.ir){if(l===d)return!0;if(!l||!d||d.length>l.length)return!1;if(g){if(!(0,f.ok)(l,d))return!1;if(d.length===l.length)return!0;let C=d.length;return d.charAt(d.length-1)===n&&C--,l.charAt(C)===n}return d.charAt(d.length-1)!==n&&(d+=n),l.indexOf(d)===0}function R(l){return l>=65&&l<=90||l>=97&&l<=122}function p(l,d=B.ED){return d?R(l.charCodeAt(0))&&l.charCodeAt(1)===58:!1}},4538:function(Ot,He,i){"use strict";i.d(He,{CL:function(){return Re},EW:function(){return Z},Ji:function(){return v},KZ:function(){return W},Oh:function(){return q},Sy:function(){return E},ir:function(){return M},jB:function(){return te},l7:function(){return he},mB:function(){return X},mX:function(){return ie},or:function(){return f}});var m=i(39832),B=i(17416);function f(...We){return function(it,Ze){for(let je=0,Te=We.length;je<Te;je++){const Ie=We[je](it,Ze);if(Ie)return Ie}return null}}const _=A.bind(void 0,!1),v=A.bind(void 0,!0);function A(We,it,Ze){if(!Ze||Ze.length<it.length)return null;let je;return We?je=B.ok(Ze,it):je=Ze.indexOf(it)===0,je?it.length>0?[{start:0,end:it.length}]:[]:null}function M(We,it){const Ze=it.toLowerCase().indexOf(We.toLowerCase());return Ze===-1?null:[{start:Ze,end:Ze+We.length}]}function E(We,it){return R(We.toLowerCase(),it.toLowerCase(),0,0)}function R(We,it,Ze,je){if(Ze===We.length)return[];if(je===it.length)return null;if(We[Ze]===it[je]){let Te=null;return(Te=R(We,it,Ze+1,je+1))?u({start:je,end:je+1},Te):null}return R(We,it,Ze,je+1)}function p(We){return 97<=We&&We<=122}function l(We){return 65<=We&&We<=90}function d(We){return 48<=We&&We<=57}function g(We){return We===32||We===9||We===10||We===13}const n=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(We=>n.add(We.charCodeAt(0)));function a(We){return g(We)||n.has(We)}function C(We,it){return We===it||a(We)&&a(it)}function D(We){return p(We)||l(We)||d(We)}function u(We,it){return it.length===0?it=[We]:We.end===it[0].start?it[0].start=We.start:it.unshift(We),it}function S(We,it){for(let Ze=it;Ze<We.length;Ze++){const je=We.charCodeAt(Ze);if(l(je)||d(je)||Ze>0&&!D(We.charCodeAt(Ze-1)))return Ze}return We.length}function w(We,it,Ze,je){if(Ze===We.length)return[];if(je===it.length)return null;if(We[Ze]!==it[je].toLowerCase())return null;{let Te=null,Ie=je+1;for(Te=w(We,it,Ze+1,je+1);!Te&&(Ie=S(it,Ie))<it.length;)Te=w(We,it,Ze+1,Ie),Ie++;return Te===null?null:u({start:je,end:je+1},Te)}}function L(We){let it=0,Ze=0,je=0,Te=0,Ie=0;for(let Me=0;Me<We.length;Me++)Ie=We.charCodeAt(Me),l(Ie)&&it++,p(Ie)&&Ze++,D(Ie)&&je++,d(Ie)&&Te++;const oe=it/We.length,ge=Ze/We.length,Ce=je/We.length,me=Te/We.length;return{upperPercent:oe,lowerPercent:ge,alphaPercent:Ce,numericPercent:me}}function N(We){const{upperPercent:it,lowerPercent:Ze}=We;return Ze===0&&it>.6}function O(We){const{upperPercent:it,lowerPercent:Ze,alphaPercent:je,numericPercent:Te}=We;return Ze>.2&&it<.8&&je>.6&&Te<.2}function x(We){let it=0,Ze=0,je=0,Te=0;for(let Ie=0;Ie<We.length;Ie++)je=We.charCodeAt(Ie),l(je)&&it++,p(je)&&Ze++,g(je)&&Te++;return(it===0||Ze===0)&&Te===0?We.length<=30:it<=5}function T(We,it){if(!it||(it=it.trim(),it.length===0)||!x(We)||it.length>60)return null;const Ze=L(it);if(!O(Ze)){if(!N(Ze))return null;it=it.toLowerCase()}let je=null,Te=0;for(We=We.toLowerCase();Te<it.length&&(je=w(We,it,0,Te))===null;)Te=S(it,Te+1);return je}function W(We,it,Ze=!1){if(!it||it.length===0)return null;let je=null,Te=0;for(We=We.toLowerCase(),it=it.toLowerCase();Te<it.length&&(je=U(We,it,0,Te,Ze))===null;)Te=K(it,Te+1);return je}function U(We,it,Ze,je,Te){if(Ze===We.length)return[];if(je===it.length)return null;if(C(We.charCodeAt(Ze),it.charCodeAt(je))){let Ie=null,oe=je+1;if(Ie=U(We,it,Ze+1,je+1,Te),!Te)for(;!Ie&&(oe=K(it,oe))<it.length;)Ie=U(We,it,Ze+1,oe,Te),oe++;return Ie?We.charCodeAt(Ze)!==it.charCodeAt(je)?Ie:u({start:je,end:je+1},Ie):null}else return null}function K(We,it){for(let Ze=it;Ze<We.length;Ze++)if(a(We.charCodeAt(Ze))||Ze>0&&a(We.charCodeAt(Ze-1)))return Ze;return We.length}const G=f(v,T,M),z=f(v,T,E),k=new m.z6(1e4);function q(We,it,Ze=!1){if(typeof We!="string"||typeof it!="string")return null;let je=k.get(We);je||(je=new RegExp(B.un(We),"i"),k.set(We,je));const Te=je.exec(it);return Te?[{start:Te.index,end:Te.index+Te[0].length}]:Ze?z(We,it):G(We,it)}function te(We,it,Ze,je,Te,Ie){const oe=Math.min(13,We.length);for(;Ze<oe;Ze++){const ge=Z(We,it,Ze,je,Te,Ie,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ge)return ge}return[0,Ie]}function X(We){if(typeof We=="undefined")return[];const it=[],Ze=We[1];for(let je=We.length-1;je>1;je--){const Te=We[je]+Ze,Ie=it[it.length-1];Ie&&Ie.end===Te?Ie.end=Te+1:it.push({start:Te,end:Te+1})}return it}const j=128;function J(){const We=[],it=[];for(let Ze=0;Ze<=j;Ze++)it[Ze]=0;for(let Ze=0;Ze<=j;Ze++)We.push(it.slice(0));return We}function Y(We){const it=[];for(let Ze=0;Ze<=We;Ze++)it[Ze]=0;return it}const ee=Y(2*j),fe=Y(2*j),De=J(),Ne=J(),be=J(),xe=!1;function Le(We,it,Ze,je,Te){function Ie(ge,Ce,me=" "){for(;ge.length<Ce;)ge=me+ge;return ge}let oe=` |   |${je.split("").map(ge=>Ie(ge,3)).join("|")}
`;for(let ge=0;ge<=Ze;ge++)ge===0?oe+=" |":oe+=`${it[ge-1]}|`,oe+=We[ge].slice(0,Te+1).map(Ce=>Ie(Ce.toString(),3)).join("|")+`
`;return oe}function ue(We,it,Ze,je){We=We.substr(it),Ze=Ze.substr(je),console.log(Le(Ne,We,We.length,Ze,Ze.length)),console.log(Le(be,We,We.length,Ze,Ze.length)),console.log(Le(De,We,We.length,Ze,Ze.length))}function re(We,it){if(it<0||it>=We.length)return!1;const Ze=We.codePointAt(it);switch(Ze){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!B.C8(Ze)}}function _e(We,it){if(it<0||it>=We.length)return!1;switch(We.charCodeAt(it)){case 32:case 9:return!0;default:return!1}}function Ue(We,it,Ze){return it[We]!==Ze[We]}function Qe(We,it,Ze,je,Te,Ie,oe=!1){for(;it<Ze&&Te<Ie;)We[it]===je[Te]&&(oe&&(ee[it]=Te),it+=1),Te+=1;return it===Ze}var Re;(function(We){We.Default=[-100,0];function it(Ze){return!Ze||Ze.length===2&&Ze[0]===-100&&Ze[1]===0}We.isDefault=it})(Re||(Re={}));class ie{constructor(it,Ze){this.firstMatchCanBeWeak=it,this.boostFullMatch=Ze}}ie.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function Z(We,it,Ze,je,Te,Ie,oe=ie.default){const ge=We.length>j?j:We.length,Ce=je.length>j?j:je.length;if(Ze>=ge||Ie>=Ce||ge-Ze>Ce-Ie||!Qe(it,Ze,ge,Te,Ie,Ce,!0))return;se(ge,Ce,Ze,Ie,it,Te);let me=1,Me=1,qe=Ze,ot=Ie;const ut=[!1];for(me=1,qe=Ze;qe<ge;me++,qe++){const $t=ee[qe],Mt=fe[qe],Xe=qe+1<ge?fe[qe+1]:Ce;for(Me=$t-Ie+1,ot=$t;ot<Xe;Me++,ot++){let Lt=Number.MIN_SAFE_INTEGER,Xt=!1;ot<=Mt&&(Lt=ve(We,it,qe,Ze,je,Te,ot,Ce,Ie,De[me-1][Me-1]===0,ut));let zt=0;Lt!==Number.MAX_SAFE_INTEGER&&(Xt=!0,zt=Lt+Ne[me-1][Me-1]);const Fe=ot>$t,et=Fe?Ne[me][Me-1]+(De[me][Me-1]>0?-5:0):0,pt=ot>$t+1&&De[me][Me-1]>0,It=pt?Ne[me][Me-2]+(De[me][Me-2]>0?-5:0):0;if(pt&&(!Fe||It>=et)&&(!Xt||It>=zt))Ne[me][Me]=It,be[me][Me]=3,De[me][Me]=0;else if(Fe&&(!Xt||et>=zt))Ne[me][Me]=et,be[me][Me]=2,De[me][Me]=0;else if(Xt)Ne[me][Me]=zt,be[me][Me]=1,De[me][Me]=De[me-1][Me-1]+1;else throw new Error("not possible")}}if(xe&&ue(We,Ze,je,Ie),!ut[0]&&!oe.firstMatchCanBeWeak)return;me--,Me--;const ht=[Ne[me][Me],Ie];let Ct=0,Pt=0;for(;me>=1;){let $t=Me;do{const Mt=be[me][$t];if(Mt===3)$t=$t-2;else if(Mt===2)$t=$t-1;else break}while($t>=1);Ct>1&&it[Ze+me-1]===Te[Ie+Me-1]&&!Ue($t+Ie-1,je,Te)&&Ct+1>De[me][$t]&&($t=Me),$t===Me?Ct++:Ct=1,Pt||(Pt=$t),me--,Me=$t-1,ht.push(Me)}Ce===ge&&oe.boostFullMatch&&(ht[0]+=2);const bt=Pt-ge;return ht[0]-=bt,ht}function se(We,it,Ze,je,Te,Ie){let oe=We-1,ge=it-1;for(;oe>=Ze&&ge>=je;)Te[oe]===Ie[ge]&&(fe[oe]=ge,oe--),ge--}function ve(We,it,Ze,je,Te,Ie,oe,ge,Ce,me,Me){if(it[Ze]!==Ie[oe])return Number.MIN_SAFE_INTEGER;let qe=1,ot=!1;return oe===Ze-je?qe=We[Ze]===Te[oe]?7:5:Ue(oe,Te,Ie)&&(oe===0||!Ue(oe-1,Te,Ie))?(qe=We[Ze]===Te[oe]?7:5,ot=!0):re(Ie,oe)&&(oe===0||!re(Ie,oe-1))?qe=5:(re(Ie,oe-1)||_e(Ie,oe-1))&&(qe=5,ot=!0),qe>1&&Ze===je&&(Me[0]=!0),ot||(ot=Ue(oe,Te,Ie)||re(Ie,oe-1)||_e(Ie,oe-1)),Ze===je?oe>Ce&&(qe-=ot?3:5):me?qe+=ot?2:0:qe+=ot?0:1,oe+1===ge&&(qe-=ot?3:5),qe}function he(We,it,Ze,je,Te,Ie,oe){return ce(We,it,Ze,je,Te,Ie,!0,oe)}function ce(We,it,Ze,je,Te,Ie,oe,ge){let Ce=Z(We,it,Ze,je,Te,Ie,ge);if(Ce&&!oe)return Ce;if(We.length>=3){const me=Math.min(7,We.length-1);for(let Me=Ze+1;Me<me;Me++){const qe=Ee(We,Me);if(qe){const ot=Z(qe,qe.toLowerCase(),Ze,je,Te,Ie,ge);ot&&(ot[0]-=3,(!Ce||ot[0]>Ce[0])&&(Ce=ot))}}}return Ce}function Ee(We,it){if(it+1>=We.length)return;const Ze=We[it],je=We[it+1];if(Ze!==je)return We.slice(0,it)+je+Ze+We.slice(it+2)}},89717:function(Ot,He,i){"use strict";i.d(He,{I:function(){return m}});function m(B){const f=this;let _=!1,v;return function(){return _||(_=!0,v=B.apply(f,arguments)),v}}},32916:function(Ot,He,i){"use strict";i.d(He,{Cv:function(){return A},SP:function(){return f},vp:function(){return B},yP:function(){return g}});var m=i(17416);function B(n){return f(n,0)}function f(n,a){switch(typeof n){case"object":return n===null?_(349,a):Array.isArray(n)?M(n,a):E(n,a);case"string":return A(n,a);case"boolean":return v(n,a);case"number":return _(n,a);case"undefined":return _(937,a);default:return _(617,a)}}function _(n,a){return(a<<5)-a+n|0}function v(n,a){return _(n?433:863,a)}function A(n,a){a=_(149417,a);for(let C=0,D=n.length;C<D;C++)a=_(n.charCodeAt(C),a);return a}function M(n,a){return a=_(104579,a),n.reduce((C,D)=>f(D,C),a)}function E(n,a){return a=_(181387,a),Object.keys(n).sort().reduce((C,D)=>(C=A(D,C),f(n[D],C)),a)}function R(n,a,C=32){const D=C-a,u=~((1<<D)-1);return(n<<a|(u&n)>>>D)>>>0}function p(n,a=0,C=n.byteLength,D=0){for(let u=0;u<C;u++)n[a+u]=D}function l(n,a,C="0"){for(;n.length<a;)n=C+n;return n}function d(n,a=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(C=>C.toString(16).padStart(2,"0")).join(""):l((n>>>0).toString(16),a/4)}class g{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(a){const C=a.length;if(C===0)return;const D=this._buff;let u=this._buffLen,S=this._leftoverHighSurrogate,w,L;for(S!==0?(w=S,L=-1,S=0):(w=a.charCodeAt(0),L=0);;){let N=w;if(m.ZG(w))if(L+1<C){const O=a.charCodeAt(L+1);m.YK(O)?(L++,N=m.rL(w,O)):N=65533}else{S=w;break}else m.YK(w)&&(N=65533);if(u=this._push(D,u,N),L++,L<C)w=a.charCodeAt(L);else break}this._buffLen=u,this._leftoverHighSurrogate=S}_push(a,C,D){return D<128?a[C++]=D:D<2048?(a[C++]=192|(D&1984)>>>6,a[C++]=128|(D&63)>>>0):D<65536?(a[C++]=224|(D&61440)>>>12,a[C++]=128|(D&4032)>>>6,a[C++]=128|(D&63)>>>0):(a[C++]=240|(D&1835008)>>>18,a[C++]=128|(D&258048)>>>12,a[C++]=128|(D&4032)>>>6,a[C++]=128|(D&63)>>>0),C>=64&&(this._step(),C-=64,this._totalLen+=64,a[0]=a[64+0],a[1]=a[64+1],a[2]=a[64+2]),C}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),d(this._h0)+d(this._h1)+d(this._h2)+d(this._h3)+d(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,p(this._buff,this._buffLen),this._buffLen>56&&(this._step(),p(this._buff));const a=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(a/4294967296),!1),this._buffDV.setUint32(60,a%4294967296,!1),this._step()}_step(){const a=g._bigBlock32,C=this._buffDV;for(let T=0;T<64;T+=4)a.setUint32(T,C.getUint32(T,!1),!1);for(let T=64;T<320;T+=4)a.setUint32(T,R(a.getUint32(T-12,!1)^a.getUint32(T-32,!1)^a.getUint32(T-56,!1)^a.getUint32(T-64,!1),1),!1);let D=this._h0,u=this._h1,S=this._h2,w=this._h3,L=this._h4,N,O,x;for(let T=0;T<80;T++)T<20?(N=u&S|~u&w,O=1518500249):T<40?(N=u^S^w,O=1859775393):T<60?(N=u&S|u&w|S&w,O=2400959708):(N=u^S^w,O=3395469782),x=R(D,5)+N+L+O+a.getUint32(T*4,!1)&4294967295,L=w,w=S,S=R(u,30),u=D,D=x;this._h0=this._h0+D&4294967295,this._h1=this._h1+u&4294967295,this._h2=this._h2+S&4294967295,this._h3=this._h3+w&4294967295,this._h4=this._h4+L&4294967295}}g._bigBlock32=new DataView(new ArrayBuffer(320))},69008:function(Ot,He,i){"use strict";i.d(He,{CP:function(){return M},Fr:function(){return E},W5:function(){return A},d9:function(){return l},g_:function(){return R},oR:function(){return d},v1:function(){return g}});var m=i(20996),B=i(5858),f=i(6227),_=i(17416),v=i(28919);class A{constructor(a="",C=!1){var D,u,S;if(this.value=a,typeof this.value!="string")throw(0,m.b1)("value");typeof C=="boolean"?(this.isTrusted=C,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(D=C.isTrusted)!==null&&D!==void 0?D:void 0,this.supportThemeIcons=(u=C.supportThemeIcons)!==null&&u!==void 0?u:!1,this.supportHtml=(S=C.supportHtml)!==null&&S!==void 0?S:!1)}appendText(a,C=0){return this.value+=p(this.supportThemeIcons?(0,B.Qo)(a):a).replace(/([ \t]+)/g,(D,u)=>"&nbsp;".repeat(u.length)).replace(/\>/gm,"\\>").replace(/\n/g,C===1?`\\
`:`

`),this}appendMarkdown(a){return this.value+=a,this}appendCodeblock(a,C){return this.value+="\n```",this.value+=a,this.value+=`
`,this.value+=C,this.value+="\n```\n",this}appendLink(a,C,D){return this.value+="[",this.value+=this._escape(C,"]"),this.value+="](",this.value+=this._escape(String(a),")"),D&&(this.value+=` "${this._escape(this._escape(D,'"'),")")}"`),this.value+=")",this}_escape(a,C){const D=new RegExp((0,_.ec)(C),"g");return a.replace(D,(u,S)=>a.charAt(S-1)!=="\\"?`\\${u}`:u)}}function M(n){return E(n)?!n.value:Array.isArray(n)?n.every(M):!0}function E(n){return n instanceof A?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function R(n,a){return n===a?!0:!n||!a?!1:n.value===a.value&&n.isTrusted===a.isTrusted&&n.supportThemeIcons===a.supportThemeIcons&&n.supportHtml===a.supportHtml&&(n.baseUri===a.baseUri||!!n.baseUri&&!!a.baseUri&&(0,f.Xy)(v.o.from(n.baseUri),v.o.from(a.baseUri)))}function p(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function l(n){return n.replace(/"/g,"&quot;")}function d(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function g(n){const a=[],C=n.split("|").map(u=>u.trim());n=C[0];const D=C[1];if(D){const u=/height=(\d+)/.exec(D),S=/width=(\d+)/.exec(D),w=u?u[1]:"",L=S?S[1]:"",N=isFinite(parseInt(L)),O=isFinite(parseInt(w));N&&a.push(`width="${L}"`),O&&a.push(`height="${w}"`)}return{href:n,dimensions:a}}},5858:function(Ot,He,i){"use strict";i.d(He,{Gt:function(){return a},Ho:function(){return n},JL:function(){return d},Qo:function(){return M},f$:function(){return R},x$:function(){return l}});var m=i(4538),B=i(17416),f=i(8216);const _="$(",v=new RegExp(`\\$\\(${f.k.iconNameExpression}(?:${f.k.iconModifierExpression})?\\)`,"g"),A=new RegExp(`(\\\\)?${v.source}`,"g");function M(C){return C.replace(A,(D,u)=>u?D:`\\${D}`)}const E=new RegExp(`\\\\${v.source}`,"g");function R(C){return C.replace(E,D=>`\\${D}`)}const p=new RegExp(`(\\s)?(\\\\)?${v.source}(\\s)?`,"g");function l(C){return C.indexOf(_)===-1?C:C.replace(p,(D,u,S,w)=>S?D:u||w||"")}function d(C){return C?C.replace(/\$\((.*?)\)/g,(D,u)=>` ${u} `).trim():""}const g=new RegExp(`\\$\\(${f.k.iconNameCharacter}+\\)`,"g");function n(C){g.lastIndex=0;let D="";const u=[];let S=0;for(;;){const w=g.lastIndex,L=g.exec(C),N=C.substring(w,L==null?void 0:L.index);if(N.length>0){D+=N;for(let O=0;O<N.length;O++)u.push(S)}if(!L)break;S+=L[0].length}return{text:D,iconOffsets:u}}function a(C,D,u=!1){const{text:S,iconOffsets:w}=D;if(!w||w.length===0)return(0,m.Oh)(C,S,u);const L=(0,B.j3)(S," "),N=S.length-L.length,O=(0,m.Oh)(C,L,u);if(O)for(const x of O){const T=w[x.start+N]+N;x.start+=T,x.end+=T}return O}},6100:function(Ot,He,i){"use strict";i.d(He,{R:function(){return m},a:function(){return B}});class m{constructor(_){this._prefix=_,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const B=new m("id#")},35990:function(Ot,He,i){"use strict";i.d(He,{F:function(){return f}});var m=i(56709);class B{constructor(){this._onDidChange=new m.Q5,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const f=new B},97865:function(Ot,He,i){"use strict";i.d(He,{$:function(){return m}});var m;(function(B){function f(S){return S&&typeof S=="object"&&typeof S[Symbol.iterator]=="function"}B.is=f;const _=Object.freeze([]);function v(){return _}B.empty=v;function*A(S){yield S}B.single=A;function M(S){return f(S)?S:A(S)}B.wrap=M;function E(S){return S||_}B.from=E;function R(S){return!S||S[Symbol.iterator]().next().done===!0}B.isEmpty=R;function p(S){return S[Symbol.iterator]().next().value}B.first=p;function l(S,w){for(const L of S)if(w(L))return!0;return!1}B.some=l;function d(S,w){for(const L of S)if(w(L))return L}B.find=d;function*g(S,w){for(const L of S)w(L)&&(yield L)}B.filter=g;function*n(S,w){let L=0;for(const N of S)yield w(N,L++)}B.map=n;function*a(...S){for(const w of S)for(const L of w)yield L}B.concat=a;function C(S,w,L){let N=L;for(const O of S)N=w(N,O);return N}B.reduce=C;function*D(S,w,L=S.length){for(w<0&&(w+=S.length),L<0?L+=S.length:L>S.length&&(L=S.length);w<L;w++)yield S[w]}B.slice=D;function u(S,w=Number.POSITIVE_INFINITY){const L=[];if(w===0)return[L,S];const N=S[Symbol.iterator]();for(let O=0;O<w;O++){const x=N.next();if(x.done)return[L,B.empty()];L.push(x.value)}return[L,{[Symbol.iterator](){return N}}]}B.consume=u})(m||(m={}))},94880:function(Ot,He,i){"use strict";i.d(He,{H_:function(){return v},Vd:function(){return p},gx:function(){return g},kL:function(){return d}});class m{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(a,C){this._keyCodeToStr[a]=C,this._strToKeyCode[C.toLowerCase()]=a}keyCodeToStr(a){return this._keyCodeToStr[a]}strToKeyCode(a){return this._strToKeyCode[a.toLowerCase()]||0}}const B=new m,f=new m,_=new m,v=new Array(230),A={},M=[],E=Object.create(null),R=Object.create(null),p=[],l=[];for(let n=0;n<=193;n++)p[n]=-1;for(let n=0;n<=127;n++)l[n]=-1;(function(){const n="",a=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],C=[],D=[];for(const u of a){const[S,w,L,N,O,x,T,W,U,K]=u;if(D[L]||(D[L]=!0,M[L]=N,E[N]=L,R[N.toLowerCase()]=L,w&&(p[L]=O,O!==0&&O!==3&&O!==5&&O!==4&&O!==6&&O!==57&&(l[O]=L))),!C[O]){if(C[O]=!0,!x)throw new Error(`String representation missing for key code ${O} around scan code ${N}`);B.define(O,x),f.define(O,U||x),_.define(O,K||U||x)}T&&(v[T]=O),W&&(A[W]=O)}l[3]=46})();var d;(function(n){function a(L){return B.keyCodeToStr(L)}n.toString=a;function C(L){return B.strToKeyCode(L)}n.fromString=C;function D(L){return f.keyCodeToStr(L)}n.toUserSettingsUS=D;function u(L){return _.keyCodeToStr(L)}n.toUserSettingsGeneral=u;function S(L){return f.strToKeyCode(L)||_.strToKeyCode(L)}n.fromUserSettings=S;function w(L){if(L>=93&&L<=108)return null;switch(L){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return B.keyCodeToStr(L)}n.toElectronAccelerator=w})(d||(d={}));function g(n,a){const C=(a&65535)<<16>>>0;return(n|C)>>>0}},49553:function(Ot,He,i){"use strict";i.d(He,{X4:function(){return _},jC:function(){return v},r6:function(){return A},xo:function(){return f}});var m=i(26386);class B{constructor(R,p,l=p){this.modifierLabels=[null],this.modifierLabels[2]=R,this.modifierLabels[1]=p,this.modifierLabels[3]=l}toLabel(R,p,l){if(p.length===0)return null;const d=[];for(let g=0,n=p.length;g<n;g++){const a=p[g],C=l(a);if(C===null)return null;d[g]=M(a,C,this.modifierLabels[R])}return d.join(" ")}}const f=new B({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:m.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:m.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:m.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:m.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:m.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:m.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:m.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:m.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),_=new B({ctrlKey:m.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:m.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:m.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:m.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:m.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:m.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:m.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:m.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:m.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:m.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:m.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:m.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),v=new B({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),A=new B({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function M(E,R,p){if(R===null)return"";const l=[];return E.ctrlKey&&l.push(p.ctrlKey),E.shiftKey&&l.push(p.shiftKey),E.altKey&&l.push(p.altKey),E.metaKey&&l.push(p.metaKey),R!==""&&l.push(R),l.join(p.separator)}},21994:function(Ot,He,i){"use strict";i.d(He,{$M:function(){return _},Z9:function(){return B},aZ:function(){return M},f1:function(){return E}});var m=i(20996);function B(R,p){if(typeof R=="number"){if(R===0)return null;const l=(R&65535)>>>0,d=(R&4294901760)>>>16;return d!==0?new A([f(l,p),f(d,p)]):new A([f(l,p)])}else{const l=[];for(let d=0;d<R.length;d++)l.push(f(R[d],p));return new A(l)}}function f(R,p){const l=!!(R&2048),d=!!(R&256),g=p===2?d:l,n=!!(R&1024),a=!!(R&512),C=p===2?l:d,D=R&255;return new _(g,n,a,C,D)}class _{constructor(p,l,d,g,n){this.ctrlKey=p,this.shiftKey=l,this.altKey=d,this.metaKey=g,this.keyCode=n}equals(p){return p instanceof _&&this.ctrlKey===p.ctrlKey&&this.shiftKey===p.shiftKey&&this.altKey===p.altKey&&this.metaKey===p.metaKey&&this.keyCode===p.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class v{constructor(p,l,d,g,n){this.ctrlKey=p,this.shiftKey=l,this.altKey=d,this.metaKey=g,this.scanCode=n}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class A{constructor(p){if(p.length===0)throw(0,m.b1)("chords");this.chords=p}}class M{constructor(p,l,d,g,n,a){this.ctrlKey=p,this.shiftKey=l,this.altKey=d,this.metaKey=g,this.keyLabel=n,this.keyAriaLabel=a}}class E{}},51280:function(Ot,He,i){"use strict";i.d(He,{o:function(){return m}});class m{constructor(f){this.executor=f,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(f){this._error=f}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},38431:function(Ot,He,i){"use strict";i.d(He,{B9:function(){return d},F8:function(){return g},JT:function(){return C},Jz:function(){return w},L6:function(){return u},OF:function(){return n},SL:function(){return a},Wf:function(){return l},XK:function(){return D},b2:function(){return L},dk:function(){return p},dt:function(){return S}});var m=i(89717),B=i(97865);const f=!1;let _=null;function v(N){_=N}if(f){const N="__is_disposable_tracked__";v(new class{trackDisposable(O){const x=new Error("Potentially leaked disposable").stack;setTimeout(()=>{O[N]||console.log(x)},3e3)}setParent(O,x){if(O&&O!==C.None)try{O[N]=!0}catch(T){}}markAsDisposed(O){if(O&&O!==C.None)try{O[N]=!0}catch(x){}}markAsSingleton(O){}})}function A(N){return _==null||_.trackDisposable(N),N}function M(N){_==null||_.markAsDisposed(N)}function E(N,O){_==null||_.setParent(N,O)}function R(N,O){if(_)for(const x of N)_.setParent(x,O)}function p(N){return _==null||_.markAsSingleton(N),N}function l(N){return typeof N.dispose=="function"&&N.dispose.length===0}function d(N){if(B.$.is(N)){const O=[];for(const x of N)if(x)try{x.dispose()}catch(T){O.push(T)}if(O.length===1)throw O[0];if(O.length>1)throw new AggregateError(O,"Encountered errors while disposing of store");return Array.isArray(N)?[]:N}else if(N)return N.dispose(),N}function g(...N){const O=n(()=>d(N));return R(N,O),O}function n(N){const O=A({dispose:(0,m.I)(()=>{M(O),N()})});return O}class a{constructor(){this._toDispose=new Set,this._isDisposed=!1,A(this)}dispose(){this._isDisposed||(M(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{d(this._toDispose)}finally{this._toDispose.clear()}}add(O){if(!O)return O;if(O===this)throw new Error("Cannot register a disposable on itself!");return E(O,this),this._isDisposed?a.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(O),O}}a.DISABLE_DISPOSED_WARNING=!1;class C{constructor(){this._store=new a,A(this),E(this._store,this)}dispose(){M(this),this._store.dispose()}_register(O){if(O===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(O)}}C.None=Object.freeze({dispose(){}});class D{constructor(){this._isDisposed=!1,A(this)}get value(){return this._isDisposed?void 0:this._value}set value(O){var x;this._isDisposed||O===this._value||((x=this._value)===null||x===void 0||x.dispose(),O&&E(O,this),this._value=O)}clear(){this.value=void 0}dispose(){var O;this._isDisposed=!0,M(this),(O=this._value)===null||O===void 0||O.dispose(),this._value=void 0}clearAndLeak(){const O=this._value;return this._value=void 0,O&&E(O,null),O}}class u{constructor(O){this._disposable=O,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class S{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,A(this)}set(O){let x=O;return this.unset=()=>x=void 0,this.isset=()=>x!==void 0,this.dispose=()=>{x&&(x(),x=void 0,M(this))},this}}class w{constructor(O){this.object=O}dispose(){}}class L{constructor(){this._store=new Map,this._isDisposed=!1,A(this)}dispose(){M(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{d(this._store.values())}finally{this._store.clear()}}get(O){return this._store.get(O)}set(O,x,T=!1){var W;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),T||(W=this._store.get(O))===null||W===void 0||W.dispose(),this._store.set(O,x)}deleteAndDispose(O){var x;(x=this._store.get(O))===null||x===void 0||x.dispose(),this._store.delete(O)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},17979:function(Ot,He,i){"use strict";i.d(He,{S:function(){return B}});class m{constructor(_){this.element=_,this.next=m.Undefined,this.prev=m.Undefined}}m.Undefined=new m(void 0);class B{constructor(){this._first=m.Undefined,this._last=m.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===m.Undefined}clear(){let _=this._first;for(;_!==m.Undefined;){const v=_.next;_.prev=m.Undefined,_.next=m.Undefined,_=v}this._first=m.Undefined,this._last=m.Undefined,this._size=0}unshift(_){return this._insert(_,!1)}push(_){return this._insert(_,!0)}_insert(_,v){const A=new m(_);if(this._first===m.Undefined)this._first=A,this._last=A;else if(v){const E=this._last;this._last=A,A.prev=E,E.next=A}else{const E=this._first;this._first=A,A.next=E,E.prev=A}this._size+=1;let M=!1;return()=>{M||(M=!0,this._remove(A))}}shift(){if(this._first!==m.Undefined){const _=this._first.element;return this._remove(this._first),_}}pop(){if(this._last!==m.Undefined){const _=this._last.element;return this._remove(this._last),_}}_remove(_){if(_.prev!==m.Undefined&&_.next!==m.Undefined){const v=_.prev;v.next=_.next,_.next.prev=v}else _.prev===m.Undefined&&_.next===m.Undefined?(this._first=m.Undefined,this._last=m.Undefined):_.next===m.Undefined?(this._last=this._last.prev,this._last.next=m.Undefined):_.prev===m.Undefined&&(this._first=this._first.next,this._first.prev=m.Undefined);this._size-=1}*[Symbol.iterator](){let _=this._first;for(;_!==m.Undefined;)yield _.element,_=_.next}}},39832:function(Ot,He,i){"use strict";i.d(He,{Y9:function(){return _},z6:function(){return A}});var m,B;class f{constructor(E,R){this.uri=E,this.value=R}}class _{constructor(E,R){this[m]="ResourceMap",E instanceof _?(this.map=new Map(E.map),this.toKey=R!=null?R:_.defaultToKey):(this.map=new Map,this.toKey=E!=null?E:_.defaultToKey)}set(E,R){return this.map.set(this.toKey(E),new f(E,R)),this}get(E){var R;return(R=this.map.get(this.toKey(E)))===null||R===void 0?void 0:R.value}has(E){return this.map.has(this.toKey(E))}get size(){return this.map.size}clear(){this.map.clear()}delete(E){return this.map.delete(this.toKey(E))}forEach(E,R){typeof R!="undefined"&&(E=E.bind(R));for(const[p,l]of this.map)E(l.value,l.uri,this)}*values(){for(const E of this.map.values())yield E.value}*keys(){for(const E of this.map.values())yield E.uri}*entries(){for(const E of this.map.values())yield[E.uri,E.value]}*[(m=Symbol.toStringTag,Symbol.iterator)](){for(const[,E]of this.map)yield[E.uri,E.value]}}_.defaultToKey=M=>M.toString();class v{constructor(){this[B]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var E;return(E=this._head)===null||E===void 0?void 0:E.value}get last(){var E;return(E=this._tail)===null||E===void 0?void 0:E.value}has(E){return this._map.has(E)}get(E,R=0){const p=this._map.get(E);if(p)return R!==0&&this.touch(p,R),p.value}set(E,R,p=0){let l=this._map.get(E);if(l)l.value=R,p!==0&&this.touch(l,p);else{switch(l={key:E,value:R,next:void 0,previous:void 0},p){case 0:this.addItemLast(l);break;case 1:this.addItemFirst(l);break;case 2:this.addItemLast(l);break;default:this.addItemLast(l);break}this._map.set(E,l),this._size++}return this}delete(E){return!!this.remove(E)}remove(E){const R=this._map.get(E);if(R)return this._map.delete(E),this.removeItem(R),this._size--,R.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const E=this._head;return this._map.delete(E.key),this.removeItem(E),this._size--,E.value}forEach(E,R){const p=this._state;let l=this._head;for(;l;){if(R?E.bind(R)(l.value,l.key,this):E(l.value,l.key,this),this._state!==p)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const E=this,R=this._state;let p=this._head;const l={[Symbol.iterator](){return l},next(){if(E._state!==R)throw new Error("LinkedMap got modified during iteration.");if(p){const d={value:p.key,done:!1};return p=p.next,d}else return{value:void 0,done:!0}}};return l}values(){const E=this,R=this._state;let p=this._head;const l={[Symbol.iterator](){return l},next(){if(E._state!==R)throw new Error("LinkedMap got modified during iteration.");if(p){const d={value:p.value,done:!1};return p=p.next,d}else return{value:void 0,done:!0}}};return l}entries(){const E=this,R=this._state;let p=this._head;const l={[Symbol.iterator](){return l},next(){if(E._state!==R)throw new Error("LinkedMap got modified during iteration.");if(p){const d={value:[p.key,p.value],done:!1};return p=p.next,d}else return{value:void 0,done:!0}}};return l}[(B=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(E){if(E>=this.size)return;if(E===0){this.clear();return}let R=this._head,p=this.size;for(;R&&p>E;)this._map.delete(R.key),R=R.next,p--;this._head=R,this._size=p,R&&(R.previous=void 0),this._state++}addItemFirst(E){if(!this._head&&!this._tail)this._tail=E;else if(this._head)E.next=this._head,this._head.previous=E;else throw new Error("Invalid list");this._head=E,this._state++}addItemLast(E){if(!this._head&&!this._tail)this._head=E;else if(this._tail)E.previous=this._tail,this._tail.next=E;else throw new Error("Invalid list");this._tail=E,this._state++}removeItem(E){if(E===this._head&&E===this._tail)this._head=void 0,this._tail=void 0;else if(E===this._head){if(!E.next)throw new Error("Invalid list");E.next.previous=void 0,this._head=E.next}else if(E===this._tail){if(!E.previous)throw new Error("Invalid list");E.previous.next=void 0,this._tail=E.previous}else{const R=E.next,p=E.previous;if(!R||!p)throw new Error("Invalid list");R.previous=p,p.next=R}E.next=void 0,E.previous=void 0,this._state++}touch(E,R){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(R!==1&&R!==2)){if(R===1){if(E===this._head)return;const p=E.next,l=E.previous;E===this._tail?(l.next=void 0,this._tail=l):(p.previous=l,l.next=p),E.previous=void 0,E.next=this._head,this._head.previous=E,this._head=E,this._state++}else if(R===2){if(E===this._tail)return;const p=E.next,l=E.previous;E===this._head?(p.previous=void 0,this._head=p):(p.previous=l,l.next=p),E.next=void 0,E.previous=this._tail,this._tail.next=E,this._tail=E,this._state++}}}toJSON(){const E=[];return this.forEach((R,p)=>{E.push([p,R])}),E}fromJSON(E){this.clear();for(const[R,p]of E)this.set(R,p)}}class A extends v{constructor(E,R=1){super(),this._limit=E,this._ratio=Math.min(Math.max(0,R),1)}get limit(){return this._limit}set limit(E){this._limit=E,this.checkTrim()}get(E,R=2){return super.get(E,R)}peek(E){return super.get(E,0)}set(E,R){return super.set(E,R,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},65533:function(Ot,He,i){"use strict";i.d(He,{Q:function(){return f}});var m=i(77511),B=i(28919);function f(v){let A=JSON.parse(v);return A=_(A),A}function _(v,A=0){if(!v||A>200)return v;if(typeof v=="object"){switch(v.$mid){case 1:return B.o.revive(v);case 2:return new RegExp(v.source,v.flags);case 16:return new Date(v.source)}if(v instanceof m.KN||v instanceof Uint8Array)return v;if(Array.isArray(v))for(let M=0;M<v.length;++M)v[M]=_(v[M],A+1);else for(const M in v)Object.hasOwnProperty.call(v,M)&&(v[M]=_(v[M],A+1))}return v}},9161:function(Ot,He,i){"use strict";i.d(He,{v:function(){return m}});const m=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},5007:function(Ot,He,i){"use strict";i.d(He,{Gi:function(){return R},WX:function(){return M},lg:function(){return _}});var m=i(20996),B=i(11138),f=i(28919),_;(function(l){l.inMemory="inmemory",l.vscode="vscode",l.internal="private",l.walkThrough="walkThrough",l.walkThroughSnippet="walkThroughSnippet",l.http="http",l.https="https",l.file="file",l.mailto="mailto",l.untitled="untitled",l.data="data",l.command="command",l.vscodeRemote="vscode-remote",l.vscodeRemoteResource="vscode-remote-resource",l.vscodeUserData="vscode-userdata",l.vscodeCustomEditor="vscode-custom-editor",l.vscodeNotebookCell="vscode-notebook-cell",l.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",l.vscodeNotebookCellOutput="vscode-notebook-cell-output",l.vscodeInteractive="vscode-interactive",l.vscodeInteractiveInput="vscode-interactive-input",l.vscodeSettings="vscode-settings",l.vscodeWorkspaceTrust="vscode-workspace-trust",l.vscodeTerminal="vscode-terminal",l.webviewPanel="webview-panel",l.vscodeWebview="vscode-webview",l.extension="extension",l.vscodeFileResource="vscode-file",l.tmp="tmp",l.vsls="vsls",l.vscodeSourceControl="vscode-scm"})(_||(_={}));const v="tkn";class A{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${_.vscodeRemoteResource}`}setPreferredWebSchema(d){this._preferredWebSchema=d}rewrite(d){if(this._delegate)try{return this._delegate(d)}catch(u){return m.dL(u),d}const g=d.authority;let n=this._hosts[g];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n=`[${n}]`);const a=this._ports[g],C=this._connectionTokens[g];let D=`path=${encodeURIComponent(d.path)}`;return typeof C=="string"&&(D+=`&${v}=${encodeURIComponent(C)}`),f.o.from({scheme:B.$L?this._preferredWebSchema:_.vscodeRemoteResource,authority:`${n}:${a}`,path:this._remoteResourcesPath,query:D})}}const M=new A;class E{uriToBrowserUri(d){return d.scheme===_.vscodeRemote?M.rewrite(d):d.scheme===_.file&&(B.tY||B.n2&&B.li.origin===`${_.vscodeFileResource}://${E.FALLBACK_AUTHORITY}`)?d.with({scheme:_.vscodeFileResource,authority:d.authority||E.FALLBACK_AUTHORITY,query:null,fragment:null}):d}}E.FALLBACK_AUTHORITY="vscode-app";const R=new E;var p;(function(l){const d=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);l.CoopAndCoep=Object.freeze(d.get("3"));const g="vscode-coi";function n(C){let D;typeof C=="string"?D=new URL(C).searchParams:C instanceof URL?D=C.searchParams:f.o.isUri(C)&&(D=new URL(C.toString(!0)).searchParams);const u=D==null?void 0:D.get(g);if(u)return d.get(u)}l.getHeadersFromQuery=n;function a(C,D,u){if(!globalThis.crossOriginIsolated)return;const S=D&&u?"3":u?"2":"1";C instanceof URLSearchParams?C.set(g,S):C[g]=S}l.addSearchParam=a})(p||(p={}))},98726:function(Ot,He,i){"use strict";i.d(He,{N:function(){return f},nM:function(){return B},uZ:function(){return m}});function m(_,v,A){return Math.min(Math.max(_,v),A)}class B{constructor(){this._n=1,this._val=0}update(v){return this._val=this._val+(v-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class f{constructor(v){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(v),this._values.fill(0,0,v)}update(v){const A=this._values[this._index];return this._values[this._index]=v,this._index=(this._index+1)%this._values.length,this._sum-=A,this._sum+=v,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},23127:function(Ot,He,i){"use strict";i.d(He,{$E:function(){return p},I8:function(){return B},IU:function(){return l},_A:function(){return f},fS:function(){return E},jB:function(){return M},rs:function(){return v}});var m=i(14818);function B(d){if(!d||typeof d!="object"||d instanceof RegExp)return d;const g=Array.isArray(d)?[]:{};return Object.entries(d).forEach(([n,a])=>{g[n]=a&&typeof a=="object"?B(a):a}),g}function f(d){if(!d||typeof d!="object")return d;const g=[d];for(;g.length>0;){const n=g.shift();Object.freeze(n);for(const a in n)if(_.call(n,a)){const C=n[a];typeof C=="object"&&!Object.isFrozen(C)&&!(0,m.fU)(C)&&g.push(C)}}return d}const _=Object.prototype.hasOwnProperty;function v(d,g){return A(d,g,new Set)}function A(d,g,n){if((0,m.Jp)(d))return d;const a=g(d);if(typeof a!="undefined")return a;if(Array.isArray(d)){const C=[];for(const D of d)C.push(A(D,g,n));return C}if((0,m.Kn)(d)){if(n.has(d))throw new Error("Cannot clone recursive data-structure");n.add(d);const C={};for(const D in d)_.call(d,D)&&(C[D]=A(d[D],g,n));return n.delete(d),C}return d}function M(d,g,n=!0){return(0,m.Kn)(d)?((0,m.Kn)(g)&&Object.keys(g).forEach(a=>{a in d?n&&((0,m.Kn)(d[a])&&(0,m.Kn)(g[a])?M(d[a],g[a],n):d[a]=g[a]):d[a]=g[a]}),d):g}function E(d,g){if(d===g)return!0;if(d==null||g===null||g===void 0||typeof d!=typeof g||typeof d!="object"||Array.isArray(d)!==Array.isArray(g))return!1;let n,a;if(Array.isArray(d)){if(d.length!==g.length)return!1;for(n=0;n<d.length;n++)if(!E(d[n],g[n]))return!1}else{const C=[];for(a in d)C.push(a);C.sort();const D=[];for(a in g)D.push(a);if(D.sort(),!E(C,D))return!1;for(n=0;n<C.length;n++)if(!E(d[C[n]],g[C[n]]))return!1}return!0}function R(d){let g=[],n=Object.getPrototypeOf(d);for(;Object.prototype!==n;)g=g.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return g}function p(d){const g=[];for(const n of R(d))typeof d[n]=="function"&&g.push(n);return g}function l(d,g){const n=C=>function(){const D=Array.prototype.slice.call(arguments,0);return g(C,D)},a={};for(const C of d)a[C]=n(C);return a}},75296:function(Ot,He,i){"use strict";i.d(He,{EZ:function(){return q},XX:function(){return k},DZ:function(){return te},Fv:function(){return K},KR:function(){return U},Gf:function(){return z},DB:function(){return G},ir:function(){return X},Ku:function(){return T}});var m=i(11138),B=i(34406);let f;if(typeof m.li.vscode!="undefined"&&typeof m.li.vscode.process!="undefined"){const j=m.li.vscode.process;f={get platform(){return j.platform},get arch(){return j.arch},get env(){return j.env},cwd(){return j.cwd()}}}else typeof B!="undefined"?f={get platform(){return B.platform},get arch(){return B.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/_/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/_/"}.VSCODE_CWD||B.cwd()}}:f={get platform(){return m.ED?"win32":m.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const _=f.cwd,v=f.env,A=f.platform,M=65,E=97,R=90,p=122,l=46,d=47,g=92,n=58,a=63;class C extends Error{constructor(J,Y,ee){let fe;typeof Y=="string"&&Y.indexOf("not ")===0?(fe="must not be",Y=Y.replace(/^not /,"")):fe="must be";const De=J.indexOf(".")!==-1?"property":"argument";let Ne=`The "${J}" ${De} ${fe} of type ${Y}`;Ne+=`. Received type ${typeof ee}`,super(Ne),this.code="ERR_INVALID_ARG_TYPE"}}function D(j,J){if(j===null||typeof j!="object")throw new C(J,"Object",j)}function u(j,J){if(typeof j!="string")throw new C(J,"string",j)}const S=A==="win32";function w(j){return j===d||j===g}function L(j){return j===d}function N(j){return j>=M&&j<=R||j>=E&&j<=p}function O(j,J,Y,ee){let fe="",De=0,Ne=-1,be=0,xe=0;for(let Le=0;Le<=j.length;++Le){if(Le<j.length)xe=j.charCodeAt(Le);else{if(ee(xe))break;xe=d}if(ee(xe)){if(!(Ne===Le-1||be===1))if(be===2){if(fe.length<2||De!==2||fe.charCodeAt(fe.length-1)!==l||fe.charCodeAt(fe.length-2)!==l){if(fe.length>2){const ue=fe.lastIndexOf(Y);ue===-1?(fe="",De=0):(fe=fe.slice(0,ue),De=fe.length-1-fe.lastIndexOf(Y)),Ne=Le,be=0;continue}else if(fe.length!==0){fe="",De=0,Ne=Le,be=0;continue}}J&&(fe+=fe.length>0?`${Y}..`:"..",De=2)}else fe.length>0?fe+=`${Y}${j.slice(Ne+1,Le)}`:fe=j.slice(Ne+1,Le),De=Le-Ne-1;Ne=Le,be=0}else xe===l&&be!==-1?++be:be=-1}return fe}function x(j,J){D(J,"pathObject");const Y=J.dir||J.root,ee=J.base||`${J.name||""}${J.ext||""}`;return Y?Y===J.root?`${Y}${ee}`:`${Y}${j}${ee}`:ee}const T={resolve(...j){let J="",Y="",ee=!1;for(let fe=j.length-1;fe>=-1;fe--){let De;if(fe>=0){if(De=j[fe],u(De,"path"),De.length===0)continue}else J.length===0?De=_():(De={NODE_ENV:"production",PUBLIC_PATH:"/_/"}[`=${J}`]||_(),(De===void 0||De.slice(0,2).toLowerCase()!==J.toLowerCase()&&De.charCodeAt(2)===g)&&(De=`${J}\\`));const Ne=De.length;let be=0,xe="",Le=!1;const ue=De.charCodeAt(0);if(Ne===1)w(ue)&&(be=1,Le=!0);else if(w(ue))if(Le=!0,w(De.charCodeAt(1))){let re=2,_e=re;for(;re<Ne&&!w(De.charCodeAt(re));)re++;if(re<Ne&&re!==_e){const Ue=De.slice(_e,re);for(_e=re;re<Ne&&w(De.charCodeAt(re));)re++;if(re<Ne&&re!==_e){for(_e=re;re<Ne&&!w(De.charCodeAt(re));)re++;(re===Ne||re!==_e)&&(xe=`\\\\${Ue}\\${De.slice(_e,re)}`,be=re)}}}else be=1;else N(ue)&&De.charCodeAt(1)===n&&(xe=De.slice(0,2),be=2,Ne>2&&w(De.charCodeAt(2))&&(Le=!0,be=3));if(xe.length>0)if(J.length>0){if(xe.toLowerCase()!==J.toLowerCase())continue}else J=xe;if(ee){if(J.length>0)break}else if(Y=`${De.slice(be)}\\${Y}`,ee=Le,Le&&J.length>0)break}return Y=O(Y,!ee,"\\",w),ee?`${J}\\${Y}`:`${J}${Y}`||"."},normalize(j){u(j,"path");const J=j.length;if(J===0)return".";let Y=0,ee,fe=!1;const De=j.charCodeAt(0);if(J===1)return L(De)?"\\":j;if(w(De))if(fe=!0,w(j.charCodeAt(1))){let be=2,xe=be;for(;be<J&&!w(j.charCodeAt(be));)be++;if(be<J&&be!==xe){const Le=j.slice(xe,be);for(xe=be;be<J&&w(j.charCodeAt(be));)be++;if(be<J&&be!==xe){for(xe=be;be<J&&!w(j.charCodeAt(be));)be++;if(be===J)return`\\\\${Le}\\${j.slice(xe)}\\`;be!==xe&&(ee=`\\\\${Le}\\${j.slice(xe,be)}`,Y=be)}}}else Y=1;else N(De)&&j.charCodeAt(1)===n&&(ee=j.slice(0,2),Y=2,J>2&&w(j.charCodeAt(2))&&(fe=!0,Y=3));let Ne=Y<J?O(j.slice(Y),!fe,"\\",w):"";return Ne.length===0&&!fe&&(Ne="."),Ne.length>0&&w(j.charCodeAt(J-1))&&(Ne+="\\"),ee===void 0?fe?`\\${Ne}`:Ne:fe?`${ee}\\${Ne}`:`${ee}${Ne}`},isAbsolute(j){u(j,"path");const J=j.length;if(J===0)return!1;const Y=j.charCodeAt(0);return w(Y)||J>2&&N(Y)&&j.charCodeAt(1)===n&&w(j.charCodeAt(2))},join(...j){if(j.length===0)return".";let J,Y;for(let De=0;De<j.length;++De){const Ne=j[De];u(Ne,"path"),Ne.length>0&&(J===void 0?J=Y=Ne:J+=`\\${Ne}`)}if(J===void 0)return".";let ee=!0,fe=0;if(typeof Y=="string"&&w(Y.charCodeAt(0))){++fe;const De=Y.length;De>1&&w(Y.charCodeAt(1))&&(++fe,De>2&&(w(Y.charCodeAt(2))?++fe:ee=!1))}if(ee){for(;fe<J.length&&w(J.charCodeAt(fe));)fe++;fe>=2&&(J=`\\${J.slice(fe)}`)}return T.normalize(J)},relative(j,J){if(u(j,"from"),u(J,"to"),j===J)return"";const Y=T.resolve(j),ee=T.resolve(J);if(Y===ee||(j=Y.toLowerCase(),J=ee.toLowerCase(),j===J))return"";let fe=0;for(;fe<j.length&&j.charCodeAt(fe)===g;)fe++;let De=j.length;for(;De-1>fe&&j.charCodeAt(De-1)===g;)De--;const Ne=De-fe;let be=0;for(;be<J.length&&J.charCodeAt(be)===g;)be++;let xe=J.length;for(;xe-1>be&&J.charCodeAt(xe-1)===g;)xe--;const Le=xe-be,ue=Ne<Le?Ne:Le;let re=-1,_e=0;for(;_e<ue;_e++){const Qe=j.charCodeAt(fe+_e);if(Qe!==J.charCodeAt(be+_e))break;Qe===g&&(re=_e)}if(_e!==ue){if(re===-1)return ee}else{if(Le>ue){if(J.charCodeAt(be+_e)===g)return ee.slice(be+_e+1);if(_e===2)return ee.slice(be+_e)}Ne>ue&&(j.charCodeAt(fe+_e)===g?re=_e:_e===2&&(re=3)),re===-1&&(re=0)}let Ue="";for(_e=fe+re+1;_e<=De;++_e)(_e===De||j.charCodeAt(_e)===g)&&(Ue+=Ue.length===0?"..":"\\..");return be+=re,Ue.length>0?`${Ue}${ee.slice(be,xe)}`:(ee.charCodeAt(be)===g&&++be,ee.slice(be,xe))},toNamespacedPath(j){if(typeof j!="string"||j.length===0)return j;const J=T.resolve(j);if(J.length<=2)return j;if(J.charCodeAt(0)===g){if(J.charCodeAt(1)===g){const Y=J.charCodeAt(2);if(Y!==a&&Y!==l)return`\\\\?\\UNC\\${J.slice(2)}`}}else if(N(J.charCodeAt(0))&&J.charCodeAt(1)===n&&J.charCodeAt(2)===g)return`\\\\?\\${J}`;return j},dirname(j){u(j,"path");const J=j.length;if(J===0)return".";let Y=-1,ee=0;const fe=j.charCodeAt(0);if(J===1)return w(fe)?j:".";if(w(fe)){if(Y=ee=1,w(j.charCodeAt(1))){let be=2,xe=be;for(;be<J&&!w(j.charCodeAt(be));)be++;if(be<J&&be!==xe){for(xe=be;be<J&&w(j.charCodeAt(be));)be++;if(be<J&&be!==xe){for(xe=be;be<J&&!w(j.charCodeAt(be));)be++;if(be===J)return j;be!==xe&&(Y=ee=be+1)}}}}else N(fe)&&j.charCodeAt(1)===n&&(Y=J>2&&w(j.charCodeAt(2))?3:2,ee=Y);let De=-1,Ne=!0;for(let be=J-1;be>=ee;--be)if(w(j.charCodeAt(be))){if(!Ne){De=be;break}}else Ne=!1;if(De===-1){if(Y===-1)return".";De=Y}return j.slice(0,De)},basename(j,J){J!==void 0&&u(J,"ext"),u(j,"path");let Y=0,ee=-1,fe=!0,De;if(j.length>=2&&N(j.charCodeAt(0))&&j.charCodeAt(1)===n&&(Y=2),J!==void 0&&J.length>0&&J.length<=j.length){if(J===j)return"";let Ne=J.length-1,be=-1;for(De=j.length-1;De>=Y;--De){const xe=j.charCodeAt(De);if(w(xe)){if(!fe){Y=De+1;break}}else be===-1&&(fe=!1,be=De+1),Ne>=0&&(xe===J.charCodeAt(Ne)?--Ne===-1&&(ee=De):(Ne=-1,ee=be))}return Y===ee?ee=be:ee===-1&&(ee=j.length),j.slice(Y,ee)}for(De=j.length-1;De>=Y;--De)if(w(j.charCodeAt(De))){if(!fe){Y=De+1;break}}else ee===-1&&(fe=!1,ee=De+1);return ee===-1?"":j.slice(Y,ee)},extname(j){u(j,"path");let J=0,Y=-1,ee=0,fe=-1,De=!0,Ne=0;j.length>=2&&j.charCodeAt(1)===n&&N(j.charCodeAt(0))&&(J=ee=2);for(let be=j.length-1;be>=J;--be){const xe=j.charCodeAt(be);if(w(xe)){if(!De){ee=be+1;break}continue}fe===-1&&(De=!1,fe=be+1),xe===l?Y===-1?Y=be:Ne!==1&&(Ne=1):Y!==-1&&(Ne=-1)}return Y===-1||fe===-1||Ne===0||Ne===1&&Y===fe-1&&Y===ee+1?"":j.slice(Y,fe)},format:x.bind(null,"\\"),parse(j){u(j,"path");const J={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return J;const Y=j.length;let ee=0,fe=j.charCodeAt(0);if(Y===1)return w(fe)?(J.root=J.dir=j,J):(J.base=J.name=j,J);if(w(fe)){if(ee=1,w(j.charCodeAt(1))){let re=2,_e=re;for(;re<Y&&!w(j.charCodeAt(re));)re++;if(re<Y&&re!==_e){for(_e=re;re<Y&&w(j.charCodeAt(re));)re++;if(re<Y&&re!==_e){for(_e=re;re<Y&&!w(j.charCodeAt(re));)re++;re===Y?ee=re:re!==_e&&(ee=re+1)}}}}else if(N(fe)&&j.charCodeAt(1)===n){if(Y<=2)return J.root=J.dir=j,J;if(ee=2,w(j.charCodeAt(2))){if(Y===3)return J.root=J.dir=j,J;ee=3}}ee>0&&(J.root=j.slice(0,ee));let De=-1,Ne=ee,be=-1,xe=!0,Le=j.length-1,ue=0;for(;Le>=ee;--Le){if(fe=j.charCodeAt(Le),w(fe)){if(!xe){Ne=Le+1;break}continue}be===-1&&(xe=!1,be=Le+1),fe===l?De===-1?De=Le:ue!==1&&(ue=1):De!==-1&&(ue=-1)}return be!==-1&&(De===-1||ue===0||ue===1&&De===be-1&&De===Ne+1?J.base=J.name=j.slice(Ne,be):(J.name=j.slice(Ne,De),J.base=j.slice(Ne,be),J.ext=j.slice(De,be))),Ne>0&&Ne!==ee?J.dir=j.slice(0,Ne-1):J.dir=J.root,J},sep:"\\",delimiter:";",win32:null,posix:null},W=(()=>{if(S){const j=/\\/g;return()=>{const J=_().replace(j,"/");return J.slice(J.indexOf("/"))}}return()=>_()})(),U={resolve(...j){let J="",Y=!1;for(let ee=j.length-1;ee>=-1&&!Y;ee--){const fe=ee>=0?j[ee]:W();u(fe,"path"),fe.length!==0&&(J=`${fe}/${J}`,Y=fe.charCodeAt(0)===d)}return J=O(J,!Y,"/",L),Y?`/${J}`:J.length>0?J:"."},normalize(j){if(u(j,"path"),j.length===0)return".";const J=j.charCodeAt(0)===d,Y=j.charCodeAt(j.length-1)===d;return j=O(j,!J,"/",L),j.length===0?J?"/":Y?"./":".":(Y&&(j+="/"),J?`/${j}`:j)},isAbsolute(j){return u(j,"path"),j.length>0&&j.charCodeAt(0)===d},join(...j){if(j.length===0)return".";let J;for(let Y=0;Y<j.length;++Y){const ee=j[Y];u(ee,"path"),ee.length>0&&(J===void 0?J=ee:J+=`/${ee}`)}return J===void 0?".":U.normalize(J)},relative(j,J){if(u(j,"from"),u(J,"to"),j===J||(j=U.resolve(j),J=U.resolve(J),j===J))return"";const Y=1,ee=j.length,fe=ee-Y,De=1,Ne=J.length-De,be=fe<Ne?fe:Ne;let xe=-1,Le=0;for(;Le<be;Le++){const re=j.charCodeAt(Y+Le);if(re!==J.charCodeAt(De+Le))break;re===d&&(xe=Le)}if(Le===be)if(Ne>be){if(J.charCodeAt(De+Le)===d)return J.slice(De+Le+1);if(Le===0)return J.slice(De+Le)}else fe>be&&(j.charCodeAt(Y+Le)===d?xe=Le:Le===0&&(xe=0));let ue="";for(Le=Y+xe+1;Le<=ee;++Le)(Le===ee||j.charCodeAt(Le)===d)&&(ue+=ue.length===0?"..":"/..");return`${ue}${J.slice(De+xe)}`},toNamespacedPath(j){return j},dirname(j){if(u(j,"path"),j.length===0)return".";const J=j.charCodeAt(0)===d;let Y=-1,ee=!0;for(let fe=j.length-1;fe>=1;--fe)if(j.charCodeAt(fe)===d){if(!ee){Y=fe;break}}else ee=!1;return Y===-1?J?"/":".":J&&Y===1?"//":j.slice(0,Y)},basename(j,J){J!==void 0&&u(J,"ext"),u(j,"path");let Y=0,ee=-1,fe=!0,De;if(J!==void 0&&J.length>0&&J.length<=j.length){if(J===j)return"";let Ne=J.length-1,be=-1;for(De=j.length-1;De>=0;--De){const xe=j.charCodeAt(De);if(xe===d){if(!fe){Y=De+1;break}}else be===-1&&(fe=!1,be=De+1),Ne>=0&&(xe===J.charCodeAt(Ne)?--Ne===-1&&(ee=De):(Ne=-1,ee=be))}return Y===ee?ee=be:ee===-1&&(ee=j.length),j.slice(Y,ee)}for(De=j.length-1;De>=0;--De)if(j.charCodeAt(De)===d){if(!fe){Y=De+1;break}}else ee===-1&&(fe=!1,ee=De+1);return ee===-1?"":j.slice(Y,ee)},extname(j){u(j,"path");let J=-1,Y=0,ee=-1,fe=!0,De=0;for(let Ne=j.length-1;Ne>=0;--Ne){const be=j.charCodeAt(Ne);if(be===d){if(!fe){Y=Ne+1;break}continue}ee===-1&&(fe=!1,ee=Ne+1),be===l?J===-1?J=Ne:De!==1&&(De=1):J!==-1&&(De=-1)}return J===-1||ee===-1||De===0||De===1&&J===ee-1&&J===Y+1?"":j.slice(J,ee)},format:x.bind(null,"/"),parse(j){u(j,"path");const J={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return J;const Y=j.charCodeAt(0)===d;let ee;Y?(J.root="/",ee=1):ee=0;let fe=-1,De=0,Ne=-1,be=!0,xe=j.length-1,Le=0;for(;xe>=ee;--xe){const ue=j.charCodeAt(xe);if(ue===d){if(!be){De=xe+1;break}continue}Ne===-1&&(be=!1,Ne=xe+1),ue===l?fe===-1?fe=xe:Le!==1&&(Le=1):fe!==-1&&(Le=-1)}if(Ne!==-1){const ue=De===0&&Y?1:De;fe===-1||Le===0||Le===1&&fe===Ne-1&&fe===De+1?J.base=J.name=j.slice(ue,Ne):(J.name=j.slice(ue,fe),J.base=j.slice(ue,Ne),J.ext=j.slice(fe,Ne))}return De>0?J.dir=j.slice(0,De-1):Y&&(J.dir="/"),J},sep:"/",delimiter:":",win32:null,posix:null};U.win32=T.win32=T,U.posix=T.posix=U;const K=S?T.normalize:U.normalize,G=S?T.resolve:U.resolve,z=S?T.relative:U.relative,k=S?T.dirname:U.dirname,q=S?T.basename:U.basename,te=S?T.extname:U.extname,X=S?T.sep:U.sep},11138:function(Ot,He,i){"use strict";i.d(He,{$L:function(){return G},ED:function(){return T},G6:function(){return xe},IJ:function(){return U},OS:function(){return Y},dK:function(){return X},dz:function(){return W},fn:function(){return J},gn:function(){return k},i7:function(){return Ne},li:function(){return w},n2:function(){return z},r:function(){return De},tY:function(){return K},tq:function(){return q},un:function(){return Le},vU:function(){return be}});var m=i(26386),B=i(34406),f;const _="en";let v=!1,A=!1,M=!1,E=!1,R=!1,p=!1,l=!1,d=!1,g=!1,n=!1,a,C=_,D=null,u=null,S;const w=typeof self=="object"?self:typeof i.g=="object"?i.g:{};let L;typeof w.vscode!="undefined"&&typeof w.vscode.process!="undefined"?L=w.vscode.process:typeof B!="undefined"&&(L=B);const N=typeof((f=L==null?void 0:L.versions)===null||f===void 0?void 0:f.electron)=="string",O=N&&(L==null?void 0:L.type)==="renderer";if(typeof navigator=="object"&&!O)S=navigator.userAgent,v=S.indexOf("Windows")>=0,A=S.indexOf("Macintosh")>=0,d=(S.indexOf("Macintosh")>=0||S.indexOf("iPad")>=0||S.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,M=S.indexOf("Linux")>=0,n=(S==null?void 0:S.indexOf("Mobi"))>=0,p=!0,a=m.aj(m.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||_,C=a,D=navigator.language;else if(typeof L=="object"){v=L.platform==="win32",A=L.platform==="darwin",M=L.platform==="linux",E=M&&!!L.env.SNAP&&!!L.env.SNAP_REVISION,l=N,g=!!L.env.CI||!!L.env.BUILD_ARTIFACTSTAGINGDIRECTORY,a=_,C=_;const re=L.env.VSCODE_NLS_CONFIG;if(re)try{const _e=JSON.parse(re),Ue=_e.availableLanguages["*"];a=_e.locale,D=_e.osLocale,C=Ue||_,u=_e._translationsConfigFile}catch(_e){}R=!0}else console.error("Unable to resolve platform.");let x=0;A?x=1:v?x=3:M&&(x=2);const T=v,W=A,U=M,K=R,G=p,z=p&&typeof w.importScripts=="function",k=d,q=n,te=S,X=C,j=typeof w.postMessage=="function"&&!w.importScripts,J=(()=>{if(j){const re=[];w.addEventListener("message",Ue=>{if(Ue.data&&Ue.data.vscodeScheduleAsyncWork)for(let Qe=0,Re=re.length;Qe<Re;Qe++){const ie=re[Qe];if(ie.id===Ue.data.vscodeScheduleAsyncWork){re.splice(Qe,1),ie.callback();return}}});let _e=0;return Ue=>{const Qe=++_e;re.push({id:Qe,callback:Ue}),w.postMessage({vscodeScheduleAsyncWork:Qe},"*")}}return re=>setTimeout(re)})(),Y=A||d?2:v?1:3;let ee=!0,fe=!1;function De(){if(!fe){fe=!0;const re=new Uint8Array(2);re[0]=1,re[1]=2,ee=new Uint16Array(re.buffer)[0]===(2<<8)+1}return ee}const Ne=!!(te&&te.indexOf("Chrome")>=0),be=!!(te&&te.indexOf("Firefox")>=0),xe=!!(!Ne&&te&&te.indexOf("Safari")>=0),Le=!!(te&&te.indexOf("Edg/")>=0),ue=!!(te&&te.indexOf("Android")>=0)},59004:function(Ot,He,i){"use strict";i.d(He,{e:function(){return m}});var m;(function(B){function f(M,E){if(M.start>=E.end||E.start>=M.end)return{start:0,end:0};const R=Math.max(M.start,E.start),p=Math.min(M.end,E.end);return p-R<=0?{start:0,end:0}:{start:R,end:p}}B.intersect=f;function _(M){return M.end-M.start<=0}B.isEmpty=_;function v(M,E){return!_(f(M,E))}B.intersects=v;function A(M,E){const R=[],p={start:M.start,end:Math.min(E.start,M.end)},l={start:Math.max(E.end,M.start),end:M.end};return _(p)||R.push(p),_(l)||R.push(l),R}B.relativeComplement=A})(m||(m={}))},6227:function(Ot,He,i){"use strict";i.d(He,{AH:function(){return w},DZ:function(){return D},EZ:function(){return C},Hx:function(){return a},SF:function(){return R},Vb:function(){return K},Vo:function(){return S},XX:function(){return u},Xy:function(){return d},i3:function(){return N},lX:function(){return L},z_:function(){return M}});var m=i(7128),B=i(5007),f=i(75296),_=i(11138),v=i(17416),A=i(28919);function M(G){return(0,A.q)(G,!0)}class E{constructor(z){this._ignorePathCasing=z}compare(z,k,q=!1){return z===k?0:(0,v.qu)(this.getComparisonKey(z,q),this.getComparisonKey(k,q))}isEqual(z,k,q=!1){return z===k?!0:!z||!k?!1:this.getComparisonKey(z,q)===this.getComparisonKey(k,q)}getComparisonKey(z,k=!1){return z.with({path:this._ignorePathCasing(z)?z.path.toLowerCase():void 0,fragment:k?null:void 0}).toString()}isEqualOrParent(z,k,q=!1){if(z.scheme===k.scheme){if(z.scheme===B.lg.file)return m.KM(M(z),M(k),this._ignorePathCasing(z))&&z.query===k.query&&(q||z.fragment===k.fragment);if(x(z.authority,k.authority))return m.KM(z.path,k.path,this._ignorePathCasing(z),"/")&&z.query===k.query&&(q||z.fragment===k.fragment)}return!1}joinPath(z,...k){return A.o.joinPath(z,...k)}basenameOrAuthority(z){return C(z)||z.authority}basename(z){return f.KR.basename(z.path)}extname(z){return f.KR.extname(z.path)}dirname(z){if(z.path.length===0)return z;let k;return z.scheme===B.lg.file?k=A.o.file(f.XX(M(z))).path:(k=f.KR.dirname(z.path),z.authority&&k.length&&k.charCodeAt(0)!==47&&(console.error(`dirname("${z.toString})) resulted in a relative path`),k="/")),z.with({path:k})}normalizePath(z){if(!z.path.length)return z;let k;return z.scheme===B.lg.file?k=A.o.file(f.Fv(M(z))).path:k=f.KR.normalize(z.path),z.with({path:k})}relativePath(z,k){if(z.scheme!==k.scheme||!x(z.authority,k.authority))return;if(z.scheme===B.lg.file){const X=f.Gf(M(z),M(k));return _.ED?m.ej(X):X}let q=z.path||"/";const te=k.path||"/";if(this._ignorePathCasing(z)){let X=0;for(const j=Math.min(q.length,te.length);X<j&&!(q.charCodeAt(X)!==te.charCodeAt(X)&&q.charAt(X).toLowerCase()!==te.charAt(X).toLowerCase());X++);q=te.substr(0,X)+q.substr(X)}return f.KR.relative(q,te)}resolvePath(z,k){if(z.scheme===B.lg.file){const q=A.o.file(f.DB(M(z),k));return z.with({authority:q.authority,path:q.path})}return k=m.fn(k),z.with({path:f.KR.resolve(z.path,k)})}isAbsolutePath(z){return!!z.path&&z.path[0]==="/"}isEqualAuthority(z,k){return z===k||z!==void 0&&k!==void 0&&(0,v.qq)(z,k)}hasTrailingPathSeparator(z,k=f.ir){if(z.scheme===B.lg.file){const q=M(z);return q.length>m.yj(q).length&&q[q.length-1]===k}else{const q=z.path;return q.length>1&&q.charCodeAt(q.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(z.fsPath)}}removeTrailingPathSeparator(z,k=f.ir){return T(z,k)?z.with({path:z.path.substr(0,z.path.length-1)}):z}addTrailingPathSeparator(z,k=f.ir){let q=!1;if(z.scheme===B.lg.file){const te=M(z);q=te!==void 0&&te.length===m.yj(te).length&&te[te.length-1]===k}else{k="/";const te=z.path;q=te.length===1&&te.charCodeAt(te.length-1)===47}return!q&&!T(z,k)?z.with({path:z.path+"/"}):z}}const R=new E(()=>!1),p=new E(G=>G.scheme===B.lg.file?!_.IJ:!0),l=new E(G=>!0),d=R.isEqual.bind(R),g=R.isEqualOrParent.bind(R),n=R.getComparisonKey.bind(R),a=R.basenameOrAuthority.bind(R),C=R.basename.bind(R),D=R.extname.bind(R),u=R.dirname.bind(R),S=R.joinPath.bind(R),w=R.normalizePath.bind(R),L=R.relativePath.bind(R),N=R.resolvePath.bind(R),O=R.isAbsolutePath.bind(R),x=R.isEqualAuthority.bind(R),T=R.hasTrailingPathSeparator.bind(R),W=R.removeTrailingPathSeparator.bind(R),U=R.addTrailingPathSeparator.bind(R);var K;(function(G){G.META_DATA_LABEL="label",G.META_DATA_DESCRIPTION="description",G.META_DATA_SIZE="size",G.META_DATA_MIME="mime";function z(k){const q=new Map;k.path.substring(k.path.indexOf(";")+1,k.path.lastIndexOf(";")).split(";").forEach(j=>{const[J,Y]=j.split(":");J&&Y&&q.set(J,Y)});const X=k.path.substring(0,k.path.indexOf(";"));return X&&q.set(G.META_DATA_MIME,X),q}G.parseMetaData=z})(K||(K={}))},44929:function(Ot,He,i){"use strict";i.d(He,{Rm:function(){return _}});var m=i(56709),B=i(38431);class f{constructor(d,g,n,a,C,D,u){this._forceIntegerValues=d,this._scrollStateBrand=void 0,this._forceIntegerValues&&(g=g|0,n=n|0,a=a|0,C=C|0,D=D|0,u=u|0),this.rawScrollLeft=a,this.rawScrollTop=u,g<0&&(g=0),a+g>n&&(a=n-g),a<0&&(a=0),C<0&&(C=0),u+C>D&&(u=D-C),u<0&&(u=0),this.width=g,this.scrollWidth=n,this.scrollLeft=a,this.height=C,this.scrollHeight=D,this.scrollTop=u}equals(d){return this.rawScrollLeft===d.rawScrollLeft&&this.rawScrollTop===d.rawScrollTop&&this.width===d.width&&this.scrollWidth===d.scrollWidth&&this.scrollLeft===d.scrollLeft&&this.height===d.height&&this.scrollHeight===d.scrollHeight&&this.scrollTop===d.scrollTop}withScrollDimensions(d,g){return new f(this._forceIntegerValues,typeof d.width!="undefined"?d.width:this.width,typeof d.scrollWidth!="undefined"?d.scrollWidth:this.scrollWidth,g?this.rawScrollLeft:this.scrollLeft,typeof d.height!="undefined"?d.height:this.height,typeof d.scrollHeight!="undefined"?d.scrollHeight:this.scrollHeight,g?this.rawScrollTop:this.scrollTop)}withScrollPosition(d){return new f(this._forceIntegerValues,this.width,this.scrollWidth,typeof d.scrollLeft!="undefined"?d.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof d.scrollTop!="undefined"?d.scrollTop:this.rawScrollTop)}createScrollEvent(d,g){const n=this.width!==d.width,a=this.scrollWidth!==d.scrollWidth,C=this.scrollLeft!==d.scrollLeft,D=this.height!==d.height,u=this.scrollHeight!==d.scrollHeight,S=this.scrollTop!==d.scrollTop;return{inSmoothScrolling:g,oldWidth:d.width,oldScrollWidth:d.scrollWidth,oldScrollLeft:d.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:d.height,oldScrollHeight:d.scrollHeight,oldScrollTop:d.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:a,scrollLeftChanged:C,heightChanged:D,scrollHeightChanged:u,scrollTopChanged:S}}}class _ extends B.JT{constructor(d){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new m.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=d.smoothScrollDuration,this._scheduleAtNextAnimationFrame=d.scheduleAtNextAnimationFrame,this._state=new f(d.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(d){this._smoothScrollDuration=d}validateScrollPosition(d){return this._state.withScrollPosition(d)}getScrollDimensions(){return this._state}setScrollDimensions(d,g){var n;const a=this._state.withScrollDimensions(d,g);this._setState(a,Boolean(this._smoothScrolling)),(n=this._smoothScrolling)===null||n===void 0||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(d){const g=this._state.withScrollPosition(d);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(g,!1)}setScrollPositionSmooth(d,g){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(d);if(this._smoothScrolling){d={scrollLeft:typeof d.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:d.scrollLeft,scrollTop:typeof d.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:d.scrollTop};const n=this._state.withScrollPosition(d);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let a;g?a=new E(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):a=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=a}else{const n=this._state.withScrollPosition(d);this._smoothScrolling=E.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const d=this._smoothScrolling.tick(),g=this._state.withScrollPosition(d);if(this._setState(g,!0),!!this._smoothScrolling){if(d.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(d,g){const n=this._state;n.equals(d)||(this._state=d,this._onScroll.fire(this._state.createScrollEvent(n,g)))}}class v{constructor(d,g,n){this.scrollLeft=d,this.scrollTop=g,this.isDone=n}}function A(l,d){const g=d-l;return function(n){return l+g*p(n)}}function M(l,d,g){return function(n){return n<g?l(n/g):d((n-g)/(1-g))}}class E{constructor(d,g,n,a){this.from=d,this.to=g,this.duration=a,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(d,g,n){if(Math.abs(d-g)>2.5*n){let C,D;return d<g?(C=d+.75*n,D=g-.75*n):(C=d-.75*n,D=g+.75*n),M(A(d,C),A(D,g),.33)}return A(d,g)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(d){this.to=d.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(d){const g=(d-this.startTime)/this.duration;if(g<1){const n=this.scrollLeft(g),a=this.scrollTop(g);return new v(n,a,!1)}return new v(this.to.scrollLeft,this.to.scrollTop,!0)}combine(d,g,n){return E.start(d,g,n)}static start(d,g,n){n=n+10;const a=Date.now()-10;return new E(d,g,a,n)}}function R(l){return Math.pow(l,3)}function p(l){return 1-R(1-l)}},87068:function(Ot,He,i){"use strict";var m=i(17416),B;(function(f){f[f.Ignore=0]="Ignore",f[f.Info=1]="Info",f[f.Warning=2]="Warning",f[f.Error=3]="Error"})(B||(B={})),function(f){const _="error",v="warning",A="warn",M="info",E="ignore";function R(l){return l?m.qq(_,l)?f.Error:m.qq(v,l)||m.qq(A,l)?f.Warning:m.qq(M,l)?f.Info:f.Ignore:f.Ignore}f.fromValue=R;function p(l){switch(l){case f.Error:return _;case f.Warning:return v;case f.Info:return M;default:return E}}f.toString=p}(B||(B={})),He.Z=B},69344:function(Ot,He,i){"use strict";i.d(He,{G:function(){return f}});var m=i(11138);const B=m.li.performance&&typeof m.li.performance.now=="function";class f{static create(v=!0){return new f(v)}constructor(v){this._highResolution=B&&v,this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?m.li.performance.now():Date.now()}}},17416:function(Ot,He,i){"use strict";i.d(He,{$i:function(){return re},B4:function(){return je},C8:function(){return Re},GF:function(){return n},HO:function(){return De},IO:function(){return a},J_:function(){return Ne},K7:function(){return Qe},Kw:function(){return se},LC:function(){return u},Mh:function(){return z},P1:function(){return k},PJ:function(){return ve},Qe:function(){return _e},R1:function(){return g},T5:function(){return T},TT:function(){return N},Ut:function(){return Le},V8:function(){return S},W1:function(){return ee},WU:function(){return A},YK:function(){return te},YU:function(){return M},ZG:function(){return q},ZH:function(){return j},ZK:function(){return Te},ab:function(){return Ue},c1:function(){return ie},df:function(){return U},ec:function(){return E},fy:function(){return R},j3:function(){return p},j_:function(){return x},m5:function(){return _},mK:function(){return W},mr:function(){return C},oH:function(){return We},oL:function(){return l},ok:function(){return G},ow:function(){return w},qq:function(){return K},qu:function(){return L},rL:function(){return X},uS:function(){return Z},un:function(){return d},uq:function(){return D},vH:function(){return fe},vU:function(){return Ie},zY:function(){return O}});var m=i(88280),B=i(51280),f;function _(oe){return!oe||typeof oe!="string"?!0:oe.trim().length===0}const v=/{(\d+)}/g;function A(oe,...ge){return ge.length===0?oe:oe.replace(v,function(Ce,me){const Me=parseInt(me,10);return isNaN(Me)||Me<0||Me>=ge.length?Ce:ge[Me]})}function M(oe){return oe.replace(/[<>&]/g,function(ge){switch(ge){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ge}})}function E(oe){return oe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function R(oe,ge=" "){const Ce=p(oe,ge);return l(Ce,ge)}function p(oe,ge){if(!oe||!ge)return oe;const Ce=ge.length;if(Ce===0||oe.length===0)return oe;let me=0;for(;oe.indexOf(ge,me)===me;)me=me+Ce;return oe.substring(me)}function l(oe,ge){if(!oe||!ge)return oe;const Ce=ge.length,me=oe.length;if(Ce===0||me===0)return oe;let Me=me,qe=-1;for(;qe=oe.lastIndexOf(ge,Me-1),!(qe===-1||qe+Ce!==Me);){if(qe===0)return"";Me=qe}return oe.substring(0,Me)}function d(oe){return oe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function g(oe){return oe.replace(/\*/g,"")}function n(oe,ge,Ce={}){if(!oe)throw new Error("Cannot create regex from empty string");ge||(oe=E(oe)),Ce.wholeWord&&(/\B/.test(oe.charAt(0))||(oe="\\b"+oe),/\B/.test(oe.charAt(oe.length-1))||(oe=oe+"\\b"));let me="";return Ce.global&&(me+="g"),Ce.matchCase||(me+="i"),Ce.multiline&&(me+="m"),Ce.unicode&&(me+="u"),new RegExp(oe,me)}function a(oe){return oe.source==="^"||oe.source==="^$"||oe.source==="$"||oe.source==="^\\s*$"?!1:!!(oe.exec("")&&oe.lastIndex===0)}function C(oe){return(oe.global?"g":"")+(oe.ignoreCase?"i":"")+(oe.multiline?"m":"")+(oe.unicode?"u":"")}function D(oe){return oe.split(/\r\n|\r|\n/)}function u(oe){for(let ge=0,Ce=oe.length;ge<Ce;ge++){const me=oe.charCodeAt(ge);if(me!==32&&me!==9)return ge}return-1}function S(oe,ge=0,Ce=oe.length){for(let me=ge;me<Ce;me++){const Me=oe.charCodeAt(me);if(Me!==32&&Me!==9)return oe.substring(ge,me)}return oe.substring(ge,Ce)}function w(oe,ge=oe.length-1){for(let Ce=ge;Ce>=0;Ce--){const me=oe.charCodeAt(Ce);if(me!==32&&me!==9)return Ce}return-1}function L(oe,ge){return oe<ge?-1:oe>ge?1:0}function N(oe,ge,Ce=0,me=oe.length,Me=0,qe=ge.length){for(;Ce<me&&Me<qe;Ce++,Me++){const ht=oe.charCodeAt(Ce),Ct=ge.charCodeAt(Me);if(ht<Ct)return-1;if(ht>Ct)return 1}const ot=me-Ce,ut=qe-Me;return ot<ut?-1:ot>ut?1:0}function O(oe,ge){return x(oe,ge,0,oe.length,0,ge.length)}function x(oe,ge,Ce=0,me=oe.length,Me=0,qe=ge.length){for(;Ce<me&&Me<qe;Ce++,Me++){let ht=oe.charCodeAt(Ce),Ct=ge.charCodeAt(Me);if(ht===Ct)continue;if(ht>=128||Ct>=128)return N(oe.toLowerCase(),ge.toLowerCase(),Ce,me,Me,qe);W(ht)&&(ht-=32),W(Ct)&&(Ct-=32);const Pt=ht-Ct;if(Pt!==0)return Pt}const ot=me-Ce,ut=qe-Me;return ot<ut?-1:ot>ut?1:0}function T(oe){return oe>=48&&oe<=57}function W(oe){return oe>=97&&oe<=122}function U(oe){return oe>=65&&oe<=90}function K(oe,ge){return oe.length===ge.length&&x(oe,ge)===0}function G(oe,ge){const Ce=ge.length;return ge.length>oe.length?!1:x(oe,ge,0,Ce)===0}function z(oe,ge){const Ce=Math.min(oe.length,ge.length);let me;for(me=0;me<Ce;me++)if(oe.charCodeAt(me)!==ge.charCodeAt(me))return me;return Ce}function k(oe,ge){const Ce=Math.min(oe.length,ge.length);let me;const Me=oe.length-1,qe=ge.length-1;for(me=0;me<Ce;me++)if(oe.charCodeAt(Me-me)!==ge.charCodeAt(qe-me))return me;return Ce}function q(oe){return 55296<=oe&&oe<=56319}function te(oe){return 56320<=oe&&oe<=57343}function X(oe,ge){return(oe-55296<<10)+(ge-56320)+65536}function j(oe,ge,Ce){const me=oe.charCodeAt(Ce);if(q(me)&&Ce+1<ge){const Me=oe.charCodeAt(Ce+1);if(te(Me))return X(me,Me)}return me}function J(oe,ge){const Ce=oe.charCodeAt(ge-1);if(te(Ce)&&ge>1){const me=oe.charCodeAt(ge-2);if(q(me))return X(me,Ce)}return Ce}class Y{get offset(){return this._offset}constructor(ge,Ce=0){this._str=ge,this._len=ge.length,this._offset=Ce}setOffset(ge){this._offset=ge}prevCodePoint(){const ge=J(this._str,this._offset);return this._offset-=ge>=65536?2:1,ge}nextCodePoint(){const ge=j(this._str,this._len,this._offset);return this._offset+=ge>=65536?2:1,ge}eol(){return this._offset>=this._len}}class ee{get offset(){return this._iterator.offset}constructor(ge,Ce=0){this._iterator=new Y(ge,Ce)}nextGraphemeLength(){const ge=ce.getInstance(),Ce=this._iterator,me=Ce.offset;let Me=ge.getGraphemeBreakType(Ce.nextCodePoint());for(;!Ce.eol();){const qe=Ce.offset,ot=ge.getGraphemeBreakType(Ce.nextCodePoint());if(he(Me,ot)){Ce.setOffset(qe);break}Me=ot}return Ce.offset-me}prevGraphemeLength(){const ge=ce.getInstance(),Ce=this._iterator,me=Ce.offset;let Me=ge.getGraphemeBreakType(Ce.prevCodePoint());for(;Ce.offset>0;){const qe=Ce.offset,ot=ge.getGraphemeBreakType(Ce.prevCodePoint());if(he(ot,Me)){Ce.setOffset(qe);break}Me=ot}return me-Ce.offset}eol(){return this._iterator.eol()}}function fe(oe,ge){return new ee(oe,ge).nextGraphemeLength()}function De(oe,ge){return new ee(oe,ge).prevGraphemeLength()}function Ne(oe,ge){ge>0&&te(oe.charCodeAt(ge))&&ge--;const Ce=ge+fe(oe,ge);return[Ce-De(oe,Ce),Ce]}let be;function xe(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Le(oe){return be||(be=xe()),be.test(oe)}const ue=/^[\t\n\r\x20-\x7E]*$/;function re(oe){return ue.test(oe)}const _e=/[\u2028\u2029]/;function Ue(oe){return _e.test(oe)}function Qe(oe){return oe>=11904&&oe<=55215||oe>=63744&&oe<=64255||oe>=65281&&oe<=65374}function Re(oe){return oe>=127462&&oe<=127487||oe===8986||oe===8987||oe===9200||oe===9203||oe>=9728&&oe<=10175||oe===11088||oe===11093||oe>=127744&&oe<=128591||oe>=128640&&oe<=128764||oe>=128992&&oe<=129008||oe>=129280&&oe<=129535||oe>=129648&&oe<=129782}const ie=String.fromCharCode(65279);function Z(oe){return!!(oe&&oe.length>0&&oe.charCodeAt(0)===65279)}function se(oe,ge=!1){return oe?(ge&&(oe=oe.replace(/\\./g,"")),oe.toLowerCase()!==oe):!1}function ve(oe){return oe=oe%(2*26),oe<26?String.fromCharCode(97+oe):String.fromCharCode(65+oe-26)}function he(oe,ge){return oe===0?ge!==5&&ge!==7:oe===2&&ge===3?!1:oe===4||oe===2||oe===3||ge===4||ge===2||ge===3?!0:!(oe===8&&(ge===8||ge===9||ge===11||ge===12)||(oe===11||oe===9)&&(ge===9||ge===10)||(oe===12||oe===10)&&ge===10||ge===5||ge===13||ge===7||oe===1||oe===13&&ge===14||oe===6&&ge===6)}class ce{static getInstance(){return ce._INSTANCE||(ce._INSTANCE=new ce),ce._INSTANCE}constructor(){this._data=Ee()}getGraphemeBreakType(ge){if(ge<32)return ge===10?3:ge===13?2:4;if(ge<127)return 0;const Ce=this._data,me=Ce.length/3;let Me=1;for(;Me<=me;)if(ge<Ce[3*Me])Me=2*Me;else if(ge>Ce[3*Me+1])Me=2*Me+1;else return Ce[3*Me+2];return 0}}ce._INSTANCE=null;function Ee(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function We(oe,ge){if(oe===0)return 0;const Ce=it(oe,ge);if(Ce!==void 0)return Ce;const me=new Y(ge,oe);return me.prevCodePoint(),me.offset}function it(oe,ge){const Ce=new Y(ge,oe);let me=Ce.prevCodePoint();for(;Ze(me)||me===65039||me===8419;){if(Ce.offset===0)return;me=Ce.prevCodePoint()}if(!Re(me))return;let Me=Ce.offset;return Me>0&&Ce.prevCodePoint()===8205&&(Me=Ce.offset),Me}function Ze(oe){return 127995<=oe&&oe<=127999}const je="\xA0";class Te{static getInstance(ge){return Te.cache.get(Array.from(ge))}static getLocales(){return Te._locales.value}constructor(ge){this.confusableDictionary=ge}isAmbiguous(ge){return this.confusableDictionary.has(ge)}getPrimaryConfusable(ge){return this.confusableDictionary.get(ge)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}f=Te,Te.ambiguousCharacterData=new B.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Te.cache=new m.t(oe=>{function ge(Ct){const Pt=new Map;for(let bt=0;bt<Ct.length;bt+=2)Pt.set(Ct[bt],Ct[bt+1]);return Pt}function Ce(Ct,Pt){const bt=new Map(Ct);for(const[$t,Mt]of Pt)bt.set($t,Mt);return bt}function me(Ct,Pt){if(!Ct)return Pt;const bt=new Map;for(const[$t,Mt]of Ct)Pt.has($t)&&bt.set($t,Mt);return bt}const Me=f.ambiguousCharacterData.value;let qe=oe.filter(Ct=>!Ct.startsWith("_")&&Ct in Me);qe.length===0&&(qe=["_default"]);let ot;for(const Ct of qe){const Pt=ge(Me[Ct]);ot=me(ot,Pt)}const ut=ge(Me._common),ht=Ce(ut,ot);return new Te(ht)}),Te._locales=new B.o(()=>Object.keys(Te.ambiguousCharacterData.value).filter(oe=>!oe.startsWith("_")));class Ie{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ie.getRawData())),this._data}static isInvisibleCharacter(ge){return Ie.getData().has(ge)}static get codePoints(){return Ie.getData()}}Ie._data=void 0},808:function(Ot,He,i){"use strict";i.d(He,{n:function(){return m}});const m=Symbol("MicrotaskDelay")},87057:function(Ot,He,i){"use strict";i.d(He,{Id:function(){return M}});var m=i(17416);class B{constructor(){this._value="",this._pos=0}reset(R){return this._value=R,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(R){const p=R.charCodeAt(0),l=this._value.charCodeAt(this._pos);return p-l}value(){return this._value[this._pos]}}class f{constructor(R=!0){this._caseSensitive=R}reset(R){return this._value=R,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let R=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(R)this._from++;else break;else R=!1;return this}cmp(R){return this._caseSensitive?(0,m.TT)(R,this._value,0,R.length,this._from,this._to):(0,m.j_)(R,this._value,0,R.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class _{constructor(R=!0,p=!0){this._splitOnBackslash=R,this._caseSensitive=p}reset(R){this._from=0,this._to=0,this._value=R,this._valueLen=R.length;for(let p=R.length-1;p>=0;p--,this._valueLen--){const l=this._value.charCodeAt(p);if(!(l===47||this._splitOnBackslash&&l===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let R=!0;for(;this._to<this._valueLen;this._to++){const p=this._value.charCodeAt(this._to);if(p===47||this._splitOnBackslash&&p===92)if(R)this._from++;else break;else R=!1}return this}cmp(R){return this._caseSensitive?(0,m.TT)(R,this._value,0,R.length,this._from,this._to):(0,m.j_)(R,this._value,0,R.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class v{constructor(R,p){this._ignorePathCasing=R,this._ignoreQueryAndFragment=p,this._states=[],this._stateIdx=0}reset(R){return this._value=R,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new _(!1,!this._ignorePathCasing(R)),this._pathIterator.reset(R.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(R)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(R){if(this._states[this._stateIdx]===1)return(0,m.zY)(R,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,m.zY)(R,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(R);if(this._states[this._stateIdx]===4)return(0,m.qu)(R,this._value.query);if(this._states[this._stateIdx]===5)return(0,m.qu)(R,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class A{constructor(){this.height=1}rotateLeft(){const R=this.right;return this.right=R.left,R.left=this,this.updateHeight(),R.updateHeight(),R}rotateRight(){const R=this.left;return this.left=R.right,R.right=this,this.updateHeight(),R.updateHeight(),R}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var R,p;return(p=(R=this.left)===null||R===void 0?void 0:R.height)!==null&&p!==void 0?p:0}get heightRight(){var R,p;return(p=(R=this.right)===null||R===void 0?void 0:R.height)!==null&&p!==void 0?p:0}}class M{static forUris(R=()=>!1,p=()=>!1){return new M(new v(R,p))}static forStrings(){return new M(new B)}static forConfigKeys(){return new M(new f)}constructor(R){this._iter=R}clear(){this._root=void 0}set(R,p){const l=this._iter.reset(R);let d;this._root||(this._root=new A,this._root.segment=l.value());const g=[];for(d=this._root;;){const a=l.cmp(d.segment);if(a>0)d.left||(d.left=new A,d.left.segment=l.value()),g.push([-1,d]),d=d.left;else if(a<0)d.right||(d.right=new A,d.right.segment=l.value()),g.push([1,d]),d=d.right;else if(l.hasNext())l.next(),d.mid||(d.mid=new A,d.mid.segment=l.value()),g.push([0,d]),d=d.mid;else break}const n=d.value;d.value=p,d.key=R;for(let a=g.length-1;a>=0;a--){const C=g[a][1];C.updateHeight();const D=C.balanceFactor();if(D<-1||D>1){const u=g[a][0],S=g[a+1][0];if(u===1&&S===1)g[a][1]=C.rotateLeft();else if(u===-1&&S===-1)g[a][1]=C.rotateRight();else if(u===1&&S===-1)C.right=g[a+1][1]=g[a+1][1].rotateRight(),g[a][1]=C.rotateLeft();else if(u===-1&&S===1)C.left=g[a+1][1]=g[a+1][1].rotateLeft(),g[a][1]=C.rotateRight();else throw new Error;if(a>0)switch(g[a-1][0]){case-1:g[a-1][1].left=g[a][1];break;case 1:g[a-1][1].right=g[a][1];break;case 0:g[a-1][1].mid=g[a][1];break}else this._root=g[0][1]}}return n}get(R){var p;return(p=this._getNode(R))===null||p===void 0?void 0:p.value}_getNode(R){const p=this._iter.reset(R);let l=this._root;for(;l;){const d=p.cmp(l.segment);if(d>0)l=l.left;else if(d<0)l=l.right;else if(p.hasNext())p.next(),l=l.mid;else break}return l}has(R){const p=this._getNode(R);return!((p==null?void 0:p.value)===void 0&&(p==null?void 0:p.mid)===void 0)}delete(R){return this._delete(R,!1)}deleteSuperstr(R){return this._delete(R,!0)}_delete(R,p){var l;const d=this._iter.reset(R),g=[];let n=this._root;for(;n;){const a=d.cmp(n.segment);if(a>0)g.push([-1,n]),n=n.left;else if(a<0)g.push([1,n]),n=n.right;else if(d.hasNext())d.next(),g.push([0,n]),n=n.mid;else break}if(n){if(p?(n.left=void 0,n.mid=void 0,n.right=void 0,n.height=1):(n.key=void 0,n.value=void 0),!n.mid&&!n.value)if(n.left&&n.right){const a=this._min(n.right);if(a.key){const{key:C,value:D,segment:u}=a;this._delete(a.key,!1),n.key=C,n.value=D,n.segment=u}}else{const a=(l=n.left)!==null&&l!==void 0?l:n.right;if(g.length>0){const[C,D]=g[g.length-1];switch(C){case-1:D.left=a;break;case 0:D.mid=a;break;case 1:D.right=a;break}}else this._root=a}for(let a=g.length-1;a>=0;a--){const C=g[a][1];C.updateHeight();const D=C.balanceFactor();if(D>1?(C.right.balanceFactor()>=0||(C.right=C.right.rotateRight()),g[a][1]=C.rotateLeft()):D<-1&&(C.left.balanceFactor()<=0||(C.left=C.left.rotateLeft()),g[a][1]=C.rotateRight()),a>0)switch(g[a-1][0]){case-1:g[a-1][1].left=g[a][1];break;case 1:g[a-1][1].right=g[a][1];break;case 0:g[a-1][1].mid=g[a][1];break}else this._root=g[0][1]}}}_min(R){for(;R.left;)R=R.left;return R}findSubstr(R){const p=this._iter.reset(R);let l=this._root,d;for(;l;){const g=p.cmp(l.segment);if(g>0)l=l.left;else if(g<0)l=l.right;else if(p.hasNext())p.next(),d=l.value||d,l=l.mid;else break}return l&&l.value||d}findSuperstr(R){return this._findSuperstrOrElement(R,!1)}_findSuperstrOrElement(R,p){const l=this._iter.reset(R);let d=this._root;for(;d;){const g=l.cmp(d.segment);if(g>0)d=d.left;else if(g<0)d=d.right;else if(l.hasNext())l.next(),d=d.mid;else return d.mid?this._entries(d.mid):p?d.value:void 0}}forEach(R){for(const[p,l]of this)R(l,p)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(R){const p=[];return this._dfsEntries(R,p),p[Symbol.iterator]()}_dfsEntries(R,p){R&&(R.left&&this._dfsEntries(R.left,p),R.value&&p.push([R.key,R.value]),R.mid&&this._dfsEntries(R.mid,p),R.right&&this._dfsEntries(R.right,p))}}},8216:function(Ot,He,i){"use strict";i.d(He,{k:function(){return f}});var m=i(407),B;(function(_){function v(A){return A&&typeof A=="object"&&typeof A.id=="string"}_.isThemeColor=v})(B||(B={}));var f;(function(_){_.iconNameSegment="[A-Za-z0-9]+",_.iconNameExpression="[A-Za-z0-9-]+",_.iconModifierExpression="~[A-Za-z]+",_.iconNameCharacter="[A-Za-z0-9~-]";const v=new RegExp(`^(${_.iconNameExpression})(${_.iconModifierExpression})?$`);function A(C){const D=v.exec(C.id);if(!D)return A(m.l.error);const[,u,S]=D,w=["codicon","codicon-"+u];return S&&w.push("codicon-modifier-"+S.substring(1)),w}_.asClassNameArray=A;function M(C){return A(C).join(" ")}_.asClassName=M;function E(C){return"."+A(C).join(".")}_.asCSSSelector=E;function R(C){return C&&typeof C=="object"&&typeof C.id=="string"&&(typeof C.color=="undefined"||B.isThemeColor(C.color))}_.isThemeIcon=R;const p=new RegExp(`^\\$\\((${_.iconNameExpression}(?:${_.iconModifierExpression})?)\\)$`);function l(C){const D=p.exec(C);if(!D)return;const[,u]=D;return{id:u}}_.fromString=l;function d(C){return{id:C}}_.fromId=d;function g(C,D){let u=C.id;const S=u.lastIndexOf("~");return S!==-1&&(u=u.substring(0,S)),D&&(u=`${u}~${D}`),{id:u}}_.modify=g;function n(C){const D=C.id.lastIndexOf("~");if(D!==-1)return C.id.substring(D+1)}_.getModifier=n;function a(C,D){var u,S;return C.id===D.id&&((u=C.color)===null||u===void 0?void 0:u.id)===((S=D.color)===null||S===void 0?void 0:S.id)}_.isEqual=a})(f||(f={}))},14818:function(Ot,He,i){"use strict";i.d(He,{$K:function(){return E},D8:function(){return g},HD:function(){return m},Jp:function(){return R},Kn:function(){return B},TW:function(){return v},cW:function(){return l},f6:function(){return a},fU:function(){return f},hj:function(){return _},jn:function(){return A},mf:function(){return d},o8:function(){return M},p_:function(){return p}});function m(C){return typeof C=="string"}function B(C){return typeof C=="object"&&C!==null&&!Array.isArray(C)&&!(C instanceof RegExp)&&!(C instanceof Date)}function f(C){const D=Object.getPrototypeOf(Uint8Array);return typeof C=="object"&&C instanceof D}function _(C){return typeof C=="number"&&!isNaN(C)}function v(C){return!!C&&typeof C[Symbol.iterator]=="function"}function A(C){return C===!0||C===!1}function M(C){return typeof C=="undefined"}function E(C){return!R(C)}function R(C){return M(C)||C===null}function p(C,D){if(!C)throw new Error(D?`Unexpected type, expected '${D}'`:"Unexpected type")}function l(C){if(R(C))throw new Error("Assertion Failed: argument is undefined or null");return C}function d(C){return typeof C=="function"}function g(C,D){const u=Math.min(C.length,D.length);for(let S=0;S<u;S++)n(C[S],D[S])}function n(C,D){if(m(D)){if(typeof C!==D)throw new Error(`argument does not match constraint: typeof ${D}`)}else if(d(D)){try{if(C instanceof D)return}catch(u){}if(!R(C)&&C.constructor===D||D.length===1&&D.call(void 0,C)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function a(C){return C===null?void 0:C}},79886:function(Ot,He,i){"use strict";i.d(He,{A:function(){return B},K:function(){return m}});function m(f){return f<0?0:f>255?255:f|0}function B(f){return f<0?0:f>4294967295?4294967295:f|0}},28919:function(Ot,He,i){"use strict";i.d(He,{o:function(){return d},q:function(){return u}});var m=i(75296),B=i(11138);const f=/^\w[\w\d+.-]*$/,_=/^\//,v=/^\/\//;function A(O,x){if(!O.scheme&&x)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${O.authority}", path: "${O.path}", query: "${O.query}", fragment: "${O.fragment}"}`);if(O.scheme&&!f.test(O.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(O.path){if(O.authority){if(!_.test(O.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(O.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function M(O,x){return!O&&!x?"file":O}function E(O,x){switch(O){case"https":case"http":case"file":x?x[0]!==p&&(x=p+x):x=p;break}return x}const R="",p="/",l=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{static isUri(x){return x instanceof d?!0:x?typeof x.authority=="string"&&typeof x.fragment=="string"&&typeof x.path=="string"&&typeof x.query=="string"&&typeof x.scheme=="string"&&typeof x.fsPath=="string"&&typeof x.with=="function"&&typeof x.toString=="function":!1}constructor(x,T,W,U,K,G=!1){typeof x=="object"?(this.scheme=x.scheme||R,this.authority=x.authority||R,this.path=x.path||R,this.query=x.query||R,this.fragment=x.fragment||R):(this.scheme=M(x,G),this.authority=T||R,this.path=E(this.scheme,W||R),this.query=U||R,this.fragment=K||R,A(this,G))}get fsPath(){return u(this,!1)}with(x){if(!x)return this;let{scheme:T,authority:W,path:U,query:K,fragment:G}=x;return T===void 0?T=this.scheme:T===null&&(T=R),W===void 0?W=this.authority:W===null&&(W=R),U===void 0?U=this.path:U===null&&(U=R),K===void 0?K=this.query:K===null&&(K=R),G===void 0?G=this.fragment:G===null&&(G=R),T===this.scheme&&W===this.authority&&U===this.path&&K===this.query&&G===this.fragment?this:new n(T,W,U,K,G)}static parse(x,T=!1){const W=l.exec(x);return W?new n(W[2]||R,N(W[4]||R),N(W[5]||R),N(W[7]||R),N(W[9]||R),T):new n(R,R,R,R,R)}static file(x){let T=R;if(B.ED&&(x=x.replace(/\\/g,p)),x[0]===p&&x[1]===p){const W=x.indexOf(p,2);W===-1?(T=x.substring(2),x=p):(T=x.substring(2,W),x=x.substring(W)||p)}return new n("file",T,x,R,R)}static from(x){const T=new n(x.scheme,x.authority,x.path,x.query,x.fragment);return A(T,!0),T}static joinPath(x,...T){if(!x.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let W;return B.ED&&x.scheme==="file"?W=d.file(m.Ku.join(u(x,!0),...T)).path:W=m.KR.join(x.path,...T),x.with({path:W})}toString(x=!1){return S(this,x)}toJSON(){return this}static revive(x){if(x){if(x instanceof d)return x;{const T=new n(x);return T._formatted=x.external,T._fsPath=x._sep===g?x.fsPath:null,T}}else return x}}const g=B.ED?1:void 0;class n extends d{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=u(this,!1)),this._fsPath}toString(x=!1){return x?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){const x={$mid:1};return this._fsPath&&(x.fsPath=this._fsPath,x._sep=g),this._formatted&&(x.external=this._formatted),this.path&&(x.path=this.path),this.scheme&&(x.scheme=this.scheme),this.authority&&(x.authority=this.authority),this.query&&(x.query=this.query),this.fragment&&(x.fragment=this.fragment),x}}const a={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function C(O,x,T){let W,U=-1;for(let K=0;K<O.length;K++){const G=O.charCodeAt(K);if(G>=97&&G<=122||G>=65&&G<=90||G>=48&&G<=57||G===45||G===46||G===95||G===126||x&&G===47||T&&G===91||T&&G===93||T&&G===58)U!==-1&&(W+=encodeURIComponent(O.substring(U,K)),U=-1),W!==void 0&&(W+=O.charAt(K));else{W===void 0&&(W=O.substr(0,K));const z=a[G];z!==void 0?(U!==-1&&(W+=encodeURIComponent(O.substring(U,K)),U=-1),W+=z):U===-1&&(U=K)}}return U!==-1&&(W+=encodeURIComponent(O.substring(U))),W!==void 0?W:O}function D(O){let x;for(let T=0;T<O.length;T++){const W=O.charCodeAt(T);W===35||W===63?(x===void 0&&(x=O.substr(0,T)),x+=a[W]):x!==void 0&&(x+=O[T])}return x!==void 0?x:O}function u(O,x){let T;return O.authority&&O.path.length>1&&O.scheme==="file"?T=`//${O.authority}${O.path}`:O.path.charCodeAt(0)===47&&(O.path.charCodeAt(1)>=65&&O.path.charCodeAt(1)<=90||O.path.charCodeAt(1)>=97&&O.path.charCodeAt(1)<=122)&&O.path.charCodeAt(2)===58?x?T=O.path.substr(1):T=O.path[1].toLowerCase()+O.path.substr(2):T=O.path,B.ED&&(T=T.replace(/\//g,"\\")),T}function S(O,x){const T=x?D:C;let W="",{scheme:U,authority:K,path:G,query:z,fragment:k}=O;if(U&&(W+=U,W+=":"),(K||U==="file")&&(W+=p,W+=p),K){let q=K.indexOf("@");if(q!==-1){const te=K.substr(0,q);K=K.substr(q+1),q=te.lastIndexOf(":"),q===-1?W+=T(te,!1,!1):(W+=T(te.substr(0,q),!1,!1),W+=":",W+=T(te.substr(q+1),!1,!0)),W+="@"}K=K.toLowerCase(),q=K.lastIndexOf(":"),q===-1?W+=T(K,!1,!0):(W+=T(K.substr(0,q),!1,!0),W+=K.substr(q))}if(G){if(G.length>=3&&G.charCodeAt(0)===47&&G.charCodeAt(2)===58){const q=G.charCodeAt(1);q>=65&&q<=90&&(G=`/${String.fromCharCode(q+32)}:${G.substr(3)}`)}else if(G.length>=2&&G.charCodeAt(1)===58){const q=G.charCodeAt(0);q>=65&&q<=90&&(G=`${String.fromCharCode(q+32)}:${G.substr(2)}`)}W+=T(G,!0,!1)}return z&&(W+="?",W+=T(z,!1,!1)),k&&(W+="#",W+=x?k:C(k,!1,!1)),W}function w(O){try{return decodeURIComponent(O)}catch(x){return O.length>3?O.substr(0,3)+w(O.substr(3)):O}}const L=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(O){return O.match(L)?O.replace(L,x=>w(x)):O}},38577:function(Ot,He,i){"use strict";i.d(He,{R:function(){return m}});const m=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let B;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?B=crypto.getRandomValues.bind(crypto):B=function(v){for(let A=0;A<v.length;A++)v[A]=Math.floor(Math.random()*256);return v};const f=new Uint8Array(16),_=[];for(let v=0;v<256;v++)_.push(v.toString(16).padStart(2,"0"));return function(){B(f),f[6]=f[6]&15|64,f[8]=f[8]&63|128;let A=0,M="";return M+=_[f[A++]],M+=_[f[A++]],M+=_[f[A++]],M+=_[f[A++]],M+="-",M+=_[f[A++]],M+=_[f[A++]],M+="-",M+=_[f[A++]],M+=_[f[A++]],M+="-",M+=_[f[A++]],M+=_[f[A++]],M+="-",M+=_[f[A++]],M+=_[f[A++]],M+=_[f[A++]],M+=_[f[A++]],M+=_[f[A++]],M+=_[f[A++]],M}}()},71344:function(Ot,He,i){"use strict";i.d(He,{N:function(){return B}});var m=i(34733);function B(f,_){f instanceof m.Z?(f.setFontFamily(_.getMassagedFontFamily()),f.setFontWeight(_.fontWeight),f.setFontSize(_.fontSize),f.setFontFeatureSettings(_.fontFeatureSettings),f.setFontVariationSettings(_.fontVariationSettings),f.setLineHeight(_.lineHeight),f.setLetterSpacing(_.letterSpacing)):(f.style.fontFamily=_.getMassagedFontFamily(),f.style.fontWeight=_.fontWeight,f.style.fontSize=_.fontSize+"px",f.style.fontFeatureSettings=_.fontFeatureSettings,f.style.fontVariationSettings=_.fontVariationSettings,f.style.lineHeight=_.lineHeight+"px",f.style.letterSpacing=_.letterSpacing+"px")}},8220:function(Ot,He,i){"use strict";i.d(He,{I:function(){return f}});var m=i(38431),B=i(56709);class f extends m.JT{constructor(v,A){super(),this._onDidChange=this._register(new B.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=v,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,A)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(v=>{v&&v[0]&&v[0].contentRect?this.observe({width:v[0].contentRect.width,height:v[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(v){this.measureReferenceDomElement(!0,v)}measureReferenceDomElement(v,A){let M=0,E=0;A?(M=A.width,E=A.height):this._referenceDomElement&&(M=this._referenceDomElement.clientWidth,E=this._referenceDomElement.clientHeight),M=Math.max(5,M),E=Math.max(5,E),(this._width!==M||this._height!==E)&&(this._width=M,this._height=E,v&&this._onDidChange.fire())}}},15125:function(Ot,He,i){"use strict";i.d(He,{g:function(){return d}});var m=i(71488),B=i(56709),f=i(38431),_=i(71344);class v{constructor(n,a){this.chr=n,this.type=a,this.width=0}fulfill(n){this.width=n}}class A{constructor(n,a){this._bareFontInfo=n,this._requests=a,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const n=document.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const a=document.createElement("div");(0,_.N)(a,this._bareFontInfo),n.appendChild(a);const C=document.createElement("div");(0,_.N)(C,this._bareFontInfo),C.style.fontWeight="bold",n.appendChild(C);const D=document.createElement("div");(0,_.N)(D,this._bareFontInfo),D.style.fontStyle="italic",n.appendChild(D);const u=[];for(const S of this._requests){let w;S.type===0&&(w=a),S.type===2&&(w=C),S.type===1&&(w=D),w.appendChild(document.createElement("br"));const L=document.createElement("span");A._render(L,S),w.appendChild(L),u.push(L)}this._container=n,this._testElements=u}static _render(n,a){if(a.chr===" "){let C="\xA0";for(let D=0;D<8;D++)C+=C;n.innerText=C}else{let C=a.chr;for(let D=0;D<8;D++)C+=C;n.textContent=C}}_readFromDomElements(){for(let n=0,a=this._requests.length;n<a;n++){const C=this._requests[n],D=this._testElements[n];C.fulfill(D.offsetWidth/256)}}}function M(g,n){new A(g,n).read()}var E=i(70054),R=i(5921);class p extends f.JT{constructor(){super(),this._onDidChange=this._register(new B.Q5),this.onDidChange=this._onDidChange.event,this._cache=new l,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new l,this._onDidChange.fire()}_writeToCache(n,a){this._cache.put(n,a),!a.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const n=this._cache.getValues();let a=!1;for(const C of n)C.isTrusted||(a=!0,this._cache.remove(C));a&&this._onDidChange.fire()}readFontInfo(n){if(!this._cache.has(n)){let a=this._actualReadFontInfo(n);(a.typicalHalfwidthCharacterWidth<=2||a.typicalFullwidthCharacterWidth<=2||a.spaceWidth<=2||a.maxDigitWidth<=2)&&(a=new R.pR({pixelRatio:m.PixelRatio.value,fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFeatureSettings:a.fontFeatureSettings,fontVariationSettings:a.fontVariationSettings,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,isMonospace:a.isMonospace,typicalHalfwidthCharacterWidth:Math.max(a.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(a.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:a.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(a.spaceWidth,5),middotWidth:Math.max(a.middotWidth,5),wsmiddotWidth:Math.max(a.wsmiddotWidth,5),maxDigitWidth:Math.max(a.maxDigitWidth,5)},!1)),this._writeToCache(n,a)}return this._cache.get(n)}_createRequest(n,a,C,D){const u=new v(n,a);return C.push(u),D==null||D.push(u),u}_actualReadFontInfo(n){const a=[],C=[],D=this._createRequest("n",0,a,C),u=this._createRequest("\uFF4D",0,a,null),S=this._createRequest(" ",0,a,C),w=this._createRequest("0",0,a,C),L=this._createRequest("1",0,a,C),N=this._createRequest("2",0,a,C),O=this._createRequest("3",0,a,C),x=this._createRequest("4",0,a,C),T=this._createRequest("5",0,a,C),W=this._createRequest("6",0,a,C),U=this._createRequest("7",0,a,C),K=this._createRequest("8",0,a,C),G=this._createRequest("9",0,a,C),z=this._createRequest("\u2192",0,a,C),k=this._createRequest("\uFFEB",0,a,null),q=this._createRequest("\xB7",0,a,C),te=this._createRequest(String.fromCharCode(11825),0,a,null),X="|/-_ilm%";for(let fe=0,De=X.length;fe<De;fe++)this._createRequest(X.charAt(fe),0,a,C),this._createRequest(X.charAt(fe),1,a,C),this._createRequest(X.charAt(fe),2,a,C);M(n,a);const j=Math.max(w.width,L.width,N.width,O.width,x.width,T.width,W.width,U.width,K.width,G.width);let J=n.fontFeatureSettings===E.n0.OFF;const Y=C[0].width;for(let fe=1,De=C.length;J&&fe<De;fe++){const Ne=Y-C[fe].width;if(Ne<-.001||Ne>.001){J=!1;break}}let ee=!0;return J&&k.width!==Y&&(ee=!1),k.width>z.width&&(ee=!1),new R.pR({pixelRatio:m.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,fontVariationSettings:n.fontVariationSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:J,typicalHalfwidthCharacterWidth:D.width,typicalFullwidthCharacterWidth:u.width,canUseHalfwidthRightwardsArrow:ee,spaceWidth:S.width,middotWidth:q.width,wsmiddotWidth:te.width,maxDigitWidth:j},!0)}}class l{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const a=n.getId();return!!this._values[a]}get(n){const a=n.getId();return this._values[a]}put(n,a){const C=n.getId();this._keys[C]=n,this._values[C]=a}remove(n){const a=n.getId();delete this._keys[a],delete this._values[a]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}const d=new p},10432:function(Ot,He,i){"use strict";i.d(He,{n:function(){return f}});var m=i(56709);class B{constructor(){this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new m.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(v){return v==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}setTabFocusMode(v,A){A==="terminalFocus"?this._tabFocusTerminal=v:this._tabFocusEditor=v,this._onDidChangeTabFocus.fire()}}const f=new B},10521:function(Ot,He,i){"use strict";i.d(He,{Fz:function(){return D},Nl:function(){return a},RA:function(){return n},Tj:function(){return S},pd:function(){return g}});var m=i(71488),B=i(34441),f=i(54505),_=i(6544),v=i(14209),A=i(13484),M=i(56709),E=i(38431),R=i(9161),p=i(17416),l=i(60153),d=i(57841),g;(function(w){w.Tap="-monaco-textarea-synthetic-tap"})(g||(g={}));const n={forceCopyWithSyntaxHighlighting:!1};class a{constructor(){this._lastState=null}set(L,N){this._lastState={lastCopiedValue:L,data:N}}get(L){return this._lastState&&this._lastState.lastCopiedValue===L?this._lastState.data:(this._lastState=null,null)}}a.INSTANCE=new a;class C{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(L){L=L||"";const N={text:L,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=L.length,N}}class D extends E.JT{get textAreaState(){return this._textAreaState}constructor(L,N,O,x){super(),this._host=L,this._textArea=N,this._OS=O,this._browser=x,this._onFocus=this._register(new M.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new M.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new M.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new M.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new M.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new M.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new M.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new M.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new M.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new M.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new M.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new A.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new A.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=l.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let T=null;this._register(this._textArea.onKeyDown(W=>{const U=new _.y(W);(U.keyCode===109||this._currentComposition&&U.keyCode===1)&&U.stopPropagation(),U.equals(9)&&U.preventDefault(),T=U,this._onKeyDown.fire(U)})),this._register(this._textArea.onKeyUp(W=>{const U=new _.y(W);this._onKeyUp.fire(U)})),this._register(this._textArea.onCompositionStart(W=>{l.al&&console.log("[compositionstart]",W);const U=new C;if(this._currentComposition){this._currentComposition=U;return}if(this._currentComposition=U,this._OS===2&&T&&T.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===W.data&&(T.code==="ArrowRight"||T.code==="ArrowLeft")){l.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",W),U.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:W.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:W.data});return}this._onCompositionStart.fire({data:W.data})})),this._register(this._textArea.onCompositionUpdate(W=>{l.al&&console.log("[compositionupdate]",W);const U=this._currentComposition;if(!U)return;if(this._browser.isAndroid){const G=l.un.readFromTextArea(this._textArea,this._textAreaState),z=l.un.deduceAndroidCompositionInput(this._textAreaState,G);this._textAreaState=G,this._onType.fire(z),this._onCompositionUpdate.fire(W);return}const K=U.handleCompositionUpdate(W.data);this._textAreaState=l.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(K),this._onCompositionUpdate.fire(W)})),this._register(this._textArea.onCompositionEnd(W=>{l.al&&console.log("[compositionend]",W);const U=this._currentComposition;if(!U)return;if(this._currentComposition=null,this._browser.isAndroid){const G=l.un.readFromTextArea(this._textArea,this._textAreaState),z=l.un.deduceAndroidCompositionInput(this._textAreaState,G);this._textAreaState=G,this._onType.fire(z),this._onCompositionEnd.fire();return}const K=U.handleCompositionUpdate(W.data);this._textAreaState=l.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(K),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(W=>{if(l.al&&console.log("[input]",W),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const U=l.un.readFromTextArea(this._textArea,this._textAreaState),K=l.un.deduceInput(this._textAreaState,U,this._OS===2);K.replacePrevCharCnt===0&&K.text.length===1&&(p.ZG(K.text.charCodeAt(0))||K.text.charCodeAt(0)===127)||(this._textAreaState=U,(K.text!==""||K.replacePrevCharCnt!==0||K.replaceNextCharCnt!==0||K.positionDelta!==0)&&this._onType.fire(K))})),this._register(this._textArea.onCut(W=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(W),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(W=>{this._ensureClipboardGetsEditorSelection(W)})),this._register(this._textArea.onPaste(W=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),W.preventDefault(),!W.clipboardData)return;let[U,K]=u.getTextData(W.clipboardData);U&&(K=K||a.INSTANCE.get(U),this._onPaste.fire({text:U,metadata:K}))})),this._register(this._textArea.onFocus(()=>{const W=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!W&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let L=0;return B.nm(document,"selectionchange",N=>{if(v.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const O=Date.now(),x=O-L;if(L=O,x<5)return;const T=O-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),T<100||!this._textAreaState.selection)return;const W=this._textArea.getValue();if(this._textAreaState.value!==W)return;const U=this._textArea.getSelectionStart(),K=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===U&&this._textAreaState.selectionEnd===K)return;const G=this._textAreaState.deduceEditorPosition(U),z=this._host.deduceModelPosition(G[0],G[1],G[2]),k=this._textAreaState.deduceEditorPosition(K),q=this._host.deduceModelPosition(k[0],k[1],k[2]),te=new d.Y(z.lineNumber,z.column,q.lineNumber,q.column);this._onSelectionChangeRequest.fire(te)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(L){this._hasFocus!==L&&(this._hasFocus=L,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(L,N){this._hasFocus||(N=N.collapseSelection()),N.writeToTextArea(L,this._textArea,this._hasFocus),this._textAreaState=N}writeScreenReaderContent(L){this._currentComposition||this._setAndWriteTextAreaState(L,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(L){const N=this._host.getDataToCopy(),O={version:1,isFromEmptySelection:N.isFromEmptySelection,multicursorText:N.multicursorText,mode:N.mode};a.INSTANCE.set(this._browser.isFirefox?N.text.replace(/\r\n/g,`
`):N.text,O),L.preventDefault(),L.clipboardData&&u.setTextData(L.clipboardData,N.text,N.html,O)}}class u{static getTextData(L){const N=L.getData(R.v.text);let O=null;const x=L.getData("vscode-editor-data");if(typeof x=="string")try{O=JSON.parse(x),O.version!==1&&(O=null)}catch(T){}return N.length===0&&O===null&&L.files.length>0?[Array.prototype.slice.call(L.files,0).map(W=>W.name).join(`
`),null]:[N,O]}static setTextData(L,N,O,x){L.setData(R.v.text,N),typeof O=="string"&&L.setData("text/html",O),L.setData("vscode-editor-data",JSON.stringify(x))}}class S extends E.JT{constructor(L){super(),this._actual=L,this.onKeyDown=this._register(new f.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new f.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new f.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new f.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new f.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new f.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new f.Y(this._actual,"input")).event,this.onCut=this._register(new f.Y(this._actual,"cut")).event,this.onCopy=this._register(new f.Y(this._actual,"copy")).event,this.onPaste=this._register(new f.Y(this._actual,"paste")).event,this.onFocus=this._register(new f.Y(this._actual,"focus")).event,this.onBlur=this._register(new f.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new M.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>v.B.onKeyDown())),this._register(this.onBeforeInput(()=>v.B.onBeforeInput())),this._register(this.onInput(()=>v.B.onInput())),this._register(this.onKeyUp(()=>v.B.onKeyUp())),this._register(B.nm(this._actual,g.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const L=B.Ay(this._actual);return L?L.activeElement===this._actual:B.Uw(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(L){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(L,N){const O=this._actual;O.value!==N&&(this.setIgnoreSelectionChangeTime("setValue"),O.value=N)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(L,N,O){const x=this._actual;let T=null;const W=B.Ay(x);W?T=W.activeElement:T=document.activeElement;const U=T===x,K=x.selectionStart,G=x.selectionEnd;if(U&&K===N&&G===O){m.isFirefox&&window.parent!==window&&x.focus();return}if(U){this.setIgnoreSelectionChangeTime("setSelectionRange"),x.setSelectionRange(N,O),m.isFirefox&&window.parent!==window&&x.focus();return}try{const z=B.vL(x);this.setIgnoreSelectionChangeTime("setSelectionRange"),x.focus(),x.setSelectionRange(N,O),B._0(x,z)}catch(z){}}}},60153:function(Ot,He,i){"use strict";i.d(He,{al:function(){return f},ee:function(){return v},un:function(){return _}});var m=i(17416),B=i(50038);const f=!1;class _{constructor(M,E,R,p,l){this.value=M,this.selectionStart=E,this.selectionEnd=R,this.selection=p,this.newlineCountBeforeSelection=l}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(M,E){const R=M.getValue(),p=M.getSelectionStart(),l=M.getSelectionEnd();let d;if(E){const g=R.substring(0,p),n=E.value.substring(0,E.selectionStart);g===n&&(d=E.newlineCountBeforeSelection)}return new _(R,p,l,null,d)}collapseSelection(){return this.selectionStart===this.value.length?this:new _(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(M,E,R){f&&console.log(`writeToTextArea ${M}: ${this.toString()}`),E.setValue(M,this.value),R&&E.setSelectionRange(M,this.selectionStart,this.selectionEnd)}deduceEditorPosition(M){var E,R,p,l,d,g,n,a;if(M<=this.selectionStart){const u=this.value.substring(M,this.selectionStart);return this._finishDeduceEditorPosition((R=(E=this.selection)===null||E===void 0?void 0:E.getStartPosition())!==null&&R!==void 0?R:null,u,-1)}if(M>=this.selectionEnd){const u=this.value.substring(this.selectionEnd,M);return this._finishDeduceEditorPosition((l=(p=this.selection)===null||p===void 0?void 0:p.getEndPosition())!==null&&l!==void 0?l:null,u,1)}const C=this.value.substring(this.selectionStart,M);if(C.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((g=(d=this.selection)===null||d===void 0?void 0:d.getStartPosition())!==null&&g!==void 0?g:null,C,1);const D=this.value.substring(M,this.selectionEnd);return this._finishDeduceEditorPosition((a=(n=this.selection)===null||n===void 0?void 0:n.getEndPosition())!==null&&a!==void 0?a:null,D,-1)}_finishDeduceEditorPosition(M,E,R){let p=0,l=-1;for(;(l=E.indexOf(`
`,l+1))!==-1;)p++;return[M,R*E.length,p]}static deduceInput(M,E,R){if(!M)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};f&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${M.toString()}`),console.log(`CURRENT STATE: ${E.toString()}`));const p=Math.min(m.Mh(M.value,E.value),M.selectionStart,E.selectionStart),l=Math.min(m.P1(M.value,E.value),M.value.length-M.selectionEnd,E.value.length-E.selectionEnd),d=M.value.substring(p,M.value.length-l),g=E.value.substring(p,E.value.length-l),n=M.selectionStart-p,a=M.selectionEnd-p,C=E.selectionStart-p,D=E.selectionEnd-p;if(f&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${d}>, selectionStart: ${n}, selectionEnd: ${a}`),console.log(`AFTER DIFFING CURRENT STATE: <${g}>, selectionStart: ${C}, selectionEnd: ${D}`)),C===D){const S=M.selectionStart-p;return f&&console.log(`REMOVE PREVIOUS: ${S} chars`),{text:g,replacePrevCharCnt:S,replaceNextCharCnt:0,positionDelta:0}}const u=a-n;return{text:g,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(M,E){if(!M)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(f&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${M.toString()}`),console.log(`CURRENT STATE: ${E.toString()}`)),M.value===E.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:E.selectionEnd-M.selectionEnd};const R=Math.min(m.Mh(M.value,E.value),M.selectionEnd),p=Math.min(m.P1(M.value,E.value),M.value.length-M.selectionEnd),l=M.value.substring(R,M.value.length-p),d=E.value.substring(R,E.value.length-p),g=M.selectionStart-R,n=M.selectionEnd-R,a=E.selectionStart-R,C=E.selectionEnd-R;return f&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${l}>, selectionStart: ${g}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${d}>, selectionStart: ${a}, selectionEnd: ${C}`)),{text:d,replacePrevCharCnt:n,replaceNextCharCnt:l.length-n,positionDelta:C-d.length}}}_.EMPTY=new _("",0,0,null,void 0);class v{static _getPageOfLine(M,E){return Math.floor((M-1)/E)}static _getRangeForPage(M,E){const R=M*E,p=R+1,l=R+E;return new B.e(p,1,l+1,1)}static fromEditorSelection(M,E,R,p){const d=v._getPageOfLine(E.startLineNumber,R),g=v._getRangeForPage(d,R),n=v._getPageOfLine(E.endLineNumber,R),a=v._getRangeForPage(n,R);let C=g.intersectRanges(new B.e(1,1,E.startLineNumber,E.startColumn));if(p&&M.getValueLengthInRange(C,1)>500){const O=M.modifyPosition(C.getEndPosition(),-500);C=B.e.fromPositions(O,C.getEndPosition())}const D=M.getValueInRange(C,1),u=M.getLineCount(),S=M.getLineMaxColumn(u);let w=a.intersectRanges(new B.e(E.endLineNumber,E.endColumn,u,S));if(p&&M.getValueLengthInRange(w,1)>500){const O=M.modifyPosition(w.getStartPosition(),500);w=B.e.fromPositions(w.getStartPosition(),O)}const L=M.getValueInRange(w,1);let N;if(d===n||d+1===n)N=M.getValueInRange(E,1);else{const O=g.intersectRanges(E),x=a.intersectRanges(E);N=M.getValueInRange(O,1)+String.fromCharCode(8230)+M.getValueInRange(x,1)}return p&&N.length>2*500&&(N=N.substring(0,500)+String.fromCharCode(8230)+N.substring(N.length-500,N.length)),new _(D+N+L,D.length,D.length+N.length,E,C.endLineNumber-C.startLineNumber)}}},68076:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CoreEditingCommands:function(){return W},CoreEditorCommand:function(){return u},CoreNavigationCommands:function(){return N},EditorScroll_:function(){return S},RevealLine_:function(){return w}});var m=i(26386),B=i(71488),f=i(14818),_=i(79874),v=i(55298),A=i(5603),M=i(60854),E=i(8964),R=i(50038);class p{static columnSelect(z,k,q,te,X,j){const J=Math.abs(X-q)+1,Y=q>X,ee=te>j,fe=te<j,De=[];for(let Ne=0;Ne<J;Ne++){const be=q+(Y?-Ne:Ne),xe=z.columnFromVisibleColumn(k,be,te),Le=z.columnFromVisibleColumn(k,be,j),ue=z.visibleColumnFromColumn(k,new E.L(be,xe)),re=z.visibleColumnFromColumn(k,new E.L(be,Le));fe&&(ue>j||re<te)||ee&&(re>te||ue<j)||De.push(new M.rS(new R.e(be,xe,be,xe),0,0,new E.L(be,Le),0))}if(De.length===0)for(let Ne=0;Ne<J;Ne++){const be=q+(Y?-Ne:Ne),xe=k.getLineMaxColumn(be);De.push(new M.rS(new R.e(be,xe,be,xe),0,0,new E.L(be,xe),0))}return{viewStates:De,reversed:Y,fromLineNumber:q,fromVisualColumn:te,toLineNumber:X,toVisualColumn:j}}static columnSelectLeft(z,k,q){let te=q.toViewVisualColumn;return te>0&&te--,p.columnSelect(z,k,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,te)}static columnSelectRight(z,k,q){let te=0;const X=Math.min(q.fromViewLineNumber,q.toViewLineNumber),j=Math.max(q.fromViewLineNumber,q.toViewLineNumber);for(let Y=X;Y<=j;Y++){const ee=k.getLineMaxColumn(Y),fe=z.visibleColumnFromColumn(k,new E.L(Y,ee));te=Math.max(te,fe)}let J=q.toViewVisualColumn;return J<te&&J++,this.columnSelect(z,k,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,J)}static columnSelectUp(z,k,q,te){const X=te?z.pageSize:1,j=Math.max(1,q.toViewLineNumber-X);return this.columnSelect(z,k,q.fromViewLineNumber,q.fromViewVisualColumn,j,q.toViewVisualColumn)}static columnSelectDown(z,k,q,te){const X=te?z.pageSize:1,j=Math.min(k.getLineCount(),q.toViewLineNumber+X);return this.columnSelect(z,k,q.fromViewLineNumber,q.fromViewVisualColumn,j,q.toViewVisualColumn)}}var l=i(24048),d=i(81953),g=i(96124),n=i(21081),a=i(76826),C=i(47679);const D=0;class u extends v._l{runEditorCommand(z,k,q){const te=k._getViewModel();te&&this.runCoreEditorCommand(te,q||{})}}var S;(function(G){const z=function(q){if(!f.Kn(q))return!1;const te=q;return!(!f.HD(te.to)||!f.o8(te.by)&&!f.HD(te.by)||!f.o8(te.value)&&!f.hj(te.value)||!f.o8(te.revealCursor)&&!f.jn(te.revealCursor))};G.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:z,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},G.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},G.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function k(q){let te;switch(q.to){case G.RawDirection.Up:te=1;break;case G.RawDirection.Right:te=2;break;case G.RawDirection.Down:te=3;break;case G.RawDirection.Left:te=4;break;default:return null}let X;switch(q.by){case G.RawUnit.Line:X=1;break;case G.RawUnit.WrappedLine:X=2;break;case G.RawUnit.Page:X=3;break;case G.RawUnit.HalfPage:X=4;break;case G.RawUnit.Editor:X=5;break;case G.RawUnit.Column:X=6;break;default:X=2}const j=Math.floor(q.value||1),J=!!q.revealCursor;return{direction:te,unit:X,value:j,revealCursor:J,select:!!q.select}}G.parse=k})(S||(S={}));var w;(function(G){const z=function(k){if(!f.Kn(k))return!1;const q=k;return!(!f.hj(q.lineNumber)&&!f.HD(q.lineNumber)||!f.o8(q.at)&&!f.HD(q.at))};G.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:z,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},G.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(w||(w={}));class L{constructor(z){z.addImplementation(1e4,"code-editor",(k,q)=>{const te=k.get(A.$).getFocusedCodeEditor();return te&&te.hasTextFocus()?this._runEditorCommand(k,te,q):!1}),z.addImplementation(1e3,"generic-dom-input-textarea",(k,q)=>{const te=document.activeElement;return te&&["input","textarea"].indexOf(te.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),z.addImplementation(0,"generic-dom",(k,q)=>{const te=k.get(A.$).getActiveCodeEditor();return te?(te.focus(),this._runEditorCommand(k,te,q)):!1})}_runEditorCommand(z,k,q){const te=this.runEditorCommand(z,k,q);return te||!0}}var N;(function(G){class z extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){if(!Ue.position)return;_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,[d.P.moveTo(_e,_e.getPrimaryCursorState(),this._inSelectionMode,Ue.position,Ue.viewPosition)])&&Ue.revealType!==2&&_e.revealPrimaryCursor(Ue.source,!0,!0)}}G.MoveTo=(0,v.fK)(new z({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),G.MoveToSelect=(0,v.fK)(new z({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class k extends u{runCoreEditorCommand(_e,Ue){_e.model.pushStackElement();const Qe=this._getColumnSelectResult(_e,_e.getPrimaryCursorState(),_e.getCursorColumnSelectData(),Ue);Qe!==null&&(_e.setCursorStates(Ue.source,3,Qe.viewStates.map(Re=>M.Vi.fromViewState(Re))),_e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Qe.fromLineNumber,fromViewVisualColumn:Qe.fromVisualColumn,toViewLineNumber:Qe.toLineNumber,toViewVisualColumn:Qe.toVisualColumn}),Qe.reversed?_e.revealTopMostCursor(Ue.source):_e.revealBottomMostCursor(Ue.source))}}G.ColumnSelect=(0,v.fK)(new class extends k{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(re,_e,Ue,Qe){if(typeof Qe.position=="undefined"||typeof Qe.viewPosition=="undefined"||typeof Qe.mouseColumn=="undefined")return null;const Re=re.model.validatePosition(Qe.position),ie=re.coordinatesConverter.validateViewPosition(new E.L(Qe.viewPosition.lineNumber,Qe.viewPosition.column),Re),Z=Qe.doColumnSelect?Ue.fromViewLineNumber:ie.lineNumber,se=Qe.doColumnSelect?Ue.fromViewVisualColumn:Qe.mouseColumn-1;return p.columnSelect(re.cursorConfig,re,Z,se,ie.lineNumber,Qe.mouseColumn-1)}}),G.CursorColumnSelectLeft=(0,v.fK)(new class extends k{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(re,_e,Ue,Qe){return p.columnSelectLeft(re.cursorConfig,re,Ue)}}),G.CursorColumnSelectRight=(0,v.fK)(new class extends k{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(re,_e,Ue,Qe){return p.columnSelectRight(re.cursorConfig,re,Ue)}});class q extends k{constructor(_e){super(_e),this._isPaged=_e.isPaged}_getColumnSelectResult(_e,Ue,Qe,Re){return p.columnSelectUp(_e.cursorConfig,_e,Qe,this._isPaged)}}G.CursorColumnSelectUp=(0,v.fK)(new q({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:3600,linux:{primary:0}}})),G.CursorColumnSelectPageUp=(0,v.fK)(new q({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:3595,linux:{primary:0}}}));class te extends k{constructor(_e){super(_e),this._isPaged=_e.isPaged}_getColumnSelectResult(_e,Ue,Qe,Re){return p.columnSelectDown(_e.cursorConfig,_e,Qe,this._isPaged)}}G.CursorColumnSelectDown=(0,v.fK)(new te({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:3602,linux:{primary:0}}})),G.CursorColumnSelectPageDown=(0,v.fK)(new te({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:3596,linux:{primary:0}}}));class X extends u{constructor(){super({id:"cursorMove",precondition:void 0,description:d.N.description})}runCoreEditorCommand(_e,Ue){const Qe=d.N.parse(Ue);Qe&&this._runCursorMove(_e,Ue.source,Qe)}_runCursorMove(_e,Ue,Qe){_e.model.pushStackElement(),_e.setCursorStates(Ue,3,X._move(_e,_e.getCursorStates(),Qe)),_e.revealPrimaryCursor(Ue,!0)}static _move(_e,Ue,Qe){const Re=Qe.select,ie=Qe.value;switch(Qe.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return d.P.simpleMove(_e,Ue,Qe.direction,Re,ie,Qe.unit);case 11:case 13:case 12:case 14:return d.P.viewportMove(_e,Ue,Qe.direction,Re,ie);default:return null}}}G.CursorMoveImpl=X,G.CursorMove=(0,v.fK)(new X);class j extends u{constructor(_e){super(_e),this._staticArgs=_e.args}runCoreEditorCommand(_e,Ue){let Qe=this._staticArgs;this._staticArgs.value===-1&&(Qe={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Ue.pageSize||_e.cursorConfig.pageSize}),_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,d.P.simpleMove(_e,_e.getCursorStates(),Qe.direction,Qe.select,Qe.value,Qe.unit)),_e.revealPrimaryCursor(Ue.source,!0)}}G.CursorLeft=(0,v.fK)(new j({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),G.CursorLeftSelect=(0,v.fK)(new j({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:1039}})),G.CursorRight=(0,v.fK)(new j({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),G.CursorRightSelect=(0,v.fK)(new j({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:1041}})),G.CursorUp=(0,v.fK)(new j({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),G.CursorUpSelect=(0,v.fK)(new j({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),G.CursorPageUp=(0,v.fK)(new j({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:11}})),G.CursorPageUpSelect=(0,v.fK)(new j({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:1035}})),G.CursorDown=(0,v.fK)(new j({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),G.CursorDownSelect=(0,v.fK)(new j({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),G.CursorPageDown=(0,v.fK)(new j({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:12}})),G.CursorPageDownSelect=(0,v.fK)(new j({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:1036}})),G.CreateCursor=(0,v.fK)(new class extends u{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(re,_e){if(!_e.position)return;let Ue;_e.wholeLine?Ue=d.P.line(re,re.getPrimaryCursorState(),!1,_e.position,_e.viewPosition):Ue=d.P.moveTo(re,re.getPrimaryCursorState(),!1,_e.position,_e.viewPosition);const Qe=re.getCursorStates();if(Qe.length>1){const Re=Ue.modelState?Ue.modelState.position:null,ie=Ue.viewState?Ue.viewState.position:null;for(let Z=0,se=Qe.length;Z<se;Z++){const ve=Qe[Z];if(!(Re&&!ve.modelState.selection.containsPosition(Re))&&!(ie&&!ve.viewState.selection.containsPosition(ie))){Qe.splice(Z,1),re.model.pushStackElement(),re.setCursorStates(_e.source,3,Qe);return}}}Qe.push(Ue),re.model.pushStackElement(),re.setCursorStates(_e.source,3,Qe)}}),G.LastCursorMoveToSelect=(0,v.fK)(new class extends u{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(re,_e){if(!_e.position)return;const Ue=re.getLastAddedCursorIndex(),Qe=re.getCursorStates(),Re=Qe.slice(0);Re[Ue]=d.P.moveTo(re,Qe[Ue],!0,_e.position,_e.viewPosition),re.model.pushStackElement(),re.setCursorStates(_e.source,3,Re)}});class J extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,d.P.moveToBeginningOfLine(_e,_e.getCursorStates(),this._inSelectionMode)),_e.revealPrimaryCursor(Ue.source,!0)}}G.CursorHome=(0,v.fK)(new J({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),G.CursorHomeSelect=(0,v.fK)(new J({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class Y extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,this._exec(_e.getCursorStates())),_e.revealPrimaryCursor(Ue.source,!0)}_exec(_e){const Ue=[];for(let Qe=0,Re=_e.length;Qe<Re;Qe++){const ie=_e[Qe],Z=ie.modelState.position.lineNumber;Ue[Qe]=M.Vi.fromModelState(ie.modelState.move(this._inSelectionMode,Z,1,0))}return Ue}}G.CursorLineStart=(0,v.fK)(new Y({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:287}}})),G.CursorLineStartSelect=(0,v.fK)(new Y({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1311}}}));class ee extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,d.P.moveToEndOfLine(_e,_e.getCursorStates(),this._inSelectionMode,Ue.sticky||!1)),_e.revealPrimaryCursor(Ue.source,!0)}}G.CursorEnd=(0,v.fK)(new ee({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:D,kbExpr:n.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:m.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),G.CursorEndSelect=(0,v.fK)(new ee({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:D,kbExpr:n.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:m.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class fe extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,this._exec(_e,_e.getCursorStates())),_e.revealPrimaryCursor(Ue.source,!0)}_exec(_e,Ue){const Qe=[];for(let Re=0,ie=Ue.length;Re<ie;Re++){const Z=Ue[Re],se=Z.modelState.position.lineNumber,ve=_e.model.getLineMaxColumn(se);Qe[Re]=M.Vi.fromModelState(Z.modelState.move(this._inSelectionMode,se,ve,0))}return Qe}}G.CursorLineEnd=(0,v.fK)(new fe({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:291}}})),G.CursorLineEndSelect=(0,v.fK)(new fe({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1315}}}));class De extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,d.P.moveToBeginningOfBuffer(_e,_e.getCursorStates(),this._inSelectionMode)),_e.revealPrimaryCursor(Ue.source,!0)}}G.CursorTop=(0,v.fK)(new De({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:2062,mac:{primary:2064}}})),G.CursorTopSelect=(0,v.fK)(new De({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class Ne extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,d.P.moveToEndOfBuffer(_e,_e.getCursorStates(),this._inSelectionMode)),_e.revealPrimaryCursor(Ue.source,!0)}}G.CursorBottom=(0,v.fK)(new Ne({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:2061,mac:{primary:2066}}})),G.CursorBottomSelect=(0,v.fK)(new Ne({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class be extends u{constructor(){super({id:"editorScroll",precondition:void 0,description:S.description})}determineScrollMethod(_e){const Ue=[6],Qe=[1,2,3,4,5,6],Re=[4,2],ie=[1,3];return Ue.includes(_e.unit)&&Re.includes(_e.direction)?this._runHorizontalEditorScroll.bind(this):Qe.includes(_e.unit)&&ie.includes(_e.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(_e,Ue){const Qe=S.parse(Ue);if(!Qe)return;const Re=this.determineScrollMethod(Qe);Re&&Re(_e,Ue.source,Qe)}_runVerticalEditorScroll(_e,Ue,Qe){const Re=this._computeDesiredScrollTop(_e,Qe);if(Qe.revealCursor){const ie=_e.getCompletelyVisibleViewRangeAtScrollTop(Re);_e.setCursorStates(Ue,3,[d.P.findPositionInViewportIfOutside(_e,_e.getPrimaryCursorState(),ie,Qe.select)])}_e.viewLayout.setScrollPosition({scrollTop:Re},0)}_computeDesiredScrollTop(_e,Ue){if(Ue.unit===1){const ie=_e.viewLayout.getFutureViewport(),Z=_e.getCompletelyVisibleViewRangeAtScrollTop(ie.top),se=_e.coordinatesConverter.convertViewRangeToModelRange(Z);let ve;Ue.direction===1?ve=Math.max(1,se.startLineNumber-Ue.value):ve=Math.min(_e.model.getLineCount(),se.startLineNumber+Ue.value);const he=_e.coordinatesConverter.convertModelPositionToViewPosition(new E.L(ve,1));return _e.viewLayout.getVerticalOffsetForLineNumber(he.lineNumber)}if(Ue.unit===5){let ie=0;return Ue.direction===3&&(ie=_e.model.getLineCount()-_e.cursorConfig.pageSize),_e.viewLayout.getVerticalOffsetForLineNumber(ie)}let Qe;Ue.unit===3?Qe=_e.cursorConfig.pageSize*Ue.value:Ue.unit===4?Qe=Math.round(_e.cursorConfig.pageSize/2)*Ue.value:Qe=Ue.value;const Re=(Ue.direction===1?-1:1)*Qe;return _e.viewLayout.getCurrentScrollTop()+Re*_e.cursorConfig.lineHeight}_runHorizontalEditorScroll(_e,Ue,Qe){const Re=this._computeDesiredScrollLeft(_e,Qe);_e.viewLayout.setScrollPosition({scrollLeft:Re},0)}_computeDesiredScrollLeft(_e,Ue){const Qe=(Ue.direction===4?-1:1)*Ue.value;return _e.viewLayout.getCurrentScrollLeft()+Qe*_e.cursorConfig.typicalHalfwidthCharacterWidth}}G.EditorScrollImpl=be,G.EditorScroll=(0,v.fK)(new be),G.ScrollLineUp=(0,v.fK)(new class extends u{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(re,_e){G.EditorScroll.runCoreEditorCommand(re,{to:S.RawDirection.Up,by:S.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:_e.source})}}),G.ScrollPageUp=(0,v.fK)(new class extends u{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(re,_e){G.EditorScroll.runCoreEditorCommand(re,{to:S.RawDirection.Up,by:S.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:_e.source})}}),G.ScrollEditorTop=(0,v.fK)(new class extends u{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(re,_e){G.EditorScroll.runCoreEditorCommand(re,{to:S.RawDirection.Up,by:S.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:_e.source})}}),G.ScrollLineDown=(0,v.fK)(new class extends u{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(re,_e){G.EditorScroll.runCoreEditorCommand(re,{to:S.RawDirection.Down,by:S.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:_e.source})}}),G.ScrollPageDown=(0,v.fK)(new class extends u{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(re,_e){G.EditorScroll.runCoreEditorCommand(re,{to:S.RawDirection.Down,by:S.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:_e.source})}}),G.ScrollEditorBottom=(0,v.fK)(new class extends u{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(re,_e){G.EditorScroll.runCoreEditorCommand(re,{to:S.RawDirection.Down,by:S.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:_e.source})}}),G.ScrollLeft=(0,v.fK)(new class extends u{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(re,_e){G.EditorScroll.runCoreEditorCommand(re,{to:S.RawDirection.Left,by:S.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:_e.source})}}),G.ScrollRight=(0,v.fK)(new class extends u{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(re,_e){G.EditorScroll.runCoreEditorCommand(re,{to:S.RawDirection.Right,by:S.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:_e.source})}});class xe extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){Ue.position&&(_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,[d.P.word(_e,_e.getPrimaryCursorState(),this._inSelectionMode,Ue.position)]),Ue.revealType!==2&&_e.revealPrimaryCursor(Ue.source,!0,!0))}}G.WordSelect=(0,v.fK)(new xe({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),G.WordSelectDrag=(0,v.fK)(new xe({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),G.LastCursorWordSelect=(0,v.fK)(new class extends u{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(re,_e){if(!_e.position)return;const Ue=re.getLastAddedCursorIndex(),Qe=re.getCursorStates(),Re=Qe.slice(0),ie=Qe[Ue];Re[Ue]=d.P.word(re,ie,ie.modelState.hasSelection(),_e.position),re.model.pushStackElement(),re.setCursorStates(_e.source,3,Re)}});class Le extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){Ue.position&&(_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,[d.P.line(_e,_e.getPrimaryCursorState(),this._inSelectionMode,Ue.position,Ue.viewPosition)]),Ue.revealType!==2&&_e.revealPrimaryCursor(Ue.source,!1,!0))}}G.LineSelect=(0,v.fK)(new Le({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),G.LineSelectDrag=(0,v.fK)(new Le({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ue extends u{constructor(_e){super(_e),this._inSelectionMode=_e.inSelectionMode}runCoreEditorCommand(_e,Ue){if(!Ue.position)return;const Qe=_e.getLastAddedCursorIndex(),Re=_e.getCursorStates(),ie=Re.slice(0);ie[Qe]=d.P.line(_e,Re[Qe],this._inSelectionMode,Ue.position,Ue.viewPosition),_e.model.pushStackElement(),_e.setCursorStates(Ue.source,3,ie)}}G.LastCursorLineSelect=(0,v.fK)(new ue({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),G.LastCursorLineSelectDrag=(0,v.fK)(new ue({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),G.CancelSelection=(0,v.fK)(new class extends u{constructor(){super({id:"cancelSelection",precondition:n.u.hasNonEmptySelection,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(re,_e){re.model.pushStackElement(),re.setCursorStates(_e.source,3,[d.P.cancelSelection(re,re.getPrimaryCursorState())]),re.revealPrimaryCursor(_e.source,!0)}}),G.RemoveSecondaryCursors=(0,v.fK)(new class extends u{constructor(){super({id:"removeSecondaryCursors",precondition:n.u.hasMultipleSelections,kbOpts:{weight:D+1,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(re,_e){re.model.pushStackElement(),re.setCursorStates(_e.source,3,[re.getPrimaryCursorState()]),re.revealPrimaryCursor(_e.source,!0),(0,_.i7)(m.NC("removedCursor","Removed secondary cursors"))}}),G.RevealLine=(0,v.fK)(new class extends u{constructor(){super({id:"revealLine",precondition:void 0,description:w.description})}runCoreEditorCommand(re,_e){const Ue=_e,Qe=Ue.lineNumber||0;let Re=typeof Qe=="number"?Qe+1:parseInt(Qe)+1;Re<1&&(Re=1);const ie=re.model.getLineCount();Re>ie&&(Re=ie);const Z=new R.e(Re,1,Re,re.model.getLineMaxColumn(Re));let se=0;if(Ue.at)switch(Ue.at){case w.RawAtArgument.Top:se=3;break;case w.RawAtArgument.Center:se=1;break;case w.RawAtArgument.Bottom:se=4;break;default:break}const ve=re.coordinatesConverter.convertModelRangeToViewRange(Z);re.revealRange(_e.source,!1,ve,se,0)}}),G.SelectAll=new class extends L{constructor(){super(v.Sq)}runDOMCommand(){B.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(re,_e,Ue){const Qe=_e._getViewModel();Qe&&this.runCoreEditorCommand(Qe,Ue)}runCoreEditorCommand(re,_e){re.model.pushStackElement(),re.setCursorStates("keyboard",3,[d.P.selectAll(re,re.getPrimaryCursorState())])}},G.SetSelection=(0,v.fK)(new class extends u{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(re,_e){_e.selection&&(re.model.pushStackElement(),re.setCursorStates(_e.source,3,[M.Vi.fromModelSelection(_e.selection)]))}})})(N||(N={}));const O=a.Ao.and(n.u.textInputFocus,n.u.columnSelection);function x(G,z){C.W.registerKeybindingRule({id:G,primary:z,when:O,weight:D+1})}x(N.CursorColumnSelectLeft.id,1039),x(N.CursorColumnSelectRight.id,1041),x(N.CursorColumnSelectUp.id,1040),x(N.CursorColumnSelectPageUp.id,1035),x(N.CursorColumnSelectDown.id,1042),x(N.CursorColumnSelectPageDown.id,1036);function T(G){return G.register(),G}var W;(function(G){class z extends v._l{runEditorCommand(q,te,X){const j=te._getViewModel();j&&this.runCoreEditingCommand(te,j,X||{})}}G.CoreEditingCommand=z,G.LineBreakInsert=(0,v.fK)(new class extends z{constructor(){super({id:"lineBreakInsert",precondition:n.u.writable,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(k,q,te){k.pushUndoStop(),k.executeCommands(this.id,g.u6.lineBreakInsert(q.cursorConfig,q.model,q.getCursorStates().map(X=>X.modelState.selection)))}}),G.Outdent=(0,v.fK)(new class extends z{constructor(){super({id:"outdent",precondition:n.u.writable,kbOpts:{weight:D,kbExpr:a.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(k,q,te){k.pushUndoStop(),k.executeCommands(this.id,g.u6.outdent(q.cursorConfig,q.model,q.getCursorStates().map(X=>X.modelState.selection))),k.pushUndoStop()}}),G.Tab=(0,v.fK)(new class extends z{constructor(){super({id:"tab",precondition:n.u.writable,kbOpts:{weight:D,kbExpr:a.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(k,q,te){k.pushUndoStop(),k.executeCommands(this.id,g.u6.tab(q.cursorConfig,q.model,q.getCursorStates().map(X=>X.modelState.selection))),k.pushUndoStop()}}),G.DeleteLeft=(0,v.fK)(new class extends z{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(k,q,te){const[X,j]=l.A.deleteLeft(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(J=>J.modelState.selection),q.getCursorAutoClosedCharacters());X&&k.pushUndoStop(),k.executeCommands(this.id,j),q.setPrevEditOperationType(2)}}),G.DeleteRight=(0,v.fK)(new class extends z{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:D,kbExpr:n.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(k,q,te){const[X,j]=l.A.deleteRight(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(J=>J.modelState.selection));X&&k.pushUndoStop(),k.executeCommands(this.id,j),q.setPrevEditOperationType(3)}}),G.Undo=new class extends L{constructor(){super(v.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(k,q,te){if(!(!q.hasModel()||q.getOption(87)===!0))return q.getModel().undo()}},G.Redo=new class extends L{constructor(){super(v.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(k,q,te){if(!(!q.hasModel()||q.getOption(87)===!0))return q.getModel().redo()}}})(W||(W={}));class U extends v.mY{constructor(z,k,q){super({id:z,precondition:void 0,description:q}),this._handlerId=k}runCommand(z,k){const q=z.get(A.$).getFocusedCodeEditor();q&&q.trigger("keyboard",this._handlerId,k)}}function K(G,z){T(new U("default:"+G,G)),T(new U(G,G,z))}K("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),K("replacePreviousChar"),K("compositionType"),K("compositionStart"),K("compositionEnd"),K("paste"),K("cut")},49078:function(Ot,He,i){"use strict";i.d(He,{d:function(){return u},B:function(){return a}});var m=i(89181),B=i(31837),f=i(9161),_=i(28919),v=i(39832),A=i(65533),M=i(48786),E=i(6325);const R={EDITORS:"CodeEditors",FILES:"CodeFiles"};function p(S){var w;const L=[];if(S.dataTransfer&&S.dataTransfer.types.length>0){const x=S.dataTransfer.getData(R.EDITORS);if(x)try{L.push(...(0,A.Q)(x))}catch(U){}else try{const U=S.dataTransfer.getData(m.g.RESOURCES);L.push(...l(U))}catch(U){}if(!((w=S.dataTransfer)===null||w===void 0)&&w.files)for(let U=0;U<S.dataTransfer.files.length;U++){const K=S.dataTransfer.files[U];if(K&&K.path)try{L.push({resource:_.o.file(K.path),isExternal:!0,allowWorkspaceOpen:!0})}catch(G){}}const T=S.dataTransfer.getData(R.FILES);if(T)try{const U=JSON.parse(T);for(const K of U)L.push({resource:_.o.file(K),isExternal:!0,allowWorkspaceOpen:!0})}catch(U){}const W=E.B.as(g.DragAndDropContribution).getAll();for(const U of W){const K=S.dataTransfer.getData(U.dataFormatKey);if(K)try{L.push(...U.getEditorInputs(K))}catch(G){}}}const N=[],O=new v.Y9;for(const x of L)x.resource?O.has(x.resource)||(N.push(x),O.set(x.resource,!0)):N.push(x);return N}function l(S){const w=[];if(S){const L=JSON.parse(S);for(const N of L)if(N.indexOf(":")>0){const{selection:O,uri:x}=(0,M.xI)(_.o.parse(N));w.push({resource:x,options:{selection:O}})}}return w}class d{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}const g={DragAndDropContribution:"workbench.contributions.dragAndDrop"};E.B.add(g.DragAndDropContribution,new d);var n=function(S,w,L,N){function O(x){return x instanceof L?x:new L(function(T){T(x)})}return new(L||(L=Promise))(function(x,T){function W(G){try{K(N.next(G))}catch(z){T(z)}}function U(G){try{K(N.throw(G))}catch(z){T(z)}}function K(G){G.done?x(G.value):O(G.value).then(W,U)}K((N=N.apply(S,w||[])).next())})};function a(S){const w=new B.Hl;for(const L of S.items){const N=L.type;if(L.kind==="string"){const O=new Promise(x=>L.getAsString(x));w.append(N,(0,B.ZO)(O))}else if(L.kind==="file"){const O=L.getAsFile();O&&w.append(N,C(O))}}return w}function C(S){const w=S.path?_.o.parse(S.path):void 0;return(0,B.Ix)(S.name,w,()=>n(this,void 0,void 0,function*(){return new Uint8Array(yield S.arrayBuffer())}))}const D=Object.freeze([R.EDITORS,R.FILES,m.g.RESOURCES]);function u(S,w,L=!1){var N;if(w.dataTransfer&&(L||!S.has(f.v.uriList))){const O=p(w).filter(x=>x.resource).map(x=>x.resource.toString());for(const x of(N=w.dataTransfer)===null||N===void 0?void 0:N.items){const T=x.getAsFile();T&&O.push(T.path?_.o.file(T.path).toString():T.name)}O.length&&S.replace(f.v.uriList,(0,B.ZO)(B.Z0.create(O)))}for(const O of D)S.delete(O)}},86086:function(Ot,He,i){"use strict";i.d(He,{CL:function(){return B},Pi:function(){return v},QI:function(){return f}});var m=i(6390);function B(A){return A&&typeof A.getEditorType=="function"?A.getEditorType()===m.g.ICodeEditor:!1}function f(A){return A&&typeof A.getEditorType=="function"?A.getEditorType()===m.g.IDiffEditor:!1}function _(A){return!!A&&typeof A=="object"&&typeof A.onDidChangeActiveEditor=="function"}function v(A){return B(A)?A:f(A)?A.getModifiedEditor():_(A)&&B(A.activeCodeEditor)?A.activeCodeEditor:null}},31396:function(Ot,He,i){"use strict";i.d(He,{AL:function(){return C},N5:function(){return n},Pp:function(){return d},YN:function(){return M},gy:function(){return g},kG:function(){return l},rU:function(){return E},t7:function(){return D},tC:function(){return a}});var m=i(34441),B=i(97314),f=i(64079),_=i(13484),v=i(38431),A=i(92537);class M{constructor(L,N){this.x=L,this.y=N,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new E(this.x-window.scrollX,this.y-window.scrollY)}}class E{constructor(L,N){this.clientX=L,this.clientY=N,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new M(this.clientX+window.scrollX,this.clientY+window.scrollY)}}class R{constructor(L,N,O,x){this.x=L,this.y=N,this.width=O,this.height=x,this._editorPagePositionBrand=void 0}}class p{constructor(L,N){this.x=L,this.y=N,this._positionRelativeToEditorBrand=void 0}}function l(w){const L=m.i(w);return new R(L.left,L.top,L.width,L.height)}function d(w,L,N){const O=L.width/w.offsetWidth,x=L.height/w.offsetHeight,T=(N.x-L.x)/O,W=(N.y-L.y)/x;return new p(T,W)}class g extends f.n{constructor(L,N,O){super(L),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=N,this.pos=new M(this.posx,this.posy),this.editorPos=l(O),this.relativePos=d(O,this.editorPos,this.pos)}}class n{constructor(L){this._editorViewDomNode=L}_create(L){return new g(L,!1,this._editorViewDomNode)}onContextMenu(L,N){return m.nm(L,"contextmenu",O=>{N(this._create(O))})}onMouseUp(L,N){return m.nm(L,"mouseup",O=>{N(this._create(O))})}onMouseDown(L,N){return m.nm(L,m.tw.MOUSE_DOWN,O=>{N(this._create(O))})}onPointerDown(L,N){return m.nm(L,m.tw.POINTER_DOWN,O=>{N(this._create(O),O.pointerId)})}onMouseLeave(L,N){return m.nm(L,m.tw.MOUSE_LEAVE,O=>{N(this._create(O))})}onMouseMove(L,N){return m.nm(L,"mousemove",O=>N(this._create(O)))}}class a{constructor(L){this._editorViewDomNode=L}_create(L){return new g(L,!1,this._editorViewDomNode)}onPointerUp(L,N){return m.nm(L,"pointerup",O=>{N(this._create(O))})}onPointerDown(L,N){return m.nm(L,m.tw.POINTER_DOWN,O=>{N(this._create(O),O.pointerId)})}onPointerLeave(L,N){return m.nm(L,m.tw.POINTER_LEAVE,O=>{N(this._create(O))})}onPointerMove(L,N){return m.nm(L,"pointermove",O=>N(this._create(O)))}}class C extends v.JT{constructor(L){super(),this._editorViewDomNode=L,this._globalPointerMoveMonitor=this._register(new B.C),this._keydownListener=null}startMonitoring(L,N,O,x,T){this._keydownListener=m.mu(document,"keydown",W=>{W.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,W.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(L,N,O,W=>{x(new g(W,!0,this._editorViewDomNode))},W=>{this._keydownListener.dispose(),T(W)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class D{constructor(L){this._editor=L,this._instanceId=++D._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new _.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(L){const N=this.getOrCreateRule(L);return N.increaseRefCount(),{className:N.className,dispose:()=>{N.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(L){const N=this.computeUniqueKey(L);let O=this._rules.get(N);if(!O){const x=this._counter++;O=new u(N,`dyn-rule-${this._instanceId}-${x}`,m.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,L),this._rules.set(N,O)}return O}computeUniqueKey(L){return JSON.stringify(L)}garbageCollect(){for(const L of this._rules.values())L.hasReferences()||(this._rules.delete(L.key),L.dispose())}}D._idPool=0;class u{constructor(L,N,O,x){this.key=L,this.className=N,this.properties=x,this._referenceCount=0,this._styleElement=m.dS(O),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(L,N){let O=`.${L} {`;for(const x in N){const T=N[x];let W;typeof T=="object"?W=(0,A.n_1)(T.id):W=T;const U=S(x);O+=`
	${U}: ${W};`}return O+=`
}`,O}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function S(w){return w.replace(/(^[A-Z])/,([L])=>L.toLowerCase()).replace(/([A-Z])/g,([L])=>`-${L.toLowerCase()}`)}},55298:function(Ot,He,i){"use strict";i.d(He,{AJ:function(){return D},QG:function(){return U},Qr:function(){return T},R6:function(){return w},Sq:function(){return j},Uc:function(){return G},_K:function(){return K},_l:function(){return S},fK:function(){return x},jY:function(){return L},kz:function(){return X},mY:function(){return C},n_:function(){return te},rn:function(){return W},sb:function(){return O},x1:function(){return N}});var m=i(26386),B=i(28919),f=i(5603),_=i(8964),v=i(65041),A=i(91223),M=i(21208),E=i(80793),R=i(76826),p=i(44333),l=i(47679),d=i(6325),g=i(68554),n=i(14818),a=i(59271);class C{constructor(Y){this.id=Y.id,this.precondition=Y.precondition,this._kbOpts=Y.kbOpts,this._menuOpts=Y.menuOpts,this._description=Y.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const Y=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const ee of Y){let fe=ee.kbExpr;this.precondition&&(fe?fe=R.Ao.and(fe,this.precondition):fe=this.precondition);const De={id:this.id,weight:ee.weight,args:ee.args,when:fe,primary:ee.primary,secondary:ee.secondary,win:ee.win,linux:ee.linux,mac:ee.mac};l.W.registerKeybindingRule(De)}}E.P.registerCommand({id:this.id,handler:(Y,ee)=>this.runCommand(Y,ee),description:this._description})}_registerMenuItem(Y){M.BH.appendMenuItem(Y.menuId,{group:Y.group,command:{id:this.id,title:Y.title,icon:Y.icon,precondition:this.precondition},when:Y.when,order:Y.order})}}class D extends C{constructor(){super(...arguments),this._implementations=[]}addImplementation(Y,ee,fe){return this._implementations.push({priority:Y,name:ee,implementation:fe}),this._implementations.sort((De,Ne)=>Ne.priority-De.priority),{dispose:()=>{for(let De=0;De<this._implementations.length;De++)if(this._implementations[De].implementation===fe){this._implementations.splice(De,1);return}}}}runCommand(Y,ee){const fe=Y.get(a.VZ);fe.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const De of this._implementations){const Ne=De.implementation(Y,ee);if(Ne)return fe.trace(`Command '${this.id}' was handled by '${De.name}'.`),typeof Ne=="boolean"?void 0:Ne}fe.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class u extends C{constructor(Y,ee){super(ee),this.command=Y}runCommand(Y,ee){return this.command.runCommand(Y,ee)}}class S extends C{static bindToContribution(Y){return class extends S{constructor(fe){super(fe),this._callback=fe.handler}runEditorCommand(fe,De,Ne){const be=Y(De);be&&this._callback(be,Ne)}}}static runEditorCommand(Y,ee,fe,De){const Ne=Y.get(f.$),be=Ne.getFocusedCodeEditor()||Ne.getActiveCodeEditor();if(be)return be.invokeWithinContext(xe=>{if(xe.get(R.i6).contextMatchesRules((0,n.f6)(fe)))return De(xe,be,ee)})}runCommand(Y,ee){return S.runEditorCommand(Y,ee,this.precondition,(fe,De,Ne)=>this.runEditorCommand(fe,De,Ne))}}class w extends S{static convertOptions(Y){let ee;Array.isArray(Y.menuOpts)?ee=Y.menuOpts:Y.menuOpts?ee=[Y.menuOpts]:ee=[];function fe(De){return De.menuId||(De.menuId=M.eH.EditorContext),De.title||(De.title=Y.label),De.when=R.Ao.and(Y.precondition,De.when),De}return Array.isArray(Y.contextMenuOpts)?ee.push(...Y.contextMenuOpts.map(fe)):Y.contextMenuOpts&&ee.push(fe(Y.contextMenuOpts)),Y.menuOpts=ee,Y}constructor(Y){super(w.convertOptions(Y)),this.label=Y.label,this.alias=Y.alias}runEditorCommand(Y,ee,fe){return this.reportTelemetry(Y,ee),this.run(Y,ee,fe||{})}reportTelemetry(Y,ee){Y.get(g.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class L extends w{constructor(){super(...arguments),this._implementations=[]}addImplementation(Y,ee){return this._implementations.push([Y,ee]),this._implementations.sort((fe,De)=>De[0]-fe[0]),{dispose:()=>{for(let fe=0;fe<this._implementations.length;fe++)if(this._implementations[fe][1]===ee){this._implementations.splice(fe,1);return}}}}run(Y,ee,fe){for(const De of this._implementations){const Ne=De[1](Y,ee,fe);if(Ne)return typeof Ne=="boolean"?void 0:Ne}}}class N extends M.Ke{run(Y,...ee){const fe=Y.get(f.$),De=fe.getFocusedCodeEditor()||fe.getActiveCodeEditor();if(De)return De.invokeWithinContext(Ne=>{if(Ne.get(R.i6).contextMatchesRules((0,n.f6)(this.desc.precondition)))return this.runEditorCommand(Ne,De,...ee)})}}function O(J,Y){E.P.registerCommand(J,function(ee,...fe){const De=ee.get(p.TG),[Ne,be]=fe;(0,n.p_)(B.o.isUri(Ne)),(0,n.p_)(_.L.isIPosition(be));const xe=ee.get(v.q).getModel(Ne);if(xe){const Le=_.L.lift(be);return De.invokeFunction(Y,xe,Le,...fe.slice(2))}return ee.get(A.S).createModelReference(Ne).then(Le=>new Promise((ue,re)=>{try{const _e=De.invokeFunction(Y,Le.object.textEditorModel,_.L.lift(be),fe.slice(2));ue(_e)}catch(_e){re(_e)}}).finally(()=>{Le.dispose()}))})}function x(J){return k.INSTANCE.registerEditorCommand(J),J}function T(J){const Y=new J;return k.INSTANCE.registerEditorAction(Y),Y}function W(J){return k.INSTANCE.registerEditorAction(J),J}function U(J){k.INSTANCE.registerEditorAction(J)}function K(J,Y,ee){k.INSTANCE.registerEditorContribution(J,Y,ee)}var G;(function(J){function Y(be){return k.INSTANCE.getEditorCommand(be)}J.getEditorCommand=Y;function ee(){return k.INSTANCE.getEditorActions()}J.getEditorActions=ee;function fe(){return k.INSTANCE.getEditorContributions()}J.getEditorContributions=fe;function De(be){return k.INSTANCE.getEditorContributions().filter(xe=>be.indexOf(xe.id)>=0)}J.getSomeEditorContributions=De;function Ne(){return k.INSTANCE.getDiffEditorContributions()}J.getDiffEditorContributions=Ne})(G||(G={}));const z={EditorCommonContributions:"editor.contributions"};class k{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(Y,ee,fe){this.editorContributions.push({id:Y,ctor:ee,instantiation:fe})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(Y){Y.register(),this.editorActions.push(Y)}getEditorActions(){return this.editorActions}registerEditorCommand(Y){Y.register(),this.editorCommands[Y.id]=Y}getEditorCommand(Y){return this.editorCommands[Y]||null}}k.INSTANCE=new k,d.B.add(z.EditorCommonContributions,k.INSTANCE);function q(J){return J.register(),J}const te=q(new D({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:M.eH.MenubarEditMenu,group:"1_do",title:m.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:M.eH.CommandPalette,group:"",title:m.NC("undo","Undo"),order:1}]}));q(new u(te,{id:"default:undo",precondition:void 0}));const X=q(new D({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:M.eH.MenubarEditMenu,group:"1_do",title:m.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:M.eH.CommandPalette,group:"",title:m.NC("redo","Redo"),order:1}]}));q(new u(X,{id:"default:redo",precondition:void 0}));const j=q(new D({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:M.eH.MenubarSelectionMenu,group:"1_basic",title:m.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:M.eH.CommandPalette,group:"",title:m.NC("selectAll","Select All"),order:1}]}))},53028:function(Ot,He,i){"use strict";i.d(He,{Gl:function(){return A},fo:function(){return v},vu:function(){return _}});var m=i(44333),B=i(28919),f=i(14818);const _=(0,m.yh)("IWorkspaceEditService");class v{constructor(R){this.metadata=R}static convert(R){return R.edits.map(p=>{if(A.is(p))return A.lift(p);if(M.is(p))return M.lift(p);throw new Error("Unsupported edit")})}}class A extends v{static is(R){return R instanceof A?!0:(0,f.Kn)(R)&&B.o.isUri(R.resource)&&(0,f.Kn)(R.textEdit)}static lift(R){return R instanceof A?R:new A(R.resource,R.textEdit,R.versionId,R.metadata)}constructor(R,p,l=void 0,d){super(d),this.resource=R,this.textEdit=p,this.versionId=l}}class M extends v{static is(R){return R instanceof M?!0:(0,f.Kn)(R)&&(Boolean(R.newResource)||Boolean(R.oldResource))}static lift(R){return R instanceof M?R:new M(R.oldResource,R.newResource,R.options,R.metadata)}constructor(R,p,l={},d){super(d),this.oldResource=R,this.newResource=p,this.options=l}}},5603:function(Ot,He,i){"use strict";i.d(He,{$:function(){return B}});var m=i(44333);const B=(0,m.yh)("codeEditorService")},48423:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return m}});class m{static capture(f){let _=null,v=0;if(f.getScrollTop()!==0){const A=f.getVisibleRanges();if(A.length>0){_=A[0].getStartPosition();const M=f.getTopForPosition(_.lineNumber,_.column);v=f.getScrollTop()-M}}return new m(_,v,f.getPosition())}constructor(f,_,v){this._visiblePosition=f,this._visiblePositionScrollDelta=_,this._cursorPosition=v}restore(f){if(this._visiblePosition){const _=f.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);f.setScrollTop(_+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(f){const _=f.getPosition();if(!this._cursorPosition||!_)return;const v=f.getTopForLineNumber(_.lineNumber)-f.getTopForLineNumber(this._cursorPosition.lineNumber);f.setScrollTop(f.getScrollTop()+v)}}},39143:function(Ot,He,i){"use strict";i.d(He,{Gm:function(){return cc}});var m=i(52919),B=i(55298),f=function(Nt,e,o,b){var V=arguments.length,Q=V<3?e:b===null?b=Object.getOwnPropertyDescriptor(e,o):b,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(Nt,e,o,b);else for(var Ae=Nt.length-1;Ae>=0;Ae--)(Se=Nt[Ae])&&(Q=(V<3?Se(Q):V>3?Se(e,o,Q):Se(e,o))||Q);return V>3&&Q&&Object.defineProperty(e,o,Q),Q},_=function(Nt,e){return function(o,b){e(o,b,Nt)}};let v=class{constructor(e,o){}dispose(){}};v.ID="editor.contrib.markerDecorations",v=f([_(1,m.i)],v),(0,B._K)(v.ID,v,0);var A=i(26386),M=i(34441),E=i(20996),R=i(56709),p=i(38431),l=i(5007),d=i(71488),g=i(16308),n=i(23127),a=i(11138),C=i(8220),D=i(15125);class u{constructor(e,o){this.key=e,this.migrate=o}apply(e){const o=u._read(e,this.key),b=Q=>u._read(e,Q),V=(Q,Se)=>u._write(e,Q,Se);this.migrate(o,b,V)}static _read(e,o){if(typeof e=="undefined")return;const b=o.indexOf(".");if(b>=0){const V=o.substring(0,b);return this._read(e[V],o.substring(b+1))}return e[o]}static _write(e,o,b){const V=o.indexOf(".");if(V>=0){const Q=o.substring(0,V);e[Q]=e[Q]||{},this._write(e[Q],o.substring(V+1),b);return}e[o]=b}}u.items=[];function S(Nt,e){u.items.push(new u(Nt,e))}function w(Nt,e){S(Nt,(o,b,V)=>{if(typeof o!="undefined"){for(const[Q,Se]of e)if(o===Q){V(Nt,Se);return}}})}function L(Nt){u.items.forEach(e=>e.apply(Nt))}w("wordWrap",[[!0,"on"],[!1,"off"]]),w("lineNumbers",[[!0,"on"],[!1,"off"]]),w("cursorBlinking",[["visible","solid"]]),w("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),w("renderLineHighlight",[[!0,"line"],[!1,"none"]]),w("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),w("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),w("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),w("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),w("autoIndent",[[!1,"advanced"],[!0,"full"]]),w("matchBrackets",[[!0,"always"],[!1,"never"]]),w("renderFinalNewline",[[!0,"on"],[!1,"off"]]),w("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),S("autoClosingBrackets",(Nt,e,o)=>{Nt===!1&&(o("autoClosingBrackets","never"),typeof e("autoClosingQuotes")=="undefined"&&o("autoClosingQuotes","never"),typeof e("autoSurround")=="undefined"&&o("autoSurround","never"))}),S("renderIndentGuides",(Nt,e,o)=>{typeof Nt!="undefined"&&(o("renderIndentGuides",void 0),typeof e("guides.indentation")=="undefined"&&o("guides.indentation",!!Nt))}),S("highlightActiveIndentGuide",(Nt,e,o)=>{typeof Nt!="undefined"&&(o("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")=="undefined"&&o("guides.highlightActiveIndentation",!!Nt))});const N={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};S("suggest.filteredTypes",(Nt,e,o)=>{if(Nt&&typeof Nt=="object"){for(const b of Object.entries(N))Nt[b[0]]===!1&&typeof e(`suggest.${b[1]}`)=="undefined"&&o(`suggest.${b[1]}`,!1);o("suggest.filteredTypes",void 0)}}),S("quickSuggestions",(Nt,e,o)=>{if(typeof Nt=="boolean"){const b=Nt?"on":"off";o("quickSuggestions",{comments:b,strings:b,other:b})}}),S("experimental.stickyScroll.enabled",(Nt,e,o)=>{typeof Nt=="boolean"&&(o("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")=="undefined"&&o("stickyScroll.enabled",Nt))}),S("experimental.stickyScroll.maxLineCount",(Nt,e,o)=>{typeof Nt=="number"&&(o("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")=="undefined"&&o("stickyScroll.maxLineCount",Nt))});var O=i(10432),x=i(70054),T=i(14963),W=i(5921),U=i(18708),K=function(Nt,e,o,b){var V=arguments.length,Q=V<3?e:b===null?b=Object.getOwnPropertyDescriptor(e,o):b,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(Nt,e,o,b);else for(var Ae=Nt.length-1;Ae>=0;Ae--)(Se=Nt[Ae])&&(Q=(V<3?Se(Q):V>3?Se(e,o,Q):Se(e,o))||Q);return V>3&&Q&&Object.defineProperty(e,o,Q),Q},G=function(Nt,e){return function(o,b){e(o,b,Nt)}};let z=class extends p.JT{constructor(e,o,b,V){super(),this._accessibilityService=V,this._onDidChange=this._register(new R.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new R.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new x.LJ,this.isSimpleWidget=e,this._containerObserver=this._register(new C.I(b,o.dimension)),this._rawOptions=J(o),this._validatedOptions=j.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(11)&&this._containerObserver.startObserving(),this._register(T.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(O.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(D.g.onDidChange(()=>this._recomputeOptions())),this._register(d.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),o=j.checkEquals(this.options,e);o!==null&&(this.options=e,this._onDidChangeFast.fire(o),this._onDidChange.fire(o))}_computeOptions(){const e=this._readEnvConfiguration(),o=W.E4.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),b=this._readFontInfo(o),V={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:b,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:O.n.getTabFocusMode("editorFocus"),accessibilitySupport:e.accessibilitySupport};return j.computeOptions(this._validatedOptions,V)}_readEnvConfiguration(){return{extraEditorClassName:q(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:d.isWebKit||d.isFirefox,pixelRatio:d.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return D.g.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const o=J(e);j.applyUpdate(this._rawOptions,o)&&(this._validatedOptions=j.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const o=k(e);this._lineNumbersDigitCount!==o&&(this._lineNumbersDigitCount=o,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};z=K([G(3,U.F)],z);function k(Nt){let e=0;for(;Nt;)Nt=Math.floor(Nt/10),e++;return e||1}function q(){let Nt="";return!d.isSafari&&!d.isWebkitWebView&&(Nt+="no-user-select "),d.isSafari&&(Nt+="no-minimap-shadow ",Nt+="enable-user-select "),a.dz&&(Nt+="mac "),Nt}class te{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,o){this._values[e]=o}}class X{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,o){this._values[e]=o}}class j{static validateOptions(e){const o=new te;for(const b of x.Bc){const V=b.name==="_never_"?void 0:e[b.name];o._write(b.id,b.validate(V))}return o}static computeOptions(e,o){const b=new X;for(const V of x.Bc)b._write(V.id,V.compute(o,b,e._read(V.id)));return b}static _deepEquals(e,o){if(typeof e!="object"||typeof o!="object"||!e||!o)return e===o;if(Array.isArray(e)||Array.isArray(o))return Array.isArray(e)&&Array.isArray(o)?g.fS(e,o):!1;if(Object.keys(e).length!==Object.keys(o).length)return!1;for(const b in e)if(!j._deepEquals(e[b],o[b]))return!1;return!0}static checkEquals(e,o){const b=[];let V=!1;for(const Q of x.Bc){const Se=!j._deepEquals(e._read(Q.id),o._read(Q.id));b[Q.id]=Se,Se&&(V=!0)}return V?new x.Bb(b):null}static applyUpdate(e,o){let b=!1;for(const V of x.Bc)if(o.hasOwnProperty(V.name)){const Q=V.applyUpdate(e[V.name],o[V.name]);e[V.name]=Q.newValue,b=b||Q.didChange}return b}}function J(Nt){const e=n.I8(Nt);return L(e),e}var Y=i(5603),ee=i(57841),fe=i(34733),De=i(80265),Ne=i(64079),be=i(31396);class xe extends p.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let o=!1;for(let b=0,V=e.length;b<V;b++){const Q=e[b];switch(Q.type){case 0:this.onCompositionStart(Q)&&(o=!0);break;case 1:this.onCompositionEnd(Q)&&(o=!0);break;case 2:this.onConfigurationChanged(Q)&&(o=!0);break;case 3:this.onCursorStateChanged(Q)&&(o=!0);break;case 4:this.onDecorationsChanged(Q)&&(o=!0);break;case 5:this.onFlushed(Q)&&(o=!0);break;case 6:this.onFocusChanged(Q)&&(o=!0);break;case 7:this.onLanguageConfigurationChanged(Q)&&(o=!0);break;case 8:this.onLineMappingChanged(Q)&&(o=!0);break;case 9:this.onLinesChanged(Q)&&(o=!0);break;case 10:this.onLinesDeleted(Q)&&(o=!0);break;case 11:this.onLinesInserted(Q)&&(o=!0);break;case 12:this.onRevealRangeRequest(Q)&&(o=!0);break;case 13:this.onScrollChanged(Q)&&(o=!0);break;case 15:this.onTokensChanged(Q)&&(o=!0);break;case 14:this.onThemeChanged(Q)&&(o=!0);break;case 16:this.onTokensColorsChanged(Q)&&(o=!0);break;case 17:this.onZonesChanged(Q)&&(o=!0);break;default:console.info("View received unknown event: "),console.info(Q)}}o&&(this._shouldRender=!0)}}class Le extends xe{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class ue{static write(e,o){e.setAttribute("data-mprt",String(o))}static read(e){const o=e.getAttribute("data-mprt");return o===null?0:parseInt(o,10)}static collect(e,o){const b=[];let V=0;for(;e&&e!==document.body&&e!==o;)e.nodeType===e.ELEMENT_NODE&&(b[V++]=this.read(e)),e=e.parentElement;const Q=new Uint8Array(V);for(let Se=0;Se<V;Se++)Q[Se]=b[V-Se-1];return Q}}class re{constructor(e,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const b=this._viewLayout.getCurrentViewport();this.scrollTop=b.top,this.scrollLeft=b.left,this.viewportWidth=b.width,this.viewportHeight=b.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,o){return this._viewLayout.getVerticalOffsetForLineNumber(e,o)}getVerticalOffsetAfterLineNumber(e,o){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,o)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class _e extends re{constructor(e,o,b){super(e,o),this._renderingContextBrand=void 0,this._viewLines=b}linesVisibleRangesForRange(e,o){return this._viewLines.linesVisibleRangesForRange(e,o)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class Ue{constructor(e,o,b){this.outsideRenderedLine=e,this.lineNumber=o,this.ranges=b}}class Qe{static from(e){const o=new Array(e.length);for(let b=0,V=e.length;b<V;b++){const Q=e[b];o[b]=new Qe(Q.left,Q.width)}return o}constructor(e,o){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(o)}toString(){return`[${this.left},${this.width}]`}}class Re{constructor(e,o){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(e,o){return e.left-o.left}}class ie{constructor(e,o){this.outsideRenderedLine=e,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}class Z{constructor(e,o){this.outsideRenderedLine=e,this.ranges=o}}class se{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,o){e.selectNodeContents(o)}static _readClientRects(e,o,b,V,Q){const Se=this._createRange();try{return Se.setStart(e,o),Se.setEnd(b,V),Se.getClientRects()}catch(Ae){return null}finally{this._detachRange(Se,Q)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(Re.compare);const o=[];let b=0,V=e[0];for(let Q=1,Se=e.length;Q<Se;Q++){const Ae=e[Q];V.left+V.width+.9>=Ae.left?V.width=Math.max(V.width,Ae.left+Ae.width-V.left):(o[b++]=V,V=Ae)}return o[b++]=V,o}static _createHorizontalRangesFromClientRects(e,o,b){if(!e||e.length===0)return null;const V=[];for(let Q=0,Se=e.length;Q<Se;Q++){const Ae=e[Q];V[Q]=new Re(Math.max(0,(Ae.left-o)/b),Ae.width/b)}return this._mergeAdjacentRanges(V)}static readHorizontalRanges(e,o,b,V,Q,Se){const Ye=e.children.length-1;if(0>Ye)return null;if(o=Math.min(Ye,Math.max(0,o)),V=Math.min(Ye,Math.max(0,V)),o===V&&b===Q&&b===0&&!e.children[o].firstChild){const Ht=e.children[o].getClientRects();return Se.markDidDomLayout(),this._createHorizontalRangesFromClientRects(Ht,Se.clientRectDeltaLeft,Se.clientRectScale)}o!==V&&V>0&&Q===0&&(V--,Q=1073741824);let rt=e.children[o].firstChild,st=e.children[V].firstChild;if((!rt||!st)&&(!rt&&b===0&&o>0&&(rt=e.children[o-1].firstChild,b=1073741824),!st&&Q===0&&V>0&&(st=e.children[V-1].firstChild,Q=1073741824)),!rt||!st)return null;b=Math.min(rt.textContent.length,Math.max(0,b)),Q=Math.min(st.textContent.length,Math.max(0,Q));const vt=this._readClientRects(rt,b,st,Q,Se.endNode);return Se.markDidDomLayout(),this._createHorizontalRangesFromClientRects(vt,Se.clientRectDeltaLeft,Se.clientRectScale)}}var ve=i(69756),he=i(75398),ce=i(49914);const Ee=function(){return a.tY?!0:!(a.IJ||d.isFirefox||d.isSafari)}();let We=!0;class it{constructor(e,o){this.themeType=o;const b=e.options,V=b.get(48);b.get(36)==="off"?this.renderWhitespace=b.get(94):this.renderWhitespace="none",this.renderControlCharacters=b.get(89),this.spaceWidth=V.spaceWidth,this.middotWidth=V.middotWidth,this.wsmiddotWidth=V.wsmiddotWidth,this.useMonospaceOptimizations=V.isMonospace&&!b.get(31),this.canUseHalfwidthRightwardsArrow=V.canUseHalfwidthRightwardsArrow,this.lineHeight=b.get(64),this.stopRenderingLineAfter=b.get(112),this.fontLigatures=b.get(49)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Ze{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,fe.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(0,ce.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,o,b,V){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const Q=b.getViewLineRenderingData(e),Se=this._options,Ae=ve.Kp.filter(Q.inlineDecorations,e,Q.minColumn,Q.maxColumn);let Ye=null;if((0,ce.c3)(Se.themeType)||this._options.renderWhitespace==="selection"){const Ht=b.selections;for(const Tt of Ht){if(Tt.endLineNumber<e||Tt.startLineNumber>e)continue;const ei=Tt.startLineNumber===e?Tt.startColumn:Q.minColumn,ai=Tt.endLineNumber===e?Tt.endColumn:Q.maxColumn;ei<ai&&((0,ce.c3)(Se.themeType)&&Ae.push(new ve.Kp(ei,ai,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(Ye||(Ye=[]),Ye.push(new he.zG(ei-1,ai-1))))}}const rt=new he.IJ(Se.useMonospaceOptimizations,Se.canUseHalfwidthRightwardsArrow,Q.content,Q.continuesWithWrappedLine,Q.isBasicASCII,Q.containsRTL,Q.minColumn-1,Q.tokens,Ae,Q.tabSize,Q.startVisibleColumn,Se.spaceWidth,Se.middotWidth,Se.wsmiddotWidth,Se.stopRenderingLineAfter,Se.renderWhitespace,Se.renderControlCharacters,Se.fontLigatures!==x.n0.OFF,Ye);if(this._renderedViewLine&&this._renderedViewLine.input.equals(rt))return!1;V.appendString('<div style="top:'),V.appendString(String(o)),V.appendString("px;height:"),V.appendString(String(this._options.lineHeight)),V.appendString('px;" class="'),V.appendString(Ze.CLASS_NAME),V.appendString('">');const st=(0,he.d1)(rt,V);V.appendString("</div>");let vt=null;return We&&Ee&&Q.isBasicASCII&&Se.useMonospaceOptimizations&&st.containsForeignElements===0&&(vt=new je(this._renderedViewLine?this._renderedViewLine.domNode:null,rt,st.characterMapping)),vt||(vt=oe(this._renderedViewLine?this._renderedViewLine.domNode:null,rt,st.characterMapping,st.containsRTL,st.containsForeignElements)),this._renderedViewLine=vt,!0}layoutLine(e,o){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(o),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof je:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof je?this._renderedViewLine.monospaceAssumptionsAreValid():We}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof je&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,o,b,V){if(!this._renderedViewLine)return null;o=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,o)),b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b));const Q=this._renderedViewLine.input.stopRenderingLineAfter;if(Q!==-1&&o>Q+1&&b>Q+1)return new Z(!0,[new Re(this.getWidth(V),0)]);Q!==-1&&o>Q+1&&(o=Q+1),Q!==-1&&b>Q+1&&(b=Q+1);const Se=this._renderedViewLine.getVisibleRangesForRange(e,o,b,V);return Se&&Se.length>0?new Z(!1,Se):null}getColumnOfNodeOffset(e,o,b){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,o,b):1}}Ze.CLASS_NAME="view-line";class je{constructor(e,o,b){this._cachedWidth=-1,this.domNode=e,this.input=o;const V=Math.floor(o.lineContent.length/300);if(V>0){this._keyColumnPixelOffsetCache=new Float32Array(V);for(let Q=0;Q<V;Q++)this._keyColumnPixelOffsetCache[Q]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=b,this._charWidth=o.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const o=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*o)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return We;if(this.input.lineContent.length<300){const e=this.getWidth(null),o=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-o)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),We=!1)}return We}toSlowRenderedLine(){return oe(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,o,b,V){const Q=this._getColumnPixelOffset(e,o,V),Se=this._getColumnPixelOffset(e,b,V);return[new Re(Q,Se-Q)]}_getColumnPixelOffset(e,o,b){if(o<=300){const rt=this._characterMapping.getHorizontalOffset(o);return this._charWidth*rt}const V=Math.floor((o-1)/300)-1,Q=(V+1)*300+1;let Se=-1;if(this._keyColumnPixelOffsetCache&&(Se=this._keyColumnPixelOffsetCache[V],Se===-1&&(Se=this._actualReadPixelOffset(e,Q,b),this._keyColumnPixelOffsetCache[V]=Se)),Se===-1){const rt=this._characterMapping.getHorizontalOffset(o);return this._charWidth*rt}const Ae=this._characterMapping.getHorizontalOffset(Q),Ye=this._characterMapping.getHorizontalOffset(o);return Se+this._charWidth*(Ye-Ae)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,o,b){if(!this.domNode)return-1;const V=this._characterMapping.getDomPosition(o),Q=se.readHorizontalRanges(this._getReadingTarget(this.domNode),V.partIndex,V.charIndex,V.partIndex,V.charIndex,b);return!Q||Q.length===0?-1:Q[0].left}getColumnOfNodeOffset(e,o,b){const V=o.textContent.length;let Q=-1;for(;o;)o=o.previousSibling,Q++;return this._characterMapping.getColumn(new he.Nd(Q,b),V)}}class Te{constructor(e,o,b,V,Q){if(this.domNode=e,this.input=o,this._characterMapping=b,this._isWhitespaceOnly=/^\s*$/.test(o.lineContent),this._containsForeignElements=Q,this._cachedWidth=-1,this._pixelOffsetCache=null,!V||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Se=0,Ae=this._characterMapping.length;Se<=Ae;Se++)this._pixelOffsetCache[Se]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,o,b,V){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const Q=this._readPixelOffset(this.domNode,e,o,V);if(Q===-1)return null;const Se=this._readPixelOffset(this.domNode,e,b,V);return Se===-1?null:[new Re(Q,Se-Q)]}return this._readVisibleRangesForRange(this.domNode,e,o,b,V)}_readVisibleRangesForRange(e,o,b,V,Q){if(b===V){const Se=this._readPixelOffset(e,o,b,Q);return Se===-1?null:[new Re(Se,0)]}else return this._readRawVisibleRangesForRange(e,b,V,Q)}_readPixelOffset(e,o,b,V){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(V);const Q=this._getReadingTarget(e);return Q.firstChild?(V.markDidDomLayout(),Q.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const Q=this._pixelOffsetCache[b];if(Q!==-1)return Q;const Se=this._actualReadPixelOffset(e,o,b,V);return this._pixelOffsetCache[b]=Se,Se}return this._actualReadPixelOffset(e,o,b,V)}_actualReadPixelOffset(e,o,b,V){if(this._characterMapping.length===0){const Ye=se.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,V);return!Ye||Ye.length===0?-1:Ye[0].left}if(b===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(V);const Q=this._characterMapping.getDomPosition(b),Se=se.readHorizontalRanges(this._getReadingTarget(e),Q.partIndex,Q.charIndex,Q.partIndex,Q.charIndex,V);if(!Se||Se.length===0)return-1;const Ae=Se[0].left;if(this.input.isBasicASCII){const Ye=this._characterMapping.getHorizontalOffset(b),rt=Math.round(this.input.spaceWidth*Ye);if(Math.abs(rt-Ae)<=1)return rt}return Ae}_readRawVisibleRangesForRange(e,o,b,V){if(o===1&&b===this._characterMapping.length)return[new Re(0,this.getWidth(V))];const Q=this._characterMapping.getDomPosition(o),Se=this._characterMapping.getDomPosition(b);return se.readHorizontalRanges(this._getReadingTarget(e),Q.partIndex,Q.charIndex,Se.partIndex,Se.charIndex,V)}getColumnOfNodeOffset(e,o,b){const V=o.textContent.length;let Q=-1;for(;o;)o=o.previousSibling,Q++;return this._characterMapping.getColumn(new he.Nd(Q,b),V)}}class Ie extends Te{_readVisibleRangesForRange(e,o,b,V,Q){const Se=super._readVisibleRangesForRange(e,o,b,V,Q);if(!Se||Se.length===0||b===V||b===1&&V===this._characterMapping.length)return Se;if(!this.input.containsRTL){const Ae=this._readPixelOffset(e,o,V,Q);if(Ae!==-1){const Ye=Se[Se.length-1];Ye.left<Ae&&(Ye.width=Ae-Ye.left)}}return Se}}const oe=function(){return d.isWebKit?ge:Ce}();function ge(Nt,e,o,b,V){return new Ie(Nt,e,o,b,V)}function Ce(Nt,e,o,b,V){return new Te(Nt,e,o,b,V)}var me=i(8964),Me=i(50038),qe=i(61669),ot=i(81831);class ut{constructor(e=null){this.hitTarget=e,this.type=0}}class ht{constructor(e,o,b){this.position=e,this.spanNode=o,this.injectedText=b,this.type=1}}var Ct;(function(Nt){function e(o,b,V){const Q=o.getPositionFromDOMInfo(b,V);return Q?new ht(Q,b,null):new ut(b)}Nt.createFromDOMInfo=e})(Ct||(Ct={}));class Pt{constructor(e,o){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=o}}class bt{static _deduceRage(e,o=null){return!o&&e?new Me.e(e.lineNumber,e.column,e.lineNumber,e.column):o!=null?o:null}static createUnknown(e,o,b){return{type:0,element:e,mouseColumn:o,position:b,range:this._deduceRage(b)}}static createTextarea(e,o){return{type:1,element:e,mouseColumn:o,position:null,range:null}}static createMargin(e,o,b,V,Q,Se){return{type:e,element:o,mouseColumn:b,position:V,range:Q,detail:Se}}static createViewZone(e,o,b,V,Q){return{type:e,element:o,mouseColumn:b,position:V,range:this._deduceRage(V),detail:Q}}static createContentText(e,o,b,V,Q){return{type:6,element:e,mouseColumn:o,position:b,range:this._deduceRage(b,V),detail:Q}}static createContentEmpty(e,o,b,V){return{type:7,element:e,mouseColumn:o,position:b,range:this._deduceRage(b),detail:V}}static createContentWidget(e,o,b){return{type:9,element:e,mouseColumn:o,position:null,range:null,detail:b}}static createScrollbar(e,o,b){return{type:11,element:e,mouseColumn:o,position:b,range:this._deduceRage(b)}}static createOverlayWidget(e,o,b){return{type:12,element:e,mouseColumn:o,position:null,range:null,detail:b}}static createOutsideEditor(e,o,b,V){return{type:13,element:null,mouseColumn:e,position:o,range:this._deduceRage(o),outsidePosition:b,outsideDistance:V}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class $t{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Mt{constructor(e,o,b){this.viewModel=e.viewModel;const V=e.configuration.options;this.layoutInfo=V.get(139),this.viewDomNode=o.viewDomNode,this.lineHeight=V.get(64),this.stickyTabStops=V.get(111),this.typicalHalfwidthCharacterWidth=V.get(48).typicalHalfwidthCharacterWidth,this.lastRenderData=b,this._context=e,this._viewHelper=o}getZoneAtCoord(e){return Mt.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,o){const b=e.viewLayout.getWhitespaceAtVerticalOffset(o);if(b){const V=b.verticalOffset+b.height/2,Q=e.viewModel.getLineCount();let Se=null,Ae,Ye=null;return b.afterLineNumber!==Q&&(Ye=new me.L(b.afterLineNumber+1,1)),b.afterLineNumber>0&&(Se=new me.L(b.afterLineNumber,e.viewModel.getLineMaxColumn(b.afterLineNumber))),Ye===null?Ae=Se:Se===null?Ae=Ye:o<V?Ae=Se:Ae=Ye,{viewZoneId:b.id,afterLineNumber:b.afterLineNumber,positionBefore:Se,positionAfter:Ye,position:Ae}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const V=this._context.viewModel.getLineCount(),Q=this._context.viewModel.getLineMaxColumn(V);return{range:new Me.e(V,Q,V,Q),isAfterLines:!0}}const o=this._context.viewLayout.getLineNumberAtVerticalOffset(e),b=this._context.viewModel.getLineMaxColumn(o);return{range:new Me.e(o,1,o,b),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,o){return Mt._findAttribute(e,o,this._viewHelper.viewDomNode)}static _findAttribute(e,o,b){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(o))return e.getAttribute(o);if(e===b)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,o){return this._viewHelper.visibleRangeForPosition(e,o)}getPositionFromDOMInfo(e,o){return this._viewHelper.getPositionFromDOMInfo(e,o)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Xe{constructor(e,o,b,V){this.editorPos=o,this.pos=b,this.relativePos=V,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Fe._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Lt extends Xe{constructor(e,o,b,V,Q){super(e,o,b,V),this._ctx=e,Q?(this.target=Q,this.targetPath=ue.collect(Q,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?qe.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return bt.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return bt.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,o,b,V){return bt.createMargin(e,this.target,this._getMouseColumn(o),o,b,V)}fulfillViewZone(e,o,b){return bt.createViewZone(e,this.target,this._getMouseColumn(o),o,b)}fulfillContentText(e,o,b){return bt.createContentText(this.target,this._getMouseColumn(e),e,o,b)}fulfillContentEmpty(e,o){return bt.createContentEmpty(this.target,this._getMouseColumn(e),e,o)}fulfillContentWidget(e){return bt.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return bt.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return bt.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new Lt(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const Xt={isAfterLines:!0};function zt(Nt){return{isAfterLines:!1,horizontalDistanceToText:Nt}}class Fe{constructor(e,o){this._context=e,this._viewHelper=o}mouseTargetIsWidget(e){const o=e.target,b=ue.collect(o,this._viewHelper.viewDomNode);return!!($t.isChildOfContentWidgets(b)||$t.isChildOfOverflowingContentWidgets(b)||$t.isChildOfOverlayWidgets(b))}createMouseTarget(e,o,b,V,Q){const Se=new Mt(this._context,this._viewHelper,e),Ae=new Lt(Se,o,b,V,Q);try{const Ye=Fe._createMouseTarget(Se,Ae,!1);if(Ye.type===6&&Se.stickyTabStops&&Ye.position!==null){const rt=Fe._snapToSoftTabBoundary(Ye.position,Se.viewModel),st=Me.e.fromPositions(rt,rt).plusRange(Ye.range);return Ae.fulfillContentText(rt,st,Ye.detail)}return Ye}catch(Ye){return Ae.fulfillUnknown()}}static _createMouseTarget(e,o,b){if(o.target===null){if(b)return o.fulfillUnknown();const Se=Fe._doHitTest(e,o);return Se.type===1?Fe.createMouseTargetFromHitTestPosition(e,o,Se.spanNode,Se.position,Se.injectedText):this._createMouseTarget(e,o.withTarget(Se.hitTarget),!0)}const V=o;let Q=null;return Q=Q||Fe._hitTestContentWidget(e,V),Q=Q||Fe._hitTestOverlayWidget(e,V),Q=Q||Fe._hitTestMinimap(e,V),Q=Q||Fe._hitTestScrollbarSlider(e,V),Q=Q||Fe._hitTestViewZone(e,V),Q=Q||Fe._hitTestMargin(e,V),Q=Q||Fe._hitTestViewCursor(e,V),Q=Q||Fe._hitTestTextArea(e,V),Q=Q||Fe._hitTestViewLines(e,V,b),Q=Q||Fe._hitTestScrollbar(e,V),Q||o.fulfillUnknown()}static _hitTestContentWidget(e,o){if($t.isChildOfContentWidgets(o.targetPath)||$t.isChildOfOverflowingContentWidgets(o.targetPath)){const b=e.findAttribute(o.target,"widgetId");return b?o.fulfillContentWidget(b):o.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,o){if($t.isChildOfOverlayWidgets(o.targetPath)){const b=e.findAttribute(o.target,"widgetId");return b?o.fulfillOverlayWidget(b):o.fulfillUnknown()}return null}static _hitTestViewCursor(e,o){if(o.target){const b=e.lastRenderData.lastViewCursorsRenderData;for(const V of b)if(o.target===V.domNode)return o.fulfillContentText(V.position,null,{mightBeForeignElement:!1,injectedText:null})}if(o.isInContentArea){const b=e.lastRenderData.lastViewCursorsRenderData,V=o.mouseContentHorizontalOffset,Q=o.mouseVerticalOffset;for(const Se of b){if(V<Se.contentLeft||V>Se.contentLeft+Se.width)continue;const Ae=e.getVerticalOffsetForLineNumber(Se.position.lineNumber);if(Ae<=Q&&Q<=Ae+Se.height)return o.fulfillContentText(Se.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,o){const b=e.getZoneAtCoord(o.mouseVerticalOffset);if(b){const V=o.isInContentArea?8:5;return o.fulfillViewZone(V,b.position,b)}return null}static _hitTestTextArea(e,o){return $t.isTextArea(o.targetPath)?e.lastRenderData.lastTextareaPosition?o.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):o.fulfillTextarea():null}static _hitTestMargin(e,o){if(o.isInMarginArea){const b=e.getFullLineRangeAtCoord(o.mouseVerticalOffset),V=b.range.getStartPosition();let Q=Math.abs(o.relativePos.x);const Se={isAfterLines:b.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:Q};return Q-=e.layoutInfo.glyphMarginLeft,Q<=e.layoutInfo.glyphMarginWidth?o.fulfillMargin(2,V,b.range,Se):(Q-=e.layoutInfo.glyphMarginWidth,Q<=e.layoutInfo.lineNumbersWidth?o.fulfillMargin(3,V,b.range,Se):(Q-=e.layoutInfo.lineNumbersWidth,o.fulfillMargin(4,V,b.range,Se)))}return null}static _hitTestViewLines(e,o,b){if(!$t.isChildOfViewLines(o.targetPath))return null;if(e.isInTopPadding(o.mouseVerticalOffset))return o.fulfillContentEmpty(new me.L(1,1),Xt);if(e.isAfterLines(o.mouseVerticalOffset)||e.isInBottomPadding(o.mouseVerticalOffset)){const Q=e.viewModel.getLineCount(),Se=e.viewModel.getLineMaxColumn(Q);return o.fulfillContentEmpty(new me.L(Q,Se),Xt)}if(b){if($t.isStrictChildOfViewLines(o.targetPath)){const Q=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset);if(e.viewModel.getLineLength(Q)===0){const Ae=e.getLineWidth(Q),Ye=zt(o.mouseContentHorizontalOffset-Ae);return o.fulfillContentEmpty(new me.L(Q,1),Ye)}const Se=e.getLineWidth(Q);if(o.mouseContentHorizontalOffset>=Se){const Ae=zt(o.mouseContentHorizontalOffset-Se),Ye=new me.L(Q,e.viewModel.getLineMaxColumn(Q));return o.fulfillContentEmpty(Ye,Ae)}}return o.fulfillUnknown()}const V=Fe._doHitTest(e,o);return V.type===1?Fe.createMouseTargetFromHitTestPosition(e,o,V.spanNode,V.position,V.injectedText):this._createMouseTarget(e,o.withTarget(V.hitTarget),!0)}static _hitTestMinimap(e,o){if($t.isChildOfMinimap(o.targetPath)){const b=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),V=e.viewModel.getLineMaxColumn(b);return o.fulfillScrollbar(new me.L(b,V))}return null}static _hitTestScrollbarSlider(e,o){if($t.isChildOfScrollableElement(o.targetPath)&&o.target&&o.target.nodeType===1){const b=o.target.className;if(b&&/\b(slider|scrollbar)\b/.test(b)){const V=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),Q=e.viewModel.getLineMaxColumn(V);return o.fulfillScrollbar(new me.L(V,Q))}}return null}static _hitTestScrollbar(e,o){if($t.isChildOfScrollableElement(o.targetPath)){const b=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),V=e.viewModel.getLineMaxColumn(b);return o.fulfillScrollbar(new me.L(b,V))}return null}getMouseColumn(e){const o=this._context.configuration.options,b=o.get(139),V=this._context.viewLayout.getCurrentScrollLeft()+e.x-b.contentLeft;return Fe._getMouseColumn(V,o.get(48).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,o){return e<0?1:Math.round(e/o)+1}static createMouseTargetFromHitTestPosition(e,o,b,V,Q){const Se=V.lineNumber,Ae=V.column,Ye=e.getLineWidth(Se);if(o.mouseContentHorizontalOffset>Ye){const bi=zt(o.mouseContentHorizontalOffset-Ye);return o.fulfillContentEmpty(V,bi)}const rt=e.visibleRangeForPosition(Se,Ae);if(!rt)return o.fulfillUnknown(V);const st=rt.left;if(Math.abs(o.mouseContentHorizontalOffset-st)<1)return o.fulfillContentText(V,null,{mightBeForeignElement:!!Q,injectedText:Q});const vt=[];if(vt.push({offset:rt.left,column:Ae}),Ae>1){const bi=e.visibleRangeForPosition(Se,Ae-1);bi&&vt.push({offset:bi.left,column:Ae-1})}const Ht=e.viewModel.getLineMaxColumn(Se);if(Ae<Ht){const bi=e.visibleRangeForPosition(Se,Ae+1);bi&&vt.push({offset:bi.left,column:Ae+1})}vt.sort((bi,Ii)=>bi.offset-Ii.offset);const Tt=o.pos.toClientCoordinates(),ei=b.getBoundingClientRect(),ai=ei.left<=Tt.clientX&&Tt.clientX<=ei.right;let di=null;for(let bi=1;bi<vt.length;bi++){const Ii=vt[bi-1],Bi=vt[bi];if(Ii.offset<=o.mouseContentHorizontalOffset&&o.mouseContentHorizontalOffset<=Bi.offset){di=new Me.e(Se,Ii.column,Se,Bi.column);const nn=Math.abs(Ii.offset-o.mouseContentHorizontalOffset),Yi=Math.abs(Bi.offset-o.mouseContentHorizontalOffset);V=nn<Yi?new me.L(Se,Ii.column):new me.L(Se,Bi.column);break}}return o.fulfillContentText(V,di,{mightBeForeignElement:!ai||!!Q,injectedText:Q})}static _doHitTestWithCaretRangeFromPoint(e,o){const b=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),V=e.getVerticalOffsetForLineNumber(b),Q=V+e.lineHeight;if(!(b===e.viewModel.getLineCount()&&o.mouseVerticalOffset>Q)){const Ae=Math.floor((V+Q)/2);let Ye=o.pos.y+(Ae-o.mouseVerticalOffset);Ye<=o.editorPos.y&&(Ye=o.editorPos.y+1),Ye>=o.editorPos.y+o.editorPos.height&&(Ye=o.editorPos.y+o.editorPos.height-1);const rt=new be.YN(o.pos.x,Ye),st=this._actualDoHitTestWithCaretRangeFromPoint(e,rt.toClientCoordinates());if(st.type===1)return st}return this._actualDoHitTestWithCaretRangeFromPoint(e,o.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,o){const b=M.Ay(e.viewDomNode);let V;if(b?typeof b.caretRangeFromPoint=="undefined"?V=et(b,o.clientX,o.clientY):V=b.caretRangeFromPoint(o.clientX,o.clientY):V=document.caretRangeFromPoint(o.clientX,o.clientY),!V||!V.startContainer)return new ut;const Q=V.startContainer;if(Q.nodeType===Q.TEXT_NODE){const Se=Q.parentNode,Ae=Se?Se.parentNode:null,Ye=Ae?Ae.parentNode:null;return(Ye&&Ye.nodeType===Ye.ELEMENT_NODE?Ye.className:null)===Ze.CLASS_NAME?Ct.createFromDOMInfo(e,Se,V.startOffset):new ut(Q.parentNode)}else if(Q.nodeType===Q.ELEMENT_NODE){const Se=Q.parentNode,Ae=Se?Se.parentNode:null;return(Ae&&Ae.nodeType===Ae.ELEMENT_NODE?Ae.className:null)===Ze.CLASS_NAME?Ct.createFromDOMInfo(e,Q,Q.textContent.length):new ut(Q)}return new ut}static _doHitTestWithCaretPositionFromPoint(e,o){const b=document.caretPositionFromPoint(o.clientX,o.clientY);if(b.offsetNode.nodeType===b.offsetNode.TEXT_NODE){const V=b.offsetNode.parentNode,Q=V?V.parentNode:null,Se=Q?Q.parentNode:null;return(Se&&Se.nodeType===Se.ELEMENT_NODE?Se.className:null)===Ze.CLASS_NAME?Ct.createFromDOMInfo(e,b.offsetNode.parentNode,b.offset):new ut(b.offsetNode.parentNode)}if(b.offsetNode.nodeType===b.offsetNode.ELEMENT_NODE){const V=b.offsetNode.parentNode,Q=V&&V.nodeType===V.ELEMENT_NODE?V.className:null,Se=V?V.parentNode:null,Ae=Se&&Se.nodeType===Se.ELEMENT_NODE?Se.className:null;if(Q===Ze.CLASS_NAME){const Ye=b.offsetNode.childNodes[Math.min(b.offset,b.offsetNode.childNodes.length-1)];if(Ye)return Ct.createFromDOMInfo(e,Ye,0)}else if(Ae===Ze.CLASS_NAME)return Ct.createFromDOMInfo(e,b.offsetNode,0)}return new ut(b.offsetNode)}static _snapToSoftTabBoundary(e,o){const b=o.getLineContent(e.lineNumber),{tabSize:V}=o.model.getOptions(),Q=ot.l.atomicPosition(b,e.column-1,V,2);return Q!==-1?new me.L(e.lineNumber,Q+1):e}static _doHitTest(e,o){let b=new ut;if(typeof document.caretRangeFromPoint=="function"?b=this._doHitTestWithCaretRangeFromPoint(e,o):document.caretPositionFromPoint&&(b=this._doHitTestWithCaretPositionFromPoint(e,o.pos.toClientCoordinates())),b.type===1){const V=e.viewModel.getInjectedTextAt(b.position),Q=e.viewModel.normalizePosition(b.position,2);(V||!Q.equals(b.position))&&(b=new ht(Q,b.spanNode,V))}return b}}function et(Nt,e,o){const b=document.createRange();let V=Nt.elementFromPoint(e,o);if(V!==null){for(;V&&V.firstChild&&V.firstChild.nodeType!==V.firstChild.TEXT_NODE&&V.lastChild&&V.lastChild.firstChild;)V=V.lastChild;const Q=V.getBoundingClientRect(),Se=window.getComputedStyle(V,null).getPropertyValue("font-style"),Ae=window.getComputedStyle(V,null).getPropertyValue("font-variant"),Ye=window.getComputedStyle(V,null).getPropertyValue("font-weight"),rt=window.getComputedStyle(V,null).getPropertyValue("font-size"),st=window.getComputedStyle(V,null).getPropertyValue("line-height"),vt=window.getComputedStyle(V,null).getPropertyValue("font-family"),Ht=`${Se} ${Ae} ${Ye} ${rt}/${st} ${vt}`,Tt=V.innerText;let ei=Q.left,ai=0,di;if(e>Q.left+Q.width)ai=Tt.length;else{const bi=pt.getInstance();for(let Ii=0;Ii<Tt.length+1;Ii++){if(di=bi.getCharWidth(Tt.charAt(Ii),Ht)/2,ei+=di,e<ei){ai=Ii;break}ei+=di}}b.setStart(V.firstChild,ai),b.setEnd(V.firstChild,ai)}return b}class pt{static getInstance(){return pt._INSTANCE||(pt._INSTANCE=new pt),pt._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,o){const b=e+o;if(this._cache[b])return this._cache[b];const V=this._canvas.getContext("2d");V.font=o;const Se=V.measureText(e).width;return this._cache[b]=Se,Se}}pt._INSTANCE=null;var It=i(60018);class kt extends xe{constructor(e,o,b){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=o,this.viewHelper=b,this.mouseTargetFactory=new Fe(this._context,b),this._mouseDownOperation=this._register(new yt(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Se,Ae)=>this._createMouseTarget(Se,Ae),Se=>this._getMouseColumn(Se))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(139).height;const V=new be.N5(this.viewHelper.viewDomNode);this._register(V.onContextMenu(this.viewHelper.viewDomNode,Se=>this._onContextMenu(Se,!0))),this._register(V.onMouseMove(this.viewHelper.viewDomNode,Se=>{this._onMouseMove(Se),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=M.nm(document,"mousemove",Ae=>{this.viewHelper.viewDomNode.contains(Ae.target)||this._onMouseLeave(new be.gy(Ae,!1,this.viewHelper.viewDomNode))}))})),this._register(V.onMouseUp(this.viewHelper.viewDomNode,Se=>this._onMouseUp(Se))),this._register(V.onMouseLeave(this.viewHelper.viewDomNode,Se=>this._onMouseLeave(Se)));let Q=0;this._register(V.onPointerDown(this.viewHelper.viewDomNode,(Se,Ae)=>{Q=Ae})),this._register(M.nm(this.viewHelper.viewDomNode,M.tw.POINTER_UP,Se=>{this._mouseDownOperation.onPointerUp()})),this._register(V.onMouseDown(this.viewHelper.viewDomNode,Se=>this._onMouseDown(Se,Q))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=It.Io.INSTANCE;let o=0,b=T.C.getZoomLevel(),V=!1,Q=0;const Se=Ye=>{if(this.viewController.emitMouseWheel(Ye),!this._context.configuration.options.get(73))return;const rt=new Ne.q(Ye);if(e.acceptStandardWheelEvent(rt),e.isPhysicalMouseWheel()){if(Ae(Ye)){const st=T.C.getZoomLevel(),vt=rt.deltaY>0?1:-1;T.C.setZoomLevel(st+vt),rt.preventDefault(),rt.stopPropagation()}}else Date.now()-o>50&&(b=T.C.getZoomLevel(),V=Ae(Ye),Q=0),o=Date.now(),Q+=rt.deltaY,V&&(T.C.setZoomLevel(b+Q/5),rt.preventDefault(),rt.stopPropagation())};this._register(M.nm(this.viewHelper.viewDomNode,M.tw.MOUSE_WHEEL,Se,{capture:!0,passive:!1}));function Ae(Ye){return a.dz?(Ye.metaKey||Ye.ctrlKey)&&!Ye.shiftKey&&!Ye.altKey:Ye.ctrlKey&&!Ye.metaKey&&!Ye.shiftKey&&!Ye.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(139)){const o=this._context.configuration.options.get(139).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,o){const V=new be.rU(e,o).toPageCoordinates(),Q=(0,be.kG)(this.viewHelper.viewDomNode);if(V.y<Q.y||V.y>Q.y+Q.height||V.x<Q.x||V.x>Q.x+Q.width)return null;const Se=(0,be.Pp)(this.viewHelper.viewDomNode,Q,V);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Q,V,Se,null)}_createMouseTarget(e,o){let b=e.target;if(!this.viewHelper.viewDomNode.contains(b)){const V=M.Ay(this.viewHelper.viewDomNode);V&&(b=V.elementsFromPoint(e.posx,e.posy).find(Q=>this.viewHelper.viewDomNode.contains(Q)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,o?b:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,o){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,o)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,o){const b=this._createMouseTarget(e,!0),V=b.type===6||b.type===7,Q=b.type===2||b.type===3||b.type===4,Se=b.type===3,Ae=this._context.configuration.options.get(104),Ye=b.type===8||b.type===5,rt=b.type===9;let st=e.leftButton||e.middleButton;a.dz&&e.leftButton&&e.ctrlKey&&(st=!1);const vt=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(st&&(V||Se&&Ae))vt(),this._mouseDownOperation.start(b.type,e,o);else if(Q)e.preventDefault();else if(Ye){const Ht=b.detail;st&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Ht.viewZoneId)&&(vt(),this._mouseDownOperation.start(b.type,e,o),e.preventDefault())}else rt&&this.viewHelper.shouldSuppressMouseDownOnWidget(b.detail)&&(vt(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:b})}}class yt extends p.JT{constructor(e,o,b,V,Q,Se){super(),this._context=e,this._viewController=o,this._viewHelper=b,this._mouseTargetFactory=V,this._createMouseTarget=Q,this._getMouseColumn=Se,this._mouseMoveMonitor=this._register(new be.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new St(this._context,this._viewHelper,this._mouseTargetFactory,(Ae,Ye,rt)=>this._dispatchMouse(Ae,Ye,rt))),this._mouseState=new ti,this._currentSelection=new ee.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const o=this._findMousePosition(e,!1);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:o}):o.type===13&&(o.outsidePosition==="above"||o.outsidePosition==="below")?this._topBottomDragScrolling.start(o,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(o,!0,1)))}start(e,o,b){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const V=this._findMousePosition(o,!0);if(!V||!V.position)return;this._mouseState.trySetCount(o.detail,V.position),o.detail=this._mouseState.count;const Q=this._context.configuration.options;if(!Q.get(87)&&Q.get(33)&&!Q.get(20)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&V.type===6&&V.position&&this._currentSelection.containsPosition(V.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,b,o.buttons,Se=>this._onMouseDownThenMove(Se),Se=>{const Ae=this._findMousePosition(this._lastMouseEvent,!1);Se&&Se instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Ae?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(V,o.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,b,o.buttons,Se=>this._onMouseDownThenMove(Se),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const o=e.editorPos,b=this._context.viewModel,V=this._context.viewLayout,Q=this._getMouseColumn(e);if(e.posy<o.y){const Ae=o.y-e.posy,Ye=Math.max(V.getCurrentScrollTop()-Ae,0),rt=Mt.getZoneAtCoord(this._context,Ye);if(rt){const vt=this._helpPositionJumpOverViewZone(rt);if(vt)return bt.createOutsideEditor(Q,vt,"above",Ae)}const st=V.getLineNumberAtVerticalOffset(Ye);return bt.createOutsideEditor(Q,new me.L(st,1),"above",Ae)}if(e.posy>o.y+o.height){const Ae=e.posy-o.y-o.height,Ye=V.getCurrentScrollTop()+e.relativePos.y,rt=Mt.getZoneAtCoord(this._context,Ye);if(rt){const vt=this._helpPositionJumpOverViewZone(rt);if(vt)return bt.createOutsideEditor(Q,vt,"below",Ae)}const st=V.getLineNumberAtVerticalOffset(Ye);return bt.createOutsideEditor(Q,new me.L(st,b.getLineMaxColumn(st)),"below",Ae)}const Se=V.getLineNumberAtVerticalOffset(V.getCurrentScrollTop()+e.relativePos.y);if(e.posx<o.x){const Ae=o.x-e.posx;return bt.createOutsideEditor(Q,new me.L(Se,1),"left",Ae)}if(e.posx>o.x+o.width){const Ae=e.posx-o.x-o.width;return bt.createOutsideEditor(Q,new me.L(Se,b.getLineMaxColumn(Se)),"right",Ae)}return null}_findMousePosition(e,o){const b=this._getPositionOutsideEditor(e);if(b)return b;const V=this._createMouseTarget(e,o);if(!V.position)return null;if(V.type===8||V.type===5){const Se=this._helpPositionJumpOverViewZone(V.detail);if(Se)return bt.createViewZone(V.type,V.element,V.mouseColumn,Se,V.detail)}return V}_helpPositionJumpOverViewZone(e){const o=new me.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),b=e.positionBefore,V=e.positionAfter;return b&&V?b.isBefore(o)?b:V:null}_dispatchMouse(e,o,b){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:b,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class St extends p.JT{constructor(e,o,b,V){super(),this._context=e,this._viewHelper=o,this._mouseTargetFactory=b,this._dispatchMouse=V,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,o){this._operation?this._operation.setPosition(e,o):this._operation=new Gt(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,o)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class Gt extends p.JT{constructor(e,o,b,V,Q,Se){super(),this._context=e,this._viewHelper=o,this._mouseTargetFactory=b,this._dispatchMouse=V,this._position=Q,this._mouseEvent=Se,this._lastTime=Date.now(),this._animationFrameDisposable=M.jL(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(e,o){this._position=e,this._mouseEvent=o}_tick(){const e=Date.now(),o=e-this._lastTime;return this._lastTime=e,o}_getScrollSpeed(){const e=this._context.configuration.options.get(64),o=this._context.configuration.options.get(139).height/e,b=this._position.outsideDistance/e;return b<=1.5?Math.max(30,o*(1+b)):b<=3?Math.max(60,o*(2+b)):Math.max(200,o*(7+b))}_execute(){const e=this._context.configuration.options.get(64),o=this._getScrollSpeed(),b=this._tick(),V=o*(b/1e3)*e,Q=this._position.outsidePosition==="above"?-V:V;this._context.viewModel.viewLayout.deltaScrollNow(0,Q),this._viewHelper.renderNow();const Se=this._context.viewLayout.getLinesViewportData(),Ae=this._position.outsidePosition==="above"?Se.startLineNumber:Se.endLineNumber;let Ye;{const rt=(0,be.kG)(this._viewHelper.viewDomNode),st=this._context.configuration.options.get(139).horizontalScrollbarHeight,vt=new be.YN(this._mouseEvent.pos.x,rt.y+rt.height-st-.1),Ht=(0,be.Pp)(this._viewHelper.viewDomNode,rt,vt);Ye=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),rt,vt,Ht,null)}(!Ye.position||Ye.position.lineNumber!==Ae)&&(this._position.outsidePosition==="above"?Ye=bt.createOutsideEditor(this._position.mouseColumn,new me.L(Ae,1),"above",this._position.outsideDistance):Ye=bt.createOutsideEditor(this._position.mouseColumn,new me.L(Ae,this._context.viewModel.getLineMaxColumn(Ae)),"below",this._position.outsideDistance)),this._dispatchMouse(Ye,!0,2),this._animationFrameDisposable=M.jL(()=>this._execute())}}class ti{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,o){const b=new Date().getTime();b-this._lastSetMouseDownCountTime>ti.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=b,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}ti.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var ri=i(83092),li=i(10521);class gi extends kt{constructor(e,o,b){super(e,o,b),this._register(De.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(M.nm(this.viewHelper.linesContentDomNode,De.t.Tap,Q=>this.onTap(Q))),this._register(M.nm(this.viewHelper.linesContentDomNode,De.t.Change,Q=>this.onChange(Q))),this._register(M.nm(this.viewHelper.linesContentDomNode,De.t.Contextmenu,Q=>this._onContextMenu(new be.gy(Q,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(M.nm(this.viewHelper.linesContentDomNode,"pointerdown",Q=>{const Se=Q.pointerType;if(Se==="mouse"){this._lastPointerType="mouse";return}else Se==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const V=new be.tC(this.viewHelper.viewDomNode);this._register(V.onPointerMove(this.viewHelper.viewDomNode,Q=>this._onMouseMove(Q))),this._register(V.onPointerUp(this.viewHelper.viewDomNode,Q=>this._onMouseUp(Q))),this._register(V.onPointerLeave(this.viewHelper.viewDomNode,Q=>this._onMouseLeave(Q))),this._register(V.onPointerDown(this.viewHelper.viewDomNode,(Q,Se)=>this._onMouseDown(Q,Se)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new be.gy(e,!1,this.viewHelper.viewDomNode),!1);o.position&&this.viewController.dispatchMouse({position:o.position,mouseColumn:o.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:o.type===6&&o.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,o){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,o)}}class Pi extends kt{constructor(e,o,b){super(e,o,b),this._register(De.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(M.nm(this.viewHelper.linesContentDomNode,De.t.Tap,V=>this.onTap(V))),this._register(M.nm(this.viewHelper.linesContentDomNode,De.t.Change,V=>this.onChange(V))),this._register(M.nm(this.viewHelper.linesContentDomNode,De.t.Contextmenu,V=>this._onContextMenu(new be.gy(V,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new be.gy(e,!1,this.viewHelper.viewDomNode),!1);if(o.position){const b=document.createEvent("CustomEvent");b.initEvent(li.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(b),this.viewController.moveTo(o.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class Hi extends p.JT{constructor(e,o,b){super(),a.gn&&ri.D.pointerEvents?this.handler=this._register(new gi(e,o,b)):window.TouchEvent?this.handler=this._register(new Pi(e,o,b)):this.handler=this._register(new kt(e,o,b))}getTargetAtClientPoint(e,o){return this.handler.getTargetAtClientPoint(e,o)}}var ji=i(17416),bn=i(71344),Rn=i(60153);class bs extends xe{}var ms=i(58566),ki=i(44411);class Vi extends bs{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new me.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(64);const o=e.get(65);this._renderLineNumbers=o.renderType,this._renderCustomLineNumbers=o.renderFn,this._renderFinalNewline=e.get(90);const b=e.get(139);this._lineNumbersLeft=b.lineNumbersLeft,this._lineNumbersWidth=b.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const o=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(o);let b=!1;return this._activeLineNumber!==o.lineNumber&&(this._activeLineNumber=o.lineNumber,b=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(b=!0),b}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const o=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me.L(e,1));if(o.column!==1)return"";const b=o.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(b);if(this._renderLineNumbers===2){const V=Math.abs(this._lastCursorModelPosition.lineNumber-b);return V===0?'<span class="relative-current-line-number">'+b+"</span>":String(V)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===b||b%10===0?String(b):"":String(b)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const o=a.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",b=e.visibleRange.startLineNumber,V=e.visibleRange.endLineNumber,Q=this._context.viewModel.getLineCount(),Se=[];for(let Ae=b;Ae<=V;Ae++){const Ye=Ae-b,rt=this._getLineRenderLineNumber(Ae);if(!rt){Se[Ye]="";continue}let st="";if(Ae===Q&&this._context.viewModel.getLineLength(Ae)===0){if(this._renderFinalNewline==="off"){Se[Ye]="";continue}this._renderFinalNewline==="dimmed"&&(st=" dimmed-line-number")}Ae===this._activeLineNumber&&(st=" active-line-number"),Se[Ye]=`<div class="${Vi.CLASS_NAME}${o}${st}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${rt}</div>`}this._renderResult=Se}render(e,o){if(!this._renderResult)return"";const b=o-e;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}Vi.CLASS_NAME="line-numbers",(0,ms.Ic)((Nt,e)=>{const o=Nt.getColor(ki.hw),b=Nt.getColor(ki.Bj);b?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${b}; }`):o&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${o.transparent(.4)}; }`)});class Ki extends Le{constructor(e){super(e);const o=this._context.configuration.options,b=o.get(139);this._canUseLayerHinting=!o.get(30),this._contentLeft=b.contentLeft,this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,this._domNode=(0,fe.X)(document.createElement("div")),this._domNode.setClassName(Ki.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,fe.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Ki.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const o=this._context.configuration.options,b=o.get(139);return this._canUseLayerHinting=!o.get(30),this._contentLeft=b.contentLeft,this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const o=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-o);const b=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(b),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(b)}}Ki.CLASS_NAME="glyph-margin",Ki.OUTER_CLASS_NAME="margin";var es=i(31599),Ls=i(56245),ts=i(36082),Kn=i(86741),Wn=i(35990);class yn{constructor(e,o,b,V,Q){this._context=e,this.modelLineNumber=o,this.distanceToModelLineStart=b,this.widthOfHiddenLineTextBefore=V,this.distanceToModelLineEnd=Q,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const o=new me.L(this.modelLineNumber,this.distanceToModelLineStart+1),b=new me.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(b),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const en=d.isFirefox;class Ms extends Le{constructor(e,o,b){super(e),this._primaryCursorPosition=new me.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=o,this._visibleRangeProvider=b,this._scrollLeft=0,this._scrollTop=0;const V=this._context.configuration.options,Q=V.get(139);this._setAccessibilityOptions(V),this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,this._contentHeight=Q.height,this._fontInfo=V.get(48),this._lineHeight=V.get(64),this._emptySelectionClipboard=V.get(35),this._copyWithSyntaxHighlighting=V.get(23),this._visibleTextArea=null,this._selections=[new ee.Y(1,1,1,1)],this._modelSelections=[new ee.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,fe.X)(document.createElement("textarea")),ue.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Ls.S}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:Se}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${Se*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(V)),this.textArea.setAttribute("tabindex",String(V.get(119))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",A.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,fe.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Ae={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:st=>this._context.viewModel.getLineMaxColumn(st),getValueInRange:(st,vt)=>this._context.viewModel.getValueInRange(st,vt),getValueLengthInRange:(st,vt)=>this._context.viewModel.getValueLengthInRange(st,vt),modifyPosition:(st,vt)=>this._context.viewModel.modifyPosition(st,vt)},Ye={getDataToCopy:()=>{const st=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,a.ED),vt=this._context.viewModel.model.getEOL(),Ht=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Tt=Array.isArray(st)?st:null,ei=Array.isArray(st)?st.join(vt):st;let ai,di=null;if(li.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&ei.length<65536){const bi=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);bi&&(ai=bi.html,di=bi.mode)}return{isFromEmptySelection:Ht,multicursorText:Tt,text:ei,html:ai,mode:di}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const st=this._selections[0];if(a.dz&&st.isEmpty()){const Ht=st.getStartPosition();let Tt=this._getWordBeforePosition(Ht);if(Tt.length===0&&(Tt=this._getCharacterBeforePosition(Ht)),Tt.length>0)return new Rn.un(Tt,Tt.length,Tt.length,Me.e.fromPositions(Ht),0)}const vt=500;if(a.dz&&!st.isEmpty()&&Ae.getValueLengthInRange(st,0)<vt){const Ht=Ae.getValueInRange(st,0);return new Rn.un(Ht,0,Ht.length,st,0)}if(d.isSafari&&!st.isEmpty()){const Ht="vscode-placeholder";return new Rn.un(Ht,0,Ht.length,null,void 0)}return Rn.un.EMPTY}if(d.isAndroid){const st=this._selections[0];if(st.isEmpty()){const vt=st.getStartPosition(),[Ht,Tt]=this._getAndroidWordAtPosition(vt);if(Ht.length>0)return new Rn.un(Ht,Tt,Tt,Me.e.fromPositions(vt),0)}return Rn.un.EMPTY}return Rn.ee.fromEditorSelection(Ae,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(st,vt,Ht)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(st,vt,Ht)},rt=this._register(new li.Tj(this.textArea.domNode));this._textAreaInput=this._register(new li.Fz(Ye,rt,a.OS,d)),this._register(this._textAreaInput.onKeyDown(st=>{this._viewController.emitKeyDown(st)})),this._register(this._textAreaInput.onKeyUp(st=>{this._viewController.emitKeyUp(st)})),this._register(this._textAreaInput.onPaste(st=>{let vt=!1,Ht=null,Tt=null;st.metadata&&(vt=this._emptySelectionClipboard&&!!st.metadata.isFromEmptySelection,Ht=typeof st.metadata.multicursorText!="undefined"?st.metadata.multicursorText:null,Tt=st.metadata.mode),this._viewController.paste(st.text,vt,Ht,Tt)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(st=>{st.replacePrevCharCnt||st.replaceNextCharCnt||st.positionDelta?(Rn.al&&console.log(` => compositionType: <<${st.text}>>, ${st.replacePrevCharCnt}, ${st.replaceNextCharCnt}, ${st.positionDelta}`),this._viewController.compositionType(st.text,st.replacePrevCharCnt,st.replaceNextCharCnt,st.positionDelta)):(Rn.al&&console.log(` => type: <<${st.text}>>`),this._viewController.type(st.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(st=>{this._viewController.setSelection(st)})),this._register(this._textAreaInput.onCompositionStart(st=>{const vt=this.textArea.domNode,Ht=this._modelSelections[0],{distanceToModelLineStart:Tt,widthOfHiddenTextBefore:ei}=(()=>{const di=vt.value.substring(0,Math.min(vt.selectionStart,vt.selectionEnd)),bi=di.lastIndexOf(`
`),Ii=di.substring(bi+1),Bi=Ii.lastIndexOf("	"),nn=Ii.length-Bi-1,Yi=Ht.getStartPosition(),Sn=Math.min(Yi.column-1,nn),Ln=Yi.column-1-Sn,En=Ii.substring(0,Ii.length-Sn),{tabSize:$i}=this._context.viewModel.model.getOptions(),Xn=Ss(En,this._fontInfo,$i);return{distanceToModelLineStart:Ln,widthOfHiddenTextBefore:Xn}})(),{distanceToModelLineEnd:ai}=(()=>{const di=vt.value.substring(Math.max(vt.selectionStart,vt.selectionEnd)),bi=di.indexOf(`
`),Ii=bi===-1?di:di.substring(0,bi),Bi=Ii.indexOf("	"),nn=Bi===-1?Ii.length:Ii.length-Bi-1,Yi=Ht.getEndPosition(),Sn=Math.min(this._context.viewModel.model.getLineMaxColumn(Yi.lineNumber)-Yi.column,nn);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Yi.lineNumber)-Yi.column-Sn}})();this._context.viewModel.revealRange("keyboard",!0,Me.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new yn(this._context,Ht.startLineNumber,Tt,ei,ai),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Ls.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(st=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${Ls.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(Wn.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeScreenReaderContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const o='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',b=this._context.viewModel.getLineContent(e.lineNumber),V=(0,es.u)(o);let Q=!0,Se=e.column,Ae=!0,Ye=e.column,rt=0;for(;rt<50&&(Q||Ae);){if(Q&&Se<=1&&(Q=!1),Q){const st=b.charCodeAt(Se-2);V.get(st)!==0?Q=!1:Se--}if(Ae&&Ye>b.length&&(Ae=!1),Ae){const st=b.charCodeAt(Ye-1);V.get(st)!==0?Ae=!1:Ye++}rt++}return[b.substring(Se-1,Ye-1),e.column-Se]}_getWordBeforePosition(e){const o=this._context.viewModel.getLineContent(e.lineNumber),b=(0,es.u)(this._context.configuration.options.get(125));let V=e.column,Q=0;for(;V>1;){const Se=o.charCodeAt(V-2);if(b.get(Se)!==0||Q>50)return o.substring(V-1,e.column-1);Q++,V--}return o.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const b=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!ji.ZG(b.charCodeAt(0)))return b}return""}_getAriaLabel(e){return e.get(2)===1?A.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",a.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const o=e.get(3);this._accessibilitySupport===2&&o===x.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=o;const V=e.get(139).wrappingColumn;if(V!==-1&&this._accessibilitySupport!==1){const Q=e.get(48);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(V*Q.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=en?0:1}onConfigurationChanged(e){const o=this._context.configuration.options,b=o.get(139);this._setAccessibilityOptions(o),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._contentHeight=b.height,this._fontInfo=o.get(48),this._lineHeight=o.get(64),this._emptySelectionClipboard=o.get(35),this._copyWithSyntaxHighlighting=o.get(23),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:V}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${V*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(119))),(e.hasChanged(32)||e.hasChanged(87))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!Wn.F.enabled||e.get(32)&&e.get(87)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var o;this._primaryCursorPosition=new me.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(o=this._visibleTextArea)===null||o===void 0||o.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const V=this._visibleTextArea.visibleTextareaStart,Q=this._visibleTextArea.visibleTextareaEnd,Se=this._visibleTextArea.startPosition,Ae=this._visibleTextArea.endPosition;if(Se&&Ae&&V&&Q&&Q.left>=this._scrollLeft&&V.left<=this._scrollLeft+this._contentWidth){const Ye=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,rt=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let st=this._visibleTextArea.widthOfHiddenLineTextBefore,vt=this._contentLeft+V.left-this._scrollLeft,Ht=Q.left-V.left+1;if(vt<this._contentLeft){const Ii=this._contentLeft-vt;vt+=Ii,st+=Ii,Ht-=Ii}Ht>this._contentWidth&&(Ht=this._contentWidth);const Tt=this._context.viewModel.getViewLineData(Se.lineNumber),ei=Tt.tokens.findTokenIndexAtOffset(Se.column-1),ai=Tt.tokens.findTokenIndexAtOffset(Ae.column-1),di=ei===ai,bi=this._visibleTextArea.definePresentation(di?Tt.tokens.getPresentation(ei):null);this.textArea.domNode.scrollTop=rt*this._lineHeight,this.textArea.domNode.scrollLeft=st,this._doRender({lastRenderPosition:null,top:Ye,left:vt,width:Ht,height:this._lineHeight,useCover:!1,color:(ts.RW.getColorMap()||[])[bi.foreground],italic:bi.italic,bold:bi.bold,underline:bi.underline,strikethrough:bi.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const o=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(o<this._contentLeft||o>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const b=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(b<0||b>this._contentHeight){this._renderAtTopLeft();return}if(a.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:b,left:this._textAreaWrapping?this._contentLeft:o,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const V=(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&e!==void 0?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=V*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:b,left:this._textAreaWrapping?this._contentLeft:o,width:this._textAreaWidth,height:en?0:1,useCover:!1})}_newlinecount(e){let o=0,b=-1;do{if(b=e.indexOf(`
`,b+1),b===-1)break;o++}while(!0);return o}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:en?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const o=this.textArea,b=this.textAreaCover;(0,bn.N)(o,this._fontInfo),o.setTop(e.top),o.setLeft(e.left),o.setWidth(e.width),o.setHeight(e.height),o.setColor(e.color?Kn.Il.Format.CSS.formatHex(e.color):""),o.setFontStyle(e.italic?"italic":""),e.bold&&o.setFontWeight("bold"),o.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),b.setTop(e.useCover?e.top:0),b.setLeft(e.useCover?e.left:0),b.setWidth(e.useCover?e.width:0),b.setHeight(e.useCover?e.height:0);const V=this._context.configuration.options;V.get(55)?b.setClassName("monaco-editor-background textAreaCover "+Ki.OUTER_CLASS_NAME):V.get(65).renderType!==0?b.setClassName("monaco-editor-background textAreaCover "+Vi.CLASS_NAME):b.setClassName("monaco-editor-background textAreaCover")}}function Ss(Nt,e,o){if(Nt.length===0)return 0;const b=document.createElement("div");b.style.position="absolute",b.style.top="-50000px",b.style.width="50000px";const V=document.createElement("span");(0,bn.N)(V,e),V.style.whiteSpace="pre",V.style.tabSize=`${o*e.spaceWidth}px`,V.append(Nt),b.appendChild(V),document.body.appendChild(b);const Q=V.offsetWidth;return document.body.removeChild(b),Q}var ps=i(68076);class oo{constructor(e,o,b,V){this.configuration=e,this.viewModel=o,this.userInputEvents=b,this.commandDelegate=V}paste(e,o,b,V){this.commandDelegate.paste(e,o,b,V)}type(e){this.commandDelegate.type(e)}compositionType(e,o,b,V){this.commandDelegate.compositionType(e,o,b,V)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){ps.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const o=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<o?new me.L(e.lineNumber,o):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(75)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(75)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const o=this.configuration.options,b=a.IJ&&o.get(102),V=o.get(20);e.middleButton&&!b?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):V?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,o){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:o}}moveTo(e,o){ps.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_moveToSelect(e,o){ps.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_columnSelect(e,o,b){e=this._validateViewColumn(e),ps.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:o,doColumnSelect:b})}_createCursor(e,o){e=this._validateViewColumn(e),ps.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:o})}_lastCursorMoveToSelect(e,o){ps.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_wordSelect(e,o){ps.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_wordSelectDrag(e,o){ps.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorWordSelect(e,o){ps.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lineSelect(e,o){ps.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lineSelectDrag(e,o){ps.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorLineSelect(e,o){ps.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_lastCursorLineSelectDrag(e,o){ps.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,o))}_selectAll(){ps.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class hs{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var o;(o=this.onKeyDown)===null||o===void 0||o.call(this,e)}emitKeyUp(e){var o;(o=this.onKeyUp)===null||o===void 0||o.call(this,e)}emitContextMenu(e){var o;(o=this.onContextMenu)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var o;(o=this.onMouseMove)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var o;(o=this.onMouseLeave)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var o;(o=this.onMouseDown)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var o;(o=this.onMouseUp)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var o;(o=this.onMouseDrag)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var o;(o=this.onMouseDrop)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var o;(o=this.onMouseWheel)===null||o===void 0||o.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return hs.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,o){const b=Object.assign({},e);return b.position&&(b.position=o.convertViewPositionToModelPosition(b.position)),b.range&&(b.range=o.convertViewRangeToModelRange(b.range)),b}}var Ts=i(12342),In;class Yn{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,o){this._lines=o,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const o=e-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(e,o){if(this.getCount()===0)return null;const b=this.getStartLineNumber(),V=this.getEndLineNumber();if(o<b){const Ye=o-e+1;return this._rendLineNumberStart-=Ye,null}if(e>V)return null;let Q=0,Se=0;for(let Ye=b;Ye<=V;Ye++){const rt=Ye-this._rendLineNumberStart;e<=Ye&&Ye<=o&&(Se===0?(Q=rt,Se=1):Se++)}if(e<b){let Ye=0;o<b?Ye=o-e+1:Ye=b-e,this._rendLineNumberStart-=Ye}return this._lines.splice(Q,Se)}onLinesChanged(e,o){const b=e+o-1;if(this.getCount()===0)return!1;const V=this.getStartLineNumber(),Q=this.getEndLineNumber();let Se=!1;for(let Ae=e;Ae<=b;Ae++)Ae>=V&&Ae<=Q&&(this._lines[Ae-this._rendLineNumberStart].onContentChanged(),Se=!0);return Se}onLinesInserted(e,o){if(this.getCount()===0)return null;const b=o-e+1,V=this.getStartLineNumber(),Q=this.getEndLineNumber();if(e<=V)return this._rendLineNumberStart+=b,null;if(e>Q)return null;if(b+e>Q)return this._lines.splice(e-this._rendLineNumberStart,Q-e+1);const Se=[];for(let vt=0;vt<b;vt++)Se[vt]=this._createLine();const Ae=e-this._rendLineNumberStart,Ye=this._lines.slice(0,Ae),rt=this._lines.slice(Ae,this._lines.length-b),st=this._lines.slice(this._lines.length-b,this._lines.length);return this._lines=Ye.concat(Se).concat(rt),st}onTokensChanged(e){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),b=this.getEndLineNumber();let V=!1;for(let Q=0,Se=e.length;Q<Se;Q++){const Ae=e[Q];if(Ae.toLineNumber<o||Ae.fromLineNumber>b)continue;const Ye=Math.max(o,Ae.fromLineNumber),rt=Math.min(b,Ae.toLineNumber);for(let st=Ye;st<=rt;st++){const vt=st-this._rendLineNumberStart;this._lines[vt].onTokensChanged(),V=!0}}return V}}class pi{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Yn(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,fe.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(139)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const o=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(o)for(let b=0,V=o.length;b<V;b++){const Q=o[b].getDomNode();Q&&this.domNode.domNode.removeChild(Q)}return!0}onLinesInserted(e){const o=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(o)for(let b=0,V=o.length;b<V;b++){const Q=o[b].getDomNode();Q&&this.domNode.domNode.removeChild(Q)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const o=this._linesCollection._get(),b=new ci(this.domNode.domNode,this._host,e),V={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},Q=b.render(V,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(Q.rendLineNumberStart,Q.lines)}}class ci{constructor(e,o,b){this.domNode=e,this.host=o,this.viewportData=b}render(e,o,b,V){const Q={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(Q.rendLineNumberStart+Q.linesLength-1<o||b<Q.rendLineNumberStart){Q.rendLineNumberStart=o,Q.linesLength=b-o+1,Q.lines=[];for(let Se=o;Se<=b;Se++)Q.lines[Se-o]=this.host.createVisibleLine();return this._finishRendering(Q,!0,V),Q}if(this._renderUntouchedLines(Q,Math.max(o-Q.rendLineNumberStart,0),Math.min(b-Q.rendLineNumberStart,Q.linesLength-1),V,o),Q.rendLineNumberStart>o){const Se=o,Ae=Math.min(b,Q.rendLineNumberStart-1);Se<=Ae&&(this._insertLinesBefore(Q,Se,Ae,V,o),Q.linesLength+=Ae-Se+1)}else if(Q.rendLineNumberStart<o){const Se=Math.min(Q.linesLength,o-Q.rendLineNumberStart);Se>0&&(this._removeLinesBefore(Q,Se),Q.linesLength-=Se)}if(Q.rendLineNumberStart=o,Q.rendLineNumberStart+Q.linesLength-1<b){const Se=Q.rendLineNumberStart+Q.linesLength,Ae=b;Se<=Ae&&(this._insertLinesAfter(Q,Se,Ae,V,o),Q.linesLength+=Ae-Se+1)}else if(Q.rendLineNumberStart+Q.linesLength-1>b){const Se=Math.max(0,b-Q.rendLineNumberStart+1),Ye=Q.linesLength-1-Se+1;Ye>0&&(this._removeLinesAfter(Q,Ye),Q.linesLength-=Ye)}return this._finishRendering(Q,!1,V),Q}_renderUntouchedLines(e,o,b,V,Q){const Se=e.rendLineNumberStart,Ae=e.lines;for(let Ye=o;Ye<=b;Ye++){const rt=Se+Ye;Ae[Ye].layoutLine(rt,V[rt-Q])}}_insertLinesBefore(e,o,b,V,Q){const Se=[];let Ae=0;for(let Ye=o;Ye<=b;Ye++)Se[Ae++]=this.host.createVisibleLine();e.lines=Se.concat(e.lines)}_removeLinesBefore(e,o){for(let b=0;b<o;b++){const V=e.lines[b].getDomNode();V&&this.domNode.removeChild(V)}e.lines.splice(0,o)}_insertLinesAfter(e,o,b,V,Q){const Se=[];let Ae=0;for(let Ye=o;Ye<=b;Ye++)Se[Ae++]=this.host.createVisibleLine();e.lines=e.lines.concat(Se)}_removeLinesAfter(e,o){const b=e.linesLength-o;for(let V=0;V<o;V++){const Q=e.lines[b+V].getDomNode();Q&&this.domNode.removeChild(Q)}e.lines.splice(b,o)}_finishRenderingNewLines(e,o,b,V){ci._ttPolicy&&(b=ci._ttPolicy.createHTML(b));const Q=this.domNode.lastChild;o||!Q?this.domNode.innerHTML=b:Q.insertAdjacentHTML("afterend",b);let Se=this.domNode.lastChild;for(let Ae=e.linesLength-1;Ae>=0;Ae--){const Ye=e.lines[Ae];V[Ae]&&(Ye.setDomNode(Se),Se=Se.previousSibling)}}_finishRenderingInvalidLines(e,o,b){const V=document.createElement("div");ci._ttPolicy&&(o=ci._ttPolicy.createHTML(o)),V.innerHTML=o;for(let Q=0;Q<e.linesLength;Q++){const Se=e.lines[Q];if(b[Q]){const Ae=V.firstChild,Ye=Se.getDomNode();Ye.parentNode.replaceChild(Ae,Ye),Se.setDomNode(Ae)}}}_finishRendering(e,o,b){const V=ci._sb,Q=e.linesLength,Se=e.lines,Ae=e.rendLineNumberStart,Ye=[];{V.reset();let rt=!1;for(let st=0;st<Q;st++){const vt=Se[st];Ye[st]=!1,!(vt.getDomNode()||!vt.renderLine(st+Ae,b[st],this.viewportData,V))&&(Ye[st]=!0,rt=!0)}rt&&this._finishRenderingNewLines(e,o,V.build(),Ye)}{V.reset();let rt=!1;const st=[];for(let vt=0;vt<Q;vt++){const Ht=Se[vt];st[vt]=!1,!(Ye[vt]||!Ht.renderLine(vt+Ae,b[vt],this.viewportData,V))&&(st[vt]=!0,rt=!0)}rt&&this._finishRenderingInvalidLines(e,V.build(),st)}}}ci._ttPolicy=(In=window.trustedTypes)===null||In===void 0?void 0:In.createPolicy("editorViewLayer",{createHTML:Nt=>Nt}),ci._sb=new Ts.HT(1e5);class ui extends Le{constructor(e){super(e),this._visibleLines=new pi(this),this.domNode=this._visibleLines.domNode;const b=this._context.configuration.options.get(48);(0,bn.N)(this.domNode,b),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,o=this._dynamicOverlays.length;e<o;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,o=this._dynamicOverlays.length;e<o;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new wt(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const o=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let Se=o;Se<=b;Se++)this._visibleLines.getVisibleLine(Se).onConfigurationChanged(e);const Q=this._context.configuration.options.get(48);return(0,bn.N)(this.domNode,Q),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const o=this._dynamicOverlays.filter(b=>b.shouldRender());for(let b=0,V=o.length;b<V;b++){const Q=o[b];Q.prepareRender(e),Q.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class wt{constructor(e,o){this._configuration=e,this._lineHeight=this._configuration.options.get(64),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,fe.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(64)}renderLine(e,o,b,V){let Q="";for(let Se=0,Ae=this._dynamicOverlays.length;Se<Ae;Se++){const Ye=this._dynamicOverlays[Se];Q+=Ye.render(b.startLineNumber,e)}return this._renderedContent===Q?!1:(this._renderedContent=Q,V.appendString('<div style="position:absolute;top:'),V.appendString(String(o)),V.appendString("px;width:100%;height:"),V.appendString(String(this._lineHeight)),V.appendString('px;">'),V.appendString(Q),V.appendString("</div>"),!0)}layoutLine(e,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}class mt extends ui{constructor(e){super(e);const b=this._context.configuration.options.get(139);this._contentWidth=b.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const b=this._context.configuration.options.get(139);return this._contentWidth=b.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Oe extends ui{constructor(e){super(e);const o=this._context.configuration.options,b=o.get(139);this._contentLeft=b.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,bn.N)(this.domNode,o.get(48))}onConfigurationChanged(e){const o=this._context.configuration.options;(0,bn.N)(this.domNode,o.get(48));const b=o.get(139);return this._contentLeft=b.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const o=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}class le extends Le{constructor(e,o){super(e),this._viewDomNode=o,this._widgets={},this.domNode=(0,fe.X)(document.createElement("div")),ue.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,fe.X)(document.createElement("div")),ue.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const o=Object.keys(this._widgets);for(const b of o)this._widgets[b].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const o of e)this._widgets[o].updateAnchorViewPosition()}addWidget(e){const o=new Be(this._context,this._viewDomNode,e);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(e,o,b,V,Q){this._widgets[e.getId()].setPosition(o,b,V,Q),this.setShouldRender()}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const b=this._widgets[o];delete this._widgets[o];const V=b.domNode.domNode;V.parentNode.removeChild(V),V.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const o=Object.keys(this._widgets);for(const b of o)this._widgets[b].onBeforeRender(e)}prepareRender(e){const o=Object.keys(this._widgets);for(const b of o)this._widgets[b].prepareRender(e)}render(e){const o=Object.keys(this._widgets);for(const b of o)this._widgets[b].render(e)}}class Be{constructor(e,o,b){this._primaryAnchor=new Ke(null,null),this._secondaryAnchor=new Ke(null,null),this._context=e,this._viewDomNode=o,this._actual=b,this.domNode=(0,fe.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const V=this._context.configuration.options,Q=V.get(139);this._fixedOverflowWidgets=V.get(40),this._contentWidth=Q.contentWidth,this._contentLeft=Q.contentLeft,this._lineHeight=V.get(64),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const o=this._context.configuration.options;if(this._lineHeight=o.get(64),e.hasChanged(139)){const b=o.get(139);this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,o,b){this._affinity=e,this._primaryAnchor=V(o,this._context.viewModel,this._affinity),this._secondaryAnchor=V(b,this._context.viewModel,this._affinity);function V(Q,Se,Ae){if(!Q)return new Ke(null,null);const Ye=Se.model.validatePosition(Q);if(Se.coordinatesConverter.modelPositionIsVisible(Ye)){const rt=Se.coordinatesConverter.convertModelPositionToViewPosition(Ye,Ae!=null?Ae:void 0);return new Ke(Q,rt)}return new Ke(Q,null)}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,o,b,V){this._setPosition(V,e,o),this._preference=b,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,o,b,V){const Q=e.top,Se=Q,Ae=e.top+e.height,Ye=V.viewportHeight-Ae,rt=Q-b,st=Se>=b,vt=Ae,Ht=Ye>=b;let Tt=e.left;return Tt+o>V.scrollLeft+V.viewportWidth&&(Tt=V.scrollLeft+V.viewportWidth-o),Tt<V.scrollLeft&&(Tt=V.scrollLeft),{fitsAbove:st,aboveTop:rt,fitsBelow:Ht,belowTop:vt,left:Tt}}_layoutHorizontalSegmentInPage(e,o,b,V){const Ae=Math.max(15,o.left-V),Ye=Math.min(o.left+o.width+V,e.width-15);let rt=o.left+b-window.scrollX;if(rt+V>Ye){const st=rt-(Ye-V);rt-=st,b-=st}if(rt<Ae){const st=rt-Ae;rt-=st,b-=st}return[b,rt]}_layoutBoxInPage(e,o,b,V){const Q=e.top-b,Se=e.top+e.height,Ae=M.i(this._viewDomNode.domNode),Ye=Ae.top+Q-window.scrollY,rt=Ae.top+Se-window.scrollY,st=M.D6(document.body),[vt,Ht]=this._layoutHorizontalSegmentInPage(st,Ae,e.left-V.scrollLeft+this._contentLeft,o),Tt=22,ei=22,ai=Ye>=Tt,di=rt+b<=st.height-ei;return this._fixedOverflowWidgets?{fitsAbove:ai,aboveTop:Math.max(Ye,Tt),fitsBelow:di,belowTop:rt,left:Ht}:{fitsAbove:ai,aboveTop:Q,fitsBelow:di,belowTop:Se,left:vt}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new Ge(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var o,b;const V=Ae(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),Q=((o=this._secondaryAnchor.viewPosition)===null||o===void 0?void 0:o.lineNumber)===((b=this._primaryAnchor.viewPosition)===null||b===void 0?void 0:b.lineNumber)?this._secondaryAnchor.viewPosition:null,Se=Ae(Q,this._affinity,this._lineHeight);return{primary:V,secondary:Se};function Ae(Ye,rt,st){if(!Ye)return null;const vt=e.visibleRangeForPosition(Ye);if(!vt)return null;const Ht=Ye.column===1&&rt===3?0:vt.left,Tt=e.getVerticalOffsetForLineNumber(Ye.lineNumber)-e.scrollTop;return new ye(Tt,Ht,st)}}_reduceAnchorCoordinates(e,o,b){if(!o)return e;const V=this._context.configuration.options.get(48);let Q=o.left;return Q<e.left?Q=Math.max(Q,e.left-b+V.typicalFullwidthCharacterWidth):Q=Math.min(Q,e.left+b-V.typicalFullwidthCharacterWidth),new ye(e.top,Q,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:o,secondary:b}=this._getAnchorsCoordinates(e);if(!o)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let Se=null;if(typeof this._actual.beforeRender=="function"&&(Se=ze(this._actual.beforeRender,this._actual)),Se)this._cachedDomNodeOffsetWidth=Se.width,this._cachedDomNodeOffsetHeight=Se.height;else{const Ye=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Ye.width),this._cachedDomNodeOffsetHeight=Math.round(Ye.height)}}const V=this._reduceAnchorCoordinates(o,b,this._cachedDomNodeOffsetWidth);let Q;this.allowEditorOverflow?Q=this._layoutBoxInPage(V,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):Q=this._layoutBoxInViewport(V,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let Se=1;Se<=2;Se++)for(const Ae of this._preference)if(Ae===1){if(!Q)return null;if(Se===2||Q.fitsAbove)return{coordinate:new Ge(Q.aboveTop,Q.left),position:1}}else if(Ae===2){if(!Q)return null;if(Se===2||Q.fitsBelow)return{coordinate:new Ge(Q.belowTop,Q.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new Ge(V.top,V.left)),position:0}:{coordinate:new Ge(V.top,V.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&ze(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&ze(this._actual.afterRender,this._actual,this._renderData.position)}}class Ke{constructor(e,o){this.modelPosition=e,this.viewPosition=o}}class Ge{constructor(e,o){this.top=e,this.left=o,this._coordinateBrand=void 0}}class ye{constructor(e,o,b){this.top=e,this.left=o,this.height=b,this._anchorCoordinateBrand=void 0}}function ze(Nt,e,...o){try{return Nt.call(e,...o)}catch(b){return null}}class lt extends bs{constructor(e){super(),this._context=e;const o=this._context.configuration.options,b=o.get(139);this._lineHeight=o.get(64),this._renderLineHighlight=o.get(91),this._renderLineHighlightOnlyWhenFocus=o.get(92),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new ee.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const o=this._selections.map(V=>V.positionLineNumber);o.sort((V,Q)=>V-Q),g.fS(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,e=!0);const b=this._selections.every(V=>V.isEmpty());return this._selectionIsEmpty!==b&&(this._selectionIsEmpty=b,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const o=this._context.configuration.options,b=o.get(139);return this._lineHeight=o.get(64),this._renderLineHighlight=o.get(91),this._renderLineHighlightOnlyWhenFocus=o.get(92),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const o=this._renderOne(e),b=e.visibleRange.startLineNumber,V=e.visibleRange.endLineNumber,Q=this._cursorLineNumbers.length;let Se=0;const Ae=[];for(let Ye=b;Ye<=V;Ye++){const rt=Ye-b;for(;Se<Q&&this._cursorLineNumbers[Se]<Ye;)Se++;Se<Q&&this._cursorLineNumbers[Se]===Ye?Ae[rt]=o:Ae[rt]=""}this._renderData=Ae}render(e,o){if(!this._renderData)return"";const b=o-e;return b>=this._renderData.length?"":this._renderData[b]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Rt extends lt{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Bt extends lt{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,ms.Ic)((Nt,e)=>{const o=Nt.getColor(ki.Kh);if(o&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${o}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${o}; border: none; }`)),!o||o.isTransparent()||Nt.defines(ki.Mm)){const b=Nt.getColor(ki.Mm);b&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${b}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${b}; }`),(0,ce.c3)(Nt.type)&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class At extends bs{constructor(e){super(),this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const o=e.getDecorationsInViewport();let b=[],V=0;for(let Ye=0,rt=o.length;Ye<rt;Ye++){const st=o[Ye];st.options.className&&(b[V++]=st)}b=b.sort((Ye,rt)=>{if(Ye.options.zIndex<rt.options.zIndex)return-1;if(Ye.options.zIndex>rt.options.zIndex)return 1;const st=Ye.options.className,vt=rt.options.className;return st<vt?-1:st>vt?1:Me.e.compareRangesUsingStarts(Ye.range,rt.range)});const Q=e.visibleRange.startLineNumber,Se=e.visibleRange.endLineNumber,Ae=[];for(let Ye=Q;Ye<=Se;Ye++){const rt=Ye-Q;Ae[rt]=""}this._renderWholeLineDecorations(e,b,Ae),this._renderNormalDecorations(e,b,Ae),this._renderResult=Ae}_renderWholeLineDecorations(e,o,b){const V=String(this._lineHeight),Q=e.visibleRange.startLineNumber,Se=e.visibleRange.endLineNumber;for(let Ae=0,Ye=o.length;Ae<Ye;Ae++){const rt=o[Ae];if(!rt.options.isWholeLine)continue;const st='<div class="cdr '+rt.options.className+'" style="left:0;width:100%;height:'+V+'px;"></div>',vt=Math.max(rt.range.startLineNumber,Q),Ht=Math.min(rt.range.endLineNumber,Se);for(let Tt=vt;Tt<=Ht;Tt++){const ei=Tt-Q;b[ei]+=st}}}_renderNormalDecorations(e,o,b){const V=String(this._lineHeight),Q=e.visibleRange.startLineNumber;let Se=null,Ae=!1,Ye=null;for(let rt=0,st=o.length;rt<st;rt++){const vt=o[rt];if(vt.options.isWholeLine)continue;const Ht=vt.options.className,Tt=Boolean(vt.options.showIfCollapsed);let ei=vt.range;if(Tt&&ei.endColumn===1&&ei.endLineNumber!==ei.startLineNumber&&(ei=new Me.e(ei.startLineNumber,ei.startColumn,ei.endLineNumber-1,this._context.viewModel.getLineMaxColumn(ei.endLineNumber-1))),Se===Ht&&Ae===Tt&&Me.e.areIntersectingOrTouching(Ye,ei)){Ye=Me.e.plusRange(Ye,ei);continue}Se!==null&&this._renderNormalDecoration(e,Ye,Se,Ae,V,Q,b),Se=Ht,Ae=Tt,Ye=ei}Se!==null&&this._renderNormalDecoration(e,Ye,Se,Ae,V,Q,b)}_renderNormalDecoration(e,o,b,V,Q,Se,Ae){const Ye=e.linesVisibleRangesForRange(o,b==="findMatch");if(Ye)for(let rt=0,st=Ye.length;rt<st;rt++){const vt=Ye[rt];if(vt.outsideRenderedLine)continue;const Ht=vt.lineNumber-Se;if(V&&vt.ranges.length===1){const Tt=vt.ranges[0];if(Tt.width<this._typicalHalfwidthCharacterWidth){const ei=Math.round(Tt.left+Tt.width/2),ai=Math.max(0,Math.round(ei-this._typicalHalfwidthCharacterWidth/2));vt.ranges[0]=new Qe(ai,this._typicalHalfwidthCharacterWidth)}}for(let Tt=0,ei=vt.ranges.length;Tt<ei;Tt++){const ai=vt.ranges[Tt],di='<div class="cdr '+b+'" style="left:'+String(ai.left)+"px;width:"+String(ai.width)+"px;height:"+Q+'px;"></div>';Ae[Ht]+=di}}}render(e,o){if(!this._renderResult)return"";const b=o-e;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}class ii extends Le{constructor(e,o,b,V){super(e);const Q=this._context.configuration.options,Se=Q.get(98),Ae=Q.get(72),Ye=Q.get(38),rt=Q.get(101),st={listenOnDomNode:b.domNode,className:"editor-scrollable "+(0,ms.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:Se.vertical,horizontal:Se.horizontal,verticalHasArrows:Se.verticalHasArrows,horizontalHasArrows:Se.horizontalHasArrows,verticalScrollbarSize:Se.verticalScrollbarSize,verticalSliderSize:Se.verticalSliderSize,horizontalScrollbarSize:Se.horizontalScrollbarSize,horizontalSliderSize:Se.horizontalSliderSize,handleMouseWheel:Se.handleMouseWheel,alwaysConsumeMouseWheel:Se.alwaysConsumeMouseWheel,arrowSize:Se.arrowSize,mouseWheelScrollSensitivity:Ae,fastScrollSensitivity:Ye,scrollPredominantAxis:rt,scrollByPage:Se.scrollByPage};this.scrollbar=this._register(new It.$Z(o.domNode,st,this._context.viewLayout.getScrollable())),ue.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,fe.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const vt=(Ht,Tt,ei)=>{const ai={};if(Tt){const di=Ht.scrollTop;di&&(ai.scrollTop=this._context.viewLayout.getCurrentScrollTop()+di,Ht.scrollTop=0)}if(ei){const di=Ht.scrollLeft;di&&(ai.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+di,Ht.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(ai,1)};this._register(M.nm(b.domNode,"scroll",Ht=>vt(b.domNode,!0,!0))),this._register(M.nm(o.domNode,"scroll",Ht=>vt(o.domNode,!0,!1))),this._register(M.nm(V.domNode,"scroll",Ht=>vt(V.domNode,!0,!1))),this._register(M.nm(this.scrollbarDomNode.domNode,"scroll",Ht=>vt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,o=e.get(139);this.scrollbarDomNode.setLeft(o.contentLeft),e.get(70).side==="right"?this.scrollbarDomNode.setWidth(o.contentWidth+o.minimap.minimapWidth):this.scrollbarDomNode.setWidth(o.contentWidth),this.scrollbarDomNode.setHeight(o.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(98)||e.hasChanged(72)||e.hasChanged(38)){const o=this._context.configuration.options,b=o.get(98),V=o.get(72),Q=o.get(38),Se=o.get(101),Ae={vertical:b.vertical,horizontal:b.horizontal,verticalScrollbarSize:b.verticalScrollbarSize,horizontalScrollbarSize:b.horizontalScrollbarSize,scrollByPage:b.scrollByPage,handleMouseWheel:b.handleMouseWheel,mouseWheelScrollSensitivity:V,fastScrollSensitivity:Q,scrollPredominantAxis:Se};this.scrollbar.updateOptions(Ae)}return e.hasChanged(139)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,ms.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class vi{constructor(e,o,b){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+o,this.className=String(b)}}class yi extends bs{_render(e,o,b){const V=[];for(let Ae=e;Ae<=o;Ae++){const Ye=Ae-e;V[Ye]=[]}if(b.length===0)return V;b.sort((Ae,Ye)=>Ae.className===Ye.className?Ae.startLineNumber===Ye.startLineNumber?Ae.endLineNumber-Ye.endLineNumber:Ae.startLineNumber-Ye.startLineNumber:Ae.className<Ye.className?-1:1);let Q=null,Se=0;for(let Ae=0,Ye=b.length;Ae<Ye;Ae++){const rt=b[Ae],st=rt.className;let vt=Math.max(rt.startLineNumber,e)-e;const Ht=Math.min(rt.endLineNumber,o)-e;Q===st?(vt=Math.max(Se+1,vt),Se=Math.max(Se,Ht)):(Q=st,Se=Ht);for(let Tt=vt;Tt<=Se;Tt++)V[Tt].push(Q)}return V}}class hi extends yi{constructor(e){super(),this._context=e;const o=this._context.configuration.options,b=o.get(139);this._lineHeight=o.get(64),this._glyphMargin=o.get(55),this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,b=o.get(139);return this._lineHeight=o.get(64),this._glyphMargin=o.get(55),this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),b=[];let V=0;for(let Q=0,Se=o.length;Q<Se;Q++){const Ae=o[Q],Ye=Ae.options.glyphMarginClassName;Ye&&(b[V++]=new vi(Ae.range.startLineNumber,Ae.range.endLineNumber,Ye))}return b}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber,V=this._render(o,b,this._getDecorations(e)),Q=this._lineHeight.toString(),Se=this._glyphMarginLeft.toString(),Ae=this._glyphMarginWidth.toString(),Ye='" style="left:'+Se+"px;width:"+Ae+"px;height:"+Q+'px;"></div>',rt=[];for(let st=o;st<=b;st++){const vt=st-o,Ht=V[vt];Ht.length===0?rt[vt]="":rt[vt]='<div class="cgmr codicon '+Ht.join(" ")+Ye}this._renderResult=rt}render(e,o){if(!this._renderResult)return"";const b=o-e;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}var Si=i(14818),Oi=i(32382),Ai=i(79777);class Zi extends bs{constructor(e){super(),this._context=e,this._primaryPosition=null;const o=this._context.configuration.options,b=o.get(140),V=o.get(48);this._lineHeight=o.get(64),this._spaceWidth=V.spaceWidth,this._maxIndentLeft=b.wrappingColumn===-1?-1:b.wrappingColumn*V.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(14),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,b=o.get(140),V=o.get(48);return this._lineHeight=o.get(64),this._spaceWidth=V.spaceWidth,this._maxIndentLeft=b.wrappingColumn===-1?-1:b.wrappingColumn*V.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(14),!0}onCursorStateChanged(e){var o;const V=e.selections[0].getPosition();return!((o=this._primaryPosition)===null||o===void 0)&&o.equals(V)?!1:(this._primaryPosition=V,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var o,b,V,Q;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const Se=e.visibleRange.startLineNumber,Ae=e.visibleRange.endLineNumber,Ye=e.scrollWidth,rt=this._lineHeight,st=this._primaryPosition,vt=this.getGuidesByLine(Se,Math.min(Ae+1,this._context.viewModel.getLineCount()),st),Ht=[];for(let Tt=Se;Tt<=Ae;Tt++){const ei=Tt-Se,ai=vt[ei];let di="";const bi=(b=(o=e.visibleRangeForPosition(new me.L(Tt,1)))===null||o===void 0?void 0:o.left)!==null&&b!==void 0?b:0;for(const Ii of ai){const Bi=Ii.column===-1?bi+(Ii.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new me.L(Tt,Ii.column)).left;if(Bi>Ye||this._maxIndentLeft>0&&Bi>this._maxIndentLeft)break;const nn=Ii.horizontalLine?Ii.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Yi=Ii.horizontalLine?((Q=(V=e.visibleRangeForPosition(new me.L(Tt,Ii.horizontalLine.endColumn)))===null||V===void 0?void 0:V.left)!==null&&Q!==void 0?Q:Bi+this._spaceWidth)-Bi:this._spaceWidth;di+=`<div class="core-guide ${Ii.className} ${nn}" style="left:${Bi}px;height:${rt}px;width:${Yi}px"></div>`}Ht[ei]=di}this._renderResult=Ht}getGuidesByLine(e,o,b){const V=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,o,b,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Ai.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Ai.s6.EnabledForActive:Ai.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Q=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,o):null;let Se=0,Ae=0,Ye=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&b){const vt=this._context.viewModel.getActiveIndentGuide(b.lineNumber,e,o);Se=vt.startLineNumber,Ae=vt.endLineNumber,Ye=vt.indent}const{indentSize:rt}=this._context.viewModel.model.getOptions(),st=[];for(let vt=e;vt<=o;vt++){const Ht=new Array;st.push(Ht);const Tt=V?V[vt-e]:[],ei=new g.H9(Tt),ai=Q?Q[vt-e]:0;for(let di=1;di<=ai;di++){const bi=(di-1)*rt+1,Ii=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||Tt.length===0)&&Se<=vt&&vt<=Ae&&di===Ye;Ht.push(...ei.takeWhile(nn=>nn.visibleColumn<bi)||[]);const Bi=ei.peek();(!Bi||Bi.visibleColumn!==bi||Bi.horizontalLine)&&Ht.push(new Ai.UO(bi,-1,Ii?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}Ht.push(...ei.takeWhile(di=>!0)||[])}return st}render(e,o){if(!this._renderResult)return"";const b=o-e;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}function pn(Nt){if(!(Nt&&Nt.isTransparent()))return Nt}(0,ms.Ic)((Nt,e)=>{const o=[{bracketColor:ki.zJ,guideColor:ki.oV,guideColorActive:ki.Qb},{bracketColor:ki.Vs,guideColor:ki.m$,guideColorActive:ki.m3},{bracketColor:ki.CE,guideColor:ki.DS,guideColorActive:ki.To},{bracketColor:ki.UP,guideColor:ki.lS,guideColorActive:ki.L7},{bracketColor:ki.r0,guideColor:ki.Jn,guideColorActive:ki.HV},{bracketColor:ki.m1,guideColor:ki.YF,guideColorActive:ki.f9}],b=new Oi.W,V=o.map(Q=>{var Se,Ae;const Ye=Nt.getColor(Q.bracketColor),rt=Nt.getColor(Q.guideColor),st=Nt.getColor(Q.guideColorActive),vt=pn((Se=pn(rt))!==null&&Se!==void 0?Se:Ye==null?void 0:Ye.transparent(.3)),Ht=pn((Ae=pn(st))!==null&&Ae!==void 0?Ae:Ye);if(!(!vt||!Ht))return{guideColor:vt,guideColorActive:Ht}}).filter(Si.$K);if(V.length>0){for(let Q=0;Q<30;Q++){const Se=V[Q%V.length];e.addRule(`.monaco-editor .${b.getInlineClassNameOfLevel(Q).replace(/ /g,".")} { --guide-color: ${Se.guideColor}; --guide-color-active: ${Se.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${b.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${b.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${b.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});var Pn=i(13484);class cs{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,o){this._domNode=e,this.endNode=o,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class ds{constructor(){this._currentVisibleRange=new Me.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class Es{constructor(e,o,b,V,Q,Se,Ae){this.minimalReveal=e,this.lineNumber=o,this.startColumn=b,this.endColumn=V,this.startScrollTop=Q,this.stopScrollTop=Se,this.scrollType=Ae,this.type="range",this.minLineNumber=o,this.maxLineNumber=o}}class ro{constructor(e,o,b,V,Q){this.minimalReveal=e,this.selections=o,this.startScrollTop=b,this.stopScrollTop=V,this.scrollType=Q,this.type="selections";let Se=o[0].startLineNumber,Ae=o[0].endLineNumber;for(let Ye=1,rt=o.length;Ye<rt;Ye++){const st=o[Ye];Se=Math.min(Se,st.startLineNumber),Ae=Math.max(Ae,st.endLineNumber)}this.minLineNumber=Se,this.maxLineNumber=Ae}}class Gs extends Le{constructor(e,o){super(e),this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new pi(this),this.domNode=this._visibleLines.domNode;const b=this._context.configuration,V=this._context.configuration.options,Q=V.get(48),Se=V.get(140);this._lineHeight=V.get(64),this._typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Se.isViewportWrapping,this._revealHorizontalRightPadding=V.get(95),this._cursorSurroundingLines=V.get(27),this._cursorSurroundingLinesStyle=V.get(28),this._canUseLayerHinting=!V.get(30),this._viewLineOptions=new it(b,this._context.theme.type),ue.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Ls.S}`),(0,bn.N)(this.domNode,Q),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Pn.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Pn.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new ds,this._horizontalRevealRequest=null,this._stickyScrollEnabled=V.get(110).enabled,this._maxNumberStickyLines=V.get(110).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Ze(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(140)&&(this._maxLineWidth=0);const o=this._context.configuration.options,b=o.get(48),V=o.get(140);return this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this._isViewportWrapping=V.isViewportWrapping,this._revealHorizontalRightPadding=o.get(95),this._cursorSurroundingLines=o.get(27),this._cursorSurroundingLinesStyle=o.get(28),this._canUseLayerHinting=!o.get(30),this._stickyScrollEnabled=o.get(110).enabled,this._maxNumberStickyLines=o.get(110).maxLineCount,(0,bn.N)(this.domNode,b),this._onOptionsMaybeChanged(),e.hasChanged(139)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,o=new it(e,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const b=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let Q=b;Q<=V;Q++)this._visibleLines.getVisibleLine(Q).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const o=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();let V=!1;for(let Q=o;Q<=b;Q++)V=this._visibleLines.getVisibleLine(Q).onSelectionChanged()||V;return V}onDecorationsChanged(e){{const o=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let V=o;V<=b;V++)this._visibleLines.getVisibleLine(V).onDecorationsChanged()}return!0}onFlushed(e){const o=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,o}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(o===-1)return!1;let b=this._context.viewLayout.validateScrollPosition({scrollTop:o});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?b={scrollTop:b.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new Es(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),b.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new ro(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),b.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const Q=Math.abs(this._context.viewLayout.getCurrentScrollTop()-b.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(b,Q),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),b=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<o||e.scrollTop>b)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,o){const b=this._getViewLineDomNode(e);if(b===null)return null;const V=this._getLineNumberFor(b);if(V===-1||V<1||V>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(V)===1)return new me.L(V,1);const Q=this._visibleLines.getStartLineNumber(),Se=this._visibleLines.getEndLineNumber();if(V<Q||V>Se)return null;let Ae=this._visibleLines.getVisibleLine(V).getColumnOfNodeOffset(V,e,o);const Ye=this._context.viewModel.getLineMinColumn(V);return Ae<Ye&&(Ae=Ye),new me.L(V,Ae)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Ze.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const o=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let V=o;V<=b;V++){const Q=this._visibleLines.getVisibleLine(V);if(e===Q.getDomNode())return V}return-1}getLineWidth(e){const o=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();if(e<o||e>b)return-1;const V=new cs(this.domNode.domNode,this._textRangeRestingSpot),Q=this._visibleLines.getVisibleLine(e).getWidth(V);return this._updateLineWidthsSlowIfDomDidLayout(V),Q}linesVisibleRangesForRange(e,o){if(this.shouldRender())return null;const b=e.endLineNumber,V=Me.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!V)return null;const Q=[];let Se=0;const Ae=new cs(this.domNode.domNode,this._textRangeRestingSpot);let Ye=0;o&&(Ye=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me.L(V.startLineNumber,1)).lineNumber);const rt=this._visibleLines.getStartLineNumber(),st=this._visibleLines.getEndLineNumber();for(let vt=V.startLineNumber;vt<=V.endLineNumber;vt++){if(vt<rt||vt>st)continue;const Ht=vt===V.startLineNumber?V.startColumn:1,Tt=vt===V.endLineNumber?V.endColumn:this._context.viewModel.getLineMaxColumn(vt),ei=this._visibleLines.getVisibleLine(vt).getVisibleRangesForRange(vt,Ht,Tt,Ae);if(ei){if(o&&vt<b){const ai=Ye;Ye=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me.L(vt+1,1)).lineNumber,ai!==Ye&&(ei.ranges[ei.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Q[Se++]=new Ue(ei.outsideRenderedLine,vt,Qe.from(ei.ranges))}}return this._updateLineWidthsSlowIfDomDidLayout(Ae),Se===0?null:Q}_visibleRangesForLineRange(e,o,b){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const V=new cs(this.domNode.domNode,this._textRangeRestingSpot),Q=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,o,b,V);return this._updateLineWidthsSlowIfDomDidLayout(V),Q}visibleRangeForPosition(e){const o=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return o?new ie(o.outsideRenderedLine,o.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const o=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();let V=1,Q=!0;for(let Se=o;Se<=b;Se++){const Ae=this._visibleLines.getVisibleLine(Se);if(e&&!Ae.getWidthIsFast()){Q=!1;continue}V=Math.max(V,Ae.getWidth(null))}return Q&&o===1&&b===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(V),Q}_checkMonospaceFontAssumptions(){let e=-1,o=-1;const b=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let Q=b;Q<=V;Q++){const Se=this._visibleLines.getVisibleLine(Q);if(Se.needsMonospaceFontCheck()){const Ae=Se.getWidth(null);Ae>o&&(o=Ae,e=Q)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let Q=b;Q<=V;Q++)this._visibleLines.getVisibleLine(Q).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const b=this._horizontalRevealRequest;if(e.startLineNumber<=b.minLineNumber&&b.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const V=this._computeScrollLeftToReveal(b);V&&(this._isViewportWrapping||this._ensureMaxLineWidth(V.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:V.scrollLeft},b.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),a.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const b=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let Q=b;Q<=V;Q++)if(this._visibleLines.getVisibleLine(Q).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const o=Math.ceil(e);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,o,b,V,Q,Se){const Ae=e.top,Ye=e.height,rt=Ae+Ye;let st,vt,Ht;if(Q&&Q.length>0){let bi=Q[0].startLineNumber,Ii=Q[0].endLineNumber;for(let Bi=1,nn=Q.length;Bi<nn;Bi++){const Yi=Q[Bi];bi=Math.min(bi,Yi.startLineNumber),Ii=Math.max(Ii,Yi.endLineNumber)}st=!1,vt=this._context.viewLayout.getVerticalOffsetForLineNumber(bi),Ht=this._context.viewLayout.getVerticalOffsetForLineNumber(Ii)+this._lineHeight}else if(V)st=!0,vt=this._context.viewLayout.getVerticalOffsetForLineNumber(V.startLineNumber),Ht=this._context.viewLayout.getVerticalOffsetForLineNumber(V.endLineNumber)+this._lineHeight;else return-1;const Tt=(o==="mouse"||b)&&this._cursorSurroundingLinesStyle==="default";let ei=0,ai=0;if(Tt)b||(ei=this._lineHeight);else{const bi=Math.min(Ye/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?ei=Math.max(bi,this._maxNumberStickyLines)*this._lineHeight:ei=bi*this._lineHeight,ai=Math.max(0,bi-1)*this._lineHeight}b||(Se===0||Se===4)&&(ai+=this._lineHeight),vt-=ei,Ht+=ai;let di;if(Ht-vt>Ye){if(!st)return-1;di=vt}else if(Se===5||Se===6)if(Se===6&&Ae<=vt&&Ht<=rt)di=Ae;else{const bi=Math.max(5*this._lineHeight,Ye*.2),Ii=vt-bi,Bi=Ht-Ye;di=Math.max(Bi,Ii)}else if(Se===1||Se===2)if(Se===2&&Ae<=vt&&Ht<=rt)di=Ae;else{const bi=(vt+Ht)/2;di=Math.max(0,bi-Ye/2)}else di=this._computeMinimumScrolling(Ae,rt,vt,Ht,Se===3,Se===4);return di}_computeScrollLeftToReveal(e){const o=this._context.viewLayout.getCurrentViewport(),b=this._context.configuration.options.get(139),V=o.left,Q=V+o.width-b.verticalScrollbarWidth;let Se=1073741824,Ae=0;if(e.type==="range"){const rt=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!rt)return null;for(const st of rt.ranges)Se=Math.min(Se,Math.round(st.left)),Ae=Math.max(Ae,Math.round(st.left+st.width))}else for(const rt of e.selections){if(rt.startLineNumber!==rt.endLineNumber)return null;const st=this._visibleRangesForLineRange(rt.startLineNumber,rt.startColumn,rt.endColumn);if(!st)return null;for(const vt of st.ranges)Se=Math.min(Se,Math.round(vt.left)),Ae=Math.max(Ae,Math.round(vt.left+vt.width))}return e.minimalReveal||(Se=Math.max(0,Se-Gs.HORIZONTAL_EXTRA_PX),Ae+=this._revealHorizontalRightPadding),e.type==="selections"&&Ae-Se>o.width?null:{scrollLeft:this._computeMinimumScrolling(V,Q,Se,Ae),maxHorizontalOffset:Ae}}_computeMinimumScrolling(e,o,b,V,Q,Se){e=e|0,o=o|0,b=b|0,V=V|0,Q=!!Q,Se=!!Se;const Ae=o-e;if(V-b<Ae){if(Q)return b;if(Se)return Math.max(0,V-Ae);if(b<e)return b;if(V>o)return Math.max(0,V-Ae)}else return b;return e}}Gs.HORIZONTAL_EXTRA_PX=30;class Ws extends yi{constructor(e){super(),this._context=e;const b=this._context.configuration.options.get(139);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const b=this._context.configuration.options.get(139);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),b=[];let V=0;for(let Q=0,Se=o.length;Q<Se;Q++){const Ae=o[Q],Ye=Ae.options.linesDecorationsClassName;Ye&&(b[V++]=new vi(Ae.range.startLineNumber,Ae.range.endLineNumber,Ye));const rt=Ae.options.firstLineDecorationClassName;rt&&(b[V++]=new vi(Ae.range.startLineNumber,Ae.range.startLineNumber,rt))}return b}prepareRender(e){const o=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber,V=this._render(o,b,this._getDecorations(e)),Q=this._decorationsLeft.toString(),Se=this._decorationsWidth.toString(),Ae='" style="left:'+Q+"px;width:"+Se+'px;"></div>',Ye=[];for(let rt=o;rt<=b;rt++){const st=rt-o,vt=V[st];let Ht="";for(let Tt=0,ei=vt.length;Tt<ei;Tt++)Ht+='<div class="cldr '+vt[Tt]+Ae;Ye[st]=Ht}this._renderResult=Ye}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}class Hr extends yi{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),b=[];let V=0;for(let Q=0,Se=o.length;Q<Se;Q++){const Ae=o[Q],Ye=Ae.options.marginClassName;Ye&&(b[V++]=new vi(Ae.range.startLineNumber,Ae.range.endLineNumber,Ye))}return b}prepareRender(e){const o=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber,V=this._render(o,b,this._getDecorations(e)),Q=[];for(let Se=o;Se<=b;Se++){const Ae=Se-o,Ye=V[Ae];let rt="";for(let st=0,vt=Ye.length;st<vt;st++)rt+='<div class="cmdr '+Ye[st]+'" style=""></div>';Q[Ae]=rt}this._renderResult=Q}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}var Fn=i(97314);class Ci{constructor(e,o,b,V){this._rgba8Brand=void 0,this.r=Ci._clamp(e),this.g=Ci._clamp(o),this.b=Ci._clamp(b),this.a=Ci._clamp(V)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}Ci.Empty=new Ci(0,0,0,0);class Xi extends p.JT{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,p.dk)(new Xi)),this._INSTANCE}constructor(){super(),this._onDidChange=new R.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(ts.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=ts.RW.getColorMap();if(!e){this._colors=[Ci.Empty],this._backgroundIsLight=!0;return}this._colors=[Ci.Empty];for(let b=1;b<e.length;b++){const V=e[b].rgba;this._colors[b]=new Ci(V.r,V.g,V.b,Math.round(V.a*255))}const o=e[2].getRelativeLuminance();this._backgroundIsLight=o>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}Xi._INSTANCE=null;var tn=i(71278),us=i(92537);const Wt=(()=>{const Nt=[];for(let e=32;e<=126;e++)Nt.push(e);return Nt.push(65533),Nt})(),Zt=(Nt,e)=>(Nt-=32,Nt<0||Nt>96?e<=2?(Nt+96)%96:96-1:Nt);var Yt=i(79886);class oi{constructor(e,o){this.scale=o,this._minimapCharRendererBrand=void 0,this.charDataNormal=oi.soften(e,12/15),this.charDataLight=oi.soften(e,50/60)}static soften(e,o){const b=new Uint8ClampedArray(e.length);for(let V=0,Q=e.length;V<Q;V++)b[V]=(0,Yt.K)(e[V]*o);return b}renderChar(e,o,b,V,Q,Se,Ae,Ye,rt,st,vt){const Ht=1*this.scale,Tt=2*this.scale,ei=vt?1:Tt;if(o+Ht>e.width||b+ei>e.height){console.warn("bad render request outside image data");return}const ai=st?this.charDataLight:this.charDataNormal,di=Zt(V,rt),bi=e.width*4,Ii=Ae.r,Bi=Ae.g,nn=Ae.b,Yi=Q.r-Ii,Sn=Q.g-Bi,Ln=Q.b-nn,En=Math.max(Se,Ye),$i=e.data;let Xn=di*Ht*Tt,Un=b*bi+o*4;for(let Gn=0;Gn<ei;Gn++){let rs=Un;for(let Ks=0;Ks<Ht;Ks++){const Jn=ai[Xn++]/255*(Se/255);$i[rs++]=Ii+Yi*Jn,$i[rs++]=Bi+Sn*Jn,$i[rs++]=nn+Ln*Jn,$i[rs++]=En}Un+=bi}}blockRenderChar(e,o,b,V,Q,Se,Ae,Ye){const rt=1*this.scale,st=2*this.scale,vt=Ye?1:st;if(o+rt>e.width||b+vt>e.height){console.warn("bad render request outside image data");return}const Ht=e.width*4,Tt=.5*(Q/255),ei=Se.r,ai=Se.g,di=Se.b,bi=V.r-ei,Ii=V.g-ai,Bi=V.b-di,nn=ei+bi*Tt,Yi=ai+Ii*Tt,Sn=di+Bi*Tt,Ln=Math.max(Q,Ae),En=e.data;let $i=b*Ht+o*4;for(let Xn=0;Xn<vt;Xn++){let Un=$i;for(let Gn=0;Gn<rt;Gn++)En[Un++]=nn,En[Un++]=Yi,En[Un++]=Sn,En[Un++]=Ln;$i+=Ht}}}var mi=i(89717);const Fi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Di=Nt=>{const e=new Uint8ClampedArray(Nt.length/2);for(let o=0;o<Nt.length;o+=2)e[o>>1]=Fi[Nt[o]]<<4|Fi[Nt[o+1]]&15;return e},Ji={1:(0,mi.I)(()=>Di("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,mi.I)(()=>Di("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Ui{static create(e,o){if(this.lastCreated&&e===this.lastCreated.scale&&o===this.lastFontFamily)return this.lastCreated;let b;return Ji[e]?b=new oi(Ji[e](),e):b=Ui.createFromSampleData(Ui.createSampleData(o).data,e),this.lastFontFamily=o,this.lastCreated=b,b}static createSampleData(e){const o=document.createElement("canvas"),b=o.getContext("2d");o.style.height=`${16}px`,o.height=16,o.width=96*10,o.style.width=96*10+"px",b.fillStyle="#ffffff",b.font=`bold ${16}px ${e}`,b.textBaseline="middle";let V=0;for(const Q of Wt)b.fillText(String.fromCharCode(Q),V,16/2),V+=10;return b.getImageData(0,0,96*10,16)}static createFromSampleData(e,o){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const V=Ui._downsample(e,o);return new oi(V,o)}static _downsampleChar(e,o,b,V,Q){const Se=1*Q,Ae=2*Q;let Ye=V,rt=0;for(let st=0;st<Ae;st++){const vt=st/Ae*16,Ht=(st+1)/Ae*16;for(let Tt=0;Tt<Se;Tt++){const ei=Tt/Se*10,ai=(Tt+1)/Se*10;let di=0,bi=0;for(let Bi=vt;Bi<Ht;Bi++){const nn=o+Math.floor(Bi)*3840,Yi=1-(Bi-Math.floor(Bi));for(let Sn=ei;Sn<ai;Sn++){const Ln=1-(Sn-Math.floor(Sn)),En=nn+Math.floor(Sn)*4,$i=Ln*Yi;bi+=$i,di+=e[En]*e[En+3]/255*$i}}const Ii=di/bi;rt=Math.max(rt,Ii),b[Ye++]=(0,Yt.K)(Ii)}}return rt}static _downsample(e,o){const b=2*o*1*o,V=b*96,Q=new Uint8ClampedArray(V);let Se=0,Ae=0,Ye=0;for(let rt=0;rt<96;rt++)Ye=Math.max(Ye,this._downsampleChar(e,Ae,Q,Se,o)),Se+=b,Ae+=10*4;if(Ye>0){const rt=255/Ye;for(let st=0;st<V;st++)Q[st]*=rt}return Q}}var _n=i(41913);const gn=140,vn=2;class Vn{constructor(e,o,b){const V=e.options,Q=V.get(137),Se=V.get(139),Ae=Se.minimap,Ye=V.get(48),rt=V.get(70);this.renderMinimap=Ae.renderMinimap,this.size=rt.size,this.minimapHeightIsEditorHeight=Ae.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=V.get(100),this.paddingTop=V.get(81).top,this.paddingBottom=V.get(81).bottom,this.showSlider=rt.showSlider,this.autohide=rt.autohide,this.pixelRatio=Q,this.typicalHalfwidthCharacterWidth=Ye.typicalHalfwidthCharacterWidth,this.lineHeight=V.get(64),this.minimapLeft=Ae.minimapLeft,this.minimapWidth=Ae.minimapWidth,this.minimapHeight=Se.height,this.canvasInnerWidth=Ae.minimapCanvasInnerWidth,this.canvasInnerHeight=Ae.minimapCanvasInnerHeight,this.canvasOuterWidth=Ae.minimapCanvasOuterWidth,this.canvasOuterHeight=Ae.minimapCanvasOuterHeight,this.isSampling=Ae.minimapIsSampling,this.editorHeight=Se.height,this.fontScale=Ae.minimapScale,this.minimapLineHeight=Ae.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,mi.I)(()=>Ui.create(this.fontScale,Ye.fontFamily)),this.defaultBackgroundColor=b.getColor(2),this.backgroundColor=Vn._getMinimapBackground(o,this.defaultBackgroundColor),this.foregroundAlpha=Vn._getMinimapForegroundOpacity(o)}static _getMinimapBackground(e,o){const b=e.getColor(us.kVY);return b?new Ci(b.rgba.r,b.rgba.g,b.rgba.b,Math.round(255*b.rgba.a)):o}static _getMinimapForegroundOpacity(e){const o=e.getColor(us.Itd);return o?Ci._clamp(Math.round(255*o.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Bn{constructor(e,o,b,V,Q,Se,Ae,Ye,rt){this.scrollTop=e,this.scrollHeight=o,this.sliderNeeded=b,this._computedSliderRatio=V,this.sliderTop=Q,this.sliderHeight=Se,this.topPaddingLineCount=Ae,this.startLineNumber=Ye,this.endLineNumber=rt}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const o=Math.max(this.startLineNumber,e.startLineNumber),b=Math.min(this.endLineNumber,e.endLineNumber);return o>b?null:[o,b]}getYForLineNumber(e,o){return+(e-this.startLineNumber+this.topPaddingLineCount)*o}static create(e,o,b,V,Q,Se,Ae,Ye,rt,st,vt){const Ht=e.pixelRatio,Tt=e.minimapLineHeight,ei=Math.floor(e.canvasInnerHeight/Tt),ai=e.lineHeight;if(e.minimapHeightIsEditorHeight){let Sn=Ye*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(Sn+=Math.max(0,Q-e.lineHeight-e.paddingBottom));const Ln=Math.max(1,Math.floor(Q*Q/Sn)),En=Math.max(0,e.minimapHeight-Ln),$i=En/(st-Q),Xn=rt*$i,Un=En>0,Gn=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),rs=Math.floor(e.paddingTop/e.lineHeight);return new Bn(rt,st,Un,$i,Xn,Ln,rs,1,Math.min(Ae,Gn))}let di;if(Se&&b!==Ae){const Sn=b-o+1;di=Math.floor(Sn*Tt/Ht)}else{const Sn=Q/ai;di=Math.floor(Sn*Tt/Ht)}const bi=Math.floor(e.paddingTop/ai);let Ii=Math.floor(e.paddingBottom/ai);if(e.scrollBeyondLastLine){const Sn=Q/ai;Ii=Math.max(Ii,Sn-1)}let Bi;if(Ii>0){const Sn=Q/ai;Bi=(bi+Ae+Ii-Sn-1)*Tt/Ht}else Bi=Math.max(0,(bi+Ae)*Tt/Ht-di);Bi=Math.min(e.minimapHeight-di,Bi);const nn=Bi/(st-Q),Yi=rt*nn;if(ei>=bi+Ae+Ii){const Sn=Bi>0;return new Bn(rt,st,Sn,nn,Yi,di,bi,1,Ae)}else{let Sn;o>1?Sn=o+bi:Sn=Math.max(1,rt/ai);let Ln,En=Math.max(1,Math.floor(Sn-Yi*Ht/Tt));En<bi?(Ln=bi-En+1,En=1):(Ln=0,En=Math.max(1,En-bi)),vt&&vt.scrollHeight===st&&(vt.scrollTop>rt&&(En=Math.min(En,vt.startLineNumber),Ln=Math.max(Ln,vt.topPaddingLineCount)),vt.scrollTop<rt&&(En=Math.max(En,vt.startLineNumber),Ln=Math.min(Ln,vt.topPaddingLineCount)));const $i=Math.min(Ae,En-Ln+ei-1),Xn=(rt-V)/ai;let Un;return rt>e.paddingTop?Un=(o-En+Ln+Xn)*Tt/Ht:Un=rt/e.paddingTop*(Ln+Xn)*Tt/Ht,new Bn(rt,st,!0,nn,Un,di,Ln,En,$i)}}}class Kt{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Kt.INVALID=new Kt(-1);class F{constructor(e,o,b){this.renderedLayout=e,this._imageData=o,this._renderedLines=new Yn(()=>Kt.INVALID),this._renderedLines._set(e.startLineNumber,b)}linesEquals(e){if(!this.scrollEquals(e))return!1;const b=this._renderedLines._get().lines;for(let V=0,Q=b.length;V<Q;V++)if(b[V].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,o){return this._renderedLines.onLinesChanged(e,o)}onLinesDeleted(e,o){this._renderedLines.onLinesDeleted(e,o)}onLinesInserted(e,o){this._renderedLines.onLinesInserted(e,o)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class r{constructor(e,o,b,V){this._backgroundFillData=r._createBackgroundFillData(o,b,V),this._buffers=[e.createImageData(o,b),e.createImageData(o,b)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,o,b){const V=b.r,Q=b.g,Se=b.b,Ae=b.a,Ye=new Uint8ClampedArray(e*o*4);let rt=0;for(let st=0;st<o;st++)for(let vt=0;vt<e;vt++)Ye[rt]=V,Ye[rt+1]=Q,Ye[rt+2]=Se,Ye[rt+3]=Ae,rt+=4;return Ye}}class I{static compute(e,o,b){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:V}=x.gk.computeContainedMinimapLineCount({viewLineCount:o,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),Q=o/V,Se=Q/2;if(!b||b.minimapLines.length===0){const di=[];if(di[0]=1,V>1){for(let bi=0,Ii=V-1;bi<Ii;bi++)di[bi]=Math.round(bi*Q+Se);di[V-1]=o}return[new I(Q,di),[]]}const Ae=b.minimapLines,Ye=Ae.length,rt=[];let st=0,vt=0,Ht=1;const Tt=10;let ei=[],ai=null;for(let di=0;di<V;di++){const bi=Math.max(Ht,Math.round(di*Q)),Ii=Math.max(bi,Math.round((di+1)*Q));for(;st<Ye&&Ae[st]<bi;){if(ei.length<Tt){const nn=st+1+vt;ai&&ai.type==="deleted"&&ai._oldIndex===st-1?ai.deleteToLineNumber++:(ai={type:"deleted",_oldIndex:st,deleteFromLineNumber:nn,deleteToLineNumber:nn},ei.push(ai)),vt--}st++}let Bi;if(st<Ye&&Ae[st]<=Ii)Bi=Ae[st],st++;else if(di===0?Bi=1:di+1===V?Bi=o:Bi=Math.round(di*Q+Se),ei.length<Tt){const nn=st+1+vt;ai&&ai.type==="inserted"&&ai._i===di-1?ai.insertToLineNumber++:(ai={type:"inserted",_i:di,insertFromLineNumber:nn,insertToLineNumber:nn},ei.push(ai)),vt++}rt[di]=Bi,Ht=Bi}if(ei.length<Tt)for(;st<Ye;){const di=st+1+vt;ai&&ai.type==="deleted"&&ai._oldIndex===st-1?ai.deleteToLineNumber++:(ai={type:"deleted",_oldIndex:st,deleteFromLineNumber:di,deleteToLineNumber:di},ei.push(ai)),vt--,st++}else ei=[{type:"flush"}];return[new I(Q,rt),ei]}constructor(e,o){this.samplingRatio=e,this.minimapLines=o}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,o){let b=this.modelLineToMinimapLine(e)-1;for(;b>0&&this.minimapLines[b-1]>=e;)b--;let V=this.modelLineToMinimapLine(o)-1;for(;V+1<this.minimapLines.length&&this.minimapLines[V+1]<=o;)V++;if(b===V){const Q=this.minimapLines[b];if(Q<e||Q>o)return null}return[b+1,V+1]}decorationLineRangeToMinimapLineRange(e,o){let b=this.modelLineToMinimapLine(e),V=this.modelLineToMinimapLine(o);return e!==o&&V===b&&(V===this.minimapLines.length?b>1&&b--:V++),[b,V]}onLinesDeleted(e){const o=e.toLineNumber-e.fromLineNumber+1;let b=this.minimapLines.length,V=0;for(let Q=this.minimapLines.length-1;Q>=0&&!(this.minimapLines[Q]<e.fromLineNumber);Q--)this.minimapLines[Q]<=e.toLineNumber?(this.minimapLines[Q]=Math.max(1,e.fromLineNumber-1),b=Math.min(b,Q),V=Math.max(V,Q)):this.minimapLines[Q]-=o;return[b,V]}onLinesInserted(e){const o=e.toLineNumber-e.fromLineNumber+1;for(let b=this.minimapLines.length-1;b>=0&&!(this.minimapLines[b]<e.fromLineNumber);b--)this.minimapLines[b]+=o}}class $ extends Le{constructor(e){super(e),this.tokensColorTracker=Xi.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Vn(this._context.configuration,this._context.theme,this.tokensColorTracker);const[o]=I.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=o,this._shouldCheckSampling=!1,this._actual=new ae(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new Vn(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const o=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return o?this._actual.onLinesChanged(o[0],o[1]-o[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[o,b]=this._samplingState.onLinesDeleted(e);return o<=b&&this._actual.onLinesChanged(o+1,b-o+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const o=[];for(const b of e.ranges){const V=this._samplingState.modelLineRangeToMinimapLineRange(b.fromLineNumber,b.toLineNumber);V&&o.push({fromLineNumber:V[0],toLineNumber:V[1]})}return o.length?this._actual.onTokensChanged(o):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let o=e.visibleRange.startLineNumber,b=e.visibleRange.endLineNumber;this._samplingState&&(o=this._samplingState.modelLineToMinimapLine(o),b=this._samplingState.modelLineToMinimapLine(b));const V={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:o,viewportEndLineNumber:b,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(o),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(V)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[o,b]=I.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=o,e&&this._samplingState)for(const V of b)switch(V.type){case"deleted":this._actual.onLinesDeleted(V.deleteFromLineNumber,V.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(V.insertFromLineNumber,V.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,o,b){if(this._samplingState){const V=[];for(let Q=0,Se=o-e+1;Q<Se;Q++)b[Q]?V[Q]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+Q-1]):V[Q]=null;return V}return this._context.viewModel.getMinimapLinesRenderingData(e,o,b).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[o,b]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new ee.Y(o,e.startColumn,b,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,o){let b;if(this._samplingState){const Q=this._samplingState.minimapLines[e-1],Se=this._samplingState.minimapLines[o-1];b=new Me.e(Q,1,Se,this._context.viewModel.getLineMaxColumn(Se))}else b=new Me.e(e,1,o,this._context.viewModel.getLineMaxColumn(o));const V=this._context.viewModel.getDecorationsInViewport(b,!0);if(this._samplingState){const Q=[];for(const Se of V){if(!Se.options.minimap)continue;const Ae=Se.range,Ye=this._samplingState.modelLineToMinimapLine(Ae.startLineNumber),rt=this._samplingState.modelLineToMinimapLine(Ae.endLineNumber);Q.push(new tn.$l(new Me.e(Ye,Ae.startColumn,rt,Ae.endColumn),Se.options))}return Q}return V}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new Me.e(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class ae extends p.JT{constructor(e,o){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=o,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(us.ov3),this._domNode=(0,fe.X)(document.createElement("div")),ue.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,fe.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,fe.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,fe.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,fe.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,fe.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=M.mu(this._domNode.domNode,M.tw.POINTER_DOWN,b=>{if(b.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(b.button===0&&this._lastRenderData){const rt=M.i(this._slider.domNode),st=rt.top+rt.height/2;this._startSliderDragging(b,st,this._lastRenderData.renderedLayout)}return}const Q=this._model.options.minimapLineHeight,Se=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*b.offsetY;let Ye=Math.floor(Se/Q)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;Ye=Math.min(Ye,this._model.getLineCount()),this._model.revealLineNumber(Ye)}),this._sliderPointerMoveMonitor=new Fn.C,this._sliderPointerDownListener=M.mu(this._slider.domNode,M.tw.POINTER_DOWN,b=>{b.preventDefault(),b.stopPropagation(),b.button===0&&this._lastRenderData&&this._startSliderDragging(b,b.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=De.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=M.nm(this._domNode.domNode,De.t.Start,b=>{b.preventDefault(),b.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(b))},{passive:!1}),this._sliderTouchMoveListener=M.nm(this._domNode.domNode,De.t.Change,b=>{b.preventDefault(),b.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(b)},{passive:!1}),this._sliderTouchEndListener=M.mu(this._domNode.domNode,De.t.End,b=>{b.preventDefault(),b.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,o,b){if(!e.target||!(e.target instanceof Element))return;const V=e.pageX;this._slider.toggleClassName("active",!0);const Q=(Se,Ae)=>{const Ye=M.i(this._domNode.domNode),rt=Math.min(Math.abs(Ae-V),Math.abs(Ae-Ye.left),Math.abs(Ae-Ye.left-Ye.width));if(a.ED&&rt>gn){this._model.setScrollTop(b.scrollTop);return}const st=Se-o;this._model.setScrollTop(b.getDesiredScrollTopFromDelta(st))};e.pageY!==o&&Q(e.pageY,V),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,Se=>Q(Se.pageY,Se.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const o=this._domNode.domNode.getBoundingClientRect().top,b=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-o);this._model.setScrollTop(b)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new r(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,o){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,o):!1}onLinesDeleted(e,o){var b;return(b=this._lastRenderData)===null||b===void 0||b.onLinesDeleted(e,o),!0}onLinesInserted(e,o){var b;return(b=this._lastRenderData)===null||b===void 0||b.onLinesInserted(e,o),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(us.ov3),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const b=Bn.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(b.sliderNeeded?"block":"none"),this._slider.setTop(b.sliderTop),this._slider.setHeight(b.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(b.sliderHeight),this.renderDecorations(b),this._lastRenderData=this.renderLines(b)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const o=this._model.getSelections();o.sort(Me.e.compareRangesUsingStarts);const b=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);b.sort((Ht,Tt)=>(Ht.options.zIndex||0)-(Tt.options.zIndex||0));const{canvasInnerWidth:V,canvasInnerHeight:Q}=this._model.options,Se=this._model.options.minimapLineHeight,Ae=this._model.options.minimapCharWidth,Ye=this._model.getOptions().tabSize,rt=this._decorationsCanvas.domNode.getContext("2d");rt.clearRect(0,0,V,Q);const st=new we(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(rt,o,st,e,Se),this._renderDecorationsLineHighlights(rt,b,st,e,Se);const vt=new we(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(rt,o,vt,e,Se,Ye,Ae,V),this._renderDecorationsHighlights(rt,b,vt,e,Se,Ye,Ae,V)}}_renderSelectionLineHighlights(e,o,b,V,Q){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let Se=0,Ae=0;for(const Ye of o){const rt=V.intersectWithViewport(Ye);if(!rt)continue;const[st,vt]=rt;for(let ei=st;ei<=vt;ei++)b.set(ei,!0);const Ht=V.getYForLineNumber(st,Q),Tt=V.getYForLineNumber(vt,Q);Ae>=Ht||(Ae>Se&&e.fillRect(x.y0,Se,e.canvas.width,Ae-Se),Se=Ht),Ae=Tt}Ae>Se&&e.fillRect(x.y0,Se,e.canvas.width,Ae-Se)}_renderDecorationsLineHighlights(e,o,b,V,Q){const Se=new Map;for(let Ae=o.length-1;Ae>=0;Ae--){const Ye=o[Ae],rt=Ye.options.minimap;if(!rt||rt.position!==_n.F5.Inline)continue;const st=V.intersectWithViewport(Ye.range);if(!st)continue;const[vt,Ht]=st,Tt=rt.getColor(this._theme.value);if(!Tt||Tt.isTransparent())continue;let ei=Se.get(Tt.toString());ei||(ei=Tt.transparent(.5).toString(),Se.set(Tt.toString(),ei)),e.fillStyle=ei;for(let ai=vt;ai<=Ht;ai++){if(b.has(ai))continue;b.set(ai,!0);const di=V.getYForLineNumber(vt,Q);e.fillRect(x.y0,di,e.canvas.width,Q)}}}_renderSelectionsHighlights(e,o,b,V,Q,Se,Ae,Ye){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const rt of o){const st=V.intersectWithViewport(rt);if(!st)continue;const[vt,Ht]=st;for(let Tt=vt;Tt<=Ht;Tt++)this.renderDecorationOnLine(e,b,rt,this._selectionColor,V,Tt,Q,Q,Se,Ae,Ye)}}_renderDecorationsHighlights(e,o,b,V,Q,Se,Ae,Ye){for(const rt of o){const st=rt.options.minimap;if(!st)continue;const vt=V.intersectWithViewport(rt.range);if(!vt)continue;const[Ht,Tt]=vt,ei=st.getColor(this._theme.value);if(!(!ei||ei.isTransparent()))for(let ai=Ht;ai<=Tt;ai++)switch(st.position){case _n.F5.Inline:this.renderDecorationOnLine(e,b,rt.range,ei,V,ai,Q,Q,Se,Ae,Ye);continue;case _n.F5.Gutter:{const di=V.getYForLineNumber(ai,Q),bi=2;this.renderDecoration(e,ei,bi,di,vn,Q);continue}}}}renderDecorationOnLine(e,o,b,V,Q,Se,Ae,Ye,rt,st,vt){const Ht=Q.getYForLineNumber(Se,Ye);if(Ht+Ae<0||Ht>this._model.options.canvasInnerHeight)return;const{startLineNumber:Tt,endLineNumber:ei}=b,ai=Tt===Se?b.startColumn:1,di=ei===Se?b.endColumn:this._model.getLineMaxColumn(Se),bi=this.getXOffsetForPosition(o,Se,ai,rt,st,vt),Ii=this.getXOffsetForPosition(o,Se,di,rt,st,vt);this.renderDecoration(e,V,bi,Ht,Ii-bi,Ae)}getXOffsetForPosition(e,o,b,V,Q,Se){if(b===1)return x.y0;if((b-1)*Q>=Se)return Se;let Ye=e.get(o);if(!Ye){const rt=this._model.getLineContent(o);Ye=[x.y0];let st=x.y0;for(let vt=1;vt<rt.length+1;vt++){const Ht=rt.charCodeAt(vt-1),Tt=Ht===9?V*Q:ji.K7(Ht)?2*Q:Q,ei=st+Tt;if(ei>=Se){Ye[vt]=Se;break}Ye[vt]=ei,st=ei}e.set(o,Ye)}return b-1<Ye.length?Ye[b-1]:Se}renderDecoration(e,o,b,V,Q,Se){e.fillStyle=o&&o.toString()||"",e.fillRect(b,V,Q,Se)}renderLines(e){const o=e.startLineNumber,b=e.endLineNumber,V=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const Jn=this._lastRenderData._get();return new F(e,Jn.imageData,Jn.lines)}const Q=this._getBuffer();if(!Q)return null;const[Se,Ae,Ye]=ae._renderUntouchedLines(Q,e.topPaddingLineCount,o,b,V,this._lastRenderData),rt=this._model.getMinimapLinesRenderingData(o,b,Ye),st=this._model.getOptions().tabSize,vt=this._model.options.defaultBackgroundColor,Ht=this._model.options.backgroundColor,Tt=this._model.options.foregroundAlpha,ei=this._model.tokensColorTracker,ai=ei.backgroundIsLight(),di=this._model.options.renderMinimap,bi=this._model.options.charRenderer(),Ii=this._model.options.fontScale,Bi=this._model.options.minimapCharWidth,Yi=(di===1?2:2+1)*Ii,Sn=V>Yi?Math.floor((V-Yi)/2):0,Ln=Ht.a/255,En=new Ci(Math.round((Ht.r-vt.r)*Ln+vt.r),Math.round((Ht.g-vt.g)*Ln+vt.g),Math.round((Ht.b-vt.b)*Ln+vt.b),255);let $i=e.topPaddingLineCount*V;const Xn=[];for(let Jn=0,sr=b-o+1;Jn<sr;Jn++)Ye[Jn]&&ae._renderLine(Q,En,Ht.a,ai,di,Bi,ei,Tt,bi,$i,Sn,st,rt[Jn],Ii,V),Xn[Jn]=new Kt($i),$i+=V;const Un=Se===-1?0:Se,rs=(Ae===-1?Q.height:Ae)-Un;return this._canvas.domNode.getContext("2d").putImageData(Q,0,0,0,Un,Q.width,rs),new F(e,Q,Xn)}static _renderUntouchedLines(e,o,b,V,Q,Se){const Ae=[];if(!Se){for(let $i=0,Xn=V-b+1;$i<Xn;$i++)Ae[$i]=!0;return[-1,-1,Ae]}const Ye=Se._get(),rt=Ye.imageData.data,st=Ye.rendLineNumberStart,vt=Ye.lines,Ht=vt.length,Tt=e.width,ei=e.data,ai=(V-b+1)*Q*Tt*4;let di=-1,bi=-1,Ii=-1,Bi=-1,nn=-1,Yi=-1,Sn=o*Q;for(let $i=b;$i<=V;$i++){const Xn=$i-b,Un=$i-st,Gn=Un>=0&&Un<Ht?vt[Un].dy:-1;if(Gn===-1){Ae[Xn]=!0,Sn+=Q;continue}const rs=Gn*Tt*4,Ks=(Gn+Q)*Tt*4,Jn=Sn*Tt*4,sr=(Sn+Q)*Tt*4;Bi===rs&&Yi===Jn?(Bi=Ks,Yi=sr):(Ii!==-1&&(ei.set(rt.subarray(Ii,Bi),nn),di===-1&&Ii===0&&Ii===nn&&(di=Bi),bi===-1&&Bi===ai&&Ii===nn&&(bi=Ii)),Ii=rs,Bi=Ks,nn=Jn,Yi=sr),Ae[Xn]=!1,Sn+=Q}Ii!==-1&&(ei.set(rt.subarray(Ii,Bi),nn),di===-1&&Ii===0&&Ii===nn&&(di=Bi),bi===-1&&Bi===ai&&Ii===nn&&(bi=Ii));const Ln=di===-1?-1:di/(Tt*4),En=bi===-1?-1:bi/(Tt*4);return[Ln,En,Ae]}static _renderLine(e,o,b,V,Q,Se,Ae,Ye,rt,st,vt,Ht,Tt,ei,ai){const di=Tt.content,bi=Tt.tokens,Ii=e.width-Se,Bi=ai===1;let nn=x.y0,Yi=0,Sn=0;for(let Ln=0,En=bi.getCount();Ln<En;Ln++){const $i=bi.getEndOffset(Ln),Xn=bi.getForeground(Ln),Un=Ae.getColor(Xn);for(;Yi<$i;Yi++){if(nn>Ii)return;const Gn=di.charCodeAt(Yi);if(Gn===9){const rs=Ht-(Yi+Sn)%Ht;Sn+=rs-1,nn+=rs*Se}else if(Gn===32)nn+=Se;else{const rs=ji.K7(Gn)?2:1;for(let Ks=0;Ks<rs;Ks++)if(Q===2?rt.blockRenderChar(e,nn,st+vt,Un,Ye,o,b,Bi):rt.renderChar(e,nn,st+vt,Gn,Un,Ye,o,b,ei,V,Bi),nn+=Se,nn>Ii)return}}}}}class we{constructor(e,o,b){this._startLineNumber=e,this._endLineNumber=o,this._defaultValue=b,this._values=[];for(let V=0,Q=this._endLineNumber-this._startLineNumber+1;V<Q;V++)this._values[V]=b}has(e){return this.get(e)!==this._defaultValue}set(e,o){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=o)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class ke extends Le{constructor(e){super(e);const b=this._context.configuration.options.get(139);this._widgets={},this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,this._domNode=(0,fe.X)(document.createElement("div")),ue.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const b=this._context.configuration.options.get(139);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(e){const o=(0,fe.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:o},o.setPosition("absolute"),o.setAttribute("widgetId",e.getId()),this._domNode.appendChild(o),this.setShouldRender()}setWidgetPosition(e,o){const b=this._widgets[e.getId()];return b.preference===o?!1:(b.preference=o,this.setShouldRender(),!0)}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const V=this._widgets[o].domNode.domNode;delete this._widgets[o],V.parentNode.removeChild(V),this.setShouldRender()}}_renderWidget(e){const o=e.domNode;if(e.preference===null){o.setTop("");return}if(e.preference===0)o.setTop(0),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const b=o.domNode.clientHeight;o.setTop(this._editorHeight-b-2*this._horizontalScrollbarHeight),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(o.setTop(0),o.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const o=Object.keys(this._widgets);for(let b=0,V=o.length;b<V;b++){const Q=o[b];this._renderWidget(this._widgets[Q])}}}class nt{constructor(e,o){const b=e.options;this.lineHeight=b.get(64),this.pixelRatio=b.get(137),this.overviewRulerLanes=b.get(80),this.renderBorder=b.get(79);const V=o.getColor(ki.zw);this.borderColor=V?V.toString():null,this.hideCursor=b.get(57);const Q=o.getColor(ki.n0);this.cursorColor=Q?Q.transparent(.7).toString():null,this.themeType=o.type;const Se=b.get(70),Ae=Se.enabled,Ye=Se.side,rt=o.getColor(ki.e_),st=ts.RW.getDefaultBackground();rt?this.backgroundColor=rt:Ae&&Ye==="right"?this.backgroundColor=st:this.backgroundColor=null;const Ht=b.get(139).overviewRuler;this.top=Ht.top,this.right=Ht.right,this.domWidth=Ht.width,this.domHeight=Ht.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Tt,ei]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Tt,this.w=ei}_initLanes(e,o,b){const V=o-e;if(b>=3){const Q=Math.floor(V/3),Se=Math.floor(V/3),Ae=V-Q-Se,Ye=e,rt=Ye+Q,st=Ye+Q+Ae;return[[0,Ye,rt,Ye,st,Ye,rt,Ye],[0,Q,Ae,Q+Ae,Se,Q+Ae+Se,Ae+Se,Q+Ae+Se]]}else if(b===2){const Q=Math.floor(V/2),Se=V-Q,Ae=e,Ye=Ae+Q;return[[0,Ae,Ae,Ae,Ye,Ae,Ae,Ae],[0,Q,Q,Q,Se,Q+Se,Q+Se,Q+Se]]}else{const Q=e,Se=V;return[[0,Q,Q,Q,Q,Q,Q,Q],[0,Se,Se,Se,Se,Se,Se,Se]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&Kn.Il.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class at extends Le{constructor(e){super(e),this._domNode=(0,fe.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=ts.RW.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const o=new nt(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(o)?!1:(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let o=0,b=e.selections.length;o<b;o++)this._cursorPositions[o]=e.selections[o].getPosition();return this._cursorPositions.sort(me.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?Kn.Il.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const o=this._settings.canvasWidth,b=this._settings.canvasHeight,V=this._settings.lineHeight,Q=this._context.viewLayout,Se=this._context.viewLayout.getScrollHeight(),Ae=b/Se,Ye=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),rt=6*this._settings.pixelRatio|0,st=rt/2|0,vt=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(vt.fillStyle=Kn.Il.Format.CSS.formatHexA(e),vt.fillRect(0,0,o,b)):(vt.clearRect(0,0,o,b),vt.fillStyle=Kn.Il.Format.CSS.formatHexA(e),vt.fillRect(0,0,o,b)):vt.clearRect(0,0,o,b);const Ht=this._settings.x,Tt=this._settings.w;Ye.sort(tn.SQ.cmp);for(const ei of Ye){const ai=ei.color,di=ei.data;vt.fillStyle=ai;let bi=0,Ii=0,Bi=0;for(let nn=0,Yi=di.length/3;nn<Yi;nn++){const Sn=di[3*nn],Ln=di[3*nn+1],En=di[3*nn+2];let $i=Q.getVerticalOffsetForLineNumber(Ln)*Ae|0,Xn=(Q.getVerticalOffsetForLineNumber(En)+V)*Ae|0;if(Xn-$i<rt){let Gn=($i+Xn)/2|0;Gn<st?Gn=st:Gn+st>b&&(Gn=b-st),$i=Gn-st,Xn=Gn+st}$i>Bi+1||Sn!==bi?(nn!==0&&vt.fillRect(Ht[bi],Ii,Tt[bi],Bi-Ii),bi=Sn,Ii=$i,Bi=Xn):Xn>Bi&&(Bi=Xn)}vt.fillRect(Ht[bi],Ii,Tt[bi],Bi-Ii)}if(!this._settings.hideCursor&&this._settings.cursorColor){const ei=2*this._settings.pixelRatio|0,ai=ei/2|0,di=this._settings.x[7],bi=this._settings.w[7];vt.fillStyle=this._settings.cursorColor;let Ii=-100,Bi=-100;for(let nn=0,Yi=this._cursorPositions.length;nn<Yi;nn++){const Sn=this._cursorPositions[nn];let Ln=Q.getVerticalOffsetForLineNumber(Sn.lineNumber)*Ae|0;Ln<ai?Ln=ai:Ln+ai>b&&(Ln=b-ai);const En=Ln-ai,$i=En+ei;En>Bi+1?(nn!==0&&vt.fillRect(di,Ii,bi,Bi-Ii),Ii=En,Bi=$i):$i>Bi&&(Bi=$i)}vt.fillRect(di,Ii,bi,Bi-Ii)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(vt.beginPath(),vt.lineWidth=1,vt.strokeStyle=this._settings.borderColor,vt.moveTo(0,0),vt.lineTo(0,b),vt.stroke(),vt.moveTo(0,0),vt.lineTo(o,0),vt.stroke())}}var _t=i(43128);class xt extends xe{constructor(e,o){super(),this._context=e;const b=this._context.configuration.options;this._domNode=(0,fe.X)(document.createElement("canvas")),this._domNode.setClassName(o),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new _t.Tj(V=>this._context.viewLayout.getVerticalOffsetForLineNumber(V)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(b.get(64)),this._zoneManager.setPixelRatio(b.get(137)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return e.hasChanged(64)&&(this._zoneManager.setLineHeight(o.get(64)),this._render()),e.hasChanged(137)&&(this._zoneManager.setPixelRatio(o.get(137)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let o=!1;o=this._zoneManager.setDOMWidth(e.width)||o,o=this._zoneManager.setDOMHeight(e.height)||o,o&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),b=this._zoneManager.resolveColorZones(),V=this._zoneManager.getId2Color(),Q=this._domNode.domNode.getContext("2d");return Q.clearRect(0,0,e,o),b.length>0&&this._renderOneLane(Q,b,V,e),!0}_renderOneLane(e,o,b,V){let Q=0,Se=0,Ae=0;for(const Ye of o){const rt=Ye.colorId,st=Ye.from,vt=Ye.to;rt!==Q?(e.fillRect(0,Se,V,Ae-Se),Q=rt,e.fillStyle=b[Q],Se=st,Ae=vt):Ae>=st?Ae=Math.max(Ae,vt):(e.fillRect(0,Se,V,Ae-Se),Se=st,Ae=vt)}e.fillRect(0,Se,V,Ae-Se)}}class Et extends Le{constructor(e){super(e),this.domNode=(0,fe.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const o=this._context.configuration.options;this._rulers=o.get(97),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._rulers=o.get(97),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,o=this._rulers.length;if(e===o)return;if(e<o){const{tabSize:V}=this._context.viewModel.model.getOptions(),Q=V;let Se=o-e;for(;Se>0;){const Ae=(0,fe.X)(document.createElement("div"));Ae.setClassName("view-ruler"),Ae.setWidth(Q),this.domNode.appendChild(Ae),this._renderedRulers.push(Ae),Se--}return}let b=e-o;for(;b>0;){const V=this._renderedRulers.pop();this.domNode.removeChild(V),b--}}render(e){this._ensureRulersCount();for(let o=0,b=this._rulers.length;o<b;o++){const V=this._renderedRulers[o],Q=this._rulers[o];V.setBoxShadow(Q.color?`1px 0 0 0 ${Q.color} inset`:""),V.setHeight(Math.min(e.scrollHeight,1e6)),V.setLeft(Q.column*this._typicalHalfwidthCharacterWidth)}}}class Ft extends Le{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const b=this._context.configuration.options.get(98);this._useShadows=b.useShadows,this._domNode=(0,fe.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const o=this._context.configuration.options.get(139);o.minimap.renderMinimap===0||o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?this._width=o.width:this._width=o.width-o.verticalScrollbarWidth}onConfigurationChanged(e){const b=this._context.configuration.options.get(98);return this._useShadows=b.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class Vt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class Qt{constructor(e,o){this.lineNumber=e,this.ranges=o}}function si(Nt){return new Vt(Nt)}function wi(Nt){return new Qt(Nt.lineNumber,Nt.ranges.map(si))}class Ti extends bs{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(64),this._roundedSelection=o.get(96),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(64),this._roundedSelection=o.get(96),this._typicalHalfwidthCharacterWidth=o.get(48).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let o=0,b=e.length;o<b;o++)if(e[o].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,o,b){const V=this._typicalHalfwidthCharacterWidth/4;let Q=null,Se=null;if(b&&b.length>0&&o.length>0){const Ae=o[0].lineNumber;if(Ae===e.startLineNumber)for(let rt=0;!Q&&rt<b.length;rt++)b[rt].lineNumber===Ae&&(Q=b[rt].ranges[0]);const Ye=o[o.length-1].lineNumber;if(Ye===e.endLineNumber)for(let rt=b.length-1;!Se&&rt>=0;rt--)b[rt].lineNumber===Ye&&(Se=b[rt].ranges[0]);Q&&!Q.startStyle&&(Q=null),Se&&!Se.startStyle&&(Se=null)}for(let Ae=0,Ye=o.length;Ae<Ye;Ae++){const rt=o[Ae].ranges[0],st=rt.left,vt=rt.left+rt.width,Ht={top:0,bottom:0},Tt={top:0,bottom:0};if(Ae>0){const ei=o[Ae-1].ranges[0].left,ai=o[Ae-1].ranges[0].left+o[Ae-1].ranges[0].width;Wi(st-ei)<V?Ht.top=2:st>ei&&(Ht.top=1),Wi(vt-ai)<V?Tt.top=2:ei<vt&&vt<ai&&(Tt.top=1)}else Q&&(Ht.top=Q.startStyle.top,Tt.top=Q.endStyle.top);if(Ae+1<Ye){const ei=o[Ae+1].ranges[0].left,ai=o[Ae+1].ranges[0].left+o[Ae+1].ranges[0].width;Wi(st-ei)<V?Ht.bottom=2:ei<st&&st<ai&&(Ht.bottom=1),Wi(vt-ai)<V?Tt.bottom=2:vt<ai&&(Tt.bottom=1)}else Se&&(Ht.bottom=Se.startStyle.bottom,Tt.bottom=Se.endStyle.bottom);rt.startStyle=Ht,rt.endStyle=Tt}}_getVisibleRangesWithStyle(e,o,b){const Q=(o.linesVisibleRangesForRange(e,!0)||[]).map(wi);return!this._visibleRangesHaveGaps(Q)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(o.visibleRange,Q,b),Q}_createSelectionPiece(e,o,b,V,Q){return'<div class="cslr '+b+'" style="top:'+e.toString()+"px;left:"+V.toString()+"px;width:"+Q.toString()+"px;height:"+o+'px;"></div>'}_actualRenderOneSelection(e,o,b,V){if(V.length===0)return;const Q=!!V[0].ranges[0].startStyle,Se=this._lineHeight.toString(),Ae=(this._lineHeight-1).toString(),Ye=V[0].lineNumber,rt=V[V.length-1].lineNumber;for(let st=0,vt=V.length;st<vt;st++){const Ht=V[st],Tt=Ht.lineNumber,ei=Tt-o,ai=b&&(Tt===rt||Tt===Ye)?Ae:Se,di=b&&Tt===Ye?1:0;let bi="",Ii="";for(let Bi=0,nn=Ht.ranges.length;Bi<nn;Bi++){const Yi=Ht.ranges[Bi];if(Q){const Ln=Yi.startStyle,En=Yi.endStyle;if(Ln.top===1||Ln.bottom===1){bi+=this._createSelectionPiece(di,ai,Ti.SELECTION_CLASS_NAME,Yi.left-Ti.ROUNDED_PIECE_WIDTH,Ti.ROUNDED_PIECE_WIDTH);let $i=Ti.EDITOR_BACKGROUND_CLASS_NAME;Ln.top===1&&($i+=" "+Ti.SELECTION_TOP_RIGHT),Ln.bottom===1&&($i+=" "+Ti.SELECTION_BOTTOM_RIGHT),bi+=this._createSelectionPiece(di,ai,$i,Yi.left-Ti.ROUNDED_PIECE_WIDTH,Ti.ROUNDED_PIECE_WIDTH)}if(En.top===1||En.bottom===1){bi+=this._createSelectionPiece(di,ai,Ti.SELECTION_CLASS_NAME,Yi.left+Yi.width,Ti.ROUNDED_PIECE_WIDTH);let $i=Ti.EDITOR_BACKGROUND_CLASS_NAME;En.top===1&&($i+=" "+Ti.SELECTION_TOP_LEFT),En.bottom===1&&($i+=" "+Ti.SELECTION_BOTTOM_LEFT),bi+=this._createSelectionPiece(di,ai,$i,Yi.left+Yi.width,Ti.ROUNDED_PIECE_WIDTH)}}let Sn=Ti.SELECTION_CLASS_NAME;if(Q){const Ln=Yi.startStyle,En=Yi.endStyle;Ln.top===0&&(Sn+=" "+Ti.SELECTION_TOP_LEFT),Ln.bottom===0&&(Sn+=" "+Ti.SELECTION_BOTTOM_LEFT),En.top===0&&(Sn+=" "+Ti.SELECTION_TOP_RIGHT),En.bottom===0&&(Sn+=" "+Ti.SELECTION_BOTTOM_RIGHT)}Ii+=this._createSelectionPiece(di,ai,Sn,Yi.left,Yi.width)}e[ei][0]+=bi,e[ei][1]+=Ii}}prepareRender(e){const o=[],b=e.visibleRange.startLineNumber,V=e.visibleRange.endLineNumber;for(let Se=b;Se<=V;Se++){const Ae=Se-b;o[Ae]=["",""]}const Q=[];for(let Se=0,Ae=this._selections.length;Se<Ae;Se++){const Ye=this._selections[Se];if(Ye.isEmpty()){Q[Se]=null;continue}const rt=this._getVisibleRangesWithStyle(Ye,e,this._previousFrameVisibleRangesWithStyle[Se]);Q[Se]=rt,this._actualRenderOneSelection(o,b,this._selections.length>1,rt)}this._previousFrameVisibleRangesWithStyle=Q,this._renderResult=o.map(([Se,Ae])=>Se+Ae)}render(e,o){if(!this._renderResult)return"";const b=o-e;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}Ti.SELECTION_CLASS_NAME="selected-text",Ti.SELECTION_TOP_LEFT="top-left-radius",Ti.SELECTION_BOTTOM_LEFT="bottom-left-radius",Ti.SELECTION_TOP_RIGHT="top-right-radius",Ti.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Ti.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Ti.ROUNDED_PIECE_WIDTH=10,(0,ms.Ic)((Nt,e)=>{const o=Nt.getColor(us.yb5);o&&!o.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)});function Wi(Nt){return Nt<0?-Nt:Nt}class wn{constructor(e,o,b,V,Q,Se,Ae){this.top=e,this.left=o,this.paddingLeft=b,this.width=V,this.height=Q,this.textContent=Se,this.textContentClassName=Ae}}class Qn{constructor(e){this._context=e;const o=this._context.configuration.options,b=o.get(48);this._cursorStyle=o.get(26),this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(29),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,fe.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Ls.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,bn.N)(this._domNode,b),this._domNode.setDisplay("none"),this._position=new me.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const o=this._context.configuration.options,b=o.get(48);return this._cursorStyle=o.get(26),this._lineHeight=o.get(64),this._typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(29),this._typicalHalfwidthCharacterWidth),(0,bn.N)(this._domNode,b),!0}onCursorPositionChanged(e,o){return o?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:o}=this._position,b=this._context.viewModel.getLineContent(e),[V,Q]=ji.J_(b,o-1);return[new me.L(e,V+1),b.substring(V,Q)]}_prepareRender(e){let o="",b="";const[V,Q]=this._getGraphemeAwarePosition();if(this._cursorStyle===x.d2.Line||this._cursorStyle===x.d2.LineThin){const Ht=e.visibleRangeForPosition(V);if(!Ht||Ht.outsideRenderedLine)return null;let Tt;this._cursorStyle===x.d2.Line?(Tt=M.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Tt>2&&(o=Q,b=this._getTokenClassName(V))):Tt=M.Uh(1);let ei=Ht.left,ai=0;Tt>=2&&ei>=1&&(ai=1,ei-=ai);const di=e.getVerticalOffsetForLineNumber(V.lineNumber)-e.bigNumbersDelta;return new wn(di,ei,ai,Tt,this._lineHeight,o,b)}const Se=e.linesVisibleRangesForRange(new Me.e(V.lineNumber,V.column,V.lineNumber,V.column+Q.length),!1);if(!Se||Se.length===0)return null;const Ae=Se[0];if(Ae.outsideRenderedLine||Ae.ranges.length===0)return null;const Ye=Ae.ranges[0],rt=Q==="	"?this._typicalHalfwidthCharacterWidth:Ye.width<1?this._typicalHalfwidthCharacterWidth:Ye.width;this._cursorStyle===x.d2.Block&&(o=Q,b=this._getTokenClassName(V));let st=e.getVerticalOffsetForLineNumber(V.lineNumber)-e.bigNumbersDelta,vt=this._lineHeight;return(this._cursorStyle===x.d2.Underline||this._cursorStyle===x.d2.UnderlineThin)&&(st+=this._lineHeight-2,vt=2),new wn(st,Ye.left,0,rt,vt,o,b)}_getTokenClassName(e){const o=this._context.viewModel.getViewLineData(e.lineNumber),b=o.tokens.findTokenIndexAtOffset(e.column-1);return o.tokens.getClassName(b)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Ls.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class vs extends Le{constructor(e){super(e);const o=this._context.configuration.options;this._readOnly=o.get(87),this._cursorBlinking=o.get(24),this._cursorStyle=o.get(26),this._cursorSmoothCaretAnimation=o.get(25),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Qn(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,fe.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Pn._F,this._cursorFlatBlinkInterval=new Pn.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const o=this._context.configuration.options;this._readOnly=o.get(87),this._cursorBlinking=o.get(24),this._cursorStyle=o.get(26),this._cursorSmoothCaretAnimation=o.get(25),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let b=0,V=this._secondaryCursors.length;b<V;b++)this._secondaryCursors[b].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,o,b){const V=this._secondaryCursors.length!==o.length||this._cursorSmoothCaretAnimation==="explicit"&&b!==3;if(this._primaryCursor.onCursorPositionChanged(e,V),this._updateBlinking(),this._secondaryCursors.length<o.length){const Q=o.length-this._secondaryCursors.length;for(let Se=0;Se<Q;Se++){const Ae=new Qn(this._context);this._domNode.domNode.insertBefore(Ae.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Ae)}}else if(this._secondaryCursors.length>o.length){const Q=this._secondaryCursors.length-o.length;for(let Se=0;Se<Q;Se++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let Q=0;Q<o.length;Q++)this._secondaryCursors[Q].onCursorPositionChanged(o[Q],V)}onCursorStateChanged(e){const o=[];for(let V=0,Q=e.selections.length;V<Q;V++)o[V]=e.selections[V].getPosition();this._onCursorPositionChanged(o[0],o.slice(1),e.reason);const b=e.selections[0].isEmpty();return this._selectionIsEmpty!==b&&(this._selectionIsEmpty=b,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const o=b=>{for(let V=0,Q=e.ranges.length;V<Q;V++)if(e.ranges[V].fromLineNumber<=b.lineNumber&&b.lineNumber<=e.ranges[V].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(const b of this._secondaryCursors)if(o(b.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),o=e===0,b=e===5;o?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!o&&!b&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},vs.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},vs.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case x.d2.Line:e+=" cursor-line-style";break;case x.d2.Block:e+=" cursor-block-style";break;case x.d2.Underline:e+=" cursor-underline-style";break;case x.d2.LineThin:e+=" cursor-line-thin-style";break;case x.d2.BlockOutline:e+=" cursor-block-outline-style";break;case x.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let o=0,b=this._secondaryCursors.length;o<b;o++)this._secondaryCursors[o].prepareRender(e)}render(e){const o=[];let b=0;const V=this._primaryCursor.render(e);V&&(o[b++]=V);for(let Q=0,Se=this._secondaryCursors.length;Q<Se;Q++){const Ae=this._secondaryCursors[Q].render(e);Ae&&(o[b++]=Ae)}this._renderData=o}getLastRenderData(){return this._renderData}}vs.BLINK_INTERVAL=500,(0,ms.Ic)((Nt,e)=>{const o=Nt.getColor(ki.n0);if(o){let b=Nt.getColor(ki.fY);b||(b=o.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${b}; }`),(0,ce.c3)(Nt.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${b}; border-right: 1px solid ${b}; }`)}});const an=()=>{throw new Error("Invalid change accessor")};class fs extends Le{constructor(e){super(e);const o=this._context.configuration.options,b=o.get(139);this._lineHeight=o.get(64),this._contentWidth=b.contentWidth,this._contentLeft=b.contentLeft,this.domNode=(0,fe.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,fe.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),o=new Map;for(const V of e)o.set(V.id,V);let b=!1;return this._context.viewModel.changeWhitespace(V=>{const Q=Object.keys(this._zones);for(let Se=0,Ae=Q.length;Se<Ae;Se++){const Ye=Q[Se],rt=this._zones[Ye],st=this._computeWhitespaceProps(rt.delegate);rt.isInHiddenArea=st.isInHiddenArea;const vt=o.get(Ye);vt&&(vt.afterLineNumber!==st.afterViewLineNumber||vt.height!==st.heightInPx)&&(V.changeOneWhitespace(Ye,st.afterViewLineNumber,st.heightInPx),this._safeCallOnComputedHeight(rt.delegate,st.heightInPx),b=!0)}}),b}onConfigurationChanged(e){const o=this._context.configuration.options,b=o.get(139);return this._lineHeight=o.get(64),this._contentWidth=b.contentWidth,this._contentLeft=b.contentLeft,e.hasChanged(64)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let o;if(typeof e.afterColumn!="undefined")o=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const Se=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;o=new me.L(Se,this._context.viewModel.model.getLineMaxColumn(Se))}let b;o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?b=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):b=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const V=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,e.afterColumnAffinity),Q=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(b);return{isInHiddenArea:!Q,afterViewLineNumber:V.lineNumber,heightInPx:Q?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let o=!1;return this._context.viewModel.changeWhitespace(b=>{const V={addZone:Q=>(o=!0,this._addZone(b,Q)),removeZone:Q=>{Q&&(o=this._removeZone(b,Q)||o)},layoutZone:Q=>{Q&&(o=this._layoutZone(b,Q)||o)}};Ys(e,V),V.addZone=an,V.removeZone=an,V.layoutZone=an}),o}_addZone(e,o){const b=this._computeWhitespaceProps(o),Q={whitespaceId:e.insertWhitespace(b.afterViewLineNumber,this._getZoneOrdinal(o),b.heightInPx,b.minWidthInPx),delegate:o,isInHiddenArea:b.isInHiddenArea,isVisible:!1,domNode:(0,fe.X)(o.domNode),marginDomNode:o.marginDomNode?(0,fe.X)(o.marginDomNode):null};return this._safeCallOnComputedHeight(Q.delegate,b.heightInPx),Q.domNode.setPosition("absolute"),Q.domNode.domNode.style.width="100%",Q.domNode.setDisplay("none"),Q.domNode.setAttribute("monaco-view-zone",Q.whitespaceId),this.domNode.appendChild(Q.domNode),Q.marginDomNode&&(Q.marginDomNode.setPosition("absolute"),Q.marginDomNode.domNode.style.width="100%",Q.marginDomNode.setDisplay("none"),Q.marginDomNode.setAttribute("monaco-view-zone",Q.whitespaceId),this.marginDomNode.appendChild(Q.marginDomNode)),this._zones[Q.whitespaceId]=Q,this.setShouldRender(),Q.whitespaceId}_removeZone(e,o){if(this._zones.hasOwnProperty(o)){const b=this._zones[o];return delete this._zones[o],e.removeWhitespace(b.whitespaceId),b.domNode.removeAttribute("monaco-visible-view-zone"),b.domNode.removeAttribute("monaco-view-zone"),b.domNode.domNode.parentNode.removeChild(b.domNode.domNode),b.marginDomNode&&(b.marginDomNode.removeAttribute("monaco-visible-view-zone"),b.marginDomNode.removeAttribute("monaco-view-zone"),b.marginDomNode.domNode.parentNode.removeChild(b.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,o){if(this._zones.hasOwnProperty(o)){const b=this._zones[o],V=this._computeWhitespaceProps(b.delegate);return b.isInHiddenArea=V.isInHiddenArea,e.changeOneWhitespace(b.whitespaceId,V.afterViewLineNumber,V.heightInPx),this._safeCallOnComputedHeight(b.delegate,V.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const o=this._zones[e];return Boolean(o.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,o){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(o)}catch(b){(0,E.dL)(b)}}_safeCallOnDomNodeTop(e,o){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(o)}catch(b){(0,E.dL)(b)}}prepareRender(e){}render(e){const o=e.viewportData.whitespaceViewportData,b={};let V=!1;for(const Se of o)this._zones[Se.id].isInHiddenArea||(b[Se.id]=Se,V=!0);const Q=Object.keys(this._zones);for(let Se=0,Ae=Q.length;Se<Ae;Se++){const Ye=Q[Se],rt=this._zones[Ye];let st=0,vt=0,Ht="none";b.hasOwnProperty(Ye)?(st=b[Ye].verticalOffset-e.bigNumbersDelta,vt=b[Ye].height,Ht="block",rt.isVisible||(rt.domNode.setAttribute("monaco-visible-view-zone","true"),rt.isVisible=!0),this._safeCallOnDomNodeTop(rt.delegate,e.getScrolledTopFromAbsoluteTop(b[Ye].verticalOffset))):(rt.isVisible&&(rt.domNode.removeAttribute("monaco-visible-view-zone"),rt.isVisible=!1),this._safeCallOnDomNodeTop(rt.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),rt.domNode.setTop(st),rt.domNode.setHeight(vt),rt.domNode.setDisplay(Ht),rt.marginDomNode&&(rt.marginDomNode.setTop(st),rt.marginDomNode.setHeight(vt),rt.marginDomNode.setDisplay(Ht))}V&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Ys(Nt,e){try{return Nt(e)}catch(o){(0,E.dL)(o)}}class Zs{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class xs{constructor(e,o,b){this.configuration=e,this.theme=new Zs(o),this.viewModel=b,this.viewLayout=b.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class zs{constructor(e,o,b,V){this.selections=e,this.startLineNumber=o.startLineNumber|0,this.endLineNumber=o.endLineNumber|0,this.relativeVerticalOffset=o.relativeVerticalOffset,this.bigNumbersDelta=o.bigNumbersDelta|0,this.whitespaceViewportData=b,this._model=V,this.visibleRange=new Me.e(o.startLineNumber,this._model.getLineMinColumn(o.startLineNumber),o.endLineNumber,this._model.getLineMaxColumn(o.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class po extends Le{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,fe.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const b=this._context.configuration.options.get(139),V=b.contentWidth-b.verticalScrollbarWidth;this.contentWidth!==V&&(this.contentWidth=V,e=!0);const Q=b.contentLeft;return this.contentLeft!==Q&&(this.contentLeft=Q,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){var o;let b=0;const V=e.getDecorationsInViewport();for(const Q of V){if(!Q.options.blockClassName)continue;let Se=this.blocks[b];Se||(Se=this.blocks[b]=(0,fe.X)(document.createElement("div")),this.domNode.appendChild(Se));let Ae,Ye;Q.options.blockIsAfterEnd?(Ae=e.getVerticalOffsetAfterLineNumber(Q.range.endLineNumber,!1),Ye=e.getVerticalOffsetAfterLineNumber(Q.range.endLineNumber,!0)):(Ae=e.getVerticalOffsetForLineNumber(Q.range.startLineNumber,!0),Ye=Q.range.isEmpty()&&!Q.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(Q.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(Q.range.endLineNumber,!0));const[rt,st,vt,Ht]=(o=Q.options.blockPadding)!==null&&o!==void 0?o:[0,0,0,0];Se.setClassName("blockDecorations-block "+Q.options.blockClassName),Se.setLeft(this.contentLeft-Ht),Se.setWidth(this.contentWidth+Ht+st),Se.setTop(Ae-e.scrollTop-rt),Se.setHeight(Ye-Ae+rt+vt),b++}for(let Q=b;Q<this.blocks.length;Q++)this.blocks[Q].domNode.remove();this.blocks.length=b}}var yo=i(14209);class Bo extends bs{constructor(e){super(),this._context=e,this._options=new ao(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=new ao(this._context.configuration);return this._options.equals(o)?e.hasChanged(139):(this._options=o,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,V=e.visibleRange.endLineNumber-o+1,Q=new Array(V);for(let Ae=0;Ae<V;Ae++)Q[Ae]=!0;const Se=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,Q);this._renderResult=[];for(let Ae=e.viewportData.startLineNumber;Ae<=e.viewportData.endLineNumber;Ae++){const Ye=Ae-e.viewportData.startLineNumber,rt=Se.data[Ye];let st=null;if(this._options.renderWhitespace==="selection"){const vt=this._selection;for(const Ht of vt){if(Ht.endLineNumber<Ae||Ht.startLineNumber>Ae)continue;const Tt=Ht.startLineNumber===Ae?Ht.startColumn:rt.minColumn,ei=Ht.endLineNumber===Ae?Ht.endColumn:rt.maxColumn;Tt<ei&&(st||(st=[]),st.push(new he.zG(Tt-1,ei-1)))}}this._renderResult[Ye]=this._applyRenderWhitespace(e,Ae,st,rt)}}_applyRenderWhitespace(e,o,b,V){if(this._options.renderWhitespace==="selection"&&!b||this._options.renderWhitespace==="trailing"&&V.continuesWithWrappedLine)return"";const Q=this._context.theme.getColor(ki.dI),Se=this._options.renderWithSVG,Ae=V.content,Ye=this._options.stopRenderingLineAfter===-1?Ae.length:Math.min(this._options.stopRenderingLineAfter,Ae.length),rt=V.continuesWithWrappedLine,st=V.minColumn-1,vt=this._options.renderWhitespace==="boundary",Ht=this._options.renderWhitespace==="trailing",Tt=this._options.lineHeight,ei=this._options.middotWidth,ai=this._options.wsmiddotWidth,di=this._options.spaceWidth,bi=Math.abs(ai-di),Ii=Math.abs(ei-di),Bi=bi<Ii?11825:183,nn=this._options.canUseHalfwidthRightwardsArrow;let Yi="",Sn=!1,Ln=ji.LC(Ae),En;Ln===-1?(Sn=!0,Ln=Ye,En=Ye):En=ji.ow(Ae);let $i=0,Xn=b&&b[$i],Un=0;for(let Gn=st;Gn<Ye;Gn++){const rs=Ae.charCodeAt(Gn);if(Xn&&Gn>=Xn.endOffset&&($i++,Xn=b&&b[$i]),rs!==9&&rs!==32||Ht&&!Sn&&Gn<=En)continue;if(vt&&Gn>=Ln&&Gn<=En&&rs===32){const Jn=Gn-1>=0?Ae.charCodeAt(Gn-1):0,sr=Gn+1<Ye?Ae.charCodeAt(Gn+1):0;if(Jn!==32&&sr!==32)continue}if(vt&&rt&&Gn===Ye-1){const Jn=Gn-1>=0?Ae.charCodeAt(Gn-1):0;if(rs===32&&Jn!==32&&Jn!==9)continue}if(b&&(!Xn||Xn.startOffset>Gn||Xn.endOffset<=Gn))continue;const Ks=e.visibleRangeForPosition(new me.L(o,Gn+1));Ks&&(Se?(Un=Math.max(Un,Ks.left),rs===9?Yi+=this._renderArrow(Tt,di,Ks.left):Yi+=`<circle cx="${(Ks.left+di/2).toFixed(2)}" cy="${(Tt/2).toFixed(2)}" r="${(di/7).toFixed(2)}" />`):rs===9?Yi+=`<div class="mwh" style="left:${Ks.left}px;height:${Tt}px;">${nn?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:Yi+=`<div class="mwh" style="left:${Ks.left}px;height:${Tt}px;">${String.fromCharCode(Bi)}</div>`)}return Se?(Un=Math.round(Un+di),`<svg style="position:absolute;width:${Un}px;height:${Tt}px" viewBox="0 0 ${Un} ${Tt}" xmlns="http://www.w3.org/2000/svg" fill="${Q}">`+Yi+"</svg>"):Yi}_renderArrow(e,o,b){const V=o/7,Q=o,Se=e/2,Ae=b,Ye={x:0,y:V/2},rt={x:100/125*Q,y:Ye.y},st={x:rt.x-.2*rt.x,y:rt.y+.2*rt.x},vt={x:st.x+.1*rt.x,y:st.y+.1*rt.x},Ht={x:vt.x+.35*rt.x,y:vt.y-.35*rt.x},Tt={x:Ht.x,y:-Ht.y},ei={x:vt.x,y:-vt.y},ai={x:st.x,y:-st.y},di={x:rt.x,y:-rt.y},bi={x:Ye.x,y:-Ye.y};return`<path d="M ${[Ye,rt,st,vt,Ht,Tt,ei,ai,di,bi].map(nn=>`${(Ae+nn.x).toFixed(2)} ${(Se+nn.y).toFixed(2)}`).join(" L ")}" />`}render(e,o){if(!this._renderResult)return"";const b=o-e;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}class ao{constructor(e){const o=e.options,b=o.get(48),V=o.get(36);V==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):V==="svg"?(this.renderWhitespace=o.get(94),this.renderWithSVG=!0):(this.renderWhitespace=o.get(94),this.renderWithSVG=!1),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=o.get(64),this.stopRenderingLineAfter=o.get(112)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}class Do extends xe{constructor(e,o,b,V,Q,Se){super(),this._selections=[new ee.Y(1,1,1,1)],this._renderAnimationFrame=null;const Ae=new oo(o,V,Q,e);this._context=new xs(o,b,V),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Ms(this._context,Ae,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,fe.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,fe.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,fe.X)(document.createElement("div")),ue.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new ii(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Gs(this._context,this._linesContent),this._viewZones=new fs(this._context),this._viewParts.push(this._viewZones);const Ye=new at(this._context);this._viewParts.push(Ye);const rt=new Ft(this._context);this._viewParts.push(rt);const st=new mt(this._context);this._viewParts.push(st),st.addDynamicOverlay(new Rt(this._context)),st.addDynamicOverlay(new Ti(this._context)),st.addDynamicOverlay(new Zi(this._context)),st.addDynamicOverlay(new At(this._context)),st.addDynamicOverlay(new Bo(this._context));const vt=new Oe(this._context);this._viewParts.push(vt),vt.addDynamicOverlay(new Bt(this._context)),vt.addDynamicOverlay(new hi(this._context)),vt.addDynamicOverlay(new Hr(this._context)),vt.addDynamicOverlay(new Ws(this._context)),vt.addDynamicOverlay(new Vi(this._context));const Ht=new Ki(this._context);Ht.getDomNode().appendChild(this._viewZones.marginDomNode),Ht.getDomNode().appendChild(vt.getDomNode()),this._viewParts.push(Ht),this._contentWidgets=new le(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new vs(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new ke(this._context),this._viewParts.push(this._overlayWidgets);const Tt=new Et(this._context);this._viewParts.push(Tt);const ei=new po(this._context);this._viewParts.push(ei);const ai=new $(this._context);if(this._viewParts.push(ai),Ye){const di=this._scrollbar.getOverviewRulerLayoutInfo();di.parent.insertBefore(Ye.getDomNode(),di.insertBefore)}this._linesContent.appendChild(st.getDomNode()),this._linesContent.appendChild(Tt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Ht.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(rt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ai.getDomNode()),this._overflowGuardContainer.appendChild(ei.domNode),this.domNode.appendChild(this._overflowGuardContainer),Se?Se.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Hi(this._context,Ae,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){yo.B.onRenderStart(),this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],o=this._textAreaHandler.getLastRenderData();return new Pt(e,o)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,o)),visibleRangeForPosition:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new me.L(e,o))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const o=this._context.configuration.options.get(139);this.domNode.setWidth(o.width),this.domNode.setHeight(o.height),this._overflowGuardContainer.setWidth(o.width),this._overflowGuardContainer.setHeight(o.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(136)+" "+(0,ms.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=M.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){No(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let o=0;for(const b of this._viewParts)b.shouldRender()&&(e[o++]=b);return e}_actualRender(){if(!M.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const o=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(o.startLineNumber,o.endLineNumber,o.centeredLineNumber);const b=new zs(this._selections,o,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(b),this._viewLines.shouldRender()&&(this._viewLines.renderText(b),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const V=new _e(this._context.viewLayout,b,this._viewLines);for(const Q of e)Q.prepareRender(V);for(const Q of e)Q.render(V),Q.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,o){const b=this._context.viewModel.model.validatePosition({lineNumber:e,column:o}),V=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(b);this._flushAccumulatedAndRenderNow();const Q=this._viewLines.visibleRangeForPosition(new me.L(V.lineNumber,V.column));return Q?Q.left:-1}getTargetAtClientPoint(e,o){const b=this._pointerHandler.getTargetAtClientPoint(e,o);return b?hs.convertViewToModelMouseTarget(b,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new xt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,o){if(o){this._viewLines.forceShouldRender();for(const b of this._viewParts)b.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var o,b,V,Q,Se,Ae,Ye,rt;this._contentWidgets.setWidgetPosition(e.widget,(b=(o=e.position)===null||o===void 0?void 0:o.position)!==null&&b!==void 0?b:null,(Q=(V=e.position)===null||V===void 0?void 0:V.secondaryPosition)!==null&&Q!==void 0?Q:null,(Ae=(Se=e.position)===null||Se===void 0?void 0:Se.preference)!==null&&Ae!==void 0?Ae:null,(rt=(Ye=e.position)===null||Ye===void 0?void 0:Ye.positionAffinity)!==null&&rt!==void 0?rt:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const o=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,o)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function No(Nt){try{return Nt()}catch(e){(0,E.dL)(e)}}var ta=i(36031),Or=i(6390),Is=i(21081),fr=i(45007),Qs=i(60854);class rr{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Qs.rS(new Me.e(1,1,1,1),0,0,new me.L(1,1),0),new Qs.rS(new Me.e(1,1,1,1),0,0,new me.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Qs.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const o=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!o.isEmpty()?ee.Y.fromRange(o.collapseToEnd(),this.modelState.selection.getDirection()):ee.Y.fromRange(o,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,o,b){this._setState(e,o,b)}static _validatePositionWithCache(e,o,b,V){return o.equals(b)?V:e.normalizePosition(o,2)}static _validateViewState(e,o){const b=o.position,V=o.selectionStart.getStartPosition(),Q=o.selectionStart.getEndPosition(),Se=e.normalizePosition(b,2),Ae=this._validatePositionWithCache(e,V,b,Se),Ye=this._validatePositionWithCache(e,Q,V,Ae);return b.equals(Se)&&V.equals(Ae)&&Q.equals(Ye)?o:new Qs.rS(Me.e.fromPositions(Ae,Ye),o.selectionStartKind,o.selectionStartLeftoverVisibleColumns+V.column-Ae.column,Se,o.leftoverVisibleColumns+b.column-Se.column)}_setState(e,o,b){if(b&&(b=rr._validateViewState(e.viewModel,b)),o){const V=e.model.validateRange(o.selectionStart),Q=o.selectionStart.equalsRange(V)?o.selectionStartLeftoverVisibleColumns:0,Se=e.model.validatePosition(o.position),Ae=o.position.equals(Se)?o.leftoverVisibleColumns:0;o=new Qs.rS(V,o.selectionStartKind,Q,Se,Ae)}else{if(!b)return;const V=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(b.selectionStart)),Q=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(b.position));o=new Qs.rS(V,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,Q,b.leftoverVisibleColumns)}if(b){const V=e.coordinatesConverter.validateViewRange(b.selectionStart,o.selectionStart),Q=e.coordinatesConverter.validateViewPosition(b.position,o.position);b=new Qs.rS(V,o.selectionStartKind,o.selectionStartLeftoverVisibleColumns,Q,o.leftoverVisibleColumns)}else{const V=e.coordinatesConverter.convertModelPositionToViewPosition(new me.L(o.selectionStart.startLineNumber,o.selectionStart.startColumn)),Q=e.coordinatesConverter.convertModelPositionToViewPosition(new me.L(o.selectionStart.endLineNumber,o.selectionStart.endColumn)),Se=new Me.e(V.lineNumber,V.column,Q.lineNumber,Q.column),Ae=e.coordinatesConverter.convertModelPositionToViewPosition(o.position);b=new Qs.rS(Se,o.selectionStartKind,o.selectionStartLeftoverVisibleColumns,Ae,o.leftoverVisibleColumns)}this.modelState=o,this.viewState=b,this._updateTrackedRange(e)}}class To{constructor(e){this.context=e,this.cursors=[new rr(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return(0,g.VJ)(this.cursors,(0,g.tT)(e=>e.viewState.position,me.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,g.jV)(this.cursors,(0,g.tT)(e=>e.viewState.position,me.L.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(Qs.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const o=this.cursors.length-1,b=e.length;if(o<b){const V=b-o;for(let Q=0;Q<V;Q++)this._addSecondaryCursor()}else if(o>b){const V=o-b;for(let Q=0;Q<V;Q++)this._removeSecondaryCursor(this.cursors.length-2)}for(let V=0;V<b;V++)this.cursors[V+1].setState(this.context,e[V].modelState,e[V].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new rr(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),o=[];for(let b=0,V=e.length;b<V;b++)o.push({index:b,selection:e[b].modelState.selection});o.sort((0,g.tT)(b=>b.selection,Me.e.compareRangesUsingStarts));for(let b=0;b<o.length-1;b++){const V=o[b],Q=o[b+1],Se=V.selection,Ae=Q.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Ye;if(Ae.isEmpty()||Se.isEmpty()?Ye=Ae.getStartPosition().isBeforeOrEqual(Se.getEndPosition()):Ye=Ae.getStartPosition().isBefore(Se.getEndPosition()),Ye){const rt=V.index<Q.index?b:b+1,st=V.index<Q.index?b+1:b,vt=o[st].index,Ht=o[rt].index,Tt=o[st].selection,ei=o[rt].selection;if(!Tt.equalsSelection(ei)){const ai=Tt.plusRange(ei),di=Tt.selectionStartLineNumber===Tt.startLineNumber&&Tt.selectionStartColumn===Tt.startColumn,bi=ei.selectionStartLineNumber===ei.startLineNumber&&ei.selectionStartColumn===ei.startColumn;let Ii;vt===this.lastAddedCursorIndex?(Ii=di,this.lastAddedCursorIndex=Ht):Ii=bi;let Bi;Ii?Bi=new ee.Y(ai.startLineNumber,ai.startColumn,ai.endLineNumber,ai.endColumn):Bi=new ee.Y(ai.endLineNumber,ai.endColumn,ai.startLineNumber,ai.startColumn),o[rt].selection=Bi;const nn=Qs.Vi.fromModelSelection(Bi);e[Ht].setState(this.context,nn.modelState,nn.viewState)}for(const ai of o)ai.index>vt&&ai.index--;e.splice(vt,1),o.splice(st,1),this._removeSecondaryCursor(vt-1),b--}}}}class fo{constructor(e,o,b,V){this._cursorContextBrand=void 0,this.model=e,this.viewModel=o,this.coordinatesConverter=b,this.cursorConfig=V}}var Qo=i(24048),Xo=i(96124),ni=i(30828);class Jo{constructor(){this.type=0}}class ar{constructor(){this.type=1}}class zr{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class lo{constructor(e,o,b){this.selections=e,this.modelSelections=o,this.reason=b,this.type=3}}class Ar{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Gr{constructor(){this.type=5}}class go{constructor(e){this.type=6,this.isFocused=e}}class lr{constructor(){this.type=7}}class ln{constructor(){this.type=8}}class Sr{constructor(e,o){this.fromLineNumber=e,this.count=o,this.type=9}}class qo{constructor(e,o){this.type=10,this.fromLineNumber=e,this.toLineNumber=o}}class co{constructor(e,o){this.type=11,this.fromLineNumber=e,this.toLineNumber=o}}class ys{constructor(e,o,b,V,Q,Se,Ae){this.source=e,this.minimalReveal=o,this.range=b,this.selections=V,this.verticalType=Q,this.revealHorizontal=Se,this.scrollType=Ae,this.type=12}}class Wo{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Zr{constructor(e){this.theme=e,this.type=14}}class bl{constructor(e){this.type=15,this.ranges=e}}class vo{constructor(){this.type=16}}class Ka{constructor(){this.type=17}}class ia extends p.JT{constructor(){super(),this._onEvent=this._register(new R.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let o=0,b=this._outgoingEvents.length;o<b;o++){const V=this._outgoingEvents[o].kind===e.kind?this._outgoingEvents[o].attemptToMerge(e):null;if(V){this._outgoingEvents[o]=V;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let o=0,b=this._eventHandlers.length;o<b;o++)this._eventHandlers[o]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let o=0;o<this._eventHandlers.length;o++)if(this._eventHandlers[o]===e){this._eventHandlers.splice(o,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Vo),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,o=this._collector.viewEvents;this._collector=null;for(const b of e)this._addOutgoingEvent(b);o.length>0&&this._emitMany(o)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const o=this._eventHandlers.slice(0);for(const b of o)b.handleEvents(e)}}}class Vo{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class kr{constructor(e,o,b,V){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=o,this.contentWidth=b,this.contentHeight=V,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new kr(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class xr{constructor(e,o){this.kind=1,this.oldHasFocus=e,this.hasFocus=o}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new xr(this.oldHasFocus,e.hasFocus)}}class cr{constructor(e,o,b,V,Q,Se,Ae,Ye){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=o,this._oldScrollHeight=b,this._oldScrollTop=V,this.scrollWidth=Q,this.scrollLeft=Se,this.scrollHeight=Ae,this.scrollTop=Ye,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new cr(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class er{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class hn{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Ho{constructor(e,o,b,V,Q,Se,Ae){this.kind=6,this.oldSelections=e,this.selections=o,this.oldModelVersionId=b,this.modelVersionId=V,this.source=Q,this.reason=Se,this.reachedMaxCursorCount=Ae}static _selectionsAreEqual(e,o){if(!e&&!o)return!0;if(!e||!o)return!1;const b=e.length,V=o.length;if(b!==V)return!1;for(let Q=0;Q<b;Q++)if(!e[Q].equalsSelection(o[Q]))return!1;return!0}isNoOp(){return Ho._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new Ho(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class wa{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class na{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class tr{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class sa{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class oa{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class ra{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class On{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class gs extends p.JT{constructor(e,o,b,V){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=b,this.context=new fo(this._model,this._viewModel,this._coordinatesConverter,V),this._cursors=new To(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,p.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new fo(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const b=this._autoClosedActions[o];b.isValid(e)||(b.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,o,b,V){let Q=!1;const Se=this.context.cursorConfig.multiCursorLimit;V!==null&&V.length>Se&&(V=V.slice(0,Se),Q=!0);const Ae=js.from(this._model,this);return this._cursors.setStates(V),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,o,b,Ae,Q)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,o,b,V,Q,Se){const Ae=this._cursors.getViewPositions();let Ye=null,rt=null;Ae.length>1?rt=this._cursors.getViewSelections():Ye=Me.e.fromPositions(Ae[0],Ae[0]),e.emitViewEvent(new ys(o,b,Ye,rt,V,Q,Se))}saveState(){const e=[],o=this._cursors.getSelections();for(let b=0,V=o.length;b<V;b++){const Q=o[b];e.push({inSelectionMode:!Q.isEmpty(),selectionStart:{lineNumber:Q.selectionStartLineNumber,column:Q.selectionStartColumn},position:{lineNumber:Q.positionLineNumber,column:Q.positionColumn}})}return e}restoreState(e,o){const b=[];for(let V=0,Q=o.length;V<Q;V++){const Se=o[V];let Ae=1,Ye=1;Se.position&&Se.position.lineNumber&&(Ae=Se.position.lineNumber),Se.position&&Se.position.column&&(Ye=Se.position.column);let rt=Ae,st=Ye;Se.selectionStart&&Se.selectionStart.lineNumber&&(rt=Se.selectionStart.lineNumber),Se.selectionStart&&Se.selectionStart.column&&(st=Se.selectionStart.column),b.push({selectionStartLineNumber:rt,selectionStartColumn:st,positionLineNumber:Ae,positionColumn:Ye})}this.setStates(e,"restoreState",0,Qs.Vi.fromModelSelections(b)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,o){if(o instanceof ni.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const b=o.rawContentChangedEvent;if(this._knownModelVersionId=b.versionId,this._isHandling)return;const V=b.containsEvent(1);if(this._prevEditOperationType=0,V)this._cursors.dispose(),this._cursors=new To(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&b.resultingSelection&&b.resultingSelection.length>0){const Q=Qs.Vi.fromModelSelections(b.resultingSelection);this.setStates(e,"modelChange",b.isUndoing?5:b.isRedoing?6:2,Q)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const Q=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Qs.Vi.fromModelSelections(Q))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),o=e.viewState.selectionStart.getStartPosition(),b=e.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,o),toViewLineNumber:b.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,b)}}getSelections(){return this._cursors.getSelections()}setSelections(e,o,b,V){this.setStates(e,o,V,Qs.Vi.fromModelSelections(b))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,o){const b=[],V=[];for(let Ae=0,Ye=e.length;Ae<Ye;Ae++)b.push({range:e[Ae],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),V.push({range:o[Ae],options:{description:"auto-closed-enclosing",stickiness:1}});const Q=this._model.deltaDecorations([],b),Se=this._model.deltaDecorations([],V);this._autoClosedActions.push(new uo(this._model,Q,Se))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const o=jo.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(o){this._interpretCommandResult(o);const b=[],V=[];for(let Q=0;Q<e.commands.length;Q++){const Se=e.commands[Q];Se instanceof Xo.g_&&Se.enclosingRange&&Se.closeCharacterRange&&(b.push(Se.closeCharacterRange),V.push(Se.enclosingRange))}b.length>0&&this._pushAutoClosedAction(b,V),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,o,b,V,Q){const Se=js.from(this._model,this);if(Se.equals(V))return!1;const Ae=this._cursors.getSelections(),Ye=this._cursors.getViewSelections();if(e.emitViewEvent(new lo(Ye,Ae,b)),!V||V.cursorState.length!==Se.cursorState.length||Se.cursorState.some((rt,st)=>!rt.modelState.equals(V.cursorState[st].modelState))){const rt=V?V.cursorState.map(vt=>vt.modelState.selection):null,st=V?V.modelVersionId:0;e.emitOutgoingEvent(new Ho(rt,Ae,st,Se.modelVersionId,o||"keyboard",b,Q))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const o=[];for(let b=0,V=e.length;b<V;b++){const Q=e[b];if(!Q.text||Q.text.indexOf(`
`)>=0)return null;const Se=Q.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Se)return null;const Ae=Se[1],Ye=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Ae);if(!Ye||Ye.length!==1)return null;const rt=Ye[0].open,st=Q.text.length-Se[2].length-1,vt=Q.text.lastIndexOf(rt,st-1);if(vt===-1)return null;o.push([vt,st])}return o}executeEdits(e,o,b,V){let Q=null;o==="snippet"&&(Q=this._findAutoClosingPairs(b)),Q&&(b[0]._isTracked=!0);const Se=[],Ae=[],Ye=this._model.pushEditOperations(this.getSelections(),b,rt=>{if(Q)for(let vt=0,Ht=Q.length;vt<Ht;vt++){const[Tt,ei]=Q[vt],ai=rt[vt],di=ai.range.startLineNumber,bi=ai.range.startColumn-1+Tt,Ii=ai.range.startColumn-1+ei;Se.push(new Me.e(di,Ii+1,di,Ii+2)),Ae.push(new Me.e(di,bi+1,di,Ii+2))}const st=V(rt);return st&&(this._isHandling=!0),st});Ye&&(this._isHandling=!1,this.setSelections(e,o,Ye,0)),Se.length>0&&this._pushAutoClosedAction(Se,Ae)}_executeEdit(e,o,b,V=0){if(this.context.cursorConfig.readOnly)return;const Q=js.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(Se){(0,E.dL)(Se)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,b,V,Q,!1)&&this.revealPrimary(o,b,!1,0,!0,0)}getAutoClosedCharacters(){return uo.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new _o(this._model,this.getSelections())}endComposition(e,o){const b=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{o==="keyboard"&&this._executeEditOperation(Xo.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,b,this.getSelections(),this.getAutoClosedCharacters()))},e,o)}type(e,o,b){this._executeEdit(()=>{if(b==="keyboard"){const V=o.length;let Q=0;for(;Q<V;){const Se=ji.vH(o,Q),Ae=o.substr(Q,Se);this._executeEditOperation(Xo.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Ae)),Q+=Se}}else this._executeEditOperation(Xo.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},e,b)}compositionType(e,o,b,V,Q,Se){if(o.length===0&&b===0&&V===0){if(Q!==0){const Ae=this.getSelections().map(Ye=>{const rt=Ye.getPosition();return new ee.Y(rt.lineNumber,rt.column+Q,rt.lineNumber,rt.column+Q)});this.setSelections(e,Se,Ae,0)}return}this._executeEdit(()=>{this._executeEditOperation(Xo.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,b,V,Q))},e,Se)}paste(e,o,b,V,Q){this._executeEdit(()=>{this._executeEditOperation(Xo.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),o,b,V||[]))},e,Q,4)}cut(e,o){this._executeEdit(()=>{this._executeEditOperation(Qo.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,o)}executeCommand(e,o,b){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Qs.Tp(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,b)}executeCommands(e,o,b){this._executeEdit(()=>{this._executeEditOperation(new Qs.Tp(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,b)}}class js{static from(e,o){return new js(e.getVersionId(),o.getCursorStates())}constructor(e,o){this.modelVersionId=e,this.cursorState=o}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let o=0,b=this.cursorState.length;o<b;o++)if(!this.cursorState[o].equals(e.cursorState[o]))return!1;return!0}}class uo{static getAllAutoClosedCharacters(e){let o=[];for(const b of e)o=o.concat(b.getAutoClosedCharactersRanges());return o}constructor(e,o,b){this._model=e,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=b}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const b=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);b&&e.push(b)}return e}isValid(e){const o=[];for(let b=0;b<this._autoClosedEnclosingDecorations.length;b++){const V=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[b]);if(V&&(o.push(V),V.startLineNumber!==V.endLineNumber))return!1}o.sort(Me.e.compareRangesUsingStarts),e.sort(Me.e.compareRangesUsingStarts);for(let b=0;b<e.length;b++)if(b>=o.length||!o[b].strictContainsRange(e[b]))return!1;return!0}}class jo{static executeCommands(e,o,b){const V={model:e,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},Q=this._innerExecuteCommands(V,b);for(let Se=0,Ae=V.trackedRanges.length;Se<Ae;Se++)V.model._setTrackedRange(V.trackedRanges[Se],null,0);return Q}static _innerExecuteCommands(e,o){if(this._arrayIsEmpty(o))return null;const b=this._getEditOperations(e,o);if(b.operations.length===0)return null;const V=b.operations,Q=this._getLoserCursorMap(V);if(Q.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Se=[];for(let rt=0,st=V.length;rt<st;rt++)Q.hasOwnProperty(V[rt].identifier.major.toString())||Se.push(V[rt]);b.hadTrackedEditOperation&&Se.length>0&&(Se[0]._isTracked=!0);let Ae=e.model.pushEditOperations(e.selectionsBefore,Se,rt=>{const st=[];for(let Tt=0;Tt<e.selectionsBefore.length;Tt++)st[Tt]=[];for(const Tt of rt)Tt.identifier&&st[Tt.identifier.major].push(Tt);const vt=(Tt,ei)=>Tt.identifier.minor-ei.identifier.minor,Ht=[];for(let Tt=0;Tt<e.selectionsBefore.length;Tt++)st[Tt].length>0?(st[Tt].sort(vt),Ht[Tt]=o[Tt].computeCursorState(e.model,{getInverseEditOperations:()=>st[Tt],getTrackedSelection:ei=>{const ai=parseInt(ei,10),di=e.model._getTrackedRange(e.trackedRanges[ai]);return e.trackedRangesDirection[ai]===0?new ee.Y(di.startLineNumber,di.startColumn,di.endLineNumber,di.endColumn):new ee.Y(di.endLineNumber,di.endColumn,di.startLineNumber,di.startColumn)}})):Ht[Tt]=e.selectionsBefore[Tt];return Ht});Ae||(Ae=e.selectionsBefore);const Ye=[];for(const rt in Q)Q.hasOwnProperty(rt)&&Ye.push(parseInt(rt,10));Ye.sort((rt,st)=>st-rt);for(const rt of Ye)Ae.splice(rt,1);return Ae}static _arrayIsEmpty(e){for(let o=0,b=e.length;o<b;o++)if(e[o])return!1;return!0}static _getEditOperations(e,o){let b=[],V=!1;for(let Q=0,Se=o.length;Q<Se;Q++){const Ae=o[Q];if(Ae){const Ye=this._getEditOperationsFromCommand(e,Q,Ae);b=b.concat(Ye.operations),V=V||Ye.hadTrackedEditOperation}}return{operations:b,hadTrackedEditOperation:V}}static _getEditOperationsFromCommand(e,o,b){const V=[];let Q=0;const Se=(vt,Ht,Tt=!1)=>{Me.e.isEmpty(vt)&&Ht===""||V.push({identifier:{major:o,minor:Q++},range:vt,text:Ht,forceMoveMarkers:Tt,isAutoWhitespaceEdit:b.insertsAutoWhitespace})};let Ae=!1;const st={addEditOperation:Se,addTrackedEditOperation:(vt,Ht,Tt)=>{Ae=!0,Se(vt,Ht,Tt)},trackSelection:(vt,Ht)=>{const Tt=ee.Y.liftSelection(vt);let ei;if(Tt.isEmpty())if(typeof Ht=="boolean")Ht?ei=2:ei=3;else{const bi=e.model.getLineMaxColumn(Tt.startLineNumber);Tt.startColumn===bi?ei=2:ei=3}else ei=1;const ai=e.trackedRanges.length,di=e.model._setTrackedRange(null,Tt,ei);return e.trackedRanges[ai]=di,e.trackedRangesDirection[ai]=Tt.getDirection(),ai.toString()}};try{b.getEditOperations(e.model,st)}catch(vt){return(0,E.dL)(vt),{operations:[],hadTrackedEditOperation:!1}}return{operations:V,hadTrackedEditOperation:Ae}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((b,V)=>-Me.e.compareRangesUsingEnds(b.range,V.range));const o={};for(let b=1;b<e.length;b++){const V=e[b-1],Q=e[b];if(Me.e.getStartPosition(V.range).isBefore(Me.e.getEndPosition(Q.range))){let Se;V.identifier.major>Q.identifier.major?Se=V.identifier.major:Se=Q.identifier.major,o[Se.toString()]=!0;for(let Ae=0;Ae<e.length;Ae++)e[Ae].identifier.major===Se&&(e.splice(Ae,1),Ae<b&&b--,Ae--);b>0&&b--}}return o}}class wo{constructor(e,o,b){this.text=e,this.startSelection=o,this.endSelection=b}}class _o{static _capture(e,o){const b=[];for(const V of o){if(V.startLineNumber!==V.endLineNumber)return null;b.push(new wo(e.getLineContent(V.startLineNumber),V.startColumn-1,V.endColumn-1))}return b}constructor(e,o){this._original=_o._capture(e,o)}deduceOutcome(e,o){if(!this._original)return null;const b=_o._capture(e,o);if(!b||this._original.length!==b.length)return null;const V=[];for(let Q=0,Se=this._original.length;Q<Se;Q++)V.push(_o._deduceOutcome(this._original[Q],b[Q]));return V}static _deduceOutcome(e,o){const b=Math.min(e.startSelection,o.startSelection,ji.Mh(e.text,o.text)),V=Math.min(e.text.length-e.endSelection,o.text.length-o.endSelection,ji.P1(e.text,o.text)),Q=e.text.substring(b,e.text.length-V),Se=o.text.substring(b,o.text.length-V);return new Xo.Nu(Q,e.startSelection-b,e.endSelection-b,Se,o.startSelection-b,o.endSelection-b)}}var Ko=i(90638),$a=i(7358),gr=i(44929);class dr{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const o=this._inserts,b=this._changes,V=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(o,b,V)}}class Ga{constructor(e,o,b,V,Q){this.id=e,this.afterLineNumber=o,this.ordinal=b,this.height=V,this.minWidth=Q,this.prefixSum=0}}class mr{constructor(e,o,b,V){this._instanceId=ji.PJ(++mr.INSTANCE_COUNT),this._pendingChanges=new dr,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=o,this._paddingTop=b,this._paddingBottom=V}static findInsertionIndex(e,o,b){let V=0,Q=e.length;for(;V<Q;){const Se=V+Q>>>1;o===e[Se].afterLineNumber?b<e[Se].ordinal?Q=Se:V=Se+1:o<e[Se].afterLineNumber?Q=Se:V=Se+1}return V}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,o){this._paddingTop=e,this._paddingBottom=o}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let o=!1;try{e({insertWhitespace:(V,Q,Se,Ae)=>{o=!0,V=V|0,Q=Q|0,Se=Se|0,Ae=Ae|0;const Ye=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Ga(Ye,V,Q,Se,Ae)),Ye},changeOneWhitespace:(V,Q,Se)=>{o=!0,Q=Q|0,Se=Se|0,this._pendingChanges.change({id:V,newAfterLineNumber:Q,newHeight:Se})},removeWhitespace:V=>{o=!0,this._pendingChanges.remove({id:V})}})}finally{this._pendingChanges.commit(this)}return o}_commitPendingChanges(e,o,b){if((e.length>0||b.length>0)&&(this._minWidth=-1),e.length+o.length+b.length<=1){for(const Ye of e)this._insertWhitespace(Ye);for(const Ye of o)this._changeOneWhitespace(Ye.id,Ye.newAfterLineNumber,Ye.newHeight);for(const Ye of b){const rt=this._findWhitespaceIndex(Ye.id);rt!==-1&&this._removeWhitespace(rt)}return}const V=new Set;for(const Ye of b)V.add(Ye.id);const Q=new Map;for(const Ye of o)Q.set(Ye.id,Ye);const Se=Ye=>{const rt=[];for(const st of Ye)if(!V.has(st.id)){if(Q.has(st.id)){const vt=Q.get(st.id);st.afterLineNumber=vt.newAfterLineNumber,st.height=vt.newHeight}rt.push(st)}return rt},Ae=Se(this._arr).concat(Se(e));Ae.sort((Ye,rt)=>Ye.afterLineNumber===rt.afterLineNumber?Ye.ordinal-rt.ordinal:Ye.afterLineNumber-rt.afterLineNumber),this._arr=Ae,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const o=mr.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(o,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)}_findWhitespaceIndex(e){const o=this._arr;for(let b=0,V=o.length;b<V;b++)if(o[b].id===e)return b;return-1}_changeOneWhitespace(e,o,b){const V=this._findWhitespaceIndex(e);if(V!==-1&&(this._arr[V].height!==b&&(this._arr[V].height=b,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,V-1)),this._arr[V].afterLineNumber!==o)){const Q=this._arr[V];this._removeWhitespace(V),Q.afterLineNumber=o,this._insertWhitespace(Q)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount-=o-e+1;for(let b=0,V=this._arr.length;b<V;b++){const Q=this._arr[b].afterLineNumber;e<=Q&&Q<=o?this._arr[b].afterLineNumber=e-1:Q>o&&(this._arr[b].afterLineNumber-=o-e+1)}}onLinesInserted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount+=o-e+1;for(let b=0,V=this._arr.length;b<V;b++){const Q=this._arr[b].afterLineNumber;e<=Q&&(this._arr[b].afterLineNumber+=o-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let o=Math.max(0,this._prefixSumValidIndex+1);o===0&&(this._arr[0].prefixSum=this._arr[0].height,o++);for(let b=o;b<=e;b++)this._arr[b].prefixSum=this._arr[b-1].prefixSum+this._arr[b].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,o=this.getWhitespacesTotalHeight();return e+o+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const o=this._findLastWhitespaceBeforeLineNumber(e);return o===-1?0:this.getWhitespacesAccumulatedHeight(o)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const o=this._arr;let b=0,V=o.length-1;for(;b<=V;){const Se=(V-b|0)/2|0,Ae=b+Se|0;if(o[Ae].afterLineNumber<e){if(Ae+1>=o.length||o[Ae+1].afterLineNumber>=e)return Ae;b=Ae+1|0}else V=Ae-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const b=this._findLastWhitespaceBeforeLineNumber(e)+1;return b<this._arr.length?b:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;let b;e>1?b=this._lineHeight*(e-1):b=0;const V=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(o?1:0));return b+V+this._paddingTop}getVerticalOffsetAfterLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;const b=this._lineHeight*e,V=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(o?1:0));return b+V+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let o=0,b=this._arr.length;o<b;o++)e=Math.max(e,this._arr[o].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>o}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>=o-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const o=this._lineCount|0,b=this._lineHeight;let V=1,Q=o;for(;V<Q;){const Se=(V+Q)/2|0,Ae=this.getVerticalOffsetForLineNumber(Se)|0;if(e>=Ae+b)V=Se+1;else{if(e>=Ae)return Se;Q=Se}}return V>o?o:V}getLinesViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const b=this._lineHeight,V=this.getLineNumberAtOrAfterVerticalOffset(e)|0,Q=this.getVerticalOffsetForLineNumber(V)|0;let Se=this._lineCount|0,Ae=this.getFirstWhitespaceIndexAfterLineNumber(V)|0;const Ye=this.getWhitespacesCount()|0;let rt,st;Ae===-1?(Ae=Ye,st=Se+1,rt=0):(st=this.getAfterLineNumberForWhitespaceIndex(Ae)|0,rt=this.getHeightForWhitespaceIndex(Ae)|0);let vt=Q,Ht=vt;const Tt=5e5;let ei=0;Q>=Tt&&(ei=Math.floor(Q/Tt)*Tt,ei=Math.floor(ei/b)*b,Ht-=ei);const ai=[],di=e+(o-e)/2;let bi=-1;for(let Yi=V;Yi<=Se;Yi++){if(bi===-1){const Sn=vt,Ln=vt+b;(Sn<=di&&di<Ln||Sn>di)&&(bi=Yi)}for(vt+=b,ai[Yi-V]=Ht,Ht+=b;st===Yi;)Ht+=rt,vt+=rt,Ae++,Ae>=Ye?st=Se+1:(st=this.getAfterLineNumberForWhitespaceIndex(Ae)|0,rt=this.getHeightForWhitespaceIndex(Ae)|0);if(vt>=o){Se=Yi;break}}bi===-1&&(bi=Se);const Ii=this.getVerticalOffsetForLineNumber(Se)|0;let Bi=V,nn=Se;return Bi<nn&&Q<e&&Bi++,Bi<nn&&Ii+b>o&&nn--,{bigNumbersDelta:ei,startLineNumber:V,endLineNumber:Se,relativeVerticalOffset:ai,centeredLineNumber:bi,completelyVisibleStartLineNumber:Bi,completelyVisibleEndLineNumber:nn}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const o=this.getAfterLineNumberForWhitespaceIndex(e);let b;o>=1?b=this._lineHeight*o:b=0;let V;return e>0?V=this.getWhitespacesAccumulatedHeight(e-1):V=0,b+V+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let o=0,b=this.getWhitespacesCount()-1;if(b<0)return-1;const V=this.getVerticalOffsetForWhitespaceIndex(b),Q=this.getHeightForWhitespaceIndex(b);if(e>=V+Q)return-1;for(;o<b;){const Se=Math.floor((o+b)/2),Ae=this.getVerticalOffsetForWhitespaceIndex(Se),Ye=this.getHeightForWhitespaceIndex(Se);if(e>=Ae+Ye)o=Se+1;else{if(e>=Ae)return Se;b=Se}}return o}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const o=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(o<0||o>=this.getWhitespacesCount())return null;const b=this.getVerticalOffsetForWhitespaceIndex(o);if(b>e)return null;const V=this.getHeightForWhitespaceIndex(o),Q=this.getIdForWhitespaceIndex(o),Se=this.getAfterLineNumberForWhitespaceIndex(o);return{id:Q,afterLineNumber:Se,verticalOffset:b,height:V}}getWhitespaceViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),V=this.getWhitespacesCount()-1;if(b<0)return[];const Q=[];for(let Se=b;Se<=V;Se++){const Ae=this.getVerticalOffsetForWhitespaceIndex(Se),Ye=this.getHeightForWhitespaceIndex(Se);if(Ae>=o)break;Q.push({id:this.getIdForWhitespaceIndex(Se),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Se),verticalOffset:Ae,height:Ye})}return Q}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}mr.INSTANCE_COUNT=0;const Za=125;class Rs{constructor(e,o,b,V){e=e|0,o=o|0,b=b|0,V=V|0,e<0&&(e=0),o<0&&(o=0),b<0&&(b=0),V<0&&(V=0),this.width=e,this.contentWidth=o,this.scrollWidth=Math.max(e,o),this.height=b,this.contentHeight=V,this.scrollHeight=Math.max(b,V)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class ir extends p.JT{constructor(e,o){super(),this._onDidContentSizeChange=this._register(new R.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Rs(0,0,0,0),this._scrollable=this._register(new gr.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const o=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const b=o.contentWidth!==e.contentWidth,V=o.contentHeight!==e.contentHeight;(b||V)&&this._onDidContentSizeChange.fire(new kr(o.contentWidth,o.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class Sl extends p.JT{constructor(e,o,b){super(),this._configuration=e;const V=this._configuration.options,Q=V.get(139),Se=V.get(81);this._linesLayout=new mr(o,V.get(64),Se.top,Se.bottom),this._scrollable=this._register(new ir(0,b)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Rs(Q.contentWidth,0,Q.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(109)?Za:0)}onConfigurationChanged(e){const o=this._configuration.options;if(e.hasChanged(64)&&this._linesLayout.setLineHeight(o.get(64)),e.hasChanged(81)){const b=o.get(81);this._linesLayout.setPadding(b.top,b.bottom)}if(e.hasChanged(139)){const b=o.get(139),V=b.contentWidth,Q=b.height,Se=this._scrollable.getScrollDimensions(),Ae=Se.contentWidth;this._scrollable.setScrollDimensions(new Rs(V,Se.contentWidth,Q,this._getContentHeight(V,Q,Ae)))}else this._updateHeight();e.hasChanged(109)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,o){this._linesLayout.onLinesDeleted(e,o)}onLinesInserted(e,o){this._linesLayout.onLinesInserted(e,o)}_getHorizontalScrollbarHeight(e,o){const V=this._configuration.options.get(98);return V.horizontal===2||e>=o?0:V.horizontalScrollbarSize}_getContentHeight(e,o,b){const V=this._configuration.options;let Q=this._linesLayout.getLinesTotalHeight();return V.get(100)?Q+=Math.max(0,o-V.get(64)-V.get(81).bottom):Q+=this._getHorizontalScrollbarHeight(e,b),Q}_updateHeight(){const e=this._scrollable.getScrollDimensions(),o=e.width,b=e.height,V=e.contentWidth;this._scrollable.setScrollDimensions(new Rs(o,e.contentWidth,b,this._getContentHeight(o,b,V)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new tn.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new tn.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}_computeContentWidth(e){const o=this._configuration.options,b=o.get(140),V=o.get(48),Q=o.get(139);if(b.isViewportWrapping){const Se=o.get(70);return e>Q.contentWidth+V.typicalHalfwidthCharacterWidth&&Se.enabled&&Se.side==="right"?e+Q.verticalScrollbarWidth:e}else{const Se=o.get(99)*V.typicalHalfwidthCharacterWidth,Ae=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+Se+Q.verticalScrollbarWidth,Ae)}}setMaxLineWidth(e){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Rs(o.width,this._computeContentWidth(e),o.height,o.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),o=e.scrollTop,b=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),V=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(b);return{scrollTop:o,scrollTopWithoutViewZones:o-V,scrollLeft:e.scrollLeft}}changeWhitespace(e){const o=this._linesLayout.changeWhitespace(e);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,o)}getVerticalOffsetAfterLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,o)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const o=this._scrollable.getScrollDimensions();return e+o.height>o.scrollHeight&&(e=o.scrollHeight-o.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+o.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,o){o===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,o){const b=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:b.scrollLeft+e,scrollTop:b.scrollTop+o})}}var Fr=i(82807),Yr=i(10403);function pr(Nt,e){return Nt===null?e?Ir.INSTANCE:ma.INSTANCE:new yl(Nt,e)}class yl{constructor(e,o){this._projectionData=e,this._isVisible=o}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,o,b){this._assertVisible();const V=b>0?this._projectionData.breakOffsets[b-1]:0,Q=this._projectionData.breakOffsets[b];let Se;if(this._projectionData.injectionOffsets!==null){const Ae=this._projectionData.injectionOffsets.map((rt,st)=>new ni.gk(0,0,rt+1,this._projectionData.injectionOptions[st],0));Se=ni.gk.applyInjectedText(e.getLineContent(o),Ae).substring(V,Q)}else Se=e.getValueInRange({startLineNumber:o,startColumn:V+1,endLineNumber:o,endColumn:Q+1});return b>0&&(Se=Da(this._projectionData.wrappedTextIndentLength)+Se),Se}getViewLineLength(e,o,b){return this._assertVisible(),this._projectionData.getLineLength(b)}getViewLineMinColumn(e,o,b){return this._assertVisible(),this._projectionData.getMinOutputOffset(b)+1}getViewLineMaxColumn(e,o,b){return this._assertVisible(),this._projectionData.getMaxOutputOffset(b)+1}getViewLineData(e,o,b){const V=new Array;return this.getViewLinesData(e,o,b,1,0,[!0],V),V[0]}getViewLinesData(e,o,b,V,Q,Se,Ae){this._assertVisible();const Ye=this._projectionData,rt=Ye.injectionOffsets,st=Ye.injectionOptions;let vt=null;if(rt){vt=[];let Tt=0,ei=0;for(let ai=0;ai<Ye.getOutputLineCount();ai++){const di=new Array;vt[ai]=di;const bi=ai>0?Ye.breakOffsets[ai-1]:0,Ii=Ye.breakOffsets[ai];for(;ei<rt.length;){const Bi=st[ei].content.length,nn=rt[ei]+Tt,Yi=nn+Bi;if(nn>Ii)break;if(bi<Yi){const Sn=st[ei];if(Sn.inlineClassName){const Ln=ai>0?Ye.wrappedTextIndentLength:0,En=Ln+Math.max(nn-bi,0),$i=Ln+Math.min(Yi-bi,Ii);En!==$i&&di.push(new tn.Wx(En,$i,Sn.inlineClassName,Sn.inlineClassNameAffectsLetterSpacing))}}if(Yi<=Ii)Tt+=Bi,ei++;else break}}}let Ht;rt?Ht=e.tokenization.getLineTokens(o).withInserted(rt.map((Tt,ei)=>({offset:Tt,text:st[ei].content,tokenMetadata:Yr.A.defaultTokenMetadata}))):Ht=e.tokenization.getLineTokens(o);for(let Tt=b;Tt<b+V;Tt++){const ei=Q+Tt-b;if(!Se[ei]){Ae[ei]=null;continue}Ae[ei]=this._getViewLineData(Ht,vt?vt[Tt]:null,Tt)}}_getViewLineData(e,o,b){this._assertVisible();const V=this._projectionData,Q=b>0?V.wrappedTextIndentLength:0,Se=b>0?V.breakOffsets[b-1]:0,Ae=V.breakOffsets[b],Ye=e.sliceAndInflate(Se,Ae,Q);let rt=Ye.getLineContent();b>0&&(rt=Da(V.wrappedTextIndentLength)+rt);const st=this._projectionData.getMinOutputOffset(b)+1,vt=rt.length+1,Ht=b+1<this.getViewLineCount(),Tt=b===0?0:V.breakOffsetsVisibleColumn[b-1];return new tn.IP(rt,Ht,st,vt,Tt,Ye,o)}getModelColumnOfViewPosition(e,o){return this._assertVisible(),this._projectionData.translateToInputOffset(e,o-1)+1}getViewPositionOfModelPosition(e,o,b=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(o-1,b).toPosition(e)}getViewLineNumberOfModelPosition(e,o){this._assertVisible();const b=this._projectionData.translateToOutputPosition(o-1);return e+b.outputLineIndex}normalizePosition(e,o,b){const V=o.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,o.column-1,b).toPosition(V)}getInjectedTextAt(e,o){return this._projectionData.getInjectedText(e,o-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Ir{constructor(){}isVisible(){return!0}setVisible(e){return e?this:ma.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,o,b){return e.getLineContent(o)}getViewLineLength(e,o,b){return e.getLineLength(o)}getViewLineMinColumn(e,o,b){return e.getLineMinColumn(o)}getViewLineMaxColumn(e,o,b){return e.getLineMaxColumn(o)}getViewLineData(e,o,b){const V=e.tokenization.getLineTokens(o),Q=V.getLineContent();return new tn.IP(Q,!1,1,Q.length+1,0,V.inflate(),null)}getViewLinesData(e,o,b,V,Q,Se,Ae){if(!Se[Q]){Ae[Q]=null;return}Ae[Q]=this.getViewLineData(e,o,0)}getModelColumnOfViewPosition(e,o){return o}getViewPositionOfModelPosition(e,o){return new me.L(e,o)}getViewLineNumberOfModelPosition(e,o){return e}normalizePosition(e,o,b){return o}getInjectedTextAt(e,o){return null}}Ir.INSTANCE=new Ir;class ma{constructor(){}isVisible(){return!1}setVisible(e){return e?Ir.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,o,b){throw new Error("Not supported")}getViewLineLength(e,o,b){throw new Error("Not supported")}getViewLineMinColumn(e,o,b){throw new Error("Not supported")}getViewLineMaxColumn(e,o,b){throw new Error("Not supported")}getViewLineData(e,o,b){throw new Error("Not supported")}getViewLinesData(e,o,b,V,Q,Se,Ae){throw new Error("Not supported")}getModelColumnOfViewPosition(e,o){throw new Error("Not supported")}getViewPositionOfModelPosition(e,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,o){throw new Error("Not supported")}normalizePosition(e,o,b){throw new Error("Not supported")}getInjectedTextAt(e,o){throw new Error("Not supported")}}ma.INSTANCE=new ma;const La=[""];function Da(Nt){if(Nt>=La.length)for(let e=1;e<=Nt;e++)La[e]=Qr(e);return La[Nt]}function Qr(Nt){return new Array(Nt+1).join(" ")}var wl=i(82808);class Ll{constructor(e,o,b,V,Q,Se,Ae,Ye,rt,st){this._editorId=e,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=b,this._monospaceLineBreaksComputerFactory=V,this.fontInfo=Q,this.tabSize=Se,this.wrappingStrategy=Ae,this.wrappingColumn=Ye,this.wrappingIndent=rt,this.wordBreak=st,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new pa(this)}_constructLines(e,o){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const b=this.model.getLinesContent(),V=this.model.getInjectedTextDecorations(this._editorId),Q=b.length,Se=this.createLineBreaksComputer(),Ae=new g.H9(ni.gk.fromDecorations(V));for(let ai=0;ai<Q;ai++){const di=Ae.takeWhile(bi=>bi.lineNumber===ai+1);Se.addRequest(b[ai],di,o?o[ai]:null)}const Ye=Se.finalize(),rt=[],st=this.hiddenAreasDecorationIds.map(ai=>this.model.getDecorationRange(ai)).sort(Me.e.compareRangesUsingStarts);let vt=1,Ht=0,Tt=-1,ei=Tt+1<st.length?Ht+1:Q+2;for(let ai=0;ai<Q;ai++){const di=ai+1;di===ei&&(Tt++,vt=st[Tt].startLineNumber,Ht=st[Tt].endLineNumber,ei=Tt+1<st.length?Ht+1:Q+2);const bi=di>=vt&&di<=Ht,Ii=pr(Ye[ai],!bi);rt[ai]=Ii.getViewLineCount(),this.modelLineProjections[ai]=Ii}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new wl.Ck(rt)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const o=e.map(Ht=>this.model.validateRange(Ht)),b=zo(o),V=this.hiddenAreasDecorationIds.map(Ht=>this.model.getDecorationRange(Ht)).sort(Me.e.compareRangesUsingStarts);if(b.length===V.length){let Ht=!1;for(let Tt=0;Tt<b.length;Tt++)if(!b[Tt].equalsRange(V[Tt])){Ht=!0;break}if(!Ht)return!1}const Q=b.map(Ht=>({range:Ht,options:fr.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Q);const Se=b;let Ae=1,Ye=0,rt=-1,st=rt+1<Se.length?Ye+1:this.modelLineProjections.length+2,vt=!1;for(let Ht=0;Ht<this.modelLineProjections.length;Ht++){const Tt=Ht+1;Tt===st&&(rt++,Ae=Se[rt].startLineNumber,Ye=Se[rt].endLineNumber,st=rt+1<Se.length?Ye+1:this.modelLineProjections.length+2);let ei=!1;if(Tt>=Ae&&Tt<=Ye?this.modelLineProjections[Ht].isVisible()&&(this.modelLineProjections[Ht]=this.modelLineProjections[Ht].setVisible(!1),ei=!0):(vt=!0,this.modelLineProjections[Ht].isVisible()||(this.modelLineProjections[Ht]=this.modelLineProjections[Ht].setVisible(!0),ei=!0)),ei){const ai=this.modelLineProjections[Ht].getViewLineCount();this.projectedModelLineLineCounts.setValue(Ht,ai)}}return vt||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,o){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,o,b,V,Q){const Se=this.fontInfo.equals(e),Ae=this.wrappingStrategy===o,Ye=this.wrappingColumn===b,rt=this.wrappingIndent===V,st=this.wordBreak===Q;if(Se&&Ae&&Ye&&rt&&st)return!1;const vt=Se&&Ae&&!Ye&&rt&&st;this.fontInfo=e,this.wrappingStrategy=o,this.wrappingColumn=b,this.wrappingIndent=V,this.wordBreak=Q;let Ht=null;if(vt){Ht=[];for(let Tt=0,ei=this.modelLineProjections.length;Tt<ei;Tt++)Ht[Tt]=this.modelLineProjections[Tt].getProjectionData()}return this._constructLines(!1,Ht),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,o,b){if(!e||e<=this._validModelVersionId)return null;const V=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,Q=this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections.splice(o-1,b-o+1),this.projectedModelLineLineCounts.removeValues(o-1,b-o+1),new qo(V,Q)}onModelLinesInserted(e,o,b,V){if(!e||e<=this._validModelVersionId)return null;const Q=o>2&&!this.modelLineProjections[o-2].isVisible(),Se=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1;let Ae=0;const Ye=[],rt=[];for(let st=0,vt=V.length;st<vt;st++){const Ht=pr(V[st],!Q);Ye.push(Ht);const Tt=Ht.getViewLineCount();Ae+=Tt,rt[st]=Tt}return this.modelLineProjections=this.modelLineProjections.slice(0,o-1).concat(Ye).concat(this.modelLineProjections.slice(o-1)),this.projectedModelLineLineCounts.insertValues(o-1,rt),new co(Se,Se+Ae-1)}onModelLineChanged(e,o,b){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const V=o-1,Q=this.modelLineProjections[V].getViewLineCount(),Se=this.modelLineProjections[V].isVisible(),Ae=pr(b,Se);this.modelLineProjections[V]=Ae;const Ye=this.modelLineProjections[V].getViewLineCount();let rt=!1,st=0,vt=-1,Ht=0,Tt=-1,ei=0,ai=-1;Q>Ye?(st=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,vt=st+Ye-1,ei=vt+1,ai=ei+(Q-Ye)-1,rt=!0):Q<Ye?(st=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,vt=st+Q-1,Ht=vt+1,Tt=Ht+(Ye-Q)-1,rt=!0):(st=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,vt=st+Ye-1),this.projectedModelLineLineCounts.setValue(V,Ye);const di=st<=vt?new Sr(st,vt-st+1):null,bi=Ht<=Tt?new co(Ht,Tt):null,Ii=ei<=ai?new qo(ei,ai):null;return[rt,di,bi,Ii]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const o=this.getViewLineCount();return e>o?o:e|0}getActiveIndentGuide(e,o,b){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o),b=this._toValidViewLineNumber(b);const V=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),Q=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),Se=this.convertViewPositionToModelPosition(b,this.getViewLineMinColumn(b)),Ae=this.model.guides.getActiveIndentGuide(V.lineNumber,Q.lineNumber,Se.lineNumber),Ye=this.convertModelPositionToViewPosition(Ae.startLineNumber,1),rt=this.convertModelPositionToViewPosition(Ae.endLineNumber,this.model.getLineMaxColumn(Ae.endLineNumber));return{startLineNumber:Ye.lineNumber,endLineNumber:rt.lineNumber,indent:Ae.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const o=this.projectedModelLineLineCounts.getIndexOf(e-1),b=o.index,V=o.remainder;return new Ur(b+1,V)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],b=o.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),V=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,b);return new me.L(e.modelLineNumber,V)}getModelEndPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],b=o.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),V=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,b);return new me.L(e.modelLineNumber,V)}getViewLineInfosGroupedByModelRanges(e,o){const b=this.getViewLineInfo(e),V=this.getViewLineInfo(o),Q=new Array;let Se=this.getModelStartPositionOfViewLine(b),Ae=new Array;for(let Ye=b.modelLineNumber;Ye<=V.modelLineNumber;Ye++){const rt=this.modelLineProjections[Ye-1];if(rt.isVisible()){const st=Ye===b.modelLineNumber?b.modelLineWrappedLineIdx:0,vt=Ye===V.modelLineNumber?V.modelLineWrappedLineIdx+1:rt.getViewLineCount();for(let Ht=st;Ht<vt;Ht++)Ae.push(new Ur(Ye,Ht))}if(!rt.isVisible()&&Se){const st=new me.L(Ye-1,this.model.getLineMaxColumn(Ye-1)+1),vt=Me.e.fromPositions(Se,st);Q.push(new Mo(vt,Ae)),Ae=[],Se=null}else rt.isVisible()&&!Se&&(Se=new me.L(Ye,1))}if(Se){const Ye=Me.e.fromPositions(Se,this.getModelEndPositionOfViewLine(V));Q.push(new Mo(Ye,Ae))}return Q}getViewLinesBracketGuides(e,o,b,V){const Q=b?this.convertViewPositionToModelPosition(b.lineNumber,b.column):null,Se=[];for(const Ae of this.getViewLineInfosGroupedByModelRanges(e,o)){const Ye=Ae.modelRange.startLineNumber,rt=this.model.guides.getLinesBracketGuides(Ye,Ae.modelRange.endLineNumber,Q,V);for(const st of Ae.viewLines){const Ht=rt[st.modelLineNumber-Ye].map(Tt=>{if(Tt.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[st.modelLineNumber-1].getViewPositionOfModelPosition(0,Tt.forWrappedLinesAfterColumn).lineNumber>=st.modelLineWrappedLineIdx||Tt.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[st.modelLineNumber-1].getViewPositionOfModelPosition(0,Tt.forWrappedLinesBeforeOrAtColumn).lineNumber<st.modelLineWrappedLineIdx)return;if(!Tt.horizontalLine)return Tt;let ei=-1;if(Tt.column!==-1){const bi=this.modelLineProjections[st.modelLineNumber-1].getViewPositionOfModelPosition(0,Tt.column);if(bi.lineNumber===st.modelLineWrappedLineIdx)ei=bi.column;else if(bi.lineNumber<st.modelLineWrappedLineIdx)ei=this.getMinColumnOfViewLine(st);else if(bi.lineNumber>st.modelLineWrappedLineIdx)return}const ai=this.convertModelPositionToViewPosition(st.modelLineNumber,Tt.horizontalLine.endColumn),di=this.modelLineProjections[st.modelLineNumber-1].getViewPositionOfModelPosition(0,Tt.horizontalLine.endColumn);return di.lineNumber===st.modelLineWrappedLineIdx?new Ai.UO(Tt.visibleColumn,ei,Tt.className,new Ai.vW(Tt.horizontalLine.top,ai.column),-1,-1):di.lineNumber<st.modelLineWrappedLineIdx||Tt.visibleColumn!==-1?void 0:new Ai.UO(Tt.visibleColumn,ei,Tt.className,new Ai.vW(Tt.horizontalLine.top,this.getMaxColumnOfViewLine(st)),-1,-1)});Se.push(Ht.filter(Tt=>!!Tt))}}return Se}getViewLinesIndentGuides(e,o){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const b=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),V=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let Q=[];const Se=[],Ae=[],Ye=b.lineNumber-1,rt=V.lineNumber-1;let st=null;for(let ei=Ye;ei<=rt;ei++){const ai=this.modelLineProjections[ei];if(ai.isVisible()){const di=ai.getViewLineNumberOfModelPosition(0,ei===Ye?b.column:1),bi=ai.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(ei+1)),Ii=bi-di+1;let Bi=0;Ii>1&&ai.getViewLineMinColumn(this.model,ei+1,bi)===1&&(Bi=di===0?1:2),Se.push(Ii),Ae.push(Bi),st===null&&(st=new me.L(ei+1,0))}else st!==null&&(Q=Q.concat(this.model.guides.getLinesIndentGuides(st.lineNumber,ei)),st=null)}st!==null&&(Q=Q.concat(this.model.guides.getLinesIndentGuides(st.lineNumber,V.lineNumber)),st=null);const vt=o-e+1,Ht=new Array(vt);let Tt=0;for(let ei=0,ai=Q.length;ei<ai;ei++){let di=Q[ei];const bi=Math.min(vt-Tt,Se[ei]),Ii=Ae[ei];let Bi;Ii===2?Bi=0:Ii===1?Bi=1:Bi=bi;for(let nn=0;nn<bi;nn++)nn===Bi&&(di=0),Ht[Tt++]=di}return Ht}getViewLineContent(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineContent(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineLength(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineLength(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineData(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineData(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLinesData(e,o,b){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const V=this.projectedModelLineLineCounts.getIndexOf(e-1);let Q=e;const Se=V.index,Ae=V.remainder,Ye=[];for(let rt=Se,st=this.model.getLineCount();rt<st;rt++){const vt=this.modelLineProjections[rt];if(!vt.isVisible())continue;const Ht=rt===Se?Ae:0;let Tt=vt.getViewLineCount()-Ht,ei=!1;if(Q+Tt>o&&(ei=!0,Tt=o-Q+1),vt.getViewLinesData(this.model,rt+1,Ht,Tt,Q-e,b,Ye),Q+=Tt,ei)break}return Ye}validateViewPosition(e,o,b){e=this._toValidViewLineNumber(e);const V=this.projectedModelLineLineCounts.getIndexOf(e-1),Q=V.index,Se=V.remainder,Ae=this.modelLineProjections[Q],Ye=Ae.getViewLineMinColumn(this.model,Q+1,Se),rt=Ae.getViewLineMaxColumn(this.model,Q+1,Se);o<Ye&&(o=Ye),o>rt&&(o=rt);const st=Ae.getModelColumnOfViewPosition(Se,o);return this.model.validatePosition(new me.L(Q+1,st)).equals(b)?new me.L(e,o):this.convertModelPositionToViewPosition(b.lineNumber,b.column)}validateViewRange(e,o){const b=this.validateViewPosition(e.startLineNumber,e.startColumn,o.getStartPosition()),V=this.validateViewPosition(e.endLineNumber,e.endColumn,o.getEndPosition());return new Me.e(b.lineNumber,b.column,V.lineNumber,V.column)}convertViewPositionToModelPosition(e,o){const b=this.getViewLineInfo(e),V=this.modelLineProjections[b.modelLineNumber-1].getModelColumnOfViewPosition(b.modelLineWrappedLineIdx,o);return this.model.validatePosition(new me.L(b.modelLineNumber,V))}convertViewRangeToModelRange(e){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),b=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Me.e(o.lineNumber,o.column,b.lineNumber,b.column)}convertModelPositionToViewPosition(e,o,b=2){const V=this.model.validatePosition(new me.L(e,o)),Q=V.lineNumber,Se=V.column;let Ae=Q-1,Ye=!1;for(;Ae>0&&!this.modelLineProjections[Ae].isVisible();)Ae--,Ye=!0;if(Ae===0&&!this.modelLineProjections[Ae].isVisible())return new me.L(1,1);const rt=1+this.projectedModelLineLineCounts.getPrefixSum(Ae);let st;return Ye?st=this.modelLineProjections[Ae].getViewPositionOfModelPosition(rt,this.model.getLineMaxColumn(Ae+1),b):st=this.modelLineProjections[Q-1].getViewPositionOfModelPosition(rt,Se,b),st}convertModelRangeToViewRange(e,o=0){if(e.isEmpty()){const b=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,o);return Me.e.fromPositions(b)}else{const b=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),V=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Me.e(b.lineNumber,b.column,V.lineNumber,V.column)}}getViewLineNumberOfModelPosition(e,o){let b=e-1;if(this.modelLineProjections[b].isVisible()){const Q=1+this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections[b].getViewLineNumberOfModelPosition(Q,o)}for(;b>0&&!this.modelLineProjections[b].isVisible();)b--;if(b===0&&!this.modelLineProjections[b].isVisible())return 1;const V=1+this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections[b].getViewLineNumberOfModelPosition(V,this.model.getLineMaxColumn(b+1))}getDecorationsInRange(e,o,b,V){const Q=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),Se=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(Se.lineNumber-Q.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Me.e(Q.lineNumber,1,Se.lineNumber,Se.column),o,b,V);let Ae=[];const Ye=Q.lineNumber-1,rt=Se.lineNumber-1;let st=null;for(let ei=Ye;ei<=rt;ei++)if(this.modelLineProjections[ei].isVisible())st===null&&(st=new me.L(ei+1,ei===Ye?Q.column:1));else if(st!==null){const di=this.model.getLineMaxColumn(ei);Ae=Ae.concat(this.model.getDecorationsInRange(new Me.e(st.lineNumber,st.column,ei,di),o,b,V)),st=null}st!==null&&(Ae=Ae.concat(this.model.getDecorationsInRange(new Me.e(st.lineNumber,st.column,Se.lineNumber,Se.column),o,b,V)),st=null),Ae.sort((ei,ai)=>{const di=Me.e.compareRangesUsingStarts(ei.range,ai.range);return di===0?ei.id<ai.id?-1:ei.id>ai.id?1:0:di});const vt=[];let Ht=0,Tt=null;for(const ei of Ae){const ai=ei.id;Tt!==ai&&(Tt=ai,vt[Ht++]=ei)}return vt}getInjectedTextAt(e){const o=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].getInjectedTextAt(o.modelLineWrappedLineIdx,e.column)}normalizePosition(e,o){const b=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[b.modelLineNumber-1].normalizePosition(b.modelLineWrappedLineIdx,e,o)}getLineIndentColumn(e){const o=this.getViewLineInfo(e);return o.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(o.modelLineNumber):0}}function zo(Nt){if(Nt.length===0)return[];const e=Nt.slice();e.sort(Me.e.compareRangesUsingStarts);const o=[];let b=e[0].startLineNumber,V=e[0].endLineNumber;for(let Q=1,Se=e.length;Q<Se;Q++){const Ae=e[Q];Ae.startLineNumber>V+1?(o.push(new Me.e(b,1,V,1)),b=Ae.startLineNumber,V=Ae.endLineNumber):Ae.endLineNumber>V&&(V=Ae.endLineNumber)}return o.push(new Me.e(b,1,V,1)),o}class Ur{constructor(e,o){this.modelLineNumber=e,this.modelLineWrappedLineIdx=o}}class Mo{constructor(e,o){this.modelRange=e,this.viewLines=o}}class pa{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,o){return this._lines.validateViewPosition(e.lineNumber,e.column,o)}validateViewRange(e,o){return this._lines.validateViewRange(e,o)}convertModelPositionToViewPosition(e,o){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,o)}convertModelRangeToViewRange(e,o){return this._lines.convertModelRangeToViewRange(e,o)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,o){return this._lines.getViewLineNumberOfModelPosition(e,o)}}class jl{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new Ya(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,o,b,V){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(o,b,V)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,o,b){return new qo(o,b)}onModelLinesInserted(e,o,b,V){return new co(o,b)}onModelLineChanged(e,o,b){return[!1,new Sr(o,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,o,b){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,o,b){return new Array(o-e+1).fill([])}getViewLinesIndentGuides(e,o){const b=o-e+1,V=new Array(b);for(let Q=0;Q<b;Q++)V[Q]=0;return V}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const o=this.model.tokenization.getLineTokens(e),b=o.getLineContent();return new tn.IP(b,!1,1,b.length+1,0,o.inflate(),null)}getViewLinesData(e,o,b){const V=this.model.getLineCount();e=Math.min(Math.max(1,e),V),o=Math.min(Math.max(1,o),V);const Q=[];for(let Se=e;Se<=o;Se++){const Ae=Se-e;Q[Ae]=b[Ae]?this.getViewLineData(Se):null}return Q}getDecorationsInRange(e,o,b,V){return this.model.getDecorationsInRange(e,o,b,V)}normalizePosition(e,o){return this.model.normalizePosition(e,o)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class Ya{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,o){return this._validPosition(o)}validateViewRange(e,o){return this._validRange(o)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const o=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>o)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,o){return e}}const dl=!0;class Ea extends p.JT{constructor(e,o,b,V,Q,Se,Ae,Ye,rt){if(super(),this.languageConfigurationService=Ae,this._themeService=Ye,this._attachedView=rt,this.hiddenAreasModel=new Aa,this.previousHiddenAreas=[],this._editorId=e,this._configuration=o,this.model=b,this._eventDispatcher=new ia,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Qs.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Pn.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=aa.create(this.model),dl&&this.model.isTooLargeForTokenization())this._lines=new jl(this.model);else{const st=this._configuration.options,vt=st.get(48),Ht=st.get(133),Tt=st.get(140),ei=st.get(132),ai=st.get(124);this._lines=new Ll(this._editorId,this.model,V,Q,vt,this.model.getOptions().tabSize,Ht,Tt.wrappingColumn,ei,ai)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new gs(b,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Sl(this._configuration,this.getLineCount(),Se)),this._register(this.viewLayout.onDidScroll(st=>{st.scrollTopChanged&&this._handleVisibleLinesChanged(),st.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new Wo(st)),this._eventDispatcher.emitOutgoingEvent(new cr(st.oldScrollWidth,st.oldScrollLeft,st.oldScrollHeight,st.oldScrollTop,st.scrollWidth,st.scrollLeft,st.scrollHeight,st.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(st=>{this._eventDispatcher.emitOutgoingEvent(st)})),this._decorations=new Fr.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(st=>{try{const vt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(vt,st)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Xi.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new vo)})),this._register(this._themeService.onDidColorThemeChange(st=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Zr(st))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),o=new Me.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(o)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new go(e)),this._eventDispatcher.emitOutgoingEvent(new xr(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Jo)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new ar)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new me.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),o=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new fl(o,this._viewportStart.startLineDelta)}return new fl(null,0)}_onConfigurationChanged(e,o){const b=this._captureStableViewport(),V=this._configuration.options,Q=V.get(48),Se=V.get(133),Ae=V.get(140),Ye=V.get(132),rt=V.get(124);this._lines.setWrappingSettings(Q,Se,Ae.wrappingColumn,Ye,rt)&&(e.emitViewEvent(new Gr),e.emitViewEvent(new ln),e.emitViewEvent(new Ar(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),o.hasChanged(87)&&(this._decorations.reset(),e.emitViewEvent(new Ar(null))),e.emitViewEvent(new zr(o)),this.viewLayout.onConfigurationChanged(o),b.recoverViewportStart(this.coordinatesConverter,this.viewLayout),Qs.LM.shouldRecreate(o)&&(this.cursorConfig=new Qs.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const b=this._eventDispatcher.beginEmitViewEvents();let V=!1,Q=!1;const Se=e instanceof ni.fV?e.rawContentChangedEvent.changes:e.changes,Ae=e instanceof ni.fV?e.rawContentChangedEvent.versionId:null,Ye=this._lines.createLineBreaksComputer();for(const vt of Se)switch(vt.changeType){case 4:{for(let Ht=0;Ht<vt.detail.length;Ht++){const Tt=vt.detail[Ht];let ei=vt.injectedTexts[Ht];ei&&(ei=ei.filter(ai=>!ai.ownerId||ai.ownerId===this._editorId)),Ye.addRequest(Tt,ei,null)}break}case 2:{let Ht=null;vt.injectedText&&(Ht=vt.injectedText.filter(Tt=>!Tt.ownerId||Tt.ownerId===this._editorId)),Ye.addRequest(vt.detail,Ht,null);break}}const rt=Ye.finalize(),st=new g.H9(rt);for(const vt of Se)switch(vt.changeType){case 1:{this._lines.onModelFlushed(),b.emitViewEvent(new Gr),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),V=!0;break}case 3:{const Ht=this._lines.onModelLinesDeleted(Ae,vt.fromLineNumber,vt.toLineNumber);Ht!==null&&(b.emitViewEvent(Ht),this.viewLayout.onLinesDeleted(Ht.fromLineNumber,Ht.toLineNumber)),V=!0;break}case 4:{const Ht=st.takeCount(vt.detail.length),Tt=this._lines.onModelLinesInserted(Ae,vt.fromLineNumber,vt.toLineNumber,Ht);Tt!==null&&(b.emitViewEvent(Tt),this.viewLayout.onLinesInserted(Tt.fromLineNumber,Tt.toLineNumber)),V=!0;break}case 2:{const Ht=st.dequeue(),[Tt,ei,ai,di]=this._lines.onModelLineChanged(Ae,vt.lineNumber,Ht);Q=Tt,ei&&b.emitViewEvent(ei),ai&&(b.emitViewEvent(ai),this.viewLayout.onLinesInserted(ai.fromLineNumber,ai.toLineNumber)),di&&(b.emitViewEvent(di),this.viewLayout.onLinesDeleted(di.fromLineNumber,di.toLineNumber));break}case 5:break}Ae!==null&&this._lines.acceptVersionId(Ae),this.viewLayout.onHeightMaybeChanged(),!V&&Q&&(b.emitViewEvent(new ln),b.emitViewEvent(new Ar(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const o=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&o){const b=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(b){const V=this.coordinatesConverter.convertModelPositionToViewPosition(b.getStartPosition()),Q=this.viewLayout.getVerticalOffsetForLineNumber(V.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Q+this._viewportStart.startLineDelta},1)}}try{const b=this._eventDispatcher.beginEmitViewEvents();e instanceof ni.fV&&b.emitOutgoingEvent(new oa(e.contentChangedEvent)),this._cursor.onModelContentChanged(b,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(e=>{const o=[];for(let b=0,V=e.ranges.length;b<V;b++){const Q=e.ranges[b],Se=this.coordinatesConverter.convertModelPositionToViewPosition(new me.L(Q.fromLineNumber,1)).lineNumber,Ae=this.coordinatesConverter.convertModelPositionToViewPosition(new me.L(Q.toLineNumber,this.model.getLineMaxColumn(Q.toLineNumber))).lineNumber;o[b]={fromLineNumber:Se,toLineNumber:Ae}}this._eventDispatcher.emitSingleViewEvent(new bl(o)),this._eventDispatcher.emitOutgoingEvent(new On(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new lr),this.cursorConfig=new Qs.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new sa(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Qs.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new tr(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const o=this._eventDispatcher.beginEmitViewEvents();o.emitViewEvent(new Gr),o.emitViewEvent(new ln),o.emitViewEvent(new Ar(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Qs.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new ra(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Ar(e)),this._eventDispatcher.emitOutgoingEvent(new na(e))}))}setHiddenAreas(e,o){this.hiddenAreasModel.setHiddenAreas(o,e);const b=this.hiddenAreasModel.getMergedRanges();if(b===this.previousHiddenAreas)return;this.previousHiddenAreas=b;const V=this._captureStableViewport();let Q=!1;try{const Se=this._eventDispatcher.beginEmitViewEvents();Q=this._lines.setHiddenAreas(b),Q&&(Se.emitViewEvent(new Gr),Se.emitViewEvent(new ln),Se.emitViewEvent(new Ar(null)),this._cursor.onLineMappingChanged(Se),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),V.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),Q&&this._eventDispatcher.emitOutgoingEvent(new hn)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(139),o=this._configuration.options.get(64),b=Math.max(20,Math.round(e.height/o)),V=this.viewLayout.getLinesViewportData(),Q=Math.max(1,V.completelyVisibleStartLineNumber-b),Se=Math.min(this.getLineCount(),V.completelyVisibleEndLineNumber+b);return this._toModelVisibleRanges(new Me.e(Q,this.getLineMinColumn(Q),Se,this.getLineMaxColumn(Se)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const o=this.coordinatesConverter.convertViewRangeToModelRange(e),b=this._lines.getHiddenAreas();if(b.length===0)return[o];const V=[];let Q=0,Se=o.startLineNumber,Ae=o.startColumn;const Ye=o.endLineNumber,rt=o.endColumn;for(let st=0,vt=b.length;st<vt;st++){const Ht=b[st].startLineNumber,Tt=b[st].endLineNumber;Tt<Se||Ht>Ye||(Se<Ht&&(V[Q++]=new Me.e(Se,Ae,Ht-1,this.model.getLineMaxColumn(Ht-1))),Se=Tt+1,Ae=1)}return(Se<Ye||Se===Ye&&Ae<rt)&&(V[Q++]=new Me.e(Se,Ae,Ye,rt)),V}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),o=e.completelyVisibleStartLineNumber,b=e.completelyVisibleEndLineNumber;return new Me.e(o,this.getLineMinColumn(o),b,this.getLineMaxColumn(b))}getCompletelyVisibleViewRangeAtScrollTop(e){const o=this.viewLayout.getLinesViewportDataAtScrollTop(e),b=o.completelyVisibleStartLineNumber,V=o.completelyVisibleEndLineNumber;return new Me.e(b,this.getLineMinColumn(b),V,this.getLineMaxColumn(V))}saveState(){const e=this.viewLayout.saveState(),o=e.scrollTop,b=this.viewLayout.getLineNumberAtVerticalOffset(o),V=this.coordinatesConverter.convertViewPositionToModelPosition(new me.L(b,this.getLineMinColumn(b))),Q=this.viewLayout.getVerticalOffsetForLineNumber(b)-o;return{scrollLeft:e.scrollLeft,firstPosition:V,firstPositionDeltaTop:Q}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const o=this.model.validatePosition(e.firstPosition),b=this.coordinatesConverter.convertModelPositionToViewPosition(o),V=this.viewLayout.getVerticalOffsetForLineNumber(b.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:V}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,o,b){this._viewportStart.update(this,e)}getActiveIndentGuide(e,o,b){return this._lines.getActiveIndentGuide(e,o,b)}getLinesIndentGuides(e,o){return this._lines.getViewLinesIndentGuides(e,o)}getBracketGuidesInRangeByLine(e,o,b,V){return this._lines.getViewLinesBracketGuides(e,o,b,V)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const o=ji.LC(this.getLineContent(e));return o===-1?0:o+1}getLineLastNonWhitespaceColumn(e){const o=ji.ow(this.getLineContent(e));return o===-1?0:o+2}getDecorationsInViewport(e,o=!1){return this._decorations.getDecorationsViewportData(e,o).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,o){const V=this._decorations.getDecorationsViewportData(e).inlineDecorations[o-e.startLineNumber];return this._getViewLineRenderingData(o,V)}getViewLineRenderingData(e){const o=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,o)}_getViewLineRenderingData(e,o){const b=this.model.mightContainRTL(),V=this.model.mightContainNonBasicASCII(),Q=this.getTabSize(),Se=this._lines.getViewLineData(e);return Se.inlineDecorations&&(o=[...o,...Se.inlineDecorations.map(Ae=>Ae.toInlineDecoration(e))]),new tn.wA(Se.minColumn,Se.maxColumn,Se.content,Se.continuesWithWrappedLine,b,V,Se.tokens,o,Q,Se.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,o,b){const V=this._lines.getViewLinesData(e,o,b);return new tn.ud(this.getTabSize(),V)}getAllOverviewRulerDecorations(e){const o=this.model.getOverviewRulerDecorations(this._editorId,(0,x.$J)(this._configuration.options)),b=new ul;for(const V of o){const Q=V.options,Se=Q.overviewRuler;if(!Se)continue;const Ae=Se.position;if(Ae===0)continue;const Ye=Se.getColor(e.value),rt=this.coordinatesConverter.getViewLineNumberOfModelPosition(V.range.startLineNumber,V.range.startColumn),st=this.coordinatesConverter.getViewLineNumberOfModelPosition(V.range.endLineNumber,V.range.endColumn);b.accept(Ye,Q.zIndex,rt,st,Ae)}return b.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const o of e){const b=o.options.overviewRuler;b==null||b.invalidateCachedColor();const V=o.options.minimap;V==null||V.invalidateCachedColor()}}getValueInRange(e,o){const b=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(b,o)}getValueLengthInRange(e,o){const b=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(b,o)}modifyPosition(e,o){const b=this.coordinatesConverter.convertViewPositionToModelPosition(e);return this.model.modifyPosition(b,o)}deduceModelPositionRelativeToViewPosition(e,o,b){const V=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(o<0?o-=b:o+=b);const Se=this.model.getOffsetAt(V)+o;return this.model.getPositionAt(Se)}getPlainTextToCopy(e,o,b){const V=b?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Me.e.compareRangesUsingStarts);let Q=!1,Se=!1;for(const Ye of e)Ye.isEmpty()?Q=!0:Se=!0;if(!Se){if(!o)return"";const Ye=e.map(st=>st.startLineNumber);let rt="";for(let st=0;st<Ye.length;st++)st>0&&Ye[st-1]===Ye[st]||(rt+=this.model.getLineContent(Ye[st])+V);return rt}if(Q&&o){const Ye=[];let rt=0;for(const st of e){const vt=st.startLineNumber;st.isEmpty()?vt!==rt&&Ye.push(this.model.getLineContent(vt)):Ye.push(this.model.getValueInRange(st,b?2:0)),rt=vt}return Ye.length===1?Ye[0]:Ye}const Ae=[];for(const Ye of e)Ye.isEmpty()||Ae.push(this.model.getValueInRange(Ye,b?2:0));return Ae.length===1?Ae[0]:Ae}getRichTextToCopy(e,o){const b=this.model.getLanguageId();if(b===Ko.bd||e.length!==1)return null;let V=e[0];if(V.isEmpty()){if(!o)return null;const st=V.startLineNumber;V=new Me.e(st,this.model.getLineMinColumn(st),st,this.model.getLineMaxColumn(st))}const Q=this._configuration.options.get(48),Se=this._getColorMap(),Ye=/[:;\\\/<>]/.test(Q.fontFamily)||Q.fontFamily===x.hL.fontFamily;let rt;return Ye?rt=x.hL.fontFamily:(rt=Q.fontFamily,rt=rt.replace(/"/g,"'"),/[,']/.test(rt)||/[+ ]/.test(rt)&&(rt=`'${rt}'`),rt=`${rt}, ${x.hL.fontFamily}`),{mode:b,html:`<div style="color: ${Se[1]};background-color: ${Se[2]};font-family: ${rt};font-weight: ${Q.fontWeight};font-size: ${Q.fontSize}px;line-height: ${Q.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(V,Se)+"</div>"}}_getHTMLToCopy(e,o){const b=e.startLineNumber,V=e.startColumn,Q=e.endLineNumber,Se=e.endColumn,Ae=this.getTabSize();let Ye="";for(let rt=b;rt<=Q;rt++){const st=this.model.tokenization.getLineTokens(rt),vt=st.getLineContent(),Ht=rt===b?V-1:0,Tt=rt===Q?Se-1:vt.length;vt===""?Ye+="<br>":Ye+=(0,$a.Fq)(vt,st.inflate(),o,Ht,Tt,Ae,a.ED)}return Ye}_getColorMap(){const e=ts.RW.getColorMap(),o=["#000000"];if(e)for(let b=1,V=e.length;b<V;b++)o[b]=Kn.Il.Format.CSS.formatHex(e[b]);return o}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,o,b){return this._withViewEventsCollector(V=>this._cursor.setStates(V,e,o,b))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,o,b=0){this._withViewEventsCollector(V=>this._cursor.setSelections(V,e,o,b))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(o=>this._cursor.restoreState(o,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new wa);return}this._withViewEventsCollector(e)}executeEdits(e,o,b){this._executeCursorEdit(V=>this._cursor.executeEdits(V,e,o,b))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(o=>this._cursor.endComposition(o,e))}type(e,o){this._executeCursorEdit(b=>this._cursor.type(b,e,o))}compositionType(e,o,b,V,Q){this._executeCursorEdit(Se=>this._cursor.compositionType(Se,e,o,b,V,Q))}paste(e,o,b,V){this._executeCursorEdit(Q=>this._cursor.paste(Q,e,o,b,V))}cut(e){this._executeCursorEdit(o=>this._cursor.cut(o,e))}executeCommand(e,o){this._executeCursorEdit(b=>this._cursor.executeCommand(b,e,o))}executeCommands(e,o){this._executeCursorEdit(b=>this._cursor.executeCommands(b,e,o))}revealPrimaryCursor(e,o,b=!1){this._withViewEventsCollector(V=>this._cursor.revealPrimary(V,e,b,0,o,0))}revealTopMostCursor(e){const o=this._cursor.getTopMostViewPosition(),b=new Me.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(V=>V.emitViewEvent(new ys(e,!1,b,null,0,!0,0)))}revealBottomMostCursor(e){const o=this._cursor.getBottomMostViewPosition(),b=new Me.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(V=>V.emitViewEvent(new ys(e,!1,b,null,0,!0,0)))}revealRange(e,o,b,V,Q){this._withViewEventsCollector(Se=>Se.emitViewEvent(new ys(e,!1,b,null,V,o,Q)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Ka),this._eventDispatcher.emitOutgoingEvent(new er))}_withViewEventsCollector(e){try{const o=this._eventDispatcher.beginEmitViewEvents();return e(o)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,o){return this._lines.normalizePosition(e,o)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class aa{static create(e){const o=e._setTrackedRange(null,new Me.e(1,1,1,1),1);return new aa(e,1,!1,o,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,o,b,V,Q){this._model=e,this._viewLineNumber=o,this._isValid=b,this._modelTrackedRange=V,this._startLineDelta=Q}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,o){const b=e.coordinatesConverter.convertViewPositionToModelPosition(new me.L(o,e.getLineMinColumn(o))),V=e.model._setTrackedRange(this._modelTrackedRange,new Me.e(b.lineNumber,b.column,b.lineNumber,b.column),1),Q=e.viewLayout.getVerticalOffsetForLineNumber(o),Se=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=o,this._isValid=!0,this._modelTrackedRange=V,this._startLineDelta=Se-Q}invalidate(){this._isValid=!1}}class ul{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,o,b,V,Q){const Se=this._asMap[e];if(Se){const Ae=Se.data,Ye=Ae[Ae.length-3],rt=Ae[Ae.length-1];if(Ye===Q&&rt+1>=b){V>rt&&(Ae[Ae.length-1]=V);return}Ae.push(Q,b,V)}else{const Ae=new tn.SQ(e,o,[Q,b,V]);this._asMap[e]=Ae,this.asArray.push(Ae)}}}class Aa{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,o){const b=this.hiddenAreas.get(e);b&&hl(b,o)||(this.hiddenAreas.set(e,o),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((o,b)=>Dl(o,b),[]);return hl(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function Dl(Nt,e){const o=[];let b=0,V=0;for(;b<Nt.length&&V<e.length;){const Q=Nt[b],Se=e[V];if(Q.endLineNumber<Se.startLineNumber-1)o.push(Nt[b++]);else if(Se.endLineNumber<Q.startLineNumber-1)o.push(e[V++]);else{const Ae=Math.min(Q.startLineNumber,Se.startLineNumber),Ye=Math.max(Q.endLineNumber,Se.endLineNumber);o.push(new Me.e(Ae,1,Ye,1)),b++,V++}}for(;b<Nt.length;)o.push(Nt[b++]);for(;V<e.length;)o.push(e[V++]);return o}function hl(Nt,e){if(Nt.length!==e.length)return!1;for(let o=0;o<Nt.length;o++)if(!Nt[o].equalsRange(e[o]))return!1;return!0}class fl{constructor(e,o){this.viewportStartModelPosition=e,this.startLineDelta=o}recoverViewportStart(e,o){if(!this.viewportStartModelPosition)return;const b=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),V=o.getVerticalOffsetForLineNumber(b.lineNumber);o.setScrollPosition({scrollTop:V+this.startLineDelta},1)}}var va=i(80793),xa=i(76826),Al=i(44333),gl=i(28596),Xs=i(97968),ka=i(55224),is=i(14527);class ws{constructor(e,o,b,V,Q){this.injectionOffsets=e,this.injectionOptions=o,this.breakOffsets=b,this.breakOffsetsVisibleColumn=V,this.wrappedTextIndentLength=Q}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const o=e>0?this.breakOffsets[e-1]:0;let V=this.breakOffsets[e]-o;return e>0&&(V+=this.wrappedTextIndentLength),V}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,o){e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength));let V=e===0?o:this.breakOffsets[e-1]+o;if(this.injectionOffsets!==null)for(let Q=0;Q<this.injectionOffsets.length&&V>this.injectionOffsets[Q];Q++)V<this.injectionOffsets[Q]+this.injectionOptions[Q].content.length?V=this.injectionOffsets[Q]:V-=this.injectionOptions[Q].content.length;return V}translateToOutputPosition(e,o=2){let b=e;if(this.injectionOffsets!==null)for(let V=0;V<this.injectionOffsets.length&&!(e<this.injectionOffsets[V]||o!==1&&e===this.injectionOffsets[V]);V++)b+=this.injectionOptions[V].content.length;return this.offsetInInputWithInjectionsToOutputPosition(b,o)}offsetInInputWithInjectionsToOutputPosition(e,o=2){let b=0,V=this.breakOffsets.length-1,Q=0,Se=0;for(;b<=V;){Q=b+(V-b)/2|0;const Ye=this.breakOffsets[Q];if(Se=Q>0?this.breakOffsets[Q-1]:0,o===0)if(e<=Se)V=Q-1;else if(e>Ye)b=Q+1;else break;else if(e<Se)V=Q-1;else if(e>=Ye)b=Q+1;else break}let Ae=e-Se;return Q>0&&(Ae+=this.wrappedTextIndentLength),new Ds(Q,Ae)}normalizeOutputPosition(e,o,b){if(this.injectionOffsets!==null){const V=this.outputPositionToOffsetInInputWithInjections(e,o),Q=this.normalizeOffsetInInputWithInjectionsAroundInjections(V,b);if(Q!==V)return this.offsetInInputWithInjectionsToOutputPosition(Q,b)}if(b===0){if(e>0&&o===this.getMinOutputOffset(e))return new Ds(e-1,this.getMaxOutputOffset(e-1))}else if(b===1){const V=this.getOutputLineCount()-1;if(e<V&&o===this.getMaxOutputOffset(e))return new Ds(e+1,this.getMinOutputOffset(e+1))}return new Ds(e,o)}outputPositionToOffsetInInputWithInjections(e,o){return e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+o}normalizeOffsetInInputWithInjectionsAroundInjections(e,o){const b=this.getInjectedTextAtOffset(e);if(!b)return e;if(o===2){if(e===b.offsetInInputWithInjections+b.length&&Js(this.injectionOptions[b.injectedTextIndex].cursorStops))return b.offsetInInputWithInjections+b.length;{let V=b.offsetInInputWithInjections;if(to(this.injectionOptions[b.injectedTextIndex].cursorStops))return V;let Q=b.injectedTextIndex-1;for(;Q>=0&&this.injectionOffsets[Q]===this.injectionOffsets[b.injectedTextIndex]&&!(Js(this.injectionOptions[Q].cursorStops)||(V-=this.injectionOptions[Q].content.length,to(this.injectionOptions[Q].cursorStops)));)Q--;return V}}else if(o===1||o===4){let V=b.offsetInInputWithInjections+b.length,Q=b.injectedTextIndex;for(;Q+1<this.injectionOffsets.length&&this.injectionOffsets[Q+1]===this.injectionOffsets[Q];)V+=this.injectionOptions[Q+1].content.length,Q++;return V}else if(o===0||o===3){let V=b.offsetInInputWithInjections,Q=b.injectedTextIndex;for(;Q-1>=0&&this.injectionOffsets[Q-1]===this.injectionOffsets[Q];)V-=this.injectionOptions[Q-1].content.length,Q--;return V}(0,is.vE)(o)}getInjectedText(e,o){const b=this.outputPositionToOffsetInInputWithInjections(e,o),V=this.getInjectedTextAtOffset(b);return V?{options:this.injectionOptions[V.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const o=this.injectionOffsets,b=this.injectionOptions;if(o!==null){let V=0;for(let Q=0;Q<o.length;Q++){const Se=b[Q].content.length,Ae=o[Q]+V,Ye=o[Q]+V+Se;if(Ae>e)break;if(e<=Ye)return{injectedTextIndex:Q,offsetInInputWithInjections:Ae,length:Se};V+=Se}}}}function Js(Nt){return Nt==null?!0:Nt===_n.RM.Right||Nt===_n.RM.Both}function to(Nt){return Nt==null?!0:Nt===_n.RM.Left||Nt===_n.RM.Both}class Eo{constructor(e){this.options=e}}class Ds{constructor(e,o){this.outputLineIndex=e,this.outputOffset=o}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new me.L(e+this.outputLineIndex,this.outputOffset+1)}}class Ia{static create(e){return new Ia(e.get(128),e.get(127))}constructor(e,o){this.classifier=new Na(e,o)}createLineBreaksComputer(e,o,b,V,Q){const Se=[],Ae=[],Ye=[];return{addRequest:(rt,st,vt)=>{Se.push(rt),Ae.push(st),Ye.push(vt)},finalize:()=>{const rt=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,st=[];for(let vt=0,Ht=Se.length;vt<Ht;vt++){const Tt=Ae[vt],ei=Ye[vt];ei&&!ei.injectionOptions&&!Tt?st[vt]=Qa(this.classifier,ei,Se[vt],o,b,rt,V,Q):st[vt]=Lc(this.classifier,Se[vt],Tt,o,b,rt,V,Q)}return ml.length=0,_a.length=0,st}}}}class Na extends ka.N{constructor(e,o){super(0);for(let b=0;b<e.length;b++)this.set(e.charCodeAt(b),1);for(let b=0;b<o.length;b++)this.set(o.charCodeAt(b),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let ml=[],_a=[];function Qa(Nt,e,o,b,V,Q,Se,Ae){if(V===-1)return null;const Ye=o.length;if(Ye<=1)return null;const rt=Ae==="keepAll",st=e.breakOffsets,vt=e.breakOffsetsVisibleColumn,Ht=Nr(o,b,V,Q,Se),Tt=V-Ht,ei=ml,ai=_a;let di=0,bi=0,Ii=0,Bi=V;const nn=st.length;let Yi=0;if(Yi>=0){let Sn=Math.abs(vt[Yi]-Bi);for(;Yi+1<nn;){const Ln=Math.abs(vt[Yi+1]-Bi);if(Ln>=Sn)break;Sn=Ln,Yi++}}for(;Yi<nn;){let Sn=Yi<0?0:st[Yi],Ln=Yi<0?0:vt[Yi];bi>Sn&&(Sn=bi,Ln=Ii);let En=0,$i=0,Xn=0,Un=0;if(Ln<=Bi){let rs=Ln,Ks=Sn===0?0:o.charCodeAt(Sn-1),Jn=Sn===0?0:Nt.get(Ks),sr=!0;for(let Us=Sn;Us<Ye;Us++){const $o=Us,io=o.charCodeAt(Us);let jr,Xa;if(ji.ZG(io)?(Us++,jr=0,Xa=2):(jr=Nt.get(io),Xa=Ca(io,rs,b,Q)),$o>bi&&El(Ks,Jn,io,jr,rt)&&(En=$o,$i=rs),rs+=Xa,rs>Bi){$o>bi?(Xn=$o,Un=rs-Xa):(Xn=Us+1,Un=rs),rs-$i>Tt&&(En=0),sr=!1;break}Ks=io,Jn=jr}if(sr){di>0&&(ei[di]=st[st.length-1],ai[di]=vt[st.length-1],di++);break}}if(En===0){let rs=Ln,Ks=o.charCodeAt(Sn),Jn=Nt.get(Ks),sr=!1;for(let Us=Sn-1;Us>=bi;Us--){const $o=Us+1,io=o.charCodeAt(Us);if(io===9){sr=!0;break}let jr,Xa;if(ji.YK(io)?(Us--,jr=0,Xa=2):(jr=Nt.get(io),Xa=ji.K7(io)?Q:1),rs<=Bi){if(Xn===0&&(Xn=$o,Un=rs),rs<=Bi-Tt)break;if(El(io,jr,Ks,Jn,rt)){En=$o,$i=rs;break}}rs-=Xa,Ks=io,Jn=jr}if(En!==0){const Us=Tt-(Un-$i);if(Us<=b){const $o=o.charCodeAt(Xn);let io;ji.ZG($o)?io=2:io=Ca($o,Un,b,Q),Us-io<0&&(En=0)}}if(sr){Yi--;continue}}if(En===0&&(En=Xn,$i=Un),En<=bi){const rs=o.charCodeAt(bi);ji.ZG(rs)?(En=bi+2,$i=Ii+2):(En=bi+1,$i=Ii+Ca(rs,Ii,b,Q))}for(bi=En,ei[di]=En,Ii=$i,ai[di]=$i,di++,Bi=$i+Tt;Yi<0||Yi<nn&&vt[Yi]<$i;)Yi++;let Gn=Math.abs(vt[Yi]-Bi);for(;Yi+1<nn;){const rs=Math.abs(vt[Yi+1]-Bi);if(rs>=Gn)break;Gn=rs,Yi++}}return di===0?null:(ei.length=di,ai.length=di,ml=e.breakOffsets,_a=e.breakOffsetsVisibleColumn,e.breakOffsets=ei,e.breakOffsetsVisibleColumn=ai,e.wrappedTextIndentLength=Ht,e)}function Lc(Nt,e,o,b,V,Q,Se,Ae){const Ye=ni.gk.applyInjectedText(e,o);let rt,st;if(o&&o.length>0?(rt=o.map($i=>$i.options),st=o.map($i=>$i.column-1)):(rt=null,st=null),V===-1)return rt?new ws(st,rt,[Ye.length],[],0):null;const vt=Ye.length;if(vt<=1)return rt?new ws(st,rt,[Ye.length],[],0):null;const Ht=Ae==="keepAll",Tt=Nr(Ye,b,V,Q,Se),ei=V-Tt,ai=[],di=[];let bi=0,Ii=0,Bi=0,nn=V,Yi=Ye.charCodeAt(0),Sn=Nt.get(Yi),Ln=Ca(Yi,0,b,Q),En=1;ji.ZG(Yi)&&(Ln+=1,Yi=Ye.charCodeAt(1),Sn=Nt.get(Yi),En++);for(let $i=En;$i<vt;$i++){const Xn=$i,Un=Ye.charCodeAt($i);let Gn,rs;ji.ZG(Un)?($i++,Gn=0,rs=2):(Gn=Nt.get(Un),rs=Ca(Un,Ln,b,Q)),El(Yi,Sn,Un,Gn,Ht)&&(Ii=Xn,Bi=Ln),Ln+=rs,Ln>nn&&((Ii===0||Ln-Bi>ei)&&(Ii=Xn,Bi=Ln-rs),ai[bi]=Ii,di[bi]=Bi,bi++,nn=Bi+ei,Ii=0),Yi=Un,Sn=Gn}return bi===0&&(!o||o.length===0)?null:(ai[bi]=vt,di[bi]=Ln,new ws(st,rt,ai,di,Tt))}function Ca(Nt,e,o,b){return Nt===9?o-e%o:ji.K7(Nt)||Nt<32?b:1}function kl(Nt,e){return e-Nt%e}function El(Nt,e,o,b,V){return o!==32&&(e===2&&b!==2||e!==1&&b===1||!V&&e===3&&b!==2||!V&&b===3&&e!==1)}function Nr(Nt,e,o,b,V){let Q=0;if(V!==0){const Se=ji.LC(Nt);if(Se!==-1){for(let Ye=0;Ye<Se;Ye++){const rt=Nt.charCodeAt(Ye)===9?kl(Q,e):1;Q+=rt}const Ae=V===3?2:V===2?1:0;for(let Ye=0;Ye<Ae;Ye++){const rt=kl(Q,e);Q+=rt}Q+b>o&&(Q=0)}}return Q}var Fl;const Xr=(Fl=window.trustedTypes)===null||Fl===void 0?void 0:Fl.createPolicy("domLineBreaksComputer",{createHTML:Nt=>Nt});class Kl{static create(){return new Kl}constructor(){}createLineBreaksComputer(e,o,b,V,Q){const Se=[],Ae=[];return{addRequest:(Ye,rt,st)=>{Se.push(Ye),Ae.push(rt)},finalize:()=>Dc(Se,e,o,b,V,Q,Ae)}}}function Dc(Nt,e,o,b,V,Q,Se){var Ae;function Ye($i){const Xn=Se[$i];if(Xn){const Un=ni.gk.applyInjectedText(Nt[$i],Xn),Gn=Xn.map(Ks=>Ks.options),rs=Xn.map(Ks=>Ks.column-1);return new ws(rs,Gn,[Un.length],[],0)}else return null}if(b===-1){const $i=[];for(let Xn=0,Un=Nt.length;Xn<Un;Xn++)$i[Xn]=Ye(Xn);return $i}const rt=Math.round(b*e.typicalHalfwidthCharacterWidth),vt=Math.round(o*(V===3?2:V===2?1:0)),Ht=Math.ceil(e.spaceWidth*vt),Tt=document.createElement("div");(0,bn.N)(Tt,e);const ei=new Ts.HT(1e4),ai=[],di=[],bi=[],Ii=[],Bi=[];for(let $i=0;$i<Nt.length;$i++){const Xn=ni.gk.applyInjectedText(Nt[$i],Se[$i]);let Un=0,Gn=0,rs=rt;if(V!==0)if(Un=ji.LC(Xn),Un===-1)Un=0;else{for(let Us=0;Us<Un;Us++){const $o=Xn.charCodeAt(Us)===9?o-Gn%o:1;Gn+=$o}const sr=Math.ceil(e.spaceWidth*Gn);sr+e.typicalFullwidthCharacterWidth>rt?(Un=0,Gn=0):rs=rt-sr}const Ks=Xn.substr(Un),Jn=pl(Ks,Gn,o,rs,ei,Ht);ai[$i]=Un,di[$i]=Gn,bi[$i]=Ks,Ii[$i]=Jn[0],Bi[$i]=Jn[1]}const nn=ei.build(),Yi=(Ae=Xr==null?void 0:Xr.createHTML(nn))!==null&&Ae!==void 0?Ae:nn;Tt.innerHTML=Yi,Tt.style.position="absolute",Tt.style.top="10000",Q==="keepAll"?(Tt.style.wordBreak="keep-all",Tt.style.overflowWrap="anywhere"):(Tt.style.wordBreak="inherit",Tt.style.overflowWrap="break-word"),document.body.appendChild(Tt);const Sn=document.createRange(),Ln=Array.prototype.slice.call(Tt.children,0),En=[];for(let $i=0;$i<Nt.length;$i++){const Xn=Ln[$i],Un=xl(Sn,Xn,bi[$i],Ii[$i]);if(Un===null){En[$i]=Ye($i);continue}const Gn=ai[$i],rs=di[$i]+vt,Ks=Bi[$i],Jn=[];for(let io=0,jr=Un.length;io<jr;io++)Jn[io]=Ks[Un[io]];if(Gn!==0)for(let io=0,jr=Un.length;io<jr;io++)Un[io]+=Gn;let sr,Us;const $o=Se[$i];$o?(sr=$o.map(io=>io.options),Us=$o.map(io=>io.column-1)):(sr=null,Us=null),En[$i]=new ws(Us,sr,Un,Jn,rs)}return document.body.removeChild(Tt),En}function pl(Nt,e,o,b,V,Q){if(Q!==0){const Ht=String(Q);V.appendString('<div style="text-indent: -'),V.appendString(Ht),V.appendString("px; padding-left: "),V.appendString(Ht),V.appendString("px; box-sizing: border-box; width:")}else V.appendString('<div style="width:');V.appendString(String(b)),V.appendString('px;">');const Se=Nt.length;let Ae=e,Ye=0;const rt=[],st=[];let vt=0<Se?Nt.charCodeAt(0):0;V.appendString("<span>");for(let Ht=0;Ht<Se;Ht++){Ht!==0&&Ht%16384===0&&V.appendString("</span><span>"),rt[Ht]=Ye,st[Ht]=Ae;const Tt=vt;vt=Ht+1<Se?Nt.charCodeAt(Ht+1):0;let ei=1,ai=1;switch(Tt){case 9:ei=o-Ae%o,ai=ei;for(let di=1;di<=ei;di++)di<ei?V.appendCharCode(160):V.appendASCIICharCode(32);break;case 32:vt===32?V.appendCharCode(160):V.appendASCIICharCode(32);break;case 60:V.appendString("&lt;");break;case 62:V.appendString("&gt;");break;case 38:V.appendString("&amp;");break;case 0:V.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:V.appendCharCode(65533);break;default:ji.K7(Tt)&&ai++,Tt<32?V.appendCharCode(9216+Tt):V.appendCharCode(Tt)}Ye+=ei,Ae+=ai}return V.appendString("</span>"),rt[Nt.length]=Ye,st[Nt.length]=Ae,V.appendString("</div>"),[rt,st]}function xl(Nt,e,o,b){if(o.length<=1)return null;const V=Array.prototype.slice.call(e.children,0),Q=[];try{Il(Nt,V,b,0,null,o.length-1,null,Q)}catch(Se){return console.log(Se),null}return Q.length===0?null:(Q.push(o.length),Q)}function Il(Nt,e,o,b,V,Q,Se,Ae){if(b===Q||(V=V||$l(Nt,e,o[b],o[b+1]),Se=Se||$l(Nt,e,o[Q],o[Q+1]),Math.abs(V[0].top-Se[0].top)<=.1))return;if(b+1===Q){Ae.push(Q);return}const Ye=b+(Q-b)/2|0,rt=$l(Nt,e,o[Ye],o[Ye+1]);Il(Nt,e,o,b,V,Ye,rt,Ae),Il(Nt,e,o,Ye,rt,Q,Se,Ae)}function $l(Nt,e,o,b){return Nt.setStart(e[o/16384|0].firstChild,o%16384),Nt.setEnd(e[b/16384|0].firstChild,b%16384),Nt.getClientRects()}var Gl=i(61958),Ec=i(64603),xc=i(35921);class Zl extends p.JT{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new p.b2),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,o,b){this._editor=e,this._instantiationService=b;for(const V of o){if(this._pending.has(V.id)){(0,E.dL)(new Error(`Cannot have two contributions with the same id ${V.id}`));continue}this._pending.set(V.id,V)}this._instantiateSome(0),this._register((0,Pn.To)(()=>{this._instantiateSome(1)})),this._register((0,Pn.To)(()=>{this._instantiateSome(2)})),this._register((0,Pn.To)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[o,b]of this._instances)typeof b.saveViewState=="function"&&(e[o]=b.saveViewState());return e}restoreViewState(e){for(const[o,b]of this._instances)typeof b.restoreViewState=="function"&&b.restoreViewState(e[o])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,Pn.To)(()=>{this._instantiateSome(1)},50))}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const o=this._findPendingContributionsByInstantiation(e);for(const b of o)this._instantiateById(b.id)}_findPendingContributionsByInstantiation(e){const o=[];for(const[,b]of this._pending)b.instantiation===e&&o.push(b);return o}_instantiateById(e){const o=this._pending.get(e);if(o){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const b=this._instantiationService.createInstance(o.ctor,this._editor);this._instances.set(o.id,b),typeof b.restoreViewState=="function"&&o.instantiation!==0&&console.warn(`Editor contribution '${o.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(b){(0,E.dL)(b)}}}}var Ic=function(Nt,e,o,b){var V=arguments.length,Q=V<3?e:b===null?b=Object.getOwnPropertyDescriptor(e,o):b,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(Nt,e,o,b);else for(var Ae=Nt.length-1;Ae>=0;Ae--)(Se=Nt[Ae])&&(Q=(V<3?Se(Q):V>3?Se(e,o,Q):Se(e,o))||Q);return V>3&&Q&&Object.defineProperty(e,o,Q),Q},ba=function(Nt,e){return function(o,b){e(o,b,Nt)}},lc=function(Nt,e,o,b){function V(Q){return Q instanceof o?Q:new o(function(Se){Se(Q)})}return new(o||(o=Promise))(function(Q,Se){function Ae(st){try{rt(b.next(st))}catch(vt){Se(vt)}}function Ye(st){try{rt(b.throw(st))}catch(vt){Se(vt)}}function rt(st){st.done?Q(st.value):V(st.value).then(Ae,Ye)}rt((b=b.apply(Nt,e||[])).next())})};let Yl=0;class Bl{constructor(e,o,b,V,Q,Se){this.model=e,this.viewModel=o,this.view=b,this.hasRealView=V,this.listenersToRemove=Q,this.attachedView=Se}dispose(){(0,p.B9)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let cc=class Hc extends p.JT{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(e,o,b,V,Q,Se,Ae,Ye,rt,st,vt,Ht){super(),this.languageConfigurationService=vt,this._deliveryQueue=new R.F3,this._contributions=this._register(new Zl),this._onDidDispose=this._register(new R.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Ql({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Ql({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new nr(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new nr(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new nr(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new nr(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new nr(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new nr(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),Q.willCreateCodeEditor();const Tt=Object.assign({},o);this._domElement=e,this._overflowWidgetsDomNode=Tt.overflowWidgetsDomNode,delete Tt.overflowWidgetsDomNode,this._id=++Yl,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=b.telemetryData,this._configuration=this._register(this._createConfiguration(b.isSimpleWidget||!1,Tt,st)),this._register(this._configuration.onDidChange(di=>{this._onDidChangeConfiguration.fire(di);const bi=this._configuration.options;if(di.hasChanged(139)){const Ii=bi.get(139);this._onDidLayoutChange.fire(Ii)}})),this._contextKeyService=this._register(Ae.createScoped(this._domElement)),this._notificationService=rt,this._codeEditorService=Q,this._commandService=Se,this._themeService=Ye,this._register(new Uc(this,this._contextKeyService)),this._register(new Ta(this,this._contextKeyService,Ht)),this._instantiationService=V.createChild(new gl.y([xa.i6,this._contextKeyService])),this._modelData=null,this._focusTracker=new dc(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let ei;Array.isArray(b.contributions)?ei=b.contributions:ei=B.Uc.getEditorContributions(),this._contributions.initialize(this,ei,this._instantiationService);for(const di of B.Uc.getEditorActions()){if(this._actions.has(di.id)){(0,E.dL)(new Error(`Cannot have two actions with the same id ${di.id}`));continue}const bi=new ta.p(di.id,di.label,di.alias,(0,Si.f6)(di.precondition),()=>this._instantiationService.invokeFunction(Ii=>Promise.resolve(di.runEditorCommand(Ii,this,null))),this._contextKeyService);this._actions.set(bi.id,bi)}const ai=()=>!this._configuration.options.get(87)&&this._configuration.options.get(34).enabled;this._register(new M.eg(this._domElement,{onDragEnter:()=>{},onDragOver:di=>{if(!ai())return;const bi=this.getTargetAtClientPoint(di.clientX,di.clientY);bi!=null&&bi.position&&this.showDropIndicatorAt(bi.position)},onDrop:di=>lc(this,void 0,void 0,function*(){if(!ai()||(this.removeDropIndicator(),!di.dataTransfer))return;const bi=this.getTargetAtClientPoint(di.clientX,di.clientY);bi!=null&&bi.position&&this._onDropIntoEditor.fire({position:bi.position,event:di})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var o;(o=this._modelData)===null||o===void 0||o.view.writeScreenReaderContent(e)}_createConfiguration(e,o,b){return new z(e,o,this._domElement,b)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Or.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Gl.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(125),e):null}getValue(e=null){if(!this._modelData)return"";const o=!!(e&&e.preserveBOM);let b=0;return e&&e.lineEnding&&e.lineEnding===`
`?b=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(b=2),this._modelData.model.getValue(b,o)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const o=e;if(this._modelData===null&&o===null||this._modelData&&this._modelData.model===o)return;const b=this.hasTextFocus(),V=this._detachModel();this._attachModel(o),b&&this.hasModel()&&this.focus();const Q={oldModelUrl:V?V.uri:null,newModelUrl:o?o.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Q),this._postDetachModelCleanup(V),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const o=this._decorationTypeSubtypes[e];for(const b in o)this._removeDecorationType(e+"-"+b)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,o,b,V){const Q=e.model.validatePosition({lineNumber:o,column:b}),Se=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Q);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Se.lineNumber,V)}getTopForLineNumber(e,o=!1){return this._modelData?Hc._getVerticalOffsetForPosition(this._modelData,e,1,o):-1}getTopForPosition(e,o){return this._modelData?Hc._getVerticalOffsetForPosition(this._modelData,e,o,!1):-1}static _getVerticalOffsetForPosition(e,o,b,V=!1){const Q=e.model.validatePosition({lineNumber:o,column:b}),Se=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Q);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(Se.lineNumber,V)}getBottomForLineNumber(e,o=!1){return this._modelData?Hc._getVerticalOffsetAfterPosition(this._modelData,e,1,o):-1}setHiddenAreas(e,o){var b;(b=this._modelData)===null||b===void 0||b.viewModel.setHiddenAreas(e.map(V=>Me.e.lift(V)),o)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const o=this._modelData.model.validatePosition(e),b=this._modelData.model.getOptions().tabSize;return qe.i.visibleColumnFromColumn(this._modelData.model.getLineContent(o.lineNumber),o.column,b)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,o="api"){if(this._modelData){if(!me.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,o,b,V){if(!this._modelData)return;if(!Me.e.isIRange(e))throw new Error("Invalid arguments");const Q=this._modelData.model.validateRange(e),Se=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Q);this._modelData.viewModel.revealRange("api",b,Se,o,V)}revealLine(e,o=0){this._revealLine(e,0,o)}revealLineInCenter(e,o=0){this._revealLine(e,1,o)}revealLineInCenterIfOutsideViewport(e,o=0){this._revealLine(e,2,o)}revealLineNearTop(e,o=0){this._revealLine(e,5,o)}_revealLine(e,o,b){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Me.e(e,1,e,1),o,!1,b)}revealPosition(e,o=0){this._revealPosition(e,0,!0,o)}revealPositionInCenter(e,o=0){this._revealPosition(e,1,!0,o)}revealPositionInCenterIfOutsideViewport(e,o=0){this._revealPosition(e,2,!0,o)}revealPositionNearTop(e,o=0){this._revealPosition(e,5,!0,o)}_revealPosition(e,o,b,V){if(!me.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Me.e(e.lineNumber,e.column,e.lineNumber,e.column),o,b,V)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,o="api"){const b=ee.Y.isISelection(e),V=Me.e.isIRange(e);if(!b&&!V)throw new Error("Invalid arguments");if(b)this._setSelectionImpl(e,o);else if(V){const Q={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(Q,o)}}_setSelectionImpl(e,o){if(!this._modelData)return;const b=new ee.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(o,[b])}revealLines(e,o,b=0){this._revealLines(e,o,0,b)}revealLinesInCenter(e,o,b=0){this._revealLines(e,o,1,b)}revealLinesInCenterIfOutsideViewport(e,o,b=0){this._revealLines(e,o,2,b)}revealLinesNearTop(e,o,b=0){this._revealLines(e,o,5,b)}_revealLines(e,o,b,V){if(typeof e!="number"||typeof o!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Me.e(e,1,o,1),b,!1,V)}revealRange(e,o=0,b=!1,V=!0){this._revealRange(e,b?1:0,V,o)}revealRangeInCenter(e,o=0){this._revealRange(e,1,!0,o)}revealRangeInCenterIfOutsideViewport(e,o=0){this._revealRange(e,2,!0,o)}revealRangeNearTop(e,o=0){this._revealRange(e,5,!0,o)}revealRangeNearTopIfOutsideViewport(e,o=0){this._revealRange(e,6,!0,o)}revealRangeAtTop(e,o=0){this._revealRange(e,3,!0,o)}_revealRange(e,o,b,V){if(!Me.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Me.e.lift(e),o,b,V)}setSelections(e,o="api",b=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let V=0,Q=e.length;V<Q;V++)if(!ee.Y.isISelection(e[V]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,e,b)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},o)}}setScrollTop(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},o)}}setScrollPosition(e,o=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,o)}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),o=this._modelData.viewModel.saveCursorState(),b=this._modelData.viewModel.saveState();return{cursorState:o,viewState:b,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const o=e;if(o&&o.cursorState&&o.viewState){const b=o.cursorState;Array.isArray(b)?b.length>0&&this._modelData.viewModel.restoreCursorState(b):this._modelData.viewModel.restoreCursorState([b]),this._contributions.restoreViewState(o.contributionsState||{});const V=this._modelData.viewModel.reduceRestoreState(o.viewState);this._modelData.view.restoreState(V)}}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(o=>o.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,o,b){switch(b=b||{},o){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const Q=b;this._type(e,Q.text||"");return}case"replacePreviousChar":{const Q=b;this._compositionType(e,Q.text||"",Q.replaceCharCnt||0,0,0);return}case"compositionType":{const Q=b;this._compositionType(e,Q.text||"",Q.replacePrevCharCnt||0,Q.replaceNextCharCnt||0,Q.positionDelta||0);return}case"paste":{const Q=b;this._paste(e,Q.text||"",Q.pasteOnNewLine||!1,Q.multicursorText||null,Q.mode||null);return}case"cut":this._cut(e);return}const V=this.getAction(o);if(V){Promise.resolve(V.run(b)).then(void 0,E.dL);return}this._modelData&&(this._triggerEditorCommand(e,o,b)||this._triggerCommand(o,b))}_triggerCommand(e,o){this._commandService.executeCommand(e,o)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,o){!this._modelData||o.length===0||(e==="keyboard"&&this._onWillType.fire(o),this._modelData.viewModel.type(o,e),e==="keyboard"&&this._onDidType.fire(o))}_compositionType(e,o,b,V,Q){this._modelData&&this._modelData.viewModel.compositionType(o,b,V,Q,e)}_paste(e,o,b,V,Q){if(!this._modelData||o.length===0)return;const Se=this._modelData.viewModel,Ae=Se.getSelection().getStartPosition();Se.paste(o,b,V,e);const Ye=Se.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Me.e(Ae.lineNumber,Ae.column,Ye.lineNumber,Ye.column),languageId:Q})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,o,b){const V=B.Uc.getEditorCommand(o);return V?(b=b||{},b.source=e,this._instantiationService.invokeFunction(Q=>{Promise.resolve(V.runEditorCommand(Q,this,b)).then(void 0,E.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(87)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(87)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,o,b){if(!this._modelData||this._configuration.options.get(87))return!1;let V;return b?Array.isArray(b)?V=()=>b:V=b:V=()=>null,this._modelData.viewModel.executeEdits(e,o,V),!0}executeCommand(e,o){this._modelData&&this._modelData.viewModel.executeCommand(o,e)}executeCommands(e,o){this._modelData&&this._modelData.viewModel.executeCommands(o,e)}createDecorationsCollection(e){return new jc(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,x.$J)(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,(0,x.$J)(this._configuration.options)):null}deltaDecorations(e,o){return this._modelData?e.length===0&&o.length===0?e:this._modelData.model.deltaDecorations(e,o,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(o=>{o.deltaDecorations(e,[])})}removeDecorationsByType(e){const o=this._decorationTypeKeysToIds[e];o&&this.deltaDecorations(o,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(139)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const o={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(o)}layoutContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const b=this._contentWidgets[o];b.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(b)}}removeContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const b=this._contentWidgets[o];delete this._contentWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(b)}}addOverlayWidget(e){const o={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(o)}layoutOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const b=this._overlayWidgets[o];b.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(b)}}removeOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const b=this._overlayWidgets[o];delete this._overlayWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(b)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,o){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,o)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const o=this._modelData.model.validatePosition(e),b=this._configuration.options,V=b.get(139),Q=Hc._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),Se=this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+V.glyphMarginWidth+V.lineNumbersWidth+V.decorationsWidth-this.getScrollLeft();return{top:Q,left:Se,height:b.get(64)}}getOffsetForColumn(e,o){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,o)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){(0,bn.N)(e,this._configuration.options.get(48))}setBanner(e,o){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?o:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const o=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const b=e.onBeforeAttached(),V=new Ea(this._id,this._configuration,e,Kl.create(),Ia.create(this._configuration.options),Ae=>M.jL(Ae),this.languageConfigurationService,this._themeService,b);o.push(e.onWillDispose(()=>this.setModel(null))),o.push(V.onEvent(Ae=>{switch(Ae.kind){case 0:this._onDidContentSizeChange.fire(Ae);break;case 1:this._editorTextFocus.setValue(Ae.hasFocus);break;case 2:this._onDidScrollChange.fire(Ae);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(Ae.reachedMaxCursorCount){const vt=this.getOption(77),Ht=A.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",vt);this._notificationService.prompt(Xs.zb.Warning,Ht,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:A.NC("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const Ye=[];for(let vt=0,Ht=Ae.selections.length;vt<Ht;vt++)Ye[vt]=Ae.selections[vt].getPosition();const rt={position:Ye[0],secondaryPositions:Ye.slice(1),reason:Ae.reason,source:Ae.source};this._onDidChangeCursorPosition.fire(rt);const st={selection:Ae.selections[0],secondarySelections:Ae.selections.slice(1),modelVersionId:Ae.modelVersionId,oldSelections:Ae.oldSelections,oldModelVersionId:Ae.oldModelVersionId,source:Ae.source,reason:Ae.reason};this._onDidChangeCursorSelection.fire(st);break}case 7:this._onDidChangeModelDecorations.fire(Ae.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(Ae.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Ae.event);break;case 10:this._onDidChangeModelContent.fire(Ae.event);break;case 11:this._onDidChangeModelOptions.fire(Ae.event);break;case 12:this._onDidChangeModelTokens.fire(Ae.event);break}}));const[Q,Se]=this._createView(V);if(Se){this._domElement.appendChild(Q.domNode.domNode);let Ae=Object.keys(this._contentWidgets);for(let Ye=0,rt=Ae.length;Ye<rt;Ye++){const st=Ae[Ye];Q.addContentWidget(this._contentWidgets[st])}Ae=Object.keys(this._overlayWidgets);for(let Ye=0,rt=Ae.length;Ye<rt;Ye++){const st=Ae[Ye];Q.addOverlayWidget(this._overlayWidgets[st])}Q.render(!1,!0),Q.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Bl(e,V,Q,Se,o,b)}_createView(e){let o;this.isSimpleWidget?o={paste:(Q,Se,Ae,Ye)=>{this._paste("keyboard",Q,Se,Ae,Ye)},type:Q=>{this._type("keyboard",Q)},compositionType:(Q,Se,Ae,Ye)=>{this._compositionType("keyboard",Q,Se,Ae,Ye)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:o={paste:(Q,Se,Ae,Ye)=>{const rt={text:Q,pasteOnNewLine:Se,multicursorText:Ae,mode:Ye};this._commandService.executeCommand("paste",rt)},type:Q=>{const Se={text:Q};this._commandService.executeCommand("type",Se)},compositionType:(Q,Se,Ae,Ye)=>{if(Ae||Ye){const rt={text:Q,replacePrevCharCnt:Se,replaceNextCharCnt:Ae,positionDelta:Ye};this._commandService.executeCommand("compositionType",rt)}else{const rt={text:Q,replaceCharCnt:Se};this._commandService.executeCommand("replacePreviousChar",rt)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const b=new hs(e.coordinatesConverter);return b.onKeyDown=Q=>this._onKeyDown.fire(Q),b.onKeyUp=Q=>this._onKeyUp.fire(Q),b.onContextMenu=Q=>this._onContextMenu.fire(Q),b.onMouseMove=Q=>this._onMouseMove.fire(Q),b.onMouseLeave=Q=>this._onMouseLeave.fire(Q),b.onMouseDown=Q=>this._onMouseDown.fire(Q),b.onMouseUp=Q=>this._onMouseUp.fire(Q),b.onMouseDrag=Q=>this._onMouseDrag.fire(Q),b.onMouseDrop=Q=>this._onMouseDrop.fire(Q),b.onMouseDropCanceled=Q=>this._onMouseDropCanceled.fire(Q),b.onMouseWheel=Q=>this._onMouseWheel.fire(Q),[new Do(o,this._configuration,this._themeService.getColorTheme(),e,b,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,o=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),o&&this._domElement.contains(o)&&this._domElement.removeChild(o),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const o=[{range:new Me.e(e.lineNumber,e.column,e.lineNumber,e.column),options:Hc.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(o),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};cc.dropIntoEditorDecorationOptions=fr.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),cc=Ic([ba(3,Al.TG),ba(4,Y.$),ba(5,va.H),ba(6,xa.i6),ba(7,ms.XE),ba(8,Xs.lT),ba(9,U.F),ba(10,Ec.c_),ba(11,xc.p)],cc);class Ql extends p.JT{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new R.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new R.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const o=e?2:1;this._value!==o&&(this._value=o,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class nr extends R.Q5{constructor(e,o){super({deliveryQueue:o}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class Uc extends p.JT{constructor(e,o){super(),this._editor=e,o.createKey("editorId",e.getId()),this._editorSimpleInput=Is.u.editorSimpleInput.bindTo(o),this._editorFocus=Is.u.focus.bindTo(o),this._textInputFocus=Is.u.textInputFocus.bindTo(o),this._editorTextFocus=Is.u.editorTextFocus.bindTo(o),this._editorTabMovesFocus=Is.u.tabMovesFocus.bindTo(o),this._editorReadonly=Is.u.readOnly.bindTo(o),this._inDiffEditor=Is.u.inDiffEditor.bindTo(o),this._editorColumnSelection=Is.u.columnSelection.bindTo(o),this._hasMultipleSelections=Is.u.hasMultipleSelections.bindTo(o),this._hasNonEmptySelection=Is.u.hasNonEmptySelection.bindTo(o),this._canUndo=Is.u.canUndo.bindTo(o),this._canRedo=Is.u.canRedo.bindTo(o),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(O.n.onDidChangeTabFocus(()=>this._editorTabMovesFocus.set(O.n.getTabFocusMode("editorFocus")))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(O.n.getTabFocusMode("editorFocus")),this._editorReadonly.set(e.get(87)),this._inDiffEditor.set(e.get(59)),this._editorColumnSelection.set(e.get(20))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(o=>!o.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class Ta extends p.JT{constructor(e,o,b){super(),this._editor=e,this._contextKeyService=o,this._languageFeaturesService=b,this._langId=Is.u.languageId.bindTo(o),this._hasCompletionItemProvider=Is.u.hasCompletionItemProvider.bindTo(o),this._hasCodeActionsProvider=Is.u.hasCodeActionsProvider.bindTo(o),this._hasCodeLensProvider=Is.u.hasCodeLensProvider.bindTo(o),this._hasDefinitionProvider=Is.u.hasDefinitionProvider.bindTo(o),this._hasDeclarationProvider=Is.u.hasDeclarationProvider.bindTo(o),this._hasImplementationProvider=Is.u.hasImplementationProvider.bindTo(o),this._hasTypeDefinitionProvider=Is.u.hasTypeDefinitionProvider.bindTo(o),this._hasHoverProvider=Is.u.hasHoverProvider.bindTo(o),this._hasDocumentHighlightProvider=Is.u.hasDocumentHighlightProvider.bindTo(o),this._hasDocumentSymbolProvider=Is.u.hasDocumentSymbolProvider.bindTo(o),this._hasReferenceProvider=Is.u.hasReferenceProvider.bindTo(o),this._hasRenameProvider=Is.u.hasRenameProvider.bindTo(o),this._hasSignatureHelpProvider=Is.u.hasSignatureHelpProvider.bindTo(o),this._hasInlayHintsProvider=Is.u.hasInlayHintsProvider.bindTo(o),this._hasDocumentFormattingProvider=Is.u.hasDocumentFormattingProvider.bindTo(o),this._hasDocumentSelectionFormattingProvider=Is.u.hasDocumentSelectionFormattingProvider.bindTo(o),this._hasMultipleDocumentFormattingProvider=Is.u.hasMultipleDocumentFormattingProvider.bindTo(o),this._hasMultipleDocumentSelectionFormattingProvider=Is.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),this._isInWalkThrough=Is.u.isInWalkThroughSnippet.bindTo(o);const V=()=>this._update();this._register(e.onDidChangeModel(V)),this._register(e.onDidChangeModelLanguage(V)),this._register(b.completionProvider.onDidChange(V)),this._register(b.codeActionProvider.onDidChange(V)),this._register(b.codeLensProvider.onDidChange(V)),this._register(b.definitionProvider.onDidChange(V)),this._register(b.declarationProvider.onDidChange(V)),this._register(b.implementationProvider.onDidChange(V)),this._register(b.typeDefinitionProvider.onDidChange(V)),this._register(b.hoverProvider.onDidChange(V)),this._register(b.documentHighlightProvider.onDidChange(V)),this._register(b.documentSymbolProvider.onDidChange(V)),this._register(b.referenceProvider.onDidChange(V)),this._register(b.renameProvider.onDidChange(V)),this._register(b.documentFormattingEditProvider.onDidChange(V)),this._register(b.documentRangeFormattingEditProvider.onDidChange(V)),this._register(b.signatureHelpProvider.onDidChange(V)),this._register(b.inlayHintsProvider.onDidChange(V)),V()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===l.lg.walkThroughSnippet)})}}class dc extends p.JT{constructor(e){super(),this._onChange=this._register(new R.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(M.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class jc{get length(){return this._decorationIds.length}constructor(e,o){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(o)&&o.length>0&&this.set(o)}onDidChange(e,o,b){return this._editor.onDidChangeModelDecorations(V=>{this._isChangingDecorations||e.call(o,V)},b)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),o=[];for(const b of this._decorationIds){const V=e.getDecorationRange(b);V&&o.push(V)}return o}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(o=>{this._decorationIds=o.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}}}const la=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ca=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Xl(Nt){return la+encodeURIComponent(Nt.toString())+ca}const Jl=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Nc=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ql(Nt){return Jl+encodeURIComponent(Nt.toString())+Nc}(0,ms.Ic)((Nt,e)=>{const o=Nt.getColor(us.lXJ);o&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Xl(o)}") repeat-x bottom left; }`);const b=Nt.getColor(us.uoC);b&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Xl(b)}") repeat-x bottom left; }`);const V=Nt.getColor(us.c63);V&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Xl(V)}") repeat-x bottom left; }`);const Q=Nt.getColor(us.Dut);Q&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ql(Q)}") no-repeat bottom left; }`);const Se=Nt.getColor(ki.zu);Se&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Se.rgba.a}; }`)})},77957:function(Ot,He,i){"use strict";i.d(He,{H:function(){return n}});var m=i(23127),B=i(5603),f=i(39143),_=i(80793),v=i(76826),A=i(44333),M=i(97968),E=i(58566),R=i(18708),p=i(64603),l=i(35921),d=function(a,C,D,u){var S=arguments.length,w=S<3?C:u===null?u=Object.getOwnPropertyDescriptor(C,D):u,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(a,C,D,u);else for(var N=a.length-1;N>=0;N--)(L=a[N])&&(w=(S<3?L(w):S>3?L(C,D,w):L(C,D))||w);return S>3&&w&&Object.defineProperty(C,D,w),w},g=function(a,C){return function(D,u){C(D,u,a)}};let n=class extends f.Gm{constructor(C,D,u,S,w,L,N,O,x,T,W,U,K){super(C,Object.assign(Object.assign({},S.getRawOptions()),{overflowWidgetsDomNode:S.getOverflowWidgetsDomNode()}),u,w,L,N,O,x,T,W,U,K),this._parentEditor=S,this._overwriteOptions=D,super.updateOptions(this._overwriteOptions),this._register(S.onDidChangeConfiguration(G=>this._onParentConfigurationChanged(G)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(C){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(C){m.jB(this._overwriteOptions,C,!0),super.updateOptions(this._overwriteOptions)}};n=d([g(4,A.TG),g(5,B.$),g(6,_.H),g(7,v.i6),g(8,E.XE),g(9,M.lT),g(10,R.F),g(11,p.c_),g(12,l.p)],n)},38050:function(Ot,He,i){"use strict";i.d(He,{OY:function(){return f},Sj:function(){return _},T4:function(){return B},Uo:function(){return v},hP:function(){return A}});var m=i(57841);class B{constructor(E,R,p=!1){this._range=E,this._text=R,this.insertsAutoWhitespace=p}getEditOperations(E,R){R.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,R){const l=R.getInverseEditOperations()[0].range;return m.Y.fromPositions(l.getEndPosition())}}class f{constructor(E,R){this._range=E,this._text=R}getEditOperations(E,R){R.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,R){const l=R.getInverseEditOperations()[0].range;return m.Y.fromRange(l,0)}}class _{constructor(E,R,p=!1){this._range=E,this._text=R,this.insertsAutoWhitespace=p}getEditOperations(E,R){R.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,R){const l=R.getInverseEditOperations()[0].range;return m.Y.fromPositions(l.getStartPosition())}}class v{constructor(E,R,p,l,d=!1){this._range=E,this._text=R,this._columnDeltaOffset=l,this._lineNumberDeltaOffset=p,this.insertsAutoWhitespace=d}getEditOperations(E,R){R.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,R){const l=R.getInverseEditOperations()[0].range;return m.Y.fromPositions(l.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class A{constructor(E,R,p,l=!1){this._range=E,this._text=R,this._initialSelection=p,this._forceMoveMarkers=l,this._selectionId=null}getEditOperations(E,R){R.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=R.trackSelection(this._initialSelection)}computeCursorState(E,R){return R.getTrackedSelection(this._selectionId)}}},8453:function(Ot,He,i){"use strict";i.d(He,{U:function(){return l}});var m=i(17416),B=i(61669),f=i(50038),_=i(57841),v=i(14),A=i(64603),M=function(d,g,n,a){var C=arguments.length,D=C<3?g:a===null?a=Object.getOwnPropertyDescriptor(g,n):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(d,g,n,a);else for(var S=d.length-1;S>=0;S--)(u=d[S])&&(D=(C<3?u(D):C>3?u(g,n,D):u(g,n))||D);return C>3&&D&&Object.defineProperty(g,n,D),D},E=function(d,g){return function(n,a){g(n,a,d)}};const R=Object.create(null);function p(d,g){if(g<=0)return"";R[d]||(R[d]=["",d]);const n=R[d];for(let a=n.length;a<=g;a++)n[a]=n[a-1]+d;return n[g]}let l=class Ru{static unshiftIndent(g,n,a,C,D){const u=B.i.visibleColumnFromColumn(g,n,a);if(D){const S=p(" ",C),L=B.i.prevIndentTabStop(u,C)/C;return p(S,L)}else{const S="	",L=B.i.prevRenderTabStop(u,a)/a;return p(S,L)}}static shiftIndent(g,n,a,C,D){const u=B.i.visibleColumnFromColumn(g,n,a);if(D){const S=p(" ",C),L=B.i.nextIndentTabStop(u,C)/C;return p(S,L)}else{const S="	",L=B.i.nextRenderTabStop(u,a)/a;return p(S,L)}}constructor(g,n,a){this._languageConfigurationService=a,this._opts=n,this._selection=g,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(g,n,a){this._useLastEditRangeForCursorEndPosition?g.addTrackedEditOperation(n,a):g.addEditOperation(n,a)}getEditOperations(g,n){const a=this._selection.startLineNumber;let C=this._selection.endLineNumber;this._selection.endColumn===1&&a!==C&&(C=C-1);const{tabSize:D,indentSize:u,insertSpaces:S}=this._opts,w=a===C;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(g.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let L=0,N=0;for(let O=a;O<=C;O++,L=N){N=0;const x=g.getLineContent(O);let T=m.LC(x);if(this._opts.isUnshift&&(x.length===0||T===0)||!w&&!this._opts.isUnshift&&x.length===0)continue;if(T===-1&&(T=x.length),O>1&&B.i.visibleColumnFromColumn(x,T+1,D)%u!==0&&g.tokenization.isCheapToTokenize(O-1)){const K=(0,v.A)(this._opts.autoIndent,g,new f.e(O-1,g.getLineMaxColumn(O-1),O-1,g.getLineMaxColumn(O-1)),this._languageConfigurationService);if(K){if(N=L,K.appendText)for(let G=0,z=K.appendText.length;G<z&&N<u&&K.appendText.charCodeAt(G)===32;G++)N++;K.removeText&&(N=Math.max(0,N-K.removeText));for(let G=0;G<N&&!(T===0||x.charCodeAt(T-1)!==32);G++)T--}}if(this._opts.isUnshift&&T===0)continue;let W;this._opts.isUnshift?W=Ru.unshiftIndent(x,T+1,D,u,S):W=Ru.shiftIndent(x,T+1,D,u,S),this._addEditOperation(n,new f.e(O,1,O,T+1),W),O===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=T+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&g.getLineLength(a)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const L=S?p(" ",u):"	";for(let N=a;N<=C;N++){const O=g.getLineContent(N);let x=m.LC(O);if(!(this._opts.isUnshift&&(O.length===0||x===0))&&!(!w&&!this._opts.isUnshift&&O.length===0)&&(x===-1&&(x=O.length),!(this._opts.isUnshift&&x===0)))if(this._opts.isUnshift){x=Math.min(x,u);for(let T=0;T<x;T++)if(O.charCodeAt(T)===9){x=T+1;break}this._addEditOperation(n,new f.e(N,1,N,x+1),"")}else this._addEditOperation(n,new f.e(N,1,N,1),L),N===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=n.trackSelection(this._selection)}computeCursorState(g,n){if(this._useLastEditRangeForCursorEndPosition){const C=n.getInverseEditOperations()[0];return new _.Y(C.range.endLineNumber,C.range.endColumn,C.range.endLineNumber,C.range.endColumn)}const a=n.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const C=this._selection.startColumn;return a.startColumn<=C?a:a.getDirection()===0?new _.Y(a.startLineNumber,C,a.endLineNumber,a.endColumn):new _.Y(a.endLineNumber,a.endColumn,a.startLineNumber,C)}return a}};l=M([E(2,A.c_)],l)},86689:function(Ot,He,i){"use strict";i.d(He,{Pe:function(){return d},ei:function(){return l},wk:function(){return A}});var m=i(70054),B=i(56318),f=i(26386),_=i(12326),v=i(6325);const A=Object.freeze({id:"editor",order:5,type:"object",title:f.NC("editorConfigurationTitle","Editor"),scope:5}),M=Object.assign(Object.assign({},A),{properties:{"editor.tabSize":{type:"number",default:B.D.tabSize,minimum:1,markdownDescription:f.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:f.NC("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:B.D.insertSpaces,markdownDescription:f.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:B.D.detectIndentation,markdownDescription:f.NC("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:B.D.trimAutoWhitespace,description:f.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:B.D.largeFileOptimizations,description:f.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:f.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[f.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),f.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),f.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:f.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[f.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),f.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),f.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:f.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:f.NC("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:f.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:f.NC("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:f.NC("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:f.NC("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only.")},"editor.language.brackets":{type:["array","null"],default:null,description:f.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:f.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:f.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:f.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:f.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:f.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:f.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:f.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:f.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:f.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:f.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:f.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:f.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[f.NC("wordWrap.off","Lines will never wrap."),f.NC("wordWrap.on","Lines will wrap at the viewport width."),f.NC("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["smart","experimental"],default:"smart",markdownEnumDescriptions:[f.NC("diffAlgorithm.smart","Uses the default diffing algorithm."),f.NC("diffAlgorithm.experimental","Uses an experimental diffing algorithm.")]}}});function E(n){return typeof n.type!="undefined"||typeof n.anyOf!="undefined"}for(const n of m.Bc){const a=n.schema;if(typeof a!="undefined")if(E(a))M.properties[`editor.${n.name}`]=a;else for(const C in a)Object.hasOwnProperty.call(a,C)&&(M.properties[C]=a[C])}let R=null;function p(){return R===null&&(R=Object.create(null),Object.keys(M.properties).forEach(n=>{R[n]=!0})),R}function l(n){return p()[`editor.${n}`]||!1}function d(n){return p()[`diffEditor.${n}`]||!1}v.B.as(_.IP.Configuration).registerConfiguration(M)},70054:function(Ot,He,i){"use strict";i.d(He,{$J:function(){return ve},Av:function(){return We},BH:function(){return $t},Bb:function(){return E},Bc:function(){return Pt},Bo:function(){return X},LJ:function(){return R},NY:function(){return L},O7:function(){return a},Zc:function(){return D},d2:function(){return K},gk:function(){return De},hL:function(){return Ct},n0:function(){return te},qt:function(){return it},rk:function(){return l},y0:function(){return M}});var m=i(26386),B=i(11138),f=i(52676),_=i(16308),v=i(23127),A=i(56318);const M=8;class E{constructor(Xe){this._values=Xe}hasChanged(Xe){return this._values[Xe]}}class R{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class p{constructor(Xe,Lt,Xt,zt){this.id=Xe,this.name=Lt,this.defaultValue=Xt,this.schema=zt}applyUpdate(Xe,Lt){return d(Xe,Lt)}compute(Xe,Lt,Xt){return Xt}}class l{constructor(Xe,Lt){this.newValue=Xe,this.didChange=Lt}}function d(Mt,Xe){if(typeof Mt!="object"||typeof Xe!="object"||!Mt||!Xe)return new l(Xe,Mt!==Xe);if(Array.isArray(Mt)||Array.isArray(Xe)){const Xt=Array.isArray(Mt)&&Array.isArray(Xe)&&_.fS(Mt,Xe);return new l(Xe,!Xt)}let Lt=!1;for(const Xt in Xe)if(Xe.hasOwnProperty(Xt)){const zt=d(Mt[Xt],Xe[Xt]);zt.didChange&&(Mt[Xt]=zt.newValue,Lt=!0)}return new l(Mt,Lt)}class g{constructor(Xe){this.schema=void 0,this.id=Xe,this.name="_never_",this.defaultValue=void 0}applyUpdate(Xe,Lt){return d(Xe,Lt)}validate(Xe){return this.defaultValue}}class n{constructor(Xe,Lt,Xt,zt){this.id=Xe,this.name=Lt,this.defaultValue=Xt,this.schema=zt}applyUpdate(Xe,Lt){return d(Xe,Lt)}validate(Xe){return typeof Xe=="undefined"?this.defaultValue:Xe}compute(Xe,Lt,Xt){return Xt}}function a(Mt,Xe){return typeof Mt=="undefined"?Xe:Mt==="false"?!1:Boolean(Mt)}class C extends n{constructor(Xe,Lt,Xt,zt=void 0){typeof zt!="undefined"&&(zt.type="boolean",zt.default=Xt),super(Xe,Lt,Xt,zt)}validate(Xe){return a(Xe,this.defaultValue)}}function D(Mt,Xe,Lt,Xt){if(typeof Mt=="undefined")return Xe;let zt=parseInt(Mt,10);return isNaN(zt)?Xe:(zt=Math.max(Lt,zt),zt=Math.min(Xt,zt),zt|0)}class u extends n{static clampedInt(Xe,Lt,Xt,zt){return D(Xe,Lt,Xt,zt)}constructor(Xe,Lt,Xt,zt,Fe,et=void 0){typeof et!="undefined"&&(et.type="integer",et.default=Xt,et.minimum=zt,et.maximum=Fe),super(Xe,Lt,Xt,et),this.minimum=zt,this.maximum=Fe}validate(Xe){return u.clampedInt(Xe,this.defaultValue,this.minimum,this.maximum)}}class S extends n{static clamp(Xe,Lt,Xt){return Xe<Lt?Lt:Xe>Xt?Xt:Xe}static float(Xe,Lt){if(typeof Xe=="number")return Xe;if(typeof Xe=="undefined")return Lt;const Xt=parseFloat(Xe);return isNaN(Xt)?Lt:Xt}constructor(Xe,Lt,Xt,zt,Fe){typeof Fe!="undefined"&&(Fe.type="number",Fe.default=Xt),super(Xe,Lt,Xt,Fe),this.validationFn=zt}validate(Xe){return this.validationFn(S.float(Xe,this.defaultValue))}}class w extends n{static string(Xe,Lt){return typeof Xe!="string"?Lt:Xe}constructor(Xe,Lt,Xt,zt=void 0){typeof zt!="undefined"&&(zt.type="string",zt.default=Xt),super(Xe,Lt,Xt,zt)}validate(Xe){return w.string(Xe,this.defaultValue)}}function L(Mt,Xe,Lt){return typeof Mt!="string"||Lt.indexOf(Mt)===-1?Xe:Mt}class N extends n{constructor(Xe,Lt,Xt,zt,Fe=void 0){typeof Fe!="undefined"&&(Fe.type="string",Fe.enum=zt,Fe.default=Xt),super(Xe,Lt,Xt,Fe),this._allowedValues=zt}validate(Xe){return L(Xe,this.defaultValue,this._allowedValues)}}class O extends p{constructor(Xe,Lt,Xt,zt,Fe,et,pt=void 0){typeof pt!="undefined"&&(pt.type="string",pt.enum=Fe,pt.default=zt),super(Xe,Lt,Xt,pt),this._allowedValues=Fe,this._convert=et}validate(Xe){return typeof Xe!="string"?this.defaultValue:this._allowedValues.indexOf(Xe)===-1?this.defaultValue:this._convert(Xe)}}function x(Mt){switch(Mt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class T extends p{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[m.NC("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached"),m.NC("accessibilitySupport.on","Optimize for usage with a Screen Reader"),m.NC("accessibilitySupport.off","Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:m.NC("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(Xe){switch(Xe){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Xe,Lt,Xt){return Xt===0?Xe.accessibilitySupport:Xt}}class W extends p{constructor(){const Xe={insertSpace:!0,ignoreEmptyLines:!0};super(21,"comments",Xe,{"editor.comments.insertSpace":{type:"boolean",default:Xe.insertSpace,description:m.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Xe.ignoreEmptyLines,description:m.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{insertSpace:a(Lt.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:a(Lt.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function U(Mt){switch(Mt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var K;(function(Mt){Mt[Mt.Line=1]="Line",Mt[Mt.Block=2]="Block",Mt[Mt.Underline=3]="Underline",Mt[Mt.LineThin=4]="LineThin",Mt[Mt.BlockOutline=5]="BlockOutline",Mt[Mt.UnderlineThin=6]="UnderlineThin"})(K||(K={}));function G(Mt){switch(Mt){case"line":return K.Line;case"block":return K.Block;case"underline":return K.Underline;case"line-thin":return K.LineThin;case"block-outline":return K.BlockOutline;case"underline-thin":return K.UnderlineThin}}class z extends g{constructor(){super(136)}compute(Xe,Lt,Xt){const zt=["monaco-editor"];return Lt.get(37)&&zt.push(Lt.get(37)),Xe.extraEditorClassName&&zt.push(Xe.extraEditorClassName),Lt.get(71)==="default"?zt.push("mouse-default"):Lt.get(71)==="copy"&&zt.push("mouse-copy"),Lt.get(106)&&zt.push("showUnused"),Lt.get(134)&&zt.push("showDeprecated"),zt.join(" ")}}class k extends C{constructor(){super(35,"emptySelectionClipboard",!0,{description:m.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Xe,Lt,Xt){return Xt&&Xe.emptySelectionClipboard}}class q extends p{constructor(){const Xe={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(39,"find",Xe,{"editor.find.cursorMoveOnType":{type:"boolean",default:Xe.cursorMoveOnType,description:m.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Xe.seedSearchStringFromSelection,enumDescriptions:[m.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),m.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),m.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:m.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Xe.autoFindInSelection,enumDescriptions:[m.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),m.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),m.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:m.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Xe.globalFindClipboard,description:m.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:B.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Xe.addExtraSpaceOnTop,description:m.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Xe.loop,description:m.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{cursorMoveOnType:a(Lt.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Xe.seedSearchStringFromSelection=="boolean"?Xe.seedSearchStringFromSelection?"always":"never":L(Lt.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Xe.autoFindInSelection=="boolean"?Xe.autoFindInSelection?"always":"never":L(Lt.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:a(Lt.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:a(Lt.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:a(Lt.loop,this.defaultValue.loop)}}}class te extends p{constructor(){super(49,"fontLigatures",te.OFF,{anyOf:[{type:"boolean",description:m.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:m.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:m.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Xe){return typeof Xe=="undefined"?this.defaultValue:typeof Xe=="string"?Xe==="false"?te.OFF:Xe==="true"?te.ON:Xe:Boolean(Xe)?te.ON:te.OFF}}te.OFF='"liga" off, "calt" off',te.ON='"liga" on, "calt" on';class X extends p{constructor(){super(52,"fontVariations",X.OFF,{anyOf:[{type:"boolean",description:m.NC("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:m.NC("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:m.NC("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Xe){return typeof Xe=="undefined"?this.defaultValue:typeof Xe=="string"?Xe==="false"?X.OFF:Xe==="true"?X.TRANSLATE:Xe:Boolean(Xe)?X.TRANSLATE:X.OFF}compute(Xe,Lt,Xt){return Xe.fontInfo.fontVariationSettings}}X.OFF="normal",X.TRANSLATE="translate";class j extends g{constructor(){super(48)}compute(Xe,Lt,Xt){return Xe.fontInfo}}class J extends n{constructor(){super(50,"fontSize",Ct.fontSize,{type:"number",minimum:6,maximum:100,default:Ct.fontSize,description:m.NC("fontSize","Controls the font size in pixels.")})}validate(Xe){const Lt=S.float(Xe,this.defaultValue);return Lt===0?Ct.fontSize:S.clamp(Lt,6,100)}compute(Xe,Lt,Xt){return Xe.fontInfo.fontSize}}class Y extends p{constructor(){super(51,"fontWeight",Ct.fontWeight,{anyOf:[{type:"number",minimum:Y.MINIMUM_VALUE,maximum:Y.MAXIMUM_VALUE,errorMessage:m.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Y.SUGGESTION_VALUES}],default:Ct.fontWeight,description:m.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Xe){return Xe==="normal"||Xe==="bold"?Xe:String(u.clampedInt(Xe,Ct.fontWeight,Y.MINIMUM_VALUE,Y.MAXIMUM_VALUE))}}Y.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Y.MINIMUM_VALUE=1,Y.MAXIMUM_VALUE=1e3;class ee extends p{constructor(){const Xe={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Lt={type:"string",enum:["peek","gotoAndPeek","goto"],default:Xe.multiple,enumDescriptions:[m.NC("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),m.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),m.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Xt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(56,"gotoLocation",Xe,{"editor.gotoLocation.multiple":{deprecationMessage:m.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:m.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:m.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.multipleDeclarations":Object.assign({description:m.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.multipleImplementations":Object.assign({description:m.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.multipleReferences":Object.assign({description:m.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Lt),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Xe.alternativeDefinitionCommand,enum:Xt,description:m.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Xe.alternativeTypeDefinitionCommand,enum:Xt,description:m.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Xe.alternativeDeclarationCommand,enum:Xt,description:m.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Xe.alternativeImplementationCommand,enum:Xt,description:m.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Xe.alternativeReferenceCommand,enum:Xt,description:m.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Xe){var Lt,Xt,zt,Fe,et;if(!Xe||typeof Xe!="object")return this.defaultValue;const pt=Xe;return{multiple:L(pt.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Lt=pt.multipleDefinitions)!==null&&Lt!==void 0?Lt:L(pt.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Xt=pt.multipleTypeDefinitions)!==null&&Xt!==void 0?Xt:L(pt.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(zt=pt.multipleDeclarations)!==null&&zt!==void 0?zt:L(pt.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Fe=pt.multipleImplementations)!==null&&Fe!==void 0?Fe:L(pt.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(et=pt.multipleReferences)!==null&&et!==void 0?et:L(pt.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:w.string(pt.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:w.string(pt.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:w.string(pt.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:w.string(pt.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:w.string(pt.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class fe extends p{constructor(){const Xe={enabled:!0,delay:300,sticky:!0,above:!0};super(58,"hover",Xe,{"editor.hover.enabled":{type:"boolean",default:Xe.enabled,description:m.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Xe.delay,minimum:0,maximum:1e4,description:m.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Xe.sticky,description:m.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Xe.above,description:m.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:a(Lt.enabled,this.defaultValue.enabled),delay:u.clampedInt(Lt.delay,this.defaultValue.delay,0,1e4),sticky:a(Lt.sticky,this.defaultValue.sticky),above:a(Lt.above,this.defaultValue.above)}}}class De extends g{constructor(){super(139)}compute(Xe,Lt,Xt){return De.computeLayout(Lt,{memory:Xe.memory,outerWidth:Xe.outerWidth,outerHeight:Xe.outerHeight,isDominatedByLongLines:Xe.isDominatedByLongLines,lineHeight:Xe.fontInfo.lineHeight,viewLineCount:Xe.viewLineCount,lineNumbersDigitCount:Xe.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Xe.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Xe.fontInfo.maxDigitWidth,pixelRatio:Xe.pixelRatio})}static computeContainedMinimapLineCount(Xe){const Lt=Xe.height/Xe.lineHeight,Xt=Math.floor(Xe.paddingTop/Xe.lineHeight);let zt=Math.floor(Xe.paddingBottom/Xe.lineHeight);Xe.scrollBeyondLastLine&&(zt=Math.max(zt,Lt-1));const Fe=(Xt+Xe.viewLineCount+zt)/(Xe.pixelRatio*Xe.height),et=Math.floor(Xe.viewLineCount/Fe);return{typicalViewportLineCount:Lt,extraLinesBeforeFirstLine:Xt,extraLinesBeyondLastLine:zt,desiredRatio:Fe,minimapLineCount:et}}static _computeMinimapLayout(Xe,Lt){const Xt=Xe.outerWidth,zt=Xe.outerHeight,Fe=Xe.pixelRatio;if(!Xe.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Fe*zt),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:zt};const et=Lt.stableMinimapLayoutInput,pt=et&&Xe.outerHeight===et.outerHeight&&Xe.lineHeight===et.lineHeight&&Xe.typicalHalfwidthCharacterWidth===et.typicalHalfwidthCharacterWidth&&Xe.pixelRatio===et.pixelRatio&&Xe.scrollBeyondLastLine===et.scrollBeyondLastLine&&Xe.paddingTop===et.paddingTop&&Xe.paddingBottom===et.paddingBottom&&Xe.minimap.enabled===et.minimap.enabled&&Xe.minimap.side===et.minimap.side&&Xe.minimap.size===et.minimap.size&&Xe.minimap.showSlider===et.minimap.showSlider&&Xe.minimap.renderCharacters===et.minimap.renderCharacters&&Xe.minimap.maxColumn===et.minimap.maxColumn&&Xe.minimap.scale===et.minimap.scale&&Xe.verticalScrollbarWidth===et.verticalScrollbarWidth&&Xe.isViewportWrapping===et.isViewportWrapping,It=Xe.lineHeight,kt=Xe.typicalHalfwidthCharacterWidth,yt=Xe.scrollBeyondLastLine,St=Xe.minimap.renderCharacters;let Gt=Fe>=2?Math.round(Xe.minimap.scale*2):Xe.minimap.scale;const ti=Xe.minimap.maxColumn,ri=Xe.minimap.size,li=Xe.minimap.side,gi=Xe.verticalScrollbarWidth,Pi=Xe.viewLineCount,Hi=Xe.remainingWidth,ji=Xe.isViewportWrapping,bn=St?2:3;let Rn=Math.floor(Fe*zt);const bs=Rn/Fe;let ms=!1,ki=!1,Vi=bn*Gt,Ki=Gt/Fe,es=1;if(ri==="fill"||ri==="fit"){const{typicalViewportLineCount:Ms,extraLinesBeforeFirstLine:Ss,extraLinesBeyondLastLine:ps,desiredRatio:oo,minimapLineCount:hs}=De.computeContainedMinimapLineCount({viewLineCount:Pi,scrollBeyondLastLine:yt,paddingTop:Xe.paddingTop,paddingBottom:Xe.paddingBottom,height:zt,lineHeight:It,pixelRatio:Fe});if(Pi/hs>1)ms=!0,ki=!0,Gt=1,Vi=1,Ki=Gt/Fe;else{let In=!1,Yn=Gt+1;if(ri==="fit"){const pi=Math.ceil((Ss+Pi+ps)*Vi);ji&&pt&&Hi<=Lt.stableFitRemainingWidth?(In=!0,Yn=Lt.stableFitMaxMinimapScale):In=pi>Rn}if(ri==="fill"||In){ms=!0;const pi=Gt;Vi=Math.min(It*Fe,Math.max(1,Math.floor(1/oo))),ji&&pt&&Hi<=Lt.stableFitRemainingWidth&&(Yn=Lt.stableFitMaxMinimapScale),Gt=Math.min(Yn,Math.max(1,Math.floor(Vi/bn))),Gt>pi&&(es=Math.min(2,Gt/pi)),Ki=Gt/Fe/es,Rn=Math.ceil(Math.max(Ms,Ss+Pi+ps)*Vi),ji?(Lt.stableMinimapLayoutInput=Xe,Lt.stableFitRemainingWidth=Hi,Lt.stableFitMaxMinimapScale=Gt):(Lt.stableMinimapLayoutInput=null,Lt.stableFitRemainingWidth=0)}}}const Ls=Math.floor(ti*Ki),ts=Math.min(Ls,Math.max(0,Math.floor((Hi-gi-2)*Ki/(kt+Ki)))+M);let Kn=Math.floor(Fe*ts);const Wn=Kn/Fe;Kn=Math.floor(Kn*es);const yn=St?1:2,en=li==="left"?0:Xt-ts-gi;return{renderMinimap:yn,minimapLeft:en,minimapWidth:ts,minimapHeightIsEditorHeight:ms,minimapIsSampling:ki,minimapScale:Gt,minimapLineHeight:Vi,minimapCanvasInnerWidth:Kn,minimapCanvasInnerHeight:Rn,minimapCanvasOuterWidth:Wn,minimapCanvasOuterHeight:bs}}static computeLayout(Xe,Lt){const Xt=Lt.outerWidth|0,zt=Lt.outerHeight|0,Fe=Lt.lineHeight|0,et=Lt.lineNumbersDigitCount|0,pt=Lt.typicalHalfwidthCharacterWidth,It=Lt.maxDigitWidth,kt=Lt.pixelRatio,yt=Lt.viewLineCount,St=Xe.get(131),Gt=St==="inherit"?Xe.get(130):St,ti=Gt==="inherit"?Xe.get(126):Gt,ri=Xe.get(129),li=Lt.isDominatedByLongLines,gi=Xe.get(55),Pi=Xe.get(65).renderType!==0,Hi=Xe.get(66),ji=Xe.get(100),bn=Xe.get(81),Rn=Xe.get(70),bs=Xe.get(98),ms=bs.verticalScrollbarSize,ki=bs.verticalHasArrows,Vi=bs.arrowSize,Ki=bs.horizontalScrollbarSize,es=Xe.get(41),Ls=Xe.get(105)!=="never";let ts=Xe.get(63);es&&Ls&&(ts+=16);let Kn=0;if(Pi){const ui=Math.max(et,Hi);Kn=Math.round(ui*It)}let Wn=0;gi&&(Wn=Fe);let yn=0,en=yn+Wn,Ms=en+Kn,Ss=Ms+ts;const ps=Xt-Wn-Kn-ts;let oo=!1,hs=!1,Ts=-1;Gt==="inherit"&&li?(oo=!0,hs=!0):ti==="on"||ti==="bounded"?hs=!0:ti==="wordWrapColumn"&&(Ts=ri);const In=De._computeMinimapLayout({outerWidth:Xt,outerHeight:zt,lineHeight:Fe,typicalHalfwidthCharacterWidth:pt,pixelRatio:kt,scrollBeyondLastLine:ji,paddingTop:bn.top,paddingBottom:bn.bottom,minimap:Rn,verticalScrollbarWidth:ms,viewLineCount:yt,remainingWidth:ps,isViewportWrapping:hs},Lt.memory||new R);In.renderMinimap!==0&&In.minimapLeft===0&&(yn+=In.minimapWidth,en+=In.minimapWidth,Ms+=In.minimapWidth,Ss+=In.minimapWidth);const Yn=ps-In.minimapWidth,pi=Math.max(1,Math.floor((Yn-ms-2)/pt)),ci=ki?Vi:0;return hs&&(Ts=Math.max(1,pi),ti==="bounded"&&(Ts=Math.min(Ts,ri))),{width:Xt,height:zt,glyphMarginLeft:yn,glyphMarginWidth:Wn,lineNumbersLeft:en,lineNumbersWidth:Kn,decorationsLeft:Ms,decorationsWidth:ts,contentLeft:Ss,contentWidth:Yn,minimap:In,viewportColumn:pi,isWordWrapMinified:oo,isViewportWrapping:hs,wrappingColumn:Ts,verticalScrollbarWidth:ms,horizontalScrollbarHeight:Ki,overviewRuler:{top:ci,width:ms,height:zt-2*ci,right:0}}}}class Ne extends p{constructor(){super(133,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[m.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),m.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:m.NC("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(Xe){return L(Xe,"simple",["simple","advanced"])}compute(Xe,Lt,Xt){return Lt.get(2)===2?"advanced":Xt}}class be extends p{constructor(){const Xe={enabled:!0};super(62,"lightbulb",Xe,{"editor.lightbulb.enabled":{type:"boolean",default:Xe.enabled,description:m.NC("codeActions","Enables the Code Action lightbulb in the editor.")}})}validate(Xe){return!Xe||typeof Xe!="object"?this.defaultValue:{enabled:a(Xe.enabled,this.defaultValue.enabled)}}}class xe extends p{constructor(){const Xe={enabled:!1,maxLineCount:5,defaultModel:"outlineModel"};super(110,"stickyScroll",Xe,{"editor.stickyScroll.enabled":{type:"boolean",default:Xe.enabled,description:m.NC("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Xe.maxLineCount,minimum:1,maximum:10,description:m.NC("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Xe.defaultModel,description:m.NC("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:a(Lt.enabled,this.defaultValue.enabled),maxLineCount:u.clampedInt(Lt.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:L(Lt.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"])}}}class Le extends p{constructor(){const Xe={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(135,"inlayHints",Xe,{"editor.inlayHints.enabled":{type:"string",default:Xe.enabled,description:m.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[m.NC("editor.inlayHints.on","Inlay hints are enabled"),m.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",B.dz?"Ctrl+Option":"Ctrl+Alt"),m.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",B.dz?"Ctrl+Option":"Ctrl+Alt"),m.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Xe.fontSize,markdownDescription:m.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Xe.fontFamily,markdownDescription:m.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Xe.padding,description:m.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return typeof Lt.enabled=="boolean"&&(Lt.enabled=Lt.enabled?"on":"off"),{enabled:L(Lt.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:u.clampedInt(Lt.fontSize,this.defaultValue.fontSize,0,100),fontFamily:w.string(Lt.fontFamily,this.defaultValue.fontFamily),padding:a(Lt.padding,this.defaultValue.padding)}}}class ue extends p{constructor(){super(63,"lineDecorationsWidth",10)}validate(Xe){return typeof Xe=="string"&&/^\d+(\.\d+)?ch$/.test(Xe)?-parseFloat(Xe.substring(0,Xe.length-2)):u.clampedInt(Xe,this.defaultValue,0,1e3)}compute(Xe,Lt,Xt){return Xt<0?u.clampedInt(-Xt*Xe.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Xt}}class re extends S{constructor(){super(64,"lineHeight",Ct.lineHeight,Xe=>S.clamp(Xe,0,150),{markdownDescription:m.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Xe,Lt,Xt){return Xe.fontInfo.lineHeight}}class _e extends p{constructor(){const Xe={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(70,"minimap",Xe,{"editor.minimap.enabled":{type:"boolean",default:Xe.enabled,description:m.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Xe.autohide,description:m.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[m.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),m.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),m.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Xe.size,description:m.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Xe.side,description:m.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Xe.showSlider,description:m.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Xe.scale,minimum:1,maximum:3,enum:[1,2,3],description:m.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Xe.renderCharacters,description:m.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Xe.maxColumn,description:m.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:a(Lt.enabled,this.defaultValue.enabled),autohide:a(Lt.autohide,this.defaultValue.autohide),size:L(Lt.size,this.defaultValue.size,["proportional","fill","fit"]),side:L(Lt.side,this.defaultValue.side,["right","left"]),showSlider:L(Lt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:a(Lt.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(Lt.scale,1,1,3),maxColumn:u.clampedInt(Lt.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Ue(Mt){return Mt==="ctrlCmd"?B.dz?"metaKey":"ctrlKey":"altKey"}class Qe extends p{constructor(){super(81,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:m.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:m.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{top:u.clampedInt(Lt.top,0,0,1e3),bottom:u.clampedInt(Lt.bottom,0,0,1e3)}}}class Re extends p{constructor(){const Xe={enabled:!0,cycle:!0};super(82,"parameterHints",Xe,{"editor.parameterHints.enabled":{type:"boolean",default:Xe.enabled,description:m.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Xe.cycle,description:m.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:a(Lt.enabled,this.defaultValue.enabled),cycle:a(Lt.cycle,this.defaultValue.cycle)}}}class ie extends g{constructor(){super(137)}compute(Xe,Lt,Xt){return Xe.pixelRatio}}class Z extends p{constructor(){const Xe={other:"on",comments:"off",strings:"off"},Lt=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[m.NC("on","Quick suggestions show inside the suggest widget"),m.NC("inline","Quick suggestions show as ghost text"),m.NC("off","Quick suggestions are disabled")]}];super(85,"quickSuggestions",Xe,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Lt,default:Xe.strings,description:m.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:Lt,default:Xe.comments,description:m.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:Lt,default:Xe.other,description:m.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Xe,markdownDescription:m.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Xe}validate(Xe){if(typeof Xe=="boolean"){const kt=Xe?"on":"off";return{comments:kt,strings:kt,other:kt}}if(!Xe||typeof Xe!="object")return this.defaultValue;const{other:Lt,comments:Xt,strings:zt}=Xe,Fe=["on","inline","off"];let et,pt,It;return typeof Lt=="boolean"?et=Lt?"on":"off":et=L(Lt,this.defaultValue.other,Fe),typeof Xt=="boolean"?pt=Xt?"on":"off":pt=L(Xt,this.defaultValue.comments,Fe),typeof zt=="boolean"?It=zt?"on":"off":It=L(zt,this.defaultValue.strings,Fe),{other:et,comments:pt,strings:It}}}class se extends p{constructor(){super(65,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[m.NC("lineNumbers.off","Line numbers are not rendered."),m.NC("lineNumbers.on","Line numbers are rendered as absolute number."),m.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),m.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:m.NC("lineNumbers","Controls the display of line numbers.")})}validate(Xe){let Lt=this.defaultValue.renderType,Xt=this.defaultValue.renderFn;return typeof Xe!="undefined"&&(typeof Xe=="function"?(Lt=4,Xt=Xe):Xe==="interval"?Lt=3:Xe==="relative"?Lt=2:Xe==="on"?Lt=1:Lt=0),{renderType:Lt,renderFn:Xt}}}function ve(Mt){const Xe=Mt.get(93);return Xe==="editable"?Mt.get(87):Xe!=="on"}class he extends p{constructor(){const Xe=[],Lt={type:"number",description:m.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(97,"rulers",Xe,{type:"array",items:{anyOf:[Lt,{type:["object"],properties:{column:Lt,color:{type:"string",description:m.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Xe,description:m.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Xe){if(Array.isArray(Xe)){const Lt=[];for(const Xt of Xe)if(typeof Xt=="number")Lt.push({column:u.clampedInt(Xt,0,0,1e4),color:null});else if(Xt&&typeof Xt=="object"){const zt=Xt;Lt.push({column:u.clampedInt(zt.column,0,0,1e4),color:zt.color})}return Lt.sort((Xt,zt)=>Xt.column-zt.column),Lt}return this.defaultValue}}function ce(Mt,Xe){if(typeof Mt!="string")return Xe;switch(Mt){case"hidden":return 2;case"visible":return 3;default:return 1}}class Ee extends p{constructor(){const Xe={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(98,"scrollbar",Xe,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),m.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),m.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:m.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),m.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),m.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:m.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Xe.verticalScrollbarSize,description:m.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Xe.horizontalScrollbarSize,description:m.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Xe.scrollByPage,description:m.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe,Xt=u.clampedInt(Lt.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),zt=u.clampedInt(Lt.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(Lt.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ce(Lt.vertical,this.defaultValue.vertical),horizontal:ce(Lt.horizontal,this.defaultValue.horizontal),useShadows:a(Lt.useShadows,this.defaultValue.useShadows),verticalHasArrows:a(Lt.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:a(Lt.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:a(Lt.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:a(Lt.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Xt,horizontalSliderSize:u.clampedInt(Lt.horizontalSliderSize,Xt,0,1e3),verticalScrollbarSize:zt,verticalSliderSize:u.clampedInt(Lt.verticalSliderSize,zt,0,1e3),scrollByPage:a(Lt.scrollByPage,this.defaultValue.scrollByPage)}}}const We="inUntrustedWorkspace",it={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Ze extends p{constructor(){const Xe={nonBasicASCII:We,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:We,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(120,"unicodeHighlight",Xe,{[it.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,We],default:Xe.nonBasicASCII,description:m.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[it.invisibleCharacters]:{restricted:!0,type:"boolean",default:Xe.invisibleCharacters,description:m.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[it.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Xe.ambiguousCharacters,description:m.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[it.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,We],default:Xe.includeComments,description:m.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[it.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,We],default:Xe.includeStrings,description:m.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[it.allowedCharacters]:{restricted:!0,type:"object",default:Xe.allowedCharacters,description:m.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[it.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Xe.allowedLocales,description:m.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Xe,Lt){let Xt=!1;Lt.allowedCharacters&&Xe&&(v.fS(Xe.allowedCharacters,Lt.allowedCharacters)||(Xe=Object.assign(Object.assign({},Xe),{allowedCharacters:Lt.allowedCharacters}),Xt=!0)),Lt.allowedLocales&&Xe&&(v.fS(Xe.allowedLocales,Lt.allowedLocales)||(Xe=Object.assign(Object.assign({},Xe),{allowedLocales:Lt.allowedLocales}),Xt=!0));const zt=super.applyUpdate(Xe,Lt);return Xt?new l(zt.newValue,!0):zt}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{nonBasicASCII:oe(Lt.nonBasicASCII,We,[!0,!1,We]),invisibleCharacters:a(Lt.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:a(Lt.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:oe(Lt.includeComments,We,[!0,!1,We]),includeStrings:oe(Lt.includeStrings,We,[!0,!1,We]),allowedCharacters:this.validateBooleanMap(Xe.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Xe.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Xe,Lt){if(typeof Xe!="object"||!Xe)return Lt;const Xt={};for(const[zt,Fe]of Object.entries(Xe))Fe===!0&&(Xt[zt]=!0);return Xt}}class je extends p{constructor(){const Xe={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1};super(60,"inlineSuggest",Xe,{"editor.inlineSuggest.enabled":{type:"boolean",default:Xe.enabled,description:m.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Xe.showToolbar,enum:["always","onHover"],enumDescriptions:[m.NC("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),m.NC("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:m.NC("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Xe.suppressSuggestions,description:m.NC("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:a(Lt.enabled,this.defaultValue.enabled),mode:L(Lt.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:L(Lt.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:a(Lt.suppressSuggestions,this.defaultValue.suppressSuggestions)}}}class Te extends p{constructor(){const Xe={enabled:A.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:A.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(13,"bracketPairColorization",Xe,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Xe.enabled,markdownDescription:m.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Xe.independentColorPoolPerBracketType,description:m.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{enabled:a(Lt.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:a(Lt.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Ie extends p{constructor(){const Xe={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(14,"guides",Xe,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),m.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),m.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Xe.bracketPairs,description:m.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),m.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),m.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Xe.bracketPairsHorizontal,description:m.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Xe.highlightActiveBracketPair,description:m.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Xe.indentation,description:m.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[m.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),m.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),m.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Xe.highlightActiveIndentation,description:m.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{bracketPairs:oe(Lt.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:oe(Lt.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:a(Lt.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:a(Lt.indentation,this.defaultValue.indentation),highlightActiveIndentation:oe(Lt.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function oe(Mt,Xe,Lt){const Xt=Lt.indexOf(Mt);return Xt===-1?Xe:Lt[Xt]}class ge extends p{constructor(){const Xe={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(113,"suggest",Xe,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[m.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),m.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Xe.insertMode,description:m.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Xe.filterGraceful,description:m.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Xe.localityBonus,description:m.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Xe.shareSuggestSelections,markdownDescription:m.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[m.NC("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),m.NC("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),m.NC("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),m.NC("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Xe.selectionMode,markdownDescription:m.NC("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Xe.snippetsPreventQuickSuggestions,description:m.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Xe.showIcons,description:m.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Xe.showStatusBar,description:m.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Xe.preview,description:m.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Xe.showInlineDetails,description:m.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:m.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:m.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:m.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Xe){if(!Xe||typeof Xe!="object")return this.defaultValue;const Lt=Xe;return{insertMode:L(Lt.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:a(Lt.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:a(Lt.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:a(Lt.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:a(Lt.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:L(Lt.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:a(Lt.showIcons,this.defaultValue.showIcons),showStatusBar:a(Lt.showStatusBar,this.defaultValue.showStatusBar),preview:a(Lt.preview,this.defaultValue.preview),previewMode:L(Lt.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:a(Lt.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:a(Lt.showMethods,this.defaultValue.showMethods),showFunctions:a(Lt.showFunctions,this.defaultValue.showFunctions),showConstructors:a(Lt.showConstructors,this.defaultValue.showConstructors),showDeprecated:a(Lt.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:a(Lt.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:a(Lt.showFields,this.defaultValue.showFields),showVariables:a(Lt.showVariables,this.defaultValue.showVariables),showClasses:a(Lt.showClasses,this.defaultValue.showClasses),showStructs:a(Lt.showStructs,this.defaultValue.showStructs),showInterfaces:a(Lt.showInterfaces,this.defaultValue.showInterfaces),showModules:a(Lt.showModules,this.defaultValue.showModules),showProperties:a(Lt.showProperties,this.defaultValue.showProperties),showEvents:a(Lt.showEvents,this.defaultValue.showEvents),showOperators:a(Lt.showOperators,this.defaultValue.showOperators),showUnits:a(Lt.showUnits,this.defaultValue.showUnits),showValues:a(Lt.showValues,this.defaultValue.showValues),showConstants:a(Lt.showConstants,this.defaultValue.showConstants),showEnums:a(Lt.showEnums,this.defaultValue.showEnums),showEnumMembers:a(Lt.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:a(Lt.showKeywords,this.defaultValue.showKeywords),showWords:a(Lt.showWords,this.defaultValue.showWords),showColors:a(Lt.showColors,this.defaultValue.showColors),showFiles:a(Lt.showFiles,this.defaultValue.showFiles),showReferences:a(Lt.showReferences,this.defaultValue.showReferences),showFolders:a(Lt.showFolders,this.defaultValue.showFolders),showTypeParameters:a(Lt.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:a(Lt.showSnippets,this.defaultValue.showSnippets),showUsers:a(Lt.showUsers,this.defaultValue.showUsers),showIssues:a(Lt.showIssues,this.defaultValue.showIssues)}}}class Ce extends p{constructor(){super(108,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:m.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Xe){return!Xe||typeof Xe!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:a(Xe.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class me extends p{constructor(){super(132,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[m.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),m.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),m.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),m.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:m.NC("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(Xe){switch(Xe){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Xe,Lt,Xt){return Lt.get(2)===2?0:Xt}}class Me extends g{constructor(){super(140)}compute(Xe,Lt,Xt){const zt=Lt.get(139);return{isDominatedByLongLines:Xe.isDominatedByLongLines,isWordWrapMinified:zt.isWordWrapMinified,isViewportWrapping:zt.isViewportWrapping,wrappingColumn:zt.wrappingColumn}}}class qe extends p{constructor(){const Xe={enabled:!0};super(34,"dropIntoEditor",Xe,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Xe.enabled,markdownDescription:m.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(Xe){return!Xe||typeof Xe!="object"?this.defaultValue:{enabled:a(Xe.enabled,this.defaultValue.enabled)}}}const ot="Consolas, 'Courier New', monospace",ut="Menlo, Monaco, 'Courier New', monospace",ht="'Droid Sans Mono', 'monospace', monospace",Ct={fontFamily:B.dz?ut:B.IJ?ht:ot,fontWeight:"normal",fontSize:B.dz?12:14,lineHeight:0,letterSpacing:0},Pt=[];function bt(Mt){return Pt[Mt.id]=Mt,Mt}const $t={acceptSuggestionOnCommitCharacter:bt(new C(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:m.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:bt(new N(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",m.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:m.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:bt(new T),accessibilityPageSize:bt(new u(3,"accessibilityPageSize",10,1,1073741824,{description:m.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:bt(new w(4,"ariaLabel",m.NC("editorViewAccessibleLabel","Editor content"))),screenReaderAnnounceInlineSuggestion:bt(new C(6,"screenReaderAnnounceInlineSuggestion",!1,{description:m.NC("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader. Note that this does not work on macOS with VoiceOver."),tags:["accessibility"]})),autoClosingBrackets:bt(new N(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),m.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:m.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:bt(new N(7,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",m.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:m.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:bt(new N(8,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",m.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:m.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:bt(new N(9,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),m.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:m.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:bt(new O(10,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],x,{enumDescriptions:[m.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),m.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),m.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),m.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),m.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:m.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:bt(new C(11,"automaticLayout",!1)),autoSurround:bt(new N(12,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[m.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),m.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),m.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:m.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:bt(new Te),bracketPairGuides:bt(new Ie),stickyTabStops:bt(new C(111,"stickyTabStops",!1,{description:m.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:bt(new C(15,"codeLens",!0,{description:m.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:bt(new w(16,"codeLensFontFamily","",{description:m.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:bt(new u(17,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:m.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:bt(new C(18,"colorDecorators",!0,{description:m.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorsLimit:bt(new u(19,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:m.NC("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:bt(new C(20,"columnSelection",!1,{description:m.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:bt(new W),contextmenu:bt(new C(22,"contextmenu",!0)),copyWithSyntaxHighlighting:bt(new C(23,"copyWithSyntaxHighlighting",!0,{description:m.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:bt(new O(24,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],U,{description:m.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:bt(new N(25,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[m.NC("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),m.NC("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),m.NC("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:m.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:bt(new O(26,"cursorStyle",K.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],G,{description:m.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:bt(new u(27,"cursorSurroundingLines",0,0,1073741824,{description:m.NC("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:bt(new N(28,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[m.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),m.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:m.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:bt(new u(29,"cursorWidth",0,0,1073741824,{markdownDescription:m.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:bt(new C(30,"disableLayerHinting",!1)),disableMonospaceOptimizations:bt(new C(31,"disableMonospaceOptimizations",!1)),domReadOnly:bt(new C(32,"domReadOnly",!1)),dragAndDrop:bt(new C(33,"dragAndDrop",!0,{description:m.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:bt(new k),dropIntoEditor:bt(new qe),stickyScroll:bt(new xe),experimentalWhitespaceRendering:bt(new N(36,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[m.NC("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),m.NC("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),m.NC("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:m.NC("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:bt(new w(37,"extraEditorClassName","")),fastScrollSensitivity:bt(new S(38,"fastScrollSensitivity",5,Mt=>Mt<=0?5:Mt,{markdownDescription:m.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:bt(new q),fixedOverflowWidgets:bt(new C(40,"fixedOverflowWidgets",!1)),folding:bt(new C(41,"folding",!0,{description:m.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:bt(new N(42,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[m.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),m.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:m.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:bt(new C(43,"foldingHighlight",!0,{description:m.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:bt(new C(44,"foldingImportsByDefault",!1,{description:m.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:bt(new u(45,"foldingMaximumRegions",5e3,10,65e3,{description:m.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:bt(new C(46,"unfoldOnClickAfterEndOfLine",!1,{description:m.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:bt(new w(47,"fontFamily",Ct.fontFamily,{description:m.NC("fontFamily","Controls the font family.")})),fontInfo:bt(new j),fontLigatures2:bt(new te),fontSize:bt(new J),fontWeight:bt(new Y),fontVariations:bt(new X),formatOnPaste:bt(new C(53,"formatOnPaste",!1,{description:m.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:bt(new C(54,"formatOnType",!1,{description:m.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:bt(new C(55,"glyphMargin",!0,{description:m.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:bt(new ee),hideCursorInOverviewRuler:bt(new C(57,"hideCursorInOverviewRuler",!1,{description:m.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:bt(new fe),inDiffEditor:bt(new C(59,"inDiffEditor",!1)),letterSpacing:bt(new S(61,"letterSpacing",Ct.letterSpacing,Mt=>S.clamp(Mt,-5,20),{description:m.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:bt(new be),lineDecorationsWidth:bt(new ue),lineHeight:bt(new re),lineNumbers:bt(new se),lineNumbersMinChars:bt(new u(66,"lineNumbersMinChars",5,1,300)),linkedEditing:bt(new C(67,"linkedEditing",!1,{description:m.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:bt(new C(68,"links",!0,{description:m.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:bt(new N(69,"matchBrackets","always",["always","near","never"],{description:m.NC("matchBrackets","Highlight matching brackets.")})),minimap:bt(new _e),mouseStyle:bt(new N(71,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:bt(new S(72,"mouseWheelScrollSensitivity",1,Mt=>Mt===0?1:Mt,{markdownDescription:m.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:bt(new C(73,"mouseWheelZoom",!1,{markdownDescription:m.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:bt(new C(74,"multiCursorMergeOverlapping",!0,{description:m.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:bt(new O(75,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Ue,{markdownEnumDescriptions:[m.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),m.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:m.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:bt(new N(76,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[m.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),m.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:m.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:bt(new u(77,"multiCursorLimit",1e4,1,1e5,{markdownDescription:m.NC("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:bt(new C(78,"occurrencesHighlight",!0,{description:m.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:bt(new C(79,"overviewRulerBorder",!0,{description:m.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:bt(new u(80,"overviewRulerLanes",3,0,3)),padding:bt(new Qe),parameterHints:bt(new Re),peekWidgetDefaultFocus:bt(new N(83,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[m.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),m.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:m.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:bt(new C(84,"definitionLinkOpensInPeek",!1,{description:m.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:bt(new Z),quickSuggestionsDelay:bt(new u(86,"quickSuggestionsDelay",10,0,1073741824,{description:m.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:bt(new C(87,"readOnly",!1)),renameOnType:bt(new C(88,"renameOnType",!1,{description:m.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:m.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:bt(new C(89,"renderControlCharacters",!0,{description:m.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:bt(new N(90,"renderFinalNewline",B.IJ?"dimmed":"on",["off","on","dimmed"],{description:m.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:bt(new N(91,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",m.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:m.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:bt(new C(92,"renderLineHighlightOnlyWhenFocus",!1,{description:m.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:bt(new N(93,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:bt(new N(94,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",m.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),m.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),m.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:m.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:bt(new u(95,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:bt(new C(96,"roundedSelection",!0,{description:m.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:bt(new he),scrollbar:bt(new Ee),scrollBeyondLastColumn:bt(new u(99,"scrollBeyondLastColumn",4,0,1073741824,{description:m.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:bt(new C(100,"scrollBeyondLastLine",!0,{description:m.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:bt(new C(101,"scrollPredominantAxis",!0,{description:m.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:bt(new C(102,"selectionClipboard",!0,{description:m.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:B.IJ})),selectionHighlight:bt(new C(103,"selectionHighlight",!0,{description:m.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:bt(new C(104,"selectOnLineNumbers",!0)),showFoldingControls:bt(new N(105,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[m.NC("showFoldingControls.always","Always show the folding controls."),m.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),m.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:m.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:bt(new C(106,"showUnused",!0,{description:m.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:bt(new C(134,"showDeprecated",!0,{description:m.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:bt(new Le),snippetSuggestions:bt(new N(107,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[m.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),m.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),m.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),m.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:m.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:bt(new Ce),smoothScrolling:bt(new C(109,"smoothScrolling",!1,{description:m.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:bt(new u(112,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:bt(new ge),inlineSuggest:bt(new je),suggestFontSize:bt(new u(114,"suggestFontSize",0,0,1e3,{markdownDescription:m.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:bt(new u(115,"suggestLineHeight",0,0,1e3,{markdownDescription:m.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:bt(new C(116,"suggestOnTriggerCharacters",!0,{description:m.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:bt(new N(117,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[m.NC("suggestSelection.first","Always select the first suggestion."),m.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),m.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:m.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:bt(new N(118,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[m.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),m.NC("tabCompletion.off","Disable tab completions."),m.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:m.NC("tabCompletion","Enables tab completions.")})),tabIndex:bt(new u(119,"tabIndex",0,-1,1073741824)),unicodeHighlight:bt(new Ze),unusualLineTerminators:bt(new N(121,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[m.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),m.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),m.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:m.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:bt(new C(122,"useShadowDOM",!0)),useTabStops:bt(new C(123,"useTabStops",!0,{description:m.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:bt(new N(124,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[m.NC("wordBreak.normal","Use the default line break rule."),m.NC("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:m.NC("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:bt(new w(125,"wordSeparators",f.vu,{description:m.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:bt(new N(126,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[m.NC("wordWrap.off","Lines will never wrap."),m.NC("wordWrap.on","Lines will wrap at the viewport width."),m.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),m.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:m.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:bt(new w(127,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:bt(new w(128,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:bt(new u(129,"wordWrapColumn",80,1,1073741824,{markdownDescription:m.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:bt(new N(130,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:bt(new N(131,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:bt(new z),pixelRatio:bt(new ie),tabFocusMode:bt(new C(138,"tabFocusMode",!1,{markdownDescription:m.NC("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:bt(new De),wrappingInfo:bt(new Me),wrappingIndent:bt(new me),wrappingStrategy:bt(new Ne)}},14963:function(Ot,He,i){"use strict";i.d(He,{C:function(){return B}});var m=i(56709);const B=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new m.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(f){f=Math.min(Math.max(-5,f),20),this._zoomLevel!==f&&(this._zoomLevel=f,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},5921:function(Ot,He,i){"use strict";i.d(He,{E4:function(){return A},pR:function(){return E}});var m=i(11138),B=i(70054),f=i(14963);const _=m.dz?1.5:1.35,v=8;class A{static createFromValidatedSettings(p,l,d){const g=p.get(47),n=p.get(51),a=p.get(50),C=p.get(49),D=p.get(52),u=p.get(64),S=p.get(61);return A._create(g,n,a,C,D,u,S,l,d)}static _create(p,l,d,g,n,a,C,D,u){a===0?a=_*d:a<v&&(a=a*d),a=Math.round(a),a<v&&(a=v);const S=1+(u?0:f.C.getZoomLevel()*.1);return d*=S,a*=S,n===B.Bo.TRANSLATE&&(l==="normal"||l==="bold"?n=B.Bo.OFF:(n=`'wght' ${parseInt(l,10)}`,l="normal")),new A({pixelRatio:D,fontFamily:p,fontWeight:l,fontSize:d,fontFeatureSettings:g,fontVariationSettings:n,lineHeight:a,letterSpacing:C})}constructor(p){this._bareFontInfoBrand=void 0,this.pixelRatio=p.pixelRatio,this.fontFamily=String(p.fontFamily),this.fontWeight=String(p.fontWeight),this.fontSize=p.fontSize,this.fontFeatureSettings=p.fontFeatureSettings,this.fontVariationSettings=p.fontVariationSettings,this.lineHeight=p.lineHeight|0,this.letterSpacing=p.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const p=B.hL.fontFamily,l=A._wrapInQuotes(this.fontFamily);return p&&this.fontFamily!==p?`${l}, ${p}`:l}static _wrapInQuotes(p){return/[,"']/.test(p)?p:/[+ ]/.test(p)?`"${p}"`:p}}const M=2;class E extends A{constructor(p,l){super(p),this._editorStylingBrand=void 0,this.version=M,this.isTrusted=l,this.isMonospace=p.isMonospace,this.typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=p.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=p.canUseHalfwidthRightwardsArrow,this.spaceWidth=p.spaceWidth,this.middotWidth=p.middotWidth,this.wsmiddotWidth=p.wsmiddotWidth,this.maxDigitWidth=p.maxDigitWidth}equals(p){return this.fontFamily===p.fontFamily&&this.fontWeight===p.fontWeight&&this.fontSize===p.fontSize&&this.fontFeatureSettings===p.fontFeatureSettings&&this.fontVariationSettings===p.fontVariationSettings&&this.lineHeight===p.lineHeight&&this.letterSpacing===p.letterSpacing&&this.typicalHalfwidthCharacterWidth===p.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===p.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.spaceWidth===p.spaceWidth&&this.middotWidth===p.middotWidth&&this.wsmiddotWidth===p.wsmiddotWidth&&this.maxDigitWidth===p.maxDigitWidth}}},55224:function(Ot,He,i){"use strict";i.d(He,{N:function(){return B},q:function(){return f}});var m=i(79886);class B{constructor(v){const A=(0,m.K)(v);this._defaultValue=A,this._asciiMap=B._createAsciiMap(A),this._map=new Map}static _createAsciiMap(v){const A=new Uint8Array(256);return A.fill(v),A}set(v,A){const M=(0,m.K)(A);v>=0&&v<256?this._asciiMap[v]=M:this._map.set(v,M)}get(v){return v>=0&&v<256?this._asciiMap[v]:this._map.get(v)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class f{constructor(){this._actual=new B(0)}add(v){this._actual.set(v,1)}has(v){return this._actual.get(v)===1}clear(){return this._actual.clear()}}},61669:function(Ot,He,i){"use strict";i.d(He,{i:function(){return B}});var m=i(17416);class B{static _nextVisibleColumn(_,v,A){return _===9?B.nextRenderTabStop(v,A):m.K7(_)||m.C8(_)?v+2:v+1}static visibleColumnFromColumn(_,v,A){const M=Math.min(v-1,_.length),E=_.substring(0,M),R=new m.W1(E);let p=0;for(;!R.eol();){const l=m.ZH(E,M,R.offset);R.nextGraphemeLength(),p=this._nextVisibleColumn(l,p,A)}return p}static columnFromVisibleColumn(_,v,A){if(v<=0)return 1;const M=_.length,E=new m.W1(_);let R=0,p=1;for(;!E.eol();){const l=m.ZH(_,M,E.offset);E.nextGraphemeLength();const d=this._nextVisibleColumn(l,R,A),g=E.offset+1;if(d>=v){const n=v-R;return d-v<n?g:p}R=d,p=g}return M+1}static nextRenderTabStop(_,v){return _+v-_%v}static nextIndentTabStop(_,v){return _+v-_%v}static prevRenderTabStop(_,v){return Math.max(0,_-1-(_-1)%v)}static prevIndentTabStop(_,v){return Math.max(0,_-1-(_-1)%v)}}},19083:function(Ot,He,i){"use strict";i.d(He,{h:function(){return B}});var m=i(50038);class B{static insert(_,v){return{range:new m.e(_.lineNumber,_.column,_.lineNumber,_.column),text:v,forceMoveMarkers:!0}}static delete(_){return{range:_,text:null}}static replace(_,v){return{range:_,text:v}}static replaceMove(_,v){return{range:_,text:v,forceMoveMarkers:!0}}}},44411:function(Ot,He,i){"use strict";i.d(He,{Bj:function(){return S},CE:function(){return fe},DS:function(){return re},HV:function(){return ve},Jn:function(){return Ue},Kh:function(){return v},L7:function(){return se},Mm:function(){return A},Qb:function(){return Re},Re:function(){return j},To:function(){return Z},UP:function(){return De},Vs:function(){return ee},YF:function(){return Qe},Ym:function(){return a},dI:function(){return g},eS:function(){return J},e_:function(){return T},f9:function(){return he},fY:function(){return d},hw:function(){return C},lK:function(){return X},lS:function(){return _e},m$:function(){return ue},m1:function(){return be},m3:function(){return ie},m9:function(){return te},n0:function(){return l},oV:function(){return Le},r0:function(){return Ne},tR:function(){return n},ts:function(){return xe},zJ:function(){return Y},zu:function(){return K},zw:function(){return x}});var m=i(26386),B=i(86741),f=i(92537),_=i(58566);const v=(0,f.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},m.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),A=(0,f.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:f.lRK},m.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),M=(0,f.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},m.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),E=(0,f.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:f.xL1,hcLight:f.xL1},m.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),R=(0,f.P6G)("editor.symbolHighlightBackground",{dark:f.MUv,light:f.MUv,hcDark:null,hcLight:null},m.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),p=(0,f.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:f.xL1,hcLight:f.xL1},m.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),l=(0,f.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:B.Il.black,hcDark:B.Il.white,hcLight:"#0F4A85"},m.NC("caret","Color of the editor cursor.")),d=(0,f.P6G)("editorCursor.background",null,m.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),g=(0,f.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},m.NC("editorWhitespaces","Color of whitespace characters in the editor.")),n=(0,f.P6G)("editorIndentGuide.background",{dark:g,light:g,hcDark:g,hcLight:g},m.NC("editorIndentGuides","Color of the editor indentation guides.")),a=(0,f.P6G)("editorIndentGuide.activeBackground",{dark:g,light:g,hcDark:g,hcLight:g},m.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),C=(0,f.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:B.Il.white,hcLight:"#292929"},m.NC("editorLineNumbers","Color of editor line numbers.")),D=(0,f.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:f.xL1,hcLight:f.xL1},m.NC("editorActiveLineNumber","Color of editor active line number"),!1,m.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),u=(0,f.P6G)("editorLineNumber.activeForeground",{dark:D,light:D,hcDark:D,hcLight:D},m.NC("editorActiveLineNumber","Color of editor active line number")),S=(0,f.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),w=(0,f.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:B.Il.lightgrey,hcDark:B.Il.white,hcLight:"#292929"},m.NC("editorRuler","Color of the editor rulers.")),L=(0,f.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},m.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),N=(0,f.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},m.NC("editorBracketMatchBackground","Background color behind matching brackets")),O=(0,f.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:f.lRK,hcLight:f.lRK},m.NC("editorBracketMatchBorder","Color for matching brackets boxes")),x=(0,f.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},m.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),T=(0,f.P6G)("editorOverviewRuler.background",null,m.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),W=(0,f.P6G)("editorGutter.background",{dark:f.cvW,light:f.cvW,hcDark:f.cvW,hcLight:f.cvW},m.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),U=(0,f.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:B.Il.fromHex("#fff").transparent(.8),hcLight:f.lRK},m.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),K=(0,f.P6G)("editorUnnecessaryCode.opacity",{dark:B.Il.fromHex("#000a"),light:B.Il.fromHex("#0007"),hcDark:null,hcLight:null},m.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),G=(0,f.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:B.Il.fromHex("#fff").transparent(.8),hcLight:B.Il.fromHex("#292929").transparent(.8)},m.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),z=(0,f.P6G)("editorGhostText.foreground",{dark:B.Il.fromHex("#ffffff56"),light:B.Il.fromHex("#0007"),hcDark:null,hcLight:null},m.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),k=(0,f.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},m.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),q=new B.Il(new B.VS(0,122,204,.6)),te=(0,f.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:q,light:q,hcDark:q,hcLight:q},m.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),X=(0,f.P6G)("editorOverviewRuler.errorForeground",{dark:new B.Il(new B.VS(255,18,18,.7)),light:new B.Il(new B.VS(255,18,18,.7)),hcDark:new B.Il(new B.VS(255,50,50,1)),hcLight:"#B5200D"},m.NC("overviewRuleError","Overview ruler marker color for errors.")),j=(0,f.P6G)("editorOverviewRuler.warningForeground",{dark:f.uoC,light:f.uoC,hcDark:f.pW3,hcLight:f.pW3},m.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),J=(0,f.P6G)("editorOverviewRuler.infoForeground",{dark:f.c63,light:f.c63,hcDark:f.T83,hcLight:f.T83},m.NC("overviewRuleInfo","Overview ruler marker color for infos.")),Y=(0,f.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},m.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ee=(0,f.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},m.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),fe=(0,f.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},m.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),De=(0,f.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ne=(0,f.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),be=(0,f.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),xe=(0,f.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new B.Il(new B.VS(255,18,18,.8)),light:new B.Il(new B.VS(255,18,18,.8)),hcDark:new B.Il(new B.VS(255,50,50,1)),hcLight:""},m.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Le=(0,f.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),ue=(0,f.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),re=(0,f.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),_e=(0,f.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Ue=(0,f.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Qe=(0,f.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Re=(0,f.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),ie=(0,f.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Z=(0,f.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),se=(0,f.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),ve=(0,f.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),he=(0,f.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),ce=(0,f.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},m.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),Ee=(0,f.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},m.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,_.Ic)((We,it)=>{const Ze=We.getColor(f.cvW),je=We.getColor(v),Te=je&&!je.isTransparent()?je:Ze;Te&&it.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Te}; }`)})},58570:function(Ot,He,i){"use strict";i.d(He,{Q:function(){return m}});function m(B){let f=0,_=0,v=0,A=0;for(let M=0,E=B.length;M<E;M++){const R=B.charCodeAt(M);R===13?(f===0&&(_=M),f++,M+1<E&&B.charCodeAt(M+1)===10?(A|=2,M++):A|=3,v=M+1):R===10&&(A|=1,f===0&&(_=M),f++,v=M+1)}return f===0&&(_=B.length),[f,_,B.length-v,A]}},5184:function(Ot,He,i){"use strict";i.d(He,{x:function(){return _}});var m=i(17416),B=i(61669);function f(v,A,M){let E=0;for(let p=0;p<v.length;p++)v.charAt(p)==="	"?E=B.i.nextIndentTabStop(E,A):E++;let R="";if(!M){const p=Math.floor(E/A);E=E%A;for(let l=0;l<p;l++)R+="	"}for(let p=0;p<E;p++)R+=" ";return R}function _(v,A,M){let E=m.LC(v);return E===-1&&(E=v.length),f(v.substring(0,E),A,M)+v.substring(E)}},4407:function(Ot,He,i){"use strict";i.d(He,{z:function(){return B}});var m=i(20996);class B{static joinMany(_){if(_.length===0)return[];let v=_[0];for(let A=1;A<_.length;A++)v=this.join(v,_[A]);return v}static join(_,v){if(_.length===0)return v;if(v.length===0)return _;const A=[];let M=0,E=0,R=null;for(;M<_.length||E<v.length;){let p=null;if(M<_.length&&E<v.length){const l=_[M],d=v[E];l.startLineNumber<d.startLineNumber?(p=l,M++):(p=d,E++)}else M<_.length?(p=_[M],M++):(p=v[E],E++);R===null?R=p:R.endLineNumberExclusive>=p.startLineNumber?R=new B(R.startLineNumber,Math.max(R.endLineNumberExclusive,p.endLineNumberExclusive)):(A.push(R),R=p)}return R!==null&&A.push(R),A}constructor(_,v){if(_>v)throw new m.he(`startLineNumber ${_} cannot be after endLineNumberExclusive ${v}`);this.startLineNumber=_,this.endLineNumberExclusive=v}contains(_){return this.startLineNumber<=_&&_<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(_){return new B(this.startLineNumber+_,this.endLineNumberExclusive+_)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(_){return new B(Math.min(this.startLineNumber,_.startLineNumber),Math.max(this.endLineNumberExclusive,_.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(_){const v=Math.max(this.startLineNumber,_.startLineNumber),A=Math.min(this.endLineNumberExclusive,_.endLineNumberExclusive);if(v<=A)return new B(v,A)}overlapOrTouch(_){return this.startLineNumber<=_.endLineNumberExclusive&&_.startLineNumber<=this.endLineNumberExclusive}equals(_){return this.startLineNumber===_.startLineNumber&&this.endLineNumberExclusive===_.endLineNumberExclusive}}},7335:function(Ot,He,i){"use strict";i.d(He,{q:function(){return B}});var m=i(20996);class B{static addRange(_,v){let A=0;for(;A<v.length&&v[A].endExclusive<_.start;)A++;let M=A;for(;M<v.length&&v[M].start<=_.endExclusive;)M++;if(A===M)v.splice(A,0,_);else{const E=Math.min(_.start,v[A].start),R=Math.max(_.endExclusive,v[M-1].endExclusive);v.splice(A,M-A,new B(E,R))}}static tryCreate(_,v){if(!(_>v))return new B(_,v)}constructor(_,v){if(this.start=_,this.endExclusive=v,_>v)throw new m.he(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(_){return new B(this.start+_,this.endExclusive+_)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(_){return this.start===_.start&&this.endExclusive===_.endExclusive}containsRange(_){return this.start<=_.start&&_.endExclusive<=this.endExclusive}join(_){return new B(Math.min(this.start,_.start),Math.max(this.endExclusive,_.endExclusive))}intersect(_){const v=Math.max(this.start,_.start),A=Math.min(this.endExclusive,_.endExclusive);if(v<=A)return new B(v,A)}}},8964:function(Ot,He,i){"use strict";i.d(He,{L:function(){return m}});class m{constructor(f,_){this.lineNumber=f,this.column=_}with(f=this.lineNumber,_=this.column){return f===this.lineNumber&&_===this.column?this:new m(f,_)}delta(f=0,_=0){return this.with(this.lineNumber+f,this.column+_)}equals(f){return m.equals(this,f)}static equals(f,_){return!f&&!_?!0:!!f&&!!_&&f.lineNumber===_.lineNumber&&f.column===_.column}isBefore(f){return m.isBefore(this,f)}static isBefore(f,_){return f.lineNumber<_.lineNumber?!0:_.lineNumber<f.lineNumber?!1:f.column<_.column}isBeforeOrEqual(f){return m.isBeforeOrEqual(this,f)}static isBeforeOrEqual(f,_){return f.lineNumber<_.lineNumber?!0:_.lineNumber<f.lineNumber?!1:f.column<=_.column}static compare(f,_){const v=f.lineNumber|0,A=_.lineNumber|0;if(v===A){const M=f.column|0,E=_.column|0;return M-E}return v-A}clone(){return new m(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(f){return new m(f.lineNumber,f.column)}static isIPosition(f){return f&&typeof f.lineNumber=="number"&&typeof f.column=="number"}}},50038:function(Ot,He,i){"use strict";i.d(He,{e:function(){return B}});var m=i(8964);class B{constructor(_,v,A,M){_>A||_===A&&v>M?(this.startLineNumber=A,this.startColumn=M,this.endLineNumber=_,this.endColumn=v):(this.startLineNumber=_,this.startColumn=v,this.endLineNumber=A,this.endColumn=M)}isEmpty(){return B.isEmpty(this)}static isEmpty(_){return _.startLineNumber===_.endLineNumber&&_.startColumn===_.endColumn}containsPosition(_){return B.containsPosition(this,_)}static containsPosition(_,v){return!(v.lineNumber<_.startLineNumber||v.lineNumber>_.endLineNumber||v.lineNumber===_.startLineNumber&&v.column<_.startColumn||v.lineNumber===_.endLineNumber&&v.column>_.endColumn)}static strictContainsPosition(_,v){return!(v.lineNumber<_.startLineNumber||v.lineNumber>_.endLineNumber||v.lineNumber===_.startLineNumber&&v.column<=_.startColumn||v.lineNumber===_.endLineNumber&&v.column>=_.endColumn)}containsRange(_){return B.containsRange(this,_)}static containsRange(_,v){return!(v.startLineNumber<_.startLineNumber||v.endLineNumber<_.startLineNumber||v.startLineNumber>_.endLineNumber||v.endLineNumber>_.endLineNumber||v.startLineNumber===_.startLineNumber&&v.startColumn<_.startColumn||v.endLineNumber===_.endLineNumber&&v.endColumn>_.endColumn)}strictContainsRange(_){return B.strictContainsRange(this,_)}static strictContainsRange(_,v){return!(v.startLineNumber<_.startLineNumber||v.endLineNumber<_.startLineNumber||v.startLineNumber>_.endLineNumber||v.endLineNumber>_.endLineNumber||v.startLineNumber===_.startLineNumber&&v.startColumn<=_.startColumn||v.endLineNumber===_.endLineNumber&&v.endColumn>=_.endColumn)}plusRange(_){return B.plusRange(this,_)}static plusRange(_,v){let A,M,E,R;return v.startLineNumber<_.startLineNumber?(A=v.startLineNumber,M=v.startColumn):v.startLineNumber===_.startLineNumber?(A=v.startLineNumber,M=Math.min(v.startColumn,_.startColumn)):(A=_.startLineNumber,M=_.startColumn),v.endLineNumber>_.endLineNumber?(E=v.endLineNumber,R=v.endColumn):v.endLineNumber===_.endLineNumber?(E=v.endLineNumber,R=Math.max(v.endColumn,_.endColumn)):(E=_.endLineNumber,R=_.endColumn),new B(A,M,E,R)}intersectRanges(_){return B.intersectRanges(this,_)}static intersectRanges(_,v){let A=_.startLineNumber,M=_.startColumn,E=_.endLineNumber,R=_.endColumn;const p=v.startLineNumber,l=v.startColumn,d=v.endLineNumber,g=v.endColumn;return A<p?(A=p,M=l):A===p&&(M=Math.max(M,l)),E>d?(E=d,R=g):E===d&&(R=Math.min(R,g)),A>E||A===E&&M>R?null:new B(A,M,E,R)}equalsRange(_){return B.equalsRange(this,_)}static equalsRange(_,v){return!_&&!v?!0:!!_&&!!v&&_.startLineNumber===v.startLineNumber&&_.startColumn===v.startColumn&&_.endLineNumber===v.endLineNumber&&_.endColumn===v.endColumn}getEndPosition(){return B.getEndPosition(this)}static getEndPosition(_){return new m.L(_.endLineNumber,_.endColumn)}getStartPosition(){return B.getStartPosition(this)}static getStartPosition(_){return new m.L(_.startLineNumber,_.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(_,v){return new B(this.startLineNumber,this.startColumn,_,v)}setStartPosition(_,v){return new B(_,v,this.endLineNumber,this.endColumn)}collapseToStart(){return B.collapseToStart(this)}static collapseToStart(_){return new B(_.startLineNumber,_.startColumn,_.startLineNumber,_.startColumn)}collapseToEnd(){return B.collapseToEnd(this)}static collapseToEnd(_){return new B(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn)}delta(_){return new B(this.startLineNumber+_,this.startColumn,this.endLineNumber+_,this.endColumn)}static fromPositions(_,v=_){return new B(_.lineNumber,_.column,v.lineNumber,v.column)}static lift(_){return _?new B(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):null}static isIRange(_){return _&&typeof _.startLineNumber=="number"&&typeof _.startColumn=="number"&&typeof _.endLineNumber=="number"&&typeof _.endColumn=="number"}static areIntersectingOrTouching(_,v){return!(_.endLineNumber<v.startLineNumber||_.endLineNumber===v.startLineNumber&&_.endColumn<v.startColumn||v.endLineNumber<_.startLineNumber||v.endLineNumber===_.startLineNumber&&v.endColumn<_.startColumn)}static areIntersecting(_,v){return!(_.endLineNumber<v.startLineNumber||_.endLineNumber===v.startLineNumber&&_.endColumn<=v.startColumn||v.endLineNumber<_.startLineNumber||v.endLineNumber===_.startLineNumber&&v.endColumn<=_.startColumn)}static compareRangesUsingStarts(_,v){if(_&&v){const E=_.startLineNumber|0,R=v.startLineNumber|0;if(E===R){const p=_.startColumn|0,l=v.startColumn|0;if(p===l){const d=_.endLineNumber|0,g=v.endLineNumber|0;if(d===g){const n=_.endColumn|0,a=v.endColumn|0;return n-a}return d-g}return p-l}return E-R}return(_?1:0)-(v?1:0)}static compareRangesUsingEnds(_,v){return _.endLineNumber===v.endLineNumber?_.endColumn===v.endColumn?_.startLineNumber===v.startLineNumber?_.startColumn-v.startColumn:_.startLineNumber-v.startLineNumber:_.endColumn-v.endColumn:_.endLineNumber-v.endLineNumber}static spansMultipleLines(_){return _.endLineNumber>_.startLineNumber}toJSON(){return this}}},57841:function(Ot,He,i){"use strict";i.d(He,{Y:function(){return f}});var m=i(8964),B=i(50038);class f extends B.e{constructor(v,A,M,E){super(v,A,M,E),this.selectionStartLineNumber=v,this.selectionStartColumn=A,this.positionLineNumber=M,this.positionColumn=E}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(v){return f.selectionsEqual(this,v)}static selectionsEqual(v,A){return v.selectionStartLineNumber===A.selectionStartLineNumber&&v.selectionStartColumn===A.selectionStartColumn&&v.positionLineNumber===A.positionLineNumber&&v.positionColumn===A.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(v,A){return this.getDirection()===0?new f(this.startLineNumber,this.startColumn,v,A):new f(v,A,this.startLineNumber,this.startColumn)}getPosition(){return new m.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new m.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(v,A){return this.getDirection()===0?new f(v,A,this.endLineNumber,this.endColumn):new f(this.endLineNumber,this.endColumn,v,A)}static fromPositions(v,A=v){return new f(v.lineNumber,v.column,A.lineNumber,A.column)}static fromRange(v,A){return A===0?new f(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new f(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}static liftSelection(v){return new f(v.selectionStartLineNumber,v.selectionStartColumn,v.positionLineNumber,v.positionColumn)}static selectionsArrEqual(v,A){if(v&&!A||!v&&A)return!1;if(!v&&!A)return!0;if(v.length!==A.length)return!1;for(let M=0,E=v.length;M<E;M++)if(!this.selectionsEqual(v[M],A[M]))return!1;return!0}static isISelection(v){return v&&typeof v.selectionStartLineNumber=="number"&&typeof v.selectionStartColumn=="number"&&typeof v.positionLineNumber=="number"&&typeof v.positionColumn=="number"}static createWithDirection(v,A,M,E,R){return R===0?new f(v,A,M,E):new f(M,E,v,A)}}},12342:function(Ot,He,i){"use strict";i.d(He,{HT:function(){return d},kH:function(){return p},oe:function(){return R}});var m=i(17416),B=i(11138),f=i(77511);let _;function v(){return _||(_=new TextDecoder("UTF-16LE")),_}let A;function M(){return A||(A=new TextDecoder("UTF-16BE")),A}let E;function R(){return E||(E=B.r()?v():M()),E}function p(g,n,a){const C=new Uint16Array(g.buffer,n,a);return a>0&&(C[0]===65279||C[0]===65534)?l(g,n,a):v().decode(C)}function l(g,n,a){const C=[];let D=0;for(let u=0;u<a;u++){const S=f.mP(g,n);n+=2,C[D++]=String.fromCharCode(S)}return C.join("")}class d{constructor(n){this._capacity=n|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const n=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return R().decode(n)}_flushBuffer(){const n=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[n]:this._completedStrings[this._completedStrings.length]=n}appendCharCode(n){const a=this._capacity-this._bufferLength;a<=1&&(a===0||m.ZG(n))&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendASCIICharCode(n){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendString(n){const a=n.length;if(this._bufferLength+a>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=n;return}for(let C=0;C<a;C++)this._buffer[this._bufferLength++]=n.charCodeAt(C)}}},79989:function(Ot,He,i){"use strict";i.d(He,{b:function(){return v},q:function(){return _}});var m=i(77511),B=i(12342);function f(M){return M.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class _{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(E,R,p,l){this.oldPosition=E,this.oldText=R,this.newPosition=p,this.newText=l}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${f(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${f(this.oldText)}")`:`(replace@${this.oldPosition} "${f(this.oldText)}" with "${f(this.newText)}")`}static _writeStringSize(E){return 4+2*E.length}static _writeString(E,R,p){const l=R.length;m.T4(E,l,p),p+=4;for(let d=0;d<l;d++)m.oq(E,R.charCodeAt(d),p),p+=2;return p}static _readString(E,R){const p=m.Ag(E,R);return R+=4,(0,B.kH)(E,R,p)}writeSize(){return 4+4+_._writeStringSize(this.oldText)+_._writeStringSize(this.newText)}write(E,R){return m.T4(E,this.oldPosition,R),R+=4,m.T4(E,this.newPosition,R),R+=4,R=_._writeString(E,this.oldText,R),R=_._writeString(E,this.newText,R),R}static read(E,R,p){const l=m.Ag(E,R);R+=4;const d=m.Ag(E,R);R+=4;const g=_._readString(E,R);R+=_._writeStringSize(g);const n=_._readString(E,R);return R+=_._writeStringSize(n),p.push(new _(l,g,d,n)),R}}function v(M,E){return M===null||M.length===0?E:new A(M,E).compress()}class A{constructor(E,R){this._prevEdits=E,this._currEdits=R,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let E=0,R=0,p=this._getPrev(E),l=this._getCurr(R);for(;E<this._prevLen||R<this._currLen;){if(p===null){this._acceptCurr(l),l=this._getCurr(++R);continue}if(l===null){this._acceptPrev(p),p=this._getPrev(++E);continue}if(l.oldEnd<=p.newPosition){this._acceptCurr(l),l=this._getCurr(++R);continue}if(p.newEnd<=l.oldPosition){this._acceptPrev(p),p=this._getPrev(++E);continue}if(l.oldPosition<p.newPosition){const[C,D]=A._splitCurr(l,p.newPosition-l.oldPosition);this._acceptCurr(C),l=D;continue}if(p.newPosition<l.oldPosition){const[C,D]=A._splitPrev(p,l.oldPosition-p.newPosition);this._acceptPrev(C),p=D;continue}let n,a;if(l.oldEnd===p.newEnd)n=p,a=l,p=this._getPrev(++E),l=this._getCurr(++R);else if(l.oldEnd<p.newEnd){const[C,D]=A._splitPrev(p,l.oldLength);n=C,a=l,p=D,l=this._getCurr(++R)}else{const[C,D]=A._splitCurr(l,p.newLength);n=p,a=C,p=this._getPrev(++E),l=D}this._result[this._resultLen++]=new _(n.oldPosition,n.oldText,a.newPosition,a.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=a.newLength-a.oldLength}const d=A._merge(this._result);return A._removeNoOps(d)}_acceptCurr(E){this._result[this._resultLen++]=A._rebaseCurr(this._prevDeltaOffset,E),this._currDeltaOffset+=E.newLength-E.oldLength}_getCurr(E){return E<this._currLen?this._currEdits[E]:null}_acceptPrev(E){this._result[this._resultLen++]=A._rebasePrev(this._currDeltaOffset,E),this._prevDeltaOffset+=E.newLength-E.oldLength}_getPrev(E){return E<this._prevLen?this._prevEdits[E]:null}static _rebaseCurr(E,R){return new _(R.oldPosition-E,R.oldText,R.newPosition,R.newText)}static _rebasePrev(E,R){return new _(R.oldPosition,R.oldText,R.newPosition+E,R.newText)}static _splitPrev(E,R){const p=E.newText.substr(0,R),l=E.newText.substr(R);return[new _(E.oldPosition,E.oldText,E.newPosition,p),new _(E.oldEnd,"",E.newPosition+R,l)]}static _splitCurr(E,R){const p=E.oldText.substr(0,R),l=E.oldText.substr(R);return[new _(E.oldPosition,p,E.newPosition,E.newText),new _(E.oldPosition+R,l,E.newEnd,"")]}static _merge(E){if(E.length===0)return E;const R=[];let p=0,l=E[0];for(let d=1;d<E.length;d++){const g=E[d];l.oldEnd===g.oldPosition?l=new _(l.oldPosition,l.oldText+g.oldText,l.newPosition,l.newText+g.newText):(R[p++]=l,l=g)}return R[p++]=l,R}static _removeNoOps(E){if(E.length===0)return E;const R=[];let p=0;for(let l=0;l<E.length;l++){const d=E[l];d.oldText!==d.newText&&(R[p++]=d)}return R}}},56318:function(Ot,He,i){"use strict";i.d(He,{D:function(){return m}});const m={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},31599:function(Ot,He,i){"use strict";i.d(He,{u:function(){return _}});var m=i(55224);class B extends m.N{constructor(A){super(0);for(let M=0,E=A.length;M<E;M++)this.set(A.charCodeAt(M),2);this.set(32,1),this.set(9,1)}}function f(v){const A={};return M=>(A.hasOwnProperty(M)||(A[M]=v(M)),A[M])}const _=f(v=>new B(v))},52676:function(Ot,He,i){"use strict";i.d(He,{Af:function(){return v},eq:function(){return A},t2:function(){return E},vu:function(){return f}});var m=i(97865),B=i(17979);const f="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function _(p=""){let l="(-?\\d*\\.\\d\\w*)|([^";for(const d of f)p.indexOf(d)>=0||(l+="\\"+d);return l+="\\s]+)",new RegExp(l,"g")}const v=_();function A(p){let l=v;if(p&&p instanceof RegExp)if(p.global)l=p;else{let d="g";p.ignoreCase&&(d+="i"),p.multiline&&(d+="m"),p.unicode&&(d+="u"),l=new RegExp(p.source,d)}return l.lastIndex=0,l}const M=new B.S;M.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function E(p,l,d,g,n){if(n||(n=m.$.first(M)),d.length>n.maxLen){let S=p-n.maxLen/2;return S<0?S=0:g+=S,d=d.substring(S,p+n.maxLen/2),E(p,l,d,g,n)}const a=Date.now(),C=p-1-g;let D=-1,u=null;for(let S=1;!(Date.now()-a>=n.timeBudget);S++){const w=C-n.windowSize*S;l.lastIndex=Math.max(0,w);const L=R(l,d,C,D);if(!L&&u||(u=L,w<=0))break;D=w}if(u){const S={word:u[0],startColumn:g+1+u.index,endColumn:g+1+u.index+u[0].length};return l.lastIndex=0,S}return null}function R(p,l,d,g){let n;for(;n=p.exec(l);){const a=n.index||0;if(a<=d&&p.lastIndex>=d)return n;if(g>0&&a>g)return null}return null}},81831:function(Ot,He,i){"use strict";i.d(He,{l:function(){return B}});var m=i(61669);class B{static whitespaceVisibleColumn(_,v,A){const M=_.length;let E=0,R=-1,p=-1;for(let l=0;l<M;l++){if(l===v)return[R,p,E];switch(E%A===0&&(R=l,p=E),_.charCodeAt(l)){case 32:E+=1;break;case 9:E=m.i.nextRenderTabStop(E,A);break;default:return[-1,-1,-1]}}return v===M?[R,p,E]:[-1,-1,-1]}static atomicPosition(_,v,A,M){const E=_.length,[R,p,l]=B.whitespaceVisibleColumn(_,v,A);if(l===-1)return-1;let d;switch(M){case 0:d=!0;break;case 1:d=!1;break;case 2:if(l%A===0)return v;d=l%A<=A/2;break}if(d){if(R===-1)return-1;let a=p;for(let C=R;C<E;++C){if(a===p+A)return R;switch(_.charCodeAt(C)){case 32:a+=1;break;case 9:a=m.i.nextRenderTabStop(a,A);break;default:return-1}}return a===p+A?R:-1}const g=m.i.nextRenderTabStop(l,A);let n=l;for(let a=v;a<E;a++){if(n===g)return a;switch(_.charCodeAt(a)){case 32:n+=1;break;case 9:n=m.i.nextRenderTabStop(n,A);break;default:return-1}}return n===g?E:-1}}},24048:function(Ot,He,i){"use strict";i.d(He,{A:function(){return E}});var m=i(17416),B=i(38050),f=i(60854),_=i(61669),v=i(27319),A=i(50038),M=i(8964);class E{static deleteRight(p,l,d,g){const n=[];let a=p!==3;for(let C=0,D=g.length;C<D;C++){const u=g[C];let S=u;if(S.isEmpty()){const w=u.getPosition(),L=v.o.right(l,d,w);S=new A.e(L.lineNumber,L.column,w.lineNumber,w.column)}if(S.isEmpty()){n[C]=null;continue}S.startLineNumber!==S.endLineNumber&&(a=!0),n[C]=new B.T4(S,"")}return[a,n]}static isAutoClosingPairDelete(p,l,d,g,n,a,C){if(l==="never"&&d==="never"||p==="never")return!1;for(let D=0,u=a.length;D<u;D++){const S=a[D],w=S.getPosition();if(!S.isEmpty())return!1;const L=n.getLineContent(w.lineNumber);if(w.column<2||w.column>=L.length+1)return!1;const N=L.charAt(w.column-2),O=g.get(N);if(!O)return!1;if((0,f.LN)(N)){if(d==="never")return!1}else if(l==="never")return!1;const x=L.charAt(w.column-1);let T=!1;for(const W of O)W.open===N&&W.close===x&&(T=!0);if(!T)return!1;if(p==="auto"){let W=!1;for(let U=0,K=C.length;U<K;U++){const G=C[U];if(w.lineNumber===G.startLineNumber&&w.column===G.startColumn){W=!0;break}}if(!W)return!1}}return!0}static _runAutoClosingPairDelete(p,l,d){const g=[];for(let n=0,a=d.length;n<a;n++){const C=d[n].getPosition(),D=new A.e(C.lineNumber,C.column-1,C.lineNumber,C.column+1);g[n]=new B.T4(D,"")}return[!0,g]}static deleteLeft(p,l,d,g,n){if(this.isAutoClosingPairDelete(l.autoClosingDelete,l.autoClosingBrackets,l.autoClosingQuotes,l.autoClosingPairs.autoClosingPairsOpenByEnd,d,g,n))return this._runAutoClosingPairDelete(l,d,g);const a=[];let C=p!==2;for(let D=0,u=g.length;D<u;D++){const S=E.getDeleteRange(g[D],d,l);if(S.isEmpty()){a[D]=null;continue}S.startLineNumber!==S.endLineNumber&&(C=!0),a[D]=new B.T4(S,"")}return[C,a]}static getDeleteRange(p,l,d){if(!p.isEmpty())return p;const g=p.getPosition();if(d.useTabStops&&g.column>1){const n=l.getLineContent(g.lineNumber),a=m.LC(n),C=a===-1?n.length+1:a+1;if(g.column<=C){const D=d.visibleColumnFromColumn(l,g),u=_.i.prevIndentTabStop(D,d.indentSize),S=d.columnFromVisibleColumn(l,g.lineNumber,u);return new A.e(g.lineNumber,S,g.lineNumber,g.column)}}return A.e.fromPositions(E.getPositionAfterDeleteLeft(g,l),g)}static getPositionAfterDeleteLeft(p,l){if(p.column>1){const d=m.oH(p.column-1,l.getLineContent(p.lineNumber));return p.with(void 0,d+1)}else if(p.lineNumber>1){const d=p.lineNumber-1;return new M.L(d,l.getLineMaxColumn(d))}else return p}static cut(p,l,d){const g=[];let n=null;d.sort((a,C)=>M.L.compare(a.getStartPosition(),C.getEndPosition()));for(let a=0,C=d.length;a<C;a++){const D=d[a];if(D.isEmpty())if(p.emptySelectionClipboard){const u=D.getPosition();let S,w,L,N;u.lineNumber<l.getLineCount()?(S=u.lineNumber,w=1,L=u.lineNumber+1,N=1):u.lineNumber>1&&(n==null?void 0:n.endLineNumber)!==u.lineNumber?(S=u.lineNumber-1,w=l.getLineMaxColumn(u.lineNumber-1),L=u.lineNumber,N=l.getLineMaxColumn(u.lineNumber)):(S=u.lineNumber,w=1,L=u.lineNumber,N=l.getLineMaxColumn(u.lineNumber));const O=new A.e(S,w,L,N);n=O,O.isEmpty()?g[a]=null:g[a]=new B.T4(O,"")}else g[a]=null;else g[a]=new B.T4(D,"")}return new f.Tp(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},81953:function(Ot,He,i){"use strict";i.d(He,{N:function(){return E},P:function(){return M}});var m=i(14818),B=i(60854),f=i(27319),_=i(61958),v=i(8964),A=i(50038);class M{static addCursorDown(p,l,d){const g=[];let n=0;for(let a=0,C=l.length;a<C;a++){const D=l[a];g[n++]=new B.Vi(D.modelState,D.viewState),d?g[n++]=B.Vi.fromModelState(f.o.translateDown(p.cursorConfig,p.model,D.modelState)):g[n++]=B.Vi.fromViewState(f.o.translateDown(p.cursorConfig,p,D.viewState))}return g}static addCursorUp(p,l,d){const g=[];let n=0;for(let a=0,C=l.length;a<C;a++){const D=l[a];g[n++]=new B.Vi(D.modelState,D.viewState),d?g[n++]=B.Vi.fromModelState(f.o.translateUp(p.cursorConfig,p.model,D.modelState)):g[n++]=B.Vi.fromViewState(f.o.translateUp(p.cursorConfig,p,D.viewState))}return g}static moveToBeginningOfLine(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n];g[n]=this._moveToLineStart(p,C,d)}return g}static _moveToLineStart(p,l,d){const g=l.viewState.position.column,n=l.modelState.position.column,a=g===n,C=l.viewState.position.lineNumber,D=p.getLineFirstNonWhitespaceColumn(C);return!a&&!(g===D)?this._moveToLineStartByView(p,l,d):this._moveToLineStartByModel(p,l,d)}static _moveToLineStartByView(p,l,d){return B.Vi.fromViewState(f.o.moveToBeginningOfLine(p.cursorConfig,p,l.viewState,d))}static _moveToLineStartByModel(p,l,d){return B.Vi.fromModelState(f.o.moveToBeginningOfLine(p.cursorConfig,p.model,l.modelState,d))}static moveToEndOfLine(p,l,d,g){const n=[];for(let a=0,C=l.length;a<C;a++){const D=l[a];n[a]=this._moveToLineEnd(p,D,d,g)}return n}static _moveToLineEnd(p,l,d,g){const n=l.viewState.position,a=p.getLineMaxColumn(n.lineNumber),C=n.column===a,D=l.modelState.position,u=p.model.getLineMaxColumn(D.lineNumber),S=a-n.column===u-D.column;return C||S?this._moveToLineEndByModel(p,l,d,g):this._moveToLineEndByView(p,l,d,g)}static _moveToLineEndByView(p,l,d,g){return B.Vi.fromViewState(f.o.moveToEndOfLine(p.cursorConfig,p,l.viewState,d,g))}static _moveToLineEndByModel(p,l,d,g){return B.Vi.fromModelState(f.o.moveToEndOfLine(p.cursorConfig,p.model,l.modelState,d,g))}static expandLineSelection(p,l){const d=[];for(let g=0,n=l.length;g<n;g++){const a=l[g],C=a.modelState.selection.startLineNumber,D=p.model.getLineCount();let u=a.modelState.selection.endLineNumber,S;u===D?S=p.model.getLineMaxColumn(D):(u++,S=1),d[g]=B.Vi.fromModelState(new B.rS(new A.e(C,1,C,1),0,0,new v.L(u,S),0))}return d}static moveToBeginningOfBuffer(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n];g[n]=B.Vi.fromModelState(f.o.moveToBeginningOfBuffer(p.cursorConfig,p.model,C.modelState,d))}return g}static moveToEndOfBuffer(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n];g[n]=B.Vi.fromModelState(f.o.moveToEndOfBuffer(p.cursorConfig,p.model,C.modelState,d))}return g}static selectAll(p,l){const d=p.model.getLineCount(),g=p.model.getLineMaxColumn(d);return B.Vi.fromModelState(new B.rS(new A.e(1,1,1,1),0,0,new v.L(d,g),0))}static line(p,l,d,g,n){const a=p.model.validatePosition(g),C=n?p.coordinatesConverter.validateViewPosition(new v.L(n.lineNumber,n.column),a):p.coordinatesConverter.convertModelPositionToViewPosition(a);if(!d){const u=p.model.getLineCount();let S=a.lineNumber+1,w=1;return S>u&&(S=u,w=p.model.getLineMaxColumn(S)),B.Vi.fromModelState(new B.rS(new A.e(a.lineNumber,1,S,w),2,0,new v.L(S,w),0))}const D=l.modelState.selectionStart.getStartPosition().lineNumber;if(a.lineNumber<D)return B.Vi.fromViewState(l.viewState.move(!0,C.lineNumber,1,0));if(a.lineNumber>D){const u=p.getLineCount();let S=C.lineNumber+1,w=1;return S>u&&(S=u,w=p.getLineMaxColumn(S)),B.Vi.fromViewState(l.viewState.move(!0,S,w,0))}else{const u=l.modelState.selectionStart.getEndPosition();return B.Vi.fromModelState(l.modelState.move(!0,u.lineNumber,u.column,0))}}static word(p,l,d,g){const n=p.model.validatePosition(g);return B.Vi.fromModelState(_.w.word(p.cursorConfig,p.model,l.modelState,d,n))}static cancelSelection(p,l){if(!l.modelState.hasSelection())return new B.Vi(l.modelState,l.viewState);const d=l.viewState.position.lineNumber,g=l.viewState.position.column;return B.Vi.fromViewState(new B.rS(new A.e(d,g,d,g),0,0,new v.L(d,g),0))}static moveTo(p,l,d,g,n){if(d){if(l.modelState.selectionStartKind===1)return this.word(p,l,d,g);if(l.modelState.selectionStartKind===2)return this.line(p,l,d,g,n)}const a=p.model.validatePosition(g),C=n?p.coordinatesConverter.validateViewPosition(new v.L(n.lineNumber,n.column),a):p.coordinatesConverter.convertModelPositionToViewPosition(a);return B.Vi.fromViewState(l.viewState.move(d,C.lineNumber,C.column,0))}static simpleMove(p,l,d,g,n,a){switch(d){case 0:return a===4?this._moveHalfLineLeft(p,l,g):this._moveLeft(p,l,g,n);case 1:return a===4?this._moveHalfLineRight(p,l,g):this._moveRight(p,l,g,n);case 2:return a===2?this._moveUpByViewLines(p,l,g,n):this._moveUpByModelLines(p,l,g,n);case 3:return a===2?this._moveDownByViewLines(p,l,g,n):this._moveDownByModelLines(p,l,g,n);case 4:return a===2?l.map(C=>B.Vi.fromViewState(f.o.moveToPrevBlankLine(p.cursorConfig,p,C.viewState,g))):l.map(C=>B.Vi.fromModelState(f.o.moveToPrevBlankLine(p.cursorConfig,p.model,C.modelState,g)));case 5:return a===2?l.map(C=>B.Vi.fromViewState(f.o.moveToNextBlankLine(p.cursorConfig,p,C.viewState,g))):l.map(C=>B.Vi.fromModelState(f.o.moveToNextBlankLine(p.cursorConfig,p.model,C.modelState,g)));case 6:return this._moveToViewMinColumn(p,l,g);case 7:return this._moveToViewFirstNonWhitespaceColumn(p,l,g);case 8:return this._moveToViewCenterColumn(p,l,g);case 9:return this._moveToViewMaxColumn(p,l,g);case 10:return this._moveToViewLastNonWhitespaceColumn(p,l,g);default:return null}}static viewportMove(p,l,d,g,n){const a=p.getCompletelyVisibleViewRange(),C=p.coordinatesConverter.convertViewRangeToModelRange(a);switch(d){case 11:{const D=this._firstLineNumberInRange(p.model,C,n),u=p.model.getLineFirstNonWhitespaceColumn(D);return[this._moveToModelPosition(p,l[0],g,D,u)]}case 13:{const D=this._lastLineNumberInRange(p.model,C,n),u=p.model.getLineFirstNonWhitespaceColumn(D);return[this._moveToModelPosition(p,l[0],g,D,u)]}case 12:{const D=Math.round((C.startLineNumber+C.endLineNumber)/2),u=p.model.getLineFirstNonWhitespaceColumn(D);return[this._moveToModelPosition(p,l[0],g,D,u)]}case 14:{const D=[];for(let u=0,S=l.length;u<S;u++){const w=l[u];D[u]=this.findPositionInViewportIfOutside(p,w,a,g)}return D}default:return null}}static findPositionInViewportIfOutside(p,l,d,g){const n=l.viewState.position.lineNumber;if(d.startLineNumber<=n&&n<=d.endLineNumber-1)return new B.Vi(l.modelState,l.viewState);{let a;n>d.endLineNumber-1?a=d.endLineNumber-1:n<d.startLineNumber?a=d.startLineNumber:a=n;const C=f.o.vertical(p.cursorConfig,p,n,l.viewState.position.column,l.viewState.leftoverVisibleColumns,a,!1);return B.Vi.fromViewState(l.viewState.move(g,C.lineNumber,C.column,C.leftoverVisibleColumns))}}static _firstLineNumberInRange(p,l,d){let g=l.startLineNumber;return l.startColumn!==p.getLineMinColumn(g)&&g++,Math.min(l.endLineNumber,g+d-1)}static _lastLineNumberInRange(p,l,d){let g=l.startLineNumber;return l.startColumn!==p.getLineMinColumn(g)&&g++,Math.max(g,l.endLineNumber-d+1)}static _moveLeft(p,l,d,g){return l.map(n=>B.Vi.fromViewState(f.o.moveLeft(p.cursorConfig,p,n.viewState,d,g)))}static _moveHalfLineLeft(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n],D=C.viewState.position.lineNumber,u=Math.round(p.getLineContent(D).length/2);g[n]=B.Vi.fromViewState(f.o.moveLeft(p.cursorConfig,p,C.viewState,d,u))}return g}static _moveRight(p,l,d,g){return l.map(n=>B.Vi.fromViewState(f.o.moveRight(p.cursorConfig,p,n.viewState,d,g)))}static _moveHalfLineRight(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n],D=C.viewState.position.lineNumber,u=Math.round(p.getLineContent(D).length/2);g[n]=B.Vi.fromViewState(f.o.moveRight(p.cursorConfig,p,C.viewState,d,u))}return g}static _moveDownByViewLines(p,l,d,g){const n=[];for(let a=0,C=l.length;a<C;a++){const D=l[a];n[a]=B.Vi.fromViewState(f.o.moveDown(p.cursorConfig,p,D.viewState,d,g))}return n}static _moveDownByModelLines(p,l,d,g){const n=[];for(let a=0,C=l.length;a<C;a++){const D=l[a];n[a]=B.Vi.fromModelState(f.o.moveDown(p.cursorConfig,p.model,D.modelState,d,g))}return n}static _moveUpByViewLines(p,l,d,g){const n=[];for(let a=0,C=l.length;a<C;a++){const D=l[a];n[a]=B.Vi.fromViewState(f.o.moveUp(p.cursorConfig,p,D.viewState,d,g))}return n}static _moveUpByModelLines(p,l,d,g){const n=[];for(let a=0,C=l.length;a<C;a++){const D=l[a];n[a]=B.Vi.fromModelState(f.o.moveUp(p.cursorConfig,p.model,D.modelState,d,g))}return n}static _moveToViewPosition(p,l,d,g,n){return B.Vi.fromViewState(l.viewState.move(d,g,n,0))}static _moveToModelPosition(p,l,d,g,n){return B.Vi.fromModelState(l.modelState.move(d,g,n,0))}static _moveToViewMinColumn(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n],D=C.viewState.position.lineNumber,u=p.getLineMinColumn(D);g[n]=this._moveToViewPosition(p,C,d,D,u)}return g}static _moveToViewFirstNonWhitespaceColumn(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n],D=C.viewState.position.lineNumber,u=p.getLineFirstNonWhitespaceColumn(D);g[n]=this._moveToViewPosition(p,C,d,D,u)}return g}static _moveToViewCenterColumn(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n],D=C.viewState.position.lineNumber,u=Math.round((p.getLineMaxColumn(D)+p.getLineMinColumn(D))/2);g[n]=this._moveToViewPosition(p,C,d,D,u)}return g}static _moveToViewMaxColumn(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n],D=C.viewState.position.lineNumber,u=p.getLineMaxColumn(D);g[n]=this._moveToViewPosition(p,C,d,D,u)}return g}static _moveToViewLastNonWhitespaceColumn(p,l,d){const g=[];for(let n=0,a=l.length;n<a;n++){const C=l[n],D=C.viewState.position.lineNumber,u=p.getLineLastNonWhitespaceColumn(D);g[n]=this._moveToViewPosition(p,C,d,D,u)}return g}}var E;(function(R){const p=function(d){if(!m.Kn(d))return!1;const g=d;return!(!m.HD(g.to)||!m.o8(g.select)&&!m.jn(g.select)||!m.o8(g.by)&&!m.HD(g.by)||!m.o8(g.value)&&!m.hj(g.value))};R.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:p,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},R.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},R.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function l(d){if(!d.to)return null;let g;switch(d.to){case R.RawDirection.Left:g=0;break;case R.RawDirection.Right:g=1;break;case R.RawDirection.Up:g=2;break;case R.RawDirection.Down:g=3;break;case R.RawDirection.PrevBlankLine:g=4;break;case R.RawDirection.NextBlankLine:g=5;break;case R.RawDirection.WrappedLineStart:g=6;break;case R.RawDirection.WrappedLineFirstNonWhitespaceCharacter:g=7;break;case R.RawDirection.WrappedLineColumnCenter:g=8;break;case R.RawDirection.WrappedLineEnd:g=9;break;case R.RawDirection.WrappedLineLastNonWhitespaceCharacter:g=10;break;case R.RawDirection.ViewPortTop:g=11;break;case R.RawDirection.ViewPortBottom:g=13;break;case R.RawDirection.ViewPortCenter:g=12;break;case R.RawDirection.ViewPortIfOutside:g=14;break;default:return null}let n=0;switch(d.by){case R.RawUnit.Line:n=1;break;case R.RawUnit.WrappedLine:n=2;break;case R.RawUnit.Character:n=3;break;case R.RawUnit.HalfLine:n=4;break}return{direction:g,unit:n,select:!!d.select,value:d.value||1}}R.parse=l})(E||(E={}))},27319:function(Ot,He,i){"use strict";i.d(He,{o:function(){return E}});var m=i(60854),B=i(61669),f=i(8964),_=i(50038),v=i(17416),A=i(81831);class M{constructor(p,l,d){this._cursorPositionBrand=void 0,this.lineNumber=p,this.column=l,this.leftoverVisibleColumns=d}}class E{static leftPosition(p,l){if(l.column>p.getLineMinColumn(l.lineNumber))return l.delta(void 0,-v.HO(p.getLineContent(l.lineNumber),l.column-1));if(l.lineNumber>1){const d=l.lineNumber-1;return new f.L(d,p.getLineMaxColumn(d))}else return l}static leftPositionAtomicSoftTabs(p,l,d){if(l.column<=p.getLineIndentColumn(l.lineNumber)){const g=p.getLineMinColumn(l.lineNumber),n=p.getLineContent(l.lineNumber),a=A.l.atomicPosition(n,l.column-1,d,0);if(a!==-1&&a+1>=g)return new f.L(l.lineNumber,a+1)}return this.leftPosition(p,l)}static left(p,l,d){const g=p.stickyTabStops?E.leftPositionAtomicSoftTabs(l,d,p.tabSize):E.leftPosition(l,d);return new M(g.lineNumber,g.column,0)}static moveLeft(p,l,d,g,n){let a,C;if(d.hasSelection()&&!g)a=d.selection.startLineNumber,C=d.selection.startColumn;else{const D=d.position.delta(void 0,-(n-1)),u=l.normalizePosition(E.clipPositionColumn(D,l),0),S=E.left(p,l,u);a=S.lineNumber,C=S.column}return d.move(g,a,C,0)}static clipPositionColumn(p,l){return new f.L(p.lineNumber,E.clipRange(p.column,l.getLineMinColumn(p.lineNumber),l.getLineMaxColumn(p.lineNumber)))}static clipRange(p,l,d){return p<l?l:p>d?d:p}static rightPosition(p,l,d){return d<p.getLineMaxColumn(l)?d=d+v.vH(p.getLineContent(l),d-1):l<p.getLineCount()&&(l=l+1,d=p.getLineMinColumn(l)),new f.L(l,d)}static rightPositionAtomicSoftTabs(p,l,d,g,n){if(d<p.getLineIndentColumn(l)){const a=p.getLineContent(l),C=A.l.atomicPosition(a,d-1,g,1);if(C!==-1)return new f.L(l,C+1)}return this.rightPosition(p,l,d)}static right(p,l,d){const g=p.stickyTabStops?E.rightPositionAtomicSoftTabs(l,d.lineNumber,d.column,p.tabSize,p.indentSize):E.rightPosition(l,d.lineNumber,d.column);return new M(g.lineNumber,g.column,0)}static moveRight(p,l,d,g,n){let a,C;if(d.hasSelection()&&!g)a=d.selection.endLineNumber,C=d.selection.endColumn;else{const D=d.position.delta(void 0,n-1),u=l.normalizePosition(E.clipPositionColumn(D,l),1),S=E.right(p,l,u);a=S.lineNumber,C=S.column}return d.move(g,a,C,0)}static vertical(p,l,d,g,n,a,C,D){const u=B.i.visibleColumnFromColumn(l.getLineContent(d),g,p.tabSize)+n,S=l.getLineCount(),w=d===1&&g===1,L=d===S&&g===l.getLineMaxColumn(d),N=a<d?w:L;if(d=a,d<1?(d=1,C?g=l.getLineMinColumn(d):g=Math.min(l.getLineMaxColumn(d),g)):d>S?(d=S,C?g=l.getLineMaxColumn(d):g=Math.min(l.getLineMaxColumn(d),g)):g=p.columnFromVisibleColumn(l,d,u),N?n=0:n=u-B.i.visibleColumnFromColumn(l.getLineContent(d),g,p.tabSize),D!==void 0){const O=new f.L(d,g),x=l.normalizePosition(O,D);n=n+(g-x.column),d=x.lineNumber,g=x.column}return new M(d,g,n)}static down(p,l,d,g,n,a,C){return this.vertical(p,l,d,g,n,d+a,C,4)}static moveDown(p,l,d,g,n){let a,C;d.hasSelection()&&!g?(a=d.selection.endLineNumber,C=d.selection.endColumn):(a=d.position.lineNumber,C=d.position.column);const D=E.down(p,l,a,C,d.leftoverVisibleColumns,n,!0);return d.move(g,D.lineNumber,D.column,D.leftoverVisibleColumns)}static translateDown(p,l,d){const g=d.selection,n=E.down(p,l,g.selectionStartLineNumber,g.selectionStartColumn,d.selectionStartLeftoverVisibleColumns,1,!1),a=E.down(p,l,g.positionLineNumber,g.positionColumn,d.leftoverVisibleColumns,1,!1);return new m.rS(new _.e(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new f.L(a.lineNumber,a.column),a.leftoverVisibleColumns)}static up(p,l,d,g,n,a,C){return this.vertical(p,l,d,g,n,d-a,C,3)}static moveUp(p,l,d,g,n){let a,C;d.hasSelection()&&!g?(a=d.selection.startLineNumber,C=d.selection.startColumn):(a=d.position.lineNumber,C=d.position.column);const D=E.up(p,l,a,C,d.leftoverVisibleColumns,n,!0);return d.move(g,D.lineNumber,D.column,D.leftoverVisibleColumns)}static translateUp(p,l,d){const g=d.selection,n=E.up(p,l,g.selectionStartLineNumber,g.selectionStartColumn,d.selectionStartLeftoverVisibleColumns,1,!1),a=E.up(p,l,g.positionLineNumber,g.positionColumn,d.leftoverVisibleColumns,1,!1);return new m.rS(new _.e(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new f.L(a.lineNumber,a.column),a.leftoverVisibleColumns)}static _isBlankLine(p,l){return p.getLineFirstNonWhitespaceColumn(l)===0}static moveToPrevBlankLine(p,l,d,g){let n=d.position.lineNumber;for(;n>1&&this._isBlankLine(l,n);)n--;for(;n>1&&!this._isBlankLine(l,n);)n--;return d.move(g,n,l.getLineMinColumn(n),0)}static moveToNextBlankLine(p,l,d,g){const n=l.getLineCount();let a=d.position.lineNumber;for(;a<n&&this._isBlankLine(l,a);)a++;for(;a<n&&!this._isBlankLine(l,a);)a++;return d.move(g,a,l.getLineMinColumn(a),0)}static moveToBeginningOfLine(p,l,d,g){const n=d.position.lineNumber,a=l.getLineMinColumn(n),C=l.getLineFirstNonWhitespaceColumn(n)||a;let D;return d.position.column===C?D=a:D=C,d.move(g,n,D,0)}static moveToEndOfLine(p,l,d,g,n){const a=d.position.lineNumber,C=l.getLineMaxColumn(a);return d.move(g,a,C,n?1073741824-C:0)}static moveToBeginningOfBuffer(p,l,d,g){return d.move(g,1,1,0)}static moveToEndOfBuffer(p,l,d,g){const n=l.getLineCount(),a=l.getLineMaxColumn(n);return d.move(g,n,a,0)}}},96124:function(Ot,He,i){"use strict";i.d(He,{Nu:function(){return S},u6:function(){return D},g_:function(){return u}});var m=i(20996),B=i(17416),f=i(38050),_=i(8453),v=i(50038),A=i(57841);class M{constructor(T,W,U){this._range=T,this._charBeforeSelection=W,this._charAfterSelection=U}getEditOperations(T,W){W.addTrackedEditOperation(new v.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),W.addTrackedEditOperation(new v.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(T,W){const U=W.getInverseEditOperations(),K=U[0].range,G=U[1].range;return new A.Y(K.endLineNumber,K.endColumn,G.endLineNumber,G.endColumn-this._charAfterSelection.length)}}class E{constructor(T,W,U){this._position=T,this._text=W,this._charAfter=U}getEditOperations(T,W){W.addTrackedEditOperation(new v.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(T,W){const K=W.getInverseEditOperations()[0].range;return new A.Y(K.endLineNumber,K.startColumn,K.endLineNumber,K.endColumn-this._charAfter.length)}}var R=i(60854),p=i(31599),l=i(8964),d=i(50282),g=i(64603),n=i(23189),a=i(89026),C=i(14);class D{static indent(T,W,U){if(W===null||U===null)return[];const K=[];for(let G=0,z=U.length;G<z;G++)K[G]=new _.U(U[G],{isUnshift:!1,tabSize:T.tabSize,indentSize:T.indentSize,insertSpaces:T.insertSpaces,useTabStops:T.useTabStops,autoIndent:T.autoIndent},T.languageConfigurationService);return K}static outdent(T,W,U){const K=[];for(let G=0,z=U.length;G<z;G++)K[G]=new _.U(U[G],{isUnshift:!0,tabSize:T.tabSize,indentSize:T.indentSize,insertSpaces:T.insertSpaces,useTabStops:T.useTabStops,autoIndent:T.autoIndent},T.languageConfigurationService);return K}static shiftIndent(T,W,U){return U=U||1,_.U.shiftIndent(W,W.length+U,T.tabSize,T.indentSize,T.insertSpaces)}static unshiftIndent(T,W,U){return U=U||1,_.U.unshiftIndent(W,W.length+U,T.tabSize,T.indentSize,T.insertSpaces)}static _distributedPaste(T,W,U,K){const G=[];for(let z=0,k=U.length;z<k;z++)G[z]=new f.T4(U[z],K[z]);return new R.Tp(0,G,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(T,W,U,K,G){const z=[];for(let k=0,q=U.length;k<q;k++){const te=U[k],X=te.getPosition();if(G&&!te.isEmpty()&&(G=!1),G&&K.indexOf(`
`)!==K.length-1&&(G=!1),G){const j=new v.e(X.lineNumber,1,X.lineNumber,1);z[k]=new f.hP(j,K,te,!0)}else z[k]=new f.T4(te,K)}return new R.Tp(0,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(T,W,U,K,G){if(K||W.length===1)return null;if(G&&G.length===W.length)return G;if(T.multiCursorPaste==="spread"){U.charCodeAt(U.length-1)===10&&(U=U.substr(0,U.length-1)),U.charCodeAt(U.length-1)===13&&(U=U.substr(0,U.length-1));const z=B.uq(U);if(z.length===W.length)return z}return null}static paste(T,W,U,K,G,z){const k=this._distributePasteToCursors(T,U,K,G,z);return k?(U=U.sort(v.e.compareRangesUsingStarts),this._distributedPaste(T,W,U,k)):this._simplePaste(T,W,U,K,G)}static _goodIndentForLine(T,W,U){let K=null,G="";const z=(0,a.r7)(T.autoIndent,W,U,!1,T.languageConfigurationService);if(z)K=z.action,G=z.indentation;else if(U>1){let k;for(k=U-1;k>=1;k--){const X=W.getLineContent(k);if(B.ow(X)>=0)break}if(k<1)return null;const q=W.getLineMaxColumn(k),te=(0,C.A)(T.autoIndent,W,new v.e(k,q,k,q),T.languageConfigurationService);te&&(G=te.indentation+te.appendText)}return K&&(K===d.wU.Indent&&(G=D.shiftIndent(T,G)),K===d.wU.Outdent&&(G=D.unshiftIndent(T,G)),G=T.normalizeIndentation(G)),G||null}static _replaceJumpToNextIndent(T,W,U,K){let G="";const z=U.getStartPosition();if(T.insertSpaces){const k=T.visibleColumnFromColumn(W,z),q=T.indentSize,te=q-k%q;for(let X=0;X<te;X++)G+=" "}else G="	";return new f.T4(U,G,K)}static tab(T,W,U){const K=[];for(let G=0,z=U.length;G<z;G++){const k=U[G];if(k.isEmpty()){const q=W.getLineContent(k.startLineNumber);if(/^\s*$/.test(q)&&W.tokenization.isCheapToTokenize(k.startLineNumber)){let te=this._goodIndentForLine(T,W,k.startLineNumber);te=te||"	";const X=T.normalizeIndentation(te);if(!q.startsWith(X)){K[G]=new f.T4(new v.e(k.startLineNumber,1,k.startLineNumber,q.length+1),X,!0);continue}}K[G]=this._replaceJumpToNextIndent(T,W,k,!0)}else{if(k.startLineNumber===k.endLineNumber){const q=W.getLineMaxColumn(k.startLineNumber);if(k.startColumn!==1||k.endColumn!==q){K[G]=this._replaceJumpToNextIndent(T,W,k,!1);continue}}K[G]=new _.U(k,{isUnshift:!1,tabSize:T.tabSize,indentSize:T.indentSize,insertSpaces:T.insertSpaces,useTabStops:T.useTabStops,autoIndent:T.autoIndent},T.languageConfigurationService)}}return K}static compositionType(T,W,U,K,G,z,k,q){const te=K.map(X=>this._compositionType(U,X,G,z,k,q));return new R.Tp(4,te,{shouldPushStackElementBefore:L(T,4),shouldPushStackElementAfter:!1})}static _compositionType(T,W,U,K,G,z){if(!W.isEmpty())return null;const k=W.getPosition(),q=Math.max(1,k.column-K),te=Math.min(T.getLineMaxColumn(k.lineNumber),k.column+G),X=new v.e(k.lineNumber,q,k.lineNumber,te);return T.getValueInRange(X)===U&&z===0?null:new f.Uo(X,U,0,z)}static _typeCommand(T,W,U){return U?new f.Sj(T,W,!0):new f.T4(T,W,!0)}static _enter(T,W,U,K){if(T.autoIndent===0)return D._typeCommand(K,`
`,U);if(!W.tokenization.isCheapToTokenize(K.getStartPosition().lineNumber)||T.autoIndent===1){const q=W.getLineContent(K.startLineNumber),te=B.V8(q).substring(0,K.startColumn-1);return D._typeCommand(K,`
`+T.normalizeIndentation(te),U)}const G=(0,C.A)(T.autoIndent,W,K,T.languageConfigurationService);if(G){if(G.indentAction===d.wU.None)return D._typeCommand(K,`
`+T.normalizeIndentation(G.indentation+G.appendText),U);if(G.indentAction===d.wU.Indent)return D._typeCommand(K,`
`+T.normalizeIndentation(G.indentation+G.appendText),U);if(G.indentAction===d.wU.IndentOutdent){const q=T.normalizeIndentation(G.indentation),te=T.normalizeIndentation(G.indentation+G.appendText),X=`
`+te+`
`+q;return U?new f.Sj(K,X,!0):new f.Uo(K,X,-1,te.length-q.length,!0)}else if(G.indentAction===d.wU.Outdent){const q=D.unshiftIndent(T,G.indentation);return D._typeCommand(K,`
`+T.normalizeIndentation(q+G.appendText),U)}}const z=W.getLineContent(K.startLineNumber),k=B.V8(z).substring(0,K.startColumn-1);if(T.autoIndent>=4){const q=(0,a.UF)(T.autoIndent,W,K,{unshiftIndent:te=>D.unshiftIndent(T,te),shiftIndent:te=>D.shiftIndent(T,te),normalizeIndentation:te=>T.normalizeIndentation(te)},T.languageConfigurationService);if(q){let te=T.visibleColumnFromColumn(W,K.getEndPosition());const X=K.endColumn,j=W.getLineContent(K.endLineNumber),J=B.LC(j);if(J>=0?K=K.setEndPosition(K.endLineNumber,Math.max(K.endColumn,J+1)):K=K.setEndPosition(K.endLineNumber,W.getLineMaxColumn(K.endLineNumber)),U)return new f.Sj(K,`
`+T.normalizeIndentation(q.afterEnter),!0);{let Y=0;return X<=J+1&&(T.insertSpaces||(te=Math.ceil(te/T.indentSize)),Y=Math.min(te+1-T.normalizeIndentation(q.afterEnter).length-1,0)),new f.Uo(K,`
`+T.normalizeIndentation(q.afterEnter),0,Y,!0)}}}return D._typeCommand(K,`
`+T.normalizeIndentation(k),U)}static _isAutoIndentType(T,W,U){if(T.autoIndent<4)return!1;for(let K=0,G=U.length;K<G;K++)if(!W.tokenization.isCheapToTokenize(U[K].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(T,W,U,K){const G=(0,g.u0)(W,U.startLineNumber,U.startColumn),z=(0,a.$9)(T.autoIndent,W,U,K,{shiftIndent:k=>D.shiftIndent(T,k),unshiftIndent:k=>D.unshiftIndent(T,k)},T.languageConfigurationService);if(z===null)return null;if(z!==T.normalizeIndentation(G)){const k=W.getLineFirstNonWhitespaceColumn(U.startLineNumber);return k===0?D._typeCommand(new v.e(U.startLineNumber,1,U.endLineNumber,U.endColumn),T.normalizeIndentation(z)+K,!1):D._typeCommand(new v.e(U.startLineNumber,1,U.endLineNumber,U.endColumn),T.normalizeIndentation(z)+W.getLineContent(U.startLineNumber).substring(k-1,U.startColumn-1)+K,!1)}return null}static _isAutoClosingOvertype(T,W,U,K,G){if(T.autoClosingOvertype==="never"||!T.autoClosingPairs.autoClosingPairsCloseSingleChar.has(G))return!1;for(let z=0,k=U.length;z<k;z++){const q=U[z];if(!q.isEmpty())return!1;const te=q.getPosition(),X=W.getLineContent(te.lineNumber);if(X.charAt(te.column-1)!==G)return!1;const J=(0,R.LN)(G);if((te.column>2?X.charCodeAt(te.column-2):0)===92&&J)return!1;if(T.autoClosingOvertype==="auto"){let ee=!1;for(let fe=0,De=K.length;fe<De;fe++){const Ne=K[fe];if(te.lineNumber===Ne.startLineNumber&&te.column===Ne.startColumn){ee=!0;break}}if(!ee)return!1}}return!0}static _runAutoClosingOvertype(T,W,U,K,G){const z=[];for(let k=0,q=K.length;k<q;k++){const X=K[k].getPosition(),j=new v.e(X.lineNumber,X.column,X.lineNumber,X.column+1);z[k]=new f.T4(j,G)}return new R.Tp(4,z,{shouldPushStackElementBefore:L(T,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(T,W){const U=W.charAt(0),K=T.autoClosingPairs.autoClosingPairsOpenByStart.get(U)||[],G=T.autoClosingPairs.autoClosingPairsCloseByStart.get(U)||[],z=K.some(q=>W.startsWith(q.open)),k=G.some(q=>W.startsWith(q.close));return!z&&k}static _findAutoClosingPairOpen(T,W,U,K){const G=T.autoClosingPairs.autoClosingPairsOpenByEnd.get(K);if(!G)return null;let z=null;for(const k of G)if(z===null||k.open.length>z.open.length){let q=!0;for(const te of U)if(W.getValueInRange(new v.e(te.lineNumber,te.column-k.open.length+1,te.lineNumber,te.column))+K!==k.open){q=!1;break}q&&(z=k)}return z}static _findContainedAutoClosingPair(T,W){if(W.open.length<=1)return null;const U=W.close.charAt(W.close.length-1),K=T.autoClosingPairs.autoClosingPairsCloseByEnd.get(U)||[];let G=null;for(const z of K)z.open!==W.open&&W.open.includes(z.open)&&W.close.endsWith(z.close)&&(!G||z.open.length>G.open.length)&&(G=z);return G}static _getAutoClosingPairClose(T,W,U,K,G){const z=(0,R.LN)(K),k=z?T.autoClosingQuotes:T.autoClosingBrackets,q=z?T.shouldAutoCloseBefore.quote:T.shouldAutoCloseBefore.bracket;if(k==="never")return null;for(const ee of U)if(!ee.isEmpty())return null;const te=U.map(ee=>{const fe=ee.getPosition();return G?{lineNumber:fe.lineNumber,beforeColumn:fe.column-K.length,afterColumn:fe.column}:{lineNumber:fe.lineNumber,beforeColumn:fe.column,afterColumn:fe.column}}),X=this._findAutoClosingPairOpen(T,W,te.map(ee=>new l.L(ee.lineNumber,ee.beforeColumn)),K);if(!X)return null;const j=this._findContainedAutoClosingPair(T,X),J=j?j.close:"";let Y=!0;for(const ee of te){const{lineNumber:fe,beforeColumn:De,afterColumn:Ne}=ee,be=W.getLineContent(fe),xe=be.substring(0,De-1),Le=be.substring(Ne-1);if(Le.startsWith(J)||(Y=!1),Le.length>0){const Ue=Le.charAt(0);if(!D._isBeforeClosingBrace(T,Le)&&!q(Ue))return null}if(X.open.length===1&&(K==="'"||K==='"')&&k!=="always"){const Ue=(0,p.u)(T.wordSeparators);if(xe.length>0){const Qe=xe.charCodeAt(xe.length-1);if(Ue.get(Qe)===0)return null}}if(!W.tokenization.isCheapToTokenize(fe))return null;W.tokenization.forceTokenization(fe);const ue=W.tokenization.getLineTokens(fe),re=(0,n.wH)(ue,De-1);if(!X.shouldAutoClose(re,De-re.firstCharOffset))return null;const _e=X.findNeutralCharacter();if(_e){const Ue=W.tokenization.getTokenTypeIfInsertingCharacter(fe,De,_e);if(!X.isOK(Ue))return null}}return Y?X.close.substring(0,X.close.length-J.length):X.close}static _runAutoClosingOpenCharType(T,W,U,K,G,z,k){const q=[];for(let te=0,X=K.length;te<X;te++){const j=K[te];q[te]=new u(j,G,!z,k)}return new R.Tp(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(T,W){return(0,R.LN)(W)?T.autoSurround==="quotes"||T.autoSurround==="languageDefined":T.autoSurround==="brackets"||T.autoSurround==="languageDefined"}static _isSurroundSelectionType(T,W,U,K){if(!D._shouldSurroundChar(T,K)||!T.surroundingPairs.hasOwnProperty(K))return!1;const G=(0,R.LN)(K);for(const z of U){if(z.isEmpty())return!1;let k=!0;for(let q=z.startLineNumber;q<=z.endLineNumber;q++){const te=W.getLineContent(q),X=q===z.startLineNumber?z.startColumn-1:0,j=q===z.endLineNumber?z.endColumn-1:te.length,J=te.substring(X,j);if(/[^ \t]/.test(J)){k=!1;break}}if(k)return!1;if(G&&z.startLineNumber===z.endLineNumber&&z.startColumn+1===z.endColumn){const q=W.getValueInRange(z);if((0,R.LN)(q))return!1}}return!0}static _runSurroundSelectionType(T,W,U,K,G){const z=[];for(let k=0,q=K.length;k<q;k++){const te=K[k],X=W.surroundingPairs[G];z[k]=new M(te,G,X)}return new R.Tp(0,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(T,W,U){return!!(U.length===1&&W.tokenization.isCheapToTokenize(U[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(T,W,U,K,G){if(!W.electricChars.hasOwnProperty(G)||!K.isEmpty())return null;const z=K.getPosition();U.tokenization.forceTokenization(z.lineNumber);const k=U.tokenization.getLineTokens(z.lineNumber);let q;try{q=W.onElectricCharacter(G,k,z.column)}catch(te){return(0,m.dL)(te),null}if(!q)return null;if(q.matchOpenBracket){const te=(k.getLineContent()+G).lastIndexOf(q.matchOpenBracket)+1,X=U.bracketPairs.findMatchingBracketUp(q.matchOpenBracket,{lineNumber:z.lineNumber,column:te},500);if(X){if(X.startLineNumber===z.lineNumber)return null;const j=U.getLineContent(X.startLineNumber),J=B.V8(j),Y=W.normalizeIndentation(J),ee=U.getLineContent(z.lineNumber),fe=U.getLineFirstNonWhitespaceColumn(z.lineNumber)||z.column,De=ee.substring(fe-1,z.column-1),Ne=Y+De+G,be=new v.e(z.lineNumber,1,z.lineNumber,z.column),xe=new f.T4(be,Ne);return new R.Tp(w(Ne,T),[xe],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(T,W,U,K,G,z){if(!K)return null;let k=null;for(const j of K)if(k===null)k=j.insertedText;else if(k!==j.insertedText)return null;if(!k||k.length!==1)return null;const q=k;let te=!1;for(const j of K)if(j.deletedText.length!==0){te=!0;break}if(te){if(!D._shouldSurroundChar(W,q)||!W.surroundingPairs.hasOwnProperty(q))return null;const j=(0,R.LN)(q);for(const ee of K)if(ee.deletedSelectionStart!==0||ee.deletedSelectionEnd!==ee.deletedText.length||/^[ \t]+$/.test(ee.deletedText)||j&&(0,R.LN)(ee.deletedText))return null;const J=[];for(const ee of G){if(!ee.isEmpty())return null;J.push(ee.getPosition())}if(J.length!==K.length)return null;const Y=[];for(let ee=0,fe=J.length;ee<fe;ee++)Y.push(new E(J[ee],K[ee].deletedText,W.surroundingPairs[q]));return new R.Tp(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(W,U,G,z,q)){const j=G.map(J=>new f.T4(new v.e(J.positionLineNumber,J.positionColumn,J.positionLineNumber,J.positionColumn+1),"",!1));return new R.Tp(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const X=this._getAutoClosingPairClose(W,U,G,q,!0);return X!==null?this._runAutoClosingOpenCharType(T,W,U,G,q,!0,X):null}static typeWithInterceptors(T,W,U,K,G,z,k){if(!T&&k===`
`){const X=[];for(let j=0,J=G.length;j<J;j++)X[j]=D._enter(U,K,!1,G[j]);return new R.Tp(4,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!T&&this._isAutoIndentType(U,K,G)){const X=[];let j=!1;for(let J=0,Y=G.length;J<Y;J++)if(X[J]=this._runAutoIndentType(U,K,G[J],k),!X[J]){j=!0;break}if(!j)return new R.Tp(4,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(U,K,G,z,k))return this._runAutoClosingOvertype(W,U,K,G,k);if(!T){const X=this._getAutoClosingPairClose(U,K,G,k,!1);if(X)return this._runAutoClosingOpenCharType(W,U,K,G,k,!1,X)}if(!T&&this._isSurroundSelectionType(U,K,G,k))return this._runSurroundSelectionType(W,U,K,G,k);if(!T&&this._isTypeInterceptorElectricChar(U,K,G)){const X=this._typeInterceptorElectricChar(W,U,K,G[0],k);if(X)return X}const q=[];for(let X=0,j=G.length;X<j;X++)q[X]=new f.T4(G[X],k);const te=w(k,W);return new R.Tp(te,q,{shouldPushStackElementBefore:L(W,te),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(T,W,U,K,G){const z=[];for(let q=0,te=K.length;q<te;q++)z[q]=new f.T4(K[q],G);const k=w(G,T);return new R.Tp(k,z,{shouldPushStackElementBefore:L(T,k),shouldPushStackElementAfter:!1})}static lineInsertBefore(T,W,U){if(W===null||U===null)return[];const K=[];for(let G=0,z=U.length;G<z;G++){let k=U[G].positionLineNumber;if(k===1)K[G]=new f.Sj(new v.e(1,1,1,1),`
`);else{k--;const q=W.getLineMaxColumn(k);K[G]=this._enter(T,W,!1,new v.e(k,q,k,q))}}return K}static lineInsertAfter(T,W,U){if(W===null||U===null)return[];const K=[];for(let G=0,z=U.length;G<z;G++){const k=U[G].positionLineNumber,q=W.getLineMaxColumn(k);K[G]=this._enter(T,W,!1,new v.e(k,q,k,q))}return K}static lineBreakInsert(T,W,U){const K=[];for(let G=0,z=U.length;G<z;G++)K[G]=this._enter(T,W,!0,U[G]);return K}}class u extends f.Uo{constructor(T,W,U,K){super(T,(U?W:"")+K,0,-K.length),this._openCharacter=W,this._closeCharacter=K,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(T,W){const K=W.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v.e(K.startLineNumber,K.endColumn-this._closeCharacter.length,K.endLineNumber,K.endColumn),this.enclosingRange=new v.e(K.startLineNumber,K.endColumn-this._openCharacter.length-this._closeCharacter.length,K.endLineNumber,K.endColumn),super.computeCursorState(T,W)}}class S{constructor(T,W,U,K,G,z){this.deletedText=T,this.deletedSelectionStart=W,this.deletedSelectionEnd=U,this.insertedText=K,this.insertedSelectionStart=G,this.insertedSelectionEnd=z}}function w(x,T){return x===" "?T===5||T===6?6:5:4}function L(x,T){return O(x)&&!O(T)?!0:x===5?!1:N(x)!==N(T)}function N(x){return x===6||x===5?"space":x}function O(x){return x===4||x===5||x===6}},61958:function(Ot,He,i){"use strict";i.d(He,{L:function(){return E},w:function(){return M}});var m=i(17416),B=i(60854),f=i(24048),_=i(31599),v=i(8964),A=i(50038);class M{static _createWord(l,d,g,n,a){return{start:n,end:a,wordType:d,nextCharClass:g}}static _findPreviousWordOnLine(l,d,g){const n=d.getLineContent(g.lineNumber);return this._doFindPreviousWordOnLine(n,l,g)}static _doFindPreviousWordOnLine(l,d,g){let n=0;for(let a=g.column-2;a>=0;a--){const C=l.charCodeAt(a),D=d.get(C);if(D===0){if(n===2)return this._createWord(l,n,D,a+1,this._findEndOfWord(l,d,n,a+1));n=1}else if(D===2){if(n===1)return this._createWord(l,n,D,a+1,this._findEndOfWord(l,d,n,a+1));n=2}else if(D===1&&n!==0)return this._createWord(l,n,D,a+1,this._findEndOfWord(l,d,n,a+1))}return n!==0?this._createWord(l,n,1,0,this._findEndOfWord(l,d,n,0)):null}static _findEndOfWord(l,d,g,n){const a=l.length;for(let C=n;C<a;C++){const D=l.charCodeAt(C),u=d.get(D);if(u===1||g===1&&u===2||g===2&&u===0)return C}return a}static _findNextWordOnLine(l,d,g){const n=d.getLineContent(g.lineNumber);return this._doFindNextWordOnLine(n,l,g)}static _doFindNextWordOnLine(l,d,g){let n=0;const a=l.length;for(let C=g.column-1;C<a;C++){const D=l.charCodeAt(C),u=d.get(D);if(u===0){if(n===2)return this._createWord(l,n,u,this._findStartOfWord(l,d,n,C-1),C);n=1}else if(u===2){if(n===1)return this._createWord(l,n,u,this._findStartOfWord(l,d,n,C-1),C);n=2}else if(u===1&&n!==0)return this._createWord(l,n,u,this._findStartOfWord(l,d,n,C-1),C)}return n!==0?this._createWord(l,n,1,this._findStartOfWord(l,d,n,a-1),a):null}static _findStartOfWord(l,d,g,n){for(let a=n;a>=0;a--){const C=l.charCodeAt(a),D=d.get(C);if(D===1||g===1&&D===2||g===2&&D===0)return a+1}return 0}static moveWordLeft(l,d,g,n){let a=g.lineNumber,C=g.column;C===1&&a>1&&(a=a-1,C=d.getLineMaxColumn(a));let D=M._findPreviousWordOnLine(l,d,new v.L(a,C));if(n===0)return new v.L(a,D?D.start+1:1);if(n===1)return D&&D.wordType===2&&D.end-D.start===1&&D.nextCharClass===0&&(D=M._findPreviousWordOnLine(l,d,new v.L(a,D.start+1))),new v.L(a,D?D.start+1:1);if(n===3){for(;D&&D.wordType===2;)D=M._findPreviousWordOnLine(l,d,new v.L(a,D.start+1));return new v.L(a,D?D.start+1:1)}return D&&C<=D.end+1&&(D=M._findPreviousWordOnLine(l,d,new v.L(a,D.start+1))),new v.L(a,D?D.end+1:1)}static _moveWordPartLeft(l,d){const g=d.lineNumber,n=l.getLineMaxColumn(g);if(d.column===1)return g>1?new v.L(g-1,l.getLineMaxColumn(g-1)):d;const a=l.getLineContent(g);for(let C=d.column-1;C>1;C--){const D=a.charCodeAt(C-2),u=a.charCodeAt(C-1);if(D===95&&u!==95)return new v.L(g,C);if(D===45&&u!==45)return new v.L(g,C);if((m.mK(D)||m.T5(D))&&m.df(u))return new v.L(g,C);if(m.df(D)&&m.df(u)&&C+1<n){const S=a.charCodeAt(C);if(m.mK(S)||m.T5(S))return new v.L(g,C)}}return new v.L(g,1)}static moveWordRight(l,d,g,n){let a=g.lineNumber,C=g.column,D=!1;C===d.getLineMaxColumn(a)&&a<d.getLineCount()&&(D=!0,a=a+1,C=1);let u=M._findNextWordOnLine(l,d,new v.L(a,C));if(n===2)u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=M._findNextWordOnLine(l,d,new v.L(a,u.end+1))),u?C=u.end+1:C=d.getLineMaxColumn(a);else if(n===3){for(D&&(C=0);u&&(u.wordType===2||u.start+1<=C);)u=M._findNextWordOnLine(l,d,new v.L(a,u.end+1));u?C=u.start+1:C=d.getLineMaxColumn(a)}else u&&!D&&C>=u.start+1&&(u=M._findNextWordOnLine(l,d,new v.L(a,u.end+1))),u?C=u.start+1:C=d.getLineMaxColumn(a);return new v.L(a,C)}static _moveWordPartRight(l,d){const g=d.lineNumber,n=l.getLineMaxColumn(g);if(d.column===n)return g<l.getLineCount()?new v.L(g+1,1):d;const a=l.getLineContent(g);for(let C=d.column+1;C<n;C++){const D=a.charCodeAt(C-2),u=a.charCodeAt(C-1);if(D!==95&&u===95)return new v.L(g,C);if(D!==45&&u===45)return new v.L(g,C);if((m.mK(D)||m.T5(D))&&m.df(u))return new v.L(g,C);if(m.df(D)&&m.df(u)&&C+1<n){const S=a.charCodeAt(C);if(m.mK(S)||m.T5(S))return new v.L(g,C)}}return new v.L(g,n)}static _deleteWordLeftWhitespace(l,d){const g=l.getLineContent(d.lineNumber),n=d.column-2,a=m.ow(g,n);return a+1<n?new A.e(d.lineNumber,a+2,d.lineNumber,d.column):null}static deleteWordLeft(l,d){const g=l.wordSeparators,n=l.model,a=l.selection,C=l.whitespaceHeuristics;if(!a.isEmpty())return a;if(f.A.isAutoClosingPairDelete(l.autoClosingDelete,l.autoClosingBrackets,l.autoClosingQuotes,l.autoClosingPairs.autoClosingPairsOpenByEnd,l.model,[l.selection],l.autoClosedCharacters)){const L=l.selection.getPosition();return new A.e(L.lineNumber,L.column-1,L.lineNumber,L.column+1)}const D=new v.L(a.positionLineNumber,a.positionColumn);let u=D.lineNumber,S=D.column;if(u===1&&S===1)return null;if(C){const L=this._deleteWordLeftWhitespace(n,D);if(L)return L}let w=M._findPreviousWordOnLine(g,n,D);return d===0?w?S=w.start+1:S>1?S=1:(u--,S=n.getLineMaxColumn(u)):(w&&S<=w.end+1&&(w=M._findPreviousWordOnLine(g,n,new v.L(u,w.start+1))),w?S=w.end+1:S>1?S=1:(u--,S=n.getLineMaxColumn(u))),new A.e(u,S,D.lineNumber,D.column)}static deleteInsideWord(l,d,g){if(!g.isEmpty())return g;const n=new v.L(g.positionLineNumber,g.positionColumn),a=this._deleteInsideWordWhitespace(d,n);return a||this._deleteInsideWordDetermineDeleteRange(l,d,n)}static _charAtIsWhitespace(l,d){const g=l.charCodeAt(d);return g===32||g===9}static _deleteInsideWordWhitespace(l,d){const g=l.getLineContent(d.lineNumber),n=g.length;if(n===0)return null;let a=Math.max(d.column-2,0);if(!this._charAtIsWhitespace(g,a))return null;let C=Math.min(d.column-1,n-1);if(!this._charAtIsWhitespace(g,C))return null;for(;a>0&&this._charAtIsWhitespace(g,a-1);)a--;for(;C+1<n&&this._charAtIsWhitespace(g,C+1);)C++;return new A.e(d.lineNumber,a+1,d.lineNumber,C+2)}static _deleteInsideWordDetermineDeleteRange(l,d,g){const n=d.getLineContent(g.lineNumber),a=n.length;if(a===0)return g.lineNumber>1?new A.e(g.lineNumber-1,d.getLineMaxColumn(g.lineNumber-1),g.lineNumber,1):g.lineNumber<d.getLineCount()?new A.e(g.lineNumber,1,g.lineNumber+1,1):new A.e(g.lineNumber,1,g.lineNumber,1);const C=L=>L.start+1<=g.column&&g.column<=L.end+1,D=(L,N)=>(L=Math.min(L,g.column),N=Math.max(N,g.column),new A.e(g.lineNumber,L,g.lineNumber,N)),u=L=>{let N=L.start+1,O=L.end+1,x=!1;for(;O-1<a&&this._charAtIsWhitespace(n,O-1);)x=!0,O++;if(!x)for(;N>1&&this._charAtIsWhitespace(n,N-2);)N--;return D(N,O)},S=M._findPreviousWordOnLine(l,d,g);if(S&&C(S))return u(S);const w=M._findNextWordOnLine(l,d,g);return w&&C(w)?u(w):S&&w?D(S.end+1,w.start+1):S?D(S.start+1,S.end+1):w?D(w.start+1,w.end+1):D(1,a+1)}static _deleteWordPartLeft(l,d){if(!d.isEmpty())return d;const g=d.getPosition(),n=M._moveWordPartLeft(l,g);return new A.e(g.lineNumber,g.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(l,d){const g=l.length;for(let n=d;n<g;n++){const a=l.charAt(n);if(a!==" "&&a!=="	")return n}return g}static _deleteWordRightWhitespace(l,d){const g=l.getLineContent(d.lineNumber),n=d.column-1,a=this._findFirstNonWhitespaceChar(g,n);return n+1<a?new A.e(d.lineNumber,d.column,d.lineNumber,a+1):null}static deleteWordRight(l,d){const g=l.wordSeparators,n=l.model,a=l.selection,C=l.whitespaceHeuristics;if(!a.isEmpty())return a;const D=new v.L(a.positionLineNumber,a.positionColumn);let u=D.lineNumber,S=D.column;const w=n.getLineCount(),L=n.getLineMaxColumn(u);if(u===w&&S===L)return null;if(C){const O=this._deleteWordRightWhitespace(n,D);if(O)return O}let N=M._findNextWordOnLine(g,n,D);return d===2?N?S=N.end+1:S<L||u===w?S=L:(u++,N=M._findNextWordOnLine(g,n,new v.L(u,1)),N?S=N.start+1:S=n.getLineMaxColumn(u)):(N&&S>=N.start+1&&(N=M._findNextWordOnLine(g,n,new v.L(u,N.end+1))),N?S=N.start+1:S<L||u===w?S=L:(u++,N=M._findNextWordOnLine(g,n,new v.L(u,1)),N?S=N.start+1:S=n.getLineMaxColumn(u))),new A.e(u,S,D.lineNumber,D.column)}static _deleteWordPartRight(l,d){if(!d.isEmpty())return d;const g=d.getPosition(),n=M._moveWordPartRight(l,g);return new A.e(g.lineNumber,g.column,n.lineNumber,n.column)}static _createWordAtPosition(l,d,g){const n=new A.e(d,g.start+1,d,g.end+1);return{word:l.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(l,d,g){const n=(0,_.u)(d),a=M._findPreviousWordOnLine(n,l,g);if(a&&a.wordType===1&&a.start<=g.column-1&&g.column-1<=a.end)return M._createWordAtPosition(l,g.lineNumber,a);const C=M._findNextWordOnLine(n,l,g);return C&&C.wordType===1&&C.start<=g.column-1&&g.column-1<=C.end?M._createWordAtPosition(l,g.lineNumber,C):null}static word(l,d,g,n,a){const C=(0,_.u)(l.wordSeparators),D=M._findPreviousWordOnLine(C,d,a),u=M._findNextWordOnLine(C,d,a);if(!n){let O,x;return D&&D.wordType===1&&D.start<=a.column-1&&a.column-1<=D.end?(O=D.start+1,x=D.end+1):u&&u.wordType===1&&u.start<=a.column-1&&a.column-1<=u.end?(O=u.start+1,x=u.end+1):(D?O=D.end+1:O=1,u?x=u.start+1:x=d.getLineMaxColumn(a.lineNumber)),new B.rS(new A.e(a.lineNumber,O,a.lineNumber,x),1,0,new v.L(a.lineNumber,x),0)}let S,w;D&&D.wordType===1&&D.start<a.column-1&&a.column-1<D.end?(S=D.start+1,w=D.end+1):u&&u.wordType===1&&u.start<a.column-1&&a.column-1<u.end?(S=u.start+1,w=u.end+1):(S=a.column,w=a.column);const L=a.lineNumber;let N;if(g.selectionStart.containsPosition(a))N=g.selectionStart.endColumn;else if(a.isBeforeOrEqual(g.selectionStart.getStartPosition())){N=S;const O=new v.L(L,N);g.selectionStart.containsPosition(O)&&(N=g.selectionStart.endColumn)}else{N=w;const O=new v.L(L,N);g.selectionStart.containsPosition(O)&&(N=g.selectionStart.startColumn)}return g.move(!0,L,N,0)}}class E extends M{static deleteWordPartLeft(l){const d=R([M.deleteWordLeft(l,0),M.deleteWordLeft(l,2),M._deleteWordPartLeft(l.model,l.selection)]);return d.sort(A.e.compareRangesUsingEnds),d[2]}static deleteWordPartRight(l){const d=R([M.deleteWordRight(l,0),M.deleteWordRight(l,2),M._deleteWordPartRight(l.model,l.selection)]);return d.sort(A.e.compareRangesUsingStarts),d[0]}static moveWordPartLeft(l,d,g){const n=R([M.moveWordLeft(l,d,g,0),M.moveWordLeft(l,d,g,2),M._moveWordPartLeft(d,g)]);return n.sort(v.L.compare),n[2]}static moveWordPartRight(l,d,g){const n=R([M.moveWordRight(l,d,g,0),M.moveWordRight(l,d,g,2),M._moveWordPartRight(d,g)]);return n.sort(v.L.compare),n[0]}}function R(p){return p.filter(l=>Boolean(l))}},60854:function(Ot,He,i){"use strict";i.d(He,{LM:function(){return p},LN:function(){return C},Tp:function(){return a},Vi:function(){return l},rS:function(){return n}});var m=i(8964),B=i(50038),f=i(57841),_=i(23189),v=i(61669),A=i(5184);const M=()=>!0,E=()=>!1,R=D=>D===" "||D==="	";class p{static shouldRecreate(u){return u.hasChanged(139)||u.hasChanged(125)||u.hasChanged(35)||u.hasChanged(74)||u.hasChanged(76)||u.hasChanged(77)||u.hasChanged(5)||u.hasChanged(9)||u.hasChanged(7)||u.hasChanged(8)||u.hasChanged(12)||u.hasChanged(123)||u.hasChanged(48)||u.hasChanged(87)}constructor(u,S,w,L){this.languageConfigurationService=L,this._cursorMoveConfigurationBrand=void 0,this._languageId=u;const N=w.options,O=N.get(139),x=N.get(48);this.readOnly=N.get(87),this.tabSize=S.tabSize,this.indentSize=S.indentSize,this.insertSpaces=S.insertSpaces,this.stickyTabStops=N.get(111),this.lineHeight=x.lineHeight,this.typicalHalfwidthCharacterWidth=x.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(O.height/this.lineHeight)-2),this.useTabStops=N.get(123),this.wordSeparators=N.get(125),this.emptySelectionClipboard=N.get(35),this.copyWithSyntaxHighlighting=N.get(23),this.multiCursorMergeOverlapping=N.get(74),this.multiCursorPaste=N.get(76),this.multiCursorLimit=N.get(77),this.autoClosingBrackets=N.get(5),this.autoClosingQuotes=N.get(9),this.autoClosingDelete=N.get(7),this.autoClosingOvertype=N.get(8),this.autoSurround=N.get(12),this.autoIndent=N.get(10),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(u,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(u,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(u).getAutoClosingPairs();const T=this.languageConfigurationService.getLanguageConfiguration(u).getSurroundingPairs();if(T)for(const W of T)this.surroundingPairs[W.open]=W.close}get electricChars(){var u;if(!this._electricChars){this._electricChars={};const S=(u=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||u===void 0?void 0:u.getElectricCharacters();if(S)for(const w of S)this._electricChars[w]=!0}return this._electricChars}onElectricCharacter(u,S,w){const L=(0,_.wH)(S,w-1),N=this.languageConfigurationService.getLanguageConfiguration(L.languageId).electricCharacter;return N?N.onElectricCharacter(u,L,w-L.firstCharOffset):null}normalizeIndentation(u){return(0,A.x)(u,this.indentSize,this.insertSpaces)}_getShouldAutoClose(u,S,w){switch(S){case"beforeWhitespace":return R;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(u,w);case"always":return M;case"never":return E}}_getLanguageDefinedShouldAutoClose(u,S){const w=this.languageConfigurationService.getLanguageConfiguration(u).getAutoCloseBeforeSet(S);return L=>w.indexOf(L)!==-1}visibleColumnFromColumn(u,S){return v.i.visibleColumnFromColumn(u.getLineContent(S.lineNumber),S.column,this.tabSize)}columnFromVisibleColumn(u,S,w){const L=v.i.columnFromVisibleColumn(u.getLineContent(S),w,this.tabSize),N=u.getLineMinColumn(S);if(L<N)return N;const O=u.getLineMaxColumn(S);return L>O?O:L}}class l{static fromModelState(u){return new d(u)}static fromViewState(u){return new g(u)}static fromModelSelection(u){const S=f.Y.liftSelection(u),w=new n(B.e.fromPositions(S.getSelectionStart()),0,0,S.getPosition(),0);return l.fromModelState(w)}static fromModelSelections(u){const S=[];for(let w=0,L=u.length;w<L;w++)S[w]=this.fromModelSelection(u[w]);return S}constructor(u,S){this._cursorStateBrand=void 0,this.modelState=u,this.viewState=S}equals(u){return this.viewState.equals(u.viewState)&&this.modelState.equals(u.modelState)}}class d{constructor(u){this.modelState=u,this.viewState=null}}class g{constructor(u){this.modelState=null,this.viewState=u}}class n{constructor(u,S,w,L,N){this.selectionStart=u,this.selectionStartKind=S,this.selectionStartLeftoverVisibleColumns=w,this.position=L,this.leftoverVisibleColumns=N,this._singleCursorStateBrand=void 0,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(u){return this.selectionStartLeftoverVisibleColumns===u.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===u.leftoverVisibleColumns&&this.selectionStartKind===u.selectionStartKind&&this.position.equals(u.position)&&this.selectionStart.equalsRange(u.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(u,S,w,L){return u?new n(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new m.L(S,w),L):new n(new B.e(S,w,S,w),0,L,new m.L(S,w),L)}static _computeSelection(u,S){return u.isEmpty()||!S.isBeforeOrEqual(u.getStartPosition())?f.Y.fromPositions(u.getStartPosition(),S):f.Y.fromPositions(u.getEndPosition(),S)}}class a{constructor(u,S,w){this._editOperationResultBrand=void 0,this.type=u,this.commands=S,this.shouldPushStackElementBefore=w.shouldPushStackElementBefore,this.shouldPushStackElementAfter=w.shouldPushStackElementAfter}}function C(D){return D==="'"||D==='"'||D==="`"}},36031:function(Ot,He,i){"use strict";i.d(He,{p:function(){return m}});class m{constructor(f,_,v,A,M,E){this.id=f,this.label=_,this.alias=v,this._precondition=A,this._run=M,this._contextKeyService=E}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(f){return this.isSupported()?this._run(f):Promise.resolve(void 0)}}},6390:function(Ot,He,i){"use strict";i.d(He,{g:function(){return m}});const m={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},21081:function(Ot,He,i){"use strict";i.d(He,{u:function(){return f}});var m=i(26386),B=i(76826),f;(function(_){_.editorSimpleInput=new B.uy("editorSimpleInput",!1,!0),_.editorTextFocus=new B.uy("editorTextFocus",!1,m.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),_.focus=new B.uy("editorFocus",!1,m.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),_.textInputFocus=new B.uy("textInputFocus",!1,m.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),_.readOnly=new B.uy("editorReadonly",!1,m.NC("editorReadonly","Whether the editor is read only")),_.inDiffEditor=new B.uy("inDiffEditor",!1,m.NC("inDiffEditor","Whether the context is a diff editor")),_.columnSelection=new B.uy("editorColumnSelection",!1,m.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),_.writable=_.readOnly.toNegated(),_.hasNonEmptySelection=new B.uy("editorHasSelection",!1,m.NC("editorHasSelection","Whether the editor has text selected")),_.hasOnlyEmptySelection=_.hasNonEmptySelection.toNegated(),_.hasMultipleSelections=new B.uy("editorHasMultipleSelections",!1,m.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),_.hasSingleSelection=_.hasMultipleSelections.toNegated(),_.tabMovesFocus=new B.uy("editorTabMovesFocus",!1,m.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),_.tabDoesNotMoveFocus=_.tabMovesFocus.toNegated(),_.isInWalkThroughSnippet=new B.uy("isInEmbeddedEditor",!1,!0),_.canUndo=new B.uy("canUndo",!1,!0),_.canRedo=new B.uy("canRedo",!1,!0),_.hoverVisible=new B.uy("editorHoverVisible",!1,m.NC("editorHoverVisible","Whether the editor hover is visible")),_.hoverFocused=new B.uy("editorHoverFocused",!1,m.NC("editorHoverFocused","Whether the editor hover is focused")),_.stickyScrollFocused=new B.uy("stickyScrollFocused",!1,m.NC("stickyScrollFocused","Whether the sticky scroll is focused")),_.stickyScrollVisible=new B.uy("stickyScrollVisible",!1,m.NC("stickyScrollVisible","Whether the sticky scroll is visible")),_.inCompositeEditor=new B.uy("inCompositeEditor",void 0,m.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),_.notInCompositeEditor=_.inCompositeEditor.toNegated(),_.languageId=new B.uy("editorLangId","",m.NC("editorLangId","The language identifier of the editor")),_.hasCompletionItemProvider=new B.uy("editorHasCompletionItemProvider",!1,m.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),_.hasCodeActionsProvider=new B.uy("editorHasCodeActionsProvider",!1,m.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),_.hasCodeLensProvider=new B.uy("editorHasCodeLensProvider",!1,m.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),_.hasDefinitionProvider=new B.uy("editorHasDefinitionProvider",!1,m.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),_.hasDeclarationProvider=new B.uy("editorHasDeclarationProvider",!1,m.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),_.hasImplementationProvider=new B.uy("editorHasImplementationProvider",!1,m.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),_.hasTypeDefinitionProvider=new B.uy("editorHasTypeDefinitionProvider",!1,m.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),_.hasHoverProvider=new B.uy("editorHasHoverProvider",!1,m.NC("editorHasHoverProvider","Whether the editor has a hover provider")),_.hasDocumentHighlightProvider=new B.uy("editorHasDocumentHighlightProvider",!1,m.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),_.hasDocumentSymbolProvider=new B.uy("editorHasDocumentSymbolProvider",!1,m.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),_.hasReferenceProvider=new B.uy("editorHasReferenceProvider",!1,m.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),_.hasRenameProvider=new B.uy("editorHasRenameProvider",!1,m.NC("editorHasRenameProvider","Whether the editor has a rename provider")),_.hasSignatureHelpProvider=new B.uy("editorHasSignatureHelpProvider",!1,m.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),_.hasInlayHintsProvider=new B.uy("editorHasInlayHintsProvider",!1,m.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),_.hasDocumentFormattingProvider=new B.uy("editorHasDocumentFormattingProvider",!1,m.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),_.hasDocumentSelectionFormattingProvider=new B.uy("editorHasDocumentSelectionFormattingProvider",!1,m.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),_.hasMultipleDocumentFormattingProvider=new B.uy("editorHasMultipleDocumentFormattingProvider",!1,m.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),_.hasMultipleDocumentSelectionFormattingProvider=new B.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,m.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(f||(f={}))},56072:function(Ot,He,i){"use strict";i.d(He,{n:function(){return f},y:function(){return B}});const m=[];function B(_){m.push(_)}function f(){return m.slice(0)}},24506:function(Ot,He,i){"use strict";i.d(He,{N:function(){return m}});class m{static getLanguageId(f){return(f&255)>>>0}static getTokenType(f){return(f&768)>>>8}static containsBalancedBrackets(f){return(f&1024)!==0}static getFontStyle(f){return(f&30720)>>>11}static getForeground(f){return(f&16744448)>>>15}static getBackground(f){return(f&4278190080)>>>24}static getClassNameFromMetadata(f){let v="mtk"+this.getForeground(f);const A=this.getFontStyle(f);return A&1&&(v+=" mtki"),A&2&&(v+=" mtkb"),A&4&&(v+=" mtku"),A&8&&(v+=" mtks"),v}static getInlineStyleFromMetadata(f,_){const v=this.getForeground(f),A=this.getFontStyle(f);let M=`color: ${_[v]};`;A&1&&(M+="font-style: italic;"),A&2&&(M+="font-weight: bold;");let E="";return A&4&&(E+=" underline"),A&8&&(E+=" line-through"),E&&(M+=`text-decoration:${E};`),M}static getPresentationFromMetadata(f){const _=this.getForeground(f),v=this.getFontStyle(f);return{foreground:_,italic:Boolean(v&1),bold:Boolean(v&2),underline:Boolean(v&4),strikethrough:Boolean(v&8)}}}},36082:function(Ot,He,i){"use strict";i.d(He,{mY:function(){return S},gX:function(){return d},MY:function(){return a},DI:function(){return l},AD:function(){return u},gl:function(){return w},bw:function(){return g},MO:function(){return L},WW:function(){return n},uZ:function(){return D},WU:function(){return R},RW:function(){return N},hG:function(){return p},vx:function(){return C}});var m=i(407),B=i(28919),f=i(50038),_=i(56709),v=i(38431),A=function(O,x,T,W){function U(K){return K instanceof T?K:new T(function(G){G(K)})}return new(T||(T=Promise))(function(K,G){function z(te){try{q(W.next(te))}catch(X){G(X)}}function k(te){try{q(W.throw(te))}catch(X){G(X)}}function q(te){te.done?K(te.value):U(te.value).then(z,k)}q((W=W.apply(O,x||[])).next())})};class M{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new _.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(x){this._onDidChange.fire({changedLanguages:x,changedColorMap:!1})}register(x,T){return this._tokenizationSupports.set(x,T),this.handleChange([x]),(0,v.OF)(()=>{this._tokenizationSupports.get(x)===T&&(this._tokenizationSupports.delete(x),this.handleChange([x]))})}get(x){return this._tokenizationSupports.get(x)||null}registerFactory(x,T){var W;(W=this._factories.get(x))===null||W===void 0||W.dispose();const U=new E(this,x,T);return this._factories.set(x,U),(0,v.OF)(()=>{const K=this._factories.get(x);!K||K!==U||(this._factories.delete(x),K.dispose())})}getOrCreate(x){return A(this,void 0,void 0,function*(){const T=this.get(x);if(T)return T;const W=this._factories.get(x);return!W||W.isResolved?null:(yield W.resolve(),this.get(x))})}isResolved(x){if(this.get(x))return!0;const W=this._factories.get(x);return!!(!W||W.isResolved)}setColorMap(x){this._colorMap=x,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class E extends v.JT{get isResolved(){return this._isResolved}constructor(x,T,W){super(),this._registry=x,this._languageId=T,this._factory=W,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return A(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return A(this,void 0,void 0,function*(){const x=yield this._factory.tokenizationSupport;this._isResolved=!0,x&&!this._isDisposed&&this._register(this._registry.register(this._languageId,x))})}}class R{constructor(x,T,W){this.offset=x,this.type=T,this.language=W,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class p{constructor(x,T){this.tokens=x,this.endState=T,this._tokenizationResultBrand=void 0}}class l{constructor(x,T){this.tokens=x,this.endState=T,this._encodedTokenizationResultBrand=void 0}}var d;(function(O){const x=new Map;x.set(0,m.l.symbolMethod),x.set(1,m.l.symbolFunction),x.set(2,m.l.symbolConstructor),x.set(3,m.l.symbolField),x.set(4,m.l.symbolVariable),x.set(5,m.l.symbolClass),x.set(6,m.l.symbolStruct),x.set(7,m.l.symbolInterface),x.set(8,m.l.symbolModule),x.set(9,m.l.symbolProperty),x.set(10,m.l.symbolEvent),x.set(11,m.l.symbolOperator),x.set(12,m.l.symbolUnit),x.set(13,m.l.symbolValue),x.set(15,m.l.symbolEnum),x.set(14,m.l.symbolConstant),x.set(15,m.l.symbolEnum),x.set(16,m.l.symbolEnumMember),x.set(17,m.l.symbolKeyword),x.set(27,m.l.symbolSnippet),x.set(18,m.l.symbolText),x.set(19,m.l.symbolColor),x.set(20,m.l.symbolFile),x.set(21,m.l.symbolReference),x.set(22,m.l.symbolCustomColor),x.set(23,m.l.symbolFolder),x.set(24,m.l.symbolTypeParameter),x.set(25,m.l.account),x.set(26,m.l.issues);function T(K){let G=x.get(K);return G||(console.info("No codicon found for CompletionItemKind "+K),G=m.l.symbolProperty),G}O.toIcon=T;const W=new Map;W.set("method",0),W.set("function",1),W.set("constructor",2),W.set("field",3),W.set("variable",4),W.set("class",5),W.set("struct",6),W.set("interface",7),W.set("module",8),W.set("property",9),W.set("event",10),W.set("operator",11),W.set("unit",12),W.set("value",13),W.set("constant",14),W.set("enum",15),W.set("enum-member",16),W.set("enumMember",16),W.set("keyword",17),W.set("snippet",27),W.set("text",18),W.set("color",19),W.set("file",20),W.set("reference",21),W.set("customcolor",22),W.set("folder",23),W.set("type-parameter",24),W.set("typeParameter",24),W.set("account",25),W.set("issue",26);function U(K,G){let z=W.get(K);return typeof z=="undefined"&&!G&&(z=9),z}O.fromString=U})(d||(d={}));var g;(function(O){O[O.Automatic=0]="Automatic",O[O.Explicit=1]="Explicit"})(g||(g={}));var n;(function(O){O[O.Invoke=1]="Invoke",O[O.TriggerCharacter=2]="TriggerCharacter",O[O.ContentChange=3]="ContentChange"})(n||(n={}));var a;(function(O){O[O.Text=0]="Text",O[O.Read=1]="Read",O[O.Write=2]="Write"})(a||(a={}));function C(O){return O&&B.o.isUri(O.uri)&&f.e.isIRange(O.range)&&(f.e.isIRange(O.originSelectionRange)||f.e.isIRange(O.targetSelectionRange))}var D;(function(O){const x=new Map;x.set(0,m.l.symbolFile),x.set(1,m.l.symbolModule),x.set(2,m.l.symbolNamespace),x.set(3,m.l.symbolPackage),x.set(4,m.l.symbolClass),x.set(5,m.l.symbolMethod),x.set(6,m.l.symbolProperty),x.set(7,m.l.symbolField),x.set(8,m.l.symbolConstructor),x.set(9,m.l.symbolEnum),x.set(10,m.l.symbolInterface),x.set(11,m.l.symbolFunction),x.set(12,m.l.symbolVariable),x.set(13,m.l.symbolConstant),x.set(14,m.l.symbolString),x.set(15,m.l.symbolNumber),x.set(16,m.l.symbolBoolean),x.set(17,m.l.symbolArray),x.set(18,m.l.symbolObject),x.set(19,m.l.symbolKey),x.set(20,m.l.symbolNull),x.set(21,m.l.symbolEnumMember),x.set(22,m.l.symbolStruct),x.set(23,m.l.symbolEvent),x.set(24,m.l.symbolOperator),x.set(25,m.l.symbolTypeParameter);function T(W){let U=x.get(W);return U||(console.info("No codicon found for SymbolKind "+W),U=m.l.symbolProperty),U}O.toIcon=T})(D||(D={}));class u{static fromValue(x){switch(x){case"comment":return u.Comment;case"imports":return u.Imports;case"region":return u.Region}return new u(x)}constructor(x){this.value=x}}u.Comment=new u("comment"),u.Imports=new u("imports"),u.Region=new u("region");var S;(function(O){function x(T){return!T||typeof T!="object"?!1:typeof T.id=="string"&&typeof T.title=="string"}O.is=x})(S||(S={}));var w;(function(O){O[O.Type=1]="Type",O[O.Parameter=2]="Parameter"})(w||(w={}));class L{constructor(x){this.createSupport=x,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(x=>{x&&x.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const N=new M},89026:function(Ot,He,i){"use strict";i.d(He,{$9:function(){return R},UF:function(){return E},n8:function(){return M},r7:function(){return A},tI:function(){return p}});var m=i(17416),B=i(50282),f=i(23189),_=i(64603);function v(l,d,g){const n=l.tokenization.getLanguageIdAtPosition(d,0);if(d>1){let a,C=-1;for(a=d-1;a>=1;a--){if(l.tokenization.getLanguageIdAtPosition(a,0)!==n)return C;const D=l.getLineContent(a);if(g.shouldIgnore(D)||/^\s+$/.test(D)||D===""){C=a;continue}return a}}return-1}function A(l,d,g,n=!0,a){if(l<4)return null;const C=a.getLanguageConfiguration(d.tokenization.getLanguageId()).indentRulesSupport;if(!C)return null;if(g<=1)return{indentation:"",action:null};for(let S=g-1;S>0&&d.getLineContent(S)==="";S--)if(S===1)return{indentation:"",action:null};const D=v(d,g,C);if(D<0)return null;if(D<1)return{indentation:"",action:null};const u=d.getLineContent(D);if(C.shouldIncrease(u)||C.shouldIndentNextLine(u))return{indentation:m.V8(u),action:B.wU.Indent,line:D};if(C.shouldDecrease(u))return{indentation:m.V8(u),action:null,line:D};{if(D===1)return{indentation:m.V8(d.getLineContent(D)),action:null,line:D};const S=D-1,w=C.getIndentMetadata(d.getLineContent(S));if(!(w&3)&&w&4){let L=0;for(let N=S-1;N>0;N--)if(!C.shouldIndentNextLine(d.getLineContent(N))){L=N;break}return{indentation:m.V8(d.getLineContent(L+1)),action:null,line:L+1}}if(n)return{indentation:m.V8(d.getLineContent(D)),action:null,line:D};for(let L=D;L>0;L--){const N=d.getLineContent(L);if(C.shouldIncrease(N))return{indentation:m.V8(N),action:B.wU.Indent,line:L};if(C.shouldIndentNextLine(N)){let O=0;for(let x=L-1;x>0;x--)if(!C.shouldIndentNextLine(d.getLineContent(L))){O=x;break}return{indentation:m.V8(d.getLineContent(O+1)),action:null,line:O+1}}else if(C.shouldDecrease(N))return{indentation:m.V8(N),action:null,line:L}}return{indentation:m.V8(d.getLineContent(1)),action:null,line:1}}}function M(l,d,g,n,a,C){if(l<4)return null;const D=C.getLanguageConfiguration(g);if(!D)return null;const u=C.getLanguageConfiguration(g).indentRulesSupport;if(!u)return null;const S=A(l,d,n,void 0,C),w=d.getLineContent(n);if(S){const L=S.line;if(L!==void 0){let N=!0;for(let O=L;O<n-1;O++)if(!/^\s*$/.test(d.getLineContent(O))){N=!1;break}if(N){const O=D.onEnter(l,"",d.getLineContent(L),"");if(O){let x=m.V8(d.getLineContent(L));return O.removeText&&(x=x.substring(0,x.length-O.removeText)),O.indentAction===B.wU.Indent||O.indentAction===B.wU.IndentOutdent?x=a.shiftIndent(x):O.indentAction===B.wU.Outdent&&(x=a.unshiftIndent(x)),u.shouldDecrease(w)&&(x=a.unshiftIndent(x)),O.appendText&&(x+=O.appendText),m.V8(x)}}}return u.shouldDecrease(w)?S.action===B.wU.Indent?S.indentation:a.unshiftIndent(S.indentation):S.action===B.wU.Indent?a.shiftIndent(S.indentation):S.indentation}return null}function E(l,d,g,n,a){if(l<4)return null;d.tokenization.forceTokenization(g.startLineNumber);const C=d.tokenization.getLineTokens(g.startLineNumber),D=(0,f.wH)(C,g.startColumn-1),u=D.getLineContent();let S=!1,w;D.firstCharOffset>0&&C.getLanguageId(0)!==D.languageId?(S=!0,w=u.substr(0,g.startColumn-1-D.firstCharOffset)):w=C.getLineContent().substring(0,g.startColumn-1);let L;g.isEmpty()?L=u.substr(g.startColumn-1-D.firstCharOffset):L=(0,_.n2)(d,g.endLineNumber,g.endColumn).getLineContent().substr(g.endColumn-1-D.firstCharOffset);const N=a.getLanguageConfiguration(D.languageId).indentRulesSupport;if(!N)return null;const O=w,x=m.V8(w),T={tokenization:{getLineTokens:G=>d.tokenization.getLineTokens(G),getLanguageId:()=>d.getLanguageId(),getLanguageIdAtPosition:(G,z)=>d.getLanguageIdAtPosition(G,z)},getLineContent:G=>G===g.startLineNumber?O:d.getLineContent(G)},W=m.V8(C.getLineContent()),U=A(l,T,g.startLineNumber+1,void 0,a);if(!U){const G=S?W:x;return{beforeEnter:G,afterEnter:G}}let K=S?W:U.indentation;return U.action===B.wU.Indent&&(K=n.shiftIndent(K)),N.shouldDecrease(L)&&(K=n.unshiftIndent(K)),{beforeEnter:S?W:x,afterEnter:K}}function R(l,d,g,n,a,C){if(l<4)return null;const D=(0,_.n2)(d,g.startLineNumber,g.startColumn);if(D.firstCharOffset)return null;const u=C.getLanguageConfiguration(D.languageId).indentRulesSupport;if(!u)return null;const S=D.getLineContent(),w=S.substr(0,g.startColumn-1-D.firstCharOffset);let L;if(g.isEmpty()?L=S.substr(g.startColumn-1-D.firstCharOffset):L=(0,_.n2)(d,g.endLineNumber,g.endColumn).getLineContent().substr(g.endColumn-1-D.firstCharOffset),!u.shouldDecrease(w+L)&&u.shouldDecrease(w+n+L)){const N=A(l,d,g.startLineNumber,!1,C);if(!N)return null;let O=N.indentation;return N.action!==B.wU.Indent&&(O=a.unshiftIndent(O)),O}return null}function p(l,d,g){const n=g.getLanguageConfiguration(l.getLanguageId()).indentRulesSupport;return!n||d<1||d>l.getLineCount()?null:n.getIndentMetadata(l.getLineContent(d))}},14:function(Ot,He,i){"use strict";i.d(He,{A:function(){return f}});var m=i(50282),B=i(64603);function f(_,v,A,M){const E=(0,B.n2)(v,A.startLineNumber,A.startColumn),R=M.getLanguageConfiguration(E.languageId);if(!R)return null;const p=E.getLineContent(),l=p.substr(0,A.startColumn-1-E.firstCharOffset);let d;A.isEmpty()?d=p.substr(A.startColumn-1-E.firstCharOffset):d=(0,B.n2)(v,A.endLineNumber,A.endColumn).getLineContent().substr(A.endColumn-1-E.firstCharOffset);let g="";if(A.startLineNumber>1&&E.firstCharOffset===0){const S=(0,B.n2)(v,A.startLineNumber-1);S.languageId===E.languageId&&(g=S.getLineContent())}const n=R.onEnter(_,g,l,d);if(!n)return null;const a=n.indentAction;let C=n.appendText;const D=n.removeText||0;C?a===m.wU.Indent&&(C="	"+C):a===m.wU.Indent||a===m.wU.IndentOutdent?C="	":C="";let u=(0,B.u0)(v,A.startLineNumber,A.startColumn);return D&&(u=u.substring(0,u.length-D)),{indentAction:a,appendText:C,removeText:D,indentation:u}}},47626:function(Ot,He,i){"use strict";i.d(He,{O:function(){return B}});var m=i(44333);const B=(0,m.yh)("languageService")},50282:function(Ot,He,i){"use strict";i.d(He,{V6:function(){return B},c$:function(){return f},wU:function(){return m}});var m;(function(v){v[v.None=0]="None",v[v.Indent=1]="Indent",v[v.IndentOutdent=2]="IndentOutdent",v[v.Outdent=3]="Outdent"})(m||(m={}));class B{constructor(A){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=A.open,this.close=A.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(A.notIn))for(let M=0,E=A.notIn.length;M<E;M++)switch(A.notIn[M]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(A){switch(A){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(A,M){if(A.getTokenCount()===0)return!0;const E=A.findTokenIndexAtOffset(M-2),R=A.getStandardTokenType(E);return this.isOK(R)}_findNeutralCharacterInRange(A,M){for(let E=A;E<=M;E++){const R=String.fromCharCode(E);if(!this.open.includes(R)&&!this.close.includes(R))return R}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class f{constructor(A){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const M of A)_(this.autoClosingPairsOpenByStart,M.open.charAt(0),M),_(this.autoClosingPairsOpenByEnd,M.open.charAt(M.open.length-1),M),_(this.autoClosingPairsCloseByStart,M.close.charAt(0),M),_(this.autoClosingPairsCloseByEnd,M.close.charAt(M.close.length-1),M),M.close.length===1&&M.open.length===1&&_(this.autoClosingPairsCloseSingleChar,M.close,M)}}function _(v,A,M){v.has(A)?v.get(A).push(M):v.set(A,[M])}},64603:function(Ot,He,i){"use strict";i.d(He,{c_:function(){return G},u0:function(){return j},n2:function(){return J}});var m=i(56709),B=i(38431),f=i(17416),_=i(52676),v=i(50282),A=i(23189);class M{constructor(Le){if(Le.autoClosingPairs?this._autoClosingPairs=Le.autoClosingPairs.map(ue=>new v.V6(ue)):Le.brackets?this._autoClosingPairs=Le.brackets.map(ue=>new v.V6({open:ue[0],close:ue[1]})):this._autoClosingPairs=[],Le.__electricCharacterSupport&&Le.__electricCharacterSupport.docComment){const ue=Le.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new v.V6({open:ue.open,close:ue.close||""}))}this._autoCloseBeforeForQuotes=typeof Le.autoCloseBefore=="string"?Le.autoCloseBefore:M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof Le.autoCloseBefore=="string"?Le.autoCloseBefore:M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=Le.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(Le){return Le?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var E=i(16308),R=i(16673);class p{constructor(Le){this._richEditBrackets=Le}getElectricCharacters(){const Le=[];if(this._richEditBrackets)for(const ue of this._richEditBrackets.brackets)for(const re of ue.close){const _e=re.charAt(re.length-1);Le.push(_e)}return(0,E.EB)(Le)}onElectricCharacter(Le,ue,re){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const _e=ue.findTokenIndexAtOffset(re-1);if((0,A.Bu)(ue.getStandardTokenType(_e)))return null;const Ue=this._richEditBrackets.reversedRegex,Qe=ue.getLineContent().substring(0,re-1)+Le,Re=R.Vr.findPrevBracketInRange(Ue,1,Qe,0,Qe.length);if(!Re)return null;const ie=Qe.substring(Re.startColumn-1,Re.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[ie])return null;const se=ue.getActualLineContentBefore(Re.startColumn-1);return/^\s*$/.test(se)?{matchOpenBracket:ie}:null}}function l(xe){return xe.global&&(xe.lastIndex=0),!0}class d{constructor(Le){this._indentationRules=Le}shouldIncrease(Le){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&l(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(Le))}shouldDecrease(Le){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&l(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(Le))}shouldIndentNextLine(Le){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&l(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(Le))}shouldIgnore(Le){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&l(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(Le))}getIndentMetadata(Le){let ue=0;return this.shouldIncrease(Le)&&(ue+=1),this.shouldDecrease(Le)&&(ue+=2),this.shouldIndentNextLine(Le)&&(ue+=4),this.shouldIgnore(Le)&&(ue+=8),ue}}var g=i(20996);class n{constructor(Le){Le=Le||{},Le.brackets=Le.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],Le.brackets.forEach(ue=>{const re=n._createOpenBracketRegExp(ue[0]),_e=n._createCloseBracketRegExp(ue[1]);re&&_e&&this._brackets.push({open:ue[0],openRegExp:re,close:ue[1],closeRegExp:_e})}),this._regExpRules=Le.onEnterRules||[]}onEnter(Le,ue,re,_e){if(Le>=3)for(let Ue=0,Qe=this._regExpRules.length;Ue<Qe;Ue++){const Re=this._regExpRules[Ue];if([{reg:Re.beforeText,text:re},{reg:Re.afterText,text:_e},{reg:Re.previousLineText,text:ue}].every(Z=>Z.reg?(Z.reg.lastIndex=0,Z.reg.test(Z.text)):!0))return Re.action}if(Le>=2&&re.length>0&&_e.length>0)for(let Ue=0,Qe=this._brackets.length;Ue<Qe;Ue++){const Re=this._brackets[Ue];if(Re.openRegExp.test(re)&&Re.closeRegExp.test(_e))return{indentAction:v.wU.IndentOutdent}}if(Le>=2&&re.length>0){for(let Ue=0,Qe=this._brackets.length;Ue<Qe;Ue++)if(this._brackets[Ue].openRegExp.test(re))return{indentAction:v.wU.Indent}}return null}static _createOpenBracketRegExp(Le){let ue=f.ec(Le);return/\B/.test(ue.charAt(0))||(ue="\\b"+ue),ue+="\\s*$",n._safeRegExp(ue)}static _createCloseBracketRegExp(Le){let ue=f.ec(Le);return/\B/.test(ue.charAt(ue.length-1))||(ue=ue+"\\b"),ue="^\\s*"+ue,n._safeRegExp(ue)}static _safeRegExp(Le){try{return new RegExp(Le)}catch(ue){return(0,g.dL)(ue),null}}}var a=i(44333),C=i(71177),D=i(47626),u=i(53061),S=i(90638),w=i(88280);class L{constructor(Le,ue){this.languageId=Le;const re=ue.brackets?N(ue.brackets):[],_e=new w.b(Re=>{const ie=new Set;return{info:new x(this,Re,ie),closing:ie}}),Ue=new w.b(Re=>{const ie=new Set,Z=new Set;return{info:new T(this,Re,ie,Z),opening:ie,openingColorized:Z}});for(const[Re,ie]of re){const Z=_e.get(Re),se=Ue.get(ie);Z.closing.add(se.info),se.opening.add(Z.info)}const Qe=ue.colorizedBracketPairs?N(ue.colorizedBracketPairs):re.filter(Re=>!(Re[0]==="<"&&Re[1]===">"));for(const[Re,ie]of Qe){const Z=_e.get(Re),se=Ue.get(ie);Z.closing.add(se.info),se.openingColorized.add(Z.info),se.opening.add(Z.info)}this._openingBrackets=new Map([..._e.cachedValues].map(([Re,ie])=>[Re,ie.info])),this._closingBrackets=new Map([...Ue.cachedValues].map(([Re,ie])=>[Re,ie.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(Le){return this._openingBrackets.get(Le)}getClosingBracketInfo(Le){return this._closingBrackets.get(Le)}getBracketInfo(Le){return this.getOpeningBracketInfo(Le)||this.getClosingBracketInfo(Le)}}function N(xe){return xe.filter(([Le,ue])=>Le!==""&&ue!=="")}class O{constructor(Le,ue){this.config=Le,this.bracketText=ue}get languageId(){return this.config.languageId}}class x extends O{constructor(Le,ue,re){super(Le,ue),this.openedBrackets=re,this.isOpeningBracket=!0}}class T extends O{constructor(Le,ue,re,_e){super(Le,ue),this.openingBrackets=re,this.openingColorizedBrackets=_e,this.isOpeningBracket=!1}closes(Le){return Le.config!==this.config?!1:this.openingBrackets.has(Le)}closesColorized(Le){return Le.config!==this.config?!1:this.openingColorizedBrackets.has(Le)}getOpeningBrackets(){return[...this.openingBrackets]}}var W=function(xe,Le,ue,re){var _e=arguments.length,Ue=_e<3?Le:re===null?re=Object.getOwnPropertyDescriptor(Le,ue):re,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ue=Reflect.decorate(xe,Le,ue,re);else for(var Re=xe.length-1;Re>=0;Re--)(Qe=xe[Re])&&(Ue=(_e<3?Qe(Ue):_e>3?Qe(Le,ue,Ue):Qe(Le,ue))||Ue);return _e>3&&Ue&&Object.defineProperty(Le,ue,Ue),Ue},U=function(xe,Le){return function(ue,re){Le(ue,re,xe)}};class K{constructor(Le){this.languageId=Le}affects(Le){return this.languageId?this.languageId===Le:!0}}const G=(0,a.yh)("languageConfigurationService");let z=class extends B.JT{constructor(Le,ue){super(),this.configurationService=Le,this.languageService=ue,this._registry=this._register(new Ne),this.onDidChangeEmitter=this._register(new m.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const re=new Set(Object.values(q));this._register(this.configurationService.onDidChangeConfiguration(_e=>{const Ue=_e.change.keys.some(Re=>re.has(Re)),Qe=_e.change.overrides.filter(([Re,ie])=>ie.some(Z=>re.has(Z))).map(([Re])=>Re);if(Ue)this.configurations.clear(),this.onDidChangeEmitter.fire(new K(void 0));else for(const Re of Qe)this.languageService.isRegisteredLanguageId(Re)&&(this.configurations.delete(Re),this.onDidChangeEmitter.fire(new K(Re)))})),this._register(this._registry.onDidChange(_e=>{this.configurations.delete(_e.languageId),this.onDidChangeEmitter.fire(new K(_e.languageId))}))}register(Le,ue,re){return this._registry.register(Le,ue,re)}getLanguageConfiguration(Le){let ue=this.configurations.get(Le);return ue||(ue=k(Le,this._registry,this.configurationService,this.languageService),this.configurations.set(Le,ue)),ue}};z=W([U(0,C.Ui),U(1,D.O)],z);function k(xe,Le,ue,re){let _e=Le.getLanguageConfiguration(xe);if(!_e){if(!re.isRegisteredLanguageId(xe))return new be(xe,{});_e=new be(xe,{})}const Ue=te(_e.languageId,ue),Qe=ee([_e.underlyingConfig,Ue]);return new be(_e.languageId,Qe)}const q={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function te(xe,Le){const ue=Le.getValue(q.brackets,{overrideIdentifier:xe}),re=Le.getValue(q.colorizedBracketPairs,{overrideIdentifier:xe});return{brackets:X(ue),colorizedBracketPairs:X(re)}}function X(xe){if(Array.isArray(xe))return xe.map(Le=>{if(!(!Array.isArray(Le)||Le.length!==2))return[Le[0],Le[1]]}).filter(Le=>!!Le)}function j(xe,Le,ue){const re=xe.getLineContent(Le);let _e=f.V8(re);return _e.length>ue-1&&(_e=_e.substring(0,ue-1)),_e}function J(xe,Le,ue){xe.tokenization.forceTokenization(Le);const re=xe.tokenization.getLineTokens(Le),_e=typeof ue=="undefined"?xe.getLineMaxColumn(Le)-1:ue-1;return(0,A.wH)(re,_e)}class Y{constructor(Le){this.languageId=Le,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(Le,ue){const re=new fe(Le,ue,++this._order);return this._entries.push(re),this._resolved=null,(0,B.OF)(()=>{for(let _e=0;_e<this._entries.length;_e++)if(this._entries[_e]===re){this._entries.splice(_e,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const Le=this._resolve();Le&&(this._resolved=new be(this.languageId,Le))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(fe.cmp),ee(this._entries.map(Le=>Le.configuration)))}}function ee(xe){let Le={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const ue of xe)Le={comments:ue.comments||Le.comments,brackets:ue.brackets||Le.brackets,wordPattern:ue.wordPattern||Le.wordPattern,indentationRules:ue.indentationRules||Le.indentationRules,onEnterRules:ue.onEnterRules||Le.onEnterRules,autoClosingPairs:ue.autoClosingPairs||Le.autoClosingPairs,surroundingPairs:ue.surroundingPairs||Le.surroundingPairs,autoCloseBefore:ue.autoCloseBefore||Le.autoCloseBefore,folding:ue.folding||Le.folding,colorizedBracketPairs:ue.colorizedBracketPairs||Le.colorizedBracketPairs,__electricCharacterSupport:ue.__electricCharacterSupport||Le.__electricCharacterSupport};return Le}class fe{constructor(Le,ue,re){this.configuration=Le,this.priority=ue,this.order=re}static cmp(Le,ue){return Le.priority===ue.priority?Le.order-ue.order:Le.priority-ue.priority}}class De{constructor(Le){this.languageId=Le}}class Ne extends B.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new m.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(S.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(Le,ue,re=0){let _e=this._entries.get(Le);_e||(_e=new Y(Le),this._entries.set(Le,_e));const Ue=_e.register(ue,re);return this._onDidChange.fire(new De(Le)),(0,B.OF)(()=>{Ue.dispose(),this._onDidChange.fire(new De(Le))})}getLanguageConfiguration(Le){const ue=this._entries.get(Le);return(ue==null?void 0:ue.getResolvedConfiguration())||null}}class be{constructor(Le,ue){this.languageId=Le,this.underlyingConfig=ue,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n(this.underlyingConfig):null,this.comments=be._handleComments(this.underlyingConfig),this.characterPair=new M(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||_.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new d(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new L(Le,this.underlyingConfig)}getWordDefinition(){return(0,_.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new R.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new p(this.brackets)),this._electricCharacter}onEnter(Le,ue,re,_e){return this._onEnterSupport?this._onEnterSupport.onEnter(Le,ue,re,_e):null}getAutoClosingPairs(){return new v.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(Le){return this.characterPair.getAutoCloseBeforeSet(Le)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(Le){const ue=Le.comments;if(!ue)return null;const re={};if(ue.lineComment&&(re.lineCommentToken=ue.lineComment),ue.blockComment){const[_e,Ue]=ue.blockComment;re.blockCommentStartToken=_e,re.blockCommentEndToken=Ue}return re}}(0,u.z)(G,z,1)},90638:function(Ot,He,i){"use strict";i.d(He,{bd:function(){return R},dQ:function(){return E}});var m=i(26386),B=i(56709),f=i(6325),_=i(9161),v=i(12326);const A={ModesRegistry:"editor.modesRegistry"};class M{constructor(){this._onDidChangeLanguages=new B.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(d){return this._languages.push(d),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let g=0,n=this._languages.length;g<n;g++)if(this._languages[g]===d){this._languages.splice(g,1);return}}}}getLanguages(){return this._languages}}const E=new M;f.B.add(A.ModesRegistry,E);const R="plaintext",p=".txt";E.registerLanguage({id:R,extensions:[p],aliases:[m.NC("plainText.alias","Plain Text"),"text"],mimetypes:[_.v.text]}),f.B.as(v.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},93375:function(Ot,He,i){"use strict";i.d(He,{Dy:function(){return _},Ri:function(){return f},TJ:function(){return B}});var m=i(36082);const B=new class{clone(){return this}equals(v){return this===v}};function f(v,A){return new m.hG([new m.WU(0,"",v)],A)}function _(v,A){const M=new Uint32Array(2);return M[0]=0,M[1]=(v<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new m.DI(M,A===null?B:A)}},23189:function(Ot,He,i){"use strict";i.d(He,{Bu:function(){return f},wH:function(){return m}});function m(_,v){const A=_.getCount(),M=_.findTokenIndexAtOffset(v),E=_.getLanguageId(M);let R=M;for(;R+1<A&&_.getLanguageId(R+1)===E;)R++;let p=M;for(;p>0&&_.getLanguageId(p-1)===E;)p--;return new B(_,E,p,R+1,_.getStartOffset(p),_.getEndOffset(R))}class B{constructor(v,A,M,E,R,p){this._scopedLineTokensBrand=void 0,this._actual=v,this.languageId=A,this._firstTokenIndex=M,this._lastTokenIndex=E,this.firstCharOffset=R,this._lastCharOffset=p}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(v){return this._actual.getLineContent().substring(0,this.firstCharOffset+v)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(v){return this._actual.findTokenIndexAtOffset(v+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(v){return this._actual.getStandardTokenType(v+this._firstTokenIndex)}}function f(_){return(_&3)!==0}},16673:function(Ot,He,i){"use strict";i.d(He,{EA:function(){return A},Vr:function(){return D}});var m=i(17416),B=i(12342),f=i(50038);class _{constructor(S,w,L,N,O,x){this._richEditBracketBrand=void 0,this.languageId=S,this.index=w,this.open=L,this.close=N,this.forwardRegex=O,this.reversedRegex=x,this._openSet=_._toSet(this.open),this._closeSet=_._toSet(this.close)}isOpen(S){return this._openSet.has(S)}isClose(S){return this._closeSet.has(S)}static _toSet(S){const w=new Set;for(const L of S)w.add(L);return w}}function v(u){const S=u.length;u=u.map(x=>[x[0].toLowerCase(),x[1].toLowerCase()]);const w=[];for(let x=0;x<S;x++)w[x]=x;const L=(x,T)=>{const[W,U]=x,[K,G]=T;return W===K||W===G||U===K||U===G},N=(x,T)=>{const W=Math.min(x,T),U=Math.max(x,T);for(let K=0;K<S;K++)w[K]===U&&(w[K]=W)};for(let x=0;x<S;x++){const T=u[x];for(let W=x+1;W<S;W++){const U=u[W];L(T,U)&&N(w[x],w[W])}}const O=[];for(let x=0;x<S;x++){const T=[],W=[];for(let U=0;U<S;U++)if(w[U]===x){const[K,G]=u[U];T.push(K),W.push(G)}T.length>0&&O.push({open:T,close:W})}return O}class A{constructor(S,w){this._richEditBracketsBrand=void 0;const L=v(w);this.brackets=L.map((N,O)=>new _(S,O,N.open,N.close,p(N.open,N.close,L,O),l(N.open,N.close,L,O))),this.forwardRegex=d(this.brackets),this.reversedRegex=g(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const N of this.brackets){for(const O of N.open)this.textIsBracket[O]=N,this.textIsOpenBracket[O]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,O.length);for(const O of N.close)this.textIsBracket[O]=N,this.textIsOpenBracket[O]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,O.length)}}}function M(u,S,w,L){for(let N=0,O=S.length;N<O;N++){if(N===w)continue;const x=S[N];for(const T of x.open)T.indexOf(u)>=0&&L.push(T);for(const T of x.close)T.indexOf(u)>=0&&L.push(T)}}function E(u,S){return u.length-S.length}function R(u){if(u.length<=1)return u;const S=[],w=new Set;for(const L of u)w.has(L)||(S.push(L),w.add(L));return S}function p(u,S,w,L){let N=[];N=N.concat(u),N=N.concat(S);for(let O=0,x=N.length;O<x;O++)M(N[O],w,L,N);return N=R(N),N.sort(E),N.reverse(),a(N)}function l(u,S,w,L){let N=[];N=N.concat(u),N=N.concat(S);for(let O=0,x=N.length;O<x;O++)M(N[O],w,L,N);return N=R(N),N.sort(E),N.reverse(),a(N.map(C))}function d(u){let S=[];for(const w of u){for(const L of w.open)S.push(L);for(const L of w.close)S.push(L)}return S=R(S),a(S)}function g(u){let S=[];for(const w of u){for(const L of w.open)S.push(L);for(const L of w.close)S.push(L)}return S=R(S),a(S.map(C))}function n(u){const S=/^[\w ]+$/.test(u);return u=m.ec(u),S?`\\b${u}\\b`:u}function a(u){const S=`(${u.map(n).join(")|(")})`;return m.GF(S,!0)}const C=function(){function u(L){const N=new Uint16Array(L.length);let O=0;for(let x=L.length-1;x>=0;x--)N[O++]=L.charCodeAt(x);return B.oe().decode(N)}let S=null,w=null;return function(N){return S!==N&&(S=N,w=u(S)),w}}();class D{static _findPrevBracketInText(S,w,L,N){const O=L.match(S);if(!O)return null;const x=L.length-(O.index||0),T=O[0].length,W=N+x;return new f.e(w,W-T+1,w,W+1)}static findPrevBracketInRange(S,w,L,N,O){const T=C(L).substring(L.length-O,L.length-N);return this._findPrevBracketInText(S,w,T,N)}static findNextBracketInText(S,w,L,N){const O=L.match(S);if(!O)return null;const x=O.index||0,T=O[0].length;if(T===0)return null;const W=N+x;return new f.e(w,W+1,w,W+1+T)}static findNextBracketInRange(S,w,L,N,O){const x=L.substring(N,O);return this.findNextBracketInText(S,w,x,N)}}},7358:function(Ot,He,i){"use strict";i.d(He,{C2:function(){return M},Fq:function(){return E}});var m=i(17416),B=i(10403),f=i(36082),_=i(93375),v=function(p,l,d,g){function n(a){return a instanceof d?a:new d(function(C){C(a)})}return new(d||(d=Promise))(function(a,C){function D(w){try{S(g.next(w))}catch(L){C(L)}}function u(w){try{S(g.throw(w))}catch(L){C(L)}}function S(w){w.done?a(w.value):n(w.value).then(D,u)}S((g=g.apply(p,l||[])).next())})};const A={getInitialState:()=>_.TJ,tokenizeEncoded:(p,l,d)=>(0,_.Dy)(0,d)};function M(p,l,d){return v(this,void 0,void 0,function*(){if(!d)return R(l,p.languageIdCodec,A);const g=yield f.RW.getOrCreate(d);return R(l,p.languageIdCodec,g||A)})}function E(p,l,d,g,n,a,C){let D="<div>",u=g,S=0,w=!0;for(let L=0,N=l.getCount();L<N;L++){const O=l.getEndOffset(L);if(O<=g)continue;let x="";for(;u<O&&u<n;u++){const T=p.charCodeAt(u);switch(T){case 9:{let W=a-(u+S)%a;for(S+=W-1;W>0;)C&&w?(x+="&#160;",w=!1):(x+=" ",w=!0),W--;break}case 60:x+="&lt;",w=!1;break;case 62:x+="&gt;",w=!1;break;case 38:x+="&amp;",w=!1;break;case 0:x+="&#00;",w=!1;break;case 65279:case 8232:case 8233:case 133:x+="\uFFFD",w=!1;break;case 13:x+="&#8203",w=!1;break;case 32:C&&w?(x+="&#160;",w=!1):(x+=" ",w=!0);break;default:x+=String.fromCharCode(T),w=!1}}if(D+=`<span style="${l.getInlineStyle(L,d)}">${x}</span>`,O>n||u>=n)break}return D+="</div>",D}function R(p,l,d){let g='<div class="monaco-tokenized-source">';const n=m.uq(p);let a=d.getInitialState();for(let C=0,D=n.length;C<D;C++){const u=n[C];C>0&&(g+="<br/>");const S=d.tokenizeEncoded(u,!0,a);B.A.convertToEndOffset(S.tokens,u.length);const L=new B.A(S.tokens,u,l).inflate();let N=0;for(let O=0,x=L.getCount();O<x;O++){const T=L.getClassName(O),W=L.getEndOffset(O);g+=`<span class="${T}">${m.YU(u.substring(N,W))}</span>`,N=W}a=S.endState}return g+="</div>",g}},41913:function(Ot,He,i){"use strict";i.d(He,{F5:function(){return f},Hf:function(){return M},Qi:function(){return E},RM:function(){return _},Tx:function(){return R},dJ:function(){return v},je:function(){return p},pt:function(){return l},sh:function(){return B},tk:function(){return A}});var m=i(23127),B;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(B||(B={}));var f;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(f||(f={}));var _;(function(d){d[d.Both=0]="Both",d[d.Right=1]="Right",d[d.Left=2]="Left",d[d.None=3]="None"})(_||(_={}));class v{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(g){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,g.tabSize|0),g.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,g.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(g.insertSpaces),this.defaultEOL=g.defaultEOL|0,this.trimAutoWhitespace=Boolean(g.trimAutoWhitespace),this.bracketPairColorizationOptions=g.bracketPairColorizationOptions}equals(g){return this.tabSize===g.tabSize&&this._indentSizeIsTabSize===g._indentSizeIsTabSize&&this.indentSize===g.indentSize&&this.insertSpaces===g.insertSpaces&&this.defaultEOL===g.defaultEOL&&this.trimAutoWhitespace===g.trimAutoWhitespace&&(0,m.fS)(this.bracketPairColorizationOptions,g.bracketPairColorizationOptions)}createChangeEvent(g){return{tabSize:this.tabSize!==g.tabSize,indentSize:this.indentSize!==g.indentSize,insertSpaces:this.insertSpaces!==g.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==g.trimAutoWhitespace}}}class A{constructor(g,n){this._findMatchBrand=void 0,this.range=g,this.matches=n}}function M(d){return d&&typeof d.read=="function"}class E{constructor(g,n,a,C,D,u){this.identifier=g,this.range=n,this.text=a,this.forceMoveMarkers=C,this.isAutoWhitespaceEdit=D,this._isTracked=u}}class R{constructor(g,n,a){this.regex=g,this.wordSeparators=n,this.simpleSearch=a}}class p{constructor(g,n,a){this.reverseEdits=g,this.changes=n,this.trimAutoWhitespaceLineNumbers=a}}function l(d){return!d.isTooLargeForSyncing()&&!d.isForSimpleWidget}},86432:function(Ot,He,i){"use strict";i.d(He,{BH:function(){return n},Dm:function(){return C},Kd:function(){return A},Y0:function(){return M},n2:function(){return a}});var m=i(20996),B=i(61669),f=i(24944),_=i(39623);class v{get length(){return this._length}constructor(u){this._length=u}}class A extends v{static create(u,S,w){let L=u.length;return S&&(L=(0,f.Ii)(L,S.length)),w&&(L=(0,f.Ii)(L,w.length)),new A(L,u,S,w,S?S.missingOpeningBracketIds:_.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(u){switch(u){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const u=[];return u.push(this.openingBracket),this.child&&u.push(this.child),this.closingBracket&&u.push(this.closingBracket),u}constructor(u,S,w,L,N){super(u),this.openingBracket=S,this.child=w,this.closingBracket=L,this.missingOpeningBracketIds=N}canBeReused(u){return!(this.closingBracket===null||u.intersects(this.missingOpeningBracketIds))}deepClone(){return new A(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(u,S){return this.child?this.child.computeMinIndentation((0,f.Ii)(u,this.openingBracket.length),S):Number.MAX_SAFE_INTEGER}}class M extends v{static create23(u,S,w,L=!1){let N=u.length,O=u.missingOpeningBracketIds;if(u.listHeight!==S.listHeight)throw new Error("Invalid list heights");if(N=(0,f.Ii)(N,S.length),O=O.merge(S.missingOpeningBracketIds),w){if(u.listHeight!==w.listHeight)throw new Error("Invalid list heights");N=(0,f.Ii)(N,w.length),O=O.merge(w.missingOpeningBracketIds)}return L?new R(N,u.listHeight+1,u,S,w,O):new E(N,u.listHeight+1,u,S,w,O)}static getEmpty(){return new l(f.xl,0,[],_.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(u,S,w){super(u),this.listHeight=S,this._missingOpeningBracketIds=w,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const u=this.childrenLength;if(u===0)return;const S=this.getChild(u-1),w=S.kind===4?S.toMutable():S;return S!==w&&this.setChild(u-1,w),w}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const S=this.getChild(0),w=S.kind===4?S.toMutable():S;return S!==w&&this.setChild(0,w),w}canBeReused(u){if(u.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let S=this;for(;S.kind===4;){const w=S.childrenLength;if(w===0)throw new m.he;S=S.getChild(w-1)}return S.canBeReused(u)}handleChildrenChanged(){this.throwIfImmutable();const u=this.childrenLength;let S=this.getChild(0).length,w=this.getChild(0).missingOpeningBracketIds;for(let L=1;L<u;L++){const N=this.getChild(L);S=(0,f.Ii)(S,N.length),w=w.merge(N.missingOpeningBracketIds)}this._length=S,this._missingOpeningBracketIds=w,this.cachedMinIndentation=-1}computeMinIndentation(u,S){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let w=Number.MAX_SAFE_INTEGER,L=u;for(let N=0;N<this.childrenLength;N++){const O=this.getChild(N);O&&(w=Math.min(w,O.computeMinIndentation(L,S)),L=(0,f.Ii)(L,O.length))}return this.cachedMinIndentation=w,w}}class E extends M{get childrenLength(){return this._item3!==null?3:2}getChild(u){switch(u){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(u,S){switch(u){case 0:this._item1=S;return;case 1:this._item2=S;return;case 2:this._item3=S;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(u,S,w,L,N,O){super(u,S,O),this._item1=w,this._item2=L,this._item3=N}deepClone(){return new E(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=u,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item3;return this._item3=null,this.handleChildrenChanged(),u}prependChildOfSameHeight(u){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=u,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),u}toMutable(){return this}}class R extends E{toMutable(){return new E(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class p extends M{get childrenLength(){return this._children.length}getChild(u){return this._children[u]}setChild(u,S){this._children[u]=S}get children(){return this._children}constructor(u,S,w,L){super(u,S,L),this._children=w}deepClone(){const u=new Array(this._children.length);for(let S=0;S<this._children.length;S++)u[S]=this._children[S].deepClone();return new p(this.length,this.listHeight,u,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){this.throwIfImmutable(),this._children.push(u),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const u=this._children.pop();return this.handleChildrenChanged(),u}prependChildOfSameHeight(u){this.throwIfImmutable(),this._children.unshift(u),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const u=this._children.shift();return this.handleChildrenChanged(),u}toMutable(){return this}}class l extends p{toMutable(){return new p(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const d=[];class g extends v{get listHeight(){return 0}get childrenLength(){return 0}getChild(u){return null}get children(){return d}deepClone(){return this}}class n extends g{get kind(){return 0}get missingOpeningBracketIds(){return _.tS.getEmpty()}canBeReused(u){return!0}computeMinIndentation(u,S){const w=(0,f.Hw)(u),L=(w.columnCount===0?w.lineCount:w.lineCount+1)+1,N=(0,f.W9)((0,f.Ii)(u,this.length))+1;let O=Number.MAX_SAFE_INTEGER;for(let x=L;x<=N;x++){const T=S.getLineFirstNonWhitespaceColumn(x),W=S.getLineContent(x);if(T===0)continue;const U=B.i.visibleColumnFromColumn(W,T,S.getOptions().tabSize);O=Math.min(O,U)}return O}}class a extends g{static create(u,S,w){return new a(u,S,w)}get kind(){return 1}get missingOpeningBracketIds(){return _.tS.getEmpty()}constructor(u,S,w){super(u),this.bracketInfo=S,this.bracketIds=w}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(u){return!1}computeMinIndentation(u,S){return Number.MAX_SAFE_INTEGER}}class C extends g{get kind(){return 3}constructor(u,S){super(S),this.missingOpeningBracketIds=u}canBeReused(u){return!u.intersects(this.missingOpeningBracketIds)}computeMinIndentation(u,S){return Number.MAX_SAFE_INTEGER}}},39410:function(Ot,He,i){"use strict";i.d(He,{Q:function(){return B},Y:function(){return f}});var m=i(24944);class B{constructor(A,M,E){this.startOffset=A,this.endOffset=M,this.newLength=E}toString(){return`[${(0,m.Hw)(this.startOffset)}...${(0,m.Hw)(this.endOffset)}) -> ${(0,m.Hw)(this.newLength)}`}}class f{constructor(A){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=A.map(M=>_.from(M))}getOffsetBeforeChange(A){return this.adjustNextEdit(A),this.translateCurToOld(A)}getDistanceToNextChange(A){this.adjustNextEdit(A);const M=this.edits[this.nextEditIdx],E=M?this.translateOldToCur(M.offsetObj):null;return E===null?null:(0,m.BE)(A,E)}translateOldToCur(A){return A.lineCount===this.deltaLineIdxInOld?(0,m.Hg)(A.lineCount+this.deltaOldToNewLineCount,A.columnCount+this.deltaOldToNewColumnCount):(0,m.Hg)(A.lineCount+this.deltaOldToNewLineCount,A.columnCount)}translateCurToOld(A){const M=(0,m.Hw)(A);return M.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,m.Hg)(M.lineCount-this.deltaOldToNewLineCount,M.columnCount-this.deltaOldToNewColumnCount):(0,m.Hg)(M.lineCount-this.deltaOldToNewLineCount,M.columnCount)}adjustNextEdit(A){for(;this.nextEditIdx<this.edits.length;){const M=this.edits[this.nextEditIdx],E=this.translateOldToCur(M.endOffsetAfterObj);if((0,m.By)(E,A)){this.nextEditIdx++;const R=(0,m.Hw)(E),p=(0,m.Hw)(this.translateOldToCur(M.endOffsetBeforeObj)),l=R.lineCount-p.lineCount;this.deltaOldToNewLineCount+=l;const d=this.deltaLineIdxInOld===M.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,g=R.columnCount-p.columnCount;this.deltaOldToNewColumnCount=d+g,this.deltaLineIdxInOld=M.endOffsetBeforeObj.lineCount}else break}}}class _{static from(A){return new _(A.startOffset,A.endOffset,A.newLength)}constructor(A,M,E){this.endOffsetBeforeObj=(0,m.Hw)(M),this.endOffsetAfterObj=(0,m.Hw)((0,m.Ii)(A,E)),this.offsetObj=(0,m.Hw)(A)}}},47978:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return E}});var m=i(17416),B=i(86432),f=i(24944),_=i(39623),v=i(7264);class A{static createFromLanguage(p,l){function d(n){return l.getKey(`${n.languageId}:::${n.bracketText}`)}const g=new Map;for(const n of p.bracketsNew.openingBrackets){const a=(0,f.Hg)(0,n.bracketText.length),C=d(n),D=_.tS.getEmpty().add(C,_.Qw);g.set(n.bracketText,new v.WU(a,1,C,D,B.n2.create(a,n,D)))}for(const n of p.bracketsNew.closingBrackets){const a=(0,f.Hg)(0,n.bracketText.length);let C=_.tS.getEmpty();const D=n.getOpeningBrackets();for(const u of D)C=C.add(d(u),_.Qw);g.set(n.bracketText,new v.WU(a,2,d(D[0]),C,B.n2.create(a,n,C)))}return new A(g)}constructor(p){this.map=p,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const p=[...this.map.keys()];return p.sort(),p.reverse(),p.map(l=>M(l)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const p=this.getRegExpStr();this._regExpGlobal=p?new RegExp(p,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(p){return this.map.get(p.toLowerCase())}findClosingTokenText(p){for(const[l,d]of this.map)if(d.kind===2&&d.bracketIds.intersects(p))return l}get isEmpty(){return this.map.size===0}}function M(R){let p=(0,m.ec)(R);return/^[\w ]+/.test(R)&&(p=`\\b${p}`),/[\w ]+$/.test(R)&&(p=`${p}\\b`),p}class E{constructor(p,l){this.denseKeyProvider=p,this.getLanguageConfiguration=l,this.languageIdToBracketTokens=new Map}didLanguageChange(p){return this.languageIdToBracketTokens.has(p)}getSingleLanguageBracketTokens(p){let l=this.languageIdToBracketTokens.get(p);return l||(l=A.createFromLanguage(this.getLanguageConfiguration(p),this.denseKeyProvider),this.languageIdToBracketTokens.set(p,l)),l}}},24944:function(Ot,He,i){"use strict";i.d(He,{BE:function(){return a},By:function(){return D},F_:function(){return l},Hg:function(){return E},Hw:function(){return R},Ii:function(){return d},PZ:function(){return S},Qw:function(){return w},VR:function(){return C},W9:function(){return p},Zq:function(){return u},av:function(){return _},oR:function(){return L},rM:function(){return n},tQ:function(){return g},xd:function(){return A},xl:function(){return v}});var m=i(17416),B=i(50038);class f{constructor(O,x){this.lineCount=O,this.columnCount=x}toString(){return`${this.lineCount},${this.columnCount}`}}f.zero=new f(0,0);function _(N,O,x,T){return N!==x?E(x-N,T):E(0,T-O)}const v=0;function A(N){return N===0}const M=Math.pow(2,26);function E(N,O){return N*M+O}function R(N){const O=N,x=Math.floor(O/M),T=O-x*M;return new f(x,T)}function p(N){return Math.floor(N/M)}function l(N){return N}function d(N,O){let x=N+O;return O>=M&&(x=x-N%M),x}function g(N,O){return N.reduce((x,T)=>d(x,O(T)),v)}function n(N,O){return N===O}function a(N,O){const x=N,T=O;if(T-x<=0)return v;const U=Math.floor(x/M),K=Math.floor(T/M),G=T-K*M;if(U===K){const z=x-U*M;return E(0,G-z)}else return E(K-U,G)}function C(N,O){return N<O}function D(N,O){return N<=O}function u(N,O){return N>=O}function S(N){return E(N.lineNumber-1,N.column-1)}function w(N,O){const x=N,T=Math.floor(x/M),W=x-T*M,U=O,K=Math.floor(U/M),G=U-K*M;return new B.e(T+1,W+1,K+1,G+1)}function L(N){const O=(0,m.uq)(N);return E(O.length-1,O[O.length-1].length)}},77597:function(Ot,He,i){"use strict";i.d(He,{w:function(){return n}});var m=i(86432),B=i(39410),f=i(39623),_=i(24944);function v(C){if(C.length===0)return null;if(C.length===1)return C[0];let D=0;function u(){if(D>=C.length)return null;const N=D,O=C[N].listHeight;for(D++;D<C.length&&C[D].listHeight===O;)D++;return D-N>=2?A(N===0&&D===C.length?C:C.slice(N,D),!1):C[N]}let S=u(),w=u();if(!w)return S;for(let N=u();N;N=u())M(S,w)<=M(w,N)?(S=E(S,w),w=N):w=E(w,N);return E(S,w)}function A(C,D=!1){if(C.length===0)return null;if(C.length===1)return C[0];let u=C.length;for(;u>3;){const S=u>>1;for(let w=0;w<S;w++){const L=w<<1;C[w]=m.Y0.create23(C[L],C[L+1],L+3===u?C[L+2]:null,D)}u=S}return m.Y0.create23(C[0],C[1],u>=3?C[2]:null,D)}function M(C,D){return Math.abs(C.listHeight-D.listHeight)}function E(C,D){return C.listHeight===D.listHeight?m.Y0.create23(C,D,null,!1):C.listHeight>D.listHeight?R(C,D):p(D,C)}function R(C,D){C=C.toMutable();let u=C;const S=[];let w;for(;;){if(D.listHeight===u.listHeight){w=D;break}if(u.kind!==4)throw new Error("unexpected");S.push(u),u=u.makeLastElementMutable()}for(let L=S.length-1;L>=0;L--){const N=S[L];w?N.childrenLength>=3?w=m.Y0.create23(N.unappendChild(),w,null,!1):(N.appendChildOfSameHeight(w),w=void 0):N.handleChildrenChanged()}return w?m.Y0.create23(C,w,null,!1):C}function p(C,D){C=C.toMutable();let u=C;const S=[];for(;D.listHeight!==u.listHeight;){if(u.kind!==4)throw new Error("unexpected");S.push(u),u=u.makeFirstElementMutable()}let w=D;for(let L=S.length-1;L>=0;L--){const N=S[L];w?N.childrenLength>=3?w=m.Y0.create23(w,N.unprependChild(),null,!1):(N.prependChildOfSameHeight(w),w=void 0):N.handleChildrenChanged()}return w?m.Y0.create23(w,C,null,!1):C}class l{constructor(D){this.lastOffset=_.xl,this.nextNodes=[D],this.offsets=[_.xl],this.idxs=[]}readLongestNodeAt(D,u){if((0,_.VR)(D,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=D;;){const S=g(this.nextNodes);if(!S)return;const w=g(this.offsets);if((0,_.VR)(D,w))return;if((0,_.VR)(w,D))if((0,_.Ii)(w,S.length)<=D)this.nextNodeAfterCurrent();else{const L=d(S);L!==-1?(this.nextNodes.push(S.getChild(L)),this.offsets.push(w),this.idxs.push(L)):this.nextNodeAfterCurrent()}else{if(u(S))return this.nextNodeAfterCurrent(),S;{const L=d(S);if(L===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(S.getChild(L)),this.offsets.push(w),this.idxs.push(L)}}}}nextNodeAfterCurrent(){for(;;){const D=g(this.offsets),u=g(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const S=g(this.nextNodes),w=d(S,this.idxs[this.idxs.length-1]);if(w!==-1){this.nextNodes.push(S.getChild(w)),this.offsets.push((0,_.Ii)(D,u.length)),this.idxs[this.idxs.length-1]=w;break}else this.idxs.pop()}}}function d(C,D=-1){for(;;){if(D++,D>=C.childrenLength)return-1;if(C.getChild(D))return D}}function g(C){return C.length>0?C[C.length-1]:void 0}function n(C,D,u,S){return new a(C,D,u,S).parseDocument()}class a{constructor(D,u,S,w){if(this.tokenizer=D,this.createImmutableLists=w,this._itemsConstructed=0,this._itemsFromCache=0,S&&w)throw new Error("Not supported");this.oldNodeReader=S?new l(S):void 0,this.positionMapper=new B.Y(u)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let D=this.parseList(f.tS.getEmpty());return D||(D=m.Y0.getEmpty()),D}parseList(D){const u=[];for(;;){let w=this.tryReadChildFromCache(D);if(!w){const L=this.tokenizer.peek();if(!L||L.kind===2&&L.bracketIds.intersects(D))break;w=this.parseChild(D)}w.kind===4&&w.childrenLength===0||u.push(w)}return this.oldNodeReader?v(u):A(u,this.createImmutableLists)}tryReadChildFromCache(D){if(this.oldNodeReader){const u=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(u===null||!(0,_.xd)(u)){const S=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),w=>u!==null&&!(0,_.VR)(w.length,u)?!1:w.canBeReused(D));if(S)return this._itemsFromCache++,this.tokenizer.skip(S.length),S}}}parseChild(D){this._itemsConstructed++;const u=this.tokenizer.read();switch(u.kind){case 2:return new m.Dm(u.bracketIds,u.length);case 0:return u.astNode;case 1:{const S=D.merge(u.bracketIds),w=this.parseList(S),L=this.tokenizer.peek();return L&&L.kind===2&&(L.bracketId===u.bracketId||L.bracketIds.intersects(u.bracketIds))?(this.tokenizer.read(),m.Kd.create(u.astNode,w,L.astNode)):m.Kd.create(u.astNode,w,null)}default:throw new Error("unexpected")}}}},39623:function(Ot,He,i){"use strict";i.d(He,{FE:function(){return _},Qw:function(){return f},tS:function(){return B}});const m=[];class B{static create(A,M){if(A<=128&&M.length===0){let E=B.cache[A];return E||(E=new B(A,M),B.cache[A]=E),E}return new B(A,M)}static getEmpty(){return this.empty}constructor(A,M){this.items=A,this.additionalItems=M}add(A,M){const E=M.getKey(A);let R=E>>5;if(R===0){const l=1<<E|this.items;return l===this.items?this:B.create(l,this.additionalItems)}R--;const p=this.additionalItems.slice(0);for(;p.length<R;)p.push(0);return p[R]|=1<<(E&31),B.create(this.items,p)}merge(A){const M=this.items|A.items;if(this.additionalItems===m&&A.additionalItems===m)return M===this.items?this:M===A.items?A:B.create(M,m);const E=[];for(let R=0;R<Math.max(this.additionalItems.length,A.additionalItems.length);R++){const p=this.additionalItems[R]||0,l=A.additionalItems[R]||0;E.push(p|l)}return B.create(M,E)}intersects(A){if(this.items&A.items)return!0;for(let M=0;M<Math.min(this.additionalItems.length,A.additionalItems.length);M++)if(this.additionalItems[M]&A.additionalItems[M])return!0;return!1}}B.cache=new Array(129),B.empty=B.create(0,m);const f={getKey(v){return v}};class _{constructor(){this.items=new Map}getKey(A){let M=this.items.get(A);return M===void 0&&(M=this.items.size,this.items.set(A,M)),M}}},7264:function(Ot,He,i){"use strict";i.d(He,{WU:function(){return A},g:function(){return R},xH:function(){return M}});var m=i(20996),B=i(24506),f=i(86432),_=i(24944),v=i(39623);class A{constructor(l,d,g,n,a){this.length=l,this.kind=d,this.bracketId=g,this.bracketIds=n,this.astNode=a}}class M{constructor(l,d){this.textModel=l,this.bracketTokens=d,this.reader=new E(this.textModel,this.bracketTokens),this._offset=_.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=l.getLineCount(),this.textBufferLastLineLength=l.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,_.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(l){this.didPeek=!1,this._offset=(0,_.Ii)(this._offset,l);const d=(0,_.Hw)(this._offset);this.reader.setPosition(d.lineCount,d.columnCount)}read(){let l;return this.peeked?(this.didPeek=!1,l=this.peeked):l=this.reader.read(),l&&(this._offset=(0,_.Ii)(this._offset,l.length)),l}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class E{constructor(l,d){this.textModel=l,this.bracketTokens=d,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=l.getLineCount(),this.textBufferLastLineLength=l.getLineLength(this.textBufferLineCount)}setPosition(l,d){l===this.lineIdx?(this.lineCharOffset=d,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=l,this.lineCharOffset=d,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const a=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,_.F_)(a.length),a}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const l=this.lineIdx,d=this.lineCharOffset;let g=0;for(;;){const a=this.lineTokens,C=a.getCount();let D=null;if(this.lineTokenOffset<C){const u=a.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<C&&u===a.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const S=B.N.getTokenType(u)===0,w=B.N.containsBalancedBrackets(u),L=a.getEndOffset(this.lineTokenOffset);if(w&&S&&this.lineCharOffset<L){const N=a.getLanguageId(this.lineTokenOffset),O=this.line.substring(this.lineCharOffset,L),x=this.bracketTokens.getSingleLanguageBracketTokens(N),T=x.regExpGlobal;if(T){T.lastIndex=0;const W=T.exec(O);W&&(D=x.getToken(W[0]),D&&(this.lineCharOffset+=W.index))}}if(g+=L-this.lineCharOffset,D)if(l!==this.lineIdx||d!==this.lineCharOffset){this.peekedToken=D;break}else return this.lineCharOffset+=(0,_.F_)(D.length),D;else this.lineTokenOffset++,this.lineCharOffset=L}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,g+=33,g>1e3))break;if(g>1500)break}const n=(0,_.av)(l,d,this.lineIdx,this.lineCharOffset);return new A(n,0,-1,v.tS.getEmpty(),new f.BH(n))}}class R{constructor(l,d){this.text=l,this._offset=_.xl,this.idx=0;const g=d.getRegExpStr(),n=g?new RegExp(g+`|
`,"gi"):null,a=[];let C,D=0,u=0,S=0,w=0;const L=[];for(let x=0;x<60;x++)L.push(new A((0,_.Hg)(0,x),0,-1,v.tS.getEmpty(),new f.BH((0,_.Hg)(0,x))));const N=[];for(let x=0;x<60;x++)N.push(new A((0,_.Hg)(1,x),0,-1,v.tS.getEmpty(),new f.BH((0,_.Hg)(1,x))));if(n)for(n.lastIndex=0;(C=n.exec(l))!==null;){const x=C.index,T=C[0];if(T===`
`)D++,u=x+1;else{if(S!==x){let W;if(w===D){const U=x-S;if(U<L.length)W=L[U];else{const K=(0,_.Hg)(0,U);W=new A(K,0,-1,v.tS.getEmpty(),new f.BH(K))}}else{const U=D-w,K=x-u;if(U===1&&K<N.length)W=N[K];else{const G=(0,_.Hg)(U,K);W=new A(G,0,-1,v.tS.getEmpty(),new f.BH(G))}}a.push(W)}a.push(d.getToken(T)),S=x+T.length,w=D}}const O=l.length;if(S!==O){const x=w===D?(0,_.Hg)(0,O-S):(0,_.Hg)(D-w,O-u);a.push(new A(x,0,-1,v.tS.getEmpty(),new f.BH(x)))}this.length=(0,_.Hg)(D,O-u),this.tokens=a}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(l){throw new m.B8}}},75565:function(Ot,He,i){"use strict";i.d(He,{NL:function(){return n},e9:function(){return g}});var m=i(26386),B=i(20996),f=i(57841),_=i(28919),v=i(79989),A=i(77511),M=i(6227);function E(a){return a.toString()}class R{static create(C,D){const u=C.getAlternativeVersionId(),S=d(C);return new R(u,u,S,S,D,D,[])}constructor(C,D,u,S,w,L,N){this.beforeVersionId=C,this.afterVersionId=D,this.beforeEOL=u,this.afterEOL=S,this.beforeCursorState=w,this.afterCursorState=L,this.changes=N}append(C,D,u,S,w){D.length>0&&(this.changes=(0,v.b)(this.changes,D)),this.afterEOL=u,this.afterVersionId=S,this.afterCursorState=w}static _writeSelectionsSize(C){return 4+4*4*(C?C.length:0)}static _writeSelections(C,D,u){if(A.T4(C,D?D.length:0,u),u+=4,D)for(const S of D)A.T4(C,S.selectionStartLineNumber,u),u+=4,A.T4(C,S.selectionStartColumn,u),u+=4,A.T4(C,S.positionLineNumber,u),u+=4,A.T4(C,S.positionColumn,u),u+=4;return u}static _readSelections(C,D,u){const S=A.Ag(C,D);D+=4;for(let w=0;w<S;w++){const L=A.Ag(C,D);D+=4;const N=A.Ag(C,D);D+=4;const O=A.Ag(C,D);D+=4;const x=A.Ag(C,D);D+=4,u.push(new f.Y(L,N,O,x))}return D}serialize(){let C=10+R._writeSelectionsSize(this.beforeCursorState)+R._writeSelectionsSize(this.afterCursorState)+4;for(const S of this.changes)C+=S.writeSize();const D=new Uint8Array(C);let u=0;A.T4(D,this.beforeVersionId,u),u+=4,A.T4(D,this.afterVersionId,u),u+=4,A.Cg(D,this.beforeEOL,u),u+=1,A.Cg(D,this.afterEOL,u),u+=1,u=R._writeSelections(D,this.beforeCursorState,u),u=R._writeSelections(D,this.afterCursorState,u),A.T4(D,this.changes.length,u),u+=4;for(const S of this.changes)u=S.write(D,u);return D.buffer}static deserialize(C){const D=new Uint8Array(C);let u=0;const S=A.Ag(D,u);u+=4;const w=A.Ag(D,u);u+=4;const L=A.Q$(D,u);u+=1;const N=A.Q$(D,u);u+=1;const O=[];u=R._readSelections(D,u,O);const x=[];u=R._readSelections(D,u,x);const T=A.Ag(D,u);u+=4;const W=[];for(let U=0;U<T;U++)u=v.q.read(D,u,W);return new R(S,w,L,N,O,x,W)}}class p{get type(){return 0}get resource(){return _.o.isUri(this.model)?this.model:this.model.uri}constructor(C,D,u,S){this.label=C,this.code=D,this.model=u,this._data=R.create(u,S)}toString(){return(this._data instanceof R?this._data:R.deserialize(this._data)).changes.map(D=>D.toString()).join(", ")}matchesResource(C){return(_.o.isUri(this.model)?this.model:this.model.uri).toString()===C.toString()}setModel(C){this.model=C}canAppend(C){return this.model===C&&this._data instanceof R}append(C,D,u,S,w){this._data instanceof R&&this._data.append(C,D,u,S,w)}close(){this._data instanceof R&&(this._data=this._data.serialize())}open(){this._data instanceof R||(this._data=R.deserialize(this._data))}undo(){if(_.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof R&&(this._data=this._data.serialize());const C=R.deserialize(this._data);this.model._applyUndo(C.changes,C.beforeEOL,C.beforeVersionId,C.beforeCursorState)}redo(){if(_.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof R&&(this._data=this._data.serialize());const C=R.deserialize(this._data);this.model._applyRedo(C.changes,C.afterEOL,C.afterVersionId,C.afterCursorState)}heapSize(){return this._data instanceof R&&(this._data=this._data.serialize()),this._data.byteLength+168}}class l{get resources(){return this._editStackElementsArr.map(C=>C.resource)}constructor(C,D,u){this.label=C,this.code=D,this.type=1,this._isOpen=!0,this._editStackElementsArr=u.slice(0),this._editStackElementsMap=new Map;for(const S of this._editStackElementsArr){const w=E(S.resource);this._editStackElementsMap.set(w,S)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(C){const D=E(C);return this._editStackElementsMap.has(D)}setModel(C){const D=E(_.o.isUri(C)?C:C.uri);this._editStackElementsMap.has(D)&&this._editStackElementsMap.get(D).setModel(C)}canAppend(C){if(!this._isOpen)return!1;const D=E(C.uri);return this._editStackElementsMap.has(D)?this._editStackElementsMap.get(D).canAppend(C):!1}append(C,D,u,S,w){const L=E(C.uri);this._editStackElementsMap.get(L).append(C,D,u,S,w)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const C of this._editStackElementsArr)C.undo()}redo(){for(const C of this._editStackElementsArr)C.redo()}heapSize(C){const D=E(C);return this._editStackElementsMap.has(D)?this._editStackElementsMap.get(D).heapSize():0}split(){return this._editStackElementsArr}toString(){const C=[];for(const D of this._editStackElementsArr)C.push(`${(0,M.EZ)(D.resource)}: ${D}`);return`{${C.join(", ")}}`}}function d(a){return a.getEOL()===`
`?0:1}function g(a){return a?a instanceof p||a instanceof l:!1}class n{constructor(C,D){this._model=C,this._undoRedoService=D}pushStackElement(){const C=this._undoRedoService.getLastElement(this._model.uri);g(C)&&C.close()}popStackElement(){const C=this._undoRedoService.getLastElement(this._model.uri);g(C)&&C.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(C,D){const u=this._undoRedoService.getLastElement(this._model.uri);if(g(u)&&u.canAppend(this._model))return u;const S=new p(m.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,C);return this._undoRedoService.pushElement(S,D),S}pushEOL(C){const D=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(C),D.append(this._model,[],d(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(C,D,u,S){const w=this._getOrCreateEditStackElement(C,S),L=this._model.applyEdits(D,!0),N=n._computeCursorState(u,L),O=L.map((x,T)=>({index:T,textChange:x.textChange}));return O.sort((x,T)=>x.textChange.oldPosition===T.textChange.oldPosition?x.index-T.index:x.textChange.oldPosition-T.textChange.oldPosition),w.append(this._model,O.map(x=>x.textChange),d(this._model),this._model.getAlternativeVersionId(),N),N}static _computeCursorState(C,D){try{return C?C(D):null}catch(u){return(0,B.dL)(u),null}}}},32382:function(Ot,He,i){"use strict";i.d(He,{W:function(){return R},l:function(){return E}});var m=i(16308),B=i(17416),f=i(61669),_=i(50038),v=i(83388),A=i(6287),M=i(79777);class E extends v.U{constructor(l,d){super(),this.textModel=l,this.languageConfigurationService=d}getLanguageConfiguration(l){return this.languageConfigurationService.getLanguageConfiguration(l)}_computeIndentLevel(l){return(0,A.q)(this.textModel.getLineContent(l+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(l,d,g){this.assertNotDisposed();const n=this.textModel.getLineCount();if(l<1||l>n)throw new Error("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,C=Boolean(a&&a.offSide);let D=-2,u=-1,S=-2,w=-1;const L=te=>{if(D!==-1&&(D===-2||D>te-1)){D=-1,u=-1;for(let X=te-2;X>=0;X--){const j=this._computeIndentLevel(X);if(j>=0){D=X,u=j;break}}}if(S===-2){S=-1,w=-1;for(let X=te;X<n;X++){const j=this._computeIndentLevel(X);if(j>=0){S=X,w=j;break}}}};let N=-2,O=-1,x=-2,T=-1;const W=te=>{if(N===-2){N=-1,O=-1;for(let X=te-2;X>=0;X--){const j=this._computeIndentLevel(X);if(j>=0){N=X,O=j;break}}}if(x!==-1&&(x===-2||x<te-1)){x=-1,T=-1;for(let X=te;X<n;X++){const j=this._computeIndentLevel(X);if(j>=0){x=X,T=j;break}}}};let U=0,K=!0,G=0,z=!0,k=0,q=0;for(let te=0;K||z;te++){const X=l-te,j=l+te;te>1&&(X<1||X<d)&&(K=!1),te>1&&(j>n||j>g)&&(z=!1),te>5e4&&(K=!1,z=!1);let J=-1;if(K&&X>=1){const ee=this._computeIndentLevel(X-1);ee>=0?(S=X-1,w=ee,J=Math.ceil(ee/this.textModel.getOptions().indentSize)):(L(X),J=this._getIndentLevelForWhitespaceLine(C,u,w))}let Y=-1;if(z&&j<=n){const ee=this._computeIndentLevel(j-1);ee>=0?(N=j-1,O=ee,Y=Math.ceil(ee/this.textModel.getOptions().indentSize)):(W(j),Y=this._getIndentLevelForWhitespaceLine(C,O,T))}if(te===0){q=J;continue}if(te===1){if(j<=n&&Y>=0&&q+1===Y){K=!1,U=j,G=j,k=Y;continue}if(X>=1&&J>=0&&J-1===q){z=!1,U=X,G=X,k=J;continue}if(U=l,G=l,k=q,k===0)return{startLineNumber:U,endLineNumber:G,indent:k}}K&&(J>=k?U=X:K=!1),z&&(Y>=k?G=j:z=!1)}return{startLineNumber:U,endLineNumber:G,indent:k}}getLinesBracketGuides(l,d,g,n){var a;const C=[];for(let N=l;N<=d;N++)C.push([]);const D=!0,u=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new _.e(l,1,d,this.textModel.getLineMaxColumn(d))).toArray();let S;if(g&&u.length>0){const N=(l<=g.lineNumber&&g.lineNumber<=d?u:this.textModel.bracketPairs.getBracketPairsInRange(_.e.fromPositions(g)).toArray()).filter(O=>_.e.strictContainsPosition(O.range,g));S=(a=(0,m.dF)(N,O=>D||O.range.startLineNumber!==O.range.endLineNumber))===null||a===void 0?void 0:a.range}const w=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,L=new R;for(const N of u){if(!N.closingBracketRange)continue;const O=S&&N.range.equalsRange(S);if(!O&&!n.includeInactive)continue;const x=L.getInlineClassName(N.nestingLevel,N.nestingLevelOfEqualBracketType,w)+(n.highlightActive&&O?" "+L.activeClassName:""),T=N.openingBracketRange.getStartPosition(),W=N.closingBracketRange.getStartPosition(),U=n.horizontalGuides===M.s6.Enabled||n.horizontalGuides===M.s6.EnabledForActive&&O;if(N.range.startLineNumber===N.range.endLineNumber){D&&U&&C[N.range.startLineNumber-l].push(new M.UO(-1,N.openingBracketRange.getEndPosition().column,x,new M.vW(!1,W.column),-1,-1));continue}const K=this.getVisibleColumnFromPosition(W),G=this.getVisibleColumnFromPosition(N.openingBracketRange.getStartPosition()),z=Math.min(G,K,N.minVisibleColumnIndentation+1);let k=!1;B.LC(this.textModel.getLineContent(N.closingBracketRange.startLineNumber))<N.closingBracketRange.startColumn-1&&(k=!0);const X=Math.max(T.lineNumber,l),j=Math.min(W.lineNumber,d),J=k?1:0;for(let Y=X;Y<j+J;Y++)C[Y-l].push(new M.UO(z,-1,x,null,Y===T.lineNumber?T.column:-1,Y===W.lineNumber?W.column:-1));U&&(T.lineNumber>=l&&G>z&&C[T.lineNumber-l].push(new M.UO(z,-1,x,new M.vW(!1,T.column),-1,-1)),W.lineNumber<=d&&K>z&&C[W.lineNumber-l].push(new M.UO(z,-1,x,new M.vW(!k,W.column),-1,-1)))}for(const N of C)N.sort((O,x)=>O.visibleColumn-x.visibleColumn);return C}getVisibleColumnFromPosition(l){return f.i.visibleColumnFromColumn(this.textModel.getLineContent(l.lineNumber),l.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(l,d){this.assertNotDisposed();const g=this.textModel.getLineCount();if(l<1||l>g)throw new Error("Illegal value for startLineNumber");if(d<1||d>g)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,C=Boolean(a&&a.offSide),D=new Array(d-l+1);let u=-2,S=-1,w=-2,L=-1;for(let N=l;N<=d;N++){const O=N-l,x=this._computeIndentLevel(N-1);if(x>=0){u=N-1,S=x,D[O]=Math.ceil(x/n.indentSize);continue}if(u===-2){u=-1,S=-1;for(let T=N-2;T>=0;T--){const W=this._computeIndentLevel(T);if(W>=0){u=T,S=W;break}}}if(w!==-1&&(w===-2||w<N-1)){w=-1,L=-1;for(let T=N;T<g;T++){const W=this._computeIndentLevel(T);if(W>=0){w=T,L=W;break}}}D[O]=this._getIndentLevelForWhitespaceLine(C,S,L)}return D}_getIndentLevelForWhitespaceLine(l,d,g){const n=this.textModel.getOptions();return d===-1||g===-1?0:d<g?1+Math.floor(d/n.indentSize):d===g||l?Math.ceil(g/n.indentSize):1+Math.floor(g/n.indentSize)}}class R{constructor(){this.activeClassName="indent-active"}getInlineClassName(l,d,g){return this.getInlineClassNameOfLevel(g?d:l)}getInlineClassNameOfLevel(l){return`bracket-indent-guide lvl-${l%30}`}}},82808:function(Ot,He,i){"use strict";i.d(He,{Ck:function(){return _},oQ:function(){return f}});var m=i(16308),B=i(79886);class f{constructor(M){this.values=M,this.prefixSum=new Uint32Array(M.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(M,E){M=(0,B.A)(M);const R=this.values,p=this.prefixSum,l=E.length;return l===0?!1:(this.values=new Uint32Array(R.length+l),this.values.set(R.subarray(0,M),0),this.values.set(R.subarray(M),M+l),this.values.set(E,M),M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(M,E){return M=(0,B.A)(M),E=(0,B.A)(E),this.values[M]===E?!1:(this.values[M]=E,M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),!0)}removeValues(M,E){M=(0,B.A)(M),E=(0,B.A)(E);const R=this.values,p=this.prefixSum;if(M>=R.length)return!1;const l=R.length-M;return E>=l&&(E=l),E===0?!1:(this.values=new Uint32Array(R.length-E),this.values.set(R.subarray(0,M),0),this.values.set(R.subarray(M+E),M),this.prefixSum=new Uint32Array(this.values.length),M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(M){return M<0?0:(M=(0,B.A)(M),this._getPrefixSum(M))}_getPrefixSum(M){if(M<=this.prefixSumValidIndex[0])return this.prefixSum[M];let E=this.prefixSumValidIndex[0]+1;E===0&&(this.prefixSum[0]=this.values[0],E++),M>=this.values.length&&(M=this.values.length-1);for(let R=E;R<=M;R++)this.prefixSum[R]=this.prefixSum[R-1]+this.values[R];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],M),this.prefixSum[M]}getIndexOf(M){M=Math.floor(M),this.getTotalSum();let E=0,R=this.values.length-1,p=0,l=0,d=0;for(;E<=R;)if(p=E+(R-E)/2|0,l=this.prefixSum[p],d=l-this.values[p],M<d)R=p-1;else if(M>=l)E=p+1;else break;return new v(p,M-d)}}class _{constructor(M){this._values=M,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(M){return this._ensureValid(),M===0?0:this._prefixSum[M-1]}getIndexOf(M){this._ensureValid();const E=this._indexBySum[M],R=E>0?this._prefixSum[E-1]:0;return new v(E,M-R)}removeValues(M,E){this._values.splice(M,E),this._invalidate(M)}insertValues(M,E){this._values=(0,m.Zv)(this._values,M,E),this._invalidate(M)}_invalidate(M){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,M-1)}_ensureValid(){if(!this._isValid){for(let M=this._validEndIndex+1,E=this._values.length;M<E;M++){const R=this._values[M],p=M>0?this._prefixSum[M-1]:0;this._prefixSum[M]=p+R;for(let l=0;l<R;l++)this._indexBySum[p+l]=M}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(M,E){this._values[M]!==E&&(this._values[M]=E,this._invalidate(M))}}class v{constructor(M,E){this.index=M,this.remainder=E,this._prefixSumIndexOfResultBrand=void 0,this.index=M,this.remainder=E}}},45007:function(Ot,He,i){"use strict";i.d(He,{HS:function(){return Ji},qx:function(){return Ui},yO:function(){return tn}});var m=i(16308),B=i(86741),f=i(20996),_=i(56709),v=i(38431),A=i(17416),M=i(28919),E=i(58570),R=i(5184),p=i(8964),l=i(50038),d=i(57841),g=i(56318),n=i(47626),a=i(64603),C=i(41913),D=i(23189),u=i(16673);class S{constructor(r,I,$,ae){this.range=r,this.nestingLevel=I,this.nestingLevelOfEqualBracketType=$,this.isInvalid=ae}}class w{constructor(r,I,$,ae,we,ke){this.range=r,this.openingBracketRange=I,this.closingBracketRange=$,this.nestingLevel=ae,this.nestingLevelOfEqualBracketType=we,this.bracketPairNode=ke}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class L extends w{constructor(r,I,$,ae,we,ke,nt){super(r,I,$,ae,we,ke),this.minVisibleColumnIndentation=nt}}var N=i(39410),O=i(47978),x=i(24944),T=i(77597),W=i(39623),U=i(7264);function K(F,r){if(F.length===0)return r;if(r.length===0)return F;const I=new m.H9(z(F)),$=z(r);$.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let ae=I.dequeue();function we(_t){if(_t===void 0){const Et=I.takeWhile(Ft=>!0)||[];return ae&&Et.unshift(ae),Et}const xt=[];for(;ae&&!(0,x.xd)(_t);){const[Et,Ft]=ae.splitAt(_t);xt.push(Et),_t=(0,x.BE)(Et.lengthAfter,_t),ae=Ft!=null?Ft:I.dequeue()}return(0,x.xd)(_t)||xt.push(new G(!1,_t,_t)),xt}const ke=[];function nt(_t,xt,Et){if(ke.length>0&&(0,x.rM)(ke[ke.length-1].endOffset,_t)){const Ft=ke[ke.length-1];ke[ke.length-1]=new N.Q(Ft.startOffset,xt,(0,x.Ii)(Ft.newLength,Et))}else ke.push({startOffset:_t,endOffset:xt,newLength:Et})}let at=x.xl;for(const _t of $){const xt=we(_t.lengthBefore);if(_t.modified){const Et=(0,x.tQ)(xt,Vt=>Vt.lengthBefore),Ft=(0,x.Ii)(at,Et);nt(at,Ft,_t.lengthAfter),at=Ft}else for(const Et of xt){const Ft=at;at=(0,x.Ii)(at,Et.lengthBefore),Et.modified&&nt(Ft,at,Et.lengthAfter)}}return ke}class G{constructor(r,I,$){this.modified=r,this.lengthBefore=I,this.lengthAfter=$}splitAt(r){const I=(0,x.BE)(r,this.lengthAfter);return(0,x.rM)(I,x.xl)?[this,void 0]:this.modified?[new G(this.modified,this.lengthBefore,r),new G(this.modified,x.xl,I)]:[new G(this.modified,r,r),new G(this.modified,I,I)]}toString(){return`${this.modified?"M":"U"}:${(0,x.Hw)(this.lengthBefore)} -> ${(0,x.Hw)(this.lengthAfter)}`}}function z(F){const r=[];let I=x.xl;for(const $ of F){const ae=(0,x.BE)(I,$.startOffset);(0,x.xd)(ae)||r.push(new G(!1,ae,ae));const we=(0,x.BE)($.startOffset,$.endOffset);r.push(new G(!0,we,$.newLength)),I=$.endOffset}return r}class k extends v.JT{didLanguageChange(r){return this.brackets.didLanguageChange(r)}constructor(r,I){if(super(),this.textModel=r,this.getLanguageConfiguration=I,this.didChangeEmitter=new _.Q5,this.denseKeyProvider=new W.FE,this.brackets=new O.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],r.tokenization.hasTokens)r.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const $=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),ae=new U.g(this.textModel.getValue(),$);this.initialAstWithoutTokens=(0,T.w)(ae,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const r=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,r||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:r}){const I=r.map($=>new N.Q((0,x.Hg)($.fromLineNumber-1,0),(0,x.Hg)($.toLineNumber,0),(0,x.Hg)($.toLineNumber-$.fromLineNumber+1,0)));this.handleEdits(I,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(r){const I=r.changes.map($=>{const ae=l.e.lift($.range);return new N.Q((0,x.PZ)(ae.getStartPosition()),(0,x.PZ)(ae.getEndPosition()),(0,x.oR)($.text))}).reverse();this.handleEdits(I,!1)}handleEdits(r,I){const $=K(this.queuedTextEdits,r);this.queuedTextEdits=$,this.initialAstWithoutTokens&&!I&&(this.queuedTextEditsForInitialAstWithoutTokens=K(this.queuedTextEditsForInitialAstWithoutTokens,r))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(r,I,$){const we=I,ke=new U.xH(this.textModel,this.brackets);return(0,T.w)(ke,r,we,$)}getBracketsInRange(r,I){this.flushQueue();const $=(0,x.Hg)(r.startLineNumber-1,r.startColumn-1),ae=(0,x.Hg)(r.endLineNumber-1,r.endColumn-1);return new m.W$(we=>{const ke=this.initialAstWithoutTokens||this.astWithTokens;X(ke,x.xl,ke.length,$,ae,we,0,0,new Map,I)})}getBracketPairsInRange(r,I){this.flushQueue();const $=(0,x.PZ)(r.getStartPosition()),ae=(0,x.PZ)(r.getEndPosition());return new m.W$(we=>{const ke=this.initialAstWithoutTokens||this.astWithTokens,nt=new j(we,I,this.textModel);J(ke,x.xl,ke.length,$,ae,nt,0,new Map)})}getFirstBracketAfter(r){this.flushQueue();const I=this.initialAstWithoutTokens||this.astWithTokens;return te(I,x.xl,I.length,(0,x.PZ)(r))}getFirstBracketBefore(r){this.flushQueue();const I=this.initialAstWithoutTokens||this.astWithTokens;return q(I,x.xl,I.length,(0,x.PZ)(r))}}function q(F,r,I,$){if(F.kind===4||F.kind===2){const ae=[];for(const we of F.children)I=(0,x.Ii)(r,we.length),ae.push({nodeOffsetStart:r,nodeOffsetEnd:I}),r=I;for(let we=ae.length-1;we>=0;we--){const{nodeOffsetStart:ke,nodeOffsetEnd:nt}=ae[we];if((0,x.VR)(ke,$)){const at=q(F.children[we],ke,nt,$);if(at)return at}}return null}else{if(F.kind===3)return null;if(F.kind===1){const ae=(0,x.Qw)(r,I);return{bracketInfo:F.bracketInfo,range:ae}}}return null}function te(F,r,I,$){if(F.kind===4||F.kind===2){for(const ae of F.children){if(I=(0,x.Ii)(r,ae.length),(0,x.VR)($,I)){const we=te(ae,r,I,$);if(we)return we}r=I}return null}else{if(F.kind===3)return null;if(F.kind===1){const ae=(0,x.Qw)(r,I);return{bracketInfo:F.bracketInfo,range:ae}}}return null}function X(F,r,I,$,ae,we,ke,nt,at,_t,xt=!1){if(ke>200)return!0;e:for(;;)switch(F.kind){case 4:{const Et=F.childrenLength;for(let Ft=0;Ft<Et;Ft++){const Vt=F.getChild(Ft);if(Vt){if(I=(0,x.Ii)(r,Vt.length),(0,x.By)(r,ae)&&(0,x.Zq)(I,$)){if((0,x.Zq)(I,ae)){F=Vt;continue e}if(!X(Vt,r,I,$,ae,we,ke,0,at,_t))return!1}r=I}}return!0}case 2:{const Et=!_t||!F.closingBracket||F.closingBracket.bracketInfo.closesColorized(F.openingBracket.bracketInfo);let Ft=0;if(at){let Qt=at.get(F.openingBracket.text);Qt===void 0&&(Qt=0),Ft=Qt,Et&&(Qt++,at.set(F.openingBracket.text,Qt))}const Vt=F.childrenLength;for(let Qt=0;Qt<Vt;Qt++){const si=F.getChild(Qt);if(si){if(I=(0,x.Ii)(r,si.length),(0,x.By)(r,ae)&&(0,x.Zq)(I,$)){if((0,x.Zq)(I,ae)&&si.kind!==1){F=si,Et?(ke++,nt=Ft+1):nt=Ft;continue e}if((Et||si.kind!==1||!F.closingBracket)&&!X(si,r,I,$,ae,we,Et?ke+1:ke,Et?Ft+1:Ft,at,_t,!F.closingBracket))return!1}r=I}}return at==null||at.set(F.openingBracket.text,Ft),!0}case 3:{const Et=(0,x.Qw)(r,I);return we(new S(Et,ke-1,0,!0))}case 1:{const Et=(0,x.Qw)(r,I);return we(new S(Et,ke-1,nt-1,xt))}case 0:return!0}}class j{constructor(r,I,$){this.push=r,this.includeMinIndentation=I,this.textModel=$}}function J(F,r,I,$,ae,we,ke,nt){var at;if(ke>200)return!0;let _t=!0;if(F.kind===2){let xt=0;if(nt){let Vt=nt.get(F.openingBracket.text);Vt===void 0&&(Vt=0),xt=Vt,Vt++,nt.set(F.openingBracket.text,Vt)}const Et=(0,x.Ii)(r,F.openingBracket.length);let Ft=-1;if(we.includeMinIndentation&&(Ft=F.computeMinIndentation(r,we.textModel)),_t=we.push(new L((0,x.Qw)(r,I),(0,x.Qw)(r,Et),F.closingBracket?(0,x.Qw)((0,x.Ii)(Et,((at=F.child)===null||at===void 0?void 0:at.length)||x.xl),I):void 0,ke,xt,F,Ft)),r=Et,_t&&F.child){const Vt=F.child;if(I=(0,x.Ii)(r,Vt.length),(0,x.By)(r,ae)&&(0,x.Zq)(I,$)&&(_t=J(Vt,r,I,$,ae,we,ke+1,nt),!_t))return!1}nt==null||nt.set(F.openingBracket.text,xt)}else{let xt=r;for(const Et of F.children){const Ft=xt;if(xt=(0,x.Ii)(xt,Et.length),(0,x.By)(Ft,ae)&&(0,x.By)($,xt)&&(_t=J(Et,Ft,xt,$,ae,we,ke,nt),!_t))return!1}}return _t}class Y extends v.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(r,I){super(),this.textModel=r,this.languageConfigurationService=I,this.bracketPairsTree=this._register(new v.XK),this.onDidChangeEmitter=new _.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange($=>{var ae;(!$.languageId||!((ae=this.bracketPairsTree.value)===null||ae===void 0)&&ae.object.didLanguageChange($.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(r){var I;(I=this.bracketPairsTree.value)===null||I===void 0||I.object.handleContentChanged(r)}handleDidChangeBackgroundTokenizationState(){var r;(r=this.bracketPairsTree.value)===null||r===void 0||r.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(r){var I;(I=this.bracketPairsTree.value)===null||I===void 0||I.object.handleDidChangeTokens(r)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const r=new v.SL;this.bracketPairsTree.value=ee(r.add(new k(this.textModel,I=>this.languageConfigurationService.getLanguageConfiguration(I))),r),r.add(this.bracketPairsTree.value.object.onDidChange(I=>this.onDidChangeEmitter.fire(I))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(r){var I;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((I=this.bracketPairsTree.value)===null||I===void 0?void 0:I.object.getBracketPairsInRange(r,!1))||m.W$.empty}getBracketPairsInRangeWithMinIndentation(r){var I;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((I=this.bracketPairsTree.value)===null||I===void 0?void 0:I.object.getBracketPairsInRange(r,!0))||m.W$.empty}getBracketsInRange(r,I=!1){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketsInRange(r,I))||m.W$.empty}findMatchingBracketUp(r,I,$){const ae=this.textModel.validatePosition(I),we=this.textModel.getLanguageIdAtPosition(ae.lineNumber,ae.column);if(this.canBuildAST){const ke=this.languageConfigurationService.getLanguageConfiguration(we).bracketsNew.getClosingBracketInfo(r);if(!ke)return null;const nt=this.getBracketPairsInRange(l.e.fromPositions(I,I)).findLast(at=>ke.closes(at.openingBracketInfo));return nt?nt.openingBracketRange:null}else{const ke=r.toLowerCase(),nt=this.languageConfigurationService.getLanguageConfiguration(we).brackets;if(!nt)return null;const at=nt.textIsBracket[ke];return at?Ne(this._findMatchingBracketUp(at,ae,fe($))):null}}matchBracket(r,I){if(this.canBuildAST){const $=this.getBracketPairsInRange(l.e.fromPositions(r,r)).filter(ae=>ae.closingBracketRange!==void 0&&(ae.openingBracketRange.containsPosition(r)||ae.closingBracketRange.containsPosition(r))).findLastMaxBy((0,m.tT)(ae=>ae.openingBracketRange.containsPosition(r)?ae.openingBracketRange:ae.closingBracketRange,l.e.compareRangesUsingStarts));return $?[$.openingBracketRange,$.closingBracketRange]:null}else{const $=fe(I);return this._matchBracket(this.textModel.validatePosition(r),$)}}_establishBracketSearchOffsets(r,I,$,ae){const we=I.getCount(),ke=I.getLanguageId(ae);let nt=Math.max(0,r.column-1-$.maxBracketLength);for(let _t=ae-1;_t>=0;_t--){const xt=I.getEndOffset(_t);if(xt<=nt)break;if((0,D.Bu)(I.getStandardTokenType(_t))||I.getLanguageId(_t)!==ke){nt=xt;break}}let at=Math.min(I.getLineContent().length,r.column-1+$.maxBracketLength);for(let _t=ae+1;_t<we;_t++){const xt=I.getStartOffset(_t);if(xt>=at)break;if((0,D.Bu)(I.getStandardTokenType(_t))||I.getLanguageId(_t)!==ke){at=xt;break}}return{searchStartOffset:nt,searchEndOffset:at}}_matchBracket(r,I){const $=r.lineNumber,ae=this.textModel.tokenization.getLineTokens($),we=this.textModel.getLineContent($),ke=ae.findTokenIndexAtOffset(r.column-1);if(ke<0)return null;const nt=this.languageConfigurationService.getLanguageConfiguration(ae.getLanguageId(ke)).brackets;if(nt&&!(0,D.Bu)(ae.getStandardTokenType(ke))){let{searchStartOffset:at,searchEndOffset:_t}=this._establishBracketSearchOffsets(r,ae,nt,ke),xt=null;for(;;){const Et=u.Vr.findNextBracketInRange(nt.forwardRegex,$,we,at,_t);if(!Et)break;if(Et.startColumn<=r.column&&r.column<=Et.endColumn){const Ft=we.substring(Et.startColumn-1,Et.endColumn-1).toLowerCase(),Vt=this._matchFoundBracket(Et,nt.textIsBracket[Ft],nt.textIsOpenBracket[Ft],I);if(Vt){if(Vt instanceof De)return null;xt=Vt}}at=Et.endColumn-1}if(xt)return xt}if(ke>0&&ae.getStartOffset(ke)===r.column-1){const at=ke-1,_t=this.languageConfigurationService.getLanguageConfiguration(ae.getLanguageId(at)).brackets;if(_t&&!(0,D.Bu)(ae.getStandardTokenType(at))){const{searchStartOffset:xt,searchEndOffset:Et}=this._establishBracketSearchOffsets(r,ae,_t,at),Ft=u.Vr.findPrevBracketInRange(_t.reversedRegex,$,we,xt,Et);if(Ft&&Ft.startColumn<=r.column&&r.column<=Ft.endColumn){const Vt=we.substring(Ft.startColumn-1,Ft.endColumn-1).toLowerCase(),Qt=this._matchFoundBracket(Ft,_t.textIsBracket[Vt],_t.textIsOpenBracket[Vt],I);if(Qt)return Qt instanceof De?null:Qt}}}return null}_matchFoundBracket(r,I,$,ae){if(!I)return null;const we=$?this._findMatchingBracketDown(I,r.getEndPosition(),ae):this._findMatchingBracketUp(I,r.getStartPosition(),ae);return we?we instanceof De?we:[r,we]:null}_findMatchingBracketUp(r,I,$){const ae=r.languageId,we=r.reversedRegex;let ke=-1,nt=0;const at=(_t,xt,Et,Ft)=>{for(;;){if($&&++nt%100===0&&!$())return De.INSTANCE;const Vt=u.Vr.findPrevBracketInRange(we,_t,xt,Et,Ft);if(!Vt)break;const Qt=xt.substring(Vt.startColumn-1,Vt.endColumn-1).toLowerCase();if(r.isOpen(Qt)?ke++:r.isClose(Qt)&&ke--,ke===0)return Vt;Ft=Vt.startColumn-1}return null};for(let _t=I.lineNumber;_t>=1;_t--){const xt=this.textModel.tokenization.getLineTokens(_t),Et=xt.getCount(),Ft=this.textModel.getLineContent(_t);let Vt=Et-1,Qt=Ft.length,si=Ft.length;_t===I.lineNumber&&(Vt=xt.findTokenIndexAtOffset(I.column-1),Qt=I.column-1,si=I.column-1);let wi=!0;for(;Vt>=0;Vt--){const Ti=xt.getLanguageId(Vt)===ae&&!(0,D.Bu)(xt.getStandardTokenType(Vt));if(Ti)wi?Qt=xt.getStartOffset(Vt):(Qt=xt.getStartOffset(Vt),si=xt.getEndOffset(Vt));else if(wi&&Qt!==si){const Wi=at(_t,Ft,Qt,si);if(Wi)return Wi}wi=Ti}if(wi&&Qt!==si){const Ti=at(_t,Ft,Qt,si);if(Ti)return Ti}}return null}_findMatchingBracketDown(r,I,$){const ae=r.languageId,we=r.forwardRegex;let ke=1,nt=0;const at=(xt,Et,Ft,Vt)=>{for(;;){if($&&++nt%100===0&&!$())return De.INSTANCE;const Qt=u.Vr.findNextBracketInRange(we,xt,Et,Ft,Vt);if(!Qt)break;const si=Et.substring(Qt.startColumn-1,Qt.endColumn-1).toLowerCase();if(r.isOpen(si)?ke++:r.isClose(si)&&ke--,ke===0)return Qt;Ft=Qt.endColumn-1}return null},_t=this.textModel.getLineCount();for(let xt=I.lineNumber;xt<=_t;xt++){const Et=this.textModel.tokenization.getLineTokens(xt),Ft=Et.getCount(),Vt=this.textModel.getLineContent(xt);let Qt=0,si=0,wi=0;xt===I.lineNumber&&(Qt=Et.findTokenIndexAtOffset(I.column-1),si=I.column-1,wi=I.column-1);let Ti=!0;for(;Qt<Ft;Qt++){const Wi=Et.getLanguageId(Qt)===ae&&!(0,D.Bu)(Et.getStandardTokenType(Qt));if(Wi)Ti||(si=Et.getStartOffset(Qt)),wi=Et.getEndOffset(Qt);else if(Ti&&si!==wi){const wn=at(xt,Vt,si,wi);if(wn)return wn}Ti=Wi}if(Ti&&si!==wi){const Wi=at(xt,Vt,si,wi);if(Wi)return Wi}}return null}findPrevBracket(r){var I;const $=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((I=this.bracketPairsTree.value)===null||I===void 0?void 0:I.object.getFirstBracketBefore($))||null;let ae=null,we=null,ke=null;for(let nt=$.lineNumber;nt>=1;nt--){const at=this.textModel.tokenization.getLineTokens(nt),_t=at.getCount(),xt=this.textModel.getLineContent(nt);let Et=_t-1,Ft=xt.length,Vt=xt.length;if(nt===$.lineNumber){Et=at.findTokenIndexAtOffset($.column-1),Ft=$.column-1,Vt=$.column-1;const si=at.getLanguageId(Et);ae!==si&&(ae=si,we=this.languageConfigurationService.getLanguageConfiguration(ae).brackets,ke=this.languageConfigurationService.getLanguageConfiguration(ae).bracketsNew)}let Qt=!0;for(;Et>=0;Et--){const si=at.getLanguageId(Et);if(ae!==si){if(we&&ke&&Qt&&Ft!==Vt){const Ti=u.Vr.findPrevBracketInRange(we.reversedRegex,nt,xt,Ft,Vt);if(Ti)return this._toFoundBracket(ke,Ti);Qt=!1}ae=si,we=this.languageConfigurationService.getLanguageConfiguration(ae).brackets,ke=this.languageConfigurationService.getLanguageConfiguration(ae).bracketsNew}const wi=!!we&&!(0,D.Bu)(at.getStandardTokenType(Et));if(wi)Qt?Ft=at.getStartOffset(Et):(Ft=at.getStartOffset(Et),Vt=at.getEndOffset(Et));else if(ke&&we&&Qt&&Ft!==Vt){const Ti=u.Vr.findPrevBracketInRange(we.reversedRegex,nt,xt,Ft,Vt);if(Ti)return this._toFoundBracket(ke,Ti)}Qt=wi}if(ke&&we&&Qt&&Ft!==Vt){const si=u.Vr.findPrevBracketInRange(we.reversedRegex,nt,xt,Ft,Vt);if(si)return this._toFoundBracket(ke,si)}}return null}findNextBracket(r){var I;const $=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((I=this.bracketPairsTree.value)===null||I===void 0?void 0:I.object.getFirstBracketAfter($))||null;const ae=this.textModel.getLineCount();let we=null,ke=null,nt=null;for(let at=$.lineNumber;at<=ae;at++){const _t=this.textModel.tokenization.getLineTokens(at),xt=_t.getCount(),Et=this.textModel.getLineContent(at);let Ft=0,Vt=0,Qt=0;if(at===$.lineNumber){Ft=_t.findTokenIndexAtOffset($.column-1),Vt=$.column-1,Qt=$.column-1;const wi=_t.getLanguageId(Ft);we!==wi&&(we=wi,ke=this.languageConfigurationService.getLanguageConfiguration(we).brackets,nt=this.languageConfigurationService.getLanguageConfiguration(we).bracketsNew)}let si=!0;for(;Ft<xt;Ft++){const wi=_t.getLanguageId(Ft);if(we!==wi){if(nt&&ke&&si&&Vt!==Qt){const Wi=u.Vr.findNextBracketInRange(ke.forwardRegex,at,Et,Vt,Qt);if(Wi)return this._toFoundBracket(nt,Wi);si=!1}we=wi,ke=this.languageConfigurationService.getLanguageConfiguration(we).brackets,nt=this.languageConfigurationService.getLanguageConfiguration(we).bracketsNew}const Ti=!!ke&&!(0,D.Bu)(_t.getStandardTokenType(Ft));if(Ti)si||(Vt=_t.getStartOffset(Ft)),Qt=_t.getEndOffset(Ft);else if(nt&&ke&&si&&Vt!==Qt){const Wi=u.Vr.findNextBracketInRange(ke.forwardRegex,at,Et,Vt,Qt);if(Wi)return this._toFoundBracket(nt,Wi)}si=Ti}if(nt&&ke&&si&&Vt!==Qt){const wi=u.Vr.findNextBracketInRange(ke.forwardRegex,at,Et,Vt,Qt);if(wi)return this._toFoundBracket(nt,wi)}}return null}findEnclosingBrackets(r,I){const $=this.textModel.validatePosition(r);if(this.canBuildAST){const Vt=l.e.fromPositions($),Qt=this.getBracketPairsInRange(l.e.fromPositions($,$)).findLast(si=>si.closingBracketRange!==void 0&&si.range.strictContainsRange(Vt));return Qt?[Qt.openingBracketRange,Qt.closingBracketRange]:null}const ae=fe(I),we=this.textModel.getLineCount(),ke=new Map;let nt=[];const at=(Vt,Qt)=>{if(!ke.has(Vt)){const si=[];for(let wi=0,Ti=Qt?Qt.brackets.length:0;wi<Ti;wi++)si[wi]=0;ke.set(Vt,si)}nt=ke.get(Vt)};let _t=0;const xt=(Vt,Qt,si,wi,Ti)=>{for(;;){if(ae&&++_t%100===0&&!ae())return De.INSTANCE;const Wi=u.Vr.findNextBracketInRange(Vt.forwardRegex,Qt,si,wi,Ti);if(!Wi)break;const wn=si.substring(Wi.startColumn-1,Wi.endColumn-1).toLowerCase(),Qn=Vt.textIsBracket[wn];if(Qn&&(Qn.isOpen(wn)?nt[Qn.index]++:Qn.isClose(wn)&&nt[Qn.index]--,nt[Qn.index]===-1))return this._matchFoundBracket(Wi,Qn,!1,ae);wi=Wi.endColumn-1}return null};let Et=null,Ft=null;for(let Vt=$.lineNumber;Vt<=we;Vt++){const Qt=this.textModel.tokenization.getLineTokens(Vt),si=Qt.getCount(),wi=this.textModel.getLineContent(Vt);let Ti=0,Wi=0,wn=0;if(Vt===$.lineNumber){Ti=Qt.findTokenIndexAtOffset($.column-1),Wi=$.column-1,wn=$.column-1;const vs=Qt.getLanguageId(Ti);Et!==vs&&(Et=vs,Ft=this.languageConfigurationService.getLanguageConfiguration(Et).brackets,at(Et,Ft))}let Qn=!0;for(;Ti<si;Ti++){const vs=Qt.getLanguageId(Ti);if(Et!==vs){if(Ft&&Qn&&Wi!==wn){const fs=xt(Ft,Vt,wi,Wi,wn);if(fs)return Ne(fs);Qn=!1}Et=vs,Ft=this.languageConfigurationService.getLanguageConfiguration(Et).brackets,at(Et,Ft)}const an=!!Ft&&!(0,D.Bu)(Qt.getStandardTokenType(Ti));if(an)Qn||(Wi=Qt.getStartOffset(Ti)),wn=Qt.getEndOffset(Ti);else if(Ft&&Qn&&Wi!==wn){const fs=xt(Ft,Vt,wi,Wi,wn);if(fs)return Ne(fs)}Qn=an}if(Ft&&Qn&&Wi!==wn){const vs=xt(Ft,Vt,wi,Wi,wn);if(vs)return Ne(vs)}}return null}_toFoundBracket(r,I){if(!I)return null;let $=this.textModel.getValueInRange(I);$=$.toLowerCase();const ae=r.getBracketInfo($);return ae?{range:I,bracketInfo:ae}:null}}function ee(F,r){return{object:F,dispose:()=>r==null?void 0:r.dispose()}}function fe(F){if(typeof F=="undefined")return()=>!0;{const r=Date.now();return()=>Date.now()-r<=F}}class De{constructor(){this._searchCanceledBrand=void 0}}De.INSTANCE=new De;function Ne(F){return F instanceof De?null:F}var be=i(44411),xe=i(58566);class Le extends v.JT{constructor(r){super(),this.textModel=r,this.colorProvider=new ue,this.onDidChangeEmitter=new _.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=r.getOptions().bracketPairColorizationOptions,this._register(r.bracketPairs.onDidChange(I=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(r){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(r,I,$,ae){return ae?[]:I===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(r,!0).map(ke=>({id:`bracket${ke.range.toString()}-${ke.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(ke,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:ke.range})).toArray():[]}getAllDecorations(r,I){return r===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new l.e(1,1,this.textModel.getLineCount(),1),r,I):[]}}class ue{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(r,I){return r.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(I?r.nestingLevelOfEqualBracketType:r.nestingLevel)}getInlineClassNameOfLevel(r){return`bracket-highlighting-${r%30}`}}(0,xe.Ic)((F,r)=>{const I=[be.zJ,be.Vs,be.CE,be.UP,be.r0,be.m1],$=new ue;r.addRule(`.monaco-editor .${$.unexpectedClosingBracketClassName} { color: ${F.getColor(be.ts)}; }`);const ae=I.map(we=>F.getColor(we)).filter(we=>!!we).filter(we=>!we.isTransparent());for(let we=0;we<30;we++){const ke=ae[we%ae.length];r.addRule(`.monaco-editor .${$.getInlineClassNameOfLevel(we)} { color: ${ke}; }`)}});var re=i(75565),_e=i(32382);class Ue{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Qe(F,r,I,$,ae){ae.spacesDiff=0,ae.looksLikeAlignment=!1;let we;for(we=0;we<r&&we<$;we++){const Ft=F.charCodeAt(we),Vt=I.charCodeAt(we);if(Ft!==Vt)break}let ke=0,nt=0;for(let Ft=we;Ft<r;Ft++)F.charCodeAt(Ft)===32?ke++:nt++;let at=0,_t=0;for(let Ft=we;Ft<$;Ft++)I.charCodeAt(Ft)===32?at++:_t++;if(ke>0&&nt>0||at>0&&_t>0)return;const xt=Math.abs(nt-_t),Et=Math.abs(ke-at);if(xt===0){ae.spacesDiff=Et,Et>0&&0<=at-1&&at-1<F.length&&at<I.length&&I.charCodeAt(at)!==32&&F.charCodeAt(at-1)===32&&F.charCodeAt(F.length-1)===44&&(ae.looksLikeAlignment=!0);return}if(Et%xt===0){ae.spacesDiff=Et/xt;return}}function Re(F,r,I){const $=Math.min(F.getLineCount(),1e4);let ae=0,we=0,ke="",nt=0;const at=[2,4,6,8,3,5,7],_t=8,xt=[0,0,0,0,0,0,0,0,0],Et=new Ue;for(let Qt=1;Qt<=$;Qt++){const si=F.getLineLength(Qt),wi=F.getLineContent(Qt),Ti=si<=65536;let Wi=!1,wn=0,Qn=0,vs=0;for(let fs=0,Ys=si;fs<Ys;fs++){const Zs=Ti?wi.charCodeAt(fs):F.getLineCharCode(Qt,fs);if(Zs===9)vs++;else if(Zs===32)Qn++;else{Wi=!0,wn=fs;break}}if(!Wi||(vs>0?ae++:Qn>1&&we++,Qe(ke,nt,wi,wn,Et),Et.looksLikeAlignment&&!(I&&r===Et.spacesDiff)))continue;const an=Et.spacesDiff;an<=_t&&xt[an]++,ke=wi,nt=wn}let Ft=I;ae!==we&&(Ft=ae<we);let Vt=r;if(Ft){let Qt=Ft?0:.1*$;at.forEach(si=>{const wi=xt[si];wi>Qt&&(Qt=wi,Vt=si)}),Vt===4&&xt[4]>0&&xt[2]>0&&xt[2]>=xt[4]/2&&(Vt=2)}return{insertSpaces:Ft,tabSize:Vt}}function ie(F){return(F.metadata&1)>>>0}function Z(F,r){F.metadata=F.metadata&254|r<<0}function se(F){return(F.metadata&2)>>>1===1}function ve(F,r){F.metadata=F.metadata&253|(r?1:0)<<1}function he(F){return(F.metadata&4)>>>2===1}function ce(F,r){F.metadata=F.metadata&251|(r?1:0)<<2}function Ee(F){return(F.metadata&24)>>>3}function We(F,r){F.metadata=F.metadata&231|r<<3}function it(F){return(F.metadata&32)>>>5===1}function Ze(F,r){F.metadata=F.metadata&223|(r?1:0)<<5}class je{constructor(r,I,$){this.metadata=0,this.parent=this,this.left=this,this.right=this,Z(this,1),this.start=I,this.end=$,this.delta=0,this.maxEnd=$,this.id=r,this.ownerId=0,this.options=null,ce(this,!1),We(this,1),Ze(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=I,this.cachedAbsoluteEnd=$,this.range=null,ve(this,!1)}reset(r,I,$,ae){this.start=I,this.end=$,this.maxEnd=$,this.cachedVersionId=r,this.cachedAbsoluteStart=I,this.cachedAbsoluteEnd=$,this.range=ae}setOptions(r){this.options=r;const I=this.options.className;ce(this,I==="squiggly-error"||I==="squiggly-warning"||I==="squiggly-info"),We(this,this.options.stickiness),Ze(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(r,I,$){this.cachedVersionId!==$&&(this.range=null),this.cachedVersionId=$,this.cachedAbsoluteStart=r,this.cachedAbsoluteEnd=I}detach(){this.parent=null,this.left=null,this.right=null}}const Te=new je(null,0,0);Te.parent=Te,Te.left=Te,Te.right=Te,Z(Te,0);class Ie{constructor(){this.root=Te,this.requestNormalizeDelta=!1}intervalSearch(r,I,$,ae,we){return this.root===Te?[]:ht(this,r,I,$,ae,we)}search(r,I,$){return this.root===Te?[]:ut(this,r,I,$)}collectNodesFromOwner(r){return qe(this,r)}collectNodesPostOrder(){return ot(this)}insert(r){Ct(this,r),this._normalizeDeltaIfNecessary()}delete(r){bt(this,r),this._normalizeDeltaIfNecessary()}resolveNode(r,I){const $=r;let ae=0;for(;r!==this.root;)r===r.parent.right&&(ae+=r.parent.delta),r=r.parent;const we=$.start+ae,ke=$.end+ae;$.setCachedOffsets(we,ke,I)}acceptReplace(r,I,$,ae){const we=me(this,r,r+I);for(let ke=0,nt=we.length;ke<nt;ke++){const at=we[ke];bt(this,at)}this._normalizeDeltaIfNecessary(),Me(this,r,r+I,$),this._normalizeDeltaIfNecessary();for(let ke=0,nt=we.length;ke<nt;ke++){const at=we[ke];at.start=at.cachedAbsoluteStart,at.end=at.cachedAbsoluteEnd,Ce(at,r,r+I,$,ae),at.maxEnd=at.end,Ct(this,at)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,oe(this))}}function oe(F){let r=F.root,I=0;for(;r!==Te;){if(r.left!==Te&&!se(r.left)){r=r.left;continue}if(r.right!==Te&&!se(r.right)){I+=r.delta,r=r.right;continue}r.start=I+r.start,r.end=I+r.end,r.delta=0,zt(r),ve(r,!0),ve(r.left,!1),ve(r.right,!1),r===r.parent.right&&(I-=r.parent.delta),r=r.parent}ve(F.root,!1)}function ge(F,r,I,$){return F<I?!0:F>I||$===1?!1:$===2?!0:r}function Ce(F,r,I,$,ae){const we=Ee(F),ke=we===0||we===2,nt=we===1||we===2,at=I-r,_t=$,xt=Math.min(at,_t),Et=F.start;let Ft=!1;const Vt=F.end;let Qt=!1;r<=Et&&Vt<=I&&it(F)&&(F.start=r,Ft=!0,F.end=r,Qt=!0);{const wi=ae?1:at>0?2:0;!Ft&&ge(Et,ke,r,wi)&&(Ft=!0),!Qt&&ge(Vt,nt,r,wi)&&(Qt=!0)}if(xt>0&&!ae){const wi=at>_t?2:0;!Ft&&ge(Et,ke,r+xt,wi)&&(Ft=!0),!Qt&&ge(Vt,nt,r+xt,wi)&&(Qt=!0)}{const wi=ae?1:0;!Ft&&ge(Et,ke,I,wi)&&(F.start=r+_t,Ft=!0),!Qt&&ge(Vt,nt,I,wi)&&(F.end=r+_t,Qt=!0)}const si=_t-at;Ft||(F.start=Math.max(0,Et+si)),Qt||(F.end=Math.max(0,Vt+si)),F.start>F.end&&(F.end=F.start)}function me(F,r,I){let $=F.root,ae=0,we=0,ke=0,nt=0;const at=[];let _t=0;for(;$!==Te;){if(se($)){ve($.left,!1),ve($.right,!1),$===$.parent.right&&(ae-=$.parent.delta),$=$.parent;continue}if(!se($.left)){if(we=ae+$.maxEnd,we<r){ve($,!0);continue}if($.left!==Te){$=$.left;continue}}if(ke=ae+$.start,ke>I){ve($,!0);continue}if(nt=ae+$.end,nt>=r&&($.setCachedOffsets(ke,nt,0),at[_t++]=$),ve($,!0),$.right!==Te&&!se($.right)){ae+=$.delta,$=$.right;continue}}return ve(F.root,!1),at}function Me(F,r,I,$){let ae=F.root,we=0,ke=0,nt=0;const at=$-(I-r);for(;ae!==Te;){if(se(ae)){ve(ae.left,!1),ve(ae.right,!1),ae===ae.parent.right&&(we-=ae.parent.delta),zt(ae),ae=ae.parent;continue}if(!se(ae.left)){if(ke=we+ae.maxEnd,ke<r){ve(ae,!0);continue}if(ae.left!==Te){ae=ae.left;continue}}if(nt=we+ae.start,nt>I){ae.start+=at,ae.end+=at,ae.delta+=at,(ae.delta<-1073741824||ae.delta>1073741824)&&(F.requestNormalizeDelta=!0),ve(ae,!0);continue}if(ve(ae,!0),ae.right!==Te&&!se(ae.right)){we+=ae.delta,ae=ae.right;continue}}ve(F.root,!1)}function qe(F,r){let I=F.root;const $=[];let ae=0;for(;I!==Te;){if(se(I)){ve(I.left,!1),ve(I.right,!1),I=I.parent;continue}if(I.left!==Te&&!se(I.left)){I=I.left;continue}if(I.ownerId===r&&($[ae++]=I),ve(I,!0),I.right!==Te&&!se(I.right)){I=I.right;continue}}return ve(F.root,!1),$}function ot(F){let r=F.root;const I=[];let $=0;for(;r!==Te;){if(se(r)){ve(r.left,!1),ve(r.right,!1),r=r.parent;continue}if(r.left!==Te&&!se(r.left)){r=r.left;continue}if(r.right!==Te&&!se(r.right)){r=r.right;continue}I[$++]=r,ve(r,!0)}return ve(F.root,!1),I}function ut(F,r,I,$){let ae=F.root,we=0,ke=0,nt=0;const at=[];let _t=0;for(;ae!==Te;){if(se(ae)){ve(ae.left,!1),ve(ae.right,!1),ae===ae.parent.right&&(we-=ae.parent.delta),ae=ae.parent;continue}if(ae.left!==Te&&!se(ae.left)){ae=ae.left;continue}ke=we+ae.start,nt=we+ae.end,ae.setCachedOffsets(ke,nt,$);let xt=!0;if(r&&ae.ownerId&&ae.ownerId!==r&&(xt=!1),I&&he(ae)&&(xt=!1),xt&&(at[_t++]=ae),ve(ae,!0),ae.right!==Te&&!se(ae.right)){we+=ae.delta,ae=ae.right;continue}}return ve(F.root,!1),at}function ht(F,r,I,$,ae,we){let ke=F.root,nt=0,at=0,_t=0,xt=0;const Et=[];let Ft=0;for(;ke!==Te;){if(se(ke)){ve(ke.left,!1),ve(ke.right,!1),ke===ke.parent.right&&(nt-=ke.parent.delta),ke=ke.parent;continue}if(!se(ke.left)){if(at=nt+ke.maxEnd,at<r){ve(ke,!0);continue}if(ke.left!==Te){ke=ke.left;continue}}if(_t=nt+ke.start,_t>I){ve(ke,!0);continue}if(xt=nt+ke.end,xt>=r){ke.setCachedOffsets(_t,xt,we);let Vt=!0;$&&ke.ownerId&&ke.ownerId!==$&&(Vt=!1),ae&&he(ke)&&(Vt=!1),Vt&&(Et[Ft++]=ke)}if(ve(ke,!0),ke.right!==Te&&!se(ke.right)){nt+=ke.delta,ke=ke.right;continue}}return ve(F.root,!1),Et}function Ct(F,r){if(F.root===Te)return r.parent=Te,r.left=Te,r.right=Te,Z(r,0),F.root=r,F.root;Pt(F,r),Fe(r.parent);let I=r;for(;I!==F.root&&ie(I.parent)===1;)if(I.parent===I.parent.parent.left){const $=I.parent.parent.right;ie($)===1?(Z(I.parent,0),Z($,0),Z(I.parent.parent,1),I=I.parent.parent):(I===I.parent.right&&(I=I.parent,Xe(F,I)),Z(I.parent,0),Z(I.parent.parent,1),Lt(F,I.parent.parent))}else{const $=I.parent.parent.left;ie($)===1?(Z(I.parent,0),Z($,0),Z(I.parent.parent,1),I=I.parent.parent):(I===I.parent.left&&(I=I.parent,Lt(F,I)),Z(I.parent,0),Z(I.parent.parent,1),Xe(F,I.parent.parent))}return Z(F.root,0),r}function Pt(F,r){let I=0,$=F.root;const ae=r.start,we=r.end;for(;;)if(et(ae,we,$.start+I,$.end+I)<0)if($.left===Te){r.start-=I,r.end-=I,r.maxEnd-=I,$.left=r;break}else $=$.left;else if($.right===Te){r.start-=I+$.delta,r.end-=I+$.delta,r.maxEnd-=I+$.delta,$.right=r;break}else I+=$.delta,$=$.right;r.parent=$,r.left=Te,r.right=Te,Z(r,1)}function bt(F,r){let I,$;if(r.left===Te?(I=r.right,$=r,I.delta+=r.delta,(I.delta<-1073741824||I.delta>1073741824)&&(F.requestNormalizeDelta=!0),I.start+=r.delta,I.end+=r.delta):r.right===Te?(I=r.left,$=r):($=$t(r.right),I=$.right,I.start+=$.delta,I.end+=$.delta,I.delta+=$.delta,(I.delta<-1073741824||I.delta>1073741824)&&(F.requestNormalizeDelta=!0),$.start+=r.delta,$.end+=r.delta,$.delta=r.delta,($.delta<-1073741824||$.delta>1073741824)&&(F.requestNormalizeDelta=!0)),$===F.root){F.root=I,Z(I,0),r.detach(),Mt(),zt(I),F.root.parent=Te;return}const ae=ie($)===1;if($===$.parent.left?$.parent.left=I:$.parent.right=I,$===r?I.parent=$.parent:($.parent===r?I.parent=$:I.parent=$.parent,$.left=r.left,$.right=r.right,$.parent=r.parent,Z($,ie(r)),r===F.root?F.root=$:r===r.parent.left?r.parent.left=$:r.parent.right=$,$.left!==Te&&($.left.parent=$),$.right!==Te&&($.right.parent=$)),r.detach(),ae){Fe(I.parent),$!==r&&(Fe($),Fe($.parent)),Mt();return}Fe(I),Fe(I.parent),$!==r&&(Fe($),Fe($.parent));let we;for(;I!==F.root&&ie(I)===0;)I===I.parent.left?(we=I.parent.right,ie(we)===1&&(Z(we,0),Z(I.parent,1),Xe(F,I.parent),we=I.parent.right),ie(we.left)===0&&ie(we.right)===0?(Z(we,1),I=I.parent):(ie(we.right)===0&&(Z(we.left,0),Z(we,1),Lt(F,we),we=I.parent.right),Z(we,ie(I.parent)),Z(I.parent,0),Z(we.right,0),Xe(F,I.parent),I=F.root)):(we=I.parent.left,ie(we)===1&&(Z(we,0),Z(I.parent,1),Lt(F,I.parent),we=I.parent.left),ie(we.left)===0&&ie(we.right)===0?(Z(we,1),I=I.parent):(ie(we.left)===0&&(Z(we.right,0),Z(we,1),Xe(F,we),we=I.parent.left),Z(we,ie(I.parent)),Z(I.parent,0),Z(we.left,0),Lt(F,I.parent),I=F.root));Z(I,0),Mt()}function $t(F){for(;F.left!==Te;)F=F.left;return F}function Mt(){Te.parent=Te,Te.delta=0,Te.start=0,Te.end=0}function Xe(F,r){const I=r.right;I.delta+=r.delta,(I.delta<-1073741824||I.delta>1073741824)&&(F.requestNormalizeDelta=!0),I.start+=r.delta,I.end+=r.delta,r.right=I.left,I.left!==Te&&(I.left.parent=r),I.parent=r.parent,r.parent===Te?F.root=I:r===r.parent.left?r.parent.left=I:r.parent.right=I,I.left=r,r.parent=I,zt(r),zt(I)}function Lt(F,r){const I=r.left;r.delta-=I.delta,(r.delta<-1073741824||r.delta>1073741824)&&(F.requestNormalizeDelta=!0),r.start-=I.delta,r.end-=I.delta,r.left=I.right,I.right!==Te&&(I.right.parent=r),I.parent=r.parent,r.parent===Te?F.root=I:r===r.parent.right?r.parent.right=I:r.parent.left=I,I.right=r,r.parent=I,zt(r),zt(I)}function Xt(F){let r=F.end;if(F.left!==Te){const I=F.left.maxEnd;I>r&&(r=I)}if(F.right!==Te){const I=F.right.maxEnd+F.delta;I>r&&(r=I)}return r}function zt(F){F.maxEnd=Xt(F)}function Fe(F){for(;F!==Te;){const r=Xt(F);if(F.maxEnd===r)return;F.maxEnd=r,F=F.parent}}function et(F,r,I,$){return F===I?r-$:F-I}class pt{constructor(r,I){this.piece=r,this.color=I,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==It)return kt(this.right);let r=this;for(;r.parent!==It&&r.parent.left!==r;)r=r.parent;return r.parent===It?It:r.parent}prev(){if(this.left!==It)return yt(this.left);let r=this;for(;r.parent!==It&&r.parent.right!==r;)r=r.parent;return r.parent===It?It:r.parent}detach(){this.parent=null,this.left=null,this.right=null}}const It=new pt(null,0);It.parent=It,It.left=It,It.right=It,It.color=0;function kt(F){for(;F.left!==It;)F=F.left;return F}function yt(F){for(;F.right!==It;)F=F.right;return F}function St(F){return F===It?0:F.size_left+F.piece.length+St(F.right)}function Gt(F){return F===It?0:F.lf_left+F.piece.lineFeedCnt+Gt(F.right)}function ti(){It.parent=It}function ri(F,r){const I=r.right;I.size_left+=r.size_left+(r.piece?r.piece.length:0),I.lf_left+=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),r.right=I.left,I.left!==It&&(I.left.parent=r),I.parent=r.parent,r.parent===It?F.root=I:r.parent.left===r?r.parent.left=I:r.parent.right=I,I.left=r,r.parent=I}function li(F,r){const I=r.left;r.left=I.right,I.right!==It&&(I.right.parent=r),I.parent=r.parent,r.size_left-=I.size_left+(I.piece?I.piece.length:0),r.lf_left-=I.lf_left+(I.piece?I.piece.lineFeedCnt:0),r.parent===It?F.root=I:r===r.parent.right?r.parent.right=I:r.parent.left=I,I.right=r,r.parent=I}function gi(F,r){let I,$;if(r.left===It?($=r,I=$.right):r.right===It?($=r,I=$.left):($=kt(r.right),I=$.right),$===F.root){F.root=I,I.color=0,r.detach(),ti(),F.root.parent=It;return}const ae=$.color===1;if($===$.parent.left?$.parent.left=I:$.parent.right=I,$===r?(I.parent=$.parent,ji(F,I)):($.parent===r?I.parent=$:I.parent=$.parent,ji(F,I),$.left=r.left,$.right=r.right,$.parent=r.parent,$.color=r.color,r===F.root?F.root=$:r===r.parent.left?r.parent.left=$:r.parent.right=$,$.left!==It&&($.left.parent=$),$.right!==It&&($.right.parent=$),$.size_left=r.size_left,$.lf_left=r.lf_left,ji(F,$)),r.detach(),I.parent.left===I){const ke=St(I),nt=Gt(I);if(ke!==I.parent.size_left||nt!==I.parent.lf_left){const at=ke-I.parent.size_left,_t=nt-I.parent.lf_left;I.parent.size_left=ke,I.parent.lf_left=nt,Hi(F,I.parent,at,_t)}}if(ji(F,I.parent),ae){ti();return}let we;for(;I!==F.root&&I.color===0;)I===I.parent.left?(we=I.parent.right,we.color===1&&(we.color=0,I.parent.color=1,ri(F,I.parent),we=I.parent.right),we.left.color===0&&we.right.color===0?(we.color=1,I=I.parent):(we.right.color===0&&(we.left.color=0,we.color=1,li(F,we),we=I.parent.right),we.color=I.parent.color,I.parent.color=0,we.right.color=0,ri(F,I.parent),I=F.root)):(we=I.parent.left,we.color===1&&(we.color=0,I.parent.color=1,li(F,I.parent),we=I.parent.left),we.left.color===0&&we.right.color===0?(we.color=1,I=I.parent):(we.left.color===0&&(we.right.color=0,we.color=1,ri(F,we),we=I.parent.left),we.color=I.parent.color,I.parent.color=0,we.left.color=0,li(F,I.parent),I=F.root));I.color=0,ti()}function Pi(F,r){for(ji(F,r);r!==F.root&&r.parent.color===1;)if(r.parent===r.parent.parent.left){const I=r.parent.parent.right;I.color===1?(r.parent.color=0,I.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,ri(F,r)),r.parent.color=0,r.parent.parent.color=1,li(F,r.parent.parent))}else{const I=r.parent.parent.left;I.color===1?(r.parent.color=0,I.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,li(F,r)),r.parent.color=0,r.parent.parent.color=1,ri(F,r.parent.parent))}F.root.color=0}function Hi(F,r,I,$){for(;r!==F.root&&r!==It;)r.parent.left===r&&(r.parent.size_left+=I,r.parent.lf_left+=$),r=r.parent}function ji(F,r){let I=0,$=0;if(r!==F.root){for(;r!==F.root&&r===r.parent.right;)r=r.parent;if(r!==F.root)for(r=r.parent,I=St(r.left)-r.size_left,$=Gt(r.left)-r.lf_left,r.size_left+=I,r.lf_left+=$;r!==F.root&&(I!==0||$!==0);)r.parent.left===r&&(r.parent.size_left+=I,r.parent.lf_left+=$),r=r.parent}}var bn=i(58461);const Rn=65535;function bs(F){let r;return F[F.length-1]<65536?r=new Uint16Array(F.length):r=new Uint32Array(F.length),r.set(F,0),r}class ms{constructor(r,I,$,ae,we){this.lineStarts=r,this.cr=I,this.lf=$,this.crlf=ae,this.isBasicASCII=we}}function ki(F,r=!0){const I=[0];let $=1;for(let ae=0,we=F.length;ae<we;ae++){const ke=F.charCodeAt(ae);ke===13?ae+1<we&&F.charCodeAt(ae+1)===10?(I[$++]=ae+2,ae++):I[$++]=ae+1:ke===10&&(I[$++]=ae+1)}return r?bs(I):I}function Vi(F,r){F.length=0,F[0]=0;let I=1,$=0,ae=0,we=0,ke=!0;for(let at=0,_t=r.length;at<_t;at++){const xt=r.charCodeAt(at);xt===13?at+1<_t&&r.charCodeAt(at+1)===10?(we++,F[I++]=at+2,at++):($++,F[I++]=at+1):xt===10?(ae++,F[I++]=at+1):ke&&xt!==9&&(xt<32||xt>126)&&(ke=!1)}const nt=new ms(bs(F),$,ae,we,ke);return F.length=0,nt}class Ki{constructor(r,I,$,ae,we){this.bufferIndex=r,this.start=I,this.end=$,this.lineFeedCnt=ae,this.length=we}}class es{constructor(r,I){this.buffer=r,this.lineStarts=I}}class Ls{constructor(r,I){this._pieces=[],this._tree=r,this._BOM=I,this._index=0,r.root!==It&&r.iterate(r.root,$=>($!==It&&this._pieces.push($.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class ts{constructor(r){this._limit=r,this._cache=[]}get(r){for(let I=this._cache.length-1;I>=0;I--){const $=this._cache[I];if($.nodeStartOffset<=r&&$.nodeStartOffset+$.node.piece.length>=r)return $}return null}get2(r){for(let I=this._cache.length-1;I>=0;I--){const $=this._cache[I];if($.nodeStartLineNumber&&$.nodeStartLineNumber<r&&$.nodeStartLineNumber+$.node.piece.lineFeedCnt>=r)return $}return null}set(r){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(r)}validate(r){let I=!1;const $=this._cache;for(let ae=0;ae<$.length;ae++){const we=$[ae];if(we.node.parent===null||we.nodeStartOffset>=r){$[ae]=null,I=!0;continue}}if(I){const ae=[];for(const we of $)we!==null&&ae.push(we);this._cache=ae}}}class Kn{constructor(r,I,$){this.create(r,I,$)}create(r,I,$){this._buffers=[new es("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=It,this._lineCnt=1,this._length=0,this._EOL=I,this._EOLLength=I.length,this._EOLNormalized=$;let ae=null;for(let we=0,ke=r.length;we<ke;we++)if(r[we].buffer.length>0){r[we].lineStarts||(r[we].lineStarts=ki(r[we].buffer));const nt=new Ki(we+1,{line:0,column:0},{line:r[we].lineStarts.length-1,column:r[we].buffer.length-r[we].lineStarts[r[we].lineStarts.length-1]},r[we].lineStarts.length-1,r[we].buffer.length);this._buffers.push(r[we]),ae=this.rbInsertRight(ae,nt)}this._searchCache=new ts(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(r){const I=Rn,$=I-Math.floor(I/3),ae=$*2;let we="",ke=0;const nt=[];if(this.iterate(this.root,at=>{const _t=this.getNodeContent(at),xt=_t.length;if(ke<=$||ke+xt<ae)return we+=_t,ke+=xt,!0;const Et=we.replace(/\r\n|\r|\n/g,r);return nt.push(new es(Et,ki(Et))),we=_t,ke=xt,!0}),ke>0){const at=we.replace(/\r\n|\r|\n/g,r);nt.push(new es(at,ki(at)))}this.create(nt,r,!0)}getEOL(){return this._EOL}setEOL(r){this._EOL=r,this._EOLLength=this._EOL.length,this.normalizeEOL(r)}createSnapshot(r){return new Ls(this,r)}getOffsetAt(r,I){let $=0,ae=this.root;for(;ae!==It;)if(ae.left!==It&&ae.lf_left+1>=r)ae=ae.left;else if(ae.lf_left+ae.piece.lineFeedCnt+1>=r){$+=ae.size_left;const we=this.getAccumulatedValue(ae,r-ae.lf_left-2);return $+=we+I-1}else r-=ae.lf_left+ae.piece.lineFeedCnt,$+=ae.size_left+ae.piece.length,ae=ae.right;return $}getPositionAt(r){r=Math.floor(r),r=Math.max(0,r);let I=this.root,$=0;const ae=r;for(;I!==It;)if(I.size_left!==0&&I.size_left>=r)I=I.left;else if(I.size_left+I.piece.length>=r){const we=this.getIndexOf(I,r-I.size_left);if($+=I.lf_left+we.index,we.index===0){const ke=this.getOffsetAt($+1,1),nt=ae-ke;return new p.L($+1,nt+1)}return new p.L($+1,we.remainder+1)}else if(r-=I.size_left+I.piece.length,$+=I.lf_left+I.piece.lineFeedCnt,I.right===It){const we=this.getOffsetAt($+1,1),ke=ae-r-we;return new p.L($+1,ke+1)}else I=I.right;return new p.L(1,1)}getValueInRange(r,I){if(r.startLineNumber===r.endLineNumber&&r.startColumn===r.endColumn)return"";const $=this.nodeAt2(r.startLineNumber,r.startColumn),ae=this.nodeAt2(r.endLineNumber,r.endColumn),we=this.getValueInRange2($,ae);return I?I!==this._EOL||!this._EOLNormalized?we.replace(/\r\n|\r|\n/g,I):I===this.getEOL()&&this._EOLNormalized?we:we.replace(/\r\n|\r|\n/g,I):we}getValueInRange2(r,I){if(r.node===I.node){const nt=r.node,at=this._buffers[nt.piece.bufferIndex].buffer,_t=this.offsetInBuffer(nt.piece.bufferIndex,nt.piece.start);return at.substring(_t+r.remainder,_t+I.remainder)}let $=r.node;const ae=this._buffers[$.piece.bufferIndex].buffer,we=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);let ke=ae.substring(we+r.remainder,we+$.piece.length);for($=$.next();$!==It;){const nt=this._buffers[$.piece.bufferIndex].buffer,at=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);if($===I.node){ke+=nt.substring(at,at+I.remainder);break}else ke+=nt.substr(at,$.piece.length);$=$.next()}return ke}getLinesContent(){const r=[];let I=0,$="",ae=!1;return this.iterate(this.root,we=>{if(we===It)return!0;const ke=we.piece;let nt=ke.length;if(nt===0)return!0;const at=this._buffers[ke.bufferIndex].buffer,_t=this._buffers[ke.bufferIndex].lineStarts,xt=ke.start.line,Et=ke.end.line;let Ft=_t[xt]+ke.start.column;if(ae&&(at.charCodeAt(Ft)===10&&(Ft++,nt--),r[I++]=$,$="",ae=!1,nt===0))return!0;if(xt===Et)return!this._EOLNormalized&&at.charCodeAt(Ft+nt-1)===13?(ae=!0,$+=at.substr(Ft,nt-1)):$+=at.substr(Ft,nt),!0;$+=this._EOLNormalized?at.substring(Ft,Math.max(Ft,_t[xt+1]-this._EOLLength)):at.substring(Ft,_t[xt+1]).replace(/(\r\n|\r|\n)$/,""),r[I++]=$;for(let Vt=xt+1;Vt<Et;Vt++)$=this._EOLNormalized?at.substring(_t[Vt],_t[Vt+1]-this._EOLLength):at.substring(_t[Vt],_t[Vt+1]).replace(/(\r\n|\r|\n)$/,""),r[I++]=$;return!this._EOLNormalized&&at.charCodeAt(_t[Et]+ke.end.column-1)===13?(ae=!0,ke.end.column===0?I--:$=at.substr(_t[Et],ke.end.column-1)):$=at.substr(_t[Et],ke.end.column),!0}),ae&&(r[I++]=$,$=""),r[I++]=$,r}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(r){return this._lastVisitedLine.lineNumber===r?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=r,r===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(r):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(r,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(r).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(r){if(r.remainder===r.node.piece.length){const I=r.node.next();if(!I)return 0;const $=this._buffers[I.piece.bufferIndex],ae=this.offsetInBuffer(I.piece.bufferIndex,I.piece.start);return $.buffer.charCodeAt(ae)}else{const I=this._buffers[r.node.piece.bufferIndex],ae=this.offsetInBuffer(r.node.piece.bufferIndex,r.node.piece.start)+r.remainder;return I.buffer.charCodeAt(ae)}}getLineCharCode(r,I){const $=this.nodeAt2(r,I+1);return this._getCharCode($)}getLineLength(r){if(r===this.getLineCount()){const I=this.getOffsetAt(r,1);return this.getLength()-I}return this.getOffsetAt(r+1,1)-this.getOffsetAt(r,1)-this._EOLLength}findMatchesInNode(r,I,$,ae,we,ke,nt,at,_t,xt,Et){const Ft=this._buffers[r.piece.bufferIndex],Vt=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start),Qt=this.offsetInBuffer(r.piece.bufferIndex,we),si=this.offsetInBuffer(r.piece.bufferIndex,ke);let wi;const Ti={line:0,column:0};let Wi,wn;I._wordSeparators?(Wi=Ft.buffer.substring(Qt,si),wn=Qn=>Qn+Qt,I.reset(0)):(Wi=Ft.buffer,wn=Qn=>Qn,I.reset(Qt));do if(wi=I.next(Wi),wi){if(wn(wi.index)>=si)return xt;this.positionInBuffer(r,wn(wi.index)-Vt,Ti);const Qn=this.getLineFeedCnt(r.piece.bufferIndex,we,Ti),vs=Ti.line===we.line?Ti.column-we.column+ae:Ti.column+1,an=vs+wi[0].length;if(Et[xt++]=(0,bn.iE)(new l.e($+Qn,vs,$+Qn,an),wi,at),wn(wi.index)+wi[0].length>=si||xt>=_t)return xt}while(wi);return xt}findMatchesLineByLine(r,I,$,ae){const we=[];let ke=0;const nt=new bn.sz(I.wordSeparators,I.regex);let at=this.nodeAt2(r.startLineNumber,r.startColumn);if(at===null)return[];const _t=this.nodeAt2(r.endLineNumber,r.endColumn);if(_t===null)return[];let xt=this.positionInBuffer(at.node,at.remainder);const Et=this.positionInBuffer(_t.node,_t.remainder);if(at.node===_t.node)return this.findMatchesInNode(at.node,nt,r.startLineNumber,r.startColumn,xt,Et,I,$,ae,ke,we),we;let Ft=r.startLineNumber,Vt=at.node;for(;Vt!==_t.node;){const si=this.getLineFeedCnt(Vt.piece.bufferIndex,xt,Vt.piece.end);if(si>=1){const Ti=this._buffers[Vt.piece.bufferIndex].lineStarts,Wi=this.offsetInBuffer(Vt.piece.bufferIndex,Vt.piece.start),wn=Ti[xt.line+si],Qn=Ft===r.startLineNumber?r.startColumn:1;if(ke=this.findMatchesInNode(Vt,nt,Ft,Qn,xt,this.positionInBuffer(Vt,wn-Wi),I,$,ae,ke,we),ke>=ae)return we;Ft+=si}const wi=Ft===r.startLineNumber?r.startColumn-1:0;if(Ft===r.endLineNumber){const Ti=this.getLineContent(Ft).substring(wi,r.endColumn-1);return ke=this._findMatchesInLine(I,nt,Ti,r.endLineNumber,wi,ke,we,$,ae),we}if(ke=this._findMatchesInLine(I,nt,this.getLineContent(Ft).substr(wi),Ft,wi,ke,we,$,ae),ke>=ae)return we;Ft++,at=this.nodeAt2(Ft,1),Vt=at.node,xt=this.positionInBuffer(at.node,at.remainder)}if(Ft===r.endLineNumber){const si=Ft===r.startLineNumber?r.startColumn-1:0,wi=this.getLineContent(Ft).substring(si,r.endColumn-1);return ke=this._findMatchesInLine(I,nt,wi,r.endLineNumber,si,ke,we,$,ae),we}const Qt=Ft===r.startLineNumber?r.startColumn:1;return ke=this.findMatchesInNode(_t.node,nt,Ft,Qt,xt,Et,I,$,ae,ke,we),we}_findMatchesInLine(r,I,$,ae,we,ke,nt,at,_t){const xt=r.wordSeparators;if(!at&&r.simpleSearch){const Ft=r.simpleSearch,Vt=Ft.length,Qt=$.length;let si=-Vt;for(;(si=$.indexOf(Ft,si+Vt))!==-1;)if((!xt||(0,bn.cM)(xt,$,Qt,si,Vt))&&(nt[ke++]=new C.tk(new l.e(ae,si+1+we,ae,si+1+Vt+we),null),ke>=_t))return ke;return ke}let Et;I.reset(0);do if(Et=I.next($),Et&&(nt[ke++]=(0,bn.iE)(new l.e(ae,Et.index+1+we,ae,Et.index+1+Et[0].length+we),Et,at),ke>=_t))return ke;while(Et);return ke}insert(r,I,$=!1){if(this._EOLNormalized=this._EOLNormalized&&$,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==It){const{node:ae,remainder:we,nodeStartOffset:ke}=this.nodeAt(r),nt=ae.piece,at=nt.bufferIndex,_t=this.positionInBuffer(ae,we);if(ae.piece.bufferIndex===0&&nt.end.line===this._lastChangeBufferPos.line&&nt.end.column===this._lastChangeBufferPos.column&&ke+nt.length===r&&I.length<Rn){this.appendToNode(ae,I),this.computeBufferMetadata();return}if(ke===r)this.insertContentToNodeLeft(I,ae),this._searchCache.validate(r);else if(ke+ae.piece.length>r){const xt=[];let Et=new Ki(nt.bufferIndex,_t,nt.end,this.getLineFeedCnt(nt.bufferIndex,_t,nt.end),this.offsetInBuffer(at,nt.end)-this.offsetInBuffer(at,_t));if(this.shouldCheckCRLF()&&this.endWithCR(I)&&this.nodeCharCodeAt(ae,we)===10){const si={line:Et.start.line+1,column:0};Et=new Ki(Et.bufferIndex,si,Et.end,this.getLineFeedCnt(Et.bufferIndex,si,Et.end),Et.length-1),I+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(I))if(this.nodeCharCodeAt(ae,we-1)===13){const si=this.positionInBuffer(ae,we-1);this.deleteNodeTail(ae,si),I="\r"+I,ae.piece.length===0&&xt.push(ae)}else this.deleteNodeTail(ae,_t);else this.deleteNodeTail(ae,_t);const Ft=this.createNewPieces(I);Et.length>0&&this.rbInsertRight(ae,Et);let Vt=ae;for(let Qt=0;Qt<Ft.length;Qt++)Vt=this.rbInsertRight(Vt,Ft[Qt]);this.deleteNodes(xt)}else this.insertContentToNodeRight(I,ae)}else{const ae=this.createNewPieces(I);let we=this.rbInsertLeft(null,ae[0]);for(let ke=1;ke<ae.length;ke++)we=this.rbInsertRight(we,ae[ke])}this.computeBufferMetadata()}delete(r,I){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",I<=0||this.root===It)return;const $=this.nodeAt(r),ae=this.nodeAt(r+I),we=$.node,ke=ae.node;if(we===ke){const Ft=this.positionInBuffer(we,$.remainder),Vt=this.positionInBuffer(we,ae.remainder);if($.nodeStartOffset===r){if(I===we.piece.length){const Qt=we.next();gi(this,we),this.validateCRLFWithPrevNode(Qt),this.computeBufferMetadata();return}this.deleteNodeHead(we,Vt),this._searchCache.validate(r),this.validateCRLFWithPrevNode(we),this.computeBufferMetadata();return}if($.nodeStartOffset+we.piece.length===r+I){this.deleteNodeTail(we,Ft),this.validateCRLFWithNextNode(we),this.computeBufferMetadata();return}this.shrinkNode(we,Ft,Vt),this.computeBufferMetadata();return}const nt=[],at=this.positionInBuffer(we,$.remainder);this.deleteNodeTail(we,at),this._searchCache.validate(r),we.piece.length===0&&nt.push(we);const _t=this.positionInBuffer(ke,ae.remainder);this.deleteNodeHead(ke,_t),ke.piece.length===0&&nt.push(ke);const xt=we.next();for(let Ft=xt;Ft!==It&&Ft!==ke;Ft=Ft.next())nt.push(Ft);const Et=we.piece.length===0?we.prev():we;this.deleteNodes(nt),this.validateCRLFWithNextNode(Et),this.computeBufferMetadata()}insertContentToNodeLeft(r,I){const $=[];if(this.shouldCheckCRLF()&&this.endWithCR(r)&&this.startWithLF(I)){const ke=I.piece,nt={line:ke.start.line+1,column:0},at=new Ki(ke.bufferIndex,nt,ke.end,this.getLineFeedCnt(ke.bufferIndex,nt,ke.end),ke.length-1);I.piece=at,r+=`
`,Hi(this,I,-1,-1),I.piece.length===0&&$.push(I)}const ae=this.createNewPieces(r);let we=this.rbInsertLeft(I,ae[ae.length-1]);for(let ke=ae.length-2;ke>=0;ke--)we=this.rbInsertLeft(we,ae[ke]);this.validateCRLFWithPrevNode(we),this.deleteNodes($)}insertContentToNodeRight(r,I){this.adjustCarriageReturnFromNext(r,I)&&(r+=`
`);const $=this.createNewPieces(r),ae=this.rbInsertRight(I,$[0]);let we=ae;for(let ke=1;ke<$.length;ke++)we=this.rbInsertRight(we,$[ke]);this.validateCRLFWithPrevNode(ae)}positionInBuffer(r,I,$){const ae=r.piece,we=r.piece.bufferIndex,ke=this._buffers[we].lineStarts,at=ke[ae.start.line]+ae.start.column+I;let _t=ae.start.line,xt=ae.end.line,Et=0,Ft=0,Vt=0;for(;_t<=xt&&(Et=_t+(xt-_t)/2|0,Vt=ke[Et],Et!==xt);)if(Ft=ke[Et+1],at<Vt)xt=Et-1;else if(at>=Ft)_t=Et+1;else break;return $?($.line=Et,$.column=at-Vt,null):{line:Et,column:at-Vt}}getLineFeedCnt(r,I,$){if($.column===0)return $.line-I.line;const ae=this._buffers[r].lineStarts;if($.line===ae.length-1)return $.line-I.line;const we=ae[$.line+1],ke=ae[$.line]+$.column;if(we>ke+1)return $.line-I.line;const nt=ke-1;return this._buffers[r].buffer.charCodeAt(nt)===13?$.line-I.line+1:$.line-I.line}offsetInBuffer(r,I){return this._buffers[r].lineStarts[I.line]+I.column}deleteNodes(r){for(let I=0;I<r.length;I++)gi(this,r[I])}createNewPieces(r){if(r.length>Rn){const xt=[];for(;r.length>Rn;){const Ft=r.charCodeAt(Rn-1);let Vt;Ft===13||Ft>=55296&&Ft<=56319?(Vt=r.substring(0,Rn-1),r=r.substring(Rn-1)):(Vt=r.substring(0,Rn),r=r.substring(Rn));const Qt=ki(Vt);xt.push(new Ki(this._buffers.length,{line:0,column:0},{line:Qt.length-1,column:Vt.length-Qt[Qt.length-1]},Qt.length-1,Vt.length)),this._buffers.push(new es(Vt,Qt))}const Et=ki(r);return xt.push(new Ki(this._buffers.length,{line:0,column:0},{line:Et.length-1,column:r.length-Et[Et.length-1]},Et.length-1,r.length)),this._buffers.push(new es(r,Et)),xt}let I=this._buffers[0].buffer.length;const $=ki(r,!1);let ae=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===I&&I!==0&&this.startWithLF(r)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},ae=this._lastChangeBufferPos;for(let xt=0;xt<$.length;xt++)$[xt]+=I+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat($.slice(1)),this._buffers[0].buffer+="_"+r,I+=1}else{if(I!==0)for(let xt=0;xt<$.length;xt++)$[xt]+=I;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat($.slice(1)),this._buffers[0].buffer+=r}const we=this._buffers[0].buffer.length,ke=this._buffers[0].lineStarts.length-1,nt=we-this._buffers[0].lineStarts[ke],at={line:ke,column:nt},_t=new Ki(0,ae,at,this.getLineFeedCnt(0,ae,at),we-I);return this._lastChangeBufferPos=at,[_t]}getLineRawContent(r,I=0){let $=this.root,ae="";const we=this._searchCache.get2(r);if(we){$=we.node;const ke=this.getAccumulatedValue($,r-we.nodeStartLineNumber-1),nt=this._buffers[$.piece.bufferIndex].buffer,at=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);if(we.nodeStartLineNumber+$.piece.lineFeedCnt===r)ae=nt.substring(at+ke,at+$.piece.length);else{const _t=this.getAccumulatedValue($,r-we.nodeStartLineNumber);return nt.substring(at+ke,at+_t-I)}}else{let ke=0;const nt=r;for(;$!==It;)if($.left!==It&&$.lf_left>=r-1)$=$.left;else if($.lf_left+$.piece.lineFeedCnt>r-1){const at=this.getAccumulatedValue($,r-$.lf_left-2),_t=this.getAccumulatedValue($,r-$.lf_left-1),xt=this._buffers[$.piece.bufferIndex].buffer,Et=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);return ke+=$.size_left,this._searchCache.set({node:$,nodeStartOffset:ke,nodeStartLineNumber:nt-(r-1-$.lf_left)}),xt.substring(Et+at,Et+_t-I)}else if($.lf_left+$.piece.lineFeedCnt===r-1){const at=this.getAccumulatedValue($,r-$.lf_left-2),_t=this._buffers[$.piece.bufferIndex].buffer,xt=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);ae=_t.substring(xt+at,xt+$.piece.length);break}else r-=$.lf_left+$.piece.lineFeedCnt,ke+=$.size_left+$.piece.length,$=$.right}for($=$.next();$!==It;){const ke=this._buffers[$.piece.bufferIndex].buffer;if($.piece.lineFeedCnt>0){const nt=this.getAccumulatedValue($,0),at=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);return ae+=ke.substring(at,at+nt-I),ae}else{const nt=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);ae+=ke.substr(nt,$.piece.length)}$=$.next()}return ae}computeBufferMetadata(){let r=this.root,I=1,$=0;for(;r!==It;)I+=r.lf_left+r.piece.lineFeedCnt,$+=r.size_left+r.piece.length,r=r.right;this._lineCnt=I,this._length=$,this._searchCache.validate(this._length)}getIndexOf(r,I){const $=r.piece,ae=this.positionInBuffer(r,I),we=ae.line-$.start.line;if(this.offsetInBuffer($.bufferIndex,$.end)-this.offsetInBuffer($.bufferIndex,$.start)===I){const ke=this.getLineFeedCnt(r.piece.bufferIndex,$.start,ae);if(ke!==we)return{index:ke,remainder:0}}return{index:we,remainder:ae.column}}getAccumulatedValue(r,I){if(I<0)return 0;const $=r.piece,ae=this._buffers[$.bufferIndex].lineStarts,we=$.start.line+I+1;return we>$.end.line?ae[$.end.line]+$.end.column-ae[$.start.line]-$.start.column:ae[we]-ae[$.start.line]-$.start.column}deleteNodeTail(r,I){const $=r.piece,ae=$.lineFeedCnt,we=this.offsetInBuffer($.bufferIndex,$.end),ke=I,nt=this.offsetInBuffer($.bufferIndex,ke),at=this.getLineFeedCnt($.bufferIndex,$.start,ke),_t=at-ae,xt=nt-we,Et=$.length+xt;r.piece=new Ki($.bufferIndex,$.start,ke,at,Et),Hi(this,r,xt,_t)}deleteNodeHead(r,I){const $=r.piece,ae=$.lineFeedCnt,we=this.offsetInBuffer($.bufferIndex,$.start),ke=I,nt=this.getLineFeedCnt($.bufferIndex,ke,$.end),at=this.offsetInBuffer($.bufferIndex,ke),_t=nt-ae,xt=we-at,Et=$.length+xt;r.piece=new Ki($.bufferIndex,ke,$.end,nt,Et),Hi(this,r,xt,_t)}shrinkNode(r,I,$){const ae=r.piece,we=ae.start,ke=ae.end,nt=ae.length,at=ae.lineFeedCnt,_t=I,xt=this.getLineFeedCnt(ae.bufferIndex,ae.start,_t),Et=this.offsetInBuffer(ae.bufferIndex,I)-this.offsetInBuffer(ae.bufferIndex,we);r.piece=new Ki(ae.bufferIndex,ae.start,_t,xt,Et),Hi(this,r,Et-nt,xt-at);const Ft=new Ki(ae.bufferIndex,$,ke,this.getLineFeedCnt(ae.bufferIndex,$,ke),this.offsetInBuffer(ae.bufferIndex,ke)-this.offsetInBuffer(ae.bufferIndex,$)),Vt=this.rbInsertRight(r,Ft);this.validateCRLFWithPrevNode(Vt)}appendToNode(r,I){this.adjustCarriageReturnFromNext(I,r)&&(I+=`
`);const $=this.shouldCheckCRLF()&&this.startWithLF(I)&&this.endWithCR(r),ae=this._buffers[0].buffer.length;this._buffers[0].buffer+=I;const we=ki(I,!1);for(let Vt=0;Vt<we.length;Vt++)we[Vt]+=ae;if($){const Vt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:ae-Vt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(we.slice(1));const ke=this._buffers[0].lineStarts.length-1,nt=this._buffers[0].buffer.length-this._buffers[0].lineStarts[ke],at={line:ke,column:nt},_t=r.piece.length+I.length,xt=r.piece.lineFeedCnt,Et=this.getLineFeedCnt(0,r.piece.start,at),Ft=Et-xt;r.piece=new Ki(r.piece.bufferIndex,r.piece.start,at,Et,_t),this._lastChangeBufferPos=at,Hi(this,r,I.length,Ft)}nodeAt(r){let I=this.root;const $=this._searchCache.get(r);if($)return{node:$.node,nodeStartOffset:$.nodeStartOffset,remainder:r-$.nodeStartOffset};let ae=0;for(;I!==It;)if(I.size_left>r)I=I.left;else if(I.size_left+I.piece.length>=r){ae+=I.size_left;const we={node:I,remainder:r-I.size_left,nodeStartOffset:ae};return this._searchCache.set(we),we}else r-=I.size_left+I.piece.length,ae+=I.size_left+I.piece.length,I=I.right;return null}nodeAt2(r,I){let $=this.root,ae=0;for(;$!==It;)if($.left!==It&&$.lf_left>=r-1)$=$.left;else if($.lf_left+$.piece.lineFeedCnt>r-1){const we=this.getAccumulatedValue($,r-$.lf_left-2),ke=this.getAccumulatedValue($,r-$.lf_left-1);return ae+=$.size_left,{node:$,remainder:Math.min(we+I-1,ke),nodeStartOffset:ae}}else if($.lf_left+$.piece.lineFeedCnt===r-1){const we=this.getAccumulatedValue($,r-$.lf_left-2);if(we+I-1<=$.piece.length)return{node:$,remainder:we+I-1,nodeStartOffset:ae};I-=$.piece.length-we;break}else r-=$.lf_left+$.piece.lineFeedCnt,ae+=$.size_left+$.piece.length,$=$.right;for($=$.next();$!==It;){if($.piece.lineFeedCnt>0){const we=this.getAccumulatedValue($,0),ke=this.offsetOfNode($);return{node:$,remainder:Math.min(I-1,we),nodeStartOffset:ke}}else if($.piece.length>=I-1){const we=this.offsetOfNode($);return{node:$,remainder:I-1,nodeStartOffset:we}}else I-=$.piece.length;$=$.next()}return null}nodeCharCodeAt(r,I){if(r.piece.lineFeedCnt<1)return-1;const $=this._buffers[r.piece.bufferIndex],ae=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start)+I;return $.buffer.charCodeAt(ae)}offsetOfNode(r){if(!r)return 0;let I=r.size_left;for(;r!==this.root;)r.parent.right===r&&(I+=r.parent.size_left+r.parent.piece.length),r=r.parent;return I}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(r){if(typeof r=="string")return r.charCodeAt(0)===10;if(r===It||r.piece.lineFeedCnt===0)return!1;const I=r.piece,$=this._buffers[I.bufferIndex].lineStarts,ae=I.start.line,we=$[ae]+I.start.column;return ae===$.length-1||$[ae+1]>we+1?!1:this._buffers[I.bufferIndex].buffer.charCodeAt(we)===10}endWithCR(r){return typeof r=="string"?r.charCodeAt(r.length-1)===13:r===It||r.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(r,r.piece.length-1)===13}validateCRLFWithPrevNode(r){if(this.shouldCheckCRLF()&&this.startWithLF(r)){const I=r.prev();this.endWithCR(I)&&this.fixCRLF(I,r)}}validateCRLFWithNextNode(r){if(this.shouldCheckCRLF()&&this.endWithCR(r)){const I=r.next();this.startWithLF(I)&&this.fixCRLF(r,I)}}fixCRLF(r,I){const $=[],ae=this._buffers[r.piece.bufferIndex].lineStarts;let we;r.piece.end.column===0?we={line:r.piece.end.line-1,column:ae[r.piece.end.line]-ae[r.piece.end.line-1]-1}:we={line:r.piece.end.line,column:r.piece.end.column-1};const ke=r.piece.length-1,nt=r.piece.lineFeedCnt-1;r.piece=new Ki(r.piece.bufferIndex,r.piece.start,we,nt,ke),Hi(this,r,-1,-1),r.piece.length===0&&$.push(r);const at={line:I.piece.start.line+1,column:0},_t=I.piece.length-1,xt=this.getLineFeedCnt(I.piece.bufferIndex,at,I.piece.end);I.piece=new Ki(I.piece.bufferIndex,at,I.piece.end,xt,_t),Hi(this,I,-1,-1),I.piece.length===0&&$.push(I);const Et=this.createNewPieces(`\r
`);this.rbInsertRight(r,Et[0]);for(let Ft=0;Ft<$.length;Ft++)gi(this,$[Ft])}adjustCarriageReturnFromNext(r,I){if(this.shouldCheckCRLF()&&this.endWithCR(r)){const $=I.next();if(this.startWithLF($)){if(r+=`
`,$.piece.length===1)gi(this,$);else{const ae=$.piece,we={line:ae.start.line+1,column:0},ke=ae.length-1,nt=this.getLineFeedCnt(ae.bufferIndex,we,ae.end);$.piece=new Ki(ae.bufferIndex,we,ae.end,nt,ke),Hi(this,$,-1,-1)}return!0}}return!1}iterate(r,I){if(r===It)return I(It);const $=this.iterate(r.left,I);return $&&I(r)&&this.iterate(r.right,I)}getNodeContent(r){if(r===It)return"";const I=this._buffers[r.piece.bufferIndex],$=r.piece,ae=this.offsetInBuffer($.bufferIndex,$.start),we=this.offsetInBuffer($.bufferIndex,$.end);return I.buffer.substring(ae,we)}getPieceContent(r){const I=this._buffers[r.bufferIndex],$=this.offsetInBuffer(r.bufferIndex,r.start),ae=this.offsetInBuffer(r.bufferIndex,r.end);return I.buffer.substring($,ae)}rbInsertRight(r,I){const $=new pt(I,1);if($.left=It,$.right=It,$.parent=It,$.size_left=0,$.lf_left=0,this.root===It)this.root=$,$.color=0;else if(r.right===It)r.right=$,$.parent=r;else{const we=kt(r.right);we.left=$,$.parent=we}return Pi(this,$),$}rbInsertLeft(r,I){const $=new pt(I,1);if($.left=It,$.right=It,$.parent=It,$.size_left=0,$.lf_left=0,this.root===It)this.root=$,$.color=0;else if(r.left===It)r.left=$,$.parent=r;else{const ae=yt(r.left);ae.right=$,$.parent=ae}return Pi(this,$),$}}var Wn=i(79989);class yn extends v.JT{constructor(r,I,$,ae,we,ke,nt){super(),this._onDidChangeContent=this._register(new _.Q5),this._BOM=I,this._mightContainNonBasicASCII=!ke,this._mightContainRTL=ae,this._mightContainUnusualLineTerminators=we,this._pieceTree=new Kn(r,$,nt)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(r){return this._pieceTree.createSnapshot(r?this._BOM:"")}getOffsetAt(r,I){return this._pieceTree.getOffsetAt(r,I)}getPositionAt(r){return this._pieceTree.getPositionAt(r)}getRangeAt(r,I){const $=r+I,ae=this.getPositionAt(r),we=this.getPositionAt($);return new l.e(ae.lineNumber,ae.column,we.lineNumber,we.column)}getValueInRange(r,I=0){if(r.isEmpty())return"";const $=this._getEndOfLine(I);return this._pieceTree.getValueInRange(r,$)}getValueLengthInRange(r,I=0){if(r.isEmpty())return 0;if(r.startLineNumber===r.endLineNumber)return r.endColumn-r.startColumn;const $=this.getOffsetAt(r.startLineNumber,r.startColumn),ae=this.getOffsetAt(r.endLineNumber,r.endColumn);let we=0;const ke=this._getEndOfLine(I),nt=this.getEOL();if(ke.length!==nt.length){const at=ke.length-nt.length,_t=r.endLineNumber-r.startLineNumber;we=at*_t}return ae-$+we}getCharacterCountInRange(r,I=0){if(this._mightContainNonBasicASCII){let $=0;const ae=r.startLineNumber,we=r.endLineNumber;for(let ke=ae;ke<=we;ke++){const nt=this.getLineContent(ke),at=ke===ae?r.startColumn-1:0,_t=ke===we?r.endColumn-1:nt.length;for(let xt=at;xt<_t;xt++)A.ZG(nt.charCodeAt(xt))?($=$+1,xt=xt+1):$=$+1}return $+=this._getEndOfLine(I).length*(we-ae),$}return this.getValueLengthInRange(r,I)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(r){return this._pieceTree.getLineContent(r)}getLineCharCode(r,I){return this._pieceTree.getLineCharCode(r,I)}getLineLength(r){return this._pieceTree.getLineLength(r)}getLineFirstNonWhitespaceColumn(r){const I=A.LC(this.getLineContent(r));return I===-1?0:I+1}getLineLastNonWhitespaceColumn(r){const I=A.ow(this.getLineContent(r));return I===-1?0:I+2}_getEndOfLine(r){switch(r){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(r){this._pieceTree.setEOL(r)}applyEdits(r,I,$){let ae=this._mightContainRTL,we=this._mightContainUnusualLineTerminators,ke=this._mightContainNonBasicASCII,nt=!0,at=[];for(let si=0;si<r.length;si++){const wi=r[si];nt&&wi._isTracked&&(nt=!1);const Ti=wi.range;if(wi.text){let an=!0;ke||(an=!A.$i(wi.text),ke=an),!ae&&an&&(ae=A.Ut(wi.text)),!we&&an&&(we=A.ab(wi.text))}let Wi="",wn=0,Qn=0,vs=0;if(wi.text){let an;[wn,Qn,vs,an]=(0,E.Q)(wi.text);const fs=this.getEOL();an===0||an===(fs===`\r
`?2:1)?Wi=wi.text:Wi=wi.text.replace(/\r\n|\r|\n/g,fs)}at[si]={sortIndex:si,identifier:wi.identifier||null,range:Ti,rangeOffset:this.getOffsetAt(Ti.startLineNumber,Ti.startColumn),rangeLength:this.getValueLengthInRange(Ti),text:Wi,eolCount:wn,firstLineLength:Qn,lastLineLength:vs,forceMoveMarkers:Boolean(wi.forceMoveMarkers),isAutoWhitespaceEdit:wi.isAutoWhitespaceEdit||!1}}at.sort(yn._sortOpsAscending);let _t=!1;for(let si=0,wi=at.length-1;si<wi;si++){const Ti=at[si].range.getEndPosition(),Wi=at[si+1].range.getStartPosition();if(Wi.isBeforeOrEqual(Ti)){if(Wi.isBefore(Ti))throw new Error("Overlapping ranges are not allowed!");_t=!0}}nt&&(at=this._reduceOperations(at));const xt=$||I?yn._getInverseEditRanges(at):[],Et=[];if(I)for(let si=0;si<at.length;si++){const wi=at[si],Ti=xt[si];if(wi.isAutoWhitespaceEdit&&wi.range.isEmpty())for(let Wi=Ti.startLineNumber;Wi<=Ti.endLineNumber;Wi++){let wn="";Wi===Ti.startLineNumber&&(wn=this.getLineContent(wi.range.startLineNumber),A.LC(wn)!==-1)||Et.push({lineNumber:Wi,oldContent:wn})}}let Ft=null;if($){let si=0;Ft=[];for(let wi=0;wi<at.length;wi++){const Ti=at[wi],Wi=xt[wi],wn=this.getValueInRange(Ti.range),Qn=Ti.rangeOffset+si;si+=Ti.text.length-wn.length,Ft[wi]={sortIndex:Ti.sortIndex,identifier:Ti.identifier,range:Wi,text:wn,textChange:new Wn.q(Ti.rangeOffset,wn,Qn,Ti.text)}}_t||Ft.sort((wi,Ti)=>wi.sortIndex-Ti.sortIndex)}this._mightContainRTL=ae,this._mightContainUnusualLineTerminators=we,this._mightContainNonBasicASCII=ke;const Vt=this._doApplyEdits(at);let Qt=null;if(I&&Et.length>0){Et.sort((si,wi)=>wi.lineNumber-si.lineNumber),Qt=[];for(let si=0,wi=Et.length;si<wi;si++){const Ti=Et[si].lineNumber;if(si>0&&Et[si-1].lineNumber===Ti)continue;const Wi=Et[si].oldContent,wn=this.getLineContent(Ti);wn.length===0||wn===Wi||A.LC(wn)!==-1||Qt.push(Ti)}}return this._onDidChangeContent.fire(),new C.je(Ft,Vt,Qt)}_reduceOperations(r){return r.length<1e3?r:[this._toSingleEditOperation(r)]}_toSingleEditOperation(r){let I=!1;const $=r[0].range,ae=r[r.length-1].range,we=new l.e($.startLineNumber,$.startColumn,ae.endLineNumber,ae.endColumn);let ke=$.startLineNumber,nt=$.startColumn;const at=[];for(let Vt=0,Qt=r.length;Vt<Qt;Vt++){const si=r[Vt],wi=si.range;I=I||si.forceMoveMarkers,at.push(this.getValueInRange(new l.e(ke,nt,wi.startLineNumber,wi.startColumn))),si.text.length>0&&at.push(si.text),ke=wi.endLineNumber,nt=wi.endColumn}const _t=at.join(""),[xt,Et,Ft]=(0,E.Q)(_t);return{sortIndex:0,identifier:r[0].identifier,range:we,rangeOffset:this.getOffsetAt(we.startLineNumber,we.startColumn),rangeLength:this.getValueLengthInRange(we,0),text:_t,eolCount:xt,firstLineLength:Et,lastLineLength:Ft,forceMoveMarkers:I,isAutoWhitespaceEdit:!1}}_doApplyEdits(r){r.sort(yn._sortOpsDescending);const I=[];for(let $=0;$<r.length;$++){const ae=r[$],we=ae.range.startLineNumber,ke=ae.range.startColumn,nt=ae.range.endLineNumber,at=ae.range.endColumn;if(we===nt&&ke===at&&ae.text.length===0)continue;ae.text?(this._pieceTree.delete(ae.rangeOffset,ae.rangeLength),this._pieceTree.insert(ae.rangeOffset,ae.text,!0)):this._pieceTree.delete(ae.rangeOffset,ae.rangeLength);const _t=new l.e(we,ke,nt,at);I.push({range:_t,rangeLength:ae.rangeLength,text:ae.text,rangeOffset:ae.rangeOffset,forceMoveMarkers:ae.forceMoveMarkers})}return I}findMatchesLineByLine(r,I,$,ae){return this._pieceTree.findMatchesLineByLine(r,I,$,ae)}static _getInverseEditRanges(r){const I=[];let $=0,ae=0,we=null;for(let ke=0,nt=r.length;ke<nt;ke++){const at=r[ke];let _t,xt;we?we.range.endLineNumber===at.range.startLineNumber?(_t=$,xt=ae+(at.range.startColumn-we.range.endColumn)):(_t=$+(at.range.startLineNumber-we.range.endLineNumber),xt=at.range.startColumn):(_t=at.range.startLineNumber,xt=at.range.startColumn);let Et;if(at.text.length>0){const Ft=at.eolCount+1;Ft===1?Et=new l.e(_t,xt,_t,xt+at.firstLineLength):Et=new l.e(_t,xt,_t+Ft-1,at.lastLineLength+1)}else Et=new l.e(_t,xt,_t,xt);$=Et.endLineNumber,ae=Et.endColumn,I.push(Et),we=at}return I}static _sortOpsAscending(r,I){const $=l.e.compareRangesUsingEnds(r.range,I.range);return $===0?r.sortIndex-I.sortIndex:$}static _sortOpsDescending(r,I){const $=l.e.compareRangesUsingEnds(r.range,I.range);return $===0?I.sortIndex-r.sortIndex:-$}}class en{constructor(r,I,$,ae,we,ke,nt,at,_t){this._chunks=r,this._bom=I,this._cr=$,this._lf=ae,this._crlf=we,this._containsRTL=ke,this._containsUnusualLineTerminators=nt,this._isBasicASCII=at,this._normalizeEOL=_t}_getEOL(r){const I=this._cr+this._lf+this._crlf,$=this._cr+this._crlf;return I===0?r===1?`
`:`\r
`:$>I/2?`\r
`:`
`}create(r){const I=this._getEOL(r),$=this._chunks;if(this._normalizeEOL&&(I===`\r
`&&(this._cr>0||this._lf>0)||I===`
`&&(this._cr>0||this._crlf>0)))for(let we=0,ke=$.length;we<ke;we++){const nt=$[we].buffer.replace(/\r\n|\r|\n/g,I),at=ki(nt);$[we]=new es(nt,at)}const ae=new yn($,this._bom,I,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:ae,disposable:ae}}}class Ms{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(r){if(r.length===0)return;this.chunks.length===0&&A.uS(r)&&(this.BOM=A.c1,r=r.substr(1));const I=r.charCodeAt(r.length-1);I===13||I>=55296&&I<=56319?(this._acceptChunk1(r.substr(0,r.length-1),!1),this._hasPreviousChar=!0,this._previousChar=I):(this._acceptChunk1(r,!1),this._hasPreviousChar=!1,this._previousChar=I)}_acceptChunk1(r,I){!I&&r.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+r):this._acceptChunk2(r))}_acceptChunk2(r){const I=Vi(this._tmpLineStarts,r);this.chunks.push(new es(r,I.lineStarts)),this.cr+=I.cr,this.lf+=I.lf,this.crlf+=I.crlf,I.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=A.Ut(r)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=A.ab(r)))}finish(r=!0){return this._finish(),new en(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,r)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const r=this.chunks[this.chunks.length-1];r.buffer+=String.fromCharCode(this._previousChar);const I=ki(r.buffer);r.lineStarts=I,this._previousChar===13&&this.cr++}}}var Ss=i(13484),ps=i(4407),oo=i(52676),hs=i(36082),Ts=i(83388),In=i(11138),Yn=i(69344),pi=i(7335),ci=i(93375);class ui{constructor(r){this._default=r,this._store=[]}get(r){return r<this._store.length?this._store[r]:this._default}set(r,I){for(;r>=this._store.length;)this._store[this._store.length]=this._default;this._store[r]=I}replace(r,I,$){if(r>=this._store.length)return;if(I===0){this.insert(r,$);return}else if($===0){this.delete(r,I);return}const ae=this._store.slice(0,r),we=this._store.slice(r+I),ke=wt($,this._default);this._store=ae.concat(ke,we)}delete(r,I){I===0||r>=this._store.length||this._store.splice(r,I)}insert(r,I){if(I===0||r>=this._store.length)return;const $=[];for(let ae=0;ae<I;ae++)$[ae]=this._default;this._store=(0,m.Zv)(this._store,r,$)}}function wt(F,r){const I=[];for(let $=0;$<F;$++)I[$]=r;return I}class mt{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(r,I){this._startLineNumber=r,this._tokens=I}getLineTokens(r){return this._tokens[r-this._startLineNumber]}appendLineTokens(r){this._tokens.push(r)}}class Oe{constructor(){this._tokens=[]}add(r,I){if(this._tokens.length>0){const $=this._tokens[this._tokens.length-1];if($.endLineNumber+1===r){$.appendLineTokens(I);return}}this._tokens.push(new mt(r,[I]))}finalize(){return this._tokens}}var le=i(10403);class Be{constructor(r,I){this.tokenizationSupport=I,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new Ge(r)}getStartState(r){return r===1?this.initialState:this.store.getEndState(r-1)}}class Ke extends Be{constructor(r,I,$,ae){super(r,I),this._textModel=$,this._languageIdCodec=ae}updateTokensUntilLine(r,I){const $=this._textModel.getLanguageId();for(;;){const ae=this.store.getFirstInvalidEndStateLineNumber();if(!ae||ae>I)break;const we=this._textModel.getLineContent(ae),ke=this.getStartState(ae),nt=lt(this._languageIdCodec,$,this.tokenizationSupport,we,!0,ke);r.add(ae,nt.tokens),this.store.setEndState(ae,nt.endState)}}getTokenTypeIfInsertingCharacter(r,I){const $=this.getStartState(r.lineNumber);if(!$)return 0;const ae=this._textModel.getLanguageId(),we=this._textModel.getLineContent(r.lineNumber),ke=we.substring(0,r.column-1)+I+we.substring(r.column-1),nt=lt(this._languageIdCodec,ae,this.tokenizationSupport,ke,!0,$),at=new le.A(nt.tokens,ke,this._languageIdCodec);if(at.getCount()===0)return 0;const _t=at.findTokenIndexAtOffset(r.column-1);return at.getStandardTokenType(_t)}tokenizeLineWithEdit(r,I,$){const ae=r.lineNumber,we=r.column,ke=this.getStartState(ae);if(!ke)return null;const nt=this._textModel.getLineContent(ae),at=nt.substring(0,we-1)+$+nt.substring(we-1+I),_t=this._textModel.getLanguageIdAtPosition(ae,0),xt=lt(this._languageIdCodec,_t,this.tokenizationSupport,at,!0,ke);return new le.A(xt.tokens,at,this._languageIdCodec)}isCheapToTokenize(r){const I=this.store.getFirstInvalidEndStateLineNumberOrMax();return r<I||r===I&&this._textModel.getLineLength(r)<2048}tokenizeHeuristically(r,I,$){if($<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(I<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(r,$),{heuristicTokens:!1};let ae=this.guessStartState(I);const we=this._textModel.getLanguageId();for(let ke=I;ke<=$;ke++){const nt=this._textModel.getLineContent(ke),at=lt(this._languageIdCodec,we,this.tokenizationSupport,nt,!0,ae);r.add(ke,at.tokens),ae=at.endState}return{heuristicTokens:!0}}guessStartState(r){let I=this._textModel.getLineFirstNonWhitespaceColumn(r);const $=[];let ae=null;for(let nt=r-1;I>1&&nt>=1;nt--){const at=this._textModel.getLineFirstNonWhitespaceColumn(nt);if(at!==0&&at<I&&($.push(this._textModel.getLineContent(nt)),I=at,ae=this.getStartState(nt),ae))break}ae||(ae=this.tokenizationSupport.getInitialState()),$.reverse();const we=this._textModel.getLanguageId();let ke=ae;for(const nt of $)ke=lt(this._languageIdCodec,we,this.tokenizationSupport,nt,!1,ke).endState;return ke}}class Ge{constructor(r){this.lineCount=r,this.tokenizationStateStore=new ye,this._invalidEndStatesLineNumbers=new ze,this._invalidEndStatesLineNumbers.addRange(new pi.q(1,r+1))}getEndState(r){return this.tokenizationStateStore.getEndState(r)}setEndState(r,I){for(;;){const ae=this._invalidEndStatesLineNumbers.min;if(ae!==null&&ae<=r)this._invalidEndStatesLineNumbers.removeMin();else break}const $=this.tokenizationStateStore.setEndState(r,I);return $&&r<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new pi.q(r+1,r+2)),$}acceptChange(r,I){this.lineCount+=I-r.length,this.tokenizationStateStore.acceptChange(r,I),this._invalidEndStatesLineNumbers.addRangeAndResize(new pi.q(r.startLineNumber,r.endLineNumberExclusive),I)}acceptChanges(r){for(const I of r){const[$]=(0,E.Q)(I.text);this.acceptChange(new ps.z(I.range.startLineNumber,I.range.endLineNumber+1),$+1)}}invalidateEndStateRange(r){this._invalidEndStatesLineNumbers.addRange(new pi.q(r.startLineNumber,r.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this._invalidEndStatesLineNumbers.min||Number.MAX_SAFE_INTEGER}isTokenizationComplete(){return this._invalidEndStatesLineNumbers.min===null}}class ye{constructor(){this._lineEndStates=new ui(null)}getEndState(r){return this._lineEndStates.get(r)}setEndState(r,I){const $=this._lineEndStates.get(r);return $&&$.equals(I)?!1:(this._lineEndStates.set(r,I),!0)}acceptChange(r,I){let $=r.length;I>0&&$>0&&($--,I--),this._lineEndStates.replace(r.startLineNumber,$,I)}}class ze{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}removeMin(){if(this._ranges.length===0)return null;const r=this._ranges[0];return r.start+1===r.endExclusive?this._ranges.shift():this._ranges[0]=new pi.q(r.start+1,r.endExclusive),r.start}addRange(r){pi.q.addRange(r,this._ranges)}addRangeAndResize(r,I){let $=0;for(;!($>=this._ranges.length||r.start<=this._ranges[$].endExclusive);)$++;let ae=$;for(;!(ae>=this._ranges.length||r.endExclusive<this._ranges[ae].start);)ae++;const we=I-r.length;for(let ke=ae;ke<this._ranges.length;ke++)this._ranges[ke]=this._ranges[ke].delta(we);if($===ae){const ke=new pi.q(r.start,r.start+I);ke.isEmpty||this._ranges.splice($,0,ke)}else{const ke=Math.min(r.start,this._ranges[$].start),nt=Math.max(r.endExclusive,this._ranges[ae-1].endExclusive),at=new pi.q(ke,nt+we);at.isEmpty?this._ranges.splice($,ae-$):this._ranges.splice($,ae-$,at)}}toString(){return this._ranges.map(r=>r.toString()).join(" + ")}}function lt(F,r,I,$,ae,we){let ke=null;if(I)try{ke=I.tokenizeEncoded($,ae,we.clone())}catch(nt){(0,f.dL)(nt)}return ke||(ke=(0,ci.Dy)(F.encodeLanguageId(r),we)),le.A.convertToEndOffset(ke.tokens,$.length),ke}class Rt{constructor(r,I){this._tokenizerWithStateStore=r,this._backgroundTokenStore=I,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Ss.To)(r=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(r)}))}_backgroundTokenizeWithDeadline(r){const I=Date.now()+r.timeRemaining(),$=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<I?(0,In.fn)($):this._beginBackgroundTokenization())};$()}_backgroundTokenizeForAtLeast1ms(){const r=this._tokenizerWithStateStore._textModel.getLineCount(),I=new Oe,$=Yn.G.create(!1);do if($.elapsed()>1||this._tokenizeOneInvalidLine(I)>=r)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(I.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.isTokenizationComplete():!1}_tokenizeOneInvalidLine(r){if(!this._tokenizerWithStateStore||!this._hasLinesToTokenize())return this._tokenizerWithStateStore._textModel.getLineCount()+1;const I=this._tokenizerWithStateStore.store.getFirstInvalidEndStateLineNumber();return this._tokenizerWithStateStore.updateTokensUntilLine(r,I),I}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.isTokenizationComplete()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(r,I){this._tokenizerWithStateStore.store.invalidateEndStateRange(new ps.z(r,I))}}const Bt=new Uint32Array(0).buffer;class At{static deleteBeginning(r,I){return r===null||r===Bt?r:At.delete(r,0,I)}static deleteEnding(r,I){if(r===null||r===Bt)return r;const $=ii(r),ae=$[$.length-2];return At.delete(r,I,ae)}static delete(r,I,$){if(r===null||r===Bt||I===$)return r;const ae=ii(r),we=ae.length>>>1;if(I===0&&ae[ae.length-2]===$)return Bt;const ke=le.A.findIndexInTokensArray(ae,I),nt=ke>0?ae[ke-1<<1]:0,at=ae[ke<<1];if($<at){const Vt=$-I;for(let Qt=ke;Qt<we;Qt++)ae[Qt<<1]-=Vt;return r}let _t,xt;nt!==I?(ae[ke<<1]=I,_t=ke+1<<1,xt=I):(_t=ke<<1,xt=nt);const Et=$-I;for(let Vt=ke+1;Vt<we;Vt++){const Qt=ae[Vt<<1]-Et;Qt>xt&&(ae[_t++]=Qt,ae[_t++]=ae[(Vt<<1)+1],xt=Qt)}if(_t===ae.length)return r;const Ft=new Uint32Array(_t);return Ft.set(ae.subarray(0,_t),0),Ft.buffer}static append(r,I){if(I===Bt)return r;if(r===Bt)return I;if(r===null)return r;if(I===null)return null;const $=ii(r),ae=ii(I),we=ae.length>>>1,ke=new Uint32Array($.length+ae.length);ke.set($,0);let nt=$.length;const at=$[$.length-2];for(let _t=0;_t<we;_t++)ke[nt++]=ae[_t<<1]+at,ke[nt++]=ae[(_t<<1)+1];return ke.buffer}static insert(r,I,$){if(r===null||r===Bt)return r;const ae=ii(r),we=ae.length>>>1;let ke=le.A.findIndexInTokensArray(ae,I);ke>0&&ae[ke-1<<1]===I&&ke--;for(let nt=ke;nt<we;nt++)ae[nt<<1]+=$;return r}}function ii(F){return F instanceof Uint32Array?F:new Uint32Array(F)}var vi=i(24506);class yi{constructor(r){this._lineTokens=[],this._len=0,this._languageIdCodec=r}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(r,I,$){let ae=null;if(I<this._len&&(ae=this._lineTokens[I]),ae!==null&&ae!==Bt)return new le.A(ii(ae),$,this._languageIdCodec);const we=new Uint32Array(2);return we[0]=$.length,we[1]=hi(this._languageIdCodec.encodeLanguageId(r)),new le.A(we,$,this._languageIdCodec)}static _massageTokens(r,I,$){const ae=$?ii($):null;if(I===0){let we=!1;if(ae&&ae.length>1&&(we=vi.N.getLanguageId(ae[1])!==r),!we)return Bt}if(!ae||ae.length===0){const we=new Uint32Array(2);return we[0]=I,we[1]=hi(r),we.buffer}return ae[ae.length-2]=I,ae.byteOffset===0&&ae.byteLength===ae.buffer.byteLength?ae.buffer:ae}_ensureLine(r){for(;r>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(r,I){I!==0&&(r+I>this._len&&(I=this._len-r),this._lineTokens.splice(r,I),this._len-=I)}_insertLines(r,I){if(I===0)return;const $=[];for(let ae=0;ae<I;ae++)$[ae]=null;this._lineTokens=m.Zv(this._lineTokens,r,$),this._len+=I}setTokens(r,I,$,ae,we){const ke=yi._massageTokens(this._languageIdCodec.encodeLanguageId(r),$,ae);this._ensureLine(I);const nt=this._lineTokens[I];return this._lineTokens[I]=ke,we?!yi._equals(nt,ke):!1}static _equals(r,I){if(!r||!I)return!r&&!I;const $=ii(r),ae=ii(I);if($.length!==ae.length)return!1;for(let we=0,ke=$.length;we<ke;we++)if($[we]!==ae[we])return!1;return!0}acceptEdit(r,I,$){this._acceptDeleteRange(r),this._acceptInsertText(new p.L(r.startLineNumber,r.startColumn),I,$)}_acceptDeleteRange(r){const I=r.startLineNumber-1;if(I>=this._len)return;if(r.startLineNumber===r.endLineNumber){if(r.startColumn===r.endColumn)return;this._lineTokens[I]=At.delete(this._lineTokens[I],r.startColumn-1,r.endColumn-1);return}this._lineTokens[I]=At.deleteEnding(this._lineTokens[I],r.startColumn-1);const $=r.endLineNumber-1;let ae=null;$<this._len&&(ae=At.deleteBeginning(this._lineTokens[$],r.endColumn-1)),this._lineTokens[I]=At.append(this._lineTokens[I],ae),this._deleteLines(r.startLineNumber,r.endLineNumber-r.startLineNumber)}_acceptInsertText(r,I,$){if(I===0&&$===0)return;const ae=r.lineNumber-1;if(!(ae>=this._len)){if(I===0){this._lineTokens[ae]=At.insert(this._lineTokens[ae],r.column-1,$);return}this._lineTokens[ae]=At.deleteEnding(this._lineTokens[ae],r.column-1),this._lineTokens[ae]=At.insert(this._lineTokens[ae],r.column-1,$),this._insertLines(r.lineNumber,I)}}setMultilineTokens(r,I){if(r.length===0)return{changes:[]};const $=[];for(let ae=0,we=r.length;ae<we;ae++){const ke=r[ae];let nt=0,at=0,_t=!1;for(let xt=ke.startLineNumber;xt<=ke.endLineNumber;xt++)_t?(this.setTokens(I.getLanguageId(),xt-1,I.getLineLength(xt),ke.getLineTokens(xt),!1),at=xt):this.setTokens(I.getLanguageId(),xt-1,I.getLineLength(xt),ke.getLineTokens(xt),!0)&&(_t=!0,nt=xt,at=xt);_t&&$.push({fromLineNumber:nt,toLineNumber:at})}return{changes:$}}}function hi(F){return(F<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}class Si{constructor(r){this._pieces=[],this._isComplete=!1,this._languageIdCodec=r}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(r,I){this._pieces=r||[],this._isComplete=I}setPartial(r,I){let $=r;if(I.length>0){const we=I[0].getRange(),ke=I[I.length-1].getRange();if(!we||!ke)return r;$=r.plusRange(we).plusRange(ke)}let ae=null;for(let we=0,ke=this._pieces.length;we<ke;we++){const nt=this._pieces[we];if(nt.endLineNumber<$.startLineNumber)continue;if(nt.startLineNumber>$.endLineNumber){ae=ae||{index:we};break}if(nt.removeTokens($),nt.isEmpty()){this._pieces.splice(we,1),we--,ke--;continue}if(nt.endLineNumber<$.startLineNumber)continue;if(nt.startLineNumber>$.endLineNumber){ae=ae||{index:we};continue}const[at,_t]=nt.split($);if(at.isEmpty()){ae=ae||{index:we};continue}_t.isEmpty()||(this._pieces.splice(we,1,at,_t),we++,ke++,ae=ae||{index:we})}return ae=ae||{index:this._pieces.length},I.length>0&&(this._pieces=m.Zv(this._pieces,ae.index,I)),$}isComplete(){return this._isComplete}addSparseTokens(r,I){if(I.getLineContent().length===0)return I;const $=this._pieces;if($.length===0)return I;const ae=Si._findFirstPieceWithLine($,r),we=$[ae].getLineTokens(r);if(!we)return I;const ke=I.getCount(),nt=we.getCount();let at=0;const _t=[];let xt=0,Et=0;const Ft=(Vt,Qt)=>{Vt!==Et&&(Et=Vt,_t[xt++]=Vt,_t[xt++]=Qt)};for(let Vt=0;Vt<nt;Vt++){const Qt=we.getStartCharacter(Vt),si=we.getEndCharacter(Vt),wi=we.getMetadata(Vt),Ti=((wi&1?2048:0)|(wi&2?4096:0)|(wi&4?8192:0)|(wi&8?16384:0)|(wi&16?16744448:0)|(wi&32?4278190080:0))>>>0,Wi=~Ti>>>0;for(;at<ke&&I.getEndOffset(at)<=Qt;)Ft(I.getEndOffset(at),I.getMetadata(at)),at++;for(at<ke&&I.getStartOffset(at)<Qt&&Ft(Qt,I.getMetadata(at));at<ke&&I.getEndOffset(at)<si;)Ft(I.getEndOffset(at),I.getMetadata(at)&Wi|wi&Ti),at++;if(at<ke)Ft(si,I.getMetadata(at)&Wi|wi&Ti),I.getEndOffset(at)===si&&at++;else{const wn=Math.min(Math.max(0,at-1),ke-1);Ft(si,I.getMetadata(wn)&Wi|wi&Ti)}}for(;at<ke;)Ft(I.getEndOffset(at),I.getMetadata(at)),at++;return new le.A(new Uint32Array(_t),I.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(r,I){let $=0,ae=r.length-1;for(;$<ae;){let we=$+Math.floor((ae-$)/2);if(r[we].endLineNumber<I)$=we+1;else if(r[we].startLineNumber>I)ae=we-1;else{for(;we>$&&r[we-1].startLineNumber<=I&&I<=r[we-1].endLineNumber;)we--;return we}}return $}acceptEdit(r,I,$,ae,we){for(const ke of this._pieces)ke.acceptEdit(r,I,$,ae,we)}}class Oi extends Ts.U{constructor(r,I,$,ae,we,ke){super(),this._languageService=r,this._languageConfigurationService=I,this._textModel=$,this._bracketPairsTextModelPart=ae,this._languageId=we,this._attachedViews=ke,this._semanticTokens=new Si(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new _.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new _.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new _.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new Ai(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(nt=>{nt.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(nt=>{this._emitModelTokensChangedEvent(nt)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(nt=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(r){if(r.isFlush)this._semanticTokens.flush();else if(!r.isEolChange)for(const I of r.changes){const[$,ae,we]=(0,E.Q)(I.text);this._semanticTokens.acceptEdit(I.range,$,ae,we,I.text.length>0?I.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(r)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(r){this.validateLineNumber(r);const I=this.grammarTokens.getLineTokens(r);return this._semanticTokens.addSparseTokens(r,I)}_emitModelTokensChangedEvent(r){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(r),this._onDidChangeTokens.fire(r))}validateLineNumber(r){if(r<1||r>this._textModel.getLineCount())throw new f.he("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(r){this.validateLineNumber(r),this.grammarTokens.forceTokenization(r)}isCheapToTokenize(r){return this.validateLineNumber(r),this.grammarTokens.isCheapToTokenize(r)}tokenizeIfCheap(r){this.validateLineNumber(r),this.grammarTokens.tokenizeIfCheap(r)}getTokenTypeIfInsertingCharacter(r,I,$){return this.grammarTokens.getTokenTypeIfInsertingCharacter(r,I,$)}tokenizeLineWithEdit(r,I,$){return this.grammarTokens.tokenizeLineWithEdit(r,I,$)}setSemanticTokens(r,I){this._semanticTokens.set(r,I),this._emitModelTokensChangedEvent({semanticTokensApplied:r!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(r,I){if(this.hasCompleteSemanticTokens())return;const $=this._textModel.validateRange(this._semanticTokens.setPartial(r,I));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:$.startLineNumber,toLineNumber:$.endLineNumber}]})}getWordAtPosition(r){this.assertNotDisposed();const I=this._textModel.validatePosition(r),$=this._textModel.getLineContent(I.lineNumber),ae=this.getLineTokens(I.lineNumber),we=ae.findTokenIndexAtOffset(I.column-1),[ke,nt]=Oi._findLanguageBoundaries(ae,we),at=(0,oo.t2)(I.column,this.getLanguageConfiguration(ae.getLanguageId(we)).getWordDefinition(),$.substring(ke,nt),ke);if(at&&at.startColumn<=r.column&&r.column<=at.endColumn)return at;if(we>0&&ke===I.column-1){const[_t,xt]=Oi._findLanguageBoundaries(ae,we-1),Et=(0,oo.t2)(I.column,this.getLanguageConfiguration(ae.getLanguageId(we-1)).getWordDefinition(),$.substring(_t,xt),_t);if(Et&&Et.startColumn<=r.column&&r.column<=Et.endColumn)return Et}return null}getLanguageConfiguration(r){return this._languageConfigurationService.getLanguageConfiguration(r)}static _findLanguageBoundaries(r,I){const $=r.getLanguageId(I);let ae=0;for(let ke=I;ke>=0&&r.getLanguageId(ke)===$;ke--)ae=r.getStartOffset(ke);let we=r.getLineContent().length;for(let ke=I,nt=r.getCount();ke<nt&&r.getLanguageId(ke)===$;ke++)we=r.getEndOffset(ke);return[ae,we]}getWordUntilPosition(r){const I=this.getWordAtPosition(r);return I?{word:I.word.substr(0,r.column-I.startColumn),startColumn:I.startColumn,endColumn:r.column}:{word:"",startColumn:r.column,endColumn:r.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(r,I){const $=this._textModel.validatePosition(new p.L(r,I)),ae=this.getLineTokens($.lineNumber);return ae.getLanguageId(ae.findTokenIndexAtOffset($.column-1))}setLanguageId(r,I="api"){if(this._languageId===r)return;const $={oldLanguage:this._languageId,newLanguage:r,source:I};this._languageId=r,this._bracketPairsTextModelPart.handleDidChangeLanguage($),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire($),this._onDidChangeLanguageConfiguration.fire({})}}class Ai extends v.JT{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(r,I,$,ae){super(),this._languageIdCodec=r,this._textModel=I,this.getLanguageId=$,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new v.XK),this._tokens=new yi(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new v.XK),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new _.Q5),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new _.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new v.b2),this._register(hs.RW.onDidChange(we=>{const ke=this.getLanguageId();we.changedLanguages.indexOf(ke)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(ae.onDidChangeVisibleRanges(({view:we,state:ke})=>{if(ke){let nt=this._attachedViewStates.get(we);nt||(nt=new Zi(()=>this.refreshRanges(nt.lineRanges)),this._attachedViewStates.set(we,nt)),nt.handleStateChange(ke)}else this._attachedViewStates.deleteAndDispose(we)}))}resetTokenization(r=!0){var I;this._tokens.flush(),(I=this._debugBackgroundTokens)===null||I===void 0||I.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new Ge(this._textModel.getLineCount())),r&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const $=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const ke=hs.RW.get(this.getLanguageId());if(!ke)return[null,null];let nt;try{nt=ke.getInitialState()}catch(at){return(0,f.dL)(at),[null,null]}return[ke,nt]},[ae,we]=$();if(ae&&we?this._tokenizer=new Ke(this._textModel.getLineCount(),ae,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const ke={setTokens:nt=>{this.setTokens(nt)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const nt=2;this._backgroundTokenizationState=nt,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(nt,at)=>{var _t,xt,Et;if(!at)throw new f.he;const Ft=(xt=(_t=this._tokenizer)===null||_t===void 0?void 0:_t.store.getFirstInvalidEndStateLineNumber())!==null&&xt!==void 0?xt:void 0;Ft!==void 0&&nt>=Ft&&((Et=this._tokenizer)===null||Et===void 0||Et.store.setEndState(nt,at))}};ae&&ae.createBackgroundTokenizer&&!ae.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=ae.createBackgroundTokenizer(this._textModel,ke)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Rt(this._tokenizer,ke),this._defaultBackgroundTokenizer.handleChanges()),ae!=null&&ae.backgroundTokenizerShouldOnlyVerifyTokens&&ae.createBackgroundTokenizer?(this._debugBackgroundTokens=new yi(this._languageIdCodec),this._debugBackgroundStates=new Ge(this._textModel.getLineCount()),this._debugBackgroundTokenizer.value=ae.createBackgroundTokenizer(this._textModel,{setTokens:nt=>{var at;(at=this._debugBackgroundTokens)===null||at===void 0||at.setMultilineTokens(nt,this._textModel)},backgroundTokenizationFinished(){},setEndState:(nt,at)=>{var _t;(_t=this._debugBackgroundStates)===null||_t===void 0||_t.setEndState(nt,at)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var r;(r=this._defaultBackgroundTokenizer)===null||r===void 0||r.handleChanges()}handleDidChangeContent(r){var I,$,ae;if(r.isFlush)this.resetTokenization(!1);else if(!r.isEolChange){for(const we of r.changes){const[ke,nt]=(0,E.Q)(we.text);this._tokens.acceptEdit(we.range,ke,nt),(I=this._debugBackgroundTokens)===null||I===void 0||I.acceptEdit(we.range,ke,nt)}($=this._debugBackgroundStates)===null||$===void 0||$.acceptChanges(r.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(r.changes),(ae=this._defaultBackgroundTokenizer)===null||ae===void 0||ae.handleChanges()}}setTokens(r){const{changes:I}=this._tokens.setMultilineTokens(r,this._textModel);return I.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:I}),{changes:I}}refreshAllVisibleLineTokens(){const r=ps.z.joinMany([...this._attachedViewStates].map(([I,$])=>$.lineRanges));this.refreshRanges(r)}refreshRanges(r){for(const I of r)this.refreshRange(I.startLineNumber,I.endLineNumberExclusive-1)}refreshRange(r,I){var $,ae;if(!this._tokenizer)return;r=Math.max(1,r),I=Math.min(this._textModel.getLineCount(),I);const we=new Oe,{heuristicTokens:ke}=this._tokenizer.tokenizeHeuristically(we,r,I),nt=this.setTokens(we.finalize());if(ke)for(const at of nt.changes)($=this._backgroundTokenizer.value)===null||$===void 0||$.requestTokens(at.fromLineNumber,at.toLineNumber+1);(ae=this._defaultBackgroundTokenizer)===null||ae===void 0||ae.checkFinished()}forceTokenization(r){var I,$;const ae=new Oe;(I=this._tokenizer)===null||I===void 0||I.updateTokensUntilLine(ae,r),this.setTokens(ae.finalize()),($=this._defaultBackgroundTokenizer)===null||$===void 0||$.checkFinished()}isCheapToTokenize(r){return this._tokenizer?this._tokenizer.isCheapToTokenize(r):!0}tokenizeIfCheap(r){this.isCheapToTokenize(r)&&this.forceTokenization(r)}getLineTokens(r){var I;const $=this._textModel.getLineContent(r),ae=this._tokens.getTokens(this._textModel.getLanguageId(),r-1,$);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>r&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>r){const we=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),r-1,$);!ae.equals(we)&&(!((I=this._debugBackgroundTokenizer.value)===null||I===void 0)&&I.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(r)}return ae}getTokenTypeIfInsertingCharacter(r,I,$){if(!this._tokenizer)return 0;const ae=this._textModel.validatePosition(new p.L(r,I));return this.forceTokenization(ae.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(ae,$)}tokenizeLineWithEdit(r,I,$){if(!this._tokenizer)return null;const ae=this._textModel.validatePosition(r);return this.forceTokenization(ae.lineNumber),this._tokenizer.tokenizeLineWithEdit(ae,I,$)}get hasTokens(){return this._tokens.hasTokens}}class Zi extends v.JT{get lineRanges(){return this._lineRanges}constructor(r){super(),this._refreshTokens=r,this.runner=this._register(new Ss.pY(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,m.fS)(this._computedLineRanges,this._lineRanges)||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(r){this._lineRanges=r.visibleLineRanges,r.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}var pn=i(30828),Pn=i(48900),cs=function(F,r,I,$){var ae=arguments.length,we=ae<3?r:$===null?$=Object.getOwnPropertyDescriptor(r,I):$,ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(F,r,I,$);else for(var nt=F.length-1;nt>=0;nt--)(ke=F[nt])&&(we=(ae<3?ke(we):ae>3?ke(r,I,we):ke(r,I))||we);return ae>3&&we&&Object.defineProperty(r,I,we),we},ds=function(F,r){return function(I,$){r(I,$,F)}};function Es(F){const r=new Ms;return r.acceptChunk(F),r.finish()}function ro(F){const r=new Ms;let I;for(;typeof(I=F.read())=="string";)r.acceptChunk(I);return r.finish()}function Gs(F,r){let I;return typeof F=="string"?I=Es(F):C.Hf(F)?I=ro(F):I=F,I.create(r)}let Ws=0;const Hr=999,Fn=1e4;class Ci{constructor(r){this._source=r,this._eos=!1}read(){if(this._eos)return null;const r=[];let I=0,$=0;do{const ae=this._source.read();if(ae===null)return this._eos=!0,I===0?null:r.join("");if(ae.length>0&&(r[I++]=ae,$+=ae.length),$>=64*1024)return r.join("")}while(!0)}}const Xi=()=>{throw new Error("Invalid change accessor")};let tn=class ld extends v.JT{static resolveOptions(r,I){if(I.detectIndentation){const $=Re(r,I.tabSize,I.insertSpaces);return new C.dJ({tabSize:$.tabSize,indentSize:"tabSize",insertSpaces:$.insertSpaces,trimAutoWhitespace:I.trimAutoWhitespace,defaultEOL:I.defaultEOL,bracketPairColorizationOptions:I.bracketPairColorizationOptions})}return new C.dJ(I)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(r){return this._eventEmitter.slowEvent(I=>r(I.contentChangedEvent))}onDidChangeContentOrInjectedText(r){return(0,v.F8)(this._eventEmitter.fastEvent(I=>r(I)),this._onDidChangeInjectedText.event(I=>r(I)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(r,I,$,ae=null,we,ke,nt){super(),this._undoRedoService=we,this._languageService=ke,this._languageConfigurationService=nt,this._onWillDispose=this._register(new _.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new vn(Vt=>this.handleBeforeFireDecorationsChangedEvent(Vt))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new _.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new _.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new _.Q5),this._eventEmitter=this._register(new Vn),this._languageSelectionListener=this._register(new v.XK),this._deltaDecorationCallCnt=0,this._attachedViews=new Bn,Ws++,this.id="$model"+Ws,this.isForSimpleWidget=$.isForSimpleWidget,typeof ae=="undefined"||ae===null?this._associatedResource=M.o.parse("inmemory://model/"+Ws):this._associatedResource=ae,this._attachedEditorCount=0;const{textBuffer:at,disposable:_t}=Gs(r,$.defaultEOL);this._buffer=at,this._bufferDisposable=_t,this._options=ld.resolveOptions(this._buffer,$);const xt=typeof I=="string"?I:I.languageId;typeof I!="string"&&(this._languageSelectionListener.value=I.onDidChange(()=>this._setLanguage(I.languageId))),this._bracketPairs=this._register(new Y(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new _e.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Le(this)),this._tokenizationTextModelPart=new Oi(this._languageService,this._languageConfigurationService,this,this._bracketPairs,xt,this._attachedViews);const Et=this._buffer.getLineCount(),Ft=this._buffer.getValueLengthInRange(new l.e(1,1,Et,this._buffer.getLineLength(Et)+1),0);$.largeFileOptimizations?this._isTooLargeForTokenization=Ft>ld.LARGE_FILE_SIZE_THRESHOLD||Et>ld.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Ft>ld._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=A.PJ(Ws),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Yt,this._commandManager=new re.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(xt)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const r=new yn([],"",`
`,!1,!1,!0,!0);r.dispose(),this._buffer=r,this._bufferDisposable=v.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(r,I){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(I),this._bracketPairs.handleDidChangeContent(I),this._eventEmitter.fire(new pn.fV(r,I)))}setValue(r){if(this._assertNotDisposed(),r==null)throw(0,f.b1)();const{textBuffer:I,disposable:$}=Gs(r,this._options.defaultEOL);this._setValueFromTextBuffer(I,$)}_createContentChanged2(r,I,$,ae,we,ke,nt,at){return{changes:[{range:r,rangeOffset:I,rangeLength:$,text:ae}],eol:this._buffer.getEOL(),isEolChange:at,versionId:this.getVersionId(),isUndoing:we,isRedoing:ke,isFlush:nt}}_setValueFromTextBuffer(r,I){this._assertNotDisposed();const $=this.getFullModelRange(),ae=this.getValueLengthInRange($),we=this.getLineCount(),ke=this.getLineMaxColumn(we);this._buffer=r,this._bufferDisposable.dispose(),this._bufferDisposable=I,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Yt,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new pn.dQ([new pn.Jx],this._versionId,!1,!1),this._createContentChanged2(new l.e(1,1,we,ke),0,ae,this.getValue(),!1,!1,!0,!1))}setEOL(r){this._assertNotDisposed();const I=r===1?`\r
`:`
`;if(this._buffer.getEOL()===I)return;const $=this.getFullModelRange(),ae=this.getValueLengthInRange($),we=this.getLineCount(),ke=this.getLineMaxColumn(we);this._onBeforeEOLChange(),this._buffer.setEOL(I),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new pn.dQ([new pn.CZ],this._versionId,!1,!1),this._createContentChanged2(new l.e(1,1,we,ke),0,ae,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const r=this.getVersionId(),I=this._decorationsTree.collectNodesPostOrder();for(let $=0,ae=I.length;$<ae;$++){const we=I[$],ke=we.range,nt=we.cachedAbsoluteStart-we.start,at=this._buffer.getOffsetAt(ke.startLineNumber,ke.startColumn),_t=this._buffer.getOffsetAt(ke.endLineNumber,ke.endColumn);we.cachedAbsoluteStart=at,we.cachedAbsoluteEnd=_t,we.cachedVersionId=r,we.start=at-nt,we.end=_t-nt,zt(we)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(r){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(r)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let r=0,I=0;const $=this._buffer.getLineCount();for(let ae=1;ae<=$;ae++){const we=this._buffer.getLineLength(ae);we>=Fn?I+=we:r+=we}return I>r}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(r){this._assertNotDisposed();const I=typeof r.tabSize!="undefined"?r.tabSize:this._options.tabSize,$=typeof r.indentSize!="undefined"?r.indentSize:this._options.originalIndentSize,ae=typeof r.insertSpaces!="undefined"?r.insertSpaces:this._options.insertSpaces,we=typeof r.trimAutoWhitespace!="undefined"?r.trimAutoWhitespace:this._options.trimAutoWhitespace,ke=typeof r.bracketColorizationOptions!="undefined"?r.bracketColorizationOptions:this._options.bracketPairColorizationOptions,nt=new C.dJ({tabSize:I,indentSize:$,insertSpaces:ae,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:we,bracketPairColorizationOptions:ke});if(this._options.equals(nt))return;const at=this._options.createChangeEvent(nt);this._options=nt,this._bracketPairs.handleDidChangeOptions(at),this._decorationProvider.handleDidChangeOptions(at),this._onDidChangeOptions.fire(at)}detectIndentation(r,I){this._assertNotDisposed();const $=Re(this._buffer,I,r);this.updateOptions({insertSpaces:$.insertSpaces,tabSize:$.tabSize,indentSize:$.tabSize})}normalizeIndentation(r){return this._assertNotDisposed(),(0,R.x)(r,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(r=null){const I=this.findMatches(A.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(r,I.map($=>({range:$.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(r){this._assertNotDisposed();const I=this._validatePosition(r.lineNumber,r.column,0);return this._buffer.getOffsetAt(I.lineNumber,I.column)}getPositionAt(r){this._assertNotDisposed();const I=Math.min(this._buffer.getLength(),Math.max(0,r));return this._buffer.getPositionAt(I)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(r){this._versionId=r}_overwriteAlternativeVersionId(r){this._alternativeVersionId=r}_overwriteInitialUndoRedoSnapshot(r){this._initialUndoRedoSnapshot=r}getValue(r,I=!1){this._assertNotDisposed();const $=this.getFullModelRange(),ae=this.getValueInRange($,r);return I?this._buffer.getBOM()+ae:ae}createSnapshot(r=!1){return new Ci(this._buffer.createSnapshot(r))}getValueLength(r,I=!1){this._assertNotDisposed();const $=this.getFullModelRange(),ae=this.getValueLengthInRange($,r);return I?this._buffer.getBOM().length+ae:ae}getValueInRange(r,I=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(r),I)}getValueLengthInRange(r,I=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(r),I)}getCharacterCountInRange(r,I=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(r),I)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(r){if(this._assertNotDisposed(),r<1||r>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(r)}getLineLength(r){if(this._assertNotDisposed(),r<1||r>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(r)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(r){return this._assertNotDisposed(),1}getLineMaxColumn(r){if(this._assertNotDisposed(),r<1||r>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(r)+1}getLineFirstNonWhitespaceColumn(r){if(this._assertNotDisposed(),r<1||r>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(r)}getLineLastNonWhitespaceColumn(r){if(this._assertNotDisposed(),r<1||r>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(r)}_validateRangeRelaxedNoAllocations(r){const I=this._buffer.getLineCount(),$=r.startLineNumber,ae=r.startColumn;let we=Math.floor(typeof $=="number"&&!isNaN($)?$:1),ke=Math.floor(typeof ae=="number"&&!isNaN(ae)?ae:1);if(we<1)we=1,ke=1;else if(we>I)we=I,ke=this.getLineMaxColumn(we);else if(ke<=1)ke=1;else{const Et=this.getLineMaxColumn(we);ke>=Et&&(ke=Et)}const nt=r.endLineNumber,at=r.endColumn;let _t=Math.floor(typeof nt=="number"&&!isNaN(nt)?nt:1),xt=Math.floor(typeof at=="number"&&!isNaN(at)?at:1);if(_t<1)_t=1,xt=1;else if(_t>I)_t=I,xt=this.getLineMaxColumn(_t);else if(xt<=1)xt=1;else{const Et=this.getLineMaxColumn(_t);xt>=Et&&(xt=Et)}return $===we&&ae===ke&&nt===_t&&at===xt&&r instanceof l.e&&!(r instanceof d.Y)?r:new l.e(we,ke,_t,xt)}_isValidPosition(r,I,$){if(typeof r!="number"||typeof I!="number"||isNaN(r)||isNaN(I)||r<1||I<1||(r|0)!==r||(I|0)!==I)return!1;const ae=this._buffer.getLineCount();if(r>ae)return!1;if(I===1)return!0;const we=this.getLineMaxColumn(r);if(I>we)return!1;if($===1){const ke=this._buffer.getLineCharCode(r,I-2);if(A.ZG(ke))return!1}return!0}_validatePosition(r,I,$){const ae=Math.floor(typeof r=="number"&&!isNaN(r)?r:1),we=Math.floor(typeof I=="number"&&!isNaN(I)?I:1),ke=this._buffer.getLineCount();if(ae<1)return new p.L(1,1);if(ae>ke)return new p.L(ke,this.getLineMaxColumn(ke));if(we<=1)return new p.L(ae,1);const nt=this.getLineMaxColumn(ae);if(we>=nt)return new p.L(ae,nt);if($===1){const at=this._buffer.getLineCharCode(ae,we-2);if(A.ZG(at))return new p.L(ae,we-1)}return new p.L(ae,we)}validatePosition(r){return this._assertNotDisposed(),r instanceof p.L&&this._isValidPosition(r.lineNumber,r.column,1)?r:this._validatePosition(r.lineNumber,r.column,1)}_isValidRange(r,I){const $=r.startLineNumber,ae=r.startColumn,we=r.endLineNumber,ke=r.endColumn;if(!this._isValidPosition($,ae,0)||!this._isValidPosition(we,ke,0))return!1;if(I===1){const nt=ae>1?this._buffer.getLineCharCode($,ae-2):0,at=ke>1&&ke<=this._buffer.getLineLength(we)?this._buffer.getLineCharCode(we,ke-2):0,_t=A.ZG(nt),xt=A.ZG(at);return!_t&&!xt}return!0}validateRange(r){if(this._assertNotDisposed(),r instanceof l.e&&!(r instanceof d.Y)&&this._isValidRange(r,1))return r;const $=this._validatePosition(r.startLineNumber,r.startColumn,0),ae=this._validatePosition(r.endLineNumber,r.endColumn,0),we=$.lineNumber,ke=$.column,nt=ae.lineNumber,at=ae.column;{const _t=ke>1?this._buffer.getLineCharCode(we,ke-2):0,xt=at>1&&at<=this._buffer.getLineLength(nt)?this._buffer.getLineCharCode(nt,at-2):0,Et=A.ZG(_t),Ft=A.ZG(xt);return!Et&&!Ft?new l.e(we,ke,nt,at):we===nt&&ke===at?new l.e(we,ke-1,nt,at-1):Et&&Ft?new l.e(we,ke-1,nt,at+1):Et?new l.e(we,ke-1,nt,at):new l.e(we,ke,nt,at+1)}return new l.e(we,ke,nt,at)}modifyPosition(r,I){this._assertNotDisposed();const $=this.getOffsetAt(r)+I;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,$)))}getFullModelRange(){this._assertNotDisposed();const r=this.getLineCount();return new l.e(1,1,r,this.getLineMaxColumn(r))}findMatchesLineByLine(r,I,$,ae){return this._buffer.findMatchesLineByLine(r,I,$,ae)}findMatches(r,I,$,ae,we,ke,nt=Hr){this._assertNotDisposed();let at=null;I!==null&&(Array.isArray(I)||(I=[I]),I.every(Et=>l.e.isIRange(Et))&&(at=I.map(Et=>this.validateRange(Et)))),at===null&&(at=[this.getFullModelRange()]),at=at.sort((Et,Ft)=>Et.startLineNumber-Ft.startLineNumber||Et.startColumn-Ft.startColumn);const _t=[];_t.push(at.reduce((Et,Ft)=>l.e.areIntersecting(Et,Ft)?Et.plusRange(Ft):(_t.push(Et),Ft)));let xt;if(!$&&r.indexOf(`
`)<0){const Ft=new bn.bc(r,$,ae,we).parseSearchRequest();if(!Ft)return[];xt=Vt=>this.findMatchesLineByLine(Vt,Ft,ke,nt)}else xt=Et=>bn.pM.findMatches(this,new bn.bc(r,$,ae,we),Et,ke,nt);return _t.map(xt).reduce((Et,Ft)=>Et.concat(Ft),[])}findNextMatch(r,I,$,ae,we,ke){this._assertNotDisposed();const nt=this.validatePosition(I);if(!$&&r.indexOf(`
`)<0){const _t=new bn.bc(r,$,ae,we).parseSearchRequest();if(!_t)return null;const xt=this.getLineCount();let Et=new l.e(nt.lineNumber,nt.column,xt,this.getLineMaxColumn(xt)),Ft=this.findMatchesLineByLine(Et,_t,ke,1);return bn.pM.findNextMatch(this,new bn.bc(r,$,ae,we),nt,ke),Ft.length>0||(Et=new l.e(1,1,nt.lineNumber,this.getLineMaxColumn(nt.lineNumber)),Ft=this.findMatchesLineByLine(Et,_t,ke,1),Ft.length>0)?Ft[0]:null}return bn.pM.findNextMatch(this,new bn.bc(r,$,ae,we),nt,ke)}findPreviousMatch(r,I,$,ae,we,ke){this._assertNotDisposed();const nt=this.validatePosition(I);return bn.pM.findPreviousMatch(this,new bn.bc(r,$,ae,we),nt,ke)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(r){if((this.getEOL()===`
`?0:1)!==r)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(r)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(r){return r instanceof C.Qi?r:new C.Qi(r.identifier||null,this.validateRange(r.range),r.text,r.forceMoveMarkers||!1,r.isAutoWhitespaceEdit||!1,r._isTracked||!1)}_validateEditOperations(r){const I=[];for(let $=0,ae=r.length;$<ae;$++)I[$]=this._validateEditOperation(r[$]);return I}pushEditOperations(r,I,$,ae){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(r,this._validateEditOperations(I),$,ae)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(r,I,$,ae){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const we=I.map(nt=>({range:this.validateRange(nt.range),text:nt.text}));let ke=!0;if(r)for(let nt=0,at=r.length;nt<at;nt++){const _t=r[nt];let xt=!1;for(let Et=0,Ft=we.length;Et<Ft;Et++){const Vt=we[Et].range,Qt=Vt.startLineNumber>_t.endLineNumber,si=_t.startLineNumber>Vt.endLineNumber;if(!Qt&&!si){xt=!0;break}}if(!xt){ke=!1;break}}if(ke)for(let nt=0,at=this._trimAutoWhitespaceLines.length;nt<at;nt++){const _t=this._trimAutoWhitespaceLines[nt],xt=this.getLineMaxColumn(_t);let Et=!0;for(let Ft=0,Vt=we.length;Ft<Vt;Ft++){const Qt=we[Ft].range,si=we[Ft].text;if(!(_t<Qt.startLineNumber||_t>Qt.endLineNumber)&&!(_t===Qt.startLineNumber&&Qt.startColumn===xt&&Qt.isEmpty()&&si&&si.length>0&&si.charAt(0)===`
`)&&!(_t===Qt.startLineNumber&&Qt.startColumn===1&&Qt.isEmpty()&&si&&si.length>0&&si.charAt(si.length-1)===`
`)){Et=!1;break}}if(Et){const Ft=new l.e(_t,1,_t,xt);I.push(new C.Qi(null,Ft,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(r,I,$,ae)}_applyUndo(r,I,$,ae){const we=r.map(ke=>{const nt=this.getPositionAt(ke.newPosition),at=this.getPositionAt(ke.newEnd);return{range:new l.e(nt.lineNumber,nt.column,at.lineNumber,at.column),text:ke.oldText}});this._applyUndoRedoEdits(we,I,!0,!1,$,ae)}_applyRedo(r,I,$,ae){const we=r.map(ke=>{const nt=this.getPositionAt(ke.oldPosition),at=this.getPositionAt(ke.oldEnd);return{range:new l.e(nt.lineNumber,nt.column,at.lineNumber,at.column),text:ke.newText}});this._applyUndoRedoEdits(we,I,!1,!0,$,ae)}_applyUndoRedoEdits(r,I,$,ae,we,ke){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=$,this._isRedoing=ae,this.applyEdits(r,!1),this.setEOL(I),this._overwriteAlternativeVersionId(we)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ke),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(r,I=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const $=this._validateEditOperations(r);return this._doApplyEdits($,I)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(r,I){const $=this._buffer.getLineCount(),ae=this._buffer.applyEdits(r,this._options.trimAutoWhitespace,I),we=this._buffer.getLineCount(),ke=ae.changes;if(this._trimAutoWhitespaceLines=ae.trimAutoWhitespaceLineNumbers,ke.length!==0){for(let _t=0,xt=ke.length;_t<xt;_t++){const Et=ke[_t];this._decorationsTree.acceptReplace(Et.rangeOffset,Et.rangeLength,Et.text.length,Et.forceMoveMarkers)}const nt=[];this._increaseVersionId();let at=$;for(let _t=0,xt=ke.length;_t<xt;_t++){const Et=ke[_t],[Ft]=(0,E.Q)(Et.text);this._onDidChangeDecorations.fire();const Vt=Et.range.startLineNumber,Qt=Et.range.endLineNumber,si=Qt-Vt,wi=Ft,Ti=Math.min(si,wi),Wi=wi-si,wn=we-at-Wi+Vt,Qn=wn,vs=wn+wi,an=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new p.L(Qn,1)),this.getOffsetAt(new p.L(vs,this.getLineMaxColumn(vs))),0),fs=pn.gk.fromDecorations(an),Ys=new m.H9(fs);for(let Zs=Ti;Zs>=0;Zs--){const xs=Vt+Zs,zs=wn+Zs;Ys.takeFromEndWhile(yo=>yo.lineNumber>zs);const po=Ys.takeFromEndWhile(yo=>yo.lineNumber===zs);nt.push(new pn.rU(xs,this.getLineContent(zs),po))}if(Ti<si){const Zs=Vt+Ti;nt.push(new pn.lN(Zs+1,Qt))}if(Ti<wi){const Zs=new m.H9(fs),xs=Vt+Ti,zs=wi-Ti,po=we-at-zs+xs+1,yo=[],Bo=[];for(let ao=0;ao<zs;ao++){const Do=po+ao;Bo[ao]=this.getLineContent(Do),Zs.takeWhile(No=>No.lineNumber<Do),yo[ao]=Zs.takeWhile(No=>No.lineNumber===Do)}nt.push(new pn.Tx(xs+1,Vt+wi,Bo,yo))}at+=Wi}this._emitContentChangedEvent(new pn.dQ(nt,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ke,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ae.reverseEdits===null?void 0:ae.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(r){if(r===null||r.size===0)return;const $=Array.from(r).map(ae=>new pn.rU(ae,this.getLineContent(ae),this._getInjectedTextInLine(ae)));this._onDidChangeInjectedText.fire(new pn.D8($))}changeDecorations(r,I=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(I,r)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(r,I){const $={addDecoration:(we,ke)=>this._deltaDecorationsImpl(r,[],[{range:we,options:ke}])[0],changeDecoration:(we,ke)=>{this._changeDecorationImpl(we,ke)},changeDecorationOptions:(we,ke)=>{this._changeDecorationOptionsImpl(we,gn(ke))},removeDecoration:we=>{this._deltaDecorationsImpl(r,[we],[])},deltaDecorations:(we,ke)=>we.length===0&&ke.length===0?[]:this._deltaDecorationsImpl(r,we,ke)};let ae=null;try{ae=I($)}catch(we){(0,f.dL)(we)}return $.addDecoration=Xi,$.changeDecoration=Xi,$.changeDecorationOptions=Xi,$.removeDecoration=Xi,$.deltaDecorations=Xi,ae}deltaDecorations(r,I,$=0){if(this._assertNotDisposed(),r||(r=[]),r.length===0&&I.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,f.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl($,r,I)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(r){return this.getDecorationRange(r)}_setTrackedRange(r,I,$){const ae=r?this._decorations[r]:null;if(!ae)return I?this._deltaDecorationsImpl(0,[],[{range:I,options:_n[$]}])[0]:null;if(!I)return this._decorationsTree.delete(ae),delete this._decorations[ae.id],null;const we=this._validateRangeRelaxedNoAllocations(I),ke=this._buffer.getOffsetAt(we.startLineNumber,we.startColumn),nt=this._buffer.getOffsetAt(we.endLineNumber,we.endColumn);return this._decorationsTree.delete(ae),ae.reset(this.getVersionId(),ke,nt,we),ae.setOptions(_n[$]),this._decorationsTree.insert(ae),ae.id}removeAllDecorationsWithOwnerId(r){if(this._isDisposed)return;const I=this._decorationsTree.collectNodesFromOwner(r);for(let $=0,ae=I.length;$<ae;$++){const we=I[$];this._decorationsTree.delete(we),delete this._decorations[we.id]}}getDecorationOptions(r){const I=this._decorations[r];return I?I.options:null}getDecorationRange(r){const I=this._decorations[r];return I?this._decorationsTree.getNodeRange(this,I):null}getLineDecorations(r,I=0,$=!1){return r<1||r>this.getLineCount()?[]:this.getLinesDecorations(r,r,I,$)}getLinesDecorations(r,I,$=0,ae=!1){const we=this.getLineCount(),ke=Math.min(we,Math.max(1,r)),nt=Math.min(we,Math.max(1,I)),at=this.getLineMaxColumn(nt),_t=new l.e(ke,1,nt,at),xt=this._getDecorationsInRange(_t,$,ae);return(0,m.vA)(xt,this._decorationProvider.getDecorationsInRange(_t,$,ae)),xt}getDecorationsInRange(r,I=0,$=!1,ae=!1){const we=this.validateRange(r),ke=this._getDecorationsInRange(we,I,$);return(0,m.vA)(ke,this._decorationProvider.getDecorationsInRange(we,I,$,ae)),ke}getOverviewRulerDecorations(r=0,I=!1){return this._decorationsTree.getAll(this,r,I,!0)}getInjectedTextDecorations(r=0){return this._decorationsTree.getAllInjectedText(this,r)}_getInjectedTextInLine(r){const I=this._buffer.getOffsetAt(r,1),$=I+this._buffer.getLineLength(r),ae=this._decorationsTree.getInjectedTextInInterval(this,I,$,0);return pn.gk.fromDecorations(ae).filter(we=>we.lineNumber===r)}getAllDecorations(r=0,I=!1){let $=this._decorationsTree.getAll(this,r,I,!1);return $=$.concat(this._decorationProvider.getAllDecorations(r,I)),$}_getDecorationsInRange(r,I,$){const ae=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),we=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);return this._decorationsTree.getAllInInterval(this,ae,we,I,$)}getRangeAt(r,I){return this._buffer.getRangeAt(r,I-r)}_changeDecorationImpl(r,I){const $=this._decorations[r];if(!$)return;if($.options.after){const nt=this.getDecorationRange(r);this._onDidChangeDecorations.recordLineAffectedByInjectedText(nt.endLineNumber)}if($.options.before){const nt=this.getDecorationRange(r);this._onDidChangeDecorations.recordLineAffectedByInjectedText(nt.startLineNumber)}const ae=this._validateRangeRelaxedNoAllocations(I),we=this._buffer.getOffsetAt(ae.startLineNumber,ae.startColumn),ke=this._buffer.getOffsetAt(ae.endLineNumber,ae.endColumn);this._decorationsTree.delete($),$.reset(this.getVersionId(),we,ke,ae),this._decorationsTree.insert($),this._onDidChangeDecorations.checkAffectedAndFire($.options),$.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.endLineNumber),$.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.startLineNumber)}_changeDecorationOptionsImpl(r,I){const $=this._decorations[r];if(!$)return;const ae=!!($.options.overviewRuler&&$.options.overviewRuler.color),we=!!(I.overviewRuler&&I.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire($.options),this._onDidChangeDecorations.checkAffectedAndFire(I),$.options.after||I.after){const ke=this._decorationsTree.getNodeRange(this,$);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.endLineNumber)}if($.options.before||I.before){const ke=this._decorationsTree.getNodeRange(this,$);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.startLineNumber)}ae!==we?(this._decorationsTree.delete($),$.setOptions(I),this._decorationsTree.insert($)):$.setOptions(I)}_deltaDecorationsImpl(r,I,$){const ae=this.getVersionId(),we=I.length;let ke=0;const nt=$.length;let at=0;this._onDidChangeDecorations.beginDeferredEmit();try{const _t=new Array(nt);for(;ke<we||at<nt;){let xt=null;if(ke<we){do xt=this._decorations[I[ke++]];while(!xt&&ke<we);if(xt){if(xt.options.after){const Et=this._decorationsTree.getNodeRange(this,xt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Et.endLineNumber)}if(xt.options.before){const Et=this._decorationsTree.getNodeRange(this,xt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Et.startLineNumber)}this._decorationsTree.delete(xt),this._onDidChangeDecorations.checkAffectedAndFire(xt.options)}}if(at<nt){if(!xt){const wi=++this._lastDecorationId,Ti=`${this._instanceId};${wi}`;xt=new je(Ti,0,0),this._decorations[Ti]=xt}const Et=$[at],Ft=this._validateRangeRelaxedNoAllocations(Et.range),Vt=gn(Et.options),Qt=this._buffer.getOffsetAt(Ft.startLineNumber,Ft.startColumn),si=this._buffer.getOffsetAt(Ft.endLineNumber,Ft.endColumn);xt.ownerId=r,xt.reset(ae,Qt,si,Ft),xt.setOptions(Vt),xt.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ft.endLineNumber),xt.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ft.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Vt),this._decorationsTree.insert(xt),_t[at]=xt.id,at++}else xt&&delete this._decorations[xt.id]}return _t}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(r,I){typeof r=="string"?(this._languageSelectionListener.clear(),this._setLanguage(r,I)):(this._languageSelectionListener.value=r.onDidChange(()=>this._setLanguage(r.languageId,I)),this._setLanguage(r.languageId,I))}_setLanguage(r,I){this.tokenization.setLanguageId(r,I),this._languageService.requestRichLanguageFeatures(r)}getLanguageIdAtPosition(r,I){return this.tokenization.getLanguageIdAtPosition(r,I)}getWordAtPosition(r){return this._tokenizationTextModelPart.getWordAtPosition(r)}getWordUntilPosition(r){return this._tokenizationTextModelPart.getWordUntilPosition(r)}normalizePosition(r,I){return r}getLineIndentColumn(r){return us(this.getLineContent(r))+1}};tn._MODEL_SYNC_LIMIT=50*1024*1024,tn.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,tn.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,tn.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:g.D.tabSize,indentSize:g.D.indentSize,insertSpaces:g.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:g.D.trimAutoWhitespace,largeFileOptimizations:g.D.largeFileOptimizations,bracketPairColorizationOptions:g.D.bracketPairColorizationOptions},tn=cs([ds(4,Pn.tJ),ds(5,n.O),ds(6,a.c_)],tn);function us(F){let r=0;for(const I of F)if(I===" "||I==="	")r++;else break;return r}function Wt(F){return!!(F.options.overviewRuler&&F.options.overviewRuler.color)}function Zt(F){return!!F.options.after||!!F.options.before}class Yt{constructor(){this._decorationsTree0=new Ie,this._decorationsTree1=new Ie,this._injectedTextDecorationsTree=new Ie}ensureAllNodesHaveRanges(r){this.getAll(r,0,!1,!1)}_ensureNodesHaveRanges(r,I){for(const $ of I)$.range===null&&($.range=r.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd));return I}getAllInInterval(r,I,$,ae,we){const ke=r.getVersionId(),nt=this._intervalSearch(I,$,ae,we,ke);return this._ensureNodesHaveRanges(r,nt)}_intervalSearch(r,I,$,ae,we){const ke=this._decorationsTree0.intervalSearch(r,I,$,ae,we),nt=this._decorationsTree1.intervalSearch(r,I,$,ae,we),at=this._injectedTextDecorationsTree.intervalSearch(r,I,$,ae,we);return ke.concat(nt).concat(at)}getInjectedTextInInterval(r,I,$,ae){const we=r.getVersionId(),ke=this._injectedTextDecorationsTree.intervalSearch(I,$,ae,!1,we);return this._ensureNodesHaveRanges(r,ke).filter(nt=>nt.options.showIfCollapsed||!nt.range.isEmpty())}getAllInjectedText(r,I){const $=r.getVersionId(),ae=this._injectedTextDecorationsTree.search(I,!1,$);return this._ensureNodesHaveRanges(r,ae).filter(we=>we.options.showIfCollapsed||!we.range.isEmpty())}getAll(r,I,$,ae){const we=r.getVersionId(),ke=this._search(I,$,ae,we);return this._ensureNodesHaveRanges(r,ke)}_search(r,I,$,ae){if($)return this._decorationsTree1.search(r,I,ae);{const we=this._decorationsTree0.search(r,I,ae),ke=this._decorationsTree1.search(r,I,ae),nt=this._injectedTextDecorationsTree.search(r,I,ae);return we.concat(ke).concat(nt)}}collectNodesFromOwner(r){const I=this._decorationsTree0.collectNodesFromOwner(r),$=this._decorationsTree1.collectNodesFromOwner(r),ae=this._injectedTextDecorationsTree.collectNodesFromOwner(r);return I.concat($).concat(ae)}collectNodesPostOrder(){const r=this._decorationsTree0.collectNodesPostOrder(),I=this._decorationsTree1.collectNodesPostOrder(),$=this._injectedTextDecorationsTree.collectNodesPostOrder();return r.concat(I).concat($)}insert(r){Zt(r)?this._injectedTextDecorationsTree.insert(r):Wt(r)?this._decorationsTree1.insert(r):this._decorationsTree0.insert(r)}delete(r){Zt(r)?this._injectedTextDecorationsTree.delete(r):Wt(r)?this._decorationsTree1.delete(r):this._decorationsTree0.delete(r)}getNodeRange(r,I){const $=r.getVersionId();return I.cachedVersionId!==$&&this._resolveNode(I,$),I.range===null&&(I.range=r.getRangeAt(I.cachedAbsoluteStart,I.cachedAbsoluteEnd)),I.range}_resolveNode(r,I){Zt(r)?this._injectedTextDecorationsTree.resolveNode(r,I):Wt(r)?this._decorationsTree1.resolveNode(r,I):this._decorationsTree0.resolveNode(r,I)}acceptReplace(r,I,$,ae){this._decorationsTree0.acceptReplace(r,I,$,ae),this._decorationsTree1.acceptReplace(r,I,$,ae),this._injectedTextDecorationsTree.acceptReplace(r,I,$,ae)}}function oi(F){return F.replace(/[^a-z0-9\-_]/gi," ")}class mi{constructor(r){this.color=r.color||"",this.darkColor=r.darkColor||""}}class Fi extends mi{constructor(r){super(r),this._resolvedColor=null,this.position=typeof r.position=="number"?r.position:C.sh.Center}getColor(r){return this._resolvedColor||(r.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,r):this._resolvedColor=this._resolveColor(this.color,r)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(r,I){if(typeof r=="string")return r;const $=r?I.getColor(r.id):null;return $?$.toString():""}}class Di extends mi{constructor(r){super(r),this.position=r.position}getColor(r){return this._resolvedColor||(r.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,r):this._resolvedColor=this._resolveColor(this.color,r)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(r,I){return typeof r=="string"?B.Il.fromHex(r):I.getColor(r.id)}}class Ji{static from(r){return r instanceof Ji?r:new Ji(r)}constructor(r){this.content=r.content||"",this.inlineClassName=r.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=r.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=r.attachedData||null,this.cursorStops=r.cursorStops||null}}class Ui{static register(r){return new Ui(r)}static createDynamic(r){return new Ui(r)}constructor(r){var I,$,ae,we,ke;this.description=r.description,this.blockClassName=r.blockClassName?oi(r.blockClassName):null,this.blockDoesNotCollapse=(I=r.blockDoesNotCollapse)!==null&&I!==void 0?I:null,this.blockIsAfterEnd=($=r.blockIsAfterEnd)!==null&&$!==void 0?$:null,this.blockPadding=(ae=r.blockPadding)!==null&&ae!==void 0?ae:null,this.stickiness=r.stickiness||0,this.zIndex=r.zIndex||0,this.className=r.className?oi(r.className):null,this.hoverMessage=r.hoverMessage||null,this.glyphMarginHoverMessage=r.glyphMarginHoverMessage||null,this.isWholeLine=r.isWholeLine||!1,this.showIfCollapsed=r.showIfCollapsed||!1,this.collapseOnReplaceEdit=r.collapseOnReplaceEdit||!1,this.overviewRuler=r.overviewRuler?new Fi(r.overviewRuler):null,this.minimap=r.minimap?new Di(r.minimap):null,this.glyphMarginClassName=r.glyphMarginClassName?oi(r.glyphMarginClassName):null,this.linesDecorationsClassName=r.linesDecorationsClassName?oi(r.linesDecorationsClassName):null,this.firstLineDecorationClassName=r.firstLineDecorationClassName?oi(r.firstLineDecorationClassName):null,this.marginClassName=r.marginClassName?oi(r.marginClassName):null,this.inlineClassName=r.inlineClassName?oi(r.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=r.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=r.beforeContentClassName?oi(r.beforeContentClassName):null,this.afterContentClassName=r.afterContentClassName?oi(r.afterContentClassName):null,this.after=r.after?Ji.from(r.after):null,this.before=r.before?Ji.from(r.before):null,this.hideInCommentTokens=(we=r.hideInCommentTokens)!==null&&we!==void 0?we:!1,this.hideInStringTokens=(ke=r.hideInStringTokens)!==null&&ke!==void 0?ke:!1}}Ui.EMPTY=Ui.register({description:"empty"});const _n=[Ui.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Ui.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Ui.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Ui.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function gn(F){return F instanceof Ui?F:Ui.createDynamic(F)}class vn extends v.JT{constructor(r){super(),this.handleBeforeFire=r,this._actual=this._register(new _.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var r;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(r=this._affectedInjectedTextLines)===null||r===void 0||r.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(r){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(r)}checkAffectedAndFire(r){this._affectsMinimap||(this._affectsMinimap=!!(r.minimap&&r.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(r.overviewRuler&&r.overviewRuler.color)),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const r={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(r)}}class Vn extends v.JT{constructor(){super(),this._fastEmitter=this._register(new _.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new _.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(r=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=r;const I=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(I),this._slowEmitter.fire(I)}}fire(r){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(r):this._deferredEvent=r;return}this._fastEmitter.fire(r),this._slowEmitter.fire(r)}}class Bn{constructor(){this._onDidChangeVisibleRanges=new _.Q5,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const r=new Kt(I=>{this._onDidChangeVisibleRanges.fire({view:r,state:I})});return this._views.add(r),r}detachView(r){this._views.delete(r),this._onDidChangeVisibleRanges.fire({view:r,state:void 0})}}class Kt{constructor(r){this.handleStateChange=r}setVisibleLines(r,I){const $=r.map(ae=>new ps.z(ae.startLineNumber,ae.endLineNumber+1));this.handleStateChange({visibleLineRanges:$,stabilized:I})}}},83388:function(Ot,He,i){"use strict";i.d(He,{U:function(){return B}});var m=i(38431);class B extends m.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},58461:function(Ot,He,i){"use strict";i.d(He,{bc:function(){return M},cM:function(){return n},iE:function(){return R},pM:function(){return l},sz:function(){return a}});var m=i(17416),B=i(31599),f=i(8964),_=i(50038),v=i(41913);const A=999;class M{constructor(D,u,S,w){this.searchString=D,this.isRegex=u,this.matchCase=S,this.wordSeparators=w}parseSearchRequest(){if(this.searchString==="")return null;let D;this.isRegex?D=E(this.searchString):D=this.searchString.indexOf(`
`)>=0;let u=null;try{u=m.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:D,global:!0,unicode:!0})}catch(w){return null}if(!u)return null;let S=!this.isRegex&&!D;return S&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(S=this.matchCase),new v.Tx(u,this.wordSeparators?(0,B.u)(this.wordSeparators):null,S?this.searchString:null)}}function E(C){if(!C||C.length===0)return!1;for(let D=0,u=C.length;D<u;D++){const S=C.charCodeAt(D);if(S===10)return!0;if(S===92){if(D++,D>=u)break;const w=C.charCodeAt(D);if(w===110||w===114||w===87)return!0}}return!1}function R(C,D,u){if(!u)return new v.tk(C,null);const S=[];for(let w=0,L=D.length;w<L;w++)S[w]=D[w];return new v.tk(C,S)}class p{constructor(D){const u=[];let S=0;for(let w=0,L=D.length;w<L;w++)D.charCodeAt(w)===10&&(u[S++]=w);this._lineFeedsOffsets=u}findLineFeedCountBeforeOffset(D){const u=this._lineFeedsOffsets;let S=0,w=u.length-1;if(w===-1||D<=u[0])return 0;for(;S<w;){const L=S+((w-S)/2>>0);u[L]>=D?w=L-1:u[L+1]>=D?(S=L,w=L):S=L+1}return S+1}}class l{static findMatches(D,u,S,w,L){const N=u.parseSearchRequest();return N?N.regex.multiline?this._doFindMatchesMultiline(D,S,new a(N.wordSeparators,N.regex),w,L):this._doFindMatchesLineByLine(D,S,N,w,L):[]}static _getMultilineMatchRange(D,u,S,w,L,N){let O,x=0;w?(x=w.findLineFeedCountBeforeOffset(L),O=u+L+x):O=u+L;let T;if(w){const G=w.findLineFeedCountBeforeOffset(L+N.length)-x;T=O+N.length+G}else T=O+N.length;const W=D.getPositionAt(O),U=D.getPositionAt(T);return new _.e(W.lineNumber,W.column,U.lineNumber,U.column)}static _doFindMatchesMultiline(D,u,S,w,L){const N=D.getOffsetAt(u.getStartPosition()),O=D.getValueInRange(u,1),x=D.getEOL()===`\r
`?new p(O):null,T=[];let W=0,U;for(S.reset(0);U=S.next(O);)if(T[W++]=R(this._getMultilineMatchRange(D,N,O,x,U.index,U[0]),U,w),W>=L)return T;return T}static _doFindMatchesLineByLine(D,u,S,w,L){const N=[];let O=0;if(u.startLineNumber===u.endLineNumber){const T=D.getLineContent(u.startLineNumber).substring(u.startColumn-1,u.endColumn-1);return O=this._findMatchesInLine(S,T,u.startLineNumber,u.startColumn-1,O,N,w,L),N}const x=D.getLineContent(u.startLineNumber).substring(u.startColumn-1);O=this._findMatchesInLine(S,x,u.startLineNumber,u.startColumn-1,O,N,w,L);for(let T=u.startLineNumber+1;T<u.endLineNumber&&O<L;T++)O=this._findMatchesInLine(S,D.getLineContent(T),T,0,O,N,w,L);if(O<L){const T=D.getLineContent(u.endLineNumber).substring(0,u.endColumn-1);O=this._findMatchesInLine(S,T,u.endLineNumber,0,O,N,w,L)}return N}static _findMatchesInLine(D,u,S,w,L,N,O,x){const T=D.wordSeparators;if(!O&&D.simpleSearch){const K=D.simpleSearch,G=K.length,z=u.length;let k=-G;for(;(k=u.indexOf(K,k+G))!==-1;)if((!T||n(T,u,z,k,G))&&(N[L++]=new v.tk(new _.e(S,k+1+w,S,k+1+G+w),null),L>=x))return L;return L}const W=new a(D.wordSeparators,D.regex);let U;W.reset(0);do if(U=W.next(u),U&&(N[L++]=R(new _.e(S,U.index+1+w,S,U.index+1+U[0].length+w),U,O),L>=x))return L;while(U);return L}static findNextMatch(D,u,S,w){const L=u.parseSearchRequest();if(!L)return null;const N=new a(L.wordSeparators,L.regex);return L.regex.multiline?this._doFindNextMatchMultiline(D,S,N,w):this._doFindNextMatchLineByLine(D,S,N,w)}static _doFindNextMatchMultiline(D,u,S,w){const L=new f.L(u.lineNumber,1),N=D.getOffsetAt(L),O=D.getLineCount(),x=D.getValueInRange(new _.e(L.lineNumber,L.column,O,D.getLineMaxColumn(O)),1),T=D.getEOL()===`\r
`?new p(x):null;S.reset(u.column-1);const W=S.next(x);return W?R(this._getMultilineMatchRange(D,N,x,T,W.index,W[0]),W,w):u.lineNumber!==1||u.column!==1?this._doFindNextMatchMultiline(D,new f.L(1,1),S,w):null}static _doFindNextMatchLineByLine(D,u,S,w){const L=D.getLineCount(),N=u.lineNumber,O=D.getLineContent(N),x=this._findFirstMatchInLine(S,O,N,u.column,w);if(x)return x;for(let T=1;T<=L;T++){const W=(N+T-1)%L,U=D.getLineContent(W+1),K=this._findFirstMatchInLine(S,U,W+1,1,w);if(K)return K}return null}static _findFirstMatchInLine(D,u,S,w,L){D.reset(w-1);const N=D.next(u);return N?R(new _.e(S,N.index+1,S,N.index+1+N[0].length),N,L):null}static findPreviousMatch(D,u,S,w){const L=u.parseSearchRequest();if(!L)return null;const N=new a(L.wordSeparators,L.regex);return L.regex.multiline?this._doFindPreviousMatchMultiline(D,S,N,w):this._doFindPreviousMatchLineByLine(D,S,N,w)}static _doFindPreviousMatchMultiline(D,u,S,w){const L=this._doFindMatchesMultiline(D,new _.e(1,1,u.lineNumber,u.column),S,w,10*A);if(L.length>0)return L[L.length-1];const N=D.getLineCount();return u.lineNumber!==N||u.column!==D.getLineMaxColumn(N)?this._doFindPreviousMatchMultiline(D,new f.L(N,D.getLineMaxColumn(N)),S,w):null}static _doFindPreviousMatchLineByLine(D,u,S,w){const L=D.getLineCount(),N=u.lineNumber,O=D.getLineContent(N).substring(0,u.column-1),x=this._findLastMatchInLine(S,O,N,w);if(x)return x;for(let T=1;T<=L;T++){const W=(L+N-T-1)%L,U=D.getLineContent(W+1),K=this._findLastMatchInLine(S,U,W+1,w);if(K)return K}return null}static _findLastMatchInLine(D,u,S,w){let L=null,N;for(D.reset(0);N=D.next(u);)L=R(new _.e(S,N.index+1,S,N.index+1+N[0].length),N,w);return L}}function d(C,D,u,S,w){if(S===0)return!0;const L=D.charCodeAt(S-1);if(C.get(L)!==0||L===13||L===10)return!0;if(w>0){const N=D.charCodeAt(S);if(C.get(N)!==0)return!0}return!1}function g(C,D,u,S,w){if(S+w===u)return!0;const L=D.charCodeAt(S+w);if(C.get(L)!==0||L===13||L===10)return!0;if(w>0){const N=D.charCodeAt(S+w-1);if(C.get(N)!==0)return!0}return!1}function n(C,D,u,S,w){return d(C,D,u,S,w)&&g(C,D,u,S,w)}class a{constructor(D,u){this._wordSeparators=D,this._searchRegex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(D){this._searchRegex.lastIndex=D,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(D){const u=D.length;let S;do{if(this._prevMatchStartIndex+this._prevMatchLength===u||(S=this._searchRegex.exec(D),!S))return null;const w=S.index,L=S[0].length;if(w===this._prevMatchStartIndex&&L===this._prevMatchLength){if(L===0){m.ZH(D,u,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=w,this._prevMatchLength=L,!this._wordSeparators||n(this._wordSeparators,D,u,w,L))return S}while(S);return null}}},6287:function(Ot,He,i){"use strict";i.d(He,{q:function(){return m}});function m(B,f){let _=0,v=0;const A=B.length;for(;v<A;){const M=B.charCodeAt(v);if(M===32)_++;else if(M===9)_=_-_%f+f;else break;v++}return v===A?-1:_}},30363:function(Ot,He,i){"use strict";i.d(He,{p:function(){return B}});var m=i(44333);const B=(0,m.yh)("editorWorkerService")},69060:function(Ot,He,i){"use strict";i.d(He,{A:function(){return p}});var m=i(32916),B=i(39832),f=i(98726),_=i(53061),v=i(44333),A=i(59271),M=i(48786),E=function(n,a,C,D){var u=arguments.length,S=u<3?a:D===null?D=Object.getOwnPropertyDescriptor(a,C):D,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(n,a,C,D);else for(var L=n.length-1;L>=0;L--)(w=n[L])&&(S=(u<3?w(S):u>3?w(a,C,S):w(a,C))||S);return u>3&&S&&Object.defineProperty(a,C,S),S},R=function(n,a){return function(C,D){a(C,D,n)}};const p=(0,v.yh)("ILanguageFeatureDebounceService");var l;(function(n){const a=new WeakMap;let C=0;function D(u){let S=a.get(u);return S===void 0&&(S=++C,a.set(u,S)),S}n.of=D})(l||(l={}));class d{constructor(a,C,D,u,S,w){this._logService=a,this._name=C,this._registry=D,this._default=u,this._min=S,this._max=w,this._cache=new B.z6(50,.7)}_key(a){return a.id+this._registry.all(a).reduce((C,D)=>(0,m.SP)(l.of(D),C),0)}get(a){const C=this._key(a),D=this._cache.get(C);return D?(0,f.uZ)(D.value,this._min,this._max):this.default()}update(a,C){const D=this._key(a);let u=this._cache.get(D);u||(u=new f.N(6),this._cache.set(D,u));const S=(0,f.uZ)(u.update(C),this._min,this._max);return(0,M.xn)(a.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${a.uri.toString()} is ${S}ms`),S}_overall(){const a=new f.nM;for(const[,C]of this._cache)a.update(C.value);return a.value}default(){const a=this._overall()|0||this._default;return(0,f.uZ)(a,this._min,this._max)}}let g=class{constructor(a){this._logService=a,this._data=new Map}for(a,C,D){var u,S,w;const L=(u=D==null?void 0:D.min)!==null&&u!==void 0?u:50,N=(S=D==null?void 0:D.max)!==null&&S!==void 0?S:Math.pow(L,2),O=(w=D==null?void 0:D.key)!==null&&w!==void 0?w:void 0,x=`${l.of(a)},${L}${O?","+O:""}`;let T=this._data.get(x);return T||(T=new d(this._logService,C,a,this._overallAverage()|0||L*1.5,L,N),this._data.set(x,T)),T}_overallAverage(){const a=new f.nM;for(const C of this._data.values())a.update(C.default());return a.value}};g=E([R(0,A.VZ)],g),(0,_.z)(p,g,1)},35921:function(Ot,He,i){"use strict";i.d(He,{p:function(){return B}});var m=i(44333);const B=(0,m.yh)("ILanguageFeaturesService")},52919:function(Ot,He,i){"use strict";i.d(He,{i:function(){return B}});var m=i(44333);const B=(0,m.yh)("markerDecorationsService")},65041:function(Ot,He,i){"use strict";i.d(He,{q:function(){return B}});var m=i(44333);const B=(0,m.yh)("modelService")},91223:function(Ot,He,i){"use strict";i.d(He,{S:function(){return B}});var m=i(44333);const B=(0,m.yh)("textModelService")},76263:function(Ot,He,i){"use strict";i.d(He,{$:function(){return g},h:function(){return n}});var m=i(24506),B=i(58566),f=i(59271),_=i(8964),v=i(50038),A=i(58570);class M{static create(u,S){return new M(u,new E(S))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(u,S){this._startLineNumber=u,this._tokens=S,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new v.e(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const S=u.startLineNumber-this._startLineNumber,w=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(S,u.startColumn-1,w,u.endColumn-1),this._updateEndLineNumber()}split(u){const S=u.startLineNumber-this._startLineNumber,w=u.endLineNumber-this._startLineNumber,[L,N,O]=this._tokens.split(S,u.startColumn-1,w,u.endColumn-1);return[new M(this._startLineNumber,L),new M(this._startLineNumber+O,N)]}applyEdit(u,S){const[w,L,N]=(0,A.Q)(S);this.acceptEdit(u,w,L,N,S.length>0?S.charCodeAt(0):0)}acceptEdit(u,S,w,L,N){this._acceptDeleteRange(u),this._acceptInsertText(new _.L(u.startLineNumber,u.startColumn),S,w,L,N),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const S=u.startLineNumber-this._startLineNumber,w=u.endLineNumber-this._startLineNumber;if(w<0){const N=w-S;this._startLineNumber-=N;return}const L=this._tokens.getMaxDeltaLine();if(!(S>=L+1)){if(S<0&&w>=L+1){this._startLineNumber=0,this._tokens.clear();return}if(S<0){const N=-S;this._startLineNumber-=N,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,w,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,S,u.startColumn-1,w,u.endColumn-1)}}_acceptInsertText(u,S,w,L,N){if(S===0&&w===0)return;const O=u.lineNumber-this._startLineNumber;if(O<0){this._startLineNumber+=S;return}const x=this._tokens.getMaxDeltaLine();O>=x+1||this._tokens.acceptInsertText(O,u.column-1,S,w,L,N)}}class E{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const S=[];for(let w=0;w<this._tokenCount;w++)S.push(`(${this._getDeltaLine(w)+u},${this._getStartCharacter(w)}-${this._getEndCharacter(w)})`);return`[${S.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const S=this._getStartCharacter(0),w=this._getDeltaLine(u-1),L=this._getEndCharacter(u-1);return new v.e(0,S+1,w,L+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let S=0,w=this._getTokenCount()-1;for(;S<w;){const L=S+Math.floor((w-S)/2),N=this._getDeltaLine(L);if(N<u)S=L+1;else if(N>u)w=L-1;else{let O=L;for(;O>S&&this._getDeltaLine(O-1)===u;)O--;let x=L;for(;x<w&&this._getDeltaLine(x+1)===u;)x++;return new R(this._tokens.subarray(4*O,4*x+4))}}return this._getDeltaLine(S)===u?new R(this._tokens.subarray(4*S,4*S+4)):null}clear(){this._tokenCount=0}removeTokens(u,S,w,L){const N=this._tokens,O=this._tokenCount;let x=0,T=!1,W=0;for(let U=0;U<O;U++){const K=4*U,G=N[K],z=N[K+1],k=N[K+2],q=N[K+3];if((G>u||G===u&&k>=S)&&(G<w||G===w&&z<=L))T=!0;else{if(x===0&&(W=G),T){const te=4*x;N[te]=G-W,N[te+1]=z,N[te+2]=k,N[te+3]=q}x++}}return this._tokenCount=x,W}split(u,S,w,L){const N=this._tokens,O=this._tokenCount,x=[],T=[];let W=x,U=0,K=0;for(let G=0;G<O;G++){const z=4*G,k=N[z],q=N[z+1],te=N[z+2],X=N[z+3];if(k>u||k===u&&te>=S){if(k<w||k===w&&q<=L)continue;W!==T&&(W=T,U=0,K=k)}W[U++]=k-K,W[U++]=q,W[U++]=te,W[U++]=X}return[new E(new Uint32Array(x)),new E(new Uint32Array(T)),K]}acceptDeleteRange(u,S,w,L,N){const O=this._tokens,x=this._tokenCount,T=L-S;let W=0,U=!1;for(let K=0;K<x;K++){const G=4*K;let z=O[G],k=O[G+1],q=O[G+2];const te=O[G+3];if(z<S||z===S&&q<=w){W++;continue}else if(z===S&&k<w)z===L&&q>N?q-=N-w:q=w;else if(z===S&&k===w)if(z===L&&q>N)q-=N-w;else{U=!0;continue}else if(z<L||z===L&&k<N)if(z===L&&q>N)z===S?(k=w,q=k+(q-N)):(k=0,q=k+(q-N));else{U=!0;continue}else if(z>L){if(T===0&&!U){W=x;break}z-=T}else if(z===L&&k>=N)u&&z===0&&(k+=u,q+=u),z-=T,k-=N-w,q-=N-w;else throw new Error("Not possible!");const X=4*W;O[X]=z,O[X+1]=k,O[X+2]=q,O[X+3]=te,W++}this._tokenCount=W}acceptInsertText(u,S,w,L,N,O){const x=w===0&&L===1&&(O>=48&&O<=57||O>=65&&O<=90||O>=97&&O<=122),T=this._tokens,W=this._tokenCount;for(let U=0;U<W;U++){const K=4*U;let G=T[K],z=T[K+1],k=T[K+2];if(!(G<u||G===u&&k<S)){if(G===u&&k===S)if(x)k+=1;else continue;else if(G===u&&z<S&&S<k)w===0?k+=L:k=S;else{if(G===u&&z===S&&x)continue;if(G===u)if(G+=w,w===0)z+=L,k+=L;else{const q=k-z;z=N+(z-S),k=z+q}else G+=w}T[K]=G,T[K+1]=z,T[K+2]=k}}}}class R{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}var p=i(47626),l=function(D,u,S,w){var L=arguments.length,N=L<3?u:w===null?w=Object.getOwnPropertyDescriptor(u,S):w,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(D,u,S,w);else for(var x=D.length-1;x>=0;x--)(O=D[x])&&(N=(L<3?O(N):L>3?O(u,S,N):O(u,S))||N);return L>3&&N&&Object.defineProperty(u,S,N),N},d=function(D,u){return function(S,w){u(S,w,D)}};let g=class{constructor(u,S,w,L){this._legend=u,this._themeService=S,this._languageService=w,this._logService=L,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new C}getMetadata(u,S,w){const L=this._languageService.languageIdCodec.encodeLanguageId(w),N=this._hashTable.get(u,S,L);let O;if(N)O=N.metadata,this._logService.getLevel()===f.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${u} / ${S}: foreground ${m.N.getForeground(O)}, fontStyle ${m.N.getFontStyle(O).toString(2)}`);else{let x=this._legend.tokenTypes[u];const T=[];if(x){let W=S;for(let K=0;W>0&&K<this._legend.tokenModifiers.length;K++)W&1&&T.push(this._legend.tokenModifiers[K]),W=W>>1;W>0&&this._logService.getLevel()===f.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${S.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),T.push("not-in-legend"));const U=this._themeService.getColorTheme().getTokenStyleMetadata(x,T,w);if(typeof U=="undefined")O=2147483647;else{if(O=0,typeof U.italic!="undefined"){const K=(U.italic?1:0)<<11;O|=K|1}if(typeof U.bold!="undefined"){const K=(U.bold?2:0)<<11;O|=K|2}if(typeof U.underline!="undefined"){const K=(U.underline?4:0)<<11;O|=K|4}if(typeof U.strikethrough!="undefined"){const K=(U.strikethrough?8:0)<<11;O|=K|8}if(U.foreground){const K=U.foreground<<15;O|=K|16}O===0&&(O=2147483647)}}else this._logService.getLevel()===f.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${u} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),O=2147483647,x="not-in-legend";this._hashTable.add(u,S,L,O),this._logService.getLevel()===f.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${u} (${x}) / ${S} (${T.join(" ")}): foreground ${m.N.getForeground(O)}, fontStyle ${m.N.getFontStyle(O).toString(2)}`)}return O}warnOverlappingSemanticTokens(u,S){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${u}, column ${S}`))}warnInvalidLengthSemanticTokens(u,S){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${u}, column ${S}`))}warnInvalidEditStart(u,S,w,L,N){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${u}, resultId: ${S}) at edit #${w}: The provided start offset ${L} is outside the previous data (length ${N}).`))}};g=l([d(1,B.XE),d(2,p.O),d(3,f.VZ)],g);function n(D,u,S){const w=D.data,L=D.data.length/5|0,N=Math.max(Math.ceil(L/1024),400),O=[];let x=0,T=1,W=0;for(;x<L;){const U=x;let K=Math.min(U+N,L);if(K<L){let j=K;for(;j-1>U&&w[5*j]===0;)j--;if(j-1===U){let J=K;for(;J+1<L&&w[5*J]===0;)J++;K=J}else K=j}let G=new Uint32Array((K-U)*4),z=0,k=0,q=0,te=0;for(;x<K;){const j=5*x,J=w[j],Y=w[j+1],ee=T+J|0,fe=J===0?W+Y|0:Y,De=w[j+2],Ne=fe+De|0,be=w[j+3],xe=w[j+4];if(Ne<=fe)u.warnInvalidLengthSemanticTokens(ee,fe+1);else if(q===ee&&te>fe)u.warnOverlappingSemanticTokens(ee,fe+1);else{const Le=u.getMetadata(be,xe,S);Le!==2147483647&&(k===0&&(k=ee),G[z]=ee-k,G[z+1]=fe,G[z+2]=Ne,G[z+3]=Le,z+=4,q=ee,te=Ne)}T=ee,W=fe,x++}z!==G.length&&(G=G.subarray(0,z));const X=M.create(k,G);O.push(X)}return O}class a{constructor(u,S,w,L){this.tokenTypeIndex=u,this.tokenModifierSet=S,this.languageId=w,this.metadata=L,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(u,S){for(let w=0;w<S;w++)u[w]=null}_hash2(u,S){return(u<<5)-u+S|0}_hashFunc(u,S,w){return this._hash2(this._hash2(u,S),w)%this._currentLength}get(u,S,w){const L=this._hashFunc(u,S,w);let N=this._elements[L];for(;N;){if(N.tokenTypeIndex===u&&N.tokenModifierSet===S&&N.languageId===w)return N;N=N.next}return null}add(u,S,w,L){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const N=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const O of N){let x=O;for(;x;){const T=x.next;x.next=null,this._add(x),x=T}}}this._add(new a(u,S,w,L))}_add(u){const S=this._hashFunc(u.tokenTypeIndex,u.tokenModifierSet,u.languageId);u.next=this._elements[S],this._elements[S]=u}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},76567:function(Ot,He,i){"use strict";i.d(He,{s:function(){return B}});var m=i(44333);const B=(0,m.yh)("semanticTokensStylingService")},16576:function(Ot,He,i){"use strict";i.d(He,{V:function(){return B},y:function(){return f}});var m=i(44333);const B=(0,m.yh)("textResourceConfigurationService"),f=(0,m.yh)("textResourcePropertiesService")},83969:function(Ot,He,i){"use strict";i.d(He,{a:function(){return A}});var m=i(50038),B=i(58461),f=i(17416),_=i(14527),v=i(52676);class A{static computeUnicodeHighlights(l,d,g){const n=g?g.startLineNumber:1,a=g?g.endLineNumber:l.getLineCount(),C=new E(d),D=C.getCandidateCodePoints();let u;D==="allNonBasicAscii"?u=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):u=new RegExp(`${M(Array.from(D))}`,"g");const S=new B.sz(null,u),w=[];let L=!1,N,O=0,x=0,T=0;e:for(let W=n,U=a;W<=U;W++){const K=l.getLineContent(W),G=K.length;S.reset(0);do if(N=S.next(K),N){let z=N.index,k=N.index+N[0].length;if(z>0){const j=K.charCodeAt(z-1);f.ZG(j)&&z--}if(k+1<G){const j=K.charCodeAt(k-1);f.ZG(j)&&k++}const q=K.substring(z,k);let te=(0,v.t2)(z+1,v.Af,K,0);te&&te.endColumn<=z+1&&(te=null);const X=C.shouldHighlightNonBasicASCII(q,te?te.word:null);if(X!==0){X===3?O++:X===2?x++:X===1?T++:(0,_.vE)(X);const j=1e3;if(w.length>=j){L=!0;break e}w.push(new m.e(W,z+1,W,k+1))}}while(N)}return{ranges:w,hasMore:L,ambiguousCharacterCount:O,invisibleCharacterCount:x,nonBasicAsciiCharacterCount:T}}static computeUnicodeHighlightReason(l,d){const g=new E(d);switch(g.shouldHighlightNonBasicASCII(l,null)){case 0:return null;case 2:return{kind:1};case 3:{const a=l.codePointAt(0),C=g.ambiguousCharacters.getPrimaryConfusable(a),D=f.ZK.getLocales().filter(u=>!f.ZK.getInstance(new Set([...d.allowedLocales,u])).isAmbiguous(a));return{kind:0,confusableWith:String.fromCodePoint(C),notAmbiguousInLocales:D}}case 1:return{kind:2}}}}function M(p,l){return`[${f.ec(p.map(g=>String.fromCodePoint(g)).join(""))}]`}class E{constructor(l){this.options=l,this.allowedCodePoints=new Set(l.allowedCodePoints),this.ambiguousCharacters=f.ZK.getInstance(new Set(l.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const l=new Set;if(this.options.invisibleCharacters)for(const d of f.vU.codePoints)R(String.fromCodePoint(d))||l.add(d);if(this.options.ambiguousCharacters)for(const d of this.ambiguousCharacters.getConfusableCodePoints())l.add(d);for(const d of this.allowedCodePoints)l.delete(d);return l}shouldHighlightNonBasicASCII(l,d){const g=l.codePointAt(0);if(this.allowedCodePoints.has(g))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,a=!1;if(d)for(const C of d){const D=C.codePointAt(0),u=f.$i(C);n=n||u,!u&&!this.ambiguousCharacters.isAmbiguous(D)&&!f.vU.isInvisibleCharacter(D)&&(a=!0)}return!n&&a?0:this.options.invisibleCharacters&&!R(l)&&f.vU.isInvisibleCharacter(g)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(g)?3:0}}function R(p){return p===" "||p===`
`||p==="	"}},83485:function(Ot,He,i){"use strict";i.d(He,{B8:function(){return E},Oe:function(){return B},UX:function(){return A},aq:function(){return M},iN:function(){return p},ld:function(){return v},qq:function(){return _},ug:function(){return f},xi:function(){return R}});var m=i(26386),B;(function(l){l.noSelection=m.NC("noSelection","No selection"),l.singleSelectionRange=m.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),l.singleSelection=m.NC("singleSelection","Line {0}, Column {1}"),l.multiSelectionRange=m.NC("multiSelectionRange","{0} selections ({1} characters selected)"),l.multiSelection=m.NC("multiSelection","{0} selections"),l.emergencyConfOn=m.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),l.openingDocs=m.NC("openingDocs","Now opening the Editor Accessibility documentation page."),l.readonlyDiffEditor=m.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),l.editableDiffEditor=m.NC("editableDiffEditor"," in a pane of a diff editor."),l.readonlyEditor=m.NC("readonlyEditor"," in a read-only code editor"),l.editableEditor=m.NC("editableEditor"," in a code editor"),l.changeConfigToOnMac=m.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),l.changeConfigToOnWinLinux=m.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),l.auto_on=m.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),l.auto_off=m.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),l.tabFocusModeOnMsg=m.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),l.tabFocusModeOnMsgNoKb=m.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),l.tabFocusModeOffMsg=m.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),l.tabFocusModeOffMsgNoKb=m.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),l.openDocMac=m.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),l.openDocWinLinux=m.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),l.outroMsg=m.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),l.showAccessibilityHelpAction=m.NC("showAccessibilityHelpAction","Show Accessibility Help")})(B||(B={}));var f;(function(l){l.inspectTokensAction=m.NC("inspectTokens","Developer: Inspect Tokens")})(f||(f={}));var _;(function(l){l.gotoLineActionLabel=m.NC("gotoLineActionLabel","Go to Line/Column...")})(_||(_={}));var v;(function(l){l.helpQuickAccessActionLabel=m.NC("helpQuickAccess","Show all Quick Access Providers")})(v||(v={}));var A;(function(l){l.quickCommandActionLabel=m.NC("quickCommandActionLabel","Command Palette"),l.quickCommandHelp=m.NC("quickCommandActionHelp","Show And Run Commands")})(A||(A={}));var M;(function(l){l.quickOutlineActionLabel=m.NC("quickOutlineActionLabel","Go to Symbol..."),l.quickOutlineByCategoryActionLabel=m.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(M||(M={}));var E;(function(l){l.editorViewAccessibleLabel=m.NC("editorViewAccessibleLabel","Editor content"),l.accessibilityHelpMessage=m.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(E||(E={}));var R;(function(l){l.toggleHighContrast=m.NC("toggleHighContrast","Toggle High Contrast Theme")})(R||(R={}));var p;(function(l){l.bulkEditServiceSummary=m.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(p||(p={}))},30828:function(Ot,He,i){"use strict";i.d(He,{CZ:function(){return A},D8:function(){return E},Jx:function(){return m},Tx:function(){return v},dQ:function(){return M},fV:function(){return R},gk:function(){return B},lN:function(){return _},rU:function(){return f}});class m{constructor(){this.changeType=1}}class B{static applyInjectedText(l,d){if(!d||d.length===0)return l;let g="",n=0;for(const a of d)g+=l.substring(n,a.column-1),n=a.column-1,g+=a.options.content;return g+=l.substring(n),g}static fromDecorations(l){const d=[];for(const g of l)g.options.before&&g.options.before.content.length>0&&d.push(new B(g.ownerId,g.range.startLineNumber,g.range.startColumn,g.options.before,0)),g.options.after&&g.options.after.content.length>0&&d.push(new B(g.ownerId,g.range.endLineNumber,g.range.endColumn,g.options.after,1));return d.sort((g,n)=>g.lineNumber===n.lineNumber?g.column===n.column?g.order-n.order:g.column-n.column:g.lineNumber-n.lineNumber),d}constructor(l,d,g,n,a){this.ownerId=l,this.lineNumber=d,this.column=g,this.options=n,this.order=a}}class f{constructor(l,d,g){this.changeType=2,this.lineNumber=l,this.detail=d,this.injectedText=g}}class _{constructor(l,d){this.changeType=3,this.fromLineNumber=l,this.toLineNumber=d}}class v{constructor(l,d,g,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=l,this.toLineNumber=d,this.detail=g}}class A{constructor(){this.changeType=5}}class M{constructor(l,d,g,n){this.changes=l,this.versionId=d,this.isUndoing=g,this.isRedoing=n,this.resultingSelection=null}containsEvent(l){for(let d=0,g=this.changes.length;d<g;d++)if(this.changes[d].changeType===l)return!0;return!1}static merge(l,d){const g=[].concat(l.changes).concat(d.changes),n=d.versionId,a=l.isUndoing||d.isUndoing,C=l.isRedoing||d.isRedoing;return new M(g,n,a,C)}}class E{constructor(l){this.changes=l}}class R{constructor(l,d){this.rawContentChangedEvent=l,this.contentChangedEvent=d}merge(l){const d=M.merge(this.rawContentChangedEvent,l.rawContentChangedEvent),g=R._mergeChangeEvents(this.contentChangedEvent,l.contentChangedEvent);return new R(d,g)}static _mergeChangeEvents(l,d){const g=[].concat(l.changes).concat(d.changes),n=d.eol,a=d.versionId,C=l.isUndoing||d.isUndoing,D=l.isRedoing||d.isRedoing,u=l.isFlush||d.isFlush,S=l.isEolChange&&d.isEolChange;return{changes:g,eol:n,isEolChange:S,versionId:a,isUndoing:C,isRedoing:D,isFlush:u}}}},79777:function(Ot,He,i){"use strict";i.d(He,{UO:function(){return B},s6:function(){return m},vW:function(){return f}});var m;(function(_){_[_.Disabled=0]="Disabled",_[_.EnabledForActive=1]="EnabledForActive",_[_.Enabled=2]="Enabled"})(m||(m={}));class B{constructor(v,A,M,E,R,p){if(this.visibleColumn=v,this.column=A,this.className=M,this.horizontalLine=E,this.forWrappedLinesAfterColumn=R,this.forWrappedLinesBeforeOrAtColumn=p,v!==-1==(A!==-1))throw new Error}}class f{constructor(v,A){this.top=v,this.endColumn=A}}},10403:function(Ot,He,i){"use strict";i.d(He,{A:function(){return B}});var m=i(24506);class B{static createEmpty(v,A){const M=B.defaultTokenMetadata,E=new Uint32Array(2);return E[0]=v.length,E[1]=M,new B(E,v,A)}constructor(v,A,M){this._lineTokensBrand=void 0,this._tokens=v,this._tokensCount=this._tokens.length>>>1,this._text=A,this._languageIdCodec=M}equals(v){return v instanceof B?this.slicedEquals(v,0,this._tokensCount):!1}slicedEquals(v,A,M){if(this._text!==v._text||this._tokensCount!==v._tokensCount)return!1;const E=A<<1,R=E+(M<<1);for(let p=E;p<R;p++)if(this._tokens[p]!==v._tokens[p])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(v){return v>0?this._tokens[v-1<<1]:0}getMetadata(v){return this._tokens[(v<<1)+1]}getLanguageId(v){const A=this._tokens[(v<<1)+1],M=m.N.getLanguageId(A);return this._languageIdCodec.decodeLanguageId(M)}getStandardTokenType(v){const A=this._tokens[(v<<1)+1];return m.N.getTokenType(A)}getForeground(v){const A=this._tokens[(v<<1)+1];return m.N.getForeground(A)}getClassName(v){const A=this._tokens[(v<<1)+1];return m.N.getClassNameFromMetadata(A)}getInlineStyle(v,A){const M=this._tokens[(v<<1)+1];return m.N.getInlineStyleFromMetadata(M,A)}getPresentation(v){const A=this._tokens[(v<<1)+1];return m.N.getPresentationFromMetadata(A)}getEndOffset(v){return this._tokens[v<<1]}findTokenIndexAtOffset(v){return B.findIndexInTokensArray(this._tokens,v)}inflate(){return this}sliceAndInflate(v,A,M){return new f(this,v,A,M)}static convertToEndOffset(v,A){const E=(v.length>>>1)-1;for(let R=0;R<E;R++)v[R<<1]=v[R+1<<1];v[E<<1]=A}static findIndexInTokensArray(v,A){if(v.length<=2)return 0;let M=0,E=(v.length>>>1)-1;for(;M<E;){const R=M+Math.floor((E-M)/2),p=v[R<<1];if(p===A)return R+1;p<A?M=R+1:p>A&&(E=R)}return M}withInserted(v){if(v.length===0)return this;let A=0,M=0,E="";const R=new Array;let p=0;for(;;){const l=A<this._tokensCount?this._tokens[A<<1]:-1,d=M<v.length?v[M]:null;if(l!==-1&&(d===null||l<=d.offset)){E+=this._text.substring(p,l);const g=this._tokens[(A<<1)+1];R.push(E.length,g),A++,p=l}else if(d){if(d.offset>p){E+=this._text.substring(p,d.offset);const g=this._tokens[(A<<1)+1];R.push(E.length,g),p=d.offset}E+=d.text,R.push(E.length,d.tokenMetadata),M++}else break}return new B(new Uint32Array(R),E,this._languageIdCodec)}}B.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class f{constructor(v,A,M,E){this._source=v,this._startOffset=A,this._endOffset=M,this._deltaOffset=E,this._firstTokenIndex=v.findTokenIndexAtOffset(A),this._tokensCount=0;for(let R=this._firstTokenIndex,p=v.getCount();R<p&&!(v.getStartOffset(R)>=M);R++)this._tokensCount++}getMetadata(v){return this._source.getMetadata(this._firstTokenIndex+v)}getLanguageId(v){return this._source.getLanguageId(this._firstTokenIndex+v)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(v){return v instanceof f?this._startOffset===v._startOffset&&this._endOffset===v._endOffset&&this._deltaOffset===v._deltaOffset&&this._source.slicedEquals(v._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(v){return this._source.getForeground(this._firstTokenIndex+v)}getEndOffset(v){const A=this._source.getEndOffset(this._firstTokenIndex+v);return Math.min(this._endOffset,A)-this._startOffset+this._deltaOffset}getClassName(v){return this._source.getClassName(this._firstTokenIndex+v)}getInlineStyle(v,A){return this._source.getInlineStyle(this._firstTokenIndex+v,A)}getPresentation(v){return this._source.getPresentation(this._firstTokenIndex+v)}findTokenIndexAtOffset(v){return this._source.findTokenIndexAtOffset(v+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},69756:function(Ot,He,i){"use strict";i.d(He,{Kp:function(){return B},k:function(){return v}});var m=i(17416);class B{constructor(M,E,R,p){this.startColumn=M,this.endColumn=E,this.className=R,this.type=p,this._lineDecorationBrand=void 0}static _equals(M,E){return M.startColumn===E.startColumn&&M.endColumn===E.endColumn&&M.className===E.className&&M.type===E.type}static equalsArr(M,E){const R=M.length,p=E.length;if(R!==p)return!1;for(let l=0;l<R;l++)if(!B._equals(M[l],E[l]))return!1;return!0}static extractWrapped(M,E,R){if(M.length===0)return M;const p=E+1,l=R+1,d=R-E,g=[];let n=0;for(const a of M)a.endColumn<=p||a.startColumn>=l||(g[n++]=new B(Math.max(1,a.startColumn-p+1),Math.min(d+1,a.endColumn-p+1),a.className,a.type));return g}static filter(M,E,R,p){if(M.length===0)return[];const l=[];let d=0;for(let g=0,n=M.length;g<n;g++){const a=M[g],C=a.range;if(C.endLineNumber<E||C.startLineNumber>E||C.isEmpty()&&(a.type===0||a.type===3))continue;const D=C.startLineNumber===E?C.startColumn:R,u=C.endLineNumber===E?C.endColumn:p;l[d++]=new B(D,u,a.inlineClassName,a.type)}return l}static _typeCompare(M,E){const R=[2,0,1,3];return R[M]-R[E]}static compare(M,E){if(M.startColumn!==E.startColumn)return M.startColumn-E.startColumn;if(M.endColumn!==E.endColumn)return M.endColumn-E.endColumn;const R=B._typeCompare(M.type,E.type);return R!==0?R:M.className!==E.className?M.className<E.className?-1:1:0}}class f{constructor(M,E,R,p){this.startOffset=M,this.endOffset=E,this.className=R,this.metadata=p}}class _{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(M){let E=0;for(let R=0,p=M.length;R<p;R++)E|=M[R];return E}consumeLowerThan(M,E,R){for(;this.count>0&&this.stopOffsets[0]<M;){let p=0;for(;p+1<this.count&&this.stopOffsets[p]===this.stopOffsets[p+1];)p++;R.push(new f(E,this.stopOffsets[p],this.classNames.join(" "),_._metadata(this.metadata))),E=this.stopOffsets[p]+1,this.stopOffsets.splice(0,p+1),this.classNames.splice(0,p+1),this.metadata.splice(0,p+1),this.count-=p+1}return this.count>0&&E<M&&(R.push(new f(E,M-1,this.classNames.join(" "),_._metadata(this.metadata))),E=M),E}insert(M,E,R){if(this.count===0||this.stopOffsets[this.count-1]<=M)this.stopOffsets.push(M),this.classNames.push(E),this.metadata.push(R);else for(let p=0;p<this.count;p++)if(this.stopOffsets[p]>=M){this.stopOffsets.splice(p,0,M),this.classNames.splice(p,0,E),this.metadata.splice(p,0,R);break}this.count++}}class v{static normalize(M,E){if(E.length===0)return[];const R=[],p=new _;let l=0;for(let d=0,g=E.length;d<g;d++){const n=E[d];let a=n.startColumn,C=n.endColumn;const D=n.className,u=n.type===1?2:n.type===2?4:0;if(a>1){const L=M.charCodeAt(a-2);m.ZG(L)&&a--}if(C>1){const L=M.charCodeAt(C-2);m.ZG(L)&&C--}const S=a-1,w=C-2;l=p.consumeLowerThan(S,l,R),p.count===0&&(l=S),p.insert(w,D,u)}return p.consumeLowerThan(1073741824,l,R),R}}},75398:function(Ot,He,i){"use strict";i.d(He,{Nd:function(){return E},zG:function(){return A},IJ:function(){return M},d1:function(){return l},tF:function(){return g}});var m=i(26386),B=i(17416),f=i(12342),_=i(69756);class v{constructor(W,U,K,G){this.endIndex=W,this.type=U,this.metadata=K,this.containsRTL=G,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class A{constructor(W,U){this.startOffset=W,this.endOffset=U}equals(W){return this.startOffset===W.startOffset&&this.endOffset===W.endOffset}}class M{constructor(W,U,K,G,z,k,q,te,X,j,J,Y,ee,fe,De,Ne,be,xe,Le){this.useMonospaceOptimizations=W,this.canUseHalfwidthRightwardsArrow=U,this.lineContent=K,this.continuesWithWrappedLine=G,this.isBasicASCII=z,this.containsRTL=k,this.fauxIndentLength=q,this.lineTokens=te,this.lineDecorations=X.sort(_.Kp.compare),this.tabSize=j,this.startVisibleColumn=J,this.spaceWidth=Y,this.stopRenderingLineAfter=De,this.renderWhitespace=Ne==="all"?4:Ne==="boundary"?1:Ne==="selection"?2:Ne==="trailing"?3:0,this.renderControlCharacters=be,this.fontLigatures=xe,this.selectionsOnLine=Le&&Le.sort((_e,Ue)=>_e.startOffset<Ue.startOffset?-1:1);const ue=Math.abs(fe-Y),re=Math.abs(ee-Y);ue<re?(this.renderSpaceWidth=fe,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=ee,this.renderSpaceCharCode=183)}sameSelection(W){if(this.selectionsOnLine===null)return W===null;if(W===null||W.length!==this.selectionsOnLine.length)return!1;for(let U=0;U<this.selectionsOnLine.length;U++)if(!this.selectionsOnLine[U].equals(W[U]))return!1;return!0}equals(W){return this.useMonospaceOptimizations===W.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===W.canUseHalfwidthRightwardsArrow&&this.lineContent===W.lineContent&&this.continuesWithWrappedLine===W.continuesWithWrappedLine&&this.isBasicASCII===W.isBasicASCII&&this.containsRTL===W.containsRTL&&this.fauxIndentLength===W.fauxIndentLength&&this.tabSize===W.tabSize&&this.startVisibleColumn===W.startVisibleColumn&&this.spaceWidth===W.spaceWidth&&this.renderSpaceWidth===W.renderSpaceWidth&&this.renderSpaceCharCode===W.renderSpaceCharCode&&this.stopRenderingLineAfter===W.stopRenderingLineAfter&&this.renderWhitespace===W.renderWhitespace&&this.renderControlCharacters===W.renderControlCharacters&&this.fontLigatures===W.fontLigatures&&_.Kp.equalsArr(this.lineDecorations,W.lineDecorations)&&this.lineTokens.equals(W.lineTokens)&&this.sameSelection(W.selectionsOnLine)}}class E{constructor(W,U){this.partIndex=W,this.charIndex=U}}class R{static getPartIndex(W){return(W&4294901760)>>>16}static getCharIndex(W){return(W&65535)>>>0}constructor(W,U){this.length=W,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(W,U,K,G){const z=(U<<16|K<<0)>>>0;this._data[W-1]=z,this._horizontalOffset[W-1]=G}getHorizontalOffset(W){return this._horizontalOffset.length===0?0:this._horizontalOffset[W-1]}charOffsetToPartData(W){return this.length===0?0:W<0?this._data[0]:W>=this.length?this._data[this.length-1]:this._data[W]}getDomPosition(W){const U=this.charOffsetToPartData(W-1),K=R.getPartIndex(U),G=R.getCharIndex(U);return new E(K,G)}getColumn(W,U){return this.partDataToCharOffset(W.partIndex,U,W.charIndex)+1}partDataToCharOffset(W,U,K){if(this.length===0)return 0;const G=(W<<16|K<<0)>>>0;let z=0,k=this.length-1;for(;z+1<k;){const De=z+k>>>1,Ne=this._data[De];if(Ne===G)return De;Ne>G?k=De:z=De}if(z===k)return z;const q=this._data[z],te=this._data[k];if(q===G)return z;if(te===G)return k;const X=R.getPartIndex(q),j=R.getCharIndex(q),J=R.getPartIndex(te);let Y;X!==J?Y=U:Y=R.getCharIndex(te);const ee=K-j,fe=Y-K;return ee<=fe?z:k}}class p{constructor(W,U,K){this._renderLineOutputBrand=void 0,this.characterMapping=W,this.containsRTL=U,this.containsForeignElements=K}}function l(T,W){if(T.lineContent.length===0){if(T.lineDecorations.length>0){W.appendString("<span>");let U=0,K=0,G=0;for(const k of T.lineDecorations)(k.type===1||k.type===2)&&(W.appendString('<span class="'),W.appendString(k.className),W.appendString('"></span>'),k.type===1&&(G|=1,U++),k.type===2&&(G|=2,K++));W.appendString("</span>");const z=new R(1,U+K);return z.setColumnInfo(1,U,0,0),new p(z,!1,G)}return W.appendString("<span><span></span></span>"),new p(new R(0,0),!1,0)}return N(a(T),W)}class d{constructor(W,U,K,G){this.characterMapping=W,this.html=U,this.containsRTL=K,this.containsForeignElements=G}}function g(T){const W=new f.HT(1e4),U=l(T,W);return new d(U.characterMapping,W.build(),U.containsRTL,U.containsForeignElements)}class n{constructor(W,U,K,G,z,k,q,te,X,j,J,Y,ee,fe,De,Ne){this.fontIsMonospace=W,this.canUseHalfwidthRightwardsArrow=U,this.lineContent=K,this.len=G,this.isOverflowing=z,this.overflowingCharCount=k,this.parts=q,this.containsForeignElements=te,this.fauxIndentLength=X,this.tabSize=j,this.startVisibleColumn=J,this.containsRTL=Y,this.spaceWidth=ee,this.renderSpaceCharCode=fe,this.renderWhitespace=De,this.renderControlCharacters=Ne}}function a(T){const W=T.lineContent;let U,K,G;T.stopRenderingLineAfter!==-1&&T.stopRenderingLineAfter<W.length?(U=!0,K=W.length-T.stopRenderingLineAfter,G=T.stopRenderingLineAfter):(U=!1,K=0,G=W.length);let z=C(W,T.containsRTL,T.lineTokens,T.fauxIndentLength,G);T.renderControlCharacters&&!T.isBasicASCII&&(z=S(W,z)),(T.renderWhitespace===4||T.renderWhitespace===1||T.renderWhitespace===2&&T.selectionsOnLine||T.renderWhitespace===3&&!T.continuesWithWrappedLine)&&(z=w(T,W,G,z));let k=0;if(T.lineDecorations.length>0){for(let q=0,te=T.lineDecorations.length;q<te;q++){const X=T.lineDecorations[q];X.type===3||X.type===1?k|=1:X.type===2&&(k|=2)}z=L(W,G,z,T.lineDecorations)}return T.containsRTL||(z=D(W,z,!T.isBasicASCII||T.fontLigatures)),new n(T.useMonospaceOptimizations,T.canUseHalfwidthRightwardsArrow,W,G,U,K,z,k,T.fauxIndentLength,T.tabSize,T.startVisibleColumn,T.containsRTL,T.spaceWidth,T.renderSpaceCharCode,T.renderWhitespace,T.renderControlCharacters)}function C(T,W,U,K,G){const z=[];let k=0;K>0&&(z[k++]=new v(K,"",0,!1));let q=K;for(let te=0,X=U.getCount();te<X;te++){const j=U.getEndOffset(te);if(j<=K)continue;const J=U.getClassName(te);if(j>=G){const ee=W?B.Ut(T.substring(q,G)):!1;z[k++]=new v(G,J,0,ee);break}const Y=W?B.Ut(T.substring(q,j)):!1;z[k++]=new v(j,J,0,Y),q=j}return z}function D(T,W,U){let K=0;const G=[];let z=0;if(U)for(let k=0,q=W.length;k<q;k++){const te=W[k],X=te.endIndex;if(K+50<X){const j=te.type,J=te.metadata,Y=te.containsRTL;let ee=-1,fe=K;for(let De=K;De<X;De++)T.charCodeAt(De)===32&&(ee=De),ee!==-1&&De-fe>=50&&(G[z++]=new v(ee+1,j,J,Y),fe=ee+1,ee=-1);fe!==X&&(G[z++]=new v(X,j,J,Y))}else G[z++]=te;K=X}else for(let k=0,q=W.length;k<q;k++){const te=W[k],X=te.endIndex,j=X-K;if(j>50){const J=te.type,Y=te.metadata,ee=te.containsRTL,fe=Math.ceil(j/50);for(let De=1;De<fe;De++){const Ne=K+De*50;G[z++]=new v(Ne,J,Y,ee)}G[z++]=new v(X,J,Y,ee)}else G[z++]=te;K=X}return G}function u(T){return T<32?T!==9:T===127||T>=8234&&T<=8238||T>=8294&&T<=8297||T>=8206&&T<=8207||T===1564}function S(T,W){const U=[];let K=new v(0,"",0,!1),G=0;for(const z of W){const k=z.endIndex;for(;G<k;G++){const q=T.charCodeAt(G);u(q)&&(G>K.endIndex&&(K=new v(G,z.type,z.metadata,z.containsRTL),U.push(K)),K=new v(G+1,"mtkcontrol",z.metadata,!1),U.push(K))}G>K.endIndex&&(K=new v(k,z.type,z.metadata,z.containsRTL),U.push(K))}return U}function w(T,W,U,K){const G=T.continuesWithWrappedLine,z=T.fauxIndentLength,k=T.tabSize,q=T.startVisibleColumn,te=T.useMonospaceOptimizations,X=T.selectionsOnLine,j=T.renderWhitespace===1,J=T.renderWhitespace===3,Y=T.renderSpaceWidth!==T.spaceWidth,ee=[];let fe=0,De=0,Ne=K[De].type,be=K[De].containsRTL,xe=K[De].endIndex;const Le=K.length;let ue=!1,re=B.LC(W),_e;re===-1?(ue=!0,re=U,_e=U):_e=B.ow(W);let Ue=!1,Qe=0,Re=X&&X[Qe],ie=q%k;for(let se=z;se<U;se++){const ve=W.charCodeAt(se);Re&&se>=Re.endOffset&&(Qe++,Re=X&&X[Qe]);let he;if(se<re||se>_e)he=!0;else if(ve===9)he=!0;else if(ve===32)if(j)if(Ue)he=!0;else{const ce=se+1<U?W.charCodeAt(se+1):0;he=ce===32||ce===9}else he=!0;else he=!1;if(he&&X&&(he=!!Re&&Re.startOffset<=se&&Re.endOffset>se),he&&J&&(he=ue||se>_e),he&&be&&se>=re&&se<=_e&&(he=!1),Ue){if(!he||!te&&ie>=k){if(Y){const ce=fe>0?ee[fe-1].endIndex:z;for(let Ee=ce+1;Ee<=se;Ee++)ee[fe++]=new v(Ee,"mtkw",1,!1)}else ee[fe++]=new v(se,"mtkw",1,!1);ie=ie%k}}else(se===xe||he&&se>z)&&(ee[fe++]=new v(se,Ne,0,be),ie=ie%k);for(ve===9?ie=k:B.K7(ve)?ie+=2:ie++,Ue=he;se===xe&&(De++,De<Le);)Ne=K[De].type,be=K[De].containsRTL,xe=K[De].endIndex}let Z=!1;if(Ue)if(G&&j){const se=U>0?W.charCodeAt(U-1):0,ve=U>1?W.charCodeAt(U-2):0;se===32&&ve!==32&&ve!==9||(Z=!0)}else Z=!0;if(Z)if(Y){const se=fe>0?ee[fe-1].endIndex:z;for(let ve=se+1;ve<=U;ve++)ee[fe++]=new v(ve,"mtkw",1,!1)}else ee[fe++]=new v(U,"mtkw",1,!1);else ee[fe++]=new v(U,Ne,0,be);return ee}function L(T,W,U,K){K.sort(_.Kp.compare);const G=_.k.normalize(T,K),z=G.length;let k=0;const q=[];let te=0,X=0;for(let J=0,Y=U.length;J<Y;J++){const ee=U[J],fe=ee.endIndex,De=ee.type,Ne=ee.metadata,be=ee.containsRTL;for(;k<z&&G[k].startOffset<fe;){const xe=G[k];if(xe.startOffset>X&&(X=xe.startOffset,q[te++]=new v(X,De,Ne,be)),xe.endOffset+1<=fe)X=xe.endOffset+1,q[te++]=new v(X,De+" "+xe.className,Ne|xe.metadata,be),k++;else{X=fe,q[te++]=new v(X,De+" "+xe.className,Ne|xe.metadata,be);break}}fe>X&&(X=fe,q[te++]=new v(X,De,Ne,be))}const j=U[U.length-1].endIndex;if(k<z&&G[k].startOffset===j)for(;k<z&&G[k].startOffset===j;){const J=G[k];q[te++]=new v(X,J.className,J.metadata,!1),k++}return q}function N(T,W){const U=T.fontIsMonospace,K=T.canUseHalfwidthRightwardsArrow,G=T.containsForeignElements,z=T.lineContent,k=T.len,q=T.isOverflowing,te=T.overflowingCharCount,X=T.parts,j=T.fauxIndentLength,J=T.tabSize,Y=T.startVisibleColumn,ee=T.containsRTL,fe=T.spaceWidth,De=T.renderSpaceCharCode,Ne=T.renderWhitespace,be=T.renderControlCharacters,xe=new R(k+1,X.length);let Le=!1,ue=0,re=Y,_e=0,Ue=0,Qe=0;ee?W.appendString('<span dir="ltr">'):W.appendString("<span>");for(let Re=0,ie=X.length;Re<ie;Re++){const Z=X[Re],se=Z.endIndex,ve=Z.type,he=Z.containsRTL,ce=Ne!==0&&Z.isWhitespace(),Ee=ce&&!U&&(ve==="mtkw"||!G),We=ue===se&&Z.isPseudoAfter();if(_e=0,W.appendString("<span "),he&&W.appendString('style="unicode-bidi:isolate" '),W.appendString('class="'),W.appendString(Ee?"mtkz":ve),W.appendASCIICharCode(34),ce){let it=0;{let Ze=ue,je=re;for(;Ze<se;Ze++){const Ie=(z.charCodeAt(Ze)===9?J-je%J:1)|0;it+=Ie,Ze>=j&&(je+=Ie)}}for(Ee&&(W.appendString(' style="width:'),W.appendString(String(fe*it)),W.appendString('px"')),W.appendASCIICharCode(62);ue<se;ue++){xe.setColumnInfo(ue+1,Re-Qe,_e,Ue),Qe=0;const Ze=z.charCodeAt(ue);let je,Te;if(Ze===9){je=J-re%J|0,Te=je,!K||Te>1?W.appendCharCode(8594):W.appendCharCode(65515);for(let Ie=2;Ie<=Te;Ie++)W.appendCharCode(160)}else je=2,Te=1,W.appendCharCode(De),W.appendCharCode(8204);_e+=je,Ue+=Te,ue>=j&&(re+=Te)}}else for(W.appendASCIICharCode(62);ue<se;ue++){xe.setColumnInfo(ue+1,Re-Qe,_e,Ue),Qe=0;const it=z.charCodeAt(ue);let Ze=1,je=1;switch(it){case 9:Ze=J-re%J,je=Ze;for(let Te=1;Te<=Ze;Te++)W.appendCharCode(160);break;case 32:W.appendCharCode(160);break;case 60:W.appendString("&lt;");break;case 62:W.appendString("&gt;");break;case 38:W.appendString("&amp;");break;case 0:be?W.appendCharCode(9216):W.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:W.appendCharCode(65533);break;default:B.K7(it)&&je++,be&&it<32?W.appendCharCode(9216+it):be&&it===127?W.appendCharCode(9249):be&&u(it)?(W.appendString("[U+"),W.appendString(O(it)),W.appendString("]"),Ze=8,je=Ze):W.appendCharCode(it)}_e+=Ze,Ue+=je,ue>=j&&(re+=je)}We?Qe++:Qe=0,ue>=k&&!Le&&Z.isPseudoAfter()&&(Le=!0,xe.setColumnInfo(ue+1,Re,_e,Ue)),W.appendString("</span>")}return Le||xe.setColumnInfo(k+1,X.length-1,_e,Ue),q&&(W.appendString('<span class="mtkoverflow">'),W.appendString(m.NC("showMore","Show more ({0})",x(te))),W.appendString("</span>")),W.appendString("</span>"),new p(xe,ee,G)}function O(T){return T.toString(16).toUpperCase().padStart(4,"0")}function x(T){return T<1024?m.NC("overflow.chars","{0} chars",T):T<1024*1024?`${(T/1024).toFixed(1)} KB`:`${(T/1024/1024).toFixed(1)} MB`}},71278:function(Ot,He,i){"use strict";i.d(He,{$l:function(){return R},$t:function(){return M},IP:function(){return v},SQ:function(){return p},Wx:function(){return E},l_:function(){return f},ud:function(){return _},wA:function(){return A}});var m=i(17416),B=i(50038);class f{constructor(d,g,n,a){this._viewportBrand=void 0,this.top=d|0,this.left=g|0,this.width=n|0,this.height=a|0}}class _{constructor(d,g){this.tabSize=d,this.data=g}}class v{constructor(d,g,n,a,C,D,u){this._viewLineDataBrand=void 0,this.content=d,this.continuesWithWrappedLine=g,this.minColumn=n,this.maxColumn=a,this.startVisibleColumn=C,this.tokens=D,this.inlineDecorations=u}}class A{constructor(d,g,n,a,C,D,u,S,w,L){this.minColumn=d,this.maxColumn=g,this.content=n,this.continuesWithWrappedLine=a,this.isBasicASCII=A.isBasicASCII(n,D),this.containsRTL=A.containsRTL(n,this.isBasicASCII,C),this.tokens=u,this.inlineDecorations=S,this.tabSize=w,this.startVisibleColumn=L}static isBasicASCII(d,g){return g?m.$i(d):!0}static containsRTL(d,g,n){return!g&&n?m.Ut(d):!1}}class M{constructor(d,g,n){this.range=d,this.inlineClassName=g,this.type=n}}class E{constructor(d,g,n,a){this.startOffset=d,this.endOffset=g,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=a}toInlineDecoration(d){return new M(new B.e(d,this.startOffset+1,d,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class R{constructor(d,g){this._viewModelDecorationBrand=void 0,this.range=d,this.options=g}}class p{constructor(d,g,n){this.color=d,this.zIndex=g,this.data=n}static cmp(d,g){return d.zIndex===g.zIndex?d.color<g.color?-1:d.color>g.color?1:0:d.zIndex-g.zIndex}}},43128:function(Ot,He,i){"use strict";i.d(He,{EY:function(){return B},Tj:function(){return f}});class m{constructor(v,A,M){this._colorZoneBrand=void 0,this.from=v|0,this.to=A|0,this.colorId=M|0}static compare(v,A){return v.colorId===A.colorId?v.from===A.from?v.to-A.to:v.from-A.from:v.colorId-A.colorId}}class B{constructor(v,A,M,E){this._overviewRulerZoneBrand=void 0,this.startLineNumber=v,this.endLineNumber=A,this.heightInLines=M,this.color=E,this._colorZone=null}static compare(v,A){return v.color===A.color?v.startLineNumber===A.startLineNumber?v.heightInLines===A.heightInLines?v.endLineNumber-A.endLineNumber:v.heightInLines-A.heightInLines:v.startLineNumber-A.startLineNumber:v.color<A.color?-1:1}setColorZone(v){this._colorZone=v}getColorZones(){return this._colorZone}}class f{constructor(v){this._getVerticalOffsetForLine=v,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(v){this._zones=v,this._zones.sort(B.compare)}setLineHeight(v){return this._lineHeight===v?!1:(this._lineHeight=v,this._colorZonesInvalid=!0,!0)}setPixelRatio(v){this._pixelRatio=v,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(v){return this._domWidth===v?!1:(this._domWidth=v,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(v){return this._domHeight===v?!1:(this._domHeight=v,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(v){return this._outerHeight===v?!1:(this._outerHeight=v,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const v=this._colorZonesInvalid,A=Math.floor(this._lineHeight),M=Math.floor(this.getCanvasHeight()),E=Math.floor(this._outerHeight),R=M/E,p=Math.floor(4*this._pixelRatio/2),l=[];for(let d=0,g=this._zones.length;d<g;d++){const n=this._zones[d];if(!v){const x=n.getColorZones();if(x){l.push(x);continue}}const a=this._getVerticalOffsetForLine(n.startLineNumber),C=n.heightInLines===0?this._getVerticalOffsetForLine(n.endLineNumber)+A:a+n.heightInLines*A,D=Math.floor(R*a),u=Math.floor(R*C);let S=Math.floor((D+u)/2),w=u-S;w<p&&(w=p),S-w<0&&(S=w),S+w>M&&(S=M-w);const L=n.color;let N=this._color2Id[L];N||(N=++this._lastAssignedId,this._color2Id[L]=N,this._id2Color[N]=L);const O=new m(S-w,S+w,N);n.setColorZone(O),l.push(O)}return this._colorZonesInvalid=!1,l.sort(m.compare),l}}},82807:function(Ot,He,i){"use strict";i.d(He,{$t:function(){return M},CU:function(){return v},Fd:function(){return A},zg:function(){return E}});var m=i(8964),B=i(50038),f=i(71278),_=i(70054);class v{constructor(l,d,g,n,a){this._cachedOnlyMinimapDecorations=null,this.editorId=l,this.model=d,this.configuration=g,this._linesCollection=n,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(l){const d=l.id;let g=this._decorationsCache[d];if(!g){const n=l.range,a=l.options;let C;if(a.isWholeLine){const D=this._coordinatesConverter.convertModelPositionToViewPosition(new m.L(n.startLineNumber,1),0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new m.L(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);C=new B.e(D.lineNumber,D.column,u.lineNumber,u.column)}else C=this._coordinatesConverter.convertModelRangeToViewRange(n,1);g=new f.$l(C,a),this._decorationsCache[d]=g}return g}getDecorationsViewportData(l,d=!1){let g=this._cachedModelDecorationsResolver!==null;return g=g&&l.equalsRange(this._cachedModelDecorationsResolverViewRange),g=g&&this._cachedOnlyMinimapDecorations===d,g||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(l,d),this._cachedModelDecorationsResolverViewRange=l,this._cachedOnlyMinimapDecorations=d),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(l,d=!1){const g=new B.e(l,this._linesCollection.getViewLineMinColumn(l),l,this._linesCollection.getViewLineMaxColumn(l));return this._getDecorationsInRange(g,d).inlineDecorations[0]}_getDecorationsInRange(l,d){const g=this._linesCollection.getDecorationsInRange(l,this.editorId,(0,_.$J)(this.configuration.options),d),n=l.startLineNumber,a=l.endLineNumber,C=[];let D=0;const u=[];for(let S=n;S<=a;S++)u[S-n]=[];for(let S=0,w=g.length;S<w;S++){const L=g[S],N=L.options;if(!A(this.model,L))continue;const O=this._getOrCreateViewModelDecoration(L),x=O.range;if(C[D++]=O,N.inlineClassName){const T=new f.$t(x,N.inlineClassName,N.inlineClassNameAffectsLetterSpacing?3:0),W=Math.max(n,x.startLineNumber),U=Math.min(a,x.endLineNumber);for(let K=W;K<=U;K++)u[K-n].push(T)}if(N.beforeContentClassName&&n<=x.startLineNumber&&x.startLineNumber<=a){const T=new f.$t(new B.e(x.startLineNumber,x.startColumn,x.startLineNumber,x.startColumn),N.beforeContentClassName,1);u[x.startLineNumber-n].push(T)}if(N.afterContentClassName&&n<=x.endLineNumber&&x.endLineNumber<=a){const T=new f.$t(new B.e(x.endLineNumber,x.endColumn,x.endLineNumber,x.endColumn),N.afterContentClassName,2);u[x.endLineNumber-n].push(T)}}return{decorations:C,inlineDecorations:u}}}function A(p,l){return!(l.options.hideInCommentTokens&&M(p,l)||l.options.hideInStringTokens&&E(p,l))}function M(p,l){return R(p,l.range,d=>d===1)}function E(p,l){return R(p,l.range,d=>d===2)}function R(p,l,d){for(let g=l.startLineNumber;g<=l.endLineNumber;g++){const n=p.tokenization.getLineTokens(g),a=g===l.startLineNumber,C=g===l.endLineNumber;let D=a?n.findTokenIndexAtOffset(l.startColumn-1):0;for(;D<n.getCount()&&!(C&&n.getStartOffset(D)>l.endColumn-1);){if(!d(n.getStandardTokenType(D)))return!1;D++}}return!0}},91845:function(Ot,He,i){"use strict";i.r(He),i.d(He,{SelectionAnchorSet:function(){return d}});var m=i(79874),B=i(69008),f=i(94880),_=i(55298),v=i(57841),A=i(21081),M=i(26386),E=i(76826),R=function(u,S,w,L){var N=arguments.length,O=N<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,w):L,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(u,S,w,L);else for(var T=u.length-1;T>=0;T--)(x=u[T])&&(O=(N<3?x(O):N>3?x(S,w,O):x(S,w))||O);return N>3&&O&&Object.defineProperty(S,w,O),O},p=function(u,S){return function(w,L){S(w,L,u)}},l=function(u,S,w,L){function N(O){return O instanceof w?O:new w(function(x){x(O)})}return new(w||(w=Promise))(function(O,x){function T(K){try{U(L.next(K))}catch(G){x(G)}}function W(K){try{U(L.throw(K))}catch(G){x(G)}}function U(K){K.done?O(K.value):N(K.value).then(T,W)}U((L=L.apply(u,S||[])).next())})};const d=new E.uy("selectionAnchorSet",!1);let g=class gh{static get(S){return S.getContribution(gh.ID)}constructor(S,w){this.editor=S,this.selectionAnchorSetContextKey=d.bindTo(w),this.modelChangeListener=S.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const S=this.editor.getPosition();this.editor.changeDecorations(w=>{this.decorationId&&w.removeDecoration(this.decorationId),this.decorationId=w.addDecoration(v.Y.fromPositions(S,S),{description:"selection-anchor",stickiness:1,hoverMessage:new B.W5().appendText((0,M.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,m.Z9)((0,M.NC)("anchorSet","Anchor set at {0}:{1}",S.lineNumber,S.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const S=this.editor.getModel().getDecorationRange(this.decorationId);S&&this.editor.setPosition(S.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const S=this.editor.getModel().getDecorationRange(this.decorationId);if(S){const w=this.editor.getPosition();this.editor.setSelection(v.Y.fromPositions(S.getStartPosition(),w)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const S=this.decorationId;this.editor.changeDecorations(w=>{w.removeDecoration(S),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};g.ID="editor.contrib.selectionAnchorController",g=R([p(1,E.i6)],g);class n extends _.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,M.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,f.gx)(2089,2080),weight:100}})}run(S,w){var L;return l(this,void 0,void 0,function*(){(L=g.get(w))===null||L===void 0||L.setSelectionAnchor()})}}class a extends _.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,M.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:d})}run(S,w){var L;return l(this,void 0,void 0,function*(){(L=g.get(w))===null||L===void 0||L.goToSelectionAnchor()})}}class C extends _.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,M.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:d,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,f.gx)(2089,2089),weight:100}})}run(S,w){var L;return l(this,void 0,void 0,function*(){(L=g.get(w))===null||L===void 0||L.selectFromAnchorToCursor()})}}class D extends _.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,M.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:d,kbOpts:{kbExpr:A.u.editorTextFocus,primary:9,weight:100}})}run(S,w){var L;return l(this,void 0,void 0,function*(){(L=g.get(w))===null||L===void 0||L.cancelSelectionAnchor()})}}(0,_._K)(g.ID,g,4),(0,_.Qr)(n),(0,_.Qr)(a),(0,_.Qr)(C),(0,_.Qr)(D)},78295:function(Ot,He,i){"use strict";i.r(He),i.d(He,{BracketMatchingController:function(){return S}});var m=i(13484),B=i(38431),f=i(55298),_=i(8964),v=i(50038),A=i(57841),M=i(21081),E=i(41913),R=i(45007),p=i(26386),l=i(21208),d=i(92537),g=i(58566);const n=(0,d.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},p.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class a extends f.R6{constructor(){super({id:"editor.action.jumpToBracket",label:p.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:M.u.editorTextFocus,primary:3160,weight:100}})}run(L,N){var O;(O=S.get(N))===null||O===void 0||O.jumpToBracket()}}class C extends f.R6{constructor(){super({id:"editor.action.selectToBracket",label:p.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(L,N,O){var x;let T=!0;O&&O.selectBrackets===!1&&(T=!1),(x=S.get(N))===null||x===void 0||x.selectToBracket(T)}}class D extends f.R6{constructor(){super({id:"editor.action.removeBrackets",label:p.NC("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:M.u.editorTextFocus,primary:2561,weight:100}})}run(L,N){var O;(O=S.get(N))===null||O===void 0||O.removeBrackets(this.id)}}class u{constructor(L,N,O){this.position=L,this.brackets=N,this.options=O}}class S extends B.JT{static get(L){return L.getContribution(S.ID)}constructor(L){super(),this._editor=L,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new m.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(69),this._updateBracketsSoon.schedule(),this._register(L.onDidChangeCursorPosition(N=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(L.onDidChangeModelContent(N=>{this._updateBracketsSoon.schedule()})),this._register(L.onDidChangeModel(N=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(L.onDidChangeModelLanguageConfiguration(N=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(L.onDidChangeConfiguration(N=>{N.hasChanged(69)&&(this._matchBrackets=this._editor.getOption(69),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(L.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(L.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const L=this._editor.getModel(),N=this._editor.getSelections().map(O=>{const x=O.getStartPosition(),T=L.bracketPairs.matchBracket(x);let W=null;if(T)T[0].containsPosition(x)&&!T[1].containsPosition(x)?W=T[1].getStartPosition():T[1].containsPosition(x)&&(W=T[0].getStartPosition());else{const U=L.bracketPairs.findEnclosingBrackets(x);if(U)W=U[1].getStartPosition();else{const K=L.bracketPairs.findNextBracket(x);K&&K.range&&(W=K.range.getStartPosition())}}return W?new A.Y(W.lineNumber,W.column,W.lineNumber,W.column):new A.Y(x.lineNumber,x.column,x.lineNumber,x.column)});this._editor.setSelections(N),this._editor.revealRange(N[0])}selectToBracket(L){if(!this._editor.hasModel())return;const N=this._editor.getModel(),O=[];this._editor.getSelections().forEach(x=>{const T=x.getStartPosition();let W=N.bracketPairs.matchBracket(T);if(!W&&(W=N.bracketPairs.findEnclosingBrackets(T),!W)){const G=N.bracketPairs.findNextBracket(T);G&&G.range&&(W=N.bracketPairs.matchBracket(G.range.getStartPosition()))}let U=null,K=null;if(W){W.sort(v.e.compareRangesUsingStarts);const[G,z]=W;if(U=L?G.getStartPosition():G.getEndPosition(),K=L?z.getEndPosition():z.getStartPosition(),z.containsPosition(T)){const k=U;U=K,K=k}}U&&K&&O.push(new A.Y(U.lineNumber,U.column,K.lineNumber,K.column))}),O.length>0&&(this._editor.setSelections(O),this._editor.revealRange(O[0]))}removeBrackets(L){if(!this._editor.hasModel())return;const N=this._editor.getModel();this._editor.getSelections().forEach(O=>{const x=O.getPosition();let T=N.bracketPairs.matchBracket(x);T||(T=N.bracketPairs.findEnclosingBrackets(x)),T&&(this._editor.pushUndoStop(),this._editor.executeEdits(L,[{range:T[0],text:""},{range:T[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const L=[];let N=0;for(const O of this._lastBracketsData){const x=O.brackets;x&&(L[N++]={range:x[0],options:O.options},L[N++]={range:x[1],options:O.options})}this._decorations.set(L)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const L=this._editor.getSelections();if(L.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const N=this._editor.getModel(),O=N.getVersionId();let x=[];this._lastVersionId===O&&(x=this._lastBracketsData);const T=[];let W=0;for(let k=0,q=L.length;k<q;k++){const te=L[k];te.isEmpty()&&(T[W++]=te.getStartPosition())}T.length>1&&T.sort(_.L.compare);const U=[];let K=0,G=0;const z=x.length;for(let k=0,q=T.length;k<q;k++){const te=T[k];for(;G<z&&x[G].position.isBefore(te);)G++;if(G<z&&x[G].position.equals(te))U[K++]=x[G];else{let X=N.bracketPairs.matchBracket(te,20),j=S._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!X&&this._matchBrackets==="always"&&(X=N.bracketPairs.findEnclosingBrackets(te,20),j=S._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),U[K++]=new u(te,X,j)}}this._lastBracketsData=U,this._lastVersionId=O}}S.ID="editor.contrib.bracketMatchingController",S._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=R.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,g.EN)(n),position:E.sh.Center}}),S._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=R.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,f._K)(S.ID,S,1),(0,f.Qr)(C),(0,f.Qr)(a),(0,f.Qr)(D),l.BH.appendMenuItem(l.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:p.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},65253:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(21081),f=i(50038),_=i(57841);class v{constructor(l,d){this._selection=l,this._isMovingLeft=d}getEditOperations(l,d){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const g=this._selection.startLineNumber,n=this._selection.startColumn,a=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&a===l.getLineMaxColumn(g)))if(this._isMovingLeft){const C=new f.e(g,n-1,g,n),D=l.getValueInRange(C);d.addEditOperation(C,null),d.addEditOperation(new f.e(g,a,g,a),D)}else{const C=new f.e(g,a,g,a+1),D=l.getValueInRange(C);d.addEditOperation(C,null),d.addEditOperation(new f.e(g,n,g,n),D)}}computeCursorState(l,d){return this._isMovingLeft?new _.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new _.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var A=i(26386);class M extends m.R6{constructor(l,d){super(d),this.left=l}run(l,d){if(!d.hasModel())return;const g=[],n=d.getSelections();for(const a of n)g.push(new v(a,this.left));d.pushUndoStop(),d.executeCommands(this.id,g),d.pushUndoStop()}}class E extends M{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:A.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:B.u.writable})}}class R extends M{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:A.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:B.u.writable})}}(0,m.Qr)(E),(0,m.Qr)(R)},75845:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(38050),f=i(27319),_=i(50038),v=i(21081),A=i(26386);class M extends m.R6{constructor(){super({id:"editor.action.transposeLetters",label:A.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:v.u.writable,kbOpts:{kbExpr:v.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(R,p){if(!p.hasModel())return;const l=p.getModel(),d=[],g=p.getSelections();for(const n of g){if(!n.isEmpty())continue;const a=n.startLineNumber,C=n.startColumn,D=l.getLineMaxColumn(a);if(a===1&&(C===1||C===2&&D===2))continue;const u=C===D?n.getPosition():f.o.rightPosition(l,n.getPosition().lineNumber,n.getPosition().column),S=f.o.leftPosition(l,u),w=f.o.leftPosition(l,S),L=l.getValueInRange(_.e.fromPositions(w,S)),N=l.getValueInRange(_.e.fromPositions(S,u)),O=_.e.fromPositions(w,u);d.push(new B.T4(O,N+L))}d.length>0&&(p.pushUndoStop(),p.executeCommands(this.id,d),p.pushUndoStop())}}(0,m.Qr)(M)},78788:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CopyAction:function(){return u},CutAction:function(){return D},PasteAction:function(){return S}});var m=i(71488),B=i(11138),f=i(10521),_=i(55298),v=i(5603),A=i(21081),M=i(26386),E=i(21208),R=i(51941),p=i(76826),l=function(N,O,x,T){function W(U){return U instanceof x?U:new x(function(K){K(U)})}return new(x||(x=Promise))(function(U,K){function G(q){try{k(T.next(q))}catch(te){K(te)}}function z(q){try{k(T.throw(q))}catch(te){K(te)}}function k(q){q.done?U(q.value):W(q.value).then(G,z)}k((T=T.apply(N,O||[])).next())})};const d="9_cutcopypaste",g=B.tY||document.queryCommandSupported("cut"),n=B.tY||document.queryCommandSupported("copy"),a=typeof navigator.clipboard=="undefined"||m.isFirefox?document.queryCommandSupported("paste"):!0;function C(N){return N.register(),N}const D=g?C(new _.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:B.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:E.eH.EditorContext,group:d,title:M.NC("actions.clipboard.cutLabel","Cut"),when:A.u.writable,order:1},{menuId:E.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:E.eH.SimpleEditorContext,group:d,title:M.NC("actions.clipboard.cutLabel","Cut"),when:A.u.writable,order:1}]})):void 0,u=n?C(new _.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:B.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:E.eH.EditorContext,group:d,title:M.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:E.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:E.eH.SimpleEditorContext,group:d,title:M.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;E.BH.appendMenuItem(E.eH.MenubarEditMenu,{submenu:E.eH.MenubarCopy,title:{value:M.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),E.BH.appendMenuItem(E.eH.EditorContext,{submenu:E.eH.EditorContextCopy,title:{value:M.NC("copy as","Copy As"),original:"Copy As"},group:d,order:3}),E.BH.appendMenuItem(E.eH.EditorContext,{submenu:E.eH.EditorContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1,when:p.Ao.and(p.Ao.notEquals("resourceScheme","output"),A.u.editorTextFocus)}),E.BH.appendMenuItem(E.eH.EditorTitleContext,{submenu:E.eH.EditorTitleContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1}),E.BH.appendMenuItem(E.eH.ExplorerContext,{submenu:E.eH.ExplorerContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const S=a?C(new _.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:B.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:E.eH.EditorContext,group:d,title:M.NC("actions.clipboard.pasteLabel","Paste"),when:A.u.writable,order:4},{menuId:E.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:E.eH.SimpleEditorContext,group:d,title:M.NC("actions.clipboard.pasteLabel","Paste"),when:A.u.writable,order:4}]})):void 0;class w extends _.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:M.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:A.u.textInputFocus,primary:0,weight:100}})}run(O,x){!x.hasModel()||!x.getOption(35)&&x.getSelection().isEmpty()||(f.RA.forceCopyWithSyntaxHighlighting=!0,x.focus(),document.execCommand("copy"),f.RA.forceCopyWithSyntaxHighlighting=!1)}}function L(N,O){N&&(N.addImplementation(1e4,"code-editor",(x,T)=>{const W=x.get(v.$).getFocusedCodeEditor();if(W&&W.hasTextFocus()){const U=W.getOption(35),K=W.getSelection();return K&&K.isEmpty()&&!U||document.execCommand(O),!0}return!1}),N.addImplementation(0,"generic-dom",(x,T)=>(document.execCommand(O),!0)))}L(D,"cut"),L(u,"copy"),S&&(S.addImplementation(1e4,"code-editor",(N,O)=>{const x=N.get(v.$),T=N.get(R.p),W=x.getFocusedCodeEditor();return W&&W.hasTextFocus()?!document.execCommand("paste")&&B.$L?(()=>l(void 0,void 0,void 0,function*(){const K=yield T.readText();if(K!==""){const G=f.Nl.INSTANCE.get(K);let z=!1,k=null,q=null;G&&(z=W.getOption(35)&&!!G.isFromEmptySelection,k=typeof G.multicursorText!="undefined"?G.multicursorText:null,q=G.mode),W.trigger("keyboard","paste",{text:K,pasteOnNewLine:z,multicursorText:k,mode:q})}}))():!0:!1}),S.addImplementation(0,"generic-dom",(N,O)=>(document.execCommand("paste"),!0))),n&&(0,_.Qr)(w)},83915:function(Ot,He,i){"use strict";i.d(He,{Bb:function(){return N},LR:function(){return te},MN:function(){return O},RB:function(){return S},TM:function(){return T},UX:function(){return q},aI:function(){return K},cz:function(){return w},pZ:function(){return L},uH:function(){return x}});var m=i(16308),B=i(97464),f=i(20996),_=i(38431),v=i(28919),A=i(53028),M=i(50038),E=i(57841),R=i(35921),p=i(65041),l=i(44426),d=i(26386),g=i(80793),n=i(97968),a=i(79969),C=i(68554),D=i(66129),u=function(j,J,Y,ee){function fe(De){return De instanceof Y?De:new Y(function(Ne){Ne(De)})}return new(Y||(Y=Promise))(function(De,Ne){function be(ue){try{Le(ee.next(ue))}catch(re){Ne(re)}}function xe(ue){try{Le(ee.throw(ue))}catch(re){Ne(re)}}function Le(ue){ue.done?De(ue.value):fe(ue.value).then(be,xe)}Le((ee=ee.apply(j,J||[])).next())})};const S="editor.action.codeAction",w="editor.action.quickFix",L="editor.action.autoFix",N="editor.action.refactor",O="editor.action.sourceAction",x="editor.action.organizeImports",T="editor.action.fixAll";class W extends _.JT{static codeActionsPreferredComparator(J,Y){return J.isPreferred&&!Y.isPreferred?-1:!J.isPreferred&&Y.isPreferred?1:0}static codeActionsComparator({action:J},{action:Y}){return(0,m.Of)(J.diagnostics)?(0,m.Of)(Y.diagnostics)?W.codeActionsPreferredComparator(J,Y):-1:(0,m.Of)(Y.diagnostics)?1:W.codeActionsPreferredComparator(J,Y)}constructor(J,Y,ee){super(),this.documentation=Y,this._register(ee),this.allActions=[...J].sort(W.codeActionsComparator),this.validActions=this.allActions.filter(({action:fe})=>!fe.disabled)}get hasAutoFix(){return this.validActions.some(({action:J})=>!!J.kind&&D.yN.QuickFix.contains(new D.yN(J.kind))&&!!J.isPreferred)}}const U={actions:[],documentation:void 0};function K(j,J,Y,ee,fe,De){var Ne;return u(this,void 0,void 0,function*(){const be=ee.filter||{},xe={only:(Ne=be.include)===null||Ne===void 0?void 0:Ne.value,trigger:ee.type},Le=new l.YQ(J,De),ue=G(j,J,be),re=new _.SL,_e=ue.map(Qe=>u(this,void 0,void 0,function*(){try{fe.report(Qe);const Re=yield Qe.provideCodeActions(J,Y,xe,Le.token);if(Re&&re.add(Re),Le.token.isCancellationRequested)return U;const ie=((Re==null?void 0:Re.actions)||[]).filter(se=>se&&(0,D.Yl)(be,se)),Z=k(Qe,ie,be.include);return{actions:ie.map(se=>new D.bA(se,Qe)),documentation:Z}}catch(Re){if((0,f.n2)(Re))throw Re;return(0,f.Cp)(Re),U}})),Ue=j.onDidChange(()=>{const Qe=j.all(J);(0,m.fS)(Qe,ue)||Le.cancel()});try{const Qe=yield Promise.all(_e),Re=Qe.map(Z=>Z.actions).flat(),ie=[...(0,m.kX)(Qe.map(Z=>Z.documentation)),...z(j,J,ee,Re)];return new W(Re,ie,re)}finally{Ue.dispose(),Le.dispose()}})}function G(j,J,Y){return j.all(J).filter(ee=>ee.providedCodeActionKinds?ee.providedCodeActionKinds.some(fe=>(0,D.EU)(Y,new D.yN(fe))):!0)}function*z(j,J,Y,ee){var fe,De,Ne;if(J&&ee.length)for(const be of j.all(J))be._getAdditionalMenuItems&&(yield*(fe=be._getAdditionalMenuItems)===null||fe===void 0?void 0:fe.call(be,{trigger:Y.type,only:(Ne=(De=Y.filter)===null||De===void 0?void 0:De.include)===null||Ne===void 0?void 0:Ne.value},ee.map(xe=>xe.action)))}function k(j,J,Y){if(!j.documentation)return;const ee=j.documentation.map(fe=>({kind:new D.yN(fe.kind),command:fe.command}));if(Y){let fe;for(const De of ee)De.kind.contains(Y)&&(fe?fe.kind.contains(De.kind)&&(fe=De):fe=De);if(fe)return fe==null?void 0:fe.command}for(const fe of J)if(fe.kind){for(const De of ee)if(De.kind.contains(new D.yN(fe.kind)))return De.command}}var q;(function(j){j.OnSave="onSave",j.FromProblemsView="fromProblemsView",j.FromCodeActions="fromCodeActions"})(q||(q={}));function te(j,J,Y,ee,fe=B.T.None){var De;return u(this,void 0,void 0,function*(){const Ne=j.get(A.vu),be=j.get(g.H),xe=j.get(C.b),Le=j.get(n.lT);if(xe.publicLog2("codeAction.applyCodeAction",{codeActionTitle:J.action.title,codeActionKind:J.action.kind,codeActionIsPreferred:!!J.action.isPreferred,reason:Y}),yield J.resolve(fe),!fe.isCancellationRequested&&!(!((De=J.action.edit)===null||De===void 0)&&De.edits.length&&!(yield Ne.apply(J.action.edit,{editor:ee==null?void 0:ee.editor,label:J.action.title,quotableLabel:J.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:Y!==q.OnSave,showPreview:ee==null?void 0:ee.preview})).isApplied)&&J.action.command)try{yield be.executeCommand(J.action.command.id,...J.action.command.arguments||[])}catch(ue){const re=X(ue);Le.error(typeof re=="string"?re:d.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function X(j){return typeof j=="string"?j:j instanceof Error&&typeof j.message=="string"?j.message:void 0}g.P.registerCommand("_executeCodeActionProvider",function(j,J,Y,ee,fe){return u(this,void 0,void 0,function*(){if(!(J instanceof v.o))throw(0,f.b1)();const{codeActionProvider:De}=j.get(R.p),Ne=j.get(p.q).getModel(J);if(!Ne)throw(0,f.b1)();const be=E.Y.isISelection(Y)?E.Y.liftSelection(Y):M.e.isIRange(Y)?Ne.validateRange(Y):void 0;if(!be)throw(0,f.b1)();const xe=typeof ee=="string"?new D.yN(ee):void 0,Le=yield K(De,Ne,be,{type:1,triggerAction:D.aQ.Default,filter:{includeSourceActions:!0,include:xe}},a.Ex.None,B.T.None),ue=[],re=Math.min(Le.validActions.length,typeof fe=="number"?fe:0);for(let _e=0;_e<re;_e++)ue.push(Le.validActions[_e].resolve(B.T.None));try{return yield Promise.all(ue),Le.validActions.map(_e=>_e.action)}finally{setTimeout(()=>Le.dispose(),100)}})})},58927:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(86689),f=i(17416),_=i(21081),v=i(83915),A=i(26386),M=i(76826),E=i(66129),R=i(15202),p=i(37295);function l(x){return M.Ao.regex(p.fj.keys()[0],new RegExp("(\\s|^)"+(0,f.ec)(x.value)+"\\b"))}const d={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:A.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:A.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[A.NC("args.schema.apply.first","Always apply the first returned code action."),A.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),A.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:A.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function g(x,T,W,U,K=E.aQ.Default){if(x.hasModel()){const G=R.G.get(x);G==null||G.manualTriggerAtCurrentPosition(T,K,W,U)}}class n extends m.R6{constructor(){super({id:v.cz,label:A.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:M.Ao.and(_.u.writable,_.u.hasCodeActionsProvider),kbOpts:{kbExpr:_.u.textInputFocus,primary:2132,weight:100}})}run(T,W){return g(W,A.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,E.aQ.QuickFix)}}class a extends m._l{constructor(){super({id:v.RB,precondition:M.Ao.and(_.u.writable,_.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:d}]}})}runEditorCommand(T,W,U){const K=E.wZ.fromUser(U,{kind:E.yN.Empty,apply:"ifSingle"});return g(W,typeof(U==null?void 0:U.kind)=="string"?K.preferred?A.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",U.kind):A.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",U.kind):K.preferred?A.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):A.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:K.kind,includeSourceActions:!0,onlyIncludePreferredActions:K.preferred},K.apply)}}class C extends m.R6{constructor(){super({id:v.Bb,label:A.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:M.Ao.and(_.u.writable,_.u.hasCodeActionsProvider),kbOpts:{kbExpr:_.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:M.Ao.and(_.u.writable,l(E.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:d}]}})}run(T,W,U){const K=E.wZ.fromUser(U,{kind:E.yN.Refactor,apply:"never"});return g(W,typeof(U==null?void 0:U.kind)=="string"?K.preferred?A.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",U.kind):A.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",U.kind):K.preferred?A.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):A.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:E.yN.Refactor.contains(K.kind)?K.kind:E.yN.None,onlyIncludePreferredActions:K.preferred},K.apply,E.aQ.Refactor)}}class D extends m.R6{constructor(){super({id:v.MN,label:A.NC("source.label","Source Action..."),alias:"Source Action...",precondition:M.Ao.and(_.u.writable,_.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:M.Ao.and(_.u.writable,l(E.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:d}]}})}run(T,W,U){const K=E.wZ.fromUser(U,{kind:E.yN.Source,apply:"never"});return g(W,typeof(U==null?void 0:U.kind)=="string"?K.preferred?A.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",U.kind):A.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",U.kind):K.preferred?A.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):A.NC("editor.action.source.noneMessage","No source actions available"),{include:E.yN.Source.contains(K.kind)?K.kind:E.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:K.preferred},K.apply,E.aQ.SourceAction)}}class u extends m.R6{constructor(){super({id:v.uH,label:A.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:M.Ao.and(_.u.writable,l(E.yN.SourceOrganizeImports)),kbOpts:{kbExpr:_.u.textInputFocus,primary:1581,weight:100}})}run(T,W){return g(W,A.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:E.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",E.aQ.OrganizeImports)}}class S extends m.R6{constructor(){super({id:v.TM,label:A.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:M.Ao.and(_.u.writable,l(E.yN.SourceFixAll))})}run(T,W){return g(W,A.NC("fixAll.noneMessage","No fix all action available"),{include:E.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",E.aQ.FixAll)}}class w extends m.R6{constructor(){super({id:v.pZ,label:A.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:M.Ao.and(_.u.writable,l(E.yN.QuickFix)),kbOpts:{kbExpr:_.u.textInputFocus,primary:1620,mac:{primary:2644},weight:100}})}run(T,W){return g(W,A.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:E.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",E.aQ.AutoFix)}}var L=i(78417),N=i(12326),O=i(6325);(0,m._K)(R.G.ID,R.G,3),(0,m._K)(L.f.ID,L.f,4),(0,m.Qr)(n),(0,m.Qr)(C),(0,m.Qr)(D),(0,m.Qr)(u),(0,m.Qr)(w),(0,m.Qr)(S),(0,m.fK)(new a),O.B.as(N.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},B.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:A.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}))},15202:function(Ot,He,i){"use strict";i.d(He,{G:function(){return ge}});var m=i(51280),B=i(38431),f=i(35921),_=i(83915),v=i(34441),A=i(20996),M=i(8964),E=i(66129),R=i(62297),p=function(Ce,me,Me,qe){var ot=arguments.length,ut=ot<3?me:qe===null?qe=Object.getOwnPropertyDescriptor(me,Me):qe,ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(Ce,me,Me,qe);else for(var Ct=Ce.length-1;Ct>=0;Ct--)(ht=Ce[Ct])&&(ut=(ot<3?ht(ut):ot>3?ht(me,Me,ut):ht(me,Me))||ut);return ot>3&&ut&&Object.defineProperty(me,Me,ut),ut},l=function(Ce,me){return function(Me,qe){me(Me,qe,Ce)}};let d=class mh{constructor(me){this.keybindingService=me}getResolver(){const me=new m.o(()=>this.keybindingService.getKeybindings().filter(Me=>mh.codeActionCommands.indexOf(Me.command)>=0).filter(Me=>Me.resolvedKeybinding).map(Me=>{let qe=Me.commandArgs;return Me.command===_.uH?qe={kind:E.yN.SourceOrganizeImports.value}:Me.command===_.TM&&(qe={kind:E.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:Me.resolvedKeybinding},E.wZ.fromUser(qe,{kind:E.yN.None,apply:"never"}))}));return Me=>{if(Me.kind){const qe=this.bestKeybindingForCodeAction(Me,me.value);return qe==null?void 0:qe.resolvedKeybinding}}}bestKeybindingForCodeAction(me,Me){if(!me.kind)return;const qe=new E.yN(me.kind);return Me.filter(ot=>ot.kind.contains(qe)).filter(ot=>ot.preferred?me.isPreferred:!0).reduceRight((ot,ut)=>ot?ot.kind.contains(ut.kind)?ut:ot:ut,void 0)}};d.codeActionCommands=[_.Bb,_.RB,_.MN,_.uH,_.TM],d=p([l(0,R.d)],d);var g=i(89467),n=i(407),a=i(27187),C=i(26386);const D=Object.freeze({kind:E.yN.Empty,title:(0,C.NC)("codeAction.widget.id.more","More Actions...")}),u=Object.freeze([{kind:E.yN.QuickFix,title:(0,C.NC)("codeAction.widget.id.quickfix","Quick Fix...")},{kind:E.yN.RefactorExtract,title:(0,C.NC)("codeAction.widget.id.extract","Extract..."),icon:n.l.wrench},{kind:E.yN.RefactorInline,title:(0,C.NC)("codeAction.widget.id.inline","Inline..."),icon:n.l.wrench},{kind:E.yN.RefactorRewrite,title:(0,C.NC)("codeAction.widget.id.convert","Rewrite..."),icon:n.l.wrench},{kind:E.yN.RefactorMove,title:(0,C.NC)("codeAction.widget.id.move","Move..."),icon:n.l.wrench},{kind:E.yN.SurroundWith,title:(0,C.NC)("codeAction.widget.id.surround","Surround With..."),icon:n.l.symbolSnippet},{kind:E.yN.Source,title:(0,C.NC)("codeAction.widget.id.source","Source Action..."),icon:n.l.symbolFile},D]);function S(Ce,me,Me){if(!me)return Ce.map(ut=>({kind:"action",item:ut,group:D,disabled:!!ut.action.disabled,label:ut.action.disabled||ut.action.title}));const qe=u.map(ut=>({group:ut,actions:[]}));for(const ut of Ce){const ht=ut.action.kind?new E.yN(ut.action.kind):E.yN.None;for(const Ct of qe)if(Ct.group.kind.contains(ht)){Ct.actions.push(ut);break}}const ot=[];for(const ut of qe)if(ut.actions.length){ot.push({kind:"header",group:ut.group});for(const ht of ut.actions)ot.push({kind:"action",item:ht,group:ut.group,label:ht.action.title,disabled:!!ht.action.disabled,keybinding:Me(ht.action)})}return ot}var w=i(91591),L=i(67235),N=i(40186),O=i(75490),x=i(11138),T=i(8216),W=i(36953),U=i(60140),K=i(92537),G=function(Ce,me,Me,qe){var ot=arguments.length,ut=ot<3?me:qe===null?qe=Object.getOwnPropertyDescriptor(me,Me):qe,ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(Ce,me,Me,qe);else for(var Ct=Ce.length-1;Ct>=0;Ct--)(ht=Ce[Ct])&&(ut=(ot<3?ht(ut):ot>3?ht(me,Me,ut):ht(me,Me))||ut);return ot>3&&ut&&Object.defineProperty(me,Me,ut),ut},z=function(Ce,me){return function(Me,qe){me(Me,qe,Ce)}};const k="acceptSelectedCodeAction",q="previewSelectedCodeAction";class te{get templateId(){return"header"}renderTemplate(me){me.classList.add("group-header");const Me=document.createElement("span");return me.append(Me),{container:me,text:Me}}renderElement(me,Me,qe){var ot,ut;qe.text.textContent=(ut=(ot=me.group)===null||ot===void 0?void 0:ot.title)!==null&&ut!==void 0?ut:""}disposeTemplate(me){}}let X=class{get templateId(){return"action"}constructor(me,Me){this._supportsPreview=me,this._keybindingService=Me}renderTemplate(me){me.classList.add(this.templateId);const Me=document.createElement("div");Me.className="icon",me.append(Me);const qe=document.createElement("span");qe.className="title",me.append(qe);const ot=new N.e(me,x.OS);return{container:me,icon:Me,text:qe,keybinding:ot}}renderElement(me,Me,qe){var ot,ut,ht;if(!((ot=me.group)===null||ot===void 0)&&ot.icon?(qe.icon.className=T.k.asClassName(me.group.icon),me.group.icon.color&&(qe.icon.style.color=(0,K.n_1)(me.group.icon.color.id))):(qe.icon.className=T.k.asClassName(n.l.lightBulb),qe.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!me.item||!me.label)return;qe.text.textContent=ee(me.label),qe.keybinding.set(me.keybinding),v.iJ(!!me.keybinding,qe.keybinding.element);const Ct=(ut=this._keybindingService.lookupKeybinding(k))===null||ut===void 0?void 0:ut.getLabel(),Pt=(ht=this._keybindingService.lookupKeybinding(q))===null||ht===void 0?void 0:ht.getLabel();qe.container.classList.toggle("option-disabled",me.disabled),me.disabled?qe.container.title=me.label:Ct&&Pt?this._supportsPreview?qe.container.title=(0,C.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",Ct,Pt):qe.container.title=(0,C.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",Ct):qe.container.title=""}disposeTemplate(me){}};X=G([z(1,R.d)],X);class j extends UIEvent{constructor(){super("acceptSelectedAction")}}class J extends UIEvent{constructor(){super("previewSelectedAction")}}let Y=class extends B.JT{constructor(me,Me,qe,ot,ut,ht){super(),this._delegate=ot,this._contextViewService=ut,this._keybindingService=ht,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const Ct={getHeight:Pt=>Pt.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:Pt=>Pt.kind};this._list=this._register(new O.aV(me,this.domNode,Ct,[new X(Me,this._keybindingService),new te],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:Pt=>{if(Pt.kind==="action"){let bt=Pt.label?ee(Pt==null?void 0:Pt.label):"";return Pt.disabled&&(bt=(0,C.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",bt,Pt.disabled)),bt}return null},getWidgetAriaLabel:()=>(0,C.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:Pt=>Pt.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(U.O2),this._register(this._list.onMouseClick(Pt=>this.onListClick(Pt))),this._register(this._list.onMouseOver(Pt=>this.onListHover(Pt))),this._register(this._list.onDidChangeFocus(()=>this._list.domFocus())),this._register(this._list.onDidChangeSelection(Pt=>this.onListSelection(Pt))),this._allMenuItems=qe,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(me){return!me.disabled&&me.kind==="action"}hide(me){this._delegate.onHide(me),this._contextViewService.hideContextView()}layout(me){const Me=this._allMenuItems.filter(bt=>bt.kind==="header").length,ot=this._allMenuItems.length*this._actionLineHeight+Me*this._headerLineHeight-Me*this._actionLineHeight;this._list.layout(ot);const ut=this._allMenuItems.map((bt,$t)=>{const Mt=document.getElementById(this._list.getElementID($t));if(Mt){Mt.style.width="auto";const Xe=Mt.getBoundingClientRect().width;return Mt.style.width="",Xe}return 0}),ht=Math.max(...ut,me),Ct=.7,Pt=Math.min(ot,document.body.clientHeight*Ct);return this._list.layout(Pt,ht),this.domNode.style.height=`${Pt}px`,this._list.domFocus(),ht}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(me){const Me=this._list.getFocus();if(Me.length===0)return;const qe=Me[0],ot=this._list.element(qe);if(!this.focusCondition(ot))return;const ut=me?new J:new j;this._list.setSelection([qe],ut)}onListSelection(me){if(!me.elements.length)return;const Me=me.elements[0];Me.item&&this.focusCondition(Me)?this._delegate.onSelect(Me.item,me.browserEvent instanceof J):this._list.setSelection([])}onListHover(me){this._list.setFocus(typeof me.index=="number"?[me.index]:[])}onListClick(me){me.element&&this.focusCondition(me.element)&&this._list.setFocus([])}};Y=G([z(4,W.u),z(5,R.d)],Y);function ee(Ce){return Ce.replace(/\r\n|\r|\n/g," ")}var fe=i(21208),De=i(76826),Ne=i(53061),be=i(44333),xe=function(Ce,me,Me,qe){var ot=arguments.length,ut=ot<3?me:qe===null?qe=Object.getOwnPropertyDescriptor(me,Me):qe,ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(Ce,me,Me,qe);else for(var Ct=Ce.length-1;Ct>=0;Ct--)(ht=Ce[Ct])&&(ut=(ot<3?ht(ut):ot>3?ht(me,Me,ut):ht(me,Me))||ut);return ot>3&&ut&&Object.defineProperty(me,Me,ut),ut},Le=function(Ce,me){return function(Me,qe){me(Me,qe,Ce)}};const ue={Visible:new De.uy("codeActionMenuVisible",!1,(0,C.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},re=(0,be.yh)("actionWidgetService");let _e=class extends B.JT{get isVisible(){return ue.Visible.getValue(this._contextKeyService)||!1}constructor(me,Me,qe){super(),this._contextViewService=me,this._contextKeyService=Me,this._instantiationService=qe,this._list=this._register(new B.XK)}show(me,Me,qe,ot,ut,ht,Ct){const Pt=ue.Visible.bindTo(this._contextKeyService),bt=this._instantiationService.createInstance(Y,me,Me,qe,ot);this._contextViewService.showContextView({getAnchor:()=>ut,render:$t=>(Pt.set(!0),this._renderWidget($t,bt,Ct!=null?Ct:[])),onHide:$t=>{Pt.reset(),this._onWidgetClosed($t)}},ht,!1)}acceptSelected(me){var Me;(Me=this._list.value)===null||Me===void 0||Me.acceptSelected(me)}focusPrevious(){var me,Me;(Me=(me=this._list)===null||me===void 0?void 0:me.value)===null||Me===void 0||Me.focusPrevious()}focusNext(){var me,Me;(Me=(me=this._list)===null||me===void 0?void 0:me.value)===null||Me===void 0||Me.focusNext()}hide(){var me;(me=this._list.value)===null||me===void 0||me.hide(),this._list.clear()}_renderWidget(me,Me,qe){var ot;const ut=document.createElement("div");if(ut.classList.add("action-widget"),me.appendChild(ut),this._list.value=Me,this._list.value)ut.appendChild(this._list.value.domNode);else throw new Error("List has no value");const ht=new B.SL,Ct=document.createElement("div"),Pt=me.appendChild(Ct);Pt.classList.add("context-view-block"),ht.add(v.nm(Pt,v.tw.MOUSE_DOWN,Xt=>Xt.stopPropagation()));const bt=document.createElement("div"),$t=me.appendChild(bt);$t.classList.add("context-view-pointerBlock"),ht.add(v.nm($t,v.tw.POINTER_MOVE,()=>$t.remove())),ht.add(v.nm($t,v.tw.MOUSE_DOWN,()=>$t.remove()));let Mt=0;if(qe.length){const Xt=this._createActionBar(".action-widget-action-bar",qe);Xt&&(ut.appendChild(Xt.getContainer().parentElement),ht.add(Xt),Mt=Xt.getContainer().offsetWidth)}const Xe=(ot=this._list.value)===null||ot===void 0?void 0:ot.layout(Mt);ut.style.width=`${Xe}px`;const Lt=ht.add(v.go(me));return ht.add(Lt.onDidBlur(()=>this.hide())),ht}_createActionBar(me,Me){if(!Me.length)return;const qe=v.$(me),ot=new L.o(qe);return ot.push(Me,{icon:!1,label:!0}),ot}_onWidgetClosed(me){var Me;(Me=this._list.value)===null||Me===void 0||Me.hide(me)}};_e=xe([Le(0,W.u),Le(1,De.i6),Le(2,be.TG)],_e),(0,Ne.z)(re,_e,1);const Ue=100+1e3;(0,fe.r1)(class extends fe.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,C.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:ue.Visible,keybinding:{weight:Ue,primary:9,secondary:[1033]}})}run(Ce){Ce.get(re).hide()}}),(0,fe.r1)(class extends fe.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,C.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:ue.Visible,keybinding:{weight:Ue,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(Ce){const me=Ce.get(re);me instanceof _e&&me.focusPrevious()}}),(0,fe.r1)(class extends fe.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,C.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:ue.Visible,keybinding:{weight:Ue,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(Ce){const me=Ce.get(re);me instanceof _e&&me.focusNext()}}),(0,fe.r1)(class extends fe.Ke{constructor(){super({id:k,title:{value:(0,C.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:ue.Visible,keybinding:{weight:Ue,primary:3,secondary:[2132]}})}run(Ce){const me=Ce.get(re);me instanceof _e&&me.acceptSelected()}}),(0,fe.r1)(class extends fe.Ke{constructor(){super({id:q,title:{value:(0,C.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:ue.Visible,keybinding:{weight:Ue,primary:2051}})}run(Ce){const me=Ce.get(re);me instanceof _e&&me.acceptSelected(!0)}});var Qe=i(80793),Re=i(71177),ie=i(78417),Z=function(Ce,me,Me,qe){var ot=arguments.length,ut=ot<3?me:qe===null?qe=Object.getOwnPropertyDescriptor(me,Me):qe,ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(Ce,me,Me,qe);else for(var Ct=Ce.length-1;Ct>=0;Ct--)(ht=Ce[Ct])&&(ut=(ot<3?ht(ut):ot>3?ht(me,Me,ut):ht(me,Me))||ut);return ot>3&&ut&&Object.defineProperty(me,Me,ut),ut},se=function(Ce,me){return function(Me,qe){me(Me,qe,Ce)}},ve=function(Ce,me,Me,qe){function ot(ut){return ut instanceof Me?ut:new Me(function(ht){ht(ut)})}return new(Me||(Me=Promise))(function(ut,ht){function Ct($t){try{bt(qe.next($t))}catch(Mt){ht(Mt)}}function Pt($t){try{bt(qe.throw($t))}catch(Mt){ht(Mt)}}function bt($t){$t.done?ut($t.value):ot($t.value).then(Ct,Pt)}bt((qe=qe.apply(Ce,me||[])).next())})},he=function(Ce,me,Me,qe,ot){if(qe==="m")throw new TypeError("Private method is not writable");if(qe==="a"&&!ot)throw new TypeError("Private accessor was defined without a setter");if(typeof me=="function"?Ce!==me||!ot:!me.has(Ce))throw new TypeError("Cannot write private member to an object whose class did not declare it");return qe==="a"?ot.call(Ce,Me):ot?ot.value=Me:me.set(Ce,Me),Me},ce=function(Ce,me,Me,qe){if(Me==="a"&&!qe)throw new TypeError("Private accessor was defined without a getter");if(typeof me=="function"?Ce!==me||!qe:!me.has(Ce))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Me==="m"?qe:Me==="a"?qe.call(Ce):qe?qe.value:me.get(Ce)},Ee;let We=class extends B.JT{constructor(me,Me,qe,ot,ut,ht){super(),this._editor=me,this.delegate=Me,this._configurationService=ot,this._actionWidgetService=ut,this._commandService=ht,this._activeCodeActions=this._register(new B.XK),Ee.set(this,!1),this._showDisabled=!1,this._lightBulbWidget=new m.o(()=>{const Ct=this._editor.getContribution(ie.f.ID);return Ct&&this._register(Ct.onClick(Pt=>this.showCodeActionList(Pt.actions,Pt,{includeDisabledActions:!1,fromLightbulb:!0}))),Ct}),this._resolver=qe.createInstance(d),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){he(this,Ee,!0,"f"),super.dispose()}update(me){var Me,qe,ot,ut,ht,Ct,Pt;return ve(this,void 0,void 0,function*(){if(me.type!==1){(Me=this._lightBulbWidget.rawValue)===null||Me===void 0||Me.hide();return}let bt;try{bt=yield me.actions}catch($t){(0,A.dL)($t);return}if(!ce(this,Ee,"f"))if((qe=this._lightBulbWidget.value)===null||qe===void 0||qe.update(bt,me.trigger,me.position),me.trigger.type===1){if(!((ot=me.trigger.filter)===null||ot===void 0)&&ot.include){const Mt=this.tryGetValidActionToApply(me.trigger,bt);if(Mt){try{(ut=this._lightBulbWidget.value)===null||ut===void 0||ut.hide(),yield this.delegate.applyCodeAction(Mt,!1,!1)}finally{bt.dispose()}return}if(me.trigger.context){const Xe=this.getInvalidActionThatWouldHaveBeenApplied(me.trigger,bt);if(Xe&&Xe.action.disabled){(ht=w.O.get(this._editor))===null||ht===void 0||ht.showMessage(Xe.action.disabled,me.trigger.context.position),bt.dispose();return}}}const $t=!!(!((Ct=me.trigger.filter)===null||Ct===void 0)&&Ct.include);if(me.trigger.context&&(!bt.allActions.length||!$t&&!bt.validActions.length)){(Pt=w.O.get(this._editor))===null||Pt===void 0||Pt.showMessage(me.trigger.context.notAvailableMessage,me.trigger.context.position),this._activeCodeActions.value=bt,bt.dispose();return}this._activeCodeActions.value=bt,this.showCodeActionList(bt,this.toCoords(me.position),{includeDisabledActions:$t,fromLightbulb:!1})}else this._actionWidgetService.isVisible?bt.dispose():this._activeCodeActions.value=bt})}getInvalidActionThatWouldHaveBeenApplied(me,Me){if(Me.allActions.length&&(me.autoApply==="first"&&Me.validActions.length===0||me.autoApply==="ifSingle"&&Me.allActions.length===1))return Me.allActions.find(({action:qe})=>qe.disabled)}tryGetValidActionToApply(me,Me){if(Me.validActions.length&&(me.autoApply==="first"&&Me.validActions.length>0||me.autoApply==="ifSingle"&&Me.validActions.length===1))return Me.validActions[0]}showCodeActionList(me,Me,qe){return ve(this,void 0,void 0,function*(){const ot=this._editor.getDomNode();if(!ot)return;const ut=qe.includeDisabledActions&&(this._showDisabled||me.validActions.length===0)?me.allActions:me.validActions;if(!ut.length)return;const ht=M.L.isIPosition(Me)?this.toCoords(Me):Me,Ct={onSelect:(Pt,bt)=>ve(this,void 0,void 0,function*(){this.delegate.applyCodeAction(Pt,!0,!!bt),this._actionWidgetService.hide()}),onHide:()=>{var Pt;(Pt=this._editor)===null||Pt===void 0||Pt.focus()}};this._actionWidgetService.show("codeActionWidget",!0,S(ut,this._shouldShowHeaders(),this._resolver.getResolver()),Ct,ht,ot,this._getActionBarActions(me,Me,qe))})}toCoords(me){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(me,1),this._editor.render();const Me=this._editor.getScrolledVisiblePosition(me),qe=(0,v.i)(this._editor.getDomNode()),ot=qe.left+Me.left,ut=qe.top+Me.top+Me.height;return{x:ot,y:ut}}_shouldShowHeaders(){var me;const Me=(me=this._editor)===null||me===void 0?void 0:me.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:Me==null?void 0:Me.uri})}_getActionBarActions(me,Me,qe){if(qe.fromLightbulb)return[];const ot=me.documentation.map(ut=>{var ht;return{id:ut.id,label:ut.title,tooltip:(ht=ut.tooltip)!==null&&ht!==void 0?ht:"",class:void 0,enabled:!0,run:()=>{var Ct;return this._commandService.executeCommand(ut.id,...(Ct=ut.arguments)!==null&&Ct!==void 0?Ct:[])}}});return qe.includeDisabledActions&&me.validActions.length>0&&me.allActions.length!==me.validActions.length&&ot.push(this._showDisabled?{id:"hideMoreActions",label:(0,C.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(me,Me,qe))}:{id:"showMoreActions",label:(0,C.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(me,Me,qe))}),ot}};Ee=new WeakMap,We=Z([se(2,be.TG),se(3,Re.Ui),se(4,re),se(5,Qe.H)],We);var it=i(36156),Ze=i(79969),je=i(37295),Te=function(Ce,me,Me,qe){var ot=arguments.length,ut=ot<3?me:qe===null?qe=Object.getOwnPropertyDescriptor(me,Me):qe,ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(Ce,me,Me,qe);else for(var Ct=Ce.length-1;Ct>=0;Ct--)(ht=Ce[Ct])&&(ut=(ot<3?ht(ut):ot>3?ht(me,Me,ut):ht(me,Me))||ut);return ot>3&&ut&&Object.defineProperty(me,Me,ut),ut},Ie=function(Ce,me){return function(Me,qe){me(Me,qe,Ce)}},oe=function(Ce,me,Me,qe){function ot(ut){return ut instanceof Me?ut:new Me(function(ht){ht(ut)})}return new(Me||(Me=Promise))(function(ut,ht){function Ct($t){try{bt(qe.next($t))}catch(Mt){ht(Mt)}}function Pt($t){try{bt(qe.throw($t))}catch(Mt){ht(Mt)}}function bt($t){$t.done?ut($t.value):ot($t.value).then(Ct,Pt)}bt((qe=qe.apply(Ce,me||[])).next())})};let ge=class ph extends B.JT{static get(me){return me.getContribution(ph.ID)}constructor(me,Me,qe,ot,ut,ht){super(),this._instantiationService=ut,this._editor=me,this._model=this._register(new je.Jt(this._editor,ht.codeActionProvider,Me,qe,ot)),this._register(this._model.onDidChangeState(Ct=>this._ui.value.update(Ct))),this._ui=new m.o(()=>this._register(ut.createInstance(We,me,{applyCodeAction:(Ct,Pt,bt)=>oe(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Ct,bt)}finally{Pt&&this._trigger({type:2,triggerAction:E.aQ.QuickFix,filter:{}})}})})))}showCodeActions(me,Me,qe){return this._ui.value.showCodeActionList(Me,qe,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(me,Me,qe,ot){var ut;if(!this._editor.hasModel())return;(ut=w.O.get(this._editor))===null||ut===void 0||ut.closeMessage();const ht=this._editor.getPosition();this._trigger({type:1,triggerAction:Me,filter:qe,autoApply:ot,context:{notAvailableMessage:me,position:ht}})}_trigger(me){return this._model.trigger(me)}_applyCodeAction(me,Me){return this._instantiationService.invokeFunction(_.LR,me,_.UX.FromCodeActions,{preview:Me,editor:this._editor})}};ge.ID="editor.contrib.codeActionController",ge=Te([Ie(1,it.lT),Ie(2,De.i6),Ie(3,Ze.ek),Ie(4,be.TG),Ie(5,f.p)],ge)},37295:function(Ot,He,i){"use strict";i.d(He,{Jt:function(){return D},fj:function(){return g}});var m=i(13484),B=i(20996),f=i(56709),_=i(38431),v=i(6227),A=i(76826),M=i(79969),E=i(66129),R=i(83915),p=function(u,S,w,L){if(w==="a"&&!L)throw new TypeError("Private accessor was defined without a getter");if(typeof S=="function"?u!==S||!L:!S.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?L:w==="a"?L.call(u):L?L.value:S.get(u)},l=function(u,S,w,L,N){if(L==="m")throw new TypeError("Private method is not writable");if(L==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof S=="function"?u!==S||!N:!S.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return L==="a"?N.call(u,w):N?N.value=w:S.set(u,w),w},d;const g=new A.uy("supportedCodeAction","");class n extends _.JT{constructor(S,w,L,N=250){super(),this._editor=S,this._markerService=w,this._signalChange=L,this._delay=N,this._autoTriggerTimer=this._register(new m._F),this._register(this._markerService.onMarkerChanged(O=>this._onMarkerChanges(O))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(S){const w=this._getRangeOfSelectionUnlessWhitespaceEnclosed(S);this._signalChange(w?{trigger:S,selection:w}:void 0)}_onMarkerChanges(S){const w=this._editor.getModel();w&&S.some(L=>(0,v.Xy)(L,w.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:E.aQ.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(S){if(!this._editor.hasModel())return;const w=this._editor.getModel(),L=this._editor.getSelection();if(L.isEmpty()&&S.type===2){const{lineNumber:N,column:O}=L.getPosition(),x=w.getLineContent(N);if(x.length===0)return;if(O===1){if(/\s/.test(x[0]))return}else if(O===w.getLineMaxColumn(N)){if(/\s/.test(x[x.length-1]))return}else if(/\s/.test(x[O-2])&&/\s/.test(x[O-1]))return}return L}}var a;(function(u){u.Empty={type:0};class S{constructor(L,N,O){this.trigger=L,this.position=N,this._cancellablePromise=O,this.type=1,this.actions=O.catch(x=>{if((0,B.n2)(x))return C;throw x})}cancel(){this._cancellablePromise.cancel()}}u.Triggered=S})(a||(a={}));const C=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class D extends _.JT{constructor(S,w,L,N,O){super(),this._editor=S,this._registry=w,this._markerService=L,this._progressService=O,this._codeActionOracle=this._register(new _.XK),this._state=a.Empty,this._onDidChangeState=this._register(new f.Q5),this.onDidChangeState=this._onDidChangeState.event,d.set(this,!1),this._supportedCodeActions=g.bindTo(N),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){p(this,d,"f")||(l(this,d,!0,"f"),super.dispose(),this.setState(a.Empty,!0))}_update(){if(p(this,d,"f"))return;this._codeActionOracle.value=void 0,this.setState(a.Empty);const S=this._editor.getModel();if(S&&this._registry.has(S)&&!this._editor.getOption(87)){const w=this._registry.all(S).flatMap(L=>{var N;return(N=L.providedCodeActionKinds)!==null&&N!==void 0?N:[]});this._supportedCodeActions.set(w.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,L=>{var N;if(!L){this.setState(a.Empty);return}const O=(0,m.PG)(x=>(0,R.aI)(this._registry,S,L.selection,L.trigger,M.Ex.None,x));L.trigger.type===1&&((N=this._progressService)===null||N===void 0||N.showWhile(O,250)),this.setState(new a.Triggered(L.trigger,L.selection.getStartPosition(),O))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:E.aQ.Default})}else this._supportedCodeActions.reset()}trigger(S){var w;(w=this._codeActionOracle.value)===null||w===void 0||w.trigger(S)}setState(S,w){S!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=S,!w&&!p(this,d,"f")&&this._onDidChangeState.fire(S))}}d=new WeakMap},78417:function(Ot,He,i){"use strict";i.d(He,{f:function(){return a}});var m=i(34441),B=i(80265),f=i(407),_=i(56709),v=i(38431),A=i(8216),M=i(14818),E=i(6287),R=i(83915),p=i(26386),l=i(62297),d=function(C,D,u,S){var w=arguments.length,L=w<3?D:S===null?S=Object.getOwnPropertyDescriptor(D,u):S,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,D,u,S);else for(var O=C.length-1;O>=0;O--)(N=C[O])&&(L=(w<3?N(L):w>3?N(D,u,L):N(D,u))||L);return w>3&&L&&Object.defineProperty(D,u,L),L},g=function(C,D){return function(u,S){D(u,S,C)}},n;(function(C){C.Hidden={type:0};class D{constructor(S,w,L,N){this.actions=S,this.trigger=w,this.editorPosition=L,this.widgetPosition=N,this.type=1}}C.Showing=D})(n||(n={}));let a=class vh extends v.JT{constructor(D,u){super(),this._editor=D,this._onClick=this._register(new _.Q5),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=m.$("div.lightBulbWidget"),this._register(B.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(S=>{const w=this._editor.getModel();(this.state.type!==1||!w||this.state.editorPosition.lineNumber>=w.getLineCount())&&this.hide()})),this._register(m.GQ(this._domNode,S=>{if(this.state.type!==1)return;this._editor.focus(),S.preventDefault();const{top:w,height:L}=m.i(this._domNode),N=this._editor.getOption(64);let O=Math.floor(N/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(O+=N),this._onClick.fire({x:S.posx,y:w+L+O,actions:this.state.actions,trigger:this.state.trigger})})),this._register(m.nm(this._domNode,"mouseenter",S=>{(S.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(S=>{S.hasChanged(62)&&!this._editor.getOption(62).enabled&&this.hide()})),this._register(_.ju.runAndSubscribe(u.onDidUpdateKeybindings,()=>{var S,w;this._preferredKbLabel=(0,M.f6)((S=u.lookupKeybinding(R.pZ))===null||S===void 0?void 0:S.getLabel()),this._quickFixKbLabel=(0,M.f6)((w=u.lookupKeybinding(R.cz))===null||w===void 0?void 0:w.getLabel()),this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(D,u,S){if(D.validActions.length<=0)return this.hide();const w=this._editor.getOptions();if(!w.get(62).enabled)return this.hide();const L=this._editor.getModel();if(!L)return this.hide();const{lineNumber:N,column:O}=L.validatePosition(S),x=L.getOptions().tabSize,T=w.get(48),W=L.getLineContent(N),U=(0,E.q)(W,x),K=T.spaceWidth*U>22,G=k=>k>2&&this._editor.getTopForLineNumber(k)===this._editor.getTopForLineNumber(k-1);let z=N;if(!K){if(N>1&&!G(N-1))z-=1;else if(!G(N+1))z+=1;else if(O*T.spaceWidth<22)return this.hide()}this.state=new n.Showing(D,u,S,{position:{lineNumber:z,column:1},preference:vh._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==n.Hidden&&(this.state=n.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(D){this._state=D,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...A.k.asClassNameArray(f.l.lightBulb)),this._domNode.classList.add(...A.k.asClassNameArray(f.l.lightbulbAutofix)),this._preferredKbLabel)){this.title=p.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel);return}this._domNode.classList.remove(...A.k.asClassNameArray(f.l.lightbulbAutofix)),this._domNode.classList.add(...A.k.asClassNameArray(f.l.lightBulb)),this._quickFixKbLabel?this.title=p.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=p.NC("codeAction","Show Code Actions")}set title(D){this._domNode.title=D}};a.ID="editor.contrib.lightbulbWidget",a._posPref=[0],a=d([g(1,l.d)],a)},66129:function(Ot,He,i){"use strict";i.d(He,{EU:function(){return v},Yl:function(){return A},aQ:function(){return _},bA:function(){return R},wZ:function(){return E},yN:function(){return f}});var m=i(20996),B=function(p,l,d,g){function n(a){return a instanceof d?a:new d(function(C){C(a)})}return new(d||(d=Promise))(function(a,C){function D(w){try{S(g.next(w))}catch(L){C(L)}}function u(w){try{S(g.throw(w))}catch(L){C(L)}}function S(w){w.done?a(w.value):n(w.value).then(D,u)}S((g=g.apply(p,l||[])).next())})};class f{constructor(l){this.value=l}equals(l){return this.value===l.value}contains(l){return this.equals(l)||this.value===""||l.value.startsWith(this.value+f.sep)}intersects(l){return this.contains(l)||l.contains(this)}append(l){return new f(this.value+f.sep+l)}}f.sep=".",f.None=new f("@@none@@"),f.Empty=new f(""),f.QuickFix=new f("quickfix"),f.Refactor=new f("refactor"),f.RefactorExtract=f.Refactor.append("extract"),f.RefactorInline=f.Refactor.append("inline"),f.RefactorMove=f.Refactor.append("move"),f.RefactorRewrite=f.Refactor.append("rewrite"),f.Source=new f("source"),f.SourceOrganizeImports=f.Source.append("organizeImports"),f.SourceFixAll=f.Source.append("fixAll"),f.SurroundWith=f.Refactor.append("surround");var _;(function(p){p.Refactor="refactor",p.RefactorPreview="refactor preview",p.Lightbulb="lightbulb",p.Default="other (default)",p.SourceAction="source action",p.QuickFix="quick fix action",p.FixAll="fix all",p.OrganizeImports="organize imports",p.AutoFix="auto fix",p.QuickFixHover="quick fix hover window",p.OnSave="save participants",p.ProblemsView="problems view"})(_||(_={}));function v(p,l){return!(p.include&&!p.include.intersects(l)||p.excludes&&p.excludes.some(d=>M(l,d,p.include))||!p.includeSourceActions&&f.Source.contains(l))}function A(p,l){const d=l.kind?new f(l.kind):void 0;return!(p.include&&(!d||!p.include.contains(d))||p.excludes&&d&&p.excludes.some(g=>M(d,g,p.include))||!p.includeSourceActions&&d&&f.Source.contains(d)||p.onlyIncludePreferredActions&&!l.isPreferred)}function M(p,l,d){return!(!l.contains(p)||d&&l.contains(d))}class E{static fromUser(l,d){return!l||typeof l!="object"?new E(d.kind,d.apply,!1):new E(E.getKindFromUser(l,d.kind),E.getApplyFromUser(l,d.apply),E.getPreferredUser(l))}static getApplyFromUser(l,d){switch(typeof l.apply=="string"?l.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return d}}static getKindFromUser(l,d){return typeof l.kind=="string"?new f(l.kind):d}static getPreferredUser(l){return typeof l.preferred=="boolean"?l.preferred:!1}constructor(l,d,g){this.kind=l,this.apply=d,this.preferred=g}}class R{constructor(l,d){this.action=l,this.provider=d}resolve(l){var d;return B(this,void 0,void 0,function*(){if(!((d=this.provider)===null||d===void 0)&&d.resolveCodeAction&&!this.action.edit){let g;try{g=yield this.provider.resolveCodeAction(this.action,l)}catch(n){(0,m.Cp)(n)}g&&(this.action.edit=g.edit)}return this})}}},40650:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CodeLensContribution:function(){return xe}});var m=i(13484),B=i(20996),f=i(38431),_=i(48423),v=i(55298),A=i(70054),M=i(21081),E=i(97464),R=i(14818),p=i(28919),l=i(65041),d=i(80793),g=i(35921),n=function(Le,ue,re,_e){function Ue(Qe){return Qe instanceof re?Qe:new re(function(Re){Re(Qe)})}return new(re||(re=Promise))(function(Qe,Re){function ie(ve){try{se(_e.next(ve))}catch(he){Re(he)}}function Z(ve){try{se(_e.throw(ve))}catch(he){Re(he)}}function se(ve){ve.done?Qe(ve.value):Ue(ve.value).then(ie,Z)}se((_e=_e.apply(Le,ue||[])).next())})};class a{constructor(){this.lenses=[],this._disposables=new f.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(ue,re){this._disposables.add(ue);for(const _e of ue.lenses)this.lenses.push({symbol:_e,provider:re})}}function C(Le,ue,re){return n(this,void 0,void 0,function*(){const _e=Le.ordered(ue),Ue=new Map,Qe=new a,Re=_e.map((ie,Z)=>n(this,void 0,void 0,function*(){Ue.set(ie,Z);try{const se=yield Promise.resolve(ie.provideCodeLenses(ue,re));se&&Qe.add(se,ie)}catch(se){(0,B.Cp)(se)}}));return yield Promise.all(Re),Qe.lenses=Qe.lenses.sort((ie,Z)=>ie.symbol.range.startLineNumber<Z.symbol.range.startLineNumber?-1:ie.symbol.range.startLineNumber>Z.symbol.range.startLineNumber?1:Ue.get(ie.provider)<Ue.get(Z.provider)?-1:Ue.get(ie.provider)>Ue.get(Z.provider)?1:ie.symbol.range.startColumn<Z.symbol.range.startColumn?-1:ie.symbol.range.startColumn>Z.symbol.range.startColumn?1:0),Qe})}d.P.registerCommand("_executeCodeLensProvider",function(Le,...ue){let[re,_e]=ue;(0,R.p_)(p.o.isUri(re)),(0,R.p_)(typeof _e=="number"||!_e);const{codeLensProvider:Ue}=Le.get(g.p),Qe=Le.get(l.q).getModel(re);if(!Qe)throw(0,B.b1)();const Re=[],ie=new f.SL;return C(Ue,Qe,E.T.None).then(Z=>{ie.add(Z);const se=[];for(const ve of Z.lenses)_e==null||Boolean(ve.symbol.command)?Re.push(ve.symbol):_e-- >0&&ve.provider.resolveCodeLens&&se.push(Promise.resolve(ve.provider.resolveCodeLens(Qe,ve.symbol,E.T.None)).then(he=>Re.push(he||ve.symbol)));return Promise.all(se)}).then(()=>Re).finally(()=>{setTimeout(()=>ie.dispose(),100)})});var D=i(89717),u=i(39832),S=i(50038),w=i(53061),L=i(44333),N=i(63536),O=function(Le,ue,re,_e){var Ue=arguments.length,Qe=Ue<3?ue:_e===null?_e=Object.getOwnPropertyDescriptor(ue,re):_e,Re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Qe=Reflect.decorate(Le,ue,re,_e);else for(var ie=Le.length-1;ie>=0;ie--)(Re=Le[ie])&&(Qe=(Ue<3?Re(Qe):Ue>3?Re(ue,re,Qe):Re(ue,re))||Qe);return Ue>3&&Qe&&Object.defineProperty(ue,re,Qe),Qe},x=function(Le,ue){return function(re,_e){ue(re,_e,Le)}};const T=(0,L.yh)("ICodeLensCache");class W{constructor(ue,re){this.lineCount=ue,this.data=re}}let U=class{constructor(ue){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new u.z6(20,.75);const re="codelens/cache";(0,m.To)(()=>ue.remove(re,1));const _e="codelens/cache2",Ue=ue.get(_e,1,"{}");this._deserialize(Ue),(0,D.I)(ue.onWillSaveState)(Qe=>{Qe.reason===N.fk.SHUTDOWN&&ue.store(_e,this._serialize(),1,1)})}put(ue,re){const _e=re.lenses.map(Re=>{var ie;return{range:Re.symbol.range,command:Re.symbol.command&&{id:"",title:(ie=Re.symbol.command)===null||ie===void 0?void 0:ie.title}}}),Ue=new a;Ue.add({lenses:_e,dispose:()=>{}},this._fakeProvider);const Qe=new W(ue.getLineCount(),Ue);this._cache.set(ue.uri.toString(),Qe)}get(ue){const re=this._cache.get(ue.uri.toString());return re&&re.lineCount===ue.getLineCount()?re.data:void 0}delete(ue){this._cache.delete(ue.uri.toString())}_serialize(){const ue=Object.create(null);for(const[re,_e]of this._cache){const Ue=new Set;for(const Qe of _e.data.lenses)Ue.add(Qe.symbol.range.startLineNumber);ue[re]={lineCount:_e.lineCount,lines:[...Ue.values()]}}return JSON.stringify(ue)}_deserialize(ue){try{const re=JSON.parse(ue);for(const _e in re){const Ue=re[_e],Qe=[];for(const ie of Ue.lines)Qe.push({range:new S.e(ie,1,ie,11)});const Re=new a;Re.add({lenses:Qe,dispose(){}},this._fakeProvider),this._cache.set(_e,new W(Ue.lineCount,Re))}}catch(re){}}};U=O([x(0,N.Uy)],U),(0,w.z)(T,U,1);var K=i(34441),G=i(19111),z=i(45007);class k{constructor(ue,re,_e){this.afterColumn=1073741824,this.afterLineNumber=ue,this.heightInPx=re,this._onHeight=_e,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(ue){this._lastHeight===void 0?this._lastHeight=ue:this._lastHeight!==ue&&(this._lastHeight=ue,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class q{constructor(ue,re){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=ue,this._id=`codelens.widget-${q._idPool++}`,this.updatePosition(re),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(ue,re){this._commands.clear();const _e=[];let Ue=!1;for(let Qe=0;Qe<ue.length;Qe++){const Re=ue[Qe];if(Re&&(Ue=!0,Re.command)){const ie=(0,G.T)(Re.command.title.trim());Re.command.id?(_e.push(K.$("a",{id:String(Qe),title:Re.command.tooltip,role:"button"},...ie)),this._commands.set(String(Qe),Re.command)):_e.push(K.$("span",{title:Re.command.tooltip},...ie)),Qe+1<ue.length&&_e.push(K.$("span",void 0,"\xA0|\xA0"))}}Ue?(K.mc(this._domNode,..._e),this._isEmpty&&re&&this._domNode.classList.add("fadein"),this._isEmpty=!1):K.mc(this._domNode,K.$("span",void 0,"no commands"))}getCommand(ue){return ue.parentElement===this._domNode?this._commands.get(ue.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(ue){const re=this._editor.getModel().getLineFirstNonWhitespaceColumn(ue);this._widgetPosition={position:{lineNumber:ue,column:re},preference:[1]}}getPosition(){return this._widgetPosition||null}}q._idPool=0;class te{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(ue,re){this._addDecorations.push(ue),this._addDecorationsCallbacks.push(re)}removeDecoration(ue){this._removeDecorations.push(ue)}commit(ue){const re=ue.deltaDecorations(this._removeDecorations,this._addDecorations);for(let _e=0,Ue=re.length;_e<Ue;_e++)this._addDecorationsCallbacks[_e](re[_e])}}const X=z.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class j{constructor(ue,re,_e,Ue,Qe,Re){this._isDisposed=!1,this._editor=re,this._data=ue,this._decorationIds=[];let ie;const Z=[];this._data.forEach((se,ve)=>{se.symbol.command&&Z.push(se.symbol),_e.addDecoration({range:se.symbol.range,options:X},he=>this._decorationIds[ve]=he),ie?ie=S.e.plusRange(ie,se.symbol.range):ie=S.e.lift(se.symbol.range)}),this._viewZone=new k(ie.startLineNumber-1,Qe,Re),this._viewZoneId=Ue.addZone(this._viewZone),Z.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Z,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new q(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(ue,re){this._decorationIds.forEach(ue.removeDecoration,ue),this._decorationIds=[],re==null||re.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((ue,re)=>{const _e=this._editor.getModel().getDecorationRange(ue),Ue=this._data[re].symbol;return!!(_e&&S.e.isEmpty(Ue.range)===_e.isEmpty())})}updateCodeLensSymbols(ue,re){this._decorationIds.forEach(re.removeDecoration,re),this._decorationIds=[],this._data=ue,this._data.forEach((_e,Ue)=>{re.addDecoration({range:_e.symbol.range,options:X},Qe=>this._decorationIds[Ue]=Qe)})}updateHeight(ue,re){this._viewZone.heightInPx=ue,re.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(ue){if(!this._viewZone.isVisible())return null;for(let re=0;re<this._decorationIds.length;re++){const _e=ue.getDecorationRange(this._decorationIds[re]);_e&&(this._data[re].symbol.range=_e)}return this._data}updateCommands(ue){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ue,!0);for(let re=0;re<this._data.length;re++){const _e=ue[re];if(_e){const{symbol:Ue}=this._data[re];Ue.command=_e.command||Ue.command}}}getCommand(ue){var re;return(re=this._contentWidget)===null||re===void 0?void 0:re.getCommand(ue)}getLineNumber(){const ue=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return ue?ue.startLineNumber:-1}update(ue){if(this.isValid()){const re=this._editor.getModel().getDecorationRange(this._decorationIds[0]);re&&(this._viewZone.afterLineNumber=re.startLineNumber-1,ue.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(re.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var J=i(26386),Y=i(97968),ee=i(38785),fe=i(69060),De=function(Le,ue,re,_e){var Ue=arguments.length,Qe=Ue<3?ue:_e===null?_e=Object.getOwnPropertyDescriptor(ue,re):_e,Re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Qe=Reflect.decorate(Le,ue,re,_e);else for(var ie=Le.length-1;ie>=0;ie--)(Re=Le[ie])&&(Qe=(Ue<3?Re(Qe):Ue>3?Re(ue,re,Qe):Re(ue,re))||Qe);return Ue>3&&Qe&&Object.defineProperty(ue,re,Qe),Qe},Ne=function(Le,ue){return function(re,_e){ue(re,_e,Le)}},be=function(Le,ue,re,_e){function Ue(Qe){return Qe instanceof re?Qe:new re(function(Re){Re(Qe)})}return new(re||(re=Promise))(function(Qe,Re){function ie(ve){try{se(_e.next(ve))}catch(he){Re(he)}}function Z(ve){try{se(_e.throw(ve))}catch(he){Re(he)}}function se(ve){ve.done?Qe(ve.value):Ue(ve.value).then(ie,Z)}se((_e=_e.apply(Le,ue||[])).next())})};let xe=class{constructor(ue,re,_e,Ue,Qe,Re){this._editor=ue,this._languageFeaturesService=re,this._commandService=Ue,this._notificationService=Qe,this._codeLensCache=Re,this._disposables=new f.SL,this._localToDispose=new f.SL,this._lenses=[],this._oldCodeLensModels=new f.SL,this._provideCodeLensDebounce=_e.for(re.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=_e.for(re.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new m.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(ie=>{(ie.hasChanged(48)||ie.hasChanged(17)||ie.hasChanged(16))&&this._updateLensStyle(),ie.hasChanged(15)&&this._onModelChange()})),this._disposables.add(re.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var ue;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(ue=this._currentCodeLensModel)===null||ue===void 0||ue.dispose()}_getLayoutInfo(){const ue=Math.max(1.3,this._editor.getOption(64)/this._editor.getOption(50));let re=this._editor.getOption(17);return(!re||re<5)&&(re=this._editor.getOption(50)*.9|0),{fontSize:re,codeLensHeight:re*ue|0}}_updateLensStyle(){const{codeLensHeight:ue,fontSize:re}=this._getLayoutInfo(),_e=this._editor.getOption(16),Ue=this._editor.getOption(48),{style:Qe}=this._editor.getContainerDomNode();Qe.setProperty("--vscode-editorCodeLens-lineHeight",`${ue}px`),Qe.setProperty("--vscode-editorCodeLens-fontSize",`${re}px`),Qe.setProperty("--vscode-editorCodeLens-fontFeatureSettings",Ue.fontFeatureSettings),_e&&(Qe.setProperty("--vscode-editorCodeLens-fontFamily",_e),Qe.setProperty("--vscode-editorCodeLens-fontFamilyDefault",A.hL.fontFamily)),this._editor.changeViewZones(Re=>{for(const ie of this._lenses)ie.updateHeight(ue,Re)})}_localDispose(){var ue,re,_e;(ue=this._getCodeLensModelPromise)===null||ue===void 0||ue.cancel(),this._getCodeLensModelPromise=void 0,(re=this._resolveCodeLensesPromise)===null||re===void 0||re.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(_e=this._currentCodeLensModel)===null||_e===void 0||_e.dispose()}_onModelChange(){this._localDispose();const ue=this._editor.getModel();if(!ue||!this._editor.getOption(15))return;const re=this._codeLensCache.get(ue);if(re&&this._renderCodeLensSymbols(re),!this._languageFeaturesService.codeLensProvider.has(ue)){re&&this._localToDispose.add((0,m.Vg)(()=>{const Ue=this._codeLensCache.get(ue);re===Ue&&(this._codeLensCache.delete(ue),this._onModelChange())},30*1e3));return}for(const Ue of this._languageFeaturesService.codeLensProvider.all(ue))if(typeof Ue.onDidChange=="function"){const Qe=Ue.onDidChange(()=>_e.schedule());this._localToDispose.add(Qe)}const _e=new m.pY(()=>{var Ue;const Qe=Date.now();(Ue=this._getCodeLensModelPromise)===null||Ue===void 0||Ue.cancel(),this._getCodeLensModelPromise=(0,m.PG)(Re=>C(this._languageFeaturesService.codeLensProvider,ue,Re)),this._getCodeLensModelPromise.then(Re=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=Re,this._codeLensCache.put(ue,Re);const ie=this._provideCodeLensDebounce.update(ue,Date.now()-Qe);_e.delay=ie,this._renderCodeLensSymbols(Re),this._resolveCodeLensesInViewportSoon()},B.dL)},this._provideCodeLensDebounce.get(ue));this._localToDispose.add(_e),this._localToDispose.add((0,f.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(Ue=>{this._editor.changeViewZones(Qe=>{const Re=[];let ie=-1;this._lenses.forEach(se=>{!se.isValid()||ie===se.getLineNumber()?Re.push(se):(se.update(Qe),ie=se.getLineNumber())});const Z=new te;Re.forEach(se=>{se.dispose(Z,Qe),this._lenses.splice(this._lenses.indexOf(se),1)}),Z.commit(Ue)})}),_e.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{_e.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(Ue=>{Ue.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,f.OF)(()=>{if(this._editor.getModel()){const Ue=_.Z.capture(this._editor);this._editor.changeDecorations(Qe=>{this._editor.changeViewZones(Re=>{this._disposeAllLenses(Qe,Re)})}),Ue.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(Ue=>{if(Ue.target.type!==9)return;let Qe=Ue.target.element;if((Qe==null?void 0:Qe.tagName)==="SPAN"&&(Qe=Qe.parentElement),(Qe==null?void 0:Qe.tagName)==="A")for(const Re of this._lenses){const ie=Re.getCommand(Qe);if(ie){this._commandService.executeCommand(ie.id,...ie.arguments||[]).catch(Z=>this._notificationService.error(Z));break}}})),_e.schedule()}_disposeAllLenses(ue,re){const _e=new te;for(const Ue of this._lenses)Ue.dispose(_e,re);ue&&_e.commit(ue),this._lenses.length=0}_renderCodeLensSymbols(ue){if(!this._editor.hasModel())return;const re=this._editor.getModel().getLineCount(),_e=[];let Ue;for(const ie of ue.lenses){const Z=ie.symbol.range.startLineNumber;Z<1||Z>re||(Ue&&Ue[Ue.length-1].symbol.range.startLineNumber===Z?Ue.push(ie):(Ue=[ie],_e.push(Ue)))}if(!_e.length&&!this._lenses.length)return;const Qe=_.Z.capture(this._editor),Re=this._getLayoutInfo();this._editor.changeDecorations(ie=>{this._editor.changeViewZones(Z=>{const se=new te;let ve=0,he=0;for(;he<_e.length&&ve<this._lenses.length;){const ce=_e[he][0].symbol.range.startLineNumber,Ee=this._lenses[ve].getLineNumber();Ee<ce?(this._lenses[ve].dispose(se,Z),this._lenses.splice(ve,1)):Ee===ce?(this._lenses[ve].updateCodeLensSymbols(_e[he],se),he++,ve++):(this._lenses.splice(ve,0,new j(_e[he],this._editor,se,Z,Re.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ve++,he++)}for(;ve<this._lenses.length;)this._lenses[ve].dispose(se,Z),this._lenses.splice(ve,1);for(;he<_e.length;)this._lenses.push(new j(_e[he],this._editor,se,Z,Re.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),he++;se.commit(ie)})}),Qe.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var ue;(ue=this._resolveCodeLensesPromise)===null||ue===void 0||ue.cancel(),this._resolveCodeLensesPromise=void 0;const re=this._editor.getModel();if(!re)return;const _e=[],Ue=[];if(this._lenses.forEach(ie=>{const Z=ie.computeIfNecessary(re);Z&&(_e.push(Z),Ue.push(ie))}),_e.length===0)return;const Qe=Date.now(),Re=(0,m.PG)(ie=>{const Z=_e.map((se,ve)=>{const he=new Array(se.length),ce=se.map((Ee,We)=>!Ee.symbol.command&&typeof Ee.provider.resolveCodeLens=="function"?Promise.resolve(Ee.provider.resolveCodeLens(re,Ee.symbol,ie)).then(it=>{he[We]=it},B.Cp):(he[We]=Ee.symbol,Promise.resolve(void 0)));return Promise.all(ce).then(()=>{!ie.isCancellationRequested&&!Ue[ve].isDisposed()&&Ue[ve].updateCommands(he)})});return Promise.all(Z)});this._resolveCodeLensesPromise=Re,this._resolveCodeLensesPromise.then(()=>{const ie=this._resolveCodeLensesDebounce.update(re,Date.now()-Qe);this._resolveCodeLensesScheduler.delay=ie,this._currentCodeLensModel&&this._codeLensCache.put(re,this._currentCodeLensModel),this._oldCodeLensModels.clear(),Re===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},ie=>{(0,B.dL)(ie),Re===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};xe.ID="css.editor.codeLens",xe=De([Ne(1,g.p),Ne(2,fe.A),Ne(3,d.H),Ne(4,Y.lT),Ne(5,T)],xe),(0,v._K)(xe.ID,xe,1),(0,v.Qr)(class extends v.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:M.u.hasCodeLensProvider,label:(0,J.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(ue,re){return be(this,void 0,void 0,function*(){if(!re.hasModel())return;const _e=ue.get(ee.eJ),Ue=ue.get(d.H),Qe=ue.get(Y.lT),Re=re.getSelection().positionLineNumber,ie=re.getContribution(xe.ID);if(!ie)return;const Z=ie.getModel();if(!Z)return;const se=[];for(const he of Z.lenses)he.symbol.command&&he.symbol.range.startLineNumber===Re&&se.push({label:he.symbol.command.title,command:he.symbol.command});if(se.length===0)return;const ve=yield _e.pick(se,{canPickMany:!1});if(ve){if(Z.isDisposed)return yield Ue.executeCommand(this.id);try{yield Ue.executeCommand(ve.command.id,...ve.command.arguments||[])}catch(he){Qe.error(he)}}})}})},78845:function(Ot,He,i){"use strict";i.r(He),i.d(He,{ColorContribution:function(){return Re}});var m=i(38431),B=i(55298),f=i(50038),_=i(13484),v=i(86741),A=i(20996),M=i(56709),E=i(69344),R=i(17416),p=i(31396),l=i(45007),d=i(69060),g=i(35921),n=i(97464),a=i(28919),C=i(65041),D=i(80793);function u(ie,Z,se){const ve=[],ce=ie.ordered(Z).reverse().map(Ee=>Promise.resolve(Ee.provideDocumentColors(Z,se)).then(We=>{if(Array.isArray(We))for(const it of We)ve.push({colorInfo:it,provider:Ee})}));return Promise.all(ce).then(()=>ve)}function S(ie,Z,se,ve){return Promise.resolve(se.provideColorPresentations(ie,Z,ve))}D.P.registerCommand("_executeDocumentColorProvider",function(ie,...Z){const[se]=Z;if(!(se instanceof a.o))throw(0,A.b1)();const{colorProvider:ve}=ie.get(g.p),he=ie.get(C.q).getModel(se);if(!he)throw(0,A.b1)();const ce=[],We=ve.ordered(he).reverse().map(it=>Promise.resolve(it.provideDocumentColors(he,n.T.None)).then(Ze=>{if(Array.isArray(Ze))for(const je of Ze)ce.push({range:je.range,color:[je.color.red,je.color.green,je.color.blue,je.color.alpha]})}));return Promise.all(We).then(()=>ce)}),D.P.registerCommand("_executeColorPresentationProvider",function(ie,...Z){const[se,ve]=Z,{uri:he,range:ce}=ve;if(!(he instanceof a.o)||!Array.isArray(se)||se.length!==4||!f.e.isIRange(ce))throw(0,A.b1)();const[Ee,We,it,Ze]=se,{colorProvider:je}=ie.get(g.p),Te=ie.get(C.q).getModel(he);if(!Te)throw(0,A.b1)();const Ie={range:ce,color:{red:Ee,green:We,blue:it,alpha:Ze}},oe=[],Ce=je.ordered(Te).reverse().map(me=>Promise.resolve(me.provideColorPresentations(Te,Ie,n.T.None)).then(Me=>{Array.isArray(Me)&&oe.push(...Me)}));return Promise.all(Ce).then(()=>oe)});var w=i(71177),L=function(ie,Z,se,ve){var he=arguments.length,ce=he<3?Z:ve===null?ve=Object.getOwnPropertyDescriptor(Z,se):ve,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(ie,Z,se,ve);else for(var We=ie.length-1;We>=0;We--)(Ee=ie[We])&&(ce=(he<3?Ee(ce):he>3?Ee(Z,se,ce):Ee(Z,se))||ce);return he>3&&ce&&Object.defineProperty(Z,se,ce),ce},N=function(ie,Z){return function(se,ve){Z(se,ve,ie)}},O=function(ie,Z,se,ve){function he(ce){return ce instanceof se?ce:new se(function(Ee){Ee(ce)})}return new(se||(se=Promise))(function(ce,Ee){function We(je){try{Ze(ve.next(je))}catch(Te){Ee(Te)}}function it(je){try{Ze(ve.throw(je))}catch(Te){Ee(Te)}}function Ze(je){je.done?ce(je.value):he(je.value).then(We,it)}Ze((ve=ve.apply(ie,Z||[])).next())})};const x=Object.create({});let T=class _h extends m.JT{constructor(Z,se,ve,he){super(),this._editor=Z,this._configurationService=se,this._languageFeaturesService=ve,this._localToDispose=this._register(new m.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new p.t7(this._editor),this._decoratorLimitReporter=new W,this._colorDecorationClassRefs=this._register(new m.SL),this._debounceInformation=he.for(ve.colorProvider,"Document Colors",{min:_h.RECOMPUTE_TIME}),this._register(Z.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(Z.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(ve.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(Z.onDidChangeConfiguration(ce=>{const Ee=this._isEnabled;this._isEnabled=this.isEnabled(),(Ee!==this._isEnabled||ce.hasChanged(19))&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const Z=this._editor.getModel();if(!Z)return!1;const se=Z.getLanguageId(),ve=this._configurationService.getValue(se);if(ve&&typeof ve=="object"){const he=ve.colorDecorators;if(he&&he.enable!==void 0&&!he.enable)return he.enable}return this._editor.getOption(18)}static get(Z){return Z.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const Z=this._editor.getModel();!Z||!this._languageFeaturesService.colorProvider.has(Z)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new _._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(Z)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,_.PG)(Z=>O(this,void 0,void 0,function*(){const se=this._editor.getModel();if(!se)return Promise.resolve([]);const ve=new E.G(!1),he=yield u(this._languageFeaturesService.colorProvider,se,Z);return this._debounceInformation.update(se,ve.elapsed()),he})),this._computePromise.then(Z=>{this.updateDecorations(Z),this.updateColorDecorators(Z),this._computePromise=null},A.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(Z){const se=Z.map(ve=>({range:{startLineNumber:ve.colorInfo.range.startLineNumber,startColumn:ve.colorInfo.range.startColumn,endLineNumber:ve.colorInfo.range.endLineNumber,endColumn:ve.colorInfo.range.endColumn},options:l.qx.EMPTY}));this._editor.changeDecorations(ve=>{this._decorationsIds=ve.deltaDecorations(this._decorationsIds,se),this._colorDatas=new Map,this._decorationsIds.forEach((he,ce)=>this._colorDatas.set(he,Z[ce]))})}updateColorDecorators(Z){this._colorDecorationClassRefs.clear();const se=[],ve=this._editor.getOption(19);for(let ce=0;ce<Z.length&&se.length<ve;ce++){const{red:Ee,green:We,blue:it,alpha:Ze}=Z[ce].colorInfo.color,je=new v.VS(Math.round(Ee*255),Math.round(We*255),Math.round(it*255),Ze),Te=`rgba(${je.r}, ${je.g}, ${je.b}, ${je.a})`,Ie=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:Te}));se.push({range:{startLineNumber:Z[ce].colorInfo.range.startLineNumber,startColumn:Z[ce].colorInfo.range.startColumn,endLineNumber:Z[ce].colorInfo.range.endLineNumber,endColumn:Z[ce].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:R.B4,inlineClassName:`${Ie.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:x}}})}const he=ve<Z.length?ve:!1;this._decoratorLimitReporter.update(Z.length,he),this._colorDecoratorIds.set(se)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(Z){const se=this._editor.getModel();if(!se)return null;const ve=se.getDecorationsInRange(f.e.fromPositions(Z,Z)).filter(he=>this._colorDatas.has(he.id));return ve.length===0?null:this._colorDatas.get(ve[0].id)}isColorDecoration(Z){return this._colorDecoratorIds.has(Z)}};T.ID="editor.contrib.colorDetector",T.RECOMPUTE_TIME=1e3,T=L([N(1,w.Ui),N(2,g.p),N(3,d.A)],T);class W{constructor(){this._onDidChange=new M.Q5,this._computed=0,this._limited=!1}update(Z,se){(Z!==this._computed||se!==this._limited)&&(this._computed=Z,this._limited=se,this._onDidChange.fire())}}(0,B._K)(T.ID,T,1);class U{get color(){return this._color}set color(Z){this._color.equals(Z)||(this._color=Z,this._onDidChangeColor.fire(Z))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(Z){this._colorPresentations=Z,this.presentationIndex>Z.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(Z,se,ve){this.presentationIndex=ve,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new M.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new M.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=Z,this._color=Z,this._colorPresentations=se}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(Z,se){let ve=-1;for(let he=0;he<this.colorPresentations.length;he++)if(se.toLowerCase()===this.colorPresentations[he].label){ve=he;break}if(ve===-1){const he=se.split("(")[0].toLowerCase();for(let ce=0;ce<this.colorPresentations.length;ce++)if(this.colorPresentations[ce].label.toLowerCase().startsWith(he)){ve=ce;break}}ve!==-1&&ve!==this.presentationIndex&&(this.presentationIndex=ve,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var K=i(71488),G=i(34441),z=i(97314),k=i(88305),q=i(26386),te=i(92537);const X=G.$;class j extends m.JT{constructor(Z,se,ve){super(),this.model=se,this.domNode=X(".colorpicker-header"),G.R3(Z,this.domNode),this.pickedColorNode=G.R3(this.domNode,X(".picked-color"));const he=(0,q.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",he);const ce=G.R3(this.domNode,X(".original-color"));ce.style.backgroundColor=v.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=ve.getColorTheme().getColor(te.yJx)||v.Il.white,this._register(ve.onDidColorThemeChange(Ee=>{this.backgroundColor=Ee.getColor(te.yJx)||v.Il.white})),this._register(G.nm(this.pickedColorNode,G.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(G.nm(ce,G.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(se.onDidChangeColor(this.onDidChangeColor,this)),this._register(se.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=v.Il.Format.CSS.format(se.color)||"",this.pickedColorNode.classList.toggle("light",se.color.rgba.a<.5?this.backgroundColor.isLighter():se.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(Z){this.pickedColorNode.style.backgroundColor=v.Il.Format.CSS.format(Z)||"",this.pickedColorNode.classList.toggle("light",Z.rgba.a<.5?this.backgroundColor.isLighter():Z.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(X(".codicon.codicon-color-mode"))}}class J extends m.JT{constructor(Z,se,ve){super(),this.model=se,this.pixelRatio=ve,this.domNode=X(".colorpicker-body"),G.R3(Z,this.domNode),this.saturationBox=new Y(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new fe(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new De(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:Z,v:se}){const ve=this.model.color.hsva;this.model.color=new v.Il(new v.tx(ve.h,Z,se,ve.a))}onDidOpacityChange(Z){const se=this.model.color.hsva;this.model.color=new v.Il(new v.tx(se.h,se.s,se.v,Z))}onDidHueChange(Z){const se=this.model.color.hsva,ve=(1-Z)*360;this.model.color=new v.Il(new v.tx(ve===360?0:ve,se.s,se.v,se.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Y extends m.JT{constructor(Z,se,ve){super(),this.model=se,this.pixelRatio=ve,this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=X(".saturation-wrap"),G.R3(Z,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",G.R3(this.domNode,this.canvas),this.selection=X(".saturation-selection"),G.R3(this.domNode,this.selection),this.layout(),this._register(G.nm(this.domNode,G.tw.POINTER_DOWN,he=>this.onPointerDown(he))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(Z){if(!Z.target||!(Z.target instanceof Element))return;this.monitor=this._register(new z.C);const se=G.i(this.domNode);Z.target!==this.selection&&this.onDidChangePosition(Z.offsetX,Z.offsetY),this.monitor.startMonitoring(Z.target,Z.pointerId,Z.buttons,he=>this.onDidChangePosition(he.pageX-se.left,he.pageY-se.top),()=>null);const ve=G.nm(document,G.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),ve.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(Z,se){const ve=Math.max(0,Math.min(1,Z/this.width)),he=Math.max(0,Math.min(1,1-se/this.height));this.paintSelection(ve,he),this._onDidChange.fire({s:ve,v:he})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const Z=this.model.color.hsva;this.paintSelection(Z.s,Z.v)}paint(){const Z=this.model.color.hsva,se=new v.Il(new v.tx(Z.h,1,1,1)),ve=this.canvas.getContext("2d"),he=ve.createLinearGradient(0,0,this.canvas.width,0);he.addColorStop(0,"rgba(255, 255, 255, 1)"),he.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),he.addColorStop(1,"rgba(255, 255, 255, 0)");const ce=ve.createLinearGradient(0,0,0,this.canvas.height);ce.addColorStop(0,"rgba(0, 0, 0, 0)"),ce.addColorStop(1,"rgba(0, 0, 0, 1)"),ve.rect(0,0,this.canvas.width,this.canvas.height),ve.fillStyle=v.Il.Format.CSS.format(se),ve.fill(),ve.fillStyle=he,ve.fill(),ve.fillStyle=ce,ve.fill()}paintSelection(Z,se){this.selection.style.left=`${Z*this.width}px`,this.selection.style.top=`${this.height-se*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class ee extends m.JT{constructor(Z,se){super(),this.model=se,this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new M.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=G.R3(Z,X(".strip")),this.overlay=G.R3(this.domNode,X(".overlay")),this.slider=G.R3(this.domNode,X(".slider")),this.slider.style.top="0px",this._register(G.nm(this.domNode,G.tw.POINTER_DOWN,ve=>this.onPointerDown(ve))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const Z=this.getValue(this.model.color);this.updateSliderPosition(Z)}onPointerDown(Z){if(!Z.target||!(Z.target instanceof Element))return;const se=this._register(new z.C),ve=G.i(this.domNode);this.domNode.classList.add("grabbing"),Z.target!==this.slider&&this.onDidChangeTop(Z.offsetY),se.startMonitoring(Z.target,Z.pointerId,Z.buttons,ce=>this.onDidChangeTop(ce.pageY-ve.top),()=>null);const he=G.nm(document,G.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),he.dispose(),se.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(Z){const se=Math.max(0,Math.min(1,1-Z/this.height));this.updateSliderPosition(se),this._onDidChange.fire(se)}updateSliderPosition(Z){this.slider.style.top=`${(1-Z)*this.height}px`}}class fe extends ee{constructor(Z,se){super(Z,se),this.domNode.classList.add("opacity-strip"),this._register(se.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(Z){const{r:se,g:ve,b:he}=Z.rgba,ce=new v.Il(new v.VS(se,ve,he,1)),Ee=new v.Il(new v.VS(se,ve,he,0));this.overlay.style.background=`linear-gradient(to bottom, ${ce} 0%, ${Ee} 100%)`}getValue(Z){return Z.hsva.a}}class De extends ee{constructor(Z,se){super(Z,se),this.domNode.classList.add("hue-strip")}getValue(Z){return 1-Z.hsva.h/360}}class Ne extends k.${constructor(Z,se,ve,he){super(),this.model=se,this.pixelRatio=ve,this._register(K.PixelRatio.onDidChange(()=>this.layout()));const ce=X(".colorpicker-widget");Z.appendChild(ce);const Ee=new j(ce,this.model,he);this.body=new J(ce,this.model,this.pixelRatio),this._register(Ee),this._register(this.body)}layout(){this.body.layout()}}var be=i(58566),xe=function(ie,Z,se,ve){var he=arguments.length,ce=he<3?Z:ve===null?ve=Object.getOwnPropertyDescriptor(Z,se):ve,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(ie,Z,se,ve);else for(var We=ie.length-1;We>=0;We--)(Ee=ie[We])&&(ce=(he<3?Ee(ce):he>3?Ee(Z,se,ce):Ee(Z,se))||ce);return he>3&&ce&&Object.defineProperty(Z,se,ce),ce},Le=function(ie,Z){return function(se,ve){Z(se,ve,ie)}},ue=function(ie,Z,se,ve){function he(ce){return ce instanceof se?ce:new se(function(Ee){Ee(ce)})}return new(se||(se=Promise))(function(ce,Ee){function We(je){try{Ze(ve.next(je))}catch(Te){Ee(Te)}}function it(je){try{Ze(ve.throw(je))}catch(Te){Ee(Te)}}function Ze(je){je.done?ce(je.value):he(je.value).then(We,it)}Ze((ve=ve.apply(ie,Z||[])).next())})};class re{constructor(Z,se,ve,he){this.owner=Z,this.range=se,this.model=ve,this.provider=he,this.forceShowAtRange=!0}isValidForHoverAnchor(Z){return Z.type===1&&this.range.startColumn<=Z.range.startColumn&&this.range.endColumn>=Z.range.endColumn}}let _e=class{constructor(Z,se){this._editor=Z,this._themeService=se,this.hoverOrdinal=2}computeSync(Z,se){return[]}computeAsync(Z,se,ve){return _.Aq.fromPromise(this._computeAsync(Z,se,ve))}_computeAsync(Z,se,ve){return ue(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const he=T.get(this._editor);if(!he)return[];for(const ce of se){if(!he.isColorDecoration(ce))continue;const Ee=he.getColorData(ce.range.getStartPosition());if(Ee)return[yield this._createColorHover(this._editor.getModel(),Ee.colorInfo,Ee.provider)]}return[]})}_createColorHover(Z,se,ve){return ue(this,void 0,void 0,function*(){const he=Z.getValueInRange(se.range),{red:ce,green:Ee,blue:We,alpha:it}=se.color,Ze=new v.VS(Math.round(ce*255),Math.round(Ee*255),Math.round(We*255),it),je=new v.Il(Ze),Te=yield S(Z,se,ve,n.T.None),Ie=new U(je,[],0);return Ie.colorPresentations=Te||[],Ie.guessColorPresentation(je,he),new re(this,f.e.lift(se.range),Ie,ve)})}renderHoverParts(Z,se){if(se.length===0||!this._editor.hasModel())return m.JT.None;const ve=new m.SL,he=se[0],ce=this._editor.getModel(),Ee=he.model,We=ve.add(new Ne(Z.fragment,Ee,this._editor.getOption(137),this._themeService));Z.setColorPicker(We);let it=new f.e(he.range.startLineNumber,he.range.startColumn,he.range.endLineNumber,he.range.endColumn);const Ze=()=>{let Te,Ie;if(Ee.presentation.textEdit){Te=[Ee.presentation.textEdit],Ie=new f.e(Ee.presentation.textEdit.range.startLineNumber,Ee.presentation.textEdit.range.startColumn,Ee.presentation.textEdit.range.endLineNumber,Ee.presentation.textEdit.range.endColumn);const oe=this._editor.getModel()._setTrackedRange(null,Ie,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Te),Ie=this._editor.getModel()._getTrackedRange(oe)||Ie}else Te=[{range:it,text:Ee.presentation.label,forceMoveMarkers:!1}],Ie=it.setEndPosition(it.endLineNumber,it.startColumn+Ee.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Te);Ee.presentation.additionalTextEdits&&(Te=[...Ee.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Te),Z.hide()),this._editor.pushUndoStop(),it=Ie},je=Te=>S(ce,{range:it,color:{red:Te.rgba.r/255,green:Te.rgba.g/255,blue:Te.rgba.b/255,alpha:Te.rgba.a}},he.provider,n.T.None).then(Ie=>{Ee.colorPresentations=Ie||[]});return ve.add(Ee.onColorFlushed(Te=>{je(Te).then(Ze)})),ve.add(Ee.onDidChangeColor(je)),ve}};_e=xe([Le(1,be.XE)],_e);var Ue=i(37104),Qe=i(72223);class Re extends m.JT{constructor(Z){super(),this._editor=Z,this._register(Z.onMouseDown(se=>this.onMouseDown(se)))}dispose(){super.dispose()}onMouseDown(Z){const se=Z.target;if(se.type!==6||!se.detail.injectedText||se.detail.injectedText.options.attachedData!==x||!se.range)return;const ve=this._editor.getContribution(Ue.ModesHoverController.ID);if(ve&&!ve.isColorPickerVisible()){const he=new f.e(se.range.startLineNumber,se.range.startColumn+1,se.range.endLineNumber,se.range.endColumn+1);ve.showContentHover(he,1,0,!1)}}}Re.ID="editor.contrib.colorContribution",(0,B._K)(Re.ID,Re,2),Qe.Ae.register(_e)},21678:function(Ot,He,i){"use strict";i.r(He);var m=i(94880),B=i(55298),f=i(50038),_=i(21081),v=i(64603),A=i(19083),M=i(8964),E=i(57841);class R{constructor(w,L,N){this.languageConfigurationService=N,this._selection=w,this._insertSpace=L,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,L,N){if(N<0)return!1;const O=L.length,x=w.length;if(N+O>x)return!1;for(let T=0;T<O;T++){const W=w.charCodeAt(N+T),U=L.charCodeAt(T);if(W!==U&&!(W>=65&&W<=90&&W+32===U)&&!(U>=65&&U<=90&&U+32===W))return!1}return!0}_createOperationsForBlockComment(w,L,N,O,x,T){const W=w.startLineNumber,U=w.startColumn,K=w.endLineNumber,G=w.endColumn,z=x.getLineContent(W),k=x.getLineContent(K);let q=z.lastIndexOf(L,U-1+L.length),te=k.indexOf(N,G-1-N.length);if(q!==-1&&te!==-1)if(W===K)z.substring(q+L.length,te).indexOf(N)>=0&&(q=-1,te=-1);else{const j=z.substring(q+L.length),J=k.substring(0,te);(j.indexOf(N)>=0||J.indexOf(N)>=0)&&(q=-1,te=-1)}let X;q!==-1&&te!==-1?(O&&q+L.length<z.length&&z.charCodeAt(q+L.length)===32&&(L=L+" "),O&&te>0&&k.charCodeAt(te-1)===32&&(N=" "+N,te-=1),X=R._createRemoveBlockCommentOperations(new f.e(W,q+L.length+1,K,te+1),L,N)):(X=R._createAddBlockCommentOperations(w,L,N,this._insertSpace),this._usedEndToken=X.length===1?N:null);for(const j of X)T.addTrackedEditOperation(j.range,j.text)}static _createRemoveBlockCommentOperations(w,L,N){const O=[];return f.e.isEmpty(w)?O.push(A.h.delete(new f.e(w.startLineNumber,w.startColumn-L.length,w.endLineNumber,w.endColumn+N.length))):(O.push(A.h.delete(new f.e(w.startLineNumber,w.startColumn-L.length,w.startLineNumber,w.startColumn))),O.push(A.h.delete(new f.e(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+N.length)))),O}static _createAddBlockCommentOperations(w,L,N,O){const x=[];return f.e.isEmpty(w)?x.push(A.h.replace(new f.e(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),L+"  "+N)):(x.push(A.h.insert(new M.L(w.startLineNumber,w.startColumn),L+(O?" ":""))),x.push(A.h.insert(new M.L(w.endLineNumber,w.endColumn),(O?" ":"")+N))),x}getEditOperations(w,L){const N=this._selection.startLineNumber,O=this._selection.startColumn;w.tokenization.tokenizeIfCheap(N);const x=w.getLanguageIdAtPosition(N,O),T=this.languageConfigurationService.getLanguageConfiguration(x).comments;!T||!T.blockCommentStartToken||!T.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,T.blockCommentStartToken,T.blockCommentEndToken,this._insertSpace,w,L)}computeCursorState(w,L){const N=L.getInverseEditOperations();if(N.length===2){const O=N[0],x=N[1];return new E.Y(O.range.endLineNumber,O.range.endColumn,x.range.startLineNumber,x.range.startColumn)}else{const O=N[0].range,x=this._usedEndToken?-this._usedEndToken.length-1:0;return new E.Y(O.endLineNumber,O.endColumn+x,O.endLineNumber,O.endColumn+x)}}}var p=i(17416);class l{constructor(w,L,N,O,x,T,W){this.languageConfigurationService=w,this._selection=L,this._tabSize=N,this._type=O,this._insertSpace=x,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=T,this._ignoreFirstLine=W||!1}static _gatherPreflightCommentStrings(w,L,N,O){w.tokenization.tokenizeIfCheap(L);const x=w.getLanguageIdAtPosition(L,1),T=O.getLanguageConfiguration(x).comments,W=T?T.lineCommentToken:null;if(!W)return null;const U=[];for(let K=0,G=N-L+1;K<G;K++)U[K]={ignore:!1,commentStr:W,commentStrOffset:0,commentStrLength:W.length};return U}static _analyzeLines(w,L,N,O,x,T,W,U){let K=!0,G;w===0?G=!0:w===1?G=!1:G=!0;for(let z=0,k=O.length;z<k;z++){const q=O[z],te=x+z;if(te===x&&W){q.ignore=!0;continue}const X=N.getLineContent(te),j=p.LC(X);if(j===-1){q.ignore=T,q.commentStrOffset=X.length;continue}if(K=!1,q.ignore=!1,q.commentStrOffset=j,G&&!R._haystackHasNeedleAtOffset(X,q.commentStr,j)&&(w===0?G=!1:w===1||(q.ignore=!0)),G&&L){const J=j+q.commentStrLength;J<X.length&&X.charCodeAt(J)===32&&(q.commentStrLength+=1)}}if(w===0&&K){G=!1;for(let z=0,k=O.length;z<k;z++)O[z].ignore=!1}return{supported:!0,shouldRemoveComments:G,lines:O}}static _gatherPreflightData(w,L,N,O,x,T,W,U){const K=l._gatherPreflightCommentStrings(N,O,x,U);return K===null?{supported:!1}:l._analyzeLines(w,L,N,K,O,T,W,U)}_executeLineComments(w,L,N,O){let x;N.shouldRemoveComments?x=l._createRemoveLineCommentsOperations(N.lines,O.startLineNumber):(l._normalizeInsertionPoint(w,N.lines,O.startLineNumber,this._tabSize),x=this._createAddLineCommentsOperations(N.lines,O.startLineNumber));const T=new M.L(O.positionLineNumber,O.positionColumn);for(let W=0,U=x.length;W<U;W++)L.addEditOperation(x[W].range,x[W].text),f.e.isEmpty(x[W].range)&&f.e.getStartPosition(x[W].range).equals(T)&&w.getLineContent(T.lineNumber).length+1===T.column&&(this._deltaColumn=(x[W].text||"").length);this._selectionId=L.trackSelection(O)}_attemptRemoveBlockComment(w,L,N,O){let x=L.startLineNumber,T=L.endLineNumber;const W=O.length+Math.max(w.getLineFirstNonWhitespaceColumn(L.startLineNumber),L.startColumn);let U=w.getLineContent(x).lastIndexOf(N,W-1),K=w.getLineContent(T).indexOf(O,L.endColumn-1-N.length);return U!==-1&&K===-1&&(K=w.getLineContent(x).indexOf(O,U+N.length),T=x),U===-1&&K!==-1&&(U=w.getLineContent(T).lastIndexOf(N,K),x=T),L.isEmpty()&&(U===-1||K===-1)&&(U=w.getLineContent(x).indexOf(N),U!==-1&&(K=w.getLineContent(x).indexOf(O,U+N.length))),U!==-1&&w.getLineContent(x).charCodeAt(U+N.length)===32&&(N+=" "),K!==-1&&w.getLineContent(T).charCodeAt(K-1)===32&&(O=" "+O,K-=1),U!==-1&&K!==-1?R._createRemoveBlockCommentOperations(new f.e(x,U+N.length+1,T,K+1),N,O):null}_executeBlockComment(w,L,N){w.tokenization.tokenizeIfCheap(N.startLineNumber);const O=w.getLanguageIdAtPosition(N.startLineNumber,1),x=this.languageConfigurationService.getLanguageConfiguration(O).comments;if(!x||!x.blockCommentStartToken||!x.blockCommentEndToken)return;const T=x.blockCommentStartToken,W=x.blockCommentEndToken;let U=this._attemptRemoveBlockComment(w,N,T,W);if(!U){if(N.isEmpty()){const K=w.getLineContent(N.startLineNumber);let G=p.LC(K);G===-1&&(G=K.length),U=R._createAddBlockCommentOperations(new f.e(N.startLineNumber,G+1,N.startLineNumber,K.length+1),T,W,this._insertSpace)}else U=R._createAddBlockCommentOperations(new f.e(N.startLineNumber,w.getLineFirstNonWhitespaceColumn(N.startLineNumber),N.endLineNumber,w.getLineMaxColumn(N.endLineNumber)),T,W,this._insertSpace);U.length===1&&(this._deltaColumn=T.length+1)}this._selectionId=L.trackSelection(N);for(const K of U)L.addEditOperation(K.range,K.text)}getEditOperations(w,L){let N=this._selection;if(this._moveEndPositionDown=!1,N.startLineNumber===N.endLineNumber&&this._ignoreFirstLine){L.addEditOperation(new f.e(N.startLineNumber,w.getLineMaxColumn(N.startLineNumber),N.startLineNumber+1,1),N.startLineNumber===w.getLineCount()?"":`
`),this._selectionId=L.trackSelection(N);return}N.startLineNumber<N.endLineNumber&&N.endColumn===1&&(this._moveEndPositionDown=!0,N=N.setEndPosition(N.endLineNumber-1,w.getLineMaxColumn(N.endLineNumber-1)));const O=l._gatherPreflightData(this._type,this._insertSpace,w,N.startLineNumber,N.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return O.supported?this._executeLineComments(w,L,O,N):this._executeBlockComment(w,L,N)}computeCursorState(w,L){let N=L.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(N=N.setEndPosition(N.endLineNumber+1,1)),new E.Y(N.selectionStartLineNumber,N.selectionStartColumn+this._deltaColumn,N.positionLineNumber,N.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(w,L){const N=[];for(let O=0,x=w.length;O<x;O++){const T=w[O];T.ignore||N.push(A.h.delete(new f.e(L+O,T.commentStrOffset+1,L+O,T.commentStrOffset+T.commentStrLength+1)))}return N}_createAddLineCommentsOperations(w,L){const N=[],O=this._insertSpace?" ":"";for(let x=0,T=w.length;x<T;x++){const W=w[x];W.ignore||N.push(A.h.insert(new M.L(L+x,W.commentStrOffset+1),W.commentStr+O))}return N}static nextVisibleColumn(w,L,N,O){return N?w+(L-w%L):w+O}static _normalizeInsertionPoint(w,L,N,O){let x=1073741824,T,W;for(let U=0,K=L.length;U<K;U++){if(L[U].ignore)continue;const G=w.getLineContent(N+U);let z=0;for(let k=0,q=L[U].commentStrOffset;z<x&&k<q;k++)z=l.nextVisibleColumn(z,O,G.charCodeAt(k)===9,1);z<x&&(x=z)}x=Math.floor(x/O)*O;for(let U=0,K=L.length;U<K;U++){if(L[U].ignore)continue;const G=w.getLineContent(N+U);let z=0;for(T=0,W=L[U].commentStrOffset;z<x&&T<W;T++)z=l.nextVisibleColumn(z,O,G.charCodeAt(T)===9,1);z>x?L[U].commentStrOffset=T-1:L[U].commentStrOffset=T}}}var d=i(26386),g=i(21208);class n extends B.R6{constructor(w,L){super(L),this._type=w}run(w,L){const N=w.get(v.c_);if(!L.hasModel())return;const O=L.getModel(),x=[],T=O.getOptions(),W=L.getOption(21),U=L.getSelections().map((G,z)=>({selection:G,index:z,ignoreFirstLine:!1}));U.sort((G,z)=>f.e.compareRangesUsingStarts(G.selection,z.selection));let K=U[0];for(let G=1;G<U.length;G++){const z=U[G];K.selection.endLineNumber===z.selection.startLineNumber&&(K.index<z.index?z.ignoreFirstLine=!0:(K.ignoreFirstLine=!0,K=z))}for(const G of U)x.push(new l(N,G.selection,T.tabSize,this._type,W.insertSpace,W.ignoreEmptyLines,G.ignoreFirstLine));L.pushUndoStop(),L.executeCommands(this.id,x),L.pushUndoStop()}}class a extends n{constructor(){super(0,{id:"editor.action.commentLine",label:d.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:_.u.writable,kbOpts:{kbExpr:_.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:g.eH.MenubarEditMenu,group:"5_insert",title:d.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class C extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:d.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:_.u.writable,kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,m.gx)(2089,2081),weight:100}})}}class D extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:d.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:_.u.writable,kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,m.gx)(2089,2099),weight:100}})}}class u extends B.R6{constructor(){super({id:"editor.action.blockComment",label:d.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:_.u.writable,kbOpts:{kbExpr:_.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:g.eH.MenubarEditMenu,group:"5_insert",title:d.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(w,L){const N=w.get(v.c_);if(!L.hasModel())return;const O=L.getOption(21),x=[],T=L.getSelections();for(const W of T)x.push(new R(W,O.insertSpace,N));L.pushUndoStop(),L.executeCommands(this.id,x),L.pushUndoStop()}}(0,B.Qr)(a),(0,B.Qr)(C),(0,B.Qr)(D),(0,B.Qr)(u)},39994:function(Ot,He,i){"use strict";i.r(He),i.d(He,{ContextMenuController:function(){return D}});var m=i(34441),B=i(31957),f=i(98299),_=i(38431),v=i(11138),A=i(55298),M=i(21081),E=i(26386),R=i(21208),p=i(76826),l=i(36953),d=i(62297),g=i(71177),n=i(83799),a=function(S,w,L,N){var O=arguments.length,x=O<3?w:N===null?N=Object.getOwnPropertyDescriptor(w,L):N,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(S,w,L,N);else for(var W=S.length-1;W>=0;W--)(T=S[W])&&(x=(O<3?T(x):O>3?T(w,L,x):T(w,L))||x);return O>3&&x&&Object.defineProperty(w,L,x),x},C=function(S,w){return function(L,N){w(L,N,S)}};let D=class Ch{static get(w){return w.getContribution(Ch.ID)}constructor(w,L,N,O,x,T,W,U){this._contextMenuService=L,this._contextViewService=N,this._contextKeyService=O,this._keybindingService=x,this._menuService=T,this._configurationService=W,this._workspaceContextService=U,this._toDispose=new _.SL,this._contextMenuIsBeingShownCount=0,this._editor=w,this._toDispose.add(this._editor.onContextMenu(K=>this._onContextMenu(K))),this._toDispose.add(this._editor.onMouseWheel(K=>{if(this._contextMenuIsBeingShownCount>0){const G=this._contextViewService.getContextViewElement(),z=K.srcElement;z.shadowRoot&&m.Ay(G)===z.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(K=>{this._editor.getOption(22)&&K.keyCode===58&&(K.preventDefault(),K.stopPropagation(),this.showContextMenu())}))}_onContextMenu(w){if(!this._editor.hasModel())return;if(!this._editor.getOption(22)){this._editor.focus(),w.target.position&&!this._editor.getSelection().containsPosition(w.target.position)&&this._editor.setPosition(w.target.position);return}if(w.target.type===12||w.target.type===6&&w.target.detail.injectedText)return;if(w.event.preventDefault(),w.event.stopPropagation(),w.target.type===11)return this._showScrollbarContextMenu({x:w.event.posx-1,width:2,y:w.event.posy-1,height:2});if(w.target.type!==6&&w.target.type!==7&&w.target.type!==1)return;if(this._editor.focus(),w.target.position){let N=!1;for(const O of this._editor.getSelections())if(O.containsPosition(w.target.position)){N=!0;break}N||this._editor.setPosition(w.target.position)}let L=null;w.target.type!==1&&(L={x:w.event.posx-1,width:2,y:w.event.posy-1,height:2}),this.showContextMenu(L)}showContextMenu(w){if(!this._editor.getOption(22)||!this._editor.hasModel())return;const L=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?R.eH.SimpleEditorContext:R.eH.EditorContext);L.length>0&&this._doShowContextMenu(L,w)}_getMenuActions(w,L){const N=[],O=this._menuService.createMenu(L,this._contextKeyService),x=O.getActions({arg:w.uri});O.dispose();for(const T of x){const[,W]=T;let U=0;for(const K of W)if(K instanceof R.NZ){const G=this._getMenuActions(w,K.item.submenu);G.length>0&&(N.push(new f.wY(K.id,K.label,G)),U++)}else N.push(K),U++;U&&N.push(new f.Z0)}return N.length&&N.pop(),N}_doShowContextMenu(w,L=null){if(!this._editor.hasModel())return;const N=this._editor.getOption(58);if(this._editor.updateOptions({hover:{enabled:!1}}),!L){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const x=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),T=m.i(this._editor.getDomNode()),W=T.left+x.left,U=T.top+x.top+x.height;L={x:W,y:U}}const O=this._editor.getOption(122)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:O?this._editor.getDomNode():void 0,getAnchor:()=>L,getActions:()=>w,getActionViewItem:x=>{const T=this._keybindingFor(x);if(T)return new B.gU(x,x,{label:!0,keybinding:T.getLabel(),isMenu:!0});const W=x;return typeof W.getActionViewItem=="function"?W.getActionViewItem():new B.gU(x,x,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:x=>this._keybindingFor(x),onHide:x=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:N})}})}_showScrollbarContextMenu(w){if(!this._editor.hasModel()||(0,n.x)(this._workspaceContextService.getWorkspace()))return;const L=this._editor.getOption(70);let N=0;const O=K=>({id:`menu-action-${++N}`,label:K.label,tooltip:"",class:void 0,enabled:typeof K.enabled=="undefined"?!0:K.enabled,checked:K.checked,run:K.run}),x=(K,G)=>new f.wY(`menu-action-${++N}`,K,G,void 0),T=(K,G,z,k,q)=>{if(!G)return O({label:K,enabled:G,run:()=>{}});const te=j=>()=>{this._configurationService.updateValue(z,j)},X=[];for(const j of q)X.push(O({label:j.label,checked:k===j.value,run:te(j.value)}));return x(K,X)},W=[];W.push(O({label:E.NC("context.minimap.minimap","Minimap"),checked:L.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!L.enabled)}})),W.push(new f.Z0),W.push(O({label:E.NC("context.minimap.renderCharacters","Render Characters"),enabled:L.enabled,checked:L.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!L.renderCharacters)}})),W.push(T(E.NC("context.minimap.size","Vertical size"),L.enabled,"editor.minimap.size",L.size,[{label:E.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:E.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:E.NC("context.minimap.size.fit","Fit"),value:"fit"}])),W.push(T(E.NC("context.minimap.slider","Slider"),L.enabled,"editor.minimap.showSlider",L.showSlider,[{label:E.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:E.NC("context.minimap.slider.always","Always"),value:"always"}]));const U=this._editor.getOption(122)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:U?this._editor.getDomNode():void 0,getAnchor:()=>w,getActions:()=>W,onHide:K=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(w){return this._keybindingService.lookupKeybinding(w.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};D.ID="editor.contrib.contextmenu",D=a([C(1,l.i),C(2,l.u),C(3,p.i6),C(4,d.d),C(5,R.co),C(6,g.Ui),C(7,n.ec)],D);class u extends A.R6{constructor(){super({id:"editor.action.showContextMenu",label:E.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:M.u.textInputFocus,primary:1092,weight:100}})}run(w,L){var N;(N=D.get(L))===null||N===void 0||N.showContextMenu()}}(0,A._K)(D.ID,D,2),(0,A.Qr)(u)},79389:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(86689),f=i(89181),_=i(34441),v=i(13484),A=i(31837),M=i(38431),E=i(9161),R=i(5007),p=i(38577),l=i(49078),d=i(53028),g=i(50038),n=i(57841),a=i(35921),C=i(44426),D=i(35366),u=i(26386),S=i(51941),w=i(71177),L=i(79969),N=function(z,k,q,te){var X=arguments.length,j=X<3?k:te===null?te=Object.getOwnPropertyDescriptor(k,q):te,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(z,k,q,te);else for(var Y=z.length-1;Y>=0;Y--)(J=z[Y])&&(j=(X<3?J(j):X>3?J(k,q,j):J(k,q))||j);return X>3&&j&&Object.defineProperty(k,q,j),j},O=function(z,k){return function(q,te){k(q,te,z)}},x=function(z,k,q,te){function X(j){return j instanceof q?j:new q(function(J){J(j)})}return new(q||(q=Promise))(function(j,J){function Y(De){try{fe(te.next(De))}catch(Ne){J(Ne)}}function ee(De){try{fe(te.throw(De))}catch(Ne){J(Ne)}}function fe(De){De.done?j(De.value):X(De.value).then(Y,ee)}fe((te=te.apply(z,k||[])).next())})};const T="application/vnd.code.copyMetadata";let W=class extends M.JT{constructor(k,q,te,X,j,J){super(),this._bulkEditService=q,this._clipboardService=te,this._configurationService=X,this._languageFeaturesService=j,this._progressService=J,this._editor=k;const Y=k.getContainerDomNode();this._register((0,_.nm)(Y,"copy",ee=>this.handleCopy(ee))),this._register((0,_.nm)(Y,"cut",ee=>this.handleCopy(ee))),this._register((0,_.nm)(Y,"paste",ee=>this.handlePaste(ee),!0))}arePasteActionsEnabled(k){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:k.uri})?!0:k.uri.scheme===R.lg.vscodeNotebookCell}handleCopy(k){var q;if(!k.clipboardData||!this._editor.hasTextFocus())return;const te=this._editor.getModel(),X=this._editor.getSelections();if(!te||!(X!=null&&X.length)||!this.arePasteActionsEnabled(te))return;const j=[...X],J=X[0],Y=J.isEmpty();if(Y){if(!this._editor.getOption(35))return;j[0]=new g.e(J.startLineNumber,0,J.startLineNumber,te.getLineLength(J.startLineNumber))}const ee=this._languageFeaturesService.documentPasteEditProvider.ordered(te).filter(be=>!!be.prepareDocumentPaste);if(!ee.length){this.setCopyMetadata(k.clipboardData,{wasFromEmptySelection:Y});return}const fe=(0,l.B)(k.clipboardData),De=(0,p.R)();this.setCopyMetadata(k.clipboardData,{id:De,wasFromEmptySelection:Y});const Ne=(0,v.PG)(be=>x(this,void 0,void 0,function*(){const xe=yield Promise.all(ee.map(Le=>Le.prepareDocumentPaste(te,j,fe,be)));for(const Le of xe)Le==null||Le.forEach((ue,re)=>{fe.replace(re,ue)});return fe}));(q=this._currentClipboardItem)===null||q===void 0||q.dataTransferPromise.cancel(),this._currentClipboardItem={handle:De,dataTransferPromise:Ne}}setCopyMetadata(k,q){k.setData(T,JSON.stringify(q))}handlePaste(k){var q,te,X,j;return x(this,void 0,void 0,function*(){if(!k.clipboardData||!this._editor.hasTextFocus())return;const J=this._editor.getSelections();if(!(J!=null&&J.length)||!this._editor.hasModel())return;const Y=this._editor.getModel();if(!this.arePasteActionsEnabled(Y))return;let ee;const fe=(q=k.clipboardData)===null||q===void 0?void 0:q.getData(T);fe&&typeof fe=="string"&&(ee=JSON.parse(fe));const De=this._languageFeaturesService.documentPasteEditProvider.ordered(Y);if(!De.length)return;k.preventDefault(),k.stopImmediatePropagation();const Ne=new C.Dl(this._editor,3);try{const be=(0,l.B)(k.clipboardData);if(ee!=null&&ee.id&&((te=this._currentClipboardItem)===null||te===void 0?void 0:te.handle)===ee.id){const Le=yield this._currentClipboardItem.dataTransferPromise;if(Ne.token.isCancellationRequested)return;Le.forEach((ue,re)=>{be.replace(re,ue)})}if(!be.has(E.v.uriList)){const Le=yield this._clipboardService.readResources();if(Ne.token.isCancellationRequested)return;Le.length&&be.append(E.v.uriList,(0,A.ZO)(A.Z0.create(Le)))}be.delete(T);const xe=yield this._progressService.withProgress({location:15,delay:750,title:(0,u.NC)("pasteProgressTitle","Running paste handlers..."),cancellable:!0},()=>this.getProviderPasteEdit(De,be,Y,J,Ne.token),()=>Ne.cancel());if(Ne.token.isCancellationRequested)return;if(xe){const Le=typeof xe.insertText=="string"?D.Yj.escape(xe.insertText):xe.insertText.snippet,ue={edits:[new d.Gl(Y.uri,{range:n.Y.liftSelection(this._editor.getSelection()),text:Le,insertAsSnippet:!0}),...(j=(X=xe.additionalEdit)===null||X===void 0?void 0:X.edits)!==null&&j!==void 0?j:[]]};yield this._bulkEditService.apply(ue,{editor:this._editor});return}yield this.applyDefaultPasteHandler(be,ee,Ne.token)}finally{Ne.dispose()}})}getProviderPasteEdit(k,q,te,X,j){return(0,v.eP)((()=>x(this,void 0,void 0,function*(){for(const J of k){if(j.isCancellationRequested)return;if(!U(J,q))continue;const Y=yield J.provideDocumentPasteEdits(te,X,q,j);if(Y)return Y}}))(),j)}applyDefaultPasteHandler(k,q,te){var X;return x(this,void 0,void 0,function*(){const j=(X=k.get(E.v.text))!==null&&X!==void 0?X:k.get("text");if(!j)return;const J=yield j.asString();te.isCancellationRequested||this._editor.trigger("keyboard","paste",{text:J,pasteOnNewLine:q==null?void 0:q.wasFromEmptySelection,multicursorText:null})})}};W.ID="editor.contrib.copyPasteActionController",W=N([O(1,d.vu),O(2,S.p),O(3,w.Ui),O(4,a.p),O(5,L.R9)],W);function U(z,k){return z.pasteMimeTypes.some(q=>q.toLowerCase()===f.g.FILES.toLowerCase()?[...k.values()].some(te=>te.asFile()):k.has(q))}var K=i(12326),G=i(6325);(0,m._K)(W.ID,W,0),G.B.as(K.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},B.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:u.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},74744:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CursorRedo:function(){return R},CursorUndo:function(){return E},CursorUndoRedoController:function(){return M}});var m=i(38431),B=i(55298),f=i(21081),_=i(26386);class v{constructor(l){this.selections=l}equals(l){const d=this.selections.length,g=l.selections.length;if(d!==g)return!1;for(let n=0;n<d;n++)if(!this.selections[n].equalsSelection(l.selections[n]))return!1;return!0}}class A{constructor(l,d,g){this.cursorState=l,this.scrollTop=d,this.scrollLeft=g}}class M extends m.JT{static get(l){return l.getContribution(M.ID)}constructor(l){super(),this._editor=l,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(l.onDidChangeModel(d=>{this._undoStack=[],this._redoStack=[]})),this._register(l.onDidChangeModelContent(d=>{this._undoStack=[],this._redoStack=[]})),this._register(l.onDidChangeCursorSelection(d=>{if(this._isCursorUndoRedo||!d.oldSelections||d.oldModelVersionId!==d.modelVersionId)return;const g=new v(d.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(g)||(this._undoStack.push(new A(g,l.getScrollTop(),l.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new A(new v(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new A(new v(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(l){this._isCursorUndoRedo=!0,this._editor.setSelections(l.cursorState.selections),this._editor.setScrollPosition({scrollTop:l.scrollTop,scrollLeft:l.scrollLeft}),this._isCursorUndoRedo=!1}}M.ID="editor.contrib.cursorUndoRedoController";class E extends B.R6{constructor(){super({id:"cursorUndo",label:_.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:f.u.textInputFocus,primary:2099,weight:100}})}run(l,d,g){var n;(n=M.get(d))===null||n===void 0||n.cursorUndo()}}class R extends B.R6{constructor(){super({id:"cursorRedo",label:_.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(l,d,g){var n;(n=M.get(d))===null||n===void 0||n.cursorRedo()}}(0,B._K)(M.ID,M,0),(0,B.Qr)(E),(0,B.Qr)(R)},57042:function(Ot,He,i){"use strict";i.r(He),i.d(He,{DragAndDropController:function(){return p}});var m=i(38431),B=i(11138),f=i(55298),_=i(8964),v=i(50038),A=i(57841),M=i(45007);class E{constructor(d,g,n){this.selection=d,this.targetPosition=g,this.copy=n,this.targetSelection=null}getEditOperations(d,g){const n=d.getValueInRange(this.selection);if(this.copy||g.addEditOperation(this.selection,null),g.addEditOperation(new v.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new A.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new A.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new A.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new A.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new A.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(d,g){return this.targetSelection}}function R(l){return B.dz?l.altKey:l.ctrlKey}class p extends m.JT{constructor(d){super(),this._editor=d,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(g=>this._onEditorMouseDown(g))),this._register(this._editor.onMouseUp(g=>this._onEditorMouseUp(g))),this._register(this._editor.onMouseDrag(g=>this._onEditorMouseDrag(g))),this._register(this._editor.onMouseDrop(g=>this._onEditorMouseDrop(g))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(g=>this.onEditorKeyDown(g))),this._register(this._editor.onKeyUp(g=>this.onEditorKeyUp(g))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(d){!this._editor.getOption(33)||this._editor.getOption(20)||(R(d)&&(this._modifierPressed=!0),this._mouseDown&&R(d)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(d){!this._editor.getOption(33)||this._editor.getOption(20)||(R(d)&&(this._modifierPressed=!1),this._mouseDown&&d.keyCode===p.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(d){this._mouseDown=!0}_onEditorMouseUp(d){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(d){const g=d.target;if(this._dragSelection===null){const a=(this._editor.getSelections()||[]).filter(C=>g.position&&C.containsPosition(g.position));if(a.length===1)this._dragSelection=a[0];else return}R(d.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),g.position&&(this._dragSelection.containsPosition(g.position)?this._removeDecoration():this.showAt(g.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(d){if(d.target&&(this._hitContent(d.target)||this._hitMargin(d.target))&&d.target.position){const g=new _.L(d.target.position.lineNumber,d.target.position.column);if(this._dragSelection===null){let n=null;if(d.event.shiftKey){const a=this._editor.getSelection();if(a){const{selectionStartLineNumber:C,selectionStartColumn:D}=a;n=[new A.Y(C,D,g.lineNumber,g.column)]}}else n=(this._editor.getSelections()||[]).map(a=>a.containsPosition(g)?new A.Y(g.lineNumber,g.column,g.lineNumber,g.column):a);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(g)||(R(d.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(g)||this._dragSelection.getStartPosition().equals(g)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(p.ID,new E(this._dragSelection,g,R(d.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(d){this._dndDecorationIds.set([{range:new v.e(d.lineNumber,d.column,d.lineNumber,d.column),options:p._DECORATION_OPTIONS}]),this._editor.revealPosition(d,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(d){return d.type===6||d.type===7}_hitMargin(d){return d.type===2||d.type===3||d.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}p.ID="editor.contrib.dragAndDrop",p.TRIGGER_KEY_VALUE=B.dz?6:5,p._DECORATION_OPTIONS=M.qx.register({description:"dnd-target",className:"dnd-target"}),(0,f._K)(p.ID,p,2)},30233:function(Ot,He,i){"use strict";i.r(He);var m=i(97464),B=i(14818),f=i(28919),_=i(91223),v=i(79931),A=i(80793),M=function(E,R,p,l){function d(g){return g instanceof p?g:new p(function(n){n(g)})}return new(p||(p=Promise))(function(g,n){function a(u){try{D(l.next(u))}catch(S){n(S)}}function C(u){try{D(l.throw(u))}catch(S){n(S)}}function D(u){u.done?g(u.value):d(u.value).then(a,C)}D((l=l.apply(E,R||[])).next())})};A.P.registerCommand("_executeDocumentSymbolProvider",function(E,...R){return M(this,void 0,void 0,function*(){const[p]=R;(0,B.p_)(f.o.isUri(p));const l=E.get(v.Je),g=yield E.get(_.S).createModelReference(p);try{return(yield l.getOrCreate(g.object.textEditorModel,m.T.None)).getTopLevelSymbols()}finally{g.dispose()}})})},79931:function(Ot,He,i){"use strict";i.d(He,{C3:function(){return w},H3:function(){return S},Je:function(){return L},sT:function(){return u}});var m=i(16308),B=i(97464),f=i(20996),_=i(97865),v=i(39832),A=i(8964),M=i(50038),E=i(69060),R=i(44333),p=i(53061),l=i(65041),d=i(38431),g=i(35921),n=function(O,x,T,W){var U=arguments.length,K=U<3?x:W===null?W=Object.getOwnPropertyDescriptor(x,T):W,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(O,x,T,W);else for(var z=O.length-1;z>=0;z--)(G=O[z])&&(K=(U<3?G(K):U>3?G(x,T,K):G(x,T))||K);return U>3&&K&&Object.defineProperty(x,T,K),K},a=function(O,x){return function(T,W){x(T,W,O)}},C=function(O,x,T,W){function U(K){return K instanceof T?K:new T(function(G){G(K)})}return new(T||(T=Promise))(function(K,G){function z(te){try{q(W.next(te))}catch(X){G(X)}}function k(te){try{q(W.throw(te))}catch(X){G(X)}}function q(te){te.done?K(te.value):U(te.value).then(z,k)}q((W=W.apply(O,x||[])).next())})};class D{remove(){var x;(x=this.parent)===null||x===void 0||x.children.delete(this.id)}static findId(x,T){let W;typeof x=="string"?W=`${T.id}/${x}`:(W=`${T.id}/${x.name}`,T.children.get(W)!==void 0&&(W=`${T.id}/${x.name}_${x.range.startLineNumber}_${x.range.startColumn}`));let U=W;for(let K=0;T.children.get(U)!==void 0;K++)U=`${W}_${K}`;return U}static empty(x){return x.children.size===0}}class u extends D{constructor(x,T,W){super(),this.id=x,this.parent=T,this.symbol=W,this.children=new Map}}class S extends D{constructor(x,T,W,U){super(),this.id=x,this.parent=T,this.label=W,this.order=U,this.children=new Map}}class w extends D{static create(x,T,W){const U=new B.A(W),K=new w(T.uri),G=x.ordered(T),z=G.map((q,te)=>{var X;const j=D.findId(`provider_${te}`,K),J=new S(j,K,(X=q.displayName)!==null&&X!==void 0?X:"Unknown Outline Provider",te);return Promise.resolve(q.provideDocumentSymbols(T,U.token)).then(Y=>{for(const ee of Y||[])w._makeOutlineElement(ee,J);return J},Y=>((0,f.Cp)(Y),J)).then(Y=>{D.empty(Y)?Y.remove():K._groups.set(j,Y)})}),k=x.onDidChange(()=>{const q=x.ordered(T);(0,m.fS)(q,G)||U.cancel()});return Promise.all(z).then(()=>U.token.isCancellationRequested&&!W.isCancellationRequested?w.create(x,T,W):K._compact()).finally(()=>{k.dispose()})}static _makeOutlineElement(x,T){const W=D.findId(x,T),U=new u(W,T,x);if(x.children)for(const K of x.children)w._makeOutlineElement(K,U);T.children.set(U.id,U)}constructor(x){super(),this.uri=x,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let x=0;for(const[T,W]of this._groups)W.children.size===0?this._groups.delete(T):x+=1;if(x!==1)this.children=this._groups;else{const T=_.$.first(this._groups.values());for(const[,W]of T.children)W.parent=this,this.children.set(W.id,W)}return this}getTopLevelSymbols(){const x=[];for(const T of this.children.values())T instanceof u?x.push(T.symbol):x.push(..._.$.map(T.children.values(),W=>W.symbol));return x.sort((T,W)=>M.e.compareRangesUsingStarts(T.range,W.range))}asListOfDocumentSymbols(){const x=this.getTopLevelSymbols(),T=[];return w._flattenDocumentSymbols(T,x,""),T.sort((W,U)=>A.L.compare(M.e.getStartPosition(W.range),M.e.getStartPosition(U.range))||A.L.compare(M.e.getEndPosition(U.range),M.e.getEndPosition(W.range)))}static _flattenDocumentSymbols(x,T,W){for(const U of T)x.push({kind:U.kind,tags:U.tags,name:U.name,detail:U.detail,containerName:U.containerName||W,range:U.range,selectionRange:U.selectionRange,children:void 0}),U.children&&w._flattenDocumentSymbols(x,U.children,U.name)}}const L=(0,R.yh)("IOutlineModelService");let N=class{constructor(x,T,W){this._languageFeaturesService=x,this._disposables=new d.SL,this._cache=new v.z6(10,.7),this._debounceInformation=T.for(x.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(W.onModelRemoved(U=>{this._cache.delete(U.id)}))}dispose(){this._disposables.dispose()}getOrCreate(x,T){return C(this,void 0,void 0,function*(){const W=this._languageFeaturesService.documentSymbolProvider,U=W.ordered(x);let K=this._cache.get(x.id);if(!K||K.versionId!==x.getVersionId()||!(0,m.fS)(K.provider,U)){const z=new B.A;K={versionId:x.getVersionId(),provider:U,promiseCnt:0,source:z,promise:w.create(W,x,z.token),model:void 0},this._cache.set(x.id,K);const k=Date.now();K.promise.then(q=>{K.model=q,this._debounceInformation.update(x,Date.now()-k)}).catch(q=>{this._cache.delete(x.id)})}if(K.model)return K.model;K.promiseCnt+=1;const G=T.onCancellationRequested(()=>{--K.promiseCnt===0&&(K.source.cancel(),this._cache.delete(x.id))});try{return yield K.promise}finally{G.dispose()}})}};N=n([a(0,g.p),a(1,E.A),a(2,l.q)],N),(0,p.z)(L,N,1)},90680:function(Ot,He,i){"use strict";i.r(He),i.d(He,{DropIntoEditorController:function(){return w}});var m=i(13484),B=i(31837),f=i(38431),_=i(9161),v=i(6227),A=i(28919),M=i(49078),E=i(55298),R=i(53028),p=i(50038),l=i(35921),d=i(44426),g=i(35366),n=i(26386),a=i(79969),C=i(83799),D=function(N,O,x,T){var W=arguments.length,U=W<3?O:T===null?T=Object.getOwnPropertyDescriptor(O,x):T,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(N,O,x,T);else for(var G=N.length-1;G>=0;G--)(K=N[G])&&(U=(W<3?K(U):W>3?K(O,x,U):K(O,x))||U);return W>3&&U&&Object.defineProperty(O,x,U),U},u=function(N,O){return function(x,T){O(x,T,N)}},S=function(N,O,x,T){function W(U){return U instanceof x?U:new x(function(K){K(U)})}return new(x||(x=Promise))(function(U,K){function G(q){try{k(T.next(q))}catch(te){K(te)}}function z(q){try{k(T.throw(q))}catch(te){K(te)}}function k(q){q.done?U(q.value):W(q.value).then(G,z)}k((T=T.apply(N,O||[])).next())})};let w=class extends f.JT{constructor(O,x,T,W,U){super(),this._bulkEditService=x,this._languageFeaturesService=T,this._progressService=W,this._register(O.onDropIntoEditor(K=>this.onDropIntoEditor(O,K.position,K.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new L(U))}onDropIntoEditor(O,x,T){var W,U;return S(this,void 0,void 0,function*(){if(!T.dataTransfer||!O.hasModel())return;const K=O.getModel(),G=K.getVersionId(),z=yield this.extractDataTransferData(T);if(z.size===0||O.getModel().getVersionId()!==G)return;const k=new d.Dl(O,1);try{const q=this._languageFeaturesService.documentOnDropEditProvider.ordered(K),te=yield this._progressService.withProgress({location:15,delay:750,title:(0,n.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,m.eP)((()=>S(this,void 0,void 0,function*(){for(const X of q){const j=yield X.provideDocumentOnDropEdits(K,x,z,k.token);if(k.token.isCancellationRequested)return;if(j)return j}}))(),k.token),()=>{k.cancel()});if(k.token.isCancellationRequested||O.getModel().getVersionId()!==G)return;if(te){const X=typeof te.insertText=="string"?g.Yj.escape(te.insertText):te.insertText.snippet,j={edits:[new R.Gl(K.uri,{range:new p.e(x.lineNumber,x.column,x.lineNumber,x.column),text:X,insertAsSnippet:!0}),...(U=(W=te.additionalEdit)===null||W===void 0?void 0:W.edits)!==null&&U!==void 0?U:[]]};O.focus(),yield this._bulkEditService.apply(j,{editor:O});return}}finally{k.dispose()}})}extractDataTransferData(O){return S(this,void 0,void 0,function*(){if(!O.dataTransfer)return new B.Hl;const x=(0,M.B)(O.dataTransfer);return(0,M.d)(x,O),x})}};w.ID="editor.contrib.dropIntoEditorController",w=D([u(1,R.vu),u(2,l.p),u(3,a.R9),u(4,C.ec)],w);let L=class{constructor(O){this._workspaceContextService=O}provideDocumentOnDropEdits(O,x,T,W){var U;return S(this,void 0,void 0,function*(){const K=T.get(_.v.uriList);if(K){const z=yield K.asString(),k=this.getUriListInsertText(z);if(k)return{insertText:k}}const G=(U=T.get("text"))!==null&&U!==void 0?U:T.get(_.v.text);if(G)return{insertText:yield G.asString()}})}getUriListInsertText(O){const x=[];for(const T of B.Z0.parse(O))try{x.push(A.o.parse(T))}catch(W){}if(x.length)return x.map(T=>{const W=this._workspaceContextService.getWorkspaceFolder(T);if(W){const U=(0,v.lX)(W.uri,T);if(U)return U}return T.fsPath}).join(" ")}};L=D([u(0,C.ec)],L),(0,E._K)(w.ID,w,2)},44426:function(Ot,He,i){"use strict";i.d(He,{yy:function(){return n},Dl:function(){return a},YQ:function(){return C}});var m=i(17416),B=i(50038),f=i(97464),_=i(38431),v=i(55298),A=i(76826),M=i(17979),E=i(44333),R=i(53061),p=i(26386);const l=(0,E.yh)("IEditorCancelService"),d=new A.uy("cancellableOperation",!1,(0,p.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,R.z)(l,class{constructor(){this._tokens=new WeakMap}add(D,u){let S=this._tokens.get(D);S||(S=D.invokeWithinContext(L=>{const N=d.bindTo(L.get(A.i6)),O=new M.S;return{key:N,tokens:O}}),this._tokens.set(D,S));let w;return S.key.set(!0),w=S.tokens.push(u),()=>{w&&(w(),S.key.set(!S.tokens.isEmpty()),w=void 0)}}cancel(D){const u=this._tokens.get(D);if(!u)return;const S=u.tokens.pop();S&&(S.cancel(),u.key.set(!u.tokens.isEmpty()))}},1);class g extends f.A{constructor(u,S){super(S),this.editor=u,this._unregister=u.invokeWithinContext(w=>w.get(l).add(u,this))}dispose(){this._unregister(),super.dispose()}}(0,v.fK)(new class extends v._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:d})}runEditorCommand(D,u){D.get(l).cancel(u)}});class n{constructor(u,S){if(this.flags=S,this.flags&1){const w=u.getModel();this.modelVersionId=w?m.WU("{0}#{1}",w.uri.toString(),w.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=u.getPosition():this.position=null,this.flags&2?this.selection=u.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=u.getScrollLeft(),this.scrollTop=u.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(u){if(!(u instanceof n))return!1;const S=u;return!(this.modelVersionId!==S.modelVersionId||this.scrollLeft!==S.scrollLeft||this.scrollTop!==S.scrollTop||!this.position&&S.position||this.position&&!S.position||this.position&&S.position&&!this.position.equals(S.position)||!this.selection&&S.selection||this.selection&&!S.selection||this.selection&&S.selection&&!this.selection.equalsRange(S.selection))}validate(u){return this._equals(new n(u,this.flags))}}class a extends g{constructor(u,S,w,L){super(u,L),this._listener=new _.SL,S&4&&this._listener.add(u.onDidChangeCursorPosition(N=>{(!w||!B.e.containsPosition(w,N.position))&&this.cancel()})),S&2&&this._listener.add(u.onDidChangeCursorSelection(N=>{(!w||!B.e.containsRange(w,N.selection))&&this.cancel()})),S&8&&this._listener.add(u.onDidScrollChange(N=>this.cancel())),S&1&&(this._listener.add(u.onDidChangeModel(N=>this.cancel())),this._listener.add(u.onDidChangeModelContent(N=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class C extends f.A{constructor(u,S){super(S),this._listener=u.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},27293:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CommonFindController:function(){return yn},FindController:function(){return en},MatchFindAction:function(){return hs},MoveToMatchFindAction:function(){return Yn},NextMatchFindAction:function(){return Ts},NextSelectionMatchFindAction:function(){return ci},PreviousMatchFindAction:function(){return In},PreviousSelectionMatchFindAction:function(){return ui},SelectionMatchFindAction:function(){return pi},StartFindAction:function(){return Ms},StartFindReplaceAction:function(){return wt},StartFindWithArgsAction:function(){return ps},StartFindWithSelectionAction:function(){return oo},getSelectionSearchString:function(){return Wn}});var m=i(13484),B=i(38431),f=i(17416),_=i(55298),v=i(44411),A=i(21081),M=i(41913),E=i(16308),R=i(38050),p=i(8964),l=i(50038),d=i(57841),g=i(58461),n=i(45007),a=i(92537),C=i(58566);class D{constructor(le){this._editor=le,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const le=this._findScopeDecorationIds.map(Be=>this._editor.getModel().getDecorationRange(Be)).filter(Be=>!!Be);if(le.length)return le}return null}getStartPosition(){return this._startPosition}setStartPosition(le){this._startPosition=le,this.setCurrentFindMatch(null)}_getDecorationIndex(le){const Be=this._decorations.indexOf(le);return Be>=0?Be+1:1}getDecorationRangeAt(le){const Be=le<this._decorations.length?this._decorations[le]:null;return Be?this._editor.getModel().getDecorationRange(Be):null}getCurrentMatchesPosition(le){const Be=this._editor.getModel().getDecorationsInRange(le);for(const Ke of Be){const Ge=Ke.options;if(Ge===D._FIND_MATCH_DECORATION||Ge===D._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(Ke.id)}return 0}setCurrentFindMatch(le){let Be=null,Ke=0;if(le)for(let Ge=0,ye=this._decorations.length;Ge<ye;Ge++){const ze=this._editor.getModel().getDecorationRange(this._decorations[Ge]);if(le.equalsRange(ze)){Be=this._decorations[Ge],Ke=Ge+1;break}}return(this._highlightedDecorationId!==null||Be!==null)&&this._editor.changeDecorations(Ge=>{if(this._highlightedDecorationId!==null&&(Ge.changeDecorationOptions(this._highlightedDecorationId,D._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),Be!==null&&(this._highlightedDecorationId=Be,Ge.changeDecorationOptions(this._highlightedDecorationId,D._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(Ge.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),Be!==null){let ye=this._editor.getModel().getDecorationRange(Be);if(ye.startLineNumber!==ye.endLineNumber&&ye.endColumn===1){const ze=ye.endLineNumber-1,lt=this._editor.getModel().getLineMaxColumn(ze);ye=new l.e(ye.startLineNumber,ye.startColumn,ze,lt)}this._rangeHighlightDecorationId=Ge.addDecoration(ye,D._RANGE_HIGHLIGHT_DECORATION)}}),Ke}set(le,Be){this._editor.changeDecorations(Ke=>{let Ge=D._FIND_MATCH_DECORATION;const ye=[];if(le.length>1e3){Ge=D._FIND_MATCH_NO_OVERVIEW_DECORATION;const lt=this._editor.getModel().getLineCount(),Bt=this._editor.getLayoutInfo().height/lt,At=Math.max(2,Math.ceil(3/Bt));let ii=le[0].range.startLineNumber,vi=le[0].range.endLineNumber;for(let yi=1,hi=le.length;yi<hi;yi++){const Si=le[yi].range;vi+At>=Si.startLineNumber?Si.endLineNumber>vi&&(vi=Si.endLineNumber):(ye.push({range:new l.e(ii,1,vi,1),options:D._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),ii=Si.startLineNumber,vi=Si.endLineNumber)}ye.push({range:new l.e(ii,1,vi,1),options:D._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const ze=new Array(le.length);for(let lt=0,Rt=le.length;lt<Rt;lt++)ze[lt]={range:le[lt].range,options:Ge};this._decorations=Ke.deltaDecorations(this._decorations,ze),this._overviewRulerApproximateDecorations=Ke.deltaDecorations(this._overviewRulerApproximateDecorations,ye),this._rangeHighlightDecorationId&&(Ke.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(lt=>Ke.removeDecoration(lt)),this._findScopeDecorationIds=[]),Be!=null&&Be.length&&(this._findScopeDecorationIds=Be.map(lt=>Ke.addDecoration(lt,D._FIND_SCOPE_DECORATION)))})}matchBeforePosition(le){if(this._decorations.length===0)return null;for(let Be=this._decorations.length-1;Be>=0;Be--){const Ke=this._decorations[Be],Ge=this._editor.getModel().getDecorationRange(Ke);if(!(!Ge||Ge.endLineNumber>le.lineNumber)){if(Ge.endLineNumber<le.lineNumber)return Ge;if(!(Ge.endColumn>le.column))return Ge}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(le){if(this._decorations.length===0)return null;for(let Be=0,Ke=this._decorations.length;Be<Ke;Be++){const Ge=this._decorations[Be],ye=this._editor.getModel().getDecorationRange(Ge);if(!(!ye||ye.startLineNumber<le.lineNumber)){if(ye.startLineNumber>le.lineNumber)return ye;if(!(ye.startColumn<le.column))return ye}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let le=[];return le=le.concat(this._decorations),le=le.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&le.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&le.push(this._rangeHighlightDecorationId),le}}D._CURRENT_FIND_MATCH_DECORATION=n.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,C.EN)(a.Fm_),position:M.sh.Center},minimap:{color:(0,C.EN)(a.SUY),position:M.F5.Inline}}),D._FIND_MATCH_DECORATION=n.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,C.EN)(a.Fm_),position:M.sh.Center},minimap:{color:(0,C.EN)(a.SUY),position:M.F5.Inline}}),D._FIND_MATCH_NO_OVERVIEW_DECORATION=n.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),D._FIND_MATCH_ONLY_OVERVIEW_DECORATION=n.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,C.EN)(a.Fm_),position:M.sh.Center}}),D._RANGE_HIGHLIGHT_DECORATION=n.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),D._FIND_SCOPE_DECORATION=n.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class u{constructor(le,Be,Ke){this._editorSelection=le,this._ranges=Be,this._replaceStrings=Ke,this._trackedEditorSelectionId=null}getEditOperations(le,Be){if(this._ranges.length>0){const Ke=[];for(let ze=0;ze<this._ranges.length;ze++)Ke.push({range:this._ranges[ze],text:this._replaceStrings[ze]});Ke.sort((ze,lt)=>l.e.compareRangesUsingStarts(ze.range,lt.range));const Ge=[];let ye=Ke[0];for(let ze=1;ze<Ke.length;ze++)ye.range.endLineNumber===Ke[ze].range.startLineNumber&&ye.range.endColumn===Ke[ze].range.startColumn?(ye.range=ye.range.plusRange(Ke[ze].range),ye.text=ye.text+Ke[ze].text):(Ge.push(ye),ye=Ke[ze]);Ge.push(ye);for(const ze of Ge)Be.addEditOperation(ze.range,ze.text)}this._trackedEditorSelectionId=Be.trackSelection(this._editorSelection)}computeCursorState(le,Be){return Be.getTrackedSelection(this._trackedEditorSelectionId)}}function S(Oe,le){if(Oe&&Oe[0]!==""){const Be=w(Oe,le,"-"),Ke=w(Oe,le,"_");return Be&&!Ke?L(Oe,le,"-"):!Be&&Ke?L(Oe,le,"_"):Oe[0].toUpperCase()===Oe[0]?le.toUpperCase():Oe[0].toLowerCase()===Oe[0]?le.toLowerCase():f.Kw(Oe[0][0])&&le.length>0?le[0].toUpperCase()+le.substr(1):Oe[0][0].toUpperCase()!==Oe[0][0]&&le.length>0?le[0].toLowerCase()+le.substr(1):le}else return le}function w(Oe,le,Be){return Oe[0].indexOf(Be)!==-1&&le.indexOf(Be)!==-1&&Oe[0].split(Be).length===le.split(Be).length}function L(Oe,le,Be){const Ke=le.split(Be),Ge=Oe[0].split(Be);let ye="";return Ke.forEach((ze,lt)=>{ye+=S([Ge[lt]],ze)+Be}),ye.slice(0,-1)}class N{constructor(le){this.staticValue=le,this.kind=0}}class O{constructor(le){this.pieces=le,this.kind=1}}class x{static fromStaticValue(le){return new x([T.staticValue(le)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(le){!le||le.length===0?this._state=new N(""):le.length===1&&le[0].staticValue!==null?this._state=new N(le[0].staticValue):this._state=new O(le)}buildReplaceString(le,Be){if(this._state.kind===0)return Be?S(le,this._state.staticValue):this._state.staticValue;let Ke="";for(let Ge=0,ye=this._state.pieces.length;Ge<ye;Ge++){const ze=this._state.pieces[Ge];if(ze.staticValue!==null){Ke+=ze.staticValue;continue}let lt=x._substitute(ze.matchIndex,le);if(ze.caseOps!==null&&ze.caseOps.length>0){const Rt=[],Bt=ze.caseOps.length;let At=0;for(let ii=0,vi=lt.length;ii<vi;ii++){if(At>=Bt){Rt.push(lt.slice(ii));break}switch(ze.caseOps[At]){case"U":Rt.push(lt[ii].toUpperCase());break;case"u":Rt.push(lt[ii].toUpperCase()),At++;break;case"L":Rt.push(lt[ii].toLowerCase());break;case"l":Rt.push(lt[ii].toLowerCase()),At++;break;default:Rt.push(lt[ii])}}lt=Rt.join("")}Ke+=lt}return Ke}static _substitute(le,Be){if(Be===null)return"";if(le===0)return Be[0];let Ke="";for(;le>0;){if(le<Be.length)return(Be[le]||"")+Ke;Ke=String(le%10)+Ke,le=Math.floor(le/10)}return"$"+Ke}}class T{static staticValue(le){return new T(le,-1,null)}static caseOps(le,Be){return new T(null,le,Be)}constructor(le,Be,Ke){this.staticValue=le,this.matchIndex=Be,!Ke||Ke.length===0?this.caseOps=null:this.caseOps=Ke.slice(0)}}class W{constructor(le){this._source=le,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(le){this._emitStatic(this._source.substring(this._lastCharIndex,le)),this._lastCharIndex=le}emitStatic(le,Be){this._emitStatic(le),this._lastCharIndex=Be}_emitStatic(le){le.length!==0&&(this._currentStaticPiece+=le)}emitMatchIndex(le,Be,Ke){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=T.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=T.caseOps(le,Ke),this._lastCharIndex=Be}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=T.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new x(this._result)}}function U(Oe){if(!Oe||Oe.length===0)return new x(null);const le=[],Be=new W(Oe);for(let Ke=0,Ge=Oe.length;Ke<Ge;Ke++){const ye=Oe.charCodeAt(Ke);if(ye===92){if(Ke++,Ke>=Ge)break;const ze=Oe.charCodeAt(Ke);switch(ze){case 92:Be.emitUnchanged(Ke-1),Be.emitStatic("\\",Ke+1);break;case 110:Be.emitUnchanged(Ke-1),Be.emitStatic(`
`,Ke+1);break;case 116:Be.emitUnchanged(Ke-1),Be.emitStatic("	",Ke+1);break;case 117:case 85:case 108:case 76:Be.emitUnchanged(Ke-1),Be.emitStatic("",Ke+1),le.push(String.fromCharCode(ze));break}continue}if(ye===36){if(Ke++,Ke>=Ge)break;const ze=Oe.charCodeAt(Ke);if(ze===36){Be.emitUnchanged(Ke-1),Be.emitStatic("$",Ke+1);continue}if(ze===48||ze===38){Be.emitUnchanged(Ke-1),Be.emitMatchIndex(0,Ke+1,le),le.length=0;continue}if(49<=ze&&ze<=57){let lt=ze-48;if(Ke+1<Ge){const Rt=Oe.charCodeAt(Ke+1);if(48<=Rt&&Rt<=57){Ke++,lt=lt*10+(Rt-48),Be.emitUnchanged(Ke-2),Be.emitMatchIndex(lt,Ke+1,le),le.length=0;continue}}Be.emitUnchanged(Ke-1),Be.emitMatchIndex(lt,Ke+1,le),le.length=0;continue}}}return Be.finalize()}var K=i(76826);const G=new K.uy("findWidgetVisible",!1),z=G.toNegated(),k=new K.uy("findInputFocussed",!1),q=new K.uy("replaceInputFocussed",!1),te={primary:545,mac:{primary:2593}},X={primary:565,mac:{primary:2613}},j={primary:560,mac:{primary:2608}},J={primary:554,mac:{primary:2602}},Y={primary:558,mac:{primary:2606}},ee={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},fe=19999,De=240;class Ne{constructor(le,Be){this._toDispose=new B.SL,this._editor=le,this._state=Be,this._isDisposed=!1,this._startSearchingTimer=new m._F,this._decorations=new D(le),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new m.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(Ke=>{(Ke.reason===3||Ke.reason===5||Ke.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(Ke=>{this._ignoreModelContentChanged||(Ke.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(Ke=>this._onStateChanged(Ke))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,B.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(le){this._isDisposed||this._editor.hasModel()&&(le.searchString||le.isReplaceRevealed||le.isRegex||le.wholeWord||le.matchCase||le.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{le.searchScope?this.research(le.moveCursor,this._state.searchScope):this.research(le.moveCursor)},De)):le.searchScope?this.research(le.moveCursor,this._state.searchScope):this.research(le.moveCursor))}static _getSearchRange(le,Be){return Be||le.getFullModelRange()}research(le,Be){let Ke=null;typeof Be!="undefined"?Be!==null&&(Array.isArray(Be)?Ke=Be:Ke=[Be]):Ke=this._decorations.getFindScopes(),Ke!==null&&(Ke=Ke.map(lt=>{if(lt.startLineNumber!==lt.endLineNumber){let Rt=lt.endLineNumber;return lt.endColumn===1&&(Rt=Rt-1),new l.e(lt.startLineNumber,1,Rt,this._editor.getModel().getLineMaxColumn(Rt))}return lt}));const Ge=this._findMatches(Ke,!1,fe);this._decorations.set(Ge,Ke);const ye=this._editor.getSelection();let ze=this._decorations.getCurrentMatchesPosition(ye);if(ze===0&&Ge.length>0){const lt=(0,E.lG)(Ge.map(Rt=>Rt.range),Rt=>l.e.compareRangesUsingStarts(Rt,ye)>=0);ze=lt>0?lt-1+1:ze}this._state.changeMatchInfo(ze,this._decorations.getCount(),void 0),le&&this._editor.getOption(39).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const le=this._decorations.getFindScope();return le&&this._editor.revealRangeInCenterIfOutsideViewport(le,0),!0}return!1}_setCurrentFindMatch(le){const Be=this._decorations.setCurrentFindMatch(le);this._state.changeMatchInfo(Be,this._decorations.getCount(),le),this._editor.setSelection(le),this._editor.revealRangeInCenterIfOutsideViewport(le,0)}_prevSearchPosition(le){const Be=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:Ke,column:Ge}=le;const ye=this._editor.getModel();return Be||Ge===1?(Ke===1?Ke=ye.getLineCount():Ke--,Ge=ye.getLineMaxColumn(Ke)):Ge--,new p.L(Ke,Ge)}_moveToPrevMatch(le,Be=!1){if(!this._state.canNavigateBack()){const At=this._decorations.matchAfterPosition(le);At&&this._setCurrentFindMatch(At);return}if(this._decorations.getCount()<fe){let At=this._decorations.matchBeforePosition(le);At&&At.isEmpty()&&At.getStartPosition().equals(le)&&(le=this._prevSearchPosition(le),At=this._decorations.matchBeforePosition(le)),At&&this._setCurrentFindMatch(At);return}if(this._cannotFind())return;const Ke=this._decorations.getFindScope(),Ge=Ne._getSearchRange(this._editor.getModel(),Ke);Ge.getEndPosition().isBefore(le)&&(le=Ge.getEndPosition()),le.isBefore(Ge.getStartPosition())&&(le=Ge.getEndPosition());const{lineNumber:ye,column:ze}=le,lt=this._editor.getModel();let Rt=new p.L(ye,ze),Bt=lt.findPreviousMatch(this._state.searchString,Rt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,!1);if(Bt&&Bt.range.isEmpty()&&Bt.range.getStartPosition().equals(Rt)&&(Rt=this._prevSearchPosition(Rt),Bt=lt.findPreviousMatch(this._state.searchString,Rt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,!1)),!!Bt){if(!Be&&!Ge.containsRange(Bt.range))return this._moveToPrevMatch(Bt.range.getStartPosition(),!0);this._setCurrentFindMatch(Bt.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(le){const Be=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:Ke,column:Ge}=le;const ye=this._editor.getModel();return Be||Ge===ye.getLineMaxColumn(Ke)?(Ke===ye.getLineCount()?Ke=1:Ke++,Ge=1):Ge++,new p.L(Ke,Ge)}_moveToNextMatch(le){if(!this._state.canNavigateForward()){const Ke=this._decorations.matchBeforePosition(le);Ke&&this._setCurrentFindMatch(Ke);return}if(this._decorations.getCount()<fe){let Ke=this._decorations.matchAfterPosition(le);Ke&&Ke.isEmpty()&&Ke.getStartPosition().equals(le)&&(le=this._nextSearchPosition(le),Ke=this._decorations.matchAfterPosition(le)),Ke&&this._setCurrentFindMatch(Ke);return}const Be=this._getNextMatch(le,!1,!0);Be&&this._setCurrentFindMatch(Be.range)}_getNextMatch(le,Be,Ke,Ge=!1){if(this._cannotFind())return null;const ye=this._decorations.getFindScope(),ze=Ne._getSearchRange(this._editor.getModel(),ye);ze.getEndPosition().isBefore(le)&&(le=ze.getStartPosition()),le.isBefore(ze.getStartPosition())&&(le=ze.getStartPosition());const{lineNumber:lt,column:Rt}=le,Bt=this._editor.getModel();let At=new p.L(lt,Rt),ii=Bt.findNextMatch(this._state.searchString,At,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,Be);return Ke&&ii&&ii.range.isEmpty()&&ii.range.getStartPosition().equals(At)&&(At=this._nextSearchPosition(At),ii=Bt.findNextMatch(this._state.searchString,At,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,Be)),ii?!Ge&&!ze.containsRange(ii.range)?this._getNextMatch(ii.range.getEndPosition(),Be,Ke,!0):ii:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(le){const Be=this._decorations.getDecorationRangeAt(le);Be&&this._setCurrentFindMatch(Be)}moveToMatch(le){this._moveToMatch(le)}_getReplacePattern(){return this._state.isRegex?U(this._state.replaceString):x.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const le=this._getReplacePattern(),Be=this._editor.getSelection(),Ke=this._getNextMatch(Be.getStartPosition(),!0,!1);if(Ke)if(Be.equalsRange(Ke.range)){const Ge=le.buildReplaceString(Ke.matches,this._state.preserveCase),ye=new R.T4(Be,Ge);this._executeEditorCommand("replace",ye),this._decorations.setStartPosition(new p.L(Be.startLineNumber,Be.startColumn+Ge.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(Ke.range)}_findMatches(le,Be,Ke){const Ge=(le||[null]).map(ye=>Ne._getSearchRange(this._editor.getModel(),ye));return this._editor.getModel().findMatches(this._state.searchString,Ge,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,Be,Ke)}replaceAll(){if(!this._hasMatches())return;const le=this._decorations.getFindScopes();le===null&&this._state.matchesCount>=fe?this._largeReplaceAll():this._regularReplaceAll(le),this.research(!1)}_largeReplaceAll(){const Be=new g.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null).parseSearchRequest();if(!Be)return;let Ke=Be.regex;if(!Ke.multiline){let ii="mu";Ke.ignoreCase&&(ii+="i"),Ke.global&&(ii+="g"),Ke=new RegExp(Ke.source,ii)}const Ge=this._editor.getModel(),ye=Ge.getValue(1),ze=Ge.getFullModelRange(),lt=this._getReplacePattern();let Rt;const Bt=this._state.preserveCase;lt.hasReplacementPatterns||Bt?Rt=ye.replace(Ke,function(){return lt.buildReplaceString(arguments,Bt)}):Rt=ye.replace(Ke,lt.buildReplaceString(null,Bt));const At=new R.hP(ze,Rt,this._editor.getSelection());this._executeEditorCommand("replaceAll",At)}_regularReplaceAll(le){const Be=this._getReplacePattern(),Ke=this._findMatches(le,Be.hasReplacementPatterns||this._state.preserveCase,1073741824),Ge=[];for(let ze=0,lt=Ke.length;ze<lt;ze++)Ge[ze]=Be.buildReplaceString(Ke[ze].matches,this._state.preserveCase);const ye=new u(this._editor.getSelection(),Ke.map(ze=>ze.range),Ge);this._executeEditorCommand("replaceAll",ye)}selectAllMatches(){if(!this._hasMatches())return;const le=this._decorations.getFindScopes();let Ke=this._findMatches(le,!1,1073741824).map(ye=>new d.Y(ye.range.startLineNumber,ye.range.startColumn,ye.range.endLineNumber,ye.range.endColumn));const Ge=this._editor.getSelection();for(let ye=0,ze=Ke.length;ye<ze;ye++)if(Ke[ye].equalsRange(Ge)){Ke=[Ge].concat(Ke.slice(0,ye)).concat(Ke.slice(ye+1));break}this._editor.setSelections(Ke)}_executeEditorCommand(le,Be){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(le,Be),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var be=i(34441),xe=i(22664),Le=i(88305);class ue extends Le.${constructor(le,Be,Ke){super(),this._hideSoon=this._register(new m.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=le,this._state=Be,this._keybindingService=Ke,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Ge={inputActiveOptionBorder:(0,a.n_1)(a.PRb),inputActiveOptionForeground:(0,a.n_1)(a.Pvw),inputActiveOptionBackground:(0,a.n_1)(a.XEs)};this.caseSensitive=this._register(new xe.rk(Object.assign({appendTitle:this._keybindingLabelFor(ee.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},Ge))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new xe.Qx(Object.assign({appendTitle:this._keybindingLabelFor(ee.ToggleWholeWordCommand),isChecked:this._state.wholeWord},Ge))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new xe.eH(Object.assign({appendTitle:this._keybindingLabelFor(ee.ToggleRegexCommand),isChecked:this._state.isRegex},Ge))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(ye=>{let ze=!1;ye.isRegex&&(this.regex.checked=this._state.isRegex,ze=!0),ye.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,ze=!0),ye.matchCase&&(this.caseSensitive.checked=this._state.matchCase,ze=!0),!this._state.isRevealed&&ze&&this._revealTemporarily()})),this._register(be.nm(this._domNode,be.tw.MOUSE_LEAVE,ye=>this._onMouseLeave())),this._register(be.nm(this._domNode,"mouseover",ye=>this._onMouseOver()))}_keybindingLabelFor(le){const Be=this._keybindingService.lookupKeybinding(le);return Be?` (${Be.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ue.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}ue.ID="editor.contrib.findOptionsWidget";var re=i(56709);function _e(Oe,le){return Oe===1?!0:Oe===2?!1:le}class Ue extends B.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return _e(this._isRegexOverride,this._isRegex)}get wholeWord(){return _e(this._wholeWordOverride,this._wholeWord)}get matchCase(){return _e(this._matchCaseOverride,this._matchCase)}get preserveCase(){return _e(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new re.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(le,Be,Ke){const Ge={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let ye=!1;Be===0&&(le=0),le>Be&&(le=Be),this._matchesPosition!==le&&(this._matchesPosition=le,Ge.matchesPosition=!0,ye=!0),this._matchesCount!==Be&&(this._matchesCount=Be,Ge.matchesCount=!0,ye=!0),typeof Ke!="undefined"&&(l.e.equalsRange(this._currentMatch,Ke)||(this._currentMatch=Ke,Ge.currentMatch=!0,ye=!0)),ye&&this._onFindReplaceStateChange.fire(Ge)}change(le,Be,Ke=!0){var Ge;const ye={moveCursor:Be,updateHistory:Ke,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let ze=!1;const lt=this.isRegex,Rt=this.wholeWord,Bt=this.matchCase,At=this.preserveCase;typeof le.searchString!="undefined"&&this._searchString!==le.searchString&&(this._searchString=le.searchString,ye.searchString=!0,ze=!0),typeof le.replaceString!="undefined"&&this._replaceString!==le.replaceString&&(this._replaceString=le.replaceString,ye.replaceString=!0,ze=!0),typeof le.isRevealed!="undefined"&&this._isRevealed!==le.isRevealed&&(this._isRevealed=le.isRevealed,ye.isRevealed=!0,ze=!0),typeof le.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==le.isReplaceRevealed&&(this._isReplaceRevealed=le.isReplaceRevealed,ye.isReplaceRevealed=!0,ze=!0),typeof le.isRegex!="undefined"&&(this._isRegex=le.isRegex),typeof le.wholeWord!="undefined"&&(this._wholeWord=le.wholeWord),typeof le.matchCase!="undefined"&&(this._matchCase=le.matchCase),typeof le.preserveCase!="undefined"&&(this._preserveCase=le.preserveCase),typeof le.searchScope!="undefined"&&(!((Ge=le.searchScope)===null||Ge===void 0)&&Ge.every(ii=>{var vi;return(vi=this._searchScope)===null||vi===void 0?void 0:vi.some(yi=>!l.e.equalsRange(yi,ii))})||(this._searchScope=le.searchScope,ye.searchScope=!0,ze=!0)),typeof le.loop!="undefined"&&this._loop!==le.loop&&(this._loop=le.loop,ye.loop=!0,ze=!0),typeof le.isSearching!="undefined"&&this._isSearching!==le.isSearching&&(this._isSearching=le.isSearching,ye.isSearching=!0,ze=!0),typeof le.filters!="undefined"&&(this._filters?this._filters.update(le.filters):this._filters=le.filters,ye.filters=!0,ze=!0),this._isRegexOverride=typeof le.isRegexOverride!="undefined"?le.isRegexOverride:0,this._wholeWordOverride=typeof le.wholeWordOverride!="undefined"?le.wholeWordOverride:0,this._matchCaseOverride=typeof le.matchCaseOverride!="undefined"?le.matchCaseOverride:0,this._preserveCaseOverride=typeof le.preserveCaseOverride!="undefined"?le.preserveCaseOverride:0,lt!==this.isRegex&&(ze=!0,ye.isRegex=!0),Rt!==this.wholeWord&&(ze=!0,ye.wholeWord=!0),Bt!==this.matchCase&&(ze=!0,ye.matchCase=!0),At!==this.preserveCase&&(ze=!0,ye.preserveCase=!0),ze&&this._onFindReplaceStateChange.fire(ye)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=fe}}var Qe=i(79874),Re=i(23602),ie=i(52243),Z=i(407),se=i(20996),ve=i(11138),he=i(26386),ce=i(99650);function Ee(Oe){var le,Be;return((le=Oe.lookupKeybinding("history.showPrevious"))===null||le===void 0?void 0:le.getElectronAccelerator())==="Up"&&((Be=Oe.lookupKeybinding("history.showNext"))===null||Be===void 0?void 0:Be.getElectronAccelerator())==="Down"}var We=i(89528),it=i(8216),Ze=i(49914),je=i(14818),Te=i(60140),Ie=function(Oe,le,Be,Ke){function Ge(ye){return ye instanceof Be?ye:new Be(function(ze){ze(ye)})}return new(Be||(Be=Promise))(function(ye,ze){function lt(At){try{Bt(Ke.next(At))}catch(ii){ze(ii)}}function Rt(At){try{Bt(Ke.throw(At))}catch(ii){ze(ii)}}function Bt(At){At.done?ye(At.value):Ge(At.value).then(lt,Rt)}Bt((Ke=Ke.apply(Oe,le||[])).next())})};const oe=(0,We.q5)("find-selection",Z.l.selection,he.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),ge=(0,We.q5)("find-collapsed",Z.l.chevronRight,he.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Ce=(0,We.q5)("find-expanded",Z.l.chevronDown,he.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),me=(0,We.q5)("find-replace",Z.l.replace,he.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Me=(0,We.q5)("find-replace-all",Z.l.replaceAll,he.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),qe=(0,We.q5)("find-previous-match",Z.l.arrowUp,he.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),ot=(0,We.q5)("find-next-match",Z.l.arrowDown,he.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ut=he.NC("label.find","Find"),ht=he.NC("placeholder.find","Find"),Ct=he.NC("label.previousMatchButton","Previous Match"),Pt=he.NC("label.nextMatchButton","Next Match"),bt=he.NC("label.toggleSelectionFind","Find in Selection"),$t=he.NC("label.closeButton","Close"),Mt=he.NC("label.replace","Replace"),Xe=he.NC("placeholder.replace","Replace"),Lt=he.NC("label.replaceButton","Replace"),Xt=he.NC("label.replaceAllButton","Replace All"),zt=he.NC("label.toggleReplaceButton","Toggle Replace"),Fe=he.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",fe),et=he.NC("label.matchesLocation","{0} of {1}"),pt=he.NC("label.noResults","No results"),It=419,yt=275-54;let St=69;const Gt=33,ti="ctrlEnterReplaceAll.windows.donotask",ri=ve.dz?256:2048;class li{constructor(le){this.afterLineNumber=le,this.heightInPx=Gt,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function gi(Oe,le,Be){const Ke=!!le.match(/\n/);if(Be&&Ke&&Be.selectionStart>0){Oe.stopPropagation();return}}function Pi(Oe,le,Be){const Ke=!!le.match(/\n/);if(Be&&Ke&&Be.selectionEnd<Be.value.length){Oe.stopPropagation();return}}class Hi extends Le.${constructor(le,Be,Ke,Ge,ye,ze,lt,Rt,Bt){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=le,this._controller=Be,this._state=Ke,this._contextViewProvider=Ge,this._keybindingService=ye,this._contextKeyService=ze,this._storageService=Rt,this._notificationService=Bt,this._ctrlEnterReplaceAllWarningPrompted=!!Rt.getBoolean(ti,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new m.vp(500),this._register((0,B.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(At=>this._onStateChanged(At))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(At=>{if(At.hasChanged(87)&&(this._codeEditor.getOption(87)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),At.hasChanged(139)&&this._tryUpdateWidgetWidth(),At.hasChanged(2)&&this.updateAccessibilitySupport(),At.hasChanged(39)){const ii=this._codeEditor.getOption(39).loop;this._state.change({loop:ii},!1);const vi=this._codeEditor.getOption(39).addExtraSpaceOnTop;vi&&!this._viewZone&&(this._viewZone=new li(0),this._showViewZone()),!vi&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ie(this,void 0,void 0,function*(){if(this._isVisible){const At=yield this._controller.getGlobalBufferTerm();At&&At!==this._state.searchString&&(this._state.change({searchString:At},!1),this._findInput.select())}}))),this._findInputFocused=k.bindTo(ze),this._findFocusTracker=this._register(be.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=q.bindTo(ze),this._replaceFocusTracker=this._register(be.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(39).addExtraSpaceOnTop&&(this._viewZone=new li(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(At=>{if(At.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Hi.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(le){if(le.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(le.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),le.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),le.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(87)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=be.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(le.isRevealed||le.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),le.isRegex&&this._findInput.setRegex(this._state.isRegex),le.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),le.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),le.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),le.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),le.searchString||le.matchesCount||le.matchesPosition){const Be=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",Be),this._updateMatchesCount(),this._updateButtons()}(le.searchString||le.currentMatch)&&this._layoutViewZone(),le.updateHistory&&this._delayedUpdateHistory(),le.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,se.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=St+"px",this._state.matchesCount>=fe?this._matchesCount.title=Fe:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let le;if(this._state.matchesCount>0){let Be=String(this._state.matchesCount);this._state.matchesCount>=fe&&(Be+="+");let Ke=String(this._state.matchesPosition);Ke==="0"&&(Ke="?"),le=f.WU(et,Ke,Be)}else le=pt;this._matchesCount.appendChild(document.createTextNode(le)),(0,Qe.Z9)(this._getAriaLabel(le,this._state.currentMatch,this._state.searchString)),St=Math.max(St,this._matchesCount.clientWidth)}_getAriaLabel(le,Be,Ke){if(le===pt)return Ke===""?he.NC("ariaSearchNoResultEmpty","{0} found",le):he.NC("ariaSearchNoResult","{0} found for '{1}'",le,Ke);if(Be){const Ge=he.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",le,Ke,Be.startLineNumber+":"+Be.startColumn),ye=this._codeEditor.getModel();return ye&&Be.startLineNumber<=ye.getLineCount()&&Be.startLineNumber>=1?`${ye.getLineContent(Be.startLineNumber)}, ${Ge}`:Ge}return he.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",le,Ke)}_updateToggleSelectionFindButton(){const le=this._codeEditor.getSelection(),Be=le?le.startLineNumber!==le.endLineNumber||le.startColumn!==le.endColumn:!1,Ke=this._toggleSelectionFind.checked;this._isVisible&&(Ke||Be)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const le=this._state.searchString.length>0,Be=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&le&&Be&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&le&&Be&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&le),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&le),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const Ke=!this._codeEditor.getOption(87);this._toggleReplaceBtn.setEnabled(this._isVisible&&Ke)}_reveal(){if(this._revealTimeouts.forEach(le=>{clearTimeout(le)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const le=this._codeEditor.getSelection();switch(this._codeEditor.getOption(39).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const Ke=!!le&&le.startLineNumber!==le.endLineNumber;this._toggleSelectionFind.checked=Ke;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Be=!0;if(this._codeEditor.getOption(39).seedSearchStringFromSelection&&le){const Ke=this._codeEditor.getDomNode();if(Ke){const Ge=be.i(Ke),ye=this._codeEditor.getScrolledVisiblePosition(le.getStartPosition()),ze=Ge.left+(ye?ye.left:0),lt=ye?ye.top:0;if(this._viewZone&&lt<this._viewZone.heightInPx){le.endLineNumber>le.startLineNumber&&(Be=!1);const Rt=be.xQ(this._domNode).left;ze>Rt&&(Be=!1);const Bt=this._codeEditor.getScrolledVisiblePosition(le.getEndPosition());Ge.left+(Bt?Bt.left:0)>Rt&&(Be=!1)}}}this._showViewZone(Be)}}_hide(le){this._revealTimeouts.forEach(Be=>{clearTimeout(Be)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),le&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(le){if(!this._codeEditor.getOption(39).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const Ke=this._viewZone;this._viewZoneId!==void 0||!Ke||this._codeEditor.changeViewZones(Ge=>{Ke.heightInPx=this._getHeight(),this._viewZoneId=Ge.addZone(Ke),this._codeEditor.setScrollTop(le||this._codeEditor.getScrollTop()+Ke.heightInPx)})}_showViewZone(le=!0){if(!this._isVisible||!this._codeEditor.getOption(39).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new li(0));const Ke=this._viewZone;this._codeEditor.changeViewZones(Ge=>{if(this._viewZoneId!==void 0){const ye=this._getHeight();if(ye===Ke.heightInPx)return;const ze=ye-Ke.heightInPx;Ke.heightInPx=ye,Ge.layoutZone(this._viewZoneId),le&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ze);return}else{let ye=this._getHeight();if(ye-=this._codeEditor.getOption(81).top,ye<=0)return;Ke.heightInPx=ye,this._viewZoneId=Ge.addZone(Ke),le&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ye)}})}_removeViewZone(){this._codeEditor.changeViewZones(le=>{this._viewZoneId!==void 0&&(le.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!be.Uw(this._domNode))return;const le=this._codeEditor.getLayoutInfo();if(le.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const Ke=le.width,Ge=le.minimap.minimapWidth;let ye=!1,ze=!1,lt=!1;if(this._resized&&be.w(this._domNode)>It){this._domNode.style.maxWidth=`${Ke-28-Ge-15}px`,this._replaceInput.width=be.w(this._findInput.domNode);return}if(It+28+Ge>=Ke&&(ze=!0),It+28+Ge-St>=Ke&&(lt=!0),It+28+Ge-St>=Ke+50&&(ye=!0),this._domNode.classList.toggle("collapsed-find-widget",ye),this._domNode.classList.toggle("narrow-find-widget",lt),this._domNode.classList.toggle("reduced-find-widget",ze),!lt&&!ye&&(this._domNode.style.maxWidth=`${Ke-28-Ge-15}px`),this._findInput.layout({collapsedFindWidget:ye,narrowFindWidget:lt,reducedFindWidget:ze}),this._resized){const Rt=this._findInput.inputBox.element.clientWidth;Rt>0&&(this._replaceInput.width=Rt)}else this._isReplaceVisible&&(this._replaceInput.width=be.w(this._findInput.domNode))}_getHeight(){let le=0;return le+=4,le+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(le+=4,le+=this._replaceInput.inputBox.height+2),le+=4,le}_tryUpdateHeight(){const le=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===le?!1:(this._cachedHeight=le,this._domNode.style.height=`${le}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const le=this._codeEditor.getSelections();le.map(Be=>{Be.endColumn===1&&Be.endLineNumber>Be.startLineNumber&&(Be=Be.setEndPosition(Be.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Be.endLineNumber-1)));const Ke=this._state.currentMatch;return Be.startLineNumber!==Be.endLineNumber&&!l.e.equalsRange(Be,Ke)?Be:null}).filter(Be=>!!Be),le.length&&this._state.change({searchScope:le},!0)}}_onFindInputMouseDown(le){le.middleButton&&le.stopPropagation()}_onFindInputKeyDown(le){if(le.equals(ri|3))if(this._keybindingService.dispatchEvent(le,le.target)){le.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),le.preventDefault();return}if(le.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),le.preventDefault();return}if(le.equals(2066)){this._codeEditor.focus(),le.preventDefault();return}if(le.equals(16))return gi(le,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(le.equals(18))return Pi(le,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(le){if(le.equals(ri|3))if(this._keybindingService.dispatchEvent(le,le.target)){le.preventDefault();return}else{ve.ED&&ve.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(he.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ti,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),le.preventDefault();return}if(le.equals(2)){this._findInput.focusOnCaseSensitive(),le.preventDefault();return}if(le.equals(1026)){this._findInput.focus(),le.preventDefault();return}if(le.equals(2066)){this._codeEditor.focus(),le.preventDefault();return}if(le.equals(16))return gi(le,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(le.equals(18))return Pi(le,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(le){return 0}_keybindingLabelFor(le){const Be=this._keybindingService.lookupKeybinding(le);return Be?` (${Be.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new ce.Yb(null,this._contextViewProvider,{width:yt,label:ut,placeholder:ht,appendCaseSensitiveLabel:this._keybindingLabelFor(ee.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(ee.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(ee.ToggleRegexCommand),validation:Rt=>{if(Rt.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Rt,"gu"),null}catch(Bt){return{content:Bt.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>Ee(this._keybindingService),inputBoxStyles:Te.Hc,toggleStyles:Te.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Rt=>this._onFindInputKeyDown(Rt))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Rt=>{Rt.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Rt.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Rt=>{Rt.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Rt.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Rt=>{this._tryUpdateHeight()&&this._showViewZone()})),ve.IJ&&this._register(this._findInput.onMouseDown(Rt=>this._onFindInputMouseDown(Rt))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ji({label:Ct+this._keybindingLabelFor(ee.PreviousMatchFindAction),icon:qe,onTrigger:()=>{(0,je.cW)(this._codeEditor.getAction(ee.PreviousMatchFindAction)).run().then(void 0,se.dL)}})),this._nextBtn=this._register(new ji({label:Pt+this._keybindingLabelFor(ee.NextMatchFindAction),icon:ot,onTrigger:()=>{(0,je.cW)(this._codeEditor.getAction(ee.NextMatchFindAction)).run().then(void 0,se.dL)}}));const Ke=document.createElement("div");Ke.className="find-part",Ke.appendChild(this._findInput.domNode);const Ge=document.createElement("div");Ge.className="find-actions",Ke.appendChild(Ge),Ge.appendChild(this._matchesCount),Ge.appendChild(this._prevBtn.domNode),Ge.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Re.Z({icon:oe,title:bt+this._keybindingLabelFor(ee.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,a.n_1)(a.XEs),inputActiveOptionBorder:(0,a.n_1)(a.PRb),inputActiveOptionForeground:(0,a.n_1)(a.Pvw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const Rt=this._codeEditor.getSelections();Rt.map(Bt=>(Bt.endColumn===1&&Bt.endLineNumber>Bt.startLineNumber&&(Bt=Bt.setEndPosition(Bt.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Bt.endLineNumber-1))),Bt.isEmpty()?null:Bt)).filter(Bt=>!!Bt),Rt.length&&this._state.change({searchScope:Rt},!0)}}else this._state.change({searchScope:null},!0)})),Ge.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ji({label:$t+this._keybindingLabelFor(ee.CloseFindWidgetCommand),icon:We.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Rt=>{Rt.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Rt.preventDefault())}})),Ge.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new ce.Nq(null,void 0,{label:Mt,placeholder:Xe,appendPreserveCaseLabel:this._keybindingLabelFor(ee.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Ee(this._keybindingService),inputBoxStyles:Te.Hc,toggleStyles:Te.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Rt=>this._onReplaceInputKeyDown(Rt))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Rt=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Rt=>{Rt.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Rt.preventDefault())})),this._replaceBtn=this._register(new ji({label:Lt+this._keybindingLabelFor(ee.ReplaceOneAction),icon:me,onTrigger:()=>{this._controller.replace()},onKeyDown:Rt=>{Rt.equals(1026)&&(this._closeBtn.focus(),Rt.preventDefault())}})),this._replaceAllBtn=this._register(new ji({label:Xt+this._keybindingLabelFor(ee.ReplaceAllAction),icon:Me,onTrigger:()=>{this._controller.replaceAll()}}));const ye=document.createElement("div");ye.className="replace-part",ye.appendChild(this._replaceInput.domNode);const ze=document.createElement("div");ze.className="replace-actions",ye.appendChild(ze),ze.appendChild(this._replaceBtn.domNode),ze.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ji({label:zt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=be.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${It}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Ke),this._domNode.appendChild(ye),this._resizeSash=new ie.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let lt=It;this._register(this._resizeSash.onDidStart(()=>{lt=be.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Rt=>{this._resized=!0;const Bt=lt+Rt.startX-Rt.currentX;if(Bt<It)return;const At=parseFloat(be.Dx(this._domNode).maxWidth)||0;Bt>At||(this._domNode.style.width=`${Bt}px`,this._isReplaceVisible&&(this._replaceInput.width=be.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Rt=be.w(this._domNode);if(Rt<It)return;let Bt=It;if(!this._resized||Rt===It){const At=this._codeEditor.getLayoutInfo();Bt=At.width-28-At.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Bt}px`,this._isReplaceVisible&&(this._replaceInput.width=be.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const le=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(le!==2)}}Hi.ID="editor.contrib.findWidget";class ji extends Le.${constructor(le){super(),this._opts=le;let Be="button";this._opts.className&&(Be=Be+" "+this._opts.className),this._opts.icon&&(Be=Be+" "+it.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=Be,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,Ke=>{this._opts.onTrigger(),Ke.preventDefault()}),this.onkeydown(this._domNode,Ke=>{var Ge,ye;if(Ke.equals(10)||Ke.equals(3)){this._opts.onTrigger(),Ke.preventDefault();return}(ye=(Ge=this._opts).onKeyDown)===null||ye===void 0||ye.call(Ge,Ke)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(le){this._domNode.classList.toggle("disabled",!le),this._domNode.setAttribute("aria-disabled",String(!le)),this._domNode.tabIndex=le?0:-1}setExpanded(le){this._domNode.setAttribute("aria-expanded",String(!!le)),le?(this._domNode.classList.remove(...it.k.asClassNameArray(ge)),this._domNode.classList.add(...it.k.asClassNameArray(Ce))):(this._domNode.classList.remove(...it.k.asClassNameArray(Ce)),this._domNode.classList.add(...it.k.asClassNameArray(ge)))}}(0,C.Ic)((Oe,le)=>{const Be=(Si,Oi)=>{Oi&&le.addRule(`.monaco-editor ${Si} { background-color: ${Oi}; }`)};Be(".findMatch",Oe.getColor(a.MUv)),Be(".currentFindMatch",Oe.getColor(a.nyM)),Be(".findScope",Oe.getColor(a.jUe));const Ke=Oe.getColor(a.D0T);Be(".find-widget",Ke);const Ge=Oe.getColor(a.rh);Ge&&le.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Ge}; }`);const ye=Oe.getColor(a.A42);ye&&le.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${ye}; border-right: 1px solid ${ye}; border-bottom: 1px solid ${ye}; }`);const ze=Oe.getColor(a.EiJ);ze&&le.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Ze.c3)(Oe.type)?"dotted":"solid"} ${ze}; box-sizing: border-box; }`);const lt=Oe.getColor(a.pnM);lt&&le.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${lt}; padding: 1px; box-sizing: border-box; }`);const Rt=Oe.getColor(a.gkn);Rt&&le.addRule(`.monaco-editor .findScope { border: 1px ${(0,Ze.c3)(Oe.type)?"dashed":"solid"} ${Rt}; }`);const Bt=Oe.getColor(a.lRK);Bt&&le.addRule(`.monaco-editor .find-widget { border: 1px solid ${Bt}; }`);const At=Oe.getColor(a.Hfx);At&&le.addRule(`.monaco-editor .find-widget { color: ${At}; }`);const ii=Oe.getColor(a.Ido);ii&&le.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ii}; }`);const vi=Oe.getColor(a.Ng6);if(vi)le.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${vi}; }`);else{const Si=Oe.getColor(a.D1_);Si&&le.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Si}; }`)}const yi=Oe.getColor(a.lUq);yi&&le.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${yi} !important;
		}
	`);const hi=Oe.getColor(a.R80);hi&&le.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${hi}; }`)});var bn=i(21208),Rn=i(51941),bs=i(36953),ms=i(62297),ki=i(97968),Vi=i(38785),Ki=i(63536),es=function(Oe,le,Be,Ke){var Ge=arguments.length,ye=Ge<3?le:Ke===null?Ke=Object.getOwnPropertyDescriptor(le,Be):Ke,ze;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ye=Reflect.decorate(Oe,le,Be,Ke);else for(var lt=Oe.length-1;lt>=0;lt--)(ze=Oe[lt])&&(ye=(Ge<3?ze(ye):Ge>3?ze(le,Be,ye):ze(le,Be))||ye);return Ge>3&&ye&&Object.defineProperty(le,Be,ye),ye},Ls=function(Oe,le){return function(Be,Ke){le(Be,Ke,Oe)}},ts=function(Oe,le,Be,Ke){function Ge(ye){return ye instanceof Be?ye:new Be(function(ze){ze(ye)})}return new(Be||(Be=Promise))(function(ye,ze){function lt(At){try{Bt(Ke.next(At))}catch(ii){ze(ii)}}function Rt(At){try{Bt(Ke.throw(At))}catch(ii){ze(ii)}}function Bt(At){At.done?ye(At.value):Ge(At.value).then(lt,Rt)}Bt((Ke=Ke.apply(Oe,le||[])).next())})};const Kn=524288;function Wn(Oe,le="single",Be=!1){if(!Oe.hasModel())return null;const Ke=Oe.getSelection();if(le==="single"&&Ke.startLineNumber===Ke.endLineNumber||le==="multiple"){if(Ke.isEmpty()){const Ge=Oe.getConfiguredWordAtPosition(Ke.getStartPosition());if(Ge&&Be===!1)return Ge.word}else if(Oe.getModel().getValueLengthInRange(Ke)<Kn)return Oe.getModel().getValueInRange(Ke)}return null}let yn=class bh extends B.JT{get editor(){return this._editor}static get(le){return le.getContribution(bh.ID)}constructor(le,Be,Ke,Ge){super(),this._editor=le,this._findWidgetVisible=G.bindTo(Be),this._contextKeyService=Be,this._storageService=Ke,this._clipboardService=Ge,this._updateHistoryDelayer=new m.vp(500),this._state=this._register(new Ue),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(ye=>this._onStateChanged(ye))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const ye=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),ye&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(39).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(le){this.saveQueryState(le),le.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),le.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(le){le.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),le.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),le.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),le.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!k.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const le=this._editor.getSelections();le.map(Be=>(Be.endColumn===1&&Be.endLineNumber>Be.startLineNumber&&(Be=Be.setEndPosition(Be.endLineNumber-1,this._editor.getModel().getLineMaxColumn(Be.endLineNumber-1))),Be.isEmpty()?null:Be)).filter(Be=>!!Be),le.length&&this._state.change({searchScope:le},!0)}}setSearchString(le){this._state.isRegex&&(le=f.ec(le)),this._state.change({searchString:le},!1)}highlightFindOptions(le=!1){}_start(le,Be){return ts(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const Ke=Object.assign(Object.assign({},Be),{isRevealed:!0});if(le.seedSearchStringFromSelection==="single"){const Ge=Wn(this._editor,le.seedSearchStringFromSelection,le.seedSearchStringFromNonEmptySelection);Ge&&(this._state.isRegex?Ke.searchString=f.ec(Ge):Ke.searchString=Ge)}else if(le.seedSearchStringFromSelection==="multiple"&&!le.updateSearchScope){const Ge=Wn(this._editor,le.seedSearchStringFromSelection);Ge&&(Ke.searchString=Ge)}if(!Ke.searchString&&le.seedSearchStringFromGlobalClipboard){const Ge=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Ge&&(Ke.searchString=Ge)}if(le.forceRevealReplace||Ke.isReplaceRevealed?Ke.isReplaceRevealed=!0:this._findWidgetVisible.get()||(Ke.isReplaceRevealed=!1),le.updateSearchScope){const Ge=this._editor.getSelections();Ge.some(ye=>!ye.isEmpty())&&(Ke.searchScope=Ge)}Ke.loop=le.loop,this._state.change(Ke,!1),this._model||(this._model=new Ne(this._editor,this._state))})}start(le,Be){return this._start(le,Be)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(le){return this._model?(this._model.moveToMatch(le),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return ts(this,void 0,void 0,function*(){return this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(le){this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(le)}};yn.ID="editor.contrib.findController",yn=es([Ls(1,K.i6),Ls(2,Ki.Uy),Ls(3,Rn.p)],yn);let en=class extends yn{constructor(le,Be,Ke,Ge,ye,ze,lt,Rt){super(le,Ke,lt,Rt),this._contextViewService=Be,this._keybindingService=Ge,this._themeService=ye,this._notificationService=ze,this._widget=null,this._findOptionsWidget=null}_start(le,Be){const Ke=Object.create(null,{_start:{get:()=>super._start}});return ts(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Ge=this._editor.getSelection();let ye=!1;switch(this._editor.getOption(39).autoFindInSelection){case"always":ye=!0;break;case"never":ye=!1;break;case"multiline":{ye=!!Ge&&Ge.startLineNumber!==Ge.endLineNumber;break}default:break}le.updateSearchScope=le.updateSearchScope||ye,yield Ke._start.call(this,le,Be),this._widget&&(le.shouldFocus===2?this._widget.focusReplaceInput():le.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(le=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!le?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Hi(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new ue(this._editor,this._state,this._keybindingService))}};en=es([Ls(1,bs.u),Ls(2,K.i6),Ls(3,ms.d),Ls(4,C.XE),Ls(5,ki.lT),Ls(6,Ki.Uy),Ls(7,Rn.p)],en);const Ms=(0,_.rn)(new _.jY({id:ee.StartFindAction,label:he.NC("startFindAction","Find"),alias:"Find",precondition:K.Ao.or(A.u.focus,K.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:bn.eH.MenubarEditMenu,group:"3_find",title:he.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Ms.addImplementation(0,(Oe,le,Be)=>{const Ke=yn.get(le);return Ke?Ke.start({forceRevealReplace:!1,seedSearchStringFromSelection:le.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:le.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:le.getOption(39).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:le.getOption(39).loop}):!1});const Ss={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:he.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:he.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:he.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:he.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class ps extends _.R6{constructor(){super({id:ee.StartFindWithArgs,label:he.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Ss})}run(le,Be,Ke){return ts(this,void 0,void 0,function*(){const Ge=yn.get(Be);if(Ge){const ye=Ke?{searchString:Ke.searchString,replaceString:Ke.replaceString,isReplaceRevealed:Ke.replaceString!==void 0,isRegex:Ke.isRegex,wholeWord:Ke.matchWholeWord,matchCase:Ke.isCaseSensitive,preserveCase:Ke.preserveCase}:{};yield Ge.start({forceRevealReplace:!1,seedSearchStringFromSelection:Ge.getState().searchString.length===0&&Be.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Be.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(Ke==null?void 0:Ke.findInSelection)||!1,loop:Be.getOption(39).loop},ye),Ge.setGlobalBufferTerm(Ge.getState().searchString)}})}}class oo extends _.R6{constructor(){super({id:ee.StartFindWithSelection,label:he.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(le,Be){return ts(this,void 0,void 0,function*(){const Ke=yn.get(Be);Ke&&(yield Ke.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Be.getOption(39).loop}),Ke.setGlobalBufferTerm(Ke.getState().searchString))})}}class hs extends _.R6{run(le,Be){return ts(this,void 0,void 0,function*(){const Ke=yn.get(Be);Ke&&!this._run(Ke)&&(yield Ke.start({forceRevealReplace:!1,seedSearchStringFromSelection:Ke.getState().searchString.length===0&&Be.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Be.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Be.getOption(39).loop}),this._run(Ke))})}}class Ts extends hs{constructor(){super({id:ee.NextMatchFindAction,label:he.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:A.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:K.Ao.and(A.u.focus,k),primary:3,weight:100}]})}_run(le){return le.moveToNextMatch()?(le.editor.pushUndoStop(),!0):!1}}class In extends hs{constructor(){super({id:ee.PreviousMatchFindAction,label:he.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:A.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:K.Ao.and(A.u.focus,k),primary:1027,weight:100}]})}_run(le){return le.moveToPrevMatch()}}class Yn extends _.R6{constructor(){super({id:ee.GoToMatchFindAction,label:he.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:G}),this._highlightDecorations=[]}run(le,Be,Ke){const Ge=yn.get(Be);if(!Ge)return;const ze=le.get(Vi.eJ).createInputBox();ze.placeholder=he.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",Ge.getState().matchesCount);const lt=Rt=>{const Bt=parseInt(Rt);if(!isNaN(Bt)&&Bt>0&&Bt<=Ge.getState().matchesCount){ze.validationMessage=void 0,Ge.goToMatch(Bt-1);const At=Ge.getState().currentMatch;At&&this.addDecorations(Be,At)}else ze.validationMessage=he.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",Ge.getState().matchesCount),this.clearDecorations(Be)};ze.onDidChangeValue(Rt=>{lt(Rt)}),ze.onDidAccept(()=>{const Rt=parseInt(ze.value);!isNaN(Rt)&&Rt>0&&Rt<=Ge.getState().matchesCount?(Ge.goToMatch(Rt-1),ze.hide()):ze.validationMessage=he.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",Ge.getState().matchesCount)}),ze.onDidHide(()=>{this.clearDecorations(Be),ze.dispose()}),ze.show()}clearDecorations(le){le.changeDecorations(Be=>{this._highlightDecorations=Be.deltaDecorations(this._highlightDecorations,[])})}addDecorations(le,Be){le.changeDecorations(Ke=>{this._highlightDecorations=Ke.deltaDecorations(this._highlightDecorations,[{range:Be,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:Be,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,C.EN)(v.m9),position:M.sh.Full}}}])})}}class pi extends _.R6{run(le,Be){return ts(this,void 0,void 0,function*(){const Ke=yn.get(Be);if(!Ke)return;const Ge=Wn(Be,"single",!1);Ge&&Ke.setSearchString(Ge),this._run(Ke)||(yield Ke.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Be.getOption(39).loop}),this._run(Ke))})}}class ci extends pi{constructor(){super({id:ee.NextSelectionMatchFindAction,label:he.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:2109,weight:100}})}_run(le){return le.moveToNextMatch()}}class ui extends pi{constructor(){super({id:ee.PreviousSelectionMatchFindAction,label:he.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:3133,weight:100}})}_run(le){return le.moveToPrevMatch()}}const wt=(0,_.rn)(new _.jY({id:ee.StartFindReplaceAction,label:he.NC("startReplace","Replace"),alias:"Replace",precondition:K.Ao.or(A.u.focus,K.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:bn.eH.MenubarEditMenu,group:"3_find",title:he.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));wt.addImplementation(0,(Oe,le,Be)=>{if(!le.hasModel()||le.getOption(87))return!1;const Ke=yn.get(le);if(!Ke)return!1;const Ge=le.getSelection(),ye=Ke.isFindInputFocused(),ze=!Ge.isEmpty()&&Ge.startLineNumber===Ge.endLineNumber&&le.getOption(39).seedSearchStringFromSelection!=="never"&&!ye,lt=ye||ze?2:1;return Ke.start({forceRevealReplace:!0,seedSearchStringFromSelection:ze?"single":"none",seedSearchStringFromNonEmptySelection:le.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:le.getOption(39).seedSearchStringFromSelection!=="never",shouldFocus:lt,shouldAnimate:!0,updateSearchScope:!1,loop:le.getOption(39).loop})}),(0,_._K)(yn.ID,en,0),(0,_.Qr)(ps),(0,_.Qr)(oo),(0,_.Qr)(Ts),(0,_.Qr)(In),(0,_.Qr)(Yn),(0,_.Qr)(ci),(0,_.Qr)(ui);const mt=_._l.bindToContribution(yn.get);(0,_.fK)(new mt({id:ee.CloseFindWidgetCommand,precondition:G,handler:Oe=>Oe.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:K.Ao.and(A.u.focus,K.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,_.fK)(new mt({id:ee.ToggleCaseSensitiveCommand,precondition:void 0,handler:Oe=>Oe.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:A.u.focus,primary:te.primary,mac:te.mac,win:te.win,linux:te.linux}})),(0,_.fK)(new mt({id:ee.ToggleWholeWordCommand,precondition:void 0,handler:Oe=>Oe.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:A.u.focus,primary:X.primary,mac:X.mac,win:X.win,linux:X.linux}})),(0,_.fK)(new mt({id:ee.ToggleRegexCommand,precondition:void 0,handler:Oe=>Oe.toggleRegex(),kbOpts:{weight:100+5,kbExpr:A.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,_.fK)(new mt({id:ee.ToggleSearchScopeCommand,precondition:void 0,handler:Oe=>Oe.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:A.u.focus,primary:J.primary,mac:J.mac,win:J.win,linux:J.linux}})),(0,_.fK)(new mt({id:ee.TogglePreserveCaseCommand,precondition:void 0,handler:Oe=>Oe.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:A.u.focus,primary:Y.primary,mac:Y.mac,win:Y.win,linux:Y.linux}})),(0,_.fK)(new mt({id:ee.ReplaceOneAction,precondition:G,handler:Oe=>Oe.replace(),kbOpts:{weight:100+5,kbExpr:A.u.focus,primary:3094}})),(0,_.fK)(new mt({id:ee.ReplaceOneAction,precondition:G,handler:Oe=>Oe.replace(),kbOpts:{weight:100+5,kbExpr:K.Ao.and(A.u.focus,q),primary:3}})),(0,_.fK)(new mt({id:ee.ReplaceAllAction,precondition:G,handler:Oe=>Oe.replaceAll(),kbOpts:{weight:100+5,kbExpr:A.u.focus,primary:2563}})),(0,_.fK)(new mt({id:ee.ReplaceAllAction,precondition:G,handler:Oe=>Oe.replaceAll(),kbOpts:{weight:100+5,kbExpr:K.Ao.and(A.u.focus,q),primary:void 0,mac:{primary:2051}}})),(0,_.fK)(new mt({id:ee.SelectAllMatchesAction,precondition:G,handler:Oe=>Oe.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:A.u.focus,primary:515}}))},58579:function(Ot,He,i){"use strict";i.r(He),i.d(He,{FoldingController:function(){return oe},RangesLimitReporter:function(){return ge}});var m=i(13484),B=i(97464),f=i(20996),_=i(94880),v=i(38431),A=i(17416),M=i(14818),E=i(48423),R=i(55298),p=i(21081),l=i(36082),d=i(64603),g=i(56709),n=i(14325),a=i(32916);class C{get regions(){return this._regions}get textModel(){return this._textModel}constructor(yt,St){this._updateEventEmitter=new g.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=yt,this._decorationProvider=St,this._regions=new n.MN(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(yt){if(!yt.length)return;yt=yt.sort((Gt,ti)=>Gt.regionIndex-ti.regionIndex);const St={};this._decorationProvider.changeDecorations(Gt=>{let ti=0,ri=-1,li=-1;const gi=Pi=>{for(;ti<Pi;){const Hi=this._regions.getEndLineNumber(ti),ji=this._regions.isCollapsed(ti);if(Hi<=ri){const bn=this.regions.getSource(ti)!==0;Gt.changeDecorationOptions(this._editorDecorationIds[ti],this._decorationProvider.getDecorationOption(ji,Hi<=li,bn))}ji&&Hi>li&&(li=Hi),ti++}};for(const Pi of yt){const Hi=Pi.regionIndex,ji=this._editorDecorationIds[Hi];if(ji&&!St[ji]){St[ji]=!0,gi(Hi);const bn=!this._regions.isCollapsed(Hi);this._regions.setCollapsed(Hi,bn),ri=Math.max(ri,this._regions.getEndLineNumber(Hi))}}gi(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:yt})}removeManualRanges(yt){const St=new Array,Gt=ti=>{for(const ri of yt)if(!(ri.startLineNumber>ti.endLineNumber||ti.startLineNumber>ri.endLineNumber))return!0;return!1};for(let ti=0;ti<this._regions.length;ti++){const ri=this._regions.toFoldRange(ti);(ri.source===0||!Gt(ri))&&St.push(ri)}this.updatePost(n.MN.fromFoldRanges(St))}update(yt,St=[]){const Gt=this._currentFoldedOrManualRanges(St),ti=n.MN.sanitizeAndMerge(yt,Gt,this._textModel.getLineCount());this.updatePost(n.MN.fromFoldRanges(ti))}updatePost(yt){const St=[];let Gt=-1;for(let ti=0,ri=yt.length;ti<ri;ti++){const li=yt.getStartLineNumber(ti),gi=yt.getEndLineNumber(ti),Pi=yt.isCollapsed(ti),Hi=yt.getSource(ti)!==0,ji={startLineNumber:li,startColumn:this._textModel.getLineMaxColumn(li),endLineNumber:gi,endColumn:this._textModel.getLineMaxColumn(gi)+1};St.push({range:ji,options:this._decorationProvider.getDecorationOption(Pi,gi<=Gt,Hi)}),Pi&&gi>Gt&&(Gt=gi)}this._decorationProvider.changeDecorations(ti=>this._editorDecorationIds=ti.deltaDecorations(this._editorDecorationIds,St)),this._regions=yt,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(yt=[]){const St=(ti,ri)=>{for(const li of yt)if(ti<li&&li<=ri)return!0;return!1},Gt=[];for(let ti=0,ri=this._regions.length;ti<ri;ti++){let li=this.regions.isCollapsed(ti);const gi=this.regions.getSource(ti);if(li||gi!==0){const Pi=this._regions.toFoldRange(ti),Hi=this._textModel.getDecorationRange(this._editorDecorationIds[ti]);Hi&&(li&&St(Hi.startLineNumber,Hi.endLineNumber)&&(li=!1),Gt.push({startLineNumber:Hi.startLineNumber,endLineNumber:Hi.endLineNumber,type:Pi.type,isCollapsed:li,source:gi}))}}return Gt}getMemento(){const yt=this._currentFoldedOrManualRanges(),St=[],Gt=this._textModel.getLineCount();for(let ti=0,ri=yt.length;ti<ri;ti++){const li=yt[ti];if(li.startLineNumber>=li.endLineNumber||li.startLineNumber<1||li.endLineNumber>Gt)continue;const gi=this._getLinesChecksum(li.startLineNumber+1,li.endLineNumber);St.push({startLineNumber:li.startLineNumber,endLineNumber:li.endLineNumber,isCollapsed:li.isCollapsed,source:li.source,checksum:gi})}return St.length>0?St:void 0}applyMemento(yt){var St,Gt;if(!Array.isArray(yt))return;const ti=[],ri=this._textModel.getLineCount();for(const gi of yt){if(gi.startLineNumber>=gi.endLineNumber||gi.startLineNumber<1||gi.endLineNumber>ri)continue;const Pi=this._getLinesChecksum(gi.startLineNumber+1,gi.endLineNumber);(!gi.checksum||Pi===gi.checksum)&&ti.push({startLineNumber:gi.startLineNumber,endLineNumber:gi.endLineNumber,type:void 0,isCollapsed:(St=gi.isCollapsed)!==null&&St!==void 0?St:!0,source:(Gt=gi.source)!==null&&Gt!==void 0?Gt:0})}const li=n.MN.sanitizeAndMerge(this._regions,ti,ri);this.updatePost(n.MN.fromFoldRanges(li))}_getLinesChecksum(yt,St){return(0,a.vp)(this._textModel.getLineContent(yt)+this._textModel.getLineContent(St))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(yt,St){const Gt=[];if(this._regions){let ti=this._regions.findRange(yt),ri=1;for(;ti>=0;){const li=this._regions.toRegion(ti);(!St||St(li,ri))&&Gt.push(li),ri++,ti=li.parentIndex}}return Gt}getRegionAtLine(yt){if(this._regions){const St=this._regions.findRange(yt);if(St>=0)return this._regions.toRegion(St)}return null}getRegionsInside(yt,St){const Gt=[],ti=yt?yt.regionIndex+1:0,ri=yt?yt.endLineNumber:Number.MAX_VALUE;if(St&&St.length===2){const li=[];for(let gi=ti,Pi=this._regions.length;gi<Pi;gi++){const Hi=this._regions.toRegion(gi);if(this._regions.getStartLineNumber(gi)<ri){for(;li.length>0&&!Hi.containedBy(li[li.length-1]);)li.pop();li.push(Hi),St(Hi,li.length)&&Gt.push(Hi)}else break}}else for(let li=ti,gi=this._regions.length;li<gi;li++){const Pi=this._regions.toRegion(li);if(this._regions.getStartLineNumber(li)<ri)(!St||St(Pi))&&Gt.push(Pi);else break}return Gt}}function D(kt,yt,St){const Gt=[];for(const ti of St){const ri=kt.getRegionAtLine(ti);if(ri){const li=!ri.isCollapsed;if(Gt.push(ri),yt>1){const gi=kt.getRegionsInside(ri,(Pi,Hi)=>Pi.isCollapsed!==li&&Hi<yt);Gt.push(...gi)}}}kt.toggleCollapseState(Gt)}function u(kt,yt,St=Number.MAX_VALUE,Gt){const ti=[];if(Gt&&Gt.length>0)for(const ri of Gt){const li=kt.getRegionAtLine(ri);if(li&&(li.isCollapsed!==yt&&ti.push(li),St>1)){const gi=kt.getRegionsInside(li,(Pi,Hi)=>Pi.isCollapsed!==yt&&Hi<St);ti.push(...gi)}}else{const ri=kt.getRegionsInside(null,(li,gi)=>li.isCollapsed!==yt&&gi<St);ti.push(...ri)}kt.toggleCollapseState(ti)}function S(kt,yt,St,Gt){const ti=[];for(const ri of Gt){const li=kt.getAllRegionsAtLine(ri,(gi,Pi)=>gi.isCollapsed!==yt&&Pi<=St);ti.push(...li)}kt.toggleCollapseState(ti)}function w(kt,yt,St){const Gt=[];for(const ti of St){const ri=kt.getAllRegionsAtLine(ti,li=>li.isCollapsed!==yt);ri.length>0&&Gt.push(ri[0])}kt.toggleCollapseState(Gt)}function L(kt,yt,St,Gt){const ti=(li,gi)=>gi===yt&&li.isCollapsed!==St&&!Gt.some(Pi=>li.containsLine(Pi)),ri=kt.getRegionsInside(null,ti);kt.toggleCollapseState(ri)}function N(kt,yt,St){const Gt=[];for(const li of St){const gi=kt.getAllRegionsAtLine(li,void 0);gi.length>0&&Gt.push(gi[0])}const ti=li=>Gt.every(gi=>!gi.containedBy(li)&&!li.containedBy(gi))&&li.isCollapsed!==yt,ri=kt.getRegionsInside(null,ti);kt.toggleCollapseState(ri)}function O(kt,yt,St){const Gt=kt.textModel,ti=kt.regions,ri=[];for(let li=ti.length-1;li>=0;li--)if(St!==ti.isCollapsed(li)){const gi=ti.getStartLineNumber(li);yt.test(Gt.getLineContent(gi))&&ri.push(ti.toRegion(li))}kt.toggleCollapseState(ri)}function x(kt,yt,St){const Gt=kt.regions,ti=[];for(let ri=Gt.length-1;ri>=0;ri--)St!==Gt.isCollapsed(ri)&&yt===Gt.getType(ri)&&ti.push(Gt.toRegion(ri));kt.toggleCollapseState(ti)}function T(kt,yt){let St=null;const Gt=yt.getRegionAtLine(kt);if(Gt!==null&&(St=Gt.startLineNumber,kt===St)){const ti=Gt.parentIndex;ti!==-1?St=yt.regions.getStartLineNumber(ti):St=null}return St}function W(kt,yt){let St=yt.getRegionAtLine(kt);if(St!==null&&St.startLineNumber===kt){if(kt!==St.startLineNumber)return St.startLineNumber;{const Gt=St.parentIndex;let ti=0;for(Gt!==-1&&(ti=yt.regions.getStartLineNumber(St.parentIndex));St!==null;)if(St.regionIndex>0){if(St=yt.regions.toRegion(St.regionIndex-1),St.startLineNumber<=ti)return null;if(St.parentIndex===Gt)return St.startLineNumber}else return null}}else if(yt.regions.length>0)for(St=yt.regions.toRegion(yt.regions.length-1);St!==null;){if(St.startLineNumber<kt)return St.startLineNumber;St.regionIndex>0?St=yt.regions.toRegion(St.regionIndex-1):St=null}return null}function U(kt,yt){let St=yt.getRegionAtLine(kt);if(St!==null&&St.startLineNumber===kt){const Gt=St.parentIndex;let ti=0;if(Gt!==-1)ti=yt.regions.getEndLineNumber(St.parentIndex);else{if(yt.regions.length===0)return null;ti=yt.regions.getEndLineNumber(yt.regions.length-1)}for(;St!==null;)if(St.regionIndex<yt.regions.length){if(St=yt.regions.toRegion(St.regionIndex+1),St.startLineNumber>=ti)return null;if(St.parentIndex===Gt)return St.startLineNumber}else return null}else if(yt.regions.length>0)for(St=yt.regions.toRegion(0);St!==null;){if(St.startLineNumber>kt)return St.startLineNumber;St.regionIndex<yt.regions.length?St=yt.regions.toRegion(St.regionIndex+1):St=null}return null}var K=i(16308),G=i(50038),z=i(58570);class k{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(yt){this._updateEventEmitter=new g.Q5,this._hasLineChanges=!1,this._foldingModel=yt,this._foldingModelListener=yt.onDidChange(St=>this.updateHiddenRanges()),this._hiddenRanges=[],yt.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(yt){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=yt.changes.some(St=>St.range.endLineNumber!==St.range.startLineNumber||(0,z.Q)(St.text)[0]!==0))}updateHiddenRanges(){let yt=!1;const St=[];let Gt=0,ti=0,ri=Number.MAX_VALUE,li=-1;const gi=this._foldingModel.regions;for(;Gt<gi.length;Gt++){if(!gi.isCollapsed(Gt))continue;const Pi=gi.getStartLineNumber(Gt)+1,Hi=gi.getEndLineNumber(Gt);ri<=Pi&&Hi<=li||(!yt&&ti<this._hiddenRanges.length&&this._hiddenRanges[ti].startLineNumber===Pi&&this._hiddenRanges[ti].endLineNumber===Hi?(St.push(this._hiddenRanges[ti]),ti++):(yt=!0,St.push(new G.e(Pi,1,Hi,1))),ri=Pi,li=Hi)}(this._hasLineChanges||yt||ti<this._hiddenRanges.length)&&this.applyHiddenRanges(St)}applyHiddenRanges(yt){this._hiddenRanges=yt,this._hasLineChanges=!1,this._updateEventEmitter.fire(yt)}hasRanges(){return this._hiddenRanges.length>0}isHidden(yt){return te(this._hiddenRanges,yt)!==null}adjustSelections(yt){let St=!1;const Gt=this._foldingModel.textModel;let ti=null;const ri=li=>((!ti||!q(li,ti))&&(ti=te(this._hiddenRanges,li)),ti?ti.startLineNumber-1:null);for(let li=0,gi=yt.length;li<gi;li++){let Pi=yt[li];const Hi=ri(Pi.startLineNumber);Hi&&(Pi=Pi.setStartPosition(Hi,Gt.getLineMaxColumn(Hi)),St=!0);const ji=ri(Pi.endLineNumber);ji&&(Pi=Pi.setEndPosition(ji,Gt.getLineMaxColumn(ji)),St=!0),yt[li]=Pi}return St}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function q(kt,yt){return kt>=yt.startLineNumber&&kt<=yt.endLineNumber}function te(kt,yt){const St=(0,K.lG)(kt,Gt=>yt<Gt.startLineNumber)-1;return St>=0&&kt[St].endLineNumber>=yt?kt[St]:null}var X=i(78398),j=i(26386),J=i(76826),Y=i(407),ee=i(41913),fe=i(45007),De=i(92537),Ne=i(89528),be=i(58566),xe=i(8216);const Le=(0,De.P6G)("editor.foldBackground",{light:(0,De.ZnX)(De.hEj,.3),dark:(0,De.ZnX)(De.hEj,.3),hcDark:null,hcLight:null},(0,j.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,De.P6G)("editorGutter.foldingControlForeground",{dark:De.XZx,light:De.XZx,hcDark:De.XZx,hcLight:De.XZx},(0,j.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const ue=(0,Ne.q5)("folding-expanded",Y.l.chevronDown,(0,j.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),re=(0,Ne.q5)("folding-collapsed",Y.l.chevronRight,(0,j.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),_e=(0,Ne.q5)("folding-manual-collapsed",re,(0,j.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),Ue=(0,Ne.q5)("folding-manual-expanded",ue,(0,j.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),Qe={color:(0,be.EN)(Le),position:ee.F5.Inline};class Re{constructor(yt){this.editor=yt,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(yt,St,Gt){return St?Re.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?yt?this.showFoldingHighlights?Re.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:Re.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:Re.NO_CONTROLS_EXPANDED_RANGE_DECORATION:yt?Gt?this.showFoldingHighlights?Re.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Re.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?Re.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Re.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?Gt?Re.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Re.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Gt?Re.MANUALLY_EXPANDED_VISUAL_DECORATION:Re.EXPANDED_VISUAL_DECORATION}changeDecorations(yt){return this.editor.changeDecorations(yt)}removeDecorations(yt){this.editor.removeDecorations(yt)}}Re.COLLAPSED_VISUAL_DECORATION=fe.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(re)}),Re.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=fe.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Qe,isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(re)}),Re.MANUALLY_COLLAPSED_VISUAL_DECORATION=fe.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(_e)}),Re.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=fe.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Qe,isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(_e)}),Re.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=fe.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),Re.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=fe.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Qe,isWholeLine:!0}),Re.EXPANDED_VISUAL_DECORATION=fe.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+xe.k.asClassName(ue)}),Re.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=fe.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(ue)}),Re.MANUALLY_EXPANDED_VISUAL_DECORATION=fe.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+xe.k.asClassName(Ue)}),Re.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=fe.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:xe.k.asClassName(Ue)}),Re.NO_CONTROLS_EXPANDED_RANGE_DECORATION=fe.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),Re.HIDDEN_RANGE_DECORATION=fe.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var ie=i(28994),Z=i(97968),se=i(69060),ve=i(69344),he=i(35921),ce=i(80793),Ee=i(28919),We=i(65041),it=i(71177),Ze=function(kt,yt,St,Gt){var ti=arguments.length,ri=ti<3?yt:Gt===null?Gt=Object.getOwnPropertyDescriptor(yt,St):Gt,li;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ri=Reflect.decorate(kt,yt,St,Gt);else for(var gi=kt.length-1;gi>=0;gi--)(li=kt[gi])&&(ri=(ti<3?li(ri):ti>3?li(yt,St,ri):li(yt,St))||ri);return ti>3&&ri&&Object.defineProperty(yt,St,ri),ri},je=function(kt,yt){return function(St,Gt){yt(St,Gt,kt)}},Te=function(kt,yt,St,Gt){function ti(ri){return ri instanceof St?ri:new St(function(li){li(ri)})}return new(St||(St=Promise))(function(ri,li){function gi(ji){try{Hi(Gt.next(ji))}catch(bn){li(bn)}}function Pi(ji){try{Hi(Gt.throw(ji))}catch(bn){li(bn)}}function Hi(ji){ji.done?ri(ji.value):ti(ji.value).then(gi,Pi)}Hi((Gt=Gt.apply(kt,yt||[])).next())})};const Ie=new J.uy("foldingEnabled",!1);let oe=class cd extends v.JT{static get(yt){return yt.getContribution(cd.ID)}static getFoldingRangeProviders(yt,St){var Gt,ti;const ri=yt.foldingRangeProvider.ordered(St);return(ti=(Gt=cd._foldingRangeSelector)===null||Gt===void 0?void 0:Gt.call(cd,ri,St))!==null&&ti!==void 0?ti:ri}constructor(yt,St,Gt,ti,ri,li){super(),this.contextKeyService=St,this.languageConfigurationService=Gt,this.languageFeaturesService=li,this.localToDispose=this._register(new v.SL),this.editor=yt,this._foldingLimitReporter=new ge(yt);const gi=this.editor.getOptions();this._isEnabled=gi.get(41),this._useFoldingProviders=gi.get(42)!=="indentation",this._unfoldOnClickAfterEndOfLine=gi.get(46),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=gi.get(44),this.updateDebounceInfo=ri.for(li.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Re(yt),this.foldingDecorationProvider.showFoldingControls=gi.get(105),this.foldingDecorationProvider.showFoldingHighlights=gi.get(43),this.foldingEnabled=Ie.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Pi=>{if(Pi.hasChanged(41)&&(this._isEnabled=this.editor.getOptions().get(41),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Pi.hasChanged(45)&&this.onModelChanged(),Pi.hasChanged(105)||Pi.hasChanged(43)){const Hi=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=Hi.get(105),this.foldingDecorationProvider.showFoldingHighlights=Hi.get(43),this.triggerFoldingModelChanged()}Pi.hasChanged(42)&&(this._useFoldingProviders=this.editor.getOptions().get(42)!=="indentation",this.onFoldingStrategyChanged()),Pi.hasChanged(46)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(46)),Pi.hasChanged(44)&&(this._foldingImportsByDefault=this.editor.getOptions().get(44))})),this.onModelChanged()}saveViewState(){const yt=this.editor.getModel();if(!yt||!this._isEnabled||yt.isTooLargeForTokenization())return{};if(this.foldingModel){const St=this.foldingModel.getMemento(),Gt=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:St,lineCount:yt.getLineCount(),provider:Gt,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(yt){const St=this.editor.getModel();if(!(!St||!this._isEnabled||St.isTooLargeForTokenization()||!this.hiddenRangeModel)&&yt&&(this._currentModelHasFoldedImports=!!yt.foldedImports,yt.collapsedRegions&&yt.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(yt.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const yt=this.editor.getModel();!this._isEnabled||!yt||yt.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new C(yt,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new k(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(St=>this.onHiddenRangesChanges(St))),this.updateScheduler=new m.vp(this.updateDebounceInfo.get(yt)),this.cursorChangedScheduler=new m.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(St=>this.onDidChangeModelContent(St))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(St=>this.onEditorMouseDown(St))),this.localToDispose.add(this.editor.onMouseUp(St=>this.onEditorMouseUp(St))),this.localToDispose.add({dispose:()=>{var St,Gt;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(St=this.updateScheduler)===null||St===void 0||St.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(Gt=this.rangeProvider)===null||Gt===void 0||Gt.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var yt;(yt=this.rangeProvider)===null||yt===void 0||yt.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(yt){if(this.rangeProvider)return this.rangeProvider;const St=new X.aI(yt,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=St,this._useFoldingProviders&&this.foldingModel){const Gt=cd.getFoldingRangeProviders(this.languageFeaturesService,yt);Gt.length>0&&(this.rangeProvider=new ie.e(yt,Gt,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,St))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(yt){var St;(St=this.hiddenRangeModel)===null||St===void 0||St.notifyChangeModelContent(yt),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const yt=this.foldingModel;if(!yt)return null;const St=new ve.G(!0),Gt=this.getRangeProvider(yt.textModel),ti=this.foldingRegionPromise=(0,m.PG)(ri=>Gt.compute(ri));return ti.then(ri=>{if(ri&&ti===this.foldingRegionPromise){let li;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const ji=ri.setCollapsedAllOfType(l.AD.Imports.value,!0);ji&&(li=E.Z.capture(this.editor),this._currentModelHasFoldedImports=ji)}const gi=this.editor.getSelections(),Pi=gi?gi.map(ji=>ji.startLineNumber):[];yt.update(ri,Pi),li==null||li.restore(this.editor);const Hi=this.updateDebounceInfo.update(yt.textModel,St.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Hi)}return yt})}).then(void 0,yt=>((0,f.dL)(yt),null)))}onHiddenRangesChanges(yt){if(this.hiddenRangeModel&&yt.length&&!this._restoringViewState){const St=this.editor.getSelections();St&&this.hiddenRangeModel.adjustSelections(St)&&this.editor.setSelections(St)}this.editor.setHiddenAreas(yt,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const yt=this.getFoldingModel();yt&&yt.then(St=>{if(St){const Gt=this.editor.getSelections();if(Gt&&Gt.length>0){const ti=[];for(const ri of Gt){const li=ri.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(li)&&ti.push(...St.getAllRegionsAtLine(li,gi=>gi.isCollapsed&&li>gi.startLineNumber))}ti.length&&(St.toggleCollapseState(ti),this.reveal(Gt[0].getPosition()))}}}).then(void 0,f.dL)}onEditorMouseDown(yt){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!yt.target||!yt.target.range||!yt.event.leftButton&&!yt.event.middleButton)return;const St=yt.target.range;let Gt=!1;switch(yt.target.type){case 4:{const ti=yt.target.detail,ri=yt.target.element.offsetLeft;if(ti.offsetX-ri<5)return;Gt=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!yt.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const ti=this.editor.getModel();if(ti&&St.startColumn===ti.getLineMaxColumn(St.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:St.startLineNumber,iconClicked:Gt}}onEditorMouseUp(yt){const St=this.foldingModel;if(!St||!this.mouseDownInfo||!yt.target)return;const Gt=this.mouseDownInfo.lineNumber,ti=this.mouseDownInfo.iconClicked,ri=yt.target.range;if(!ri||ri.startLineNumber!==Gt)return;if(ti){if(yt.target.type!==4)return}else{const gi=this.editor.getModel();if(!gi||ri.startColumn!==gi.getLineMaxColumn(Gt))return}const li=St.getRegionAtLine(Gt);if(li&&li.startLineNumber===Gt){const gi=li.isCollapsed;if(ti||gi){const Pi=yt.event.altKey;let Hi=[];if(Pi){const ji=Rn=>!Rn.containedBy(li)&&!li.containedBy(Rn),bn=St.getRegionsInside(null,ji);for(const Rn of bn)Rn.isCollapsed&&Hi.push(Rn);Hi.length===0&&(Hi=bn)}else{const ji=yt.event.middleButton||yt.event.shiftKey;if(ji)for(const bn of St.getRegionsInside(li))bn.isCollapsed===gi&&Hi.push(bn);(gi||!ji||Hi.length===0)&&Hi.push(li)}St.toggleCollapseState(Hi),this.reveal({lineNumber:Gt,column:1})}}}reveal(yt){this.editor.revealPositionInCenterIfOutsideViewport(yt,0)}};oe.ID="editor.contrib.folding",oe=Ze([je(1,J.i6),je(2,d.c_),je(3,Z.lT),je(4,se.A),je(5,he.p)],oe);class ge{constructor(yt){this.editor=yt,this._onDidChange=new g.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(45)}update(yt,St){(yt!==this._computed||St!==this._limited)&&(this._computed=yt,this._limited=St,this._onDidChange.fire())}}class Ce extends R.R6{runEditorCommand(yt,St,Gt){const ti=yt.get(d.c_),ri=oe.get(St);if(!ri)return;const li=ri.getFoldingModel();if(li)return this.reportTelemetry(yt,St),li.then(gi=>{if(gi){this.invoke(ri,gi,St,Gt,ti);const Pi=St.getSelection();Pi&&ri.reveal(Pi.getStartPosition())}})}getSelectedLines(yt){const St=yt.getSelections();return St?St.map(Gt=>Gt.startLineNumber):[]}getLineNumbers(yt,St){return yt&&yt.selectionLines?yt.selectionLines.map(Gt=>Gt+1):this.getSelectedLines(St)}run(yt,St){}}function me(kt){if(!M.o8(kt)){if(!M.Kn(kt))return!1;const yt=kt;if(!M.o8(yt.levels)&&!M.hj(yt.levels)||!M.o8(yt.direction)&&!M.HD(yt.direction)||!M.o8(yt.selectionLines)&&(!Array.isArray(yt.selectionLines)||!yt.selectionLines.every(M.hj)))return!1}return!0}class Me extends Ce{constructor(){super({id:"editor.unfold",label:j.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:me,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(yt,St,Gt,ti){const ri=ti&&ti.levels||1,li=this.getLineNumbers(ti,Gt);ti&&ti.direction==="up"?S(St,!1,ri,li):u(St,!1,ri,li)}}class qe extends Ce{constructor(){super({id:"editor.unfoldRecursively",label:j.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2137),weight:100}})}invoke(yt,St,Gt,ti){u(St,!1,Number.MAX_VALUE,this.getSelectedLines(Gt))}}class ot extends Ce{constructor(){super({id:"editor.fold",label:j.NC("foldAction.label","Fold"),alias:"Fold",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:me,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(yt,St,Gt,ti){const ri=this.getLineNumbers(ti,Gt),li=ti&&ti.levels,gi=ti&&ti.direction;typeof li!="number"&&typeof gi!="string"?w(St,!0,ri):gi==="up"?S(St,!0,li||1,ri):u(St,!0,li||1,ri)}}class ut extends Ce{constructor(){super({id:"editor.toggleFold",label:j.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2090),weight:100}})}invoke(yt,St,Gt){const ti=this.getSelectedLines(Gt);D(St,1,ti)}}class ht extends Ce{constructor(){super({id:"editor.foldRecursively",label:j.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2135),weight:100}})}invoke(yt,St,Gt){const ti=this.getSelectedLines(Gt);u(St,!0,Number.MAX_VALUE,ti)}}class Ct extends Ce{constructor(){super({id:"editor.foldAllBlockComments",label:j.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2133),weight:100}})}invoke(yt,St,Gt,ti,ri){if(St.regions.hasTypes())x(St,l.AD.Comment.value,!0);else{const li=Gt.getModel();if(!li)return;const gi=ri.getLanguageConfiguration(li.getLanguageId()).comments;if(gi&&gi.blockCommentStartToken){const Pi=new RegExp("^\\s*"+(0,A.ec)(gi.blockCommentStartToken));O(St,Pi,!0)}}}}class Pt extends Ce{constructor(){super({id:"editor.foldAllMarkerRegions",label:j.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2077),weight:100}})}invoke(yt,St,Gt,ti,ri){if(St.regions.hasTypes())x(St,l.AD.Region.value,!0);else{const li=Gt.getModel();if(!li)return;const gi=ri.getLanguageConfiguration(li.getLanguageId()).foldingRules;if(gi&&gi.markers&&gi.markers.start){const Pi=new RegExp(gi.markers.start);O(St,Pi,!0)}}}}class bt extends Ce{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:j.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2078),weight:100}})}invoke(yt,St,Gt,ti,ri){if(St.regions.hasTypes())x(St,l.AD.Region.value,!1);else{const li=Gt.getModel();if(!li)return;const gi=ri.getLanguageConfiguration(li.getLanguageId()).foldingRules;if(gi&&gi.markers&&gi.markers.start){const Pi=new RegExp(gi.markers.start);O(St,Pi,!1)}}}}class $t extends Ce{constructor(){super({id:"editor.foldAllExcept",label:j.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2131),weight:100}})}invoke(yt,St,Gt){const ti=this.getSelectedLines(Gt);N(St,!0,ti)}}class Mt extends Ce{constructor(){super({id:"editor.unfoldAllExcept",label:j.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2129),weight:100}})}invoke(yt,St,Gt){const ti=this.getSelectedLines(Gt);N(St,!1,ti)}}class Xe extends Ce{constructor(){super({id:"editor.foldAll",label:j.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2069),weight:100}})}invoke(yt,St,Gt){u(St,!0)}}class Lt extends Ce{constructor(){super({id:"editor.unfoldAll",label:j.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2088),weight:100}})}invoke(yt,St,Gt){u(St,!1)}}class Xt extends Ce{getFoldingLevel(){return parseInt(this.id.substr(Xt.ID_PREFIX.length))}invoke(yt,St,Gt){L(St,this.getFoldingLevel(),!0,this.getSelectedLines(Gt))}}Xt.ID_PREFIX="editor.foldLevel",Xt.ID=kt=>Xt.ID_PREFIX+kt;class zt extends Ce{constructor(){super({id:"editor.gotoParentFold",label:j.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(yt,St,Gt){const ti=this.getSelectedLines(Gt);if(ti.length>0){const ri=T(ti[0],St);ri!==null&&Gt.setSelection({startLineNumber:ri,startColumn:1,endLineNumber:ri,endColumn:1})}}}class Fe extends Ce{constructor(){super({id:"editor.gotoPreviousFold",label:j.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(yt,St,Gt){const ti=this.getSelectedLines(Gt);if(ti.length>0){const ri=W(ti[0],St);ri!==null&&Gt.setSelection({startLineNumber:ri,startColumn:1,endLineNumber:ri,endColumn:1})}}}class et extends Ce{constructor(){super({id:"editor.gotoNextFold",label:j.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,weight:100}})}invoke(yt,St,Gt){const ti=this.getSelectedLines(Gt);if(ti.length>0){const ri=U(ti[0],St);ri!==null&&Gt.setSelection({startLineNumber:ri,startColumn:1,endLineNumber:ri,endColumn:1})}}}class pt extends Ce{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:j.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2130),weight:100}})}invoke(yt,St,Gt){var ti;const ri=[],li=Gt.getSelections();if(li){for(const gi of li){let Pi=gi.endLineNumber;gi.endColumn===1&&--Pi,Pi>gi.startLineNumber&&(ri.push({startLineNumber:gi.startLineNumber,endLineNumber:Pi,type:void 0,isCollapsed:!0,source:1}),Gt.setSelection({startLineNumber:gi.startLineNumber,startColumn:1,endLineNumber:gi.startLineNumber,endColumn:1}))}if(ri.length>0){ri.sort((Pi,Hi)=>Pi.startLineNumber-Hi.startLineNumber);const gi=n.MN.sanitizeAndMerge(St.regions,ri,(ti=Gt.getModel())===null||ti===void 0?void 0:ti.getLineCount());St.updatePost(n.MN.fromFoldRanges(gi))}}}}class It extends Ce{constructor(){super({id:"editor.removeManualFoldingRanges",label:j.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2132),weight:100}})}invoke(yt,St,Gt){const ti=Gt.getSelections();if(ti){const ri=[];for(const li of ti){const{startLineNumber:gi,endLineNumber:Pi}=li;ri.push(Pi>=gi?{startLineNumber:gi,endLineNumber:Pi}:{endLineNumber:Pi,startLineNumber:gi})}St.removeManualRanges(ri),yt.triggerFoldingModelChanged()}}}(0,R._K)(oe.ID,oe,0),(0,R.Qr)(Me),(0,R.Qr)(qe),(0,R.Qr)(ot),(0,R.Qr)(ht),(0,R.Qr)(Xe),(0,R.Qr)(Lt),(0,R.Qr)(Ct),(0,R.Qr)(Pt),(0,R.Qr)(bt),(0,R.Qr)($t),(0,R.Qr)(Mt),(0,R.Qr)(ut),(0,R.Qr)(zt),(0,R.Qr)(Fe),(0,R.Qr)(et),(0,R.Qr)(pt),(0,R.Qr)(It);for(let kt=1;kt<=7;kt++)(0,R.QG)(new Xt({id:Xt.ID(kt),label:j.NC("foldLevelAction.label","Fold Level {0}",kt),alias:`Fold Level ${kt}`,precondition:Ie,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2048|21+kt),weight:100}}));ce.P.registerCommand("_executeFoldingRangeProvider",function(kt,...yt){return Te(this,void 0,void 0,function*(){const[St]=yt;if(!(St instanceof Ee.o))throw(0,f.b1)();const Gt=kt.get(he.p),ti=kt.get(We.q).getModel(St);if(!ti)throw(0,f.b1)();const ri=kt.get(it.Ui);if(!ri.getValue("editor.folding",{resource:St}))return[];const li=kt.get(d.c_),gi=ri.getValue("editor.foldingStrategy",{resource:St}),Pi={get limit(){return ri.getValue("editor.foldingMaximumRegions",{resource:St})},update:(bs,ms)=>{}},Hi=new X.aI(ti,li,Pi);let ji=Hi;if(gi!=="indentation"){const bs=oe.getFoldingRangeProviders(Gt,ti);bs.length&&(ji=new ie.e(ti,bs,()=>{},Pi,Hi))}const bn=yield ji.compute(B.T.None),Rn=[];try{if(bn)for(let bs=0;bs<bn.length;bs++){const ms=bn.getType(bs);Rn.push({start:bn.getStartLineNumber(bs),end:bn.getEndLineNumber(bs),kind:ms?l.AD.fromValue(ms):void 0})}return Rn}finally{ji.dispose()}})})},14325:function(Ot,He,i){"use strict";i.d(He,{MN:function(){return A},Xl:function(){return f}});const m={[0]:" ",[1]:"u",[2]:"r"},B=65535,f=16777215,_=4278190080;class v{constructor(R){const p=Math.ceil(R/32);this._states=new Uint32Array(p)}get(R){const p=R/32|0,l=R%32;return(this._states[p]&1<<l)!==0}set(R,p){const l=R/32|0,d=R%32,g=this._states[l];p?this._states[l]=g|1<<d:this._states[l]=g&~(1<<d)}}class A{constructor(R,p,l){if(R.length!==p.length||R.length>B)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=R,this._endIndexes=p,this._collapseStates=new v(R.length),this._userDefinedStates=new v(R.length),this._recoveredStates=new v(R.length),this._types=l,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const R=[],p=(l,d)=>{const g=R[R.length-1];return this.getStartLineNumber(g)<=l&&this.getEndLineNumber(g)>=d};for(let l=0,d=this._startIndexes.length;l<d;l++){const g=this._startIndexes[l],n=this._endIndexes[l];if(g>f||n>f)throw new Error("startLineNumber or endLineNumber must not exceed "+f);for(;R.length>0&&!p(g,n);)R.pop();const a=R.length>0?R[R.length-1]:-1;R.push(l),this._startIndexes[l]=g+((a&255)<<24),this._endIndexes[l]=n+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(R){return this._startIndexes[R]&f}getEndLineNumber(R){return this._endIndexes[R]&f}getType(R){return this._types?this._types[R]:void 0}hasTypes(){return!!this._types}isCollapsed(R){return this._collapseStates.get(R)}setCollapsed(R,p){this._collapseStates.set(R,p)}isUserDefined(R){return this._userDefinedStates.get(R)}setUserDefined(R,p){return this._userDefinedStates.set(R,p)}isRecovered(R){return this._recoveredStates.get(R)}setRecovered(R,p){return this._recoveredStates.set(R,p)}getSource(R){return this.isUserDefined(R)?1:this.isRecovered(R)?2:0}setSource(R,p){p===1?(this.setUserDefined(R,!0),this.setRecovered(R,!1)):p===2?(this.setUserDefined(R,!1),this.setRecovered(R,!0)):(this.setUserDefined(R,!1),this.setRecovered(R,!1))}setCollapsedAllOfType(R,p){let l=!1;if(this._types)for(let d=0;d<this._types.length;d++)this._types[d]===R&&(this.setCollapsed(d,p),l=!0);return l}toRegion(R){return new M(this,R)}getParentIndex(R){this.ensureParentIndices();const p=((this._startIndexes[R]&_)>>>24)+((this._endIndexes[R]&_)>>>16);return p===B?-1:p}contains(R,p){return this.getStartLineNumber(R)<=p&&this.getEndLineNumber(R)>=p}findIndex(R){let p=0,l=this._startIndexes.length;if(l===0)return-1;for(;p<l;){const d=Math.floor((p+l)/2);R<this.getStartLineNumber(d)?l=d:p=d+1}return p-1}findRange(R){let p=this.findIndex(R);if(p>=0){if(this.getEndLineNumber(p)>=R)return p;for(p=this.getParentIndex(p);p!==-1;){if(this.contains(p,R))return p;p=this.getParentIndex(p)}}return-1}toString(){const R=[];for(let p=0;p<this.length;p++)R[p]=`[${m[this.getSource(p)]}${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return R.join(", ")}toFoldRange(R){return{startLineNumber:this._startIndexes[R]&f,endLineNumber:this._endIndexes[R]&f,type:this._types?this._types[R]:void 0,isCollapsed:this.isCollapsed(R),source:this.getSource(R)}}static fromFoldRanges(R){const p=R.length,l=new Uint32Array(p),d=new Uint32Array(p);let g=[],n=!1;for(let C=0;C<p;C++){const D=R[C];l[C]=D.startLineNumber,d[C]=D.endLineNumber,g.push(D.type),D.type&&(n=!0)}n||(g=void 0);const a=new A(l,d,g);for(let C=0;C<p;C++)R[C].isCollapsed&&a.setCollapsed(C,!0),a.setSource(C,R[C].source);return a}static sanitizeAndMerge(R,p,l){l=l!=null?l:Number.MAX_VALUE;const d=(O,x)=>Array.isArray(O)?T=>T<x?O[T]:void 0:T=>T<x?O.toFoldRange(T):void 0,g=d(R,R.length),n=d(p,p.length);let a=0,C=0,D=g(0),u=n(0);const S=[];let w,L=0;const N=[];for(;D||u;){let O;if(u&&(!D||D.startLineNumber>=u.startLineNumber))D&&D.startLineNumber===u.startLineNumber?(u.source===1?O=u:(O=D,O.isCollapsed=u.isCollapsed&&D.endLineNumber===u.endLineNumber,O.source=0),D=g(++a)):(O=u,u.isCollapsed&&u.source===0&&(O.source=2)),u=n(++C);else{let x=C,T=u;for(;;){if(!T||T.startLineNumber>D.endLineNumber){O=D;break}if(T.source===1&&T.endLineNumber>D.endLineNumber)break;T=n(++x)}D=g(++a)}if(O){for(;w&&w.endLineNumber<O.startLineNumber;)w=S.pop();O.endLineNumber>O.startLineNumber&&O.startLineNumber>L&&O.endLineNumber<=l&&(!w||w.endLineNumber>=O.endLineNumber)&&(N.push(O),L=O.startLineNumber,w&&S.push(w),w=O)}}return N}}class M{constructor(R,p){this.ranges=R,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(R){return R.startLineNumber<=this.startLineNumber&&R.endLineNumber>=this.endLineNumber}containsLine(R){return this.startLineNumber<=R&&R<=this.endLineNumber}}},78398:function(Ot,He,i){"use strict";i.d(He,{aI:function(){return v}});var m=i(6287),B=i(14325);const f=5e3,_="indent";class v{constructor(p,l,d){this.editorModel=p,this.languageConfigurationService=l,this.foldingRangesLimit=d,this.id=_}dispose(){}compute(p){const l=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,d=l&&!!l.offSide,g=l&&l.markers;return Promise.resolve(E(this.editorModel,d,g,this.foldingRangesLimit))}}class A{constructor(p){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=p}insertFirst(p,l,d){if(p>B.Xl||l>B.Xl)return;const g=this._length;this._startIndexes[g]=p,this._endIndexes[g]=l,this._length++,d<1e3&&(this._indentOccurrences[d]=(this._indentOccurrences[d]||0)+1)}toIndentRanges(p){const l=this._foldingRangesLimit.limit;if(this._length<=l){this._foldingRangesLimit.update(this._length,!1);const d=new Uint32Array(this._length),g=new Uint32Array(this._length);for(let n=this._length-1,a=0;n>=0;n--,a++)d[a]=this._startIndexes[n],g[a]=this._endIndexes[n];return new B.MN(d,g)}else{this._foldingRangesLimit.update(this._length,l);let d=0,g=this._indentOccurrences.length;for(let D=0;D<this._indentOccurrences.length;D++){const u=this._indentOccurrences[D];if(u){if(u+d>l){g=D;break}d+=u}}const n=p.getOptions().tabSize,a=new Uint32Array(l),C=new Uint32Array(l);for(let D=this._length-1,u=0;D>=0;D--){const S=this._startIndexes[D],w=p.getLineContent(S),L=(0,m.q)(w,n);(L<g||L===g&&d++<l)&&(a[u]=S,C[u]=this._endIndexes[D],u++)}return new B.MN(a,C)}}}const M={limit:f,update:()=>{}};function E(R,p,l,d=M){const g=R.getOptions().tabSize,n=new A(d);let a;l&&(a=new RegExp(`(${l.start.source})|(?:${l.end.source})`));const C=[],D=R.getLineCount()+1;C.push({indent:-1,endAbove:D,line:D});for(let u=R.getLineCount();u>0;u--){const S=R.getLineContent(u),w=(0,m.q)(S,g);let L=C[C.length-1];if(w===-1){p&&(L.endAbove=u);continue}let N;if(a&&(N=S.match(a)))if(N[1]){let O=C.length-1;for(;O>0&&C[O].indent!==-2;)O--;if(O>0){C.length=O+1,L=C[O],n.insertFirst(u,L.line,w),L.line=u,L.indent=w,L.endAbove=u;continue}}else{C.push({indent:-2,endAbove:u,line:u});continue}if(L.indent>w){do C.pop(),L=C[C.length-1];while(L.indent>w);const O=L.endAbove-1;O-u>=1&&n.insertFirst(u,O,w)}L.indent===w?L.endAbove=u:C.push({indent:w,endAbove:u,line:u})}return n.toIndentRanges(R)}},28994:function(Ot,He,i){"use strict";i.d(He,{e:function(){return A}});var m=i(20996),B=i(38431),f=i(14325);const _={},v="syntax";class A{constructor(l,d,g,n,a){this.editorModel=l,this.providers=d,this.handleFoldingRangesChange=g,this.foldingRangesLimit=n,this.fallbackRangeProvider=a,this.id=v,this.disposables=new B.SL,a&&this.disposables.add(a);for(const C of d)typeof C.onDidChange=="function"&&this.disposables.add(C.onDidChange(g))}compute(l){return M(this.providers,this.editorModel,l).then(d=>{var g,n;return d?R(d,this.foldingRangesLimit):(n=(g=this.fallbackRangeProvider)===null||g===void 0?void 0:g.compute(l))!==null&&n!==void 0?n:null})}dispose(){this.disposables.dispose()}}function M(p,l,d){let g=null;const n=p.map((a,C)=>Promise.resolve(a.provideFoldingRanges(l,_,d)).then(D=>{if(!d.isCancellationRequested&&Array.isArray(D)){Array.isArray(g)||(g=[]);const u=l.getLineCount();for(const S of D)S.start>0&&S.end>S.start&&S.end<=u&&g.push({start:S.start,end:S.end,rank:C,kind:S.kind})}},m.Cp));return Promise.all(n).then(a=>g)}class E{constructor(l){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=l}add(l,d,g,n){if(l>f.Xl||d>f.Xl)return;const a=this._length;this._startIndexes[a]=l,this._endIndexes[a]=d,this._nestingLevels[a]=n,this._types[a]=g,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){const l=this._foldingRangesLimit.limit;if(this._length<=l){this._foldingRangesLimit.update(this._length,!1);const d=new Uint32Array(this._length),g=new Uint32Array(this._length);for(let n=0;n<this._length;n++)d[n]=this._startIndexes[n],g[n]=this._endIndexes[n];return new f.MN(d,g,this._types)}else{this._foldingRangesLimit.update(this._length,l);let d=0,g=this._nestingLevelCounts.length;for(let D=0;D<this._nestingLevelCounts.length;D++){const u=this._nestingLevelCounts[D];if(u){if(u+d>l){g=D;break}d+=u}}const n=new Uint32Array(l),a=new Uint32Array(l),C=[];for(let D=0,u=0;D<this._length;D++){const S=this._nestingLevels[D];(S<g||S===g&&d++<l)&&(n[u]=this._startIndexes[D],a[u]=this._endIndexes[D],C[u]=this._types[D],u++)}return new f.MN(n,a,C)}}}function R(p,l){const d=p.sort((C,D)=>{let u=C.start-D.start;return u===0&&(u=C.rank-D.rank),u}),g=new E(l);let n;const a=[];for(const C of d)if(!n)n=C,g.add(C.start,C.end,C.kind&&C.kind.value,a.length);else if(C.start>n.start)if(C.end<=n.end)a.push(n),n=C,g.add(C.start,C.end,C.kind&&C.kind.value,a.length);else{if(C.start>n.end){do n=a.pop();while(n&&C.start>n.end);n&&a.push(n),n=C}g.add(C.start,C.end,C.kind&&C.kind.value,a.length)}return g.toIndentRanges()}},46249:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(14963),f=i(26386);class _ extends m.R6{constructor(){super({id:"editor.action.fontZoomIn",label:f.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(E,R){B.C.setZoomLevel(B.C.getZoomLevel()+1)}}class v extends m.R6{constructor(){super({id:"editor.action.fontZoomOut",label:f.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(E,R){B.C.setZoomLevel(B.C.getZoomLevel()-1)}}class A extends m.R6{constructor(){super({id:"editor.action.fontZoomReset",label:f.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(E,R){B.C.setZoomLevel(0)}}(0,m.Qr)(_),(0,m.Qr)(v),(0,m.Qr)(A)},46121:function(Ot,He,i){"use strict";i.d(He,{xC:function(){return U},Zg:function(){return T},x$:function(){return K},Qq:function(){return z},Qs:function(){return X}});var m=i(79874),B=i(16308),f=i(97464),_=i(20996),v=i(97865),A=i(17979),M=i(14818),E=i(28919),R=i(44426),p=i(86086),l=i(8964),d=i(50038),g=i(57841),n=i(30363),a=i(91223),C=i(59661),D=i(26386),u=i(80793);class S{constructor(J){this.value=J,this._lower=J.toLowerCase()}static toKey(J){return typeof J=="string"?J.toLowerCase():J._lower}}class w{constructor(J){if(this._set=new Set,J)for(const Y of J)this.add(Y)}add(J){this._set.add(S.toKey(J))}has(J){return this._set.has(S.toKey(J))}}var L=i(44333),N=i(35921),O=i(59271),x=function(j,J,Y,ee){function fe(De){return De instanceof Y?De:new Y(function(Ne){Ne(De)})}return new(Y||(Y=Promise))(function(De,Ne){function be(ue){try{Le(ee.next(ue))}catch(re){Ne(re)}}function xe(ue){try{Le(ee.throw(ue))}catch(re){Ne(re)}}function Le(ue){ue.done?De(ue.value):fe(ue.value).then(be,xe)}Le((ee=ee.apply(j,J||[])).next())})};function T(j){if(j=j.filter(fe=>fe.range),!j.length)return;let{range:J}=j[0];for(let fe=1;fe<j.length;fe++)J=d.e.plusRange(J,j[fe].range);const{startLineNumber:Y,endLineNumber:ee}=J;Y===ee?j.length===1?(0,m.Z9)(D.NC("hint11","Made 1 formatting edit on line {0}",Y)):(0,m.Z9)(D.NC("hintn1","Made {0} formatting edits on line {1}",j.length,Y)):j.length===1?(0,m.Z9)(D.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",Y,ee)):(0,m.Z9)(D.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",j.length,Y,ee))}function W(j,J,Y){const ee=[],fe=new w,De=j.ordered(Y);for(const be of De)ee.push(be),be.extensionId&&fe.add(be.extensionId);const Ne=J.ordered(Y);for(const be of Ne){if(be.extensionId){if(fe.has(be.extensionId))continue;fe.add(be.extensionId)}ee.push({displayName:be.displayName,extensionId:be.extensionId,provideDocumentFormattingEdits(xe,Le,ue){return be.provideDocumentRangeFormattingEdits(xe,xe.getFullModelRange(),Le,ue)}})}return ee}class U{static setFormatterSelector(J){return{dispose:U._selectors.unshift(J)}}static select(J,Y,ee){return x(this,void 0,void 0,function*(){if(J.length===0)return;const fe=v.$.first(U._selectors);if(fe)return yield fe(J,Y,ee)})}}U._selectors=new A.S;function K(j,J,Y,ee,fe,De){return x(this,void 0,void 0,function*(){const Ne=j.get(L.TG),{documentRangeFormattingEditProvider:be}=j.get(N.p),xe=(0,p.CL)(J)?J.getModel():J,Le=be.ordered(xe),ue=yield U.select(Le,xe,ee);ue&&(fe.report(ue),yield Ne.invokeFunction(G,ue,J,Y,De))})}function G(j,J,Y,ee,fe){var De,Ne;return x(this,void 0,void 0,function*(){const be=j.get(n.p),xe=j.get(O.VZ);let Le,ue;(0,p.CL)(Y)?(Le=Y.getModel(),ue=new R.Dl(Y,5,void 0,fe)):(Le=Y,ue=new R.YQ(Y,fe));const re=[];let _e=0;for(const Z of(0,B._2)(ee).sort(d.e.compareRangesUsingStarts))_e>0&&d.e.areIntersectingOrTouching(re[_e-1],Z)?re[_e-1]=d.e.fromPositions(re[_e-1].getStartPosition(),Z.getEndPosition()):_e=re.push(Z);const Ue=Z=>x(this,void 0,void 0,function*(){var se,ve;xe.trace("[format][provideDocumentRangeFormattingEdits] (request)",(se=J.extensionId)===null||se===void 0?void 0:se.value,Z);const he=(yield J.provideDocumentRangeFormattingEdits(Le,Z,Le.getFormattingOptions(),ue.token))||[];return xe.trace("[format][provideDocumentRangeFormattingEdits] (response)",(ve=J.extensionId)===null||ve===void 0?void 0:ve.value,he),he}),Qe=(Z,se)=>{if(!Z.length||!se.length)return!1;const ve=Z.reduce((he,ce)=>d.e.plusRange(he,ce.range),Z[0].range);if(!se.some(he=>d.e.intersectRanges(ve,he.range)))return!1;for(const he of Z)for(const ce of se)if(d.e.intersectRanges(he.range,ce.range))return!0;return!1},Re=[],ie=[];try{if(typeof J.provideDocumentRangesFormattingEdits=="function"){xe.trace("[format][provideDocumentRangeFormattingEdits] (request)",(De=J.extensionId)===null||De===void 0?void 0:De.value,re);const Z=(yield J.provideDocumentRangesFormattingEdits(Le,re,Le.getFormattingOptions(),ue.token))||[];xe.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Ne=J.extensionId)===null||Ne===void 0?void 0:Ne.value,Z),ie.push(Z)}else for(const Z of re){if(ue.token.isCancellationRequested)return!0;ie.push(yield Ue(Z))}for(let Z=0;Z<re.length;++Z)for(let se=Z+1;se<re.length;++se){if(ue.token.isCancellationRequested)return!0;if(Qe(ie[Z],ie[se])){const ve=d.e.plusRange(re[Z],re[se]),he=yield Ue(ve);re.splice(se,1),re.splice(Z,1),re.push(ve),ie.splice(se,1),ie.splice(Z,1),ie.push(he),Z=0,se=0}}for(const Z of ie){if(ue.token.isCancellationRequested)return!0;const se=yield be.computeMoreMinimalEdits(Le.uri,Z);se&&Re.push(...se)}}finally{ue.dispose()}if(Re.length===0)return!1;if((0,p.CL)(Y))C.V.execute(Y,Re,!0),T(Re),Y.revealPositionInCenterIfOutsideViewport(Y.getPosition(),1);else{const[{range:Z}]=Re,se=new g.Y(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn);Le.pushEditOperations([se],Re.map(ve=>({text:ve.text,range:d.e.lift(ve.range),forceMoveMarkers:!0})),ve=>{for(const{range:he}of ve)if(d.e.areIntersectingOrTouching(he,se))return[new g.Y(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)];return null})}return!0})}function z(j,J,Y,ee,fe){return x(this,void 0,void 0,function*(){const De=j.get(L.TG),Ne=j.get(N.p),be=(0,p.CL)(J)?J.getModel():J,xe=W(Ne.documentFormattingEditProvider,Ne.documentRangeFormattingEditProvider,be),Le=yield U.select(xe,be,Y);Le&&(ee.report(Le),yield De.invokeFunction(k,Le,J,Y,fe))})}function k(j,J,Y,ee,fe){return x(this,void 0,void 0,function*(){const De=j.get(n.p);let Ne,be;(0,p.CL)(Y)?(Ne=Y.getModel(),be=new R.Dl(Y,5,void 0,fe)):(Ne=Y,be=new R.YQ(Y,fe));let xe;try{const Le=yield J.provideDocumentFormattingEdits(Ne,Ne.getFormattingOptions(),be.token);if(xe=yield De.computeMoreMinimalEdits(Ne.uri,Le),be.token.isCancellationRequested)return!0}finally{be.dispose()}if(!xe||xe.length===0)return!1;if((0,p.CL)(Y))C.V.execute(Y,xe,ee!==2),ee!==2&&(T(xe),Y.revealPositionInCenterIfOutsideViewport(Y.getPosition(),1));else{const[{range:Le}]=xe,ue=new g.Y(Le.startLineNumber,Le.startColumn,Le.endLineNumber,Le.endColumn);Ne.pushEditOperations([ue],xe.map(re=>({text:re.text,range:d.e.lift(re.range),forceMoveMarkers:!0})),re=>{for(const{range:_e}of re)if(d.e.areIntersectingOrTouching(_e,ue))return[new g.Y(_e.startLineNumber,_e.startColumn,_e.endLineNumber,_e.endColumn)];return null})}return!0})}function q(j,J,Y,ee,fe,De){return x(this,void 0,void 0,function*(){const Ne=J.documentRangeFormattingEditProvider.ordered(Y);for(const be of Ne){const xe=yield Promise.resolve(be.provideDocumentRangeFormattingEdits(Y,ee,fe,De)).catch(_.Cp);if((0,B.Of)(xe))return yield j.computeMoreMinimalEdits(Y.uri,xe)}})}function te(j,J,Y,ee,fe){return x(this,void 0,void 0,function*(){const De=W(J.documentFormattingEditProvider,J.documentRangeFormattingEditProvider,Y);for(const Ne of De){const be=yield Promise.resolve(Ne.provideDocumentFormattingEdits(Y,ee,fe)).catch(_.Cp);if((0,B.Of)(be))return yield j.computeMoreMinimalEdits(Y.uri,be)}})}function X(j,J,Y,ee,fe,De,Ne){const be=J.onTypeFormattingEditProvider.ordered(Y);return be.length===0||be[0].autoFormatTriggerCharacters.indexOf(fe)<0?Promise.resolve(void 0):Promise.resolve(be[0].provideOnTypeFormattingEdits(Y,ee,fe,De,Ne)).catch(_.Cp).then(xe=>j.computeMoreMinimalEdits(Y.uri,xe))}u.P.registerCommand("_executeFormatRangeProvider",function(j,...J){return x(this,void 0,void 0,function*(){const[Y,ee,fe]=J;(0,M.p_)(E.o.isUri(Y)),(0,M.p_)(d.e.isIRange(ee));const De=j.get(a.S),Ne=j.get(n.p),be=j.get(N.p),xe=yield De.createModelReference(Y);try{return q(Ne,be,xe.object.textEditorModel,d.e.lift(ee),fe,f.T.None)}finally{xe.dispose()}})}),u.P.registerCommand("_executeFormatDocumentProvider",function(j,...J){return x(this,void 0,void 0,function*(){const[Y,ee]=J;(0,M.p_)(E.o.isUri(Y));const fe=j.get(a.S),De=j.get(n.p),Ne=j.get(N.p),be=yield fe.createModelReference(Y);try{return te(De,Ne,be.object.textEditorModel,ee,f.T.None)}finally{be.dispose()}})}),u.P.registerCommand("_executeFormatOnTypeProvider",function(j,...J){return x(this,void 0,void 0,function*(){const[Y,ee,fe,De]=J;(0,M.p_)(E.o.isUri(Y)),(0,M.p_)(l.L.isIPosition(ee)),(0,M.p_)(typeof fe=="string");const Ne=j.get(a.S),be=j.get(n.p),xe=j.get(N.p),Le=yield Ne.createModelReference(Y);try{return X(be,xe,Le.object.textEditorModel,l.L.lift(ee),fe,De,f.T.None)}finally{Le.dispose()}})})},60849:function(Ot,He,i){"use strict";i.r(He);var m=i(16308),B=i(97464),f=i(20996),_=i(94880),v=i(38431),A=i(55298),M=i(5603),E=i(55224),R=i(50038),p=i(21081),l=i(30363),d=i(35921),g=i(46121),n=i(59661),a=i(26386),C=i(80793),D=i(76826),u=i(44333),S=i(79969),w=function(U,K,G,z){var k=arguments.length,q=k<3?K:z===null?z=Object.getOwnPropertyDescriptor(K,G):z,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(U,K,G,z);else for(var X=U.length-1;X>=0;X--)(te=U[X])&&(q=(k<3?te(q):k>3?te(K,G,q):te(K,G))||q);return k>3&&q&&Object.defineProperty(K,G,q),q},L=function(U,K){return function(G,z){K(G,z,U)}},N=function(U,K,G,z){function k(q){return q instanceof G?q:new G(function(te){te(q)})}return new(G||(G=Promise))(function(q,te){function X(Y){try{J(z.next(Y))}catch(ee){te(ee)}}function j(Y){try{J(z.throw(Y))}catch(ee){te(ee)}}function J(Y){Y.done?q(Y.value):k(Y.value).then(X,j)}J((z=z.apply(U,K||[])).next())})};let O=class{constructor(K,G,z){this._editor=K,this._languageFeaturesService=G,this._workerService=z,this._disposables=new v.SL,this._sessionDisposables=new v.SL,this._disposables.add(G.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(K.onDidChangeModel(()=>this._update())),this._disposables.add(K.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(K.onDidChangeConfiguration(k=>{k.hasChanged(54)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(54)||!this._editor.hasModel())return;const K=this._editor.getModel(),[G]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(K);if(!G||!G.autoFormatTriggerCharacters)return;const z=new E.q;for(const k of G.autoFormatTriggerCharacters)z.add(k.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(k=>{const q=k.charCodeAt(k.length-1);z.has(q)&&this._trigger(String.fromCharCode(q))}))}_trigger(K){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const G=this._editor.getModel(),z=this._editor.getPosition(),k=new B.A,q=this._editor.onDidChangeModelContent(te=>{if(te.isFlush){k.cancel(),q.dispose();return}for(let X=0,j=te.changes.length;X<j;X++)if(te.changes[X].range.endLineNumber<=z.lineNumber){k.cancel(),q.dispose();return}});(0,g.Qs)(this._workerService,this._languageFeaturesService,G,z,K,G.getFormattingOptions(),k.token).then(te=>{k.token.isCancellationRequested||(0,m.Of)(te)&&(n.V.execute(this._editor,te,!0),(0,g.Zg)(te))}).finally(()=>{q.dispose()})}};O.ID="editor.contrib.autoFormat",O=w([L(1,d.p),L(2,l.p)],O);let x=class{constructor(K,G,z){this.editor=K,this._languageFeaturesService=G,this._instantiationService=z,this._callOnDispose=new v.SL,this._callOnModel=new v.SL,this._callOnDispose.add(K.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(K.onDidChangeModel(()=>this._update())),this._callOnDispose.add(K.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(G.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(53)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:K})=>this._trigger(K)))}_trigger(K){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(g.x$,this.editor,K,2,S.Ex.None,B.T.None).catch(f.dL))}};x.ID="editor.contrib.formatOnPaste",x=w([L(1,d.p),L(2,u.TG)],x);class T extends A.R6{constructor(){super({id:"editor.action.formatDocument",label:a.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:D.Ao.and(p.u.notInCompositeEditor,p.u.writable,p.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(K,G){return N(this,void 0,void 0,function*(){if(G.hasModel()){const z=K.get(u.TG);yield K.get(S.ek).showWhile(z.invokeFunction(g.Qq,G,1,S.Ex.None,B.T.None),250)}})}}class W extends A.R6{constructor(){super({id:"editor.action.formatSelection",label:a.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:D.Ao.and(p.u.writable,p.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,_.gx)(2089,2084),weight:100},contextMenuOpts:{when:p.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(K,G){return N(this,void 0,void 0,function*(){if(!G.hasModel())return;const z=K.get(u.TG),k=G.getModel(),q=G.getSelections().map(X=>X.isEmpty()?new R.e(X.startLineNumber,1,X.startLineNumber,k.getLineMaxColumn(X.startLineNumber)):X);yield K.get(S.ek).showWhile(z.invokeFunction(g.x$,G,q,1,S.Ex.None,B.T.None),250)})}}(0,A._K)(O.ID,O,2),(0,A._K)(x.ID,x,2),(0,A.Qr)(T),(0,A.Qr)(W),C.P.registerCommand("editor.action.format",U=>N(void 0,void 0,void 0,function*(){const K=U.get(M.$).getFocusedCodeEditor();if(!K||!K.hasModel())return;const G=U.get(C.H);K.getSelection().isEmpty()?yield G.executeCommand("editor.action.formatDocument"):yield G.executeCommand("editor.action.formatSelection")}))},59661:function(Ot,He,i){"use strict";i.d(He,{V:function(){return _}});var m=i(19083),B=i(50038),f=i(48423);class _{static _handleEolEdits(A,M){let E;const R=[];for(const p of M)typeof p.eol=="number"&&(E=p.eol),p.range&&typeof p.text=="string"&&R.push(p);return typeof E=="number"&&A.hasModel()&&A.getModel().pushEOL(E),R}static _isFullModelReplaceEdit(A,M){if(!A.hasModel())return!1;const E=A.getModel(),R=E.validateRange(M.range);return E.getFullModelRange().equalsRange(R)}static execute(A,M,E){E&&A.pushUndoStop();const R=f.Z.capture(A),p=_._handleEolEdits(A,M);p.length===1&&_._isFullModelReplaceEdit(A,p[0])?A.executeEdits("formatEditsCommand",p.map(l=>m.h.replace(B.e.lift(l.range),l.text))):A.executeEdits("formatEditsCommand",p.map(l=>m.h.replaceMove(B.e.lift(l.range),l.text))),E&&A.pushUndoStop(),R.restoreRelativeVerticalPositionOfCursor(A)}}},56993:function(Ot,He,i){"use strict";i.r(He),i.d(He,{MarkerController:function(){return Ee},NextMarkerAction:function(){return it}});var m=i(407),B=i(38431),f=i(55298),_=i(5603),v=i(8964),A=i(50038),M=i(21081),E=i(16308),R=i(56709),p=i(17979),l=i(17416),d=i(28919),g=i(53061),n=i(44333),a=i(36156),C=i(71177),D=function(ge,Ce,me,Me){var qe=arguments.length,ot=qe<3?Ce:Me===null?Me=Object.getOwnPropertyDescriptor(Ce,me):Me,ut;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(ge,Ce,me,Me);else for(var ht=ge.length-1;ht>=0;ht--)(ut=ge[ht])&&(ot=(qe<3?ut(ot):qe>3?ut(Ce,me,ot):ut(Ce,me))||ot);return qe>3&&ot&&Object.defineProperty(Ce,me,ot),ot},u=function(ge,Ce){return function(me,Me){Ce(me,Me,ge)}};class S{constructor(Ce,me,Me){this.marker=Ce,this.index=me,this.total=Me}}let w=class{constructor(Ce,me,Me){this._markerService=me,this._configService=Me,this._onDidChange=new R.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new B.SL,this._markers=[],this._nextIdx=-1,d.o.isUri(Ce)?this._resourceFilter=ht=>ht.toString()===Ce.toString():Ce&&(this._resourceFilter=Ce);const qe=this._configService.getValue("problems.sortOrder"),ot=(ht,Ct)=>{let Pt=(0,l.qu)(ht.resource.toString(),Ct.resource.toString());return Pt===0&&(qe==="position"?Pt=A.e.compareRangesUsingStarts(ht,Ct)||a.ZL.compare(ht.severity,Ct.severity):Pt=a.ZL.compare(ht.severity,Ct.severity)||A.e.compareRangesUsingStarts(ht,Ct)),Pt},ut=()=>{this._markers=this._markerService.read({resource:d.o.isUri(Ce)?Ce:void 0,severities:a.ZL.Error|a.ZL.Warning|a.ZL.Info}),typeof Ce=="function"&&(this._markers=this._markers.filter(ht=>this._resourceFilter(ht.resource))),this._markers.sort(ot)};ut(),this._dispoables.add(me.onMarkerChanged(ht=>{(!this._resourceFilter||ht.some(Ct=>this._resourceFilter(Ct)))&&(ut(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(Ce){return!this._resourceFilter&&!Ce?!0:!this._resourceFilter||!Ce?!1:this._resourceFilter(Ce)}get selected(){const Ce=this._markers[this._nextIdx];return Ce&&new S(Ce,this._nextIdx+1,this._markers.length)}_initIdx(Ce,me,Me){let qe=!1,ot=this._markers.findIndex(ut=>ut.resource.toString()===Ce.uri.toString());ot<0&&(ot=(0,E.ry)(this._markers,{resource:Ce.uri},(ut,ht)=>(0,l.qu)(ut.resource.toString(),ht.resource.toString())),ot<0&&(ot=~ot));for(let ut=ot;ut<this._markers.length;ut++){let ht=A.e.lift(this._markers[ut]);if(ht.isEmpty()){const Ct=Ce.getWordAtPosition(ht.getStartPosition());Ct&&(ht=new A.e(ht.startLineNumber,Ct.startColumn,ht.startLineNumber,Ct.endColumn))}if(me&&(ht.containsPosition(me)||me.isBeforeOrEqual(ht.getStartPosition()))){this._nextIdx=ut,qe=!0;break}if(this._markers[ut].resource.toString()!==Ce.uri.toString())break}qe||(this._nextIdx=Me?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(Ce,me,Me){if(this._markers.length===0)return!1;const qe=this._nextIdx;return this._nextIdx===-1?this._initIdx(me,Me,Ce):Ce?this._nextIdx=(this._nextIdx+1)%this._markers.length:Ce||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),qe!==this._nextIdx}find(Ce,me){let Me=this._markers.findIndex(qe=>qe.resource.toString()===Ce.toString());if(!(Me<0)){for(;Me<this._markers.length;Me++)if(A.e.containsPosition(this._markers[Me],me))return new S(this._markers[Me],Me+1,this._markers.length)}}};w=D([u(1,a.lT),u(2,C.Ui)],w);const L=(0,n.yh)("IMarkerNavigationService");let N=class{constructor(Ce,me){this._markerService=Ce,this._configService=me,this._provider=new p.S}getMarkerList(Ce){for(const me of this._provider){const Me=me.getMarkerList(Ce);if(Me)return Me}return new w(Ce,this._markerService,this._configService)}};N=D([u(0,a.lT),u(1,C.Ui)],N),(0,g.z)(L,N,1);var O=i(26386),x=i(21208),T=i(76826),W=i(89528),U=i(34441),K=i(60018),G=i(86741),z=i(6227),k=i(10479),q=i(3941),te=i(18680),X=i(48786),j=i(8216),J=i(87068),Y;(function(ge){function Ce(me){switch(me){case J.Z.Ignore:return"severity-ignore "+j.k.asClassName(m.l.info);case J.Z.Info:return j.k.asClassName(m.l.info);case J.Z.Warning:return j.k.asClassName(m.l.warning);case J.Z.Error:return j.k.asClassName(m.l.error);default:return""}}ge.className=Ce})(Y||(Y={}));var ee=i(92537),fe=i(58566),De=function(ge,Ce,me,Me){var qe=arguments.length,ot=qe<3?Ce:Me===null?Me=Object.getOwnPropertyDescriptor(Ce,me):Me,ut;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(ge,Ce,me,Me);else for(var ht=ge.length-1;ht>=0;ht--)(ut=ge[ht])&&(ot=(qe<3?ut(ot):qe>3?ut(Ce,me,ot):ut(Ce,me))||ot);return qe>3&&ot&&Object.defineProperty(Ce,me,ot),ot},Ne=function(ge,Ce){return function(me,Me){Ce(me,Me,ge)}};class be{constructor(Ce,me,Me,qe,ot){this._openerService=qe,this._labelService=ot,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new B.SL,this._editor=me;const ut=document.createElement("div");ut.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),ut.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),ut.appendChild(this._relatedBlock),this._disposables.add(U.mu(this._relatedBlock,"click",ht=>{ht.preventDefault();const Ct=this._relatedDiagnostics.get(ht.target);Ct&&Me(Ct)})),this._scrollable=new K.NB(ut,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),Ce.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(ht=>{ut.style.left=`-${ht.scrollLeft}px`,ut.style.top=`-${ht.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,B.B9)(this._disposables)}update(Ce){const{source:me,message:Me,relatedInformation:qe,code:ot}=Ce;let ut=((me==null?void 0:me.length)||0)+2;ot&&(typeof ot=="string"?ut+=ot.length:ut+=ot.value.length);const ht=(0,l.uq)(Me);this._lines=ht.length,this._longestLineLength=0;for(const Mt of ht)this._longestLineLength=Math.max(Mt.length+ut,this._longestLineLength);U.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(Ce)),this._editor.applyFontInfo(this._messageBlock);let Ct=this._messageBlock;for(const Mt of ht)Ct=document.createElement("div"),Ct.innerText=Mt,Mt===""&&(Ct.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Ct);if(me||ot){const Mt=document.createElement("span");if(Mt.classList.add("details"),Ct.appendChild(Mt),me){const Xe=document.createElement("span");Xe.innerText=me,Xe.classList.add("source"),Mt.appendChild(Xe)}if(ot)if(typeof ot=="string"){const Xe=document.createElement("span");Xe.innerText=`(${ot})`,Xe.classList.add("code"),Mt.appendChild(Xe)}else{this._codeLink=U.$("a.code-link"),this._codeLink.setAttribute("href",`${ot.target.toString()}`),this._codeLink.onclick=Lt=>{this._openerService.open(ot.target,{allowCommands:!0}),Lt.preventDefault(),Lt.stopPropagation()};const Xe=U.R3(this._codeLink,U.$("span"));Xe.innerText=ot.value,Mt.appendChild(this._codeLink)}}if(U.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,E.Of)(qe)){const Mt=this._relatedBlock.appendChild(document.createElement("div"));Mt.style.paddingTop=`${Math.floor(this._editor.getOption(64)*.66)}px`,this._lines+=1;for(const Xe of qe){const Lt=document.createElement("div"),Xt=document.createElement("a");Xt.classList.add("filename"),Xt.innerText=`${this._labelService.getUriBasenameLabel(Xe.resource)}(${Xe.startLineNumber}, ${Xe.startColumn}): `,Xt.title=this._labelService.getUriLabel(Xe.resource),this._relatedDiagnostics.set(Xt,Xe);const zt=document.createElement("span");zt.innerText=Xe.message,Lt.appendChild(Xt),Lt.appendChild(zt),this._lines+=1,Mt.appendChild(Lt)}}const Pt=this._editor.getOption(48),bt=Math.ceil(Pt.typicalFullwidthCharacterWidth*this._longestLineLength*.75),$t=Pt.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:bt,scrollHeight:$t})}layout(Ce,me){this._scrollable.getDomNode().style.height=`${Ce}px`,this._scrollable.getDomNode().style.width=`${me}px`,this._scrollable.setScrollDimensions({width:me,height:Ce})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(Ce){let me="";switch(Ce.severity){case a.ZL.Error:me=O.NC("Error","Error");break;case a.ZL.Warning:me=O.NC("Warning","Warning");break;case a.ZL.Info:me=O.NC("Info","Info");break;case a.ZL.Hint:me=O.NC("Hint","Hint");break}let Me=O.NC("marker aria","{0} at {1}. ",me,Ce.startLineNumber+":"+Ce.startColumn);const qe=this._editor.getModel();return qe&&Ce.startLineNumber<=qe.getLineCount()&&Ce.startLineNumber>=1&&(Me=`${qe.getLineContent(Ce.startLineNumber)}, ${Me}`),Me}}let xe=class Sh extends k.vk{constructor(Ce,me,Me,qe,ot,ut,ht){super(Ce,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},ot),this._themeService=me,this._openerService=Me,this._menuService=qe,this._contextKeyService=ut,this._labelService=ht,this._callOnDispose=new B.SL,this._onDidSelectRelatedInformation=new R.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=a.ZL.Warning,this._backgroundColor=G.Il.white,this._applyTheme(me.getColorTheme()),this._callOnDispose.add(me.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(Ce){this._backgroundColor=Ce.getColor(se);let me=_e,Me=Ue;this._severity===a.ZL.Warning?(me=Qe,Me=Re):this._severity===a.ZL.Info&&(me=ie,Me=Z);const qe=Ce.getColor(me),ot=Ce.getColor(Me);this.style({arrowColor:qe,frameColor:qe,headerBackgroundColor:ot,primaryHeadingColor:Ce.getColor(k.IH),secondaryHeadingColor:Ce.getColor(k.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(Ce){super._fillHead(Ce),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(qe=>this.editor.focus()));const me=[],Me=this._menuService.createMenu(Sh.TitleMenu,this._contextKeyService);(0,q.vr)(Me,void 0,me),this._actionbarWidget.push(me,{label:!1,icon:!0,index:0}),Me.dispose()}_fillTitleIcon(Ce){this._icon=U.R3(Ce,U.$(""))}_fillBody(Ce){this._parentContainer=Ce,Ce.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),Ce.appendChild(this._container),this._message=new be(this._container,this.editor,me=>this._onDidSelectRelatedInformation.fire(me),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(Ce,me,Me){this._container.classList.remove("stale"),this._message.update(Ce),this._severity=Ce.severity,this._applyTheme(this._themeService.getColorTheme());const qe=A.e.lift(Ce),ot=this.editor.getPosition(),ut=ot&&qe.containsPosition(ot)?ot:qe.getStartPosition();super.show(ut,this.computeRequiredHeight());const ht=this.editor.getModel();if(ht){const Ct=Me>1?O.NC("problems","{0} of {1} problems",me,Me):O.NC("change","{0} of {1} problem",me,Me);this.setTitle((0,z.EZ)(ht.uri),Ct)}this._icon.className=`codicon ${Y.className(a.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(ut,0),this.editor.focus()}updateMarker(Ce){this._container.classList.remove("stale"),this._message.update(Ce)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(Ce,me){super._doLayoutBody(Ce,me),this._heightInPixel=Ce,this._message.layout(Ce,me),this._container.style.height=`${Ce}px`}_onWidth(Ce){this._message.layout(this._heightInPixel,Ce)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};xe.TitleMenu=new x.eH("gotoErrorTitleMenu"),xe=De([Ne(1,fe.XE),Ne(2,X.v4),Ne(3,x.co),Ne(4,n.TG),Ne(5,T.i6),Ne(6,te.e)],xe);const Le=(0,ee.kwl)(ee.lXJ,ee.b6y),ue=(0,ee.kwl)(ee.uoC,ee.pW3),re=(0,ee.kwl)(ee.c63,ee.T83),_e=(0,ee.P6G)("editorMarkerNavigationError.background",{dark:Le,light:Le,hcDark:ee.lRK,hcLight:ee.lRK},O.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Ue=(0,ee.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,ee.ZnX)(_e,.1),light:(0,ee.ZnX)(_e,.1),hcDark:null,hcLight:null},O.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Qe=(0,ee.P6G)("editorMarkerNavigationWarning.background",{dark:ue,light:ue,hcDark:ee.lRK,hcLight:ee.lRK},O.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Re=(0,ee.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,ee.ZnX)(Qe,.1),light:(0,ee.ZnX)(Qe,.1),hcDark:"#0C141F",hcLight:(0,ee.ZnX)(Qe,.2)},O.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),ie=(0,ee.P6G)("editorMarkerNavigationInfo.background",{dark:re,light:re,hcDark:ee.lRK,hcLight:ee.lRK},O.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Z=(0,ee.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,ee.ZnX)(ie,.1),light:(0,ee.ZnX)(ie,.1),hcDark:null,hcLight:null},O.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),se=(0,ee.P6G)("editorMarkerNavigation.background",{dark:ee.cvW,light:ee.cvW,hcDark:ee.cvW,hcLight:ee.cvW},O.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var ve=function(ge,Ce,me,Me){var qe=arguments.length,ot=qe<3?Ce:Me===null?Me=Object.getOwnPropertyDescriptor(Ce,me):Me,ut;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(ge,Ce,me,Me);else for(var ht=ge.length-1;ht>=0;ht--)(ut=ge[ht])&&(ot=(qe<3?ut(ot):qe>3?ut(Ce,me,ot):ut(Ce,me))||ot);return qe>3&&ot&&Object.defineProperty(Ce,me,ot),ot},he=function(ge,Ce){return function(me,Me){Ce(me,Me,ge)}},ce=function(ge,Ce,me,Me){function qe(ot){return ot instanceof me?ot:new me(function(ut){ut(ot)})}return new(me||(me=Promise))(function(ot,ut){function ht(bt){try{Pt(Me.next(bt))}catch($t){ut($t)}}function Ct(bt){try{Pt(Me.throw(bt))}catch($t){ut($t)}}function Pt(bt){bt.done?ot(bt.value):qe(bt.value).then(ht,Ct)}Pt((Me=Me.apply(ge,Ce||[])).next())})};let Ee=class Wd{static get(Ce){return Ce.getContribution(Wd.ID)}constructor(Ce,me,Me,qe,ot){this._markerNavigationService=me,this._contextKeyService=Me,this._editorService=qe,this._instantiationService=ot,this._sessionDispoables=new B.SL,this._editor=Ce,this._widgetVisible=Ie.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(Ce){if(this._model&&this._model.matches(Ce))return this._model;let me=!1;return this._model&&(me=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(Ce),me&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(xe,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(Me=>{var qe,ot,ut;(!(!((qe=this._model)===null||qe===void 0)&&qe.selected)||!A.e.containsPosition((ot=this._model)===null||ot===void 0?void 0:ot.selected.marker,Me.position))&&((ut=this._model)===null||ut===void 0||ut.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const Me=this._model.find(this._editor.getModel().uri,this._widget.position);Me?this._widget.updateMarker(Me.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(Me=>{this._editorService.openCodeEditor({resource:Me.resource,options:{pinned:!0,revealIfOpened:!0,selection:A.e.lift(Me).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(Ce=!0){this._cleanUp(),Ce&&this._editor.focus()}showAtMarker(Ce){if(this._editor.hasModel()){const me=this._getOrCreateModel(this._editor.getModel().uri);me.resetIndex(),me.move(!0,this._editor.getModel(),new v.L(Ce.startLineNumber,Ce.startColumn)),me.selected&&this._widget.showAtMarker(me.selected.marker,me.selected.index,me.selected.total)}}nagivate(Ce,me){var Me,qe;return ce(this,void 0,void 0,function*(){if(this._editor.hasModel()){const ot=this._getOrCreateModel(me?void 0:this._editor.getModel().uri);if(ot.move(Ce,this._editor.getModel(),this._editor.getPosition()),!ot.selected)return;if(ot.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const ut=yield this._editorService.openCodeEditor({resource:ot.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:ot.selected.marker}},this._editor);ut&&((Me=Wd.get(ut))===null||Me===void 0||Me.close(),(qe=Wd.get(ut))===null||qe===void 0||qe.nagivate(Ce,me))}else this._widget.showAtMarker(ot.selected.marker,ot.selected.index,ot.selected.total)}})}};Ee.ID="editor.contrib.markerController",Ee=ve([he(1,L),he(2,T.i6),he(3,_.$),he(4,n.TG)],Ee);class We extends f.R6{constructor(Ce,me,Me){super(Me),this._next=Ce,this._multiFile=me}run(Ce,me){var Me;return ce(this,void 0,void 0,function*(){me.hasModel()&&((Me=Ee.get(me))===null||Me===void 0||Me.nagivate(this._next,this._multiFile))})}}class it extends We{constructor(){super(!0,!1,{id:it.ID,label:it.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.u.focus,primary:578,weight:100},menuOpts:{menuId:xe.TitleMenu,title:it.LABEL,icon:(0,W.q5)("marker-navigation-next",m.l.arrowDown,O.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}it.ID="editor.action.marker.next",it.LABEL=O.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Ze extends We{constructor(){super(!1,!1,{id:Ze.ID,label:Ze.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.u.focus,primary:1602,weight:100},menuOpts:{menuId:xe.TitleMenu,title:Ze.LABEL,icon:(0,W.q5)("marker-navigation-previous",m.l.arrowUp,O.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Ze.ID="editor.action.marker.prev",Ze.LABEL=O.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class je extends We{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:O.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.u.focus,primary:66,weight:100},menuOpts:{menuId:x.eH.MenubarGoMenu,title:O.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class Te extends We{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:O.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.u.focus,primary:1090,weight:100},menuOpts:{menuId:x.eH.MenubarGoMenu,title:O.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,f._K)(Ee.ID,Ee,4),(0,f.Qr)(it),(0,f.Qr)(Ze),(0,f.Qr)(je),(0,f.Qr)(Te);const Ie=new T.uy("markersNavigationVisible",!1),oe=f._l.bindToContribution(Ee.get);(0,f.fK)(new oe({id:"closeMarkersNavigation",precondition:Ie,handler:ge=>ge.close(),kbOpts:{weight:100+50,kbExpr:M.u.focus,primary:9,secondary:[1033]}}))},55843:function(Ot,He,i){"use strict";i.r(He),i.d(He,{DefinitionAction:function(){return ve},SymbolNavigationAction:function(){return se},SymbolNavigationAnchor:function(){return Z}});var m=i(71488),B=i(79874),f=i(13484),_=i(94880),v=i(11138),A=i(14818),M=i(28919),E=i(44426),R=i(86086),p=i(55298),l=i(5603),d=i(77957),g=i(8964),n=i(50038),a=i(21081),C=i(36082),D=i(51525),u=i(32498),S=i(56709),w=i(38431),L=i(6227),N=i(26386),O=i(76826),x=i(53061),T=i(44333),W=i(62297),U=i(47679),K=i(97968),G=function(je,Te,Ie,oe){var ge=arguments.length,Ce=ge<3?Te:oe===null?oe=Object.getOwnPropertyDescriptor(Te,Ie):oe,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(je,Te,Ie,oe);else for(var Me=je.length-1;Me>=0;Me--)(me=je[Me])&&(Ce=(ge<3?me(Ce):ge>3?me(Te,Ie,Ce):me(Te,Ie))||Ce);return ge>3&&Ce&&Object.defineProperty(Te,Ie,Ce),Ce},z=function(je,Te){return function(Ie,oe){Te(Ie,oe,je)}};const k=new O.uy("hasSymbols",!1,(0,N.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),q=(0,T.yh)("ISymbolNavigationService");let te=class{constructor(Te,Ie,oe,ge){this._editorService=Ie,this._notificationService=oe,this._keybindingService=ge,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=k.bindTo(Te)}reset(){var Te,Ie;this._ctxHasSymbols.reset(),(Te=this._currentState)===null||Te===void 0||Te.dispose(),(Ie=this._currentMessage)===null||Ie===void 0||Ie.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(Te){const Ie=Te.parent.parent;if(Ie.references.length<=1){this.reset();return}this._currentModel=Ie,this._currentIdx=Ie.references.indexOf(Te),this._ctxHasSymbols.set(!0),this._showMessage();const oe=new X(this._editorService),ge=oe.onDidChange(Ce=>{if(this._ignoreEditorChange)return;const me=this._editorService.getActiveCodeEditor();if(!me)return;const Me=me.getModel(),qe=me.getPosition();if(!Me||!qe)return;let ot=!1,ut=!1;for(const ht of Ie.references)if((0,L.Xy)(ht.uri,Me.uri))ot=!0,ut=ut||n.e.containsPosition(ht.range,qe);else if(ot)break;(!ot||!ut)&&this.reset()});this._currentState=(0,w.F8)(oe,ge)}revealNext(Te){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const Ie=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:Ie.uri,options:{selection:n.e.collapseToStart(Ie.range),selectionRevealType:3}},Te).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var Te;(Te=this._currentMessage)===null||Te===void 0||Te.dispose();const Ie=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),oe=Ie?(0,N.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,Ie.getLabel()):(0,N.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(oe)}};te=G([z(0,O.i6),z(1,l.$),z(2,K.lT),z(3,W.d)],te),(0,x.z)(q,te,1),(0,p.fK)(new class extends p._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:k,kbOpts:{weight:100,primary:70}})}runEditorCommand(je,Te){return je.get(q).revealNext(Te)}}),U.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:k,primary:9,handler(je){je.get(q).reset()}});let X=class{constructor(Te){this._listener=new Map,this._disposables=new w.SL,this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(Te.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(Te.onCodeEditorAdd(this._onDidAddEditor,this)),Te.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,w.B9)(this._listener.values())}_onDidAddEditor(Te){this._listener.set(Te,(0,w.F8)(Te.onDidChangeCursorPosition(Ie=>this._onDidChange.fire({editor:Te})),Te.onDidChangeModelContent(Ie=>this._onDidChange.fire({editor:Te}))))}_onDidRemoveEditor(Te){var Ie;(Ie=this._listener.get(Te))===null||Ie===void 0||Ie.dispose(),this._listener.delete(Te)}};X=G([z(0,l.$)],X);var j=i(91591),J=i(10479),Y=i(21208),ee=i(80793),fe=i(79969),De=i(84758),Ne=i(35921),be=i(97865),xe=function(je,Te,Ie,oe){function ge(Ce){return Ce instanceof Ie?Ce:new Ie(function(me){me(Ce)})}return new(Ie||(Ie=Promise))(function(Ce,me){function Me(ut){try{ot(oe.next(ut))}catch(ht){me(ht)}}function qe(ut){try{ot(oe.throw(ut))}catch(ht){me(ht)}}function ot(ut){ut.done?Ce(ut.value):ge(ut.value).then(Me,qe)}ot((oe=oe.apply(je,Te||[])).next())})},Le,ue,re,_e,Ue,Qe,Re,ie;Y.BH.appendMenuItem(Y.eH.EditorContext,{submenu:Y.eH.EditorContextPeek,title:N.NC("peek.submenu","Peek"),group:"navigation",order:100});class Z{static is(Te){return!Te||typeof Te!="object"?!1:!!(Te instanceof Z||g.L.isIPosition(Te.position)&&Te.model)}constructor(Te,Ie){this.model=Te,this.position=Ie}}class se extends p.x1{static all(){return se._allSymbolNavigationCommands.values()}static _patchConfig(Te){const Ie=Object.assign(Object.assign({},Te),{f1:!0});if(Ie.menu)for(const oe of be.$.wrap(Ie.menu))(oe.id===Y.eH.EditorContext||oe.id===Y.eH.EditorContextPeek)&&(oe.when=O.Ao.and(Te.precondition,oe.when));return Ie}constructor(Te,Ie){super(se._patchConfig(Ie)),this.configuration=Te,se._allSymbolNavigationCommands.set(Ie.id,this)}runEditorCommand(Te,Ie,oe,ge){if(!Ie.hasModel())return Promise.resolve(void 0);const Ce=Te.get(K.lT),me=Te.get(l.$),Me=Te.get(fe.ek),qe=Te.get(q),ot=Te.get(Ne.p),ut=Te.get(T.TG),ht=Ie.getModel(),Ct=Ie.getPosition(),Pt=Z.is(oe)?oe:new Z(ht,Ct),bt=new E.Dl(Ie,5),$t=(0,f.eP)(this._getLocationModel(ot,Pt.model,Pt.position,bt.token),bt.token).then(Mt=>xe(this,void 0,void 0,function*(){var Xe;if(!Mt||bt.token.isCancellationRequested)return;(0,B.Z9)(Mt.ariaMessage);let Lt;if(Mt.referenceAt(ht.uri,Ct)){const zt=this._getAlternativeCommand(Ie);!se._activeAlternativeCommands.has(zt)&&se._allSymbolNavigationCommands.has(zt)&&(Lt=se._allSymbolNavigationCommands.get(zt))}const Xt=Mt.references.length;if(Xt===0){if(!this.configuration.muteMessage){const zt=ht.getWordAtPosition(Ct);(Xe=j.O.get(Ie))===null||Xe===void 0||Xe.showMessage(this._getNoResultFoundMessage(zt),Ct)}}else if(Xt===1&&Lt)se._activeAlternativeCommands.add(this.desc.id),ut.invokeFunction(zt=>Lt.runEditorCommand(zt,Ie,oe,ge).finally(()=>{se._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(me,qe,Ie,Mt,ge)}),Mt=>{Ce.error(Mt)}).finally(()=>{bt.dispose()});return Me.showWhile($t,250),$t}_onResult(Te,Ie,oe,ge,Ce){return xe(this,void 0,void 0,function*(){const me=this._getGoToPreference(oe);if(!(oe instanceof d.H)&&(this.configuration.openInPeek||me==="peek"&&ge.references.length>1))this._openInPeek(oe,ge,Ce);else{const Me=ge.firstReference(),qe=ge.references.length>1&&me==="gotoAndPeek",ot=yield this._openReference(oe,Te,Me,this.configuration.openToSide,!qe);qe&&ot?this._openInPeek(ot,ge,Ce):ge.dispose(),me==="goto"&&Ie.put(Me)}})}_openReference(Te,Ie,oe,ge,Ce){return xe(this,void 0,void 0,function*(){let me;if((0,C.vx)(oe)&&(me=oe.targetSelectionRange),me||(me=oe.range),!me)return;const Me=yield Ie.openCodeEditor({resource:oe.uri,options:{selection:n.e.collapseToStart(me),selectionRevealType:3,selectionSource:"code.jump"}},Te,ge);if(Me){if(Ce){const qe=Me.getModel(),ot=Me.createDecorationsCollection([{range:me,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Me.getModel()===qe&&ot.clear()},350)}return Me}})}_openInPeek(Te,Ie,oe){const ge=D.J.get(Te);ge&&Te.hasModel()?ge.toggleWidget(oe!=null?oe:Te.getSelection(),(0,f.PG)(Ce=>Promise.resolve(Ie)),this.configuration.openInPeek):Ie.dispose()}}se._allSymbolNavigationCommands=new Map,se._activeAlternativeCommands=new Set;class ve extends se{_getLocationModel(Te,Ie,oe,ge){return xe(this,void 0,void 0,function*(){return new u.oQ(yield(0,De.nD)(Te.definitionProvider,Ie,oe,ge),N.NC("def.title","Definitions"))})}_getNoResultFoundMessage(Te){return Te&&Te.word?N.NC("noResultWord","No definition found for '{0}'",Te.word):N.NC("generic.noResults","No definition found")}_getAlternativeCommand(Te){return Te.getOption(56).alternativeDefinitionCommand}_getGoToPreference(Te){return Te.getOption(56).multipleDefinitions}}const he=v.$L&&!(0,m.isStandalone)()?2118:70;(0,Y.r1)((Le=class Pu extends ve{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Pu.id,title:{value:N.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:N.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:O.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:he,weight:100},menu:[{id:Y.eH.EditorContext,group:"navigation",order:1.1},{id:Y.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),ee.P.registerCommandAlias("editor.action.goToDeclaration",Pu.id)}},Le.id="editor.action.revealDefinition",Le)),(0,Y.r1)((ue=class Ou extends ve{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Ou.id,title:{value:N.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:O.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:(0,_.gx)(2089,he),weight:100}}),ee.P.registerCommandAlias("editor.action.openDeclarationToTheSide",Ou.id)}},ue.id="editor.action.revealDefinitionAside",ue)),(0,Y.r1)((re=class Au extends ve{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Au.id,title:{value:N.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:O.Ao.and(a.u.hasDefinitionProvider,J.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:Y.eH.EditorContextPeek,group:"peek",order:2}}),ee.P.registerCommandAlias("editor.action.previewDeclaration",Au.id)}},re.id="editor.action.peekDefinition",re));class ce extends se{_getLocationModel(Te,Ie,oe,ge){return xe(this,void 0,void 0,function*(){return new u.oQ(yield(0,De.zq)(Te.declarationProvider,Ie,oe,ge),N.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(Te){return Te&&Te.word?N.NC("decl.noResultWord","No declaration found for '{0}'",Te.word):N.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(Te){return Te.getOption(56).alternativeDeclarationCommand}_getGoToPreference(Te){return Te.getOption(56).multipleDeclarations}}(0,Y.r1)((_e=class yh extends ce{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:yh.id,title:{value:N.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:N.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:O.Ao.and(a.u.hasDeclarationProvider,a.u.isInWalkThroughSnippet.toNegated()),menu:[{id:Y.eH.EditorContext,group:"navigation",order:1.3},{id:Y.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Te){return Te&&Te.word?N.NC("decl.noResultWord","No declaration found for '{0}'",Te.word):N.NC("decl.generic.noResults","No declaration found")}},_e.id="editor.action.revealDeclaration",_e)),(0,Y.r1)(class extends ce{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:N.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:O.Ao.and(a.u.hasDeclarationProvider,J.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),menu:{id:Y.eH.EditorContextPeek,group:"peek",order:3}})}});class Ee extends se{_getLocationModel(Te,Ie,oe,ge){return xe(this,void 0,void 0,function*(){return new u.oQ(yield(0,De.L3)(Te.typeDefinitionProvider,Ie,oe,ge),N.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(Te){return Te&&Te.word?N.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",Te.word):N.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(Te){return Te.getOption(56).alternativeTypeDefinitionCommand}_getGoToPreference(Te){return Te.getOption(56).multipleTypeDefinitions}}(0,Y.r1)((Ue=class wh extends Ee{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:wh.ID,title:{value:N.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:N.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:O.Ao.and(a.u.hasTypeDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:0,weight:100},menu:[{id:Y.eH.EditorContext,group:"navigation",order:1.4},{id:Y.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},Ue.ID="editor.action.goToTypeDefinition",Ue)),(0,Y.r1)((Qe=class Lh extends Ee{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Lh.ID,title:{value:N.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:O.Ao.and(a.u.hasTypeDefinitionProvider,J.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),menu:{id:Y.eH.EditorContextPeek,group:"peek",order:4}})}},Qe.ID="editor.action.peekTypeDefinition",Qe));class We extends se{_getLocationModel(Te,Ie,oe,ge){return xe(this,void 0,void 0,function*(){return new u.oQ(yield(0,De.f4)(Te.implementationProvider,Ie,oe,ge),N.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(Te){return Te&&Te.word?N.NC("goToImplementation.noResultWord","No implementation found for '{0}'",Te.word):N.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(Te){return Te.getOption(56).alternativeImplementationCommand}_getGoToPreference(Te){return Te.getOption(56).multipleImplementations}}(0,Y.r1)((Re=class Dh extends We{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Dh.ID,title:{value:N.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:N.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:O.Ao.and(a.u.hasImplementationProvider,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:2118,weight:100},menu:[{id:Y.eH.EditorContext,group:"navigation",order:1.45},{id:Y.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},Re.ID="editor.action.goToImplementation",Re)),(0,Y.r1)((ie=class Eh extends We{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Eh.ID,title:{value:N.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:O.Ao.and(a.u.hasImplementationProvider,J.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:3142,weight:100},menu:{id:Y.eH.EditorContextPeek,group:"peek",order:5}})}},ie.ID="editor.action.peekImplementation",ie));class it extends se{_getNoResultFoundMessage(Te){return Te?N.NC("references.no","No references found for '{0}'",Te.word):N.NC("references.noGeneric","No references found")}_getAlternativeCommand(Te){return Te.getOption(56).alternativeReferenceCommand}_getGoToPreference(Te){return Te.getOption(56).multipleReferences}}(0,Y.r1)(class extends it{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:N.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:N.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:O.Ao.and(a.u.hasReferenceProvider,J.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:a.u.editorTextFocus,primary:1094,weight:100},menu:[{id:Y.eH.EditorContext,group:"navigation",order:1.45},{id:Y.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(Te,Ie,oe,ge){return xe(this,void 0,void 0,function*(){return new u.oQ(yield(0,De.aA)(Te.referenceProvider,Ie,oe,!0,ge),N.NC("ref.title","References"))})}}),(0,Y.r1)(class extends it{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:N.NC("references.action.label","Peek References"),original:"Peek References"},precondition:O.Ao.and(a.u.hasReferenceProvider,J.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),menu:{id:Y.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(Te,Ie,oe,ge){return xe(this,void 0,void 0,function*(){return new u.oQ(yield(0,De.aA)(Te.referenceProvider,Ie,oe,!1,ge),N.NC("ref.title","References"))})}});class Ze extends se{constructor(Te,Ie,oe){super(Te,{id:"editor.action.goToLocation",title:{value:N.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:O.Ao.and(J.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated())}),this._references=Ie,this._gotoMultipleBehaviour=oe}_getLocationModel(Te,Ie,oe,ge){return xe(this,void 0,void 0,function*(){return new u.oQ(this._references,N.NC("generic.title","Locations"))})}_getNoResultFoundMessage(Te){return Te&&N.NC("generic.noResult","No results for '{0}'",Te.word)||""}_getGoToPreference(Te){var Ie;return(Ie=this._gotoMultipleBehaviour)!==null&&Ie!==void 0?Ie:Te.getOption(56).multipleReferences}_getAlternativeCommand(){return""}}ee.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:M.o},{name:"position",description:"The position at which to start",constraint:g.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(je,Te,Ie,oe,ge,Ce,me)=>xe(void 0,void 0,void 0,function*(){(0,A.p_)(M.o.isUri(Te)),(0,A.p_)(g.L.isIPosition(Ie)),(0,A.p_)(Array.isArray(oe)),(0,A.p_)(typeof ge=="undefined"||typeof ge=="string"),(0,A.p_)(typeof me=="undefined"||typeof me=="boolean");const Me=je.get(l.$),qe=yield Me.openCodeEditor({resource:Te},Me.getFocusedCodeEditor());if((0,R.CL)(qe))return qe.setPosition(Ie),qe.revealPositionInCenterIfOutsideViewport(Ie,0),qe.invokeWithinContext(ot=>{const ut=new class extends Ze{_getNoResultFoundMessage(ht){return Ce||super._getNoResultFoundMessage(ht)}}({muteMessage:!Boolean(Ce),openInPeek:Boolean(me),openToSide:!1},oe,ge);ot.get(T.TG).invokeFunction(ut.run.bind(ut),qe)})})}),ee.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:M.o},{name:"position",description:"The position at which to start",constraint:g.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(je,Te,Ie,oe,ge)=>xe(void 0,void 0,void 0,function*(){je.get(ee.H).executeCommand("editor.action.goToLocations",Te,Ie,oe,ge,void 0,!0)})}),ee.P.registerCommand({id:"editor.action.findReferences",handler:(je,Te,Ie)=>{(0,A.p_)(M.o.isUri(Te)),(0,A.p_)(g.L.isIPosition(Ie));const oe=je.get(Ne.p),ge=je.get(l.$);return ge.openCodeEditor({resource:Te},ge.getFocusedCodeEditor()).then(Ce=>{if(!(0,R.CL)(Ce)||!Ce.hasModel())return;const me=D.J.get(Ce);if(!me)return;const Me=(0,f.PG)(ot=>(0,De.aA)(oe.referenceProvider,Ce.getModel(),g.L.lift(Ie),!1,ot).then(ut=>new u.oQ(ut,N.NC("ref.title","References")))),qe=new n.e(Ie.lineNumber,Ie.column,Ie.lineNumber,Ie.column);return Promise.resolve(me.toggleWidget(qe,Me,!1))})}}),ee.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},84758:function(Ot,He,i){"use strict";i.d(He,{L3:function(){return d},aA:function(){return g},f4:function(){return l},nD:function(){return R},zq:function(){return p}});var m=i(16308),B=i(97464),f=i(20996),_=i(55298),v=i(35921),A=i(32498),M=function(a,C,D,u){function S(w){return w instanceof D?w:new D(function(L){L(w)})}return new(D||(D=Promise))(function(w,L){function N(T){try{x(u.next(T))}catch(W){L(W)}}function O(T){try{x(u.throw(T))}catch(W){L(W)}}function x(T){T.done?w(T.value):S(T.value).then(N,O)}x((u=u.apply(a,C||[])).next())})};function E(a,C,D,u){return M(this,void 0,void 0,function*(){const w=D.ordered(a).map(N=>Promise.resolve(u(N,a,C)).then(void 0,O=>{(0,f.Cp)(O)})),L=yield Promise.all(w);return(0,m.kX)(L.flat())})}function R(a,C,D,u){return E(C,D,a,(S,w,L)=>S.provideDefinition(w,L,u))}function p(a,C,D,u){return E(C,D,a,(S,w,L)=>S.provideDeclaration(w,L,u))}function l(a,C,D,u){return E(C,D,a,(S,w,L)=>S.provideImplementation(w,L,u))}function d(a,C,D,u){return E(C,D,a,(S,w,L)=>S.provideTypeDefinition(w,L,u))}function g(a,C,D,u,S){return E(C,D,a,(w,L,N)=>M(this,void 0,void 0,function*(){const O=yield w.provideReferences(L,N,{includeDeclaration:!0},S);if(!u||!O||O.length!==2)return O;const x=yield w.provideReferences(L,N,{includeDeclaration:!1},S);return x&&x.length===1?x:O}))}function n(a){return M(this,void 0,void 0,function*(){const C=yield a(),D=new A.oQ(C,""),u=D.references.map(S=>S.link);return D.dispose(),u})}(0,_.sb)("_executeDefinitionProvider",(a,C,D)=>{const u=a.get(v.p),S=R(u.definitionProvider,C,D,B.T.None);return n(()=>S)}),(0,_.sb)("_executeTypeDefinitionProvider",(a,C,D)=>{const u=a.get(v.p),S=d(u.typeDefinitionProvider,C,D,B.T.None);return n(()=>S)}),(0,_.sb)("_executeDeclarationProvider",(a,C,D)=>{const u=a.get(v.p),S=p(u.declarationProvider,C,D,B.T.None);return n(()=>S)}),(0,_.sb)("_executeReferenceProvider",(a,C,D)=>{const u=a.get(v.p),S=g(u.referenceProvider,C,D,!1,B.T.None);return n(()=>S)}),(0,_.sb)("_executeImplementationProvider",(a,C,D)=>{const u=a.get(v.p),S=l(u.implementationProvider,C,D,B.T.None);return n(()=>S)})},66931:function(Ot,He,i){"use strict";i.d(He,{yN:function(){return R}});var m=i(56709),B=i(38431),f=i(11138);function _(p,l){return!!p[l]}class v{constructor(l,d){this.target=l.target,this.isLeftClick=l.event.leftButton,this.isMiddleClick=l.event.middleButton,this.isRightClick=l.event.rightButton,this.hasTriggerModifier=_(l.event,d.triggerModifier),this.hasSideBySideModifier=_(l.event,d.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=l.event.detail<=1}}class A{constructor(l,d){this.keyCodeIsTriggerKey=l.keyCode===d.triggerKey,this.keyCodeIsSideBySideKey=l.keyCode===d.triggerSideBySideKey,this.hasTriggerModifier=_(l,d.triggerModifier)}}class M{constructor(l,d,g,n){this.triggerKey=l,this.triggerModifier=d,this.triggerSideBySideKey=g,this.triggerSideBySideModifier=n}equals(l){return this.triggerKey===l.triggerKey&&this.triggerModifier===l.triggerModifier&&this.triggerSideBySideKey===l.triggerSideBySideKey&&this.triggerSideBySideModifier===l.triggerSideBySideModifier}}function E(p){return p==="altKey"?f.dz?new M(57,"metaKey",6,"altKey"):new M(5,"ctrlKey",6,"altKey"):f.dz?new M(6,"altKey",57,"metaKey"):new M(6,"altKey",5,"ctrlKey")}class R extends B.JT{constructor(l,d){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new m.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new m.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new m.Q5),this.onCancel=this._onCancel.event,this._editor=l,this._alwaysFireExecuteOnMouseUp=d,this._opts=E(this._editor.getOption(75)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(g=>{if(g.hasChanged(75)){const n=E(this._editor.getOption(75));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(g=>this._onEditorMouseMove(new v(g,this._opts)))),this._register(this._editor.onMouseDown(g=>this._onEditorMouseDown(new v(g,this._opts)))),this._register(this._editor.onMouseUp(g=>this._onEditorMouseUp(new v(g,this._opts)))),this._register(this._editor.onKeyDown(g=>this._onEditorKeyDown(new A(g,this._opts)))),this._register(this._editor.onKeyUp(g=>this._onEditorKeyUp(new A(g,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(g=>this._onDidChangeCursorSelection(g))),this._register(this._editor.onDidChangeModel(g=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(g=>{(g.scrollTopChanged||g.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(l){l.selection&&l.selection.startColumn!==l.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(l){this._lastMouseMoveEvent=l,this._onMouseMoveOrRelevantKeyDown.fire([l,null])}_onEditorMouseDown(l){this._hasTriggerKeyOnMouseDown=l.hasTriggerModifier,this._lineNumberOnMouseDown=l.target.position?l.target.position.lineNumber:0}_onEditorMouseUp(l){const d=l.target.position?l.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===d||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(l)}_onEditorKeyDown(l){this._lastMouseMoveEvent&&(l.keyCodeIsTriggerKey||l.keyCodeIsSideBySideKey&&l.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,l]):l.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(l){l.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},59227:function(Ot,He,i){"use strict";i.r(He),i.d(He,{GotoDefinitionAtPositionEditorContribution:function(){return N}});var m=i(13484),B=i(20996),f=i(69008),_=i(38431),v=i(14818),A=i(44426),M=i(55298),E=i(50038),R=i(47626),p=i(91223),l=i(66931),d=i(10479),g=i(26386),n=i(76826),a=i(55843),C=i(84758),D=i(35921),u=i(45007),S=function(O,x,T,W){var U=arguments.length,K=U<3?x:W===null?W=Object.getOwnPropertyDescriptor(x,T):W,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(O,x,T,W);else for(var z=O.length-1;z>=0;z--)(G=O[z])&&(K=(U<3?G(K):U>3?G(x,T,K):G(x,T))||K);return U>3&&K&&Object.defineProperty(x,T,K),K},w=function(O,x){return function(T,W){x(T,W,O)}},L=function(O,x,T,W){function U(K){return K instanceof T?K:new T(function(G){G(K)})}return new(T||(T=Promise))(function(K,G){function z(te){try{q(W.next(te))}catch(X){G(X)}}function k(te){try{q(W.throw(te))}catch(X){G(X)}}function q(te){te.done?K(te.value):U(te.value).then(z,k)}q((W=W.apply(O,x||[])).next())})};let N=class Vd{constructor(x,T,W,U){this.textModelResolverService=T,this.languageService=W,this.languageFeaturesService=U,this.toUnhook=new _.SL,this.toUnhookForKeyboard=new _.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=x,this.linkDecorations=this.editor.createDecorationsCollection();const K=new l.yN(x);this.toUnhook.add(K),this.toUnhook.add(K.onMouseMoveOrRelevantKeyDown(([G,z])=>{this.startFindDefinitionFromMouse(G,(0,v.f6)(z))})),this.toUnhook.add(K.onExecute(G=>{this.isEnabled(G)&&this.gotoDefinition(G.target.position,G.hasSideBySideModifier).catch(z=>{(0,B.dL)(z)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(K.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(x){return x.getContribution(Vd.ID)}startFindDefinitionFromCursor(x){return L(this,void 0,void 0,function*(){yield this.startFindDefinition(x),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(T=>{T&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(x,T){if(x.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(x,T)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const W=x.target.position;this.startFindDefinition(W)}startFindDefinition(x){var T;return L(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const W=x?(T=this.editor.getModel())===null||T===void 0?void 0:T.getWordAtPosition(x):null;if(!W){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===W.startColumn&&this.currentWordAtPosition.endColumn===W.endColumn&&this.currentWordAtPosition.word===W.word)return;this.currentWordAtPosition=W;const U=new A.yy(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,m.PG)(z=>this.findDefinition(x,z));let K;try{K=yield this.previousPromise}catch(z){(0,B.dL)(z);return}if(!K||!K.length||!U.validate(this.editor)){this.removeLinkDecorations();return}const G=K[0].originSelectionRange?E.e.lift(K[0].originSelectionRange):new E.e(x.lineNumber,W.startColumn,x.lineNumber,W.endColumn);if(K.length>1){let z=G;for(const{originSelectionRange:k}of K)k&&(z=E.e.plusRange(z,k));this.addDecoration(z,new f.W5().appendText(g.NC("multipleResults","Click to show {0} definitions.",K.length)))}else{const z=K[0];if(!z.uri)return;this.textModelResolverService.createModelReference(z.uri).then(k=>{if(!k.object||!k.object.textEditorModel){k.dispose();return}const{object:{textEditorModel:q}}=k,{startLineNumber:te}=z.range;if(te<1||te>q.getLineCount()){k.dispose();return}const X=this.getPreviewValue(q,te,z),j=this.languageService.guessLanguageIdByFilepathOrFirstLine(q.uri);this.addDecoration(G,X?new f.W5().appendCodeblock(j||"",X):void 0),k.dispose()})}})}getPreviewValue(x,T,W){let U=W.range;return U.endLineNumber-U.startLineNumber>=Vd.MAX_SOURCE_PREVIEW_LINES&&(U=this.getPreviewRangeBasedOnIndentation(x,T)),this.stripIndentationFromPreviewRange(x,T,U)}stripIndentationFromPreviewRange(x,T,W){let K=x.getLineFirstNonWhitespaceColumn(T);for(let z=T+1;z<W.endLineNumber;z++){const k=x.getLineFirstNonWhitespaceColumn(z);K=Math.min(K,k)}return x.getValueInRange(W).replace(new RegExp(`^\\s{${K-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(x,T){const W=x.getLineFirstNonWhitespaceColumn(T),U=Math.min(x.getLineCount(),T+Vd.MAX_SOURCE_PREVIEW_LINES);let K=T+1;for(;K<U;K++){const G=x.getLineFirstNonWhitespaceColumn(K);if(W===G)break}return new E.e(T,1,K+1,1)}addDecoration(x,T){const W={range:x,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:T}};this.linkDecorations.set([W])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(x,T){var W;return this.editor.hasModel()&&x.isLeftClick&&x.isNoneOrSingleMouseDown&&x.target.type===6&&!(((W=x.target.detail.injectedText)===null||W===void 0?void 0:W.options)instanceof u.HS)&&(x.hasTriggerModifier||(T?T.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(x,T){const W=this.editor.getModel();return W?(0,C.nD)(this.languageFeaturesService.definitionProvider,W,x,T):Promise.resolve(null)}gotoDefinition(x,T){return this.editor.setPosition(x),this.editor.invokeWithinContext(W=>{const U=!T&&this.editor.getOption(84)&&!this.isInPeekEditor(W);return new a.DefinitionAction({openToSide:T,openInPeek:U,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(W)})}isInPeekEditor(x){const T=x.get(n.i6);return d.Jy.inPeekEditor.getValue(T)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};N.ID="editor.contrib.gotodefinitionatposition",N.MAX_SOURCE_PREVIEW_LINES=8,N=S([w(1,p.S),w(2,R.O),w(3,D.p)],N),(0,M._K)(N.ID,N,2)},51525:function(Ot,He,i){"use strict";i.d(He,{J:function(){return Te}});var m=i(13484),B=i(20996),f=i(94880),_=i(38431),v=i(5603),A=i(8964),M=i(50038),E=i(10479),R=i(26386),p=i(80793),l=i(71177),d=i(76826),g=i(44333),n=i(47679),a=i(48981),C=i(97968),D=i(63536),u=i(32498),S=i(34441),w=i(66238),L=i(86741),N=i(56709),O=i(5007),x=i(6227),T=i(77957),W=i(45007),U=i(64603),K=i(90638),G=i(47626),z=i(91223),k=i(19205),q=i(86357),te=i(65029),X=i(4538),j=i(62297),J=i(18680),Y=i(60140),ee=function(oe,ge,Ce,me){var Me=arguments.length,qe=Me<3?ge:me===null?me=Object.getOwnPropertyDescriptor(ge,Ce):me,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qe=Reflect.decorate(oe,ge,Ce,me);else for(var ut=oe.length-1;ut>=0;ut--)(ot=oe[ut])&&(qe=(Me<3?ot(qe):Me>3?ot(ge,Ce,qe):ot(ge,Ce))||qe);return Me>3&&qe&&Object.defineProperty(ge,Ce,qe),qe},fe=function(oe,ge){return function(Ce,me){ge(Ce,me,oe)}};let De=class{constructor(ge){this._resolverService=ge}hasChildren(ge){return ge instanceof u.oQ||ge instanceof u.F2}getChildren(ge){if(ge instanceof u.oQ)return ge.groups;if(ge instanceof u.F2)return ge.resolve(this._resolverService).then(Ce=>Ce.children);throw new Error("bad tree")}};De=ee([fe(0,z.S)],De);class Ne{getHeight(){return 23}getTemplateId(ge){return ge instanceof u.F2?ue.id:_e.id}}let be=class{constructor(ge){this._keybindingService=ge}getKeyboardNavigationLabel(ge){var Ce;if(ge instanceof u.WX){const me=(Ce=ge.parent.getPreview(ge))===null||Ce===void 0?void 0:Ce.preview(ge.range);if(me)return me.value}return(0,x.EZ)(ge.uri)}};be=ee([fe(0,j.d)],be);class xe{getId(ge){return ge instanceof u.WX?ge.id:ge.uri}}let Le=class extends _.JT{constructor(ge,Ce){super(),this._labelService=Ce;const me=document.createElement("div");me.classList.add("reference-file"),this.file=this._register(new te.g(me,{supportHighlights:!0})),this.badge=new k.Z(S.R3(me,S.$(".count")),{},Y.ku),ge.appendChild(me)}set(ge,Ce){const me=(0,x.XX)(ge.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(ge.uri),this._labelService.getUriLabel(me,{relative:!0}),{title:this._labelService.getUriLabel(ge.uri),matches:Ce});const Me=ge.children.length;this.badge.setCount(Me),Me>1?this.badge.setTitleFormat((0,R.NC)("referencesCount","{0} references",Me)):this.badge.setTitleFormat((0,R.NC)("referenceCount","{0} reference",Me))}};Le=ee([fe(1,J.e)],Le);let ue=class xh{constructor(ge){this._instantiationService=ge,this.templateId=xh.id}renderTemplate(ge){return this._instantiationService.createInstance(Le,ge)}renderElement(ge,Ce,me){me.set(ge.element,(0,X.mB)(ge.filterData))}disposeTemplate(ge){ge.dispose()}};ue.id="FileReferencesRenderer",ue=ee([fe(0,g.TG)],ue);class re{constructor(ge){this.label=new q.q(ge)}set(ge,Ce){var me;const Me=(me=ge.parent.getPreview(ge))===null||me===void 0?void 0:me.preview(ge.range);if(!Me||!Me.value)this.label.set(`${(0,x.EZ)(ge.uri)}:${ge.range.startLineNumber+1}:${ge.range.startColumn+1}`);else{const{value:qe,highlight:ot}=Me;Ce&&!X.CL.isDefault(Ce)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(qe,(0,X.mB)(Ce))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(qe,[ot]))}}}class _e{constructor(){this.templateId=_e.id}renderTemplate(ge){return new re(ge)}renderElement(ge,Ce,me){me.set(ge.element,ge.filterData)}disposeTemplate(){}}_e.id="OneReferenceRenderer";class Ue{getWidgetAriaLabel(){return(0,R.NC)("treeAriaLabel","References")}getAriaLabel(ge){return ge.ariaMessage}}var Qe=i(58566),Re=i(48900),ie=function(oe,ge,Ce,me){var Me=arguments.length,qe=Me<3?ge:me===null?me=Object.getOwnPropertyDescriptor(ge,Ce):me,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qe=Reflect.decorate(oe,ge,Ce,me);else for(var ut=oe.length-1;ut>=0;ut--)(ot=oe[ut])&&(qe=(Me<3?ot(qe):Me>3?ot(ge,Ce,qe):ot(ge,Ce))||qe);return Me>3&&qe&&Object.defineProperty(ge,Ce,qe),qe},Z=function(oe,ge){return function(Ce,me){ge(Ce,me,oe)}},se=function(oe,ge,Ce,me){function Me(qe){return qe instanceof Ce?qe:new Ce(function(ot){ot(qe)})}return new(Ce||(Ce=Promise))(function(qe,ot){function ut(Pt){try{Ct(me.next(Pt))}catch(bt){ot(bt)}}function ht(Pt){try{Ct(me.throw(Pt))}catch(bt){ot(bt)}}function Ct(Pt){Pt.done?qe(Pt.value):Me(Pt.value).then(ut,ht)}Ct((me=me.apply(oe,ge||[])).next())})};class ve{constructor(ge,Ce){this._editor=ge,this._model=Ce,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new _.SL,this._callOnModelChange=new _.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const ge=this._editor.getModel();if(ge){for(const Ce of this._model.references)if(Ce.uri.toString()===ge.uri.toString()){this._addDecorations(Ce.parent);return}}}_addDecorations(ge){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const Ce=[],me=[];for(let Me=0,qe=ge.children.length;Me<qe;Me++){const ot=ge.children[Me];this._decorationIgnoreSet.has(ot.id)||ot.uri.toString()===this._editor.getModel().uri.toString()&&(Ce.push({range:ot.range,options:ve.DecorationOptions}),me.push(Me))}this._editor.changeDecorations(Me=>{const qe=Me.deltaDecorations([],Ce);for(let ot=0;ot<qe.length;ot++)this._decorations.set(qe[ot],ge.children[me[ot]])})}_onDecorationChanged(){const ge=[],Ce=this._editor.getModel();if(Ce){for(const[me,Me]of this._decorations){const qe=Ce.getDecorationRange(me);if(!qe)continue;let ot=!1;if(!M.e.equalsRange(qe,Me.range)){if(M.e.spansMultipleLines(qe))ot=!0;else{const ut=Me.range.endColumn-Me.range.startColumn,ht=qe.endColumn-qe.startColumn;ut!==ht&&(ot=!0)}ot?(this._decorationIgnoreSet.add(Me.id),ge.push(me)):Me.range=qe}}for(let me=0,Me=ge.length;me<Me;me++)this._decorations.delete(ge[me]);this._editor.removeDecorations(ge)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ve.DecorationOptions=W.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class he{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(ge){let Ce,me;try{const Me=JSON.parse(ge);Ce=Me.ratio,me=Me.heightInLines}catch(Me){}return{ratio:Ce||.7,heightInLines:me||18}}}class ce extends a.ls{}let Ee=class extends E.vk{constructor(ge,Ce,me,Me,qe,ot,ut,ht,Ct,Pt,bt,$t){super(ge,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},ot),this._defaultTreeKeyboardSupport=Ce,this.layoutData=me,this._textModelResolverService=qe,this._instantiationService=ot,this._peekViewService=ut,this._uriLabel=ht,this._undoRedoService=Ct,this._keybindingService=Pt,this._languageService=bt,this._languageConfigurationService=$t,this._disposeOnNewModel=new _.SL,this._callOnDispose=new _.SL,this._onDidSelectReference=new N.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new S.Ro(0,0),this._applyTheme(Me.getColorTheme()),this._callOnDispose.add(Me.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(ge,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,_.B9)(this._preview),(0,_.B9)(this._previewNotAvailableMessage),(0,_.B9)(this._tree),(0,_.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(ge){const Ce=ge.getColor(E.SC)||L.Il.transparent;this.style({arrowColor:Ce,frameColor:Ce,headerBackgroundColor:ge.getColor(E.KY)||L.Il.transparent,primaryHeadingColor:ge.getColor(E.IH),secondaryHeadingColor:ge.getColor(E.R7)})}show(ge){super.show(ge,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(ge){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:ge.ctrlKey||ge.metaKey||ge.altKey?"side":"open",source:"title"})}_fillBody(ge){this.setCssClass("reference-zone-widget"),this._messageContainer=S.R3(ge,S.$("div.messages")),S.Cp(this._messageContainer),this._splitView=new w.z(ge,{orientation:1}),this._previewContainer=S.R3(ge,S.$("div.preview.inline"));const Ce={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(T.H,this._previewContainer,Ce,{},this.editor),S.Cp(this._previewContainer),this._previewNotAvailableMessage=new W.yO(R.NC("missingPreviewMessage","no preview available"),K.bd,W.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=S.R3(ge,S.$("div.ref-tree.inline"));const me={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Ue,keyboardNavigationLabelProvider:this._instantiationService.createInstance(be),identityProvider:new xe,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:E.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(S.mu(this._treeContainer,"keydown",qe=>{qe.equals(9)&&(this._keybindingService.dispatchEvent(qe,qe.target),qe.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(ce,"ReferencesWidget",this._treeContainer,new Ne,[this._instantiationService.createInstance(ue),this._instantiationService.createInstance(_e)],this._instantiationService.createInstance(De),me),this._splitView.addView({onDidChange:N.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:qe=>{this._preview.layout({height:this._dim.height,width:qe})}},w.M.Distribute),this._splitView.addView({onDidChange:N.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:qe=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${qe}px`,this._tree.layout(this._dim.height,qe)}},w.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Me=(qe,ot)=>{qe instanceof u.WX&&(ot==="show"&&this._revealReference(qe,!1),this._onDidSelectReference.fire({element:qe,kind:ot,source:"tree"}))};this._tree.onDidOpen(qe=>{qe.sideBySide?Me(qe.element,"side"):qe.editorOptions.pinned?Me(qe.element,"goto"):Me(qe.element,"show")}),S.Cp(this._treeContainer)}_onWidth(ge){this._dim&&this._doLayoutBody(this._dim.height,ge)}_doLayoutBody(ge,Ce){super._doLayoutBody(ge,Ce),this._dim=new S.Ro(Ce,ge),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(Ce),this._splitView.resizeView(0,Ce*this.layoutData.ratio)}setSelection(ge){return this._revealReference(ge,!0).then(()=>{this._model&&(this._tree.setSelection([ge]),this._tree.setFocus([ge]))})}setModel(ge){return this._disposeOnNewModel.clear(),this._model=ge,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=R.NC("noResults","No results"),S.$Z(this._messageContainer),Promise.resolve(void 0)):(S.Cp(this._messageContainer),this._decorationsManager=new ve(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(ge=>this._tree.rerender(ge))),this._disposeOnNewModel.add(this._preview.onMouseDown(ge=>{const{event:Ce,target:me}=ge;if(Ce.detail!==2)return;const Me=this._getFocusedReference();Me&&this._onDidSelectReference.fire({element:{uri:Me.uri,range:me.range},kind:Ce.ctrlKey||Ce.metaKey||Ce.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),S.$Z(this._treeContainer),S.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[ge]=this._tree.getFocus();if(ge instanceof u.WX)return ge;if(ge instanceof u.F2&&ge.children.length>0)return ge.children[0]}revealReference(ge){return se(this,void 0,void 0,function*(){yield this._revealReference(ge,!1),this._onDidSelectReference.fire({element:ge,kind:"goto",source:"tree"})})}_revealReference(ge,Ce){return se(this,void 0,void 0,function*(){if(this._revealedReference===ge)return;this._revealedReference=ge,ge.uri.scheme!==O.lg.inMemory?this.setTitle((0,x.Hx)(ge.uri),this._uriLabel.getUriLabel((0,x.XX)(ge.uri))):this.setTitle(R.NC("peekView.alternateTitle","References"));const me=this._textModelResolverService.createModelReference(ge.uri);this._tree.getInput()===ge.parent?this._tree.reveal(ge):(Ce&&this._tree.reveal(ge.parent),yield this._tree.expand(ge.parent),this._tree.reveal(ge));const Me=yield me;if(!this._model){Me.dispose();return}(0,_.B9)(this._previewModelReference);const qe=Me.object;if(qe){const ot=this._preview.getModel()===qe.textEditorModel?0:1,ut=M.e.lift(ge.range).collapseToStart();this._previewModelReference=Me,this._preview.setModel(qe.textEditorModel),this._preview.setSelection(ut),this._preview.revealRangeInCenter(ut,ot)}else this._preview.setModel(this._previewNotAvailableMessage),Me.dispose()})}};Ee=ie([Z(3,Qe.XE),Z(4,z.S),Z(5,g.TG),Z(6,E.Fw),Z(7,J.e),Z(8,Re.tJ),Z(9,j.d),Z(10,G.O),Z(11,U.c_)],Ee);var We=function(oe,ge,Ce,me){var Me=arguments.length,qe=Me<3?ge:me===null?me=Object.getOwnPropertyDescriptor(ge,Ce):me,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qe=Reflect.decorate(oe,ge,Ce,me);else for(var ut=oe.length-1;ut>=0;ut--)(ot=oe[ut])&&(qe=(Me<3?ot(qe):Me>3?ot(ge,Ce,qe):ot(ge,Ce))||qe);return Me>3&&qe&&Object.defineProperty(ge,Ce,qe),qe},it=function(oe,ge){return function(Ce,me){ge(Ce,me,oe)}},Ze=function(oe,ge,Ce,me){function Me(qe){return qe instanceof Ce?qe:new Ce(function(ot){ot(qe)})}return new(Ce||(Ce=Promise))(function(qe,ot){function ut(Pt){try{Ct(me.next(Pt))}catch(bt){ot(bt)}}function ht(Pt){try{Ct(me.throw(Pt))}catch(bt){ot(bt)}}function Ct(Pt){Pt.done?qe(Pt.value):Me(Pt.value).then(ut,ht)}Ct((me=me.apply(oe,ge||[])).next())})};const je=new d.uy("referenceSearchVisible",!1,R.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Te=class ku{static get(ge){return ge.getContribution(ku.ID)}constructor(ge,Ce,me,Me,qe,ot,ut,ht){this._defaultTreeKeyboardSupport=ge,this._editor=Ce,this._editorService=Me,this._notificationService=qe,this._instantiationService=ot,this._storageService=ut,this._configurationService=ht,this._disposables=new _.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=je.bindTo(me)}dispose(){var ge,Ce;this._referenceSearchVisible.reset(),this._disposables.dispose(),(ge=this._widget)===null||ge===void 0||ge.dispose(),(Ce=this._model)===null||Ce===void 0||Ce.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(ge,Ce,me){let Me;if(this._widget&&(Me=this._widget.position),this.closeWidget(),Me&&ge.containsPosition(Me))return;this._peekMode=me,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const qe="peekViewLayout",ot=he.fromJSON(this._storageService.get(qe,0,"{}"));this._widget=this._instantiationService.createInstance(Ee,this._editor,this._defaultTreeKeyboardSupport,ot),this._widget.setTitle(R.NC("labelLoading","Loading...")),this._widget.show(ge),this._disposables.add(this._widget.onDidClose(()=>{Ce.cancel(),this._widget&&(this._storageService.store(qe,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(ht=>{const{element:Ct,kind:Pt}=ht;if(Ct)switch(Pt){case"open":(ht.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(Ct,!1,!1);break;case"side":this.openReference(Ct,!0,!1);break;case"goto":me?this._gotoReference(Ct,!0):this.openReference(Ct,!1,!0);break}}));const ut=++this._requestIdPool;Ce.then(ht=>{var Ct;if(ut!==this._requestIdPool||!this._widget){ht.dispose();return}return(Ct=this._model)===null||Ct===void 0||Ct.dispose(),this._model=ht,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(R.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const Pt=this._editor.getModel().uri,bt=new A.L(ge.startLineNumber,ge.startColumn),$t=this._model.nearestReference(Pt,bt);if($t)return this._widget.setSelection($t).then(()=>{this._widget&&this._editor.getOption(83)==="editor"&&this._widget.focusOnPreviewEditor()})}})},ht=>{this._notificationService.error(ht)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(ge){return Ze(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const Ce=this._widget.position;if(!Ce)return;const me=this._model.nearestReference(this._editor.getModel().uri,Ce);if(!me)return;const Me=this._model.nextOrPreviousReference(me,ge),qe=this._editor.hasTextFocus(),ot=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Me),yield this._gotoReference(Me,!1),qe?this._editor.focus():this._widget&&ot&&this._widget.focusOnPreviewEditor()})}revealReference(ge){return Ze(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(ge))})}closeWidget(ge=!0){var Ce,me;(Ce=this._widget)===null||Ce===void 0||Ce.dispose(),(me=this._model)===null||me===void 0||me.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,ge&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(ge,Ce){var me;(me=this._widget)===null||me===void 0||me.hide(),this._ignoreModelChangeEvent=!0;const Me=M.e.lift(ge.range).collapseToStart();return this._editorService.openCodeEditor({resource:ge.uri,options:{selection:Me,selectionSource:"code.jump",pinned:Ce}},this._editor).then(qe=>{var ot;if(this._ignoreModelChangeEvent=!1,!qe||!this._widget){this.closeWidget();return}if(this._editor===qe)this._widget.show(Me),this._widget.focusOnReferenceTree();else{const ut=ku.get(qe),ht=this._model.clone();this.closeWidget(),qe.focus(),ut==null||ut.toggleWidget(Me,(0,m.PG)(Ct=>Promise.resolve(ht)),(ot=this._peekMode)!==null&&ot!==void 0?ot:!1)}},qe=>{this._ignoreModelChangeEvent=!1,(0,B.dL)(qe)})}openReference(ge,Ce,me){Ce||this.closeWidget();const{uri:Me,range:qe}=ge;this._editorService.openCodeEditor({resource:Me,options:{selection:qe,selectionSource:"code.jump",pinned:me}},this._editor,Ce)}};Te.ID="editor.contrib.referencesController",Te=We([it(2,d.i6),it(3,v.$),it(4,C.lT),it(5,g.TG),it(6,D.Uy),it(7,l.Ui)],Te);function Ie(oe,ge){const Ce=(0,E.rc)(oe);if(!Ce)return;const me=Te.get(Ce);me&&ge(me)}n.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,f.gx)(2089,60),when:d.Ao.or(je,E.Jy.inPeekEditor),handler(oe){Ie(oe,ge=>{ge.changeFocusBetweenPreviewAndReferences()})}}),n.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:d.Ao.or(je,E.Jy.inPeekEditor),handler(oe){Ie(oe,ge=>{ge.goToNextOrPreviousReference(!0)})}}),n.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:d.Ao.or(je,E.Jy.inPeekEditor),handler(oe){Ie(oe,ge=>{ge.goToNextOrPreviousReference(!1)})}}),p.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),p.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),p.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),p.P.registerCommand("closeReferenceSearch",oe=>Ie(oe,ge=>ge.closeWidget())),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:d.Ao.and(E.Jy.inPeekEditor,d.Ao.not("config.editor.stablePeek"))}),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:d.Ao.and(je,d.Ao.not("config.editor.stablePeek"))}),n.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:d.Ao.and(je,a.CQ,a.PS.negate(),a.uJ.negate()),handler(oe){var ge;const me=(ge=oe.get(a.Lw).lastFocusedList)===null||ge===void 0?void 0:ge.getFocus();Array.isArray(me)&&me[0]instanceof u.WX&&Ie(oe,Me=>Me.revealReference(me[0]))}}),n.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:d.Ao.and(je,a.CQ,a.PS.negate(),a.uJ.negate()),handler(oe){var ge;const me=(ge=oe.get(a.Lw).lastFocusedList)===null||ge===void 0?void 0:ge.getFocus();Array.isArray(me)&&me[0]instanceof u.WX&&Ie(oe,Me=>Me.openReference(me[0],!0,!0))}}),p.P.registerCommand("openReference",oe=>{var ge;const me=(ge=oe.get(a.Lw).lastFocusedList)===null||ge===void 0?void 0:ge.getFocus();Array.isArray(me)&&me[0]instanceof u.WX&&Ie(oe,Me=>Me.openReference(me[0],!1,!0))})},32498:function(Ot,He,i){"use strict";i.d(He,{F2:function(){return g},WX:function(){return l},oQ:function(){return n}});var m=i(20996),B=i(56709),f=i(6100),_=i(38431),v=i(39832),A=i(6227),M=i(17416),E=i(50038),R=i(26386),p=function(a,C,D,u){function S(w){return w instanceof D?w:new D(function(L){L(w)})}return new(D||(D=Promise))(function(w,L){function N(T){try{x(u.next(T))}catch(W){L(W)}}function O(T){try{x(u.throw(T))}catch(W){L(W)}}function x(T){T.done?w(T.value):S(T.value).then(N,O)}x((u=u.apply(a,C||[])).next())})};class l{constructor(C,D,u,S){this.isProviderFirst=C,this.parent=D,this.link=u,this._rangeCallback=S,this.id=f.a.nextId()}get uri(){return this.link.uri}get range(){var C,D;return(D=(C=this._range)!==null&&C!==void 0?C:this.link.targetSelectionRange)!==null&&D!==void 0?D:this.link.range}set range(C){this._range=C,this._rangeCallback(this)}get ariaMessage(){var C;const D=(C=this.parent.getPreview(this))===null||C===void 0?void 0:C.preview(this.range);return D?(0,R.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,A.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,D.value):(0,R.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,A.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class d{constructor(C){this._modelReference=C}dispose(){this._modelReference.dispose()}preview(C,D=8){const u=this._modelReference.object.textEditorModel;if(!u)return;const{startLineNumber:S,startColumn:w,endLineNumber:L,endColumn:N}=C,O=u.getWordUntilPosition({lineNumber:S,column:w-D}),x=new E.e(S,O.startColumn,S,w),T=new E.e(L,N,L,1073741824),W=u.getValueInRange(x).replace(/^\s+/,""),U=u.getValueInRange(C),K=u.getValueInRange(T).replace(/\s+$/,"");return{value:W+U+K,highlight:{start:W.length,end:W.length+U.length}}}}class g{constructor(C,D){this.parent=C,this.uri=D,this.children=[],this._previews=new v.Y9}dispose(){(0,_.B9)(this._previews.values()),this._previews.clear()}getPreview(C){return this._previews.get(C.uri)}get ariaMessage(){const C=this.children.length;return C===1?(0,R.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,A.EZ)(this.uri),this.uri.fsPath):(0,R.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",C,(0,A.EZ)(this.uri),this.uri.fsPath)}resolve(C){return p(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const D of this.children)if(!this._previews.has(D.uri))try{const u=yield C.createModelReference(D.uri);this._previews.set(D.uri,new d(u))}catch(u){(0,m.dL)(u)}return this})}}class n{constructor(C,D){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new B.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=C,this._title=D;const[u]=C;C.sort(n._compareReferences);let S;for(const w of C)if((!S||!A.SF.isEqual(S.uri,w.uri,!0))&&(S=new g(this,w.uri),this.groups.push(S)),S.children.length===0||n._compareReferences(w,S.children[S.children.length-1])!==0){const L=new l(u===w,S,w,N=>this._onDidChangeReferenceRange.fire(N));this.references.push(L),S.children.push(L)}}dispose(){(0,_.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,R.NC)("aria.result.0","No results found"):this.references.length===1?(0,R.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,R.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,R.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(C,D){const{parent:u}=C;let S=u.children.indexOf(C);const w=u.children.length,L=u.parent.groups.length;return L===1||D&&S+1<w||!D&&S>0?(D?S=(S+1)%w:S=(S+w-1)%w,u.children[S]):(S=u.parent.groups.indexOf(u),D?(S=(S+1)%L,u.parent.groups[S].children[0]):(S=(S+L-1)%L,u.parent.groups[S].children[u.parent.groups[S].children.length-1]))}nearestReference(C,D){const u=this.references.map((S,w)=>({idx:w,prefixLen:M.Mh(S.uri.toString(),C.toString()),offsetDist:Math.abs(S.range.startLineNumber-D.lineNumber)*100+Math.abs(S.range.startColumn-D.column)})).sort((S,w)=>S.prefixLen>w.prefixLen?-1:S.prefixLen<w.prefixLen?1:S.offsetDist<w.offsetDist?-1:S.offsetDist>w.offsetDist?1:0)[0];if(u)return this.references[u.idx]}referenceAt(C,D){for(const u of this.references)if(u.uri.toString()===C.toString()&&E.e.containsPosition(u.range,D))return u}firstReference(){for(const C of this.references)if(C.isProviderFirst)return C;return this.references[0]}static _compareReferences(C,D){return A.SF.compare(C.uri,D.uri)||E.e.compareRangesUsingStarts(C.range,D.range)}}},23098:function(Ot,He,i){"use strict";i.d(He,{R8:function(){return R}});var m=i(13484),B=i(97464),f=i(20996),_=i(55298),v=i(35921),A=function(d,g,n,a){function C(D){return D instanceof n?D:new n(function(u){u(D)})}return new(n||(n=Promise))(function(D,u){function S(N){try{L(a.next(N))}catch(O){u(O)}}function w(N){try{L(a.throw(N))}catch(O){u(O)}}function L(N){N.done?D(N.value):C(N.value).then(S,w)}L((a=a.apply(d,g||[])).next())})};class M{constructor(g,n,a){this.provider=g,this.hover=n,this.ordinal=a}}function E(d,g,n,a,C){return A(this,void 0,void 0,function*(){try{const D=yield Promise.resolve(d.provideHover(n,a,C));if(D&&l(D))return new M(d,D,g)}catch(D){(0,f.Cp)(D)}})}function R(d,g,n,a){const D=d.ordered(g).map((u,S)=>E(u,S,g,n,a));return m.Aq.fromPromises(D).coalesce()}function p(d,g,n,a){return R(d,g,n,a).map(C=>C.hover).toPromise()}(0,_.sb)("_executeHoverProvider",(d,g,n)=>{const a=d.get(v.p);return p(a.hoverProvider,g,n,B.T.None)});function l(d){const g=typeof d.range!="undefined",n=typeof d.contents!="undefined"&&d.contents&&d.contents.length>0;return g&&n}},37104:function(Ot,He,i){"use strict";i.r(He),i.d(He,{ModesHoverController:function(){return qe}});var m=i(94880),B=i(38431),f=i(55298),_=i(50038),v=i(21081),A=i(47626),M=i(59227),E=i(34441),R=i(6544),p=i(60018);const l=E.$;class d extends B.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new p.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class g extends B.JT{static render(Fe,et,pt){return new g(Fe,et,pt)}constructor(Fe,et,pt){super(),this.actionContainer=E.R3(Fe,l("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=E.R3(this.actionContainer,l("a.action")),this.action.setAttribute("role","button"),et.iconClass&&E.R3(this.action,l(`span.icon.${et.iconClass}`));const It=E.R3(this.action,l("span"));It.textContent=pt?`${et.label} (${pt})`:et.label,this._register(E.nm(this.actionContainer,E.tw.CLICK,kt=>{kt.stopPropagation(),kt.preventDefault(),et.run(this.actionContainer)})),this._register(E.nm(this.actionContainer,E.tw.KEY_DOWN,kt=>{const yt=new R.y(kt);(yt.equals(3)||yt.equals(10))&&(kt.stopPropagation(),kt.preventDefault(),et.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(Fe){Fe?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var n=i(16308),a=i(8964),C=i(45007),D=i(36082),u=i(13484),S=i(20996),w=i(56709),L=function(zt,Fe,et,pt){function It(kt){return kt instanceof et?kt:new et(function(yt){yt(kt)})}return new(et||(et=Promise))(function(kt,yt){function St(ri){try{ti(pt.next(ri))}catch(li){yt(li)}}function Gt(ri){try{ti(pt.throw(ri))}catch(li){yt(li)}}function ti(ri){ri.done?kt(ri.value):It(ri.value).then(St,Gt)}ti((pt=pt.apply(zt,Fe||[])).next())})},N=function(zt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe=zt[Symbol.asyncIterator],et;return Fe?Fe.call(zt):(zt=typeof __values=="function"?__values(zt):zt[Symbol.iterator](),et={},pt("next"),pt("throw"),pt("return"),et[Symbol.asyncIterator]=function(){return this},et);function pt(kt){et[kt]=zt[kt]&&function(yt){return new Promise(function(St,Gt){yt=zt[kt](yt),It(St,Gt,yt.done,yt.value)})}}function It(kt,yt,St,Gt){Promise.resolve(Gt).then(function(ti){kt({value:ti,done:St})},yt)}};class O{constructor(Fe,et,pt){this.value=Fe,this.isComplete=et,this.hasLoadingMessage=pt}}class x extends B.JT{constructor(Fe,et){super(),this._editor=Fe,this._computer=et,this._onResult=this._register(new w.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new u.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new u.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new u.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(58).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(Fe,et=!0){this._state=Fe,et&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,u.zS)(Fe=>this._computer.computeAsync(Fe)),L(this,void 0,void 0,function*(){var Fe,et,pt,It;try{try{for(var kt=!0,yt=N(this._asyncIterable),St;St=yield yt.next(),Fe=St.done,!Fe;){It=St.value,kt=!1;try{const Gt=It;Gt&&(this._result.push(Gt),this._fireResult())}finally{kt=!0}}}catch(Gt){et={error:Gt}}finally{try{!kt&&!Fe&&(pt=yt.return)&&(yield pt.call(yt))}finally{if(et)throw et.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(Gt){(0,S.dL)(Gt)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const Fe=this._state===0,et=this._state===4;this._onResult.fire(new O(this._result.slice(0),Fe,et))}start(Fe){if(Fe===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var T=i(72223),W=i(76826),U=i(44333),K=i(62297),G=i(33024),z=function(zt,Fe,et,pt){var It=arguments.length,kt=It<3?Fe:pt===null?pt=Object.getOwnPropertyDescriptor(Fe,et):pt,yt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(zt,Fe,et,pt);else for(var St=zt.length-1;St>=0;St--)(yt=zt[St])&&(kt=(It<3?yt(kt):It>3?yt(Fe,et,kt):yt(Fe,et))||kt);return It>3&&kt&&Object.defineProperty(Fe,et,kt),kt},k=function(zt,Fe){return function(et,pt){Fe(et,pt,zt)}};const q=E.$;let te=class Fu extends B.JT{constructor(Fe,et,pt){super(),this._editor=Fe,this._instantiationService=et,this._keybindingService=pt,this._widget=this._register(this._instantiationService.createInstance(Y,this._editor)),this._currentResult=null,this._participants=[];for(const It of T.Ae.getAll())this._participants.push(this._instantiationService.createInstance(It,this._editor));this._participants.sort((It,kt)=>It.hoverOrdinal-kt.hoverOrdinal),this._computer=new fe(this._editor,this._participants),this._hoverOperation=this._register(new x(this._editor,this._computer)),this._register(this._hoverOperation.onResult(It=>{if(!this._computer.anchor)return;const kt=It.hasLoadingMessage?this._addLoadingMessage(It.value):It.value;this._withResult(new X(this._computer.anchor,kt,It.isComplete))})),this._register(E.mu(this._widget.getDomNode(),"keydown",It=>{It.equals(9)&&this.hide()})),this._register(D.RW.onDidChange(()=>{this._widget.position&&this._currentResult&&(this._widget.clear(),this._setCurrentResult(this._currentResult))}))}maybeShowAt(Fe){const et=[];for(const It of this._participants)if(It.suggestHoverAnchor){const kt=It.suggestHoverAnchor(Fe);kt&&et.push(kt)}const pt=Fe.target;if(pt.type===6&&et.push(new T.Qj(0,pt.range,Fe.event.posx,Fe.event.posy)),pt.type===7){const It=this._editor.getOption(48).typicalHalfwidthCharacterWidth/2;!pt.detail.isAfterLines&&typeof pt.detail.horizontalDistanceToText=="number"&&pt.detail.horizontalDistanceToText<It&&et.push(new T.Qj(0,pt.range,Fe.event.posx,Fe.event.posy))}return et.length===0?this._startShowingOrUpdateHover(null,0,0,!1,Fe):(et.sort((It,kt)=>kt.priority-It.priority),this._startShowingOrUpdateHover(et[0],0,0,!1,Fe))}startShowingAtRange(Fe,et,pt,It){this._startShowingOrUpdateHover(new T.Qj(0,Fe,void 0,void 0),et,pt,It,null)}_startShowingOrUpdateHover(Fe,et,pt,It,kt){return!this._widget.position||!this._currentResult?Fe?(this._startHoverOperationIfNecessary(Fe,et,pt,It,!1),!0):!1:this._editor.getOption(58).sticky&&kt&&this._widget.isMouseGettingCloser(kt.event.posx,kt.event.posy)?(Fe&&this._startHoverOperationIfNecessary(Fe,et,pt,It,!0),!0):Fe?Fe&&this._currentResult.anchor.equals(Fe)?!0:Fe.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(Fe)),this._startHoverOperationIfNecessary(Fe,et,pt,It,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(Fe,et,pt,It,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(Fe,et,pt,It,kt){this._computer.anchor&&this._computer.anchor.equals(Fe)||(this._hoverOperation.cancel(),this._computer.anchor=Fe,this._computer.shouldFocus=It,this._computer.source=pt,this._computer.insistOnKeepingHoverVisible=kt,this._hoverOperation.start(et))}_setCurrentResult(Fe){this._currentResult!==Fe&&(Fe&&Fe.messages.length===0&&(Fe=null),this._currentResult=Fe,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}isColorPickerVisible(){return this._widget.isColorPickerVisible}isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}isVisible(){return this._widget.isVisible}containsNode(Fe){return this._widget.getDomNode().contains(Fe)}_addLoadingMessage(Fe){if(this._computer.anchor){for(const et of this._participants)if(et.createLoadingMessage){const pt=et.createLoadingMessage(this._computer.anchor);if(pt)return Fe.slice(0).concat([pt])}}return Fe}_withResult(Fe){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!Fe.isComplete||this._computer.insistOnKeepingHoverVisible&&Fe.messages.length===0)||this._setCurrentResult(Fe)}_renderMessages(Fe,et){const{showAtPosition:pt,showAtSecondaryPosition:It,highlightRange:kt}=Fu.computeHoverRanges(this._editor,Fe.range,et),yt=new B.SL,St=yt.add(new ee(this._keybindingService)),Gt=document.createDocumentFragment();let ti=null;const ri={fragment:Gt,statusBar:St,setColorPicker:gi=>ti=gi,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const gi of this._participants){const Pi=et.filter(Hi=>Hi.owner===gi);Pi.length>0&&yt.add(gi.renderHoverParts(ri,Pi))}const li=et.some(gi=>gi.isBeforeContent);if(St.hasContent&&Gt.appendChild(St.hoverElement),Gt.hasChildNodes()){if(kt){const gi=this._editor.createDecorationsCollection();gi.set([{range:kt,options:Fu._DECORATION_OPTIONS}]),yt.add((0,B.OF)(()=>{gi.clear()}))}this._widget.showAt(Gt,new J(ti,pt,It,this._editor.getOption(58).above,this._computer.shouldFocus,this._computer.source,li,Fe.initialMousePosX,Fe.initialMousePosY,yt))}else yt.dispose()}static computeHoverRanges(Fe,et,pt){let It=1;if(Fe.hasModel()){const ti=Fe._getViewModel(),ri=ti.coordinatesConverter,li=ri.convertModelRangeToViewRange(et),gi=new a.L(li.startLineNumber,ti.getLineMinColumn(li.startLineNumber));It=ri.convertViewPositionToModelPosition(gi).column}const kt=et.startLineNumber;let yt=et.startColumn,St=pt[0].range,Gt=null;for(const ti of pt)St=_.e.plusRange(St,ti.range),ti.range.startLineNumber===kt&&ti.range.endLineNumber===kt&&(yt=Math.max(Math.min(yt,ti.range.startColumn),It)),ti.forceShowAtRange&&(Gt=ti.range);return{showAtPosition:Gt?Gt.getStartPosition():new a.L(kt,et.startColumn),showAtSecondaryPosition:Gt?Gt.getStartPosition():new a.L(kt,yt),highlightRange:St}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}escape(){this._widget.escape()}};te._DECORATION_OPTIONS=C.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),te=z([k(1,U.TG),k(2,K.d)],te);class X{constructor(Fe,et,pt){this.anchor=Fe,this.messages=et,this.isComplete=pt}filter(Fe){const et=this.messages.filter(pt=>pt.isValidForHoverAnchor(Fe));return et.length===this.messages.length?this:new j(this,this.anchor,et,this.isComplete)}}class j extends X{constructor(Fe,et,pt,It){super(et,pt,It),this.original=Fe}filter(Fe){return this.original.filter(Fe)}}class J{constructor(Fe,et,pt,It,kt,yt,St,Gt,ti,ri){this.colorPicker=Fe,this.showAtPosition=et,this.showAtSecondaryPosition=pt,this.preferAbove=It,this.stoleFocus=kt,this.source=yt,this.isBeforeContent=St,this.initialMousePosX=Gt,this.initialMousePosY=ti,this.disposables=ri,this.closestMouseDistance=void 0}}let Y=class Ih extends B.JT{get position(){var Fe,et;return(et=(Fe=this._visibleData)===null||Fe===void 0?void 0:Fe.showAtPosition)!==null&&et!==void 0?et:null}get isColorPickerVisible(){var Fe;return Boolean((Fe=this._visibleData)===null||Fe===void 0?void 0:Fe.colorPicker)}get isVisibleFromKeyboard(){var Fe;return((Fe=this._visibleData)===null||Fe===void 0?void 0:Fe.source)===1}get isVisible(){var Fe;return(Fe=this._hoverVisibleKey.get())!==null&&Fe!==void 0?Fe:!1}constructor(Fe,et){super(),this._editor=Fe,this._contextKeyService=et,this.allowEditorOverflow=!0,this._hoverVisibleKey=v.u.hoverVisible.bindTo(this._contextKeyService),this._hoverFocusedKey=v.u.hoverFocused.bindTo(this._contextKeyService),this._hover=this._register(new d),this._focusTracker=this._register(E.go(this.getDomNode())),this._horizontalScrollingBy=30,this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(pt=>{pt.hasChanged(48)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this),this._register(this._focusTracker.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(this._focusTracker.onDidBlur(()=>{this._hoverFocusedKey.set(!1)}))}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Ih.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let Fe=this._visibleData.preferAbove;!Fe&&this._contextKeyService.getContextKeyValue(G._y.Visible.key)&&(Fe=!0);const et=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,preference:Fe?[1,2]:[2,1],positionAffinity:et}}isMouseGettingCloser(Fe,et){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=Fe,this._visibleData.initialMousePosY=et,!1;const pt=E.i(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=De(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,pt.left,pt.top,pt.width,pt.height));const It=De(Fe,et,pt.left,pt.top,pt.width,pt.height);return It>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,It),!0)}_setVisibleData(Fe){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=Fe,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const Fe=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:et,lineHeight:pt}=this._editor.getOption(48);this._hover.contentsDomNode.style.fontSize=`${et}px`,this._hover.contentsDomNode.style.lineHeight=`${pt/et}`,this._hover.contentsDomNode.style.maxHeight=`${Fe}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(et=>this._editor.applyFontInfo(et))}showAt(Fe,et){var pt;this._setVisibleData(et),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(Fe),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),et.stoleFocus&&this._hover.containerDomNode.focus(),(pt=et.colorPicker)===null||pt===void 0||pt.layout()}hide(){if(this._visibleData){const Fe=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),Fe&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const Fe=this._hover.scrollbar.getScrollDimensions();if(Fe.scrollWidth>Fe.width){const pt=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==pt&&(this._hover.contentsDomNode.style.paddingBottom=pt,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}focus(){this._hover.containerDomNode.focus()}scrollUp(){const Fe=this._hover.scrollbar.getScrollPosition().scrollTop,et=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:Fe-et.lineHeight})}scrollDown(){const Fe=this._hover.scrollbar.getScrollPosition().scrollTop,et=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:Fe+et.lineHeight})}scrollLeft(){const Fe=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:Fe-this._horizontalScrollingBy})}scrollRight(){const Fe=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:Fe+this._horizontalScrollingBy})}pageUp(){const Fe=this._hover.scrollbar.getScrollPosition().scrollTop,et=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:Fe-et})}pageDown(){const Fe=this._hover.scrollbar.getScrollPosition().scrollTop,et=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:Fe+et})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}escape(){this._editor.focus()}};Y.ID="editor.contrib.contentHoverWidget",Y=z([k(1,W.i6)],Y);let ee=class extends B.JT{get hasContent(){return this._hasContent}constructor(Fe){super(),this._keybindingService=Fe,this._hasContent=!1,this.hoverElement=q("div.hover-row.status-bar"),this.actionsElement=E.R3(this.hoverElement,q("div.actions"))}addAction(Fe){const et=this._keybindingService.lookupKeybinding(Fe.commandId),pt=et?et.getLabel():null;return this._hasContent=!0,this._register(g.render(this.actionsElement,Fe,pt))}append(Fe){const et=E.R3(this.actionsElement,Fe);return this._hasContent=!0,et}};ee=z([k(0,K.d)],ee);class fe{get anchor(){return this._anchor}set anchor(Fe){this._anchor=Fe}get shouldFocus(){return this._shouldFocus}set shouldFocus(Fe){this._shouldFocus=Fe}get source(){return this._source}set source(Fe){this._source=Fe}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(Fe){this._insistOnKeepingHoverVisible=Fe}constructor(Fe,et){this._editor=Fe,this._participants=et,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(Fe,et){if(et.type!==1&&!et.supportsMarkerHover)return[];const pt=Fe.getModel(),It=et.range.startLineNumber;if(It>pt.getLineCount())return[];const kt=pt.getLineMaxColumn(It);return Fe.getLineDecorations(It).filter(yt=>{if(yt.options.isWholeLine)return!0;const St=yt.range.startLineNumber===It?yt.range.startColumn:1,Gt=yt.range.endLineNumber===It?yt.range.endColumn:kt;if(yt.options.showIfCollapsed){if(St>et.range.startColumn+1||et.range.endColumn-1>Gt)return!1}else if(St>et.range.startColumn||et.range.endColumn>Gt)return!1;return!0})}computeAsync(Fe){const et=this._anchor;if(!this._editor.hasModel()||!et)return u.Aq.EMPTY;const pt=fe._getLineDecorations(this._editor,et);return u.Aq.merge(this._participants.map(It=>It.computeAsync?It.computeAsync(et,pt,Fe):u.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const Fe=fe._getLineDecorations(this._editor,this._anchor);let et=[];for(const pt of this._participants)et=et.concat(pt.computeSync(this._anchor,Fe));return(0,n.kX)(et)}}function De(zt,Fe,et,pt,It,kt){const yt=et+It/2,St=pt+kt/2,Gt=Math.max(Math.abs(zt-yt)-It/2,0),ti=Math.max(Math.abs(Fe-St)-kt/2,0);return Math.sqrt(Gt*Gt+ti*ti)}var Ne=i(69008),be=i(59397);const xe=E.$;class Le extends B.JT{constructor(Fe,et,pt){super(),this._renderDisposeables=this._register(new B.SL),this._editor=Fe,this._isVisible=!1,this._messages=[],this._hover=this._register(new d),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new be.$({editor:this._editor},et,pt)),this._computer=new ue(this._editor),this._hoverOperation=this._register(new x(this._editor,this._computer)),this._register(this._hoverOperation.onResult(It=>{this._withResult(It.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(It=>{It.hasChanged(48)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Le.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(et=>this._editor.applyFontInfo(et))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(Fe){this._computer.lineNumber!==Fe&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=Fe,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(Fe){this._messages=Fe,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(Fe,et){this._renderDisposeables.clear();const pt=document.createDocumentFragment();for(const It of et){const kt=xe("div.hover-row.markdown-hover"),yt=E.R3(kt,xe("div.hover-contents")),St=this._renderDisposeables.add(this._markdownRenderer.render(It.value));yt.appendChild(St.element),pt.appendChild(kt)}this._updateContents(pt),this._showAt(Fe)}_updateContents(Fe){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(Fe),this._updateFont()}_showAt(Fe){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const et=this._editor.getLayoutInfo(),pt=this._editor.getTopForLineNumber(Fe),It=this._editor.getScrollTop(),kt=this._editor.getOption(64),yt=this._hover.containerDomNode.clientHeight,St=pt-It-(yt-kt)/2;this._hover.containerDomNode.style.left=`${et.glyphMarginLeft+et.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(St),0)}px`}}Le.ID="editor.contrib.modesGlyphHoverWidget";class ue{get lineNumber(){return this._lineNumber}set lineNumber(Fe){this._lineNumber=Fe}constructor(Fe){this._editor=Fe,this._lineNumber=-1}computeSync(){const Fe=It=>({value:It}),et=this._editor.getLineDecorations(this._lineNumber),pt=[];if(!et)return pt;for(const It of et){if(!It.options.glyphMarginClassName)continue;const kt=It.options.glyphMarginHoverMessage;!kt||(0,Ne.CP)(kt)||pt.push(...(0,n._2)(kt).map(Fe))}return pt}}var re=i(26386),_e=i(48786),Ue=i(92537),Qe=i(58566),Re=i(22214),ie=i(6227),Z=i(35921),se=i(52919),ve=i(83915),he=i(15202),ce=i(66129),Ee=i(56993),We=i(36156),it=i(79969),Ze=function(zt,Fe,et,pt){var It=arguments.length,kt=It<3?Fe:pt===null?pt=Object.getOwnPropertyDescriptor(Fe,et):pt,yt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(zt,Fe,et,pt);else for(var St=zt.length-1;St>=0;St--)(yt=zt[St])&&(kt=(It<3?yt(kt):It>3?yt(Fe,et,kt):yt(Fe,et))||kt);return It>3&&kt&&Object.defineProperty(Fe,et,kt),kt},je=function(zt,Fe){return function(et,pt){Fe(et,pt,zt)}};const Te=E.$;class Ie{constructor(Fe,et,pt){this.owner=Fe,this.range=et,this.marker=pt}isValidForHoverAnchor(Fe){return Fe.type===1&&this.range.startColumn<=Fe.range.startColumn&&this.range.endColumn>=Fe.range.endColumn}}const oe={type:1,filter:{include:ce.yN.QuickFix},triggerAction:ce.aQ.QuickFixHover};let ge=class{constructor(Fe,et,pt,It){this._editor=Fe,this._markerDecorationsService=et,this._openerService=pt,this._languageFeaturesService=It,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(Fe,et){if(!this._editor.hasModel()||Fe.type!==1&&!Fe.supportsMarkerHover)return[];const pt=this._editor.getModel(),It=Fe.range.startLineNumber,kt=pt.getLineMaxColumn(It),yt=[];for(const St of et){const Gt=St.range.startLineNumber===It?St.range.startColumn:1,ti=St.range.endLineNumber===It?St.range.endColumn:kt,ri=this._markerDecorationsService.getMarker(pt.uri,St);if(!ri)continue;const li=new _.e(Fe.range.startLineNumber,Gt,Fe.range.startLineNumber,ti);yt.push(new Ie(this,li,ri))}return yt}renderHoverParts(Fe,et){if(!et.length)return B.JT.None;const pt=new B.SL;et.forEach(kt=>Fe.fragment.appendChild(this.renderMarkerHover(kt,pt)));const It=et.length===1?et[0]:et.sort((kt,yt)=>We.ZL.compare(kt.marker.severity,yt.marker.severity))[0];return this.renderMarkerStatusbar(Fe,It,pt),pt}renderMarkerHover(Fe,et){const pt=Te("div.hover-row"),It=E.R3(pt,Te("div.marker.hover-contents")),{source:kt,message:yt,code:St,relatedInformation:Gt}=Fe.marker;this._editor.applyFontInfo(It);const ti=E.R3(It,Te("span"));if(ti.style.whiteSpace="pre-wrap",ti.innerText=yt,kt||St)if(St&&typeof St!="string"){const ri=Te("span");if(kt){const Hi=E.R3(ri,Te("span"));Hi.innerText=kt}const li=E.R3(ri,Te("a.code-link"));li.setAttribute("href",St.target.toString()),et.add(E.nm(li,"click",Hi=>{this._openerService.open(St.target,{allowCommands:!0}),Hi.preventDefault(),Hi.stopPropagation()}));const gi=E.R3(li,Te("span"));gi.innerText=St.value;const Pi=E.R3(It,ri);Pi.style.opacity="0.6",Pi.style.paddingLeft="6px"}else{const ri=E.R3(It,Te("span"));ri.style.opacity="0.6",ri.style.paddingLeft="6px",ri.innerText=kt&&St?`${kt}(${St})`:kt||`(${St})`}if((0,n.Of)(Gt))for(const{message:ri,resource:li,startLineNumber:gi,startColumn:Pi}of Gt){const Hi=E.R3(It,Te("div"));Hi.style.marginTop="8px";const ji=E.R3(Hi,Te("a"));ji.innerText=`${(0,ie.EZ)(li)}(${gi}, ${Pi}): `,ji.style.cursor="pointer",et.add(E.nm(ji,"click",Rn=>{Rn.stopPropagation(),Rn.preventDefault(),this._openerService&&this._openerService.open(li,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:gi,startColumn:Pi}}}).catch(S.dL)}));const bn=E.R3(Hi,Te("span"));bn.innerText=ri,this._editor.applyFontInfo(bn)}return pt}renderMarkerStatusbar(Fe,et,pt){if((et.marker.severity===We.ZL.Error||et.marker.severity===We.ZL.Warning||et.marker.severity===We.ZL.Info)&&Fe.statusBar.addAction({label:re.NC("view problem","View Problem"),commandId:Ee.NextMarkerAction.ID,run:()=>{var It;Fe.hide(),(It=Ee.MarkerController.get(this._editor))===null||It===void 0||It.showAtMarker(et.marker),this._editor.focus()}}),!this._editor.getOption(87)){const It=Fe.statusBar.append(Te("div"));this.recentMarkerCodeActionsInfo&&(We.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===We.H0.makeKey(et.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(It.textContent=re.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const kt=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?B.JT.None:pt.add((0,u.Vg)(()=>It.textContent=re.NC("checkingForQuickFixes","Checking for quick fixes..."),200));It.textContent||(It.textContent=String.fromCharCode(160));const yt=this.getCodeActions(et.marker);pt.add((0,B.OF)(()=>yt.cancel())),yt.then(St=>{if(kt.dispose(),this.recentMarkerCodeActionsInfo={marker:et.marker,hasCodeActions:St.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){St.dispose(),It.textContent=re.NC("noQuickFixes","No quick fixes available");return}It.style.display="none";let Gt=!1;pt.add((0,B.OF)(()=>{Gt||St.dispose()})),Fe.statusBar.addAction({label:re.NC("quick fixes","Quick Fix..."),commandId:ve.cz,run:ti=>{Gt=!0;const ri=he.G.get(this._editor),li=E.i(ti);Fe.hide(),ri==null||ri.showCodeActions(oe,St,{x:li.left+6,y:li.top+li.height+6,width:li.width,height:li.height})}})},S.dL)}}getCodeActions(Fe){return(0,u.PG)(et=>(0,ve.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new _.e(Fe.startLineNumber,Fe.startColumn,Fe.endLineNumber,Fe.endColumn),oe,it.Ex.None,et))}};ge=Ze([je(1,se.i),je(2,_e.v4),je(3,Z.p)],ge);var Ce=i(92386),me=function(zt,Fe,et,pt){var It=arguments.length,kt=It<3?Fe:pt===null?pt=Object.getOwnPropertyDescriptor(Fe,et):pt,yt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(zt,Fe,et,pt);else for(var St=zt.length-1;St>=0;St--)(yt=zt[St])&&(kt=(It<3?yt(kt):It>3?yt(Fe,et,kt):yt(Fe,et))||kt);return It>3&&kt&&Object.defineProperty(Fe,et,kt),kt},Me=function(zt,Fe){return function(et,pt){Fe(et,pt,zt)}};let qe=class Nh{static get(Fe){return Fe.getContribution(Nh.ID)}constructor(Fe,et,pt,It,kt){this._editor=Fe,this._instantiationService=et,this._openerService=pt,this._languageService=It,this._keybindingService=kt,this._toUnhook=new B.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(yt=>{yt.hasChanged(58)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const Fe=()=>this._hideWidgets(),et=this._editor.getOption(58);this._isHoverEnabled=et.enabled,this._isHoverSticky=et.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(pt=>this._onEditorMouseDown(pt))),this._toUnhook.add(this._editor.onMouseUp(pt=>this._onEditorMouseUp(pt))),this._toUnhook.add(this._editor.onMouseMove(pt=>this._onEditorMouseMove(pt))),this._toUnhook.add(this._editor.onKeyDown(pt=>this._onKeyDown(pt)))):(this._toUnhook.add(this._editor.onMouseMove(pt=>this._onEditorMouseMove(pt))),this._toUnhook.add(this._editor.onKeyDown(pt=>this._onKeyDown(pt)))),this._toUnhook.add(this._editor.onMouseLeave(pt=>this._onEditorMouseLeave(pt))),this._toUnhook.add(this._editor.onDidChangeModel(Fe)),this._toUnhook.add(this._editor.onDidScrollChange(pt=>this._onEditorScrollChanged(pt)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(Fe){(Fe.scrollTopChanged||Fe.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(Fe){this._isMouseDown=!0;const et=Fe.target;if(et.type===9&&et.detail===Y.ID){this._hoverClicked=!0;return}et.type===12&&et.detail===Le.ID||(et.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(Fe){this._isMouseDown=!1}_onEditorMouseLeave(Fe){var et;const pt=Fe.event.browserEvent.relatedTarget;!((et=this._contentWidget)===null||et===void 0)&&et.containsNode(pt)||this._hideWidgets()}_onEditorMouseMove(Fe){var et,pt,It,kt,yt,St;const Gt=Fe.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&Gt.type===9&&Gt.detail===Y.ID||this._isHoverSticky&&!(!((pt=(et=Fe.event.browserEvent.view)===null||et===void 0?void 0:et.getSelection())===null||pt===void 0)&&pt.isCollapsed)||!this._isHoverSticky&&Gt.type===9&&Gt.detail===Y.ID&&(!((It=this._contentWidget)===null||It===void 0)&&It.isColorPickerVisible())||this._isHoverSticky&&Gt.type===12&&Gt.detail===Le.ID||this._isHoverSticky&&(!((kt=this._contentWidget)===null||kt===void 0)&&kt.isVisibleFromKeyboard()))return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(Fe)){(yt=this._glyphWidget)===null||yt===void 0||yt.hide();return}if(Gt.type===2&&Gt.position){(St=this._contentWidget)===null||St===void 0||St.hide(),this._glyphWidget||(this._glyphWidget=new Le(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(Gt.position.lineNumber);return}this._hideWidgets()}_onKeyDown(Fe){var et;if(!this._editor.hasModel())return;const pt=this._keybindingService.softDispatch(Fe,this._editor.getDomNode()),It=(pt==null?void 0:pt.kind)===1||pt&&pt.kind===2&&pt.commandId==="editor.action.showHover"&&((et=this._contentWidget)===null||et===void 0?void 0:et.isVisible());Fe.keyCode!==5&&Fe.keyCode!==6&&Fe.keyCode!==57&&Fe.keyCode!==4&&!It&&this._hideWidgets()}_hideWidgets(){var Fe,et,pt;this._isMouseDown&&this._hoverClicked&&(!((Fe=this._contentWidget)===null||Fe===void 0)&&Fe.isColorPickerVisible())||Ce.Q.dropDownVisible||(this._hoverClicked=!1,(et=this._glyphWidget)===null||et===void 0||et.hide(),(pt=this._contentWidget)===null||pt===void 0||pt.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(te,this._editor)),this._contentWidget}isColorPickerVisible(){var Fe;return((Fe=this._contentWidget)===null||Fe===void 0?void 0:Fe.isColorPickerVisible())||!1}showContentHover(Fe,et,pt,It){this._getOrCreateContentWidget().startShowingAtRange(Fe,et,pt,It)}focus(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.focus()}scrollUp(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.scrollUp()}scrollDown(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.scrollDown()}scrollLeft(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.scrollLeft()}scrollRight(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.scrollRight()}pageUp(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.pageUp()}pageDown(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.pageDown()}goToTop(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.goToTop()}goToBottom(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.goToBottom()}escape(){var Fe;(Fe=this._contentWidget)===null||Fe===void 0||Fe.escape()}isHoverVisible(){var Fe;return(Fe=this._contentWidget)===null||Fe===void 0?void 0:Fe.isVisible()}dispose(){var Fe,et;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(Fe=this._glyphWidget)===null||Fe===void 0||Fe.dispose(),(et=this._contentWidget)===null||et===void 0||et.dispose()}};qe.ID="editor.contrib.hover",qe=me([Me(1,U.TG),Me(2,_e.v4),Me(3,A.O),Me(4,K.d)],qe);class ot extends f.R6{constructor(){super({id:"editor.action.showHover",label:re.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:v.u.editorTextFocus,primary:(0,m.gx)(2089,2087),weight:100}})}run(Fe,et,pt){if(!et.hasModel())return;const It=qe.get(et);if(!It)return;const kt=et.getPosition(),yt=new _.e(kt.lineNumber,kt.column,kt.lineNumber,kt.column),St=et.getOption(2)===2||!!(pt!=null&&pt.focus);It.isHoverVisible()?It.focus():It.showContentHover(yt,1,1,St)}}class ut extends f.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:re.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(Fe,et){const pt=qe.get(et);if(!pt)return;const It=et.getPosition();if(!It)return;const kt=new _.e(It.lineNumber,It.column,It.lineNumber,It.column),yt=M.GotoDefinitionAtPositionEditorContribution.get(et);if(!yt)return;yt.startFindDefinitionFromCursor(It).then(()=>{pt.showContentHover(kt,1,1,!0)})}}class ht extends f.R6{constructor(){super({id:"editor.action.scrollUpHover",label:re.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:16,weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.scrollUp()}}class Ct extends f.R6{constructor(){super({id:"editor.action.scrollDownHover",label:re.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:18,weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.scrollDown()}}class Pt extends f.R6{constructor(){super({id:"editor.action.scrollLeftHover",label:re.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:15,weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.scrollLeft()}}class bt extends f.R6{constructor(){super({id:"editor.action.scrollRightHover",label:re.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:17,weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.scrollRight()}}class $t extends f.R6{constructor(){super({id:"editor.action.pageUpHover",label:re.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:11,secondary:[528],weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.pageUp()}}class Mt extends f.R6{constructor(){super({id:"editor.action.pageDownHover",label:re.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:12,secondary:[530],weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.pageDown()}}class Xe extends f.R6{constructor(){super({id:"editor.action.goToTopHover",label:re.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.goToTop()}}class Lt extends f.R6{constructor(){super({id:"editor.action.goToBottomHover",label:re.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.goToBottom()}}class Xt extends f.R6{constructor(){super({id:"editor.action.escapeFocusHover",label:re.NC({key:"escapeFocusHover",comment:["Action that allows to escape from the hover widget with the escape command when the hover widget is focused."]},"Escape Focus Hover"),alias:"Escape Focus Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:9,weight:100}})}run(Fe,et){const pt=qe.get(et);pt&&pt.escape()}}(0,f._K)(qe.ID,qe,2),(0,f.Qr)(ot),(0,f.Qr)(ut),(0,f.Qr)(ht),(0,f.Qr)(Ct),(0,f.Qr)(Pt),(0,f.Qr)(bt),(0,f.Qr)($t),(0,f.Qr)(Mt),(0,f.Qr)(Xe),(0,f.Qr)(Lt),(0,f.Qr)(Xt),T.Ae.register(Re.D5),T.Ae.register(ge),(0,Qe.Ic)((zt,Fe)=>{const et=zt.getColor(Ue.CNo);et&&(Fe.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${et.transparent(.5)}; }`),Fe.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${et.transparent(.5)}; }`),Fe.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${et.transparent(.5)}; }`))})},72223:function(Ot,He,i){"use strict";i.d(He,{Ae:function(){return f},Qj:function(){return m},YM:function(){return B}});class m{constructor(v,A,M,E){this.priority=v,this.range=A,this.initialMousePosX=M,this.initialMousePosY=E,this.type=1}equals(v){return v.type===1&&this.range.equalsRange(v.range)}canAdoptVisibleHover(v,A){return v.type===1&&A.lineNumber===this.range.startLineNumber}}class B{constructor(v,A,M,E,R,p){this.priority=v,this.owner=A,this.range=M,this.initialMousePosX=E,this.initialMousePosY=R,this.supportsMarkerHover=p,this.type=2}equals(v){return v.type===2&&this.owner===v.owner}canAdoptVisibleHover(v,A){return v.type===2&&this.owner===v.owner}}const f=new class{constructor(){this._participants=[]}register(v){this._participants.push(v)}getAll(){return this._participants}}},22214:function(Ot,He,i){"use strict";i.d(He,{D5:function(){return S},c:function(){return w},hU:function(){return u}});var m=i(34441),B=i(16308),f=i(13484),_=i(69008),v=i(38431),A=i(59397),M=i(8964),E=i(50038),R=i(47626),p=i(23098),l=i(26386),d=i(71177),g=i(48786),n=i(35921),a=function(L,N,O,x){var T=arguments.length,W=T<3?N:x===null?x=Object.getOwnPropertyDescriptor(N,O):x,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,N,O,x);else for(var K=L.length-1;K>=0;K--)(U=L[K])&&(W=(T<3?U(W):T>3?U(N,O,W):U(N,O))||W);return T>3&&W&&Object.defineProperty(N,O,W),W},C=function(L,N){return function(O,x){N(O,x,L)}};const D=m.$;class u{constructor(N,O,x,T,W){this.owner=N,this.range=O,this.contents=x,this.isBeforeContent=T,this.ordinal=W}isValidForHoverAnchor(N){return N.type===1&&this.range.startColumn<=N.range.startColumn&&this.range.endColumn>=N.range.endColumn}}let S=class{constructor(N,O,x,T,W){this._editor=N,this._languageService=O,this._openerService=x,this._configurationService=T,this._languageFeaturesService=W,this.hoverOrdinal=3}createLoadingMessage(N){return new u(this,N.range,[new _.W5().appendText(l.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(N,O){if(!this._editor.hasModel()||N.type!==1)return[];const x=this._editor.getModel(),T=N.range.startLineNumber,W=x.getLineMaxColumn(T),U=[];let K=1e3;const G=x.getLineLength(T),z=x.getLanguageIdAtPosition(N.range.startLineNumber,N.range.startColumn),k=this._editor.getOption(112),q=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:z});let te=!1;k>=0&&G>k&&N.range.startColumn>=k&&(te=!0,U.push(new u(this,N.range,[{value:l.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,K++))),!te&&typeof q=="number"&&G>=q&&U.push(new u(this,N.range,[{value:l.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,K++));let X=!1;for(const j of O){const J=j.range.startLineNumber===T?j.range.startColumn:1,Y=j.range.endLineNumber===T?j.range.endColumn:W,ee=j.options.hoverMessage;if(!ee||(0,_.CP)(ee))continue;j.options.beforeContentClassName&&(X=!0);const fe=new E.e(N.range.startLineNumber,J,N.range.startLineNumber,Y);U.push(new u(this,fe,(0,B._2)(ee),X,K++))}return U}computeAsync(N,O,x){if(!this._editor.hasModel()||N.type!==1)return f.Aq.EMPTY;const T=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(T))return f.Aq.EMPTY;const W=new M.L(N.range.startLineNumber,N.range.startColumn);return(0,p.R8)(this._languageFeaturesService.hoverProvider,T,W,x).filter(U=>!(0,_.CP)(U.hover.contents)).map(U=>{const K=U.hover.range?E.e.lift(U.hover.range):N.range;return new u(this,K,U.hover.contents,!1,U.ordinal)})}renderHoverParts(N,O){return w(N,O,this._editor,this._languageService,this._openerService)}};S=a([C(1,R.O),C(2,g.v4),C(3,d.Ui),C(4,n.p)],S);function w(L,N,O,x,T){N.sort((U,K)=>U.ordinal-K.ordinal);const W=new v.SL;for(const U of N)for(const K of U.contents){if((0,_.CP)(K))continue;const G=D("div.hover-row.markdown-hover"),z=m.R3(G,D("div.hover-contents")),k=W.add(new A.$({editor:O},x,T));W.add(k.onDidRenderAsync(()=>{z.className="hover-contents code-hover-contents",L.onContentsChanged()}));const q=W.add(k.render(K));z.appendChild(q.element),L.fragment.appendChild(G)}return W}},99006:function(Ot,He,i){"use strict";i.r(He);var m=i(13484),B=i(20996),f=i(44426),_=i(55298),v=i(50038),A=i(57841),M=i(21081),E=i(45007),R=i(30363),p=i(26386);class l{constructor(u,S,w){this._editRange=u,this._originalSelection=S,this._text=w}getEditOperations(u,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(u,S){const L=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new A.Y(L.endLineNumber,Math.min(this._originalSelection.positionColumn,L.endColumn),L.endLineNumber,Math.min(this._originalSelection.positionColumn,L.endColumn)):new A.Y(L.endLineNumber,L.endColumn-this._text.length,L.endLineNumber,L.endColumn)}}var d=function(D,u,S,w){var L=arguments.length,N=L<3?u:w===null?w=Object.getOwnPropertyDescriptor(u,S):w,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(D,u,S,w);else for(var x=D.length-1;x>=0;x--)(O=D[x])&&(N=(L<3?O(N):L>3?O(u,S,N):O(u,S))||N);return L>3&&N&&Object.defineProperty(u,S,N),N},g=function(D,u){return function(S,w){u(S,w,D)}};let n=class Bu{static get(u){return u.getContribution(Bu.ID)}constructor(u,S){this.editor=u,this.editorWorkerService=S,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(u,S){var w;(w=this.currentRequest)===null||w===void 0||w.cancel();const L=this.editor.getSelection(),N=this.editor.getModel();if(!N||!L)return;let O=L;if(O.startLineNumber!==O.endLineNumber)return;const x=new f.yy(this.editor,5),T=N.uri;return this.editorWorkerService.canNavigateValueSet(T)?(this.currentRequest=(0,m.PG)(W=>this.editorWorkerService.navigateValueSet(T,O,S)),this.currentRequest.then(W=>{var U;if(!W||!W.range||!W.value||!x.validate(this.editor))return;const K=v.e.lift(W.range);let G=W.range;const z=W.value.length-(O.endColumn-O.startColumn);G={startLineNumber:G.startLineNumber,startColumn:G.startColumn,endLineNumber:G.endLineNumber,endColumn:G.startColumn+W.value.length},z>1&&(O=new A.Y(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn+z-1));const k=new l(K,O,W.value);this.editor.pushUndoStop(),this.editor.executeCommand(u,k),this.editor.pushUndoStop(),this.decorations.set([{range:G,options:Bu.DECORATION}]),(U=this.decorationRemover)===null||U===void 0||U.cancel(),this.decorationRemover=(0,m.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(B.dL)}).catch(B.dL)):Promise.resolve(void 0)}};n.ID="editor.contrib.inPlaceReplaceController",n.DECORATION=E.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),n=d([g(1,R.p)],n);class a extends _.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:M.u.writable,kbOpts:{kbExpr:M.u.editorTextFocus,primary:3154,weight:100}})}run(u,S){const w=n.get(S);return w?w.run(this.id,!1):Promise.resolve(void 0)}}class C extends _.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:M.u.writable,kbOpts:{kbExpr:M.u.editorTextFocus,primary:3156,weight:100}})}run(u,S){const w=n.get(S);return w?w.run(this.id,!0):Promise.resolve(void 0)}}(0,_._K)(n.ID,n,4),(0,_.Qr)(a),(0,_.Qr)(C)},54425:function(Ot,He,i){"use strict";i.d(He,{J:function(){return B},Y:function(){return m}});function m(f,_){let v=0;for(let A=0;A<f.length;A++)f.charAt(A)==="	"?v+=_:v++;return v}function B(f,_,v){f=f<0?0:f;let A="";if(!v){const M=Math.floor(f/_);f=f%_;for(let E=0;E<M;E++)A+="	"}for(let M=0;M<f;M++)A+=" ";return A}},32262:function(Ot,He,i){"use strict";i.r(He),i.d(He,{AutoIndentOnPaste:function(){return G},AutoIndentOnPasteCommand:function(){return K},ChangeIndentationSizeAction:function(){return L},ChangeTabDisplaySize:function(){return x},DetectIndentation:function(){return T},IndentUsingSpaces:function(){return O},IndentUsingTabs:function(){return N},IndentationToSpacesAction:function(){return S},IndentationToSpacesCommand:function(){return k},IndentationToTabsAction:function(){return w},IndentationToTabsCommand:function(){return q},ReindentLinesAction:function(){return W},ReindentSelectedLinesAction:function(){return U},getReindentEditOperations:function(){return u}});var m=i(38431),B=i(17416),f=i(55298),_=i(8453),v=i(19083),A=i(50038),M=i(57841),E=i(21081),R=i(64603),p=i(65041),l=i(54425),d=i(26386),g=i(38785),n=i(5184),a=i(89026),C=function(te,X,j,J){var Y=arguments.length,ee=Y<3?X:J===null?J=Object.getOwnPropertyDescriptor(X,j):J,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(te,X,j,J);else for(var De=te.length-1;De>=0;De--)(fe=te[De])&&(ee=(Y<3?fe(ee):Y>3?fe(X,j,ee):fe(X,j))||ee);return Y>3&&ee&&Object.defineProperty(X,j,ee),ee},D=function(te,X){return function(j,J){X(j,J,te)}};function u(te,X,j,J,Y){if(te.getLineCount()===1&&te.getLineMaxColumn(1)===1)return[];const ee=X.getLanguageConfiguration(te.getLanguageId()).indentationRules;if(!ee)return[];for(J=Math.min(J,te.getLineCount());j<=J&&ee.unIndentedLinePattern;){const Qe=te.getLineContent(j);if(!ee.unIndentedLinePattern.test(Qe))break;j++}if(j>J-1)return[];const{tabSize:fe,indentSize:De,insertSpaces:Ne}=te.getOptions(),be=(Qe,Re)=>(Re=Re||1,_.U.shiftIndent(Qe,Qe.length+Re,fe,De,Ne)),xe=(Qe,Re)=>(Re=Re||1,_.U.unshiftIndent(Qe,Qe.length+Re,fe,De,Ne)),Le=[];let ue;const re=te.getLineContent(j);let _e=re;if(Y!=null){ue=Y;const Qe=B.V8(re);_e=ue+re.substring(Qe.length),ee.decreaseIndentPattern&&ee.decreaseIndentPattern.test(_e)&&(ue=xe(ue),_e=ue+re.substring(Qe.length)),re!==_e&&Le.push(v.h.replaceMove(new M.Y(j,1,j,Qe.length+1),(0,n.x)(ue,De,Ne)))}else ue=B.V8(re);let Ue=ue;ee.increaseIndentPattern&&ee.increaseIndentPattern.test(_e)?(Ue=be(Ue),ue=be(ue)):ee.indentNextLinePattern&&ee.indentNextLinePattern.test(_e)&&(Ue=be(Ue)),j++;for(let Qe=j;Qe<=J;Qe++){const Re=te.getLineContent(Qe),ie=B.V8(Re),Z=Ue+Re.substring(ie.length);ee.decreaseIndentPattern&&ee.decreaseIndentPattern.test(Z)&&(Ue=xe(Ue),ue=xe(ue)),ie!==Ue&&Le.push(v.h.replaceMove(new M.Y(Qe,1,Qe,ie.length+1),(0,n.x)(Ue,De,Ne))),!(ee.unIndentedLinePattern&&ee.unIndentedLinePattern.test(Re))&&(ee.increaseIndentPattern&&ee.increaseIndentPattern.test(Z)?(ue=be(ue),Ue=ue):ee.indentNextLinePattern&&ee.indentNextLinePattern.test(Z)?Ue=be(Ue):Ue=ue)}return Le}class S extends f.R6{constructor(){super({id:S.ID,label:d.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:E.u.writable})}run(X,j){const J=j.getModel();if(!J)return;const Y=J.getOptions(),ee=j.getSelection();if(!ee)return;const fe=new k(ee,Y.tabSize);j.pushUndoStop(),j.executeCommands(this.id,[fe]),j.pushUndoStop(),J.updateOptions({insertSpaces:!0})}}S.ID="editor.action.indentationToSpaces";class w extends f.R6{constructor(){super({id:w.ID,label:d.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:E.u.writable})}run(X,j){const J=j.getModel();if(!J)return;const Y=J.getOptions(),ee=j.getSelection();if(!ee)return;const fe=new q(ee,Y.tabSize);j.pushUndoStop(),j.executeCommands(this.id,[fe]),j.pushUndoStop(),J.updateOptions({insertSpaces:!1})}}w.ID="editor.action.indentationToTabs";class L extends f.R6{constructor(X,j,J){super(J),this.insertSpaces=X,this.displaySizeOnly=j}run(X,j){const J=X.get(g.eJ),Y=X.get(p.q),ee=j.getModel();if(!ee)return;const fe=Y.getCreationOptions(ee.getLanguageId(),ee.uri,ee.isForSimpleWidget),De=ee.getOptions(),Ne=[1,2,3,4,5,6,7,8].map(xe=>({id:xe.toString(),label:xe.toString(),description:xe===fe.tabSize&&xe===De.tabSize?d.NC("configuredTabSize","Configured Tab Size"):xe===fe.tabSize?d.NC("defaultTabSize","Default Tab Size"):xe===De.tabSize?d.NC("currentTabSize","Current Tab Size"):void 0})),be=Math.min(ee.getOptions().tabSize-1,7);setTimeout(()=>{J.pick(Ne,{placeHolder:d.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:Ne[be]}).then(xe=>{if(xe&&ee&&!ee.isDisposed()){const Le=parseInt(xe.label,10);this.displaySizeOnly?ee.updateOptions({tabSize:Le}):ee.updateOptions({tabSize:Le,indentSize:Le,insertSpaces:this.insertSpaces})}})},50)}}class N extends L{constructor(){super(!1,!1,{id:N.ID,label:d.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}N.ID="editor.action.indentUsingTabs";class O extends L{constructor(){super(!0,!1,{id:O.ID,label:d.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}O.ID="editor.action.indentUsingSpaces";class x extends L{constructor(){super(!0,!0,{id:x.ID,label:d.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}x.ID="editor.action.changeTabDisplaySize";class T extends f.R6{constructor(){super({id:T.ID,label:d.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(X,j){const J=X.get(p.q),Y=j.getModel();if(!Y)return;const ee=J.getCreationOptions(Y.getLanguageId(),Y.uri,Y.isForSimpleWidget);Y.detectIndentation(ee.insertSpaces,ee.tabSize)}}T.ID="editor.action.detectIndentation";class W extends f.R6{constructor(){super({id:"editor.action.reindentlines",label:d.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:E.u.writable})}run(X,j){const J=X.get(R.c_),Y=j.getModel();if(!Y)return;const ee=u(Y,J,1,Y.getLineCount());ee.length>0&&(j.pushUndoStop(),j.executeEdits(this.id,ee),j.pushUndoStop())}}class U extends f.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:d.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:E.u.writable})}run(X,j){const J=X.get(R.c_),Y=j.getModel();if(!Y)return;const ee=j.getSelections();if(ee===null)return;const fe=[];for(const De of ee){let Ne=De.startLineNumber,be=De.endLineNumber;if(Ne!==be&&De.endColumn===1&&be--,Ne===1){if(Ne===be)continue}else Ne--;const xe=u(Y,J,Ne,be);fe.push(...xe)}fe.length>0&&(j.pushUndoStop(),j.executeEdits(this.id,fe),j.pushUndoStop())}}class K{constructor(X,j){this._initialSelection=j,this._edits=[],this._selectionId=null;for(const J of X)J.range&&typeof J.text=="string"&&this._edits.push(J)}getEditOperations(X,j){for(const Y of this._edits)j.addEditOperation(A.e.lift(Y.range),Y.text);let J=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(J=!0,this._selectionId=j.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(J=!0,this._selectionId=j.trackSelection(this._initialSelection,!1))),J||(this._selectionId=j.trackSelection(this._initialSelection))}computeCursorState(X,j){return j.getTrackedSelection(this._selectionId)}}let G=class{constructor(X,j){this.editor=X,this._languageConfigurationService=j,this.callOnDispose=new m.SL,this.callOnModel=new m.SL,this.callOnDispose.add(X.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(X.onDidChangeModel(()=>this.update())),this.callOnDispose.add(X.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(10)<4||this.editor.getOption(53))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:X})=>{this.trigger(X)}))}trigger(X){const j=this.editor.getSelections();if(j===null||j.length>1)return;const J=this.editor.getModel();if(!J||!J.tokenization.isCheapToTokenize(X.getStartPosition().lineNumber))return;const Y=this.editor.getOption(10),{tabSize:ee,indentSize:fe,insertSpaces:De}=J.getOptions(),Ne=[],be={shiftIndent:re=>_.U.shiftIndent(re,re.length+1,ee,fe,De),unshiftIndent:re=>_.U.unshiftIndent(re,re.length+1,ee,fe,De)};let xe=X.startLineNumber;for(;xe<=X.endLineNumber;){if(this.shouldIgnoreLine(J,xe)){xe++;continue}break}if(xe>X.endLineNumber)return;let Le=J.getLineContent(xe);if(!/\S/.test(Le.substring(0,X.startColumn-1))){const re=(0,a.n8)(Y,J,J.getLanguageId(),xe,be,this._languageConfigurationService);if(re!==null){const _e=B.V8(Le),Ue=l.Y(re,ee),Qe=l.Y(_e,ee);if(Ue!==Qe){const Re=l.J(Ue,ee,De);Ne.push({range:new A.e(xe,1,xe,_e.length+1),text:Re}),Le=Re+Le.substr(_e.length)}else{const Re=(0,a.tI)(J,xe,this._languageConfigurationService);if(Re===0||Re===8)return}}}const ue=xe;for(;xe<X.endLineNumber;){if(!/\S/.test(J.getLineContent(xe+1))){xe++;continue}break}if(xe!==X.endLineNumber){const re={tokenization:{getLineTokens:Ue=>J.tokenization.getLineTokens(Ue),getLanguageId:()=>J.getLanguageId(),getLanguageIdAtPosition:(Ue,Qe)=>J.getLanguageIdAtPosition(Ue,Qe)},getLineContent:Ue=>Ue===ue?Le:J.getLineContent(Ue)},_e=(0,a.n8)(Y,re,J.getLanguageId(),xe+1,be,this._languageConfigurationService);if(_e!==null){const Ue=l.Y(_e,ee),Qe=l.Y(B.V8(J.getLineContent(xe+1)),ee);if(Ue!==Qe){const Re=Ue-Qe;for(let ie=xe+1;ie<=X.endLineNumber;ie++){const Z=J.getLineContent(ie),se=B.V8(Z),he=l.Y(se,ee)+Re,ce=l.J(he,ee,De);ce!==se&&Ne.push({range:new A.e(ie,1,ie,se.length+1),text:ce})}}}}if(Ne.length>0){this.editor.pushUndoStop();const re=new K(Ne,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",re),this.editor.pushUndoStop()}}shouldIgnoreLine(X,j){X.tokenization.forceTokenization(j);const J=X.getLineFirstNonWhitespaceColumn(j);if(J===0)return!0;const Y=X.tokenization.getLineTokens(j);if(Y.getCount()>0){const ee=Y.findTokenIndexAtOffset(J);if(ee>=0&&Y.getStandardTokenType(ee)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};G.ID="editor.contrib.autoIndentOnPaste",G=C([D(1,R.c_)],G);function z(te,X,j,J){if(te.getLineCount()===1&&te.getLineMaxColumn(1)===1)return;let Y="";for(let fe=0;fe<j;fe++)Y+=" ";const ee=new RegExp(Y,"gi");for(let fe=1,De=te.getLineCount();fe<=De;fe++){let Ne=te.getLineFirstNonWhitespaceColumn(fe);if(Ne===0&&(Ne=te.getLineMaxColumn(fe)),Ne===1)continue;const be=new A.e(fe,1,fe,Ne),xe=te.getValueInRange(be),Le=J?xe.replace(/\t/ig,Y):xe.replace(ee,"	");X.addEditOperation(be,Le)}}class k{constructor(X,j){this.selection=X,this.tabSize=j,this.selectionId=null}getEditOperations(X,j){this.selectionId=j.trackSelection(this.selection),z(X,j,this.tabSize,!0)}computeCursorState(X,j){return j.getTrackedSelection(this.selectionId)}}class q{constructor(X,j){this.selection=X,this.tabSize=j,this.selectionId=null}getEditOperations(X,j){this.selectionId=j.trackSelection(this.selection),z(X,j,this.tabSize,!1)}computeCursorState(X,j){return j.getTrackedSelection(this.selectionId)}}(0,f._K)(G.ID,G,2),(0,f.Qr)(S),(0,f.Qr)(w),(0,f.Qr)(N),(0,f.Qr)(O),(0,f.Qr)(x),(0,f.Qr)(T),(0,f.Qr)(W),(0,f.Qr)(U)},4328:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(72223),f=i(34441),_=i(16308),v=i(13484),A=i(97464),M=i(20996),E=i(38431),R=i(39832),p=i(14818),l=i(28919),d=i(31396),g=i(48423),n=i(70054),a=i(19083),C=i(50038),D=i(36082),u=i(41913),S=i(45007),w=i(69060),L=i(35921),N=i(91223),O=i(66931),x=i(8964),T=i(5007),W=function(je,Te,Ie,oe){function ge(Ce){return Ce instanceof Ie?Ce:new Ie(function(me){me(Ce)})}return new(Ie||(Ie=Promise))(function(Ce,me){function Me(ut){try{ot(oe.next(ut))}catch(ht){me(ht)}}function qe(ut){try{ot(oe.throw(ut))}catch(ht){me(ht)}}function ot(ut){ut.done?Ce(ut.value):ge(ut.value).then(Me,qe)}ot((oe=oe.apply(je,Te||[])).next())})};class U{constructor(Te,Ie){this.range=Te,this.direction=Ie}}class K{constructor(Te,Ie,oe){this.hint=Te,this.anchor=Ie,this.provider=oe,this._isResolved=!1}with(Te){const Ie=new K(this.hint,Te.anchor,this.provider);return Ie._isResolved=this._isResolved,Ie._currentResolve=this._currentResolve,Ie}resolve(Te){return W(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,Te.isCancellationRequested?void 0:this.resolve(Te);this._isResolved||(this._currentResolve=this._doResolve(Te).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(Te){var Ie,oe;return W(this,void 0,void 0,function*(){try{const ge=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,Te));this.hint.tooltip=(Ie=ge==null?void 0:ge.tooltip)!==null&&Ie!==void 0?Ie:this.hint.tooltip,this.hint.label=(oe=ge==null?void 0:ge.label)!==null&&oe!==void 0?oe:this.hint.label,this._isResolved=!0}catch(ge){(0,M.Cp)(ge),this._isResolved=!1}})}}class G{static create(Te,Ie,oe,ge){return W(this,void 0,void 0,function*(){const Ce=[],me=Te.ordered(Ie).reverse().map(Me=>oe.map(qe=>W(this,void 0,void 0,function*(){try{const ot=yield Me.provideInlayHints(Ie,qe,ge);ot!=null&&ot.hints.length&&Ce.push([ot,Me])}catch(ot){(0,M.Cp)(ot)}})));if(yield Promise.all(me.flat()),ge.isCancellationRequested||Ie.isDisposed())throw new M.FU;return new G(oe,Ce,Ie)})}constructor(Te,Ie,oe){this._disposables=new E.SL,this.ranges=Te,this.provider=new Set;const ge=[];for(const[Ce,me]of Ie){this._disposables.add(Ce),this.provider.add(me);for(const Me of Ce.hints){const qe=oe.validatePosition(Me.position);let ot="before";const ut=G._getRangeAtPosition(oe,qe);let ht;ut.getStartPosition().isBefore(qe)?(ht=C.e.fromPositions(ut.getStartPosition(),qe),ot="after"):(ht=C.e.fromPositions(qe,ut.getEndPosition()),ot="before"),ge.push(new K(Me,new U(ht,ot),me))}}this.items=ge.sort((Ce,me)=>x.L.compare(Ce.hint.position,me.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(Te,Ie){const oe=Ie.lineNumber,ge=Te.getWordAtPosition(Ie);if(ge)return new C.e(oe,ge.startColumn,oe,ge.endColumn);Te.tokenization.tokenizeIfCheap(oe);const Ce=Te.tokenization.getLineTokens(oe),me=Ie.column-1,Me=Ce.findTokenIndexAtOffset(me);let qe=Ce.getStartOffset(Me),ot=Ce.getEndOffset(Me);return ot-qe===1&&(qe===me&&Me>1?(qe=Ce.getStartOffset(Me-1),ot=Ce.getEndOffset(Me-1)):ot===me&&Me<Ce.getCount()-1&&(qe=Ce.getStartOffset(Me+1),ot=Ce.getEndOffset(Me+1))),new C.e(oe,qe+1,oe,ot+1)}}function z(je){return l.o.from({scheme:T.lg.command,path:je.id,query:je.arguments&&encodeURIComponent(JSON.stringify(je.arguments))}).toString()}var k=i(52429),q=i(80793),te=i(53061),X=i(44333),j=i(97968),J=i(92537),Y=i(58566),ee=function(je,Te,Ie,oe){var ge=arguments.length,Ce=ge<3?Te:oe===null?oe=Object.getOwnPropertyDescriptor(Te,Ie):oe,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(je,Te,Ie,oe);else for(var Me=je.length-1;Me>=0;Me--)(me=je[Me])&&(Ce=(ge<3?me(Ce):ge>3?me(Te,Ie,Ce):me(Te,Ie))||Ce);return ge>3&&Ce&&Object.defineProperty(Te,Ie,Ce),Ce},fe=function(je,Te){return function(Ie,oe){Te(Ie,oe,je)}},De=function(je,Te,Ie,oe){function ge(Ce){return Ce instanceof Ie?Ce:new Ie(function(me){me(Ce)})}return new(Ie||(Ie=Promise))(function(Ce,me){function Me(ut){try{ot(oe.next(ut))}catch(ht){me(ht)}}function qe(ut){try{ot(oe.throw(ut))}catch(ht){me(ht)}}function ot(ut){ut.done?Ce(ut.value):ge(ut.value).then(Me,qe)}ot((oe=oe.apply(je,Te||[])).next())})};class Ne{constructor(){this._entries=new R.z6(50)}get(Te){const Ie=Ne._key(Te);return this._entries.get(Ie)}set(Te,Ie){const oe=Ne._key(Te);this._entries.set(oe,Ie)}static _key(Te){return`${Te.uri.toString()}/${Te.getVersionId()}`}}const be=(0,X.yh)("IInlayHintsCache");(0,te.z)(be,Ne,1);class xe{constructor(Te,Ie){this.item=Te,this.index=Ie}get part(){const Te=this.item.hint.label;return typeof Te=="string"?{label:Te}:Te[this.index]}}class Le{constructor(Te,Ie){this.part=Te,this.hasTriggerModifier=Ie}}let ue=class Wu{static get(Te){var Ie;return(Ie=Te.getContribution(Wu.ID))!==null&&Ie!==void 0?Ie:void 0}constructor(Te,Ie,oe,ge,Ce,me,Me){this._editor=Te,this._languageFeaturesService=Ie,this._inlayHintsCache=ge,this._commandService=Ce,this._notificationService=me,this._instaService=Me,this._disposables=new E.SL,this._sessionDisposables=new E.SL,this._decorationsMetadata=new Map,this._ruleFactory=new d.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=oe.for(Ie.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(Ie.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(Te.onDidChangeModel(()=>this._update())),this._disposables.add(Te.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Te.onDidChangeConfiguration(qe=>{qe.hasChanged(135)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const Te=this._editor.getOption(135);if(Te.enabled==="off")return;const Ie=this._editor.getModel();if(!Ie||!this._languageFeaturesService.inlayHintsProvider.has(Ie))return;const oe=this._inlayHintsCache.get(Ie);oe&&this._updateHintsDecorators([Ie.getFullModelRange()],oe),this._sessionDisposables.add((0,E.OF)(()=>{Ie.isDisposed()||this._cacheHintsForFastRestore(Ie)}));let ge;const Ce=new Set,me=new v.pY(()=>De(this,void 0,void 0,function*(){const Me=Date.now();ge==null||ge.dispose(!0),ge=new A.A;const qe=Ie.onWillDispose(()=>ge==null?void 0:ge.cancel());try{const ot=ge.token,ut=yield G.create(this._languageFeaturesService.inlayHintsProvider,Ie,this._getHintsRanges(),ot);if(me.delay=this._debounceInfo.update(Ie,Date.now()-Me),ot.isCancellationRequested){ut.dispose();return}for(const ht of ut.provider)typeof ht.onDidChangeInlayHints=="function"&&!Ce.has(ht)&&(Ce.add(ht),this._sessionDisposables.add(ht.onDidChangeInlayHints(()=>{me.isScheduled()||me.schedule()})));this._sessionDisposables.add(ut),this._updateHintsDecorators(ut.ranges,ut.items),this._cacheHintsForFastRestore(Ie)}catch(ot){(0,M.dL)(ot)}finally{ge.dispose(),qe.dispose()}}),this._debounceInfo.get(Ie));if(this._sessionDisposables.add(me),this._sessionDisposables.add((0,E.OF)(()=>ge==null?void 0:ge.dispose(!0))),me.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(Me=>{(Me.scrollTopChanged||!me.isScheduled())&&me.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(Me=>{const qe=Math.max(me.delay,1250);me.schedule(qe)})),Te.enabled==="on")this._activeRenderMode=0;else{let Me,qe;Te.enabled==="onUnlessPressed"?(Me=0,qe=1):(Me=1,qe=0),this._activeRenderMode=Me,this._sessionDisposables.add(f._q.getInstance().event(ot=>{if(!this._editor.hasModel())return;const ut=ot.altKey&&ot.ctrlKey&&!(ot.shiftKey||ot.metaKey)?qe:Me;if(ut!==this._activeRenderMode){this._activeRenderMode=ut;const ht=this._editor.getModel(),Ct=this._copyInlayHintsWithCurrentAnchor(ht);this._updateHintsDecorators([ht.getFullModelRange()],Ct),me.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>me.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const Te=new E.SL,Ie=Te.add(new O.yN(this._editor)),oe=new E.SL;return Te.add(oe),Te.add(Ie.onMouseMoveOrRelevantKeyDown(ge=>{const[Ce]=ge,me=this._getInlayHintLabelPart(Ce),Me=this._editor.getModel();if(!me||!Me){oe.clear();return}const qe=new A.A;oe.add((0,E.OF)(()=>qe.dispose(!0))),me.item.resolve(qe.token),this._activeInlayHintPart=me.part.command||me.part.location?new Le(me,Ce.hasTriggerModifier):void 0;const ot=Me.validatePosition(me.item.hint.position).lineNumber,ut=new C.e(ot,1,ot,Me.getLineMaxColumn(ot)),ht=this._getInlineHintsForRange(ut);this._updateHintsDecorators([ut],ht),oe.add((0,E.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([ut],ht)}))})),Te.add(Ie.onCancel(()=>oe.clear())),Te.add(Ie.onExecute(ge=>De(this,void 0,void 0,function*(){const Ce=this._getInlayHintLabelPart(ge);if(Ce){const me=Ce.part;me.location?this._instaService.invokeFunction(k.K,ge,this._editor,me.location):D.mY.is(me.command)&&(yield this._invokeCommand(me.command,Ce.item))}}))),Te}_getInlineHintsForRange(Te){const Ie=new Set;for(const oe of this._decorationsMetadata.values())Te.containsRange(oe.item.anchor.range)&&Ie.add(oe.item);return Array.from(Ie)}_installDblClickGesture(Te){return this._editor.onMouseUp(Ie=>De(this,void 0,void 0,function*(){if(Ie.event.detail!==2)return;const oe=this._getInlayHintLabelPart(Ie);if(oe&&(Ie.event.preventDefault(),yield oe.item.resolve(A.T.None),(0,_.Of)(oe.item.hint.textEdits))){const ge=oe.item.hint.textEdits.map(Ce=>a.h.replace(C.e.lift(Ce.range),Ce.text));this._editor.executeEdits("inlayHint.default",ge),Te()}}))}_installContextMenu(){return this._editor.onContextMenu(Te=>De(this,void 0,void 0,function*(){if(!(Te.event.target instanceof HTMLElement))return;const Ie=this._getInlayHintLabelPart(Te);Ie&&(yield this._instaService.invokeFunction(k.u,this._editor,Te.event.target,Ie))}))}_getInlayHintLabelPart(Te){var Ie;if(Te.target.type!==6)return;const oe=(Ie=Te.target.detail.injectedText)===null||Ie===void 0?void 0:Ie.options;if(oe instanceof S.HS&&(oe==null?void 0:oe.attachedData)instanceof xe)return oe.attachedData}_invokeCommand(Te,Ie){var oe;return De(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(Te.id,...(oe=Te.arguments)!==null&&oe!==void 0?oe:[])}catch(ge){this._notificationService.notify({severity:j.zb.Error,source:Ie.provider.displayName,message:ge})}})}_cacheHintsForFastRestore(Te){const Ie=this._copyInlayHintsWithCurrentAnchor(Te);this._inlayHintsCache.set(Te,Ie)}_copyInlayHintsWithCurrentAnchor(Te){const Ie=new Map;for(const[oe,ge]of this._decorationsMetadata){if(Ie.has(ge.item))continue;const Ce=Te.getDecorationRange(oe);if(Ce){const me=new U(Ce,ge.item.anchor.direction),Me=ge.item.with({anchor:me});Ie.set(ge.item,Me)}}return Array.from(Ie.values())}_getHintsRanges(){const Ie=this._editor.getModel(),oe=this._editor.getVisibleRangesPlusViewportAboveBelow(),ge=[];for(const Ce of oe.sort(C.e.compareRangesUsingStarts)){const me=Ie.validateRange(new C.e(Ce.startLineNumber-30,Ce.startColumn,Ce.endLineNumber+30,Ce.endColumn));ge.length===0||!C.e.areIntersectingOrTouching(ge[ge.length-1],me)?ge.push(me):ge[ge.length-1]=C.e.plusRange(ge[ge.length-1],me)}return ge}_updateHintsDecorators(Te,Ie){var oe,ge;const Ce=[],me=($t,Mt,Xe,Lt,Xt)=>{const zt={content:Xe,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Mt.className,cursorStops:Lt,attachedData:Xt};Ce.push({item:$t,classNameRef:Mt,decoration:{range:$t.anchor.range,options:{description:"InlayHint",showIfCollapsed:$t.anchor.range.isEmpty(),collapseOnReplaceEdit:!$t.anchor.range.isEmpty(),stickiness:0,[$t.anchor.direction]:this._activeRenderMode===0?zt:void 0}}})},Me=($t,Mt)=>{const Xe=this._ruleFactory.createClassNameRef({width:`${qe/3|0}px`,display:"inline-block"});me($t,Xe,"\u200A",Mt?u.RM.Right:u.RM.None)},{fontSize:qe,fontFamily:ot,padding:ut,isUniform:ht}=this._getLayoutInfo(),Ct="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Ct,ot);for(const $t of Ie){$t.hint.paddingLeft&&Me($t,!1);const Mt=typeof $t.hint.label=="string"?[{label:$t.hint.label}]:$t.hint.label;for(let Xe=0;Xe<Mt.length;Xe++){const Lt=Mt[Xe],Xt=Xe===0,zt=Xe===Mt.length-1,Fe={fontSize:`${qe}px`,fontFamily:`var(${Ct}), ${n.hL.fontFamily}`,verticalAlign:ht?"baseline":"middle"};(0,_.Of)($t.hint.textEdits)&&(Fe.cursor="default"),this._fillInColors(Fe,$t.hint),(Lt.command||Lt.location)&&((oe=this._activeInlayHintPart)===null||oe===void 0?void 0:oe.part.item)===$t&&this._activeInlayHintPart.part.index===Xe&&(Fe.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Fe.color=(0,Y.EN)(J._Yy),Fe.cursor="pointer")),ut&&(Xt&&zt?(Fe.padding=`1px ${Math.max(1,qe/4)|0}px`,Fe.borderRadius=`${qe/4|0}px`):Xt?(Fe.padding=`1px 0 1px ${Math.max(1,qe/4)|0}px`,Fe.borderRadius=`${qe/4|0}px 0 0 ${qe/4|0}px`):zt?(Fe.padding=`1px ${Math.max(1,qe/4)|0}px 1px 0`,Fe.borderRadius=`0 ${qe/4|0}px ${qe/4|0}px 0`):Fe.padding="1px 0 1px 0"),me($t,this._ruleFactory.createClassNameRef(Fe),re(Lt.label),zt&&!$t.hint.paddingRight?u.RM.Right:u.RM.None,new xe($t,Xe))}if($t.hint.paddingRight&&Me($t,!0),Ce.length>Wu._MAX_DECORATORS)break}const Pt=[];for(const $t of Te)for(const{id:Mt}of(ge=this._editor.getDecorationsInRange($t))!==null&&ge!==void 0?ge:[]){const Xe=this._decorationsMetadata.get(Mt);Xe&&(Pt.push(Mt),Xe.classNameRef.dispose(),this._decorationsMetadata.delete(Mt))}const bt=g.Z.capture(this._editor);this._editor.changeDecorations($t=>{const Mt=$t.deltaDecorations(Pt,Ce.map(Xe=>Xe.decoration));for(let Xe=0;Xe<Mt.length;Xe++){const Lt=Ce[Xe];this._decorationsMetadata.set(Mt[Xe],Lt)}}),bt.restore(this._editor)}_fillInColors(Te,Ie){Ie.kind===D.gl.Parameter?(Te.backgroundColor=(0,Y.EN)(J.phM),Te.color=(0,Y.EN)(J.HCL)):Ie.kind===D.gl.Type?(Te.backgroundColor=(0,Y.EN)(J.bKB),Te.color=(0,Y.EN)(J.hX8)):(Te.backgroundColor=(0,Y.EN)(J.PpC),Te.color=(0,Y.EN)(J.VVv))}_getLayoutInfo(){const Te=this._editor.getOption(135),Ie=Te.padding,oe=this._editor.getOption(50),ge=this._editor.getOption(47);let Ce=Te.fontSize;(!Ce||Ce<5||Ce>oe)&&(Ce=oe);const me=Te.fontFamily||ge;return{fontSize:Ce,fontFamily:me,padding:Ie,isUniform:!Ie&&me===ge&&Ce===oe}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const Te of this._decorationsMetadata.values())Te.classNameRef.dispose();this._decorationsMetadata.clear()}};ue.ID="editor.contrib.InlayHints",ue._MAX_DECORATORS=1500,ue=ee([fe(1,L.p),fe(2,w.A),fe(3,be),fe(4,q.H),fe(5,j.lT),fe(6,X.TG)],ue);function re(je){const Te="\xA0";return je.replace(/[ \t]/g,Te)}q.P.registerCommand("_executeInlayHintProvider",(je,...Te)=>De(void 0,void 0,void 0,function*(){const[Ie,oe]=Te;(0,p.p_)(l.o.isUri(Ie)),(0,p.p_)(C.e.isIRange(oe));const{inlayHintsProvider:ge}=je.get(L.p),Ce=yield je.get(N.S).createModelReference(Ie);try{const me=yield G.create(ge,Ce.object.textEditorModel,[C.e.lift(oe)],A.T.None),Me=me.items.map(qe=>qe.hint);return setTimeout(()=>me.dispose(),0),Me}finally{Ce.dispose()}}));var _e=i(69008),Ue=i(47626),Qe=i(23098),Re=i(22214),ie=i(71177),Z=i(48786),se=i(26386),ve=i(11138),he=function(je,Te,Ie,oe){var ge=arguments.length,Ce=ge<3?Te:oe===null?oe=Object.getOwnPropertyDescriptor(Te,Ie):oe,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(je,Te,Ie,oe);else for(var Me=je.length-1;Me>=0;Me--)(me=je[Me])&&(Ce=(ge<3?me(Ce):ge>3?me(Te,Ie,Ce):me(Te,Ie))||Ce);return ge>3&&Ce&&Object.defineProperty(Te,Ie,Ce),Ce},ce=function(je,Te){return function(Ie,oe){Te(Ie,oe,je)}},Ee=function(je,Te,Ie,oe){function ge(Ce){return Ce instanceof Ie?Ce:new Ie(function(me){me(Ce)})}return new(Ie||(Ie=Promise))(function(Ce,me){function Me(ut){try{ot(oe.next(ut))}catch(ht){me(ht)}}function qe(ut){try{ot(oe.throw(ut))}catch(ht){me(ht)}}function ot(ut){ut.done?Ce(ut.value):ge(ut.value).then(Me,qe)}ot((oe=oe.apply(je,Te||[])).next())})},We=function(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te=je[Symbol.asyncIterator],Ie;return Te?Te.call(je):(je=typeof __values=="function"?__values(je):je[Symbol.iterator](),Ie={},oe("next"),oe("throw"),oe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function oe(Ce){Ie[Ce]=je[Ce]&&function(me){return new Promise(function(Me,qe){me=je[Ce](me),ge(Me,qe,me.done,me.value)})}}function ge(Ce,me,Me,qe){Promise.resolve(qe).then(function(ot){Ce({value:ot,done:Me})},me)}};class it extends B.YM{constructor(Te,Ie,oe,ge){super(10,Ie,Te.item.anchor.range,oe,ge,!0),this.part=Te}}let Ze=class extends Re.D5{constructor(Te,Ie,oe,ge,Ce,me){super(Te,Ie,oe,ge,me),this._resolverService=Ce,this.hoverOrdinal=6}suggestHoverAnchor(Te){var Ie;if(!ue.get(this._editor)||Te.target.type!==6)return null;const ge=(Ie=Te.target.detail.injectedText)===null||Ie===void 0?void 0:Ie.options;return ge instanceof S.HS&&ge.attachedData instanceof xe?new it(ge.attachedData,this,Te.event.posx,Te.event.posy):null}computeSync(){return[]}computeAsync(Te,Ie,oe){return Te instanceof it?new v.Aq(ge=>Ee(this,void 0,void 0,function*(){var Ce,me,Me,qe;const{part:ot}=Te;if(yield ot.item.resolve(oe),oe.isCancellationRequested)return;let ut;typeof ot.item.hint.tooltip=="string"?ut=new _e.W5().appendText(ot.item.hint.tooltip):ot.item.hint.tooltip&&(ut=ot.item.hint.tooltip),ut&&ge.emitOne(new Re.hU(this,Te.range,[ut],!1,0)),(0,_.Of)(ot.item.hint.textEdits)&&ge.emitOne(new Re.hU(this,Te.range,[new _e.W5().appendText((0,se.NC)("hint.dbl","Double-click to insert"))],!1,10001));let ht;if(typeof ot.part.tooltip=="string"?ht=new _e.W5().appendText(ot.part.tooltip):ot.part.tooltip&&(ht=ot.part.tooltip),ht&&ge.emitOne(new Re.hU(this,Te.range,[ht],!1,1)),ot.part.location||ot.part.command){let Mt;const Lt=this._editor.getOption(75)==="altKey"?ve.dz?(0,se.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,se.NC)("links.navigate.kb.meta","ctrl + click"):ve.dz?(0,se.NC)("links.navigate.kb.alt.mac","option + click"):(0,se.NC)("links.navigate.kb.alt","alt + click");ot.part.location&&ot.part.command?Mt=new _e.W5().appendText((0,se.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",Lt)):ot.part.location?Mt=new _e.W5().appendText((0,se.NC)("hint.def","Go to Definition ({0})",Lt)):ot.part.command&&(Mt=new _e.W5(`[${(0,se.NC)("hint.cmd","Execute Command")}](${z(ot.part.command)} "${ot.part.command.title}") (${Lt})`,{isTrusted:!0})),Mt&&ge.emitOne(new Re.hU(this,Te.range,[Mt],!1,1e4))}const Ct=yield this._resolveInlayHintLabelPartHover(ot,oe);try{for(var Pt=!0,bt=We(Ct),$t;$t=yield bt.next(),Ce=$t.done,!Ce;){qe=$t.value,Pt=!1;try{const Mt=qe;ge.emitOne(Mt)}finally{Pt=!0}}}catch(Mt){me={error:Mt}}finally{try{!Pt&&!Ce&&(Me=bt.return)&&(yield Me.call(bt))}finally{if(me)throw me.error}}})):v.Aq.EMPTY}_resolveInlayHintLabelPartHover(Te,Ie){return Ee(this,void 0,void 0,function*(){if(!Te.part.location)return v.Aq.EMPTY;const{uri:oe,range:ge}=Te.part.location,Ce=yield this._resolverService.createModelReference(oe);try{const me=Ce.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(me)?(0,Qe.R8)(this._languageFeaturesService.hoverProvider,me,new x.L(ge.startLineNumber,ge.startColumn),Ie).filter(Me=>!(0,_e.CP)(Me.hover.contents)).map(Me=>new Re.hU(this,Te.item.anchor.range,Me.hover.contents,!1,2+Me.ordinal)):v.Aq.EMPTY}finally{Ce.dispose()}})}};Ze=he([ce(1,Ue.O),ce(2,Z.v4),ce(3,ie.Ui),ce(4,N.S),ce(5,L.p)],Ze),(0,m._K)(ue.ID,ue,1),B.Ae.register(Ze)},52429:function(Ot,He,i){"use strict";i.d(He,{K:function(){return D},u:function(){return C}});var m=i(34441),B=i(98299),f=i(97464),_=i(38577),v=i(50038),A=i(91223),M=i(55843),E=i(10479),R=i(21208),p=i(80793),l=i(76826),d=i(36953),g=i(44333),n=i(97968),a=function(u,S,w,L){function N(O){return O instanceof w?O:new w(function(x){x(O)})}return new(w||(w=Promise))(function(O,x){function T(K){try{U(L.next(K))}catch(G){x(G)}}function W(K){try{U(L.throw(K))}catch(G){x(G)}}function U(K){K.done?O(K.value):N(K.value).then(T,W)}U((L=L.apply(u,S||[])).next())})};function C(u,S,w,L){var N;return a(this,void 0,void 0,function*(){const O=u.get(A.S),x=u.get(d.i),T=u.get(p.H),W=u.get(g.TG),U=u.get(n.lT);if(yield L.item.resolve(f.T.None),!L.part.location)return;const K=L.part.location,G=[],z=new Set(R.BH.getMenuItems(R.eH.EditorContext).map(q=>(0,R.vr)(q)?q.command.id:(0,_.R)()));for(const q of M.SymbolNavigationAction.all())z.has(q.desc.id)&&G.push(new B.aU(q.desc.id,R.U8.label(q.desc,{renderShortTitle:!0}),void 0,!0,()=>a(this,void 0,void 0,function*(){const te=yield O.createModelReference(K.uri);try{const X=new M.SymbolNavigationAnchor(te.object.textEditorModel,v.e.getStartPosition(K.range)),j=L.item.anchor.range;yield W.invokeFunction(q.runEditorCommand.bind(q),S,X,j)}finally{te.dispose()}})));if(L.part.command){const{command:q}=L.part;G.push(new B.Z0),G.push(new B.aU(q.id,q.title,void 0,!0,()=>a(this,void 0,void 0,function*(){var te;try{yield T.executeCommand(q.id,...(te=q.arguments)!==null&&te!==void 0?te:[])}catch(X){U.notify({severity:n.zb.Error,source:L.item.provider.displayName,message:X})}})))}const k=S.getOption(122);x.showContextMenu({domForShadowRoot:k&&(N=S.getDomNode())!==null&&N!==void 0?N:void 0,getAnchor:()=>{const q=m.i(w);return{x:q.left,y:q.top+q.height+8}},getActions:()=>G,onHide:()=>{S.focus()},autoSelectFirstItem:!0})})}function D(u,S,w,L){return a(this,void 0,void 0,function*(){const O=yield u.get(A.S).createModelReference(L.uri);yield w.invokeWithinContext(x=>a(this,void 0,void 0,function*(){const T=S.hasSideBySideModifier,W=x.get(l.i6),U=E.Jy.inPeekEditor.getValue(W),K=!T&&w.getOption(84)&&!U;return new M.DefinitionAction({openToSide:T,openInPeek:K,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(x,new M.SymbolNavigationAnchor(O.object.textEditorModel,v.e.getStartPosition(L.range)),v.e.lift(L.range))})),O.dispose()})}},56462:function(Ot,He,i){"use strict";i.d(He,{Np:function(){return B},OW:function(){return f},Ou:function(){return m}});const m="editor.action.inlineSuggest.commit",B="editor.action.inlineSuggest.showPrevious",f="editor.action.inlineSuggest.showNext"},90266:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(72223),f=i(56709),_=i(38431),v=i(17416),A=i(61669),M=i(21081),E=i(56462),R=i(8964),p=i(36082),l=i(14527),d=i(13484),g=i(97464),n=i(20996),a=i(4538),C=i(68076),D=i(19083),u=i(50038),S=i(64603),w=i(47978),L=i(24944),N=i(77597),O=i(39623),x=i(7264);function T(Ge,ye){const ze=new O.FE,lt=new w.Z(ze,yi=>ye.getLanguageConfiguration(yi)),Rt=new x.xH(new W([Ge]),lt),Bt=(0,N.w)(Rt,[],void 0,!0);let At="";const ii=Ge.getLineContent();function vi(yi,hi){if(yi.kind===2)if(vi(yi.openingBracket,hi),hi=(0,L.Ii)(hi,yi.openingBracket.length),yi.child&&(vi(yi.child,hi),hi=(0,L.Ii)(hi,yi.child.length)),yi.closingBracket)vi(yi.closingBracket,hi),hi=(0,L.Ii)(hi,yi.closingBracket.length);else{const Oi=lt.getSingleLanguageBracketTokens(yi.openingBracket.languageId).findClosingTokenText(yi.openingBracket.bracketIds);At+=Oi}else if(yi.kind!==3){if(yi.kind===0||yi.kind===1)At+=ii.substring((0,L.F_)(hi),(0,L.F_)((0,L.Ii)(hi,yi.length)));else if(yi.kind===4)for(const Si of yi.children)vi(Si,hi),hi=(0,L.Ii)(hi,Si.length)}}return vi(Bt,L.xl),At}class W{constructor(ye){this.lines=ye,this.tokenization={getLineTokens:ze=>this.lines[ze-1]}}getLineCount(){return this.lines.length}getLineLength(ye){return this.lines[ye-1].getLineContent().length}}var U=i(69060),K=i(35921);function G(Ge,ye){return{object:Ge,dispose:()=>ye==null?void 0:ye.dispose()}}function z(Ge,ye){const ze=new k(Ge),lt=ye.map(Rt=>{const Bt=u.e.lift(Rt.range);return{startOffset:ze.getOffset(Bt.getStartPosition()),endOffset:ze.getOffset(Bt.getEndPosition()),text:Rt.text}});lt.sort((Rt,Bt)=>Bt.startOffset-Rt.startOffset);for(const Rt of lt)Ge=Ge.substring(0,Rt.startOffset)+Rt.text+Ge.substring(Rt.endOffset);return Ge}class k{constructor(ye){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let ze=0;ze<ye.length;ze++)ye.charAt(ze)===`
`&&this.lineStartOffsetByLineIdx.push(ze+1)}getOffset(ye){return this.lineStartOffsetByLineIdx[ye.lineNumber-1]+ye.column-1}}const q=[];function te(){return q}class X{constructor(ye,ze,lt=0){this.lineNumber=ye,this.parts=ze,this.additionalReservedLineCount=lt}renderForScreenReader(ye){if(this.parts.length===0)return"";const ze=this.parts[this.parts.length-1],lt=ye.substr(0,ze.column-1);return z(lt,this.parts.map(Bt=>({range:{startLineNumber:1,endLineNumber:1,startColumn:Bt.column,endColumn:Bt.column},text:Bt.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(ye=>ye.lines.length===0)}}class j{constructor(ye,ze,lt){this.column=ye,this.lines=ze,this.preview=lt}}class J{constructor(ye,ze,lt,Rt,Bt=0){this.lineNumber=ye,this.columnStart=ze,this.length=lt,this.newLines=Rt,this.additionalReservedLineCount=Bt,this.parts=[new j(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(ye){return this.newLines.join(`
`)}}class Y extends _.JT{constructor(ye){super(),this.editor=ye,this._expanded=void 0,this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(ye.onDidChangeConfiguration(ze=>{ze.hasChanged(113)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(ye){this._expanded=!0,this.onDidChangeEmitter.fire()}}var ee=i(49927);function fe(Ge,ye){if(!ye)return ye;const ze=Ge.getValueInRange(ye.range),lt=v.Mh(ze,ye.insertText),Rt=Ge.getOffsetAt(ye.range.getStartPosition())+lt,Bt=Ge.getPositionAt(Rt),At=ze.substr(lt),ii=v.P1(At,ye.insertText),vi=Ge.getPositionAt(Math.max(Rt,Ge.getOffsetAt(ye.range.getEndPosition())-ii));return{range:u.e.fromPositions(Bt,vi),insertText:ye.insertText.substr(lt,ye.insertText.length-lt-ii),snippetInfo:ye.snippetInfo,filterText:ye.filterText,additionalTextEdits:ye.additionalTextEdits}}function De(Ge,ye){return Ge===ye?!0:!Ge||!ye?!1:Ge.range.equalsRange(ye.range)&&Ge.insertText===ye.insertText&&Ge.command===ye.command}function Ne(Ge,ye,ze,lt,Rt=0){if(Ge.range.startLineNumber!==Ge.range.endLineNumber)return;const Bt=ye.getLineContent(Ge.range.startLineNumber),At=v.V8(Bt).length;if(Ge.range.startColumn-1<=At){const Ai=v.V8(Ge.insertText).length,Zi=Bt.substring(Ge.range.startColumn-1,At),pn=u.e.fromPositions(Ge.range.getStartPosition().delta(0,Zi.length),Ge.range.getEndPosition()),Pn=Ge.insertText.startsWith(Zi)?Ge.insertText.substring(Zi.length):Ge.insertText.substring(Ai);Ge={range:pn,insertText:Pn,command:Ge.command,snippetInfo:void 0,filterText:Ge.filterText,additionalTextEdits:Ge.additionalTextEdits}}const vi=ye.getValueInRange(Ge.range),yi=xe(vi,Ge.insertText);if(!yi)return;const hi=Ge.range.startLineNumber,Si=new Array;if(ze==="prefix"){const Ai=yi.filter(Zi=>Zi.originalLength===0);if(Ai.length>1||Ai.length===1&&Ai[0].originalStart!==vi.length)return}const Oi=Ge.insertText.length-Rt;for(const Ai of yi){const Zi=Ge.range.startColumn+Ai.originalStart+Ai.originalLength;if(ze==="subwordSmart"&&lt&&lt.lineNumber===Ge.range.startLineNumber&&Zi<lt.column||Ai.originalLength>0)return;if(Ai.modifiedLength===0)continue;const pn=Ai.modifiedStart+Ai.modifiedLength,Pn=Math.max(Ai.modifiedStart,Math.min(pn,Oi)),cs=Ge.insertText.substring(Ai.modifiedStart,Pn),ds=Ge.insertText.substring(Pn,Math.max(Ai.modifiedStart,pn));if(cs.length>0){const Es=v.uq(cs);Si.push(new j(Zi,Es,!1))}if(ds.length>0){const Es=v.uq(ds);Si.push(new j(Zi,Es,!0))}}return new X(hi,Si,0)}let be;function xe(Ge,ye){if((be==null?void 0:be.originalValue)===Ge&&(be==null?void 0:be.newValue)===ye)return be==null?void 0:be.changes;{let ze=ue(Ge,ye,!0);if(ze){const lt=Le(ze);if(lt>0){const Rt=ue(Ge,ye,!1);Rt&&Le(Rt)<lt&&(ze=Rt)}}return be={originalValue:Ge,newValue:ye,changes:ze},ze}}function Le(Ge){let ye=0;for(const ze of Ge)ye+=ze.originalLength;return ye}function ue(Ge,ye,ze){if(Ge.length>5e3||ye.length>5e3)return;function lt(yi){let hi=0;for(let Si=0,Oi=yi.length;Si<Oi;Si++){const Ai=yi.charCodeAt(Si);Ai>hi&&(hi=Ai)}return hi}const Rt=Math.max(lt(Ge),lt(ye));function Bt(yi){if(yi<0)throw new Error("unexpected");return Rt+yi+1}function At(yi){let hi=0,Si=0;const Oi=new Int32Array(yi.length);for(let Ai=0,Zi=yi.length;Ai<Zi;Ai++)if(ze&&yi[Ai]==="("){const pn=Si*100+hi;Oi[Ai]=Bt(2*pn),hi++}else if(ze&&yi[Ai]===")"){hi=Math.max(hi-1,0);const pn=Si*100+hi;Oi[Ai]=Bt(2*pn+1),hi===0&&Si++}else Oi[Ai]=yi.charCodeAt(Ai);return Oi}const ii=At(Ge),vi=At(ye);return new ee.Hs({getElements:()=>ii},{getElements:()=>vi}).ComputeDiff(!1).changes}var re=i(92386),_e=i(31046),Ue=i(35366),Qe=i(80793),Re=i(71177),ie=function(Ge,ye,ze,lt){var Rt=arguments.length,Bt=Rt<3?ye:lt===null?lt=Object.getOwnPropertyDescriptor(ye,ze):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(Ge,ye,ze,lt);else for(var ii=Ge.length-1;ii>=0;ii--)(At=Ge[ii])&&(Bt=(Rt<3?At(Bt):Rt>3?At(ye,ze,Bt):At(ye,ze))||Bt);return Rt>3&&Bt&&Object.defineProperty(ye,ze,Bt),Bt},Z=function(Ge,ye){return function(ze,lt){ye(ze,lt,Ge)}},se=function(Ge,ye,ze,lt){function Rt(Bt){return Bt instanceof ze?Bt:new ze(function(At){At(Bt)})}return new(ze||(ze=Promise))(function(Bt,At){function ii(hi){try{yi(lt.next(hi))}catch(Si){At(Si)}}function vi(hi){try{yi(lt.throw(hi))}catch(Si){At(Si)}}function yi(hi){hi.done?Bt(hi.value):Rt(hi.value).then(ii,vi)}yi((lt=lt.apply(Ge,ye||[])).next())})};let ve=class extends _.JT{constructor(ye,ze,lt,Rt,Bt,At,ii){super(),this.editor=ye,this.cache=ze,this.commandService=lt,this.languageConfigurationService=Rt,this.languageFeaturesService=Bt,this.debounceService=At,this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new _.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(lt.onDidExecuteCommand(vi=>{new Set([C.CoreEditingCommands.Tab.id,C.CoreEditingCommands.DeleteLeft.id,C.CoreEditingCommands.DeleteRight.id,E.Ou,"acceptSelectedSuggestion"]).has(vi.commandId)&&ye.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(vi=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(vi=>{(vi.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,_.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{ii.getValue("editor.inlineSuggest.hideOnBlur")||re.Q.dropDownVisible||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var ye;return(ye=this.session)===null||ye===void 0?void 0:ye.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(ye){var ze;(ze=this.session)===null||ze===void 0||ze.setExpanded(ye)}setActive(ye){var ze;this.active=ye,ye&&((ze=this.session)===null||ze===void 0||ze.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(60).enabled&&(this.session&&this.session.isValid||this.trigger(p.bw.Automatic))}trigger(ye){if(this.completionSession.value){ye===p.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new he(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,ye,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.value&&(this.completionSession.clear(),this.onDidChangeEmitter.fire())}commitCurrentSuggestion(){var ye;(ye=this.session)===null||ye===void 0||ye.commitCurrentCompletion()}commitCurrentSuggestionPartially(){var ye;(ye=this.session)===null||ye===void 0||ye.commitCurrentCompletionNextWord()}showNext(){var ye;(ye=this.session)===null||ye===void 0||ye.showNextInlineCompletion()}showPrevious(){var ye;(ye=this.session)===null||ye===void 0||ye.showPreviousInlineCompletion()}};ve=ie([Z(2,Qe.H),Z(3,S.c_),Z(4,K.p),Z(5,U.A),Z(6,Re.Ui)],ve);class he extends Y{constructor(ye,ze,lt,Rt,Bt,At,ii,vi,yi){super(ye),this.triggerPosition=ze,this.shouldUpdate=lt,this.commandService=Rt,this.cache=Bt,this.initialTriggerKind=At,this.languageConfigurationService=ii,this.registry=vi,this.debounce=yi,this.minReservedLineCount=0,this.updateOperation=this._register(new _.XK),this.updateSoon=this._register(new d.pY(()=>{const Si=this.initialTriggerKind;return this.initialTriggerKind=p.bw.Automatic,this.update(Si)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let hi;this._register(this.onDidChange(()=>{var Si;const Oi=this.currentCompletion;if(Oi&&Oi.sourceInlineCompletion!==hi){hi=Oi.sourceInlineCompletion;const Ai=Oi.sourceProvider;(Si=Ai.handleItemDidShow)===null||Si===void 0||Si.call(Ai,Oi.sourceInlineCompletions,hi)}})),this._register((0,_.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(Si=>{var Oi;Si.reason!==3&&((Oi=this.cache.value)===null||Oi===void 0||Oi.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(Si=>{var Oi;(Oi=this.cache.value)===null||Oi===void 0||Oi.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const ye=this.editor.getModel(),ze=ye.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(lt=>{const Rt=ye.getValueInRange(lt.synchronizedRange).toLowerCase(),Bt=lt.inlineCompletion.filterText.toLowerCase(),At=ye.getLineIndentColumn(lt.synchronizedRange.startLineNumber),ii=Math.max(0,ze.column-lt.synchronizedRange.startColumn);let vi=Bt.substring(0,ii),yi=Bt.substring(ii),hi=Rt.substring(0,ii),Si=Rt.substring(ii);return lt.synchronizedRange.startColumn<=At&&(hi=hi.trimStart(),hi.length===0&&(Si=Si.trimStart()),vi=vi.trimStart(),vi.length===0&&(yi=yi.trimStart())),vi.startsWith(hi)&&(0,a.Sy)(Si,yi)})}get currentlySelectedIndex(){return this.fixAndGetIndexOfCurrentSelection()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const ye=this.filteredCompletions.findIndex(ze=>ze.semanticId===this.currentlySelectedCompletionId);return ye===-1?(this.currentlySelectedCompletionId=void 0,0):ye}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return se(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const ye=this.filteredCompletions||[];if(ye.length>0){const ze=(this.fixAndGetIndexOfCurrentSelection()+1)%ye.length;this.currentlySelectedCompletionId=ye[ze].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return se(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const ye=this.filteredCompletions||[];if(ye.length>0){const ze=(this.fixAndGetIndexOfCurrentSelection()+ye.length-1)%ye.length;this.currentlySelectedCompletionId=ye[ze].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}get hasBeenTriggeredExplicitly(){var ye;return((ye=this.cache.value)===null||ye===void 0?void 0:ye.triggerKind)===p.bw.Explicit}ensureUpdateWithExplicitContext(){var ye;return se(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===p.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(p.bw.Explicit):((ye=this.cache.value)===null||ye===void 0?void 0:ye.triggerKind)!==p.bw.Explicit&&(yield this.update(p.bw.Explicit))})}getInlineCompletionsCountSync(){return this.filteredCompletions.length||0}get ghostText(){const ye=this.currentCompletion;if(!ye)return;const ze=this.editor.getPosition();if(ye.range.getEndPosition().isBefore(ze))return;const lt=this.editor.getOptions().get(60).mode,Rt=Ne(ye,this.editor.getModel(),lt,ze);return Rt?Rt.isEmpty()?void 0:Rt:new J(ye.range.startLineNumber,ye.range.startColumn,ye.range.endColumn-ye.range.startColumn,ye.insertText.split(`
`),0)}get currentCompletion(){const ye=this.currentCachedCompletion;if(ye)return ye.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(ye){return se(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const ze=this.editor.getPosition(),lt=new Date,Rt=(0,d.PG)(At=>se(this,void 0,void 0,function*(){let ii;try{ii=yield it(this.registry,ze,this.editor.getModel(),{triggerKind:ye,selectedSuggestionInfo:void 0},At,this.languageConfigurationService);const vi=new Date;this.editor.hasModel()&&this.debounce.update(this.editor.getModel(),vi.getTime()-lt.getTime())}catch(vi){(0,n.dL)(vi);return}At.isCancellationRequested||(this.cache.setValue(this.editor,ii,ye),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),Bt=new ce(Rt,ye);this.updateOperation.value=Bt,yield Rt,this.updateOperation.value===Bt&&this.updateOperation.clear()})}takeOwnership(ye){this._register(ye)}commitCurrentCompletionNextWord(){const ye=this.ghostText;if(!ye)return;const ze=this.currentCompletion;if(!ze)return;if(ze.snippetInfo||ze.filterText!==ze.insertText){this.commit(ze);return}if(ye.parts.length===0)return;const lt=ye.parts[0],Rt=new R.L(ye.lineNumber,lt.column),Bt=lt.lines[0],At=this.editor.getModel().getLanguageIdAtPosition(ye.lineNumber,1),ii=this.languageConfigurationService.getLanguageConfiguration(At),vi=new RegExp(ii.wordDefinition.source,ii.wordDefinition.flags.replace("g","")),yi=Bt.match(vi);let hi=0;yi&&yi.index!==void 0?yi.index===0?hi=yi[0].length:hi=yi.index:hi=Bt.length;const Si=/\s/g;let Oi=Si.exec(Bt);Oi&&Oi.index===0&&(Oi=Si.exec(Bt)),Oi&&Oi.index!==void 0&&Oi.index<hi&&(hi=Oi.index);const Ai=Bt.substring(0,hi);if(this.editor.pushUndoStop(),this.editor.executeEdits("inlineSuggestion.accept",[D.h.replace(u.e.fromPositions(Rt),Ai)]),this.editor.setPosition(Rt.delta(0,Ai.length)),ze.sourceProvider.handlePartialAccept){const Zi=u.e.fromPositions(ze.range.getStartPosition(),Rt.delta(0,hi)),pn=this.editor.getModel().getValueInRange(Zi);ze.sourceProvider.handlePartialAccept(ze.sourceInlineCompletions,ze.sourceInlineCompletion,pn.length)}}commitCurrentCompletion(){if(!this.ghostText)return;const ze=this.currentCompletion;ze&&this.commit(ze)}commit(ye){var ze;const lt=this.cache.clearAndLeak();this.editor.pushUndoStop(),ye.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[D.h.replaceMove(ye.range,""),...ye.additionalTextEdits]),this.editor.setPosition(ye.snippetInfo.range.getStartPosition()),(ze=_e.SnippetController2.get(this.editor))===null||ze===void 0||ze.insert(ye.snippetInfo.snippet,{undoStopBefore:!1})):this.editor.executeEdits("inlineSuggestion.accept",[D.h.replaceMove(ye.range,ye.insertText),...ye.additionalTextEdits]),ye.command?this.commandService.executeCommand(ye.command.id,...ye.command.arguments||[]).finally(()=>{lt==null||lt.dispose()}).then(void 0,n.Cp):lt==null||lt.dispose(),this.onDidChangeEmitter.fire()}get commands(){var ye;return[...new Set(((ye=this.cache.value)===null||ye===void 0?void 0:ye.completions.map(lt=>lt.inlineCompletion.sourceInlineCompletions))||[])].flatMap(lt=>lt.commands||[])}}class ce{constructor(ye,ze){this.promise=ye,this.triggerKind=ze}dispose(){this.promise.cancel()}}class Ee extends _.JT{constructor(ye,ze,lt,Rt){super(),this.editor=ze,this.onChange=lt,this.triggerKind=Rt,this.isDisposing=!1;const Bt=ze.changeDecorations(At=>At.deltaDecorations([],ye.items.map(ii=>({range:ii.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,_.OF)(()=>{this.isDisposing=!0,ze.removeDecorations(Bt)})),this.completions=ye.items.map((At,ii)=>new We(At,Bt[ii])),this._register(ze.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(ye)}updateRanges(){if(this.isDisposing)return;let ye=!1;const ze=this.editor.getModel();for(const lt of this.completions){const Rt=ze.getDecorationRange(lt.decorationId);Rt&&(lt.synchronizedRange.equalsRange(Rt)||(ye=!0,lt.synchronizedRange=Rt))}ye&&this.onChange()}}class We{constructor(ye,ze){this.inlineCompletion=ye,this.decorationId=ze,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=ye.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function it(Ge,ye,ze,lt,Rt=g.T.None,Bt){return se(this,void 0,void 0,function*(){const At=Ze(ye,ze),ii=Ge.all(ze),vi=yield Promise.all(ii.map(hi=>se(this,void 0,void 0,function*(){const Si=yield Promise.resolve(hi.provideInlineCompletions(ze,ye,lt,Rt)).catch(n.Cp);return{completions:Si,provider:hi,dispose:()=>{Si&&hi.freeInlineCompletions(Si)}}}))),yi=new Map;for(const hi of vi){const Si=hi.completions;if(Si)for(const Oi of Si.items){let Ai=Oi.range?u.e.lift(Oi.range):At;if(Ai.startLineNumber!==Ai.endLineNumber)continue;let Zi,pn;if(typeof Oi.insertText=="string"){if(Zi=Oi.insertText,Bt&&Oi.completeBracketPairs){Zi=je(Zi,Ai.getStartPosition(),ze,Bt);const cs=Zi.length-Oi.insertText.length;cs!==0&&(Ai=new u.e(Ai.startLineNumber,Ai.startColumn,Ai.endLineNumber,Ai.endColumn+cs))}pn=void 0}else if("snippet"in Oi.insertText){const cs=Oi.insertText.snippet.length;if(Bt&&Oi.completeBracketPairs){Oi.insertText.snippet=je(Oi.insertText.snippet,Ai.getStartPosition(),ze,Bt);const Es=Oi.insertText.snippet.length-cs;Es!==0&&(Ai=new u.e(Ai.startLineNumber,Ai.startColumn,Ai.endLineNumber,Ai.endColumn+Es))}const ds=new Ue.Yj().parse(Oi.insertText.snippet);ds.children.length===1&&ds.children[0]instanceof Ue.xv?(Zi=ds.children[0].value,pn=void 0):(Zi=ds.toString(),pn={snippet:Oi.insertText.snippet,range:Ai})}else(0,l.vE)(Oi.insertText);const Pn={insertText:Zi,snippetInfo:pn,range:Ai,command:Oi.command,sourceProvider:hi.provider,sourceInlineCompletions:Si,sourceInlineCompletion:Oi,filterText:Oi.filterText||Zi,additionalTextEdits:Oi.additionalTextEdits||te()};yi.set(JSON.stringify({insertText:Zi,range:Oi.range}),Pn)}}return{items:[...yi.values()],dispose:()=>{for(const hi of vi)hi.dispose()}}})}function Ze(Ge,ye){const ze=ye.getWordAtPosition(Ge),lt=ye.getLineMaxColumn(Ge.lineNumber);return ze?new u.e(Ge.lineNumber,ze.startColumn,Ge.lineNumber,lt):u.e.fromPositions(Ge,Ge.with(void 0,lt))}function je(Ge,ye,ze,lt){const Bt=ze.getLineContent(ye.lineNumber).substring(0,ye.column-1)+Ge,At=ze.tokenization.tokenizeLineWithEdit(ye,Bt.length-(ye.column-1),Ge),ii=At==null?void 0:At.sliceAndInflate(ye.column-1,Bt.length,0);return ii?T(ii,lt):Ge}var Te=i(16308),Ie=i(51116),oe=i(22270);class ge extends _.JT{get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}constructor(ye,ze){super(),this.editor=ye,this.suggestControllerPreselector=ze,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(ye.onKeyDown(Rt=>{Rt.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(ye.onKeyUp(Rt=>{Rt.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const lt=oe.SuggestController.get(this.editor);if(lt){this._register(lt.registerSelector({priority:100,select:(At,ii,vi)=>{const yi=this.editor.getModel(),hi=fe(yi,this.suggestControllerPreselector());if(!hi)return-1;const Si=R.L.lift(ii),Oi=vi.map((Zi,pn)=>{const Pn=Me(lt,Si,Zi,this.isShiftKeyPressed),cs=fe(yi,Pn==null?void 0:Pn.normalizedInlineCompletion);if(!cs)return;const ds=Ce(hi.range,cs.range)&&hi.insertText.startsWith(cs.insertText);return{index:pn,valid:ds,prefixLength:cs.insertText.length,suggestItem:Zi}}).filter(Zi=>Zi&&Zi.valid),Ai=(0,Te.Dc)(Oi,(0,Te.tT)(Zi=>Zi.prefixLength,Te.fv));return Ai?Ai.index:-1}}));let Rt=!1;const Bt=()=>{Rt||(Rt=!0,this._register(lt.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(lt.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(lt.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(f.ju.once(lt.model.onDidTrigger)(At=>{Bt()}))}this.update(this._isActive)}update(ye){const ze=this.getSuggestItemInfo();let lt=!1;me(this._currentSuggestItemInfo,ze)||(this._currentSuggestItemInfo=ze,lt=!0),this._isActive!==ye&&(this._isActive=ye,lt=!0),lt&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const ye=oe.SuggestController.get(this.editor);if(!ye||!this.isSuggestWidgetVisible)return;const ze=ye.widget.value.getFocusedItem();if(ze)return Me(ye,this.editor.getPosition(),ze.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const ye=oe.SuggestController.get(this.editor);ye==null||ye.stopForceRenderingAbove()}forceRenderingAbove(){const ye=oe.SuggestController.get(this.editor);ye==null||ye.forceRenderingAbove()}}function Ce(Ge,ye){return ye.startLineNumber===Ge.startLineNumber&&ye.startColumn===Ge.startColumn&&(ye.endLineNumber<Ge.endLineNumber||ye.endLineNumber===Ge.endLineNumber&&ye.endColumn<=Ge.endColumn)}function me(Ge,ye){return Ge===ye?!0:!Ge||!ye?!1:Ge.completionItemKind===ye.completionItemKind&&Ge.isSnippetText===ye.isSnippetText&&De(Ge.normalizedInlineCompletion,ye.normalizedInlineCompletion)}function Me(Ge,ye,ze,lt){if(Array.isArray(ze.completion.additionalTextEdits)&&ze.completion.additionalTextEdits.length>0)return{completionItemKind:ze.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:u.e.fromPositions(ye,ye),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:Rt}=ze.completion,Bt=!1;if(ze.completion.insertTextRules&4){const ii=new Ue.Yj().parse(Rt),vi=Ge.editor.getModel();if(ii.children.length>100)return;Ie.l.adjustWhitespace(vi,ye,!0,ii),Rt=ii.toString(),Bt=!0}const At=Ge.getOverwriteInfo(ze,lt);return{isSnippetText:Bt,completionItemKind:ze.completion.kind,normalizedInlineCompletion:{insertText:Rt,filterText:Rt,range:u.e.fromPositions(ye.delta(0,-At.overwriteBefore),ye.delta(0,Math.max(At.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var qe=function(Ge,ye,ze,lt){var Rt=arguments.length,Bt=Rt<3?ye:lt===null?lt=Object.getOwnPropertyDescriptor(ye,ze):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(Ge,ye,ze,lt);else for(var ii=Ge.length-1;ii>=0;ii--)(At=Ge[ii])&&(Bt=(Rt<3?At(Bt):Rt>3?At(ye,ze,Bt):At(ye,ze))||Bt);return Rt>3&&Bt&&Object.defineProperty(ye,ze,Bt),Bt},ot=function(Ge,ye){return function(ze,lt){ye(ze,lt,Ge)}},ut=function(Ge,ye,ze,lt){function Rt(Bt){return Bt instanceof ze?Bt:new ze(function(At){At(Bt)})}return new(ze||(ze=Promise))(function(Bt,At){function ii(hi){try{yi(lt.next(hi))}catch(Si){At(Si)}}function vi(hi){try{yi(lt.throw(hi))}catch(Si){At(Si)}}function yi(hi){hi.done?Bt(hi.value):Rt(hi.value).then(ii,vi)}yi((lt=lt.apply(Ge,ye||[])).next())})};let ht=class extends Y{get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}constructor(ye,ze,lt){super(ye),this.cache=ze,this.languageFeaturesService=lt,this.suggestionInlineCompletionSource=this._register(new ge(this.editor,()=>{var Rt,Bt,At;return(Rt=this.cache.value)===null||Rt===void 0||Rt.updateRanges(),(At=(Bt=this.cache.value)===null||Bt===void 0?void 0:Bt.completions[0])===null||At===void 0?void 0:At.toLiveInlineCompletion()})),this.updateOperation=this._register(new _.XK),this.updateCacheSoon=this._register(new d.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const Bt=this.ghostText;Bt&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,Ct(Bt.parts.map(At=>At.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(Rt=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,_.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}isSuggestionPreviewEnabled(){return this.editor.getOption(113).preview}updateCache(){return ut(this,void 0,void 0,function*(){const ye=this.suggestionInlineCompletionSource.state;if(!ye||!ye.selectedItem)return;const ze={text:ye.selectedItem.normalizedInlineCompletion.insertText,range:ye.selectedItem.normalizedInlineCompletion.range,isSnippetText:ye.selectedItem.isSnippetText,completionKind:ye.selectedItem.completionItemKind},lt=this.editor.getPosition();if(ye.selectedItem.isSnippetText||ye.selectedItem.completionItemKind===27||ye.selectedItem.completionItemKind===20||ye.selectedItem.completionItemKind===23){this.cache.clear();return}const Rt=(0,d.PG)(At=>ut(this,void 0,void 0,function*(){let ii;try{ii=yield it(this.languageFeaturesService.inlineCompletionsProvider,lt,this.editor.getModel(),{triggerKind:p.bw.Automatic,selectedSuggestionInfo:ze},At)}catch(vi){(0,n.dL)(vi);return}if(At.isCancellationRequested){ii.dispose();return}this.cache.setValue(this.editor,ii,p.bw.Automatic),this.onDidChangeEmitter.fire()})),Bt=new ce(Rt,p.bw.Automatic);this.updateOperation.value=Bt,yield Rt,this.updateOperation.value===Bt&&this.updateOperation.clear()})}get ghostText(){var ye,ze,lt;const Rt=this.isSuggestionPreviewEnabled(),Bt=this.editor.getModel(),At=fe(Bt,(ze=(ye=this.cache.value)===null||ye===void 0?void 0:ye.completions[0])===null||ze===void 0?void 0:ze.toLiveInlineCompletion()),ii=this.suggestionInlineCompletionSource.state,vi=fe(Bt,(lt=ii==null?void 0:ii.selectedItem)===null||lt===void 0?void 0:lt.normalizedInlineCompletion),yi=At&&vi&&At.insertText.startsWith(vi.insertText)&&Pt(At.range,vi.range);if(!Rt&&!yi)return;const hi=yi?At:vi||At,Si=yi?hi.insertText.length-vi.insertText.length:0;return this.toGhostText(hi,Si)}toGhostText(ye,ze){const lt=this.editor.getOptions().get(113).previewMode;return ye?Ne(ye,this.editor.getModel(),lt,this.editor.getPosition(),ze)||new X(ye.range.endLineNumber,[],this.minReservedLineCount):void 0}};ht=qe([ot(2,K.p)],ht);function Ct(Ge){return Ge.reduce((ye,ze)=>ye+ze,0)}function Pt(Ge,ye){return Ge.startLineNumber===ye.startLineNumber&&Ge.startColumn===ye.startColumn&&(Ge.endLineNumber===ye.endLineNumber&&Ge.endColumn>=ye.endColumn||Ge.endLineNumber>ye.endLineNumber)}var bt=i(44333),$t=function(Ge,ye,ze,lt){var Rt=arguments.length,Bt=Rt<3?ye:lt===null?lt=Object.getOwnPropertyDescriptor(ye,ze):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(Ge,ye,ze,lt);else for(var ii=Ge.length-1;ii>=0;ii--)(At=Ge[ii])&&(Bt=(Rt<3?At(Bt):Rt>3?At(ye,ze,Bt):At(ye,ze))||Bt);return Rt>3&&Bt&&Object.defineProperty(ye,ze,Bt),Bt},Mt=function(Ge,ye){return function(ze,lt){ye(ze,lt,Ge)}};class Xe extends _.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new _.XK)}get targetModel(){var ye;return(ye=this.currentModelRef.value)===null||ye===void 0?void 0:ye.object}setTargetModel(ye){var ze;((ze=this.currentModelRef.value)===null||ze===void 0?void 0:ze.object)!==ye&&(this.currentModelRef.clear(),this.currentModelRef.value=ye?G(ye,ye.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var ye,ze;return this.hasCachedGhostText||(this.cachedGhostText=(ze=(ye=this.currentModelRef.value)===null||ye===void 0?void 0:ye.object)===null||ze===void 0?void 0:ze.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(ye){var ze;(ze=this.targetModel)===null||ze===void 0||ze.setExpanded(ye)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Lt=class extends Xe{get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}constructor(ye,ze){super(),this.editor=ye,this.instantiationService=ze,this.sharedCache=this._register(new Xt),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(ht,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(ve,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(ye){var ze;const lt=(ze=this.activeInlineCompletionsModel)===null||ze===void 0?void 0:ze.ghostText;return lt?lt.parts.some(Rt=>ye.containsPosition(new R.L(lt.lineNumber,Rt.column))):!1}triggerInlineCompletion(){var ye;(ye=this.activeInlineCompletionsModel)===null||ye===void 0||ye.trigger(p.bw.Explicit)}commitInlineCompletion(){var ye;(ye=this.activeInlineCompletionsModel)===null||ye===void 0||ye.commitCurrentSuggestion()}commitInlineCompletionPartially(){var ye;(ye=this.activeInlineCompletionsModel)===null||ye===void 0||ye.commitCurrentSuggestionPartially()}hideInlineCompletion(){var ye;(ye=this.activeInlineCompletionsModel)===null||ye===void 0||ye.hide()}showNextInlineCompletion(){var ye;(ye=this.activeInlineCompletionsModel)===null||ye===void 0||ye.showNext()}showPreviousInlineCompletion(){var ye;(ye=this.activeInlineCompletionsModel)===null||ye===void 0||ye.showPrevious()}};Lt=$t([Mt(1,bt.TG)],Lt);class Xt extends _.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new f.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new _.XK)}get value(){return this.cache.value}setValue(ye,ze,lt){this.cache.value=new Ee(ze,ye,()=>this.onDidChangeEmitter.fire(),lt)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var zt=i(34441),Fe=i(71344),et=i(70054),pt=i(10403),It=i(12342),kt=i(41913),yt=i(47626),St=i(69756),Gt=i(75398),ti=i(79874),ri=i(87655),li=function(Ge,ye,ze,lt){var Rt=arguments.length,Bt=Rt<3?ye:lt===null?lt=Object.getOwnPropertyDescriptor(ye,ze):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(Ge,ye,ze,lt);else for(var ii=Ge.length-1;ii>=0;ii--)(At=Ge[ii])&&(Bt=(Rt<3?At(Bt):Rt>3?At(ye,ze,Bt):At(ye,ze))||Bt);return Rt>3&&Bt&&Object.defineProperty(ye,ze,Bt),Bt},gi=function(Ge,ye){return function(ze,lt){ye(ze,lt,Ge)}},Pi;const Hi=(Pi=window.trustedTypes)===null||Pi===void 0?void 0:Pi.createPolicy("editorGhostText",{createHTML:Ge=>Ge});let ji=class extends _.JT{constructor(ye,ze,lt,Rt,Bt){super(),this.editor=ye,this.model=ze,this.instantiationService=lt,this.languageService=Rt,this.audioCueService=Bt,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Rn,this.editor)),this.additionalLinesWidget=this._register(new bs(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new bn(this.editor)),this._register(this.editor.onDidChangeConfiguration(At=>{(At.hasChanged(31)||At.hasChanged(112)||At.hasChanged(94)||At.hasChanged(89)||At.hasChanged(49)||At.hasChanged(48)||At.hasChanged(64))&&this.update()})),this._register((0,_.OF)(()=>{var At;this.disposed=!0,this.update(),(At=this.viewMoreContentWidget)===null||At===void 0||At.dispose(),this.viewMoreContentWidget=void 0})),this._register(ze.onDidChange(()=>this.update(!0))),this.update(!0)}shouldShowHoverAtViewZone(ye){return this.additionalLinesWidget.viewZoneId===ye}update(ye){var ze;const lt=this.model.ghostText;if(!this.editor.hasModel()||!lt||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const Rt=new Array,Bt=new Array;function At(hi,Si){if(Bt.length>0){const Oi=Bt[Bt.length-1];Si&&Oi.decorations.push(new St.Kp(Oi.content.length+1,Oi.content.length+1+hi[0].length,Si,0)),Oi.content+=hi[0],hi=hi.slice(1)}for(const Oi of hi)Bt.push({content:Oi,decorations:Si?[new St.Kp(1,Oi.length+1,Si,0)]:[]})}lt instanceof J?this.replacementDecoration.setDecorations([{range:new u.e(lt.lineNumber,lt.columnStart,lt.lineNumber,lt.columnStart+lt.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const ii=this.editor.getModel().getLineContent(lt.lineNumber);let vi,yi=0;for(const hi of lt.parts){let Si=hi.lines;vi===void 0?(Rt.push({column:hi.column,text:Si[0],preview:hi.preview}),Si=Si.slice(1)):At([ii.substring(yi,hi.column-1)],void 0),Si.length>0&&(At(Si,"ghost-text"),vi===void 0&&hi.column<=ii.length&&(vi=hi.column)),yi=hi.column-1}vi!==void 0&&At([ii.substring(yi)],void 0),this.partsWidget.setParts(lt.lineNumber,Rt,vi!==void 0?{column:vi,length:ii.length+1-vi}:void 0),this.additionalLinesWidget.updateLines(lt.lineNumber,Bt,lt.additionalReservedLineCount),ye&&this.audioCueService.playAudioCue(ri.y$.inlineSuggestion).then(()=>{var hi;if(this.editor.getOption(6)){const Si=(hi=this.editor.getModel())===null||hi===void 0?void 0:hi.getLineContent(lt.lineNumber);Si&&(0,ti.Z9)(lt.renderForScreenReader(Si))}}),(ze=this.viewMoreContentWidget)===null||ze===void 0||ze.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(ye,ze,lt){const Rt=this.editor.getOption(48),Bt=document.createElement("div");Bt.className="suggest-preview-additional-widget",(0,Fe.N)(Bt,Rt);const At=document.createElement("span");At.className="content-spacer",At.append(ze),Bt.append(At);const ii=document.createElement("span");ii.className="content-newline suggest-preview-text",ii.append("\u23CE  "),Bt.append(ii);const vi=new _.SL,yi=document.createElement("div");return yi.className="button suggest-preview-text",yi.append(`+${lt} lines\u2026`),vi.add(zt.mu(yi,"mousedown",hi=>{var Si;(Si=this.model)===null||Si===void 0||Si.setExpanded(!0),hi.preventDefault(),this.editor.focus()})),Bt.append(yi),new ki(this.editor,ye,Bt,vi)}};ji=li([gi(2,bt.TG),gi(3,yt.O),gi(4,ri.e7)],ji);class bn{constructor(ye){this.editor=ye,this.decorationIds=[]}setDecorations(ye){this.editor.changeDecorations(ze=>{this.decorationIds=ze.deltaDecorations(this.decorationIds,ye)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class Rn{constructor(ye){this.editor=ye,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(ye=>{this.decorationIds=ye.deltaDecorations(this.decorationIds,[])})}setParts(ye,ze,lt){if(!this.editor.getModel())return;const Bt=new Array;lt&&Bt.push({range:u.e.fromPositions(new R.L(ye,lt.column),new R.L(ye,lt.column+lt.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(At=>{this.decorationIds=At.deltaDecorations(this.decorationIds,ze.map(ii=>({range:u.e.fromPositions(new R.L(ye,ii.column)),options:{description:"ghost-text",after:{content:ii.text,inlineClassName:ii.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:kt.RM.Left},showIfCollapsed:!0}})).concat(Bt))})}}class bs{get viewZoneId(){return this._viewZoneId}constructor(ye,ze){this.editor=ye,this.languageIdCodec=ze,this._viewZoneId=void 0}dispose(){this.clear()}clear(){this.editor.changeViewZones(ye=>{this._viewZoneId&&(ye.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(ye,ze,lt){const Rt=this.editor.getModel();if(!Rt)return;const{tabSize:Bt}=Rt.getOptions();this.editor.changeViewZones(At=>{this._viewZoneId&&(At.removeZone(this._viewZoneId),this._viewZoneId=void 0);const ii=Math.max(ze.length,lt);if(ii>0){const vi=document.createElement("div");ms(vi,Bt,ze,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=At.addZone({afterLineNumber:ye,heightInLines:ii,domNode:vi,afterColumnAffinity:1})}})}}function ms(Ge,ye,ze,lt,Rt){const Bt=lt.get(31),At=lt.get(112),ii="none",vi=lt.get(89),yi=lt.get(49),hi=lt.get(48),Si=lt.get(64),Oi=new It.HT(1e4);Oi.appendString('<div class="suggest-preview-text">');for(let pn=0,Pn=ze.length;pn<Pn;pn++){const cs=ze[pn],ds=cs.content;Oi.appendString('<div class="view-line'),Oi.appendString('" style="top:'),Oi.appendString(String(pn*Si)),Oi.appendString('px;width:1000000px;">');const Es=v.$i(ds),ro=v.Ut(ds),Gs=pt.A.createEmpty(ds,Rt);(0,Gt.d1)(new Gt.IJ(hi.isMonospace&&!Bt,hi.canUseHalfwidthRightwardsArrow,ds,!1,Es,ro,0,Gs,cs.decorations,ye,0,hi.spaceWidth,hi.middotWidth,hi.wsmiddotWidth,At,ii,vi,yi!==et.n0.OFF,null),Oi),Oi.appendString("</div>")}Oi.appendString("</div>"),(0,Fe.N)(Ge,hi);const Ai=Oi.build(),Zi=Hi?Hi.createHTML(Ai):Ai;Ge.innerHTML=Zi}class ki extends _.JT{constructor(ye,ze,lt,Rt){super(),this.editor=ye,this.position=ze,this.domNode=lt,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(Rt),this._register((0,_.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}var Vi=i(26386),Ki=i(21208),es=i(76826),Ls=function(Ge,ye,ze,lt){var Rt=arguments.length,Bt=Rt<3?ye:lt===null?lt=Object.getOwnPropertyDescriptor(ye,ze):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(Ge,ye,ze,lt);else for(var ii=Ge.length-1;ii>=0;ii--)(At=Ge[ii])&&(Bt=(Rt<3?At(Bt):Rt>3?At(ye,ze,Bt):At(ye,ze))||Bt);return Rt>3&&Bt&&Object.defineProperty(ye,ze,Bt),Bt},ts=function(Ge,ye){return function(ze,lt){ye(ze,lt,Ge)}},Kn=function(Ge,ye,ze,lt){function Rt(Bt){return Bt instanceof ze?Bt:new ze(function(At){At(Bt)})}return new(ze||(ze=Promise))(function(Bt,At){function ii(hi){try{yi(lt.next(hi))}catch(Si){At(Si)}}function vi(hi){try{yi(lt.throw(hi))}catch(Si){At(Si)}}function yi(hi){hi.done?Bt(hi.value):Rt(hi.value).then(ii,vi)}yi((lt=lt.apply(Ge,ye||[])).next())})};let Wn=class Vu extends _.JT{static get(ye){return ye.getContribution(Vu.ID)}get activeModel(){var ye;return(ye=this.activeController.value)===null||ye===void 0?void 0:ye.model}constructor(ye,ze,lt){super(),this.editor=ye,this.instantiationService=ze,this.contextKeyService=lt,this.triggeredExplicitly=!1,this.activeController=this._register(new _.XK),this.activeModelDidChangeEmitter=this._register(new f.Q5),this.firstUndoableVersionId=void 0,this.alwaysShowInlineSuggestionToolbar=Vu.alwaysShowInlineSuggestionToolbar.bindTo(this.contextKeyService),this._register(this.editor.onDidChangeModelContent(Rt=>{var Bt;(!Rt.isUndoing||this.firstUndoableVersionId&&this.editor.getModel().getAlternativeVersionId()<this.firstUndoableVersionId)&&((Bt=this.activeController.value)===null||Bt===void 0||Bt.contextKeys.canUndoInlineSuggestion.reset(),this.firstUndoableVersionId=void 0)})),this._register(this.editor.onDidChangeCursorPosition(Rt=>{var Bt;Rt.reason===3&&((Bt=this.activeController.value)===null||Bt===void 0||Bt.contextKeys.canUndoInlineSuggestion.reset(),this.firstUndoableVersionId=void 0)})),this._register(this.editor.onDidChangeModel(()=>{this.update()})),this._register(this.editor.onDidChangeConfiguration(Rt=>{(Rt.hasChanged(113)||Rt.hasChanged(60))&&this.update()})),this.update()}update(){const ye=this.editor.getOption(113),ze=this.editor.getOption(60);this.alwaysShowInlineSuggestionToolbar.set(ze.showToolbar==="always");const lt=this.editor.hasModel()&&(ye.preview||ze.enabled||this.triggeredExplicitly);lt!==!!this.activeController.value&&(this.activeController.value=void 0,this.activeController.value=lt?this.instantiationService.createInstance(en,this.editor):void 0,this.activeModelDidChangeEmitter.fire())}shouldShowHoverAt(ye){var ze;return((ze=this.activeModel)===null||ze===void 0?void 0:ze.shouldShowHoverAt(ye))||!1}shouldShowHoverAtViewZone(ye){var ze,lt;return((lt=(ze=this.activeController.value)===null||ze===void 0?void 0:ze.widget)===null||lt===void 0?void 0:lt.shouldShowHoverAtViewZone(ye))||!1}trigger(){var ye;this.triggeredExplicitly=!0,this.activeController.value||this.update(),(ye=this.activeModel)===null||ye===void 0||ye.triggerInlineCompletion()}commitPartially(){var ye,ze,lt;const Rt=this.firstUndoableVersionId;(ye=this.activeModel)===null||ye===void 0||ye.commitInlineCompletionPartially(),(lt=(ze=this.activeController)===null||ze===void 0?void 0:ze.value)===null||lt===void 0||lt.contextKeys.canUndoInlineSuggestion.set(!0),this.firstUndoableVersionId=Rt!=null?Rt:this.editor.getModel().getAlternativeVersionId()}commit(){var ye;(ye=this.activeModel)===null||ye===void 0||ye.commitInlineCompletion()}hide(){var ye;(ye=this.activeModel)===null||ye===void 0||ye.hideInlineCompletion()}showNextInlineCompletion(){var ye;(ye=this.activeModel)===null||ye===void 0||ye.showNextInlineCompletion()}showPreviousInlineCompletion(){var ye;(ye=this.activeModel)===null||ye===void 0||ye.showPreviousInlineCompletion()}};Wn.inlineSuggestionVisible=new es.uy("inlineSuggestionVisible",!1,Vi.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),Wn.inlineSuggestionHasIndentation=new es.uy("inlineSuggestionHasIndentation",!1,Vi.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Wn.inlineSuggestionHasIndentationLessThanTabSize=new es.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Vi.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Wn.canUndoInlineSuggestion=new es.uy("canUndoInlineSuggestion",!1,Vi.NC("canUndoInlineSuggestion","Whether undo would undo an inline suggestion")),Wn.alwaysShowInlineSuggestionToolbar=new es.uy("alwaysShowInlineSuggestionToolbar",!1,Vi.NC("alwaysShowInlineSuggestionToolbar","Whether the inline suggestion toolbar should always be visible")),Wn.ID="editor.contrib.ghostTextController",Wn=Ls([ts(1,bt.TG),ts(2,es.i6)],Wn);class yn{constructor(ye){this.contextKeyService=ye,this.inlineCompletionVisible=Wn.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Wn.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Wn.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.canUndoInlineSuggestion=Wn.canUndoInlineSuggestion.bindTo(this.contextKeyService)}}let en=class extends _.JT{constructor(ye,ze,lt){super(),this.editor=ye,this.instantiationService=ze,this.contextKeyService=lt,this.contextKeys=new yn(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Lt,this.editor)),this.widget=this._register(this.instantiationService.createInstance(ji,this.editor,this.model)),this._register((0,_.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var ye;this.contextKeys.inlineCompletionVisible.set(((ye=this.model.activeInlineCompletionsModel)===null||ye===void 0?void 0:ye.ghostText)!==void 0);let ze=!1,lt=!0;const Rt=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&Rt&&Rt.parts.length>0){const{column:Bt,lines:At}=Rt.parts[0],ii=At[0],vi=this.editor.getModel().getLineIndentColumn(Rt.lineNumber);if(Bt<=vi){let hi=(0,v.LC)(ii);hi===-1&&(hi=ii.length-1),ze=hi>0;const Si=this.editor.getModel().getOptions().tabSize;lt=A.i.visibleColumnFromColumn(ii,hi+1,Si)<Si}}this.contextKeys.inlineCompletionSuggestsIndentation.set(ze),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(lt)}};en=Ls([ts(1,bt.TG),ts(2,es.i6)],en);class Ms extends m.R6{constructor(){super({id:Ms.ID,label:Vi.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:es.Ao.and(M.u.writable,Wn.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(ye,ze){return Kn(this,void 0,void 0,function*(){const lt=Wn.get(ze);lt&&lt.showNextInlineCompletion()})}}Ms.ID=E.OW;class Ss extends m.R6{constructor(){super({id:Ss.ID,label:Vi.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:es.Ao.and(M.u.writable,Wn.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(ye,ze){return Kn(this,void 0,void 0,function*(){const lt=Wn.get(ze);lt&&lt.showPreviousInlineCompletion()})}}Ss.ID=E.Np;class ps extends m.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Vi.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:M.u.writable})}run(ye,ze){return Kn(this,void 0,void 0,function*(){const lt=Wn.get(ze);lt==null||lt.trigger()})}}class oo extends m.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:Vi.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:es.Ao.and(M.u.writable,Wn.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065},menuOpts:[{menuId:Ki.eH.InlineSuggestionToolbar,title:Vi.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(ye,ze){return Kn(this,void 0,void 0,function*(){const lt=Wn.get(ze);lt&&lt.commitPartially()})}}class hs extends m.R6{constructor(){super({id:E.Ou,label:Vi.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:Wn.inlineSuggestionVisible,menuOpts:[{menuId:Ki.eH.InlineSuggestionToolbar,title:Vi.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:es.Ao.and(Wn.inlineSuggestionVisible,M.u.tabMovesFocus.toNegated(),Wn.inlineSuggestionHasIndentationLessThanTabSize)}})}run(ye,ze){return Kn(this,void 0,void 0,function*(){const lt=Wn.get(ze);lt&&(lt.commit(),lt.editor.focus())})}}class Ts extends m.R6{constructor(){super({id:Ts.ID,label:Vi.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:Wn.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(ye,ze){return Kn(this,void 0,void 0,function*(){const lt=Wn.get(ze);lt&&lt.hide()})}}Ts.ID="editor.action.inlineSuggest.hide";class In extends Ki.Ke{constructor(){super({id:In.ID,title:Vi.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:Ki.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Wn.alwaysShowInlineSuggestionToolbar})}run(ye,ze){return Kn(this,void 0,void 0,function*(){const lt=ye.get(Re.Ui),Bt=lt.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";lt.updateValue("editor.inlineSuggest.showToolbar",Bt)})}}In.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";class Yn extends m.R6{constructor(){super({id:"editor.action.inlineSuggest.undo",label:Vi.NC("action.inlineSuggest.undo","Undo Accept Word"),alias:"Undo Accept Word",precondition:es.Ao.and(M.u.writable,Wn.canUndoInlineSuggestion),kbOpts:{weight:100+1,primary:2063,kbExpr:es.Ao.and(M.u.writable,Wn.canUndoInlineSuggestion)},menuOpts:[{menuId:Ki.eH.InlineSuggestionToolbar,title:Vi.NC("undoAcceptWord","Undo Accept Word"),group:"secondary",order:3}]})}run(ye,ze){var lt;return Kn(this,void 0,void 0,function*(){(lt=ze.getModel())===null||lt===void 0||lt.undo()})}}var pi=i(69008),ci=i(59397),ui=i(18708),wt=i(48786),mt=i(68554),Oe=function(Ge,ye,ze,lt){var Rt=arguments.length,Bt=Rt<3?ye:lt===null?lt=Object.getOwnPropertyDescriptor(ye,ze):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(Ge,ye,ze,lt);else for(var ii=Ge.length-1;ii>=0;ii--)(At=Ge[ii])&&(Bt=(Rt<3?At(Bt):Rt>3?At(ye,ze,Bt):At(ye,ze))||Bt);return Rt>3&&Bt&&Object.defineProperty(ye,ze,Bt),Bt},le=function(Ge,ye){return function(ze,lt){ye(ze,lt,Ge)}};class Be{constructor(ye,ze,lt){this.owner=ye,this.range=ze,this.controller=lt}isValidForHoverAnchor(ye){return ye.type===1&&this.range.startColumn<=ye.range.startColumn&&this.range.endColumn>=ye.range.endColumn}requestExplicitContext(){var ye,ze,lt;(lt=(ze=(ye=this.controller.activeModel)===null||ye===void 0?void 0:ye.activeInlineCompletionsModel)===null||ze===void 0?void 0:ze.completionSession.value)===null||lt===void 0||lt.ensureUpdateWithExplicitContext()}getInlineCompletionsCount(){var ye,ze;const lt=(ze=(ye=this.controller.activeModel)===null||ye===void 0?void 0:ye.activeInlineCompletionsModel)===null||ze===void 0?void 0:ze.completionSession.value;if(lt!=null&&lt.hasBeenTriggeredExplicitly)return lt==null?void 0:lt.getInlineCompletionsCountSync()}getInlineCompletionIndex(){var ye,ze,lt;return(lt=(ze=(ye=this.controller.activeModel)===null||ye===void 0?void 0:ye.activeInlineCompletionsModel)===null||ze===void 0?void 0:ze.completionSession.value)===null||lt===void 0?void 0:lt.currentlySelectedIndex}onDidChange(ye){var ze,lt;return((lt=(ze=this.controller.activeModel)===null||ze===void 0?void 0:ze.activeInlineCompletionsModel)===null||lt===void 0?void 0:lt.onDidChange(ye))||_.JT.None}get commands(){var ye,ze,lt;return((lt=(ze=(ye=this.controller.activeModel)===null||ye===void 0?void 0:ye.activeInlineCompletionsModel)===null||ze===void 0?void 0:ze.completionSession.value)===null||lt===void 0?void 0:lt.commands)||[]}}let Ke=class{constructor(ye,ze,lt,Rt,Bt,At){this._editor=ye,this._languageService=ze,this._openerService=lt,this.accessibilityService=Rt,this._instantiationService=Bt,this._telemetryService=At,this.hoverOrdinal=4}suggestHoverAnchor(ye){const ze=Wn.get(this._editor);if(!ze)return null;const lt=ye.target;if(lt.type===8){const Rt=lt.detail;if(ze.shouldShowHoverAtViewZone(Rt.viewZoneId))return new B.YM(1e3,this,u.e.fromPositions(this._editor.getModel().validatePosition(Rt.positionBefore||Rt.position)),ye.event.posx,ye.event.posy,!1)}return lt.type===7&&ze.shouldShowHoverAt(lt.range)?new B.YM(1e3,this,lt.range,ye.event.posx,ye.event.posy,!1):lt.type===6&&lt.detail.mightBeForeignElement&&ze.shouldShowHoverAt(lt.range)?new B.YM(1e3,this,lt.range,ye.event.posx,ye.event.posy,!1):null}computeSync(ye,ze){if(this._editor.getOption(60).showToolbar==="always")return[];const lt=Wn.get(this._editor);return lt&&lt.shouldShowHoverAt(ye.range)?[new Be(this,ye.range,lt)]:[]}renderHoverParts(ye,ze){const lt=new _.SL,Rt=ze[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(ye,Rt,lt);const Bt=this._instantiationService.createInstance(re.Q,this._editor,!1);return ye.fragment.appendChild(Bt.getDomNode()),Bt.update(null,Rt.getInlineCompletionIndex()||0,Rt.getInlineCompletionsCount(),Rt.commands),Rt.requestExplicitContext(),lt.add(Rt.onDidChange(()=>{Bt.update(null,Rt.getInlineCompletionIndex()||0,Rt.getInlineCompletionsCount(),Rt.commands)})),lt}renderScreenReaderText(ye,ze,lt){const Rt=zt.$,Bt=Rt("div.hover-row.markdown-hover"),At=zt.R3(Bt,Rt("div.hover-contents",{["aria-live"]:"assertive"})),ii=lt.add(new ci.$({editor:this._editor},this._languageService,this._openerService)),vi=yi=>{lt.add(ii.onDidRenderAsync(()=>{At.className="hover-contents code-hover-contents",ye.onContentsChanged()}));const hi=Vi.NC("inlineSuggestionFollows","Suggestion:"),Si=lt.add(ii.render(new pi.W5().appendText(hi).appendCodeblock("text",yi)));At.replaceChildren(Si.element)};lt.add(f.ju.runAndSubscribe(yi=>ze.onDidChange(yi),()=>{var yi,hi;const Si=(hi=(yi=ze.controller.activeModel)===null||yi===void 0?void 0:yi.inlineCompletionsModel)===null||hi===void 0?void 0:hi.ghostText;if(Si){const Oi=this._editor.getModel().getLineContent(Si.lineNumber);vi(Si.renderForScreenReader(Oi))}else zt.mc(At)})),ye.fragment.appendChild(Bt)}};Ke=Oe([le(1,yt.O),le(2,wt.v4),le(3,ui.F),le(4,bt.TG),le(5,mt.b)],Ke),(0,m._K)(Wn.ID,Wn,3),(0,m.Qr)(ps),(0,m.Qr)(Ms),(0,m.Qr)(Ss),(0,m.Qr)(oo),(0,m.Qr)(hs),(0,m.Qr)(Ts),(0,m.Qr)(Yn),(0,Ki.r1)(In),B.Ae.register(Ke)},92386:function(Ot,He,i){"use strict";i.d(He,{Q:function(){return j}});var m=i(34441),B=i(67235),f=i(40186),_=i(98299),v=i(16308),A=i(13484),M=i(407),E=i(38431),R=i(11138),p=i(8216),l=i(56462),d=i(26386),g=i(3941),n=i(19792),a=i(56709),C=i(14818),D=function(ee,fe,De,Ne){function be(xe){return xe instanceof De?xe:new De(function(Le){Le(xe)})}return new(De||(De=Promise))(function(xe,Le){function ue(Ue){try{_e(Ne.next(Ue))}catch(Qe){Le(Qe)}}function re(Ue){try{_e(Ne.throw(Ue))}catch(Qe){Le(Qe)}}function _e(Ue){Ue.done?xe(Ue.value):be(Ue.value).then(ue,re)}_e((Ne=Ne.apply(ee,fe||[])).next())})};class u extends E.JT{constructor(fe,De,Ne={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new a.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=new E.SL,this.options=Ne,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new S(()=>{var be;return(be=this.toggleMenuActionViewItem)===null||be===void 0?void 0:be.show()},Ne.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",fe.appendChild(this.element),this.actionBar=this._register(new B.o(this.element,{orientation:Ne.orientation,ariaLabel:Ne.ariaLabel,actionRunner:Ne.actionRunner,allowContextMenu:Ne.allowContextMenu,actionViewItemProvider:(be,xe)=>{var Le;if(be.id===S.ID)return this.toggleMenuActionViewItem=new n.C(be,be.menuActions,De,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:p.k.asClassNameArray((Le=Ne.moreIcon)!==null&&Le!==void 0?Le:M.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(Ne.actionViewItemProvider){const ue=Ne.actionViewItemProvider(be,xe);if(ue)return ue}if(be instanceof _.wY){const ue=new n.C(be,be.actions,De,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:be.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement});return ue.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(ue),this.disposables.add(this._onDidChangeDropdownVisibility.add(ue.onDidChangeVisibility)),ue}}}))}set actionRunner(fe){this.actionBar.actionRunner=fe}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(fe){return this.actionBar.getAction(fe)}setActions(fe,De){this.clear();const Ne=fe?fe.slice(0):[];this.hasSecondaryActions=!!(De&&De.length>0),this.hasSecondaryActions&&De&&(this.toggleMenuAction.menuActions=De.slice(0),Ne.push(this.toggleMenuAction)),Ne.forEach(be=>{this.actionBar.push(be,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(be)})})}getKeybindingLabel(fe){var De,Ne;const be=this.lookupKeybindings?(Ne=(De=this.options).getKeyBinding)===null||Ne===void 0?void 0:Ne.call(De,fe):void 0;return(0,C.f6)(be==null?void 0:be.getLabel())}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),super.dispose()}}class S extends _.aU{constructor(fe,De){De=De||d.NC("moreActions","More Actions..."),super(S.ID,De,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=fe}run(){return D(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(fe){this._menuActions=fe}}S.ID="toolbar.toggle.more";var w=i(21208),L=i(76826),N=i(36953),O=i(62297),x=i(68554),T=function(ee,fe,De,Ne){var be=arguments.length,xe=be<3?fe:Ne===null?Ne=Object.getOwnPropertyDescriptor(fe,De):Ne,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(ee,fe,De,Ne);else for(var ue=ee.length-1;ue>=0;ue--)(Le=ee[ue])&&(xe=(be<3?Le(xe):be>3?Le(fe,De,xe):Le(fe,De))||xe);return be>3&&xe&&Object.defineProperty(fe,De,xe),xe},W=function(ee,fe){return function(De,Ne){fe(De,Ne,ee)}};let U=class extends u{constructor(fe,De,Ne,be,xe,Le,ue){super(fe,xe,Object.assign(Object.assign({getKeyBinding:re=>{var _e;return(_e=Le.lookupKeybinding(re.id))!==null&&_e!==void 0?_e:void 0}},De),{allowContextMenu:!0})),this._options=De,this._menuService=Ne,this._contextKeyService=be,this._contextMenuService=xe,this._sessionDisposables=this._store.add(new E.SL),De!=null&&De.telemetrySource&&this._store.add(this.actionBar.onDidRun(re=>ue.publicLog2("workbenchActionExecuted",{id:re.action.id,from:De.telemetrySource})))}setActions(fe,De=[],Ne){var be,xe,Le;this._sessionDisposables.clear();const ue=fe.slice(),re=De.slice(),_e=[];let Ue=0;const Qe=[];let Re=!1;if(((be=this._options)===null||be===void 0?void 0:be.hiddenItemStrategy)!==-1)for(let ie=0;ie<ue.length;ie++){const Z=ue[ie];!(Z instanceof w.U8)&&!(Z instanceof w.NZ)||Z.hideActions&&(_e.push(Z.hideActions.toggle),Z.hideActions.toggle.checked&&Ue++,Z.hideActions.isHidden&&(Re=!0,ue[ie]=void 0,((xe=this._options)===null||xe===void 0?void 0:xe.hiddenItemStrategy)!==0&&(Qe[ie]=Z)))}if(((Le=this._options)===null||Le===void 0?void 0:Le.maxNumberOfItems)!==void 0){let ie=0;for(let Z=0;Z<ue.length;Z++){const se=ue[Z];se&&++ie>=this._options.maxNumberOfItems&&(ue[Z]=void 0,Qe[Z]=se)}}(0,v.Rs)(ue),(0,v.Rs)(Qe),super.setActions(ue,_.Z0.join(Qe,re)),_e.length>0&&this._sessionDisposables.add((0,m.nm)(this.getElement(),"contextmenu",ie=>{var Z,se,ve,he;const ce=this.getItemAction(ie.target);if(!ce)return;ie.preventDefault(),ie.stopPropagation();let Ee=!1;if(Ue===1&&((Z=this._options)===null||Z===void 0?void 0:Z.hiddenItemStrategy)===0){Ee=!0;for(let Ze=0;Ze<_e.length;Ze++)if(_e[Ze].checked){_e[Ze]=(0,_.xw)({id:ce.id,label:ce.label,checked:!0,enabled:!1,run(){}});break}}let We;if(!Ee&&(ce instanceof w.U8||ce instanceof w.NZ)){if(!ce.hideActions)return;We=ce.hideActions.hide}else We=(0,_.xw)({id:"label",label:(0,d.NC)("hide","Hide"),enabled:!1,run(){}});const it=_.Z0.join([We],_e);!((se=this._options)===null||se===void 0)&&se.resetMenu&&!Ne&&(Ne=[this._options.resetMenu]),Re&&Ne&&(it.push(new _.Z0),it.push((0,_.xw)({id:"resetThisMenu",label:(0,d.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(Ne)}))),this._contextMenuService.showContextMenu({getAnchor:()=>ie,getActions:()=>it,menuId:(ve=this._options)===null||ve===void 0?void 0:ve.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(he=this._options)===null||he===void 0?void 0:he.menuOptions),contextKeyService:this._contextKeyService})}))}};U=T([W(2,w.co),W(3,L.i6),W(4,N.i),W(5,O.d),W(6,x.b)],U);var K=i(80793),G=i(44333),z=i(89528),k=function(ee,fe,De,Ne){var be=arguments.length,xe=be<3?fe:Ne===null?Ne=Object.getOwnPropertyDescriptor(fe,De):Ne,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(ee,fe,De,Ne);else for(var ue=ee.length-1;ue>=0;ue--)(Le=ee[ue])&&(xe=(be<3?Le(xe):be>3?Le(fe,De,xe):Le(fe,De))||xe);return be>3&&xe&&Object.defineProperty(fe,De,xe),xe},q=function(ee,fe){return function(De,Ne){fe(De,Ne,ee)}};const te=(0,z.q5)("inline-suggestion-hints-next",M.l.chevronRight,(0,d.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),X=(0,z.q5)("inline-suggestion-hints-previous",M.l.chevronLeft,(0,d.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let j=class Hu extends E.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(fe,De,Ne){const be=new _.aU(fe,De,Ne,!0,()=>this._commandService.executeCommand(fe)),xe=this.keybindingService.lookupKeybinding(fe,this._contextKeyService);let Le=De;return xe&&(Le=(0,d.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",De,xe.getLabel())),be.tooltip=Le,be}constructor(fe,De,Ne,be,xe,Le,ue){super(),this.editor=fe,this.withBorder=De,this._commandService=Ne,this.keybindingService=xe,this._contextKeyService=Le,this._menuService=ue,this.id=`InlineSuggestionHintsContentWidget${Hu.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,m.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,m.h)("div",{style:{display:"flex"}},[(0,m.h)("div@actionBar",{className:"custom-actions"}),(0,m.h)("div@toolBar")])]),this.position=null,this.previousAction=this.createCommandAction(l.Np,(0,d.NC)("previous","Previous"),p.k.asClassName(X)),this.availableSuggestionCountAction=new _.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(l.OW,(0,d.NC)("next","Next"),p.k.asClassName(te)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(w.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new A.pY(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new A.pY(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCurrentSuggestionIdx=-1,this.lastSuggestionCount=-1,this.lastCommands=[];const re=this._register(new B.o(this.nodes.actionBar));re.push(this.previousAction,{icon:!0,label:!1}),re.push(this.availableSuggestionCountAction),re.push(this.nextAction,{icon:!0,label:!1}),this.toolBar=this._register(be.createInstance(Y,this.nodes.toolBar,w.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:_e=>_e.startsWith("primary")},actionViewItemProvider:(_e,Ue)=>_e instanceof w.U8?be.createInstance(J,_e,void 0):void 0,telemetrySource:"InlineSuggestionToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(_e=>{Hu._dropDownVisible=_e}))}update(fe,De,Ne,be){if(this.position===fe&&this.lastCurrentSuggestionIdx===De&&this.lastSuggestionCount===Ne&&(0,v.fS)(this.lastCommands,be))return;this.position=fe,this.lastCurrentSuggestionIdx=De,this.lastSuggestionCount=Ne!=null?Ne:-1,this.lastCommands=be,Ne!==void 0&&Ne>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule(),Ne!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${De+1}/${Ne}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),this.editor.layoutContentWidget(this);const xe=be.map(Le=>({class:void 0,id:Le.id,enabled:!0,tooltip:Le.tooltip||"",label:Le.title,run:ue=>this._commandService.executeCommand(Le.id)}));for(const[Le,ue]of this.inlineCompletionsActionsMenus.getActions())for(const re of ue)re instanceof w.U8&&xe.push(re);xe.length>0&&xe.unshift(new _.Z0),this.toolBar.setAdditionalSecondaryActions(xe)}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this.position,preference:[1,2],positionAffinity:3}}};j._dropDownVisible=!1,j.id=0,j=k([q(2,K.H),q(3,G.TG),q(4,O.d),q(5,L.i6),q(6,w.co)],j);class J extends g.Mm{updateLabel(){const fe=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!fe)return super.updateLabel();if(this.label){const De=(0,m.h)("div.keybinding").root;new f.e(De,R.OS,Object.assign({disableTitle:!0},f.F)).set(fe),this.label.textContent=this._action.label,this.label.appendChild(De),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let Y=class extends U{constructor(fe,De,Ne,be,xe,Le,ue,re){super(fe,Object.assign({resetMenu:De},Ne),be,xe,Le,ue,re),this.menuId=De,this.options2=Ne,this.menuService=be,this.contextKeyService=xe,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var fe,De,Ne,be,xe,Le,ue;const re=[],_e=[];(0,g.vr)(this.menu,(fe=this.options2)===null||fe===void 0?void 0:fe.menuOptions,{primary:re,secondary:_e},(Ne=(De=this.options2)===null||De===void 0?void 0:De.toolbarOptions)===null||Ne===void 0?void 0:Ne.primaryGroup,(xe=(be=this.options2)===null||be===void 0?void 0:be.toolbarOptions)===null||xe===void 0?void 0:xe.shouldInlineSubmenu,(ue=(Le=this.options2)===null||Le===void 0?void 0:Le.toolbarOptions)===null||ue===void 0?void 0:ue.useSeparatorsInPrimaryActions),_e.push(...this.additionalActions),this.setActions(re,_e)}setAdditionalSecondaryActions(fe){(0,v.fS)(this.additionalActions,fe,(De,Ne)=>De===Ne)||(this.additionalActions=fe,this.updateToolbar())}};Y=k([q(3,w.co),q(4,L.i6),q(5,N.i),q(6,O.d),q(7,x.b)],Y)},29213:function(Ot,He,i){"use strict";i.r(He),i.d(He,{ExpandLineSelectionAction:function(){return v}});var m=i(55298),B=i(81953),f=i(21081),_=i(26386);class v extends m.R6{constructor(){super({id:"expandLineSelection",label:_.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2090}})}run(M,E,R){if(R=R||{},!E.hasModel())return;const p=E._getViewModel();p.model.pushStackElement(),p.setCursorStates(R.source,3,B.P.expandLineSelection(p,p.getCursorStates())),p.revealPrimaryCursor(R.source,!0)}}(0,m.Qr)(v)},77352:function(Ot,He,i){"use strict";i.r(He),i.d(He,{AbstractCaseAction:function(){return ie},AbstractDeleteAllToBoundaryAction:function(){return re},AbstractSortLinesAction:function(){return J},CamelCaseAction:function(){return Ee},DeleteAllLeftAction:function(){return _e},DeleteAllRightAction:function(){return Ue},DeleteDuplicateLinesAction:function(){return fe},DeleteLinesAction:function(){return Ne},DuplicateSelectionAction:function(){return q},IndentLinesAction:function(){return be},InsertLineAfterAction:function(){return ue},InsertLineBeforeAction:function(){return Le},JoinLinesAction:function(){return Qe},KebabCaseAction:function(){return We},LowerCaseAction:function(){return se},SnakeCaseAction:function(){return ce},SortLinesAscendingAction:function(){return Y},SortLinesDescendingAction:function(){return ee},TitleCaseAction:function(){return he},TransposeAction:function(){return Re},TrimTrailingWhitespaceAction:function(){return De},UpperCaseAction:function(){return Z}});var m=i(94880),B=i(68076),f=i(55298),_=i(38050),v=i(17416),A=i(19083),M=i(50038);class E{constructor(Ze,je){this._selection=Ze,this._cursors=je,this._selectionId=null}getEditOperations(Ze,je){const Te=R(Ze,this._cursors);for(let Ie=0,oe=Te.length;Ie<oe;Ie++){const ge=Te[Ie];je.addEditOperation(ge.range,ge.text)}this._selectionId=je.trackSelection(this._selection)}computeCursorState(Ze,je){return je.getTrackedSelection(this._selectionId)}}function R(it,Ze){Ze.sort((ge,Ce)=>ge.lineNumber===Ce.lineNumber?ge.column-Ce.column:ge.lineNumber-Ce.lineNumber);for(let ge=Ze.length-2;ge>=0;ge--)Ze[ge].lineNumber===Ze[ge+1].lineNumber&&Ze.splice(ge,1);const je=[];let Te=0,Ie=0;const oe=Ze.length;for(let ge=1,Ce=it.getLineCount();ge<=Ce;ge++){const me=it.getLineContent(ge),Me=me.length+1;let qe=0;if(Ie<oe&&Ze[Ie].lineNumber===ge&&(qe=Ze[Ie].column,Ie++,qe===Me)||me.length===0)continue;const ot=v.ow(me);let ut=0;if(ot===-1)ut=1;else if(ot!==me.length-1)ut=ot+2;else continue;ut=Math.max(qe,ut),je[Te++]=A.h.delete(new M.e(ge,ut,ge,Me))}return je}var p=i(96124),l=i(8964),d=i(57841),g=i(21081);class n{constructor(Ze,je,Te){this._selection=Ze,this._isCopyingDown=je,this._noop=Te||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(Ze,je){let Te=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,Te.startLineNumber<Te.endLineNumber&&Te.endColumn===1&&(this._endLineNumberDelta=1,Te=Te.setEndPosition(Te.endLineNumber-1,Ze.getLineMaxColumn(Te.endLineNumber-1)));const Ie=[];for(let ge=Te.startLineNumber;ge<=Te.endLineNumber;ge++)Ie.push(Ze.getLineContent(ge));const oe=Ie.join(`
`);oe===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?je.addEditOperation(new M.e(Te.endLineNumber,Ze.getLineMaxColumn(Te.endLineNumber),Te.endLineNumber+1,1),Te.endLineNumber===Ze.getLineCount()?"":`
`):this._isCopyingDown?je.addEditOperation(new M.e(Te.startLineNumber,1,Te.startLineNumber,1),oe+`
`):je.addEditOperation(new M.e(Te.endLineNumber,Ze.getLineMaxColumn(Te.endLineNumber),Te.endLineNumber,Ze.getLineMaxColumn(Te.endLineNumber)),`
`+oe),this._selectionId=je.trackSelection(Te),this._selectionDirection=this._selection.getDirection()}computeCursorState(Ze,je){let Te=je.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let Ie=Te.startLineNumber,oe=Te.startColumn,ge=Te.endLineNumber,Ce=Te.endColumn;this._startLineNumberDelta!==0&&(Ie=Ie+this._startLineNumberDelta,oe=1),this._endLineNumberDelta!==0&&(ge=ge+this._endLineNumberDelta,Ce=1),Te=d.Y.createWithDirection(Ie,oe,ge,Ce,this._selectionDirection)}return Te}}var a=i(8453),C=i(50282),D=i(64603),u=i(54425),S=i(89026),w=i(14),L=function(it,Ze,je,Te){var Ie=arguments.length,oe=Ie<3?Ze:Te===null?Te=Object.getOwnPropertyDescriptor(Ze,je):Te,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(it,Ze,je,Te);else for(var Ce=it.length-1;Ce>=0;Ce--)(ge=it[Ce])&&(oe=(Ie<3?ge(oe):Ie>3?ge(Ze,je,oe):ge(Ze,je))||oe);return Ie>3&&oe&&Object.defineProperty(Ze,je,oe),oe},N=function(it,Ze){return function(je,Te){Ze(je,Te,it)}};let O=class{constructor(Ze,je,Te,Ie){this._languageConfigurationService=Ie,this._selection=Ze,this._isMovingDown=je,this._autoIndent=Te,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(Ze,je){const Te=Ze.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===Te){this._selectionId=je.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=je.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let Ie=this._selection;Ie.startLineNumber<Ie.endLineNumber&&Ie.endColumn===1&&(this._moveEndPositionDown=!0,Ie=Ie.setEndPosition(Ie.endLineNumber-1,Ze.getLineMaxColumn(Ie.endLineNumber-1)));const{tabSize:oe,indentSize:ge,insertSpaces:Ce}=Ze.getOptions(),me=this.buildIndentConverter(oe,ge,Ce),Me={tokenization:{getLineTokens:qe=>Ze.tokenization.getLineTokens(qe),getLanguageId:()=>Ze.getLanguageId(),getLanguageIdAtPosition:(qe,ot)=>Ze.getLanguageIdAtPosition(qe,ot)},getLineContent:null};if(Ie.startLineNumber===Ie.endLineNumber&&Ze.getLineMaxColumn(Ie.startLineNumber)===1){const qe=Ie.startLineNumber,ot=this._isMovingDown?qe+1:qe-1;Ze.getLineMaxColumn(ot)===1?je.addEditOperation(new M.e(1,1,1,1),null):(je.addEditOperation(new M.e(qe,1,qe,1),Ze.getLineContent(ot)),je.addEditOperation(new M.e(ot,1,ot,Ze.getLineMaxColumn(ot)),null)),Ie=new d.Y(ot,1,ot,1)}else{let qe,ot;if(this._isMovingDown){qe=Ie.endLineNumber+1,ot=Ze.getLineContent(qe),je.addEditOperation(new M.e(qe-1,Ze.getLineMaxColumn(qe-1),qe,Ze.getLineMaxColumn(qe)),null);let ut=ot;if(this.shouldAutoIndent(Ze,Ie)){const ht=this.matchEnterRule(Ze,me,oe,qe,Ie.startLineNumber-1);if(ht!==null){const Pt=v.V8(Ze.getLineContent(qe)),bt=ht+u.Y(Pt,oe);ut=u.J(bt,oe,Ce)+this.trimLeft(ot)}else{Me.getLineContent=bt=>bt===Ie.startLineNumber?Ze.getLineContent(qe):Ze.getLineContent(bt);const Pt=(0,S.n8)(this._autoIndent,Me,Ze.getLanguageIdAtPosition(qe,1),Ie.startLineNumber,me,this._languageConfigurationService);if(Pt!==null){const bt=v.V8(Ze.getLineContent(qe)),$t=u.Y(Pt,oe),Mt=u.Y(bt,oe);$t!==Mt&&(ut=u.J($t,oe,Ce)+this.trimLeft(ot))}}je.addEditOperation(new M.e(Ie.startLineNumber,1,Ie.startLineNumber,1),ut+`
`);const Ct=this.matchEnterRuleMovingDown(Ze,me,oe,Ie.startLineNumber,qe,ut);if(Ct!==null)Ct!==0&&this.getIndentEditsOfMovingBlock(Ze,je,Ie,oe,Ce,Ct);else{Me.getLineContent=bt=>bt===Ie.startLineNumber?ut:bt>=Ie.startLineNumber+1&&bt<=Ie.endLineNumber+1?Ze.getLineContent(bt-1):Ze.getLineContent(bt);const Pt=(0,S.n8)(this._autoIndent,Me,Ze.getLanguageIdAtPosition(qe,1),Ie.startLineNumber+1,me,this._languageConfigurationService);if(Pt!==null){const bt=v.V8(Ze.getLineContent(Ie.startLineNumber)),$t=u.Y(Pt,oe),Mt=u.Y(bt,oe);if($t!==Mt){const Xe=$t-Mt;this.getIndentEditsOfMovingBlock(Ze,je,Ie,oe,Ce,Xe)}}}}else je.addEditOperation(new M.e(Ie.startLineNumber,1,Ie.startLineNumber,1),ut+`
`)}else if(qe=Ie.startLineNumber-1,ot=Ze.getLineContent(qe),je.addEditOperation(new M.e(qe,1,qe+1,1),null),je.addEditOperation(new M.e(Ie.endLineNumber,Ze.getLineMaxColumn(Ie.endLineNumber),Ie.endLineNumber,Ze.getLineMaxColumn(Ie.endLineNumber)),`
`+ot),this.shouldAutoIndent(Ze,Ie)){Me.getLineContent=ht=>ht===qe?Ze.getLineContent(Ie.startLineNumber):Ze.getLineContent(ht);const ut=this.matchEnterRule(Ze,me,oe,Ie.startLineNumber,Ie.startLineNumber-2);if(ut!==null)ut!==0&&this.getIndentEditsOfMovingBlock(Ze,je,Ie,oe,Ce,ut);else{const ht=(0,S.n8)(this._autoIndent,Me,Ze.getLanguageIdAtPosition(Ie.startLineNumber,1),qe,me,this._languageConfigurationService);if(ht!==null){const Ct=v.V8(Ze.getLineContent(Ie.startLineNumber)),Pt=u.Y(ht,oe),bt=u.Y(Ct,oe);if(Pt!==bt){const $t=Pt-bt;this.getIndentEditsOfMovingBlock(Ze,je,Ie,oe,Ce,$t)}}}}}this._selectionId=je.trackSelection(Ie)}buildIndentConverter(Ze,je,Te){return{shiftIndent:Ie=>a.U.shiftIndent(Ie,Ie.length+1,Ze,je,Te),unshiftIndent:Ie=>a.U.unshiftIndent(Ie,Ie.length+1,Ze,je,Te)}}parseEnterResult(Ze,je,Te,Ie,oe){if(oe){let ge=oe.indentation;oe.indentAction===C.wU.None||oe.indentAction===C.wU.Indent?ge=oe.indentation+oe.appendText:oe.indentAction===C.wU.IndentOutdent?ge=oe.indentation:oe.indentAction===C.wU.Outdent&&(ge=je.unshiftIndent(oe.indentation)+oe.appendText);const Ce=Ze.getLineContent(Ie);if(this.trimLeft(Ce).indexOf(this.trimLeft(ge))>=0){const me=v.V8(Ze.getLineContent(Ie));let Me=v.V8(ge);const qe=(0,S.tI)(Ze,Ie,this._languageConfigurationService);qe!==null&&qe&2&&(Me=je.unshiftIndent(Me));const ot=u.Y(Me,Te),ut=u.Y(me,Te);return ot-ut}}return null}matchEnterRuleMovingDown(Ze,je,Te,Ie,oe,ge){if(v.ow(ge)>=0){const Ce=Ze.getLineMaxColumn(oe),me=(0,w.A)(this._autoIndent,Ze,new M.e(oe,Ce,oe,Ce),this._languageConfigurationService);return this.parseEnterResult(Ze,je,Te,Ie,me)}else{let Ce=Ie-1;for(;Ce>=1;){const qe=Ze.getLineContent(Ce);if(v.ow(qe)>=0)break;Ce--}if(Ce<1||Ie>Ze.getLineCount())return null;const me=Ze.getLineMaxColumn(Ce),Me=(0,w.A)(this._autoIndent,Ze,new M.e(Ce,me,Ce,me),this._languageConfigurationService);return this.parseEnterResult(Ze,je,Te,Ie,Me)}}matchEnterRule(Ze,je,Te,Ie,oe,ge){let Ce=oe;for(;Ce>=1;){let qe;if(Ce===oe&&ge!==void 0?qe=ge:qe=Ze.getLineContent(Ce),v.ow(qe)>=0)break;Ce--}if(Ce<1||Ie>Ze.getLineCount())return null;const me=Ze.getLineMaxColumn(Ce),Me=(0,w.A)(this._autoIndent,Ze,new M.e(Ce,me,Ce,me),this._languageConfigurationService);return this.parseEnterResult(Ze,je,Te,Ie,Me)}trimLeft(Ze){return Ze.replace(/^\s+/,"")}shouldAutoIndent(Ze,je){if(this._autoIndent<4||!Ze.tokenization.isCheapToTokenize(je.startLineNumber))return!1;const Te=Ze.getLanguageIdAtPosition(je.startLineNumber,1),Ie=Ze.getLanguageIdAtPosition(je.endLineNumber,1);return!(Te!==Ie||this._languageConfigurationService.getLanguageConfiguration(Te).indentRulesSupport===null)}getIndentEditsOfMovingBlock(Ze,je,Te,Ie,oe,ge){for(let Ce=Te.startLineNumber;Ce<=Te.endLineNumber;Ce++){const me=Ze.getLineContent(Ce),Me=v.V8(me),ot=u.Y(Me,Ie)+ge,ut=u.J(ot,Ie,oe);ut!==Me&&(je.addEditOperation(new M.e(Ce,1,Ce,Me.length+1),ut),Ce===Te.endLineNumber&&Te.endColumn<=Me.length+1&&ut===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(Ze,je){let Te=je.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(Te=Te.setEndPosition(Te.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&Te.startLineNumber<Te.endLineNumber&&(Te=Te.setEndPosition(Te.endLineNumber,2)),Te}};O=L([N(3,D.c_)],O);class x{static getCollator(){return x._COLLATOR||(x._COLLATOR=new Intl.Collator),x._COLLATOR}constructor(Ze,je){this.selection=Ze,this.descending=je,this.selectionId=null}getEditOperations(Ze,je){const Te=W(Ze,this.selection,this.descending);Te&&je.addEditOperation(Te.range,Te.text),this.selectionId=je.trackSelection(this.selection)}computeCursorState(Ze,je){return je.getTrackedSelection(this.selectionId)}static canRun(Ze,je,Te){if(Ze===null)return!1;const Ie=T(Ze,je,Te);if(!Ie)return!1;for(let oe=0,ge=Ie.before.length;oe<ge;oe++)if(Ie.before[oe]!==Ie.after[oe])return!0;return!1}}x._COLLATOR=null;function T(it,Ze,je){const Te=Ze.startLineNumber;let Ie=Ze.endLineNumber;if(Ze.endColumn===1&&Ie--,Te>=Ie)return null;const oe=[];for(let Ce=Te;Ce<=Ie;Ce++)oe.push(it.getLineContent(Ce));let ge=oe.slice(0);return ge.sort(x.getCollator().compare),je===!0&&(ge=ge.reverse()),{startLineNumber:Te,endLineNumber:Ie,before:oe,after:ge}}function W(it,Ze,je){const Te=T(it,Ze,je);return Te?A.h.replace(new M.e(Te.startLineNumber,1,Te.endLineNumber,it.getLineMaxColumn(Te.endLineNumber)),Te.after.join(`
`)):null}var U=i(26386),K=i(21208);class G extends f.R6{constructor(Ze,je){super(je),this.down=Ze}run(Ze,je){if(!je.hasModel())return;const Te=je.getSelections().map((ge,Ce)=>({selection:ge,index:Ce,ignore:!1}));Te.sort((ge,Ce)=>M.e.compareRangesUsingStarts(ge.selection,Ce.selection));let Ie=Te[0];for(let ge=1;ge<Te.length;ge++){const Ce=Te[ge];Ie.selection.endLineNumber===Ce.selection.startLineNumber&&(Ie.index<Ce.index?Ce.ignore=!0:(Ie.ignore=!0,Ie=Ce))}const oe=[];for(const ge of Te)oe.push(new n(ge.selection,this.down,ge.ignore));je.pushUndoStop(),je.executeCommands(this.id,oe),je.pushUndoStop()}}class z extends G{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:U.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class k extends G{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:U.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class q extends f.R6{constructor(){super({id:"editor.action.duplicateSelection",label:U.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:g.u.writable,menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(Ze,je,Te){if(!je.hasModel())return;const Ie=[],oe=je.getSelections(),ge=je.getModel();for(const Ce of oe)if(Ce.isEmpty())Ie.push(new n(Ce,!0));else{const me=new d.Y(Ce.endLineNumber,Ce.endColumn,Ce.endLineNumber,Ce.endColumn);Ie.push(new _.OY(me,ge.getValueInRange(Ce)))}je.pushUndoStop(),je.executeCommands(this.id,Ie),je.pushUndoStop()}}class te extends f.R6{constructor(Ze,je){super(je),this.down=Ze}run(Ze,je){const Te=Ze.get(D.c_),Ie=[],oe=je.getSelections()||[],ge=je.getOption(10);for(const Ce of oe)Ie.push(new O(Ce,this.down,ge,Te));je.pushUndoStop(),je.executeCommands(this.id,Ie),je.pushUndoStop()}}class X extends te{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:U.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class j extends te{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:U.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class J extends f.R6{constructor(Ze,je){super(je),this.descending=Ze}run(Ze,je){const Te=je.getSelections()||[];for(const oe of Te)if(!x.canRun(je.getModel(),oe,this.descending))return;const Ie=[];for(let oe=0,ge=Te.length;oe<ge;oe++)Ie[oe]=new x(Te[oe],this.descending);je.pushUndoStop(),je.executeCommands(this.id,Ie),je.pushUndoStop()}}class Y extends J{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:U.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:g.u.writable})}}class ee extends J{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:U.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:g.u.writable})}}class fe extends f.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:U.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:g.u.writable})}run(Ze,je){if(!je.hasModel())return;const Te=je.getModel();if(Te.getLineCount()===1&&Te.getLineMaxColumn(1)===1)return;const Ie=[],oe=[];let ge=0;for(const Ce of je.getSelections()){const me=new Set,Me=[];for(let ht=Ce.startLineNumber;ht<=Ce.endLineNumber;ht++){const Ct=Te.getLineContent(ht);me.has(Ct)||(Me.push(Ct),me.add(Ct))}const qe=new d.Y(Ce.startLineNumber,1,Ce.endLineNumber,Te.getLineMaxColumn(Ce.endLineNumber)),ot=Ce.startLineNumber-ge,ut=new d.Y(ot,1,ot+Me.length-1,Me[Me.length-1].length);Ie.push(A.h.replace(qe,Me.join(`
`))),oe.push(ut),ge+=Ce.endLineNumber-Ce.startLineNumber+1-Me.length}je.pushUndoStop(),je.executeEdits(this.id,Ie,oe),je.pushUndoStop()}}class De extends f.R6{constructor(){super({id:De.ID,label:U.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,m.gx)(2089,2102),weight:100}})}run(Ze,je,Te){let Ie=[];Te.reason==="auto-save"&&(Ie=(je.getSelections()||[]).map(Ce=>new l.L(Ce.positionLineNumber,Ce.positionColumn)));const oe=je.getSelection();if(oe===null)return;const ge=new E(oe,Ie);je.pushUndoStop(),je.executeCommands(this.id,[ge]),je.pushUndoStop()}}De.ID="editor.action.trimTrailingWhitespace";class Ne extends f.R6{constructor(){super({id:"editor.action.deleteLines",label:U.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:g.u.writable,kbOpts:{kbExpr:g.u.textInputFocus,primary:3113,weight:100}})}run(Ze,je){if(!je.hasModel())return;const Te=this._getLinesToRemove(je),Ie=je.getModel();if(Ie.getLineCount()===1&&Ie.getLineMaxColumn(1)===1)return;let oe=0;const ge=[],Ce=[];for(let me=0,Me=Te.length;me<Me;me++){const qe=Te[me];let ot=qe.startLineNumber,ut=qe.endLineNumber,ht=1,Ct=Ie.getLineMaxColumn(ut);ut<Ie.getLineCount()?(ut+=1,Ct=1):ot>1&&(ot-=1,ht=Ie.getLineMaxColumn(ot)),ge.push(A.h.replace(new d.Y(ot,ht,ut,Ct),"")),Ce.push(new d.Y(ot-oe,qe.positionColumn,ot-oe,qe.positionColumn)),oe+=qe.endLineNumber-qe.startLineNumber+1}je.pushUndoStop(),je.executeEdits(this.id,ge,Ce),je.pushUndoStop()}_getLinesToRemove(Ze){const je=Ze.getSelections().map(oe=>{let ge=oe.endLineNumber;return oe.startLineNumber<oe.endLineNumber&&oe.endColumn===1&&(ge-=1),{startLineNumber:oe.startLineNumber,selectionStartColumn:oe.selectionStartColumn,endLineNumber:ge,positionColumn:oe.positionColumn}});je.sort((oe,ge)=>oe.startLineNumber===ge.startLineNumber?oe.endLineNumber-ge.endLineNumber:oe.startLineNumber-ge.startLineNumber);const Te=[];let Ie=je[0];for(let oe=1;oe<je.length;oe++)Ie.endLineNumber+1>=je[oe].startLineNumber?Ie.endLineNumber=je[oe].endLineNumber:(Te.push(Ie),Ie=je[oe]);return Te.push(Ie),Te}}class be extends f.R6{constructor(){super({id:"editor.action.indentLines",label:U.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:2137,weight:100}})}run(Ze,je){const Te=je._getViewModel();Te&&(je.pushUndoStop(),je.executeCommands(this.id,p.u6.indent(Te.cursorConfig,je.getModel(),je.getSelections())),je.pushUndoStop())}}class xe extends f.R6{constructor(){super({id:"editor.action.outdentLines",label:U.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:2135,weight:100}})}run(Ze,je){B.CoreEditingCommands.Outdent.runEditorCommand(Ze,je,null)}}class Le extends f.R6{constructor(){super({id:"editor.action.insertLineBefore",label:U.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:3075,weight:100}})}run(Ze,je){const Te=je._getViewModel();Te&&(je.pushUndoStop(),je.executeCommands(this.id,p.u6.lineInsertBefore(Te.cursorConfig,je.getModel(),je.getSelections())))}}class ue extends f.R6{constructor(){super({id:"editor.action.insertLineAfter",label:U.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:2051,weight:100}})}run(Ze,je){const Te=je._getViewModel();Te&&(je.pushUndoStop(),je.executeCommands(this.id,p.u6.lineInsertAfter(Te.cursorConfig,je.getModel(),je.getSelections())))}}class re extends f.R6{run(Ze,je){if(!je.hasModel())return;const Te=je.getSelection(),Ie=this._getRangesToDelete(je),oe=[];for(let me=0,Me=Ie.length-1;me<Me;me++){const qe=Ie[me],ot=Ie[me+1];M.e.intersectRanges(qe,ot)===null?oe.push(qe):Ie[me+1]=M.e.plusRange(qe,ot)}oe.push(Ie[Ie.length-1]);const ge=this._getEndCursorState(Te,oe),Ce=oe.map(me=>A.h.replace(me,""));je.pushUndoStop(),je.executeEdits(this.id,Ce,ge),je.pushUndoStop()}}class _e extends re{constructor(){super({id:"deleteAllLeft",label:U.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:g.u.writable,kbOpts:{kbExpr:g.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Ze,je){let Te=null;const Ie=[];let oe=0;return je.forEach(ge=>{let Ce;if(ge.endColumn===1&&oe>0){const me=ge.startLineNumber-oe;Ce=new d.Y(me,ge.startColumn,me,ge.startColumn)}else Ce=new d.Y(ge.startLineNumber,ge.startColumn,ge.startLineNumber,ge.startColumn);oe+=ge.endLineNumber-ge.startLineNumber,ge.intersectRanges(Ze)?Te=Ce:Ie.push(Ce)}),Te&&Ie.unshift(Te),Ie}_getRangesToDelete(Ze){const je=Ze.getSelections();if(je===null)return[];let Te=je;const Ie=Ze.getModel();return Ie===null?[]:(Te.sort(M.e.compareRangesUsingStarts),Te=Te.map(oe=>{if(oe.isEmpty())if(oe.startColumn===1){const ge=Math.max(1,oe.startLineNumber-1),Ce=oe.startLineNumber===1?1:Ie.getLineContent(ge).length+1;return new M.e(ge,Ce,oe.startLineNumber,1)}else return new M.e(oe.startLineNumber,1,oe.startLineNumber,oe.startColumn);else return new M.e(oe.startLineNumber,1,oe.endLineNumber,oe.endColumn)}),Te)}}class Ue extends re{constructor(){super({id:"deleteAllRight",label:U.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:g.u.writable,kbOpts:{kbExpr:g.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Ze,je){let Te=null;const Ie=[];for(let oe=0,ge=je.length,Ce=0;oe<ge;oe++){const me=je[oe],Me=new d.Y(me.startLineNumber-Ce,me.startColumn,me.startLineNumber-Ce,me.startColumn);me.intersectRanges(Ze)?Te=Me:Ie.push(Me)}return Te&&Ie.unshift(Te),Ie}_getRangesToDelete(Ze){const je=Ze.getModel();if(je===null)return[];const Te=Ze.getSelections();if(Te===null)return[];const Ie=Te.map(oe=>{if(oe.isEmpty()){const ge=je.getLineMaxColumn(oe.startLineNumber);return oe.startColumn===ge?new M.e(oe.startLineNumber,oe.startColumn,oe.startLineNumber+1,1):new M.e(oe.startLineNumber,oe.startColumn,oe.startLineNumber,ge)}return oe});return Ie.sort(M.e.compareRangesUsingStarts),Ie}}class Qe extends f.R6{constructor(){super({id:"editor.action.joinLines",label:U.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Ze,je){const Te=je.getSelections();if(Te===null)return;let Ie=je.getSelection();if(Ie===null)return;Te.sort(M.e.compareRangesUsingStarts);const oe=[],ge=Te.reduce((ut,ht)=>ut.isEmpty()?ut.endLineNumber===ht.startLineNumber?(Ie.equalsSelection(ut)&&(Ie=ht),ht):ht.startLineNumber>ut.endLineNumber+1?(oe.push(ut),ht):new d.Y(ut.startLineNumber,ut.startColumn,ht.endLineNumber,ht.endColumn):ht.startLineNumber>ut.endLineNumber?(oe.push(ut),ht):new d.Y(ut.startLineNumber,ut.startColumn,ht.endLineNumber,ht.endColumn));oe.push(ge);const Ce=je.getModel();if(Ce===null)return;const me=[],Me=[];let qe=Ie,ot=0;for(let ut=0,ht=oe.length;ut<ht;ut++){const Ct=oe[ut],Pt=Ct.startLineNumber,bt=1;let $t=0,Mt,Xe;const Lt=Ce.getLineContent(Ct.endLineNumber).length-Ct.endColumn;if(Ct.isEmpty()||Ct.startLineNumber===Ct.endLineNumber){const Fe=Ct.getStartPosition();Fe.lineNumber<Ce.getLineCount()?(Mt=Pt+1,Xe=Ce.getLineMaxColumn(Mt)):(Mt=Fe.lineNumber,Xe=Ce.getLineMaxColumn(Fe.lineNumber))}else Mt=Ct.endLineNumber,Xe=Ce.getLineMaxColumn(Mt);let Xt=Ce.getLineContent(Pt);for(let Fe=Pt+1;Fe<=Mt;Fe++){const et=Ce.getLineContent(Fe),pt=Ce.getLineFirstNonWhitespaceColumn(Fe);if(pt>=1){let It=!0;Xt===""&&(It=!1),It&&(Xt.charAt(Xt.length-1)===" "||Xt.charAt(Xt.length-1)==="	")&&(It=!1,Xt=Xt.replace(/[\s\uFEFF\xA0]+$/g," "));const kt=et.substr(pt-1);Xt+=(It?" ":"")+kt,It?$t=kt.length+1:$t=kt.length}else $t=0}const zt=new M.e(Pt,bt,Mt,Xe);if(!zt.isEmpty()){let Fe;Ct.isEmpty()?(me.push(A.h.replace(zt,Xt)),Fe=new d.Y(zt.startLineNumber-ot,Xt.length-$t+1,Pt-ot,Xt.length-$t+1)):Ct.startLineNumber===Ct.endLineNumber?(me.push(A.h.replace(zt,Xt)),Fe=new d.Y(Ct.startLineNumber-ot,Ct.startColumn,Ct.endLineNumber-ot,Ct.endColumn)):(me.push(A.h.replace(zt,Xt)),Fe=new d.Y(Ct.startLineNumber-ot,Ct.startColumn,Ct.startLineNumber-ot,Xt.length-Lt)),M.e.intersectRanges(zt,Ie)!==null?qe=Fe:Me.push(Fe)}ot+=zt.endLineNumber-zt.startLineNumber}Me.unshift(qe),je.pushUndoStop(),je.executeEdits(this.id,me,Me),je.pushUndoStop()}}class Re extends f.R6{constructor(){super({id:"editor.action.transpose",label:U.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:g.u.writable})}run(Ze,je){const Te=je.getSelections();if(Te===null)return;const Ie=je.getModel();if(Ie===null)return;const oe=[];for(let ge=0,Ce=Te.length;ge<Ce;ge++){const me=Te[ge];if(!me.isEmpty())continue;const Me=me.getStartPosition(),qe=Ie.getLineMaxColumn(Me.lineNumber);if(Me.column>=qe){if(Me.lineNumber===Ie.getLineCount())continue;const ot=new M.e(Me.lineNumber,Math.max(1,Me.column-1),Me.lineNumber+1,1),ut=Ie.getValueInRange(ot).split("").reverse().join("");oe.push(new _.T4(new d.Y(Me.lineNumber,Math.max(1,Me.column-1),Me.lineNumber+1,1),ut))}else{const ot=new M.e(Me.lineNumber,Math.max(1,Me.column-1),Me.lineNumber,Me.column+1),ut=Ie.getValueInRange(ot).split("").reverse().join("");oe.push(new _.hP(ot,ut,new d.Y(Me.lineNumber,Me.column+1,Me.lineNumber,Me.column+1)))}}je.pushUndoStop(),je.executeCommands(this.id,oe),je.pushUndoStop()}}class ie extends f.R6{run(Ze,je){const Te=je.getSelections();if(Te===null)return;const Ie=je.getModel();if(Ie===null)return;const oe=je.getOption(125),ge=[];for(const Ce of Te)if(Ce.isEmpty()){const me=Ce.getStartPosition(),Me=je.getConfiguredWordAtPosition(me);if(!Me)continue;const qe=new M.e(me.lineNumber,Me.startColumn,me.lineNumber,Me.endColumn),ot=Ie.getValueInRange(qe);ge.push(A.h.replace(qe,this._modifyText(ot,oe)))}else{const me=Ie.getValueInRange(Ce);ge.push(A.h.replace(Ce,this._modifyText(me,oe)))}je.pushUndoStop(),je.executeEdits(this.id,ge),je.pushUndoStop()}}class Z extends ie{constructor(){super({id:"editor.action.transformToUppercase",label:U.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:g.u.writable})}_modifyText(Ze,je){return Ze.toLocaleUpperCase()}}class se extends ie{constructor(){super({id:"editor.action.transformToLowercase",label:U.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:g.u.writable})}_modifyText(Ze,je){return Ze.toLocaleLowerCase()}}class ve{constructor(Ze,je){this._pattern=Ze,this._flags=je,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(Ze){}}return this._actual}isSupported(){return this.get()!==null}}class he extends ie{constructor(){super({id:"editor.action.transformToTitlecase",label:U.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:g.u.writable})}_modifyText(Ze,je){const Te=he.titleBoundary.get();return Te?Ze.toLocaleLowerCase().replace(Te,Ie=>Ie.toLocaleUpperCase()):Ze}}he.titleBoundary=new ve("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ce extends ie{constructor(){super({id:"editor.action.transformToSnakecase",label:U.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:g.u.writable})}_modifyText(Ze,je){const Te=ce.caseBoundary.get(),Ie=ce.singleLetters.get();return!Te||!Ie?Ze:Ze.replace(Te,"$1_$2").replace(Ie,"$1_$2$3").toLocaleLowerCase()}}ce.caseBoundary=new ve("(\\p{Ll})(\\p{Lu})","gmu"),ce.singleLetters=new ve("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Ee extends ie{constructor(){super({id:"editor.action.transformToCamelcase",label:U.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:g.u.writable})}_modifyText(Ze,je){const Te=Ee.wordBoundary.get();if(!Te)return Ze;const Ie=Ze.split(Te);return Ie.shift()+Ie.map(ge=>ge.substring(0,1).toLocaleUpperCase()+ge.substring(1)).join("")}}Ee.wordBoundary=new ve("[_\\s-]","gm");class We extends ie{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(je=>je.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:U.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:g.u.writable})}_modifyText(Ze,je){const Te=We.caseBoundary.get(),Ie=We.singleLetters.get(),oe=We.underscoreBoundary.get();return!Te||!Ie||!oe?Ze:Ze.replace(oe,"$1-$3").replace(Te,"$1-$2").replace(Ie,"$1-$2").toLocaleLowerCase()}}We.caseBoundary=new ve("(\\p{Ll})(\\p{Lu})","gmu"),We.singleLetters=new ve("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),We.underscoreBoundary=new ve("(\\S)(_)(\\S)","gm"),(0,f.Qr)(z),(0,f.Qr)(k),(0,f.Qr)(q),(0,f.Qr)(X),(0,f.Qr)(j),(0,f.Qr)(Y),(0,f.Qr)(ee),(0,f.Qr)(fe),(0,f.Qr)(De),(0,f.Qr)(Ne),(0,f.Qr)(be),(0,f.Qr)(xe),(0,f.Qr)(Le),(0,f.Qr)(ue),(0,f.Qr)(_e),(0,f.Qr)(Ue),(0,f.Qr)(Qe),(0,f.Qr)(Re),(0,f.Qr)(Z),(0,f.Qr)(se),ce.caseBoundary.isSupported()&&ce.singleLetters.isSupported()&&(0,f.Qr)(ce),Ee.wordBoundary.isSupported()&&(0,f.Qr)(Ee),he.titleBoundary.isSupported()&&(0,f.Qr)(he),We.isSupported()&&(0,f.Qr)(We)},58997:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:function(){return W},LinkedEditingAction:function(){return G},LinkedEditingContribution:function(){return K},editorLinkedEditingBackground:function(){return q}});var m=i(16308),B=i(13484),f=i(97464),_=i(86741),v=i(20996),A=i(56709),M=i(38431),E=i(17416),R=i(28919),p=i(55298),l=i(5603),d=i(8964),g=i(50038),n=i(21081),a=i(45007),C=i(64603),D=i(26386),u=i(76826),S=i(35921),w=i(92537),L=i(69060),N=i(69344),O=function(te,X,j,J){var Y=arguments.length,ee=Y<3?X:J===null?J=Object.getOwnPropertyDescriptor(X,j):J,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(te,X,j,J);else for(var De=te.length-1;De>=0;De--)(fe=te[De])&&(ee=(Y<3?fe(ee):Y>3?fe(X,j,ee):fe(X,j))||ee);return Y>3&&ee&&Object.defineProperty(X,j,ee),ee},x=function(te,X){return function(j,J){X(j,J,te)}},T=function(te,X,j,J){function Y(ee){return ee instanceof j?ee:new j(function(fe){fe(ee)})}return new(j||(j=Promise))(function(ee,fe){function De(xe){try{be(J.next(xe))}catch(Le){fe(Le)}}function Ne(xe){try{be(J.throw(xe))}catch(Le){fe(Le)}}function be(xe){xe.done?ee(xe.value):Y(xe.value).then(De,Ne)}be((J=J.apply(te,X||[])).next())})};const W=new u.uy("LinkedEditingInputVisible",!1),U="linked-editing-decoration";let K=class zu extends M.JT{static get(X){return X.getContribution(zu.ID)}constructor(X,j,J,Y,ee){super(),this.languageConfigurationService=Y,this._syncRangesToken=0,this._localToDispose=this._register(new M.SL),this._editor=X,this._providers=J.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=W.bindTo(j),this._debounceInformation=ee.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new M.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(fe=>{(fe.hasChanged(67)||fe.hasChanged(88))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(X){const j=this._editor.getModel(),J=j!==null&&(this._editor.getOption(67)||this._editor.getOption(88))&&this._providers.has(j);if(J===this._enabled&&!X||(this._enabled=J,this.clearRanges(),this._localToDispose.clear(),!J||j===null))return;this._localToDispose.add(A.ju.runAndSubscribe(j.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(j.getLanguageId()).getWordDefinition()}));const Y=new B.vp(this._debounceInformation.get(j)),ee=()=>{var Ne;this._rangeUpdateTriggerPromise=Y.trigger(()=>this.updateRanges(),(Ne=this._debounceDuration)!==null&&Ne!==void 0?Ne:this._debounceInformation.get(j))},fe=new B.vp(0),De=Ne=>{this._rangeSyncTriggerPromise=fe.trigger(()=>this._syncRanges(Ne))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{ee()})),this._localToDispose.add(this._editor.onDidChangeModelContent(Ne=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const be=this._currentDecorations.getRange(0);if(be&&Ne.changes.every(xe=>be.intersectRanges(xe.range))){De(this._syncRangesToken);return}}ee()})),this._localToDispose.add({dispose:()=>{Y.dispose(),fe.dispose()}}),this.updateRanges()}_syncRanges(X){if(!this._editor.hasModel()||X!==this._syncRangesToken||this._currentDecorations.length===0)return;const j=this._editor.getModel(),J=this._currentDecorations.getRange(0);if(!J||J.startLineNumber!==J.endLineNumber)return this.clearRanges();const Y=j.getValueInRange(J);if(this._currentWordPattern){const fe=Y.match(this._currentWordPattern);if((fe?fe[0].length:0)!==Y.length)return this.clearRanges()}const ee=[];for(let fe=1,De=this._currentDecorations.length;fe<De;fe++){const Ne=this._currentDecorations.getRange(fe);if(Ne)if(Ne.startLineNumber!==Ne.endLineNumber)ee.push({range:Ne,text:Y});else{let be=j.getValueInRange(Ne),xe=Y,Le=Ne.startColumn,ue=Ne.endColumn;const re=E.Mh(be,xe);Le+=re,be=be.substr(re),xe=xe.substr(re);const _e=E.P1(be,xe);ue-=_e,be=be.substr(0,be.length-_e),xe=xe.substr(0,xe.length-_e),(Le!==ue||xe.length!==0)&&ee.push({range:new g.e(Ne.startLineNumber,Le,Ne.endLineNumber,ue),text:xe})}}if(ee.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const fe=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",ee),this._editor._getViewModel().setPrevEditOperationType(fe)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(X=!1){return T(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const j=this._editor.getPosition();if(!this._enabled&&!X||this._editor.getSelections().length>1){this.clearRanges();return}const J=this._editor.getModel(),Y=J.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===Y){if(j.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const fe=this._currentDecorations.getRange(0);if(fe&&fe.containsPosition(j))return}}this._currentRequestPosition=j,this._currentRequestModelVersion=Y;const ee=(0,B.PG)(fe=>T(this,void 0,void 0,function*(){try{const De=new N.G(!1),Ne=yield k(this._providers,J,j,fe);if(this._debounceInformation.update(J,De.elapsed()),ee!==this._currentRequest||(this._currentRequest=null,Y!==J.getVersionId()))return;let be=[];Ne!=null&&Ne.ranges&&(be=Ne.ranges),this._currentWordPattern=(Ne==null?void 0:Ne.wordPattern)||this._languageWordPattern;let xe=!1;for(let ue=0,re=be.length;ue<re;ue++)if(g.e.containsPosition(be[ue],j)){if(xe=!0,ue!==0){const _e=be[ue];be.splice(ue,1),be.unshift(_e)}break}if(!xe){this.clearRanges();return}const Le=be.map(ue=>({range:ue,options:zu.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(Le),this._syncRangesToken++}catch(De){(0,v.n2)(De)||(0,v.dL)(De),(this._currentRequest===ee||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=ee,ee})}};K.ID="editor.contrib.linkedEditing",K.DECORATION=a.qx.register({description:"linked-editing",stickiness:0,className:U}),K=O([x(1,u.i6),x(2,S.p),x(3,C.c_),x(4,L.A)],K);class G extends p.R6{constructor(){super({id:"editor.action.linkedEditing",label:D.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:u.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:3132,weight:100}})}runCommand(X,j){const J=X.get(l.$),[Y,ee]=Array.isArray(j)&&j||[void 0,void 0];return R.o.isUri(Y)&&d.L.isIPosition(ee)?J.openCodeEditor({resource:Y},J.getActiveCodeEditor()).then(fe=>{fe&&(fe.setPosition(ee),fe.invokeWithinContext(De=>(this.reportTelemetry(De,fe),this.run(De,fe))))},v.dL):super.runCommand(X,j)}run(X,j){const J=K.get(j);return J?Promise.resolve(J.updateRanges(!0)):Promise.resolve()}}const z=p._l.bindToContribution(K.get);(0,p.fK)(new z({id:"cancelLinkedEditingInput",precondition:W,handler:te=>te.clearRanges(),kbOpts:{kbExpr:n.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function k(te,X,j,J){const Y=te.ordered(X);return(0,B.Ps)(Y.map(ee=>()=>T(this,void 0,void 0,function*(){try{return yield ee.provideLinkedEditingRanges(X,j,J)}catch(fe){(0,v.Cp)(fe);return}})),ee=>!!ee&&m.Of(ee==null?void 0:ee.ranges))}const q=(0,w.P6G)("editor.linkedEditingBackground",{dark:_.Il.fromHex("#f00").transparent(.3),light:_.Il.fromHex("#f00").transparent(.3),hcDark:_.Il.fromHex("#f00").transparent(.3),hcLight:_.Il.white},D.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,p.sb)("_executeLinkedEditingProvider",(te,X,j)=>{const{linkedEditingRangeProvider:J}=te.get(S.p);return k(J,X,j,f.T.None)}),(0,p._K)(K.ID,K,1),(0,p.Qr)(G)},33814:function(Ot,He,i){"use strict";i.r(He),i.d(He,{LinkDetector:function(){return k}});var m=i(13484),B=i(97464),f=i(20996),_=i(69008),v=i(38431),A=i(5007),M=i(11138),E=i(6227),R=i(69344),p=i(28919),l=i(55298),d=i(45007),g=i(69060),n=i(35921),a=i(66931),C=i(16308),D=i(14818),u=i(50038),S=i(65041),w=i(80793),L=function(J,Y,ee,fe){function De(Ne){return Ne instanceof ee?Ne:new ee(function(be){be(Ne)})}return new(ee||(ee=Promise))(function(Ne,be){function xe(re){try{ue(fe.next(re))}catch(_e){be(_e)}}function Le(re){try{ue(fe.throw(re))}catch(_e){be(_e)}}function ue(re){re.done?Ne(re.value):De(re.value).then(xe,Le)}ue((fe=fe.apply(J,Y||[])).next())})};class N{constructor(Y,ee){this._link=Y,this._provider=ee}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(Y){return L(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,Y)).then(ee=>(this._link=ee||this._link,this._link.url?this.resolve(Y):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class O{constructor(Y){this._disposables=new v.SL;let ee=[];for(const[fe,De]of Y){const Ne=fe.links.map(be=>new N(be,De));ee=O._union(ee,Ne),(0,v.Wf)(fe)&&this._disposables.add(fe)}this.links=ee}dispose(){this._disposables.dispose(),this.links.length=0}static _union(Y,ee){const fe=[];let De,Ne,be,xe;for(De=0,be=0,Ne=Y.length,xe=ee.length;De<Ne&&be<xe;){const Le=Y[De],ue=ee[be];if(u.e.areIntersectingOrTouching(Le.range,ue.range)){De++;continue}u.e.compareRangesUsingStarts(Le.range,ue.range)<0?(fe.push(Le),De++):(fe.push(ue),be++)}for(;De<Ne;De++)fe.push(Y[De]);for(;be<xe;be++)fe.push(ee[be]);return fe}}function x(J,Y,ee){const fe=[],De=J.ordered(Y).reverse().map((Ne,be)=>Promise.resolve(Ne.provideLinks(Y,ee)).then(xe=>{xe&&(fe[be]=[xe,Ne])},f.Cp));return Promise.all(De).then(()=>{const Ne=new O((0,C.kX)(fe));return ee.isCancellationRequested?(Ne.dispose(),new O([])):Ne})}w.P.registerCommand("_executeLinkProvider",(J,...Y)=>L(void 0,void 0,void 0,function*(){let[ee,fe]=Y;(0,D.p_)(ee instanceof p.o),typeof fe!="number"&&(fe=0);const{linkProvider:De}=J.get(n.p),Ne=J.get(S.q).getModel(ee);if(!Ne)return[];const be=yield x(De,Ne,B.T.None);if(!be)return[];for(let Le=0;Le<Math.min(fe,be.links.length);Le++)yield be.links[Le].resolve(B.T.None);const xe=be.links.slice(0);return be.dispose(),xe}));var T=i(26386),W=i(97968),U=i(48786),K=function(J,Y,ee,fe){var De=arguments.length,Ne=De<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ee):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ne=Reflect.decorate(J,Y,ee,fe);else for(var xe=J.length-1;xe>=0;xe--)(be=J[xe])&&(Ne=(De<3?be(Ne):De>3?be(Y,ee,Ne):be(Y,ee))||Ne);return De>3&&Ne&&Object.defineProperty(Y,ee,Ne),Ne},G=function(J,Y){return function(ee,fe){Y(ee,fe,J)}},z=function(J,Y,ee,fe){function De(Ne){return Ne instanceof ee?Ne:new ee(function(be){be(Ne)})}return new(ee||(ee=Promise))(function(Ne,be){function xe(re){try{ue(fe.next(re))}catch(_e){be(_e)}}function Le(re){try{ue(fe.throw(re))}catch(_e){be(_e)}}function ue(re){re.done?Ne(re.value):De(re.value).then(xe,Le)}ue((fe=fe.apply(J,Y||[])).next())})};let k=class Th extends v.JT{static get(Y){return Y.getContribution(Th.ID)}constructor(Y,ee,fe,De,Ne){super(),this.editor=Y,this.openerService=ee,this.notificationService=fe,this.languageFeaturesService=De,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=Ne.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new m.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const be=this._register(new a.yN(Y));this._register(be.onMouseMoveOrRelevantKeyDown(([xe,Le])=>{this._onEditorMouseMove(xe,Le)})),this._register(be.onExecute(xe=>{this.onEditorMouseUp(xe)})),this._register(be.onCancel(xe=>{this.cleanUpActiveLinkDecoration()})),this._register(Y.onDidChangeConfiguration(xe=>{xe.hasChanged(68)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(Y.onDidChangeModelContent(xe=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(Y.onDidChangeModel(xe=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(Y.onDidChangeModelLanguage(xe=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(xe=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return z(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(68))return;const Y=this.editor.getModel();if(this.providers.has(Y)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,m.PG)(ee=>x(this.providers,Y,ee));try{const ee=new R.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(Y,ee.elapsed()),Y.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(ee){(0,f.dL)(ee)}finally{this.computePromise=null}}})}updateDecorations(Y){const ee=this.editor.getOption(75)==="altKey",fe=[],De=Object.keys(this.currentOccurrences);for(const be of De){const xe=this.currentOccurrences[be];fe.push(xe.decorationId)}const Ne=[];if(Y)for(const be of Y)Ne.push(te.decoration(be,ee));this.editor.changeDecorations(be=>{const xe=be.deltaDecorations(fe,Ne);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let Le=0,ue=xe.length;Le<ue;Le++){const re=new te(Y[Le],xe[Le]);this.currentOccurrences[re.decorationId]=re}})}_onEditorMouseMove(Y,ee){const fe=this.editor.getOption(75)==="altKey";if(this.isEnabled(Y,ee)){this.cleanUpActiveLinkDecoration();const De=this.getLinkOccurrence(Y.target.position);De&&this.editor.changeDecorations(Ne=>{De.activate(Ne,fe),this.activeLinkDecorationId=De.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const Y=this.editor.getOption(75)==="altKey";if(this.activeLinkDecorationId){const ee=this.currentOccurrences[this.activeLinkDecorationId];ee&&this.editor.changeDecorations(fe=>{ee.deactivate(fe,Y)}),this.activeLinkDecorationId=null}}onEditorMouseUp(Y){if(!this.isEnabled(Y))return;const ee=this.getLinkOccurrence(Y.target.position);ee&&this.openLinkOccurrence(ee,Y.hasSideBySideModifier,!0)}openLinkOccurrence(Y,ee,fe=!1){if(!this.openerService)return;const{link:De}=Y;De.resolve(B.T.None).then(Ne=>{if(typeof Ne=="string"&&this.editor.hasModel()){const be=this.editor.getModel().uri;if(be.scheme===A.lg.file&&Ne.startsWith(`${A.lg.file}:`)){const xe=p.o.parse(Ne);if(xe.scheme===A.lg.file){const Le=E.z_(xe);let ue=null;Le.startsWith("/./")?ue=`.${Le.substr(1)}`:Le.startsWith("//./")&&(ue=`.${Le.substr(2)}`),ue&&(Ne=E.Vo(be,ue))}}}return this.openerService.open(Ne,{openToSide:ee,fromUserGesture:fe,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},Ne=>{const be=Ne instanceof Error?Ne.message:Ne;be==="invalid"?this.notificationService.warn(T.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",De.url.toString())):be==="missing"?this.notificationService.warn(T.NC("missing.url","Failed to open this link because its target is missing.")):(0,f.dL)(Ne)})}getLinkOccurrence(Y){if(!this.editor.hasModel()||!Y)return null;const ee=this.editor.getModel().getDecorationsInRange({startLineNumber:Y.lineNumber,startColumn:Y.column,endLineNumber:Y.lineNumber,endColumn:Y.column},0,!0);for(const fe of ee){const De=this.currentOccurrences[fe.id];if(De)return De}return null}isEnabled(Y,ee){return Boolean(Y.target.type===6&&(Y.hasTriggerModifier||ee&&ee.keyCodeIsTriggerKey))}stop(){var Y;this.computeLinks.cancel(),this.activeLinksList&&((Y=this.activeLinksList)===null||Y===void 0||Y.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};k.ID="editor.linkDetector",k=K([G(1,U.v4),G(2,W.lT),G(3,n.p),G(4,g.A)],k);const q={general:d.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:d.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class te{static decoration(Y,ee){return{range:Y.range,options:te._getOptions(Y,ee,!1)}}static _getOptions(Y,ee,fe){const De=Object.assign({},fe?q.active:q.general);return De.hoverMessage=X(Y,ee),De}constructor(Y,ee){this.link=Y,this.decorationId=ee}activate(Y,ee){Y.changeDecorationOptions(this.decorationId,te._getOptions(this.link,ee,!0))}deactivate(Y,ee){Y.changeDecorationOptions(this.decorationId,te._getOptions(this.link,ee,!1))}}function X(J,Y){const ee=J.url&&/^command:/i.test(J.url.toString()),fe=J.tooltip?J.tooltip:ee?T.NC("links.navigate.executeCmd","Execute command"):T.NC("links.navigate.follow","Follow link"),De=Y?M.dz?T.NC("links.navigate.kb.meta.mac","cmd + click"):T.NC("links.navigate.kb.meta","ctrl + click"):M.dz?T.NC("links.navigate.kb.alt.mac","option + click"):T.NC("links.navigate.kb.alt","alt + click");if(J.url){let Ne="";if(/^command:/i.test(J.url.toString())){const xe=J.url.toString().match(/^command:([^?#]+)/);if(xe){const Le=xe[1];Ne=T.NC("tooltip.explanation","Execute command {0}",Le)}}return new _.W5("",!0).appendLink(J.url.toString(!0).replace(/ /g,"%20"),fe,Ne).appendMarkdown(` (${De})`)}else return new _.W5().appendText(`${fe} (${De})`)}class j extends l.R6{constructor(){super({id:"editor.action.openLink",label:T.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(Y,ee){const fe=k.get(ee);if(!fe||!ee.hasModel())return;const De=ee.getSelections();for(const Ne of De){const be=fe.getLinkOccurrence(Ne.getEndPosition());be&&fe.openLinkOccurrence(be,!1)}}}(0,l._K)(k.ID,k,1),(0,l.Qr)(j)},77723:function(Ot,He,i){"use strict";i.r(He);var m=i(38431),B=i(55298);class f extends m.JT{constructor(v){super(),this._editor=v,this._register(this._editor.onMouseDown(A=>{const M=this._editor.getOption(112);M>=0&&A.target.type===6&&A.target.position.column>=M&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}f.ID="editor.contrib.longLinesHelper",(0,B._K)(f.ID,f,2)},59397:function(Ot,He,i){"use strict";i.d(He,{$:function(){return n}});var m=i(10786),B=i(20996),f=i(56709),_=i(38431),v=i(71344),A=i(47626),M=i(90638),E=i(7358),R=i(48786),p=function(D,u,S,w){var L=arguments.length,N=L<3?u:w===null?w=Object.getOwnPropertyDescriptor(u,S):w,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(D,u,S,w);else for(var x=D.length-1;x>=0;x--)(O=D[x])&&(N=(L<3?O(N):L>3?O(u,S,N):O(u,S))||N);return L>3&&N&&Object.defineProperty(u,S,N),N},l=function(D,u){return function(S,w){u(S,w,D)}},d=function(D,u,S,w){function L(N){return N instanceof S?N:new S(function(O){O(N)})}return new(S||(S=Promise))(function(N,O){function x(U){try{W(w.next(U))}catch(K){O(K)}}function T(U){try{W(w.throw(U))}catch(K){O(K)}}function W(U){U.done?N(U.value):L(U.value).then(x,T)}W((w=w.apply(D,u||[])).next())})},g;let n=class Mh{constructor(u,S,w){this._options=u,this._languageService=S,this._openerService=w,this._onDidRenderAsync=new f.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(u,S,w){if(!u)return{element:document.createElement("span"),dispose:()=>{}};const L=new _.SL,N=L.add((0,m.ap)(u,Object.assign(Object.assign({},this._getRenderOptions(u,L)),S),w));return N.element.classList.add("rendered-markdown"),{element:N.element,dispose:()=>L.dispose()}}_getRenderOptions(u,S){return{codeBlockRenderer:(w,L)=>d(this,void 0,void 0,function*(){var N,O,x;let T;w?T=this._languageService.getLanguageIdByLanguageName(w):this._options.editor&&(T=(N=this._options.editor.getModel())===null||N===void 0?void 0:N.getLanguageId()),T||(T=M.bd);const W=yield(0,E.C2)(this._languageService,L,T),U=document.createElement("span");if(U.innerHTML=(x=(O=Mh._ttpTokenizer)===null||O===void 0?void 0:O.createHTML(W))!==null&&x!==void 0?x:W,this._options.editor){const K=this._options.editor.getOption(48);(0,v.N)(U,K)}else this._options.codeBlockFontFamily&&(U.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(U.style.fontSize=this._options.codeBlockFontSize),U}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:w=>a(this._openerService,w,u.isTrusted),disposables:S}}}};n._ttpTokenizer=(g=window.trustedTypes)===null||g===void 0?void 0:g.createPolicy("tokenizeToString",{createHTML(D){return D}}),n=p([l(1,A.O),l(2,R.v4)],n);function a(D,u,S){return d(this,void 0,void 0,function*(){try{return yield D.open(u,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:C(S)})}catch(w){return(0,B.dL)(w),!1}})}function C(D){return D===!0?!0:D&&Array.isArray(D.enabledCommands)?D.enabledCommands:!1}},91591:function(Ot,He,i){"use strict";i.d(He,{O:function(){return p}});var m=i(79874),B=i(13484),f=i(38431),_=i(55298),v=i(50038),A=i(26386),M=i(76826),E=function(g,n,a,C){var D=arguments.length,u=D<3?n:C===null?C=Object.getOwnPropertyDescriptor(n,a):C,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(g,n,a,C);else for(var w=g.length-1;w>=0;w--)(S=g[w])&&(u=(D<3?S(u):D>3?S(n,a,u):S(n,a))||u);return D>3&&u&&Object.defineProperty(n,a,u),u},R=function(g,n){return function(a,C){n(a,C,g)}};let p=class Uu{static get(n){return n.getContribution(Uu.ID)}constructor(n,a){this._messageWidget=new f.XK,this._messageListeners=new f.SL,this._editor=n,this._visible=Uu.MESSAGE_VISIBLE.bindTo(a)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(n,a){(0,m.Z9)(n),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new d(this._editor,a,n),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new B._F(()=>this.closeMessage(),3e3));let C;this._messageListeners.add(this._editor.onMouseMove(D=>{D.target.position&&(C?C.containsPosition(D.target.position)||this.closeMessage():C=new v.e(a.lineNumber-3,1,D.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(d.fadeOut(this._messageWidget.value))}};p.ID="editor.contrib.messageController",p.MESSAGE_VISIBLE=new M.uy("messageVisible",!1,A.NC("messageVisible","Whether the editor is currently showing an inline message")),p=E([R(1,M.i6)],p);const l=_._l.bindToContribution(p.get);(0,_.fK)(new l({id:"leaveEditorMessage",precondition:p.MESSAGE_VISIBLE,handler:g=>g.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class d{static fadeOut(n){const a=()=>{n.dispose(),clearTimeout(C),n.getDomNode().removeEventListener("animationend",a)},C=setTimeout(a,110);return n.getDomNode().addEventListener("animationend",a),n.getDomNode().classList.add("fadeOut"),{dispose:a}}constructor(n,{lineNumber:a,column:C},D){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=n,this._editor.revealLinesInCenterIfOutsideViewport(a,a,0),this._position={lineNumber:a,column:C},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const u=document.createElement("div");u.classList.add("anchor","top"),this._domNode.appendChild(u);const S=document.createElement("div");S.classList.add("message"),S.textContent=D,this._domNode.appendChild(S);const w=document.createElement("div");w.classList.add("anchor","below"),this._domNode.appendChild(w),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(n){this._domNode.classList.toggle("below",n===2)}}(0,_._K)(p.ID,p,4)},28188:function(Ot,He,i){"use strict";i.r(He),i.d(He,{AddSelectionToNextFindMatchAction:function(){return G},AddSelectionToPreviousFindMatchAction:function(){return z},CompatChangeAll:function(){return X},FocusNextCursor:function(){return fe},FocusPreviousCursor:function(){return De},InsertCursorAbove:function(){return w},InsertCursorBelow:function(){return L},MoveSelectionToNextFindMatchAction:function(){return k},MoveSelectionToPreviousFindMatchAction:function(){return q},MultiCursorSelectionController:function(){return U},MultiCursorSelectionControllerAction:function(){return K},MultiCursorSession:function(){return W},MultiCursorSessionResult:function(){return T},SelectHighlightsAction:function(){return te},SelectionHighlighter:function(){return J}});var m=i(79874),B=i(13484),f=i(94880),_=i(38431),v=i(55298),A=i(81953),M=i(50038),E=i(57841),R=i(21081),p=i(27293),l=i(26386),d=i(21208),g=i(76826),n=i(35921),a=i(98749),C=i(44333),D=function(Ne,be,xe,Le){var ue=arguments.length,re=ue<3?be:Le===null?Le=Object.getOwnPropertyDescriptor(be,xe):Le,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Ne,be,xe,Le);else for(var Ue=Ne.length-1;Ue>=0;Ue--)(_e=Ne[Ue])&&(re=(ue<3?_e(re):ue>3?_e(be,xe,re):_e(be,xe))||re);return ue>3&&re&&Object.defineProperty(be,xe,re),re},u=function(Ne,be){return function(xe,Le){be(xe,Le,Ne)}};function S(Ne,be){const xe=be.filter(Le=>!Ne.find(ue=>ue.equals(Le)));if(xe.length>=1){const Le=xe.map(re=>`line ${re.viewState.position.lineNumber} column ${re.viewState.position.column}`).join(", "),ue=xe.length===1?l.NC("cursorAdded","Cursor added: {0}",Le):l.NC("cursorsAdded","Cursors added: {0}",Le);(0,m.i7)(ue)}}class w extends v.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:l.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:R.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(be,xe,Le){if(!xe.hasModel())return;let ue=!0;Le&&Le.logicalLine===!1&&(ue=!1);const re=xe._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const _e=re.getCursorStates();re.setCursorStates(Le.source,3,A.P.addCursorUp(re,_e,ue)),re.revealTopMostCursor(Le.source),S(_e,re.getCursorStates())}}class L extends v.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:l.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:R.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(be,xe,Le){if(!xe.hasModel())return;let ue=!0;Le&&Le.logicalLine===!1&&(ue=!1);const re=xe._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const _e=re.getCursorStates();re.setCursorStates(Le.source,3,A.P.addCursorDown(re,_e,ue)),re.revealBottomMostCursor(Le.source),S(_e,re.getCursorStates())}}class N extends v.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:l.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:R.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(be,xe,Le){if(!be.isEmpty()){for(let ue=be.startLineNumber;ue<be.endLineNumber;ue++){const re=xe.getLineMaxColumn(ue);Le.push(new E.Y(ue,re,ue,re))}be.endColumn>1&&Le.push(new E.Y(be.endLineNumber,be.endColumn,be.endLineNumber,be.endColumn))}}run(be,xe){if(!xe.hasModel())return;const Le=xe.getModel(),ue=xe.getSelections(),re=xe._getViewModel(),_e=re.getCursorStates(),Ue=[];ue.forEach(Qe=>this.getCursorsForSelection(Qe,Le,Ue)),Ue.length>0&&xe.setSelections(Ue),S(_e,re.getCursorStates())}}class O extends v.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:l.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(be,xe){if(!xe.hasModel())return;const Le=xe.getSelections(),ue=xe.getModel().getLineCount(),re=[];for(let Qe=Le[0].startLineNumber;Qe<=ue;Qe++)re.push(new E.Y(Qe,Le[0].startColumn,Qe,Le[0].endColumn));const _e=xe._getViewModel(),Ue=_e.getCursorStates();re.length>0&&xe.setSelections(re),S(Ue,_e.getCursorStates())}}class x extends v.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:l.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(be,xe){if(!xe.hasModel())return;const Le=xe.getSelections(),ue=[];for(let Ue=Le[0].startLineNumber;Ue>=1;Ue--)ue.push(new E.Y(Ue,Le[0].startColumn,Ue,Le[0].endColumn));const re=xe._getViewModel(),_e=re.getCursorStates();ue.length>0&&xe.setSelections(ue),S(_e,re.getCursorStates())}}class T{constructor(be,xe,Le){this.selections=be,this.revealRange=xe,this.revealScrollType=Le}}class W{static create(be,xe){if(!be.hasModel())return null;const Le=xe.getState();if(!be.hasTextFocus()&&Le.isRevealed&&Le.searchString.length>0)return new W(be,xe,!1,Le.searchString,Le.wholeWord,Le.matchCase,null);let ue=!1,re,_e;const Ue=be.getSelections();Ue.length===1&&Ue[0].isEmpty()?(ue=!0,re=!0,_e=!0):(re=Le.wholeWord,_e=Le.matchCase);const Qe=be.getSelection();let Re,ie=null;if(Qe.isEmpty()){const Z=be.getConfiguredWordAtPosition(Qe.getStartPosition());if(!Z)return null;Re=Z.word,ie=new E.Y(Qe.startLineNumber,Z.startColumn,Qe.startLineNumber,Z.endColumn)}else Re=be.getModel().getValueInRange(Qe).replace(/\r\n/g,`
`);return new W(be,xe,ue,Re,re,_e,ie)}constructor(be,xe,Le,ue,re,_e,Ue){this._editor=be,this.findController=xe,this.isDisconnectedFromFindController=Le,this.searchText=ue,this.wholeWord=re,this.matchCase=_e,this.currentMatch=Ue}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const be=this._getNextMatch();if(!be)return null;const xe=this._editor.getSelections();return new T(xe.concat(be),be,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const be=this._getNextMatch();if(!be)return null;const xe=this._editor.getSelections();return new T(xe.slice(0,xe.length-1).concat(be),be,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ue=this.currentMatch;return this.currentMatch=null,ue}this.findController.highlightFindOptions();const be=this._editor.getSelections(),xe=be[be.length-1],Le=this._editor.getModel().findNextMatch(this.searchText,xe.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(125):null,!1);return Le?new E.Y(Le.range.startLineNumber,Le.range.startColumn,Le.range.endLineNumber,Le.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const be=this._getPreviousMatch();if(!be)return null;const xe=this._editor.getSelections();return new T(xe.concat(be),be,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const be=this._getPreviousMatch();if(!be)return null;const xe=this._editor.getSelections();return new T(xe.slice(0,xe.length-1).concat(be),be,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ue=this.currentMatch;return this.currentMatch=null,ue}this.findController.highlightFindOptions();const be=this._editor.getSelections(),xe=be[be.length-1],Le=this._editor.getModel().findPreviousMatch(this.searchText,xe.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(125):null,!1);return Le?new E.Y(Le.range.startLineNumber,Le.range.startColumn,Le.range.endLineNumber,Le.range.endColumn):null}selectAll(be){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const xe=this._editor.getModel();return be?xe.findMatches(this.searchText,be,!1,this.matchCase,this.wholeWord?this._editor.getOption(125):null,!1,1073741824):xe.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(125):null,!1,1073741824)}}class U extends _.JT{static get(be){return be.getContribution(U.ID)}constructor(be){super(),this._sessionDispose=this._register(new _.SL),this._editor=be,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(be){if(!this._session){const xe=W.create(this._editor,be);if(!xe)return;this._session=xe;const Le={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Le.wholeWordOverride=1,Le.matchCaseOverride=1,Le.isRegexOverride=2),be.getState().change(Le,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ue=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(be.getState().onFindReplaceStateChange(ue=>{(ue.matchCase||ue.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const be={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(be,!1)}this._session=null}_setSelections(be){this._ignoreSelectionChange=!0,this._editor.setSelections(be),this._ignoreSelectionChange=!1}_expandEmptyToWord(be,xe){if(!xe.isEmpty())return xe;const Le=this._editor.getConfiguredWordAtPosition(xe.getStartPosition());return Le?new E.Y(xe.startLineNumber,Le.startColumn,xe.startLineNumber,Le.endColumn):xe}_applySessionResult(be){be&&(this._setSelections(be.selections),be.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(be.revealRange,be.revealScrollType))}getSession(be){return this._session}addSelectionToNextFindMatch(be){if(this._editor.hasModel()){if(!this._session){const xe=this._editor.getSelections();if(xe.length>1){const ue=be.getState().matchCase;if(!Y(this._editor.getModel(),xe,ue)){const _e=this._editor.getModel(),Ue=[];for(let Qe=0,Re=xe.length;Qe<Re;Qe++)Ue[Qe]=this._expandEmptyToWord(_e,xe[Qe]);this._editor.setSelections(Ue);return}}}this._beginSessionIfNeeded(be),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(be){this._beginSessionIfNeeded(be),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(be){this._beginSessionIfNeeded(be),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(be){this._beginSessionIfNeeded(be),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(be){if(!this._editor.hasModel())return;let xe=null;const Le=be.getState();if(Le.isRevealed&&Le.searchString.length>0&&Le.isRegex){const ue=this._editor.getModel();Le.searchScope?xe=ue.findMatches(Le.searchString,Le.searchScope,Le.isRegex,Le.matchCase,Le.wholeWord?this._editor.getOption(125):null,!1,1073741824):xe=ue.findMatches(Le.searchString,!0,Le.isRegex,Le.matchCase,Le.wholeWord?this._editor.getOption(125):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(be),!this._session)return;xe=this._session.selectAll(Le.searchScope)}if(xe.length>0){const ue=this._editor.getSelection();for(let re=0,_e=xe.length;re<_e;re++){const Ue=xe[re];if(Ue.range.intersectRanges(ue)){xe[re]=xe[0],xe[0]=Ue;break}}this._setSelections(xe.map(re=>new E.Y(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn)))}}}U.ID="editor.contrib.multiCursorController";class K extends v.R6{run(be,xe){const Le=U.get(xe);if(!Le)return;const ue=xe._getViewModel();if(ue){const re=ue.getCursorStates(),_e=p.CommonFindController.get(xe);if(_e)this._run(Le,_e);else{const Ue=be.get(C.TG).createInstance(p.CommonFindController,xe);this._run(Le,Ue),Ue.dispose()}S(re,ue.getCursorStates())}}}class G extends K{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:l.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:R.u.focus,primary:2082,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(be,xe){be.addSelectionToNextFindMatch(xe)}}class z extends K{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:l.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(be,xe){be.addSelectionToPreviousFindMatch(xe)}}class k extends K{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:l.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:R.u.focus,primary:(0,f.gx)(2089,2082),weight:100}})}_run(be,xe){be.moveSelectionToNextFindMatch(xe)}}class q extends K{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:l.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(be,xe){be.moveSelectionToPreviousFindMatch(xe)}}class te extends K{constructor(){super({id:"editor.action.selectHighlights",label:l.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:R.u.focus,primary:3114,weight:100},menuOpts:{menuId:d.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(be,xe){be.selectAll(xe)}}class X extends K{constructor(){super({id:"editor.action.changeAll",label:l.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:g.Ao.and(R.u.writable,R.u.editorTextFocus),kbOpts:{kbExpr:R.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(be,xe){be.selectAll(xe)}}class j{constructor(be,xe,Le,ue,re){this._model=be,this._searchText=xe,this._matchCase=Le,this._wordSeparators=ue,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,re&&this._model===re._model&&this._searchText===re._searchText&&this._matchCase===re._matchCase&&this._wordSeparators===re._wordSeparators&&this._modelVersionId===re._modelVersionId&&(this._cachedFindMatches=re._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(be=>be.range),this._cachedFindMatches.sort(M.e.compareRangesUsingStarts)),this._cachedFindMatches}}let J=class Rh extends _.JT{constructor(be,xe){super(),this._languageFeaturesService=xe,this.editor=be,this._isEnabled=be.getOption(103),this._decorations=be.createDecorationsCollection(),this.updateSoon=this._register(new B.pY(()=>this._update(),300)),this.state=null,this._register(be.onDidChangeConfiguration(ue=>{this._isEnabled=be.getOption(103)})),this._register(be.onDidChangeCursorSelection(ue=>{this._isEnabled&&(ue.selection.isEmpty()?ue.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(be.onDidChangeModel(ue=>{this._setState(null)})),this._register(be.onDidChangeModelContent(ue=>{this._isEnabled&&this.updateSoon.schedule()}));const Le=p.CommonFindController.get(be);Le&&this._register(Le.getState().onFindReplaceStateChange(ue=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(Rh._createState(this.state,this._isEnabled,this.editor))}static _createState(be,xe,Le){if(!xe||!Le.hasModel())return null;const ue=Le.getSelection();if(ue.startLineNumber!==ue.endLineNumber)return null;const re=U.get(Le);if(!re)return null;const _e=p.CommonFindController.get(Le);if(!_e)return null;let Ue=re.getSession(_e);if(!Ue){const ie=Le.getSelections();if(ie.length>1){const se=_e.getState().matchCase;if(!Y(Le.getModel(),ie,se))return null}Ue=W.create(Le,_e)}if(!Ue||Ue.currentMatch||/^[ \t]+$/.test(Ue.searchText)||Ue.searchText.length>200)return null;const Qe=_e.getState(),Re=Qe.matchCase;if(Qe.isRevealed){let ie=Qe.searchString;Re||(ie=ie.toLowerCase());let Z=Ue.searchText;if(Re||(Z=Z.toLowerCase()),ie===Z&&Ue.matchCase===Qe.matchCase&&Ue.wholeWord===Qe.wholeWord&&!Qe.isRegex)return null}return new j(Le.getModel(),Ue.searchText,Ue.matchCase,Ue.wholeWord?Le.getOption(125):null,be)}_setState(be){if(this.state=be,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const xe=this.editor.getModel();if(xe.isTooLargeForTokenization())return;const Le=this.state.findMatches(),ue=this.editor.getSelections();ue.sort(M.e.compareRangesUsingStarts);const re=[];for(let Qe=0,Re=0,ie=Le.length,Z=ue.length;Qe<ie;){const se=Le[Qe];if(Re>=Z)re.push(se),Qe++;else{const ve=M.e.compareRangesUsingStarts(se,ue[Re]);ve<0?((ue[Re].isEmpty()||!M.e.areIntersecting(se,ue[Re]))&&re.push(se),Qe++):(ve>0||Qe++,Re++)}}const _e=this._languageFeaturesService.documentHighlightProvider.has(xe)&&this.editor.getOption(78),Ue=re.map(Qe=>({range:Qe,options:(0,a.w)(_e)}));this._decorations.set(Ue)}dispose(){this._setState(null),super.dispose()}};J.ID="editor.contrib.selectionHighlighter",J=D([u(1,n.p)],J);function Y(Ne,be,xe){const Le=ee(Ne,be[0],!xe);for(let ue=1,re=be.length;ue<re;ue++){const _e=be[ue];if(_e.isEmpty())return!1;const Ue=ee(Ne,_e,!xe);if(Le!==Ue)return!1}return!0}function ee(Ne,be,xe){const Le=Ne.getValueInRange(be);return xe?Le.toLowerCase():Le}class fe extends v.R6{constructor(){super({id:"editor.action.focusNextCursor",label:l.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:l.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(be,xe,Le){if(!xe.hasModel())return;const ue=xe._getViewModel();if(ue.cursorConfig.readOnly)return;ue.model.pushStackElement();const re=Array.from(ue.getCursorStates()),_e=re.shift();_e&&(re.push(_e),ue.setCursorStates(Le.source,3,re),ue.revealPrimaryCursor(Le.source,!0),S(re,ue.getCursorStates()))}}class De extends v.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:l.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:l.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(be,xe,Le){if(!xe.hasModel())return;const ue=xe._getViewModel();if(ue.cursorConfig.readOnly)return;ue.model.pushStackElement();const re=Array.from(ue.getCursorStates()),_e=re.pop();_e&&(re.unshift(_e),ue.setCursorStates(Le.source,3,re),ue.revealPrimaryCursor(Le.source,!0),S(re,ue.getCursorStates()))}}(0,v._K)(U.ID,U,4),(0,v._K)(J.ID,J,1),(0,v.Qr)(w),(0,v.Qr)(L),(0,v.Qr)(N),(0,v.Qr)(G),(0,v.Qr)(z),(0,v.Qr)(k),(0,v.Qr)(q),(0,v.Qr)(te),(0,v.Qr)(X),(0,v.Qr)(O),(0,v.Qr)(x),(0,v.Qr)(fe),(0,v.Qr)(De)},44091:function(Ot,He,i){"use strict";i.r(He),i.d(He,{TriggerParameterHintsAction:function(){return _e}});var m=i(51280),B=i(38431),f=i(55298),_=i(21081),v=i(36082),A=i(35921),M=i(13484),E=i(20996),R=i(56709),p=i(55224),l=i(97464),d=i(14818),g=i(28919),n=i(8964),a=i(91223),C=i(80793),D=i(76826),u=function(Re,ie,Z,se){function ve(he){return he instanceof Z?he:new Z(function(ce){ce(he)})}return new(Z||(Z=Promise))(function(he,ce){function Ee(Ze){try{it(se.next(Ze))}catch(je){ce(je)}}function We(Ze){try{it(se.throw(Ze))}catch(je){ce(je)}}function it(Ze){Ze.done?he(Ze.value):ve(Ze.value).then(Ee,We)}it((se=se.apply(Re,ie||[])).next())})};const S={Visible:new D.uy("parameterHintsVisible",!1),MultipleSignatures:new D.uy("parameterHintsMultipleSignatures",!1)};function w(Re,ie,Z,se,ve){return u(this,void 0,void 0,function*(){const he=Re.ordered(ie);for(const ce of he)try{const Ee=yield ce.provideSignatureHelp(ie,Z,ve,se);if(Ee)return Ee}catch(Ee){(0,E.Cp)(Ee)}})}C.P.registerCommand("_executeSignatureHelpProvider",(Re,...ie)=>u(void 0,void 0,void 0,function*(){const[Z,se,ve]=ie;(0,d.p_)(g.o.isUri(Z)),(0,d.p_)(n.L.isIPosition(se)),(0,d.p_)(typeof ve=="string"||!ve);const he=Re.get(A.p),ce=yield Re.get(a.S).createModelReference(Z);try{const Ee=yield w(he.signatureHelpProvider,ce.object.textEditorModel,n.L.lift(se),{triggerKind:v.WW.Invoke,isRetrigger:!1,triggerCharacter:ve},l.T.None);return Ee?(setTimeout(()=>Ee.dispose(),0),Ee.value):void 0}finally{ce.dispose()}}));var L=function(Re,ie,Z,se){function ve(he){return he instanceof Z?he:new Z(function(ce){ce(he)})}return new(Z||(Z=Promise))(function(he,ce){function Ee(Ze){try{it(se.next(Ze))}catch(je){ce(je)}}function We(Ze){try{it(se.throw(Ze))}catch(je){ce(je)}}function it(Ze){Ze.done?he(Ze.value):ve(Ze.value).then(Ee,We)}it((se=se.apply(Re,ie||[])).next())})},N;(function(Re){Re.Default={type:0};class ie{constructor(ve,he){this.request=ve,this.previouslyActiveHints=he,this.type=2}}Re.Pending=ie;class Z{constructor(ve){this.hints=ve,this.type=1}}Re.Active=Z})(N||(N={}));class O extends B.JT{constructor(ie,Z,se=O.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new R.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=N.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new B.XK),this.triggerChars=new p.q,this.retriggerChars=new p.q,this.triggerId=0,this.editor=ie,this.providers=Z,this.throttledDelayer=new M.vp(se),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(ve=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(ve=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(ve=>this.onCursorChange(ve))),this._register(this.editor.onDidChangeModelContent(ve=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(ve=>this.onDidType(ve))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(ie){this._state.type===2&&this._state.request.cancel(),this._state=ie}cancel(ie=!1){this.state=N.Default,this.throttledDelayer.cancel(),ie||this._onChangedHints.fire(void 0)}trigger(ie,Z){const se=this.editor.getModel();if(!se||!this.providers.has(se))return;const ve=++this.triggerId;this._pendingTriggers.push(ie),this.throttledDelayer.trigger(()=>this.doTrigger(ve),Z).catch(E.dL)}next(){if(this.state.type!==1)return;const ie=this.state.hints.signatures.length,Z=this.state.hints.activeSignature,se=Z%ie===ie-1,ve=this.editor.getOption(82).cycle;if((ie<2||se)&&!ve){this.cancel();return}this.updateActiveSignature(se&&ve?0:Z+1)}previous(){if(this.state.type!==1)return;const ie=this.state.hints.signatures.length,Z=this.state.hints.activeSignature,se=Z===0,ve=this.editor.getOption(82).cycle;if((ie<2||se)&&!ve){this.cancel();return}this.updateActiveSignature(se&&ve?ie-1:Z-1)}updateActiveSignature(ie){this.state.type===1&&(this.state=new N.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:ie})),this._onChangedHints.fire(this.state.hints))}doTrigger(ie){return L(this,void 0,void 0,function*(){const Z=this.state.type===1||this.state.type===2,se=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const ve=this._pendingTriggers.reduce(x);this._pendingTriggers=[];const he={triggerKind:ve.triggerKind,triggerCharacter:ve.triggerCharacter,isRetrigger:Z,activeSignatureHelp:se};if(!this.editor.hasModel())return!1;const ce=this.editor.getModel(),Ee=this.editor.getPosition();this.state=new N.Pending((0,M.PG)(We=>w(this.providers,ce,Ee,he,We)),se);try{const We=yield this.state.request;return ie!==this.triggerId?(We==null||We.dispose(),!1):!We||!We.value.signatures||We.value.signatures.length===0?(We==null||We.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new N.Active(We.value),this._lastSignatureHelpResult.value=We,this._onChangedHints.fire(this.state.hints),!0)}catch(We){return ie===this.triggerId&&(this.state=N.Default),(0,E.dL)(We),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const ie=this.editor.getModel();if(ie)for(const Z of this.providers.ordered(ie)){for(const se of Z.signatureHelpTriggerCharacters||[])if(se.length){const ve=se.charCodeAt(0);this.triggerChars.add(ve),this.retriggerChars.add(ve)}for(const se of Z.signatureHelpRetriggerCharacters||[])se.length&&this.retriggerChars.add(se.charCodeAt(0))}}onDidType(ie){if(!this.triggerOnType)return;const Z=ie.length-1,se=ie.charCodeAt(Z);(this.triggerChars.has(se)||this.isTriggered&&this.retriggerChars.has(se))&&this.trigger({triggerKind:v.WW.TriggerCharacter,triggerCharacter:ie.charAt(Z)})}onCursorChange(ie){ie.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:v.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:v.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(82).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}O.DEFAULT_DELAY=120;function x(Re,ie){switch(ie.triggerKind){case v.WW.Invoke:return ie;case v.WW.ContentChange:return Re;case v.WW.TriggerCharacter:default:return ie}}var T=i(26386),W=i(44333),U=i(34441),K=i(79874),G=i(60018),z=i(407),k=i(17416),q=i(47626),te=i(59397),X=i(48786),j=i(92537),J=i(89528),Y=i(8216),ee=function(Re,ie,Z,se){var ve=arguments.length,he=ve<3?ie:se===null?se=Object.getOwnPropertyDescriptor(ie,Z):se,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(Re,ie,Z,se);else for(var Ee=Re.length-1;Ee>=0;Ee--)(ce=Re[Ee])&&(he=(ve<3?ce(he):ve>3?ce(ie,Z,he):ce(ie,Z))||he);return ve>3&&he&&Object.defineProperty(ie,Z,he),he},fe=function(Re,ie){return function(Z,se){ie(Z,se,Re)}};const De=U.$,Ne=(0,J.q5)("parameter-hints-next",z.l.chevronDown,T.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),be=(0,J.q5)("parameter-hints-previous",z.l.chevronUp,T.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let xe=class Ph extends B.JT{constructor(ie,Z,se,ve,he){super(),this.editor=ie,this.model=Z,this.renderDisposeables=this._register(new B.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new te.$({editor:ie},he,ve)),this.keyVisible=S.Visible.bindTo(se),this.keyMultipleSignatures=S.MultipleSignatures.bindTo(se)}createParameterHintDOMNodes(){const ie=De(".editor-widget.parameter-hints-widget"),Z=U.R3(ie,De(".phwrapper"));Z.tabIndex=-1;const se=U.R3(Z,De(".controls")),ve=U.R3(se,De(".button"+Y.k.asCSSSelector(be))),he=U.R3(se,De(".overloads")),ce=U.R3(se,De(".button"+Y.k.asCSSSelector(Ne)));this._register(U.nm(ve,"click",Te=>{U.zB.stop(Te),this.previous()})),this._register(U.nm(ce,"click",Te=>{U.zB.stop(Te),this.next()}));const Ee=De(".body"),We=new G.s$(Ee,{alwaysConsumeMouseWheel:!0});this._register(We),Z.appendChild(We.getDomNode());const it=U.R3(Ee,De(".signature")),Ze=U.R3(Ee,De(".docs"));ie.style.userSelect="text",this.domNodes={element:ie,signature:it,overloads:he,docs:Ze,scrollbar:We},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Te=>{this.visible&&this.editor.layoutContentWidget(this)}));const je=()=>{if(!this.domNodes)return;const Te=this.editor.getOption(48);this.domNodes.element.style.fontSize=`${Te.fontSize}px`,this.domNodes.element.style.lineHeight=`${Te.lineHeight/Te.fontSize}`};je(),this._register(R.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(Te=>Te.hasChanged(48)).on(je,null)),this._register(this.editor.onDidLayoutChange(Te=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var ie;(ie=this.domNodes)===null||ie===void 0||ie.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var ie;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(ie=this.domNodes)===null||ie===void 0||ie.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(ie){var Z;if(this.renderDisposeables.clear(),!this.domNodes)return;const se=ie.signatures.length>1;this.domNodes.element.classList.toggle("multiple",se),this.keyMultipleSignatures.set(se),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const ve=ie.signatures[ie.activeSignature];if(!ve)return;const he=U.R3(this.domNodes.signature,De(".code")),ce=this.editor.getOption(48);he.style.fontSize=`${ce.fontSize}px`,he.style.fontFamily=ce.fontFamily;const Ee=ve.parameters.length>0,We=(Z=ve.activeParameter)!==null&&Z!==void 0?Z:ie.activeParameter;if(Ee)this.renderParameters(he,ve,We);else{const je=U.R3(he,De("span"));je.textContent=ve.label}const it=ve.parameters[We];if(it!=null&&it.documentation){const je=De("span.documentation");if(typeof it.documentation=="string")je.textContent=it.documentation;else{const Te=this.renderMarkdownDocs(it.documentation);je.appendChild(Te.element)}U.R3(this.domNodes.docs,De("p",{},je))}if(ve.documentation!==void 0)if(typeof ve.documentation=="string")U.R3(this.domNodes.docs,De("p",{},ve.documentation));else{const je=this.renderMarkdownDocs(ve.documentation);U.R3(this.domNodes.docs,je.element)}const Ze=this.hasDocs(ve,it);if(this.domNodes.signature.classList.toggle("has-docs",Ze),this.domNodes.docs.classList.toggle("empty",!Ze),this.domNodes.overloads.textContent=String(ie.activeSignature+1).padStart(ie.signatures.length.toString().length,"0")+"/"+ie.signatures.length,it){let je="";const Te=ve.parameters[We];Array.isArray(Te.label)?je=ve.label.substring(Te.label[0],Te.label[1]):je=Te.label,Te.documentation&&(je+=typeof Te.documentation=="string"?`, ${Te.documentation}`:`, ${Te.documentation.value}`),ve.documentation&&(je+=typeof ve.documentation=="string"?`, ${ve.documentation}`:`, ${ve.documentation.value}`),this.announcedLabel!==je&&(K.Z9(T.NC("hint","{0}, hint",je)),this.announcedLabel=je)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(ie){const Z=this.renderDisposeables.add(this.markdownRenderer.render(ie,{asyncRenderCallback:()=>{var se;(se=this.domNodes)===null||se===void 0||se.scrollbar.scanDomNode()}}));return Z.element.classList.add("markdown-docs"),Z}hasDocs(ie,Z){return!!(Z&&typeof Z.documentation=="string"&&(0,d.cW)(Z.documentation).length>0||Z&&typeof Z.documentation=="object"&&(0,d.cW)(Z.documentation).value.length>0||ie.documentation&&typeof ie.documentation=="string"&&(0,d.cW)(ie.documentation).length>0||ie.documentation&&typeof ie.documentation=="object"&&(0,d.cW)(ie.documentation.value).length>0)}renderParameters(ie,Z,se){const[ve,he]=this.getParameterLabelOffsets(Z,se),ce=document.createElement("span");ce.textContent=Z.label.substring(0,ve);const Ee=document.createElement("span");Ee.textContent=Z.label.substring(ve,he),Ee.className="parameter active";const We=document.createElement("span");We.textContent=Z.label.substring(he),U.R3(ie,ce,Ee,We)}getParameterLabelOffsets(ie,Z){const se=ie.parameters[Z];if(se){if(Array.isArray(se.label))return se.label;if(se.label.length){const ve=new RegExp(`(\\W|^)${(0,k.ec)(se.label)}(?=\\W|$)`,"g");ve.test(ie.label);const he=ve.lastIndex-se.label.length;return he>=0?[he,ve.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Ph.ID}updateMaxHeight(){if(!this.domNodes)return;const Z=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=Z;const se=this.domNodes.element.getElementsByClassName("phwrapper");se.length&&(se[0].style.maxHeight=Z)}};xe.ID="editor.widget.parameterHintsWidget",xe=ee([fe(2,D.i6),fe(3,X.v4),fe(4,q.O)],xe),(0,j.P6G)("editorHoverWidget.highlightForeground",{dark:j.Gwp,light:j.Gwp,hcDark:j.Gwp,hcLight:j.Gwp},T.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var Le=function(Re,ie,Z,se){var ve=arguments.length,he=ve<3?ie:se===null?se=Object.getOwnPropertyDescriptor(ie,Z):se,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(Re,ie,Z,se);else for(var Ee=Re.length-1;Ee>=0;Ee--)(ce=Re[Ee])&&(he=(ve<3?ce(he):ve>3?ce(ie,Z,he):ce(ie,Z))||he);return ve>3&&he&&Object.defineProperty(ie,Z,he),he},ue=function(Re,ie){return function(Z,se){ie(Z,se,Re)}};let re=class Oh extends B.JT{static get(ie){return ie.getContribution(Oh.ID)}constructor(ie,Z,se){super(),this.editor=ie,this.model=this._register(new O(ie,se.signatureHelpProvider)),this._register(this.model.onChangedHints(ve=>{var he;ve?(this.widget.value.show(),this.widget.value.render(ve)):(he=this.widget.rawValue)===null||he===void 0||he.hide()})),this.widget=new m.o(()=>this._register(Z.createInstance(xe,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var ie;(ie=this.widget.rawValue)===null||ie===void 0||ie.previous()}next(){var ie;(ie=this.widget.rawValue)===null||ie===void 0||ie.next()}trigger(ie){this.model.trigger(ie,0)}};re.ID="editor.controller.parameterHints",re=Le([ue(1,W.TG),ue(2,A.p)],re);class _e extends f.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:T.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:_.u.hasSignatureHelpProvider,kbOpts:{kbExpr:_.u.editorTextFocus,primary:3082,weight:100}})}run(ie,Z){const se=re.get(Z);se==null||se.trigger({triggerKind:v.WW.Invoke})}}(0,f._K)(re.ID,re,2),(0,f.Qr)(_e);const Ue=100+75,Qe=f._l.bindToContribution(re.get);(0,f.fK)(new Qe({id:"closeParameterHints",precondition:S.Visible,handler:Re=>Re.cancel(),kbOpts:{weight:Ue,kbExpr:_.u.focus,primary:9,secondary:[1033]}})),(0,f.fK)(new Qe({id:"showPrevParameterHint",precondition:D.Ao.and(S.Visible,S.MultipleSignatures),handler:Re=>Re.previous(),kbOpts:{weight:Ue,kbExpr:_.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,f.fK)(new Qe({id:"showNextParameterHint",precondition:D.Ao.and(S.Visible,S.MultipleSignatures),handler:Re=>Re.next(),kbOpts:{weight:Ue,kbExpr:_.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},10479:function(Ot,He,i){"use strict";i.d(He,{Fw:function(){return q},Jy:function(){return te},vk:function(){return Y},rc:function(){return j},SC:function(){return Ne},M8:function(){return be},KY:function(){return ee},IH:function(){return fe},R7:function(){return De}});var m=i(34441),B=i(67235),f=i(98299),_=i(407),v=i(8216),A=i(86741),M=i(56709),E=i(23127),R=i(55298),p=i(5603),l=i(77957),d=i(52243),g=i(6100),n=i(38431),a=i(50038),C=i(45007);const D=new A.Il(new A.VS(0,122,204)),u={showArrow:!0,showFrame:!0,className:"",frameColor:D,arrowColor:D,keepEditorSelection:!1},S="vs.editor.contrib.zoneWidget";class w{constructor(ve,he,ce,Ee,We,it){this.id="",this.domNode=ve,this.afterLineNumber=he,this.afterColumn=ce,this.heightInLines=Ee,this._onDomNodeTop=We,this._onComputedHeight=it}onDomNodeTop(ve){this._onDomNodeTop(ve)}onComputedHeight(ve){this._onComputedHeight(ve)}}class L{constructor(ve,he){this._id=ve,this._domNode=he}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class N{constructor(ve){this._editor=ve,this._ruleName=N._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),m.uN(this._ruleName)}set color(ve){this._color!==ve&&(this._color=ve,this._updateStyle())}set height(ve){this._height!==ve&&(this._height=ve,this._updateStyle())}_updateStyle(){m.uN(this._ruleName),m.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(ve){ve.column===1&&(ve={lineNumber:ve.lineNumber,column:2}),this._decorations.set([{range:a.e.fromPositions(ve),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}N._IdGenerator=new g.R(".arrow-decoration-");class O{constructor(ve,he={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new n.SL,this.container=null,this._isShowing=!1,this.editor=ve,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=E.I8(he),E.jB(this.options,u,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(ce=>{const Ee=this._getWidth(ce);this.domNode.style.width=Ee+"px",this.domNode.style.left=this._getLeft(ce)+"px",this._onWidth(Ee)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(ve=>{this._viewZone&&ve.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new N(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(ve){ve.frameColor&&(this.options.frameColor=ve.frameColor),ve.arrowColor&&(this.options.arrowColor=ve.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const ve=this.options.frameColor.toString();this.container.style.borderTopColor=ve,this.container.style.borderBottomColor=ve}if(this._arrow&&this.options.arrowColor){const ve=this.options.arrowColor.toString();this._arrow.color=ve}}_getWidth(ve){return ve.width-ve.minimap.minimapWidth-ve.verticalScrollbarWidth}_getLeft(ve){return ve.minimap.minimapWidth>0&&ve.minimap.minimapLeft===0?ve.minimap.minimapWidth:0}_onViewZoneTop(ve){this.domNode.style.top=ve+"px"}_onViewZoneHeight(ve){var he;if(this.domNode.style.height=`${ve}px`,this.container){const ce=ve-this._decoratingElementsHeight();this.container.style.height=`${ce}px`;const Ee=this.editor.getLayoutInfo();this._doLayout(ce,this._getWidth(Ee))}(he=this._resizeSash)===null||he===void 0||he.layout()}get position(){const ve=this._positionMarkerId.getRange(0);if(ve)return ve.getStartPosition()}show(ve,he){const ce=a.e.isIRange(ve)?a.e.lift(ve):a.e.fromPositions(ve);this._isShowing=!0,this._showImpl(ce,he),this._isShowing=!1,this._positionMarkerId.set([{range:ce,options:C.qx.EMPTY}])}hide(){var ve;this._viewZone&&(this.editor.changeViewZones(he=>{this._viewZone&&he.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(ve=this._arrow)===null||ve===void 0||ve.hide()}_decoratingElementsHeight(){const ve=this.editor.getOption(64);let he=0;if(this.options.showArrow){const ce=Math.round(ve/3);he+=2*ce}if(this.options.showFrame){const ce=Math.round(ve/9);he+=2*ce}return he}_showImpl(ve,he){const ce=ve.getStartPosition(),Ee=this.editor.getLayoutInfo(),We=this._getWidth(Ee);this.domNode.style.width=`${We}px`,this.domNode.style.left=this._getLeft(Ee)+"px";const it=document.createElement("div");it.style.overflow="hidden";const Ze=this.editor.getOption(64),je=Math.max(12,this.editor.getLayoutInfo().height/Ze*.8);he=Math.min(he,je);let Te=0,Ie=0;if(this._arrow&&this.options.showArrow&&(Te=Math.round(Ze/3),this._arrow.height=Te,this._arrow.show(ce)),this.options.showFrame&&(Ie=Math.round(Ze/9)),this.editor.changeViewZones(Ce=>{this._viewZone&&Ce.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new w(it,ce.lineNumber,ce.column,he,me=>this._onViewZoneTop(me),me=>this._onViewZoneHeight(me)),this._viewZone.id=Ce.addZone(this._viewZone),this._overlayWidget=new L(S+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Ce=this.options.frameWidth?this.options.frameWidth:Ie;this.container.style.borderTopWidth=Ce+"px",this.container.style.borderBottomWidth=Ce+"px"}const oe=he*Ze-this._decoratingElementsHeight();this.container&&(this.container.style.top=Te+"px",this.container.style.height=oe+"px",this.container.style.overflow="hidden"),this._doLayout(oe,We),this.options.keepEditorSelection||this.editor.setSelection(ve);const ge=this.editor.getModel();if(ge){const Ce=ge.validateRange(new a.e(ve.startLineNumber,1,ve.endLineNumber+1,1));this.revealRange(Ce,Ce.endLineNumber===ge.getLineCount())}}revealRange(ve,he){he?this.editor.revealLineNearTop(ve.endLineNumber,0):this.editor.revealRange(ve,0)}setCssClass(ve,he){this.container&&(he&&this.container.classList.remove(he),this.container.classList.add(ve))}_onWidth(ve){}_doLayout(ve,he){}_relayout(ve){this._viewZone&&this._viewZone.heightInLines!==ve&&this.editor.changeViewZones(he=>{this._viewZone&&(this._viewZone.heightInLines=ve,he.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new d.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let ve;this._disposables.add(this._resizeSash.onDidStart(he=>{this._viewZone&&(ve={startY:he.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{ve=void 0})),this._disposables.add(this._resizeSash.onDidChange(he=>{if(ve){const ce=(he.currentY-ve.startY)/this.editor.getOption(64),Ee=ce<0?Math.ceil(ce):Math.floor(ce),We=ve.heightInLines+Ee;We>5&&We<35&&this._relayout(We)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const ve=this.editor.getLayoutInfo();return ve.width-ve.minimap.minimapWidth}}var x=i(26386),T=i(3941),W=i(76826),U=i(53061),K=i(44333),G=i(92537),z=function(se,ve,he,ce){var Ee=arguments.length,We=Ee<3?ve:ce===null?ce=Object.getOwnPropertyDescriptor(ve,he):ce,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")We=Reflect.decorate(se,ve,he,ce);else for(var Ze=se.length-1;Ze>=0;Ze--)(it=se[Ze])&&(We=(Ee<3?it(We):Ee>3?it(ve,he,We):it(ve,he))||We);return Ee>3&&We&&Object.defineProperty(ve,he,We),We},k=function(se,ve){return function(he,ce){ve(he,ce,se)}};const q=(0,K.yh)("IPeekViewService");(0,U.z)(q,class{constructor(){this._widgets=new Map}addExclusiveWidget(se,ve){const he=this._widgets.get(se);he&&(he.listener.dispose(),he.widget.dispose());const ce=()=>{const Ee=this._widgets.get(se);Ee&&Ee.widget===ve&&(Ee.listener.dispose(),this._widgets.delete(se))};this._widgets.set(se,{widget:ve,listener:ve.onDidClose(ce)})}},1);var te;(function(se){se.inPeekEditor=new W.uy("inReferenceSearchEditor",!0,x.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),se.notInPeekEditor=se.inPeekEditor.toNegated()})(te||(te={}));let X=class{constructor(ve,he){ve instanceof l.H&&te.inPeekEditor.bindTo(he)}dispose(){}};X.ID="editor.contrib.referenceController",X=z([k(1,W.i6)],X),(0,R._K)(X.ID,X,0);function j(se){const ve=se.get(p.$).getFocusedCodeEditor();return ve instanceof l.H?ve.getParentEditor():ve}const J={headerBackgroundColor:A.Il.white,primaryHeadingColor:A.Il.fromHex("#333333"),secondaryHeadingColor:A.Il.fromHex("#6c6c6cb3")};let Y=class extends O{constructor(ve,he,ce){super(ve,he),this.instantiationService=ce,this._onDidClose=new M.Q5,this.onDidClose=this._onDidClose.event,E.jB(this.options,J,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(ve){const he=this.options;ve.headerBackgroundColor&&(he.headerBackgroundColor=ve.headerBackgroundColor),ve.primaryHeadingColor&&(he.primaryHeadingColor=ve.primaryHeadingColor),ve.secondaryHeadingColor&&(he.secondaryHeadingColor=ve.secondaryHeadingColor),super.style(ve)}_applyStyles(){super._applyStyles();const ve=this.options;this._headElement&&ve.headerBackgroundColor&&(this._headElement.style.backgroundColor=ve.headerBackgroundColor.toString()),this._primaryHeading&&ve.primaryHeadingColor&&(this._primaryHeading.style.color=ve.primaryHeadingColor.toString()),this._secondaryHeading&&ve.secondaryHeadingColor&&(this._secondaryHeading.style.color=ve.secondaryHeadingColor.toString()),this._bodyElement&&ve.frameColor&&(this._bodyElement.style.borderColor=ve.frameColor.toString())}_fillContainer(ve){this.setCssClass("peekview-widget"),this._headElement=m.$(".head"),this._bodyElement=m.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),ve.appendChild(this._headElement),ve.appendChild(this._bodyElement)}_fillHead(ve,he){this._titleElement=m.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),m.mu(this._titleElement,"click",We=>this._onTitleClick(We))),m.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=m.$("span.filename"),this._secondaryHeading=m.$("span.dirname"),this._metaHeading=m.$("span.meta"),m.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const ce=m.$(".peekview-actions");m.R3(this._headElement,ce);const Ee=this._getActionBarOptions();this._actionbarWidget=new B.o(ce,Ee),this._disposables.add(this._actionbarWidget),he||this._actionbarWidget.push(new f.aU("peekview.close",x.NC("label.close","Close"),v.k.asClassName(_.l.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(ve){}_getActionBarOptions(){return{actionViewItemProvider:T.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(ve){}setTitle(ve,he){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=ve,this._primaryHeading.setAttribute("title",ve),he?this._secondaryHeading.innerText=he:m.PO(this._secondaryHeading))}setMetaTitle(ve){this._metaHeading&&(ve?(this._metaHeading.innerText=ve,m.$Z(this._metaHeading)):m.Cp(this._metaHeading))}_doLayout(ve,he){if(!this._isShowing&&ve<0){this.dispose();return}const ce=Math.ceil(this.editor.getOption(64)*1.2),Ee=Math.round(ve-(ce+2));this._doLayoutHead(ce,he),this._doLayoutBody(Ee,he)}_doLayoutHead(ve,he){this._headElement&&(this._headElement.style.height=`${ve}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(ve,he){this._bodyElement&&(this._bodyElement.style.height=`${ve}px`)}};Y=z([k(2,K.TG)],Y);const ee=(0,G.P6G)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:A.Il.black,hcLight:A.Il.white},x.NC("peekViewTitleBackground","Background color of the peek view title area.")),fe=(0,G.P6G)("peekViewTitleLabel.foreground",{dark:A.Il.white,light:A.Il.black,hcDark:A.Il.white,hcLight:G.NOs},x.NC("peekViewTitleForeground","Color of the peek view title.")),De=(0,G.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},x.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),Ne=(0,G.P6G)("peekView.border",{dark:G.c63,light:G.c63,hcDark:G.lRK,hcLight:G.lRK},x.NC("peekViewBorder","Color of the peek view borders and arrow.")),be=(0,G.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:A.Il.black,hcLight:A.Il.white},x.NC("peekViewResultsBackground","Background color of the peek view result list.")),xe=(0,G.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:A.Il.white,hcLight:G.NOs},x.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Le=(0,G.P6G)("peekViewResult.fileForeground",{dark:A.Il.white,light:"#1E1E1E",hcDark:A.Il.white,hcLight:G.NOs},x.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),ue=(0,G.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},x.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),re=(0,G.P6G)("peekViewResult.selectionForeground",{dark:A.Il.white,light:"#6C6C6C",hcDark:A.Il.white,hcLight:G.NOs},x.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),_e=(0,G.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:A.Il.black,hcLight:A.Il.white},x.NC("peekViewEditorBackground","Background color of the peek view editor.")),Ue=(0,G.P6G)("peekViewEditorGutter.background",{dark:_e,light:_e,hcDark:_e,hcLight:_e},x.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Qe=(0,G.P6G)("peekViewEditorStickyScroll.background",{dark:_e,light:_e,hcDark:_e,hcLight:_e},x.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),Re=(0,G.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},x.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),ie=(0,G.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},x.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Z=(0,G.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:G.xL1,hcLight:G.xL1},x.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},32034:function(Ot,He,i){"use strict";i.d(He,{X:function(){return E}});var m=i(89717),B=i(38431),f=i(14818),_=i(86086),v=i(41913),A=i(44411),M=i(58566);class E{constructor(p){this.options=p,this.rangeHighlightDecorationId=void 0}provide(p,l){var d;const g=new B.SL;p.canAcceptInBackground=!!(!((d=this.options)===null||d===void 0)&&d.canAcceptInBackground),p.matchOnLabel=p.matchOnDescription=p.matchOnDetail=p.sortByLabel=!1;const n=g.add(new B.XK);return n.value=this.doProvide(p,l),g.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(p,l)})),g}doProvide(p,l){const d=new B.SL,g=this.activeTextEditorControl;if(g&&this.canProvideWithTextEditor(g)){const n={editor:g},a=(0,_.Pi)(g);if(a){let C=(0,f.f6)(g.saveViewState());d.add(a.onDidChangeCursorPosition(()=>{C=(0,f.f6)(g.saveViewState())})),n.restoreViewState=()=>{C&&g===this.activeTextEditorControl&&g.restoreViewState(C)},d.add((0,m.I)(l.onCancellationRequested)(()=>{var D;return(D=n.restoreViewState)===null||D===void 0?void 0:D.call(n)}))}d.add((0,B.OF)(()=>this.clearDecorations(g))),d.add(this.provideWithTextEditor(n,p,l))}else d.add(this.provideWithoutTextEditor(p,l));return d}canProvideWithTextEditor(p){return!0}gotoLocation({editor:p},l){p.setSelection(l.range),p.revealRangeInCenter(l.range,0),l.preserveFocus||p.focus()}getModel(p){var l;return(0,_.QI)(p)?(l=p.getModel())===null||l===void 0?void 0:l.modified:p.getModel()}addDecorations(p,l){p.changeDecorations(d=>{const g=[];this.rangeHighlightDecorationId&&(g.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),g.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:l,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:l,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,M.EN)(A.m9),position:v.sh.Full}}}],[a,C]=d.deltaDecorations(g,n);this.rangeHighlightDecorationId={rangeHighlightId:a,overviewRulerDecorationId:C}})}clearDecorations(p){const l=this.rangeHighlightDecorationId;l&&(p.changeDecorations(d=>{d.deltaDecorations([l.overviewRulerDecorationId,l.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},25778:function(Ot,He,i){"use strict";i.r(He),i.d(He,{ReadOnlyMessageController:function(){return v}});var m=i(38431),B=i(55298),f=i(91591),_=i(26386);class v extends m.JT{constructor(M){super(),this.editor=M,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const M=f.O.get(this.editor);M&&this.editor.hasModel()&&(this.editor.isSimpleWidget?M.showMessage(_.NC("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):M.showMessage(_.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}v.ID="editor.contrib.readOnlyMessageController",(0,B._K)(v.ID,v,2)},22289:function(Ot,He,i){"use strict";i.r(He),i.d(He,{RenameAction:function(){return fe},rename:function(){return Y}});var m=i(79874),B=i(13484),f=i(97464),_=i(20996),v=i(38431),A=i(14818),M=i(28919),E=i(44426),R=i(55298),p=i(53028),l=i(5603),d=i(8964),g=i(50038),n=i(21081),a=i(16576),C=i(91591),D=i(26386),u=i(12326),S=i(76826),w=i(44333),L=i(59271),N=i(97968),O=i(79969),x=i(6325),T=i(62297),W=i(92537),U=i(58566),K=function(Ne,be,xe,Le){var ue=arguments.length,re=ue<3?be:Le===null?Le=Object.getOwnPropertyDescriptor(be,xe):Le,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Ne,be,xe,Le);else for(var Ue=Ne.length-1;Ue>=0;Ue--)(_e=Ne[Ue])&&(re=(ue<3?_e(re):ue>3?_e(be,xe,re):_e(be,xe))||re);return ue>3&&re&&Object.defineProperty(be,xe,re),re},G=function(Ne,be){return function(xe,Le){be(xe,Le,Ne)}};const z=new S.uy("renameInputVisible",!1,(0,D.NC)("renameInputVisible","Whether the rename input widget is visible"));let k=class{constructor(be,xe,Le,ue,re){this._editor=be,this._acceptKeybindings=xe,this._themeService=Le,this._keybindingService=ue,this._disposables=new v.SL,this.allowEditorOverflow=!0,this._visibleContextKey=z.bindTo(re),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(_e=>{_e.hasChanged(48)&&this._updateFont()})),this._disposables.add(Le.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,D.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(be){var xe,Le,ue,re;if(!this._input||!this._domNode)return;const _e=be.getColor(W.rh),Ue=be.getColor(W.A42);this._domNode.style.backgroundColor=String((xe=be.getColor(W.D0T))!==null&&xe!==void 0?xe:""),this._domNode.style.boxShadow=_e?` 0 0 8px 2px ${_e}`:"",this._domNode.style.border=Ue?`1px solid ${Ue}`:"",this._domNode.style.color=String((Le=be.getColor(W.zJb))!==null&&Le!==void 0?Le:""),this._input.style.backgroundColor=String((ue=be.getColor(W.sEe))!==null&&ue!==void 0?ue:"");const Qe=be.getColor(W.dt_);this._input.style.borderWidth=Qe?"1px":"0px",this._input.style.borderStyle=Qe?"solid":"none",this._input.style.borderColor=(re=Qe==null?void 0:Qe.toString())!==null&&re!==void 0?re:"none"}_updateFont(){if(!this._input||!this._label)return;const be=this._editor.getOption(48);this._input.style.fontFamily=be.fontFamily,this._input.style.fontWeight=be.fontWeight,this._input.style.fontSize=`${be.fontSize}px`,this._label.style.fontSize=`${be.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var be,xe;const[Le,ue]=this._acceptKeybindings;return this._label.innerText=(0,D.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(be=this._keybindingService.lookupKeybinding(Le))===null||be===void 0?void 0:be.getLabel(),(xe=this._keybindingService.lookupKeybinding(ue))===null||xe===void 0?void 0:xe.getLabel()),null}afterRender(be){be||this.cancelInput(!0)}acceptInput(be){var xe;(xe=this._currentAcceptInput)===null||xe===void 0||xe.call(this,be)}cancelInput(be){var xe;(xe=this._currentCancelInput)===null||xe===void 0||xe.call(this,be)}getInput(be,xe,Le,ue,re,_e){this._domNode.classList.toggle("preview",re),this._position=new d.L(be.startLineNumber,be.startColumn),this._input.value=xe,this._input.setAttribute("selectionStart",Le.toString()),this._input.setAttribute("selectionEnd",ue.toString()),this._input.size=Math.max((be.endColumn-be.startColumn)*1.1,20);const Ue=new v.SL;return new Promise(Qe=>{this._currentCancelInput=Re=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Qe(Re),!0),this._currentAcceptInput=Re=>{if(this._input.value.trim().length===0||this._input.value===xe){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Qe({newName:this._input.value,wantsPreview:re&&Re})},Ue.add(_e.onCancellationRequested(()=>this.cancelInput(!0))),Ue.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this._show()}).finally(()=>{Ue.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};k=K([G(2,U.XE),G(3,T.d),G(4,S.i6)],k);var q=i(35921),te=function(Ne,be,xe,Le){var ue=arguments.length,re=ue<3?be:Le===null?Le=Object.getOwnPropertyDescriptor(be,xe):Le,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(Ne,be,xe,Le);else for(var Ue=Ne.length-1;Ue>=0;Ue--)(_e=Ne[Ue])&&(re=(ue<3?_e(re):ue>3?_e(be,xe,re):_e(be,xe))||re);return ue>3&&re&&Object.defineProperty(be,xe,re),re},X=function(Ne,be){return function(xe,Le){be(xe,Le,Ne)}},j=function(Ne,be,xe,Le){function ue(re){return re instanceof xe?re:new xe(function(_e){_e(re)})}return new(xe||(xe=Promise))(function(re,_e){function Ue(ie){try{Re(Le.next(ie))}catch(Z){_e(Z)}}function Qe(ie){try{Re(Le.throw(ie))}catch(Z){_e(Z)}}function Re(ie){ie.done?re(ie.value):ue(ie.value).then(Ue,Qe)}Re((Le=Le.apply(Ne,be||[])).next())})};class J{constructor(be,xe,Le){this.model=be,this.position=xe,this._providerRenameIdx=0,this._providers=Le.ordered(be)}hasProvider(){return this._providers.length>0}resolveRenameLocation(be){return j(this,void 0,void 0,function*(){const xe=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const ue=this._providers[this._providerRenameIdx];if(!ue.resolveRenameLocation)break;const re=yield ue.resolveRenameLocation(this.model,this.position,be);if(re){if(re.rejectReason){xe.push(re.rejectReason);continue}return re}}const Le=this.model.getWordAtPosition(this.position);return Le?{range:new g.e(this.position.lineNumber,Le.startColumn,this.position.lineNumber,Le.endColumn),text:Le.word,rejectReason:xe.length>0?xe.join(`
`):void 0}:{range:g.e.fromPositions(this.position),text:"",rejectReason:xe.length>0?xe.join(`
`):void 0}})}provideRenameEdits(be,xe){return j(this,void 0,void 0,function*(){return this._provideRenameEdits(be,this._providerRenameIdx,[],xe)})}_provideRenameEdits(be,xe,Le,ue){return j(this,void 0,void 0,function*(){const re=this._providers[xe];if(!re)return{edits:[],rejectReason:Le.join(`
`)};const _e=yield re.provideRenameEdits(this.model,this.position,be,ue);if(_e){if(_e.rejectReason)return this._provideRenameEdits(be,xe+1,Le.concat(_e.rejectReason),ue)}else return this._provideRenameEdits(be,xe+1,Le.concat(D.NC("no result","No result.")),ue);return _e})}}function Y(Ne,be,xe,Le){return j(this,void 0,void 0,function*(){const ue=new J(be,xe,Ne),re=yield ue.resolveRenameLocation(f.T.None);return re!=null&&re.rejectReason?{edits:[],rejectReason:re.rejectReason}:ue.provideRenameEdits(Le,f.T.None)})}let ee=class Ah{static get(be){return be.getContribution(Ah.ID)}constructor(be,xe,Le,ue,re,_e,Ue,Qe){this.editor=be,this._instaService=xe,this._notificationService=Le,this._bulkEditService=ue,this._progressService=re,this._logService=_e,this._configService=Ue,this._languageFeaturesService=Qe,this._disposableStore=new v.SL,this._cts=new f.A,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(k,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var be,xe;return j(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const Le=this.editor.getPosition(),ue=new J(this.editor.getModel(),Le,this._languageFeaturesService.renameProvider);if(!ue.hasProvider())return;this._cts=new E.Dl(this.editor,5);let re;try{const se=ue.resolveRenameLocation(this._cts.token);this._progressService.showWhile(se,250),re=yield se}catch(se){(be=C.O.get(this.editor))===null||be===void 0||be.showMessage(se||D.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),Le);return}if(!re)return;if(re.rejectReason){(xe=C.O.get(this.editor))===null||xe===void 0||xe.showMessage(re.rejectReason,Le);return}if(this._cts.token.isCancellationRequested){this._cts.dispose();return}this._cts.dispose(),this._cts=new E.Dl(this.editor,5,re.range);const _e=this.editor.getSelection();let Ue=0,Qe=re.text.length;!g.e.isEmpty(_e)&&!g.e.spansMultipleLines(_e)&&g.e.containsRange(re.range,_e)&&(Ue=Math.max(0,_e.startColumn-re.range.startColumn),Qe=Math.min(re.range.endColumn,_e.endColumn)-re.range.startColumn);const Re=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),ie=yield this._renameInputField.getInput(re.range,re.text,Ue,Qe,Re,this._cts.token);if(typeof ie=="boolean"){ie&&this.editor.focus();return}this.editor.focus();const Z=(0,B.eP)(ue.provideRenameEdits(ie.newName,this._cts.token),this._cts.token).then(se=>j(this,void 0,void 0,function*(){if(!(!se||!this.editor.hasModel())){if(se.rejectReason){this._notificationService.info(se.rejectReason);return}this.editor.setSelection(g.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(se,{editor:this.editor,showPreview:ie.wantsPreview,label:D.NC("label","Renaming '{0}' to '{1}'",re==null?void 0:re.text,ie.newName),code:"undoredo.rename",quotableLabel:D.NC("quotableLabel","Renaming {0} to {1}",re==null?void 0:re.text,ie.newName),respectAutoSaveConfig:!0}).then(ve=>{ve.ariaSummary&&(0,m.Z9)(D.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",re.text,ie.newName,ve.ariaSummary))}).catch(ve=>{this._notificationService.error(D.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(ve)})}}),se=>{this._notificationService.error(D.NC("rename.failed","Rename failed to compute edits")),this._logService.error(se)});return this._progressService.showWhile(Z,250),Z})}acceptRenameInput(be){this._renameInputField.acceptInput(be)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};ee.ID="editor.contrib.renameController",ee=te([X(1,w.TG),X(2,N.lT),X(3,p.vu),X(4,O.ek),X(5,L.VZ),X(6,a.V),X(7,q.p)],ee);class fe extends R.R6{constructor(){super({id:"editor.action.rename",label:D.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:S.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(be,xe){const Le=be.get(l.$),[ue,re]=Array.isArray(xe)&&xe||[void 0,void 0];return M.o.isUri(ue)&&d.L.isIPosition(re)?Le.openCodeEditor({resource:ue},Le.getActiveCodeEditor()).then(_e=>{_e&&(_e.setPosition(re),_e.invokeWithinContext(Ue=>(this.reportTelemetry(Ue,_e),this.run(Ue,_e))))},_.dL):super.runCommand(be,xe)}run(be,xe){const Le=ee.get(xe);return Le?Le.run():Promise.resolve()}}(0,R._K)(ee.ID,ee,4),(0,R.Qr)(fe);const De=R._l.bindToContribution(ee.get);(0,R.fK)(new De({id:"acceptRenameInput",precondition:z,handler:Ne=>Ne.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:S.Ao.and(n.u.focus,S.Ao.not("isComposing")),primary:3}})),(0,R.fK)(new De({id:"acceptRenameInputWithPreview",precondition:S.Ao.and(z,S.Ao.has("config.editor.rename.enablePreview")),handler:Ne=>Ne.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:S.Ao.and(n.u.focus,S.Ao.not("isComposing")),primary:1024+3}})),(0,R.fK)(new De({id:"cancelRenameInput",precondition:z,handler:Ne=>Ne.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:n.u.focus,primary:9,secondary:[1033]}})),(0,R.sb)("_executeDocumentRenameProvider",function(Ne,be,xe,...Le){const[ue]=Le;(0,A.p_)(typeof ue=="string");const{renameProvider:re}=Ne.get(q.p);return Y(re,be,xe,ue)}),(0,R.sb)("_executePrepareRename",function(Ne,be,xe){return j(this,void 0,void 0,function*(){const{renameProvider:Le}=Ne.get(q.p),re=yield new J(be,xe,Le).resolveRenameLocation(f.T.None);if(re!=null&&re.rejectReason)throw new Error(re.rejectReason);return re})}),x.B.as(u.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:D.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},58988:function(Ot,He,i){"use strict";i.r(He),i.d(He,{DocumentSemanticTokensFeature:function(){return u}});var m=i(38431),B=i(20996),f=i(65041),_=i(71177),v=i(13484),A=i(97464),M=i(58566),E=i(76263),R=i(75705),p=i(69060),l=i(69344),d=i(35921),g=i(76567),n=i(56072),a=i(56450),C=function(L,N,O,x){var T=arguments.length,W=T<3?N:x===null?x=Object.getOwnPropertyDescriptor(N,O):x,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,N,O,x);else for(var K=L.length-1;K>=0;K--)(U=L[K])&&(W=(T<3?U(W):T>3?U(N,O,W):U(N,O))||W);return T>3&&W&&Object.defineProperty(N,O,W),W},D=function(L,N){return function(O,x){N(O,x,L)}};let u=class extends m.JT{constructor(N,O,x,T,W,U){super(),this._watchers=Object.create(null);const K=k=>{this._watchers[k.uri.toString()]=new S(k,N,x,W,U)},G=(k,q)=>{q.dispose(),delete this._watchers[k.uri.toString()]},z=()=>{for(const k of O.getModels()){const q=this._watchers[k.uri.toString()];(0,a.t)(k,x,T)?q||K(k):q&&G(k,q)}};this._register(O.onModelAdded(k=>{(0,a.t)(k,x,T)&&K(k)})),this._register(O.onModelRemoved(k=>{const q=this._watchers[k.uri.toString()];q&&G(k,q)})),this._register(T.onDidChangeConfiguration(k=>{k.affectsConfiguration(a.e)&&z()})),this._register(x.onDidColorThemeChange(z))}dispose(){for(const N of Object.values(this._watchers))N.dispose();super.dispose()}};u=C([D(0,g.s),D(1,f.q),D(2,M.XE),D(3,_.Ui),D(4,p.A),D(5,d.p)],u);let S=class Sc extends m.JT{constructor(N,O,x,T,W){super(),this._semanticTokensStylingService=O,this._isDisposed=!1,this._model=N,this._provider=W.documentSemanticTokensProvider,this._debounceInformation=T.for(this._provider,"DocumentSemanticTokens",{min:Sc.REQUEST_MIN_DELAY,max:Sc.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new v.pY(()=>this._fetchDocumentSemanticTokensNow(),Sc.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const U=()=>{(0,m.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const K of this._provider.all(N))typeof K.onDidChange=="function"&&this._documentProvidersChangeListeners.push(K.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};U(),this._register(this._provider.onDidChange(()=>{U(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(x.onDidColorThemeChange(K=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,R.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const N=new A.A,O=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,x=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,T=(0,R.ML)(this._provider,this._model,O,x,N.token);this._currentDocumentRequestCancellationTokenSource=N,this._providersChangedDuringRequest=!1;const W=[],U=this._model.onDidChangeContent(G=>{W.push(G)}),K=new l.G(!1);T.then(G=>{if(this._debounceInformation.update(this._model,K.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,U.dispose(),!G)this._setDocumentSemanticTokens(null,null,null,W);else{const{provider:z,tokens:k}=G,q=this._semanticTokensStylingService.getStyling(z);this._setDocumentSemanticTokens(z,k||null,q,W)}},G=>{G&&(B.n2(G)||typeof G.message=="string"&&G.message.indexOf("busy")!==-1)||B.dL(G),this._currentDocumentRequestCancellationTokenSource=null,U.dispose(),(W.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(N,O,x,T,W){W=Math.min(W,x.length-T,N.length-O);for(let U=0;U<W;U++)x[T+U]=N[O+U]}_setDocumentSemanticTokens(N,O,x,T){const W=this._currentDocumentResponse,U=()=>{(T.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){N&&O&&N.releaseDocumentSemanticTokens(O.resultId);return}if(!N||!x){this._model.tokenization.setSemanticTokens(null,!1);return}if(!O){this._model.tokenization.setSemanticTokens(null,!0),U();return}if((0,R.Vj)(O)){if(!W){this._model.tokenization.setSemanticTokens(null,!0);return}if(O.edits.length===0)O={resultId:O.resultId,data:W.data};else{let K=0;for(const te of O.edits)K+=(te.data?te.data.length:0)-te.deleteCount;const G=W.data,z=new Uint32Array(G.length+K);let k=G.length,q=z.length;for(let te=O.edits.length-1;te>=0;te--){const X=O.edits[te];if(X.start>G.length){x.warnInvalidEditStart(W.resultId,O.resultId,te,X.start,G.length),this._model.tokenization.setSemanticTokens(null,!0);return}const j=k-(X.start+X.deleteCount);j>0&&(Sc._copy(G,k-j,z,q-j,j),q-=j),X.data&&(Sc._copy(X.data,0,z,q-X.data.length,X.data.length),q-=X.data.length),k=X.start}k>0&&Sc._copy(G,0,z,0,k),O={resultId:O.resultId,data:z}}}if((0,R.Vl)(O)){this._currentDocumentResponse=new w(N,O.resultId,O.data);const K=(0,E.h)(O,x,this._model.getLanguageId());if(T.length>0)for(const G of T)for(const z of K)for(const k of G.changes)z.applyEdit(k.range,k.text);this._model.tokenization.setSemanticTokens(K,!0)}else this._model.tokenization.setSemanticTokens(null,!0);U()}};S.REQUEST_MIN_DELAY=300,S.REQUEST_MAX_DELAY=2e3,S=C([D(1,g.s),D(2,M.XE),D(3,p.A),D(4,d.p)],S);class w{constructor(N,O,x){this.provider=N,this.resultId=O,this.data=x}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,n.y)(u)},65329:function(Ot,He,i){"use strict";i.r(He),i.d(He,{ViewportSemanticTokensContribution:function(){return a}});var m=i(13484),B=i(38431),f=i(55298),_=i(75705),v=i(56450),A=i(76263),M=i(71177),E=i(58566),R=i(69060),p=i(69344),l=i(35921),d=i(76567),g=function(C,D,u,S){var w=arguments.length,L=w<3?D:S===null?S=Object.getOwnPropertyDescriptor(D,u):S,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,D,u,S);else for(var O=C.length-1;O>=0;O--)(N=C[O])&&(L=(w<3?N(L):w>3?N(D,u,L):N(D,u))||L);return w>3&&L&&Object.defineProperty(D,u,L),L},n=function(C,D){return function(u,S){D(u,S,C)}};let a=class extends B.JT{constructor(D,u,S,w,L,N){super(),this._semanticTokensStylingService=u,this._themeService=S,this._configurationService=w,this._editor=D,this._provider=N.documentRangeSemanticTokensProvider,this._debounceInformation=L.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new m.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const O=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{O()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),O()})),this._register(this._editor.onDidChangeModelContent(x=>{this._cancelAll(),O()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),O()})),this._register(this._configurationService.onDidChangeConfiguration(x=>{x.affectsConfiguration(v.e)&&(this._cancelAll(),O())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),O()})),O()}_cancelAll(){for(const D of this._outstandingRequests)D.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(D){for(let u=0,S=this._outstandingRequests.length;u<S;u++)if(this._outstandingRequests[u]===D){this._outstandingRequests.splice(u,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const D=this._editor.getModel();if(D.tokenization.hasCompleteSemanticTokens())return;if(!(0,v.t)(D,this._themeService,this._configurationService)){D.tokenization.hasSomeSemanticTokens()&&D.tokenization.setSemanticTokens(null,!1);return}if(!(0,_.KO)(this._provider,D)){D.tokenization.hasSomeSemanticTokens()&&D.tokenization.setSemanticTokens(null,!1);return}const u=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(u.map(S=>this._requestRange(D,S)))}_requestRange(D,u){const S=D.getVersionId(),w=(0,m.PG)(N=>Promise.resolve((0,_.OG)(this._provider,D,u,N))),L=new p.G(!1);return w.then(N=>{if(this._debounceInformation.update(D,L.elapsed()),!N||!N.tokens||D.isDisposed()||D.getVersionId()!==S)return;const{provider:O,tokens:x}=N,T=this._semanticTokensStylingService.getStyling(O);D.tokenization.setPartialSemanticTokens(u,(0,A.h)(x,T,D.getLanguageId()))}).then(()=>this._removeOutstandingRequest(w),()=>this._removeOutstandingRequest(w)),w}};a.ID="editor.contrib.viewportSemanticTokens",a=g([n(1,d.s),n(2,E.XE),n(3,M.Ui),n(4,R.A),n(5,l.p)],a),(0,f._K)(a.ID,a,1)},75705:function(Ot,He,i){"use strict";i.d(He,{OG:function(){return W},ML:function(){return L},KO:function(){return x},Jc:function(){return S},Vl:function(){return C},Vj:function(){return D}});var m=i(97464),B=i(20996),f=i(28919),_=i(65041),v=i(80793),A=i(14818),M=i(77511),E=i(11138);function R(U){for(let K=0,G=U.length;K<G;K+=4){const z=U[K+0],k=U[K+1],q=U[K+2],te=U[K+3];U[K+0]=te,U[K+1]=q,U[K+2]=k,U[K+3]=z}}function p(U){const K=new Uint8Array(U.buffer,U.byteOffset,U.length*4);return E.r()||R(K),M.KN.wrap(K)}function l(U){const K=new Uint32Array(d(U));let G=0;if(K[G++]=U.id,U.type==="full")K[G++]=1,K[G++]=U.data.length,K.set(U.data,G),G+=U.data.length;else{K[G++]=2,K[G++]=U.deltas.length;for(const z of U.deltas)K[G++]=z.start,K[G++]=z.deleteCount,z.data?(K[G++]=z.data.length,K.set(z.data,G),G+=z.data.length):K[G++]=0}return p(K)}function d(U){let K=0;if(K+=1+1,U.type==="full")K+=1+U.data.length;else{K+=1,K+=(1+1+1)*U.deltas.length;for(const G of U.deltas)G.data&&(K+=G.data.length)}return K}var g=i(50038),n=i(35921),a=function(U,K,G,z){function k(q){return q instanceof G?q:new G(function(te){te(q)})}return new(G||(G=Promise))(function(q,te){function X(Y){try{J(z.next(Y))}catch(ee){te(ee)}}function j(Y){try{J(z.throw(Y))}catch(ee){te(ee)}}function J(Y){Y.done?q(Y.value):k(Y.value).then(X,j)}J((z=z.apply(U,K||[])).next())})};function C(U){return U&&!!U.data}function D(U){return U&&Array.isArray(U.edits)}class u{constructor(K,G,z){this.provider=K,this.tokens=G,this.error=z}}function S(U,K){return U.has(K)}function w(U,K){const G=U.orderedGroups(K);return G.length>0?G[0]:[]}function L(U,K,G,z,k){return a(this,void 0,void 0,function*(){const q=w(U,K),te=yield Promise.all(q.map(X=>a(this,void 0,void 0,function*(){let j,J=null;try{j=yield X.provideDocumentSemanticTokens(K,X===G?z:null,k)}catch(Y){J=Y,j=null}return(!j||!C(j)&&!D(j))&&(j=null),new u(X,j,J)})));for(const X of te){if(X.error)throw X.error;if(X.tokens)return X}return te.length>0?te[0]:null})}function N(U,K){const G=U.orderedGroups(K);return G.length>0?G[0]:null}class O{constructor(K,G){this.provider=K,this.tokens=G}}function x(U,K){return U.has(K)}function T(U,K){const G=U.orderedGroups(K);return G.length>0?G[0]:[]}function W(U,K,G,z){return a(this,void 0,void 0,function*(){const k=T(U,K),q=yield Promise.all(k.map(te=>a(this,void 0,void 0,function*(){let X;try{X=yield te.provideDocumentRangeSemanticTokens(K,G,z)}catch(j){(0,B.Cp)(j),X=null}return(!X||!C(X))&&(X=null),new O(te,X)})));for(const te of q)if(te.tokens)return te;return q.length>0?q[0]:null})}v.P.registerCommand("_provideDocumentSemanticTokensLegend",(U,...K)=>a(void 0,void 0,void 0,function*(){const[G]=K;(0,A.p_)(G instanceof f.o);const z=U.get(_.q).getModel(G);if(!z)return;const{documentSemanticTokensProvider:k}=U.get(n.p),q=N(k,z);return q?q[0].getLegend():U.get(v.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",G)})),v.P.registerCommand("_provideDocumentSemanticTokens",(U,...K)=>a(void 0,void 0,void 0,function*(){const[G]=K;(0,A.p_)(G instanceof f.o);const z=U.get(_.q).getModel(G);if(!z)return;const{documentSemanticTokensProvider:k}=U.get(n.p);if(!S(k,z))return U.get(v.H).executeCommand("_provideDocumentRangeSemanticTokens",G,z.getFullModelRange());const q=yield L(k,z,null,null,m.T.None);if(!q)return;const{provider:te,tokens:X}=q;if(!X||!C(X))return;const j=l({id:0,type:"full",data:X.data});return X.resultId&&te.releaseDocumentSemanticTokens(X.resultId),j})),v.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(U,...K)=>a(void 0,void 0,void 0,function*(){const[G,z]=K;(0,A.p_)(G instanceof f.o);const k=U.get(_.q).getModel(G);if(!k)return;const{documentRangeSemanticTokensProvider:q}=U.get(n.p),te=T(q,k);if(te.length===0)return;if(te.length===1)return te[0].getLegend();if(!z||!g.e.isIRange(z))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),te[0].getLegend();const X=yield W(q,k,g.e.lift(z),m.T.None);if(X)return X.provider.getLegend()})),v.P.registerCommand("_provideDocumentRangeSemanticTokens",(U,...K)=>a(void 0,void 0,void 0,function*(){const[G,z]=K;(0,A.p_)(G instanceof f.o),(0,A.p_)(g.e.isIRange(z));const k=U.get(_.q).getModel(G);if(!k)return;const{documentRangeSemanticTokensProvider:q}=U.get(n.p),te=yield W(q,k,g.e.lift(z),m.T.None);if(!(!te||!te.tokens))return l({id:0,type:"full",data:te.tokens.data})}))},56450:function(Ot,He,i){"use strict";i.d(He,{e:function(){return m},t:function(){return B}});const m="editor.semanticHighlighting";function B(f,_,v){var A;const M=(A=v.getValue(m,{overrideIdentifier:f.getLanguageId(),resource:f.uri}))===null||A===void 0?void 0:A.enabled;return typeof M=="boolean"?M:_.getColorTheme().semanticHighlighting}},6258:function(Ot,He,i){"use strict";i.d(He,{x:function(){return v}});var m=i(17979),B=i(8964),f=i(50038),_=function(A,M,E,R){function p(l){return l instanceof E?l:new E(function(d){d(l)})}return new(E||(E=Promise))(function(l,d){function g(C){try{a(R.next(C))}catch(D){d(D)}}function n(C){try{a(R.throw(C))}catch(D){d(D)}}function a(C){C.done?l(C.value):p(C.value).then(g,n)}a((R=R.apply(A,M||[])).next())})};class v{provideSelectionRanges(M,E){return _(this,void 0,void 0,function*(){const R=[];for(const p of E){const l=[];R.push(l);const d=new Map;yield new Promise(g=>v._bracketsRightYield(g,0,M,p,d)),yield new Promise(g=>v._bracketsLeftYield(g,0,M,p,d,l))}return R})}static _bracketsRightYield(M,E,R,p,l){const d=new Map,g=Date.now();for(;;){if(E>=v._maxRounds){M();break}if(!p){M();break}const n=R.bracketPairs.findNextBracket(p);if(!n){M();break}if(Date.now()-g>v._maxDuration){setTimeout(()=>v._bracketsRightYield(M,E+1,R,p,l));break}if(n.bracketInfo.isOpeningBracket){const C=n.bracketInfo.bracketText,D=d.has(C)?d.get(C):0;d.set(C,D+1)}else{const C=n.bracketInfo.getOpeningBrackets()[0].bracketText;let D=d.has(C)?d.get(C):0;if(D-=1,d.set(C,Math.max(0,D)),D<0){let u=l.get(C);u||(u=new m.S,l.set(C,u)),u.push(n.range)}}p=n.range.getEndPosition()}}static _bracketsLeftYield(M,E,R,p,l,d){const g=new Map,n=Date.now();for(;;){if(E>=v._maxRounds&&l.size===0){M();break}if(!p){M();break}const a=R.bracketPairs.findPrevBracket(p);if(!a){M();break}if(Date.now()-n>v._maxDuration){setTimeout(()=>v._bracketsLeftYield(M,E+1,R,p,l,d));break}if(a.bracketInfo.isOpeningBracket){const D=a.bracketInfo.bracketText;let u=g.has(D)?g.get(D):0;if(u-=1,g.set(D,Math.max(0,u)),u<0){const S=l.get(D);if(S){const w=S.shift();S.size===0&&l.delete(D);const L=f.e.fromPositions(a.range.getEndPosition(),w.getStartPosition()),N=f.e.fromPositions(a.range.getStartPosition(),w.getEndPosition());d.push({range:L}),d.push({range:N}),v._addBracketLeading(R,N,d)}}}else{const D=a.bracketInfo.getOpeningBrackets()[0].bracketText,u=g.has(D)?g.get(D):0;g.set(D,u+1)}p=a.range.getStartPosition()}}static _addBracketLeading(M,E,R){if(E.startLineNumber===E.endLineNumber)return;const p=E.startLineNumber,l=M.getLineFirstNonWhitespaceColumn(p);l!==0&&l!==E.startColumn&&(R.push({range:f.e.fromPositions(new B.L(p,l),E.getEndPosition())}),R.push({range:f.e.fromPositions(new B.L(p,1),E.getEndPosition())}));const d=p-1;if(d>0){const g=M.getLineFirstNonWhitespaceColumn(d);g===E.startColumn&&g!==M.getLineLastNonWhitespaceColumn(d)&&(R.push({range:f.e.fromPositions(new B.L(d,g),E.getEndPosition())}),R.push({range:f.e.fromPositions(new B.L(d,1),E.getEndPosition())}))}}}v._maxDuration=30,v._maxRounds=2},28211:function(Ot,He,i){"use strict";i.r(He),i.d(He,{SmartSelectController:function(){return O},provideSelectionRanges:function(){return U}});var m=i(16308),B=i(97464),f=i(20996),_=i(55298),v=i(8964),A=i(50038),M=i(57841),E=i(21081),R=i(6258),p=i(17416);class l{provideSelectionRanges(G,z){const k=[];for(const q of z){const te=[];k.push(te),this._addInWordRanges(te,G,q),this._addWordRanges(te,G,q),this._addWhitespaceLine(te,G,q),te.push({range:G.getFullModelRange()})}return k}_addInWordRanges(G,z,k){const q=z.getWordAtPosition(k);if(!q)return;const{word:te,startColumn:X}=q,j=k.column-X;let J=j,Y=j,ee=0;for(;J>=0;J--){const fe=te.charCodeAt(J);if(J!==j&&(fe===95||fe===45))break;if((0,p.mK)(fe)&&(0,p.df)(ee))break;ee=fe}for(J+=1;Y<te.length;Y++){const fe=te.charCodeAt(Y);if((0,p.df)(fe)&&(0,p.mK)(ee))break;if(fe===95||fe===45)break;ee=fe}J<Y&&G.push({range:new A.e(k.lineNumber,X+J,k.lineNumber,X+Y)})}_addWordRanges(G,z,k){const q=z.getWordAtPosition(k);q&&G.push({range:new A.e(k.lineNumber,q.startColumn,k.lineNumber,q.endColumn)})}_addWhitespaceLine(G,z,k){z.getLineLength(k.lineNumber)>0&&z.getLineFirstNonWhitespaceColumn(k.lineNumber)===0&&z.getLineLastNonWhitespaceColumn(k.lineNumber)===0&&G.push({range:new A.e(k.lineNumber,1,k.lineNumber,z.getLineMaxColumn(k.lineNumber))})}}var d=i(26386),g=i(21208),n=i(80793),a=i(35921),C=i(91223),D=i(14818),u=i(28919),S=function(K,G,z,k){var q=arguments.length,te=q<3?G:k===null?k=Object.getOwnPropertyDescriptor(G,z):k,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(K,G,z,k);else for(var j=K.length-1;j>=0;j--)(X=K[j])&&(te=(q<3?X(te):q>3?X(G,z,te):X(G,z))||te);return q>3&&te&&Object.defineProperty(G,z,te),te},w=function(K,G){return function(z,k){G(z,k,K)}},L=function(K,G,z,k){function q(te){return te instanceof z?te:new z(function(X){X(te)})}return new(z||(z=Promise))(function(te,X){function j(ee){try{Y(k.next(ee))}catch(fe){X(fe)}}function J(ee){try{Y(k.throw(ee))}catch(fe){X(fe)}}function Y(ee){ee.done?te(ee.value):q(ee.value).then(j,J)}Y((k=k.apply(K,G||[])).next())})};class N{constructor(G,z){this.index=G,this.ranges=z}mov(G){const z=this.index+(G?1:-1);if(z<0||z>=this.ranges.length)return this;const k=new N(z,this.ranges);return k.ranges[z].equalsRange(this.ranges[this.index])?k.mov(G):k}}let O=class kh{static get(G){return G.getContribution(kh.ID)}constructor(G,z){this._editor=G,this._languageFeaturesService=z,this._ignoreSelection=!1}dispose(){var G;(G=this._selectionListener)===null||G===void 0||G.dispose()}run(G){return L(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const z=this._editor.getSelections(),k=this._editor.getModel();if(this._state||(yield U(this._languageFeaturesService.selectionRangeProvider,k,z.map(te=>te.getPosition()),this._editor.getOption(108),B.T.None).then(te=>{var X;if(!(!m.Of(te)||te.length!==z.length)&&!(!this._editor.hasModel()||!m.fS(this._editor.getSelections(),z,(j,J)=>j.equalsSelection(J)))){for(let j=0;j<te.length;j++)te[j]=te[j].filter(J=>J.containsPosition(z[j].getStartPosition())&&J.containsPosition(z[j].getEndPosition())),te[j].unshift(z[j]);this._state=te.map(j=>new N(0,j)),(X=this._selectionListener)===null||X===void 0||X.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var j;this._ignoreSelection||((j=this._selectionListener)===null||j===void 0||j.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(te=>te.mov(G));const q=this._state.map(te=>M.Y.fromPositions(te.ranges[te.index].getStartPosition(),te.ranges[te.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(q)}finally{this._ignoreSelection=!1}})}};O.ID="editor.contrib.smartSelectController",O=S([w(1,a.p)],O);class x extends _.R6{constructor(G,z){super(z),this._forward=G}run(G,z){return L(this,void 0,void 0,function*(){const k=O.get(z);k&&(yield k.run(this._forward))})}}class T extends x{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:d.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"1_basic",title:d.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}n.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class W extends x{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:d.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"1_basic",title:d.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,_._K)(O.ID,O,4),(0,_.Qr)(T),(0,_.Qr)(W);function U(K,G,z,k,q){return L(this,void 0,void 0,function*(){const te=K.all(G).concat(new l);te.length===1&&te.unshift(new R.x);const X=[],j=[];for(const J of te)X.push(Promise.resolve(J.provideSelectionRanges(G,z,q)).then(Y=>{if(m.Of(Y)&&Y.length===z.length)for(let ee=0;ee<z.length;ee++){j[ee]||(j[ee]=[]);for(const fe of Y[ee])A.e.isIRange(fe.range)&&A.e.containsPosition(fe.range,z[ee])&&j[ee].push(A.e.lift(fe.range))}},f.Cp));return yield Promise.all(X),j.map(J=>{if(J.length===0)return[];J.sort((De,Ne)=>v.L.isBefore(De.getStartPosition(),Ne.getStartPosition())?1:v.L.isBefore(Ne.getStartPosition(),De.getStartPosition())||v.L.isBefore(De.getEndPosition(),Ne.getEndPosition())?-1:v.L.isBefore(Ne.getEndPosition(),De.getEndPosition())?1:0);const Y=[];let ee;for(const De of J)(!ee||A.e.containsRange(De,ee)&&!A.e.equalsRange(De,ee))&&(Y.push(De),ee=De);if(!k.selectLeadingAndTrailingWhitespace)return Y;const fe=[Y[0]];for(let De=1;De<Y.length;De++){const Ne=Y[De-1],be=Y[De];if(be.startLineNumber!==Ne.startLineNumber||be.endLineNumber!==Ne.endLineNumber){const xe=new A.e(Ne.startLineNumber,G.getLineFirstNonWhitespaceColumn(Ne.startLineNumber),Ne.endLineNumber,G.getLineLastNonWhitespaceColumn(Ne.endLineNumber));xe.containsRange(Ne)&&!xe.equalsRange(Ne)&&be.containsRange(xe)&&!be.equalsRange(xe)&&fe.push(xe);const Le=new A.e(Ne.startLineNumber,1,Ne.endLineNumber,G.getLineMaxColumn(Ne.endLineNumber));Le.containsRange(Ne)&&!Le.equalsRange(xe)&&be.containsRange(Le)&&!be.equalsRange(Le)&&fe.push(Le)}fe.push(be)}return fe})})}n.P.registerCommand("_executeSelectionRangeProvider",function(K,...G){return L(this,void 0,void 0,function*(){const[z,k]=G;(0,D.p_)(u.o.isUri(z));const q=K.get(a.p).selectionRangeProvider,te=yield K.get(C.S).createModelReference(z);try{return U(q,te.object.textEditorModel,k,{selectLeadingAndTrailingWhitespace:!0},B.T.None)}finally{te.dispose()}})})},31046:function(Ot,He,i){"use strict";i.r(He),i.d(He,{SnippetController2:function(){return C}});var m=i(38431),B=i(14818),f=i(55298),_=i(8964),v=i(21081),A=i(64603),M=i(35921),E=i(33024),R=i(26386),p=i(76826),l=i(59271),d=i(51116),g=function(u,S,w,L){var N=arguments.length,O=N<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,w):L,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(u,S,w,L);else for(var T=u.length-1;T>=0;T--)(x=u[T])&&(O=(N<3?x(O):N>3?x(S,w,O):x(S,w))||O);return N>3&&O&&Object.defineProperty(S,w,O),O},n=function(u,S){return function(w,L){S(w,L,u)}};const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let C=class dd{static get(S){return S.getContribution(dd.ID)}constructor(S,w,L,N,O){this._editor=S,this._logService=w,this._languageFeaturesService=L,this._languageConfigurationService=O,this._snippetListener=new m.SL,this._modelVersionId=-1,this._inSnippet=dd.InSnippetMode.bindTo(N),this._hasNextTabstop=dd.HasNextTabstop.bindTo(N),this._hasPrevTabstop=dd.HasPrevTabstop.bindTo(N)}dispose(){var S;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(S=this._session)===null||S===void 0||S.dispose(),this._snippetListener.dispose()}insert(S,w){try{this._doInsert(S,typeof w=="undefined"?a:Object.assign(Object.assign({},a),w))}catch(L){this.cancel(),this._logService.error(L),this._logService.error("snippet_error"),this._logService.error("insert_template=",S),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(S,w){var L;if(this._editor.hasModel()){if(this._snippetListener.clear(),w.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof S!="string"&&this.cancel(),this._session?((0,B.p_)(typeof S=="string"),this._session.merge(S,w)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new d.l(this._editor,S,w,this._languageConfigurationService),this._session.insert()),w.undoStopAfter&&this._editor.getModel().pushStackElement(),!((L=this._session)===null||L===void 0)&&L.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(O,x)=>{if(!this._session||O!==this._editor.getModel()||!_.L.equals(this._editor.getPosition(),x))return;const{activeChoice:T}=this._session;if(!T||T.choice.options.length===0)return;const W=O.getValueInRange(T.range),U=Boolean(T.choice.options.find(G=>G.value===W)),K=[];for(let G=0;G<T.choice.options.length;G++){const z=T.choice.options[G];K.push({kind:13,label:z.value,insertText:z.value,sortText:"a".repeat(G+1),range:T.range,filterText:U?`${W}_${z.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,R.NC)("next","Go to next placeholder...")}})}return{suggestions:K}}};const N=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme,exclusive:!0},this._choiceCompletionItemProvider);this._snippetListener.add(N)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(N=>N.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:S}=this._session;if(!S||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==S.choice&&(this._currentChoice=S.choice,queueMicrotask(()=>{(0,E.i5)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(S=!1){var w;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(w=this._session)===null||w===void 0||w.dispose(),this._session=void 0,this._modelVersionId=-1,S&&this._editor.setSelections([this._editor.getSelection()])}prev(){var S;(S=this._session)===null||S===void 0||S.prev(),this._updateState()}next(){var S;(S=this._session)===null||S===void 0||S.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};C.ID="snippetController2",C.InSnippetMode=new p.uy("inSnippetMode",!1,(0,R.NC)("inSnippetMode","Whether the editor in current in snippet mode")),C.HasNextTabstop=new p.uy("hasNextTabstop",!1,(0,R.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),C.HasPrevTabstop=new p.uy("hasPrevTabstop",!1,(0,R.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),C=g([n(1,l.VZ),n(2,M.p),n(3,p.i6),n(4,A.c_)],C),(0,f._K)(C.ID,C,4);const D=f._l.bindToContribution(C.get);(0,f.fK)(new D({id:"jumpToNextSnippetPlaceholder",precondition:p.Ao.and(C.InSnippetMode,C.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:100+30,kbExpr:v.u.editorTextFocus,primary:2}})),(0,f.fK)(new D({id:"jumpToPrevSnippetPlaceholder",precondition:p.Ao.and(C.InSnippetMode,C.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:100+30,kbExpr:v.u.editorTextFocus,primary:1026}})),(0,f.fK)(new D({id:"leaveSnippet",precondition:C.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:100+30,kbExpr:v.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,f.fK)(new D({id:"acceptSnippet",precondition:C.InSnippetMode,handler:u=>u.finish()}))},35366:function(Ot,He,i){"use strict";i.d(He,{Lv:function(){return A},Vm:function(){return v},Yj:function(){return d},xv:function(){return f},y1:function(){return l}});class m{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const n=this.pos;let a=0,C=this.value.charCodeAt(n),D;if(D=m._table[C],typeof D=="number")return this.pos+=1,{type:D,pos:n,len:1};if(m.isDigitCharacter(C)){D=8;do a+=1,C=this.value.charCodeAt(n+a);while(m.isDigitCharacter(C));return this.pos+=a,{type:D,pos:n,len:a}}if(m.isVariableCharacter(C)){D=9;do C=this.value.charCodeAt(n+ ++a);while(m.isVariableCharacter(C)||m.isDigitCharacter(C));return this.pos+=a,{type:D,pos:n,len:a}}D=10;do a+=1,C=this.value.charCodeAt(n+a);while(!isNaN(C)&&typeof m._table[C]=="undefined"&&!m.isDigitCharacter(C)&&!m.isVariableCharacter(C));return this.pos+=a,{type:D,pos:n,len:a}}}m._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class B{constructor(){this._children=[]}appendChild(n){return n instanceof f&&this._children[this._children.length-1]instanceof f?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,a){const{parent:C}=n,D=C.children.indexOf(n),u=C.children.slice(0);u.splice(D,1,...a),C._children=u,function S(w,L){for(const N of w)N.parent=L,S(N.children,N)}(a,C)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof l)return n;n=n.parent}}toString(){return this.children.reduce((n,a)=>n+a.toString(),"")}len(){return 0}}class f extends B{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new f(this.value)}}class _ extends B{}class v extends _{static compareByIndex(n,a){return n.index===a.index?0:n.isFinalTabstop?1:a.isFinalTabstop||n.index<a.index?-1:n.index>a.index?1:0}constructor(n){super(),this.index=n}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof A?this._children[0]:void 0}clone(){const n=new v(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(a=>a.clone()),n}}class A extends B{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof f&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new A;return this.options.forEach(n.appendChild,n),n}}class M extends B{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const a=this;let C=!1,D=n.replace(this.regexp,function(){return C=!0,a._replace(Array.prototype.slice.call(arguments,0,-2))});return!C&&this._children.some(u=>u instanceof E&&Boolean(u.elseValue))&&(D=this._replace([])),D}_replace(n){let a="";for(const C of this._children)if(C instanceof E){let D=n[C.index]||"";D=C.resolve(D),a+=D}else a+=C.toString();return a}toString(){return""}clone(){const n=new M;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(a=>a.clone()),n}}class E extends B{constructor(n,a,C,D){super(),this.index=n,this.shorthandName=a,this.ifValue=C,this.elseValue=D}resolve(n){return this.shorthandName==="upcase"?n?n.toLocaleUpperCase():"":this.shorthandName==="downcase"?n?n.toLocaleLowerCase():"":this.shorthandName==="capitalize"?n?n[0].toLocaleUpperCase()+n.substr(1):"":this.shorthandName==="pascalcase"?n?this._toPascalCase(n):"":this.shorthandName==="camelcase"?n?this._toCamelCase(n):"":Boolean(n)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(n)&&typeof this.elseValue=="string"?this.elseValue:n||""}_toPascalCase(n){const a=n.match(/[a-z0-9]+/gi);return a?a.map(C=>C.charAt(0).toUpperCase()+C.substr(1)).join(""):n}_toCamelCase(n){const a=n.match(/[a-z0-9]+/gi);return a?a.map((C,D)=>D===0?C.charAt(0).toLowerCase()+C.substr(1):C.charAt(0).toUpperCase()+C.substr(1)).join(""):n}clone(){return new E(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class R extends _{constructor(n){super(),this.name=n}resolve(n){let a=n.resolve(this);return this.transform&&(a=this.transform.resolve(a||"")),a!==void 0?(this._children=[new f(a)],!0):!1}clone(){const n=new R(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(a=>a.clone()),n}}function p(g,n){const a=[...g];for(;a.length>0;){const C=a.shift();if(!n(C))break;a.unshift(...C.children)}}class l extends B{get placeholderInfo(){if(!this._placeholders){const n=[];let a;this.walk(function(C){return C instanceof v&&(n.push(C),a=!a||a.index<C.index?C:a),!0}),this._placeholders={all:n,last:a}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let a=0,C=!1;return this.walk(D=>D===n?(C=!0,!1):(a+=D.len(),!0)),C?a:-1}fullLen(n){let a=0;return p([n],C=>(a+=C.len(),!0)),a}enclosingPlaceholders(n){const a=[];let{parent:C}=n;for(;C;)C instanceof v&&a.push(C),C=C.parent;return a}resolveVariables(n){return this.walk(a=>(a instanceof R&&a.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,a){return this._placeholders=void 0,super.replace(n,a)}clone(){const n=new l;return this._children=this.children.map(a=>a.clone()),n}walk(n){p(this.children,n)}}class d{constructor(){this._scanner=new m,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,a,C){const D=new l;return this.parseFragment(n,D),this.ensureFinalTabstop(D,C!=null?C:!1,a!=null?a:!1),D}parseFragment(n,a){const C=a.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(a););const D=new Map,u=[];a.walk(L=>(L instanceof v&&(L.isFinalTabstop?D.set(0,void 0):!D.has(L.index)&&L.children.length>0?D.set(L.index,L.children):u.push(L)),!0));const S=(L,N)=>{const O=D.get(L.index);if(!O)return;const x=new v(L.index);x.transform=L.transform;for(const T of O){const W=T.clone();x.appendChild(W),W instanceof v&&D.has(W.index)&&!N.has(W.index)&&(N.add(W.index),S(W,N),N.delete(W.index))}a.replace(L,[x])},w=new Set;for(const L of u)S(L,w);return a.children.slice(C)}ensureFinalTabstop(n,a,C){(a||C&&n.placeholders.length>0)&&(n.placeholders.find(u=>u.index===0)||n.appendChild(new v(0)))}_accept(n,a){if(n===void 0||this._token.type===n){const C=a?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),C}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const a=this._token;for(;this._token.type!==n;){if(this._token.type===14)return!1;if(this._token.type===5){const D=this._scanner.next();if(D.type!==0&&D.type!==4&&D.type!==5)return!1}this._token=this._scanner.next()}const C=this._scanner.value.substring(a.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),C}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let a;return(a=this._accept(5,!0))?(a=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||a,n.appendChild(new f(a)),!0):!1}_parseTabstopOrVariableName(n){let a;const C=this._token;return this._accept(0)&&(a=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(a)?new v(Number(a)):new R(a)),!0):this._backTo(C)}_parseComplexPlaceholder(n){let a;const C=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(8,!0))))return this._backTo(C);const u=new v(Number(a));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(u),!0;if(!this._parse(u))return n.appendChild(new f("${"+a+":")),u.children.forEach(n.appendChild,n),!0}else if(u.index>0&&this._accept(7)){const S=new A;for(;;){if(this._parseChoiceElement(S)){if(this._accept(2))continue;if(this._accept(7)&&(u.appendChild(S),this._accept(4)))return n.appendChild(u),!0}return this._backTo(C),!1}}else return this._accept(6)?this._parseTransform(u)?(n.appendChild(u),!0):(this._backTo(C),!1):this._accept(4)?(n.appendChild(u),!0):this._backTo(C)}_parseChoiceElement(n){const a=this._token,C=[];for(;!(this._token.type===2||this._token.type===7);){let D;if((D=this._accept(5,!0))?D=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||D:D=this._accept(void 0,!0),!D)return this._backTo(a),!1;C.push(D)}return C.length===0?(this._backTo(a),!1):(n.appendChild(new f(C.join(""))),!0)}_parseComplexVariable(n){let a;const C=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(9,!0))))return this._backTo(C);const u=new R(a);if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(u),!0;if(!this._parse(u))return n.appendChild(new f("${"+a+":")),u.children.forEach(n.appendChild,n),!0}else return this._accept(6)?this._parseTransform(u)?(n.appendChild(u),!0):(this._backTo(C),!1):this._accept(4)?(n.appendChild(u),!0):this._backTo(C)}_parseTransform(n){const a=new M;let C="",D="";for(;!this._accept(6);){let u;if(u=this._accept(5,!0)){u=this._accept(6,!0)||u,C+=u;continue}if(this._token.type!==14){C+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let u;if(u=this._accept(5,!0)){u=this._accept(5,!0)||this._accept(6,!0)||u,a.appendChild(new f(u));continue}if(!(this._parseFormatString(a)||this._parseAnything(a)))return!1}for(;!this._accept(4);){if(this._token.type!==14){D+=this._accept(void 0,!0);continue}return!1}try{a.regexp=new RegExp(C,D)}catch(u){return!1}return n.transform=a,!0}_parseFormatString(n){const a=this._token;if(!this._accept(0))return!1;let C=!1;this._accept(3)&&(C=!0);const D=this._accept(8,!0);if(D)if(C){if(this._accept(4))return n.appendChild(new E(Number(D))),!0;if(!this._accept(1))return this._backTo(a),!1}else return n.appendChild(new E(Number(D))),!0;else return this._backTo(a),!1;if(this._accept(6)){const u=this._accept(9,!0);return!u||!this._accept(4)?(this._backTo(a),!1):(n.appendChild(new E(Number(D),u)),!0)}else if(this._accept(11)){const u=this._until(4);if(u)return n.appendChild(new E(Number(D),void 0,u,void 0)),!0}else if(this._accept(12)){const u=this._until(4);if(u)return n.appendChild(new E(Number(D),void 0,void 0,u)),!0}else if(this._accept(13)){const u=this._until(1);if(u){const S=this._until(4);if(S)return n.appendChild(new E(Number(D),void 0,u,S)),!0}}else{const u=this._until(4);if(u)return n.appendChild(new E(Number(D),void 0,void 0,u)),!0}return this._backTo(a),!1}_parseAnything(n){return this._token.type!==14?(n.appendChild(new f(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},51116:function(Ot,He,i){"use strict";i.d(He,{l:function(){return j}});var m=i(16308),B=i(38431),f=i(17416),_=i(19083),v=i(50038),A=i(57841),M=i(64603),E=i(45007),R=i(18680),p=i(83799),l=i(35366),d=i(7128),g=i(11138);function n(J,Y=g.ED){return(0,d.oP)(J,Y)?J.charAt(0).toUpperCase()+J.slice(1):J}let a=Object.create(null);var C=i(75296),D=i(6227),u=i(38577),S=i(26386),w=function(J,Y,ee,fe){var De=arguments.length,Ne=De<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ee):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ne=Reflect.decorate(J,Y,ee,fe);else for(var xe=J.length-1;xe>=0;xe--)(be=J[xe])&&(Ne=(De<3?be(Ne):De>3?be(Y,ee,Ne):be(Y,ee))||Ne);return De>3&&Ne&&Object.defineProperty(Y,ee,Ne),Ne},L=function(J,Y){return function(ee,fe){Y(ee,fe,J)}};const N=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class O{constructor(Y){this._delegates=Y}resolve(Y){for(const ee of this._delegates){const fe=ee.resolve(Y);if(fe!==void 0)return fe}}}class x{constructor(Y,ee,fe,De){this._model=Y,this._selection=ee,this._selectionIdx=fe,this._overtypingCapturer=De}resolve(Y){const{name:ee}=Y;if(ee==="SELECTION"||ee==="TM_SELECTED_TEXT"){let fe=this._model.getValueInRange(this._selection)||void 0,De=this._selection.startLineNumber!==this._selection.endLineNumber;if(!fe&&this._overtypingCapturer){const Ne=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Ne&&(fe=Ne.value,De=Ne.multiline)}if(fe&&De&&Y.snippet){const Ne=this._model.getLineContent(this._selection.startLineNumber),be=(0,f.V8)(Ne,0,this._selection.startColumn-1);let xe=be;Y.snippet.walk(ue=>ue===Y?!1:(ue instanceof l.xv&&(xe=(0,f.V8)((0,f.uq)(ue.value).pop())),!0));const Le=(0,f.Mh)(xe,be);fe=fe.replace(/(\r\n|\r|\n)(.*)/g,(ue,re,_e)=>`${re}${xe.substr(Le)}${_e}`)}return fe}else{if(ee==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(ee==="TM_CURRENT_WORD"){const fe=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return fe&&fe.word||void 0}else{if(ee==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(ee==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(ee==="CURSOR_INDEX")return String(this._selectionIdx);if(ee==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class T{constructor(Y,ee){this._labelService=Y,this._model=ee}resolve(Y){const{name:ee}=Y;if(ee==="TM_FILENAME")return C.EZ(this._model.uri.fsPath);if(ee==="TM_FILENAME_BASE"){const fe=C.EZ(this._model.uri.fsPath),De=fe.lastIndexOf(".");return De<=0?fe:fe.slice(0,De)}else{if(ee==="TM_DIRECTORY")return C.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,D.XX)(this._model.uri));if(ee==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(ee==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class W{constructor(Y,ee,fe,De){this._readClipboardText=Y,this._selectionIdx=ee,this._selectionCount=fe,this._spread=De}resolve(Y){if(Y.name!=="CLIPBOARD")return;const ee=this._readClipboardText();if(ee){if(this._spread){const fe=ee.split(/\r\n|\n|\r/).filter(De=>!(0,f.m5)(De));if(fe.length===this._selectionCount)return fe[this._selectionIdx]}return ee}}}let U=class{constructor(Y,ee,fe){this._model=Y,this._selection=ee,this._languageConfigurationService=fe}resolve(Y){const{name:ee}=Y,fe=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),De=this._languageConfigurationService.getLanguageConfiguration(fe).comments;if(De){if(ee==="LINE_COMMENT")return De.lineCommentToken||void 0;if(ee==="BLOCK_COMMENT_START")return De.blockCommentStartToken||void 0;if(ee==="BLOCK_COMMENT_END")return De.blockCommentEndToken||void 0}}};U=w([L(2,M.c_)],U);class K{constructor(){this._date=new Date}resolve(Y){const{name:ee}=Y;if(ee==="CURRENT_YEAR")return String(this._date.getFullYear());if(ee==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(ee==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(ee==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(ee==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(ee==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(ee==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(ee==="CURRENT_DAY_NAME")return K.dayNames[this._date.getDay()];if(ee==="CURRENT_DAY_NAME_SHORT")return K.dayNamesShort[this._date.getDay()];if(ee==="CURRENT_MONTH_NAME")return K.monthNames[this._date.getMonth()];if(ee==="CURRENT_MONTH_NAME_SHORT")return K.monthNamesShort[this._date.getMonth()];if(ee==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}K.dayNames=[S.NC("Sunday","Sunday"),S.NC("Monday","Monday"),S.NC("Tuesday","Tuesday"),S.NC("Wednesday","Wednesday"),S.NC("Thursday","Thursday"),S.NC("Friday","Friday"),S.NC("Saturday","Saturday")],K.dayNamesShort=[S.NC("SundayShort","Sun"),S.NC("MondayShort","Mon"),S.NC("TuesdayShort","Tue"),S.NC("WednesdayShort","Wed"),S.NC("ThursdayShort","Thu"),S.NC("FridayShort","Fri"),S.NC("SaturdayShort","Sat")],K.monthNames=[S.NC("January","January"),S.NC("February","February"),S.NC("March","March"),S.NC("April","April"),S.NC("May","May"),S.NC("June","June"),S.NC("July","July"),S.NC("August","August"),S.NC("September","September"),S.NC("October","October"),S.NC("November","November"),S.NC("December","December")],K.monthNamesShort=[S.NC("JanuaryShort","Jan"),S.NC("FebruaryShort","Feb"),S.NC("MarchShort","Mar"),S.NC("AprilShort","Apr"),S.NC("MayShort","May"),S.NC("JuneShort","Jun"),S.NC("JulyShort","Jul"),S.NC("AugustShort","Aug"),S.NC("SeptemberShort","Sep"),S.NC("OctoberShort","Oct"),S.NC("NovemberShort","Nov"),S.NC("DecemberShort","Dec")];class G{constructor(Y){this._workspaceService=Y}resolve(Y){if(!this._workspaceService)return;const ee=(0,p.uT)(this._workspaceService.getWorkspace());if(!(0,p.c$)(ee)){if(Y.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(ee);if(Y.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(ee)}}_resolveWorkspaceName(Y){if((0,p.eb)(Y))return C.EZ(Y.uri.path);let ee=C.EZ(Y.configPath.path);return ee.endsWith(p.A6)&&(ee=ee.substr(0,ee.length-p.A6.length-1)),ee}_resoveWorkspacePath(Y){if((0,p.eb)(Y))return n(Y.uri.fsPath);const ee=C.EZ(Y.configPath.path);let fe=Y.configPath.fsPath;return fe.endsWith(ee)&&(fe=fe.substr(0,fe.length-ee.length-1)),fe?n(fe):"/"}}class z{resolve(Y){const{name:ee}=Y;if(ee==="RANDOM")return Math.random().toString().slice(-6);if(ee==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(ee==="UUID")return(0,u.R)()}}var k=function(J,Y,ee,fe){var De=arguments.length,Ne=De<3?Y:fe===null?fe=Object.getOwnPropertyDescriptor(Y,ee):fe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ne=Reflect.decorate(J,Y,ee,fe);else for(var xe=J.length-1;xe>=0;xe--)(be=J[xe])&&(Ne=(De<3?be(Ne):De>3?be(Y,ee,Ne):be(Y,ee))||Ne);return De>3&&Ne&&Object.defineProperty(Y,ee,Ne),Ne},q=function(J,Y){return function(ee,fe){Y(ee,fe,J)}};class te{constructor(Y,ee,fe){this._editor=Y,this._snippet=ee,this._snippetLineLeadingWhitespace=fe,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,m.vM)(ee.placeholders,l.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(Y){this._offset=Y.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const Y=this._editor.getModel();this._editor.changeDecorations(ee=>{for(const fe of this._snippet.placeholders){const De=this._snippet.offset(fe),Ne=this._snippet.fullLen(fe),be=v.e.fromPositions(Y.getPositionAt(this._offset+De),Y.getPositionAt(this._offset+De+Ne)),xe=fe.isFinalTabstop?te._decor.inactiveFinal:te._decor.inactive,Le=ee.addDecoration(be,xe);this._placeholderDecorations.set(fe,Le)}})}move(Y){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const De=[];for(const Ne of this._placeholderGroups[this._placeholderGroupsIdx])if(Ne.transform){const be=this._placeholderDecorations.get(Ne),xe=this._editor.getModel().getDecorationRange(be),Le=this._editor.getModel().getValueInRange(xe),ue=Ne.transform.resolve(Le).split(/\r\n|\r|\n/);for(let re=1;re<ue.length;re++)ue[re]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+ue[re]);De.push(_.h.replace(xe,ue.join(this._editor.getModel().getEOL())))}De.length>0&&this._editor.executeEdits("snippet.placeholderTransform",De)}let ee=!1;Y===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,ee=!0):Y===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,ee=!0);const fe=this._editor.getModel().changeDecorations(De=>{const Ne=new Set,be=[];for(const xe of this._placeholderGroups[this._placeholderGroupsIdx]){const Le=this._placeholderDecorations.get(xe),ue=this._editor.getModel().getDecorationRange(Le);be.push(new A.Y(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn)),ee=ee&&this._hasPlaceholderBeenCollapsed(xe),De.changeDecorationOptions(Le,xe.isFinalTabstop?te._decor.activeFinal:te._decor.active),Ne.add(xe);for(const re of this._snippet.enclosingPlaceholders(xe)){const _e=this._placeholderDecorations.get(re);De.changeDecorationOptions(_e,re.isFinalTabstop?te._decor.activeFinal:te._decor.active),Ne.add(re)}}for(const[xe,Le]of this._placeholderDecorations)Ne.has(xe)||De.changeDecorationOptions(Le,xe.isFinalTabstop?te._decor.inactiveFinal:te._decor.inactive);return be});return ee?this.move(Y):fe!=null?fe:[]}_hasPlaceholderBeenCollapsed(Y){let ee=Y;for(;ee;){if(ee instanceof l.Vm){const fe=this._placeholderDecorations.get(ee);if(this._editor.getModel().getDecorationRange(fe).isEmpty()&&ee.toString().length>0)return!0}ee=ee.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[Y]=this._snippet.placeholders;if(Y.isFinalTabstop&&this._snippet.rightMostDescendant===Y)return!0}return!1}computePossibleSelections(){const Y=new Map;for(const ee of this._placeholderGroups){let fe;for(const De of ee){if(De.isFinalTabstop)break;fe||(fe=[],Y.set(De.index,fe));const Ne=this._placeholderDecorations.get(De),be=this._editor.getModel().getDecorationRange(Ne);if(!be){Y.delete(De.index);break}fe.push(be)}}return Y}get activeChoice(){if(!this._placeholderDecorations)return;const Y=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(Y!=null&&Y.choice))return;const ee=this._placeholderDecorations.get(Y);if(!ee)return;const fe=this._editor.getModel().getDecorationRange(ee);if(fe)return{range:fe,choice:Y.choice}}get hasChoice(){let Y=!1;return this._snippet.walk(ee=>(Y=ee instanceof l.Lv,!Y)),Y}merge(Y){const ee=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(fe=>{for(const De of this._placeholderGroups[this._placeholderGroupsIdx]){const Ne=Y.shift();console.assert(Ne._offset!==-1),console.assert(!Ne._placeholderDecorations);const be=Ne._snippet.placeholderInfo.last.index;for(const Le of Ne._snippet.placeholderInfo.all)Le.isFinalTabstop?Le.index=De.index+(be+1)/this._nestingLevel:Le.index=De.index+Le.index/this._nestingLevel;this._snippet.replace(De,Ne._snippet.children);const xe=this._placeholderDecorations.get(De);fe.removeDecoration(xe),this._placeholderDecorations.delete(De);for(const Le of Ne._snippet.placeholders){const ue=Ne._snippet.offset(Le),re=Ne._snippet.fullLen(Le),_e=v.e.fromPositions(ee.getPositionAt(Ne._offset+ue),ee.getPositionAt(Ne._offset+ue+re)),Ue=fe.addDecoration(_e,te._decor.inactive);this._placeholderDecorations.set(Le,Ue)}}this._placeholderGroups=(0,m.vM)(this._snippet.placeholders,l.Vm.compareByIndex)})}}te._decor={active:E.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:E.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:E.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:E.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const X={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let j=class Ol{static adjustWhitespace(Y,ee,fe,De,Ne){const be=Y.getLineContent(ee.lineNumber),xe=(0,f.V8)(be,0,ee.column-1);let Le;return De.walk(ue=>{if(!(ue instanceof l.xv)||ue.parent instanceof l.Lv||Ne&&!Ne.has(ue))return!0;const re=ue.value.split(/\r\n|\r|\n/);if(fe){const Ue=De.offset(ue);if(Ue===0)re[0]=Y.normalizeIndentation(re[0]);else{Le=Le!=null?Le:De.toString();const Qe=Le.charCodeAt(Ue-1);(Qe===10||Qe===13)&&(re[0]=Y.normalizeIndentation(xe+re[0]))}for(let Qe=1;Qe<re.length;Qe++)re[Qe]=Y.normalizeIndentation(xe+re[Qe])}const _e=re.join(Y.getEOL());return _e!==ue.value&&(ue.parent.replace(ue,[new l.xv(_e)]),Le=void 0),!0}),xe}static adjustSelection(Y,ee,fe,De){if(fe!==0||De!==0){const{positionLineNumber:Ne,positionColumn:be}=ee,xe=be-fe,Le=be+De,ue=Y.validateRange({startLineNumber:Ne,startColumn:xe,endLineNumber:Ne,endColumn:Le});ee=A.Y.createWithDirection(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn,ee.getDirection())}return ee}static createEditsAndSnippetsFromSelections(Y,ee,fe,De,Ne,be,xe,Le,ue){const re=[],_e=[];if(!Y.hasModel())return{edits:re,snippets:_e};const Ue=Y.getModel(),Qe=Y.invokeWithinContext(ce=>ce.get(p.ec)),Re=Y.invokeWithinContext(ce=>new T(ce.get(R.e),Ue)),ie=()=>xe,Z=Ue.getValueInRange(Ol.adjustSelection(Ue,Y.getSelection(),fe,0)),se=Ue.getValueInRange(Ol.adjustSelection(Ue,Y.getSelection(),0,De)),ve=Ue.getLineFirstNonWhitespaceColumn(Y.getSelection().positionLineNumber),he=Y.getSelections().map((ce,Ee)=>({selection:ce,idx:Ee})).sort((ce,Ee)=>v.e.compareRangesUsingStarts(ce.selection,Ee.selection));for(const{selection:ce,idx:Ee}of he){let We=Ol.adjustSelection(Ue,ce,fe,0),it=Ol.adjustSelection(Ue,ce,0,De);Z!==Ue.getValueInRange(We)&&(We=ce),se!==Ue.getValueInRange(it)&&(it=ce);const Ze=ce.setStartPosition(We.startLineNumber,We.startColumn).setEndPosition(it.endLineNumber,it.endColumn),je=new l.Yj().parse(ee,!0,Ne),Te=Ze.getStartPosition(),Ie=Ol.adjustWhitespace(Ue,Te,be||Ee>0&&ve!==Ue.getLineFirstNonWhitespaceColumn(ce.positionLineNumber),je);je.resolveVariables(new O([Re,new W(ie,Ee,he.length,Y.getOption(76)==="spread"),new x(Ue,ce,Ee,Le),new U(Ue,ce,ue),new K,new G(Qe),new z])),re[Ee]=_.h.replace(Ze,je.toString()),re[Ee].identifier={major:Ee,minor:0},re[Ee]._isTracked=!0,_e[Ee]=new te(Y,je,Ie)}return{edits:re,snippets:_e}}static createEditsAndSnippetsFromEdits(Y,ee,fe,De,Ne,be,xe){if(!Y.hasModel()||ee.length===0)return{edits:[],snippets:[]};const Le=[],ue=Y.getModel(),re=new l.Yj,_e=new l.y1,Ue=new O([Y.invokeWithinContext(Re=>new T(Re.get(R.e),ue)),new W(()=>Ne,0,Y.getSelections().length,Y.getOption(76)==="spread"),new x(ue,Y.getSelection(),0,be),new U(ue,Y.getSelection(),xe),new K,new G(Y.invokeWithinContext(Re=>Re.get(p.ec))),new z]);ee=ee.sort((Re,ie)=>v.e.compareRangesUsingStarts(Re.range,ie.range));let Qe=0;for(let Re=0;Re<ee.length;Re++){const{range:ie,template:Z}=ee[Re];if(Re>0){const Ee=ee[Re-1].range,We=v.e.fromPositions(Ee.getEndPosition(),ie.getStartPosition()),it=new l.xv(ue.getValueInRange(We));_e.appendChild(it),Qe+=it.value.length}const se=re.parseFragment(Z,_e);Ol.adjustWhitespace(ue,ie.getStartPosition(),!0,_e,new Set(se)),_e.resolveVariables(Ue);const ve=_e.toString(),he=ve.slice(Qe);Qe=ve.length;const ce=_.h.replace(ie,he);ce.identifier={major:Re,minor:0},ce._isTracked=!0,Le.push(ce)}return re.ensureFinalTabstop(_e,fe,!0),{edits:Le,snippets:[new te(Y,_e,"")]}}constructor(Y,ee,fe=X,De){this._editor=Y,this._template=ee,this._options=fe,this._languageConfigurationService=De,this._templateMerges=[],this._snippets=[]}dispose(){(0,B.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:Y,snippets:ee}=typeof this._template=="string"?Ol.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Ol.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=ee,this._editor.executeEdits("snippet",Y,fe=>{const De=fe.filter(Ne=>!!Ne.identifier);for(let Ne=0;Ne<ee.length;Ne++)ee[Ne].initialize(De[Ne].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):De.map(Ne=>A.Y.fromPositions(Ne.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(Y,ee=X){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,Y]);const{edits:fe,snippets:De}=Ol.createEditsAndSnippetsFromSelections(this._editor,Y,ee.overwriteBefore,ee.overwriteAfter,!0,ee.adjustWhitespace,ee.clipboardText,ee.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",fe,Ne=>{const be=Ne.filter(Le=>!!Le.identifier);for(let Le=0;Le<De.length;Le++)De[Le].initialize(be[Le].textChange);const xe=De[0].isTrivialSnippet;if(!xe){for(const Le of this._snippets)Le.merge(De);console.assert(De.length===0)}return this._snippets[0].hasPlaceholder&&!xe?this._move(void 0):be.map(Le=>A.Y.fromPositions(Le.range.getEndPosition()))})}next(){const Y=this._move(!0);this._editor.setSelections(Y),this._editor.revealPositionInCenterIfOutsideViewport(Y[0].getPosition())}prev(){const Y=this._move(!1);this._editor.setSelections(Y),this._editor.revealPositionInCenterIfOutsideViewport(Y[0].getPosition())}_move(Y){const ee=[];for(const fe of this._snippets){const De=fe.move(Y);ee.push(...De)}return ee}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const Y=this._editor.getSelections();if(Y.length<this._snippets.length)return!1;const ee=new Map;for(const fe of this._snippets){const De=fe.computePossibleSelections();if(ee.size===0)for(const[Ne,be]of De){be.sort(v.e.compareRangesUsingStarts);for(const xe of Y)if(be[0].containsRange(xe)){ee.set(Ne,[]);break}}if(ee.size===0)return!1;ee.forEach((Ne,be)=>{Ne.push(...De.get(be))})}Y.sort(v.e.compareRangesUsingStarts);for(const[fe,De]of ee){if(De.length!==Y.length){ee.delete(fe);continue}De.sort(v.e.compareRangesUsingStarts);for(let Ne=0;Ne<De.length;Ne++)if(!De[Ne].containsRange(Y[Ne])){ee.delete(fe);continue}}return ee.size>0}};j=k([q(3,M.c_)],j)},3156:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(26386);const f=Object.freeze({View:{value:(0,B.NC)("view","View"),original:"View"},Help:{value:(0,B.NC)("help","Help"),original:"Help"},Test:{value:(0,B.NC)("test","Test"),original:"Test"},File:{value:(0,B.NC)("file","File"),original:"File"},Preferences:{value:(0,B.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,B.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});var _=i(21208),v=i(71177),A=i(76826),M=i(21081),E=i(38431),R=i(35921),p=i(12342),l=i(75398),d=i(69756),g=i(8964),n=i(64079),a=i(77957),C=i(34441),D;class u{constructor(ht,Ct){this.lineNumbers=ht,this.lastLineRelativePosition=Ct}}const S=(D=window.trustedTypes)===null||D===void 0?void 0:D.createPolicy("stickyScrollViewLayer",{createHTML:ut=>ut});class w extends E.JT{constructor(ht){super(),this._editor=ht,this._rootDomNode=document.createElement("div"),this._disposableStore=this._register(new E.SL),this._lineNumbers=[],this._lastLineRelativePosition=0,this._hoverOnLine=-1,this._hoverOnColumn=-1,this._layoutInfo=this._editor.getLayoutInfo(),this._rootDomNode=document.createElement("div"),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",ht instanceof a.H),this._rootDomNode.style.width=`${this._layoutInfo.width-this._layoutInfo.minimap.minimapCanvasOuterWidth-this._layoutInfo.verticalScrollbarWidth}px`}get hoverOnLine(){return this._hoverOnLine}get hoverOnColumn(){return this._hoverOnColumn}get lineNumbers(){return this._lineNumbers}getCurrentLines(){return this._lineNumbers}setState(ht){C.PO(this._rootDomNode),this._disposableStore.clear(),this._lineNumbers.length=0;const Ct=this._editor.getOption(64);ht.lineNumbers.length*Ct+ht.lastLineRelativePosition>0?(this._lastLineRelativePosition=ht.lastLineRelativePosition,this._lineNumbers=ht.lineNumbers):(this._lastLineRelativePosition=0,this._lineNumbers=[]),this._renderRootNode()}_renderRootNode(){if(!this._editor._getViewModel())return;for(const[bt,$t]of this._lineNumbers.entries()){const Mt=this._renderChildNode(bt,$t);this._rootDomNode.appendChild(Mt)}const ht=this._editor.getOption(64),Ct=this._lineNumbers.length*ht+this._lastLineRelativePosition;this._rootDomNode.style.display=Ct>0?"block":"none",this._rootDomNode.style.height=Ct.toString()+"px",this._rootDomNode.setAttribute("role","list"),this._editor.getOption(70).side==="left"&&(this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px")}_renderChildNode(ht,Ct){const Pt=document.createElement("div"),bt=this._editor._getViewModel(),$t=bt.coordinatesConverter.convertModelPositionToViewPosition(new g.L(Ct,1)).lineNumber,Mt=bt.getViewLineRenderingData($t),Xe=this._editor.getLayoutInfo(),Lt=Xe.width-Xe.minimap.minimapCanvasOuterWidth-Xe.verticalScrollbarWidth,Xt=this._editor.getOption(70).side,zt=this._editor.getOption(64),Fe=this._editor.getOption(65);let et;try{et=d.Kp.filter(Mt.inlineDecorations,$t,Mt.minColumn,Mt.maxColumn)}catch(ti){et=[]}const pt=new l.IJ(!0,!0,Mt.content,Mt.continuesWithWrappedLine,Mt.isBasicASCII,Mt.containsRTL,0,Mt.tokens,et,Mt.tabSize,Mt.startVisibleColumn,1,1,1,500,"none",!0,!0,null),It=new p.HT(2e3);(0,l.d1)(pt,It);let kt;S?kt=S.createHTML(It.build()):kt=It.build();const yt=document.createElement("span");yt.className="sticky-line",yt.classList.add(`stickyLine${Ct}`),yt.style.lineHeight=`${zt}px`,yt.innerHTML=kt;const St=document.createElement("span");St.className="sticky-line",St.style.lineHeight=`${zt}px`,Xt==="left"?St.style.width=`${Xe.contentLeft-Xe.minimap.minimapCanvasOuterWidth}px`:Xt==="right"&&(St.style.width=`${Xe.contentLeft}px`);const Gt=document.createElement("span");return Fe.renderType===1||Fe.renderType===3&&Ct%10===0?Gt.innerText=Ct.toString():Fe.renderType===2&&(Gt.innerText=Math.abs(Ct-this._editor.getPosition().lineNumber).toString()),Gt.className="sticky-line-number",Gt.style.lineHeight=`${zt}px`,Gt.style.width=`${Xe.lineNumbersWidth}px`,Xt==="left"?Gt.style.paddingLeft=`${Xe.lineNumbersLeft-Xe.minimap.minimapCanvasOuterWidth}px`:Xt==="right"&&(Gt.style.paddingLeft=`${Xe.lineNumbersLeft}px`),St.appendChild(Gt),this._editor.applyFontInfo(yt),this._editor.applyFontInfo(Gt),Pt.appendChild(St),Pt.appendChild(yt),Pt.className="sticky-line-root",Pt.setAttribute("role","listitem"),Pt.tabIndex=0,Pt.style.lineHeight=`${zt}px`,Pt.style.width=`${Lt}px`,Pt.style.height=`${zt}px`,Pt.style.zIndex="0",ht===this._lineNumbers.length-1&&(Pt.style.position="relative",Pt.style.zIndex="-1",Pt.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(C.nm(Pt,"mouseover",ti=>{if(this._editor.hasModel()){const li=new n.n(ti).target.innerText;this._hoverOnLine=Ct,this._hoverOnColumn=this._editor.getModel().getLineContent(Ct).indexOf(li)+1||-1}})),Pt}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}}var L=i(97464),N=i(13484),O=i(16308),x=i(6227),T=i(56709),W=i(64603),U=i(79931),K=i(58579),G=i(28994),z=i(78398),k=i(20996);class q{constructor(ht,Ct){this.startLineNumber=ht,this.endLineNumber=Ct}}class te{constructor(ht,Ct,Pt){this.range=ht,this.children=Ct,this.parent=Pt}}class X{constructor(ht,Ct,Pt,bt){this.uri=ht,this.version=Ct,this.element=Pt,this.outlineProviderId=bt}}var j=i(97865),J=function(ut,ht,Ct,Pt){var bt=arguments.length,$t=bt<3?ht:Pt===null?Pt=Object.getOwnPropertyDescriptor(ht,Ct):Pt,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(ut,ht,Ct,Pt);else for(var Xe=ut.length-1;Xe>=0;Xe--)(Mt=ut[Xe])&&($t=(bt<3?Mt($t):bt>3?Mt(ht,Ct,$t):Mt(ht,Ct))||$t);return bt>3&&$t&&Object.defineProperty(ht,Ct,$t),$t},Y=function(ut,ht){return function(Ct,Pt){ht(Ct,Pt,ut)}},ee=function(ut,ht,Ct,Pt){function bt($t){return $t instanceof Ct?$t:new Ct(function(Mt){Mt($t)})}return new(Ct||(Ct=Promise))(function($t,Mt){function Xe(zt){try{Xt(Pt.next(zt))}catch(Fe){Mt(Fe)}}function Lt(zt){try{Xt(Pt.throw(zt))}catch(Fe){Mt(Fe)}}function Xt(zt){zt.done?$t(zt.value):bt(zt.value).then(Xe,Lt)}Xt((Pt=Pt.apply(ut,ht||[])).next())})},fe;(function(ut){ut.OUTLINE_MODEL="outlineModel",ut.FOLDING_PROVIDER_MODEL="foldingProviderModel",ut.INDENTATION_MODEL="indentationModel"})(fe||(fe={}));var De;(function(ut){ut[ut.VALID=0]="VALID",ut[ut.INVALID=1]="INVALID",ut[ut.CANCELED=2]="CANCELED"})(De||(De={}));let Ne=class{constructor(ht,Ct,Pt,bt){this._editor=ht,this._languageConfigurationService=Ct,this._languageFeaturesService=Pt,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=new N.vp(300);const $t=new xe(Pt),Mt=new re(this._editor,Pt),Xe=new ue(this._editor,Ct);switch(bt){case fe.OUTLINE_MODEL:this._modelProviders.push($t),this._modelProviders.push(Mt),this._modelProviders.push(Xe);break;case fe.FOLDING_PROVIDER_MODEL:this._modelProviders.push(Mt),this._modelProviders.push(Xe);break;case fe.INDENTATION_MODEL:this._modelProviders.push(Xe);break}this._store=new E.SL}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(ht,Ct,Pt){return ee(this,void 0,void 0,function*(){return this._store.clear(),this._store.add({dispose:()=>{var bt;this._cancelModelPromise(),(bt=this._updateScheduler)===null||bt===void 0||bt.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>ee(this,void 0,void 0,function*(){for(const bt of this._modelProviders){const{statusPromise:$t,modelPromise:Mt}=bt.computeStickyModel(ht,Ct,Pt);this._modelPromise=Mt;const Xe=yield $t;if(this._modelPromise!==Mt)return null;switch(Xe){case De.CANCELED:return this._store.clear(),null;case De.VALID:return bt.stickyModel}}return null}))})}};Ne=J([Y(1,W.c_),Y(2,R.p)],Ne);class be{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,De.INVALID}computeStickyModel(ht,Ct,Pt){if(!this.isProviderValid(ht))return{statusPromise:this._invalid(),modelPromise:null};const bt=(0,N.PG)($t=>this.createModelFromProvider(ht,Ct,$t));return{statusPromise:bt.then($t=>this.isModelValid($t)?Pt.isCancellationRequested?De.CANCELED:(this._stickyModel=this.createStickyModel(ht,Ct,Pt,$t),De.VALID):this._invalid()).then(void 0,$t=>((0,k.dL)($t),De.CANCELED)),modelPromise:bt}}isModelValid(ht){return!0}isProviderValid(ht){return!0}}let xe=class extends be{constructor(ht){super(),this._languageFeaturesService=ht}createModelFromProvider(ht,Ct,Pt){return U.C3.create(this._languageFeaturesService.documentSymbolProvider,ht,Pt)}createStickyModel(ht,Ct,Pt,bt){var $t;const{stickyOutlineElement:Mt,providerID:Xe}=this._stickyModelFromOutlineModel(bt,($t=this._stickyModel)===null||$t===void 0?void 0:$t.outlineProviderId);return new X(ht.uri,Ct,Mt,Xe)}isModelValid(ht){return ht&&ht.children.size>0}_stickyModelFromOutlineModel(ht,Ct){let Pt;if(j.$.first(ht.children.values())instanceof U.H3){const Xe=j.$.find(ht.children.values(),Lt=>Lt.id===Ct);if(Xe)Pt=Xe.children;else{let Lt="",Xt=-1,zt;for(const[Fe,et]of ht.children.entries()){const pt=this._findSumOfRangesOfGroup(et);pt>Xt&&(zt=et,Xt=pt,Lt=et.id)}Ct=Lt,Pt=zt.children}}else Pt=ht.children;const bt=[],$t=Array.from(Pt.values()).sort((Xe,Lt)=>{const Xt=new q(Xe.symbol.range.startLineNumber,Xe.symbol.range.endLineNumber),zt=new q(Lt.symbol.range.startLineNumber,Lt.symbol.range.endLineNumber);return this._comparator(Xt,zt)});for(const Xe of $t)bt.push(this._stickyModelFromOutlineElement(Xe,Xe.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new te(void 0,bt,void 0),providerID:Ct}}_stickyModelFromOutlineElement(ht,Ct){const Pt=[];for(const $t of ht.children.values())if($t.symbol.selectionRange.startLineNumber!==$t.symbol.range.endLineNumber)if($t.symbol.selectionRange.startLineNumber!==Ct)Pt.push(this._stickyModelFromOutlineElement($t,$t.symbol.selectionRange.startLineNumber));else for(const Mt of $t.children.values())Pt.push(this._stickyModelFromOutlineElement(Mt,$t.symbol.selectionRange.startLineNumber));Pt.sort(($t,Mt)=>this._comparator($t.range,Mt.range));const bt=new q(ht.symbol.selectionRange.startLineNumber,ht.symbol.range.endLineNumber);return new te(bt,Pt,void 0)}_comparator(ht,Ct){return ht.startLineNumber!==Ct.startLineNumber?ht.startLineNumber-Ct.startLineNumber:Ct.endLineNumber-ht.endLineNumber}_findSumOfRangesOfGroup(ht){let Ct=0;for(const Pt of ht.children.values())Ct+=this._findSumOfRangesOfGroup(Pt);return ht instanceof U.sT?Ct+ht.symbol.range.endLineNumber-ht.symbol.selectionRange.startLineNumber:Ct}};xe=J([Y(0,R.p)],xe);class Le extends be{constructor(ht){super(),this._foldingLimitReporter=new K.RangesLimitReporter(ht)}createStickyModel(ht,Ct,Pt,bt){const $t=this._fromFoldingRegions(bt);return new X(ht.uri,Ct,$t,void 0)}isModelValid(ht){return ht!==null}_fromFoldingRegions(ht){const Ct=ht.length,Pt=[],bt=new te(void 0,[],void 0);for(let $t=0;$t<Ct;$t++){const Mt=ht.getParentIndex($t);let Xe;Mt!==-1?Xe=Pt[Mt]:Xe=bt;const Lt=new te(new q(ht.getStartLineNumber($t),ht.getEndLineNumber($t)+1),[],Xe);Xe.children.push(Lt),Pt.push(Lt)}return bt}}let ue=class extends Le{constructor(ht,Ct){super(ht),this._languageConfigurationService=Ct}createModelFromProvider(ht,Ct,Pt){return new z.aI(ht,this._languageConfigurationService,this._foldingLimitReporter).compute(Pt)}};ue=J([Y(1,W.c_)],ue);let re=class extends Le{constructor(ht,Ct){super(ht),this._languageFeaturesService=Ct}isProviderValid(ht){return K.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,ht).length>0}createModelFromProvider(ht,Ct,Pt){const bt=K.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,ht);return new G.e(ht,bt,()=>this.createModelFromProvider(ht,Ct,Pt),this._foldingLimitReporter,void 0).compute(Pt)}};re=J([Y(1,R.p)],re);var _e=function(ut,ht,Ct,Pt){var bt=arguments.length,$t=bt<3?ht:Pt===null?Pt=Object.getOwnPropertyDescriptor(ht,Ct):Pt,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(ut,ht,Ct,Pt);else for(var Xe=ut.length-1;Xe>=0;Xe--)(Mt=ut[Xe])&&($t=(bt<3?Mt($t):bt>3?Mt(ht,Ct,$t):Mt(ht,Ct))||$t);return bt>3&&$t&&Object.defineProperty(ht,Ct,$t),$t},Ue=function(ut,ht){return function(Ct,Pt){ht(Ct,Pt,ut)}},Qe=function(ut,ht,Ct,Pt){function bt($t){return $t instanceof Ct?$t:new Ct(function(Mt){Mt($t)})}return new(Ct||(Ct=Promise))(function($t,Mt){function Xe(zt){try{Xt(Pt.next(zt))}catch(Fe){Mt(Fe)}}function Lt(zt){try{Xt(Pt.throw(zt))}catch(Fe){Mt(Fe)}}function Xt(zt){zt.done?$t(zt.value):bt(zt.value).then(Xe,Lt)}Xt((Pt=Pt.apply(ut,ht||[])).next())})};class Re{constructor(ht,Ct,Pt){this.startLineNumber=ht,this.endLineNumber=Ct,this.nestingDepth=Pt}}let ie=class extends E.JT{constructor(ht,Ct,Pt){super(),this._languageFeaturesService=Ct,this._languageConfigurationService=Pt,this._onDidChangeStickyScroll=this._store.add(new T.Q5),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=ht,this._sessionStore=new E.SL,this._updateSoon=this._register(new N.pY(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(bt=>{bt.hasChanged(110)&&this.readConfiguration()})),this.readConfiguration()}dispose(){super.dispose(),this._sessionStore.dispose()}readConfiguration(){if(this._options=this._editor.getOption(110),!this._options.enabled){this._sessionStore.clear();return}this._stickyModelProvider=new Ne(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel),this._sessionStore.add(this._editor.onDidChangeModel(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update()}getVersionId(){var ht;return(ht=this._model)===null||ht===void 0?void 0:ht.version}update(){var ht;return Qe(this,void 0,void 0,function*(){(ht=this._cts)===null||ht===void 0||ht.dispose(!0),this._cts=new L.A,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(ht){return Qe(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider)return;const Ct=this._editor.getModel(),Pt=Ct.getVersionId(),$t=(this._model?!(0,x.Xy)(this._model.uri,Ct.uri):!1)?setTimeout(()=>{ht.isCancellationRequested||(this._model=new X(Ct.uri,Ct.getVersionId(),void 0,void 0),this._onDidChangeStickyScroll.fire())},75):void 0;this._model=yield this._stickyModelProvider.update(Ct,Pt,ht),clearTimeout($t)})}updateIndex(ht){return ht===-1?ht=0:ht<0&&(ht=-ht-2),ht}getCandidateStickyLinesIntersectingFromStickyModel(ht,Ct,Pt,bt,$t){if(Ct.children.length===0)return;let Mt=$t;const Xe=[];for(let zt=0;zt<Ct.children.length;zt++){const Fe=Ct.children[zt];Fe.range&&Xe.push(Fe.range.startLineNumber)}const Lt=this.updateIndex((0,O.ry)(Xe,ht.startLineNumber,(zt,Fe)=>zt-Fe)),Xt=this.updateIndex((0,O.ry)(Xe,ht.startLineNumber+bt,(zt,Fe)=>zt-Fe));for(let zt=Lt;zt<=Xt;zt++){const Fe=Ct.children[zt];if(!Fe)return;if(Fe.range){const et=Fe.range.startLineNumber,pt=Fe.range.endLineNumber;ht.startLineNumber<=pt+1&&et-1<=ht.endLineNumber&&et!==Mt&&(Mt=et,Pt.push(new Re(et,pt-1,bt+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(ht,Fe,Pt,bt+1,et))}else this.getCandidateStickyLinesIntersectingFromStickyModel(ht,Fe,Pt,bt,$t)}}getCandidateStickyLinesIntersecting(ht){var Ct,Pt;if(!(!((Ct=this._model)===null||Ct===void 0)&&Ct.element))return[];let bt=[];this.getCandidateStickyLinesIntersectingFromStickyModel(ht,this._model.element,bt,0,-1);const $t=(Pt=this._editor._getViewModel())===null||Pt===void 0?void 0:Pt.getHiddenAreas();if($t)for(const Mt of $t)bt=bt.filter(Xe=>!(Xe.startLineNumber>=Mt.startLineNumber&&Xe.endLineNumber<=Mt.endLineNumber+1));return bt}};ie=_e([Ue(1,R.p),Ue(2,W.c_)],ie);var Z=i(44333),se=i(36953),ve=i(66931),he=i(50038),ce=i(84758),Ee=i(52429),We=i(69060),it=function(ut,ht,Ct,Pt){var bt=arguments.length,$t=bt<3?ht:Pt===null?Pt=Object.getOwnPropertyDescriptor(ht,Ct):Pt,Mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(ut,ht,Ct,Pt);else for(var Xe=ut.length-1;Xe>=0;Xe--)(Mt=ut[Xe])&&($t=(bt<3?Mt($t):bt>3?Mt(ht,Ct,$t):Mt(ht,Ct))||$t);return bt>3&&$t&&Object.defineProperty(ht,Ct,$t),$t},Ze=function(ut,ht){return function(Ct,Pt){ht(Ct,Pt,ut)}},je=function(ut,ht,Ct,Pt){function bt($t){return $t instanceof Ct?$t:new Ct(function(Mt){Mt($t)})}return new(Ct||(Ct=Promise))(function($t,Mt){function Xe(zt){try{Xt(Pt.next(zt))}catch(Fe){Mt(Fe)}}function Lt(zt){try{Xt(Pt.throw(zt))}catch(Fe){Mt(Fe)}}function Xt(zt){zt.done?$t(zt.value):bt(zt.value).then(Xe,Lt)}Xt((Pt=Pt.apply(ut,ht||[])).next())})};let Te=class Fh extends E.JT{constructor(ht,Ct,Pt,bt,$t,Mt,Xe){super(),this._editor=ht,this._contextMenuService=Ct,this._languageFeaturesService=Pt,this._instaService=bt,this._contextKeyService=Xe,this._sessionStore=new E.SL,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._stickyScrollWidget=new w(this._editor),this._stickyLineCandidateProvider=new ie(this._editor,Pt,$t),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new u([],0),this._readConfiguration(),this._register(this._editor.onDidChangeConfiguration(Xt=>{Xt.hasChanged(110)&&this._readConfiguration()})),this._register(C.nm(this._stickyScrollWidget.getDomNode(),C.tw.CONTEXT_MENU,Xt=>je(this,void 0,void 0,function*(){this._onContextMenu(Xt)}))),this._stickyScrollFocusedContextKey=M.u.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=M.u.stickyScrollVisible.bindTo(this._contextKeyService);const Lt=this._register(C.go(this._stickyScrollWidget.getDomNode()));this._register(Lt.onDidBlur(Xt=>{const zt=this._stickyScrollWidget.getDomNode().clientHeight;this._positionRevealed===!1&&zt===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(Lt.onDidFocus(Xt=>{this.focus()})),this._register(this._createClickLinkGesture()),this._register(C.nm(this._stickyScrollWidget.getDomNode(),C.tw.MOUSE_DOWN,Xt=>{this._onMouseDown=!0}))}static get(ht){return ht.getContribution(Fh.ID)}_disposeFocusStickyScrollStore(){var ht;this._stickyScrollFocusedContextKey.set(!1),(ht=this._focusDisposableStore)===null||ht===void 0||ht.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}if(this._stickyScrollFocusedContextKey.get()===!0)return;this._focused=!0,this._focusDisposableStore=new E.SL,this._stickyScrollFocusedContextKey.set(!0);const Ct=this._stickyScrollWidget.getDomNode();Ct.lastElementChild.focus(),this._stickyElements=Ct.children,this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1}focusNext(){this._focusedStickyElementIndex<this._stickyElements.length-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(ht){this._focusedStickyElementIndex=ht?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyElements.item(this._focusedStickyElementIndex).focus()}goToFocused(){const ht=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:ht[this._focusedStickyElementIndex],column:1})}_revealPosition(ht){this._positionRevealed=!0,this._editor.revealPosition(ht),this._editor.setSelection(he.e.fromPositions(ht)),this._editor.focus()}_createClickLinkGesture(){const ht=new E.SL,Ct=new E.SL;ht.add(Ct);const Pt=new ve.yN(this._editor,!0);return ht.add(Pt),ht.add(Pt.onMouseMoveOrRelevantKeyDown(([bt,$t])=>{if(!this._editor.hasModel()||!bt.hasTriggerModifier){Ct.clear();return}const Mt=bt.target;if(Mt.detail===this._stickyScrollWidget.getId()&&Mt.element.innerText===Mt.element.innerHTML){const Xe=Mt.element.innerText;if(this._stickyScrollWidget.hoverOnColumn===-1)return;const Lt=this._stickyScrollWidget.hoverOnLine,Xt=this._stickyScrollWidget.hoverOnColumn,zt=new he.e(Lt,Xt,Lt,Xt+Xe.length);if(!zt.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=zt,Ct.clear();else if(Mt.element.style.textDecoration==="underline")return;const Fe=new L.A;Ct.add((0,E.OF)(()=>Fe.dispose(!0)));let et;(0,ce.nD)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new g.L(Lt,Xt+1),Fe.token).then(pt=>{if(!Fe.token.isCancellationRequested)if(pt.length!==0){this._candidateDefinitionsLength=pt.length;const It=Mt.element;et!==It?(Ct.clear(),et=It,et.style.textDecoration="underline",Ct.add((0,E.OF)(()=>{et.style.textDecoration="none"}))):et||(et=It,et.style.textDecoration="underline",Ct.add((0,E.OF)(()=>{et.style.textDecoration="none"})))}else Ct.clear()})}else Ct.clear()})),ht.add(Pt.onCancel(()=>{Ct.clear()})),ht.add(Pt.onExecute(bt=>je(this,void 0,void 0,function*(){bt.target.detail===this._stickyScrollWidget.getId()&&(bt.hasTriggerModifier?(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:1})),this._instaService.invokeFunction(Ee.K,bt,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})):bt.isRightClick||(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:this._stickyScrollWidget.hoverOnColumn})))}))),ht}_onContextMenu(ht){this._contextMenuService.showContextMenu({menuId:_.eH.StickyScrollContext,getAnchor:()=>ht})}_readConfiguration(){const ht=this._editor.getOption(110);if(ht.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else ht.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._renderStickyScroll())),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(Pt=>this._onTokensChange(Pt))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>this._renderStickyScroll())),this._enabled=!0);this._editor.getOption(65).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>this._renderStickyScroll()))}_needsUpdate(ht){const Ct=this._stickyScrollWidget.getCurrentLines();for(const Pt of Ct)for(const bt of ht.ranges)if(Pt>=bt.fromLineNumber&&Pt<=bt.toLineNumber)return!0;return!1}_onTokensChange(ht){this._needsUpdate(ht)&&this._renderStickyScroll()}_onDidResize(){const ht=this._editor.getLayoutInfo(),Ct=ht.width-ht.minimap.minimapCanvasOuterWidth-ht.verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width=`${Ct}px`;const Pt=ht.height/this._editor.getOption(64);this._maxStickyLines=Math.round(Pt*.25)}_renderStickyScroll(){if(!this._editor.hasModel())return;const ht=this._editor.getModel(),Ct=this._stickyLineCandidateProvider.getVersionId();if(Ct===void 0||Ct===ht.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.lineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState);else if(this._stickyElements=this._stickyScrollWidget.getDomNode().children,this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyElements.length-1,this._focusedStickyElementIndex!==-1&&this._stickyElements.item(this._focusedStickyElementIndex).focus();else{const Pt=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState),this._stickyElements.length===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(Pt)||(this._focusedStickyElementIndex=this._stickyElements.length-1),this._stickyElements.item(this._focusedStickyElementIndex).focus())}}findScrollWidgetState(){const ht=this._editor.getOption(64),Ct=Math.min(this._maxStickyLines,this._editor.getOption(110).maxLineCount),Pt=this._editor.getScrollTop();let bt=0;const $t=[],Mt=this._editor.getVisibleRanges();if(Mt.length!==0){const Xe=new q(Mt[0].startLineNumber,Mt[Mt.length-1].endLineNumber),Lt=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(Xe);for(const Xt of Lt){const zt=Xt.startLineNumber,Fe=Xt.endLineNumber,et=Xt.nestingDepth;if(Fe-zt>0){const pt=(et-1)*ht,It=et*ht,kt=this._editor.getBottomForLineNumber(zt)-Pt,yt=this._editor.getTopForLineNumber(Fe)-Pt,St=this._editor.getBottomForLineNumber(Fe)-Pt;if(pt>yt&&pt<=St){$t.push(zt),bt=St-It;break}else It>kt&&It<=St&&$t.push(zt);if($t.length===Ct)break}}}return new u($t,bt)}dispose(){super.dispose(),this._sessionStore.dispose()}};Te.ID="store.contrib.stickyScrollController",Te=it([Ze(1,se.i),Ze(2,R.p),Ze(3,Z.TG),Ze(4,W.c_),Ze(5,We.A),Ze(6,A.i6)],Te);var Ie=function(ut,ht,Ct,Pt){function bt($t){return $t instanceof Ct?$t:new Ct(function(Mt){Mt($t)})}return new(Ct||(Ct=Promise))(function($t,Mt){function Xe(zt){try{Xt(Pt.next(zt))}catch(Fe){Mt(Fe)}}function Lt(zt){try{Xt(Pt.throw(zt))}catch(Fe){Mt(Fe)}}function Xt(zt){zt.done?$t(zt.value):bt(zt.value).then(Xe,Lt)}Xt((Pt=Pt.apply(ut,ht||[])).next())})};class oe extends _.Ke{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,B.NC)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:(0,B.NC)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:f.View,toggled:{condition:A.Ao.equals("config.editor.stickyScroll.enabled",!0),title:(0,B.NC)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,B.NC)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:_.eH.CommandPalette},{id:_.eH.MenubarViewMenu,group:"5_editor",order:2},{id:_.eH.StickyScrollContext}]})}run(ht){return Ie(this,void 0,void 0,function*(){const Ct=ht.get(v.Ui),Pt=!Ct.getValue("editor.stickyScroll.enabled");return Ct.updateValue("editor.stickyScroll.enabled",Pt)})}}const ge=100;class Ce extends m.x1{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,B.NC)("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:(0,B.NC)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:A.Ao.and(A.Ao.has("config.editor.stickyScroll.enabled"),M.u.stickyScrollVisible),menu:[{id:_.eH.CommandPalette}]})}runEditorCommand(ht,Ct){var Pt;(Pt=Te.get(Ct))===null||Pt===void 0||Pt.focus()}}class me extends m.x1{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,B.NC)("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:M.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ge,primary:18}})}runEditorCommand(ht,Ct){var Pt;(Pt=Te.get(Ct))===null||Pt===void 0||Pt.focusNext()}}class Me extends m.x1{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,B.NC)("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:M.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ge,primary:16}})}runEditorCommand(ht,Ct){var Pt;(Pt=Te.get(Ct))===null||Pt===void 0||Pt.focusPrevious()}}class qe extends m.x1{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,B.NC)("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:M.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ge,primary:3}})}runEditorCommand(ht,Ct){var Pt;(Pt=Te.get(Ct))===null||Pt===void 0||Pt.goToFocused()}}class ot extends m.x1{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,B.NC)("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:M.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ge,primary:9}})}runEditorCommand(ht,Ct){var Pt;(Pt=Te.get(Ct))===null||Pt===void 0||Pt.selectEditor()}}(0,m._K)(Te.ID,Te,1),(0,_.r1)(oe),(0,_.r1)(Ce),(0,_.r1)(Me),(0,_.r1)(me),(0,_.r1)(qe),(0,_.r1)(ot)},32061:function(Ot,He,i){"use strict";i.d(He,{_:function(){return v},t:function(){return _}});var m=i(16308),B=i(4538),f=i(17416);class _{constructor(M,E){this.leadingLineContent=M,this.characterCountDelta=E}}class v{constructor(M,E,R,p,l,d,g=B.mX.default,n=void 0){this.clipboardText=n,this._snippetCompareFn=v._compareCompletionItems,this._items=M,this._column=E,this._wordDistance=p,this._options=l,this._refilterKind=1,this._lineContext=R,this._fuzzyScoreOptions=g,d==="top"?this._snippetCompareFn=v._compareCompletionItemsSnippetsUp:d==="bottom"&&(this._snippetCompareFn=v._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(M){(this._lineContext.leadingLineContent!==M.leadingLineContent||this._lineContext.characterCountDelta!==M.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<M.characterCountDelta&&this._filteredItems?2:1,this._lineContext=M)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const M=new Set;for(const[E,R]of this.getItemsByProvider())R.length>0&&R[0].container.incomplete&&M.add(E);return M}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const M=[],{leadingLineContent:E,characterCountDelta:R}=this._lineContext;let p="",l="";const d=this._refilterKind===1?this._items:this._filteredItems,g=[],n=!this._options.filterGraceful||d.length>2e3?B.EW:B.l7;for(let a=0;a<d.length;a++){const C=d[a];if(C.isInvalid)continue;const D=this._itemsByProvider.get(C.provider);D?D.push(C):this._itemsByProvider.set(C.provider,[C]);const u=C.position.column-C.editStart.column,S=u+R-(C.position.column-this._column);if(p.length!==S&&(p=S===0?"":E.slice(-S),l=p.toLowerCase()),C.word=p,S===0)C.score=B.CL.Default;else{let w=0;for(;w<u;){const L=p.charCodeAt(w);if(L===32||L===9)w+=1;else break}if(w>=S)C.score=B.CL.Default;else if(typeof C.completion.filterText=="string"){const L=n(p,l,w,C.completion.filterText,C.filterTextLow,0,this._fuzzyScoreOptions);if(!L)continue;(0,f.zY)(C.completion.filterText,C.textLabel)===0?C.score=L:(C.score=(0,B.jB)(p,l,w,C.textLabel,C.labelLow,0),C.score[0]=L[0])}else{const L=n(p,l,w,C.textLabel,C.labelLow,0,this._fuzzyScoreOptions);if(!L)continue;C.score=L}}C.idx=a,C.distance=this._wordDistance.distance(C.position,C.completion),g.push(C),M.push(C.textLabel.length)}this._filteredItems=g.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:M.length?(0,m.HW)(M.length-.85,M,(a,C)=>a-C):0}}static _compareCompletionItems(M,E){return M.score[0]>E.score[0]?-1:M.score[0]<E.score[0]?1:M.distance<E.distance?-1:M.distance>E.distance?1:M.idx<E.idx?-1:M.idx>E.idx?1:0}static _compareCompletionItemsSnippetsDown(M,E){if(M.completion.kind!==E.completion.kind){if(M.completion.kind===27)return 1;if(E.completion.kind===27)return-1}return v._compareCompletionItems(M,E)}static _compareCompletionItemsSnippetsUp(M,E){if(M.completion.kind!==E.completion.kind){if(M.completion.kind===27)return-1;if(E.completion.kind===27)return 1}return v._compareCompletionItems(M,E)}}},33024:function(Ot,He,i){"use strict";i.d(He,{A9:function(){return N},GI:function(){return w},ZJ:function(){return x},_y:function(){return S},i5:function(){return q},kL:function(){return W},tG:function(){return te}});var m=i(97464),B=i(20996),f=i(4538),_=i(38431),v=i(69344),A=i(14818),M=i(28919),E=i(8964),R=i(50038),p=i(91223),l=i(35366),d=i(26386),g=i(21208),n=i(80793),a=i(76826),C=i(35921),D=i(99650),u=function(X,j,J,Y){function ee(fe){return fe instanceof J?fe:new J(function(De){De(fe)})}return new(J||(J=Promise))(function(fe,De){function Ne(Le){try{xe(Y.next(Le))}catch(ue){De(ue)}}function be(Le){try{xe(Y.throw(Le))}catch(ue){De(ue)}}function xe(Le){Le.done?fe(Le.value):ee(Le.value).then(Ne,be)}xe((Y=Y.apply(X,j||[])).next())})};const S={Visible:D.iX,HasFocusedSuggestion:new a.uy("suggestWidgetHasFocusedSuggestion",!1,(0,d.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new a.uy("suggestWidgetDetailsVisible",!1,(0,d.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new a.uy("suggestWidgetMultipleSuggestions",!1,(0,d.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new a.uy("suggestionMakesTextEdit",!0,(0,d.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new a.uy("acceptSuggestionOnEnter",!0,(0,d.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new a.uy("suggestionHasInsertAndReplaceRange",!1,(0,d.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new a.uy("suggestionInsertMode",void 0,{type:"string",description:(0,d.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new a.uy("suggestionCanResolve",!1,(0,d.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},w=new g.eH("suggestWidgetStatusBar");class L{constructor(j,J,Y,ee){var fe;this.position=j,this.completion=J,this.container=Y,this.provider=ee,this.isInvalid=!1,this.score=f.CL.Default,this.distance=0,this.textLabel=typeof J.label=="string"?J.label:(fe=J.label)===null||fe===void 0?void 0:fe.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=J.sortText&&J.sortText.toLowerCase(),this.filterTextLow=J.filterText&&J.filterText.toLowerCase(),this.extensionId=J.extensionId,R.e.isIRange(J.range)?(this.editStart=new E.L(J.range.startLineNumber,J.range.startColumn),this.editInsertEnd=new E.L(J.range.endLineNumber,J.range.endColumn),this.editReplaceEnd=new E.L(J.range.endLineNumber,J.range.endColumn),this.isInvalid=this.isInvalid||R.e.spansMultipleLines(J.range)||J.range.startLineNumber!==j.lineNumber):(this.editStart=new E.L(J.range.insert.startLineNumber,J.range.insert.startColumn),this.editInsertEnd=new E.L(J.range.insert.endLineNumber,J.range.insert.endColumn),this.editReplaceEnd=new E.L(J.range.replace.endLineNumber,J.range.replace.endColumn),this.isInvalid=this.isInvalid||R.e.spansMultipleLines(J.range.insert)||R.e.spansMultipleLines(J.range.replace)||J.range.insert.startLineNumber!==j.lineNumber||J.range.replace.startLineNumber!==j.lineNumber||J.range.insert.startColumn!==J.range.replace.startColumn),typeof ee.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(j){return u(this,void 0,void 0,function*(){if(!this._resolveCache){const J=j.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,j)).then(Y=>{Object.assign(this.completion,Y),this._isResolved=!0,J.dispose()},Y=>{(0,B.n2)(Y)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class N{constructor(j=2,J=new Set,Y=new Set,ee=new Map,fe=!0){this.snippetSortOrder=j,this.kindFilter=J,this.providerFilter=Y,this.providerItemsToReuse=ee,this.showDeprecated=fe}}N.default=new N;let O;function x(){return O}class T{constructor(j,J,Y,ee){this.items=j,this.needsClipboard=J,this.durations=Y,this.disposable=ee}}function W(X,j,J,Y=N.default,ee={triggerKind:0},fe=m.T.None){return u(this,void 0,void 0,function*(){const De=new v.G(!0);J=J.clone();const Ne=j.getWordAtPosition(J),be=Ne?new R.e(J.lineNumber,Ne.startColumn,J.lineNumber,Ne.endColumn):R.e.fromPositions(J),xe={replace:be,insert:be.setEndPosition(J.lineNumber,J.column)},Le=[],ue=new _.SL,re=[];let _e=!1;const Ue=(Re,ie,Z)=>{var se,ve,he;let ce=!1;if(!ie)return ce;for(const Ee of ie.suggestions)if(!Y.kindFilter.has(Ee.kind)){if(!Y.showDeprecated&&(!((se=Ee==null?void 0:Ee.tags)===null||se===void 0)&&se.includes(1)))continue;Ee.range||(Ee.range=xe),Ee.sortText||(Ee.sortText=typeof Ee.label=="string"?Ee.label:Ee.label.label),!_e&&Ee.insertTextRules&&Ee.insertTextRules&4&&(_e=l.Yj.guessNeedsClipboard(Ee.insertText)),Le.push(new L(J,Ee,ie,Re)),ce=!0}return(0,_.Wf)(ie)&&ue.add(ie),re.push({providerName:(ve=Re._debugDisplayName)!==null&&ve!==void 0?ve:"unknown_provider",elapsedProvider:(he=ie.duration)!==null&&he!==void 0?he:-1,elapsedOverall:Z.elapsed()}),ce},Qe=(()=>u(this,void 0,void 0,function*(){if(!O||Y.kindFilter.has(27))return;const Re=Y.providerItemsToReuse.get(O);if(Re){Re.forEach(se=>Le.push(se));return}if(Y.providerFilter.size>0&&!Y.providerFilter.has(O))return;const ie=new v.G(!0),Z=yield O.provideCompletionItems(j,J,ee,fe);Ue(O,Z,ie)}))();for(const Re of X.orderedGroups(j)){let ie=!1;if(yield Promise.all(Re.map(Z=>u(this,void 0,void 0,function*(){if(Y.providerItemsToReuse.has(Z)){const se=Y.providerItemsToReuse.get(Z);se.forEach(ve=>Le.push(ve)),ie=ie||se.length>0;return}if(!(Y.providerFilter.size>0&&!Y.providerFilter.has(Z)))try{const se=new v.G(!0),ve=yield Z.provideCompletionItems(j,J,ee,fe);ie=Ue(Z,ve,se)||ie}catch(se){(0,B.Cp)(se)}}))),ie||fe.isCancellationRequested)break}return yield Qe,fe.isCancellationRequested?(ue.dispose(),Promise.reject(new B.FU)):new T(Le.sort(k(Y.snippetSortOrder)),_e,{entries:re,elapsed:De.elapsed()},ue)})}function U(X,j){if(X.sortTextLow&&j.sortTextLow){if(X.sortTextLow<j.sortTextLow)return-1;if(X.sortTextLow>j.sortTextLow)return 1}return X.textLabel<j.textLabel?-1:X.textLabel>j.textLabel?1:X.completion.kind-j.completion.kind}function K(X,j){if(X.completion.kind!==j.completion.kind){if(X.completion.kind===27)return-1;if(j.completion.kind===27)return 1}return U(X,j)}function G(X,j){if(X.completion.kind!==j.completion.kind){if(X.completion.kind===27)return 1;if(j.completion.kind===27)return-1}return U(X,j)}const z=new Map;z.set(0,K),z.set(2,G),z.set(1,U);function k(X){return z.get(X)}n.P.registerCommand("_executeCompletionItemProvider",(X,...j)=>u(void 0,void 0,void 0,function*(){const[J,Y,ee,fe]=j;(0,A.p_)(M.o.isUri(J)),(0,A.p_)(E.L.isIPosition(Y)),(0,A.p_)(typeof ee=="string"||!ee),(0,A.p_)(typeof fe=="number"||!fe);const{completionProvider:De}=X.get(C.p),Ne=yield X.get(p.S).createModelReference(J);try{const be={incomplete:!1,suggestions:[]},xe=[],Le=Ne.object.textEditorModel.validatePosition(Y),ue=yield W(De,Ne.object.textEditorModel,Le,void 0,{triggerCharacter:ee!=null?ee:void 0,triggerKind:ee?1:0});for(const re of ue.items)xe.length<(fe!=null?fe:0)&&xe.push(re.resolve(m.T.None)),be.incomplete=be.incomplete||re.container.incomplete,be.suggestions.push(re.completion);try{return yield Promise.all(xe),be}finally{setTimeout(()=>ue.disposable.dispose(),100)}}finally{Ne.dispose()}}));function q(X,j){var J;(J=X.getContribution("editor.contrib.suggestController"))===null||J===void 0||J.triggerSuggest(new Set().add(j),void 0,!0)}class te{static isAllOff(j){return j.other==="off"&&j.comments==="off"&&j.strings==="off"}static isAllOn(j){return j.other==="on"&&j.comments==="on"&&j.strings==="on"}static valueFor(j,J){switch(J){case 1:return j.comments;case 2:return j.strings;default:return j.other}}}},22270:function(Ot,He,i){"use strict";i.r(He),i.d(He,{SuggestController:function(){return Yn},TriggerSuggestAction:function(){return ci}});var m=i(79874),B=i(16308),f=i(13484),_=i(97464),v=i(20996),A=i(56709),M=i(21994),E=i(38431),R=i(11138),p=i(69344),l=i(14818),d=i(48423),g=i(55298),n=i(19083),a=i(8964),C=i(50038),D=i(21081),u=i(31046),S=i(35366),w=i(32905),L=i(76826),N=function(mt,Oe,le,Be){var Ke=arguments.length,Ge=Ke<3?Oe:Be===null?Be=Object.getOwnPropertyDescriptor(Oe,le):Be,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(mt,Oe,le,Be);else for(var ze=mt.length-1;ze>=0;ze--)(ye=mt[ze])&&(Ge=(Ke<3?ye(Ge):Ke>3?ye(Oe,le,Ge):ye(Oe,le))||Ge);return Ke>3&&Ge&&Object.defineProperty(Oe,le,Ge),Ge},O=function(mt,Oe){return function(le,Be){Oe(le,Be,mt)}};let x=class Bh{constructor(Oe,le){this._editor=Oe,this._enabled=!1,this._ckAtEnd=Bh.AtEnd.bindTo(le),this._configListener=this._editor.onDidChangeConfiguration(Be=>Be.hasChanged(118)&&this._update()),this._update()}dispose(){var Oe;this._configListener.dispose(),(Oe=this._selectionListener)===null||Oe===void 0||Oe.dispose(),this._ckAtEnd.reset()}_update(){const Oe=this._editor.getOption(118)==="on";if(this._enabled!==Oe)if(this._enabled=Oe,this._enabled){const le=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Be=this._editor.getModel(),Ke=this._editor.getSelection(),Ge=Be.getWordAtPosition(Ke.getStartPosition());if(!Ge){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(Ge.endColumn===Ke.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(le),le()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};x.AtEnd=new L.uy("atEndOfWord",!1),x=N([O(1,L.i6)],x);var T=i(26386),W=i(80793),U=i(44333),K=i(59271),G=i(33024),z=function(mt,Oe,le,Be){var Ke=arguments.length,Ge=Ke<3?Oe:Be===null?Be=Object.getOwnPropertyDescriptor(Oe,le):Be,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(mt,Oe,le,Be);else for(var ze=mt.length-1;ze>=0;ze--)(ye=mt[ze])&&(Ge=(Ke<3?ye(Ge):Ke>3?ye(Oe,le,Ge):ye(Oe,le))||Ge);return Ke>3&&Ge&&Object.defineProperty(Oe,le,Ge),Ge},k=function(mt,Oe){return function(le,Be){Oe(le,Be,mt)}};let q=class Hd{constructor(Oe,le){this._editor=Oe,this._index=0,this._ckOtherSuggestions=Hd.OtherSuggestions.bindTo(le)}dispose(){this.reset()}reset(){var Oe;this._ckOtherSuggestions.reset(),(Oe=this._listener)===null||Oe===void 0||Oe.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:Oe,index:le},Be){if(Oe.items.length===0){this.reset();return}if(Hd._moveIndex(!0,Oe,le)===le){this.reset();return}this._acceptNext=Be,this._model=Oe,this._index=le,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(Oe,le,Be){let Ke=Be;for(let Ge=le.items.length;Ge>0&&(Ke=(Ke+le.items.length+(Oe?1:-1))%le.items.length,!(Ke===Be||!le.items[Ke].completion.additionalTextEdits));Ge--);return Ke}next(){this._move(!0)}prev(){this._move(!1)}_move(Oe){if(this._model)try{this._ignore=!0,this._index=Hd._moveIndex(Oe,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};q.OtherSuggestions=new L.uy("hasOtherSuggestions",!1),q=z([k(1,L.i6)],q);var te=i(55224);class X{constructor(Oe,le,Be,Ke){this._disposables=new E.SL,this._disposables.add(Be.onDidSuggest(Ge=>{Ge.completionModel.items.length===0&&this.reset()})),this._disposables.add(Be.onDidCancel(Ge=>{this.reset()})),this._disposables.add(le.onDidShow(()=>this._onItem(le.getFocusedItem()))),this._disposables.add(le.onDidFocus(this._onItem,this)),this._disposables.add(le.onDidHide(this.reset,this)),this._disposables.add(Oe.onWillType(Ge=>{if(this._active&&!le.isFrozen()&&Be.state!==0){const ye=Ge.charCodeAt(Ge.length-1);this._active.acceptCharacters.has(ye)&&Oe.getOption(0)&&Ke(this._active.item)}}))}_onItem(Oe){if(!Oe||!(0,B.Of)(Oe.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===Oe.item)return;const le=new te.q;for(const Be of Oe.item.completion.commitCharacters)Be.length>0&&le.add(Be.charCodeAt(0));this._active={acceptCharacters:le,item:Oe}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var j=i(17416),J=i(57841),Y=i(30363),ee=i(77512),fe=i(51941),De=i(71177),Ne=i(68554),be=i(32061),xe=i(35921),Le=i(4538),ue=function(mt,Oe,le,Be){var Ke=arguments.length,Ge=Ke<3?Oe:Be===null?Be=Object.getOwnPropertyDescriptor(Oe,le):Be,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(mt,Oe,le,Be);else for(var ze=mt.length-1;ze>=0;ze--)(ye=mt[ze])&&(Ge=(Ke<3?ye(Ge):Ke>3?ye(Oe,le,Ge):ye(Oe,le))||Ge);return Ke>3&&Ge&&Object.defineProperty(Oe,le,Ge),Ge},re=function(mt,Oe){return function(le,Be){Oe(le,Be,mt)}},_e=function(mt,Oe,le,Be){function Ke(Ge){return Ge instanceof le?Ge:new le(function(ye){ye(Ge)})}return new(le||(le=Promise))(function(Ge,ye){function ze(Bt){try{Rt(Be.next(Bt))}catch(At){ye(At)}}function lt(Bt){try{Rt(Be.throw(Bt))}catch(At){ye(At)}}function Rt(Bt){Bt.done?Ge(Bt.value):Ke(Bt.value).then(ze,lt)}Rt((Be=Be.apply(mt,Oe||[])).next())})};class Ue{static shouldAutoTrigger(Oe){if(!Oe.hasModel())return!1;const le=Oe.getModel(),Be=Oe.getPosition();le.tokenization.tokenizeIfCheap(Be.lineNumber);const Ke=le.getWordAtPosition(Be);return!(!Ke||Ke.endColumn!==Be.column||!isNaN(Number(Ke.word)))}constructor(Oe,le,Be){this.leadingLineContent=Oe.getLineContent(le.lineNumber).substr(0,le.column-1),this.leadingWord=Oe.getWordUntilPosition(le),this.lineNumber=le.lineNumber,this.column=le.column,this.triggerOptions=Be}}function Qe(mt,Oe,le){return Boolean(Oe.getContextKeyValue("inlineSuggestionVisible"))?!mt.getOption(60).suppressSuggestions:!0}function Re(mt,Oe,le){return Boolean(Oe.getContextKeyValue("inlineSuggestionVisible"))?!mt.getOption(60).suppressSuggestions:!0}let ie=class Wh{constructor(Oe,le,Be,Ke,Ge,ye,ze,lt){this._editor=Oe,this._editorWorkerService=le,this._clipboardService=Be,this._telemetryService=Ke,this._logService=Ge,this._contextKeyService=ye,this._configurationService=ze,this._languageFeaturesService=lt,this._toDispose=new E.SL,this._triggerCharacterListener=new E.SL,this._triggerQuickSuggest=new f._F,this._triggerState=void 0,this._completionDisposables=new E.SL,this._onDidCancel=new A.Q5,this._onDidTrigger=new A.Q5,this._onDidSuggest=new A.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new J.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let Rt=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{Rt=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{Rt=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Bt=>{Rt||this._onCursorChange(Bt)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!Rt&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,E.B9)(this._triggerCharacterListener),(0,E.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(87)||!this._editor.hasModel()||!this._editor.getOption(116))return;const Oe=new Map;for(const Be of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const Ke of Be.triggerCharacters||[]){let Ge=Oe.get(Ke);Ge||(Ge=new Set,Ge.add((0,G.ZJ)()),Oe.set(Ke,Ge)),Ge.add(Be)}const le=Be=>{var Ke;if(!Re(this._editor,this._contextKeyService,this._configurationService)||Ue.shouldAutoTrigger(this._editor))return;if(!Be){const ze=this._editor.getPosition();Be=this._editor.getModel().getLineContent(ze.lineNumber).substr(0,ze.column-1)}let Ge="";(0,j.YK)(Be.charCodeAt(Be.length-1))?(0,j.ZG)(Be.charCodeAt(Be.length-2))&&(Ge=Be.substr(Be.length-2)):Ge=Be.charAt(Be.length-1);const ye=Oe.get(Ge);if(ye){const ze=new Map;if(this._completionModel)for(const[lt,Rt]of this._completionModel.getItemsByProvider())ye.has(lt)||ze.set(lt,Rt);this.trigger({auto:!0,triggerKind:1,triggerCharacter:Ge,retrigger:Boolean(this._completionModel),clipboardText:(Ke=this._completionModel)===null||Ke===void 0?void 0:Ke.clipboardText,completionOptions:{providerFilter:ye,providerItemsToReuse:ze}})}};this._triggerCharacterListener.add(this._editor.onDidType(le)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>le()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(Oe=!1){var le;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(le=this._requestToken)===null||le===void 0||le.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:Oe}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(Oe){if(!this._editor.hasModel())return;const le=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!Oe.selection.isEmpty()||Oe.reason!==0&&Oe.reason!==3||Oe.source!=="keyboard"&&Oe.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&Oe.reason===0?(le.containsRange(this._currentSelection)||le.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&Oe.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){G.tG.isAllOff(this._editor.getOption(85))||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!Ue.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const Oe=this._editor.getModel(),le=this._editor.getPosition(),Be=this._editor.getOption(85);if(!G.tG.isAllOff(Be)){if(!G.tG.isAllOn(Be)){Oe.tokenization.tokenizeIfCheap(le.lineNumber);const Ke=Oe.tokenization.getLineTokens(le.lineNumber),Ge=Ke.getStandardTokenType(Ke.findTokenIndexAtOffset(Math.max(le.column-1-1,0)));if(G.tG.valueFor(Be,Ge)!=="on")return}Qe(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(Oe)&&this.trigger({auto:!0})}},this._editor.getOption(86)))}_refilterCompletionItems(){(0,l.p_)(this._editor.hasModel()),(0,l.p_)(this._triggerState!==void 0);const Oe=this._editor.getModel(),le=this._editor.getPosition(),Be=new Ue(Oe,le,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(Be)}trigger(Oe){var le,Be,Ke,Ge,ye,ze;if(!this._editor.hasModel())return;const lt=this._editor.getModel(),Rt=new Ue(lt,this._editor.getPosition(),Oe);this.cancel(Oe.retrigger),this._triggerState=Oe,this._onDidTrigger.fire({auto:Oe.auto,shy:(le=Oe.shy)!==null&&le!==void 0?le:!1,position:this._editor.getPosition()}),this._context=Rt;let Bt={triggerKind:(Be=Oe.triggerKind)!==null&&Be!==void 0?Be:0};Oe.triggerCharacter&&(Bt={triggerKind:1,triggerCharacter:Oe.triggerCharacter}),this._requestToken=new _.A;const At=this._editor.getOption(107);let ii=1;switch(At){case"top":ii=0;break;case"bottom":ii=2;break}const{itemKind:vi,showDeprecated:yi}=Wh._createSuggestFilter(this._editor),hi=new G.A9(ii,(Ge=(Ke=Oe.completionOptions)===null||Ke===void 0?void 0:Ke.kindFilter)!==null&&Ge!==void 0?Ge:vi,(ye=Oe.completionOptions)===null||ye===void 0?void 0:ye.providerFilter,(ze=Oe.completionOptions)===null||ze===void 0?void 0:ze.providerItemsToReuse,yi),Si=ee.K.create(this._editorWorkerService,this._editor),Oi=(0,G.kL)(this._languageFeaturesService.completionProvider,lt,this._editor.getPosition(),hi,Bt,this._requestToken.token);Promise.all([Oi,Si]).then(([Ai,Zi])=>_e(this,void 0,void 0,function*(){var pn;if((pn=this._requestToken)===null||pn===void 0||pn.dispose(),!this._editor.hasModel())return;let Pn=Oe==null?void 0:Oe.clipboardText;if(!Pn&&Ai.needsClipboard&&(Pn=yield this._clipboardService.readText()),this._triggerState===void 0)return;const cs=this._editor.getModel(),ds=new Ue(cs,this._editor.getPosition(),Oe),Es=Object.assign(Object.assign({},Le.mX.default),{firstMatchCanBeWeak:!this._editor.getOption(113).matchOnWordStartOnly});this._completionModel=new be._(Ai.items,this._context.column,{leadingLineContent:ds.leadingLineContent,characterCountDelta:ds.column-this._context.column},Zi,this._editor.getOption(113),this._editor.getOption(107),Es,Pn),this._completionDisposables.add(Ai.disposable),this._onNewContext(ds),this._reportDurationsTelemetry(Ai.durations)})).catch(v.dL)}_reportDurationsTelemetry(Oe){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(Oe)}),this._logService.debug("suggest.durations.json",Oe)})}static _createSuggestFilter(Oe){const le=new Set;Oe.getOption(107)==="none"&&le.add(27);const Ke=Oe.getOption(113);return Ke.showMethods||le.add(0),Ke.showFunctions||le.add(1),Ke.showConstructors||le.add(2),Ke.showFields||le.add(3),Ke.showVariables||le.add(4),Ke.showClasses||le.add(5),Ke.showStructs||le.add(6),Ke.showInterfaces||le.add(7),Ke.showModules||le.add(8),Ke.showProperties||le.add(9),Ke.showEvents||le.add(10),Ke.showOperators||le.add(11),Ke.showUnits||le.add(12),Ke.showValues||le.add(13),Ke.showConstants||le.add(14),Ke.showEnums||le.add(15),Ke.showEnumMembers||le.add(16),Ke.showKeywords||le.add(17),Ke.showWords||le.add(18),Ke.showColors||le.add(19),Ke.showFiles||le.add(20),Ke.showReferences||le.add(21),Ke.showColors||le.add(22),Ke.showFolders||le.add(23),Ke.showTypeParameters||le.add(24),Ke.showSnippets||le.add(27),Ke.showUsers||le.add(25),Ke.showIssues||le.add(26),{itemKind:le,showDeprecated:Ke.showDeprecated}}_onNewContext(Oe){if(this._context){if(Oe.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,j.V8)(Oe.leadingLineContent)!==(0,j.V8)(this._context.leadingLineContent)){this.cancel();return}if(Oe.column<this._context.column){Oe.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(Oe.leadingWord.word.length!==0&&Oe.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Ue.shouldAutoTrigger(this._editor)&&this._context){const Be=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:Be}})}return}if(Oe.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&Oe.leadingWord.word.length!==0){const le=new Map,Be=new Set;for(const[Ke,Ge]of this._completionModel.getItemsByProvider())Ge.length>0&&Ge[0].container.incomplete?Be.add(Ke):le.set(Ke,Ge);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:Be,providerItemsToReuse:le}})}else{const le=this._completionModel.lineContext;let Be=!1;if(this._completionModel.lineContext={leadingLineContent:Oe.leadingLineContent,characterCountDelta:Oe.column-this._context.column},this._completionModel.items.length===0){const Ke=Ue.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(Ke&&this._context.leadingWord.endColumn<Oe.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=le,Be=this._completionModel.items.length>0,Be&&Oe.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:Oe.triggerOptions,isFrozen:Be})}}}}};ie=ue([re(1,Y.p),re(2,fe.p),re(3,Ne.b),re(4,K.VZ),re(5,L.i6),re(6,De.Ui),re(7,xe.p)],ie);class Z{constructor(Oe,le){this._disposables=new E.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(Oe.onWillType(()=>{if(this._locked||!Oe.hasModel())return;const Be=Oe.getSelections(),Ke=Be.length;let Ge=!1;for(let ze=0;ze<Ke;ze++)if(!Be[ze].isEmpty()){Ge=!0;break}if(!Ge){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const ye=Oe.getModel();for(let ze=0;ze<Ke;ze++){const lt=Be[ze];if(ye.getValueLengthInRange(lt)>Z._maxSelectionLength)return;this._lastOvertyped[ze]={value:ye.getValueInRange(lt),multiline:lt.startLineNumber!==lt.endLineNumber}}})),this._disposables.add(le.onDidTrigger(Be=>{this._locked=!0})),this._disposables.add(le.onDidCancel(Be=>{this._locked=!1}))}getLastOvertypedInfo(Oe){if(Oe>=0&&Oe<this._lastOvertyped.length)return this._lastOvertyped[Oe]}dispose(){this._disposables.dispose()}}Z._maxSelectionLength=51200;var se=i(34441),ve=i(89467),he=i(75490),ce=i(98726),Ee=i(77957),We=i(67235),it=i(3941),Ze=i(21208),je=function(mt,Oe,le,Be){var Ke=arguments.length,Ge=Ke<3?Oe:Be===null?Be=Object.getOwnPropertyDescriptor(Oe,le):Be,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(mt,Oe,le,Be);else for(var ze=mt.length-1;ze>=0;ze--)(ye=mt[ze])&&(Ge=(Ke<3?ye(Ge):Ke>3?ye(Oe,le,Ge):ye(Oe,le))||Ge);return Ke>3&&Ge&&Object.defineProperty(Oe,le,Ge),Ge},Te=function(mt,Oe){return function(le,Be){Oe(le,Be,mt)}};class Ie extends it.Mm{updateLabel(){const Oe=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!Oe)return super.updateLabel();this.label&&(this.label.textContent=(0,T.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,Ie.symbolPrintEnter(Oe)))}static symbolPrintEnter(Oe){var le;return(le=Oe.getLabel())===null||le===void 0?void 0:le.replace(/\benter\b/gi,"\u23CE")}}let oe=class{constructor(Oe,le,Be,Ke,Ge){this._menuId=le,this._menuService=Ke,this._contextKeyService=Ge,this._menuDisposables=new E.SL,this.element=se.R3(Oe,se.$(".suggest-status-bar"));const ye=ze=>ze instanceof Ze.U8?Be.createInstance(Ie,ze,void 0):void 0;this._leftActions=new We.o(this.element,{actionViewItemProvider:ye}),this._rightActions=new We.o(this.element,{actionViewItemProvider:ye}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const Oe=this._menuService.createMenu(this._menuId,this._contextKeyService),le=()=>{const Be=[],Ke=[];for(const[Ge,ye]of Oe.getActions())Ge==="left"?Be.push(...ye):Ke.push(...ye);this._leftActions.clear(),this._leftActions.push(Be),this._rightActions.clear(),this._rightActions.push(Ke)};this._menuDisposables.add(Oe.onDidChange(()=>le())),this._menuDisposables.add(Oe)}hide(){this._menuDisposables.clear()}};oe=je([Te(2,U.TG),Te(3,Ze.co),Te(4,L.i6)],oe);var ge=i(27187),Ce=i(63536),me=i(92537),Me=i(49914),qe=i(58566),ot=i(52243);class ut{constructor(){this._onDidWillResize=new A.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new A.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new E.SL,this._size=new se.Ro(0,0),this._minSize=new se.Ro(0,0),this._maxSize=new se.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new ot.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new ot.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new ot.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:ot.l.North}),this._southSash=new ot.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:ot.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let Oe,le=0,Be=0;this._sashListener.add(A.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{Oe===void 0&&(this._onDidWillResize.fire(),Oe=this._size,le=0,Be=0)})),this._sashListener.add(A.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{Oe!==void 0&&(Oe=void 0,le=0,Be=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(Ke=>{Oe&&(Be=Ke.currentX-Ke.startX,this.layout(Oe.height+le,Oe.width+Be),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(Ke=>{Oe&&(Be=-(Ke.currentX-Ke.startX),this.layout(Oe.height+le,Oe.width+Be),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(Ke=>{Oe&&(le=-(Ke.currentY-Ke.startY),this.layout(Oe.height+le,Oe.width+Be),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(Ke=>{Oe&&(le=Ke.currentY-Ke.startY,this.layout(Oe.height+le,Oe.width+Be),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(A.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(Ke=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(A.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(Ke=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(Oe,le,Be,Ke){this._northSash.state=Oe?3:0,this._eastSash.state=le?3:0,this._southSash.state=Be?3:0,this._westSash.state=Ke?3:0}layout(Oe=this.size.height,le=this.size.width){const{height:Be,width:Ke}=this._minSize,{height:Ge,width:ye}=this._maxSize;Oe=Math.max(Be,Math.min(Ge,Oe)),le=Math.max(Ke,Math.min(ye,le));const ze=new se.Ro(le,Oe);se.Ro.equals(ze,this._size)||(this.domNode.style.height=Oe+"px",this.domNode.style.width=le+"px",this._size=ze,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(Oe){this._maxSize=Oe}get maxSize(){return this._maxSize}set minSize(Oe){this._minSize=Oe}get minSize(){return this._minSize}set preferredSize(Oe){this._preferredSize=Oe}get preferredSize(){return this._preferredSize}}var ht=i(60018),Ct=i(407),Pt=i(8216),bt=i(69008),$t=i(59397),Mt=function(mt,Oe,le,Be){var Ke=arguments.length,Ge=Ke<3?Oe:Be===null?Be=Object.getOwnPropertyDescriptor(Oe,le):Be,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(mt,Oe,le,Be);else for(var ze=mt.length-1;ze>=0;ze--)(ye=mt[ze])&&(Ge=(Ke<3?ye(Ge):Ke>3?ye(Oe,le,Ge):ye(Oe,le))||Ge);return Ke>3&&Ge&&Object.defineProperty(Oe,le,Ge),Ge},Xe=function(mt,Oe){return function(le,Be){Oe(le,Be,mt)}};function Lt(mt){return!!mt&&Boolean(mt.completion.documentation||mt.completion.detail&&mt.completion.detail!==mt.completion.label)}let Xt=class{constructor(Oe,le){this._editor=Oe,this._onDidClose=new A.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new A.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new E.SL,this._renderDisposeable=new E.SL,this._borderWidth=1,this._size=new se.Ro(330,0),this.domNode=se.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=le.createInstance($t.$,{editor:Oe}),this._body=se.$(".body"),this._scrollbar=new ht.s$(this._body,{alwaysConsumeMouseWheel:!0}),se.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=se.R3(this._body,se.$(".header")),this._close=se.R3(this._header,se.$("span"+Pt.k.asCSSSelector(Ct.l.close))),this._close.title=T.NC("details.close","Close"),this._type=se.R3(this._header,se.$("p.type")),this._docs=se.R3(this._body,se.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Be=>{Be.hasChanged(48)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const Oe=this._editor.getOptions(),le=Oe.get(48),Be=le.getMassagedFontFamily(),Ke=Oe.get(114)||le.fontSize,Ge=Oe.get(115)||le.lineHeight,ye=le.fontWeight,ze=`${Ke}px`,lt=`${Ge}px`;this.domNode.style.fontSize=ze,this.domNode.style.lineHeight=`${Ge/Ke}`,this.domNode.style.fontWeight=ye,this.domNode.style.fontFeatureSettings=le.fontFeatureSettings,this._type.style.fontFamily=Be,this._close.style.height=lt,this._close.style.width=lt}getLayoutInfo(){const Oe=this._editor.getOption(115)||this._editor.getOption(48).lineHeight,le=this._borderWidth,Be=le*2;return{lineHeight:Oe,borderWidth:le,borderHeight:Be,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=T.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(Oe,le){var Be,Ke;this._renderDisposeable.clear();let{detail:Ge,documentation:ye}=Oe.completion;if(le){let ze="";ze+=`score: ${Oe.score[0]}
`,ze+=`prefix: ${(Be=Oe.word)!==null&&Be!==void 0?Be:"(no prefix)"}
`,ze+=`word: ${Oe.completion.filterText?Oe.completion.filterText+" (filterText)":Oe.textLabel}
`,ze+=`distance: ${Oe.distance} (localityBonus-setting)
`,ze+=`index: ${Oe.idx}, based on ${Oe.completion.sortText&&`sortText: "${Oe.completion.sortText}"`||"label"}
`,ze+=`commit_chars: ${(Ke=Oe.completion.commitCharacters)===null||Ke===void 0?void 0:Ke.join("")}
`,ye=new bt.W5().appendCodeblock("empty",ze),Ge=`Provider: ${Oe.provider._debugDisplayName}`}if(!le&&!Lt(Oe)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),Ge){const ze=Ge.length>1e5?`${Ge.substr(0,1e5)}\u2026`:Ge;this._type.textContent=ze,this._type.title=ze,se.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(ze))}else se.PO(this._type),this._type.title="",se.Cp(this._type),this.domNode.classList.add("no-type");if(se.PO(this._docs),typeof ye=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=ye;else if(ye){this._docs.classList.add("markdown-docs"),se.PO(this._docs);const ze=this._markdownRenderer.render(ye);this._docs.appendChild(ze.element),this._renderDisposeable.add(ze),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=ze=>{ze.preventDefault(),ze.stopPropagation()},this._close.onclick=ze=>{ze.preventDefault(),ze.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(Oe,le){const Be=new se.Ro(Oe,le);se.Ro.equals(Be,this._size)||(this._size=Be,se.dp(this.domNode,Oe,le)),this._scrollbar.scanDomNode()}scrollDown(Oe=8){this._body.scrollTop+=Oe}scrollUp(Oe=8){this._body.scrollTop-=Oe}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(Oe){this._borderWidth=Oe}get borderWidth(){return this._borderWidth}};Xt=Mt([Xe(1,U.TG)],Xt);class zt{constructor(Oe,le){this.widget=Oe,this._editor=le,this._disposables=new E.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new ut,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(Oe.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Be,Ke,Ge=0,ye=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Be=this._topLeft,Ke=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(ze=>{if(Be&&Ke){this.widget.layout(ze.dimension.width,ze.dimension.height);let lt=!1;ze.west&&(ye=Ke.width-ze.dimension.width,lt=!0),ze.north&&(Ge=Ke.height-ze.dimension.height,lt=!0),lt&&this._applyTopLeft({top:Be.top+Ge,left:Be.left+ye})}ze.done&&(Be=void 0,Ke=void 0,Ge=0,ye=0,this._userSize=ze.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var ze;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(ze=this._userSize)!==null&&ze!==void 0?ze:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(Oe=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),Oe&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(Oe,le){var Be;const Ke=Oe.getBoundingClientRect();this._anchorBox=Ke,this._preferAlignAtTop=le,this._placeAtAnchor(this._anchorBox,(Be=this._userSize)!==null&&Be!==void 0?Be:this.widget.size,le)}_placeAtAnchor(Oe,le,Be){var Ke;const Ge=se.D6(document.body),ye=this.widget.getLayoutInfo(),ze=new se.Ro(220,2*ye.lineHeight),lt=Oe.top,Rt=function(){const Zi=Ge.width-(Oe.left+Oe.width+ye.borderWidth+ye.horizontalPadding),pn=-ye.borderWidth+Oe.left+Oe.width,Pn=new se.Ro(Zi,Ge.height-Oe.top-ye.borderHeight-ye.verticalPadding),cs=Pn.with(void 0,Oe.top+Oe.height-ye.borderHeight-ye.verticalPadding);return{top:lt,left:pn,fit:Zi-le.width,maxSizeTop:Pn,maxSizeBottom:cs,minSize:ze.with(Math.min(Zi,ze.width))}}(),Bt=function(){const Zi=Oe.left-ye.borderWidth-ye.horizontalPadding,pn=Math.max(ye.horizontalPadding,Oe.left-le.width-ye.borderWidth),Pn=new se.Ro(Zi,Ge.height-Oe.top-ye.borderHeight-ye.verticalPadding),cs=Pn.with(void 0,Oe.top+Oe.height-ye.borderHeight-ye.verticalPadding);return{top:lt,left:pn,fit:Zi-le.width,maxSizeTop:Pn,maxSizeBottom:cs,minSize:ze.with(Math.min(Zi,ze.width))}}(),At=function(){const Zi=Oe.left,pn=-ye.borderWidth+Oe.top+Oe.height,Pn=new se.Ro(Oe.width-ye.borderHeight,Ge.height-Oe.top-Oe.height-ye.verticalPadding);return{top:pn,left:Zi,fit:Pn.height-le.height,maxSizeBottom:Pn,maxSizeTop:Pn,minSize:ze.with(Pn.width)}}(),ii=[Rt,Bt,At],vi=(Ke=ii.find(Zi=>Zi.fit>=0))!==null&&Ke!==void 0?Ke:ii.sort((Zi,pn)=>pn.fit-Zi.fit)[0],yi=Oe.top+Oe.height-ye.borderHeight;let hi,Si=le.height;const Oi=Math.max(vi.maxSizeTop.height,vi.maxSizeBottom.height);Si>Oi&&(Si=Oi);let Ai;Be?Si<=vi.maxSizeTop.height?(hi=!0,Ai=vi.maxSizeTop):(hi=!1,Ai=vi.maxSizeBottom):Si<=vi.maxSizeBottom.height?(hi=!1,Ai=vi.maxSizeBottom):(hi=!0,Ai=vi.maxSizeTop),this._applyTopLeft({left:vi.left,top:hi?vi.top:yi-Si}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!hi,vi===Rt,hi,vi!==Rt),this._resizable.minSize=vi.minSize,this._resizable.maxSize=Ai,this._resizable.layout(Si,Math.min(Ai.width,le.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(Oe){this._topLeft=Oe,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Fe=i(65029),et=i(28919),pt=i(36082),It=i(5007),kt=i(6227),yt=i(90638),St;(function(mt){mt[mt.FILE=0]="FILE",mt[mt.FOLDER=1]="FOLDER",mt[mt.ROOT_FOLDER=2]="ROOT_FOLDER"})(St||(St={}));const Gt=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function ti(mt,Oe,le,Be){const Ke=Be===St.ROOT_FOLDER?["rootfolder-icon"]:Be===St.FOLDER?["folder-icon"]:["file-icon"];if(le){let Ge;if(le.scheme===It.lg.data)Ge=kt.Vb.parseMetaData(le).get(kt.Vb.META_DATA_LABEL);else{const ye=le.path.match(Gt);ye?(Ge=li(ye[2].toLowerCase()),ye[1]&&Ke.push(`${li(ye[1].toLowerCase())}-name-dir-icon`)):Ge=li(le.authority.toLowerCase())}if(Be===St.FOLDER)Ke.push(`${Ge}-name-folder-icon`);else{if(Ge){if(Ke.push(`${Ge}-name-file-icon`),Ke.push("name-file-icon"),Ge.length<=255){const ze=Ge.split(".");for(let lt=1;lt<ze.length;lt++)Ke.push(`${ze.slice(lt).join(".")}-ext-file-icon`)}Ke.push("ext-file-icon")}const ye=ri(mt,Oe,le);ye&&Ke.push(`${li(ye)}-lang-file-icon`)}}return Ke}function ri(mt,Oe,le){if(!le)return null;let Be=null;if(le.scheme===It.lg.data){const Ge=kt.Vb.parseMetaData(le).get(kt.Vb.META_DATA_MIME);Ge&&(Be=Oe.getLanguageIdByMimeType(Ge))}else{const Ke=mt.getModel(le);Ke&&(Be=Ke.getLanguageId())}return Be&&Be!==yt.bd?Be:Oe.guessLanguageIdByFilepathOrFirstLine(le)}function li(mt){return mt.replace(/[\11\12\14\15\40]/g,"/")}var gi=i(65041),Pi=i(47626),Hi=i(89528),ji=function(mt,Oe,le,Be){var Ke=arguments.length,Ge=Ke<3?Oe:Be===null?Be=Object.getOwnPropertyDescriptor(Oe,le):Be,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(mt,Oe,le,Be);else for(var ze=mt.length-1;ze>=0;ze--)(ye=mt[ze])&&(Ge=(Ke<3?ye(Ge):Ke>3?ye(Oe,le,Ge):ye(Oe,le))||Ge);return Ke>3&&Ge&&Object.defineProperty(Oe,le,Ge),Ge},bn=function(mt,Oe){return function(le,Be){Oe(le,Be,mt)}},Rn;function bs(mt){return`suggest-aria-id:${mt}`}const ms=(0,Hi.q5)("suggest-more-info",Ct.l.chevronRight,T.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),ki=new(Rn=class zd{extract(Oe,le){if(Oe.textLabel.match(zd._regexStrict))return le[0]=Oe.textLabel,!0;if(Oe.completion.detail&&Oe.completion.detail.match(zd._regexStrict))return le[0]=Oe.completion.detail,!0;if(typeof Oe.completion.documentation=="string"){const Be=zd._regexRelaxed.exec(Oe.completion.documentation);if(Be&&(Be.index===0||Be.index+Be[0].length===Oe.completion.documentation.length))return le[0]=Be[0],!0}return!1}},Rn._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Rn._regexStrict=new RegExp(`^${Rn._regexRelaxed.source}$`,"i"),Rn);let Vi=class{constructor(Oe,le,Be,Ke){this._editor=Oe,this._modelService=le,this._languageService=Be,this._themeService=Ke,this._onDidToggleDetails=new A.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(Oe){const le=new E.SL,Be=Oe;Be.classList.add("show-file-icons");const Ke=(0,se.R3)(Oe,(0,se.$)(".icon")),Ge=(0,se.R3)(Ke,(0,se.$)("span.colorspan")),ye=(0,se.R3)(Oe,(0,se.$)(".contents")),ze=(0,se.R3)(ye,(0,se.$)(".main")),lt=(0,se.R3)(ze,(0,se.$)(".icon-label.codicon")),Rt=(0,se.R3)(ze,(0,se.$)("span.left")),Bt=(0,se.R3)(ze,(0,se.$)("span.right")),At=new Fe.g(Rt,{supportHighlights:!0,supportIcons:!0});le.add(At);const ii=(0,se.R3)(Rt,(0,se.$)("span.signature-label")),vi=(0,se.R3)(Rt,(0,se.$)("span.qualifier-label")),yi=(0,se.R3)(Bt,(0,se.$)("span.details-label")),hi=(0,se.R3)(Bt,(0,se.$)("span.readMore"+Pt.k.asCSSSelector(ms)));hi.title=T.NC("readMore","Read More");const Si=()=>{const Oi=this._editor.getOptions(),Ai=Oi.get(48),Zi=Ai.getMassagedFontFamily(),pn=Ai.fontFeatureSettings,Pn=Oi.get(114)||Ai.fontSize,cs=Oi.get(115)||Ai.lineHeight,ds=Ai.fontWeight,Es=Ai.letterSpacing,ro=`${Pn}px`,Gs=`${cs}px`,Ws=`${Es}px`;Be.style.fontSize=ro,Be.style.fontWeight=ds,Be.style.letterSpacing=Ws,ze.style.fontFamily=Zi,ze.style.fontFeatureSettings=pn,ze.style.lineHeight=Gs,Ke.style.height=Gs,Ke.style.width=Gs,hi.style.height=Gs,hi.style.width=Gs};return Si(),le.add(this._editor.onDidChangeConfiguration(Oi=>{(Oi.hasChanged(48)||Oi.hasChanged(114)||Oi.hasChanged(115))&&Si()})),{root:Be,left:Rt,right:Bt,icon:Ke,colorspan:Ge,iconLabel:At,iconContainer:lt,parametersLabel:ii,qualifierLabel:vi,detailsLabel:yi,readMore:hi,disposables:le}}renderElement(Oe,le,Be){const{completion:Ke}=Oe;Be.root.id=bs(le),Be.colorspan.style.backgroundColor="";const Ge={labelEscapeNewLines:!0,matches:(0,Le.mB)(Oe.score)},ye=[];if(Ke.kind===19&&ki.extract(Oe,ye))Be.icon.className="icon customcolor",Be.iconContainer.className="icon hide",Be.colorspan.style.backgroundColor=ye[0];else if(Ke.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Be.icon.className="icon hide",Be.iconContainer.className="icon hide";const ze=ti(this._modelService,this._languageService,et.o.from({scheme:"fake",path:Oe.textLabel}),St.FILE),lt=ti(this._modelService,this._languageService,et.o.from({scheme:"fake",path:Ke.detail}),St.FILE);Ge.extraClasses=ze.length>lt.length?ze:lt}else Ke.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(Be.icon.className="icon hide",Be.iconContainer.className="icon hide",Ge.extraClasses=[ti(this._modelService,this._languageService,et.o.from({scheme:"fake",path:Oe.textLabel}),St.FOLDER),ti(this._modelService,this._languageService,et.o.from({scheme:"fake",path:Ke.detail}),St.FOLDER)].flat()):(Be.icon.className="icon hide",Be.iconContainer.className="",Be.iconContainer.classList.add("suggest-icon",...Pt.k.asClassNameArray(pt.gX.toIcon(Ke.kind))));Ke.tags&&Ke.tags.indexOf(1)>=0&&(Ge.extraClasses=(Ge.extraClasses||[]).concat(["deprecated"]),Ge.matches=[]),Be.iconLabel.setLabel(Oe.textLabel,void 0,Ge),typeof Ke.label=="string"?(Be.parametersLabel.textContent="",Be.detailsLabel.textContent=Ki(Ke.detail||""),Be.root.classList.add("string-label")):(Be.parametersLabel.textContent=Ki(Ke.label.detail||""),Be.detailsLabel.textContent=Ki(Ke.label.description||""),Be.root.classList.remove("string-label")),this._editor.getOption(113).showInlineDetails?(0,se.$Z)(Be.detailsLabel):(0,se.Cp)(Be.detailsLabel),Lt(Oe)?(Be.right.classList.add("can-expand-details"),(0,se.$Z)(Be.readMore),Be.readMore.onmousedown=ze=>{ze.stopPropagation(),ze.preventDefault()},Be.readMore.onclick=ze=>{ze.stopPropagation(),ze.preventDefault(),this._onDidToggleDetails.fire()}):(Be.right.classList.remove("can-expand-details"),(0,se.Cp)(Be.readMore),Be.readMore.onmousedown=null,Be.readMore.onclick=null)}disposeTemplate(Oe){Oe.disposables.dispose()}};Vi=ji([bn(1,gi.q),bn(2,Pi.O),bn(3,qe.XE)],Vi);function Ki(mt){return mt.replace(/\r\n|\r|\n/g,"")}var es=i(60140),Ls=function(mt,Oe,le,Be){var Ke=arguments.length,Ge=Ke<3?Oe:Be===null?Be=Object.getOwnPropertyDescriptor(Oe,le):Be,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(mt,Oe,le,Be);else for(var ze=mt.length-1;ze>=0;ze--)(ye=mt[ze])&&(Ge=(Ke<3?ye(Ge):Ke>3?ye(Oe,le,Ge):ye(Oe,le))||Ge);return Ke>3&&Ge&&Object.defineProperty(Oe,le,Ge),Ge},ts=function(mt,Oe){return function(le,Be){Oe(le,Be,mt)}},Kn=function(mt,Oe,le,Be){function Ke(Ge){return Ge instanceof le?Ge:new le(function(ye){ye(Ge)})}return new(le||(le=Promise))(function(Ge,ye){function ze(Bt){try{Rt(Be.next(Bt))}catch(At){ye(At)}}function lt(Bt){try{Rt(Be.throw(Bt))}catch(At){ye(At)}}function Rt(Bt){Bt.done?Ge(Bt.value):Ke(Bt.value).then(ze,lt)}Rt((Be=Be.apply(mt,Oe||[])).next())})};(0,me.P6G)("editorSuggestWidget.background",{dark:me.D0T,light:me.D0T,hcDark:me.D0T,hcLight:me.D0T},T.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,me.P6G)("editorSuggestWidget.border",{dark:me.D1_,light:me.D1_,hcDark:me.D1_,hcLight:me.D1_},T.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const Wn=(0,me.P6G)("editorSuggestWidget.foreground",{dark:me.NOs,light:me.NOs,hcDark:me.NOs,hcLight:me.NOs},T.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,me.P6G)("editorSuggestWidget.selectedForeground",{dark:me.NPS,light:me.NPS,hcDark:me.NPS,hcLight:me.NPS},T.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,me.P6G)("editorSuggestWidget.selectedIconForeground",{dark:me.cbQ,light:me.cbQ,hcDark:me.cbQ,hcLight:me.cbQ},T.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const yn=(0,me.P6G)("editorSuggestWidget.selectedBackground",{dark:me.Vqd,light:me.Vqd,hcDark:me.Vqd,hcLight:me.Vqd},T.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,me.P6G)("editorSuggestWidget.highlightForeground",{dark:me.Gwp,light:me.Gwp,hcDark:me.Gwp,hcLight:me.Gwp},T.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,me.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:me.PX0,light:me.PX0,hcDark:me.PX0,hcLight:me.PX0},T.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,me.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,me.ZnX)(Wn,.5),light:(0,me.ZnX)(Wn,.5),hcDark:(0,me.ZnX)(Wn,.5),hcLight:(0,me.ZnX)(Wn,.5)},T.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class en{constructor(Oe,le){this._service=Oe,this._key=`suggestWidget.size/${le.getEditorType()}/${le instanceof Ee.H}`}restore(){var Oe;const le=(Oe=this._service.get(this._key,0))!==null&&Oe!==void 0?Oe:"";try{const Be=JSON.parse(le);if(se.Ro.is(Be))return se.Ro.lift(Be)}catch(Be){}}store(Oe){this._service.store(this._key,JSON.stringify(Oe),0,1)}reset(){this._service.remove(this._key,0)}}let Ms=class ju{constructor(Oe,le,Be,Ke,Ge){this.editor=Oe,this._storageService=le,this._state=0,this._isAuto=!1,this._pendingLayout=new E.XK,this._pendingShowDetails=new E.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new f._F,this._disposables=new E.SL,this._onDidSelect=new A.K3,this._onDidFocus=new A.K3,this._onDidHide=new A.Q5,this._onDidShow=new A.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new A.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new ut,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Ss(this,Oe),this._persistedSize=new en(le,Oe);class ye{constructor(vi,yi,hi=!1,Si=!1){this.persistedSize=vi,this.currentSize=yi,this.persistHeight=hi,this.persistWidth=Si}}let ze;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),ze=new ye(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(ii=>{var vi,yi,hi,Si;if(this._resize(ii.dimension.width,ii.dimension.height),ze&&(ze.persistHeight=ze.persistHeight||!!ii.north||!!ii.south,ze.persistWidth=ze.persistWidth||!!ii.east||!!ii.west),!!ii.done){if(ze){const{itemHeight:Oi,defaultSize:Ai}=this.getLayoutInfo(),Zi=Math.round(Oi/2);let{width:pn,height:Pn}=this.element.size;(!ze.persistHeight||Math.abs(ze.currentSize.height-Pn)<=Zi)&&(Pn=(yi=(vi=ze.persistedSize)===null||vi===void 0?void 0:vi.height)!==null&&yi!==void 0?yi:Ai.height),(!ze.persistWidth||Math.abs(ze.currentSize.width-pn)<=Zi)&&(pn=(Si=(hi=ze.persistedSize)===null||hi===void 0?void 0:hi.width)!==null&&Si!==void 0?Si:Ai.width),this._persistedSize.store(new se.Ro(pn,Pn))}this._contentWidget.unlockPreference(),ze=void 0}})),this._messageElement=se.R3(this.element.domNode,se.$(".message")),this._listElement=se.R3(this.element.domNode,se.$(".tree"));const lt=Ge.createInstance(Xt,this.editor);lt.onDidClose(this.toggleDetails,this,this._disposables),this._details=new zt(lt,this.editor);const Rt=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(113).showIcons);Rt();const Bt=Ge.createInstance(Vi,this.editor);this._disposables.add(Bt),this._disposables.add(Bt.onDidToggleDetails(()=>this.toggleDetails())),this._list=new he.aV("SuggestWidget",this._listElement,{getHeight:ii=>this.getLayoutInfo().itemHeight,getTemplateId:ii=>"suggestion"},[Bt],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>T.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:ii=>{let vi=ii.textLabel;if(typeof ii.completion.label!="string"){const{detail:Oi,description:Ai}=ii.completion.label;Oi&&Ai?vi=T.NC("label.full","{0}{1}, {2}",vi,Oi,Ai):Oi?vi=T.NC("label.detail","{0}{1}",vi,Oi):Ai&&(vi=T.NC("label.desc","{0}, {1}",vi,Ai))}if(!ii.isResolved||!this._isDetailsVisible())return vi;const{documentation:yi,detail:hi}=ii.completion,Si=j.WU("{0}{1}",hi||"",yi?typeof yi=="string"?yi:yi.value:"");return T.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",vi,Si)}}}),this._list.style((0,es.TU)({listInactiveFocusBackground:yn,listInactiveFocusOutline:me.xL1})),this._status=Ge.createInstance(oe,this.element.domNode,G.GI);const At=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(113).showStatusBar);At(),this._disposables.add(Ke.onDidColorThemeChange(ii=>this._onThemeChange(ii))),this._onThemeChange(Ke.getColorTheme()),this._disposables.add(this._list.onMouseDown(ii=>this._onListMouseDownOrTap(ii))),this._disposables.add(this._list.onTap(ii=>this._onListMouseDownOrTap(ii))),this._disposables.add(this._list.onDidChangeSelection(ii=>this._onListSelection(ii))),this._disposables.add(this._list.onDidChangeFocus(ii=>this._onListFocus(ii))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(ii=>{ii.hasChanged(113)&&(At(),Rt())})),this._ctxSuggestWidgetVisible=G._y.Visible.bindTo(Be),this._ctxSuggestWidgetDetailsVisible=G._y.DetailsVisible.bindTo(Be),this._ctxSuggestWidgetMultipleSuggestions=G._y.MultipleSuggestions.bindTo(Be),this._ctxSuggestWidgetHasFocusedSuggestion=G._y.HasFocusedSuggestion.bindTo(Be),this._disposables.add(se.mu(this._details.widget.domNode,"keydown",ii=>{this._onDetailsKeydown.fire(ii)})),this._disposables.add(this.editor.onMouseDown(ii=>this._onEditorMouseDown(ii)))}dispose(){var Oe;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(Oe=this._loadingTimeout)===null||Oe===void 0||Oe.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(Oe){this._details.widget.domNode.contains(Oe.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(Oe.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(Oe){typeof Oe.element=="undefined"||typeof Oe.index=="undefined"||(Oe.browserEvent.preventDefault(),Oe.browserEvent.stopPropagation(),this._select(Oe.element,Oe.index))}_onListSelection(Oe){Oe.elements.length&&this._select(Oe.elements[0],Oe.indexes[0])}_select(Oe,le){const Be=this._completionModel;Be&&(this._onDidSelect.fire({item:Oe,index:le,model:Be}),this.editor.focus())}_onThemeChange(Oe){this._details.widget.borderWidth=(0,Me.c3)(Oe.type)?2:1}_onListFocus(Oe){var le;if(this._ignoreFocusEvents)return;if(!Oe.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Be=Oe.elements[0],Ke=Oe.indexes[0];Be!==this._focusedItem&&((le=this._currentSuggestionDetails)===null||le===void 0||le.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Be,this._list.reveal(Ke),this._currentSuggestionDetails=(0,f.PG)(Ge=>Kn(this,void 0,void 0,function*(){const ye=(0,f.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),ze=Ge.onCancellationRequested(()=>ye.dispose()),lt=yield Be.resolve(Ge);return ye.dispose(),ze.dispose(),lt})),this._currentSuggestionDetails.then(()=>{Ke>=this._list.length||Be!==this._list.element(Ke)||(this._ignoreFocusEvents=!0,this._list.splice(Ke,1,[Be]),this._list.setFocus([Ke]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:bs(Ke)}))}).catch(v.dL)),this._onDidFocus.fire({item:Be,index:Ke,model:this._completionModel})}_setState(Oe){if(this._state!==Oe)switch(this._state=Oe,this.element.domNode.classList.toggle("frozen",Oe===4),this.element.domNode.classList.remove("message"),Oe){case 0:se.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ju.LOADING_MESSAGE,se.Cp(this._listElement,this._status.element),se.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ju.NO_SUGGESTIONS_MESSAGE,se.Cp(this._listElement,this._status.element),se.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:se.Cp(this._messageElement),se.$Z(this._listElement,this._status.element),this._show();break;case 4:se.Cp(this._messageElement),se.$Z(this._listElement,this._status.element),this._show();break;case 5:se.Cp(this._messageElement),se.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(Oe,le){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!Oe,this._isAuto||(this._loadingTimeout=(0,f.Vg)(()=>this._setState(1),le)))}showSuggestions(Oe,le,Be,Ke,Ge){var ye,ze;if(this._contentWidget.setPosition(this.editor.getPosition()),(ye=this._loadingTimeout)===null||ye===void 0||ye.dispose(),(ze=this._currentSuggestionDetails)===null||ze===void 0||ze.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==Oe&&(this._completionModel=Oe),Be&&this._state!==2&&this._state!==0){this._setState(4);return}const lt=this._completionModel.items.length,Rt=lt===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(lt>1),Rt){this._setState(Ke?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Be?4:3),this._list.reveal(le,0),this._list.setFocus(Ge?[]:[le])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=se.lI(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Lt(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(Oe){this._pendingShowDetails.value=se.lI(()=>{this._pendingShowDetails.clear(),this._details.show(),Oe?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var Oe;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(Oe=this._loadingTimeout)===null||Oe===void 0||Oe.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const le=this._persistedSize.restore(),Be=Math.ceil(this.getLayoutInfo().itemHeight*4.3);le&&le.height<Be&&this._persistedSize.store(le.with(void 0,Be))}isFrozen(){return this._state===4}_afterRender(Oe){if(Oe===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(Oe){var le,Be,Ke;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const Ge=se.D6(document.body),ye=this.getLayoutInfo();Oe||(Oe=ye.defaultSize);let ze=Oe.height,lt=Oe.width;if(this._status.element.style.height=`${ye.itemHeight}px`,this._state===2||this._state===1)ze=ye.itemHeight+ye.borderHeight,lt=ye.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new se.Ro(lt,ze),this._contentWidget.setPreference(2);else{const Rt=Ge.width-ye.borderHeight-2*ye.horizontalPadding;lt>Rt&&(lt=Rt);const Bt=this._completionModel?this._completionModel.stats.pLabelLen*ye.typicalHalfwidthCharacterWidth:lt,At=ye.statusBarHeight+this._list.contentHeight+ye.borderHeight,ii=ye.itemHeight+ye.statusBarHeight,vi=se.i(this.editor.getDomNode()),yi=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),hi=vi.top+yi.top+yi.height,Si=Math.min(Ge.height-hi-ye.verticalPadding,At),Oi=vi.top+yi.top-ye.verticalPadding,Ai=Math.min(Oi,At);let Zi=Math.min(Math.max(Ai,Si)+ye.borderHeight,At);ze===((le=this._cappedHeight)===null||le===void 0?void 0:le.capped)&&(ze=this._cappedHeight.wanted),ze<ii&&(ze=ii),ze>Zi&&(ze=Zi);const pn=150;ze>Si||this._forceRenderingAbove&&Oi>pn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Zi=Ai):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Zi=Si),this.element.preferredSize=new se.Ro(Bt,ye.defaultSize.height),this.element.maxSize=new se.Ro(Rt,Zi),this.element.minSize=new se.Ro(220,ii),this._cappedHeight=ze===At?{wanted:(Ke=(Be=this._cappedHeight)===null||Be===void 0?void 0:Be.wanted)!==null&&Ke!==void 0?Ke:Oe.height,capped:ze}:void 0}this._resize(lt,ze)}_resize(Oe,le){const{width:Be,height:Ke}=this.element.maxSize;Oe=Math.min(Be,Oe),le=Math.min(Ke,le);const{statusBarHeight:Ge}=this.getLayoutInfo();this._list.layout(le-Ge,Oe),this._listElement.style.height=`${le-Ge}px`,this.element.layout(le,Oe),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var Oe;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((Oe=this._contentWidget.getPosition())===null||Oe===void 0?void 0:Oe.preference[0])===2)}getLayoutInfo(){const Oe=this.editor.getOption(48),le=(0,ce.uZ)(this.editor.getOption(115)||Oe.lineHeight,8,1e3),Be=!this.editor.getOption(113).showStatusBar||this._state===2||this._state===1?0:le,Ke=this._details.widget.borderWidth,Ge=2*Ke;return{itemHeight:le,statusBarHeight:Be,borderWidth:Ke,borderHeight:Ge,typicalHalfwidthCharacterWidth:Oe.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new se.Ro(430,Be+12*le+Ge)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(Oe){this._storageService.store("expandSuggestionDocs",Oe,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Ms.LOADING_MESSAGE=T.NC("suggestWidget.loading","Loading..."),Ms.NO_SUGGESTIONS_MESSAGE=T.NC("suggestWidget.noSuggestions","No suggestions."),Ms=Ls([ts(1,Ce.Uy),ts(2,L.i6),ts(3,qe.XE),ts(4,U.TG)],Ms);class Ss{constructor(Oe,le){this._widget=Oe,this._editor=le,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:Oe,width:le}=this._widget.element.size,{borderWidth:Be,horizontalPadding:Ke}=this._widget.getLayoutInfo();return new se.Ro(le+2*Be+Ke,Oe+2*Be)}afterRender(Oe){this._widget._afterRender(Oe)}setPreference(Oe){this._preferenceLocked||(this._preference=Oe)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(Oe){this._position=Oe}}var ps=i(32916),oo=function(mt,Oe,le,Be){var Ke=arguments.length,Ge=Ke<3?Oe:Be===null?Be=Object.getOwnPropertyDescriptor(Oe,le):Be,ye;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(mt,Oe,le,Be);else for(var ze=mt.length-1;ze>=0;ze--)(ye=mt[ze])&&(Ge=(Ke<3?ye(Ge):Ke>3?ye(Oe,le,Ge):ye(Oe,le))||Ge);return Ke>3&&Ge&&Object.defineProperty(Oe,le,Ge),Ge},hs=function(mt,Oe){return function(le,Be){Oe(le,Be,mt)}};const Ts=!1;class In{constructor(Oe,le){if(this._model=Oe,this._position=le,Oe.getLineMaxColumn(le.lineNumber)!==le.column){const Ke=Oe.getOffsetAt(le),Ge=Oe.getPositionAt(Ke+1);this._marker=Oe.deltaDecorations([],[{range:C.e.fromPositions(le,Ge),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Oe){if(this._model.isDisposed()||this._position.lineNumber!==Oe.lineNumber)return 0;if(this._marker){const le=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(le.getStartPosition())-this._model.getOffsetAt(Oe)}else return this._model.getLineMaxColumn(Oe.lineNumber)-Oe.column}}let Yn=class Vh{static get(Oe){return Oe.getContribution(Vh.ID)}constructor(Oe,le,Be,Ke,Ge,ye,ze){this._memoryService=le,this._commandService=Be,this._contextKeyService=Ke,this._instantiationService=Ge,this._logService=ye,this._telemetryService=ze,this._lineSuffix=new E.XK,this._toDispose=new E.SL,this._selectors=new pi(At=>At.priority),this._telemetryGate=0,this.editor=Oe,this.model=Ge.createInstance(ie,this.editor),this._selectors.register({priority:0,select:(At,ii,vi)=>this._memoryService.select(At,ii,vi)});const lt=G._y.InsertMode.bindTo(Ke);lt.set(Oe.getOption(113).insertMode),this.model.onDidTrigger(()=>lt.set(Oe.getOption(113).insertMode)),this.widget=this._toDispose.add(new f.Ue(()=>{const At=this._instantiationService.createInstance(Ms,this.editor);this._toDispose.add(At),this._toDispose.add(At.onDidSelect(Si=>this._insertSuggestion(Si,0),this));const ii=new X(this.editor,At,this.model,Si=>this._insertSuggestion(Si,2));this._toDispose.add(ii);const vi=G._y.MakesTextEdit.bindTo(this._contextKeyService),yi=G._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),hi=G._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,E.OF)(()=>{vi.reset(),yi.reset(),hi.reset()})),this._toDispose.add(At.onDidFocus(({item:Si})=>{const Oi=this.editor.getPosition(),Ai=Si.editStart.column,Zi=Oi.column;let pn=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!Si.completion.additionalTextEdits&&!(Si.completion.insertTextRules&4)&&Zi-Ai===Si.completion.insertText.length&&(pn=this.editor.getModel().getValueInRange({startLineNumber:Oi.lineNumber,startColumn:Ai,endLineNumber:Oi.lineNumber,endColumn:Zi})!==Si.completion.insertText),vi.set(pn),yi.set(!a.L.equals(Si.editInsertEnd,Si.editReplaceEnd)),hi.set(Boolean(Si.provider.resolveCompletionItem)||Boolean(Si.completion.documentation)||Si.completion.detail!==Si.completion.label)})),this._toDispose.add(At.onDetailsKeyDown(Si=>{if(Si.toKeyCodeChord().equals(new M.$M(!0,!1,!1,!1,33))||R.dz&&Si.toKeyCodeChord().equals(new M.$M(!1,!1,!1,!0,33))){Si.stopPropagation();return}Si.toKeyCodeChord().isModifierKey()||this.editor.focus()})),At})),this._overtypingCapturer=this._toDispose.add(new f.Ue(()=>this._toDispose.add(new Z(this.editor,this.model)))),this._alternatives=this._toDispose.add(new f.Ue(()=>this._toDispose.add(new q(this.editor,this._contextKeyService)))),this._toDispose.add(Ge.createInstance(x,Oe)),this._toDispose.add(this.model.onDidTrigger(At=>{this.widget.value.showTriggered(At.auto,At.shy?250:50),this._lineSuffix.value=new In(this.editor.getModel(),At.position)})),this._toDispose.add(this.model.onDidSuggest(At=>{var ii;if(At.triggerOptions.shy)return;let vi=-1;for(const hi of this._selectors.itemsOrderedByPriorityDesc)if(vi=hi.select(this.editor.getModel(),this.editor.getPosition(),At.completionModel.items),vi!==-1)break;vi===-1&&(vi=0);let yi=!1;if(At.triggerOptions.auto){const hi=this.editor.getOption(113);hi.snippetsPreventQuickSuggestions&&(!((ii=u.SnippetController2.get(this.editor))===null||ii===void 0)&&ii.isInSnippet())?yi=!0:hi.selectionMode==="never"||hi.selectionMode==="always"?yi=hi.selectionMode==="never":hi.selectionMode==="whenTriggerCharacter"?yi=At.triggerOptions.triggerKind!==1:hi.selectionMode==="whenQuickSuggestion"&&(yi=At.triggerOptions.triggerKind===1&&!At.triggerOptions.refilter)}this.widget.value.showSuggestions(At.completionModel,vi,At.isFrozen,At.triggerOptions.auto,yi)})),this._toDispose.add(this.model.onDidCancel(At=>{At.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Ts||(this.model.cancel(),this.model.clear())}));const Rt=G._y.AcceptSuggestionsOnEnter.bindTo(Ke),Bt=()=>{const At=this.editor.getOption(1);Rt.set(At==="on"||At==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Bt())),Bt()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(Oe,le){if(!Oe||!Oe.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Be=u.SnippetController2.get(this.editor);if(!Be)return;const Ke=this.editor.getModel(),Ge=Ke.getAlternativeVersionId(),{item:ye}=Oe,ze=[],lt=new _.A;le&1||this.editor.pushUndoStop();const Rt=this.getOverwriteInfo(ye,Boolean(le&8));if(this._memoryService.memorize(Ke,this.editor.getPosition(),ye),Array.isArray(ye.completion.additionalTextEdits)){this.model.cancel();const At=d.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ye.completion.additionalTextEdits.map(ii=>n.h.replaceMove(C.e.lift(ii.range),ii.text))),At.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ye.isResolved){const At=new p.G(!0);let ii;const vi=Ke.onDidChangeContent(Oi=>{if(Oi.isFlush){lt.cancel(),vi.dispose();return}for(const Ai of Oi.changes){const Zi=C.e.getEndPosition(Ai.range);(!ii||a.L.isBefore(Zi,ii))&&(ii=Zi)}}),yi=le;le|=2;let hi=!1;const Si=this.editor.onWillType(()=>{Si.dispose(),hi=!0,yi&2||this.editor.pushUndoStop()});ze.push(ye.resolve(lt.token).then(()=>{if(!ye.completion.additionalTextEdits||lt.token.isCancellationRequested||ii&&ye.completion.additionalTextEdits.some(Ai=>a.L.isBefore(ii,C.e.getStartPosition(Ai.range))))return!1;hi&&this.editor.pushUndoStop();const Oi=d.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ye.completion.additionalTextEdits.map(Ai=>n.h.replaceMove(C.e.lift(Ai.range),Ai.text))),Oi.restoreRelativeVerticalPositionOfCursor(this.editor),(hi||!(yi&2))&&this.editor.pushUndoStop(),!0}).then(Oi=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",At.elapsed(),Oi),vi.dispose(),Si.dispose()}))}let{insertText:Bt}=ye.completion;ye.completion.insertTextRules&4||(Bt=S.Yj.escape(Bt)),this.model.cancel(),Be.insert(Bt,{overwriteBefore:Rt.overwriteBefore,overwriteAfter:Rt.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ye.completion.insertTextRules&1),clipboardText:Oe.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),le&2||this.editor.pushUndoStop(),ye.completion.command&&(ye.completion.command.id===ci.id?this.model.trigger({auto:!0,retrigger:!0}):ze.push(this._commandService.executeCommand(ye.completion.command.id,...ye.completion.command.arguments?[...ye.completion.command.arguments]:[]).catch(v.dL))),le&4&&this._alternatives.value.set(Oe,At=>{for(lt.cancel();Ke.canUndo();){Ge!==Ke.getAlternativeVersionId()&&Ke.undo(),this._insertSuggestion(At,3|(le&8?8:0));break}}),this._alertCompletionItem(ye),Promise.all(ze).finally(()=>{this._reportSuggestionAcceptedTelemetry(ye,Ke,Oe),this.model.clear(),lt.dispose()})}_reportSuggestionAcceptedTelemetry(Oe,le,Be){var Ke;if(this._telemetryGate++%100!==0)return;const Ge=Oe.extensionId?Oe.extensionId.value:((Ke=Be.item.provider._debugDisplayName)!==null&&Ke!==void 0?Ke:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:Ge,kind:Oe.completion.kind,basenameHash:(0,ps.vp)((0,kt.EZ)(le.uri)).toString(16),languageId:le.getLanguageId(),fileExtension:(0,kt.DZ)(le.uri)})}getOverwriteInfo(Oe,le){(0,l.p_)(this.editor.hasModel());let Be=this.editor.getOption(113).insertMode==="replace";le&&(Be=!Be);const Ke=Oe.position.column-Oe.editStart.column,Ge=(Be?Oe.editReplaceEnd.column:Oe.editInsertEnd.column)-Oe.position.column,ye=this.editor.getPosition().column-Oe.position.column,ze=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Ke+ye,overwriteAfter:Ge+ze}}_alertCompletionItem(Oe){if((0,B.Of)(Oe.completion.additionalTextEdits)){const le=T.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",Oe.textLabel,Oe.completion.additionalTextEdits.length);(0,m.Z9)(le)}}triggerSuggest(Oe,le,Be){this.editor.hasModel()&&(this.model.trigger({auto:le!=null?le:!1,completionOptions:{providerFilter:Oe,kindFilter:Be?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Oe){if(!this.editor.hasModel())return;const le=this.editor.getPosition(),Be=()=>{le.equals(this.editor.getPosition())&&this._commandService.executeCommand(Oe.fallback)},Ke=Ge=>{if(Ge.completion.insertTextRules&4||Ge.completion.additionalTextEdits)return!0;const ye=this.editor.getPosition(),ze=Ge.editStart.column,lt=ye.column;return lt-ze!==Ge.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ye.lineNumber,startColumn:ze,endLineNumber:ye.lineNumber,endColumn:lt})!==Ge.completion.insertText};A.ju.once(this.model.onDidTrigger)(Ge=>{const ye=[];A.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,E.B9)(ye),Be()},void 0,ye),this.model.onDidSuggest(({completionModel:ze})=>{if((0,E.B9)(ye),ze.items.length===0){Be();return}const lt=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ze.items),Rt=ze.items[lt];if(!Ke(Rt)){Be();return}this.editor.pushUndoStop(),this._insertSuggestion({index:lt,item:Rt,model:ze},7)},void 0,ye)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(le,0),this.editor.focus()}acceptSelectedSuggestion(Oe,le){const Be=this.widget.value.getFocusedItem();let Ke=0;Oe&&(Ke|=4),le&&(Ke|=8),this._insertSuggestion(Be,Ke)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(Oe){return this._selectors.register(Oe)}};Yn.ID="editor.contrib.suggestController",Yn=oo([hs(1,w.Fh),hs(2,W.H),hs(3,L.i6),hs(4,U.TG),hs(5,K.VZ),hs(6,Ne.b)],Yn);class pi{constructor(Oe){this.prioritySelector=Oe,this._items=new Array}register(Oe){if(this._items.indexOf(Oe)!==-1)throw new Error("Value is already registered");return this._items.push(Oe),this._items.sort((le,Be)=>this.prioritySelector(Be)-this.prioritySelector(le)),{dispose:()=>{const le=this._items.indexOf(Oe);le>=0&&this._items.splice(le,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class ci extends g.R6{constructor(){super({id:ci.id,label:T.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:L.Ao.and(D.u.writable,D.u.hasCompletionItemProvider,G._y.Visible.toNegated()),kbOpts:{kbExpr:D.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Oe,le,Be){const Ke=Yn.get(le);if(!Ke)return;let Ge;Be&&typeof Be=="object"&&Be.auto===!0&&(Ge=!0),Ke.triggerSuggest(void 0,Ge,void 0)}}ci.id="editor.action.triggerSuggest",(0,g._K)(Yn.ID,Yn,2),(0,g.Qr)(ci);const ui=100+90,wt=g._l.bindToContribution(Yn.get);(0,g.fK)(new wt({id:"acceptSelectedSuggestion",precondition:L.Ao.and(G._y.Visible,G._y.HasFocusedSuggestion),handler(mt){mt.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:L.Ao.and(G._y.Visible,D.u.textInputFocus),weight:ui},{primary:3,kbExpr:L.Ao.and(G._y.Visible,D.u.textInputFocus,G._y.AcceptSuggestionsOnEnter,G._y.MakesTextEdit),weight:ui}],menuOpts:[{menuId:G.GI,title:T.NC("accept.insert","Insert"),group:"left",order:1,when:G._y.HasInsertAndReplaceRange.toNegated()},{menuId:G.GI,title:T.NC("accept.insert","Insert"),group:"left",order:1,when:L.Ao.and(G._y.HasInsertAndReplaceRange,G._y.InsertMode.isEqualTo("insert"))},{menuId:G.GI,title:T.NC("accept.replace","Replace"),group:"left",order:1,when:L.Ao.and(G._y.HasInsertAndReplaceRange,G._y.InsertMode.isEqualTo("replace"))}]})),(0,g.fK)(new wt({id:"acceptAlternativeSelectedSuggestion",precondition:L.Ao.and(G._y.Visible,D.u.textInputFocus,G._y.HasFocusedSuggestion),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:1027,secondary:[1026]},handler(mt){mt.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:G.GI,group:"left",order:2,when:L.Ao.and(G._y.HasInsertAndReplaceRange,G._y.InsertMode.isEqualTo("insert")),title:T.NC("accept.replace","Replace")},{menuId:G.GI,group:"left",order:2,when:L.Ao.and(G._y.HasInsertAndReplaceRange,G._y.InsertMode.isEqualTo("replace")),title:T.NC("accept.insert","Insert")}]})),W.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,g.fK)(new wt({id:"hideSuggestWidget",precondition:G._y.Visible,handler:mt=>mt.cancelSuggestWidget(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:9,secondary:[1033]}})),(0,g.fK)(new wt({id:"selectNextSuggestion",precondition:L.Ao.and(G._y.Visible,L.Ao.or(G._y.MultipleSuggestions,G._y.HasFocusedSuggestion.negate())),handler:mt=>mt.selectNextSuggestion(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,g.fK)(new wt({id:"selectNextPageSuggestion",precondition:L.Ao.and(G._y.Visible,L.Ao.or(G._y.MultipleSuggestions,G._y.HasFocusedSuggestion.negate())),handler:mt=>mt.selectNextPageSuggestion(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:12,secondary:[2060]}})),(0,g.fK)(new wt({id:"selectLastSuggestion",precondition:L.Ao.and(G._y.Visible,L.Ao.or(G._y.MultipleSuggestions,G._y.HasFocusedSuggestion.negate())),handler:mt=>mt.selectLastSuggestion()})),(0,g.fK)(new wt({id:"selectPrevSuggestion",precondition:L.Ao.and(G._y.Visible,L.Ao.or(G._y.MultipleSuggestions,G._y.HasFocusedSuggestion.negate())),handler:mt=>mt.selectPrevSuggestion(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,g.fK)(new wt({id:"selectPrevPageSuggestion",precondition:L.Ao.and(G._y.Visible,L.Ao.or(G._y.MultipleSuggestions,G._y.HasFocusedSuggestion.negate())),handler:mt=>mt.selectPrevPageSuggestion(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:11,secondary:[2059]}})),(0,g.fK)(new wt({id:"selectFirstSuggestion",precondition:L.Ao.and(G._y.Visible,L.Ao.or(G._y.MultipleSuggestions,G._y.HasFocusedSuggestion.negate())),handler:mt=>mt.selectFirstSuggestion()})),(0,g.fK)(new wt({id:"focusSuggestion",precondition:L.Ao.and(G._y.Visible,G._y.HasFocusedSuggestion.negate()),handler:mt=>mt.focusSuggestion(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,g.fK)(new wt({id:"focusAndAcceptSuggestion",precondition:L.Ao.and(G._y.Visible,G._y.HasFocusedSuggestion.negate()),handler:mt=>{mt.focusSuggestion(),mt.acceptSelectedSuggestion(!0,!1)}})),(0,g.fK)(new wt({id:"toggleSuggestionDetails",precondition:L.Ao.and(G._y.Visible,G._y.HasFocusedSuggestion),handler:mt=>mt.toggleSuggestionDetails(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:G.GI,group:"right",order:1,when:L.Ao.and(G._y.DetailsVisible,G._y.CanResolve),title:T.NC("detail.more","show less")},{menuId:G.GI,group:"right",order:1,when:L.Ao.and(G._y.DetailsVisible.toNegated(),G._y.CanResolve),title:T.NC("detail.less","show more")}]})),(0,g.fK)(new wt({id:"toggleExplainMode",precondition:G._y.Visible,handler:mt=>mt.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,g.fK)(new wt({id:"toggleSuggestionFocus",precondition:G._y.Visible,handler:mt=>mt.toggleSuggestionFocus(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,g.fK)(new wt({id:"insertBestCompletion",precondition:L.Ao.and(D.u.textInputFocus,L.Ao.equals("config.editor.tabCompletion","on"),x.AtEnd,G._y.Visible.toNegated(),q.OtherSuggestions.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:(mt,Oe)=>{mt.triggerSuggestAndAcceptBest((0,l.Kn)(Oe)?Object.assign({fallback:"tab"},Oe):{fallback:"tab"})},kbOpts:{weight:ui,primary:2}})),(0,g.fK)(new wt({id:"insertNextSuggestion",precondition:L.Ao.and(D.u.textInputFocus,L.Ao.equals("config.editor.tabCompletion","on"),q.OtherSuggestions,G._y.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:mt=>mt.acceptNextSuggestion(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:2}})),(0,g.fK)(new wt({id:"insertPrevSuggestion",precondition:L.Ao.and(D.u.textInputFocus,L.Ao.equals("config.editor.tabCompletion","on"),q.OtherSuggestions,G._y.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:mt=>mt.acceptPrevSuggestion(),kbOpts:{weight:ui,kbExpr:D.u.textInputFocus,primary:1026}})),(0,g.Qr)(class extends g.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:T.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(mt,Oe){var le;(le=Yn.get(Oe))===null||le===void 0||le.resetWidgetSize()}})},69542:function(Ot,He,i){"use strict";i.r(He),i.d(He,{SuggestInlineCompletions:function(){return w}});var m=i(97464),B=i(4538),f=i(97865),_=i(38431),v=i(55298),A=i(5603),M=i(50038),E=i(35921),R=i(32061),p=i(33024),l=i(32905),d=i(77512),g=i(51941),n=i(44333),a=function(N,O,x,T){var W=arguments.length,U=W<3?O:T===null?T=Object.getOwnPropertyDescriptor(O,x):T,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(N,O,x,T);else for(var G=N.length-1;G>=0;G--)(K=N[G])&&(U=(W<3?K(U):W>3?K(O,x,U):K(O,x))||U);return W>3&&U&&Object.defineProperty(O,x,U),U},C=function(N,O){return function(x,T){O(x,T,N)}},D=function(N,O,x,T){function W(U){return U instanceof x?U:new x(function(K){K(U)})}return new(x||(x=Promise))(function(U,K){function G(q){try{k(T.next(q))}catch(te){K(te)}}function z(q){try{k(T.throw(q))}catch(te){K(te)}}function k(q){q.done?U(q.value):W(q.value).then(G,z)}k((T=T.apply(N,O||[])).next())})};class u{constructor(O,x,T,W,U,K){this.range=O,this.insertText=x,this.filterText=T,this.additionalTextEdits=W,this.command=U,this.completion=K}}let S=class extends _.L6{constructor(O,x,T,W,U,K){super(U.disposable),this.model=O,this.line=x,this.word=T,this.completionModel=W,this._suggestMemoryService=K}canBeReused(O,x,T){return this.model===O&&this.line===x&&this.word.word.length>0&&this.word.startColumn===T.startColumn&&this.word.endColumn<T.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var O;const x=[],{items:T}=this.completionModel,W=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},T),U=f.$.slice(T,W),K=f.$.slice(T,0,W);let G=5;for(const z of f.$.concat(U,K)){if(z.score===B.CL.Default)continue;const k=new M.e(z.editStart.lineNumber,z.editStart.column,z.editInsertEnd.lineNumber,z.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),q=z.completion.insertTextRules&&z.completion.insertTextRules&4?{snippet:z.completion.insertText}:z.completion.insertText;x.push(new u(k,q,(O=z.filterTextLow)!==null&&O!==void 0?O:z.labelLow,z.completion.additionalTextEdits,z.completion.command,z)),G-->=0&&z.resolve(m.T.None)}return x}};S=a([C(5,l.Fh)],S);let w=class{constructor(O,x,T,W){this._getEditorOption=O,this._languageFeatureService=x,this._clipboardService=T,this._suggestMemoryService=W}provideInlineCompletions(O,x,T,W){var U;return D(this,void 0,void 0,function*(){if(T.selectedSuggestionInfo)return;const K=this._getEditorOption(85,O);if(p.tG.isAllOff(K))return;O.tokenization.tokenizeIfCheap(x.lineNumber);const G=O.tokenization.getLineTokens(x.lineNumber),z=G.getStandardTokenType(G.findTokenIndexAtOffset(Math.max(x.column-1-1,0)));if(p.tG.valueFor(K,z)!=="inline")return;let k=O.getWordAtPosition(x),q;if(k!=null&&k.word||(q=this._getTriggerCharacterInfo(O,x)),!(k!=null&&k.word)&&!q||(k||(k=O.getWordUntilPosition(x)),k.endColumn!==x.column))return;let te;const X=O.getValueInRange(new M.e(x.lineNumber,1,x.lineNumber,x.column));if(!q&&(!((U=this._lastResult)===null||U===void 0)&&U.canBeReused(O,x.lineNumber,k))){const j=new R.t(X,x.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=j,this._lastResult.acquire(),te=this._lastResult}else{const j=yield(0,p.kL)(this._languageFeatureService.completionProvider,O,x,new p.A9(void 0,void 0,q==null?void 0:q.providers),q&&{triggerKind:1,triggerCharacter:q.ch},W);let J;j.needsClipboard&&(J=yield this._clipboardService.readText());const Y=new R._(j.items,x.column,new R.t(X,0),d.K.None,this._getEditorOption(113,O),this._getEditorOption(107,O),{boostFullMatch:!1,firstMatchCanBeWeak:!1},J);te=new S(O,x.lineNumber,k,Y,j,this._suggestMemoryService)}return this._lastResult=te,te})}handleItemDidShow(O,x){x.completion.resolve(m.T.None)}freeInlineCompletions(O){O.release()}_getTriggerCharacterInfo(O,x){var T;const W=O.getValueInRange(M.e.fromPositions({lineNumber:x.lineNumber,column:x.column-1},x)),U=new Set;for(const K of this._languageFeatureService.completionProvider.all(O))!((T=K.triggerCharacters)===null||T===void 0)&&T.includes(W)&&U.add(K);if(U.size!==0)return{providers:U,ch:W}}};w=a([C(1,E.p),C(2,g.p),C(3,l.Fh)],w);let L=class zc{constructor(O,x,T,W){if(++zc._counter===1){const U=W.createInstance(w,(K,G)=>{var z;return((z=T.listCodeEditors().find(q=>q.getModel()===G))!==null&&z!==void 0?z:O).getOption(K)});zc._disposable=x.inlineCompletionsProvider.register("*",U)}}dispose(){var O;--zc._counter===0&&((O=zc._disposable)===null||O===void 0||O.dispose(),zc._disposable=void 0)}};L._counter=0,L=a([C(1,E.p),C(2,A.$),C(3,n.TG)],L),(0,v._K)("suggest.inlineCompletionsProvider",L,0)},32905:function(Ot,He,i){"use strict";i.d(He,{Fh:function(){return D}});var m=i(13484),B=i(38431),f=i(39832),_=i(87057),v=i(36082),A=i(71177),M=i(53061),E=i(44333),R=i(63536),p=function(u,S,w,L){var N=arguments.length,O=N<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,w):L,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(u,S,w,L);else for(var T=u.length-1;T>=0;T--)(x=u[T])&&(O=(N<3?x(O):N>3?x(S,w,O):x(S,w))||O);return N>3&&O&&Object.defineProperty(S,w,O),O},l=function(u,S){return function(w,L){S(w,L,u)}};class d{constructor(S){this.name=S}select(S,w,L){if(L.length===0)return 0;const N=L[0].score[0];for(let O=0;O<L.length;O++){const{score:x,completion:T}=L[O];if(x[0]!==N)break;if(T.preselect)return O}return 0}}class g extends d{constructor(){super("first")}memorize(S,w,L){}toJSON(){}fromJSON(){}}class n extends d{constructor(){super("recentlyUsed"),this._cache=new f.z6(300,.66),this._seq=0}memorize(S,w,L){const N=`${S.getLanguageId()}/${L.textLabel}`;this._cache.set(N,{touch:this._seq++,type:L.completion.kind,insertText:L.completion.insertText})}select(S,w,L){if(L.length===0)return 0;const N=S.getLineContent(w.lineNumber).substr(w.column-10,w.column-1);if(/\s$/.test(N))return super.select(S,w,L);const O=L[0].score[0];let x=-1,T=-1,W=-1;for(let U=0;U<L.length&&L[U].score[0]===O;U++){const K=`${S.getLanguageId()}/${L[U].textLabel}`,G=this._cache.peek(K);if(G&&G.touch>W&&G.type===L[U].completion.kind&&G.insertText===L[U].completion.insertText&&(W=G.touch,T=U),L[U].completion.preselect&&x===-1)return x=U}return T!==-1?T:x!==-1?x:0}toJSON(){return this._cache.toJSON()}fromJSON(S){this._cache.clear();const w=0;for(const[L,N]of S)N.touch=w,N.type=typeof N.type=="number"?N.type:v.gX.fromString(N.type),this._cache.set(L,N);this._seq=this._cache.size}}class a extends d{constructor(){super("recentlyUsedByPrefix"),this._trie=_.Id.forStrings(),this._seq=0}memorize(S,w,L){const{word:N}=S.getWordUntilPosition(w),O=`${S.getLanguageId()}/${N}`;this._trie.set(O,{type:L.completion.kind,insertText:L.completion.insertText,touch:this._seq++})}select(S,w,L){const{word:N}=S.getWordUntilPosition(w);if(!N)return super.select(S,w,L);const O=`${S.getLanguageId()}/${N}`;let x=this._trie.get(O);if(x||(x=this._trie.findSubstr(O)),x)for(let T=0;T<L.length;T++){const{kind:W,insertText:U}=L[T].completion;if(W===x.type&&U===x.insertText)return T}return super.select(S,w,L)}toJSON(){const S=[];return this._trie.forEach((w,L)=>S.push([L,w])),S.sort((w,L)=>-(w[1].touch-L[1].touch)).forEach((w,L)=>w[1].touch=L),S.slice(0,200)}fromJSON(S){if(this._trie.clear(),S.length>0){this._seq=S[0][1].touch+1;for(const[w,L]of S)L.type=typeof L.type=="number"?L.type:v.gX.fromString(L.type),this._trie.set(w,L)}}}let C=class Ud{constructor(S,w){this._storageService=S,this._configService=w,this._disposables=new B.SL,this._persistSoon=new m.pY(()=>this._saveState(),500),this._disposables.add(S.onWillSaveState(L=>{L.reason===R.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(S,w,L){this._withStrategy(S,w).memorize(S,w,L),this._persistSoon.schedule()}select(S,w,L){return this._withStrategy(S,w).select(S,w,L)}_withStrategy(S,w){var L;const N=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:S.getLanguageIdAtPosition(w.lineNumber,w.column),resource:S.uri});if(((L=this._strategy)===null||L===void 0?void 0:L.name)!==N){this._saveState();const O=Ud._strategyCtors.get(N)||g;this._strategy=new O;try{const T=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,W=this._storageService.get(`${Ud._storagePrefix}/${N}`,T);W&&this._strategy.fromJSON(JSON.parse(W))}catch(x){}}return this._strategy}_saveState(){if(this._strategy){const w=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,L=JSON.stringify(this._strategy);this._storageService.store(`${Ud._storagePrefix}/${this._strategy.name}`,L,w,1)}}};C._strategyCtors=new Map([["recentlyUsedByPrefix",a],["recentlyUsed",n],["first",g]]),C._storagePrefix="suggest/memories",C=p([l(0,R.Uy),l(1,A.Ui)],C);const D=(0,E.yh)("ISuggestMemories");(0,M.z)(D,C,1)},77512:function(Ot,He,i){"use strict";i.d(He,{K:function(){return v}});var m=i(16308),B=i(50038),f=i(6258),_=function(A,M,E,R){function p(l){return l instanceof E?l:new E(function(d){d(l)})}return new(E||(E=Promise))(function(l,d){function g(C){try{a(R.next(C))}catch(D){d(D)}}function n(C){try{a(R.throw(C))}catch(D){d(D)}}function a(C){C.done?l(C.value):p(C.value).then(g,n)}a((R=R.apply(A,M||[])).next())})};class v{static create(M,E){return _(this,void 0,void 0,function*(){if(!E.getOption(113).localityBonus||!E.hasModel())return v.None;const R=E.getModel(),p=E.getPosition();if(!M.canComputeWordRanges(R.uri))return v.None;const[l]=yield new f.x().provideSelectionRanges(R,[p]);if(l.length===0)return v.None;const d=yield M.computeWordRanges(R.uri,l[0].range);if(!d)return v.None;const g=R.getWordUntilPosition(p);return delete d[g.word],new class extends v{distance(n,a){if(!p.equals(E.getPosition()))return 0;if(a.kind===17)return 2<<20;const C=typeof a.label=="string"?a.label:a.label.label,D=d[C];if((0,m.XY)(D))return 2<<20;const u=(0,m.ry)(D,B.e.fromPositions(n),B.e.compareRangesUsingStarts),S=u>=0?D[u]:D[Math.max(0,~u-1)];let w=l.length;for(const L of l){if(!B.e.containsRange(L.range,S))break;w-=1}return w}}})}}v.None=new class extends v{distance(){return 0}}},27187:function(Ot,He,i){"use strict";var m=i(26386),B=i(92537);const f=(0,B.P6G)("symbolIcon.arrayForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,B.P6G)("symbolIcon.booleanForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,B.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,B.P6G)("symbolIcon.colorForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,B.P6G)("symbolIcon.constantForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,B.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,B.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,B.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,B.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,B.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,B.P6G)("symbolIcon.fileForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,B.P6G)("symbolIcon.folderForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,B.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,B.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,B.P6G)("symbolIcon.keyForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,B.P6G)("symbolIcon.keywordForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,B.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,B.P6G)("symbolIcon.moduleForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,B.P6G)("symbolIcon.namespaceForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,B.P6G)("symbolIcon.nullForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,B.P6G)("symbolIcon.numberForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,B.P6G)("symbolIcon.objectForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,B.P6G)("symbolIcon.operatorForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,B.P6G)("symbolIcon.packageForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U=(0,B.P6G)("symbolIcon.propertyForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K=(0,B.P6G)("symbolIcon.referenceForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G=(0,B.P6G)("symbolIcon.snippetForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,B.P6G)("symbolIcon.stringForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,B.P6G)("symbolIcon.structForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q=(0,B.P6G)("symbolIcon.textForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),te=(0,B.P6G)("symbolIcon.typeParameterForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),X=(0,B.P6G)("symbolIcon.unitForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,m.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,B.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},87112:function(Ot,He,i){"use strict";i.r(He),i.d(He,{ToggleTabFocusModeAction:function(){return A}});var m=i(79874),B=i(10432),f=i(26386),_=i(21208),v=i(76826);class A extends _.Ke{constructor(){super({id:A.ID,title:{value:f.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(E){const R=E.get(v.i6).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",l=!B.n.getTabFocusMode(R);B.n.setTabFocusMode(l,R),l?(0,m.Z9)(f.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,m.Z9)(f.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}A.ID="editor.action.toggleTabFocusMode",(0,_.r1)(A)},21664:function(Ot,He,i){"use strict";i.r(He);var m=i(69344),B=i(55298),f=i(26386);class _ extends B.R6{constructor(){super({id:"editor.action.forceRetokenize",label:f.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(A,M){if(!M.hasModel())return;const E=M.getModel();E.tokenization.resetTokenization();const R=new m.G(!0);E.tokenization.forceTokenization(E.getLineCount()),R.stop(),console.log(`tokenization took ${R.elapsed()}`)}}(0,B.Qr)(_)},63198:function(Ot,He,i){"use strict";i.r(He),i.d(He,{DisableHighlightingInCommentsAction:function(){return ve},DisableHighlightingInStringsAction:function(){return he},DisableHighlightingOfAmbiguousCharactersAction:function(){return ce},DisableHighlightingOfInvisibleCharactersAction:function(){return Ee},DisableHighlightingOfNonBasicAsciiCharactersAction:function(){return We},ShowExcludeOptions:function(){return it},UnicodeHighlighter:function(){return Le},UnicodeHighlighterHoverParticipant:function(){return Ue},warningIcon:function(){return xe}});var m=i(13484),B=i(407),f=i(69008),_=i(38431),v=i(11138),A=i(17416),M=i(55298),E=i(70054),R=i(45007),p=i(83969),l=i(30363),d=i(47626),g=i(82807),n=i(72223),a=i(22214),C=i(34441),D=i(67235),u=i(98299),S=i(59397),w=i(44333),L=i(54505),N=i(6544),O=i(80265),x=i(56709),T=i(48786),W=function(Ie,oe,ge,Ce){var me=arguments.length,Me=me<3?oe:Ce===null?Ce=Object.getOwnPropertyDescriptor(oe,ge):Ce,qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Me=Reflect.decorate(Ie,oe,ge,Ce);else for(var ot=Ie.length-1;ot>=0;ot--)(qe=Ie[ot])&&(Me=(me<3?qe(Me):me>3?qe(oe,ge,Me):qe(oe,ge))||Me);return me>3&&Me&&Object.defineProperty(oe,ge,Me),Me},U=function(Ie,oe){return function(ge,Ce){oe(ge,Ce,Ie)}};let K=class extends _.JT{get enabled(){return this._enabled}set enabled(oe){oe?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=oe}constructor(oe,ge,Ce={},me){var Me;super(),this._link=ge,this._enabled=!0,this.el=(0,C.R3)(oe,(0,C.$)("a.monaco-link",{tabIndex:(Me=ge.tabIndex)!==null&&Me!==void 0?Me:0,href:ge.href,title:ge.title},ge.label)),this.el.setAttribute("role","button");const qe=this._register(new L.Y(this.el,"click")),ot=this._register(new L.Y(this.el,"keypress")),ut=x.ju.chain(ot.event).map(Pt=>new N.y(Pt)).filter(Pt=>Pt.keyCode===3).event,ht=this._register(new L.Y(this.el,O.t.Tap)).event;this._register(O.o.addTarget(this.el));const Ct=x.ju.any(qe.event,ut,ht);this._register(Ct(Pt=>{this.enabled&&(C.zB.stop(Pt,!0),Ce!=null&&Ce.opener?Ce.opener(this._link.href):me.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};K=W([U(3,T.v4)],K);var G=i(89528),z=i(8216),k=function(Ie,oe,ge,Ce){var me=arguments.length,Me=me<3?oe:Ce===null?Ce=Object.getOwnPropertyDescriptor(oe,ge):Ce,qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Me=Reflect.decorate(Ie,oe,ge,Ce);else for(var ot=Ie.length-1;ot>=0;ot--)(qe=Ie[ot])&&(Me=(me<3?qe(Me):me>3?qe(oe,ge,Me):qe(oe,ge))||Me);return me>3&&Me&&Object.defineProperty(oe,ge,Me),Me},q=function(Ie,oe){return function(ge,Ce){oe(ge,Ce,Ie)}};const te=26;let X=class extends _.JT{constructor(oe,ge){super(),this._editor=oe,this.instantiationService=ge,this.banner=this._register(this.instantiationService.createInstance(j))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(oe){this.banner.show(Object.assign(Object.assign({},oe),{onClose:()=>{var ge;this.hide(),(ge=oe.onClose)===null||ge===void 0||ge.call(oe)}})),this._editor.setBanner(this.banner.element,te)}};X=k([q(1,w.TG)],X);let j=class extends _.JT{constructor(oe){super(),this.instantiationService=oe,this.markdownRenderer=this.instantiationService.createInstance(S.$,{}),this.element=(0,C.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(oe){if(oe.ariaLabel)return oe.ariaLabel;if(typeof oe.message=="string")return oe.message}getBannerMessage(oe){if(typeof oe=="string"){const ge=(0,C.$)("span");return ge.innerText=oe,ge}return this.markdownRenderer.render(oe).element}clear(){(0,C.PO)(this.element)}show(oe){(0,C.PO)(this.element);const ge=this.getAriaLabel(oe);ge&&this.element.setAttribute("aria-label",ge);const Ce=(0,C.R3)(this.element,(0,C.$)("div.icon-container"));Ce.setAttribute("aria-hidden","true"),oe.icon&&Ce.appendChild((0,C.$)(`div${z.k.asCSSSelector(oe.icon)}`));const me=(0,C.R3)(this.element,(0,C.$)("div.message-container"));if(me.setAttribute("aria-hidden","true"),me.appendChild(this.getBannerMessage(oe.message)),this.messageActionsContainer=(0,C.R3)(this.element,(0,C.$)("div.message-actions-container")),oe.actions)for(const qe of oe.actions)this._register(this.instantiationService.createInstance(K,this.messageActionsContainer,Object.assign(Object.assign({},qe),{tabIndex:-1}),{}));const Me=(0,C.R3)(this.element,(0,C.$)("div.action-container"));this.actionBar=this._register(new D.o(Me)),this.actionBar.push(this._register(new u.aU("banner.close","Close Banner",z.k.asClassName(G.s_),!0,()=>{typeof oe.onClose=="function"&&oe.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};j=k([q(0,w.TG)],j);var J=i(26386),Y=i(71177),ee=i(38785),fe=i(24905),De=function(Ie,oe,ge,Ce){var me=arguments.length,Me=me<3?oe:Ce===null?Ce=Object.getOwnPropertyDescriptor(oe,ge):Ce,qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Me=Reflect.decorate(Ie,oe,ge,Ce);else for(var ot=Ie.length-1;ot>=0;ot--)(qe=Ie[ot])&&(Me=(me<3?qe(Me):me>3?qe(oe,ge,Me):qe(oe,ge))||Me);return me>3&&Me&&Object.defineProperty(oe,ge,Me),Me},Ne=function(Ie,oe){return function(ge,Ce){oe(ge,Ce,Ie)}},be=function(Ie,oe,ge,Ce){function me(Me){return Me instanceof ge?Me:new ge(function(qe){qe(Me)})}return new(ge||(ge=Promise))(function(Me,qe){function ot(Ct){try{ht(Ce.next(Ct))}catch(Pt){qe(Pt)}}function ut(Ct){try{ht(Ce.throw(Ct))}catch(Pt){qe(Pt)}}function ht(Ct){Ct.done?Me(Ct.value):me(Ct.value).then(ot,ut)}ht((Ce=Ce.apply(Ie,oe||[])).next())})};const xe=(0,G.q5)("extensions-warning-message",B.l.warning,J.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let Le=class extends _.JT{constructor(oe,ge,Ce,me){super(),this._editor=oe,this._editorWorkerService=ge,this._workspaceTrustService=Ce,this._highlighter=null,this._bannerClosed=!1,this._updateState=Me=>{if(Me&&Me.hasMore){if(this._bannerClosed)return;const qe=Math.max(Me.ambiguousCharacterCount,Me.nonBasicAsciiCharacterCount,Me.invisibleCharacterCount);let ot;if(Me.nonBasicAsciiCharacterCount>=qe)ot={message:J.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new We};else if(Me.ambiguousCharacterCount>=qe)ot={message:J.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new ce};else if(Me.invisibleCharacterCount>=qe)ot={message:J.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Ee};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ot.message,icon:xe,actions:[{label:ot.command.shortLabel,href:`command:${ot.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(me.createInstance(X,oe)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=oe.getOption(120),this._register(Ce.onDidChangeTrust(Me=>{this._updateHighlighter()})),this._register(oe.onDidChangeConfiguration(Me=>{Me.hasChanged(120)&&(this._options=oe.getOption(120),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const oe=ue(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([oe.nonBasicASCII,oe.ambiguousCharacters,oe.invisibleCharacters].every(Ce=>Ce===!1))return;const ge={nonBasicASCII:oe.nonBasicASCII,ambiguousCharacters:oe.ambiguousCharacters,invisibleCharacters:oe.invisibleCharacters,includeComments:oe.includeComments,includeStrings:oe.includeStrings,allowedCodePoints:Object.keys(oe.allowedCharacters).map(Ce=>Ce.codePointAt(0)),allowedLocales:Object.keys(oe.allowedLocales).map(Ce=>Ce==="_os"?new Intl.NumberFormat().resolvedOptions().locale:Ce==="_vscode"?v.dK:Ce)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new re(this._editor,ge,this._updateState,this._editorWorkerService):this._highlighter=new _e(this._editor,ge,this._updateState)}getDecorationInfo(oe){return this._highlighter?this._highlighter.getDecorationInfo(oe):null}};Le.ID="editor.contrib.unicodeHighlighter",Le=De([Ne(1,l.p),Ne(2,fe.Y),Ne(3,w.TG)],Le);function ue(Ie,oe){return{nonBasicASCII:oe.nonBasicASCII===E.Av?!Ie:oe.nonBasicASCII,ambiguousCharacters:oe.ambiguousCharacters,invisibleCharacters:oe.invisibleCharacters,includeComments:oe.includeComments===E.Av?!Ie:oe.includeComments,includeStrings:oe.includeStrings===E.Av?!Ie:oe.includeStrings,allowedCharacters:oe.allowedCharacters,allowedLocales:oe.allowedLocales}}let re=class extends _.JT{constructor(oe,ge,Ce,me){super(),this._editor=oe,this._options=ge,this._updateState=Ce,this._editorWorkerService=me,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new m.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const oe=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(ge=>{if(this._model.isDisposed()||this._model.getVersionId()!==oe)return;this._updateState(ge);const Ce=[];if(!ge.hasMore)for(const me of ge.ranges)Ce.push({range:me,options:se.instance.getDecorationFromOptions(this._options)});this._decorations.set(Ce)})}getDecorationInfo(oe){if(!this._decorations.has(oe))return null;const ge=this._editor.getModel();if(!(0,g.Fd)(ge,oe))return null;const Ce=ge.getValueInRange(oe.range);return{reason:Z(Ce,this._options),inComment:(0,g.$t)(ge,oe),inString:(0,g.zg)(ge,oe)}}};re=De([Ne(3,l.p)],re);class _e extends _.JT{constructor(oe,ge,Ce){super(),this._editor=oe,this._options=ge,this._updateState=Ce,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new m.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const oe=this._editor.getVisibleRanges(),ge=[],Ce={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const me of oe){const Me=p.a.computeUnicodeHighlights(this._model,this._options,me);for(const qe of Me.ranges)Ce.ranges.push(qe);Ce.ambiguousCharacterCount+=Ce.ambiguousCharacterCount,Ce.invisibleCharacterCount+=Ce.invisibleCharacterCount,Ce.nonBasicAsciiCharacterCount+=Ce.nonBasicAsciiCharacterCount,Ce.hasMore=Ce.hasMore||Me.hasMore}if(!Ce.hasMore)for(const me of Ce.ranges)ge.push({range:me,options:se.instance.getDecorationFromOptions(this._options)});this._updateState(Ce),this._decorations.set(ge)}getDecorationInfo(oe){if(!this._decorations.has(oe))return null;const ge=this._editor.getModel(),Ce=ge.getValueInRange(oe.range);return(0,g.Fd)(ge,oe)?{reason:Z(Ce,this._options),inComment:(0,g.$t)(ge,oe),inString:(0,g.zg)(ge,oe)}:null}}let Ue=class{constructor(oe,ge,Ce){this._editor=oe,this._languageService=ge,this._openerService=Ce,this.hoverOrdinal=5}computeSync(oe,ge){if(!this._editor.hasModel()||oe.type!==1)return[];const Ce=this._editor.getModel(),me=this._editor.getContribution(Le.ID);if(!me)return[];const Me=[];let qe=300;for(const ot of ge){const ut=me.getDecorationInfo(ot);if(!ut)continue;const Ct=Ce.getValueInRange(ot.range).codePointAt(0),Pt=Re(Ct);let bt;switch(ut.reason.kind){case 0:{(0,A.$i)(ut.reason.confusableWith)?bt=J.NC("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",Pt,Re(ut.reason.confusableWith.codePointAt(0))):bt=J.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",Pt,Re(ut.reason.confusableWith.codePointAt(0)));break}case 1:bt=J.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",Pt);break;case 2:bt=J.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",Pt);break}const $t={codePoint:Ct,reason:ut.reason,inComment:ut.inComment,inString:ut.inString},Mt=J.NC("unicodeHighlight.adjustSettings","Adjust settings"),Xe=`command:${it.ID}?${encodeURIComponent(JSON.stringify($t))}`,Lt=new f.W5("",!0).appendMarkdown(bt).appendText(" ").appendLink(Xe,Mt);Me.push(new a.hU(this,ot.range,[Lt],!1,qe++))}return Me}renderHoverParts(oe,ge){return(0,a.c)(oe,ge,this._editor,this._languageService,this._openerService)}};Ue=De([Ne(1,d.O),Ne(2,T.v4)],Ue);function Qe(Ie){return`U+${Ie.toString(16).padStart(4,"0")}`}function Re(Ie){let oe=`\`${Qe(Ie)}\``;return A.vU.isInvisibleCharacter(Ie)||(oe+=` "${`${ie(Ie)}`}"`),oe}function ie(Ie){return Ie===96?"`` ` ``":"`"+String.fromCodePoint(Ie)+"`"}function Z(Ie,oe){return p.a.computeUnicodeHighlightReason(Ie,oe)}class se{constructor(){this.map=new Map}getDecorationFromOptions(oe){return this.getDecoration(!oe.includeComments,!oe.includeStrings)}getDecoration(oe,ge){const Ce=`${oe}${ge}`;let me=this.map.get(Ce);return me||(me=R.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:oe,hideInStringTokens:ge}),this.map.set(Ce,me)),me}}se.instance=new se;class ve extends M.R6{constructor(){super({id:ce.ID,label:J.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=J.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(oe,ge,Ce){return be(this,void 0,void 0,function*(){const me=oe==null?void 0:oe.get(Y.Ui);me&&this.runAction(me)})}runAction(oe){return be(this,void 0,void 0,function*(){yield oe.updateValue(E.qt.includeComments,!1,2)})}}class he extends M.R6{constructor(){super({id:ce.ID,label:J.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=J.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(oe,ge,Ce){return be(this,void 0,void 0,function*(){const me=oe==null?void 0:oe.get(Y.Ui);me&&this.runAction(me)})}runAction(oe){return be(this,void 0,void 0,function*(){yield oe.updateValue(E.qt.includeStrings,!1,2)})}}class ce extends M.R6{constructor(){super({id:ce.ID,label:J.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=J.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(oe,ge,Ce){return be(this,void 0,void 0,function*(){const me=oe==null?void 0:oe.get(Y.Ui);me&&this.runAction(me)})}runAction(oe){return be(this,void 0,void 0,function*(){yield oe.updateValue(E.qt.ambiguousCharacters,!1,2)})}}ce.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class Ee extends M.R6{constructor(){super({id:Ee.ID,label:J.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=J.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(oe,ge,Ce){return be(this,void 0,void 0,function*(){const me=oe==null?void 0:oe.get(Y.Ui);me&&this.runAction(me)})}runAction(oe){return be(this,void 0,void 0,function*(){yield oe.updateValue(E.qt.invisibleCharacters,!1,2)})}}Ee.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class We extends M.R6{constructor(){super({id:We.ID,label:J.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=J.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(oe,ge,Ce){return be(this,void 0,void 0,function*(){const me=oe==null?void 0:oe.get(Y.Ui);me&&this.runAction(me)})}runAction(oe){return be(this,void 0,void 0,function*(){yield oe.updateValue(E.qt.nonBasicASCII,!1,2)})}}We.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class it extends M.R6{constructor(){super({id:it.ID,label:J.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(oe,ge,Ce){return be(this,void 0,void 0,function*(){const{codePoint:me,reason:Me,inString:qe,inComment:ot}=Ce,ut=String.fromCodePoint(me),ht=oe.get(ee.eJ),Ct=oe.get(Y.Ui);function Pt(Mt){return A.vU.isInvisibleCharacter(Mt)?J.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Qe(Mt)):J.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Qe(Mt)} "${ut}"`)}const bt=[];if(Me.kind===0)for(const Mt of Me.notAmbiguousInLocales)bt.push({label:J.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',Mt),run:()=>be(this,void 0,void 0,function*(){je(Ct,[Mt])})});if(bt.push({label:Pt(me),run:()=>Ze(Ct,[me])}),ot){const Mt=new ve;bt.push({label:Mt.label,run:()=>be(this,void 0,void 0,function*(){return Mt.runAction(Ct)})})}else if(qe){const Mt=new he;bt.push({label:Mt.label,run:()=>be(this,void 0,void 0,function*(){return Mt.runAction(Ct)})})}if(Me.kind===0){const Mt=new ce;bt.push({label:Mt.label,run:()=>be(this,void 0,void 0,function*(){return Mt.runAction(Ct)})})}else if(Me.kind===1){const Mt=new Ee;bt.push({label:Mt.label,run:()=>be(this,void 0,void 0,function*(){return Mt.runAction(Ct)})})}else if(Me.kind===2){const Mt=new We;bt.push({label:Mt.label,run:()=>be(this,void 0,void 0,function*(){return Mt.runAction(Ct)})})}else Te(Me);const $t=yield ht.pick(bt,{title:J.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});$t&&(yield $t.run())})}}it.ID="editor.action.unicodeHighlight.showExcludeOptions";function Ze(Ie,oe){return be(this,void 0,void 0,function*(){const ge=Ie.getValue(E.qt.allowedCharacters);let Ce;typeof ge=="object"&&ge?Ce=ge:Ce={};for(const me of oe)Ce[String.fromCodePoint(me)]=!0;yield Ie.updateValue(E.qt.allowedCharacters,Ce,2)})}function je(Ie,oe){var ge;return be(this,void 0,void 0,function*(){const Ce=(ge=Ie.inspect(E.qt.allowedLocales).user)===null||ge===void 0?void 0:ge.value;let me;typeof Ce=="object"&&Ce?me=Object.assign({},Ce):me={};for(const Me of oe)me[Me]=!0;yield Ie.updateValue(E.qt.allowedLocales,me,2)})}function Te(Ie){throw new Error(`Unexpected value: ${Ie}`)}(0,M.Qr)(ce),(0,M.Qr)(Ee),(0,M.Qr)(We),(0,M.Qr)(it),(0,M._K)(Le.ID,Le,1),n.Ae.register(Ue)},94689:function(Ot,He,i){"use strict";i.r(He),i.d(He,{UnusualLineTerminatorsDetector:function(){return g}});var m=i(38431),B=i(6227),f=i(55298),_=i(5603),v=i(26386),A=i(5267),M=function(n,a,C,D){var u=arguments.length,S=u<3?a:D===null?D=Object.getOwnPropertyDescriptor(a,C):D,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(n,a,C,D);else for(var L=n.length-1;L>=0;L--)(w=n[L])&&(S=(u<3?w(S):u>3?w(a,C,S):w(a,C))||S);return u>3&&S&&Object.defineProperty(a,C,S),S},E=function(n,a){return function(C,D){a(C,D,n)}},R=function(n,a,C,D){function u(S){return S instanceof C?S:new C(function(w){w(S)})}return new(C||(C=Promise))(function(S,w){function L(x){try{O(D.next(x))}catch(T){w(T)}}function N(x){try{O(D.throw(x))}catch(T){w(T)}}function O(x){x.done?S(x.value):u(x.value).then(L,N)}O((D=D.apply(n,a||[])).next())})};const p="ignoreUnusualLineTerminators";function l(n,a,C){n.setModelProperty(a.uri,p,C)}function d(n,a){return n.getModelProperty(a.uri,p)}let g=class extends m.JT{constructor(a,C,D){super(),this._editor=a,this._dialogService=C,this._codeEditorService=D,this._isPresentingDialog=!1,this._config=this._editor.getOption(121),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(121)&&(this._config=this._editor.getOption(121),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(u=>{u.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return R(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const a=this._editor.getModel();if(!a.mightContainUnusualLineTerminators()||d(this._codeEditorService,a)===!0||this._editor.getOption(87))return;if(this._config==="auto"){a.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let D;try{this._isPresentingDialog=!0,D=yield this._dialogService.confirm({title:v.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:v.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:v.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,B.EZ)(a.uri)),primaryButton:v.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:v.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!D.confirmed){l(this._codeEditorService,a,!0);return}a.removeUnusualLineTerminators(this._editor.getSelections())})}};g.ID="editor.contrib.unusualLineTerminatorsDetector",g=M([E(1,A.S),E(2,_.$)],g),(0,f._K)(g.ID,g,1)},98749:function(Ot,He,i){"use strict";i.d(He,{G:function(){return D},w:function(){return u}});var m=i(41913),B=i(45007),f=i(36082),_=i(26386),v=i(92537),A=i(58566);const M=(0,v.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},_.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,v.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},_.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,v.P6G)("editor.wordHighlightTextBackground",{light:M,dark:M,hcDark:M,hcLight:M},_.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const E=(0,v.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:v.xL1,hcLight:v.xL1},_.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,v.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:v.xL1,hcLight:v.xL1},_.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,v.P6G)("editor.wordHighlightTextBorder",{light:E,dark:E,hcDark:E,hcLight:E},_.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const R=(0,v.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},_.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),p=(0,v.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},_.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),l=(0,v.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:v.SPM,light:v.SPM,hcDark:v.SPM,hcLight:v.SPM},_.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),d=B.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,A.EN)(p),position:m.sh.Center},minimap:{color:(0,A.EN)(v.IYc),position:m.F5.Inline}}),g=B.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,A.EN)(l),position:m.sh.Center},minimap:{color:(0,A.EN)(v.IYc),position:m.F5.Inline}}),n=B.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,A.EN)(v.SPM),position:m.sh.Center},minimap:{color:(0,A.EN)(v.IYc),position:m.F5.Inline}}),a=B.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),C=B.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,A.EN)(R),position:m.sh.Center},minimap:{color:(0,A.EN)(v.IYc),position:m.F5.Inline}});function D(S){return S===f.MY.Write?d:S===f.MY.Text?g:C}function u(S){return S?a:n}(0,A.Ic)((S,w)=>{const L=S.getColor(v.Rzx);L&&w.addRule(`.monaco-editor .selectionHighlight { background-color: ${L.transparent(.5)}; }`)})},34928:function(Ot,He,i){"use strict";i.r(He),i.d(He,{WordHighlighterContribution:function(){return x},getOccurrencesAtPosition:function(){return u}});var m=i(79874),B=i(16308),f=i(13484),_=i(97464),v=i(20996),A=i(38431),M=i(55298),E=i(50038),R=i(21081),p=i(36082),l=i(26386),d=i(76826),g=i(35921),n=i(98749),a=function(G,z,k,q){var te=arguments.length,X=te<3?z:q===null?q=Object.getOwnPropertyDescriptor(z,k):q,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(G,z,k,q);else for(var J=G.length-1;J>=0;J--)(j=G[J])&&(X=(te<3?j(X):te>3?j(z,k,X):j(z,k))||X);return te>3&&X&&Object.defineProperty(z,k,X),X},C=function(G,z){return function(k,q){z(k,q,G)}};const D=new d.uy("hasWordHighlights",!1);function u(G,z,k,q){const te=G.ordered(z);return(0,f.Ps)(te.map(X=>()=>Promise.resolve(X.provideDocumentHighlights(z,k,q)).then(void 0,v.Cp)),B.Of)}class S{constructor(z,k,q){this._model=z,this._selection=k,this._wordSeparators=q,this._wordRange=this._getCurrentWordRange(z,k),this._result=null}get result(){return this._result||(this._result=(0,f.PG)(z=>this._compute(this._model,this._selection,this._wordSeparators,z))),this._result}_getCurrentWordRange(z,k){const q=z.getWordAtPosition(k.getPosition());return q?new E.e(k.startLineNumber,q.startColumn,k.startLineNumber,q.endColumn):null}isValid(z,k,q){const te=k.startLineNumber,X=k.startColumn,j=k.endColumn,J=this._getCurrentWordRange(z,k);let Y=Boolean(this._wordRange&&this._wordRange.equalsRange(J));for(let ee=0,fe=q.length;!Y&&ee<fe;ee++){const De=q.getRange(ee);De&&De.startLineNumber===te&&De.startColumn<=X&&De.endColumn>=j&&(Y=!0)}return Y}cancel(){this.result.cancel()}}class w extends S{constructor(z,k,q,te){super(z,k,q),this._providers=te}_compute(z,k,q,te){return u(this._providers,z,k.getPosition(),te).then(X=>X||[])}}class L extends S{constructor(z,k,q){super(z,k,q),this._selectionIsEmpty=k.isEmpty()}_compute(z,k,q,te){return(0,f.Vs)(250,te).then(()=>{if(!k.isEmpty())return[];const X=z.getWordAtPosition(k.getPosition());return!X||X.word.length>1e3?[]:z.findMatches(X.word,!0,!1,!0,q,!1).map(J=>({range:J.range,kind:p.MY.Text}))})}isValid(z,k,q){const te=k.isEmpty();return this._selectionIsEmpty!==te?!1:super.isValid(z,k,q)}}function N(G,z,k,q){return G.has(z)?new w(z,k,q,G):new L(z,k,q)}(0,M.sb)("_executeDocumentHighlights",(G,z,k)=>{const q=G.get(g.p);return u(q.documentHighlightProvider,z,k,_.T.None)});class O{constructor(z,k,q){this.toUnhook=new A.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=z,this.providers=k,this._hasWordHighlights=D.bindTo(q),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(78),this.model=this.editor.getModel(),this.toUnhook.add(z.onDidChangeCursorPosition(te=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(te)})),this.toUnhook.add(z.onDidChangeModelContent(te=>{this._stopAll()})),this.toUnhook.add(z.onDidChangeConfiguration(te=>{const X=this.editor.getOption(78);this.occurrencesHighlight!==X&&(this.occurrencesHighlight=X,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(E.e.compareRangesUsingStarts)}moveNext(){const z=this._getSortedHighlights(),q=(z.findIndex(X=>X.containsPosition(this.editor.getPosition()))+1)%z.length,te=z[q];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(te.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(te);const X=this._getWord();if(X){const j=this.editor.getModel().getLineContent(te.startLineNumber);(0,m.Z9)(`${j}, ${q+1} of ${z.length} for '${X.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const z=this._getSortedHighlights(),q=(z.findIndex(X=>X.containsPosition(this.editor.getPosition()))-1+z.length)%z.length,te=z[q];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(te.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(te);const X=this._getWord();if(X){const j=this.editor.getModel().getLineContent(te.startLineNumber);(0,m.Z9)(`${j}, ${q+1} of ${z.length} for '${X.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(z){if(!this.occurrencesHighlight){this._stopAll();return}if(z.reason!==3){this._stopAll();return}this._run()}_getWord(){const z=this.editor.getSelection(),k=z.startLineNumber,q=z.startColumn;return this.model.getWordAtPosition({lineNumber:k,column:q})}_run(){const z=this.editor.getSelection();if(z.startLineNumber!==z.endLineNumber){this._stopAll();return}const k=z.startColumn,q=z.endColumn,te=this._getWord();if(!te||te.startColumn>k||te.endColumn<q){this._stopAll();return}const X=this.workerRequest&&this.workerRequest.isValid(this.model,z,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),X)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const j=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=N(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(125)),this.workerRequest.result.then(J=>{j===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=J||[],this._beginRenderDecorations())},v.dL)}}_beginRenderDecorations(){const z=new Date().getTime(),k=this.lastCursorPositionChangeTime+250;z>=k?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},k-z)}renderDecorations(){this.renderDecorationsTimer=-1;const z=[];for(const k of this.workerRequestValue)k.range&&z.push({range:k.range,options:(0,n.G)(k.kind)});this.decorations.set(z),this._hasWordHighlights.set(this.hasDecorations())}dispose(){this._stopAll(),this.toUnhook.dispose()}}let x=class Hh extends A.JT{static get(z){return z.getContribution(Hh.ID)}constructor(z,k,q){super(),this.wordHighlighter=null;const te=()=>{z.hasModel()&&(this.wordHighlighter=new O(z,q.documentHighlightProvider,k))};this._register(z.onDidChangeModel(X=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),te()})),te()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var z;(z=this.wordHighlighter)===null||z===void 0||z.moveNext()}moveBack(){var z;(z=this.wordHighlighter)===null||z===void 0||z.moveBack()}restoreViewState(z){this.wordHighlighter&&z&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};x.ID="editor.contrib.wordHighlighter",x=a([C(1,d.i6),C(2,g.p)],x);class T extends M.R6{constructor(z,k){super(k),this._isNext=z}run(z,k){const q=x.get(k);q&&(this._isNext?q.moveNext():q.moveBack())}}class W extends T{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:l.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:D,kbOpts:{kbExpr:R.u.editorTextFocus,primary:65,weight:100}})}}class U extends T{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:l.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:D,kbOpts:{kbExpr:R.u.editorTextFocus,primary:1089,weight:100}})}}class K extends M.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:l.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:D.toNegated(),kbOpts:{kbExpr:R.u.editorTextFocus,primary:0,weight:100}})}run(z,k,q){const te=x.get(k);te&&te.restoreViewState(!0)}}(0,M._K)(x.ID,x,0),(0,M.Qr)(W),(0,M.Qr)(U),(0,M.Qr)(K)},66408:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CursorWordAccessibilityLeft:function(){return T},CursorWordAccessibilityLeftSelect:function(){return W},CursorWordAccessibilityRight:function(){return te},CursorWordAccessibilityRightSelect:function(){return X},CursorWordEndLeft:function(){return w},CursorWordEndLeftSelect:function(){return O},CursorWordEndRight:function(){return K},CursorWordEndRightSelect:function(){return k},CursorWordLeft:function(){return L},CursorWordLeftSelect:function(){return x},CursorWordRight:function(){return G},CursorWordRightSelect:function(){return q},CursorWordStartLeft:function(){return S},CursorWordStartLeftSelect:function(){return N},CursorWordStartRight:function(){return U},CursorWordStartRightSelect:function(){return z},DeleteInsideWord:function(){return Le},DeleteWordCommand:function(){return j},DeleteWordEndLeft:function(){return fe},DeleteWordEndRight:function(){return be},DeleteWordLeft:function(){return De},DeleteWordLeftCommand:function(){return J},DeleteWordRight:function(){return xe},DeleteWordRightCommand:function(){return Y},DeleteWordStartLeft:function(){return ee},DeleteWordStartRight:function(){return Ne},MoveWordCommand:function(){return C},WordLeftCommand:function(){return D},WordRightCommand:function(){return u}});var m=i(55298),B=i(38050),f=i(70054),_=i(60854),v=i(61958),A=i(31599),M=i(8964),E=i(50038),R=i(57841),p=i(21081),l=i(64603),d=i(26386),g=i(18708),n=i(76826),a=i(57131);class C extends m._l{constructor(re){super(re),this._inSelectionMode=re.inSelectionMode,this._wordNavigationType=re.wordNavigationType}runEditorCommand(re,_e,Ue){if(!_e.hasModel())return;const Qe=(0,A.u)(_e.getOption(125)),Re=_e.getModel(),Z=_e.getSelections().map(se=>{const ve=new M.L(se.positionLineNumber,se.positionColumn),he=this._move(Qe,Re,ve,this._wordNavigationType);return this._moveTo(se,he,this._inSelectionMode)});if(Re.pushStackElement(),_e._getViewModel().setCursorStates("moveWordCommand",3,Z.map(se=>_.Vi.fromModelSelection(se))),Z.length===1){const se=new M.L(Z[0].positionLineNumber,Z[0].positionColumn);_e.revealPosition(se,0)}}_moveTo(re,_e,Ue){return Ue?new R.Y(re.selectionStartLineNumber,re.selectionStartColumn,_e.lineNumber,_e.column):new R.Y(_e.lineNumber,_e.column,_e.lineNumber,_e.column)}}class D extends C{_move(re,_e,Ue,Qe){return v.w.moveWordLeft(re,_e,Ue,Qe)}}class u extends C{_move(re,_e,Ue,Qe){return v.w.moveWordRight(re,_e,Ue,Qe)}}class S extends D{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class w extends D{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class L extends D{constructor(){var re;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(p.u.textInputFocus,(re=n.Ao.and(g.U,a.cv))===null||re===void 0?void 0:re.negate()),primary:2063,mac:{primary:527},weight:100}})}}class N extends D{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class O extends D{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class x extends D{constructor(){var re;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(p.u.textInputFocus,(re=n.Ao.and(g.U,a.cv))===null||re===void 0?void 0:re.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class T extends D{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(re,_e,Ue,Qe){return super._move((0,A.u)(f.BH.wordSeparators.defaultValue),_e,Ue,Qe)}}class W extends D{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(re,_e,Ue,Qe){return super._move((0,A.u)(f.BH.wordSeparators.defaultValue),_e,Ue,Qe)}}class U extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class K extends u{constructor(){var re;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(p.u.textInputFocus,(re=n.Ao.and(g.U,a.cv))===null||re===void 0?void 0:re.negate()),primary:2065,mac:{primary:529},weight:100}})}}class G extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class z extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class k extends u{constructor(){var re;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(p.u.textInputFocus,(re=n.Ao.and(g.U,a.cv))===null||re===void 0?void 0:re.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class q extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class te extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(re,_e,Ue,Qe){return super._move((0,A.u)(f.BH.wordSeparators.defaultValue),_e,Ue,Qe)}}class X extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(re,_e,Ue,Qe){return super._move((0,A.u)(f.BH.wordSeparators.defaultValue),_e,Ue,Qe)}}class j extends m._l{constructor(re){super(re),this._whitespaceHeuristics=re.whitespaceHeuristics,this._wordNavigationType=re.wordNavigationType}runEditorCommand(re,_e,Ue){const Qe=re.get(l.c_);if(!_e.hasModel())return;const Re=(0,A.u)(_e.getOption(125)),ie=_e.getModel(),Z=_e.getSelections(),se=_e.getOption(5),ve=_e.getOption(9),he=Qe.getLanguageConfiguration(ie.getLanguageId()).getAutoClosingPairs(),ce=_e._getViewModel(),Ee=Z.map(We=>{const it=this._delete({wordSeparators:Re,model:ie,selection:We,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:_e.getOption(7),autoClosingBrackets:se,autoClosingQuotes:ve,autoClosingPairs:he,autoClosedCharacters:ce.getCursorAutoClosedCharacters()},this._wordNavigationType);return new B.T4(it,"")});_e.pushUndoStop(),_e.executeCommands(this.id,Ee),_e.pushUndoStop()}}class J extends j{_delete(re,_e){const Ue=v.w.deleteWordLeft(re,_e);return Ue||new E.e(1,1,1,1)}}class Y extends j{_delete(re,_e){const Ue=v.w.deleteWordRight(re,_e);if(Ue)return Ue;const Qe=re.model.getLineCount(),Re=re.model.getLineMaxColumn(Qe);return new E.e(Qe,Re,Qe,Re)}}class ee extends J{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:p.u.writable})}}class fe extends J{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:p.u.writable})}}class De extends J{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class Ne extends Y{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:p.u.writable})}}class be extends Y{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:p.u.writable})}}class xe extends Y{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class Le extends m.R6{constructor(){super({id:"deleteInsideWord",precondition:p.u.writable,label:d.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(re,_e,Ue){if(!_e.hasModel())return;const Qe=(0,A.u)(_e.getOption(125)),Re=_e.getModel(),Z=_e.getSelections().map(se=>{const ve=v.w.deleteInsideWord(Qe,Re,se);return new B.T4(ve,"")});_e.pushUndoStop(),_e.executeCommands(this.id,Z),_e.pushUndoStop()}}(0,m.fK)(new S),(0,m.fK)(new w),(0,m.fK)(new L),(0,m.fK)(new N),(0,m.fK)(new O),(0,m.fK)(new x),(0,m.fK)(new U),(0,m.fK)(new K),(0,m.fK)(new G),(0,m.fK)(new z),(0,m.fK)(new k),(0,m.fK)(new q),(0,m.fK)(new T),(0,m.fK)(new W),(0,m.fK)(new te),(0,m.fK)(new X),(0,m.fK)(new ee),(0,m.fK)(new fe),(0,m.fK)(new De),(0,m.fK)(new Ne),(0,m.fK)(new be),(0,m.fK)(new xe),(0,m.Qr)(Le)},61180:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CursorWordPartLeft:function(){return p},CursorWordPartLeftSelect:function(){return l},CursorWordPartRight:function(){return g},CursorWordPartRightSelect:function(){return n},DeleteWordPartLeft:function(){return M},DeleteWordPartRight:function(){return E},WordPartLeftCommand:function(){return R},WordPartRightCommand:function(){return d}});var m=i(55298),B=i(61958),f=i(50038),_=i(21081),v=i(66408),A=i(80793);class M extends v.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(C,D){const u=B.L.deleteWordPartLeft(C);return u||new f.e(1,1,1,1)}}class E extends v.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(C,D){const u=B.L.deleteWordPartRight(C);if(u)return u;const S=C.model.getLineCount(),w=C.model.getLineMaxColumn(S);return new f.e(S,w,S,w)}}class R extends v.MoveWordCommand{_move(C,D,u,S){return B.L.moveWordPartLeft(C,D,u)}}class p extends R{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}A.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class l extends R{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}A.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class d extends v.MoveWordCommand{_move(C,D,u,S){return B.L.moveWordPartRight(C,D,u)}}class g extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class n extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:_.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,m.fK)(new M),(0,m.fK)(new E),(0,m.fK)(new p),(0,m.fK)(new l),(0,m.fK)(new g),(0,m.fK)(new n)},29779:function(Ot,He,i){"use strict";i.r(He),i.d(He,{CancellationTokenSource:function(){return Jg},Emitter:function(){return qg},KeyCode:function(){return em},KeyMod:function(){return tm},MarkerSeverity:function(){return rm},MarkerTag:function(){return am},Position:function(){return im},Range:function(){return nm},Selection:function(){return sm},SelectionDirection:function(){return om},Token:function(){return cm},Uri:function(){return lm},editor:function(){return dm},languages:function(){return um}});var m=i(70054),B=i(97464),f=i(56709),_=i(94880),v=i(28919),A=i(8964),M=i(50038),E=i(57841),R=i(36082),p;(function(y){y[y.Unknown=0]="Unknown",y[y.Disabled=1]="Disabled",y[y.Enabled=2]="Enabled"})(p||(p={}));var l;(function(y){y[y.Invoke=1]="Invoke",y[y.Auto=2]="Auto"})(l||(l={}));var d;(function(y){y[y.None=0]="None",y[y.KeepWhitespace=1]="KeepWhitespace",y[y.InsertAsSnippet=4]="InsertAsSnippet"})(d||(d={}));var g;(function(y){y[y.Method=0]="Method",y[y.Function=1]="Function",y[y.Constructor=2]="Constructor",y[y.Field=3]="Field",y[y.Variable=4]="Variable",y[y.Class=5]="Class",y[y.Struct=6]="Struct",y[y.Interface=7]="Interface",y[y.Module=8]="Module",y[y.Property=9]="Property",y[y.Event=10]="Event",y[y.Operator=11]="Operator",y[y.Unit=12]="Unit",y[y.Value=13]="Value",y[y.Constant=14]="Constant",y[y.Enum=15]="Enum",y[y.EnumMember=16]="EnumMember",y[y.Keyword=17]="Keyword",y[y.Text=18]="Text",y[y.Color=19]="Color",y[y.File=20]="File",y[y.Reference=21]="Reference",y[y.Customcolor=22]="Customcolor",y[y.Folder=23]="Folder",y[y.TypeParameter=24]="TypeParameter",y[y.User=25]="User",y[y.Issue=26]="Issue",y[y.Snippet=27]="Snippet"})(g||(g={}));var n;(function(y){y[y.Deprecated=1]="Deprecated"})(n||(n={}));var a;(function(y){y[y.Invoke=0]="Invoke",y[y.TriggerCharacter=1]="TriggerCharacter",y[y.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(a||(a={}));var C;(function(y){y[y.EXACT=0]="EXACT",y[y.ABOVE=1]="ABOVE",y[y.BELOW=2]="BELOW"})(C||(C={}));var D;(function(y){y[y.NotSet=0]="NotSet",y[y.ContentFlush=1]="ContentFlush",y[y.RecoverFromMarkers=2]="RecoverFromMarkers",y[y.Explicit=3]="Explicit",y[y.Paste=4]="Paste",y[y.Undo=5]="Undo",y[y.Redo=6]="Redo"})(D||(D={}));var u;(function(y){y[y.LF=1]="LF",y[y.CRLF=2]="CRLF"})(u||(u={}));var S;(function(y){y[y.Text=0]="Text",y[y.Read=1]="Read",y[y.Write=2]="Write"})(S||(S={}));var w;(function(y){y[y.None=0]="None",y[y.Keep=1]="Keep",y[y.Brackets=2]="Brackets",y[y.Advanced=3]="Advanced",y[y.Full=4]="Full"})(w||(w={}));var L;(function(y){y[y.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",y[y.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",y[y.accessibilitySupport=2]="accessibilitySupport",y[y.accessibilityPageSize=3]="accessibilityPageSize",y[y.ariaLabel=4]="ariaLabel",y[y.autoClosingBrackets=5]="autoClosingBrackets",y[y.screenReaderAnnounceInlineSuggestion=6]="screenReaderAnnounceInlineSuggestion",y[y.autoClosingDelete=7]="autoClosingDelete",y[y.autoClosingOvertype=8]="autoClosingOvertype",y[y.autoClosingQuotes=9]="autoClosingQuotes",y[y.autoIndent=10]="autoIndent",y[y.automaticLayout=11]="automaticLayout",y[y.autoSurround=12]="autoSurround",y[y.bracketPairColorization=13]="bracketPairColorization",y[y.guides=14]="guides",y[y.codeLens=15]="codeLens",y[y.codeLensFontFamily=16]="codeLensFontFamily",y[y.codeLensFontSize=17]="codeLensFontSize",y[y.colorDecorators=18]="colorDecorators",y[y.colorDecoratorsLimit=19]="colorDecoratorsLimit",y[y.columnSelection=20]="columnSelection",y[y.comments=21]="comments",y[y.contextmenu=22]="contextmenu",y[y.copyWithSyntaxHighlighting=23]="copyWithSyntaxHighlighting",y[y.cursorBlinking=24]="cursorBlinking",y[y.cursorSmoothCaretAnimation=25]="cursorSmoothCaretAnimation",y[y.cursorStyle=26]="cursorStyle",y[y.cursorSurroundingLines=27]="cursorSurroundingLines",y[y.cursorSurroundingLinesStyle=28]="cursorSurroundingLinesStyle",y[y.cursorWidth=29]="cursorWidth",y[y.disableLayerHinting=30]="disableLayerHinting",y[y.disableMonospaceOptimizations=31]="disableMonospaceOptimizations",y[y.domReadOnly=32]="domReadOnly",y[y.dragAndDrop=33]="dragAndDrop",y[y.dropIntoEditor=34]="dropIntoEditor",y[y.emptySelectionClipboard=35]="emptySelectionClipboard",y[y.experimentalWhitespaceRendering=36]="experimentalWhitespaceRendering",y[y.extraEditorClassName=37]="extraEditorClassName",y[y.fastScrollSensitivity=38]="fastScrollSensitivity",y[y.find=39]="find",y[y.fixedOverflowWidgets=40]="fixedOverflowWidgets",y[y.folding=41]="folding",y[y.foldingStrategy=42]="foldingStrategy",y[y.foldingHighlight=43]="foldingHighlight",y[y.foldingImportsByDefault=44]="foldingImportsByDefault",y[y.foldingMaximumRegions=45]="foldingMaximumRegions",y[y.unfoldOnClickAfterEndOfLine=46]="unfoldOnClickAfterEndOfLine",y[y.fontFamily=47]="fontFamily",y[y.fontInfo=48]="fontInfo",y[y.fontLigatures=49]="fontLigatures",y[y.fontSize=50]="fontSize",y[y.fontWeight=51]="fontWeight",y[y.fontVariations=52]="fontVariations",y[y.formatOnPaste=53]="formatOnPaste",y[y.formatOnType=54]="formatOnType",y[y.glyphMargin=55]="glyphMargin",y[y.gotoLocation=56]="gotoLocation",y[y.hideCursorInOverviewRuler=57]="hideCursorInOverviewRuler",y[y.hover=58]="hover",y[y.inDiffEditor=59]="inDiffEditor",y[y.inlineSuggest=60]="inlineSuggest",y[y.letterSpacing=61]="letterSpacing",y[y.lightbulb=62]="lightbulb",y[y.lineDecorationsWidth=63]="lineDecorationsWidth",y[y.lineHeight=64]="lineHeight",y[y.lineNumbers=65]="lineNumbers",y[y.lineNumbersMinChars=66]="lineNumbersMinChars",y[y.linkedEditing=67]="linkedEditing",y[y.links=68]="links",y[y.matchBrackets=69]="matchBrackets",y[y.minimap=70]="minimap",y[y.mouseStyle=71]="mouseStyle",y[y.mouseWheelScrollSensitivity=72]="mouseWheelScrollSensitivity",y[y.mouseWheelZoom=73]="mouseWheelZoom",y[y.multiCursorMergeOverlapping=74]="multiCursorMergeOverlapping",y[y.multiCursorModifier=75]="multiCursorModifier",y[y.multiCursorPaste=76]="multiCursorPaste",y[y.multiCursorLimit=77]="multiCursorLimit",y[y.occurrencesHighlight=78]="occurrencesHighlight",y[y.overviewRulerBorder=79]="overviewRulerBorder",y[y.overviewRulerLanes=80]="overviewRulerLanes",y[y.padding=81]="padding",y[y.parameterHints=82]="parameterHints",y[y.peekWidgetDefaultFocus=83]="peekWidgetDefaultFocus",y[y.definitionLinkOpensInPeek=84]="definitionLinkOpensInPeek",y[y.quickSuggestions=85]="quickSuggestions",y[y.quickSuggestionsDelay=86]="quickSuggestionsDelay",y[y.readOnly=87]="readOnly",y[y.renameOnType=88]="renameOnType",y[y.renderControlCharacters=89]="renderControlCharacters",y[y.renderFinalNewline=90]="renderFinalNewline",y[y.renderLineHighlight=91]="renderLineHighlight",y[y.renderLineHighlightOnlyWhenFocus=92]="renderLineHighlightOnlyWhenFocus",y[y.renderValidationDecorations=93]="renderValidationDecorations",y[y.renderWhitespace=94]="renderWhitespace",y[y.revealHorizontalRightPadding=95]="revealHorizontalRightPadding",y[y.roundedSelection=96]="roundedSelection",y[y.rulers=97]="rulers",y[y.scrollbar=98]="scrollbar",y[y.scrollBeyondLastColumn=99]="scrollBeyondLastColumn",y[y.scrollBeyondLastLine=100]="scrollBeyondLastLine",y[y.scrollPredominantAxis=101]="scrollPredominantAxis",y[y.selectionClipboard=102]="selectionClipboard",y[y.selectionHighlight=103]="selectionHighlight",y[y.selectOnLineNumbers=104]="selectOnLineNumbers",y[y.showFoldingControls=105]="showFoldingControls",y[y.showUnused=106]="showUnused",y[y.snippetSuggestions=107]="snippetSuggestions",y[y.smartSelect=108]="smartSelect",y[y.smoothScrolling=109]="smoothScrolling",y[y.stickyScroll=110]="stickyScroll",y[y.stickyTabStops=111]="stickyTabStops",y[y.stopRenderingLineAfter=112]="stopRenderingLineAfter",y[y.suggest=113]="suggest",y[y.suggestFontSize=114]="suggestFontSize",y[y.suggestLineHeight=115]="suggestLineHeight",y[y.suggestOnTriggerCharacters=116]="suggestOnTriggerCharacters",y[y.suggestSelection=117]="suggestSelection",y[y.tabCompletion=118]="tabCompletion",y[y.tabIndex=119]="tabIndex",y[y.unicodeHighlighting=120]="unicodeHighlighting",y[y.unusualLineTerminators=121]="unusualLineTerminators",y[y.useShadowDOM=122]="useShadowDOM",y[y.useTabStops=123]="useTabStops",y[y.wordBreak=124]="wordBreak",y[y.wordSeparators=125]="wordSeparators",y[y.wordWrap=126]="wordWrap",y[y.wordWrapBreakAfterCharacters=127]="wordWrapBreakAfterCharacters",y[y.wordWrapBreakBeforeCharacters=128]="wordWrapBreakBeforeCharacters",y[y.wordWrapColumn=129]="wordWrapColumn",y[y.wordWrapOverride1=130]="wordWrapOverride1",y[y.wordWrapOverride2=131]="wordWrapOverride2",y[y.wrappingIndent=132]="wrappingIndent",y[y.wrappingStrategy=133]="wrappingStrategy",y[y.showDeprecated=134]="showDeprecated",y[y.inlayHints=135]="inlayHints",y[y.editorClassName=136]="editorClassName",y[y.pixelRatio=137]="pixelRatio",y[y.tabFocusMode=138]="tabFocusMode",y[y.layoutInfo=139]="layoutInfo",y[y.wrappingInfo=140]="wrappingInfo"})(L||(L={}));var N;(function(y){y[y.TextDefined=0]="TextDefined",y[y.LF=1]="LF",y[y.CRLF=2]="CRLF"})(N||(N={}));var O;(function(y){y[y.LF=0]="LF",y[y.CRLF=1]="CRLF"})(O||(O={}));var x;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(x||(x={}));var T;(function(y){y[y.Both=0]="Both",y[y.Right=1]="Right",y[y.Left=2]="Left",y[y.None=3]="None"})(T||(T={}));var W;(function(y){y[y.Type=1]="Type",y[y.Parameter=2]="Parameter"})(W||(W={}));var U;(function(y){y[y.Automatic=0]="Automatic",y[y.Explicit=1]="Explicit"})(U||(U={}));var K;(function(y){y[y.DependsOnKbLayout=-1]="DependsOnKbLayout",y[y.Unknown=0]="Unknown",y[y.Backspace=1]="Backspace",y[y.Tab=2]="Tab",y[y.Enter=3]="Enter",y[y.Shift=4]="Shift",y[y.Ctrl=5]="Ctrl",y[y.Alt=6]="Alt",y[y.PauseBreak=7]="PauseBreak",y[y.CapsLock=8]="CapsLock",y[y.Escape=9]="Escape",y[y.Space=10]="Space",y[y.PageUp=11]="PageUp",y[y.PageDown=12]="PageDown",y[y.End=13]="End",y[y.Home=14]="Home",y[y.LeftArrow=15]="LeftArrow",y[y.UpArrow=16]="UpArrow",y[y.RightArrow=17]="RightArrow",y[y.DownArrow=18]="DownArrow",y[y.Insert=19]="Insert",y[y.Delete=20]="Delete",y[y.Digit0=21]="Digit0",y[y.Digit1=22]="Digit1",y[y.Digit2=23]="Digit2",y[y.Digit3=24]="Digit3",y[y.Digit4=25]="Digit4",y[y.Digit5=26]="Digit5",y[y.Digit6=27]="Digit6",y[y.Digit7=28]="Digit7",y[y.Digit8=29]="Digit8",y[y.Digit9=30]="Digit9",y[y.KeyA=31]="KeyA",y[y.KeyB=32]="KeyB",y[y.KeyC=33]="KeyC",y[y.KeyD=34]="KeyD",y[y.KeyE=35]="KeyE",y[y.KeyF=36]="KeyF",y[y.KeyG=37]="KeyG",y[y.KeyH=38]="KeyH",y[y.KeyI=39]="KeyI",y[y.KeyJ=40]="KeyJ",y[y.KeyK=41]="KeyK",y[y.KeyL=42]="KeyL",y[y.KeyM=43]="KeyM",y[y.KeyN=44]="KeyN",y[y.KeyO=45]="KeyO",y[y.KeyP=46]="KeyP",y[y.KeyQ=47]="KeyQ",y[y.KeyR=48]="KeyR",y[y.KeyS=49]="KeyS",y[y.KeyT=50]="KeyT",y[y.KeyU=51]="KeyU",y[y.KeyV=52]="KeyV",y[y.KeyW=53]="KeyW",y[y.KeyX=54]="KeyX",y[y.KeyY=55]="KeyY",y[y.KeyZ=56]="KeyZ",y[y.Meta=57]="Meta",y[y.ContextMenu=58]="ContextMenu",y[y.F1=59]="F1",y[y.F2=60]="F2",y[y.F3=61]="F3",y[y.F4=62]="F4",y[y.F5=63]="F5",y[y.F6=64]="F6",y[y.F7=65]="F7",y[y.F8=66]="F8",y[y.F9=67]="F9",y[y.F10=68]="F10",y[y.F11=69]="F11",y[y.F12=70]="F12",y[y.F13=71]="F13",y[y.F14=72]="F14",y[y.F15=73]="F15",y[y.F16=74]="F16",y[y.F17=75]="F17",y[y.F18=76]="F18",y[y.F19=77]="F19",y[y.NumLock=78]="NumLock",y[y.ScrollLock=79]="ScrollLock",y[y.Semicolon=80]="Semicolon",y[y.Equal=81]="Equal",y[y.Comma=82]="Comma",y[y.Minus=83]="Minus",y[y.Period=84]="Period",y[y.Slash=85]="Slash",y[y.Backquote=86]="Backquote",y[y.BracketLeft=87]="BracketLeft",y[y.Backslash=88]="Backslash",y[y.BracketRight=89]="BracketRight",y[y.Quote=90]="Quote",y[y.OEM_8=91]="OEM_8",y[y.IntlBackslash=92]="IntlBackslash",y[y.Numpad0=93]="Numpad0",y[y.Numpad1=94]="Numpad1",y[y.Numpad2=95]="Numpad2",y[y.Numpad3=96]="Numpad3",y[y.Numpad4=97]="Numpad4",y[y.Numpad5=98]="Numpad5",y[y.Numpad6=99]="Numpad6",y[y.Numpad7=100]="Numpad7",y[y.Numpad8=101]="Numpad8",y[y.Numpad9=102]="Numpad9",y[y.NumpadMultiply=103]="NumpadMultiply",y[y.NumpadAdd=104]="NumpadAdd",y[y.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",y[y.NumpadSubtract=106]="NumpadSubtract",y[y.NumpadDecimal=107]="NumpadDecimal",y[y.NumpadDivide=108]="NumpadDivide",y[y.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",y[y.ABNT_C1=110]="ABNT_C1",y[y.ABNT_C2=111]="ABNT_C2",y[y.AudioVolumeMute=112]="AudioVolumeMute",y[y.AudioVolumeUp=113]="AudioVolumeUp",y[y.AudioVolumeDown=114]="AudioVolumeDown",y[y.BrowserSearch=115]="BrowserSearch",y[y.BrowserHome=116]="BrowserHome",y[y.BrowserBack=117]="BrowserBack",y[y.BrowserForward=118]="BrowserForward",y[y.MediaTrackNext=119]="MediaTrackNext",y[y.MediaTrackPrevious=120]="MediaTrackPrevious",y[y.MediaStop=121]="MediaStop",y[y.MediaPlayPause=122]="MediaPlayPause",y[y.LaunchMediaPlayer=123]="LaunchMediaPlayer",y[y.LaunchMail=124]="LaunchMail",y[y.LaunchApp2=125]="LaunchApp2",y[y.Clear=126]="Clear",y[y.MAX_VALUE=127]="MAX_VALUE"})(K||(K={}));var G;(function(y){y[y.Hint=1]="Hint",y[y.Info=2]="Info",y[y.Warning=4]="Warning",y[y.Error=8]="Error"})(G||(G={}));var z;(function(y){y[y.Unnecessary=1]="Unnecessary",y[y.Deprecated=2]="Deprecated"})(z||(z={}));var k;(function(y){y[y.Inline=1]="Inline",y[y.Gutter=2]="Gutter"})(k||(k={}));var q;(function(y){y[y.UNKNOWN=0]="UNKNOWN",y[y.TEXTAREA=1]="TEXTAREA",y[y.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",y[y.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",y[y.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",y[y.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",y[y.CONTENT_TEXT=6]="CONTENT_TEXT",y[y.CONTENT_EMPTY=7]="CONTENT_EMPTY",y[y.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",y[y.CONTENT_WIDGET=9]="CONTENT_WIDGET",y[y.OVERVIEW_RULER=10]="OVERVIEW_RULER",y[y.SCROLLBAR=11]="SCROLLBAR",y[y.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",y[y.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(q||(q={}));var te;(function(y){y[y.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",y[y.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",y[y.TOP_CENTER=2]="TOP_CENTER"})(te||(te={}));var X;(function(y){y[y.Left=1]="Left",y[y.Center=2]="Center",y[y.Right=4]="Right",y[y.Full=7]="Full"})(X||(X={}));var j;(function(y){y[y.Left=0]="Left",y[y.Right=1]="Right",y[y.None=2]="None",y[y.LeftOfInjectedText=3]="LeftOfInjectedText",y[y.RightOfInjectedText=4]="RightOfInjectedText"})(j||(j={}));var J;(function(y){y[y.Off=0]="Off",y[y.On=1]="On",y[y.Relative=2]="Relative",y[y.Interval=3]="Interval",y[y.Custom=4]="Custom"})(J||(J={}));var Y;(function(y){y[y.None=0]="None",y[y.Text=1]="Text",y[y.Blocks=2]="Blocks"})(Y||(Y={}));var ee;(function(y){y[y.Smooth=0]="Smooth",y[y.Immediate=1]="Immediate"})(ee||(ee={}));var fe;(function(y){y[y.Auto=1]="Auto",y[y.Hidden=2]="Hidden",y[y.Visible=3]="Visible"})(fe||(fe={}));var De;(function(y){y[y.LTR=0]="LTR",y[y.RTL=1]="RTL"})(De||(De={}));var Ne;(function(y){y[y.Invoke=1]="Invoke",y[y.TriggerCharacter=2]="TriggerCharacter",y[y.ContentChange=3]="ContentChange"})(Ne||(Ne={}));var be;(function(y){y[y.File=0]="File",y[y.Module=1]="Module",y[y.Namespace=2]="Namespace",y[y.Package=3]="Package",y[y.Class=4]="Class",y[y.Method=5]="Method",y[y.Property=6]="Property",y[y.Field=7]="Field",y[y.Constructor=8]="Constructor",y[y.Enum=9]="Enum",y[y.Interface=10]="Interface",y[y.Function=11]="Function",y[y.Variable=12]="Variable",y[y.Constant=13]="Constant",y[y.String=14]="String",y[y.Number=15]="Number",y[y.Boolean=16]="Boolean",y[y.Array=17]="Array",y[y.Object=18]="Object",y[y.Key=19]="Key",y[y.Null=20]="Null",y[y.EnumMember=21]="EnumMember",y[y.Struct=22]="Struct",y[y.Event=23]="Event",y[y.Operator=24]="Operator",y[y.TypeParameter=25]="TypeParameter"})(be||(be={}));var xe;(function(y){y[y.Deprecated=1]="Deprecated"})(xe||(xe={}));var Le;(function(y){y[y.Hidden=0]="Hidden",y[y.Blink=1]="Blink",y[y.Smooth=2]="Smooth",y[y.Phase=3]="Phase",y[y.Expand=4]="Expand",y[y.Solid=5]="Solid"})(Le||(Le={}));var ue;(function(y){y[y.Line=1]="Line",y[y.Block=2]="Block",y[y.Underline=3]="Underline",y[y.LineThin=4]="LineThin",y[y.BlockOutline=5]="BlockOutline",y[y.UnderlineThin=6]="UnderlineThin"})(ue||(ue={}));var re;(function(y){y[y.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",y[y.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",y[y.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",y[y.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(re||(re={}));var _e;(function(y){y[y.None=0]="None",y[y.Same=1]="Same",y[y.Indent=2]="Indent",y[y.DeepIndent=3]="DeepIndent"})(_e||(_e={}));class Ue{static chord(t,s){return(0,_.gx)(t,s)}}Ue.CtrlCmd=2048,Ue.Shift=1024,Ue.Alt=512,Ue.WinCtrl=256;function Qe(){return{editor:void 0,languages:void 0,CancellationTokenSource:B.A,Emitter:f.Q5,KeyCode:K,KeyMod:Ue,Position:A.L,Range:M.e,Selection:E.Y,SelectionDirection:De,MarkerSeverity:G,MarkerTag:z,Uri:v.o,Token:R.WU}}var Re=i(38431),ie=i(17416),Z=i(15125),se=i(5603),ve=i(14527),he=i(23127),ce=i(87655),Ee=i(18708),We=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},it=function(y,t){return function(s,c){t(s,c,y)}};const Ze={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0};let je=class extends Re.JT{constructor(t,s={},c,P,H){super(),this._audioCueService=c,this._codeEditorService=P,this._accessibilityService=H,this._onDidUpdate=this._register(new f.Q5),this._editor=t,this._options=he.jB(s,Ze,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(ne=>{this.ignoreSelectionChange||(this._updateAccessibilityState(ne.position.lineNumber),this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(ne=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(t){this.ranges=[],t&&t.forEach(s=>{!this._options.ignoreCharChanges&&s.charChanges?s.charChanges.forEach(c=>{this.ranges.push({rhs:!0,range:new M.e(c.modifiedStartLineNumber,c.modifiedStartColumn,c.modifiedEndLineNumber,c.modifiedEndColumn)})}):s.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new M.e(s.modifiedStartLineNumber,1,s.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new M.e(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber+1,1)})}),this.ranges.sort((s,c)=>M.e.compareRangesUsingStarts(s.range,c.range)),this._onDidUpdate.fire(this)}_initIdx(t){let s=!1;const c=this._editor.getPosition();if(!c){this.nextIdx=0;return}for(let P=0,H=this.ranges.length;P<H&&!s;P++){const ne=this.ranges[P].range;c.isBeforeOrEqual(ne.getStartPosition())&&(this.nextIdx=P+(t?0:-1),s=!0)}s||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(t,s){if(ve.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const c=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const P=c.range.getStartPosition();this._editor.setPosition(P),this._editor.revealRangeInCenter(c.range,s),this._updateAccessibilityState(P.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}_updateAccessibilityState(t,s){var c;const P=(c=this._editor.getModel())===null||c===void 0?void 0:c.modified;if(!P)return;const H=P.getLineDecorations(t).find(pe=>pe.options.className==="line-insert");if(H)this._audioCueService.playAudioCue(ce.y$.diffLineModified,!0);else if(s)this._audioCueService.playAudioCue(ce.y$.diffLineDeleted,!0);else return;const ne=this._codeEditorService.getActiveCodeEditor();s&&ne&&H&&this._accessibilityService.isScreenReaderOptimized()&&(ne.setSelection({startLineNumber:t,startColumn:0,endLineNumber:t,endColumn:Number.MAX_VALUE}),ne.writeScreenReaderContent("diff-navigation"))}canNavigate(){return this.ranges&&this.ranges.length>0}next(t=0){this.canNavigateNext()&&this._move(!0,t)}previous(t=0){this.canNavigatePrevious()&&this._move(!1,t)}canNavigateNext(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}canNavigatePrevious(){return this.canNavigateLoop()||this.nextIdx!==0}canNavigateLoop(){return Boolean(this._options.findResultLoop)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};je=We([it(2,ce.e7),it(3,se.$),it(4,Ee.F)],je);var Te=i(5921),Ie=i(6390),oe=i(41913),ge=i(64603),Ce=i(93375),me=i(47626),Me=i(65041),qe=i(13484),ot=i(20996),ut=i(11138);const ht="$initialize";let Ct=!1;function Pt(y){ut.$L&&(Ct||(Ct=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(y.message))}class bt{constructor(t,s,c,P){this.vsWorker=t,this.req=s,this.method=c,this.args=P,this.type=0}}class $t{constructor(t,s,c,P){this.vsWorker=t,this.seq=s,this.res=c,this.err=P,this.type=1}}class Mt{constructor(t,s,c,P){this.vsWorker=t,this.req=s,this.eventName=c,this.arg=P,this.type=2}}class Xe{constructor(t,s,c){this.vsWorker=t,this.req=s,this.event=c,this.type=3}}class Lt{constructor(t,s){this.vsWorker=t,this.req=s,this.type=4}}class Xt{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,s){const c=String(++this._lastSentReq);return new Promise((P,H)=>{this._pendingReplies[c]={resolve:P,reject:H},this._send(new bt(this._workerId,c,t,s))})}listen(t,s){let c=null;const P=new f.Q5({onWillAddFirstListener:()=>{c=String(++this._lastSentReq),this._pendingEmitters.set(c,P),this._send(new Mt(this._workerId,c,t,s))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(c),this._send(new Lt(this._workerId,c)),c=null}});return P.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}const s=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let c=t.err;t.err.$isError&&(c=new Error,c.name=t.err.name,c.message=t.err.message,c.stack=t.err.stack),s.reject(c);return}s.resolve(t.res)}_handleRequestMessage(t){const s=t.req;this._handler.handleMessage(t.method,t.args).then(P=>{this._send(new $t(this._workerId,s,P,void 0))},P=>{P.detail instanceof Error&&(P.detail=(0,ot.ri)(P.detail)),this._send(new $t(this._workerId,s,void 0,(0,ot.ri)(P)))})}_handleSubscribeEventMessage(t){const s=t.req,c=this._handler.handleEvent(t.eventName,t.arg)(P=>{this._send(new Xe(this._workerId,s,P))});this._pendingEvents.set(s,c)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){const s=[];if(t.type===0)for(let c=0;c<t.args.length;c++)t.args[c]instanceof ArrayBuffer&&s.push(t.args[c]);else t.type===1&&t.res instanceof ArrayBuffer&&s.push(t.res);this._handler.sendMessage(t,s)}}class zt extends Re.JT{constructor(t,s,c){super();let P=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",Je=>{this._protocol.handleMessage(Je)},Je=>{P==null||P(Je)})),this._protocol=new Xt({sendMessage:(Je,gt)=>{this._worker.postMessage(Je,gt)},handleMessage:(Je,gt)=>{if(typeof c[Je]!="function")return Promise.reject(new Error("Missing method "+Je+" on main thread host."));try{return Promise.resolve(c[Je].apply(c,gt))}catch(jt){return Promise.reject(jt)}},handleEvent:(Je,gt)=>{if(et(Je)){const jt=c[Je].call(c,gt);if(typeof jt!="function")throw new Error(`Missing dynamic event ${Je} on main thread host.`);return jt}if(Fe(Je)){const jt=c[Je];if(typeof jt!="function")throw new Error(`Missing event ${Je} on main thread host.`);return jt}throw new Error(`Malformed event name ${Je}`)}}),this._protocol.setWorkerId(this._worker.getId());let H=null;const ne=globalThis.require;typeof ne!="undefined"&&typeof ne.getConfig=="function"?H=ne.getConfig():typeof globalThis.requirejs!="undefined"&&(H=globalThis.requirejs.s.contexts._.config);const pe=(0,he.$E)(c);this._onModuleLoaded=this._protocol.sendMessage(ht,[this._worker.getId(),JSON.parse(JSON.stringify(H)),s,pe]);const Ve=(Je,gt)=>this._request(Je,gt),$e=(Je,gt)=>this._protocol.listen(Je,gt);this._lazyProxy=new Promise((Je,gt)=>{P=gt,this._onModuleLoaded.then(jt=>{Je(pt(jt,Ve,$e))},jt=>{gt(jt),this._onError("Worker failed to load "+s,jt)})})}getProxyObject(){return this._lazyProxy}_request(t,s){return new Promise((c,P)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(t,s).then(c,P)},P)})}_onError(t,s){console.error(t),console.info(s)}}function Fe(y){return y[0]==="o"&&y[1]==="n"&&ie.df(y.charCodeAt(2))}function et(y){return/^onDynamic/.test(y)&&ie.df(y.charCodeAt(9))}function pt(y,t,s){const c=ne=>function(){const pe=Array.prototype.slice.call(arguments,0);return t(ne,pe)},P=ne=>function(pe){return s(ne,pe)},H={};for(const ne of y){if(et(ne)){H[ne]=P(ne);continue}if(Fe(ne)){H[ne]=s(ne,void 0);continue}H[ne]=c(ne)}return H}class It{constructor(t,s){this._requestHandlerFactory=s,this._requestHandler=null,this._protocol=new Xt({sendMessage:(c,P)=>{t(c,P)},handleMessage:(c,P)=>this._handleMessage(c,P),handleEvent:(c,P)=>this._handleEvent(c,P)})}onmessage(t){this._protocol.handleMessage(t)}_handleMessage(t,s){if(t===ht)return this.initialize(s[0],s[1],s[2],s[3]);if(!this._requestHandler||typeof this._requestHandler[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._requestHandler[t].apply(this._requestHandler,s))}catch(c){return Promise.reject(c)}}_handleEvent(t,s){if(!this._requestHandler)throw new Error("Missing requestHandler");if(et(t)){const c=this._requestHandler[t].call(this._requestHandler,s);if(typeof c!="function")throw new Error(`Missing dynamic event ${t} on request handler.`);return c}if(Fe(t)){const c=this._requestHandler[t];if(typeof c!="function")throw new Error(`Missing event ${t} on request handler.`);return c}throw new Error(`Malformed event name ${t}`)}initialize(t,s,c,P){this._protocol.setWorkerId(t);const pe=pt(P,(Ve,$e)=>this._protocol.sendMessage(Ve,$e),(Ve,$e)=>this._protocol.listen(Ve,$e));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(pe),Promise.resolve(getAllMethodNames(this._requestHandler))):(s&&(typeof s.baseUrl!="undefined"&&delete s.baseUrl,typeof s.paths!="undefined"&&typeof s.paths.vs!="undefined"&&delete s.paths.vs,typeof s.trustedTypesPolicy!==void 0&&delete s.trustedTypesPolicy,s.catchError=!0,globalThis.require.config(s)),new Promise((Ve,$e)=>{const Je=globalThis.require;Je([c],gt=>{if(this._requestHandler=gt.create(pe),!this._requestHandler){$e(new Error("No RequestHandler!"));return}Ve(getAllMethodNames(this._requestHandler))},$e)}))}}function kt(y){return new It(y,null)}var yt;const St=(yt=window.trustedTypes)===null||yt===void 0?void 0:yt.createPolicy("defaultWorkerFactory",{createScriptURL:y=>y});function Gt(y){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",y);if(typeof t.getWorkerUrl=="function"){const s=t.getWorkerUrl("workerMain.js",y);return new Worker(St?St.createScriptURL(s):s,{name:y})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function ti(y){return typeof y.then=="function"}class ri{constructor(t,s,c,P,H){this.id=s;const ne=Gt(c);ti(ne)?this.worker=ne:this.worker=Promise.resolve(ne),this.postMessage(t,[]),this.worker.then(pe=>{pe.onmessage=function(Ve){P(Ve.data)},pe.onmessageerror=H,typeof pe.addEventListener=="function"&&pe.addEventListener("error",H)})}getId(){return this.id}postMessage(t,s){var c;(c=this.worker)===null||c===void 0||c.then(P=>P.postMessage(t,s))}dispose(){var t;(t=this.worker)===null||t===void 0||t.then(s=>s.terminate()),this.worker=null}}class li{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,s,c){const P=++li.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ri(t,P,this._label||"anonymous"+P,s,H=>{Pt(H),this._webWorkerFailedBeforeError=H,c(H)})}}li.LAST_WORKER_ID=0;var gi=i(49927),Pi=i(82808);class Hi{constructor(t,s,c,P){this._uri=t,this._lines=s,this._eol=c,this._versionId=P,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const s=t.changes;for(const c of s)this._acceptDeleteRange(c.range),this._acceptInsertText(new A.L(c.range.startLineNumber,c.range.startColumn),c.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,s=this._lines.length,c=new Uint32Array(s);for(let P=0;P<s;P++)c[P]=this._lines[P].length+t;this._lineStarts=new Pi.oQ(c)}}_setLineText(t,s){this._lines[t]=s,this._lineStarts&&this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,s){if(s.length===0)return;const c=(0,ie.uq)(s);if(c.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+c[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}c[c.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+c[0]);const P=new Uint32Array(c.length-1);for(let H=1;H<c.length;H++)this._lines.splice(t.lineNumber+H-1,0,c[H]),P[H-1]=c[H].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,P)}}var ji=i(52676),bn=i(55224);class Rn{constructor(t,s,c){const P=new Uint8Array(t*s);for(let H=0,ne=t*s;H<ne;H++)P[H]=c;this._data=P,this.rows=t,this.cols=s}get(t,s){return this._data[t*this.cols+s]}set(t,s,c){this._data[t*this.cols+s]=c}}class bs{constructor(t){let s=0,c=0;for(let H=0,ne=t.length;H<ne;H++){const[pe,Ve,$e]=t[H];Ve>s&&(s=Ve),pe>c&&(c=pe),$e>c&&(c=$e)}s++,c++;const P=new Rn(c,s,0);for(let H=0,ne=t.length;H<ne;H++){const[pe,Ve,$e]=t[H];P.set(pe,Ve,$e)}this._states=P,this._maxCharCode=s}nextState(t,s){return s<0||s>=this._maxCharCode?0:this._states.get(t,s)}}let ms=null;function ki(){return ms===null&&(ms=new bs([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ms}let Vi=null;function Ki(){if(Vi===null){Vi=new bn.N(0);const y=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let s=0;s<y.length;s++)Vi.set(y.charCodeAt(s),1);const t=".,;:";for(let s=0;s<t.length;s++)Vi.set(t.charCodeAt(s),2)}return Vi}class es{static _createLink(t,s,c,P,H){let ne=H-1;do{const pe=s.charCodeAt(ne);if(t.get(pe)!==2)break;ne--}while(ne>P);if(P>0){const pe=s.charCodeAt(P-1),Ve=s.charCodeAt(ne);(pe===40&&Ve===41||pe===91&&Ve===93||pe===123&&Ve===125)&&ne--}return{range:{startLineNumber:c,startColumn:P+1,endLineNumber:c,endColumn:ne+2},url:s.substring(P,ne+1)}}static computeLinks(t,s=ki()){const c=Ki(),P=[];for(let H=1,ne=t.getLineCount();H<=ne;H++){const pe=t.getLineContent(H),Ve=pe.length;let $e=0,Je=0,gt=0,jt=1,qt=!1,_i=!1,Li=!1,Gi=!1;for(;$e<Ve;){let un=!1;const mn=pe.charCodeAt($e);if(jt===13){let dn;switch(mn){case 40:qt=!0,dn=0;break;case 41:dn=qt?0:1;break;case 91:Li=!0,_i=!0,dn=0;break;case 93:Li=!1,dn=_i?0:1;break;case 123:Gi=!0,dn=0;break;case 125:dn=Gi?0:1;break;case 39:case 34:case 96:gt===mn?dn=1:gt===39||gt===34||gt===96?dn=0:dn=1;break;case 42:dn=gt===42?1:0;break;case 124:dn=gt===124?1:0;break;case 32:dn=Li?0:1;break;default:dn=c.get(mn)}dn===1&&(P.push(es._createLink(c,pe,H,Je,$e)),un=!0)}else if(jt===12){let dn;mn===91?(_i=!0,dn=0):dn=c.get(mn),dn===1?un=!0:jt=13}else jt=s.nextState(jt,mn),jt===0&&(un=!0);un&&(jt=1,qt=!1,_i=!1,Gi=!1,Je=$e+1,gt=mn),$e++}jt===13&&P.push(es._createLink(c,pe,H,Je,Ve))}return P}}function Ls(y){return!y||typeof y.getLineCount!="function"||typeof y.getLineContent!="function"?[]:es.computeLinks(y)}class ts{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,s,c,P,H){if(t&&s){const ne=this.doNavigateValueSet(s,H);if(ne)return{range:t,value:ne}}if(c&&P){const ne=this.doNavigateValueSet(P,H);if(ne)return{range:c,value:ne}}return null}doNavigateValueSet(t,s){const c=this.numberReplace(t,s);return c!==null?c:this.textReplace(t,s)}numberReplace(t,s){const c=Math.pow(10,t.length-(t.lastIndexOf(".")+1));let P=Number(t);const H=parseFloat(t);return!isNaN(P)&&!isNaN(H)&&P===H?P===0&&!s?null:(P=Math.floor(P*c),P+=s?c:-c,String(P/c)):null}textReplace(t,s){return this.valueSetsReplace(this._defaultValueSet,t,s)}valueSetsReplace(t,s,c){let P=null;for(let H=0,ne=t.length;P===null&&H<ne;H++)P=this.valueSetReplace(t[H],s,c);return P}valueSetReplace(t,s,c){let P=t.indexOf(s);return P>=0?(P+=c?1:-1,P<0?P=t.length-1:P%=t.length,t[P]):null}}ts.INSTANCE=new ts;var Kn=i(69344),Wn=i(83969);class yn{constructor(t,s){this.changes=t,this.hitTimeout=s}}class en{constructor(t,s,c){this.originalRange=t,this.modifiedRange=s,this.innerChanges=c}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}class Ms{constructor(t,s){this.originalRange=t,this.modifiedRange=s}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}}var Ss=i(4407);const ps=3;class oo{computeDiff(t,s,c){var P;const ne=new ui(t,s,{maxComputationTime:c.maxComputationTimeMs,shouldIgnoreTrimWhitespace:c.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),pe=[];let Ve=null;for(const $e of ne.changes){let Je;$e.originalEndLineNumber===0?Je=new Ss.z($e.originalStartLineNumber+1,$e.originalStartLineNumber+1):Je=new Ss.z($e.originalStartLineNumber,$e.originalEndLineNumber+1);let gt;$e.modifiedEndLineNumber===0?gt=new Ss.z($e.modifiedStartLineNumber+1,$e.modifiedStartLineNumber+1):gt=new Ss.z($e.modifiedStartLineNumber,$e.modifiedEndLineNumber+1);let jt=new en(Je,gt,(P=$e.charChanges)===null||P===void 0?void 0:P.map(qt=>new Ms(new M.e(qt.originalStartLineNumber,qt.originalStartColumn,qt.originalEndLineNumber,qt.originalEndColumn),new M.e(qt.modifiedStartLineNumber,qt.modifiedStartColumn,qt.modifiedEndLineNumber,qt.modifiedEndColumn))));Ve&&(Ve.modifiedRange.endLineNumberExclusive===jt.modifiedRange.startLineNumber||Ve.originalRange.endLineNumberExclusive===jt.originalRange.startLineNumber)&&(jt=new en(Ve.originalRange.join(jt.originalRange),Ve.modifiedRange.join(jt.modifiedRange),Ve.innerChanges&&jt.innerChanges?Ve.innerChanges.concat(jt.innerChanges):void 0),pe.pop()),pe.push(jt),Ve=jt}return(0,ve.eZ)(()=>(0,ve.DM)(pe,($e,Je)=>Je.originalRange.startLineNumber-$e.originalRange.endLineNumberExclusive===Je.modifiedRange.startLineNumber-$e.modifiedRange.endLineNumberExclusive&&$e.originalRange.endLineNumberExclusive<Je.originalRange.startLineNumber&&$e.modifiedRange.endLineNumberExclusive<Je.modifiedRange.startLineNumber)),new yn(pe,ne.quitEarly)}}function hs(y,t,s,c){return new gi.Hs(y,t,s).ComputeDiff(c)}class Ts{constructor(t){const s=[],c=[];for(let P=0,H=t.length;P<H;P++)s[P]=wt(t[P],1),c[P]=mt(t[P],1);this.lines=t,this._startColumns=s,this._endColumns=c}getElements(){const t=[];for(let s=0,c=this.lines.length;s<c;s++)t[s]=this.lines[s].substring(this._startColumns[s]-1,this._endColumns[s]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,s,c){const P=[],H=[],ne=[];let pe=0;for(let Ve=s;Ve<=c;Ve++){const $e=this.lines[Ve],Je=t?this._startColumns[Ve]:1,gt=t?this._endColumns[Ve]:$e.length+1;for(let jt=Je;jt<gt;jt++)P[pe]=$e.charCodeAt(jt-1),H[pe]=Ve+1,ne[pe]=jt,pe++;!t&&Ve<c&&(P[pe]=10,H[pe]=Ve+1,ne[pe]=$e.length+1,pe++)}return new In(P,H,ne)}}class In{constructor(t,s,c){this._charCodes=t,this._lineNumbers=s,this._columns=c}toString(){return"["+this._charCodes.map((t,s)=>(t===10?"\\n":String.fromCharCode(t))+`-(${this._lineNumbers[s]},${this._columns[s]})`).join(", ")+"]"}_assertIndex(t,s){if(t<0||t>=s.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(t){return t>0&&t===this._lineNumbers.length?this.getEndLineNumber(t-1):(this._assertIndex(t,this._lineNumbers),this._lineNumbers[t])}getEndLineNumber(t){return t===-1?this.getStartLineNumber(t+1):(this._assertIndex(t,this._lineNumbers),this._charCodes[t]===10?this._lineNumbers[t]+1:this._lineNumbers[t])}getStartColumn(t){return t>0&&t===this._columns.length?this.getEndColumn(t-1):(this._assertIndex(t,this._columns),this._columns[t])}getEndColumn(t){return t===-1?this.getStartColumn(t+1):(this._assertIndex(t,this._columns),this._charCodes[t]===10?1:this._columns[t]+1)}}class Yn{constructor(t,s,c,P,H,ne,pe,Ve){this.originalStartLineNumber=t,this.originalStartColumn=s,this.originalEndLineNumber=c,this.originalEndColumn=P,this.modifiedStartLineNumber=H,this.modifiedStartColumn=ne,this.modifiedEndLineNumber=pe,this.modifiedEndColumn=Ve}static createFromDiffChange(t,s,c){const P=s.getStartLineNumber(t.originalStart),H=s.getStartColumn(t.originalStart),ne=s.getEndLineNumber(t.originalStart+t.originalLength-1),pe=s.getEndColumn(t.originalStart+t.originalLength-1),Ve=c.getStartLineNumber(t.modifiedStart),$e=c.getStartColumn(t.modifiedStart),Je=c.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),gt=c.getEndColumn(t.modifiedStart+t.modifiedLength-1);return new Yn(P,H,ne,pe,Ve,$e,Je,gt)}}function pi(y){if(y.length<=1)return y;const t=[y[0]];let s=t[0];for(let c=1,P=y.length;c<P;c++){const H=y[c],ne=H.originalStart-(s.originalStart+s.originalLength),pe=H.modifiedStart-(s.modifiedStart+s.modifiedLength);Math.min(ne,pe)<ps?(s.originalLength=H.originalStart+H.originalLength-s.originalStart,s.modifiedLength=H.modifiedStart+H.modifiedLength-s.modifiedStart):(t.push(H),s=H)}return t}class ci{constructor(t,s,c,P,H){this.originalStartLineNumber=t,this.originalEndLineNumber=s,this.modifiedStartLineNumber=c,this.modifiedEndLineNumber=P,this.charChanges=H}static createFromDiffResult(t,s,c,P,H,ne,pe){let Ve,$e,Je,gt,jt;if(s.originalLength===0?(Ve=c.getStartLineNumber(s.originalStart)-1,$e=0):(Ve=c.getStartLineNumber(s.originalStart),$e=c.getEndLineNumber(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(Je=P.getStartLineNumber(s.modifiedStart)-1,gt=0):(Je=P.getStartLineNumber(s.modifiedStart),gt=P.getEndLineNumber(s.modifiedStart+s.modifiedLength-1)),ne&&s.originalLength>0&&s.originalLength<20&&s.modifiedLength>0&&s.modifiedLength<20&&H()){const qt=c.createCharSequence(t,s.originalStart,s.originalStart+s.originalLength-1),_i=P.createCharSequence(t,s.modifiedStart,s.modifiedStart+s.modifiedLength-1);if(qt.getElements().length>0&&_i.getElements().length>0){let Li=hs(qt,_i,H,!0).changes;pe&&(Li=pi(Li)),jt=[];for(let Gi=0,un=Li.length;Gi<un;Gi++)jt.push(Yn.createFromDiffChange(Li[Gi],qt,_i))}}return new ci(Ve,$e,Je,gt,jt)}}class ui{constructor(t,s,c){this.shouldComputeCharChanges=c.shouldComputeCharChanges,this.shouldPostProcessCharChanges=c.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=c.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=c.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=s,this.original=new Ts(t),this.modified=new Ts(s),this.continueLineDiff=Oe(c.maxComputationTime),this.continueCharDiff=Oe(c.maxComputationTime===0?0:Math.min(c.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const t=hs(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),s=t.changes,c=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const pe=[];for(let Ve=0,$e=s.length;Ve<$e;Ve++)pe.push(ci.createFromDiffResult(this.shouldIgnoreTrimWhitespace,s[Ve],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:c,changes:pe}}const P=[];let H=0,ne=0;for(let pe=-1,Ve=s.length;pe<Ve;pe++){const $e=pe+1<Ve?s[pe+1]:null,Je=$e?$e.originalStart:this.originalLines.length,gt=$e?$e.modifiedStart:this.modifiedLines.length;for(;H<Je&&ne<gt;){const jt=this.originalLines[H],qt=this.modifiedLines[ne];if(jt!==qt){{let _i=wt(jt,1),Li=wt(qt,1);for(;_i>1&&Li>1;){const Gi=jt.charCodeAt(_i-2),un=qt.charCodeAt(Li-2);if(Gi!==un)break;_i--,Li--}(_i>1||Li>1)&&this._pushTrimWhitespaceCharChange(P,H+1,1,_i,ne+1,1,Li)}{let _i=mt(jt,1),Li=mt(qt,1);const Gi=jt.length+1,un=qt.length+1;for(;_i<Gi&&Li<un;){const mn=jt.charCodeAt(_i-1),dn=jt.charCodeAt(Li-1);if(mn!==dn)break;_i++,Li++}(_i<Gi||Li<un)&&this._pushTrimWhitespaceCharChange(P,H+1,_i,Gi,ne+1,Li,un)}}H++,ne++}$e&&(P.push(ci.createFromDiffResult(this.shouldIgnoreTrimWhitespace,$e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),H+=$e.originalLength,ne+=$e.modifiedLength)}return{quitEarly:c,changes:P}}_pushTrimWhitespaceCharChange(t,s,c,P,H,ne,pe){if(this._mergeTrimWhitespaceCharChange(t,s,c,P,H,ne,pe))return;let Ve;this.shouldComputeCharChanges&&(Ve=[new Yn(s,c,s,P,H,ne,H,pe)]),t.push(new ci(s,s,H,H,Ve))}_mergeTrimWhitespaceCharChange(t,s,c,P,H,ne,pe){const Ve=t.length;if(Ve===0)return!1;const $e=t[Ve-1];return $e.originalEndLineNumber===0||$e.modifiedEndLineNumber===0?!1:$e.originalEndLineNumber===s&&$e.modifiedEndLineNumber===H?(this.shouldComputeCharChanges&&$e.charChanges&&$e.charChanges.push(new Yn(s,c,s,P,H,ne,H,pe)),!0):$e.originalEndLineNumber+1===s&&$e.modifiedEndLineNumber+1===H?($e.originalEndLineNumber=s,$e.modifiedEndLineNumber=H,this.shouldComputeCharChanges&&$e.charChanges&&$e.charChanges.push(new Yn(s,c,s,P,H,ne,H,pe)),!0):!1}}function wt(y,t){const s=ie.LC(y);return s===-1?t:s+1}function mt(y,t){const s=ie.ow(y);return s===-1?t:s+2}function Oe(y){if(y===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<y}var le=i(7335);class Be{static trivial(t,s){return new Be([new Ke(new le.q(0,t.length),new le.q(0,s.length))],!1)}static trivialTimedOut(t,s){return new Be([new Ke(new le.q(0,t.length),new le.q(0,s.length))],!0)}constructor(t,s){this.diffs=t,this.hitTimeout=s}}class Ke{constructor(t,s){this.seq1Range=t,this.seq2Range=s}reverse(){return new Ke(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(t){return new Ke(this.seq1Range.join(t.seq1Range),this.seq2Range.join(t.seq2Range))}}class Ge{isValid(){return!0}}Ge.instance=new Ge;class ye{constructor(t){if(this.timeout=t,this.startTime=Date.now(),this.valid=!0,t<=0)throw new ot.he("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class ze{constructor(t,s){this.width=t,this.height=s,this.array=[],this.array=new Array(t*s)}get(t,s){return this.array[t+s*this.width]}set(t,s,c){this.array[t+s*this.width]=c}}class lt{compute(t,s,c=Ge.instance,P){if(t.length===0||s.length===0)return Be.trivial(t,s);const H=new ze(t.length,s.length),ne=new ze(t.length,s.length),pe=new ze(t.length,s.length);for(let _i=0;_i<t.length;_i++)for(let Li=0;Li<s.length;Li++){if(!c.isValid())return Be.trivialTimedOut(t,s);const Gi=_i===0?0:H.get(_i-1,Li),un=Li===0?0:H.get(_i,Li-1);let mn;t.getElement(_i)===s.getElement(Li)?(_i===0||Li===0?mn=0:mn=H.get(_i-1,Li-1),_i>0&&Li>0&&ne.get(_i-1,Li-1)===3&&(mn+=pe.get(_i-1,Li-1)),mn+=P?P(_i,Li):1):mn=-1;const dn=Math.max(Gi,un,mn);if(dn===mn){const qi=_i>0&&Li>0?pe.get(_i-1,Li-1):0;pe.set(_i,Li,qi+1),ne.set(_i,Li,3)}else dn===Gi?(pe.set(_i,Li,0),ne.set(_i,Li,1)):dn===un&&(pe.set(_i,Li,0),ne.set(_i,Li,2));H.set(_i,Li,dn)}const Ve=[];let $e=t.length,Je=s.length;function gt(_i,Li){(_i+1!==$e||Li+1!==Je)&&Ve.push(new Ke(new le.q(_i+1,$e),new le.q(Li+1,Je))),$e=_i,Je=Li}let jt=t.length-1,qt=s.length-1;for(;jt>=0&&qt>=0;)ne.get(jt,qt)===3?(gt(jt,qt),jt--,qt--):ne.get(jt,qt)===1?jt--:qt--;return gt(-1,-1),Ve.reverse(),new Be(Ve,!1)}}function Rt(y,t,s){let c=s;return c=At(y,t,c),c=ii(y,t,c),c}function Bt(y,t,s){const c=[];for(const P of s){const H=c[c.length-1];if(!H){c.push(P);continue}P.seq1Range.start-H.seq1Range.endExclusive<=2||P.seq2Range.start-H.seq2Range.endExclusive<=2?c[c.length-1]=new Ke(H.seq1Range.join(P.seq1Range),H.seq2Range.join(P.seq2Range)):c.push(P)}return c}function At(y,t,s){const c=[];s.length>0&&c.push(s[0]);for(let P=1;P<s.length;P++){const H=c[c.length-1],ne=s[P];if(ne.seq1Range.isEmpty){let pe=!0;const Ve=ne.seq1Range.start-H.seq1Range.endExclusive;for(let $e=1;$e<=Ve;$e++)if(t.getElement(ne.seq2Range.start-$e)!==t.getElement(ne.seq2Range.endExclusive-$e)){pe=!1;break}if(pe){c[c.length-1]=new Ke(H.seq1Range,new le.q(H.seq2Range.start,ne.seq2Range.endExclusive-Ve));continue}}c.push(ne)}return c}function ii(y,t,s){if(!y.getBoundaryScore||!t.getBoundaryScore)return s;for(let c=0;c<s.length;c++){const P=s[c];if(P.seq1Range.isEmpty){const H=c>0?s[c-1].seq2Range.endExclusive:-1,ne=c+1<s.length?s[c+1].seq2Range.start:t.length;s[c]=vi(P,y,t,ne,H)}else if(P.seq2Range.isEmpty){const H=c>0?s[c-1].seq1Range.endExclusive:-1,ne=c+1<s.length?s[c+1].seq1Range.start:y.length;s[c]=vi(P.reverse(),t,y,ne,H).reverse()}}return s}function vi(y,t,s,c,P){let ne=1;for(;y.seq2Range.start-ne>P&&s.getElement(y.seq2Range.start-ne)===s.getElement(y.seq2Range.endExclusive-ne)&&ne<20;)ne++;ne--;let pe=0;for(;y.seq2Range.start+pe<c&&s.getElement(y.seq2Range.start+pe)===s.getElement(y.seq2Range.endExclusive+pe)&&pe<20;)pe++;if(ne===0&&pe===0)return y;let Ve=0,$e=-1;for(let Je=-ne;Je<=pe;Je++){const gt=y.seq2Range.start+Je,jt=y.seq2Range.endExclusive+Je,qt=y.seq1Range.start+Je,_i=t.getBoundaryScore(qt)+s.getBoundaryScore(gt)+s.getBoundaryScore(jt);_i>$e&&($e=_i,Ve=Je)}return Ve!==0?new Ke(y.seq1Range.delta(Ve),y.seq2Range.delta(Ve)):y}class yi{compute(t,s,c=Ge.instance){if(t.length===0||s.length===0)return Be.trivial(t,s);function P(qt,_i){for(;qt<t.length&&_i<s.length&&t.getElement(qt)===s.getElement(_i);)qt++,_i++;return qt}let H=0;const ne=new Si;ne.set(0,P(0,0));const pe=new Oi;pe.set(0,ne.get(0)===0?null:new hi(null,0,0,ne.get(0)));let Ve=0;e:for(;;)for(H++,Ve=-H;Ve<=H;Ve+=2){if(!c.isValid())return Be.trivialTimedOut(t,s);const qt=Ve===H?-1:ne.get(Ve+1),_i=Ve===-H?-1:ne.get(Ve-1)+1,Li=Math.min(Math.max(qt,_i),t.length),Gi=Li-Ve,un=P(Li,Gi);ne.set(Ve,un);const mn=Li===qt?pe.get(Ve+1):pe.get(Ve-1);if(pe.set(Ve,un!==Li?new hi(mn,Li,Gi,un-Li):mn),ne.get(Ve)===t.length&&ne.get(Ve)-Ve===s.length)break e}let $e=pe.get(Ve);const Je=[];let gt=t.length,jt=s.length;for(;;){const qt=$e?$e.x+$e.length:0,_i=$e?$e.y+$e.length:0;if((qt!==gt||_i!==jt)&&Je.push(new Ke(new le.q(qt,gt),new le.q(_i,jt))),!$e)break;gt=$e.x,jt=$e.y,$e=$e.prev}return Je.reverse(),new Be(Je,!1)}}class hi{constructor(t,s,c,P){this.prev=t,this.x=s,this.y=c,this.length=P}}class Si{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,s){if(t<0){if(t=-t-1,t>=this.negativeArr.length){const c=this.negativeArr;this.negativeArr=new Int32Array(c.length*2),this.negativeArr.set(c)}this.negativeArr[t]=s}else{if(t>=this.positiveArr.length){const c=this.positiveArr;this.positiveArr=new Int32Array(c.length*2),this.positiveArr.set(c)}this.positiveArr[t]=s}}}class Oi{constructor(){this.positiveArr=[],this.negativeArr=[]}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,s){t<0?(t=-t-1,this.negativeArr[t]=s):this.positiveArr[t]=s}}class Ai{constructor(){this.dynamicProgrammingDiffing=new lt,this.myersDiffingAlgorithm=new yi}computeDiff(t,s,c){const P=c.maxComputationTimeMs===0?Ge.instance:new ye(c.maxComputationTimeMs),H=!c.ignoreTrimWhitespace,ne=new Map;function pe(qi){let qn=ne.get(qi);return qn===void 0&&(qn=ne.size,ne.set(qi,qn)),qn}const Ve=t.map(qi=>pe(qi.trim())),$e=s.map(qi=>pe(qi.trim())),Je=new Es(Ve,t),gt=new Es($e,s),jt=(()=>Je.length+gt.length<1500?this.dynamicProgrammingDiffing.compute(Je,gt,P,(qi,qn)=>t[qi]===s[qn]?s[qn].length===0?.1:1+Math.log(1+s[qn].length):.99):this.myersDiffingAlgorithm.compute(Je,gt))();let qt=jt.diffs,_i=jt.hitTimeout;qt=Rt(Je,gt,qt);const Li=[],Gi=qi=>{if(H)for(let qn=0;qn<qi;qn++){const ns=un+qn,kn=mn+qn;if(t[ns]!==s[kn]){const fn=this.refineDiff(t,s,new Ke(new le.q(ns,ns+1),new le.q(kn,kn+1)),P,H);for(const zn of fn.mappings)Li.push(zn);fn.hitTimeout&&(_i=!0)}}};let un=0,mn=0;for(const qi of qt){(0,ve.eZ)(()=>qi.seq1Range.start-un===qi.seq2Range.start-mn);const qn=qi.seq1Range.start-un;Gi(qn),un=qi.seq1Range.endExclusive,mn=qi.seq2Range.endExclusive;const ns=this.refineDiff(t,s,qi,P,H);ns.hitTimeout&&(_i=!0);for(const kn of ns.mappings)Li.push(kn)}Gi(t.length-un);const dn=Pn(Li,t,s);return new yn(dn,_i)}refineDiff(t,s,c,P,H){const ne=new Gs(t,c.seq1Range,H),pe=new Gs(s,c.seq2Range,H),Ve=ne.length+pe.length<500?this.dynamicProgrammingDiffing.compute(ne,pe,P):this.myersDiffingAlgorithm.compute(ne,pe,P);let $e=Ve.diffs;return $e=Rt(ne,pe,$e),$e=Zi(ne,pe,$e),$e=Bt(ne,pe,$e),{mappings:$e.map(gt=>new Ms(ne.translateRange(gt.seq1Range),pe.translateRange(gt.seq2Range))),hitTimeout:Ve.hitTimeout}}}function Zi(y,t,s){const c=[];let P;function H(){if(!P)return;const pe=P.s1Range.length-P.deleted,Ve=P.s2Range.length-P.added;Math.max(P.deleted,P.added)+(P.count-1)>pe&&c.push(new Ke(P.s1Range,P.s2Range)),P=void 0}for(const pe of s){let Ve=function(qt,_i){var Li,Gi,un,mn;if(!P||!P.s1Range.containsRange(qt)||!P.s2Range.containsRange(_i))if(P&&!(P.s1Range.endExclusive<qt.start&&P.s2Range.endExclusive<_i.start)){const qn=le.q.tryCreate(P.s1Range.endExclusive,qt.start),ns=le.q.tryCreate(P.s2Range.endExclusive,_i.start);P.deleted+=(Li=qn==null?void 0:qn.length)!==null&&Li!==void 0?Li:0,P.added+=(Gi=ns==null?void 0:ns.length)!==null&&Gi!==void 0?Gi:0,P.s1Range=P.s1Range.join(qt),P.s2Range=P.s2Range.join(_i)}else H(),P={added:0,deleted:0,count:0,s1Range:qt,s2Range:_i};const dn=qt.intersect(pe.seq1Range),qi=_i.intersect(pe.seq2Range);P.count++,P.deleted+=(un=dn==null?void 0:dn.length)!==null&&un!==void 0?un:0,P.added+=(mn=qi==null?void 0:qi.length)!==null&&mn!==void 0?mn:0};const $e=y.findWordContaining(pe.seq1Range.start-1),Je=t.findWordContaining(pe.seq2Range.start-1),gt=y.findWordContaining(pe.seq1Range.endExclusive),jt=t.findWordContaining(pe.seq2Range.endExclusive);$e&&gt&&Je&&jt&&$e.equals(gt)&&Je.equals(jt)?Ve($e,Je):($e&&Je&&Ve($e,Je),gt&&jt&&Ve(gt,jt))}return H(),pn(s,c)}function pn(y,t){const s=[];for(;y.length>0||t.length>0;){const c=y[0],P=t[0];let H;c&&(!P||c.seq1Range.start<P.seq1Range.start)?H=y.shift():H=t.shift(),s.length>0&&s[s.length-1].seq1Range.endExclusive>=H.seq1Range.start?s[s.length-1]=s[s.length-1].join(H):s.push(H)}return s}function Pn(y,t,s){const c=[];for(const P of ds(y.map(H=>cs(H,t,s)),(H,ne)=>H.originalRange.overlapOrTouch(ne.originalRange)||H.modifiedRange.overlapOrTouch(ne.modifiedRange))){const H=P[0],ne=P[P.length-1];c.push(new en(H.originalRange.join(ne.originalRange),H.modifiedRange.join(ne.modifiedRange),P.map(pe=>pe.innerChanges[0])))}return(0,ve.eZ)(()=>(0,ve.DM)(c,(P,H)=>H.originalRange.startLineNumber-P.originalRange.endLineNumberExclusive===H.modifiedRange.startLineNumber-P.modifiedRange.endLineNumberExclusive&&P.originalRange.endLineNumberExclusive<H.originalRange.startLineNumber&&P.modifiedRange.endLineNumberExclusive<H.modifiedRange.startLineNumber)),c}function cs(y,t,s){let c=0,P=0;y.modifiedRange.startColumn-1>=s[y.modifiedRange.startLineNumber-1].length&&y.originalRange.startColumn-1>=t[y.originalRange.startLineNumber-1].length&&(c=1),y.modifiedRange.endColumn===1&&y.originalRange.endColumn===1&&y.originalRange.startLineNumber+c<=y.originalRange.endLineNumber&&y.modifiedRange.startLineNumber+c<=y.modifiedRange.endLineNumber&&(P=-1);const H=new Ss.z(y.originalRange.startLineNumber+c,y.originalRange.endLineNumber+1+P),ne=new Ss.z(y.modifiedRange.startLineNumber+c,y.modifiedRange.endLineNumber+1+P);return new en(H,ne,[y])}function*ds(y,t){let s,c;for(const P of y)c!==void 0&&t(c,P)?s.push(P):(s&&(yield s),s=[P]),c=P;s&&(yield s)}class Es{constructor(t,s){this.trimmedHash=t,this.lines=s}getElement(t){return this.trimmedHash[t]}get length(){return this.trimmedHash.length}getBoundaryScore(t){const s=t===0?0:ro(this.lines[t-1]),c=t===this.lines.length?0:ro(this.lines[t]);return 1e3-(s+c)}}function ro(y){let t=0;for(;t<y.length&&(y.charCodeAt(t)===32||y.charCodeAt(t)===9);)t++;return t}class Gs{constructor(t,s,c){this.lines=t,this.considerWhitespaceChanges=c,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.offsetByLine=[];let P=!1;s.start>0&&s.endExclusive>=t.length&&(s=new le.q(s.start-1,s.endExclusive),P=!0),this.lineRange=s;for(let H=this.lineRange.start;H<this.lineRange.endExclusive;H++){let ne=t[H],pe=0;if(P)pe=ne.length,ne="",P=!1;else if(!c){const Ve=ne.trimStart();pe=ne.length-Ve.length,ne=Ve.trimEnd()}this.offsetByLine.push(pe);for(let Ve=0;Ve<ne.length;Ve++)this.elements.push(ne.charCodeAt(Ve));H<t.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLineMinusOne[H-this.lineRange.start]=this.elements.length)}this.offsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return[...this.elements].map(t=>String.fromCharCode(t)).join("")}getElement(t){return this.elements[t]}get length(){return this.elements.length}getBoundaryScore(t){const s=Ci(t>0?this.elements[t-1]:-1),c=Ci(t<this.elements.length?this.elements[t]:-1);if(s===6&&c===7)return 0;let P=0;return s!==c&&(P+=10,c===1&&(P+=1)),P+=Fn(s),P+=Fn(c),P}translateOffset(t){if(this.lineRange.isEmpty)return new A.L(this.lineRange.start+1,1);let s=0,c=this.firstCharOffsetByLineMinusOne.length;for(;s<c;){const H=Math.floor((s+c)/2);this.firstCharOffsetByLineMinusOne[H]>t?c=H:s=H+1}const P=s===0?0:this.firstCharOffsetByLineMinusOne[s-1];return new A.L(this.lineRange.start+s+1,t-P+1+this.offsetByLine[s])}translateRange(t){return M.e.fromPositions(this.translateOffset(t.start),this.translateOffset(t.endExclusive))}findWordContaining(t){if(t<0||t>=this.elements.length||!Ws(this.elements[t]))return;let s=t;for(;s>0&&Ws(this.elements[s-1]);)s--;let c=t;for(;c<this.elements.length&&Ws(this.elements[c]);)c++;return new le.q(s,c)}}function Ws(y){return y>=97&&y<=122||y>=65&&y<=90||y>=48&&y<=57}const Hr={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function Fn(y){return Hr[y]}function Ci(y){return y===10?7:y===13?6:Xi(y)?5:y>=97&&y<=122?0:y>=65&&y<=90?1:y>=48&&y<=57?2:y===-1?3:4}function Xi(y){return y===32||y===9}const tn={smart:new oo,experimental:new Ai};var us=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};class Wt extends Hi{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,s){const c=(0,ji.t2)(t.column,(0,ji.eq)(s),this._lines[t.lineNumber-1],0);return c?new M.e(t.lineNumber,c.startColumn,t.lineNumber,c.endColumn):null}words(t){const s=this._lines,c=this._wordenize.bind(this);let P=0,H="",ne=0,pe=[];return{*[Symbol.iterator](){for(;;)if(ne<pe.length){const Ve=H.substring(pe[ne].start,pe[ne].end);ne+=1,yield Ve}else if(P<s.length)H=s[P],pe=c(H,t),ne=0,P+=1;else break}}}getLineWords(t,s){const c=this._lines[t-1],P=this._wordenize(c,s),H=[];for(const ne of P)H.push({word:c.substring(ne.start,ne.end),startColumn:ne.start+1,endColumn:ne.end+1});return H}_wordenize(t,s){const c=[];let P;for(s.lastIndex=0;(P=s.exec(t))&&P[0].length!==0;)c.push({start:P.index,end:P.index+P[0].length});return c}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);const s=this._eol,c=t.startLineNumber-1,P=t.endLineNumber-1,H=[];H.push(this._lines[c].substring(t.startColumn-1));for(let ne=c+1;ne<P;ne++)H.push(this._lines[ne]);return H.push(this._lines[P].substring(0,t.endColumn-1)),H.join(s)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();const s=this._lineStarts.getIndexOf(t),c=this._lines[s.index].length;return{lineNumber:1+s.index,column:1+Math.min(s.remainder,c)}}_validateRange(t){const s=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),c=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return s.lineNumber!==t.startLineNumber||s.column!==t.startColumn||c.lineNumber!==t.endLineNumber||c.column!==t.endColumn?{startLineNumber:s.lineNumber,startColumn:s.column,endLineNumber:c.lineNumber,endColumn:c.column}:t}_validatePosition(t){if(!A.L.isIPosition(t))throw new Error("bad position");let{lineNumber:s,column:c}=t,P=!1;if(s<1)s=1,c=1,P=!0;else if(s>this._lines.length)s=this._lines.length,c=this._lines[s-1].length+1,P=!0;else{const H=this._lines[s-1].length+1;c<1?(c=1,P=!0):c>H&&(c=H,P=!0)}return P?{lineNumber:s,column:c}:t}}class Zt{constructor(t,s){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=s,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){const t=[];return Object.keys(this._models).forEach(s=>t.push(this._models[s])),t}acceptNewModel(t){this._models[t.url]=new Wt(v.o.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,s){if(!this._models[t])return;this._models[t].onEvents(s)}acceptRemovedModel(t){this._models[t]&&delete this._models[t]}computeUnicodeHighlights(t,s,c){return us(this,void 0,void 0,function*(){const P=this._getModel(t);return P?Wn.a.computeUnicodeHighlights(P,s,c):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(t,s,c,P){return us(this,void 0,void 0,function*(){const H=this._getModel(t),ne=this._getModel(s);return!H||!ne?null:Zt.computeDiff(H,ne,c,P)})}static computeDiff(t,s,c,P){const H=P==="experimental"?tn.experimental:tn.smart,ne=t.getLinesContent(),pe=s.getLinesContent(),Ve=H.computeDiff(ne,pe,c);return{identical:Ve.changes.length>0?!1:this._modelsAreIdentical(t,s),quitEarly:Ve.hitTimeout,changes:Ve.changes.map(Je=>{var gt;return[Je.originalRange.startLineNumber,Je.originalRange.endLineNumberExclusive,Je.modifiedRange.startLineNumber,Je.modifiedRange.endLineNumberExclusive,(gt=Je.innerChanges)===null||gt===void 0?void 0:gt.map(jt=>[jt.originalRange.startLineNumber,jt.originalRange.startColumn,jt.originalRange.endLineNumber,jt.originalRange.endColumn,jt.modifiedRange.startLineNumber,jt.modifiedRange.startColumn,jt.modifiedRange.endLineNumber,jt.modifiedRange.endColumn])]})}}static _modelsAreIdentical(t,s){const c=t.getLineCount(),P=s.getLineCount();if(c!==P)return!1;for(let H=1;H<=c;H++){const ne=t.getLineContent(H),pe=s.getLineContent(H);if(ne!==pe)return!1}return!0}computeMoreMinimalEdits(t,s,c){return us(this,void 0,void 0,function*(){const P=this._getModel(t);if(!P)return s;const H=[];let ne;s=s.slice(0).sort((pe,Ve)=>{if(pe.range&&Ve.range)return M.e.compareRangesUsingStarts(pe.range,Ve.range);const $e=pe.range?0:1,Je=Ve.range?0:1;return $e-Je});for(let{range:pe,text:Ve,eol:$e}of s){if(typeof $e=="number"&&(ne=$e),M.e.isEmpty(pe)&&!Ve)continue;const Je=P.getValueInRange(pe);if(Ve=Ve.replace(/\r\n|\n|\r/g,P.eol),Je===Ve)continue;if(Math.max(Ve.length,Je.length)>Zt._diffLimit){H.push({range:pe,text:Ve});continue}const gt=(0,gi.a$)(Je,Ve,c),jt=P.offsetAt(M.e.lift(pe).getStartPosition());for(const qt of gt){const _i=P.positionAt(jt+qt.originalStart),Li=P.positionAt(jt+qt.originalStart+qt.originalLength),Gi={text:Ve.substr(qt.modifiedStart,qt.modifiedLength),range:{startLineNumber:_i.lineNumber,startColumn:_i.column,endLineNumber:Li.lineNumber,endColumn:Li.column}};P.getValueInRange(Gi.range)!==Gi.text&&H.push(Gi)}}return typeof ne=="number"&&H.push({eol:ne,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),H})}computeLinks(t){return us(this,void 0,void 0,function*(){const s=this._getModel(t);return s?Ls(s):null})}textualSuggest(t,s,c,P){return us(this,void 0,void 0,function*(){const H=new Kn.G(!0),ne=new RegExp(c,P),pe=new Set;e:for(const Ve of t){const $e=this._getModel(Ve);if($e){for(const Je of $e.words(ne))if(!(Je===s||!isNaN(Number(Je)))&&(pe.add(Je),pe.size>Zt._suggestionsLimit))break e}}return{words:Array.from(pe),duration:H.elapsed()}})}computeWordRanges(t,s,c,P){return us(this,void 0,void 0,function*(){const H=this._getModel(t);if(!H)return Object.create(null);const ne=new RegExp(c,P),pe=Object.create(null);for(let Ve=s.startLineNumber;Ve<s.endLineNumber;Ve++){const $e=H.getLineWords(Ve,ne);for(const Je of $e){if(!isNaN(Number(Je.word)))continue;let gt=pe[Je.word];gt||(gt=[],pe[Je.word]=gt),gt.push({startLineNumber:Ve,startColumn:Je.startColumn,endLineNumber:Ve,endColumn:Je.endColumn})}}return pe})}navigateValueSet(t,s,c,P,H){return us(this,void 0,void 0,function*(){const ne=this._getModel(t);if(!ne)return null;const pe=new RegExp(P,H);s.startColumn===s.endColumn&&(s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.endColumn+1});const Ve=ne.getValueInRange(s),$e=ne.getWordAtPosition({lineNumber:s.startLineNumber,column:s.startColumn},pe);if(!$e)return null;const Je=ne.getValueInRange($e);return ts.INSTANCE.navigateValueSet(s,Ve,$e,Je,c)})}loadForeignModule(t,s,c){const P=(pe,Ve)=>this._host.fhr(pe,Ve),ne={host:(0,he.IU)(c,P),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ne,s),Promise.resolve((0,he.$E)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,s){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,s))}catch(c){return Promise.reject(c)}}}Zt._diffLimit=1e5,Zt._suggestionsLimit=1e4;function Yt(y){return new Zt(y,null)}typeof importScripts=="function"&&(globalThis.monaco=Qe());var oi=i(16576),mi=i(16308),Fi=i(59271),Di=i(35921),Ji=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Ui=function(y,t){return function(s,c){t(s,c,y)}},_n=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};const gn=60*1e3,vn=5*60*1e3;function Vn(y,t){const s=y.getModel(t);return!(!s||s.isTooLargeForSyncing())}let Bn=class extends Re.JT{constructor(t,s,c,P,H){super(),this._modelService=t,this._workerManager=this._register(new F(this._modelService,P)),this._logService=c,this._register(H.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(ne,pe)=>Vn(this._modelService,ne.uri)?this._workerManager.withWorker().then(Ve=>Ve.computeLinks(ne.uri)).then(Ve=>Ve&&{links:Ve}):Promise.resolve({links:[]})})),this._register(H.completionProvider.register("*",new Kt(this._workerManager,s,this._modelService,P)))}dispose(){super.dispose()}canComputeUnicodeHighlights(t){return Vn(this._modelService,t)}computedUnicodeHighlights(t,s,c){return this._workerManager.withWorker().then(P=>P.computedUnicodeHighlights(t,s,c))}computeDiff(t,s,c,P){return _n(this,void 0,void 0,function*(){const H=yield this._workerManager.withWorker().then(pe=>pe.computeDiff(t,s,c,P));return H?{identical:H.identical,quitEarly:H.quitEarly,changes:H.changes.map(pe=>{var Ve;return new en(new Ss.z(pe[0],pe[1]),new Ss.z(pe[2],pe[3]),(Ve=pe[4])===null||Ve===void 0?void 0:Ve.map($e=>new Ms(new M.e($e[0],$e[1],$e[2],$e[3]),new M.e($e[4],$e[5],$e[6],$e[7]))))})}:null})}computeMoreMinimalEdits(t,s,c=!1){if((0,mi.Of)(s)){if(!Vn(this._modelService,t))return Promise.resolve(s);const P=Kn.G.create(!0),H=this._workerManager.withWorker().then(ne=>ne.computeMoreMinimalEdits(t,s,c));return H.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),P.elapsed())),Promise.race([H,(0,qe.Vs)(1e3).then(()=>s)])}else return Promise.resolve(void 0)}canNavigateValueSet(t){return Vn(this._modelService,t)}navigateValueSet(t,s,c){return this._workerManager.withWorker().then(P=>P.navigateValueSet(t,s,c))}canComputeWordRanges(t){return Vn(this._modelService,t)}computeWordRanges(t,s){return this._workerManager.withWorker().then(c=>c.computeWordRanges(t,s))}};Bn=Ji([Ui(0,Me.q),Ui(1,oi.V),Ui(2,Fi.VZ),Ui(3,ge.c_),Ui(4,Di.p)],Bn);class Kt{constructor(t,s,c,P){this.languageConfigurationService=P,this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=s,this._modelService=c}provideCompletionItems(t,s){return _n(this,void 0,void 0,function*(){const c=this._configurationService.getValue(t.uri,s,"editor");if(!c.wordBasedSuggestions)return;const P=[];if(c.wordBasedSuggestionsMode==="currentDocument")Vn(this._modelService,t.uri)&&P.push(t.uri);else for(const gt of this._modelService.getModels())Vn(this._modelService,gt.uri)&&(gt===t?P.unshift(gt.uri):(c.wordBasedSuggestionsMode==="allDocuments"||gt.getLanguageId()===t.getLanguageId())&&P.push(gt.uri));if(P.length===0)return;const H=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition(),ne=t.getWordAtPosition(s),pe=ne?new M.e(s.lineNumber,ne.startColumn,s.lineNumber,ne.endColumn):M.e.fromPositions(s),Ve=pe.setEndPosition(s.lineNumber,s.column),Je=yield(yield this._workerManager.withWorker()).textualSuggest(P,ne==null?void 0:ne.word,H);if(Je)return{duration:Je.duration,suggestions:Je.words.map(gt=>({kind:18,label:gt,insertText:gt,range:{insert:Ve,replace:pe}}))}})}}class F extends Re.JT{constructor(t,s){super(),this.languageConfigurationService=s,this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new qe.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(vn/2)),this._register(this._modelService.onModelRemoved(P=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>vn&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ae(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class r extends Re.JT{constructor(t,s,c){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=s,!c){const P=new qe.zh;P.cancelAndSet(()=>this._checkStopModelSync(),Math.round(gn/2)),this._register(P)}}dispose(){for(const t in this._syncedModels)(0,Re.B9)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(t,s){for(const c of t){const P=c.toString();this._syncedModels[P]||this._beginModelSync(c,s),this._syncedModels[P]&&(this._syncedModelsLastUsedTime[P]=new Date().getTime())}}_checkStopModelSync(){const t=new Date().getTime(),s=[];for(const c in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[c]>gn&&s.push(c);for(const c of s)this._stopModelSync(c)}_beginModelSync(t,s){const c=this._modelService.getModel(t);if(!c||!s&&c.isTooLargeForSyncing())return;const P=t.toString();this._proxy.acceptNewModel({url:c.uri.toString(),lines:c.getLinesContent(),EOL:c.getEOL(),versionId:c.getVersionId()});const H=new Re.SL;H.add(c.onDidChangeContent(ne=>{this._proxy.acceptModelChanged(P.toString(),ne)})),H.add(c.onWillDispose(()=>{this._stopModelSync(P)})),H.add((0,Re.OF)(()=>{this._proxy.acceptRemovedModel(P)})),this._syncedModels[P]=H}_stopModelSync(t){const s=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],(0,Re.B9)(s)}}class I{constructor(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class ${constructor(t){this._workerClient=t}fhr(t,s){return this._workerClient.fhr(t,s)}}class ae extends Re.JT{constructor(t,s,c,P){super(),this.languageConfigurationService=P,this._disposed=!1,this._modelService=t,this._keepIdleModels=s,this._workerFactory=new li(c),this._worker=null,this._modelManager=null}fhr(t,s){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new zt(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new $(this)))}catch(t){Pt(t),this._worker=new I(new Zt(new $(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,t=>(Pt(t),this._worker=new I(new Zt(new $(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new r(t,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(t,s=!1){return _n(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,ot.F0)()):this._getProxy().then(c=>(this._getOrCreateModelManager(c).ensureSyncedResources(t,s),c))})}computedUnicodeHighlights(t,s,c){return this._withSyncedResources([t]).then(P=>P.computeUnicodeHighlights(t.toString(),s,c))}computeDiff(t,s,c,P){return this._withSyncedResources([t,s],!0).then(H=>H.computeDiff(t.toString(),s.toString(),c,P))}computeMoreMinimalEdits(t,s,c){return this._withSyncedResources([t]).then(P=>P.computeMoreMinimalEdits(t.toString(),s,c))}computeLinks(t){return this._withSyncedResources([t]).then(s=>s.computeLinks(t.toString()))}textualSuggest(t,s,c){return _n(this,void 0,void 0,function*(){const P=yield this._withSyncedResources(t),H=c.source,ne=(0,ie.mr)(c);return P.textualSuggest(t.map(pe=>pe.toString()),s,H,ne)})}computeWordRanges(t,s){return this._withSyncedResources([t]).then(c=>{const P=this._modelService.getModel(t);if(!P)return Promise.resolve(null);const H=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition(),ne=H.source,pe=(0,ie.mr)(H);return c.computeWordRanges(t.toString(),s,ne,pe)})}navigateValueSet(t,s,c){return this._withSyncedResources([t]).then(P=>{const H=this._modelService.getModel(t);if(!H)return null;const ne=this.languageConfigurationService.getLanguageConfiguration(H.getLanguageId()).getWordDefinition(),pe=ne.source,Ve=(0,ie.mr)(ne);return P.navigateValueSet(t.toString(),s,c,pe,Ve)})}dispose(){super.dispose(),this._disposed=!0}}function we(y,t,s){return new ke(y,t,s)}class ke extends ae{constructor(t,s,c){super(t,c.keepIdleModels||!1,c.label,s),this._foreignModuleId=c.moduleId,this._foreignModuleCreateData=c.createData||null,this._foreignModuleHost=c.host||null,this._foreignProxy=null}fhr(t,s){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,s))}catch(c){return Promise.reject(c)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(t=>{const s=this._foreignModuleHost?(0,he.$E)(this._foreignModuleHost):[];return t.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,s).then(c=>{this._foreignModuleCreateData=null;const P=(pe,Ve)=>t.fmr(pe,Ve),H=(pe,Ve)=>function(){const $e=Array.prototype.slice.call(arguments,0);return Ve(pe,$e)},ne={};for(const pe of c)ne[pe]=H(pe,P);return ne})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(t){return this._withSyncedResources(t).then(s=>this.getProxy())}}var nt=i(10403),at=i(75398),_t=i(71278);function xt(y){return Array.isArray(y)}function Et(y){return!xt(y)}function Ft(y){return typeof y=="string"}function Vt(y){return!Ft(y)}function Qt(y){return!y}function si(y,t){return y.ignoreCase&&t?t.toLowerCase():t}function wi(y){return y.replace(/[&<>'"_]/g,"-")}function Ti(y,t){console.log(`${y.languageId}: ${t}`)}function Wi(y,t){return new Error(`${y.languageId}: ${t}`)}function wn(y,t,s,c,P){const H=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let ne=null;return t.replace(H,function(pe,Ve,$e,Je,gt,jt,qt,_i,Li){return Qt($e)?Qt(Je)?!Qt(gt)&&gt<c.length?si(y,c[gt]):!Qt(qt)&&y&&typeof y[qt]=="string"?y[qt]:(ne===null&&(ne=P.split("."),ne.unshift(P)),!Qt(jt)&&jt<ne.length?si(y,ne[jt]):""):si(y,s):"$"})}function Qn(y,t){let s=t;for(;s&&s.length>0;){const c=y.tokenizer[s];if(c)return c;const P=s.lastIndexOf(".");P<0?s=null:s=s.substr(0,P)}return null}function vs(y,t){let s=t;for(;s&&s.length>0;){if(y.stateNames[s])return!0;const P=s.lastIndexOf(".");P<0?s=null:s=s.substr(0,P)}return!1}var an=i(71177),fs=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Ys=function(y,t){return function(s,c){t(s,c,y)}};const Zs=5;class xs{static create(t,s){return this._INSTANCE.create(t,s)}constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}create(t,s){if(t!==null&&t.depth>=this._maxCacheDepth)return new zs(t,s);let c=zs.getStackElementId(t);c.length>0&&(c+="|"),c+=s;let P=this._entries[c];return P||(P=new zs(t,s),this._entries[c]=P,P)}}xs._INSTANCE=new xs(Zs);class zs{constructor(t,s){this.parent=t,this.state=s,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(t){let s="";for(;t!==null;)s.length>0&&(s+="|"),s+=t.state,t=t.parent;return s}static _equals(t,s){for(;t!==null&&s!==null;){if(t===s)return!0;if(t.state!==s.state)return!1;t=t.parent,s=s.parent}return t===null&&s===null}equals(t){return zs._equals(this,t)}push(t){return xs.create(this,t)}pop(){return this.parent}popall(){let t=this;for(;t.parent;)t=t.parent;return t}switchTo(t){return xs.create(this.parent,t)}}class po{constructor(t,s){this.languageId=t,this.state=s}equals(t){return this.languageId===t.languageId&&this.state.equals(t.state)}clone(){return this.state.clone()===this.state?this:new po(this.languageId,this.state)}}class yo{static create(t,s){return this._INSTANCE.create(t,s)}constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}create(t,s){if(s!==null)return new Bo(t,s);if(t!==null&&t.depth>=this._maxCacheDepth)return new Bo(t,s);const c=zs.getStackElementId(t);let P=this._entries[c];return P||(P=new Bo(t,null),this._entries[c]=P,P)}}yo._INSTANCE=new yo(Zs);class Bo{constructor(t,s){this.stack=t,this.embeddedLanguageData=s}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:yo.create(this.stack,this.embeddedLanguageData)}equals(t){return!(t instanceof Bo)||!this.stack.equals(t.stack)?!1:this.embeddedLanguageData===null&&t.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||t.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(t.embeddedLanguageData)}}class ao{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(t){this._languageId=t}emit(t,s){this._lastTokenType===s&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=s,this._lastTokenLanguage=this._languageId,this._tokens.push(new R.WU(t,s,this._languageId)))}nestedLanguageTokenize(t,s,c,P){const H=c.languageId,ne=c.state,pe=R.RW.get(H);if(!pe)return this.enterLanguage(H),this.emit(P,""),ne;const Ve=pe.tokenize(t,s,ne);if(P!==0)for(const $e of Ve.tokens)this._tokens.push(new R.WU($e.offset+P,$e.type,$e.language));else this._tokens=this._tokens.concat(Ve.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Ve.endState}finalize(t){return new R.hG(this._tokens,t)}}class Do{constructor(t,s){this._languageService=t,this._theme=s,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(t){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(t)}emit(t,s){const c=this._theme.match(this._currentLanguageId,s)|1024;this._lastTokenMetadata!==c&&(this._lastTokenMetadata=c,this._tokens.push(t),this._tokens.push(c))}static _merge(t,s,c){const P=t!==null?t.length:0,H=s.length,ne=c!==null?c.length:0;if(P===0&&H===0&&ne===0)return new Uint32Array(0);if(P===0&&H===0)return c;if(H===0&&ne===0)return t;const pe=new Uint32Array(P+H+ne);t!==null&&pe.set(t);for(let Ve=0;Ve<H;Ve++)pe[P+Ve]=s[Ve];return c!==null&&pe.set(c,P+H),pe}nestedLanguageTokenize(t,s,c,P){const H=c.languageId,ne=c.state,pe=R.RW.get(H);if(!pe)return this.enterLanguage(H),this.emit(P,""),ne;const Ve=pe.tokenizeEncoded(t,s,ne);if(P!==0)for(let $e=0,Je=Ve.tokens.length;$e<Je;$e+=2)Ve.tokens[$e]+=P;return this._prependTokens=Do._merge(this._prependTokens,this._tokens,Ve.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Ve.endState}finalize(t){return new R.DI(Do._merge(this._prependTokens,this._tokens,null),t)}}let No=class zh{constructor(t,s,c,P,H){this._configurationService=H,this._languageService=t,this._standaloneThemeService=s,this._languageId=c,this._lexer=P,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let ne=!1;this._tokenizationRegistryListener=R.RW.onDidChange(pe=>{if(ne)return;let Ve=!1;for(let $e=0,Je=pe.changedLanguages.length;$e<Je;$e++){const gt=pe.changedLanguages[$e];if(this._embeddedLanguages[gt]){Ve=!0;break}}Ve&&(ne=!0,R.RW.handleChange([this._languageId]),ne=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(pe=>{pe.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const t=[];for(const s in this._embeddedLanguages){const c=R.RW.get(s);if(c){if(c instanceof zh){const P=c.getLoadStatus();P.loaded===!1&&t.push(P.promise)}continue}R.RW.isResolved(s)||t.push(R.RW.getOrCreate(s))}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(s=>{})}}getInitialState(){const t=xs.create(null,this._lexer.start);return yo.create(t,null)}tokenize(t,s,c){if(t.length>=this._maxTokenizationLineLength)return(0,Ce.Ri)(this._languageId,c);const P=new ao,H=this._tokenize(t,s,c,P);return P.finalize(H)}tokenizeEncoded(t,s,c){if(t.length>=this._maxTokenizationLineLength)return(0,Ce.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),c);const P=new Do(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),H=this._tokenize(t,s,c,P);return P.finalize(H)}_tokenize(t,s,c,P){return c.embeddedLanguageData?this._nestedTokenize(t,s,c,0,P):this._myTokenize(t,s,c,0,P)}_findLeavingNestedLanguageOffset(t,s){let c=this._lexer.tokenizer[s.stack.state];if(!c&&(c=Qn(this._lexer,s.stack.state),!c))throw Wi(this._lexer,"tokenizer state is not defined: "+s.stack.state);let P=-1,H=!1;for(const ne of c){if(!Vt(ne.action)||ne.action.nextEmbedded!=="@pop")continue;H=!0;let pe=ne.regex;const Ve=ne.regex.source;if(Ve.substr(0,4)==="^(?:"&&Ve.substr(Ve.length-1,1)===")"){const Je=(pe.ignoreCase?"i":"")+(pe.unicode?"u":"");pe=new RegExp(Ve.substr(4,Ve.length-5),Je)}const $e=t.search(pe);$e===-1||$e!==0&&ne.matchOnlyAtLineStart||(P===-1||$e<P)&&(P=$e)}if(!H)throw Wi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+s.stack.state);return P}_nestedTokenize(t,s,c,P,H){const ne=this._findLeavingNestedLanguageOffset(t,c);if(ne===-1){const $e=H.nestedLanguageTokenize(t,s,c.embeddedLanguageData,P);return yo.create(c.stack,new po(c.embeddedLanguageData.languageId,$e))}const pe=t.substring(0,ne);pe.length>0&&H.nestedLanguageTokenize(pe,!1,c.embeddedLanguageData,P);const Ve=t.substring(ne);return this._myTokenize(Ve,s,c,P+ne,H)}_safeRuleName(t){return t?t.name:"(unknown)"}_myTokenize(t,s,c,P,H){H.enterLanguage(this._languageId);const ne=t.length,pe=s&&this._lexer.includeLF?t+`
`:t,Ve=pe.length;let $e=c.embeddedLanguageData,Je=c.stack,gt=0,jt=null,qt=!0;for(;qt||gt<Ve;){const _i=gt,Li=Je.depth,Gi=jt?jt.groups.length:0,un=Je.state;let mn=null,dn=null,qi=null,qn=null,ns=null;if(jt){mn=jt.matches;const zn=jt.groups.shift();dn=zn.matched,qi=zn.action,qn=jt.rule,jt.groups.length===0&&(jt=null)}else{if(!qt&&gt>=Ve)break;qt=!1;let zn=this._lexer.tokenizer[un];if(!zn&&(zn=Qn(this._lexer,un),!zn))throw Wi(this._lexer,"tokenizer state is not defined: "+un);const Hs=pe.substr(gt);for(const Hn of zn)if((gt===0||!Hn.matchOnlyAtLineStart)&&(mn=Hs.match(Hn.regex),mn)){dn=mn[0],qi=Hn.action;break}}if(mn||(mn=[""],dn=""),qi||(gt<Ve&&(mn=[pe.charAt(gt)],dn=mn[0]),qi=this._lexer.defaultToken),dn===null)break;for(gt+=dn.length;Et(qi)&&Vt(qi)&&qi.test;)qi=qi.test(dn,mn,un,gt===Ve);let kn=null;if(typeof qi=="string"||Array.isArray(qi))kn=qi;else if(qi.group)kn=qi.group;else if(qi.token!==null&&qi.token!==void 0){if(qi.tokenSubst?kn=wn(this._lexer,qi.token,dn,mn,un):kn=qi.token,qi.nextEmbedded)if(qi.nextEmbedded==="@pop"){if(!$e)throw Wi(this._lexer,"cannot pop embedded language if not inside one");$e=null}else{if($e)throw Wi(this._lexer,"cannot enter embedded language from within an embedded language");ns=wn(this._lexer,qi.nextEmbedded,dn,mn,un)}if(qi.goBack&&(gt=Math.max(0,gt-qi.goBack)),qi.switchTo&&typeof qi.switchTo=="string"){let zn=wn(this._lexer,qi.switchTo,dn,mn,un);if(zn[0]==="@"&&(zn=zn.substr(1)),Qn(this._lexer,zn))Je=Je.switchTo(zn);else throw Wi(this._lexer,"trying to switch to a state '"+zn+"' that is undefined in rule: "+this._safeRuleName(qn))}else{if(qi.transform&&typeof qi.transform=="function")throw Wi(this._lexer,"action.transform not supported");if(qi.next)if(qi.next==="@push"){if(Je.depth>=this._lexer.maxStack)throw Wi(this._lexer,"maximum tokenizer stack size reached: ["+Je.state+","+Je.parent.state+",...]");Je=Je.push(un)}else if(qi.next==="@pop"){if(Je.depth<=1)throw Wi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(qn));Je=Je.pop()}else if(qi.next==="@popall")Je=Je.popall();else{let zn=wn(this._lexer,qi.next,dn,mn,un);if(zn[0]==="@"&&(zn=zn.substr(1)),Qn(this._lexer,zn))Je=Je.push(zn);else throw Wi(this._lexer,"trying to set a next state '"+zn+"' that is undefined in rule: "+this._safeRuleName(qn))}}qi.log&&typeof qi.log=="string"&&Ti(this._lexer,this._lexer.languageId+": "+wn(this._lexer,qi.log,dn,mn,un))}if(kn===null)throw Wi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(qn));const fn=zn=>{const Hs=this._languageService.getLanguageIdByLanguageName(zn)||this._languageService.getLanguageIdByMimeType(zn)||zn,Hn=this._getNestedEmbeddedLanguageData(Hs);if(gt<Ve){const $s=t.substr(gt);return this._nestedTokenize($s,s,yo.create(Je,Hn),P+gt,H)}else return yo.create(Je,Hn)};if(Array.isArray(kn)){if(jt&&jt.groups.length>0)throw Wi(this._lexer,"groups cannot be nested: "+this._safeRuleName(qn));if(mn.length!==kn.length+1)throw Wi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(qn));let zn=0;for(let Hs=1;Hs<mn.length;Hs++)zn+=mn[Hs].length;if(zn!==dn.length)throw Wi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(qn));jt={rule:qn,matches:mn,groups:[]};for(let Hs=0;Hs<kn.length;Hs++)jt.groups[Hs]={action:kn[Hs],matched:mn[Hs+1]};gt-=dn.length;continue}else{if(kn==="@rematch"&&(gt-=dn.length,dn="",mn=null,kn="",ns!==null))return fn(ns);if(dn.length===0){if(Ve===0||Li!==Je.depth||un!==Je.state||(jt?jt.groups.length:0)!==Gi)continue;throw Wi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(qn))}let zn=null;if(Ft(kn)&&kn.indexOf("@brackets")===0){const Hs=kn.substr(9),Hn=ta(this._lexer,dn);if(!Hn)throw Wi(this._lexer,"@brackets token returned but no bracket defined as: "+dn);zn=wi(Hn.token+Hs)}else{const Hs=kn===""?"":kn+this._lexer.tokenPostfix;zn=wi(Hs)}_i<ne&&H.emit(_i+P,zn)}if(ns!==null)return fn(ns)}return yo.create(Je,$e)}_getNestedEmbeddedLanguageData(t){if(!this._languageService.isRegisteredLanguageId(t))return new po(t,Ce.TJ);t!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(t),R.RW.getOrCreate(t),this._embeddedLanguages[t]=!0);const s=R.RW.get(t);return s?new po(t,s.getInitialState()):new po(t,Ce.TJ)}};No=fs([Ys(4,an.Ui)],No);function ta(y,t){if(!t)return null;t=si(y,t);const s=y.brackets;for(const c of s){if(c.open===t)return{token:c.token,bracketType:1};if(c.close===t)return{token:c.token,bracketType:-1}}return null}var Or=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})},Is;const fr=(Is=window.trustedTypes)===null||Is===void 0?void 0:Is.createPolicy("standaloneColorizer",{createHTML:y=>y});class Qs{static colorizeElement(t,s,c,P){P=P||{};const H=P.theme||"vs",ne=P.mimeType||c.getAttribute("lang")||c.getAttribute("data-lang");if(!ne)return console.error("Mode not detected"),Promise.resolve();const pe=s.getLanguageIdByMimeType(ne)||ne;t.setTheme(H);const Ve=c.firstChild?c.firstChild.nodeValue:"";c.className+=" "+H;const $e=Je=>{var gt;const jt=(gt=fr==null?void 0:fr.createHTML(Je))!==null&&gt!==void 0?gt:Je;c.innerHTML=jt};return this.colorize(s,Ve||"",pe,P).then($e,Je=>console.error(Je))}static colorize(t,s,c,P){return Or(this,void 0,void 0,function*(){const H=t.languageIdCodec;let ne=4;P&&typeof P.tabSize=="number"&&(ne=P.tabSize),ie.uS(s)&&(s=s.substr(1));const pe=ie.uq(s);if(!t.isRegisteredLanguageId(c))return To(pe,ne,H);const Ve=yield R.RW.getOrCreate(c);return Ve?rr(pe,ne,Ve,H):To(pe,ne,H)})}static colorizeLine(t,s,c,P,H=4){const ne=_t.wA.isBasicASCII(t,s),pe=_t.wA.containsRTL(t,ne,c);return(0,at.tF)(new at.IJ(!1,!0,t,!1,ne,pe,0,P,[],H,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(t,s,c=4){const P=t.getLineContent(s);t.tokenization.forceTokenization(s);const ne=t.tokenization.getLineTokens(s).inflate();return this.colorizeLine(P,t.mightContainNonBasicASCII(),t.mightContainRTL(),ne,c)}}function rr(y,t,s,c){return new Promise((P,H)=>{const ne=()=>{const pe=fo(y,t,s,c);if(s instanceof No){const Ve=s.getLoadStatus();if(Ve.loaded===!1){Ve.promise.then(ne,H);return}}P(pe)};ne()})}function To(y,t,s){let c=[];const H=new Uint32Array(2);H[0]=0,H[1]=33587200;for(let ne=0,pe=y.length;ne<pe;ne++){const Ve=y[ne];H[0]=Ve.length;const $e=new nt.A(H,Ve,s),Je=_t.wA.isBasicASCII(Ve,!0),gt=_t.wA.containsRTL(Ve,Je,!0),jt=(0,at.tF)(new at.IJ(!1,!0,Ve,!1,Je,gt,0,$e,[],t,0,0,0,0,-1,"none",!1,!1,null));c=c.concat(jt.html),c.push("<br/>")}return c.join("")}function fo(y,t,s,c){let P=[],H=s.getInitialState();for(let ne=0,pe=y.length;ne<pe;ne++){const Ve=y[ne],$e=s.tokenizeEncoded(Ve,!0,H);nt.A.convertToEndOffset($e.tokens,Ve.length);const Je=new nt.A($e.tokens,Ve,c),gt=_t.wA.isBasicASCII(Ve,!0),jt=_t.wA.containsRTL(Ve,gt,!0),qt=(0,at.tF)(new at.IJ(!1,!0,Ve,!1,gt,jt,0,Je.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));P=P.concat(qt.html),P.push("<br/>"),H=$e.endState}return P.join("")}var Qo=i(79874),Xo=i(39143),ni=i(34441),Jo=i(34733),ar=i(56245),zr=i(52243),lo=i(407),Ar=i(71344),Gr=i(8220),go=i(55298),lr=i(48423),ln=i(26386),Sr=i(67235),qo=i(60018),co=i(98299),ys=i(76826),Wo=i(8216),Zr=i(89528),bl=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},vo=function(y,t){return function(s,c){t(s,c,y)}},Ka=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})},ia;const Vo=3;class kr{constructor(t,s,c,P){this.originalLineStart=t,this.originalLineEnd=s,this.modifiedLineStart=c,this.modifiedLineEnd=P}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class xr{constructor(t){this.entries=t}}const cr=(0,Zr.q5)("diff-review-insert",lo.l.add,ln.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),er=(0,Zr.q5)("diff-review-remove",lo.l.remove,ln.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),hn=(0,Zr.q5)("diff-review-close",lo.l.close,ln.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Ho=class yc extends Re.JT{constructor(t,s,c){super(),this._languageService=s,this._audioCueService=c,this._width=0,this._diffEditor=t,this._isVisible=!1,this.shadow=(0,Jo.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,Jo.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Sr.o(this.actionBarContainer.domNode)),this._actionBar.push(new co.aU("diffreview.close",ln.NC("label.close","Close"),"close-diff-review "+Wo.k.asClassName(hn),!0,()=>Ka(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,Jo.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,Jo.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new qo.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(t.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(t.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(ni.mu(this.domNode.domNode,"click",P=>{P.preventDefault();const H=ni.Fx(P.target,"diff-review-row");H&&this._goToRow(H)})),this._register(ni.mu(this.domNode.domNode,"keydown",P=>{(P.equals(18)||P.equals(2066)||P.equals(530))&&(P.preventDefault(),this._goToRow(this._getNextRow(),"next")),(P.equals(16)||P.equals(2064)||P.equals(528))&&(P.preventDefault(),this._goToRow(this._getPrevRow(),"previous")),(P.equals(9)||P.equals(2057)||P.equals(521)||P.equals(1033)||P.equals(10)||P.equals(3))&&(P.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let c=-1;for(let P=0,H=this._diffs.length;P<H;P++)if(this._diffs[P]===this._currentDiff){c=P;break}t=this._diffs.length+c-1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const s=this._diffs[t].entries;this._diffEditor.setPosition(new A.L(s[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:s[0].modifiedLineStart,endColumn:1073741824,endLineNumber:s[s.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}next(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let c=-1;for(let P=0,H=this._diffs.length;P<H;P++)if(this._diffs[P]===this._currentDiff){c=P;break}t=c+1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const s=this._diffs[t].entries;this._diffEditor.setPosition(new A.L(s[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:s[0].modifiedLineStart,endColumn:1073741824,endLineNumber:s[s.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}accept(){let t=-1;const s=this._getCurrentFocusedRow();if(s){const c=parseInt(s.getAttribute("data-line"),10);isNaN(c)||(t=c)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new A.L(t,1)),this._diffEditor.revealPosition(new A.L(t,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()}_getNextRow(){const t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null}_goToRow(t,s){const c=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),c&&c!==t&&(c.tabIndex=-1);const P=s?s==="next"?c==null?void 0:c.nextElementSibling:c==null?void 0:c.previousElementSibling:c;P!=null&&P.classList.contains("line-insert")?this._audioCueService.playAudioCue(ce.y$.diffLineInserted,!0):P!=null&&P.classList.contains("line-delete")&&this._audioCueService.playAudioCue(ce.y$.diffLineDeleted,!0),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(t,s,c){this._width=s,this.shadow.setTop(t-6),this.shadow.setWidth(s),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(s),this.domNode.setHeight(c),this._content.setHeight(c),this._content.setWidth(s),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];const s=this._diffEditor.getOriginalEditor().getModel(),c=this._diffEditor.getModifiedEditor().getModel();return!s||!c?[]:yc._mergeAdjacent(t,s.getLineCount(),c.getLineCount())}static _mergeAdjacent(t,s,c){if(!t||t.length===0)return[];const P=[];let H=0;for(let $e=0,Je=t.length;$e<Je;$e++){const gt=t[$e],jt=gt.originalStartLineNumber,qt=gt.originalEndLineNumber,_i=gt.modifiedStartLineNumber,Li=gt.modifiedEndLineNumber,Gi=[];let un=0;{const mn=qt===0?jt:jt-1,dn=Li===0?_i:_i-1;let qi=1,qn=1;if($e>0){const fn=t[$e-1];fn.originalEndLineNumber===0?qi=fn.originalStartLineNumber+1:qi=fn.originalEndLineNumber+1,fn.modifiedEndLineNumber===0?qn=fn.modifiedStartLineNumber+1:qn=fn.modifiedEndLineNumber+1}let ns=mn-Vo+1,kn=dn-Vo+1;if(ns<qi){const fn=qi-ns;ns=ns+fn,kn=kn+fn}if(kn<qn){const fn=qn-kn;ns=ns+fn,kn=kn+fn}Gi[un++]=new kr(ns,mn,kn,dn)}qt!==0&&(Gi[un++]=new kr(jt,qt,0,0)),Li!==0&&(Gi[un++]=new kr(0,0,_i,Li));{const mn=qt===0?jt+1:qt+1,dn=Li===0?_i+1:Li+1;let qi=s,qn=c;if($e+1<Je){const fn=t[$e+1];fn.originalEndLineNumber===0?qi=fn.originalStartLineNumber:qi=fn.originalStartLineNumber-1,fn.modifiedEndLineNumber===0?qn=fn.modifiedStartLineNumber:qn=fn.modifiedStartLineNumber-1}let ns=mn+Vo-1,kn=dn+Vo-1;if(ns>qi){const fn=qi-ns;ns=ns+fn,kn=kn+fn}if(kn>qn){const fn=qn-kn;ns=ns+fn,kn=kn+fn}Gi[un++]=new kr(mn,ns,dn,kn)}P[H++]=new xr(Gi)}let ne=P[0].entries;const pe=[];let Ve=0;for(let $e=1,Je=P.length;$e<Je;$e++){const gt=P[$e].entries,jt=ne[ne.length-1],qt=gt[0];if(jt.getType()===0&&qt.getType()===0&&qt.originalLineStart<=jt.originalLineEnd){ne[ne.length-1]=new kr(jt.originalLineStart,qt.originalLineEnd,jt.modifiedLineStart,qt.modifiedLineEnd),ne=ne.concat(gt.slice(1));continue}pe[Ve++]=new xr(ne),ne=gt}return pe[Ve++]=new xr(ne),pe}_findDiffIndex(t){const s=t.lineNumber;for(let c=0,P=this._diffs.length;c<P;c++){const H=this._diffs[c].entries,ne=H[H.length-1].modifiedLineEnd;if(s<=ne)return c}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),s=this._diffEditor.getModifiedEditor().getOptions(),c=this._diffEditor.getOriginalEditor().getModel(),P=this._diffEditor.getModifiedEditor().getModel(),H=c.getOptions(),ne=P.getOptions();if(!this._isVisible||!c||!P){ni.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const pe=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[pe]===this._currentDiff)return;this._currentDiff=this._diffs[pe];const Ve=this._diffs[pe].entries,$e=document.createElement("div");$e.className="diff-review-table",$e.setAttribute("role","list"),$e.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,Ar.N)($e,s.get(48));let Je=0,gt=0,jt=0,qt=0;for(let kn=0,fn=Ve.length;kn<fn;kn++){const zn=Ve[kn],Hs=zn.originalLineStart,Hn=zn.originalLineEnd,$s=zn.modifiedLineStart,ls=zn.modifiedLineEnd;Hs!==0&&(Je===0||Hs<Je)&&(Je=Hs),Hn!==0&&(gt===0||Hn>gt)&&(gt=Hn),$s!==0&&(jt===0||$s<jt)&&(jt=$s),ls!==0&&(qt===0||ls>qt)&&(qt=ls)}const _i=document.createElement("div");_i.className="diff-review-row";const Li=document.createElement("div");Li.className="diff-review-cell diff-review-summary";const Gi=gt-Je+1,un=qt-jt+1;Li.appendChild(document.createTextNode(`${pe+1}/${this._diffs.length}: @@ -${Je},${Gi} +${jt},${un} @@`)),_i.setAttribute("data-line",String(jt));const mn=kn=>kn===0?ln.NC("no_lines_changed","no lines changed"):kn===1?ln.NC("one_line_changed","1 line changed"):ln.NC("more_lines_changed","{0} lines changed",kn),dn=mn(Gi),qi=mn(un);_i.setAttribute("aria-label",ln.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",pe+1,this._diffs.length,Je,dn,jt,qi)),_i.appendChild(Li),_i.setAttribute("role","listitem"),$e.appendChild(_i);const qn=s.get(64);let ns=jt;for(let kn=0,fn=Ve.length;kn<fn;kn++){const zn=Ve[kn];yc._renderSection($e,zn,ns,qn,this._width,t,c,H,s,P,ne,this._languageService.languageIdCodec),zn.modifiedLineStart!==0&&(ns=zn.modifiedLineEnd)}ni.PO(this._content.domNode),this._content.domNode.appendChild($e),this.scrollbar.scanDomNode()}static _renderSection(t,s,c,P,H,ne,pe,Ve,$e,Je,gt,jt){const qt=s.getType();let _i="diff-review-row",Li="";const Gi="diff-review-spacer";let un=null;switch(qt){case 1:_i="diff-review-row line-insert",Li=" char-insert",un=cr;break;case 2:_i="diff-review-row line-delete",Li=" char-delete",un=er;break}const mn=s.originalLineStart,dn=s.originalLineEnd,qi=s.modifiedLineStart,qn=s.modifiedLineEnd,ns=Math.max(qn-qi,dn-mn),kn=ne.get(139),fn=kn.glyphMarginWidth+kn.lineNumbersWidth,zn=$e.get(139),Hs=10+zn.glyphMarginWidth+zn.lineNumbersWidth;for(let Hn=0;Hn<=ns;Hn++){const $s=mn===0?0:mn+Hn,ls=qi===0?0:qi+Hn,Lo=document.createElement("div");Lo.style.minWidth=H+"px",Lo.className=_i,Lo.setAttribute("role","listitem"),ls!==0&&(c=ls),Lo.setAttribute("data-line",String(c));const ga=document.createElement("div");ga.className="diff-review-cell",ga.style.height=`${P}px`,Lo.appendChild(ga);const Fo=document.createElement("span");Fo.style.width=fn+"px",Fo.style.minWidth=fn+"px",Fo.className="diff-review-line-number"+Li,$s!==0?Fo.appendChild(document.createTextNode(String($s))):Fo.innerText="\xA0",ga.appendChild(Fo);const ya=document.createElement("span");ya.style.width=Hs+"px",ya.style.minWidth=Hs+"px",ya.style.paddingRight="10px",ya.className="diff-review-line-number"+Li,ls!==0?ya.appendChild(document.createTextNode(String(ls))):ya.innerText="\xA0",ga.appendChild(ya);const ja=document.createElement("span");if(ja.className=Gi,un){const Oa=document.createElement("span");Oa.className=Wo.k.asClassName(un),Oa.innerText="\xA0\xA0",ja.appendChild(Oa)}else ja.innerText="\xA0\xA0";ga.appendChild(ja);let cl;if(ls!==0){let Oa=this._renderLine(Je,$e,gt.tabSize,ls,jt);yc._ttPolicy&&(Oa=yc._ttPolicy.createHTML(Oa)),ga.insertAdjacentHTML("beforeend",Oa),cl=Je.getLineContent(ls)}else{let Oa=this._renderLine(pe,ne,Ve.tabSize,$s,jt);yc._ttPolicy&&(Oa=yc._ttPolicy.createHTML(Oa)),ga.insertAdjacentHTML("beforeend",Oa),cl=pe.getLineContent($s)}cl.length===0&&(cl=ln.NC("blankLine","blank"));let Cl="";switch(qt){case 0:$s===ls?Cl=ln.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",cl,$s):Cl=ln.NC("equalLine","{0} original line {1} modified line {2}",cl,$s,ls);break;case 1:Cl=ln.NC("insertLine","+ {0} modified line {1}",cl,ls);break;case 2:Cl=ln.NC("deleteLine","- {0} original line {1}",cl,$s);break}Lo.setAttribute("aria-label",Cl),t.appendChild(Lo)}}static _renderLine(t,s,c,P,H){const ne=t.getLineContent(P),pe=s.get(48),Ve=nt.A.createEmpty(ne,H),$e=_t.wA.isBasicASCII(ne,t.mightContainNonBasicASCII()),Je=_t.wA.containsRTL(ne,$e,t.mightContainRTL());return(0,at.tF)(new at.IJ(pe.isMonospace&&!s.get(31),pe.canUseHalfwidthRightwardsArrow,ne,!1,$e,Je,0,Ve,[],c,0,pe.spaceWidth,pe.middotWidth,pe.wsmiddotWidth,s.get(112),s.get(94),s.get(89),s.get(49)!==m.n0.OFF,null)).html}};Ho._ttPolicy=(ia=window.trustedTypes)===null||ia===void 0?void 0:ia.createPolicy("diffReview",{createHTML:y=>y}),Ho=bl([vo(1,me.O),vo(2,ce.e7)],Ho);class wa extends go.R6{constructor(){super({id:"editor.action.diffReview.next",label:ln.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:ys.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(t,s){const c=tr(t);c==null||c.diffReviewNext()}}class na extends go.R6{constructor(){super({id:"editor.action.diffReview.prev",label:ln.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:ys.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(t,s){const c=tr(t);c==null||c.diffReviewPrev()}}function tr(y){const t=y.get(se.$),s=t.listDiffEditors(),c=t.getActiveCodeEditor();if(!c)return null;for(let P=0,H=s.length;P<H;P++){const ne=s[P];if(ne.getModifiedEditor().getId()===c.getId()||ne.getOriginalEditor().getId()===c.getId())return ne}return null}(0,go.Qr)(wa),(0,go.Qr)(na);var sa=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};class oa extends Re.JT{get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}constructor(t,s,c,P,H,ne){super(),this._viewZoneId=t,this._marginDomNode=s,this.editor=c,this.diff=P,this._contextMenuService=H,this._clipboardService=ne,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Wo.k.asClassName(lo.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const pe=c.getOption(64),Ve=c.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${pe}px`,this._diffActions.style.lineHeight=`${pe}px`,this._marginDomNode.appendChild(this._diffActions);const $e=[],Je=P.modifiedEndLineNumber===0;$e.push(new co.aU("diff.clipboard.copyDeletedContent",Je?P.originalEndLineNumber>P.modifiedStartLineNumber?ln.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):ln.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):P.originalEndLineNumber>P.modifiedStartLineNumber?ln.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):ln.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>sa(this,void 0,void 0,function*(){const Li=new M.e(P.originalStartLineNumber,1,P.originalEndLineNumber+1,1),Gi=P.originalModel.getValueInRange(Li);yield this._clipboardService.writeText(Gi)})));let gt=0,jt;P.originalEndLineNumber>P.modifiedStartLineNumber&&(jt=new co.aU("diff.clipboard.copyDeletedLineContent",Je?ln.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",P.originalStartLineNumber):ln.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",P.originalStartLineNumber),void 0,!0,()=>sa(this,void 0,void 0,function*(){const Li=P.originalModel.getLineContent(P.originalStartLineNumber+gt);if(Li===""){const Gi=P.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(Gi===0?`
`:`\r
`)}else yield this._clipboardService.writeText(Li)})),$e.push(jt)),c.getOption(87)||$e.push(new co.aU("diff.inline.revertChange",ln.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>sa(this,void 0,void 0,function*(){const Li=new M.e(P.originalStartLineNumber,1,P.originalEndLineNumber,P.originalModel.getLineMaxColumn(P.originalEndLineNumber)),Gi=P.originalModel.getValueInRange(Li);if(P.modifiedEndLineNumber===0){const un=c.getModel().getLineMaxColumn(P.modifiedStartLineNumber);c.executeEdits("diffEditor",[{range:new M.e(P.modifiedStartLineNumber,un,P.modifiedStartLineNumber,un),text:Ve+Gi}])}else{const un=c.getModel().getLineMaxColumn(P.modifiedEndLineNumber);c.executeEdits("diffEditor",[{range:new M.e(P.modifiedStartLineNumber,1,P.modifiedEndLineNumber,un),text:Gi}])}})));const _i=(Li,Gi)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:Li,y:Gi}),getActions:()=>(jt&&(jt.label=Je?ln.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",P.originalStartLineNumber+gt):ln.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",P.originalStartLineNumber+gt)),$e),autoSelectFirstItem:!0})};this._register(ni.mu(this._diffActions,"mousedown",Li=>{const{top:Gi,height:un}=ni.i(this._diffActions),mn=Math.floor(pe/3);Li.preventDefault(),_i(Li.posx,Gi+un+mn)})),this._register(c.onMouseMove(Li=>{Li.target.type===8||Li.target.type===5?Li.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,gt=this._updateLightBulbPosition(this._marginDomNode,Li.event.browserEvent.y,pe)):this.visibility=!1:this.visibility=!1})),this._register(c.onMouseDown(Li=>{Li.event.rightButton&&(Li.target.type===8||Li.target.type===5)&&Li.target.detail.viewZoneId===this._viewZoneId&&(Li.event.preventDefault(),gt=this._updateLightBulbPosition(this._marginDomNode,Li.event.browserEvent.y,pe),_i(Li.event.posx,Li.event.posy+pe))}))}_updateLightBulbPosition(t,s,c){const{top:P}=ni.i(t),H=s-P,ne=Math.floor(H/c),pe=ne*c;if(this._diffActions.style.top=`${pe}px`,this.diff.viewLineCounts){let Ve=0;for(let $e=0;$e<this.diff.viewLineCounts.length;$e++)if(Ve+=this.diff.viewLineCounts[$e],ne<Ve)return $e}return ne}}var ra=i(30363),On=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},gs=function(y,t){return function(s,c){t(s,c,y)}},js=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};let uo=class{constructor(t,s){this.editorWorkerService=s,this.onDidChangeEventEmitter=new f.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="smart",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(t)}dispose(){var t;(t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose()}computeDiff(t,s,c){return js(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(t,s,c);const P=yield this.editorWorkerService.computeDiff(t.uri,s.uri,c,this.diffAlgorithm);if(!P)throw new Error("no diff result available");return P})}setOptions(t){var s;let c=!1;t.diffAlgorithm&&this.diffAlgorithm!==t.diffAlgorithm&&((s=this.diffAlgorithmOnDidChangeSubscription)===null||s===void 0||s.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=t.diffAlgorithm,typeof t.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=t.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),c=!0),c&&this.onDidChangeEventEmitter.fire()}};uo=On([gs(1,ra.p)],uo);var jo=i(12342),wo=i(45007),_o=i(69756),Ko=i(43128),$a=i(51941),gr=i(36953),dr=i(44333),Ga=i(28596),mr=i(97968),Za=i(79969),Rs=i(92537),ir=i(58566),Sl=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Fr=function(y,t){return function(s,c){t(s,c,y)}},Yr;class pr{constructor(t,s){this._contextMenuService=t,this._clipboardService=s,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(t){return t.filter(s=>!this._zonesMap[String(s.id)])}clean(t){this._zones.length>0&&t.changeViewZones(s=>{for(const c of this._zones)s.removeZone(c)}),this._zones=[],this._zonesMap={},t.changeDecorations(s=>{this._decorations=s.deltaDecorations(this._decorations,[])})}apply(t,s,c,P){const H=P?lr.Z.capture(t):null;t.changeViewZones(ne=>{var pe;for(const Ve of this._zones)ne.removeZone(Ve);for(const Ve of this._inlineDiffMargins)Ve.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ve=0,$e=c.zones.length;Ve<$e;Ve++){const Je=c.zones[Ve];Je.suppressMouseDown=!0;const gt=ne.addZone(Je);this._zones.push(gt),this._zonesMap[String(gt)]=!0,c.zones[Ve].diff&&Je.marginDomNode&&(Je.suppressMouseDown=!1,((pe=c.zones[Ve].diff)===null||pe===void 0?void 0:pe.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new oa(gt,Je.marginDomNode,t,c.zones[Ve].diff,this._contextMenuService,this._clipboardService)))}}),H==null||H.restore(t),t.changeDecorations(ne=>{this._decorations=ne.deltaDecorations(this._decorations,c.decorations)}),s==null||s.setZones(c.overviewZones)}}let yl=0;const Ir=(0,Zr.q5)("diff-insert",lo.l.add,ln.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),ma=(0,Zr.q5)("diff-remove",lo.l.remove,ln.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),La=(Yr=window.trustedTypes)===null||Yr===void 0?void 0:Yr.createPolicy("diffEditorWidget",{createHTML:y=>y}),Da=ln.NC("diff-aria-navigation-tip"," use Shift + F7 to navigate changes");let Qr=class Vr extends Re.JT{constructor(t,s,c,P,H,ne,pe,Ve,$e,Je,gt){super(),this._editorProgressService=gt,this._onDidDispose=this._register(new f.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModel=this._register(new f.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidUpdateDiff=this._register(new f.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new f.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,pe.willCreateDiffEditor(),this._documentDiffProvider=this._register(ne.createInstance(uo,s)),this._register(this._documentDiffProvider.onDidChange(qt=>this._beginUpdateDecorationsSoon())),this._codeEditorService=pe,this._contextKeyService=this._register(H.createScoped(t)),this._instantiationService=ne.createChild(new Ga.y([ys.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ve,this._notificationService=$e,this._id=++yl,this._state=0,this._updatingDiffProgress=null,this._domElement=t,s=s||{},this._options=xa(s,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"smart"}),typeof s.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",s.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new qe.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Vr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,Jo.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(ni.mu(this._overviewDomElement,ni.tw.POINTER_DOWN,qt=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(qt)})),this._register(ni.nm(this._overviewDomElement,ni.tw.MOUSE_WHEEL,qt=>{this._modifiedEditor.delegateScrollFromMouseWheelEvent(qt)},{passive:!1})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new pr(Je,P),this._modifiedEditorState=new pr(Je,P),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Gr.I(this._containerDomElement,s.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),s.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(s,c.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(s,c.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=ne.createInstance(Ho,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new pa(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Ya(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Ve.onDidColorThemeChange(qt=>{this._strategy&&this._strategy.applyColors(qt)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Vr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const jt=go.Uc.getDiffEditorContributions();for(const qt of jt)try{this._register(ne.createInstance(qt.ctor,this))}catch(_i){(0,ot.dL)(_i)}this._codeEditorService.addDiffEditor(this)}_setState(t){this._state!==t&&(this._state=t,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(t,s){let c="monaco-diff-editor monaco-editor-background ";return s&&(c+="side-by-side "),c+=(0,ir.m6)(t.type),c}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(ve.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,s){const c=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),s);this._register(c.onDidScrollChange(H=>{this._isHandlingScrollEvent||!H.scrollTopChanged&&!H.scrollLeftChanged&&!H.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:H.scrollLeft,scrollTop:H.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(c.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(c.onDidChangeConfiguration(H=>{c.getModel()&&(H.hasChanged(48)&&this._updateDecorationsRunner.schedule(),H.hasChanged(140)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(c.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(c.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const P=this._contextKeyService.createKey("isInDiffLeftEditor",c.hasWidgetFocus());return this._register(c.onDidFocusEditorWidget(()=>P.set(!0))),this._register(c.onDidBlurEditorWidget(()=>P.set(!1))),this._register(c.onDidContentSizeChange(H=>{const ne=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Vr.ONE_OVERVIEW_WIDTH,pe=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:pe,contentWidth:ne,contentHeightChanged:H.contentHeightChanged,contentWidthChanged:H.contentWidthChanged})})),c}_createRightHandSideEditor(t,s){const c=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),s);this._register(c.onDidScrollChange(H=>{this._isHandlingScrollEvent||!H.scrollTopChanged&&!H.scrollLeftChanged&&!H.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:H.scrollLeft,scrollTop:H.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(c.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(c.onDidChangeConfiguration(H=>{c.getModel()&&(H.hasChanged(48)&&this._updateDecorationsRunner.schedule(),H.hasChanged(140)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(c.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(c.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(c.onDidChangeModelOptions(H=>{H.tabSize&&this._updateDecorationsRunner.schedule()}));const P=this._contextKeyService.createKey("isInDiffRightEditor",c.hasWidgetFocus());return this._register(c.onDidFocusEditorWidget(()=>P.set(!0))),this._register(c.onDidBlurEditorWidget(()=>P.set(!1))),this._register(c.onDidContentSizeChange(H=>{const ne=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Vr.ONE_OVERVIEW_WIDTH,pe=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:pe,contentWidth:ne,contentHeightChanged:H.contentHeightChanged,contentWidthChanged:H.contentWidthChanged})})),this._register(c.onMouseDown(H=>{var ne,pe;if(!H.event.rightButton&&H.target.position&&(!((ne=H.target.element)===null||ne===void 0)&&ne.className.includes("arrow-revert-change"))){const Ve=H.target.position.lineNumber,$e=H.target,Je=(pe=this._diffComputationResult)===null||pe===void 0?void 0:pe.changes.find(gt=>($e==null?void 0:$e.detail.afterLineNumber)===gt.modifiedStartLineNumber||gt.modifiedEndLineNumber>0&&gt.modifiedStartLineNumber===Ve);Je&&this.revertChange(Je),H.event.stopPropagation(),this._updateDecorations();return}})),c}revertChange(t){const s=this._modifiedEditor,c=this._originalEditor.getModel(),P=this._modifiedEditor.getModel();if(!c||!P||!s)return;const H=t.originalEndLineNumber>0?new M.e(t.originalStartLineNumber,1,t.originalEndLineNumber,c.getLineMaxColumn(t.originalEndLineNumber)):null,ne=H?c.getValueInRange(H):null,pe=t.modifiedEndLineNumber>0?new M.e(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber,P.getLineMaxColumn(t.modifiedEndLineNumber)):null,Ve=P.getEOL();if(t.originalEndLineNumber===0&&pe){let $e=pe;t.modifiedStartLineNumber>1?$e=pe.setStartPosition(t.modifiedStartLineNumber-1,P.getLineMaxColumn(t.modifiedStartLineNumber-1)):t.modifiedEndLineNumber<P.getLineCount()&&($e=pe.setEndPosition(t.modifiedEndLineNumber+1,1)),s.executeEdits("diffEditor",[{range:$e,text:""}])}else if(t.modifiedEndLineNumber===0&&ne!==null){const $e=t.modifiedStartLineNumber<P.getLineCount()?new A.L(t.modifiedStartLineNumber+1,1):new A.L(t.modifiedStartLineNumber,P.getLineMaxColumn(t.modifiedStartLineNumber));s.executeEdits("diffEditor",[{range:M.e.fromPositions($e,$e),text:t.modifiedStartLineNumber<P.getLineCount()?ne+Ve:Ve+ne}])}else pe&&ne!==null&&s.executeEdits("diffEditor",[{range:pe,text:ne}])}_createInnerEditor(t,s,c,P){return t.createInstance(Xo.Gm,s,c,P)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Ie.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const s=xa(t,this._options),c=Al(this._options,s);this._options=s;const P=c.ignoreTrimWhitespace||c.renderIndicators||c.renderMarginRevertIcon,H=this._isVisible&&(c.maxComputationTime||c.maxFileSize);this._documentDiffProvider.setOptions(s),P?this._beginUpdateDecorations():H&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),c.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new pa(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Ya(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Vr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),c.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(t?t.original:null),this._modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),t&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(t){return this._modifiedEditor.getVisibleColumnFromPosition(t)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(t,s="api"){this._modifiedEditor.setPosition(t,s)}revealLine(t,s=0){this._modifiedEditor.revealLine(t,s)}revealLineInCenter(t,s=0){this._modifiedEditor.revealLineInCenter(t,s)}revealLineInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(t,s)}revealLineNearTop(t,s=0){this._modifiedEditor.revealLineNearTop(t,s)}revealPosition(t,s=0){this._modifiedEditor.revealPosition(t,s)}revealPositionInCenter(t,s=0){this._modifiedEditor.revealPositionInCenter(t,s)}revealPositionInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(t,s)}revealPositionNearTop(t,s=0){this._modifiedEditor.revealPositionNearTop(t,s)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(t,s="api"){this._modifiedEditor.setSelection(t,s)}setSelections(t,s="api"){this._modifiedEditor.setSelections(t,s)}revealLines(t,s,c=0){this._modifiedEditor.revealLines(t,s,c)}revealLinesInCenter(t,s,c=0){this._modifiedEditor.revealLinesInCenter(t,s,c)}revealLinesInCenterIfOutsideViewport(t,s,c=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(t,s,c)}revealLinesNearTop(t,s,c=0){this._modifiedEditor.revealLinesNearTop(t,s,c)}revealRange(t,s=0,c=!1,P=!0){this._modifiedEditor.revealRange(t,s,c,P)}revealRangeInCenter(t,s=0){this._modifiedEditor.revealRangeInCenter(t,s)}revealRangeInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(t,s)}revealRangeNearTop(t,s=0){this._modifiedEditor.revealRangeNearTop(t,s)}revealRangeNearTopIfOutsideViewport(t,s=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(t,s)}revealRangeAtTop(t,s=0){this._modifiedEditor.revealRangeAtTop(t,s)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const t=this._originalEditor.saveViewState(),s=this._modifiedEditor.saveViewState();return{original:t,modified:s}}restoreViewState(t){if(t&&t.original&&t.modified){const s=t;this._originalEditor.restoreViewState(s.original),this._modifiedEditor.restoreViewState(s.modified)}}layout(t){this._elementSizeObserver.observe(t)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(t,s,c){this._modifiedEditor.trigger(t,s,c)}createDecorationsCollection(t){return this._modifiedEditor.createDecorationsCollection(t)}changeDecorations(t){return this._modifiedEditor.changeDecorations(t)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),s=this._getReviewHeight(),c=Vr.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Vr.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Vr.ONE_OVERVIEW_WIDTH,right:c+Vr.ONE_OVERVIEW_WIDTH,height:t-s}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Vr.ONE_OVERVIEW_WIDTH,height:t-s}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Vr.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(t,s){return!t&&!s?!0:!t||!s?!1:t.toString()===s.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);const t=this._originalEditor.getModel(),s=this._modifiedEditor.getModel();if(!t||!s)return;this._diffComputationToken++;const c=this._diffComputationToken,P=this._options.maxFileSize*1024*1024,H=ne=>{const pe=ne.getValueLength();return P===0||pe<=P};if(!H(t)||!H(s)){(!Vr._equals(t.uri,this._lastOriginalWarning)||!Vr._equals(s.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=s.uri,this._notificationService.warn(ln.NC("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._documentDiffProvider.computeDiff(t,s,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime}).then(ne=>{c===this._diffComputationToken&&t===this._originalEditor.getModel()&&s===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:ne.identical,quitEarly:ne.quitEarly,changes:ne.changes.map(pe=>{let Ve,$e,Je,gt,jt=pe.innerChanges;return pe.originalRange.isEmpty?(Ve=pe.originalRange.startLineNumber-1,$e=0,jt=void 0):(Ve=pe.originalRange.startLineNumber,$e=pe.originalRange.endLineNumberExclusive-1),pe.modifiedRange.isEmpty?(Je=pe.modifiedRange.startLineNumber-1,gt=0,jt=void 0):(Je=pe.modifiedRange.startLineNumber,gt=pe.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:Ve,originalEndLineNumber:$e,modifiedStartLineNumber:Je,modifiedEndLineNumber:gt,charChanges:jt==null?void 0:jt.map(qt=>({originalStartLineNumber:qt.originalRange.startLineNumber,originalStartColumn:qt.originalRange.startColumn,originalEndLineNumber:qt.originalRange.endLineNumber,originalEndColumn:qt.originalRange.endColumn,modifiedStartLineNumber:qt.modifiedRange.startLineNumber,modifiedStartColumn:qt.modifiedRange.startColumn,modifiedEndLineNumber:qt.modifiedRange.endLineNumber,modifiedEndColumn:qt.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ne=>{c===this._diffComputationToken&&t===this._originalEditor.getModel()&&s===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const t=this._diffComputationResult?this._diffComputationResult.changes:[],s=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),c=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),P=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(87),H=this._strategy.getEditorsDiffDecorations(t,this._options.ignoreTrimWhitespace,this._options.renderIndicators,P,s,c);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,H.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,H.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(t){const s=Object.assign({},t);return s.inDiffEditor=!0,s.automaticLayout=!1,s.scrollbar=Object.assign({},s.scrollbar||{}),s.scrollbar.vertical="visible",s.folding=!1,s.codeLens=this._options.diffCodeLens,s.fixedOverflowWidgets=!0,s.minimap=Object.assign({},s.minimap||{}),s.minimap.enabled=!1,s}_adjustOptionsForLeftHandSide(t){const s=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide?s.wordWrapOverride1=this._options.diffWordWrap:(s.wordWrapOverride1="off",s.wordWrapOverride2="off"),t.originalAriaLabel&&(s.ariaLabel=t.originalAriaLabel),s.ariaLabel+=Da,s.readOnly=!this._options.originalEditable,s.dropIntoEditor={enabled:!s.readOnly},s.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},s),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const s=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(s.ariaLabel=t.modifiedAriaLabel),s.ariaLabel+=Da,s.wordWrapOverride1=this._options.diffWordWrap,s.revealHorizontalRightPadding=m.BH.revealHorizontalRightPadding.defaultValue+Vr.ENTIRE_DIFF_OVERVIEW_WIDTH,s.scrollbar.verticalHasArrows=!1,s.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},s),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),s=this._elementSizeObserver.getHeight(),c=this._getReviewHeight(),P=this._strategy.layout();this._originalDomNode.style.width=P+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-P+"px",this._modifiedDomNode.style.left=P+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=s-c+"px",this._overviewDomElement.style.width=Vr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-Vr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Vr.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:P,height:s-c}),this._modifiedEditor.layout({width:t-P-(this._options.renderOverviewRuler?Vr.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:s-c}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(s-c,t,c),this._layoutOverviewViewport()}_layoutOverviewViewport(){const t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const t=this._modifiedEditor.getLayoutInfo();if(!t)return null;const s=this._modifiedEditor.getScrollTop(),c=this._modifiedEditor.getScrollHeight(),P=Math.max(0,t.height),H=Math.max(0,P-2*0),ne=c>0?H/c:0,pe=Math.max(0,Math.floor(t.height*ne)),Ve=Math.floor(s*ne);return{height:pe,top:Ve}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(t){var s;(s=this._strategy)===null||s===void 0||s.dispose(),this._strategy=t,this._boundarySashes&&t.setBoundarySashes(this._boundarySashes),t.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(t,s){const c=this._diffComputationResult?this._diffComputationResult.changes:[];if(c.length===0||t<s(c[0]))return null;let P=0,H=c.length-1;for(;P<H;){const ne=Math.floor((P+H)/2),pe=s(c[ne]),Ve=ne+1<=H?s(c[ne+1]):1073741824;t<pe?H=ne-1:t>=Ve?P=ne+1:(P=ne,H=ne)}return c[P]}_getEquivalentLineForOriginalLineNumber(t){const s=this._getLineChangeAtOrBeforeLineNumber(t,Ve=>Ve.originalStartLineNumber);if(!s)return t;const c=s.originalStartLineNumber+(s.originalEndLineNumber>0?-1:0),P=s.modifiedStartLineNumber+(s.modifiedEndLineNumber>0?-1:0),H=s.originalEndLineNumber>0?s.originalEndLineNumber-s.originalStartLineNumber+1:0,ne=s.modifiedEndLineNumber>0?s.modifiedEndLineNumber-s.modifiedStartLineNumber+1:0,pe=t-c;return pe<=H?P+Math.min(pe,ne):P+ne-H+pe}_getEquivalentLineForModifiedLineNumber(t){const s=this._getLineChangeAtOrBeforeLineNumber(t,Ve=>Ve.modifiedStartLineNumber);if(!s)return t;const c=s.originalStartLineNumber+(s.originalEndLineNumber>0?-1:0),P=s.modifiedStartLineNumber+(s.modifiedEndLineNumber>0?-1:0),H=s.originalEndLineNumber>0?s.originalEndLineNumber-s.originalStartLineNumber+1:0,ne=s.modifiedEndLineNumber>0?s.modifiedEndLineNumber-s.modifiedStartLineNumber+1:0,pe=t-P;return pe<=ne?c+Math.min(pe,H):c+H-ne+pe}getDiffLineInformationForOriginal(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null}getDiffLineInformationForModified(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null}};Qr.ONE_OVERVIEW_WIDTH=15,Qr.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Qr.UPDATE_DIFF_DECORATIONS_DELAY=200,Qr=Sl([Fr(3,$a.p),Fr(4,ys.i6),Fr(5,dr.TG),Fr(6,se.$),Fr(7,ir.XE),Fr(8,mr.lT),Fr(9,gr.i),Fr(10,Za.ek)],Qr);class wl extends Re.JT{constructor(t){super(),this._dataSource=t,this._insertColor=null,this._removeColor=null}applyColors(t){const s=t.getColor(Rs.P6Y)||(t.getColor(Rs.ypS)||Rs.CzK).transparent(2),c=t.getColor(Rs.F9q)||(t.getColor(Rs.P4M)||Rs.keg).transparent(2),P=!s.equals(this._insertColor)||!c.equals(this._removeColor);return this._insertColor=s,this._removeColor=c,P}getEditorsDiffDecorations(t,s,c,P,H,ne){ne=ne.sort((Je,gt)=>Je.afterLineNumber-gt.afterLineNumber),H=H.sort((Je,gt)=>Je.afterLineNumber-gt.afterLineNumber);const pe=this._getViewZones(t,H,ne,c),Ve=this._getOriginalEditorDecorations(pe,t,s,c),$e=this._getModifiedEditorDecorations(pe,t,s,c,P);return{original:{decorations:Ve.decorations,overviewZones:Ve.overviewZones,zones:pe.original},modified:{decorations:$e.decorations,overviewZones:$e.overviewZones,zones:pe.modified}}}setBoundarySashes(t){}}class Ll{constructor(t){this._source=t,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class zo{constructor(t,s,c,P,H){this._lineChanges=t,this._originalForeignVZ=s,this._modifiedForeignVZ=c,this._originalEditor=P,this._modifiedEditor=H}static _getViewLineCount(t,s,c){const P=t.getModel(),H=t._getViewModel();if(P&&H){const ne=va(P,H,s,c);return ne.endLineNumber-ne.startLineNumber+1}return c-s+1}getViewZones(){const t=this._originalEditor.getOption(64),s=this._modifiedEditor.getOption(64),c=this._originalEditor.getOption(140).wrappingColumn!==-1,P=this._modifiedEditor.getOption(140).wrappingColumn!==-1,H=c||P,ne=this._originalEditor.getModel(),pe=this._originalEditor._getViewModel().coordinatesConverter,Ve=this._modifiedEditor._getViewModel().coordinatesConverter,$e={original:[],modified:[]};let Je=0,gt=0,jt=0,qt=0,_i=0,Li=0;const Gi=(ns,kn)=>ns.afterLineNumber-kn.afterLineNumber,un=(ns,kn)=>{if(kn.domNode===null&&ns.length>0){const fn=ns[ns.length-1];if(fn.afterLineNumber===kn.afterLineNumber&&fn.domNode===null){fn.heightInLines+=kn.heightInLines;return}}ns.push(kn)},mn=new Ll(this._modifiedForeignVZ),dn=new Ll(this._originalForeignVZ);let qi=1,qn=1;for(let ns=0,kn=this._lineChanges.length;ns<=kn;ns++){const fn=ns<kn?this._lineChanges[ns]:null;fn!==null?(jt=fn.originalStartLineNumber+(fn.originalEndLineNumber>0?-1:0),qt=fn.modifiedStartLineNumber+(fn.modifiedEndLineNumber>0?-1:0),gt=fn.originalEndLineNumber>0?zo._getViewLineCount(this._originalEditor,fn.originalStartLineNumber,fn.originalEndLineNumber):0,Je=fn.modifiedEndLineNumber>0?zo._getViewLineCount(this._modifiedEditor,fn.modifiedStartLineNumber,fn.modifiedEndLineNumber):0,_i=Math.max(fn.originalStartLineNumber,fn.originalEndLineNumber),Li=Math.max(fn.modifiedStartLineNumber,fn.modifiedEndLineNumber)):(jt+=1e7+gt,qt+=1e7+Je,_i=jt,Li=qt);let zn=[],Hs=[];if(H){let ls;fn?fn.originalEndLineNumber>0?ls=fn.originalStartLineNumber-qi:ls=fn.modifiedStartLineNumber-qn:ls=ne.getLineCount()-qi+1;for(let Lo=0;Lo<ls;Lo++){const ga=qi+Lo,Fo=qn+Lo,ya=pe.getModelLineViewLineCount(ga),ja=Ve.getModelLineViewLineCount(Fo);ya<ja?zn.push({afterLineNumber:ga,heightInLines:ja-ya,domNode:null,marginDomNode:null}):ya>ja&&Hs.push({afterLineNumber:Fo,heightInLines:ya-ja,domNode:null,marginDomNode:null})}fn&&(qi=(fn.originalEndLineNumber>0?fn.originalEndLineNumber:fn.originalStartLineNumber)+1,qn=(fn.modifiedEndLineNumber>0?fn.modifiedEndLineNumber:fn.modifiedStartLineNumber)+1)}for(;mn.current&&mn.current.afterLineNumber<=Li;){let ls;mn.current.afterLineNumber<=qt?ls=jt-qt+mn.current.afterLineNumber:ls=_i;let Lo=null;fn&&fn.modifiedStartLineNumber<=mn.current.afterLineNumber&&mn.current.afterLineNumber<=fn.modifiedEndLineNumber&&(Lo=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),zn.push({afterLineNumber:ls,heightInLines:mn.current.height/s,domNode:null,marginDomNode:Lo}),mn.advance()}for(;dn.current&&dn.current.afterLineNumber<=_i;){let ls;dn.current.afterLineNumber<=jt?ls=qt-jt+dn.current.afterLineNumber:ls=Li,Hs.push({afterLineNumber:ls,heightInLines:dn.current.height/t,domNode:null}),dn.advance()}if(fn!==null&&aa(fn)){const ls=this._produceOriginalFromDiff(fn,gt,Je);ls&&zn.push(ls)}if(fn!==null&&ul(fn)){const ls=this._produceModifiedFromDiff(fn,gt,Je);ls&&Hs.push(ls)}let Hn=0,$s=0;for(zn=zn.sort(Gi),Hs=Hs.sort(Gi);Hn<zn.length&&$s<Hs.length;){const ls=zn[Hn],Lo=Hs[$s],ga=ls.afterLineNumber-jt,Fo=Lo.afterLineNumber-qt;ga<Fo?(un($e.original,ls),Hn++):Fo<ga?(un($e.modified,Lo),$s++):ls.shouldNotShrink?(un($e.original,ls),Hn++):Lo.shouldNotShrink?(un($e.modified,Lo),$s++):ls.heightInLines>=Lo.heightInLines?(ls.heightInLines-=Lo.heightInLines,$s++):(Lo.heightInLines-=ls.heightInLines,Hn++)}for(;Hn<zn.length;)un($e.original,zn[Hn]),Hn++;for(;$s<Hs.length;)un($e.modified,Hs[$s]),$s++}return{original:zo._ensureDomNodes($e.original),modified:zo._ensureDomNodes($e.modified)}}static _ensureDomNodes(t){return t.map(s=>(s.domNode||(s.domNode=hl()),s))}}function Ur(y,t,s,c,P){return{range:new M.e(y,t,s,c),options:P}}const Mo={arrowRevertChange:wo.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+Wo.k.asClassName(lo.l.arrowRight)}),charDelete:wo.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:wo.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:wo.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:wo.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:wo.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:wo.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Wo.k.asClassName(Ir),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:wo.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:wo.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Wo.k.asClassName(ma),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:wo.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class pa extends wl{constructor(t,s){super(t),this._disableSash=s===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new zr.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(c=>this._onSashDrag(c)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(t){const s=t===!1;this._disableSash!==s&&(this._disableSash=s,this._sash.state=this._disableSash?0:3)}layout(t=this._sashRatio){const c=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Qr.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let P=Math.floor((t||.5)*c);const H=Math.floor(.5*c);return P=this._disableSash?H:P||H,c>pa.MINIMUM_EDITOR_WIDTH*2?(P<pa.MINIMUM_EDITOR_WIDTH&&(P=pa.MINIMUM_EDITOR_WIDTH),P>c-pa.MINIMUM_EDITOR_WIDTH&&(P=c-pa.MINIMUM_EDITOR_WIDTH)):P=H,this._sashPosition!==P&&(this._sashPosition=P),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(t){const c=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Qr.ENTIRE_DIFF_OVERVIEW_WIDTH:0),P=this.layout((this._startSashPosition+(t.currentX-t.startX))/c);this._sashRatio=P/c,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(t){return 0}getVerticalSashLeft(t){return this._sashPosition}getVerticalSashHeight(t){return this._dataSource.getHeight()}setBoundarySashes(t){this._sash.orthogonalEndSash=t.bottom}_getViewZones(t,s,c){const P=this._dataSource.getOriginalEditor(),H=this._dataSource.getModifiedEditor();return new jl(t,s,c,P,H).getViewZones()}_getOriginalEditorDecorations(t,s,c,P){const H=this._dataSource.getOriginalEditor(),ne=String(this._removeColor),pe={decorations:[],overviewZones:[]},Ve=H.getModel(),$e=H._getViewModel();for(const Je of s)if(ul(Je)){pe.decorations.push({range:new M.e(Je.originalStartLineNumber,1,Je.originalEndLineNumber,1073741824),options:P?Mo.lineDeleteWithSign:Mo.lineDelete}),(!aa(Je)||!Je.charChanges)&&pe.decorations.push(Ur(Je.originalStartLineNumber,1,Je.originalEndLineNumber,1073741824,Mo.charDeleteWholeLine));const gt=va(Ve,$e,Je.originalStartLineNumber,Je.originalEndLineNumber);if(pe.overviewZones.push(new Ko.EY(gt.startLineNumber,gt.endLineNumber,0,ne)),Je.charChanges){for(const jt of Je.charChanges)if(Dl(jt))if(c)for(let qt=jt.originalStartLineNumber;qt<=jt.originalEndLineNumber;qt++){let _i,Li;qt===jt.originalStartLineNumber?_i=jt.originalStartColumn:_i=Ve.getLineFirstNonWhitespaceColumn(qt),qt===jt.originalEndLineNumber?Li=jt.originalEndColumn:Li=Ve.getLineLastNonWhitespaceColumn(qt),pe.decorations.push(Ur(qt,_i,qt,Li,Mo.charDelete))}else pe.decorations.push(Ur(jt.originalStartLineNumber,jt.originalStartColumn,jt.originalEndLineNumber,jt.originalEndColumn,Mo.charDelete))}}return pe}_getModifiedEditorDecorations(t,s,c,P,H){const ne=this._dataSource.getModifiedEditor(),pe=String(this._insertColor),Ve={decorations:[],overviewZones:[]},$e=ne.getModel(),Je=ne._getViewModel();for(const gt of s){if(H)if(gt.modifiedEndLineNumber>0)Ve.decorations.push({range:new M.e(gt.modifiedStartLineNumber,1,gt.modifiedStartLineNumber,1),options:Mo.arrowRevertChange});else{const jt=t.modified.find(qt=>qt.afterLineNumber===gt.modifiedStartLineNumber);jt&&(jt.marginDomNode=fl())}if(aa(gt)){Ve.decorations.push({range:new M.e(gt.modifiedStartLineNumber,1,gt.modifiedEndLineNumber,1073741824),options:P?Mo.lineInsertWithSign:Mo.lineInsert}),(!ul(gt)||!gt.charChanges)&&Ve.decorations.push(Ur(gt.modifiedStartLineNumber,1,gt.modifiedEndLineNumber,1073741824,Mo.charInsertWholeLine));const jt=va($e,Je,gt.modifiedStartLineNumber,gt.modifiedEndLineNumber);if(Ve.overviewZones.push(new Ko.EY(jt.startLineNumber,jt.endLineNumber,0,pe)),gt.charChanges){for(const qt of gt.charChanges)if(Aa(qt))if(c)for(let _i=qt.modifiedStartLineNumber;_i<=qt.modifiedEndLineNumber;_i++){let Li,Gi;_i===qt.modifiedStartLineNumber?Li=qt.modifiedStartColumn:Li=$e.getLineFirstNonWhitespaceColumn(_i),_i===qt.modifiedEndLineNumber?Gi=qt.modifiedEndColumn:Gi=$e.getLineLastNonWhitespaceColumn(_i),Ve.decorations.push(Ur(_i,Li,_i,Gi,Mo.charInsert))}else Ve.decorations.push(Ur(qt.modifiedStartLineNumber,qt.modifiedStartColumn,qt.modifiedEndLineNumber,qt.modifiedEndColumn,Mo.charInsert))}}}return Ve}}pa.MINIMUM_EDITOR_WIDTH=100;class jl extends zo{constructor(t,s,c,P,H){super(t,s,c,P,H)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(t,s,c){return c>s?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:c-s,domNode:null}:null}_produceModifiedFromDiff(t,s,c){return s>c?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:s-c,domNode:null}:null}}class Ya extends wl{constructor(t,s){super(t),this._decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(t.getOriginalEditor().onDidLayoutChange(c=>{this._decorationsLeft!==c.decorationsLeft&&(this._decorationsLeft=c.decorationsLeft,t.relayoutEditors())}))}setEnableSplitViewResizing(t){}_getViewZones(t,s,c,P){const H=this._dataSource.getOriginalEditor(),ne=this._dataSource.getModifiedEditor();return new dl(t,s,c,H,ne,P).getViewZones()}_getOriginalEditorDecorations(t,s,c,P){const H=String(this._removeColor),ne={decorations:[],overviewZones:[]},pe=this._dataSource.getOriginalEditor(),Ve=pe.getModel(),$e=pe._getViewModel();let Je=0;for(const gt of s)if(ul(gt)){for(ne.decorations.push({range:new M.e(gt.originalStartLineNumber,1,gt.originalEndLineNumber,1073741824),options:Mo.lineDeleteMargin});Je<t.modified.length;){const _i=t.modified[Je];if(_i.diff&&_i.diff.originalStartLineNumber>=gt.originalStartLineNumber)break;Je++}let jt=0;if(Je<t.modified.length){const _i=t.modified[Je];_i.diff&&_i.diff.originalStartLineNumber===gt.originalStartLineNumber&&_i.diff.originalEndLineNumber===gt.originalEndLineNumber&&_i.diff.modifiedStartLineNumber===gt.modifiedStartLineNumber&&_i.diff.modifiedEndLineNumber===gt.modifiedEndLineNumber&&(jt=_i.heightInLines)}const qt=va(Ve,$e,gt.originalStartLineNumber,gt.originalEndLineNumber);ne.overviewZones.push(new Ko.EY(qt.startLineNumber,qt.endLineNumber,jt,H))}return ne}_getModifiedEditorDecorations(t,s,c,P,H){const ne=this._dataSource.getModifiedEditor(),pe=String(this._insertColor),Ve={decorations:[],overviewZones:[]},$e=ne.getModel(),Je=ne._getViewModel();for(const gt of s)if(aa(gt)){Ve.decorations.push({range:new M.e(gt.modifiedStartLineNumber,1,gt.modifiedEndLineNumber,1073741824),options:P?Mo.lineInsertWithSign:Mo.lineInsert});const jt=va($e,Je,gt.modifiedStartLineNumber,gt.modifiedEndLineNumber);if(Ve.overviewZones.push(new Ko.EY(jt.startLineNumber,jt.endLineNumber,0,pe)),gt.charChanges){for(const qt of gt.charChanges)if(Aa(qt))if(c)for(let _i=qt.modifiedStartLineNumber;_i<=qt.modifiedEndLineNumber;_i++){let Li,Gi;_i===qt.modifiedStartLineNumber?Li=qt.modifiedStartColumn:Li=$e.getLineFirstNonWhitespaceColumn(_i),_i===qt.modifiedEndLineNumber?Gi=qt.modifiedEndColumn:Gi=$e.getLineLastNonWhitespaceColumn(_i),Ve.decorations.push(Ur(_i,Li,_i,Gi,Mo.charInsert))}else Ve.decorations.push(Ur(qt.modifiedStartLineNumber,qt.modifiedStartColumn,qt.modifiedEndLineNumber,qt.modifiedEndColumn,Mo.charInsert))}else Ve.decorations.push(Ur(gt.modifiedStartLineNumber,1,gt.modifiedEndLineNumber,1073741824,Mo.charInsertWholeLine))}return Ve}layout(){return Math.max(5,this._decorationsLeft)}}class dl extends zo{constructor(t,s,c,P,H,ne){super(t,s,c,P,H),this._originalModel=P.getModel(),this._renderIndicators=ne,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const t=super.getViewZones();return this._finalize(t),t}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const t=document.createElement("div");return t.className="inline-added-margin-view-zone",t}_produceOriginalFromDiff(t,s,c){const P=document.createElement("div");return P.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:c,domNode:document.createElement("div"),marginDomNode:P}}_produceModifiedFromDiff(t,s,c){const P=document.createElement("div");P.className=`view-lines line-delete ${ar.S}`;const H=document.createElement("div");H.className="inline-deleted-margin-view-zone";const ne={shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:s,minWidthInPx:0,domNode:P,marginDomNode:H,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let pe=t.originalStartLineNumber;pe<=t.originalEndLineNumber;pe++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(pe),null,null);return this._pendingLineChange.push(t),this._pendingViewZones.push(ne),ne}_finalize(t){const s=this._modifiedEditor.getOptions(),c=this._modifiedEditor.getModel().getOptions().tabSize,P=s.get(48),H=s.get(31),ne=P.typicalHalfwidthCharacterWidth,pe=s.get(99),Ve=this._originalModel.mightContainNonBasicASCII(),$e=this._originalModel.mightContainRTL(),Je=s.get(64),jt=s.get(139).decorationsWidth,qt=s.get(112),_i=s.get(94),Li=s.get(89),Gi=s.get(49),un=this._lineBreaksComputer.finalize();let mn=0;for(let dn=0;dn<this._pendingLineChange.length;dn++){const qi=this._pendingLineChange[dn],qn=this._pendingViewZones[dn],ns=qn.domNode;(0,Ar.N)(ns,P);const kn=qn.marginDomNode;(0,Ar.N)(kn,P);const fn=[];if(qi.charChanges)for(const Fo of qi.charChanges)Dl(Fo)&&fn.push(new _t.$t(new M.e(Fo.originalStartLineNumber,Fo.originalStartColumn,Fo.originalEndLineNumber,Fo.originalEndColumn),"char-delete",0));const zn=fn.length>0,Hs=new jo.HT(1e4);let Hn=0,$s=0,ls=null;for(let Fo=qi.originalStartLineNumber;Fo<=qi.originalEndLineNumber;Fo++){const ya=Fo-qi.originalStartLineNumber,ja=this._originalModel.tokenization.getLineTokens(Fo),cl=ja.getLineContent(),Cl=un[mn++],Oa=_o.Kp.filter(fn,Fo,1,cl.length+1);if(Cl){let Fd=0;for(const Bd of Cl.breakOffsets){const hm=ja.sliceAndInflate(Fd,Bd,0),fm=cl.substring(Fd,Bd);Hn=Math.max(Hn,this._renderOriginalLine($s++,fm,hm,_o.Kp.extractWrapped(Oa,Fd,Bd),zn,Ve,$e,P,H,Je,jt,qt,_i,Li,Gi,c,Hs,kn)),Fd=Bd}for(ls||(ls=[]);ls.length<ya;)ls[ls.length]=1;ls[ya]=Cl.breakOffsets.length,qn.heightInLines+=Cl.breakOffsets.length-1;const fh=document.createElement("div");fh.className="gutter-delete",t.original.push({afterLineNumber:Fo,afterColumn:0,heightInLines:Cl.breakOffsets.length-1,domNode:hl(),marginDomNode:fh})}else Hn=Math.max(Hn,this._renderOriginalLine($s++,cl,ja,Oa,zn,Ve,$e,P,H,Je,jt,qt,_i,Li,Gi,c,Hs,kn))}Hn+=pe;const Lo=Hs.build(),ga=La?La.createHTML(Lo):Lo;if(ns.innerHTML=ga,qn.minWidthInPx=Hn*ne,ls){const Fo=qi.originalEndLineNumber-qi.originalStartLineNumber;for(;ls.length<=Fo;)ls[ls.length]=1}qn.diff.viewLineCounts=ls}t.original.sort((dn,qi)=>dn.afterLineNumber-qi.afterLineNumber)}_renderOriginalLine(t,s,c,P,H,ne,pe,Ve,$e,Je,gt,jt,qt,_i,Li,Gi,un,mn){un.appendString('<div class="view-line'),H||un.appendString(" char-delete"),un.appendString('" style="top:'),un.appendString(String(t*Je)),un.appendString('px;width:1000000px;">');const dn=_t.wA.isBasicASCII(s,ne),qi=_t.wA.containsRTL(s,dn,pe),qn=(0,at.d1)(new at.IJ(Ve.isMonospace&&!$e,Ve.canUseHalfwidthRightwardsArrow,s,!1,dn,qi,0,c,P,Gi,0,Ve.spaceWidth,Ve.middotWidth,Ve.wsmiddotWidth,jt,qt,_i,Li!==m.n0.OFF,null),un);if(un.appendString("</div>"),this._renderIndicators){const ns=document.createElement("div");ns.className=`delete-sign ${Wo.k.asClassName(ma)}`,ns.setAttribute("style",`position:absolute;top:${t*Je}px;width:${gt}px;height:${Je}px;right:0;`),mn.appendChild(ns)}return qn.characterMapping.getHorizontalOffset(qn.characterMapping.length)}}function Ea(y,t){return(0,m.NY)(y,t,["off","on","inherit"])}function aa(y){return y.modifiedEndLineNumber>0}function ul(y){return y.originalEndLineNumber>0}function Aa(y){return y.modifiedStartLineNumber===y.modifiedEndLineNumber?y.modifiedEndColumn-y.modifiedStartColumn>0:y.modifiedEndLineNumber-y.modifiedStartLineNumber>0}function Dl(y){return y.originalStartLineNumber===y.originalEndLineNumber?y.originalEndColumn-y.originalStartColumn>0:y.originalEndLineNumber-y.originalStartLineNumber>0}function hl(){const y=document.createElement("div");return y.className="diagonal-fill",y}function fl(){const y=document.createElement("div");return y.className="arrow-revert-change "+Wo.k.asClassName(lo.l.arrowRight),ni.$("div",{},y)}function va(y,t,s,c){const P=y.getLineCount();return s=Math.min(P,Math.max(1,s)),c=Math.min(P,Math.max(1,c)),t.coordinatesConverter.convertModelRangeToViewRange(new M.e(s,y.getLineMinColumn(s),c,y.getLineMaxColumn(c)))}function xa(y,t){return{enableSplitViewResizing:(0,m.O7)(y.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:(0,m.O7)(y.renderSideBySide,t.renderSideBySide),renderMarginRevertIcon:(0,m.O7)(y.renderMarginRevertIcon,t.renderMarginRevertIcon),maxComputationTime:(0,m.Zc)(y.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:(0,m.Zc)(y.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,m.O7)(y.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:(0,m.O7)(y.renderIndicators,t.renderIndicators),originalEditable:(0,m.O7)(y.originalEditable,t.originalEditable),diffCodeLens:(0,m.O7)(y.diffCodeLens,t.diffCodeLens),renderOverviewRuler:(0,m.O7)(y.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:Ea(y.diffWordWrap,t.diffWordWrap),diffAlgorithm:(0,m.NY)(y.diffAlgorithm,t.diffAlgorithm,["smart","experimental"])}}function Al(y,t){return{enableSplitViewResizing:y.enableSplitViewResizing!==t.enableSplitViewResizing,renderSideBySide:y.renderSideBySide!==t.renderSideBySide,renderMarginRevertIcon:y.renderMarginRevertIcon!==t.renderMarginRevertIcon,maxComputationTime:y.maxComputationTime!==t.maxComputationTime,maxFileSize:y.maxFileSize!==t.maxFileSize,ignoreTrimWhitespace:y.ignoreTrimWhitespace!==t.ignoreTrimWhitespace,renderIndicators:y.renderIndicators!==t.renderIndicators,originalEditable:y.originalEditable!==t.originalEditable,diffCodeLens:y.diffCodeLens!==t.diffCodeLens,renderOverviewRuler:y.renderOverviewRuler!==t.renderOverviewRuler,diffWordWrap:y.diffWordWrap!==t.diffWordWrap,diffAlgorithm:y.diffAlgorithm!==t.diffAlgorithm}}(0,ir.Ic)((y,t)=>{const s=y.getColor(Rs.L_t);t.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${s} 12.5%,
			#0000 12.5%, #0000 50%,
			${s} 50%, ${s} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var gl=i(36031),Xs=i(5007),ka=i(17979),is=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},ws=function(y,t){return function(s,c){t(s,c,y)}},Js=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};let to=class extends Re.JT{constructor(t){super(),this._themeService=t,this._onWillCreateCodeEditor=this._register(new f.Q5),this._onCodeEditorAdd=this._register(new f.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new f.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new f.Q5),this._onDiffEditorAdd=this._register(new f.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new f.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new ka.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)}removeCodeEditor(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)}listCodeEditors(){return Object.keys(this._codeEditors).map(t=>this._codeEditors[t])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)}removeDiffEditor(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)}listDiffEditors(){return Object.keys(this._diffEditors).map(t=>this._diffEditors[t])}getFocusedCodeEditor(){let t=null;const s=this.listCodeEditors();for(const c of s){if(c.hasTextFocus())return c;c.hasWidgetFocus()&&(t=c)}return t}removeDecorationType(t){const s=this._decorationOptionProviders.get(t);s&&(s.refCount--,s.refCount<=0&&(this._decorationOptionProviders.delete(t),s.dispose(),this.listCodeEditors().forEach(c=>c.removeDecorationsByType(t))))}setModelProperty(t,s,c){const P=t.toString();let H;this._modelProperties.has(P)?H=this._modelProperties.get(P):(H=new Map,this._modelProperties.set(P,H)),H.set(s,c)}getModelProperty(t,s){const c=t.toString();if(this._modelProperties.has(c))return this._modelProperties.get(c).get(s)}openCodeEditor(t,s,c){return Js(this,void 0,void 0,function*(){for(const P of this._codeEditorOpenHandlers){const H=yield P(t,s,c);if(H!==null)return H}return null})}registerCodeEditorOpenHandler(t){const s=this._codeEditorOpenHandlers.unshift(t);return(0,Re.OF)(s)}};to=is([ws(0,ir.XE)],to);class Eo{constructor(t){this._styleSheet=t}}var Ds=i(53061),Ia=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Na=function(y,t){return function(s,c){t(s,c,y)}},ml=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};let _a=class extends to{constructor(t,s){super(s),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((c,P,H)=>ml(this,void 0,void 0,function*(){return P?this.doOpenEditor(P,c):null}))}_checkContextKey(){let t=!1;for(const s of this.listCodeEditors())if(!s.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(t,s){if(!this.findModel(t,s.resource)){if(s.resource){const H=s.resource.scheme;if(H===Xs.lg.http||H===Xs.lg.https)return(0,ni.V3)(s.resource.toString()),t}return null}const P=s.options?s.options.selection:null;if(P)if(typeof P.endLineNumber=="number"&&typeof P.endColumn=="number")t.setSelection(P),t.revealRangeInCenter(P,1);else{const H={lineNumber:P.startLineNumber,column:P.startColumn};t.setPosition(H),t.revealPositionInCenter(H,1)}return t}findModel(t,s){const c=t.getModel();return c&&c.uri.toString()!==s.toString()?null:c}};_a=Ia([Na(0,ys.i6),Na(1,ir.XE)],_a),(0,Ds.z)(se.$,_a,0);const Qa=(0,dr.yh)("layoutService");var Lc=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Ca=function(y,t){return function(s,c){t(s,c,y)}};let kl=class{get dimension(){return this._dimension||(this._dimension=ni.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()}constructor(t){this._codeEditorService=t,this.onDidLayout=f.ju.None,this.offset={top:0,quickPickTop:0}}};kl=Lc([Ca(0,se.$)],kl);let El=class extends kl{get hasContainer(){return!1}get container(){return this._container}constructor(t,s){super(s),this._container=t}};El=Lc([Ca(1,se.$)],El),(0,Ds.z)(Qa,kl,1);var Nr=i(87068),Fl=i(5267),Xr=i(48900),Kl=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Dc=function(y,t){return function(s,c){t(s,c,y)}},pl=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};const xl=!1;function Il(y){return y.scheme===Xs.lg.file?y.fsPath:y.path}let $l=0;class Gl{constructor(t,s,c,P,H,ne,pe){this.id=++$l,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=s,this.strResource=c,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=P,this.groupOrder=H,this.sourceId=ne,this.sourceOrder=pe,this.isValid=!0}setValid(t){this.isValid=t}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ec{constructor(t,s){this.resourceLabel=t,this.reason=s}}class xc{constructor(){this.elements=new Map}createMessage(){const t=[],s=[];for(const[,P]of this.elements)(P.reason===0?t:s).push(P.resourceLabel);const c=[];return t.length>0&&c.push(ln.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",t.join(", "))),s.length>0&&c.push(ln.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",s.join(", "))),c.join(`
`)}get size(){return this.elements.size}has(t){return this.elements.has(t)}set(t,s){this.elements.set(t,s)}delete(t){return this.elements.delete(t)}}class Zl{constructor(t,s,c,P,H,ne,pe){this.id=++$l,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=s,this.strResources=c,this.groupId=P,this.groupOrder=H,this.sourceId=ne,this.sourceOrder=pe,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(t,s,c){this.removedResources||(this.removedResources=new xc),this.removedResources.has(s)||this.removedResources.set(s,new Ec(t,c))}setValid(t,s,c){c?this.invalidatedResources&&(this.invalidatedResources.delete(s),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new xc),this.invalidatedResources.has(s)||this.invalidatedResources.set(s,new Ec(t,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ic{constructor(t,s){this.resourceLabel=t,this.strResource=s,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const t of this._past)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const t=[];t.push(`* ${this.strResource}:`);for(let s=0;s<this._past.length;s++)t.push(`   * [UNDO] ${this._past[s]}`);for(let s=this._future.length-1;s>=0;s--)t.push(`   * [REDO] ${this._future[s]}`);return t.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(t,s){t.type===1?t.setValid(this.resourceLabel,this.strResource,s):t.setValid(s)}setElementsValidFlag(t,s){for(const c of this._past)s(c.actual)&&this._setElementValidFlag(c,t);for(const c of this._future)s(c.actual)&&this._setElementValidFlag(c,t)}pushElement(t){for(const s of this._future)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(t),this.versionId++}createSnapshot(t){const s=[];for(let c=0,P=this._past.length;c<P;c++)s.push(this._past[c].id);for(let c=this._future.length-1;c>=0;c--)s.push(this._future[c].id);return new Xr.YO(t,s)}restoreSnapshot(t){const s=t.elements.length;let c=!0,P=0,H=-1;for(let pe=0,Ve=this._past.length;pe<Ve;pe++,P++){const $e=this._past[pe];c&&(P>=s||$e.id!==t.elements[P])&&(c=!1,H=0),!c&&$e.type===1&&$e.removeResource(this.resourceLabel,this.strResource,0)}let ne=-1;for(let pe=this._future.length-1;pe>=0;pe--,P++){const Ve=this._future[pe];c&&(P>=s||Ve.id!==t.elements[P])&&(c=!1,ne=pe),!c&&Ve.type===1&&Ve.removeResource(this.resourceLabel,this.strResource,0)}H!==-1&&(this._past=this._past.slice(0,H)),ne!==-1&&(this._future=this._future.slice(ne+1)),this.versionId++}getElements(){const t=[],s=[];for(const c of this._past)t.push(c.actual);for(const c of this._future)s.push(c.actual);return{past:t,future:s}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(t,s){for(let c=this._past.length-1;c>=0;c--)if(this._past[c]===t){s.has(this.strResource)?this._past[c]=s.get(this.strResource):this._past.splice(c,1);break}this.versionId++}splitFutureWorkspaceElement(t,s){for(let c=this._future.length-1;c>=0;c--)if(this._future[c]===t){s.has(this.strResource)?this._future[c]=s.get(this.strResource):this._future.splice(c,1);break}this.versionId++}moveBackward(t){this._past.pop(),this._future.push(t),this.versionId++}moveForward(t){this._future.pop(),this._past.push(t),this.versionId++}}class ba{constructor(t){this.editStacks=t,this._versionIds=[];for(let s=0,c=this.editStacks.length;s<c;s++)this._versionIds[s]=this.editStacks[s].versionId}isValid(){for(let t=0,s=this.editStacks.length;t<s;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0}}const lc=new Ic("","");lc.locked=!0;let Yl=class{constructor(t,s){this._dialogService=t,this._notificationService=s,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(t){for(const s of this._uriComparisonKeyComputers)if(s[0]===t.scheme)return s[1].getComparisonKey(t);return t.toString()}_print(t){console.log("------------------------------------"),console.log(`AFTER ${t}: `);const s=[];for(const c of this._editStacks)s.push(c[1].toString());console.log(s.join(`
`))}pushElement(t,s=Xr.Xt.None,c=Xr.gJ.None){if(t.type===0){const P=Il(t.resource),H=this.getUriComparisonKey(t.resource);this._pushElement(new Gl(t,P,H,s.id,s.nextOrder(),c.id,c.nextOrder()))}else{const P=new Set,H=[],ne=[];for(const pe of t.resources){const Ve=Il(pe),$e=this.getUriComparisonKey(pe);P.has($e)||(P.add($e),H.push(Ve),ne.push($e))}H.length===1?this._pushElement(new Gl(t,H[0],ne[0],s.id,s.nextOrder(),c.id,c.nextOrder())):this._pushElement(new Zl(t,H,ne,s.id,s.nextOrder(),c.id,c.nextOrder()))}xl&&this._print("pushElement")}_pushElement(t){for(let s=0,c=t.strResources.length;s<c;s++){const P=t.resourceLabels[s],H=t.strResources[s];let ne;this._editStacks.has(H)?ne=this._editStacks.get(H):(ne=new Ic(P,H),this._editStacks.set(H,ne)),ne.pushElement(t)}}getLastElement(t){const s=this.getUriComparisonKey(t);if(this._editStacks.has(s)){const c=this._editStacks.get(s);if(c.hasFutureElements())return null;const P=c.getClosestPastElement();return P?P.actual:null}return null}_splitPastWorkspaceElement(t,s){const c=t.actual.split(),P=new Map;for(const H of c){const ne=Il(H.resource),pe=this.getUriComparisonKey(H.resource),Ve=new Gl(H,ne,pe,0,0,0,0);P.set(Ve.strResource,Ve)}for(const H of t.strResources){if(s&&s.has(H))continue;this._editStacks.get(H).splitPastWorkspaceElement(t,P)}}_splitFutureWorkspaceElement(t,s){const c=t.actual.split(),P=new Map;for(const H of c){const ne=Il(H.resource),pe=this.getUriComparisonKey(H.resource),Ve=new Gl(H,ne,pe,0,0,0,0);P.set(Ve.strResource,Ve)}for(const H of t.strResources){if(s&&s.has(H))continue;this._editStacks.get(H).splitFutureWorkspaceElement(t,P)}}removeElements(t){const s=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(s)&&(this._editStacks.get(s).dispose(),this._editStacks.delete(s)),xl&&this._print("removeElements")}setElementsValidFlag(t,s,c){const P=this.getUriComparisonKey(t);this._editStacks.has(P)&&this._editStacks.get(P).setElementsValidFlag(s,c),xl&&this._print("setElementsValidFlag")}createSnapshot(t){const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).createSnapshot(t):new Xr.YO(t,[])}restoreSnapshot(t){const s=this.getUriComparisonKey(t.resource);if(this._editStacks.has(s)){const c=this._editStacks.get(s);c.restoreSnapshot(t),!c.hasPastElements()&&!c.hasFutureElements()&&(c.dispose(),this._editStacks.delete(s))}xl&&this._print("restoreSnapshot")}getElements(t){const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(t){if(!t)return[null,null];let s=null,c=null;for(const[P,H]of this._editStacks){const ne=H.getClosestPastElement();ne&&ne.sourceId===t&&(!s||ne.sourceOrder>s.sourceOrder)&&(s=ne,c=P)}return[s,c]}canUndo(t){if(t instanceof Xr.gJ){const[,c]=this._findClosestUndoElementWithSource(t.id);return!!c}const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).hasPastElements():!1}_onError(t,s){(0,ot.dL)(t);for(const c of s.strResources)this.removeElements(c);this._notificationService.error(t)}_acquireLocks(t){for(const s of t.editStacks)if(s.locked)throw new Error("Cannot acquire edit stack lock");for(const s of t.editStacks)s.locked=!0;return()=>{for(const s of t.editStacks)s.locked=!1}}_safeInvokeWithLocks(t,s,c,P,H){const ne=this._acquireLocks(c);let pe;try{pe=s()}catch(Ve){return ne(),P.dispose(),this._onError(Ve,t)}return pe?pe.then(()=>(ne(),P.dispose(),H()),Ve=>(ne(),P.dispose(),this._onError(Ve,t))):(ne(),P.dispose(),H())}_invokeWorkspacePrepare(t){return pl(this,void 0,void 0,function*(){if(typeof t.actual.prepareUndoRedo=="undefined")return Re.JT.None;const s=t.actual.prepareUndoRedo();return typeof s=="undefined"?Re.JT.None:s})}_invokeResourcePrepare(t,s){if(t.actual.type!==1||typeof t.actual.prepareUndoRedo=="undefined")return s(Re.JT.None);const c=t.actual.prepareUndoRedo();return c?(0,Re.Wf)(c)?s(c):c.then(P=>s(P)):s(Re.JT.None)}_getAffectedEditStacks(t){const s=[];for(const c of t.strResources)s.push(this._editStacks.get(c)||lc);return new ba(s)}_tryToSplitAndUndo(t,s,c,P){if(s.canSplit())return this._splitPastWorkspaceElement(s,c),this._notificationService.warn(P),new Bl(this._undo(t,0,!0));for(const H of s.strResources)this.removeElements(H);return this._notificationService.warn(P),new Bl}_checkWorkspaceUndo(t,s,c,P){if(s.removedResources)return this._tryToSplitAndUndo(t,s,s.removedResources,ln.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",s.label,s.removedResources.createMessage()));if(P&&s.invalidatedResources)return this._tryToSplitAndUndo(t,s,s.invalidatedResources,ln.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",s.label,s.invalidatedResources.createMessage()));const H=[];for(const pe of c.editStacks)pe.getClosestPastElement()!==s&&H.push(pe.resourceLabel);if(H.length>0)return this._tryToSplitAndUndo(t,s,null,ln.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",s.label,H.join(", ")));const ne=[];for(const pe of c.editStacks)pe.locked&&ne.push(pe.resourceLabel);return ne.length>0?this._tryToSplitAndUndo(t,s,null,ln.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",s.label,ne.join(", "))):c.isValid()?null:this._tryToSplitAndUndo(t,s,null,ln.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",s.label))}_workspaceUndo(t,s,c){const P=this._getAffectedEditStacks(s),H=this._checkWorkspaceUndo(t,s,P,!1);return H?H.returnValue:this._confirmAndExecuteWorkspaceUndo(t,s,P,c)}_isPartOfUndoGroup(t){if(!t.groupId)return!1;for(const[,s]of this._editStacks){const c=s.getClosestPastElement();if(c){if(c===t){const P=s.getSecondClosestPastElement();if(P&&P.groupId===t.groupId)return!0}if(c.groupId===t.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(t,s,c,P){return pl(this,void 0,void 0,function*(){if(s.canSplit()&&!this._isPartOfUndoGroup(s)){let pe;(function(Je){Je[Je.All=0]="All",Je[Je.This=1]="This",Je[Je.Cancel=2]="Cancel"})(pe||(pe={}));const{result:Ve}=yield this._dialogService.prompt({type:Nr.Z.Info,message:ln.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",s.label),buttons:[{label:ln.NC({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",c.editStacks.length),run:()=>pe.All},{label:ln.NC({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>pe.This}],cancelButton:{run:()=>pe.Cancel}});if(Ve===pe.Cancel)return;if(Ve===pe.This)return this._splitPastWorkspaceElement(s,null),this._undo(t,0,!0);const $e=this._checkWorkspaceUndo(t,s,c,!1);if($e)return $e.returnValue;P=!0}let H;try{H=yield this._invokeWorkspacePrepare(s)}catch(pe){return this._onError(pe,s)}const ne=this._checkWorkspaceUndo(t,s,c,!0);if(ne)return H.dispose(),ne.returnValue;for(const pe of c.editStacks)pe.moveBackward(s);return this._safeInvokeWithLocks(s,()=>s.actual.undo(),c,H,()=>this._continueUndoInGroup(s.groupId,P))})}_resourceUndo(t,s,c){if(!s.isValid){t.flushAllElements();return}if(t.locked){const P=ln.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",s.label);this._notificationService.warn(P);return}return this._invokeResourcePrepare(s,P=>(t.moveBackward(s),this._safeInvokeWithLocks(s,()=>s.actual.undo(),new ba([t]),P,()=>this._continueUndoInGroup(s.groupId,c))))}_findClosestUndoElementInGroup(t){if(!t)return[null,null];let s=null,c=null;for(const[P,H]of this._editStacks){const ne=H.getClosestPastElement();ne&&ne.groupId===t&&(!s||ne.groupOrder>s.groupOrder)&&(s=ne,c=P)}return[s,c]}_continueUndoInGroup(t,s){if(!t)return;const[,c]=this._findClosestUndoElementInGroup(t);if(c)return this._undo(c,0,s)}undo(t){if(t instanceof Xr.gJ){const[,s]=this._findClosestUndoElementWithSource(t.id);return s?this._undo(s,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)}_undo(t,s=0,c){if(!this._editStacks.has(t))return;const P=this._editStacks.get(t),H=P.getClosestPastElement();if(!H)return;if(H.groupId){const[pe,Ve]=this._findClosestUndoElementInGroup(H.groupId);if(H!==pe&&Ve)return this._undo(Ve,s,c)}if((H.sourceId!==s||H.confirmBeforeUndo)&&!c)return this._confirmAndContinueUndo(t,s,H);try{return H.type===1?this._workspaceUndo(t,H,c):this._resourceUndo(P,H,c)}finally{xl&&this._print("undo")}}_confirmAndContinueUndo(t,s,c){return pl(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:ln.NC("confirmDifferentSource","Would you like to undo '{0}'?",c.label),primaryButton:ln.NC({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:ln.NC("confirmDifferentSource.no","No")})).confirmed)return this._undo(t,s,!0)})}_findClosestRedoElementWithSource(t){if(!t)return[null,null];let s=null,c=null;for(const[P,H]of this._editStacks){const ne=H.getClosestFutureElement();ne&&ne.sourceId===t&&(!s||ne.sourceOrder<s.sourceOrder)&&(s=ne,c=P)}return[s,c]}canRedo(t){if(t instanceof Xr.gJ){const[,c]=this._findClosestRedoElementWithSource(t.id);return!!c}const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).hasFutureElements():!1}_tryToSplitAndRedo(t,s,c,P){if(s.canSplit())return this._splitFutureWorkspaceElement(s,c),this._notificationService.warn(P),new Bl(this._redo(t));for(const H of s.strResources)this.removeElements(H);return this._notificationService.warn(P),new Bl}_checkWorkspaceRedo(t,s,c,P){if(s.removedResources)return this._tryToSplitAndRedo(t,s,s.removedResources,ln.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",s.label,s.removedResources.createMessage()));if(P&&s.invalidatedResources)return this._tryToSplitAndRedo(t,s,s.invalidatedResources,ln.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",s.label,s.invalidatedResources.createMessage()));const H=[];for(const pe of c.editStacks)pe.getClosestFutureElement()!==s&&H.push(pe.resourceLabel);if(H.length>0)return this._tryToSplitAndRedo(t,s,null,ln.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",s.label,H.join(", ")));const ne=[];for(const pe of c.editStacks)pe.locked&&ne.push(pe.resourceLabel);return ne.length>0?this._tryToSplitAndRedo(t,s,null,ln.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",s.label,ne.join(", "))):c.isValid()?null:this._tryToSplitAndRedo(t,s,null,ln.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",s.label))}_workspaceRedo(t,s){const c=this._getAffectedEditStacks(s),P=this._checkWorkspaceRedo(t,s,c,!1);return P?P.returnValue:this._executeWorkspaceRedo(t,s,c)}_executeWorkspaceRedo(t,s,c){return pl(this,void 0,void 0,function*(){let P;try{P=yield this._invokeWorkspacePrepare(s)}catch(ne){return this._onError(ne,s)}const H=this._checkWorkspaceRedo(t,s,c,!0);if(H)return P.dispose(),H.returnValue;for(const ne of c.editStacks)ne.moveForward(s);return this._safeInvokeWithLocks(s,()=>s.actual.redo(),c,P,()=>this._continueRedoInGroup(s.groupId))})}_resourceRedo(t,s){if(!s.isValid){t.flushAllElements();return}if(t.locked){const c=ln.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",s.label);this._notificationService.warn(c);return}return this._invokeResourcePrepare(s,c=>(t.moveForward(s),this._safeInvokeWithLocks(s,()=>s.actual.redo(),new ba([t]),c,()=>this._continueRedoInGroup(s.groupId))))}_findClosestRedoElementInGroup(t){if(!t)return[null,null];let s=null,c=null;for(const[P,H]of this._editStacks){const ne=H.getClosestFutureElement();ne&&ne.groupId===t&&(!s||ne.groupOrder<s.groupOrder)&&(s=ne,c=P)}return[s,c]}_continueRedoInGroup(t){if(!t)return;const[,s]=this._findClosestRedoElementInGroup(t);if(s)return this._redo(s)}redo(t){if(t instanceof Xr.gJ){const[,s]=this._findClosestRedoElementWithSource(t.id);return s?this._redo(s):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))}_redo(t){if(!this._editStacks.has(t))return;const s=this._editStacks.get(t),c=s.getClosestFutureElement();if(c){if(c.groupId){const[P,H]=this._findClosestRedoElementInGroup(c.groupId);if(c!==P&&H)return this._redo(H)}try{return c.type===1?this._workspaceRedo(t,c):this._resourceRedo(s,c)}finally{xl&&this._print("redo")}}}};Yl=Kl([Dc(0,Fl.S),Dc(1,mr.lT)],Yl);class Bl{constructor(t){this.returnValue=t}}(0,Ds.z)(Xr.tJ,Yl,1);var cc=i(69060),Ql=i(76263),nr=i(76567),Uc=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Ta=function(y,t){return function(s,c){t(s,c,y)}};let dc=class extends Re.JT{constructor(t,s,c){super(),this._themeService=t,this._logService=s,this._languageService=c,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(t){return this._caches.has(t)||this._caches.set(t,new Ql.$(t.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(t)}};dc=Uc([Ta(0,ir.XE),Ta(1,Fi.VZ),Ta(2,me.O)],dc),(0,Ds.z)(nr.s,dc,1);var jc=i(7128),la=i(39832),ca=i(75296),Xl=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};const Jl="**",Nc="/",ql="[/\\\\]",Nt="[^/\\\\]",e=/\//g;function o(y,t){switch(y){case 0:return"";case 1:return`${Nt}*?`;default:return`(?:${ql}|${Nt}+${ql}${t?`|${ql}${Nt}+`:""})*?`}}function b(y,t){if(!y)return[];const s=[];let c=!1,P=!1,H="";for(const ne of y){switch(ne){case t:if(!c&&!P){s.push(H),H="";continue}break;case"{":c=!0;break;case"}":c=!1;break;case"[":P=!0;break;case"]":P=!1;break}H+=ne}return H&&s.push(H),s}function V(y){if(!y)return"";let t="";const s=b(y,Nc);if(s.every(c=>c===Jl))t=".*";else{let c=!1;s.forEach((P,H)=>{if(P===Jl){if(c)return;t+=o(2,H===s.length-1)}else{let ne=!1,pe="",Ve=!1,$e="";for(const Je of P){if(Je!=="}"&&ne){pe+=Je;continue}if(Ve&&(Je!=="]"||!$e)){let gt;Je==="-"?gt=Je:(Je==="^"||Je==="!")&&!$e?gt="^":Je===Nc?gt="":gt=(0,ie.ec)(Je),$e+=gt;continue}switch(Je){case"{":ne=!0;continue;case"[":Ve=!0;continue;case"}":{const jt=`(?:${b(pe,",").map(qt=>V(qt)).join("|")})`;t+=jt,ne=!1,pe="";break}case"]":{t+="["+$e+"]",Ve=!1,$e="";break}case"?":t+=Nt;continue;case"*":t+=o(1);continue;default:t+=(0,ie.ec)(Je)}}H<s.length-1&&(s[H+1]!==Jl||H+2<s.length)&&(t+=ql)}c=P===Jl})}return t}const Q=/^\*\*\/\*\.[\w\.-]+$/,Se=/^\*\*\/([\w\.-]+)\/?$/,Ae=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Ye=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,rt=/^\*\*((\/[\w\.-]+)+)\/?$/,st=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,vt=new la.z6(1e4),Ht=function(){return!1},Tt=function(){return null};function ei(y,t){if(!y)return Tt;let s;typeof y!="string"?s=y.pattern:s=y,s=s.trim();const c=`${s}_${!!t.trimForExclusions}`;let P=vt.get(c);if(P)return ai(P,y);let H;return Q.test(s)?P=bi(s.substr(4),s):(H=Se.exec(di(s,t)))?P=Ii(H[1],s):(t.trimForExclusions?Ye:Ae).test(s)?P=Bi(s,t):(H=rt.exec(di(s,t)))?P=nn(H[1].substr(1),s,!0):(H=st.exec(di(s,t)))?P=nn(H[1],s,!1):P=Yi(s),vt.set(c,P),ai(P,y)}function ai(y,t){if(typeof t=="string")return y;const s=function(c,P){return(0,jc.KM)(c,t.base,!ut.IJ)?y((0,ie.j3)(c.substr(t.base.length),ca.ir),P):null};return s.allBasenames=y.allBasenames,s.allPaths=y.allPaths,s.basenames=y.basenames,s.patterns=y.patterns,s}function di(y,t){return t.trimForExclusions&&y.endsWith("/**")?y.substr(0,y.length-2):y}function bi(y,t){return function(s,c){return typeof s=="string"&&s.endsWith(y)?t:null}}function Ii(y,t){const s=`/${y}`,c=`\\${y}`,P=function(ne,pe){return typeof ne!="string"?null:pe?pe===y?t:null:ne===y||ne.endsWith(s)||ne.endsWith(c)?t:null},H=[y];return P.basenames=H,P.patterns=[t],P.allBasenames=H,P}function Bi(y,t){const s=Un(y.slice(1,-1).split(",").map(pe=>ei(pe,t)).filter(pe=>pe!==Tt),y),c=s.length;if(!c)return Tt;if(c===1)return s[0];const P=function(pe,Ve){for(let $e=0,Je=s.length;$e<Je;$e++)if(s[$e](pe,Ve))return y;return null},H=s.find(pe=>!!pe.allBasenames);H&&(P.allBasenames=H.allBasenames);const ne=s.reduce((pe,Ve)=>Ve.allPaths?pe.concat(Ve.allPaths):pe,[]);return ne.length&&(P.allPaths=ne),P}function nn(y,t,s){const c=ca.ir===ca.KR.sep,P=c?y:y.replace(e,ca.ir),H=ca.ir+P,ne=ca.KR.sep+y;let pe;return s?pe=function(Ve,$e){return typeof Ve=="string"&&(Ve===P||Ve.endsWith(H)||!c&&(Ve===y||Ve.endsWith(ne)))?t:null}:pe=function(Ve,$e){return typeof Ve=="string"&&(Ve===P||!c&&Ve===y)?t:null},pe.allPaths=[(s?"*/":"./")+y],pe}function Yi(y){try{const t=new RegExp(`^${V(y)}$`);return function(s){return t.lastIndex=0,typeof s=="string"&&t.test(s)?y:null}}catch(t){return Tt}}function Sn(y,t,s){return!y||typeof t!="string"?!1:Ln(y)(t,void 0,s)}function Ln(y,t={}){if(!y)return Ht;if(typeof y=="string"||En(y)){const s=ei(y,t);if(s===Tt)return Ht;const c=function(P,H){return!!s(P,H)};return s.allBasenames&&(c.allBasenames=s.allBasenames),s.allPaths&&(c.allPaths=s.allPaths),c}return $i(y,t)}function En(y){const t=y;return t?typeof t.base=="string"&&typeof t.pattern=="string":!1}function $i(y,t){const s=Un(Object.getOwnPropertyNames(y).map(pe=>Xn(pe,y[pe],t)).filter(pe=>pe!==Tt)),c=s.length;if(!c)return Tt;if(!s.some(pe=>!!pe.requiresSiblings)){if(c===1)return s[0];const pe=function(Je,gt){let jt;for(let qt=0,_i=s.length;qt<_i;qt++){const Li=s[qt](Je,gt);if(typeof Li=="string")return Li;(0,qe.J8)(Li)&&(jt||(jt=[]),jt.push(Li))}return jt?(()=>Xl(this,void 0,void 0,function*(){for(const qt of jt){const _i=yield qt;if(typeof _i=="string")return _i}return null}))():null},Ve=s.find(Je=>!!Je.allBasenames);Ve&&(pe.allBasenames=Ve.allBasenames);const $e=s.reduce((Je,gt)=>gt.allPaths?Je.concat(gt.allPaths):Je,[]);return $e.length&&(pe.allPaths=$e),pe}const P=function(pe,Ve,$e){let Je,gt;for(let jt=0,qt=s.length;jt<qt;jt++){const _i=s[jt];_i.requiresSiblings&&$e&&(Ve||(Ve=(0,ca.EZ)(pe)),Je||(Je=Ve.substr(0,Ve.length-(0,ca.DZ)(pe).length)));const Li=_i(pe,Ve,Je,$e);if(typeof Li=="string")return Li;(0,qe.J8)(Li)&&(gt||(gt=[]),gt.push(Li))}return gt?(()=>Xl(this,void 0,void 0,function*(){for(const jt of gt){const qt=yield jt;if(typeof qt=="string")return qt}return null}))():null},H=s.find(pe=>!!pe.allBasenames);H&&(P.allBasenames=H.allBasenames);const ne=s.reduce((pe,Ve)=>Ve.allPaths?pe.concat(Ve.allPaths):pe,[]);return ne.length&&(P.allPaths=ne),P}function Xn(y,t,s){if(t===!1)return Tt;const c=ei(y,s);if(c===Tt)return Tt;if(typeof t=="boolean")return c;if(t){const P=t.when;if(typeof P=="string"){const H=(ne,pe,Ve,$e)=>{if(!$e||!c(ne,pe))return null;const Je=P.replace("$(basename)",()=>Ve),gt=$e(Je);return(0,qe.J8)(gt)?gt.then(jt=>jt?y:null):gt?y:null};return H.requiresSiblings=!0,H}}return c}function Un(y,t){const s=y.filter(pe=>!!pe.basenames);if(s.length<2)return y;const c=s.reduce((pe,Ve)=>{const $e=Ve.basenames;return $e?pe.concat($e):pe},[]);let P;if(t){P=[];for(let pe=0,Ve=c.length;pe<Ve;pe++)P.push(t)}else P=s.reduce((pe,Ve)=>{const $e=Ve.patterns;return $e?pe.concat($e):pe},[]);const H=function(pe,Ve){if(typeof pe!="string")return null;if(!Ve){let Je;for(Je=pe.length;Je>0;Je--){const gt=pe.charCodeAt(Je-1);if(gt===47||gt===92)break}Ve=pe.substr(Je)}const $e=c.indexOf(Ve);return $e!==-1?P[$e]:null};H.basenames=c,H.patterns=P,H.allBasenames=c;const ne=y.filter(pe=>!pe.basenames);return ne.push(H),ne}function Gn(y,t,s,c,P,H){if(Array.isArray(y)){let ne=0;for(const pe of y){const Ve=Gn(pe,t,s,c,P,H);if(Ve===10)return Ve;Ve>ne&&(ne=Ve)}return ne}else{if(typeof y=="string")return c?y==="*"?5:y===s?10:0:0;if(y){const{language:ne,pattern:pe,scheme:Ve,hasAccessToAllModels:$e,notebookType:Je}=y;if(!c&&!$e)return 0;Je&&P&&(t=P);let gt=0;if(Ve)if(Ve===t.scheme)gt=10;else if(Ve==="*")gt=5;else return 0;if(ne)if(ne===s)gt=10;else if(ne==="*")gt=Math.max(gt,5);else return 0;if(Je)if(Je===H)gt=10;else if(Je==="*"&&H!==void 0)gt=Math.max(gt,5);else return 0;if(pe){let jt;if(typeof pe=="string"?jt=pe:jt=Object.assign(Object.assign({},pe),{base:(0,ca.Fv)(pe.base)}),jt===t.fsPath||Sn(jt,t.fsPath))gt=10;else return 0}return gt}else return 0}}function rs(y){return typeof y=="string"?!1:Array.isArray(y)?y.every(rs):!!y.exclusive}class Ks{constructor(t,s,c,P){this.uri=t,this.languageId=s,this.notebookUri=c,this.notebookType=P}equals(t){var s,c;return this.notebookType===t.notebookType&&this.languageId===t.languageId&&this.uri.toString()===t.uri.toString()&&((s=this.notebookUri)===null||s===void 0?void 0:s.toString())===((c=t.notebookUri)===null||c===void 0?void 0:c.toString())}}class Jn{constructor(t){this._notebookInfoResolver=t,this._clock=0,this._entries=[],this._onDidChange=new f.Q5,this.onDidChange=this._onDidChange.event}register(t,s){let c={selector:t,provider:s,_score:-1,_time:this._clock++};return this._entries.push(c),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Re.OF)(()=>{if(c){const P=this._entries.indexOf(c);P>=0&&(this._entries.splice(P,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),c=void 0)}})}has(t){return this.all(t).length>0}all(t){if(!t)return[];this._updateScores(t);const s=[];for(const c of this._entries)c._score>0&&s.push(c.provider);return s}ordered(t){const s=[];return this._orderedForEach(t,c=>s.push(c.provider)),s}orderedGroups(t){const s=[];let c,P;return this._orderedForEach(t,H=>{c&&P===H._score?c.push(H.provider):(P=H._score,c=[H.provider],s.push(c))}),s}_orderedForEach(t,s){this._updateScores(t);for(const c of this._entries)c._score>0&&s(c)}_updateScores(t){var s,c;const P=(s=this._notebookInfoResolver)===null||s===void 0?void 0:s.call(this,t.uri),H=P?new Ks(t.uri,t.getLanguageId(),P.uri,P.type):new Ks(t.uri,t.getLanguageId(),void 0,void 0);if(!(!((c=this._lastCandidate)===null||c===void 0)&&c.equals(H))){this._lastCandidate=H;for(const ne of this._entries)if(ne._score=Gn(ne.selector,H.uri,H.languageId,(0,oe.pt)(t),H.notebookUri,H.notebookType),rs(ne.selector)&&ne._score>0){for(const pe of this._entries)pe._score=0;ne._score=1e3;break}this._entries.sort(Jn._compareByScoreAndTime)}}static _compareByScoreAndTime(t,s){return t._score<s._score?1:t._score>s._score?-1:t._time<s._time?1:t._time>s._time?-1:0}}class sr{constructor(){this.referenceProvider=new Jn(this._score.bind(this)),this.renameProvider=new Jn(this._score.bind(this)),this.codeActionProvider=new Jn(this._score.bind(this)),this.definitionProvider=new Jn(this._score.bind(this)),this.typeDefinitionProvider=new Jn(this._score.bind(this)),this.declarationProvider=new Jn(this._score.bind(this)),this.implementationProvider=new Jn(this._score.bind(this)),this.documentSymbolProvider=new Jn(this._score.bind(this)),this.inlayHintsProvider=new Jn(this._score.bind(this)),this.colorProvider=new Jn(this._score.bind(this)),this.codeLensProvider=new Jn(this._score.bind(this)),this.documentFormattingEditProvider=new Jn(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Jn(this._score.bind(this)),this.onTypeFormattingEditProvider=new Jn(this._score.bind(this)),this.signatureHelpProvider=new Jn(this._score.bind(this)),this.hoverProvider=new Jn(this._score.bind(this)),this.documentHighlightProvider=new Jn(this._score.bind(this)),this.selectionRangeProvider=new Jn(this._score.bind(this)),this.foldingRangeProvider=new Jn(this._score.bind(this)),this.linkProvider=new Jn(this._score.bind(this)),this.inlineCompletionsProvider=new Jn(this._score.bind(this)),this.completionProvider=new Jn(this._score.bind(this)),this.linkedEditingRangeProvider=new Jn(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Jn(this._score.bind(this)),this.documentSemanticTokensProvider=new Jn(this._score.bind(this)),this.documentOnDropEditProvider=new Jn(this._score.bind(this)),this.documentPasteEditProvider=new Jn(this._score.bind(this))}_score(t){var s;return(s=this._notebookTypeResolver)===null||s===void 0?void 0:s.call(this,t)}}(0,Ds.z)(Di.p,sr,1);var Us=i(6544),$o=i(21994),io=i(53028),jr=i(86689),Xa=i(19083),Gu=i(91223),Tr=i(80793),vr=i(14818),Ja=i(12326),Tc=i(6325);function Kc(y){return Object.isFrozen(y)?y:he._A(y)}class yr{constructor(t={},s=[],c=[],P){this._contents=t,this._keys=s,this._overrides=c,this.raw=P,this.overrideConfigurations=new Map}get rawConfiguration(){var t;if(!this._rawConfiguration)if(!((t=this.raw)===null||t===void 0)&&t.length){const s=this.raw.map(c=>{if(c instanceof yr)return c;const P=new Gd("");return P.parseRaw(c),P.configurationModel});this._rawConfiguration=s.reduce((c,P)=>P===c?P:c.merge(P),s[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?(0,an.Mt)(this.contents,t):this.contents}inspect(t,s){const c=this.rawConfiguration.getValue(t),P=s?this.rawConfiguration.getOverrideValue(t,s):void 0,H=s?this.rawConfiguration.override(s).getValue(t):c;return{value:c,override:P,merged:H}}getOverrideValue(t,s){const c=this.getContentsForOverrideIdentifer(s);return c?t?(0,an.Mt)(c,t):c:void 0}override(t){let s=this.overrideConfigurations.get(t);return s||(s=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,s)),s}merge(...t){var s,c;const P=he.I8(this.contents),H=he.I8(this.overrides),ne=[...this.keys],pe=!((s=this.raw)===null||s===void 0)&&s.length?[...this.raw]:[this];for(const Ve of t)if(pe.push(...!((c=Ve.raw)===null||c===void 0)&&c.length?Ve.raw:[Ve]),!Ve.isEmpty()){this.mergeContents(P,Ve.contents);for(const $e of Ve.overrides){const[Je]=H.filter(gt=>mi.fS(gt.identifiers,$e.identifiers));Je?(this.mergeContents(Je.contents,$e.contents),Je.keys.push(...$e.keys),Je.keys=mi.EB(Je.keys)):H.push(he.I8($e))}for(const $e of Ve.keys)ne.indexOf($e)===-1&&ne.push($e)}return new yr(P,ne,H,pe.every(Ve=>Ve instanceof yr)?void 0:pe)}createOverrideConfigurationModel(t){const s=this.getContentsForOverrideIdentifer(t);if(!s||typeof s!="object"||!Object.keys(s).length)return this;const c={};for(const P of mi.EB([...Object.keys(this.contents),...Object.keys(s)])){let H=this.contents[P];const ne=s[P];ne&&(typeof H=="object"&&typeof ne=="object"?(H=he.I8(H),this.mergeContents(H,ne)):H=ne),c[P]=H}return new yr(c,this.keys,this.overrides)}mergeContents(t,s){for(const c of Object.keys(s)){if(c in t&&vr.Kn(t[c])&&vr.Kn(s[c])){this.mergeContents(t[c],s[c]);continue}t[c]=he.I8(s[c])}}getContentsForOverrideIdentifer(t){let s=null,c=null;const P=H=>{H&&(c?this.mergeContents(c,H):c=he.I8(H))};for(const H of this.overrides)mi.fS(H.identifiers,[t])?s=H.contents:H.identifiers.includes(t)&&P(H.contents);return P(s),c}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(t,s){this.updateValue(t,s,!0)}setValue(t,s){this.updateValue(t,s,!1)}removeValue(t){const s=this.keys.indexOf(t);s!==-1&&(this.keys.splice(s,1),(0,an.xL)(this.contents,t),Ja.eU.test(t)&&this.overrides.splice(this.overrides.findIndex(c=>mi.fS(c.identifiers,(0,Ja.ny)(t))),1))}updateValue(t,s,c){(0,an.KV)(this.contents,t,s,P=>console.error(P)),c=c||this.keys.indexOf(t)===-1,c&&this.keys.push(t),Ja.eU.test(t)&&this.overrides.push({identifiers:(0,Ja.ny)(t),keys:Object.keys(this.contents[t]),contents:(0,an.Od)(this.contents[t],P=>console.error(P))})}}class Gd{constructor(t){this._name=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new yr}parseRaw(t,s){this._raw=t;const{contents:c,keys:P,overrides:H,restricted:ne,hasExcludedProperties:pe}=this.doParseRaw(t,s);this._configurationModel=new yr(c,P,H,pe?[t]:void 0),this._restrictedConfigurations=ne||[]}doParseRaw(t,s){const c=Tc.B.as(Ja.IP.Configuration).getConfigurationProperties(),P=this.filter(t,c,!0,s);t=P.raw;const H=(0,an.Od)(t,Ve=>console.error(`Conflict in settings file ${this._name}: ${Ve}`)),ne=Object.keys(t),pe=this.toOverrides(t,Ve=>console.error(`Conflict in settings file ${this._name}: ${Ve}`));return{contents:H,keys:ne,overrides:pe,restricted:P.restricted,hasExcludedProperties:P.hasExcludedProperties}}filter(t,s,c,P){let H=!1;if(!(P!=null&&P.scopes)&&!(P!=null&&P.skipRestricted))return{raw:t,restricted:[],hasExcludedProperties:H};const ne={},pe=[];for(const Ve in t)if(Ja.eU.test(Ve)&&c){const $e=this.filter(t[Ve],s,!1,P);ne[Ve]=$e.raw,H=H||$e.hasExcludedProperties,pe.push(...$e.restricted)}else{const $e=s[Ve],Je=$e?typeof $e.scope!="undefined"?$e.scope:3:void 0;$e!=null&&$e.restricted&&pe.push(Ve),(Je===void 0||P.scopes===void 0||P.scopes.includes(Je))&&!(P.skipRestricted&&($e!=null&&$e.restricted))?ne[Ve]=t[Ve]:H=!0}return{raw:ne,restricted:pe,hasExcludedProperties:H}}toOverrides(t,s){const c=[];for(const P of Object.keys(t))if(Ja.eU.test(P)){const H={};for(const ne in t[P])H[ne]=t[P][ne];c.push({identifiers:(0,Ja.ny)(P),keys:Object.keys(H),contents:(0,an.Od)(H,s)})}return c}}class Zd{constructor(t,s,c,P,H,ne,pe,Ve,$e,Je,gt,jt,qt){this.key=t,this.overrides=s,this._value=c,this.overrideIdentifiers=P,this.defaultConfiguration=H,this.policyConfiguration=ne,this.applicationConfiguration=pe,this.userConfiguration=Ve,this.localUserConfiguration=$e,this.remoteUserConfiguration=Je,this.workspaceConfiguration=gt,this.folderConfigurationModel=jt,this.memoryConfigurationModel=qt}inspect(t,s,c){const P=t.inspect(s,c);return{get value(){return Kc(P.value)},get override(){return Kc(P.override)},get merged(){return Kc(P.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class Mc{constructor(t,s,c,P,H=new yr,ne=new yr,pe=new la.Y9,Ve=new yr,$e=new la.Y9){this._defaultConfiguration=t,this._policyConfiguration=s,this._applicationConfiguration=c,this._localUserConfiguration=P,this._remoteUserConfiguration=H,this._workspaceConfiguration=ne,this._folderConfigurations=pe,this._memoryConfiguration=Ve,this._memoryConfigurationByResource=$e,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new la.Y9,this._userConfiguration=null}getValue(t,s,c){return this.getConsolidatedConfigurationModel(t,s,c).getValue(t)}updateValue(t,s,c={}){let P;c.resource?(P=this._memoryConfigurationByResource.get(c.resource),P||(P=new yr,this._memoryConfigurationByResource.set(c.resource,P))):P=this._memoryConfiguration,s===void 0?P.removeValue(t):P.setValue(t,s),c.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(t,s,c){const P=this.getConsolidatedConfigurationModel(t,s,c),H=this.getFolderConfigurationModelForResource(s.resource,c),ne=s.resource?this._memoryConfigurationByResource.get(s.resource)||this._memoryConfiguration:this._memoryConfiguration,pe=new Set;for(const Ve of P.overrides)for(const $e of Ve.identifiers)P.getOverrideValue(t,$e)!==void 0&&pe.add($e);return new Zd(t,s,P.getValue(t),pe.size?[...pe]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,c?this._workspaceConfiguration:void 0,H||void 0,ne)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(t,s,c){let P=this.getConsolidatedConfigurationModelForResource(s,c);return s.overrideIdentifier&&(P=P.override(s.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(t)!==void 0&&(P=P.merge(this._policyConfiguration)),P}getConsolidatedConfigurationModelForResource({resource:t},s){let c=this.getWorkspaceConsolidatedConfiguration();if(s&&t){const P=s.getFolder(t);P&&(c=this.getFolderConsolidatedConfiguration(P.uri)||c);const H=this._memoryConfigurationByResource.get(t);H&&(c=c.merge(H))}return c}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let s=this._foldersConsolidatedConfigurations.get(t);if(!s){const c=this.getWorkspaceConsolidatedConfiguration(),P=this._folderConfigurations.get(t);P?(s=c.merge(P),this._foldersConsolidatedConfigurations.set(t,s)):s=c}return s}getFolderConfigurationModelForResource(t,s){if(s&&t){const c=s.getFolder(t);if(c)return this._folderConfigurations.get(c.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,s)=>{const{contents:c,overrides:P,keys:H}=this._folderConfigurations.get(s);return t.push([s,{contents:c,overrides:P,keys:H}]),t},[])}}static parse(t){const s=this.parseConfigurationModel(t.defaults),c=this.parseConfigurationModel(t.policy),P=this.parseConfigurationModel(t.application),H=this.parseConfigurationModel(t.user),ne=this.parseConfigurationModel(t.workspace),pe=t.folders.reduce((Ve,$e)=>(Ve.set(v.o.revive($e[0]),this.parseConfigurationModel($e[1])),Ve),new la.Y9);return new Mc(s,c,P,H,new yr,ne,pe,new yr,new la.Y9)}static parseConfigurationModel(t){return new yr(t.contents,t.keys,t.overrides)}}class Yd{constructor(t,s,c,P){this.change=t,this.previous=s,this.currentConfiguraiton=c,this.currentWorkspace=P,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const H of t.keys)this.affectedKeys.add(H);for(const[,H]of t.overrides)for(const ne of H)this.affectedKeys.add(ne);this._affectsConfigStr=this._marker;for(const H of this.affectedKeys)this._affectsConfigStr+=H+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Mc.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,s){var c;const P=this._marker+t,H=this._affectsConfigStr.indexOf(P);if(H<0)return!1;const ne=H+P.length;if(ne>=this._affectsConfigStr.length)return!1;const pe=this._affectsConfigStr.charCodeAt(ne);if(pe!==this._markerCode1&&pe!==this._markerCode2)return!1;if(s){const Ve=this.previousConfiguration?this.previousConfiguration.getValue(t,s,(c=this.previous)===null||c===void 0?void 0:c.workspace):void 0,$e=this.currentConfiguraiton.getValue(t,s,this.currentWorkspace);return!he.fS(Ve,$e)}return!0}}var $c=i(35990);const Qd=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class fd extends Re.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:f.ju.None}get inChordMode(){return this._currentChords.length>0}constructor(t,s,c,P,H){super(),this._contextKeyService=t,this._commandService=s,this._telemetryService=c,this._notificationService=P,this._logService=H,this._onDidUpdateKeybindings=this._register(new f.Q5),this._currentChords=[],this._currentChordChecker=new qe.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=uc.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new qe._F,this._logging=!1}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,s){const c=this._getResolver().lookupPrimaryKeybinding(t,s||this._contextKeyService);if(c)return c.resolvedKeybinding}dispatchEvent(t,s){return this._dispatch(t,s)}softDispatch(t,s){this._log("/ Soft dispatching keyboard event");const c=this.resolveKeyboardEvent(t);if(c.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),null;const[P]=c.getDispatchChords();if(P===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const H=this._contextKeyService.getContext(s),ne=this._currentChords.map(({keypress:pe})=>pe);return this._getResolver().resolve(H,ne,P)}_scheduleLeaveChordMode(){const t=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-t>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(t,s){switch(this._currentChords.push({keypress:t,label:s}),this._currentChords.length){case 0:throw(0,ot.L6)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(ln.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",s));break;default:{const c=this._currentChords.map(({label:P})=>P).join(", ");this._currentChordStatusMessage=this._notificationService.status(ln.NC("next.chord","({0}) was pressed. Waiting for next key of chord...",c))}}this._scheduleLeaveChordMode(),$c.F.enabled&&$c.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],$c.F.enable()}_dispatch(t,s){return this._doDispatch(this.resolveKeyboardEvent(t),s,!1)}_singleModifierDispatch(t,s){const c=this.resolveKeyboardEvent(t),[P]=c.getSingleModifierDispatchChords();if(P)return this._ignoreSingleModifiers.has(P)?(this._log(`+ Ignoring single modifier ${P} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=uc.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=uc.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${P}.`),this._currentSingleModifier=P,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):P===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${P} ${P}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(c,s,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${P}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[H]=c.getChords();return this._ignoreSingleModifiers=new uc(H),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,s,c=!1){var P;let H=!1;if(t.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let ne=null,pe=null;if(c){const[gt]=t.getSingleModifierDispatchChords();ne=gt,pe=gt?[gt]:[]}else[ne]=t.getDispatchChords(),pe=this._currentChords.map(({keypress:gt})=>gt);if(ne===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),H;const Ve=this._contextKeyService.getContext(s),$e=t.getLabel(),Je=this._getResolver().resolve(Ve,pe,ne);switch(Je.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",$e,"[ No matching keybinding ]"),this.inChordMode){const gt=this._currentChords.map(({label:jt})=>jt).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${gt}, ${$e}".`),this._notificationService.status(ln.NC("missing.chord","The key combination ({0}, {1}) is not a command.",gt,$e),{hideAfter:10*1e3}),this._leaveChordMode(),H=!0}return H}case 1:return this._logService.trace("KeybindingService#dispatch",$e,"[ Several keybindings match - more chords needed ]"),H=!0,this._expectAnotherChord(ne,$e),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),H;case 2:{if(this._logService.trace("KeybindingService#dispatch",$e,`[ Will dispatch command ${Je.commandId} ]`),Je.commandId===null){if(this.inChordMode){const gt=this._currentChords.map(({label:jt})=>jt).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${gt}, ${$e}".`),this._notificationService.status(ln.NC("missing.chord","The key combination ({0}, {1}) is not a command.",gt,$e),{hideAfter:10*1e3}),this._leaveChordMode()}H=!0}else this.inChordMode&&this._leaveChordMode(),Je.isBubble||(H=!0),this._log(`+ Invoking command ${Je.commandId}.`),typeof Je.commandArgs=="undefined"?this._commandService.executeCommand(Je.commandId).then(void 0,gt=>this._notificationService.warn(gt)):this._commandService.executeCommand(Je.commandId,Je.commandArgs).then(void 0,gt=>this._notificationService.warn(gt)),Qd.test(Je.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Je.commandId,from:"keybinding",detail:(P=t.getUserSettingsLabel())!==null&&P!==void 0?P:void 0});return H}}}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}class uc{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}uc.EMPTY=new uc(null);var Wl=i(62297);const gd={kind:0},Xd={kind:1};function Jd(y,t,s){return{kind:2,commandId:y,commandArgs:t,isBubble:s}}class hc{constructor(t,s,c){var P;this._log=c,this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(const H of t){const ne=H.command;ne&&ne.charAt(0)!=="-"&&this._defaultBoundCommands.set(ne,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=hc.handleRemovals([].concat(t).concat(s));for(let H=0,ne=this._keybindings.length;H<ne;H++){const pe=this._keybindings[H];if(pe.chords.length===0)continue;const Ve=(P=pe.when)===null||P===void 0?void 0:P.substituteConstants();Ve&&Ve.type===0||this._addKeyPress(pe.chords[0],pe)}}static _isTargetedForRemoval(t,s,c){if(s){for(let P=0;P<s.length;P++)if(s[P]!==t.chords[P])return!1}return!(c&&c.type!==1&&(!t.when||!(0,ys.Fb)(c,t.when)))}static handleRemovals(t){const s=new Map;for(let P=0,H=t.length;P<H;P++){const ne=t[P];if(ne.command&&ne.command.charAt(0)==="-"){const pe=ne.command.substring(1);s.has(pe)?s.get(pe).push(ne):s.set(pe,[ne])}}if(s.size===0)return t;const c=[];for(let P=0,H=t.length;P<H;P++){const ne=t[P];if(!ne.command||ne.command.length===0){c.push(ne);continue}if(ne.command.charAt(0)==="-")continue;const pe=s.get(ne.command);if(!pe||!ne.isDefault){c.push(ne);continue}let Ve=!1;for(const $e of pe){const Je=$e.when;if(this._isTargetedForRemoval(ne,$e.chords,Je)){Ve=!0;break}}if(!Ve){c.push(ne);continue}}return c}_addKeyPress(t,s){const c=this._map.get(t);if(typeof c=="undefined"){this._map.set(t,[s]),this._addToLookupMap(s);return}for(let P=c.length-1;P>=0;P--){const H=c[P];if(H.command===s.command)continue;let ne=!0;for(let pe=1;pe<H.chords.length&&pe<s.chords.length;pe++)if(H.chords[pe]!==s.chords[pe]){ne=!1;break}ne&&hc.whenIsEntirelyIncluded(H.when,s.when)&&this._removeFromLookupMap(H)}c.push(s),this._addToLookupMap(s)}_addToLookupMap(t){if(!t.command)return;let s=this._lookupMap.get(t.command);typeof s=="undefined"?(s=[t],this._lookupMap.set(t.command,s)):s.push(t)}_removeFromLookupMap(t){if(!t.command)return;const s=this._lookupMap.get(t.command);if(typeof s!="undefined"){for(let c=0,P=s.length;c<P;c++)if(s[c]===t){s.splice(c,1);return}}}static whenIsEntirelyIncluded(t,s){return!s||s.type===1?!0:!t||t.type===1?!1:(0,ys.K8)(t,s)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(t,s){const c=this._lookupMap.get(t);if(typeof c=="undefined"||c.length===0)return null;if(c.length===1)return c[0];for(let P=c.length-1;P>=0;P--){const H=c[P];if(s.contextMatchesRules(H.when))return H}return c[c.length-1]}resolve(t,s,c){const P=[...s,c];this._log(`| Resolving ${P}`);const H=this._map.get(P[0]);if(H===void 0)return this._log("\\ No keybinding entries."),gd;let ne=null;if(P.length<2)ne=H;else{ne=[];for(let Ve=0,$e=H.length;Ve<$e;Ve++){const Je=H[Ve];if(P.length>Je.chords.length)continue;let gt=!0;for(let jt=1;jt<P.length;jt++)if(Je.chords[jt]!==P[jt]){gt=!1;break}gt&&ne.push(Je)}}const pe=this._findCommand(t,ne);return pe?P.length<pe.chords.length?(this._log(`\\ From ${ne.length} keybinding entries, awaiting ${pe.chords.length-P.length} more chord(s), when: ${md(pe.when)}, source: ${pd(pe)}.`),Xd):(this._log(`\\ From ${ne.length} keybinding entries, matched ${pe.command}, when: ${md(pe.when)}, source: ${pd(pe)}.`),Jd(pe.command,pe.commandArgs,pe.bubble)):(this._log(`\\ From ${ne.length} keybinding entries, no when clauses matched the context.`),gd)}_findCommand(t,s){for(let c=s.length-1;c>=0;c--){const P=s[c];if(hc._contextMatchesRules(t,P.when))return P}return null}static _contextMatchesRules(t,s){return s?s.evaluate(t):!0}}function md(y){return y?`${y.serialize()}`:"no when condition"}function pd(y){return y.extensionId?y.isBuiltinExtension?`built-in extension ${y.extensionId}`:`user extension ${y.extensionId}`:y.isDefault?"built-in":"user"}var qd=i(47679);class vd{constructor(t,s,c,P,H,ne,pe){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.chords=t?Gc(t.getDispatchChords()):[],t&&this.chords.length===0&&(this.chords=Gc(t.getSingleModifierDispatchChords())),this.bubble=s?s.charCodeAt(0)===94:!1,this.command=this.bubble?s.substr(1):s,this.commandArgs=c,this.when=P,this.isDefault=H,this.extensionId=ne,this.isBuiltinExtension=pe}}function Gc(y){const t=[];for(let s=0,c=y.length;s<c;s++){const P=y[s];if(!P)return[];t.push(P)}return t}var fc=i(49553);class eu extends $o.f1{constructor(t,s){if(super(),s.length===0)throw(0,ot.b1)("chords");this._os=t,this._chords=s}getLabel(){return fc.xo.toLabel(this._os,this._chords,t=>this._getLabel(t))}getAriaLabel(){return fc.X4.toLabel(this._os,this._chords,t=>this._getAriaLabel(t))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:fc.jC.toLabel(this._os,this._chords,t=>this._getElectronAccelerator(t))}getUserSettingsLabel(){return fc.r6.toLabel(this._os,this._chords,t=>this._getUserSettingsLabel(t))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(t=>this._getChord(t))}_getChord(t){return new $o.aZ(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))}getDispatchChords(){return this._chords.map(t=>this._getChordDispatch(t))}getSingleModifierDispatchChords(){return this._chords.map(t=>this._getSingleModifierChordDispatch(t))}}class gc extends eu{constructor(t,s){super(s,t)}_keyCodeToUILabel(t){if(this._os===2)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return _.kL.toString(t)}_getLabel(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)}_getAriaLabel(t){return t.isDuplicateModifierCase()?"":_.kL.toString(t.keyCode)}_getElectronAccelerator(t){return _.kL.toElectronAccelerator(t.keyCode)}_getUserSettingsLabel(t){if(t.isDuplicateModifierCase())return"";const s=_.kL.toUserSettingsUS(t.keyCode);return s&&s.toLowerCase()}_getChordDispatch(t){return gc.getDispatchStr(t)}static getDispatchStr(t){if(t.isModifierKey())return null;let s="";return t.ctrlKey&&(s+="ctrl+"),t.shiftKey&&(s+="shift+"),t.altKey&&(s+="alt+"),t.metaKey&&(s+="meta+"),s+=_.kL.toString(t.keyCode),s}_getSingleModifierChordDispatch(t){return t.keyCode===5&&!t.shiftKey&&!t.altKey&&!t.metaKey?"ctrl":t.keyCode===4&&!t.ctrlKey&&!t.altKey&&!t.metaKey?"shift":t.keyCode===6&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey?"alt":t.keyCode===57&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?"meta":null}static _scanCodeToKeyCode(t){const s=_.Vd[t];if(s!==-1)return s;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _toKeyCodeChord(t){if(!t)return null;if(t instanceof $o.$M)return t;const s=this._scanCodeToKeyCode(t.scanCode);return s===0?null:new $o.$M(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,s)}static resolveKeybinding(t,s){const c=Gc(t.chords.map(P=>this._toKeyCodeChord(P)));return c.length>0?[new gc(c,s)]:[]}}var Zu=i(18680),mc=i(68554),Zc=i(83799),Yc=i(83485),Rc=i(6227),tu=i(24905),iu=i(83092),_d=i(59004),Nl;(function(y){y[y.AVOID=0]="AVOID",y[y.ALIGN=1]="ALIGN"})(Nl||(Nl={}));function ec(y,t,s){const c=s.mode===Nl.ALIGN?s.offset:s.offset+s.size,P=s.mode===Nl.ALIGN?s.offset+s.size:s.offset;return s.position===0?t<=y-c?c:t<=P?P-t:Math.max(y-t,0):t<=P?P-t:t<=y-c?c:0}class tc extends Re.JT{constructor(t,s){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Re.JT.None,this.toDisposeOnSetContainer=Re.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ni.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ni.Cp(this.view),this.setContainer(t,s),this._register((0,Re.OF)(()=>this.setContainer(null,1)))}setContainer(t,s){var c;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(c=this.shadowRootHostElement)===null||c===void 0||c.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=s!==1,this.useShadowDOM=s===3,this.useShadowDOM){this.shadowRootHostElement=ni.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const H=document.createElement("style");H.textContent=nu,this.shadowRoot.appendChild(H),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ni.$("slot"))}else this.container.appendChild(this.view);const P=new Re.SL;tc.BUBBLE_UP_EVENTS.forEach(H=>{P.add(ni.mu(this.container,H,ne=>{this.onDOMEvent(ne,!1)}))}),tc.BUBBLE_DOWN_EVENTS.forEach(H=>{P.add(ni.mu(this.container,H,ne=>{this.onDOMEvent(ne,!0)},!0))}),this.toDisposeOnSetContainer=P}}show(t){var s,c;this.isVisible()&&this.hide(),ni.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ni.$Z(this.view),this.toDisposeOnClean=t.render(this.view)||Re.JT.None,this.delegate=t,this.doLayout(),(c=(s=this.delegate).focus)===null||c===void 0||c.call(s)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(ut.gn&&iu.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const t=this.delegate.getAnchor();let s;if(ni.Re(t)){const gt=ni.i(t),jt=ni.I8(t);s={top:gt.top*jt,left:gt.left*jt,width:gt.width*jt,height:gt.height*jt}}else s={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const c=ni.w(this.view),P=ni.wn(this.view),H=this.delegate.anchorPosition||0,ne=this.delegate.anchorAlignment||0,pe=this.delegate.anchorAxisAlignment||0;let Ve,$e;if(pe===0){const gt={offset:s.top-window.pageYOffset,size:s.height,position:H===0?0:1},jt={offset:s.left,size:s.width,position:ne===0?0:1,mode:Nl.ALIGN};Ve=ec(window.innerHeight,P,gt)+window.pageYOffset,_d.e.intersects({start:Ve,end:Ve+P},{start:gt.offset,end:gt.offset+gt.size})&&(jt.mode=Nl.AVOID),$e=ec(window.innerWidth,c,jt)}else{const gt={offset:s.left,size:s.width,position:ne===0?0:1},jt={offset:s.top,size:s.height,position:H===0?0:1,mode:Nl.ALIGN};$e=ec(window.innerWidth,c,gt),_d.e.intersects({start:$e,end:$e+c},{start:gt.offset,end:gt.offset+gt.size})&&(jt.mode=Nl.AVOID),Ve=ec(window.innerHeight,P,jt)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(H===0?"bottom":"top"),this.view.classList.add(ne===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Je=ni.i(this.container);this.view.style.top=`${Ve-(this.useFixedPosition?ni.i(this.view).top:Je.top)}px`,this.view.style.left=`${$e-(this.useFixedPosition?ni.i(this.view).left:Je.left)}px`,this.view.style.width="initial"}hide(t){const s=this.delegate;this.delegate=null,s!=null&&s.onHide&&s.onHide(t),this.toDisposeOnClean.dispose(),ni.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,s){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):s&&!ni.jg(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}tc.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],tc.BUBBLE_DOWN_EVENTS=["click"];const nu=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var su=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Yu=function(y,t){return function(s,c){t(s,c,y)}};let Qc=class extends Re.JT{constructor(t){super(),this.layoutService=t,this.currentViewDisposable=Re.JT.None,this.container=t.hasContainer?t.container:null,this.contextView=this._register(new tc(this.container,1)),this.layout(),this._register(t.onDidLayout(()=>this.layout()))}setContainer(t,s){this.contextView.setContainer(t,s||1)}showContextView(t,s,c){s?(s!==this.container||this.shadowRoot!==c)&&(this.container=s,this.setContainer(s,c?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=c,this.contextView.show(t);const P=(0,Re.OF)(()=>{this.currentViewDisposable===P&&this.hideContextView()});return this.currentViewDisposable=P,P}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(t){this.contextView.hide(t)}};Qc=su([Yu(0,Qa)],Qc);var pc=i(9161),Fa=i(90638);let ic=[],vc=[],Cd=[];function de(y,t=!1){Pe(y,!1,t)}function Pe(y,t,s){const c=tt(y,t);ic.push(c),c.userConfigured?Cd.push(c):vc.push(c),s&&!c.userConfigured&&ic.forEach(P=>{P.mime===c.mime||P.userConfigured||(c.extension&&P.extension===c.extension&&console.warn(`Overwriting extension <<${c.extension}>> to now point to mime <<${c.mime}>>`),c.filename&&P.filename===c.filename&&console.warn(`Overwriting filename <<${c.filename}>> to now point to mime <<${c.mime}>>`),c.filepattern&&P.filepattern===c.filepattern&&console.warn(`Overwriting filepattern <<${c.filepattern}>> to now point to mime <<${c.mime}>>`),c.firstline&&P.firstline===c.firstline&&console.warn(`Overwriting firstline <<${c.firstline}>> to now point to mime <<${c.mime}>>`))})}function tt(y,t){return{id:y.id,mime:y.mime,filename:y.filename,extension:y.extension,filepattern:y.filepattern,firstline:y.firstline,userConfigured:t,filenameLowercase:y.filename?y.filename.toLowerCase():void 0,extensionLowercase:y.extension?y.extension.toLowerCase():void 0,filepatternLowercase:y.filepattern?Ln(y.filepattern.toLowerCase()):void 0,filepatternOnPath:y.filepattern?y.filepattern.indexOf(ca.KR.sep)>=0:!1}}function dt(){ic=ic.filter(y=>y.userConfigured),vc=[]}function ft(y,t){return Dt(y,t).map(s=>s.id)}function Dt(y,t){let s;if(y)switch(y.scheme){case Xs.lg.file:s=y.fsPath;break;case Xs.lg.data:{s=Rc.Vb.parseMetaData(y).get(Rc.Vb.META_DATA_LABEL);break}case Xs.lg.vscodeNotebookCell:s=void 0;break;default:s=y.path}if(!s)return[{id:"unknown",mime:pc.v.unknown}];s=s.toLowerCase();const c=(0,ca.EZ)(s),P=ct(s,c,Cd);if(P)return[P,{id:Fa.bd,mime:pc.v.text}];const H=ct(s,c,vc);if(H)return[H,{id:Fa.bd,mime:pc.v.text}];if(t){const ne=Jt(t);if(ne)return[ne,{id:Fa.bd,mime:pc.v.text}]}return[{id:"unknown",mime:pc.v.unknown}]}function ct(y,t,s){var c;let P,H,ne;for(let pe=s.length-1;pe>=0;pe--){const Ve=s[pe];if(t===Ve.filenameLowercase){P=Ve;break}if(Ve.filepattern&&(!H||Ve.filepattern.length>H.filepattern.length)){const $e=Ve.filepatternOnPath?y:t;!((c=Ve.filepatternLowercase)===null||c===void 0)&&c.call(Ve,$e)&&(H=Ve)}Ve.extension&&(!ne||Ve.extension.length>ne.extension.length)&&t.endsWith(Ve.extensionLowercase)&&(ne=Ve)}if(P)return P;if(H)return H;if(ne)return ne}function Jt(y){if((0,ie.uS)(y)&&(y=y.substr(1)),y.length>0)for(let t=ic.length-1;t>=0;t--){const s=ic[t];if(!s.firstline)continue;const c=y.match(s.firstline);if(c&&c.length>0)return s}}const Ut=Object.prototype.hasOwnProperty,fi="vs.editor.nullLanguage";class Ei{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(fi,0),this._register(Fa.bd,1),this._nextLanguageId=2}_register(t,s){this._languageIdToLanguage[s]=t,this._languageToLanguageId.set(t,s)}register(t){if(this._languageToLanguageId.has(t))return;const s=this._nextLanguageId++;this._register(t,s)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||fi}}class xi extends Re.JT{constructor(t=!0,s=!1){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,xi.instanceCount++,this._warnOnOverwrite=s,this.languageIdCodec=new Ei,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(Fa.dQ.onDidChangeLanguages(c=>{this._initializeFromRegistry()})))}dispose(){xi.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},dt();const t=[].concat(Fa.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const s of t)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{const c=this._languages[s];c.name&&(this._nameMap[c.name]=c.identifier),c.aliases.forEach(P=>{this._lowercaseNameMap[P.toLowerCase()]=c.identifier}),c.mimetypes.forEach(P=>{this._mimeTypesMap[P]=c.identifier})}),Tc.B.as(Ja.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const s=t.id;let c;Ut.call(this._languages,s)?c=this._languages[s]:(this.languageIdCodec.register(s),c={identifier:s,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[s]=c),this._mergeLanguage(c,t)}_mergeLanguage(t,s){const c=s.id;let P=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(t.mimetypes.push(...s.mimetypes),P=s.mimetypes[0]),P||(P=`text/x-${c}`,t.mimetypes.push(P)),Array.isArray(s.extensions)){s.configuration?t.extensions=s.extensions.concat(t.extensions):t.extensions=t.extensions.concat(s.extensions);for(const pe of s.extensions)de({id:c,mime:P,extension:pe},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(const pe of s.filenames)de({id:c,mime:P,filename:pe},this._warnOnOverwrite),t.filenames.push(pe);if(Array.isArray(s.filenamePatterns))for(const pe of s.filenamePatterns)de({id:c,mime:P,filepattern:pe},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let pe=s.firstLine;pe.charAt(0)!=="^"&&(pe="^"+pe);try{const Ve=new RegExp(pe);(0,ie.IO)(Ve)||de({id:c,mime:P,firstline:Ve},this._warnOnOverwrite)}catch(Ve){console.warn(`[${s.id}]: Invalid regular expression \`${pe}\`: `,Ve)}}t.aliases.push(c);let H=null;if(typeof s.aliases!="undefined"&&Array.isArray(s.aliases)&&(s.aliases.length===0?H=[null]:H=s.aliases),H!==null)for(const pe of H)!pe||pe.length===0||t.aliases.push(pe);const ne=H!==null&&H.length>0;if(!(ne&&H[0]===null)){const pe=(ne?H[0]:null)||c;(ne||!t.name)&&(t.name=pe)}s.configuration&&t.configurationFiles.push(s.configuration),s.icon&&t.icons.push(s.icon)}isRegisteredLanguageId(t){return t?Ut.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const s=t.toLowerCase();return Ut.call(this._lowercaseNameMap,s)?this._lowercaseNameMap[s]:null}getLanguageIdByMimeType(t){return t&&Ut.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,s){return!t&&!s?[]:ft(t,s)}}xi.instanceCount=0;class Mi extends Re.JT{constructor(t=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new f.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new f.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new f.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,Mi.instanceCount++,this._registry=this._register(new xi(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Mi.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,s){const c=this._registry.guessLanguageIdByFilepathOrFirstLine(t,s);return(0,mi.Xh)(c,null)}createById(t){return new Ri(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,s){return new Ri(this.onDidChange,()=>{const c=this.guessLanguageIdByFilepathOrFirstLine(t,s);return this._createAndGetLanguageIdentifier(c)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=Fa.bd),t}requestBasicLanguageFeatures(t){this._requestedBasicLanguages.has(t)||(this._requestedBasicLanguages.add(t),this._onDidRequestBasicLanguageFeatures.fire(t))}requestRichLanguageFeatures(t){this._requestedRichLanguages.has(t)||(this._requestedRichLanguages.add(t),this.requestBasicLanguageFeatures(t),R.RW.getOrCreate(t),this._onDidRequestRichLanguageFeatures.fire(t))}}Mi.instanceCount=0;class Ri{constructor(t,s){this._onDidChangeLanguages=t,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new f.Q5({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var t;const s=this._selector();s!==this.languageId&&(this.languageId=s,(t=this._emitter)===null||t===void 0||t.fire(this.languageId))}}var Ni=i(3941),zi=i(21208),cn=i(64079),rn=i(71488),Qi=i(80265),on=i(31957),sn=i(5858);const Nn=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Cn=/(&amp;)?(&amp;)([^\s&])/g;var Tn;(function(y){y[y.Right=0]="Right",y[y.Left=1]="Left"})(Tn||(Tn={}));class Zn extends Sr.o{constructor(t,s,c,P){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const H=document.createElement("div");H.classList.add("monaco-menu"),H.setAttribute("role","presentation"),super(H,{orientation:1,actionViewItemProvider:Ve=>this.doGetActionViewItem(Ve,c,ne),context:c.context,actionRunner:c.actionRunner,ariaLabel:c.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...ut.dz||ut.IJ?[10]:[]],keyDown:!0}}),this.menuStyles=P,this.menuElement=H,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Re.SL),this.initializeOrUpdateStyleSheet(t,P),this._register(Qi.o.addTarget(H)),(0,ni.nm)(H,ni.tw.KEY_DOWN,Ve=>{new Us.y(Ve).equals(2)&&Ve.preventDefault()}),c.enableMnemonics&&this.menuDisposables.add((0,ni.nm)(H,ni.tw.KEY_DOWN,Ve=>{const $e=Ve.key.toLocaleLowerCase();if(this.mnemonics.has($e)){ni.zB.stop(Ve,!0);const Je=this.mnemonics.get($e);if(Je.length===1&&(Je[0]instanceof ss&&Je[0].container&&this.focusItemByElement(Je[0].container),Je[0].onClick(Ve)),Je.length>1){const gt=Je.shift();gt&&gt.container&&(this.focusItemByElement(gt.container),Je.push(gt)),this.mnemonics.set($e,Je)}}})),ut.IJ&&this._register((0,ni.nm)(H,ni.tw.KEY_DOWN,Ve=>{const $e=new Us.y(Ve);$e.equals(14)||$e.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ni.zB.stop(Ve,!0)):($e.equals(13)||$e.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ni.zB.stop(Ve,!0))})),this._register((0,ni.nm)(this.domNode,ni.tw.MOUSE_OUT,Ve=>{const $e=Ve.relatedTarget;(0,ni.jg)($e,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),Ve.stopPropagation())})),this._register((0,ni.nm)(this.actionsList,ni.tw.MOUSE_OVER,Ve=>{let $e=Ve.target;if(!(!$e||!(0,ni.jg)($e,this.actionsList)||$e===this.actionsList)){for(;$e.parentElement!==this.actionsList&&$e.parentElement!==null;)$e=$e.parentElement;if($e.classList.contains("action-item")){const Je=this.focusedItem;this.setFocusedItem($e),Je!==this.focusedItem&&this.updateFocus()}}})),this._register(Qi.o.addTarget(this.actionsList)),this._register((0,ni.nm)(this.actionsList,Qi.t.Tap,Ve=>{let $e=Ve.initialTarget;if(!(!$e||!(0,ni.jg)($e,this.actionsList)||$e===this.actionsList)){for(;$e.parentElement!==this.actionsList&&$e.parentElement!==null;)$e=$e.parentElement;if($e.classList.contains("action-item")){const Je=this.focusedItem;this.setFocusedItem($e),Je!==this.focusedItem&&this.updateFocus()}}}));const ne={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new qo.s$(H,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const pe=this.scrollableElement.getDomNode();pe.style.position="",this.styleScrollElement(pe,P),this._register((0,ni.nm)(H,Qi.t.Change,Ve=>{ni.zB.stop(Ve,!0);const $e=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:$e-Ve.translationY})})),this._register((0,ni.nm)(pe,ni.tw.MOUSE_UP,Ve=>{Ve.preventDefault()})),H.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,s=s.filter(Ve=>{var $e;return!(($e=c.submenuIds)===null||$e===void 0)&&$e.has(Ve.id)?(console.warn(`Found submenu cycle: ${Ve.id}`),!1):!0}),this.push(s,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(Ve=>!(Ve instanceof Dn)).forEach((Ve,$e,Je)=>{Ve.updatePositionInSet($e+1,Je.length)})}initializeOrUpdateStyleSheet(t,s){this.styleSheet||((0,ni.OO)(t)?this.styleSheet=(0,ni.dS)(t):(Zn.globalStyleSheet||(Zn.globalStyleSheet=(0,ni.dS)()),this.styleSheet=Zn.globalStyleSheet)),this.styleSheet.textContent=as(s,(0,ni.OO)(t))}styleScrollElement(t,s){var c,P;const H=(c=s.foregroundColor)!==null&&c!==void 0?c:"",ne=(P=s.backgroundColor)!==null&&P!==void 0?P:"",pe=s.borderColor?`1px solid ${s.borderColor}`:"",Ve="5px",$e=s.shadowColor?`0 2px 8px ${s.shadowColor}`:"";t.style.outline=pe,t.style.borderRadius=Ve,t.style.color=H,t.style.backgroundColor=ne,t.style.boxShadow=$e}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const s=this.focusedItem;this.setFocusedItem(t),s!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let s=0;s<this.actionsList.children.length;s++){const c=this.actionsList.children[s];if(t===c){this.focusedItem=s;break}}}updateFocus(t){super.updateFocus(t,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,s,c){if(t instanceof co.Z0)return new Dn(s.context,t,{icon:!0},this.menuStyles);if(t instanceof co.wY){const P=new ss(t,t.actions,c,Object.assign(Object.assign({},s),{submenuIds:new Set([...s.submenuIds||[],t.id])}),this.menuStyles);if(s.enableMnemonics){const H=P.getMnemonic();if(H&&P.isEnabled()){let ne=[];this.mnemonics.has(H)&&(ne=this.mnemonics.get(H)),ne.push(P),this.mnemonics.set(H,ne)}}return P}else{const P={enableMnemonics:s.enableMnemonics,useEventAsContext:s.useEventAsContext};if(s.getKeyBinding){const ne=s.getKeyBinding(t);if(ne){const pe=ne.getLabel();pe&&(P.keybinding=pe)}}const H=new Mn(s.context,t,P,this.menuStyles);if(s.enableMnemonics){const ne=H.getMnemonic();if(ne&&H.isEnabled()){let pe=[];this.mnemonics.has(ne)&&(pe=this.mnemonics.get(ne)),pe.push(H),this.mnemonics.set(ne,pe)}}return H}}}class Mn extends on.YH{constructor(t,s,c,P){if(c.isMenu=!0,super(s,s,c),this.menuStyle=P,this.options=c,this.options.icon=c.icon!==void 0?c.icon:!1,this.options.label=c.label!==void 0?c.label:!0,this.cssClass="",this.options.label&&c.enableMnemonics){const H=this.action.label;if(H){const ne=Nn.exec(H);ne&&(this.mnemonic=(ne[1]?ne[1]:ne[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new qe.pY(()=>{this.element&&(this._register((0,ni.nm)(this.element,ni.tw.MOUSE_UP,H=>{if(ni.zB.stop(H,!0),rn.isFirefox){if(new cn.n(H).rightButton)return;this.onClick(H)}else setTimeout(()=>{this.onClick(H)},0)})),this._register((0,ni.nm)(this.element,ni.tw.CONTEXT_MENU,H=>{ni.zB.stop(H,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,ni.R3)(this.element,(0,ni.$)("a.action-menu-item")),this._action.id===co.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,ni.R3)(this.item,(0,ni.$)("span.menu-item-check"+Wo.k.asCSSSelector(lo.l.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,ni.R3)(this.item,(0,ni.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,ni.R3)(this.item,(0,ni.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var t;super.focus(),(t=this.item)===null||t===void 0||t.focus(),this.applyStyle()}updatePositionInSet(t,s){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${s}`))}updateLabel(){var t;if(this.label&&this.options.label){(0,ni.PO)(this.label);let s=(0,sn.x$)(this.action.label);if(s){const c=xn(s);this.options.enableMnemonics||(s=c),this.label.setAttribute("aria-label",c.replace(/&&/g,"&"));const P=Nn.exec(s);if(P){s=ie.YU(s),Cn.lastIndex=0;let H=Cn.exec(s);for(;H&&H[1];)H=Cn.exec(s);const ne=pe=>pe.replace(/&amp;&amp;/g,"&amp;");H?this.label.append(ie.j3(ne(s.substr(0,H.index))," "),(0,ni.$)("u",{"aria-hidden":"true"},H[3]),ie.oL(ne(s.substr(H.index+H[0].length))," ")):this.label.innerText=ne(s).trim(),(t=this.item)===null||t===void 0||t.setAttribute("aria-keyshortcuts",(P[1]?P[1]:P[3]).toLocaleLowerCase())}else this.label.innerText=s.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.action.checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const t=this.element&&this.element.classList.contains("focused"),s=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,c=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,P=t&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",H=t&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=s!=null?s:"",this.item.style.backgroundColor=c!=null?c:"",this.item.style.outline=P,this.item.style.outlineOffset=H),this.check&&(this.check.style.color=s!=null?s:"")}}class ss extends Mn{constructor(t,s,c,P,H){super(t,t,P,H),this.submenuActions=s,this.parentData=c,this.submenuOptions=P,this.mysubmenu=null,this.submenuDisposables=this._register(new Re.SL),this.mouseOver=!1,this.expandDirection=P&&P.expandDirection!==void 0?P.expandDirection:Tn.Right,this.showScheduler=new qe.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new qe.pY(()=>{this.element&&!(0,ni.jg)((0,ni.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,ni.R3)(this.item,(0,ni.$)("span.submenu-indicator"+Wo.k.asCSSSelector(lo.l.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,ni.nm)(this.element,ni.tw.KEY_UP,s=>{const c=new Us.y(s);(c.equals(17)||c.equals(3))&&(ni.zB.stop(s,!0),this.createSubmenu(!0))})),this._register((0,ni.nm)(this.element,ni.tw.KEY_DOWN,s=>{const c=new Us.y(s);(0,ni.vY)()===this.item&&(c.equals(17)||c.equals(3))&&ni.zB.stop(s,!0)})),this._register((0,ni.nm)(this.element,ni.tw.MOUSE_OVER,s=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,ni.nm)(this.element,ni.tw.MOUSE_LEAVE,s=>{this.mouseOver=!1})),this._register((0,ni.nm)(this.element,ni.tw.FOCUS_OUT,s=>{this.element&&!(0,ni.jg)((0,ni.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(t){ni.zB.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(s){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,s,c,P){const H={top:0,left:0};return H.left=ec(t.width,s.width,{position:P===Tn.Right?0:1,offset:c.left,size:c.width}),H.left>=c.left&&H.left<c.left+c.width&&(c.left+10+s.width<=t.width&&(H.left=c.left+10),c.top+=10,c.height=0),H.top=ec(t.height,s.height,{position:0,offset:c.top,size:0}),H.top+s.height===c.top&&H.top+c.height+s.height<=t.height&&(H.top+=c.height),H}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,ni.R3)(this.element,(0,ni.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const s=getComputedStyle(this.parentData.parent.domNode),c=parseFloat(s.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Zn(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new co.eZ],this.submenuOptions,this.menuStyle);const P=this.element.getBoundingClientRect(),H={top:P.top-c,left:P.left,height:P.height+2*c,width:P.width},ne=this.submenuContainer.getBoundingClientRect(),{top:pe,left:Ve}=this.calculateSubmenuMenuLayout(new ni.Ro(window.innerWidth,window.innerHeight),ni.Ro.lift(ne),H,this.expandDirection);this.submenuContainer.style.left=`${Ve-ne.left}px`,this.submenuContainer.style.top=`${pe-ne.top}px`,this.submenuDisposables.add((0,ni.nm)(this.submenuContainer,ni.tw.KEY_UP,$e=>{new Us.y($e).equals(15)&&(ni.zB.stop($e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,ni.nm)(this.submenuContainer,ni.tw.KEY_DOWN,$e=>{new Us.y($e).equals(15)&&ni.zB.stop($e,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var s;this.item&&((s=this.item)===null||s===void 0||s.setAttribute("aria-expanded",t))}applyStyle(){super.applyStyle();const s=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=s!=null?s:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Dn extends on.gU{constructor(t,s,c,P){super(t,s,c),this.menuStyles=P}render(t){super.render(t),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function xn(y){const t=Nn,s=t.exec(y);if(!s)return y;const c=!s[1];return y.replace(t,c?"$2$3":"").trim()}function $n(y){const t=(0,lo.u)()[y.id];return`.codicon-${y.id}:before { content: '\\${t.toString(16)}'; }`}function as(y,t){let s=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${$n(lo.l.menuSelection)}
${$n(lo.l.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(t){s+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const c=y.scrollbarShadow;c&&(s+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${c} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${c} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${c} 6px 6px 6px -6px inset;
				}
			`);const P=y.scrollbarSliderBackground;P&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${P};
				}
			`);const H=y.scrollbarSliderHoverBackground;H&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${H};
				}
			`);const ne=y.scrollbarSliderActiveBackground;ne&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${ne};
				}
			`)}return s}var Cs=i(60140);class Ps{constructor(t,s,c,P){this.contextViewService=t,this.telemetryService=s,this.notificationService=c,this.keybindingService=P,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const s=t.getActions();if(!s.length)return;this.focusToReturn=document.activeElement;let c;const P=(0,ni.Re)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:H=>{var ne;this.lastContainer=H;const pe=t.getMenuClassName?t.getMenuClassName():"";pe&&(H.className+=" "+pe),this.options.blockMouse&&(this.block=H.appendChild((0,ni.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(ne=this.blockDisposable)===null||ne===void 0||ne.dispose(),this.blockDisposable=(0,ni.nm)(this.block,ni.tw.MOUSE_DOWN,Je=>Je.stopPropagation()));const Ve=new Re.SL,$e=t.actionRunner||new co.Wi;return $e.onWillRun(Je=>this.onActionRun(Je,!t.skipTelemetry),this,Ve),$e.onDidRun(this.onDidActionRun,this,Ve),c=new Zn(H,s,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:$e,getKeyBinding:t.getKeyBinding?t.getKeyBinding:Je=>this.keybindingService.lookupKeybinding(Je.id)},Cs.ZR),c.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,Ve),c.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,Ve),Ve.add((0,ni.nm)(window,ni.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),Ve.add((0,ni.nm)(window,ni.tw.MOUSE_DOWN,Je=>{if(Je.defaultPrevented)return;const gt=new cn.n(Je);let jt=gt.target;if(!gt.rightButton){for(;jt;){if(jt===H)return;jt=jt.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Re.F8)(Ve,c)},focus:()=>{c==null||c.focus(!!t.autoSelectFirstItem)},onHide:H=>{var ne,pe,Ve;(ne=t.onHide)===null||ne===void 0||ne.call(t,!!H),this.block&&(this.block.remove(),this.block=null),(pe=this.blockDisposable)===null||pe===void 0||pe.dispose(),this.blockDisposable=null,this.lastContainer&&((0,ni.vY)()===this.lastContainer||(0,ni.jg)((0,ni.vY)(),this.lastContainer))&&((Ve=this.focusToReturn)===null||Ve===void 0||Ve.focus()),this.lastContainer=null}},P,!!P)}onActionRun(t,s){s&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(t){t.error&&!(0,ot.n2)(t.error)&&this.notificationService.error(t.error)}}var Fs=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},_s=function(y,t){return function(s,c){t(s,c,y)}};let no=class extends Re.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new Ps(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(t,s,c,P,H,ne){super(),this.telemetryService=t,this.notificationService=s,this.contextViewService=c,this.keybindingService=P,this.menuService=H,this.contextKeyService=ne,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new f.Q5),this._onDidHideContextMenu=this._store.add(new f.Q5)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){t=Ro.transform(t,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:s=>{var c;(c=t.onHide)===null||c===void 0||c.call(t,s),this._onDidHideContextMenu.fire()}})),ni._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};no=Fs([_s(0,mc.b),_s(1,mr.lT),_s(2,gr.u),_s(3,Wl.d),_s(4,zi.co),_s(5,ys.i6)],no);var Ro;(function(y){function t(c){return c&&c.menuId instanceof zi.eH}function s(c,P,H){if(!t(c))return c;const{menuId:ne,menuActionOptions:pe,contextKeyService:Ve}=c;return Object.assign(Object.assign({},c),{getActions:()=>{const $e=[];if(ne){const Je=P.createMenu(ne,Ve!=null?Ve:H);(0,Ni.LJ)(Je,pe,$e),Je.dispose()}return c.getActions?co.Z0.join(c.getActions(),$e):$e}})}y.transform=s})(Ro||(Ro={}));var Co=i(65533),os;(function(y){y[y.API=0]="API",y[y.USER=1]="USER"})(os||(os={}));var jn=i(48786),Ns=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Vs=function(y,t){return function(s,c){t(s,c,y)}},As=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};let mo=class{constructor(t){this._commandService=t}open(t,s){return As(this,void 0,void 0,function*(){if(!(0,jn.xn)(t,Xs.lg.command))return!1;if(!(s!=null&&s.allowCommands)||(typeof t=="string"&&(t=v.o.parse(t)),Array.isArray(s.allowCommands)&&!s.allowCommands.includes(t.path)))return!0;let c=[];try{c=(0,Co.Q)(decodeURIComponent(t.query))}catch(P){try{c=(0,Co.Q)(t.query)}catch(H){}}return Array.isArray(c)||(c=[c]),yield this._commandService.executeCommand(t.path,...c),!0})}};mo=Ns([Vs(0,Tr.H)],mo);let xo=class{constructor(t){this._editorService=t}open(t,s){return As(this,void 0,void 0,function*(){typeof t=="string"&&(t=v.o.parse(t));const{selection:c,uri:P}=(0,jn.xI)(t);return t=P,t.scheme===Xs.lg.file&&(t=(0,Rc.AH)(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:c,source:s!=null&&s.fromUserGesture?os.USER:os.API},s==null?void 0:s.editorOptions)},this._editorService.getFocusedCodeEditor(),s==null?void 0:s.openToSide),!0})}};xo=Ns([Vs(0,se.$)],xo);let _r=class{constructor(t,s){this._openers=new ka.S,this._validators=new ka.S,this._resolvers=new ka.S,this._resolvedUriTargets=new la.Y9(c=>c.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ka.S,this._defaultExternalOpener={openExternal:c=>As(this,void 0,void 0,function*(){return(0,jn.Gs)(c,Xs.lg.http,Xs.lg.https)?ni.V3(c):window.location.href=c,!0})},this._openers.push({open:(c,P)=>As(this,void 0,void 0,function*(){return P!=null&&P.openExternal||(0,jn.Gs)(c,Xs.lg.mailto,Xs.lg.http,Xs.lg.https,Xs.lg.vsls)?(yield this._doOpenExternal(c,P),!0):!1})}),this._openers.push(new mo(s)),this._openers.push(new xo(t))}registerOpener(t){return{dispose:this._openers.unshift(t)}}open(t,s){var c;return As(this,void 0,void 0,function*(){const P=typeof t=="string"?v.o.parse(t):t,H=(c=this._resolvedUriTargets.get(P))!==null&&c!==void 0?c:t;for(const ne of this._validators)if(!(yield ne.shouldOpen(H,s)))return!1;for(const ne of this._openers)if(yield ne.open(t,s))return!0;return!1})}resolveExternalUri(t,s){return As(this,void 0,void 0,function*(){for(const c of this._resolvers)try{const P=yield c.resolveExternalUri(t,s);if(P)return this._resolvedUriTargets.has(P.resolved)||this._resolvedUriTargets.set(P.resolved,t),P}catch(P){}throw new Error("Could not resolve external URI: "+t.toString())})}_doOpenExternal(t,s){return As(this,void 0,void 0,function*(){const c=typeof t=="string"?v.o.parse(t):t;let P;try{P=(yield this.resolveExternalUri(c,s)).resolved}catch(ne){P=c}let H;if(typeof t=="string"&&c.toString()===P.toString()?H=t:H=encodeURI(P.toString(!0)),s!=null&&s.allowContributedOpeners){const ne=typeof(s==null?void 0:s.allowContributedOpeners)=="string"?s==null?void 0:s.allowContributedOpeners:void 0;for(const pe of this._externalOpeners)if(yield pe.openExternal(H,{sourceUri:c,preferredOpenerId:ne},B.T.None))return!0}return this._defaultExternalOpener.openExternal(H,{sourceUri:c},B.T.None)})}dispose(){this._validators.clear()}};_r=Ns([Vs(0,se.$),Vs(1,Tr.H)],_r);var bo=i(36156),Io=i(44411),Ao=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},so=function(y,t){return function(s,c){t(s,c,y)}};class wr extends Re.JT{constructor(t){super(),this.model=t,this._markersData=new Map,this._register((0,Re.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(t,s){const c=[...this._markersData.keys()];this._markersData.clear();const P=this.model.deltaDecorations(c,s);for(let H=0;H<P.length;H++)this._markersData.set(P[H],t[H]);return c.length!==0||P.length!==0}getMarker(t){return this._markersData.get(t.id)}}let Go=class extends Re.JT{constructor(t,s){super(),this._markerService=s,this._onDidChangeMarker=this._register(new f.Q5),this._markerDecorations=new la.Y9,t.getModels().forEach(c=>this._onModelAdded(c)),this._register(t.onModelAdded(this._onModelAdded,this)),this._register(t.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(t=>t.dispose()),this._markerDecorations.clear()}getMarker(t,s){const c=this._markerDecorations.get(t);return c&&c.getMarker(s)||null}_handleMarkerChange(t){t.forEach(s=>{const c=this._markerDecorations.get(s);c&&this._updateDecorations(c)})}_onModelAdded(t){const s=new wr(t);this._markerDecorations.set(t.uri,s),this._updateDecorations(s)}_onModelRemoved(t){var s;const c=this._markerDecorations.get(t.uri);c&&(c.dispose(),this._markerDecorations.delete(t.uri)),(t.uri.scheme===Xs.lg.inMemory||t.uri.scheme===Xs.lg.internal||t.uri.scheme===Xs.lg.vscode)&&((s=this._markerService)===null||s===void 0||s.read({resource:t.uri}).map(P=>P.owner).forEach(P=>this._markerService.remove(P,[t.uri])))}_updateDecorations(t){const s=this._markerService.read({resource:t.model.uri,take:500}),c=s.map(P=>({range:this._createDecorationRange(t.model,P),options:this._createDecorationOption(P)}));t.update(s,c)&&this._onDidChangeMarker.fire(t.model)}_createDecorationRange(t,s){let c=M.e.lift(s);if(s.severity===bo.ZL.Hint&&!this._hasMarkerTag(s,1)&&!this._hasMarkerTag(s,2)&&(c=c.setEndPosition(c.startLineNumber,c.startColumn+2)),c=t.validateRange(c),c.isEmpty()){const P=t.getLineLastNonWhitespaceColumn(c.startLineNumber)||t.getLineMaxColumn(c.startLineNumber);if(P===1||c.endColumn>=P)return c;const H=t.getWordAtPosition(c.getStartPosition());H&&(c=new M.e(c.startLineNumber,H.startColumn,c.endLineNumber,H.endColumn))}else if(s.endColumn===Number.MAX_VALUE&&s.startColumn===1&&c.startLineNumber===c.endLineNumber){const P=t.getLineFirstNonWhitespaceColumn(s.startLineNumber);P<c.endColumn&&(c=new M.e(c.startLineNumber,P,c.endLineNumber,c.endColumn),s.startColumn=P)}return c}_createDecorationOption(t){let s,c,P,H,ne;switch(t.severity){case bo.ZL.Hint:this._hasMarkerTag(t,2)?s=void 0:this._hasMarkerTag(t,1)?s="squiggly-unnecessary":s="squiggly-hint",P=0;break;case bo.ZL.Warning:s="squiggly-warning",c=(0,ir.EN)(Io.Re),P=20,ne={color:(0,ir.EN)(Rs.Ivo),position:oe.F5.Inline};break;case bo.ZL.Info:s="squiggly-info",c=(0,ir.EN)(Io.eS),P=10;break;case bo.ZL.Error:default:s="squiggly-error",c=(0,ir.EN)(Io.lK),P=30,ne={color:(0,ir.EN)(Rs.Gj_),position:oe.F5.Inline};break}return t.tags&&(t.tags.indexOf(1)!==-1&&(H="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(H="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:s,showIfCollapsed:!0,overviewRuler:{color:c,position:oe.sh.Right},minimap:ne,zIndex:P,inlineClassName:H}}_hasMarkerTag(t,s){return t.tags?t.tags.indexOf(s)>=0:!1}};Go=Ao([so(0,Me.q),so(1,bo.lT)],Go);var Bs=i(52919),ur=i(56318),Kr=i(32916),Ma=i(75565),Ra=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Jr=function(y,t){return function(s,c){t(s,c,y)}};function Br(y){return y.toString()}function Lr(y){const t=new Kr.yP,s=y.createSnapshot();let c;for(;c=s.read();)t.update(c);return t.digest()}class qa{constructor(t,s,c){this.model=t,this._modelEventListeners=new Re.SL,this.model=t,this._modelEventListeners.add(t.onWillDispose(()=>s(t))),this._modelEventListeners.add(t.onDidChangeLanguage(P=>c(t,P)))}dispose(){this._modelEventListeners.dispose()}}const Ba=ut.IJ||ut.dz?1:2;class ko{constructor(t,s,c,P,H,ne,pe,Ve){this.uri=t,this.initialUndoRedoSnapshot=s,this.time=c,this.sharesUndoRedoStack=P,this.heapSize=H,this.sha1=ne,this.versionId=pe,this.alternativeVersionId=Ve}}let Wa=class ud extends Re.JT{constructor(t,s,c,P,H){super(),this._configurationService=t,this._resourcePropertiesService=s,this._undoRedoService=c,this._languageService=P,this._languageConfigurationService=H,this._onModelAdded=this._register(new f.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new f.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new f.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(ne=>this._updateModelOptions(ne))),this._updateModelOptions(void 0)}static _readModelOptions(t,s){var c;let P=ur.D.tabSize;if(t.editor&&typeof t.editor.tabSize!="undefined"){const qt=parseInt(t.editor.tabSize,10);isNaN(qt)||(P=qt),P<1&&(P=1)}let H="tabSize";if(t.editor&&typeof t.editor.indentSize!="undefined"&&t.editor.indentSize!=="tabSize"){const qt=parseInt(t.editor.indentSize,10);isNaN(qt)||(H=Math.max(qt,1))}let ne=ur.D.insertSpaces;t.editor&&typeof t.editor.insertSpaces!="undefined"&&(ne=t.editor.insertSpaces==="false"?!1:Boolean(t.editor.insertSpaces));let pe=Ba;const Ve=t.eol;Ve===`\r
`?pe=2:Ve===`
`&&(pe=1);let $e=ur.D.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace!="undefined"&&($e=t.editor.trimAutoWhitespace==="false"?!1:Boolean(t.editor.trimAutoWhitespace));let Je=ur.D.detectIndentation;t.editor&&typeof t.editor.detectIndentation!="undefined"&&(Je=t.editor.detectIndentation==="false"?!1:Boolean(t.editor.detectIndentation));let gt=ur.D.largeFileOptimizations;t.editor&&typeof t.editor.largeFileOptimizations!="undefined"&&(gt=t.editor.largeFileOptimizations==="false"?!1:Boolean(t.editor.largeFileOptimizations));let jt=ur.D.bracketPairColorizationOptions;return!((c=t.editor)===null||c===void 0)&&c.bracketPairColorization&&typeof t.editor.bracketPairColorization=="object"&&(jt={enabled:!!t.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!t.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:s,tabSize:P,indentSize:H,insertSpaces:ne,detectIndentation:Je,defaultEOL:pe,trimAutoWhitespace:$e,largeFileOptimizations:gt,bracketPairColorizationOptions:jt}}_getEOL(t,s){if(t)return this._resourcePropertiesService.getEOL(t,s);const c=this._configurationService.getValue("files.eol",{overrideIdentifier:s});return c&&typeof c=="string"&&c!=="auto"?c:ut.OS===3||ut.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const t=this._configurationService.getValue("files.restoreUndoStack");return typeof t=="boolean"?t:!0}getCreationOptions(t,s,c){const P=typeof t=="string"?t:t.languageId;let H=this._modelCreationOptionsByLanguageAndResource[P+s];if(!H){const ne=this._configurationService.getValue("editor",{overrideIdentifier:P,resource:s}),pe=this._getEOL(s,P);H=ud._readModelOptions({editor:ne,eol:pe},c),this._modelCreationOptionsByLanguageAndResource[P+s]=H}return H}_updateModelOptions(t){const s=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const c=Object.keys(this._models);for(let P=0,H=c.length;P<H;P++){const ne=c[P],pe=this._models[ne],Ve=pe.model.getLanguageId(),$e=pe.model.uri;if(t&&!t.affectsConfiguration("editor",{overrideIdentifier:Ve,resource:$e})&&!t.affectsConfiguration("files.eol",{overrideIdentifier:Ve,resource:$e}))continue;const Je=s[Ve+$e],gt=this.getCreationOptions(Ve,$e,pe.model.isForSimpleWidget);ud._setModelOptionsForModel(pe.model,gt,Je)}}static _setModelOptionsForModel(t,s,c){c&&c.defaultEOL!==s.defaultEOL&&t.getLineCount()===1&&t.setEOL(s.defaultEOL===1?0:1),!(c&&c.detectIndentation===s.detectIndentation&&c.insertSpaces===s.insertSpaces&&c.tabSize===s.tabSize&&c.indentSize===s.indentSize&&c.trimAutoWhitespace===s.trimAutoWhitespace&&(0,he.fS)(c.bracketPairColorizationOptions,s.bracketPairColorizationOptions))&&(s.detectIndentation?(t.detectIndentation(s.insertSpaces,s.tabSize),t.updateOptions({trimAutoWhitespace:s.trimAutoWhitespace,bracketColorizationOptions:s.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:s.insertSpaces,tabSize:s.tabSize,indentSize:s.indentSize,trimAutoWhitespace:s.trimAutoWhitespace,bracketColorizationOptions:s.bracketPairColorizationOptions}))}_insertDisposedModel(t){this._disposedModels.set(Br(t.uri),t),this._disposedModelsHeapSize+=t.heapSize}_removeDisposedModel(t){const s=this._disposedModels.get(Br(t));return s&&(this._disposedModelsHeapSize-=s.heapSize),this._disposedModels.delete(Br(t)),s}_ensureDisposedModelsHeapSize(t){if(this._disposedModelsHeapSize>t){const s=[];for(this._disposedModels.forEach(c=>{c.sharesUndoRedoStack||s.push(c)}),s.sort((c,P)=>c.time-P.time);s.length>0&&this._disposedModelsHeapSize>t;){const c=s.shift();this._removeDisposedModel(c.uri),c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}}}_createModelData(t,s,c,P){const H=this.getCreationOptions(s,c,P),ne=new wo.yO(t,s,H,c,this._undoRedoService,this._languageService,this._languageConfigurationService);if(c&&this._disposedModels.has(Br(c))){const $e=this._removeDisposedModel(c),Je=this._undoRedoService.getElements(c),gt=Lr(ne)===$e.sha1;if(gt||$e.sharesUndoRedoStack){for(const jt of Je.past)(0,Ma.e9)(jt)&&jt.matchesResource(c)&&jt.setModel(ne);for(const jt of Je.future)(0,Ma.e9)(jt)&&jt.matchesResource(c)&&jt.setModel(ne);this._undoRedoService.setElementsValidFlag(c,!0,jt=>(0,Ma.e9)(jt)&&jt.matchesResource(c)),gt&&(ne._overwriteVersionId($e.versionId),ne._overwriteAlternativeVersionId($e.alternativeVersionId),ne._overwriteInitialUndoRedoSnapshot($e.initialUndoRedoSnapshot))}else $e.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot($e.initialUndoRedoSnapshot)}const pe=Br(ne.uri);if(this._models[pe])throw new Error("ModelService: Cannot add model because it already exists!");const Ve=new qa(ne,$e=>this._onWillDispose($e),($e,Je)=>this._onDidChangeLanguage($e,Je));return this._models[pe]=Ve,Ve}createModel(t,s,c,P=!1){let H;return s?H=this._createModelData(t,s,c,P):H=this._createModelData(t,Fa.bd,c,P),this._onModelAdded.fire(H.model),H.model}getModels(){const t=[],s=Object.keys(this._models);for(let c=0,P=s.length;c<P;c++){const H=s[c];t.push(this._models[H].model)}return t}getModel(t){const s=Br(t),c=this._models[s];return c?c.model:null}_schemaShouldMaintainUndoRedoElements(t){return t.scheme===Xs.lg.file||t.scheme===Xs.lg.vscodeRemote||t.scheme===Xs.lg.vscodeUserData||t.scheme===Xs.lg.vscodeNotebookCell||t.scheme==="fake-fs"}_onWillDispose(t){const s=Br(t.uri),c=this._models[s],P=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let H=!1,ne=0;if(P||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const Ve=this._undoRedoService.getElements(t.uri);if(Ve.past.length>0||Ve.future.length>0){for(const $e of Ve.past)(0,Ma.e9)($e)&&$e.matchesResource(t.uri)&&(H=!0,ne+=$e.heapSize(t.uri),$e.setModel(t.uri));for(const $e of Ve.future)(0,Ma.e9)($e)&&$e.matchesResource(t.uri)&&(H=!0,ne+=$e.heapSize(t.uri),$e.setModel(t.uri))}}const pe=ud.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(H)if(!P&&ne>pe){const Ve=c.model.getInitialUndoRedoSnapshot();Ve!==null&&this._undoRedoService.restoreSnapshot(Ve)}else this._ensureDisposedModelsHeapSize(pe-ne),this._undoRedoService.setElementsValidFlag(t.uri,!1,Ve=>(0,Ma.e9)(Ve)&&Ve.matchesResource(t.uri)),this._insertDisposedModel(new ko(t.uri,c.model.getInitialUndoRedoSnapshot(),Date.now(),P,ne,Lr(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!P){const Ve=c.model.getInitialUndoRedoSnapshot();Ve!==null&&this._undoRedoService.restoreSnapshot(Ve)}delete this._models[s],c.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,s){const c=s.oldLanguage,P=t.getLanguageId(),H=this.getCreationOptions(c,t.uri,t.isForSimpleWidget),ne=this.getCreationOptions(P,t.uri,t.isForSimpleWidget);ud._setModelOptionsForModel(t,ne,H),this._onModelModeChanged.fire({model:t,oldLanguageId:c})}};Wa.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Wa=Ra([Jr(0,an.Ui),Jr(1,oi.y),Jr(2,Xr.tJ),Jr(3,me.O),Jr(4,ge.c_)],Wa);var Dr=i(48981),Zo=i(89717),$r=i(26152),Po=i(38785),el=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},hr=function(y,t){return function(s,c){t(s,c,y)}};let qr=class extends Re.JT{constructor(t,s){super(),this.quickInputService=t,this.instantiationService=s,this.registry=Tc.B.as($r.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",s){this.doShowOrPick(t,!1,s)}doShowOrPick(t,s,c){var P;const[H,ne]=this.getOrInstantiateProvider(t),pe=this.visibleQuickAccess,Ve=pe==null?void 0:pe.descriptor;if(pe&&ne&&Ve===ne){t!==ne.prefix&&!(c!=null&&c.preserveValue)&&(pe.picker.value=t),this.adjustValueSelection(pe.picker,ne,c);return}if(ne&&!(c!=null&&c.preserveValue)){let qt;if(pe&&Ve&&Ve!==ne){const _i=pe.value.substr(Ve.prefix.length);_i&&(qt=`${ne.prefix}${_i}`)}if(!qt){const _i=H==null?void 0:H.defaultFilterValue;_i===$r.Ry.LAST?qt=this.lastAcceptedPickerValues.get(ne):typeof _i=="string"&&(qt=`${ne.prefix}${_i}`)}typeof qt=="string"&&(t=qt)}const $e=new Re.SL,Je=$e.add(this.quickInputService.createQuickPick());Je.value=t,this.adjustValueSelection(Je,ne,c),Je.placeholder=ne==null?void 0:ne.placeholder,Je.quickNavigate=c==null?void 0:c.quickNavigateConfiguration,Je.hideInput=!!Je.quickNavigate&&!pe,(typeof(c==null?void 0:c.itemActivation)=="number"||c!=null&&c.quickNavigateConfiguration)&&(Je.itemActivation=(P=c==null?void 0:c.itemActivation)!==null&&P!==void 0?P:Po.jG.SECOND),Je.contextKey=ne==null?void 0:ne.contextKey,Je.filterValue=qt=>qt.substring(ne?ne.prefix.length:0),ne!=null&&ne.placeholder&&(Je.ariaLabel=ne==null?void 0:ne.placeholder);let gt;s&&(gt=new qe.CR,$e.add((0,Zo.I)(Je.onWillAccept)(qt=>{qt.veto(),Je.hide()}))),$e.add(this.registerPickerListeners(Je,H,ne,t,c==null?void 0:c.providerOptions));const jt=$e.add(new B.A);if(H&&$e.add(H.provide(Je,jt.token,c==null?void 0:c.providerOptions)),(0,Zo.I)(Je.onDidHide)(()=>{Je.selectedItems.length===0&&jt.cancel(),$e.dispose(),gt==null||gt.complete(Je.selectedItems.slice(0))}),Je.show(),s)return gt==null?void 0:gt.p}adjustValueSelection(t,s,c){var P;let H;c!=null&&c.preserveValue?H=[t.value.length,t.value.length]:H=[(P=s==null?void 0:s.prefix.length)!==null&&P!==void 0?P:0,t.value.length],t.valueSelection=H}registerPickerListeners(t,s,c,P,H){const ne=new Re.SL,pe=this.visibleQuickAccess={picker:t,descriptor:c,value:P};return ne.add((0,Re.OF)(()=>{pe===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),ne.add(t.onDidChangeValue(Ve=>{const[$e]=this.getOrInstantiateProvider(Ve);$e!==s?this.show(Ve,{preserveValue:!0,providerOptions:H}):pe.value=Ve})),c&&ne.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(c,t.value)})),ne}getOrInstantiateProvider(t){const s=this.registry.getQuickAccessProvider(t);if(!s)return[void 0,void 0];let c=this.mapProviderToDescriptor.get(s);return c||(c=this.instantiationService.createInstance(s.ctor),this.mapProviderToDescriptor.set(s,c)),[c,s]}};qr=el([hr(0,Po.eJ),hr(1,dr.TG)],qr);var Mr=i(29278),Rr=i(10786),vl=i(19111),_l=i(86741),tl=i(69008);const Vl={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:_l.Il.white.toString(),buttonForeground:_l.Il.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class il extends Re.JT{get onDidClick(){return this._onDidClick.event}constructor(t,s){super(),this._label="",this._onDidClick=this._register(new f.Q5),this.options=s,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button");const c=s.secondary?s.buttonSecondaryBackground:s.buttonBackground,P=s.secondary?s.buttonSecondaryForeground:s.buttonForeground;this._element.style.color=P||"",this._element.style.backgroundColor=c||"",s.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),t.appendChild(this._element),this._register(Qi.o.addTarget(this._element)),[ni.tw.CLICK,Qi.t.Tap].forEach(H=>{this._register((0,ni.nm)(this._element,H,ne=>{if(!this.enabled){ni.zB.stop(ne);return}this._onDidClick.fire(ne)}))}),this._register((0,ni.nm)(this._element,ni.tw.KEY_DOWN,H=>{const ne=new Us.y(H);let pe=!1;this.enabled&&(ne.equals(3)||ne.equals(10))?(this._onDidClick.fire(H),pe=!0):ne.equals(9)&&(this._element.blur(),pe=!0),pe&&ni.zB.stop(ne,!0)})),this._register((0,ni.nm)(this._element,ni.tw.MOUSE_OVER,H=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,ni.nm)(this._element,ni.tw.MOUSE_OUT,H=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,ni.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}getContentElements(t){const s=[];for(let c of(0,vl.T)(t))if(typeof c=="string"){if(c=c.trim(),c==="")continue;const P=document.createElement("span");P.textContent=c,s.push(P)}else s.push(c);return s}updateBackground(t){let s;this.options.secondary?s=t?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:s=t?this.options.buttonHoverBackground:this.options.buttonBackground,s&&(this._element.style.backgroundColor=s)}get element(){return this._element}set label(t){var s;if(this._label===t||(0,tl.Fr)(this._label)&&(0,tl.Fr)(t)&&(0,tl.g_)(this._label,t))return;this._element.classList.add("monaco-text-button");const c=this.options.supportShortLabel?this._labelElement:this._element;if((0,tl.Fr)(t)){const P=(0,Rr.ap)(t,{inline:!0});P.dispose();const H=(s=P.element.querySelector("p"))===null||s===void 0?void 0:s.innerHTML;if(H){const ne=(0,Mr.Nw)(H,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});c.innerHTML=ne}else(0,ni.mc)(c)}else this.options.supportIcons?(0,ni.mc)(c,...this.getContentElements(t)):c.textContent=t;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,Rr.et)(t)),this._label=t}get label(){return this._label}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Tl=i(19205);const da="done",nl="active",Va="infinite",Ha="infinite-long-running",Os="discrete";class ks extends Re.JT{constructor(t,s){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new qe.pY(()=>(0,ni.$Z)(this.element),0)),this.longRunningScheduler=this._register(new qe.pY(()=>this.infiniteLongRunning(),ks.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(t,s)}create(t,s){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(s==null?void 0:s.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(nl,Va,Ha,Os),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(da),this.element.classList.contains(Va)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Os,da,Ha),this.element.classList.add(nl,Va),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Ha)}getContainer(){return this.element}}ks.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var Yo=i(23602),ua=i(12049);const za=ni.$;class Xc extends Re.JT{constructor(t,s,c){super(),this.parent=t,this.onKeyDown=H=>ni.nm(this.findInput.inputBox.inputElement,ni.tw.KEY_DOWN,ne=>{H(new Us.y(ne))}),this.onMouseDown=H=>ni.nm(this.findInput.inputBox.inputElement,ni.tw.MOUSE_DOWN,ne=>{H(new cn.n(ne))}),this.onDidChange=H=>this.findInput.onDidChange(H),this.container=ni.R3(this.parent,za(".quick-input-box")),this.findInput=this._register(new ua.V(this.container,void 0,{label:"",inputBoxStyles:s,toggleStyles:c}));const P=this.findInput.inputBox.inputElement;P.role="combobox",P.ariaHasPopup="menu",P.ariaAutoComplete="list",P.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(t){this.findInput.setValue(t)}select(t=null){this.findInput.inputBox.select(t)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.findInput.inputBox.setPlaceHolder(t)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(t){this.findInput.inputBox.inputElement.type=t?"password":"text"}set enabled(t){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!t)}set toggles(t){this.findInput.setAdditionalToggles(t)}setAttribute(t,s){this.findInput.inputBox.inputElement.setAttribute(t,s)}showDecoration(t){t===Nr.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:t===Nr.Z.Info?1:t===Nr.Z.Warning?2:3,content:""})}stylesForType(t){return this.findInput.inputBox.stylesForType(t===Nr.Z.Info?1:t===Nr.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var Pc=i(65029),sl=i(40186),Hl=i(51280);const Ml=new Hl.o(()=>{const y=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:y,collatorIsNumeric:y.resolvedOptions().numeric}}),Jc=new Hl.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),Rl=new Hl.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function Ua(y,t,s=!1){const c=y||"",P=t||"",H=Ml.value.collator.compare(c,P);return Ml.value.collatorIsNumeric&&H===0&&c!==P?c<P?-1:1:H}function nc(y,t,s){const c=y.toLowerCase(),P=t.toLowerCase(),H=_c(y,t,s);if(H)return H;const ne=c.endsWith(s),pe=P.endsWith(s);if(ne!==pe)return ne?-1:1;const Ve=Ua(c,P);return Ve!==0?Ve:c.localeCompare(P)}function _c(y,t,s){const c=y.toLowerCase(),P=t.toLowerCase(),H=c.startsWith(s),ne=P.startsWith(s);if(H!==ne)return H?-1:1;if(H&&ne){if(c.length<P.length)return-1;if(c.length>P.length)return 1}return 0}var sc=i(4848),qs=i(54505),eo=i(6100),Cr=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H};class Pr{constructor(t){this.nodes=t}toString(){return this.nodes.map(t=>typeof t=="string"?t:t.label).join("")}}Cr([sc.H],Pr.prototype,"toString",null);const ol=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function Pa(y){const t=[];let s=0,c;for(;c=ol.exec(y);){c.index-s>0&&t.push(y.substring(s,c.index));const[,P,H,,ne]=c;ne?t.push({label:P,href:H,title:ne}):t.push({label:P,href:H}),s=c.index+c[0].length}return s<y.length&&t.push(y.substring(s)),new Pr(t)}const Cc={},bd=new eo.R("quick-input-button-icon-");function zl(y){if(!y)return;let t;const s=y.dark.toString();return Cc[s]?t=Cc[s]:(t=bd.nextId(),ni.fk(`.${t}, .hc-light .${t}`,`background-image: ${ni.wY(y.light||y.dark)}`),ni.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${ni.wY(y.dark)}`),Cc[s]=t),t}function qc(y,t,s){ni.mc(t);const c=Pa(y);let P=0;for(const H of c.nodes)if(typeof H=="string")t.append(...(0,vl.T)(H));else{let ne=H.title;!ne&&H.href.startsWith("command:")?ne=(0,ln.NC)("executeCommand","Click to execute command '{0}'",H.href.substring(8)):ne||(ne=H.href);const pe=ni.$("a",{href:H.href,title:ne,tabIndex:P++},H.label);pe.style.textDecoration="underline";const Ve=qt=>{ni.cl(qt)&&ni.zB.stop(qt,!0),s.callback(H.href)},$e=s.disposables.add(new qs.Y(pe,ni.tw.CLICK)).event,Je=s.disposables.add(new qs.Y(pe,ni.tw.KEY_DOWN)).event,gt=s.disposables.add(f.ju.chain(Je)).filter(qt=>{const _i=new Us.y(qt);return _i.equals(10)||_i.equals(3)}).event;s.disposables.add(Qi.o.addTarget(pe));const jt=s.disposables.add(new qs.Y(pe,Qi.t.Tap)).event;f.ju.any($e,jt,gt)(Ve,null,s.disposables),t.appendChild(pe)}}var Sd=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},yd=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};const rl=ni.$;class wd{get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}constructor(t){this.hidden=!1,this._onChecked=new f.Q5,this.onChecked=this._onChecked.event,Object.assign(this,t)}dispose(){this._onChecked.dispose()}}class Pl{get templateId(){return Pl.ID}renderTemplate(t){const s=Object.create(null);s.toDisposeElement=[],s.toDisposeTemplate=[],s.entry=ni.R3(t,rl(".quick-input-list-entry"));const c=ni.R3(s.entry,rl("label.quick-input-list-label"));s.toDisposeTemplate.push(ni.mu(c,ni.tw.CLICK,$e=>{s.checkbox.offsetParent||$e.preventDefault()})),s.checkbox=ni.R3(c,rl("input.quick-input-list-checkbox")),s.checkbox.type="checkbox",s.toDisposeTemplate.push(ni.mu(s.checkbox,ni.tw.CHANGE,$e=>{s.element.checked=s.checkbox.checked}));const P=ni.R3(c,rl(".quick-input-list-rows")),H=ni.R3(P,rl(".quick-input-list-row")),ne=ni.R3(P,rl(".quick-input-list-row"));s.label=new Pc.g(H,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const pe=ni.R3(H,rl(".quick-input-list-entry-keybinding"));s.keybinding=new sl.e(pe,ut.OS);const Ve=ni.R3(ne,rl(".quick-input-list-label-meta"));return s.detail=new Pc.g(Ve,{supportHighlights:!0,supportIcons:!0}),s.separator=ni.R3(s.entry,rl(".quick-input-list-separator")),s.actionBar=new Sr.o(s.entry),s.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),s.toDisposeTemplate.push(s.actionBar),s}renderElement(t,s,c){c.element=t,t.element=(0,vr.f6)(c.entry);const P=t.item?t.item:t.separator;c.checkbox.checked=t.checked,c.toDisposeElement.push(t.onChecked(Je=>c.checkbox.checked=Je));const{labelHighlights:H,descriptionHighlights:ne,detailHighlights:pe}=t,Ve=Object.create(null);Ve.matches=H||[],Ve.descriptionTitle=t.saneDescription,Ve.descriptionMatches=ne||[],P.type!=="separator"?(Ve.extraClasses=P.iconClasses,Ve.italic=P.italic,Ve.strikethrough=P.strikethrough,c.entry.classList.remove("quick-input-list-separator-as-item")):c.entry.classList.add("quick-input-list-separator-as-item"),c.label.setLabel(t.saneLabel,t.saneDescription,Ve),c.keybinding.set(P.type==="separator"?void 0:P.keybinding),t.saneDetail&&c.detail.setLabel(t.saneDetail,void 0,{matches:pe,title:t.saneDetail}),t.item&&t.separator&&t.separator.label?(c.separator.textContent=t.separator.label,c.separator.style.display=""):c.separator.style.display="none",c.entry.classList.toggle("quick-input-list-separator-border",!!t.separator);const $e=P.buttons;$e&&$e.length?(c.actionBar.push($e.map((Je,gt)=>{let jt=Je.iconClass||(Je.iconPath?zl(Je.iconPath):void 0);return Je.alwaysVisible&&(jt=jt?`${jt} always-visible`:"always-visible"),{id:`id-${gt}`,class:jt,enabled:!0,label:"",tooltip:Je.tooltip||"",run:()=>{P.type!=="separator"?t.fireButtonTriggered({button:Je,item:P}):t.fireSeparatorButtonTriggered({button:Je,separator:P})}}}),{icon:!0,label:!1}),c.entry.classList.add("has-actions")):c.entry.classList.remove("has-actions")}disposeElement(t,s,c){c.toDisposeElement=(0,Re.B9)(c.toDisposeElement),c.actionBar.clear()}disposeTemplate(t){t.toDisposeElement=(0,Re.B9)(t.toDisposeElement),t.toDisposeTemplate=(0,Re.B9)(t.toDisposeTemplate)}}Pl.ID="listelement";class ou{getHeight(t){return t.item?t.saneDetail?44:22:24}getTemplateId(t){return Pl.ID}}var or;(function(y){y[y.First=1]="First",y[y.Second=2]="Second",y[y.Last=3]="Last",y[y.Next=4]="Next",y[y.Previous=5]="Previous",y[y.NextPage=6]="NextPage",y[y.PreviousPage=7]="PreviousPage"})(or||(or={}));class ed{constructor(t,s,c){this.parent=t,this.options=c,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new f.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new f.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new f.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new f.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new f.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new f.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new f.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new f.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=s,this.container=ni.R3(this.parent,rl(".quick-input-list"));const P=new ou,H=new au;this.list=c.createList("QuickInput",this.container,P,[new Pl],{identityProvider:{getId:pe=>pe.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:H}),this.list.getHTMLElement().id=s,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(pe=>{const Ve=new Us.y(pe);switch(Ve.keyCode){case 10:this.toggleCheckbox();break;case 31:(ut.dz?pe.metaKey:pe.ctrlKey)&&this.list.setFocus((0,mi.w6)(this.list.length));break;case 16:{const $e=this.list.getFocus();$e.length===1&&$e[0]===0&&this._onLeave.fire();break}case 18:{const $e=this.list.getFocus();$e.length===1&&$e[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(Ve)})),this.disposables.push(this.list.onMouseDown(pe=>{pe.browserEvent.button!==2&&pe.browserEvent.preventDefault()})),this.disposables.push(ni.nm(this.container,ni.tw.CLICK,pe=>{(pe.x||pe.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(pe=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(pe=>{typeof pe.index=="number"&&(pe.browserEvent.preventDefault(),this.list.setSelection([pe.index]))}));const ne=new qe.rH(c.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(pe=>yd(this,void 0,void 0,function*(){var Ve;if(pe.browserEvent.target instanceof HTMLAnchorElement){ne.cancel();return}if(!(!(pe.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&ni.jg(pe.browserEvent.relatedTarget,(Ve=pe.element)===null||Ve===void 0?void 0:Ve.element)))try{yield ne.trigger(()=>yd(this,void 0,void 0,function*(){pe.element&&this.showHover(pe.element)}))}catch($e){if(!(0,ot.n2)($e))throw $e}}))),this.disposables.push(this.list.onMouseOut(pe=>{var Ve;ni.jg(pe.browserEvent.relatedTarget,(Ve=pe.element)===null||Ve===void 0?void 0:Ve.element)||ne.cancel()})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown,ne)}get onDidChangeFocus(){return f.ju.map(this.list.onDidChangeFocus,t=>t.elements.map(s=>s.item))}get onDidChangeSelection(){return f.ju.map(this.list.onDidChangeSelection,t=>({items:t.elements.map(s=>s.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(t){this.list.getHTMLElement().ariaLabel=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,s=!0){for(let c=0,P=t.length;c<P;c++){const H=t[c];if(!H.hidden)if(H.checked)s=!0;else return!1}return s}getCheckedCount(){let t=0;const s=this.elements;for(let c=0,P=s.length;c<P;c++)s[c].checked&&t++;return t}getVisibleCount(){let t=0;const s=this.elements;for(let c=0,P=s.length;c<P;c++)s[c].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(s=>{s.hidden||(s.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=(0,Re.B9)(this.elementDisposables);const s=P=>this.fireButtonTriggered(P),c=P=>this.fireSeparatorButtonTriggered(P);this.inputElements=t,this.elements=t.reduce((P,H,ne)=>{var pe,Ve,$e;const Je=ne&&t[ne-1],gt=H.label?H.label.replace(/\r?\n/g," "):"",jt=(0,sn.Ho)(gt).text.trim();let qt,_i,Li,Gi,un,mn,dn;H.type!=="separator"&&(qt=H.meta&&H.meta.replace(/\r?\n/g," "),_i=H.description&&H.description.replace(/\r?\n/g," "),Li=H.detail&&H.detail.replace(/\r?\n/g," "),Gi=(pe=H.highlights)===null||pe===void 0?void 0:pe.label,un=(Ve=H.highlights)===null||Ve===void 0?void 0:Ve.description,mn=($e=H.highlights)===null||$e===void 0?void 0:$e.detail,dn=H.tooltip);const qi=H.ariaLabel||[gt,_i,Li].map(fn=>(0,sn.JL)(fn)).filter(fn=>!!fn).join(", "),qn=this.parent.classList.contains("show-checkboxes");let ns;if(H.type==="separator"){if(!H.buttons)return P;ns=H}else Je&&Je.type==="separator"&&!Je.buttons&&(ns=Je);const kn=new wd({hasCheckbox:qn,index:ne,item:H.type!=="separator"?H:void 0,saneLabel:gt,saneSortLabel:jt,saneMeta:qt,saneAriaLabel:qi,saneDescription:_i,saneDetail:Li,saneTooltip:dn,labelHighlights:Gi,descriptionHighlights:un,detailHighlights:mn,checked:!1,separator:ns,fireButtonTriggered:s,fireSeparatorButtonTriggered:c});return this.elementDisposables.push(kn),this.elementDisposables.push(kn.onChecked(()=>this.fireCheckedEvents())),P.push(kn),P},[]),this.elementsToIndexes=this.elements.reduce((P,H,ne)=>{var pe;return P.set((pe=H.item)!==null&&pe!==void 0?pe:H.separator,ne),P},new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(s=>this.elementsToIndexes.has(s)).map(s=>this.elementsToIndexes.get(s))),t.length>0){const s=this.list.getFocus()[0];typeof s=="number"&&this.list.reveal(s)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(s=>this.elementsToIndexes.has(s)).map(s=>this.elementsToIndexes.get(s)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item).filter(t=>!!t)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const s=new Set;for(const c of t)s.add(c);for(const c of this.elements)c.checked=s.has(c.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===or.Second&&this.list.length<2&&(t=or.First),t){case or.First:this.list.scrollTop=0,this.list.focusFirst(void 0,c=>!!c.item);break;case or.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,c=>!!c.item);break;case or.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,c=>!!c.item);break;case or.Next:{this.list.focusNext(void 0,!0,void 0,P=>!!P.item);const c=this.list.getFocus()[0];c!==0&&!this.elements[c-1].item&&this.list.firstVisibleIndex>c-1&&this.list.reveal(c-1);break}case or.Previous:{this.list.focusPrevious(void 0,!0,void 0,P=>!!P.item);const c=this.list.getFocus()[0];c!==0&&!this.elements[c-1].item&&this.list.firstVisibleIndex>c-1&&this.list.reveal(c-1);break}case or.NextPage:this.list.focusNextPage(void 0,c=>!!c.item);break;case or.PreviousPage:this.list.focusPreviousPage(void 0,c=>!!c.item);break}const s=this.list.getFocus()[0];typeof s=="number"&&this.list.reveal(s)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(t){var s,c,P;this._lastHover&&!this._lastHover.isDisposed&&((c=(s=this.options.hoverDelegate).onDidHideHover)===null||c===void 0||c.call(s),(P=this._lastHover)===null||P===void 0||P.dispose()),!(!t.element||!t.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:t.saneTooltip,target:t.element,linkHandler:H=>{this.options.linkOpenerDelegate(H)},showPointer:!0,container:this.container,hoverPosition:1},!1))}layout(t){this.list.getHTMLElement().style.maxHeight=t?`${Math.floor(t/44)*44+6}px`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const s=t;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(P=>{P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=!1;const H=P.index&&this.inputElements[P.index-1];P.item&&(P.separator=H&&H.type==="separator"&&!H.buttons?H:void 0)});else{let P;this.elements.forEach(H=>{let ne;this.matchOnLabelMode==="fuzzy"?ne=this.matchOnLabel?(0,vr.f6)((0,sn.Gt)(t,(0,sn.Ho)(H.saneLabel))):void 0:ne=this.matchOnLabel?(0,vr.f6)(Ld(s,(0,sn.Ho)(H.saneLabel))):void 0;const pe=this.matchOnDescription?(0,vr.f6)((0,sn.Gt)(t,(0,sn.Ho)(H.saneDescription||""))):void 0,Ve=this.matchOnDetail?(0,vr.f6)((0,sn.Gt)(t,(0,sn.Ho)(H.saneDetail||""))):void 0,$e=this.matchOnMeta?(0,vr.f6)((0,sn.Gt)(t,(0,sn.Ho)(H.saneMeta||""))):void 0;if(ne||pe||Ve||$e?(H.labelHighlights=ne,H.descriptionHighlights=pe,H.detailHighlights=Ve,H.hidden=!1):(H.labelHighlights=void 0,H.descriptionHighlights=void 0,H.detailHighlights=void 0,H.hidden=H.item?!H.item.alwaysShow:!0),!this.sortByLabel){const Je=H.index&&this.inputElements[H.index-1];P=Je&&Je.type==="separator"?Je:P,P&&!H.hidden&&(H.separator=P,P=void 0)}})}const c=this.elements.filter(P=>!P.hidden);if(this.sortByLabel&&t){const P=t.toLowerCase();c.sort((H,ne)=>ru(H,ne,P))}return this.elementsToIndexes=c.reduce((P,H,ne)=>{var pe;return P.set((pe=H.item)!==null&&pe!==void 0?pe:H.separator,ne),P},new Map),this.list.splice(0,this.list.length,c),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(c.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),s=this.allVisibleChecked(t);for(const c of t)c.checked=!s}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,Re.B9)(this.elementDisposables),this.disposables=(0,Re.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}fireSeparatorButtonTriggered(t){this._onSeparatorButtonTriggered.fire(t)}style(t){this.list.style(t)}toggleHover(){if(!this.list.getFocusedElements()[0].saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const s=this.list.getFocusedElements()[0];if(!s)return;this.showHover(s);const c=new Re.SL;c.add(this.list.onDidChangeFocus(P=>{P.indexes.length&&this.showHover(P.elements[0])})),this._lastHover&&c.add(this._lastHover),this._toggleHover=c,this.elementDisposables.push(this._toggleHover)}}Sd([sc.H],ed.prototype,"onDidChangeFocus",null),Sd([sc.H],ed.prototype,"onDidChangeSelection",null);function Ld(y,t){const{text:s,iconOffsets:c}=t;if(!c||c.length===0)return Dd(y,s);const P=(0,ie.j3)(s," "),H=s.length-P.length,ne=Dd(y,P);if(ne)for(const pe of ne){const Ve=c[pe.start+H]+H;pe.start+=Ve,pe.end+=Ve}return ne}function Dd(y,t){const s=t.toLowerCase().indexOf(y.toLowerCase());return s!==-1?[{start:s,end:s+y.length}]:null}function ru(y,t,s){const c=y.labelHighlights||[],P=t.labelHighlights||[];return c.length&&!P.length?-1:!c.length&&P.length?1:c.length===0&&P.length===0?0:nc(y.saneSortLabel,t.saneSortLabel,s)}class au{getWidgetAriaLabel(){return(0,ln.NC)("quickInput","Quick Input")}getAriaLabel(t){var s;return!((s=t.separator)===null||s===void 0)&&s.label?`${t.saneAriaLabel}, ${t.separator.label}`:t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(t){return t.hasCheckbox?"checkbox":"option"}isChecked(t){if(t.hasCheckbox)return{value:t.checked,onDidChange:t.onChecked}}}var Ed=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};const ha=ni.$,td={iconClass:Wo.k.asClassName(lo.l.quickInputBack),tooltip:(0,ln.NC)("quickInput.back","Back"),handle:-1};class Oo extends Re.JT{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=Oo.noPromptMessage,this._severity=Nr.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new f.Q5),this.onDidHideEmitter=this._register(new f.Q5),this.onDisposeEmitter=this._register(new f.Q5),this.visibleDisposables=this._register(new Re.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const s=this._ignoreFocusOut!==t&&!ut.gn;this._ignoreFocusOut=t&&!ut.gn,s&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(t){this._toggles=t!=null?t:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=Po.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){var t,s;if(!this.visible)return;const c=this.getTitle();c&&this.ui.title.textContent!==c?this.ui.title.textContent=c:!c&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const P=this.getDescription();if(this.ui.description1.textContent!==P&&(this.ui.description1.textContent=P),this.ui.description2.textContent!==P&&(this.ui.description2.textContent=P),this.busy&&!this.busyDelay&&(this.busyDelay=new qe._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const ne=this.buttons.filter(Ve=>Ve===td);this.ui.leftActionBar.push(ne.map((Ve,$e)=>{const Je=new co.aU(`id-${$e}`,"",Ve.iconClass||zl(Ve.iconPath),!0,()=>Ed(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Ve)}));return Je.tooltip=Ve.tooltip||"",Je}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const pe=this.buttons.filter(Ve=>Ve!==td);this.ui.rightActionBar.push(pe.map((Ve,$e)=>{const Je=new co.aU(`id-${$e}`,"",Ve.iconClass||zl(Ve.iconPath),!0,()=>Ed(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Ve)}));return Je.tooltip=Ve.tooltip||"",Je}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const ne=(s=(t=this.toggles)===null||t===void 0?void 0:t.filter(pe=>pe instanceof Yo.Z))!==null&&s!==void 0?s:[];this.ui.inputBox.toggles=ne}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const H=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==H&&(this._lastValidationMessage=H,ni.mc(this.ui.message),qc(H,this.ui.message,{callback:ne=>{this.ui.linkOpenerDelegate(ne)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,ln.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==Nr.Z.Ignore){const s=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=s.foreground?`${s.foreground}`:"",this.ui.message.style.backgroundColor=s.background?`${s.background}`:"",this.ui.message.style.border=s.border?`1px solid ${s.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Oo.noPromptMessage=(0,ln.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class ho extends Oo{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new f.Q5),this.onWillAcceptEmitter=this._register(new f.Q5),this.onDidAcceptEmitter=this._register(new f.Q5),this.onDidCustomEmitter=this._register(new f.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=Po.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new f.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new f.Q5),this.onDidTriggerItemButtonEmitter=this._register(new f.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new f.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this.doSetValue(t)}doSetValue(t,s){this._value!==t&&(this._value=t,s||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(t){this._matchOnLabelMode=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Po.X5:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(or.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{this.doSetValue(t,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus(or.Next),this.canSelectMany&&this.ui.list.domFocus(),ni.zB.stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(or.Previous):this.ui.list.focus(or.Last),this.canSelectMany&&this.ui.list.domFocus(),ni.zB.stop(t,!0);break;case 12:this.ui.list.focus(or.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ni.zB.stop(t,!0);break;case 11:this.ui.list.focus(or.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ni.zB.stop(t,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(or.First),ni.zB.stop(t,!0));break;case 13:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus(or.Last),ni.zB.stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,mi.fS)(t,this._activeItems,(s,c)=>s===c)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:s})=>{if(this.canSelectMany){t.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,mi.fS)(t,this._selectedItems,(c,P)=>c===P)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(s instanceof MouseEvent&&s.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,mi.fS)(t,this._selectedItems,(s,c)=>s===c)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(t=>this.onDidTriggerSeparatorButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let s=!1;this.onWillAcceptEmitter.fire({veto:()=>s=!0}),s||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return ni.nm(this.ui.container,ni.tw.KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const s=new Us.y(t),c=s.keyCode;this._quickNavigate.keybindings.some(ne=>{const pe=ne.getChords();return pe.length>1?!1:pe[0].shiftKey&&c===4?!(s.ctrlKey||s.altKey||s.metaKey):!!(pe[0].altKey&&c===6||pe[0].ctrlKey&&c===5||pe[0].metaKey&&c===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,s=!!this.description,c={title:!!this.title||!!this.step||!!this.buttons.length,description:s,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||s,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(c),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let P=this.ariaLabel;if(P||(P=this.placeholder||ho.DEFAULT_ARIA_LABEL,this.title&&(P+=` - ${this.title}`)),this.ui.list.ariaLabel!==P&&(this.ui.list.ariaLabel=P),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Po.jG.NONE:this._itemActivation=Po.jG.FIRST;break;case Po.jG.SECOND:this.ui.list.focus(or.Second),this._itemActivation=Po.jG.FIRST;break;case Po.jG.LAST:this.ui.list.focus(or.Last),this._itemActivation=Po.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",c.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(or.First)),this.keepScrollPosition&&(this.scrollTop=t)}}ho.DEFAULT_ARIA_LABEL=(0,ln.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class Uo extends Oo{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new f.Q5),this.onDidAcceptEmitter=this._register(new f.Q5),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(t){this._value=t||"",this.update()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get password(){return this._password}set password(t){this._password=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{t!==this.value&&(this._value=t,this.onDidValueChangeEmitter.fire(t))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const t={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0};this.ui.setVisibilities(t),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}class Wr extends Re.JT{constructor(t){super(),this.options=t,this.enabled=!0,this.onDidAcceptEmitter=this._register(new f.Q5),this.onDidCustomEmitter=this._register(new f.Q5),this.onDidTriggerButtonEmitter=this._register(new f.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new f.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new f.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=s=>{this.keyMods.ctrlCmd=s.ctrlKey||s.metaKey,this.keyMods.alt=s.altKey};this._register(ni.nm(window,ni.tw.KEY_DOWN,t,!0)),this._register(ni.nm(window,ni.tw.KEY_UP,t,!0)),this._register(ni.nm(window,ni.tw.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=ni.R3(this.parentElement,ha(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const s=ni.dS(t),c=ni.R3(t,ha(".quick-input-titlebar")),P=this._register(new Sr.o(c));P.domNode.classList.add("quick-input-left-action-bar");const H=ni.R3(c,ha(".quick-input-title")),ne=this._register(new Sr.o(c));ne.domNode.classList.add("quick-input-right-action-bar");const pe=ni.R3(t,ha(".quick-input-description")),Ve=ni.R3(t,ha(".quick-input-header")),$e=ni.R3(Ve,ha("input.quick-input-check-all"));$e.type="checkbox",$e.setAttribute("aria-label",(0,ln.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(ni.mu($e,ni.tw.CHANGE,Hn=>{const $s=$e.checked;zn.setAllVisibleChecked($s)})),this._register(ni.nm($e,ni.tw.CLICK,Hn=>{(Hn.x||Hn.y)&&qt.setFocus()}));const Je=ni.R3(Ve,ha(".quick-input-description")),gt=ni.R3(Ve,ha(".quick-input-and-message")),jt=ni.R3(gt,ha(".quick-input-filter")),qt=this._register(new Xc(jt,this.styles.inputBox,this.styles.toggle));qt.setAttribute("aria-describedby",`${this.idPrefix}message`);const _i=ni.R3(jt,ha(".quick-input-visible-count"));_i.setAttribute("aria-live","polite"),_i.setAttribute("aria-atomic","true");const Li=new Tl.Z(_i,{countFormat:(0,ln.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),Gi=ni.R3(jt,ha(".quick-input-count"));Gi.setAttribute("aria-live","polite");const un=new Tl.Z(Gi,{countFormat:(0,ln.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),mn=ni.R3(Ve,ha(".quick-input-action")),dn=new il(mn,this.styles.button);dn.label=(0,ln.NC)("ok","OK"),this._register(dn.onDidClick(Hn=>{this.onDidAcceptEmitter.fire()}));const qi=ni.R3(Ve,ha(".quick-input-action")),qn=new il(qi,this.styles.button);qn.label=(0,ln.NC)("custom","Custom"),this._register(qn.onDidClick(Hn=>{this.onDidCustomEmitter.fire()}));const ns=ni.R3(gt,ha(`#${this.idPrefix}message.quick-input-message`)),kn=new ks(t,this.styles.progressBar);kn.getContainer().classList.add("quick-input-progress");const fn=this.idPrefix+"list",zn=this._register(new ed(t,fn,this.options));qt.setAttribute("aria-controls",fn),this._register(zn.onDidChangeFocus(()=>{var Hn;qt.setAttribute("aria-activedescendant",(Hn=zn.getActiveDescendant())!==null&&Hn!==void 0?Hn:"")})),this._register(zn.onChangedAllVisibleChecked(Hn=>{$e.checked=Hn})),this._register(zn.onChangedVisibleCount(Hn=>{Li.setCount(Hn)})),this._register(zn.onChangedCheckedCount(Hn=>{un.setCount(Hn)})),this._register(zn.onLeave(()=>{setTimeout(()=>{qt.setFocus(),this.controller instanceof ho&&this.controller.canSelectMany&&zn.clearFocus()},0)}));const Hs=ni.go(t);return this._register(Hs),this._register(ni.nm(t,ni.tw.FOCUS,Hn=>{this.previousFocusElement=Hn.relatedTarget instanceof HTMLElement?Hn.relatedTarget:void 0},!0)),this._register(Hs.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Po.Jq.Blur),this.previousFocusElement=void 0})),this._register(ni.nm(t,ni.tw.FOCUS,Hn=>{qt.setFocus()})),this._register(ni.nm(t,ni.tw.KEY_DOWN,Hn=>{const $s=new Us.y(Hn);switch($s.keyCode){case 3:ni.zB.stop(Hn,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:ni.zB.stop(Hn,!0),this.hide(Po.Jq.Gesture);break;case 2:if(!$s.altKey&&!$s.ctrlKey&&!$s.metaKey){const ls=[".action-label.codicon"];t.classList.contains("show-checkboxes")?ls.push("input"):ls.push("input[type=text]"),this.getUI().list.isDisplayed()&&ls.push(".monaco-list"),this.getUI().message&&ls.push(".quick-input-message a");const Lo=t.querySelectorAll(ls.join(", "));$s.shiftKey&&$s.target===Lo[0]?(ni.zB.stop(Hn,!0),zn.clearFocus()):!$s.shiftKey&&$s.target===Lo[Lo.length-1]&&(ni.zB.stop(Hn,!0),Lo[0].focus())}break;case 10:$s.ctrlKey&&(ni.zB.stop(Hn,!0),this.getUI().list.toggleHover());break}})),this.ui={container:t,styleSheet:s,leftActionBar:P,titleBar:c,title:H,description1:pe,description2:Je,rightActionBar:ne,checkAll:$e,filterContainer:jt,inputBox:qt,visibleCountContainer:_i,visibleCount:Li,countContainer:Gi,count:un,okContainer:mn,ok:dn,message:ns,customButtonContainer:qi,customButton:qn,list:zn,progressBar:kn,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:Hn=>this.show(Hn),hide:()=>this.hide(),setVisibilities:Hn=>this.setVisibilities(Hn),setEnabled:Hn=>this.setEnabled(Hn),setContextKey:Hn=>this.options.setContextKey(Hn),linkOpenerDelegate:Hn=>this.options.linkOpenerDelegate(Hn)},this.updateStyles(),this.ui}pick(t,s={},c=B.T.None){return new Promise((P,H)=>{let ne=Je=>{var gt;ne=P,(gt=s.onKeyMods)===null||gt===void 0||gt.call(s,pe.keyMods),P(Je)};if(c.isCancellationRequested){ne(void 0);return}const pe=this.createQuickPick();let Ve;const $e=[pe,pe.onDidAccept(()=>{if(pe.canSelectMany)ne(pe.selectedItems.slice()),pe.hide();else{const Je=pe.activeItems[0];Je&&(ne(Je),pe.hide())}}),pe.onDidChangeActive(Je=>{const gt=Je[0];gt&&s.onDidFocus&&s.onDidFocus(gt)}),pe.onDidChangeSelection(Je=>{if(!pe.canSelectMany){const gt=Je[0];gt&&(ne(gt),pe.hide())}}),pe.onDidTriggerItemButton(Je=>s.onDidTriggerItemButton&&s.onDidTriggerItemButton(Object.assign(Object.assign({},Je),{removeItem:()=>{const gt=pe.items.indexOf(Je.item);if(gt!==-1){const jt=pe.items.slice(),qt=jt.splice(gt,1),_i=pe.activeItems.filter(Gi=>Gi!==qt[0]),Li=pe.keepScrollPosition;pe.keepScrollPosition=!0,pe.items=jt,_i&&(pe.activeItems=_i),pe.keepScrollPosition=Li}}}))),pe.onDidTriggerSeparatorButton(Je=>{var gt;return(gt=s.onDidTriggerSeparatorButton)===null||gt===void 0?void 0:gt.call(s,Je)}),pe.onDidChangeValue(Je=>{Ve&&!Je&&(pe.activeItems.length!==1||pe.activeItems[0]!==Ve)&&(pe.activeItems=[Ve])}),c.onCancellationRequested(()=>{pe.hide()}),pe.onDidHide(()=>{(0,Re.B9)($e),ne(void 0)})];pe.title=s.title,pe.canSelectMany=!!s.canPickMany,pe.placeholder=s.placeHolder,pe.ignoreFocusOut=!!s.ignoreFocusLost,pe.matchOnDescription=!!s.matchOnDescription,pe.matchOnDetail=!!s.matchOnDetail,pe.matchOnLabel=s.matchOnLabel===void 0||s.matchOnLabel,pe.autoFocusOnList=s.autoFocusOnList===void 0||s.autoFocusOnList,pe.quickNavigate=s.quickNavigate,pe.hideInput=!!s.hideInput,pe.contextKey=s.contextKey,pe.busy=!0,Promise.all([t,s.activeItem]).then(([Je,gt])=>{Ve=gt,pe.busy=!1,pe.items=Je,pe.canSelectMany&&(pe.selectedItems=Je.filter(jt=>jt.type!=="separator"&&jt.picked)),Ve&&(pe.activeItems=[Ve])}),pe.show(),Promise.resolve(t).then(void 0,Je=>{H(Je),pe.hide()})})}createQuickPick(){const t=this.getUI();return new ho(t)}createInputBox(){const t=this.getUI();return new Uo(t)}show(t){const s=this.getUI();this.onShowEmitter.fire();const c=this.controller;this.controller=t,c==null||c.didHide(),this.setEnabled(!0),s.leftActionBar.clear(),s.title.textContent="",s.description1.textContent="",s.description2.textContent="",s.rightActionBar.clear(),s.checkAll.checked=!1,s.inputBox.placeholder="",s.inputBox.password=!1,s.inputBox.showDecoration(Nr.Z.Ignore),s.visibleCount.setCount(0),s.count.setCount(0),ni.mc(s.message),s.progressBar.stop(),s.list.setElements([]),s.list.matchOnDescription=!1,s.list.matchOnDetail=!1,s.list.matchOnLabel=!0,s.list.sortByLabel=!0,s.ignoreFocusOut=!1,s.inputBox.toggles=void 0;const P=this.options.backKeybindingLabel();td.tooltip=P?(0,ln.NC)("quickInput.backWithKeybinding","Back ({0})",P):(0,ln.NC)("quickInput.back","Back"),s.container.style.display="",this.updateLayout(),s.inputBox.setFocus()}setVisibilities(t){const s=this.getUI();s.title.style.display=t.title?"":"none",s.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",s.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",s.checkAll.style.display=t.checkAll?"":"none",s.filterContainer.style.display=t.inputBox?"":"none",s.visibleCountContainer.style.display=t.visibleCount?"":"none",s.countContainer.style.display=t.count?"":"none",s.okContainer.style.display=t.ok?"":"none",s.customButtonContainer.style.display=t.customButton?"":"none",s.message.style.display=t.message?"":"none",s.progressBar.getContainer().style.display=t.progressBar?"":"none",s.list.display(!!t.list),s.container.classList.toggle("show-checkboxes",!!t.checkBox),s.container.classList.toggle("hidden-input",!t.inputBox&&!t.description),this.updateLayout()}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const s of this.getUI().leftActionBar.viewItems)s.action.enabled=t;for(const s of this.getUI().rightActionBar.viewItems)s.action.enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().inputBox.enabled=t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var s;const c=this.controller;if(c){const P=!(!((s=this.ui)===null||s===void 0)&&s.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!P){let H=this.previousFocusElement;for(;H&&!H.offsetParent;)H=(0,vr.f6)(H.parentElement);H!=null&&H.offsetParent?(H.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}c.didHide(t)}}layout(t,s){this.dimension=t,this.titleBarOffset=s,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,s=Math.min(this.dimension.width*.62,Wr.MAX_WIDTH);t.width=s+"px",t.marginLeft="-"+s/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:s,quickInputForeground:c,widgetBorder:P,widgetShadow:H}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t!=null?t:"",this.ui.container.style.backgroundColor=s!=null?s:"",this.ui.container.style.color=c!=null?c:"",this.ui.container.style.border=P?`1px solid ${P}`:"",this.ui.container.style.boxShadow=H?`0 0 8px 2px ${H}`:"",this.ui.list.style(this.styles.list);const ne=[];this.styles.pickerGroup.pickerGroupBorder&&ne.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&ne.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&ne.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(ne.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&ne.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&ne.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&ne.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&ne.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&ne.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),ne.push("}"));const pe=ne.join(`
`);pe!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=pe)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}Wr.MAX_WIDTH=600;var Sa=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},al=function(y,t){return function(s,c){t(s,c,y)}};let Ul=class extends ir.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(qr))),this._quickAccess}constructor(t,s,c,P){super(c),this.instantiationService=t,this.contextKeyService=s,this.layoutService=P,this._onShow=this._register(new f.Q5),this._onHide=this._register(new f.Q5),this.contexts=new Map}createController(t=this.layoutService,s){const c={idPrefix:"quickInput_",container:t.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:H=>this.setContextKey(H),linkOpenerDelegate:H=>{this.instantiationService.invokeFunction(ne=>{ne.get(jn.v4).open(H,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>t.focus(),createList:(H,ne,pe,Ve,$e)=>this.instantiationService.createInstance(Dr.ev,H,ne,pe,Ve,$e),hoverDelegate:{showHover(H,ne){},delay:200},styles:this.computeStyles()},P=this._register(new Wr(Object.assign(Object.assign({},c),s)));return P.layout(t.dimension,t.offset.quickPickTop),this._register(t.onDidLayout(H=>P.layout(H,t.offset.quickPickTop))),this._register(P.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(P.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),P}setContextKey(t){let s;t&&(s=this.contexts.get(t),s||(s=new ys.uy(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,s))),!(s&&s.get())&&(this.resetContextKeys(),s==null||s.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,s={},c=B.T.None){return this.controller.pick(t,s,c)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,Rs.n_1)(Rs.zKr),quickInputForeground:(0,Rs.n_1)(Rs.tZ6),quickInputTitleBackground:(0,Rs.n_1)(Rs.loF),widgetBorder:(0,Rs.n_1)(Rs.A42),widgetShadow:(0,Rs.n_1)(Rs.rh)},inputBox:Cs.Hc,toggle:Cs.pl,countBadge:Cs.ku,button:Cs.wG,progressBar:Cs.b5,keybindingLabel:Cs.eO,list:(0,Cs.TU)({listBackground:Rs.zKr,listFocusBackground:Rs.Vqd,listFocusForeground:Rs.NPS,listInactiveFocusForeground:Rs.NPS,listInactiveSelectionIconForeground:Rs.cbQ,listInactiveFocusBackground:Rs.Vqd,listFocusOutline:Rs.xL1,listInactiveFocusOutline:Rs.xL1}),pickerGroup:{pickerGroupBorder:(0,Rs.n_1)(Rs.opG),pickerGroupForeground:(0,Rs.n_1)(Rs.kJk)}}}};Ul=Sa([al(0,dr.TG),al(1,ys.i6),al(2,ir.XE),al(3,Qa)],Ul);var xd=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Oc=function(y,t){return function(s,c){t(s,c,y)}};let lu=class extends Ul{constructor(t,s,c,P,H){super(s,c,P,new El(t.getContainerDomNode(),H)),this.host=void 0;const ne=Ac.get(t);if(ne){const pe=ne.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return pe.getDomNode()},get dimension(){return t.getLayoutInfo()},get onDidLayout(){return t.onDidLayoutChange},focus:()=>t.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};lu=xd([Oc(1,dr.TG),Oc(2,ys.i6),Oc(3,ir.XE),Oc(4,se.$)],lu);let cu=class{get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(t);if(!s){const c=s=this.instantiationService.createInstance(lu,t);this.mapEditorToService.set(t,s),(0,Zo.I)(t.onDidDispose)(()=>{c.dispose(),this.mapEditorToService.delete(t)})}return s}get quickAccess(){return this.activeService.quickAccess}constructor(t,s){this.instantiationService=t,this.codeEditorService=s,this.mapEditorToService=new Map}pick(t,s={},c=B.T.None){return this.activeService.pick(t,s,c)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};cu=xd([Oc(0,dr.TG),Oc(1,se.$)],cu);class Ac{static get(t){return t.getContribution(Ac.ID)}constructor(t){this.editor=t,this.widget=new Id(this.editor)}dispose(){this.widget.dispose()}}Ac.ID="editor.controller.quickInput";class Id{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Id.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Id.ID="editor.contrib.quickInputWidget",(0,go._K)(Ac.ID,Ac,4);var Kh=i(79091),ll=i(96444),$h=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},du=function(y,t){return function(s,c){t(s,c,y)}};let uu=class extends Re.JT{constructor(t,s,c){super(),this._contextKeyService=t,this._layoutService=s,this._configurationService=c,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new f.Q5,this._onDidChangeReducedMotion=new f.Q5,this._accessibilityModeEnabledContext=Ee.U.bindTo(this._contextKeyService);const P=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(ne=>{ne.affectsConfiguration("editor.accessibilitySupport")&&(P(),this._onDidChangeScreenReaderOptimized.fire()),ne.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),P(),this._register(this.onDidChangeScreenReaderOptimized(()=>P()));const H=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=H.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(H)}initReducedMotionListeners(t){if(!this._layoutService.hasContainer)return;this._register((0,ni.nm)(t,"change",()=>{this._systemMotionReduced=t.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const s=()=>{const c=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",c),this._layoutService.container.classList.toggle("enable-motion",!c)};s(),this._register(this.onDidChangeReducedMotion(()=>s()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const t=this._configMotionReduced;return t==="on"||t==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};uu=$h([du(0,ys.i6),du(1,Qa),du(2,an.Ui)],uu);var Nd=i(63536),Td=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},bc=function(y,t){return function(s,c){t(s,c,y)}};let hu=class{constructor(t,s){this._commandService=t,this._hiddenStates=new Md(s)}createMenu(t,s,c){return new gu(t,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},c),this._commandService,s)}resetHiddenStates(t){this._hiddenStates.reset(t)}};hu=Td([bc(0,Tr.H),bc(1,Nd.Uy)],hu);let Md=class hd{constructor(t){this._storageService=t,this._disposables=new Re.SL,this._onDidChange=new f.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const s=t.get(hd._key,0,"{}");this._data=JSON.parse(s)}catch(s){this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue(s=>{if(s.key===hd._key){if(!this._ignoreChangeEvent)try{const c=t.get(hd._key,0,"{}");this._data=JSON.parse(c)}catch(c){console.log("FAILED to read storage after UPDATE",c)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(t,s){var c;return(c=this._hiddenByDefaultCache.get(`${t.id}/${s}`))!==null&&c!==void 0?c:!1}setDefaultState(t,s,c){this._hiddenByDefaultCache.set(`${t.id}/${s}`,c)}isHidden(t,s){var c,P;const H=this._isHiddenByDefault(t,s),ne=(P=(c=this._data[t.id])===null||c===void 0?void 0:c.includes(s))!==null&&P!==void 0?P:!1;return H?!ne:ne}updateHidden(t,s,c){this._isHiddenByDefault(t,s)&&(c=!c);const H=this._data[t.id];if(c)H?H.indexOf(s)<0&&H.push(s):this._data[t.id]=[s];else if(H){const ne=H.indexOf(s);ne>=0&&(0,mi.LS)(H,ne),H.length===0&&delete this._data[t.id]}this._persist()}reset(t){if(t===void 0)this._data=Object.create(null),this._persist();else{for(const{id:s}of t)this._data[s]&&delete this._data[s];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const t=JSON.stringify(this._data);this._storageService.store(hd._key,t,0,0)}finally{this._ignoreChangeEvent=!1}}};Md._key="menu.hiddenCommands",Md=Td([bc(0,Nd.Uy)],Md);let fu=class wc{constructor(t,s,c,P,H){this._id=t,this._hiddenStates=s,this._collectContextKeysForSubmenus=c,this._commandService=P,this._contextKeyService=H,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const t=zi.BH.getMenuItems(this._id);let s;t.sort(wc._compareMenuItems);for(const c of t){const P=c.group||"";(!s||s[0]!==P)&&(s=[P,[]],this._menuGroups.push(s)),s[1].push(c),this._collectContextKeys(c)}}_collectContextKeys(t){if(wc._fillInKbExprKeys(t.when,this._structureContextKeys),(0,zi.vr)(t)){if(t.command.precondition&&wc._fillInKbExprKeys(t.command.precondition,this._preconditionContextKeys),t.command.toggled){const s=t.command.toggled.condition||t.command.toggled;wc._fillInKbExprKeys(s,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&zi.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}createActionGroups(t){const s=[];for(const c of this._menuGroups){const[P,H]=c,ne=[];for(const pe of H)if(this._contextKeyService.contextMatchesRules(pe.when)){const Ve=(0,zi.vr)(pe);Ve&&this._hiddenStates.setDefaultState(this._id,pe.command.id,!!pe.isHiddenByDefault);const $e=Gh(this._id,Ve?pe.command:pe,this._hiddenStates);if(Ve)ne.push(new zi.U8(pe.command,pe.alt,t,$e,this._contextKeyService,this._commandService));else{const Je=new wc(pe.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(t),gt=co.Z0.join(...Je.map(jt=>jt[1]));gt.length>0&&ne.push(new zi.NZ(pe,$e,gt))}}ne.length>0&&s.push([P,ne])}return s}static _fillInKbExprKeys(t,s){if(t)for(const c of t.keys())s.add(c)}static _compareMenuItems(t,s){const c=t.group,P=s.group;if(c!==P){if(c){if(!P)return-1}else return 1;if(c==="navigation")return-1;if(P==="navigation")return 1;const pe=c.localeCompare(P);if(pe!==0)return pe}const H=t.order||0,ne=s.order||0;return H<ne?-1:H>ne?1:wc._compareTitles((0,zi.vr)(t)?t.command.title:t.title,(0,zi.vr)(s)?s.command.title:s.title)}static _compareTitles(t,s){const c=typeof t=="string"?t:t.original,P=typeof s=="string"?s:s.original;return c.localeCompare(P)}};fu=Td([bc(3,Tr.H),bc(4,ys.i6)],fu);let gu=class{constructor(t,s,c,P,H){this._disposables=new Re.SL,this._menuInfo=new fu(t,s,c.emitEventsForSubmenuChanges,P,H);const ne=new qe.pY(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},c.eventDebounceDelay);this._disposables.add(ne),this._disposables.add(zi.BH.onDidChangeMenu(Je=>{Je.has(t)&&ne.schedule()}));const pe=this._disposables.add(new Re.SL),Ve=Je=>{let gt=!1,jt=!1,qt=!1;for(const _i of Je)if(gt=gt||_i.isStructuralChange,jt=jt||_i.isEnablementChange,qt=qt||_i.isToggleChange,gt&&jt&&qt)break;return{menu:this,isStructuralChange:gt,isEnablementChange:jt,isToggleChange:qt}},$e=()=>{pe.add(H.onDidChangeContext(Je=>{const gt=Je.affectsSome(this._menuInfo.structureContextKeys),jt=Je.affectsSome(this._menuInfo.preconditionContextKeys),qt=Je.affectsSome(this._menuInfo.toggledContextKeys);(gt||jt||qt)&&this._onDidChange.fire({menu:this,isStructuralChange:gt,isEnablementChange:jt,isToggleChange:qt})})),pe.add(s.onDidChange(Je=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new f.D0({onWillAddFirstListener:$e,onDidRemoveLastListener:pe.clear.bind(pe),delay:c.eventDebounceDelay,merge:Ve}),this.onDidChange=this._onDidChange.event}getActions(t){return this._menuInfo.createActionGroups(t)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};gu=Td([bc(3,Tr.H),bc(4,ys.i6)],gu);function Gh(y,t,s){const c=(0,zi.f6)(t)?t.submenu.id:t.id,P=typeof t.title=="string"?t.title:t.title.value,H=(0,co.xw)({id:`hide/${y.id}/${c}`,label:(0,ln.NC)("hide.label","Hide '{0}'",P),run(){s.updateHidden(y,c,!0)}}),ne=(0,co.xw)({id:`toggle/${y.id}/${c}`,label:P,get checked(){return!s.isHidden(y,c)},run(){s.updateHidden(y,c,!!this.checked)}});return{hide:H,toggle:ne,get isHidden(){return!ne.checked}}}var Zh=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Qu=function(y,t){return function(s,c){t(s,c,y)}},kc=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};let mu=class extends Re.JT{constructor(t,s){super(),this.layoutService=t,this.logService=s,this.mapTextToType=new Map,this.findText="",this.resources=[],(rn.isSafari||rn.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const t=()=>{const s=new qe.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(c=>kc(this,void 0,void 0,function*(){(!(c instanceof Error)||c.name!=="NotAllowedError"||!s.isRejected)&&this.logService.error(c)}))};this.layoutService.hasContainer&&(this._register((0,ni.nm)(this.layoutService.container,"click",t)),this._register((0,ni.nm)(this.layoutService.container,"keydown",t)))}writeText(t,s){return kc(this,void 0,void 0,function*(){if(s){this.mapTextToType.set(s,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return yield navigator.clipboard.writeText(t)}catch(H){console.error(H)}const c=document.activeElement,P=document.body.appendChild((0,ni.$)("textarea",{"aria-hidden":!0}));P.style.height="1px",P.style.width="1px",P.style.position="absolute",P.value=t,P.focus(),P.select(),document.execCommand("copy"),c instanceof HTMLElement&&c.focus(),document.body.removeChild(P)})}readText(t){return kc(this,void 0,void 0,function*(){if(t)return this.mapTextToType.get(t)||"";try{return yield navigator.clipboard.readText()}catch(s){return console.error(s),""}})}readFindText(){return kc(this,void 0,void 0,function*(){return this.findText})}writeFindText(t){return kc(this,void 0,void 0,function*(){this.findText=t})}readResources(){return kc(this,void 0,void 0,function*(){return this.resources})}};mu=Zh([Qu(0,Qa),Qu(1,Fi.VZ)],mu);var Fc=i(97865),Yh=i(87057),Qh=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Xh=function(y,t){return function(s,c){t(s,c,y)}};const id="data-keybinding-context";class pu{constructor(t,s){this._id=t,this._parent=s,this._value=Object.create(null),this._value._contextId=t}get value(){return Object.assign({},this._value)}setValue(t,s){return this._value[t]!==s?(this._value[t]=s,!0):!1}removeValue(t){return t in this._value?(delete this._value[t],!0):!1}getValue(t){const s=this._value[t];return typeof s=="undefined"&&this._parent?this._parent.getValue(t):s}}class Bc extends pu{constructor(){super(-1,null)}setValue(t,s){return!1}removeValue(t){return!1}getValue(t){}}Bc.INSTANCE=new Bc;class nd extends pu{constructor(t,s,c){super(t,null),this._configurationService=s,this._values=Yh.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(P=>{if(P.source===7){const H=Array.from(this._values,([ne])=>ne);this._values.clear(),c.fire(new Ju(H))}else{const H=[];for(const ne of P.affectedKeys){const pe=`config.${ne}`,Ve=this._values.findSuperstr(pe);Ve!==void 0&&(H.push(...Fc.$.map(Ve,([$e])=>$e)),this._values.deleteSuperstr(pe)),this._values.has(pe)&&(H.push(pe),this._values.delete(pe))}c.fire(new Ju(H))}})}dispose(){this._listener.dispose()}getValue(t){if(t.indexOf(nd._keyPrefix)!==0)return super.getValue(t);if(this._values.has(t))return this._values.get(t);const s=t.substr(nd._keyPrefix.length),c=this._configurationService.getValue(s);let P;switch(typeof c){case"number":case"boolean":case"string":P=c;break;default:Array.isArray(c)?P=JSON.stringify(c):P=c}return this._values.set(t,P),P}setValue(t,s){return super.setValue(t,s)}removeValue(t){return super.removeValue(t)}}nd._keyPrefix="config.";class Jh{constructor(t,s,c){this._service=t,this._key=s,this._defaultValue=c,this.reset()}set(t){this._service.setContext(this._key,t)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Xu{constructor(t){this.key=t}affectsSome(t){return t.has(this.key)}allKeysContainedIn(t){return this.affectsSome(t)}}class Ju{constructor(t){this.keys=t}affectsSome(t){for(const s of this.keys)if(t.has(s))return!0;return!1}allKeysContainedIn(t){return this.keys.every(s=>t.has(s))}}class qh{constructor(t){this.events=t}affectsSome(t){for(const s of this.events)if(s.affectsSome(t))return!0;return!1}allKeysContainedIn(t){return this.events.every(s=>s.allKeysContainedIn(t))}}function ef(y,t){return y.allKeysContainedIn(new Set(Object.keys(t)))}class qu{constructor(t){this._onDidChangeContext=new f.K3({merge:s=>new qh(s)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}createKey(t,s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Jh(this,t,s)}bufferChangeEvents(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}}createScoped(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new tf(this,t)}contextMatchesRules(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const s=this.getContextValuesContainer(this._myContextId);return t?t.evaluate(s):!0}getContextKeyValue(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)}setContext(t,s){if(this._isDisposed)return;const c=this.getContextValuesContainer(this._myContextId);c&&c.setValue(t,s)&&this._onDidChangeContext.fire(new Xu(t))}removeContext(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new Xu(t))}getContext(t){return this._isDisposed?Bc.INSTANCE:this.getContextValuesContainer(nf(t))}}let vu=class extends qu{constructor(t){super(0),this._contexts=new Map,this._toDispose=new Re.SL,this._lastContextId=0;const s=new nd(this._myContextId,t,this._onDidChangeContext);this._contexts.set(this._myContextId,s),this._toDispose.add(s)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(t){return this._isDisposed?Bc.INSTANCE:this._contexts.get(t)||Bc.INSTANCE}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const s=++this._lastContextId;return this._contexts.set(s,new pu(s,this.getContextValuesContainer(t))),s}disposeContext(t){this._isDisposed||this._contexts.delete(t)}};vu=Qh([Xh(0,an.Ui)],vu);class tf extends qu{constructor(t,s){if(super(t.createChildContext()),this._parentChangeListener=new Re.XK,this._parent=t,this._updateParentChangeListener(),this._domNode=s,this._domNode.hasAttribute(id)){let c="";this._domNode.classList&&(c=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${c?": "+c:""}`)}this._domNode.setAttribute(id,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(t=>{const c=this._parent.getContextValuesContainer(this._myContextId).value;ef(t,c)||this._onDidChangeContext.fire(t)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(id),this._isDisposed=!0)}getContextValuesContainer(t){return this._isDisposed?Bc.INSTANCE:this._parent.getContextValuesContainer(t)}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)}disposeContext(t){this._isDisposed||this._parent.disposeContext(t)}}function nf(y){for(;y;){if(y.hasAttribute(id)){const t=y.getAttribute(id);return t?parseInt(t,10):NaN}y=y.parentElement}return 0}function sf(y,t,s){y.get(ys.i6).createKey(String(t),of(s))}function of(y){return(0,he.rs)(y,t=>{if(typeof t=="object"&&t.$mid===1)return v.o.revive(t).toString();if(t instanceof v.o)return t.toString()})}Tr.P.registerCommand("_setContext",sf),Tr.P.registerCommand({id:"getContextKeyInfo",handler(){return[...ys.uy.all()].sort((y,t)=>y.key.localeCompare(t.key))},description:{description:(0,ln.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Tr.P.registerCommand("_generateContextKeyInfo",function(){const y=[],t=new Set;for(const s of ys.uy.all())t.has(s.key)||(t.add(s.key),y.push(s));y.sort((s,c)=>s.key.localeCompare(c.key)),console.log(JSON.stringify(y,void 0,2))});var oc=i(30840);class rf{constructor(t,s){this.key=t,this.data=s,this.incoming=new Map,this.outgoing=new Map}}class eh{constructor(t){this._hashFn=t,this._nodes=new Map}roots(){const t=[];for(const s of this._nodes.values())s.outgoing.size===0&&t.push(s);return t}insertEdge(t,s){const c=this.lookupOrInsertNode(t),P=this.lookupOrInsertNode(s);c.outgoing.set(P.key,P),P.incoming.set(c.key,c)}removeNode(t){const s=this._hashFn(t);this._nodes.delete(s);for(const c of this._nodes.values())c.outgoing.delete(s),c.incoming.delete(s)}lookupOrInsertNode(t){const s=this._hashFn(t);let c=this._nodes.get(s);return c||(c=new rf(s,t),this._nodes.set(s,c)),c}isEmpty(){return this._nodes.size===0}toString(){const t=[];for(const[s,c]of this._nodes)t.push(`${s}
	(-> incoming)[${[...c.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...c.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(const[t,s]of this._nodes){const c=new Set([t]),P=this._findCycle(s,c);if(P)return P}}_findCycle(t,s){for(const[c,P]of t.outgoing){if(s.has(c))return[...s,c].join(" -> ");s.add(c);const H=this._findCycle(P,s);if(H)return H;s.delete(c)}}}const af=!1;class th extends Error{constructor(t){var s;super("cyclic dependency between services"),this.message=(s=t.findCycleSlow())!==null&&s!==void 0?s:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class Rd{constructor(t=new Ga.y,s=!1,c,P=af){var H;this._services=t,this._strict=s,this._parent=c,this._enableTracing=P,this._activeInstantiations=new Set,this._services.set(dr.TG,this),this._globalGraph=P?(H=c==null?void 0:c._globalGraph)!==null&&H!==void 0?H:new eh(ne=>ne):void 0}createChild(t){return new Rd(t,this._strict,this,this._enableTracing)}invokeFunction(t,...s){const c=fa.traceInvocation(this._enableTracing,t);let P=!1;try{return t({get:ne=>{if(P)throw(0,ot.L6)("service accessor is only valid during the invocation of its target method");const pe=this._getOrCreateServiceInstance(ne,c);if(!pe)throw new Error(`[invokeFunction] unknown service '${ne}'`);return pe}},...s)}finally{P=!0,c.stop()}}createInstance(t,...s){let c,P;return t instanceof oc.M?(c=fa.traceCreation(this._enableTracing,t.ctor),P=this._createInstance(t.ctor,t.staticArguments.concat(s),c)):(c=fa.traceCreation(this._enableTracing,t),P=this._createInstance(t,s,c)),c.stop(),P}_createInstance(t,s=[],c){const P=dr.I8.getServiceDependencies(t).sort((pe,Ve)=>pe.index-Ve.index),H=[];for(const pe of P){const Ve=this._getOrCreateServiceInstance(pe.id,c);Ve||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${pe.id}.`,!1),H.push(Ve)}const ne=P.length>0?P[0].index:s.length;if(s.length!==ne){console.trace(`[createInstance] First service dependency of ${t.name} at position ${ne+1} conflicts with ${s.length} static arguments`);const pe=ne-s.length;pe>0?s=s.concat(new Array(pe)):s=s.slice(0,ne)}return Reflect.construct(t,s.concat(H))}_setServiceInstance(t,s){if(this._services.get(t)instanceof oc.M)this._services.set(t,s);else if(this._parent)this._parent._setServiceInstance(t,s);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){const s=this._services.get(t);return!s&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):s}_getOrCreateServiceInstance(t,s){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));const c=this._getServiceInstanceOrDescriptor(t);return c instanceof oc.M?this._safeCreateAndCacheServiceInstance(t,c,s.branch(t,!0)):(s.branch(t,!1),c)}_safeCreateAndCacheServiceInstance(t,s,c){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,s,c)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,s,c){var P;const H=new eh(Ve=>Ve.id.toString());let ne=0;const pe=[{id:t,desc:s,_trace:c}];for(;pe.length;){const Ve=pe.pop();if(H.lookupOrInsertNode(Ve),ne++>1e3)throw new th(H);for(const $e of dr.I8.getServiceDependencies(Ve.desc.ctor)){const Je=this._getServiceInstanceOrDescriptor($e.id);if(Je||this._throwIfStrict(`[createInstance] ${t} depends on ${$e.id} which is NOT registered.`,!0),(P=this._globalGraph)===null||P===void 0||P.insertEdge(String(Ve.id),String($e.id)),Je instanceof oc.M){const gt={id:$e.id,desc:Je,_trace:Ve._trace.branch($e.id,!0)};H.insertEdge(Ve,gt),pe.push(gt)}}}for(;;){const Ve=H.roots();if(Ve.length===0){if(!H.isEmpty())throw new th(H);break}for(const{data:$e}of Ve){if(this._getServiceInstanceOrDescriptor($e.id)instanceof oc.M){const gt=this._createServiceInstanceWithOwner($e.id,$e.desc.ctor,$e.desc.staticArguments,$e.desc.supportsDelayedInstantiation,$e._trace);this._setServiceInstance($e.id,gt)}H.removeNode($e)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,s,c=[],P,H){if(this._services.get(t)instanceof oc.M)return this._createServiceInstance(t,s,c,P,H);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,s,c,P,H);throw new Error(`illegalState - creating UNKNOWN service instance ${s.name}`)}_createServiceInstance(t,s,c=[],P,H){if(P){const ne=new Rd(void 0,this._strict,this,this._enableTracing);ne._globalGraphImplicitDependency=String(t);const pe=new Map,Ve=new qe.Ue(()=>{const $e=ne._createInstance(s,c,H);for(const[Je,gt]of pe){const jt=$e[Je];if(typeof jt=="function")for(const qt of gt)jt.apply($e,qt)}return pe.clear(),$e});return new Proxy(Object.create(null),{get($e,Je){if(!Ve.isInitialized&&typeof Je=="string"&&(Je.startsWith("onDid")||Je.startsWith("onWill"))){let qt=pe.get(Je);return qt||(qt=new ka.S,pe.set(Je,qt)),(Li,Gi,un)=>{const mn=qt.push([Li,Gi,un]);return(0,Re.OF)(mn)}}if(Je in $e)return $e[Je];const gt=Ve.value;let jt=gt[Je];return typeof jt!="function"||(jt=jt.bind(gt),$e[Je]=jt),jt},set($e,Je,gt){return Ve.value[Je]=gt,!0},getPrototypeOf($e){return s.prototype}})}else return this._createInstance(s,c,H)}_throwIfStrict(t,s){if(s&&console.warn(t),this._strict)throw new Error(t)}}class fa{static traceInvocation(t,s){return t?new fa(2,s.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):fa._None}static traceCreation(t,s){return t?new fa(1,s.name):fa._None}constructor(t,s){this.type=t,this.name=s,this._start=Date.now(),this._dep=[]}branch(t,s){const c=new fa(3,t.toString());return this._dep.push([t,s,c]),c}stop(){const t=Date.now()-this._start;fa._totals+=t;let s=!1;function c(H,ne){const pe=[],Ve=new Array(H+1).join("	");for(const[$e,Je,gt]of ne._dep)if(Je&&gt){s=!0,pe.push(`${Ve}CREATES -> ${$e}`);const jt=c(H+1,gt);jt&&pe.push(jt)}else pe.push(`${Ve}uses -> ${$e}`);return pe.join(`
`)}const P=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${c(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${fa._totals.toFixed(2)}ms)`];(t>2||s)&&fa.all.add(P.join(`
`))}}fa.all=new Set,fa._None=new class extends fa{constructor(){super(0,null)}stop(){}branch(){return this}},fa._totals=0;const lf=new Set([Xs.lg.inMemory,Xs.lg.vscodeSourceControl,Xs.lg.walkThrough,Xs.lg.walkThroughSnippet]);class cf{constructor(){this._byResource=new la.Y9,this._byOwner=new Map}set(t,s,c){let P=this._byResource.get(t);P||(P=new Map,this._byResource.set(t,P)),P.set(s,c);let H=this._byOwner.get(s);H||(H=new la.Y9,this._byOwner.set(s,H)),H.set(t,c)}get(t,s){const c=this._byResource.get(t);return c==null?void 0:c.get(s)}delete(t,s){let c=!1,P=!1;const H=this._byResource.get(t);H&&(c=H.delete(s));const ne=this._byOwner.get(s);if(ne&&(P=ne.delete(t)),c!==P)throw new Error("illegal state");return c&&P}values(t){var s,c,P,H;return typeof t=="string"?(c=(s=this._byOwner.get(t))===null||s===void 0?void 0:s.values())!==null&&c!==void 0?c:Fc.$.empty():v.o.isUri(t)?(H=(P=this._byResource.get(t))===null||P===void 0?void 0:P.values())!==null&&H!==void 0?H:Fc.$.empty():Fc.$.map(Fc.$.concat(...this._byOwner.values()),ne=>ne[1])}}class df{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new la.Y9,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const s of t){const c=this._data.get(s);c&&this._substract(c);const P=this._resourceStats(s);this._add(P),this._data.set(s,P)}}_resourceStats(t){const s={errors:0,warnings:0,infos:0,unknowns:0};if(lf.has(t.scheme))return s;for(const{severity:c}of this._service.read({resource:t}))c===bo.ZL.Error?s.errors+=1:c===bo.ZL.Warning?s.warnings+=1:c===bo.ZL.Info?s.infos+=1:s.unknowns+=1;return s}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class rc{constructor(){this._onMarkerChanged=new f.D0({delay:0,merge:rc._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new cf,this._stats=new df(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,s){for(const c of s||[])this.changeOne(t,c,[])}changeOne(t,s,c){if((0,mi.XY)(c))this._data.delete(s,t)&&this._onMarkerChanged.fire([s]);else{const P=[];for(const H of c){const ne=rc._toMarker(t,s,H);ne&&P.push(ne)}this._data.set(s,t,P),this._onMarkerChanged.fire([s])}}static _toMarker(t,s,c){let{code:P,severity:H,message:ne,source:pe,startLineNumber:Ve,startColumn:$e,endLineNumber:Je,endColumn:gt,relatedInformation:jt,tags:qt}=c;if(ne)return Ve=Ve>0?Ve:1,$e=$e>0?$e:1,Je=Je>=Ve?Je:Ve,gt=gt>0?gt:$e,{resource:s,owner:t,code:P,severity:H,message:ne,source:pe,startLineNumber:Ve,startColumn:$e,endLineNumber:Je,endColumn:gt,relatedInformation:jt,tags:qt}}changeAll(t,s){const c=[],P=this._data.values(t);if(P)for(const H of P){const ne=Fc.$.first(H);ne&&(c.push(ne.resource),this._data.delete(ne.resource,t))}if((0,mi.Of)(s)){const H=new la.Y9;for(const{resource:ne,marker:pe}of s){const Ve=rc._toMarker(t,ne,pe);if(!Ve)continue;const $e=H.get(ne);$e?$e.push(Ve):(H.set(ne,[Ve]),c.push(ne))}for(const[ne,pe]of H)this._data.set(ne,t,pe)}c.length>0&&this._onMarkerChanged.fire(c)}read(t=Object.create(null)){let{owner:s,resource:c,severities:P,take:H}=t;if((!H||H<0)&&(H=-1),s&&c){const ne=this._data.get(c,s);if(ne){const pe=[];for(const Ve of ne)if(rc._accept(Ve,P)){const $e=pe.push(Ve);if(H>0&&$e===H)break}return pe}else return[]}else if(!s&&!c){const ne=[];for(const pe of this._data.values())for(const Ve of pe)if(rc._accept(Ve,P)){const $e=ne.push(Ve);if(H>0&&$e===H)return ne}return ne}else{const ne=this._data.values(c!=null?c:s),pe=[];for(const Ve of ne)for(const $e of Ve)if(rc._accept($e,P)){const Je=pe.push($e);if(H>0&&Je===H)return pe}return pe}}static _accept(t,s){return s===void 0||(s&t.severity)===t.severity}static _merge(t){const s=new la.Y9;for(const c of t)for(const P of c)s.set(P,!0);return Array.from(s.keys())}}class uf extends Re.JT{constructor(){super(...arguments),this._configurationModel=new yr}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new yr;const t=Tc.B.as(Ja.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(t),t)}updateConfigurationModel(t,s){const c=this.getConfigurationDefaultOverrides();for(const P of t){const H=c[P],ne=s[P];H!==void 0?this._configurationModel.addValue(P,H):ne?this._configurationModel.addValue(P,ne.default):this._configurationModel.removeValue(P)}}}class hf extends Re.JT{constructor(t,s=[]){super(),this.logger=new Fi.qA([t,...s]),this._register(t.onDidChangeLogLevel(c=>this.setLevel(c)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(t){this.logger.setLevel(t)}getLevel(){return this.logger.getLevel()}trace(t,...s){this.logger.trace(t,...s)}debug(t,...s){this.logger.debug(t,...s)}info(t,...s){this.logger.info(t,...s)}error(t,...s){this.logger.error(t,...s)}}var ff=i(56072),ac=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},Er=function(y,t){return function(s,c){t(s,c,y)}},Wc=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};class gf{constructor(t){this.disposed=!1,this.model=t,this._onWillDispose=new f.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let _u=class{constructor(t){this.modelService=t}createModelReference(t){const s=this.modelService.getModel(t);return s?Promise.resolve(new Re.Jz(new gf(s))):Promise.reject(new Error("Model not found"))}};_u=ac([Er(0,Me.q)],_u);class Pd{show(){return Pd.NULL_PROGRESS_RUNNER}showWhile(t,s){return Wc(this,void 0,void 0,function*(){yield t})}}Pd.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class mf{withProgress(t,s,c){return s({report:()=>{}})}}class pf{confirm(t){return Wc(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(t.message,t.detail),checkboxChecked:!1}})}doConfirm(t,s){let c=t;return s&&(c=c+`

`+s),window.confirm(c)}prompt(t){var s,c;return Wc(this,void 0,void 0,function*(){let P;if(this.doConfirm(t.message,t.detail)){const ne=[...(s=t.buttons)!==null&&s!==void 0?s:[]];t.cancelButton&&typeof t.cancelButton!="string"&&typeof t.cancelButton!="boolean"&&ne.push(t.cancelButton),P=yield(c=ne[0])===null||c===void 0?void 0:c.run({checkboxChecked:!1})}return{result:P}})}error(t,s){return Wc(this,void 0,void 0,function*(){yield this.prompt({type:Nr.Z.Error,message:t,detail:s})})}}class sd{info(t){return this.notify({severity:Nr.Z.Info,message:t})}warn(t){return this.notify({severity:Nr.Z.Warning,message:t})}error(t){return this.notify({severity:Nr.Z.Error,message:t})}notify(t){switch(t.severity){case Nr.Z.Error:console.error(t.message);break;case Nr.Z.Warning:console.warn(t.message);break;default:console.log(t.message);break}return sd.NO_OP}prompt(t,s,c,P){return sd.NO_OP}status(t,s){return Re.JT.None}}sd.NO_OP=new mr.EO;let Cu=class{constructor(t){this._onWillExecuteCommand=new f.Q5,this._onDidExecuteCommand=new f.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}executeCommand(t,...s){const c=Tr.P.getCommand(t);if(!c)return Promise.reject(new Error(`command '${t}' not found`));try{this._onWillExecuteCommand.fire({commandId:t,args:s});const P=this._instantiationService.invokeFunction.apply(this._instantiationService,[c.handler,...s]);return this._onDidExecuteCommand.fire({commandId:t,args:s}),Promise.resolve(P)}catch(P){return Promise.reject(P)}}};Cu=ac([Er(0,dr.TG)],Cu);let Vc=class extends fd{constructor(t,s,c,P,H,ne){super(t,s,c,P,H),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const pe=qt=>{const _i=new Re.SL;_i.add(ni.nm(qt,ni.tw.KEY_DOWN,Li=>{const Gi=new Us.y(Li);this._dispatch(Gi,Gi.target)&&(Gi.preventDefault(),Gi.stopPropagation())})),_i.add(ni.nm(qt,ni.tw.KEY_UP,Li=>{const Gi=new Us.y(Li);this._singleModifierDispatch(Gi,Gi.target)&&Gi.preventDefault()})),this._domNodeListeners.push(new vf(qt,_i))},Ve=qt=>{for(let _i=0;_i<this._domNodeListeners.length;_i++){const Li=this._domNodeListeners[_i];Li.domNode===qt&&(this._domNodeListeners.splice(_i,1),Li.dispose())}},$e=qt=>{qt.getOption(59)||pe(qt.getContainerDomNode())},Je=qt=>{qt.getOption(59)||Ve(qt.getContainerDomNode())};this._register(ne.onCodeEditorAdd($e)),this._register(ne.onCodeEditorRemove(Je)),ne.listCodeEditors().forEach($e);const gt=qt=>{pe(qt.getContainerDomNode())},jt=qt=>{Ve(qt.getContainerDomNode())};this._register(ne.onDiffEditorAdd(gt)),this._register(ne.onDiffEditorRemove(jt)),ne.listDiffEditors().forEach(gt)}addDynamicKeybinding(t,s,c,P){return(0,Re.F8)(Tr.P.registerCommand(t,c),this.addDynamicKeybindings([{keybinding:s,command:t,when:P}]))}addDynamicKeybindings(t){const s=t.map(c=>{var P;return{keybinding:(0,$o.Z9)(c.keybinding,ut.OS),command:(P=c.command)!==null&&P!==void 0?P:null,commandArgs:c.commandArgs,when:c.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(s),this.updateResolver(),(0,Re.OF)(()=>{for(let c=0;c<this._dynamicKeybindings.length;c++)if(this._dynamicKeybindings[c]===s[0]){this._dynamicKeybindings.splice(c,s.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const t=this._toNormalizedKeybindingItems(qd.W.getDefaultKeybindings(),!0),s=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new hc(t,s,c=>this._log(c))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(t,s){const c=[];let P=0;for(const H of t){const ne=H.when||void 0,pe=H.keybinding;if(!pe)c[P++]=new vd(void 0,H.command,H.commandArgs,ne,s,null,!1);else{const Ve=gc.resolveKeybinding(pe,ut.OS);for(const $e of Ve)c[P++]=new vd($e,H.command,H.commandArgs,ne,s,null,!1)}}return c}resolveKeyboardEvent(t){const s=new $o.$M(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode);return new gc([s],ut.OS)}};Vc=ac([Er(0,ys.i6),Er(1,Tr.H),Er(2,mc.b),Er(3,mr.lT),Er(4,Fi.VZ),Er(5,se.$)],Vc);class vf extends Re.JT{constructor(t,s){super(),this.domNode=t,this._register(s)}}function ih(y){return y&&typeof y=="object"&&(!y.overrideIdentifier||typeof y.overrideIdentifier=="string")&&(!y.resource||y.resource instanceof v.o)}class nh{constructor(){this._onDidChangeConfiguration=new f.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const t=new uf;this._configuration=new Mc(t.reload(),new yr,new yr,new yr),t.dispose()}getValue(t,s){const c=typeof t=="string"?t:void 0,P=ih(t)?t:ih(s)?s:{};return this._configuration.getValue(c,P,void 0)}updateValues(t){const s={data:this._configuration.toData()},c=[];for(const P of t){const[H,ne]=P;this.getValue(H)!==ne&&(this._configuration.updateValue(H,ne),c.push(H))}if(c.length>0){const P=new Yd({keys:c,overrides:[]},s,this._configuration);P.source=8,P.sourceConfig=null,this._onDidChangeConfiguration.fire(P)}return Promise.resolve()}updateValue(t,s,c,P){return this.updateValues([[t,s]])}inspect(t,s={}){return this._configuration.inspect(t,s,void 0)}}let bu=class{constructor(t,s,c){this.configurationService=t,this.modelService=s,this.languageService=c,this._onDidChangeConfiguration=new f.Q5,this.configurationService.onDidChangeConfiguration(P=>{this._onDidChangeConfiguration.fire({affectedKeys:P.affectedKeys,affectsConfiguration:(H,ne)=>P.affectsConfiguration(ne)})})}getValue(t,s,c){const P=A.L.isIPosition(s)?s:null,H=P?typeof c=="string"?c:void 0:typeof s=="string"?s:void 0,ne=t?this.getLanguage(t,P):void 0;return typeof H=="undefined"?this.configurationService.getValue({resource:t,overrideIdentifier:ne}):this.configurationService.getValue(H,{resource:t,overrideIdentifier:ne})}getLanguage(t,s){const c=this.modelService.getModel(t);return c?s?c.getLanguageIdAtPosition(s.lineNumber,s.column):c.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(t)}};bu=ac([Er(0,an.Ui),Er(1,Me.q),Er(2,me.O)],bu);let Su=class{constructor(t){this.configurationService=t}getEOL(t,s){const c=this.configurationService.getValue("files.eol",{overrideIdentifier:s,resource:t});return c&&typeof c=="string"&&c!=="auto"?c:ut.IJ||ut.dz?`
`:`\r
`}};Su=ac([Er(0,an.Ui)],Su);class _f{publicLog2(){}}class od{constructor(){const t=v.o.from({scheme:od.SCHEME,authority:"model",path:"/"});this.workspace={id:Zc.p$,folders:[new Zc.md({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(t){return t&&t.scheme===od.SCHEME?this.workspace.folders[0]:null}}od.SCHEME="inmemory";function Od(y,t,s){if(!t||!(y instanceof nh))return;const c=[];Object.keys(t).forEach(P=>{(0,jr.ei)(P)&&c.push([`editor.${P}`,t[P]]),s&&(0,jr.Pe)(P)&&c.push([`diffEditor.${P}`,t[P]])}),c.length>0&&y.updateValues(c)}let yu=class{constructor(t){this._modelService=t}hasPreviewHandler(){return!1}apply(t,s){return Wc(this,void 0,void 0,function*(){const c=Array.isArray(t)?t:io.fo.convert(t),P=new Map;for(const pe of c){if(!(pe instanceof io.Gl))throw new Error("bad edit - only text edits are supported");const Ve=this._modelService.getModel(pe.resource);if(!Ve)throw new Error("bad edit - model not found");if(typeof pe.versionId=="number"&&Ve.getVersionId()!==pe.versionId)throw new Error("bad state - model changed in the meantime");let $e=P.get(Ve);$e||($e=[],P.set(Ve,$e)),$e.push(Xa.h.replaceMove(M.e.lift(pe.textEdit.range),pe.textEdit.text))}let H=0,ne=0;for(const[pe,Ve]of P)pe.pushStackElement(),pe.pushEditOperations([],Ve,()=>[]),pe.pushStackElement(),ne+=1,H+=Ve.length;return{ariaSummary:ie.WU(Yc.iN.bulkEditServiceSummary,H,ne),isApplied:H>0}})}};yu=ac([Er(0,Me.q)],yu);class Cf{getUriLabel(t,s){return t.scheme==="file"?t.fsPath:t.path}getUriBasenameLabel(t){return(0,Rc.EZ)(t)}}let wu=class extends Qc{constructor(t,s){super(t),this._codeEditorService=s}showContextView(t,s,c){if(!s){const P=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();P&&(s=P.getContainerDomNode())}return super.showContextView(t,s,c)}};wu=ac([Er(0,Qa),Er(1,se.$)],wu);class bf{constructor(){this._neverEmitter=new f.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Sf extends Mi{constructor(){super()}}class yf extends hf{constructor(){super(new Fi.kw)}}let Lu=class extends no{constructor(t,s,c,P,H,ne){super(t,s,c,P,H,ne),this.configure({blockMouse:!1})}};Lu=ac([Er(0,mc.b),Er(1,mr.lT),Er(2,gr.u),Er(3,Wl.d),Er(4,zi.co),Er(5,ys.i6)],Lu);class wf{playAudioCue(t,s){return Wc(this,void 0,void 0,function*(){})}}(0,Ds.z)(an.Ui,nh,0),(0,Ds.z)(oi.V,bu,0),(0,Ds.z)(oi.y,Su,0),(0,Ds.z)(Zc.ec,od,0),(0,Ds.z)(Zu.e,Cf,0),(0,Ds.z)(mc.b,_f,0),(0,Ds.z)(Fl.S,pf,0),(0,Ds.z)(mr.lT,sd,0),(0,Ds.z)(bo.lT,rc,0),(0,Ds.z)(me.O,Sf,0),(0,Ds.z)(ll.Z,Kh.nI,0),(0,Ds.z)(Fi.VZ,yf,0),(0,Ds.z)(Me.q,Wa,0),(0,Ds.z)(Bs.i,Go,0),(0,Ds.z)(ys.i6,vu,0),(0,Ds.z)(Za.R9,mf,0),(0,Ds.z)(Za.ek,Pd,0),(0,Ds.z)(Nd.Uy,Nd.vm,0),(0,Ds.z)(ra.p,Bn,0),(0,Ds.z)(io.vu,yu,0),(0,Ds.z)(tu.Y,bf,0),(0,Ds.z)(Gu.S,_u,0),(0,Ds.z)(Ee.F,uu,0),(0,Ds.z)(Dr.Lw,Dr.XN,0),(0,Ds.z)(Tr.H,Cu,0),(0,Ds.z)(Wl.d,Vc,0),(0,Ds.z)(Po.eJ,cu,0),(0,Ds.z)(gr.u,wu,0),(0,Ds.z)(jn.v4,_r,0),(0,Ds.z)($a.p,mu,0),(0,Ds.z)(gr.i,Lu,0),(0,Ds.z)(zi.co,hu,0),(0,Ds.z)(ce.e7,wf,0);var An;(function(y){const t=new Ga.y;for(const[ne,pe]of(0,Ds.d)())t.set(ne,pe);const s=new Rd(t,!0);t.set(dr.TG,s);function c(ne){const pe=t.get(ne);if(!pe)throw new Error("Missing service "+ne);return pe instanceof oc.M?s.invokeFunction(Ve=>Ve.get(ne)):pe}y.get=c;let P=!1;function H(ne){if(P)return s;P=!0;for(const[Ve,$e]of(0,Ds.d)())t.get(Ve)||t.set(Ve,$e);for(const Ve in ne)if(ne.hasOwnProperty(Ve)){const $e=(0,dr.yh)(Ve);t.get($e)instanceof oc.M&&t.set($e,ne[Ve])}const pe=(0,ff.n)();for(const Ve of pe)try{s.createInstance(Ve)}catch($e){(0,ot.dL)($e)}return s}y.initialize=H})(An||(An={}));var Du=function(y,t,s,c){var P=arguments.length,H=P<3?t:c===null?c=Object.getOwnPropertyDescriptor(t,s):c,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(y,t,s,c);else for(var pe=y.length-1;pe>=0;pe--)(ne=y[pe])&&(H=(P<3?ne(H):P>3?ne(t,s,H):ne(t,s))||H);return P>3&&H&&Object.defineProperty(t,s,H),H},So=function(y,t){return function(s,c){t(s,c,y)}};let Lf=0,sh=!1;function Df(y){if(!y){if(sh)return;sh=!0}Qo.wW(y||document.body)}let Ad=class extends Xo.Gm{constructor(t,s,c,P,H,ne,pe,Ve,$e,Je,gt,jt){const qt=Object.assign({},s);qt.ariaLabel=qt.ariaLabel||Yc.B8.editorViewAccessibleLabel,qt.ariaLabel=qt.ariaLabel+";"+Yc.B8.accessibilityHelpMessage,super(t,qt,{},c,P,H,ne,Ve,$e,Je,gt,jt),pe instanceof Vc?this._standaloneKeybindingService=pe:this._standaloneKeybindingService=null,Df(qt.ariaContainerElement)}addCommand(t,s,c){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const P="DYNAMIC_"+ ++Lf,H=ys.Ao.deserialize(c);return this._standaloneKeybindingService.addDynamicKeybinding(P,t,s,H),P}createContextKey(t,s){return this._contextKeyService.createKey(t,s)}addAction(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Re.JT.None;const s=t.id,c=t.label,P=ys.Ao.and(ys.Ao.equals("editorId",this.getId()),ys.Ao.deserialize(t.precondition)),H=t.keybindings,ne=ys.Ao.and(P,ys.Ao.deserialize(t.keybindingContext)),pe=t.contextMenuGroupId||null,Ve=t.contextMenuOrder||0,$e=(qt,..._i)=>Promise.resolve(t.run(this,..._i)),Je=new Re.SL,gt=this.getId()+":"+s;if(Je.add(Tr.P.registerCommand(gt,$e)),pe){const qt={command:{id:gt,title:c},when:P,group:pe,order:Ve};Je.add(zi.BH.appendMenuItem(zi.eH.EditorContext,qt))}if(Array.isArray(H))for(const qt of H)Je.add(this._standaloneKeybindingService.addDynamicKeybinding(gt,qt,$e,ne));const jt=new gl.p(gt,c,c,P,(...qt)=>Promise.resolve(t.run(this,...qt)),this._contextKeyService);return this._actions.set(s,jt),Je.add((0,Re.OF)(()=>{this._actions.delete(s)})),Je}_triggerCommand(t,s){if(this._codeEditorService instanceof _a)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(t,s)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(t,s)}};Ad=Du([So(2,dr.TG),So(3,se.$),So(4,Tr.H),So(5,ys.i6),So(6,Wl.d),So(7,ir.XE),So(8,mr.lT),So(9,Ee.F),So(10,ge.c_),So(11,Di.p)],Ad);let Eu=class extends Ad{constructor(t,s,c,P,H,ne,pe,Ve,$e,Je,gt,jt,qt,_i,Li){const Gi=Object.assign({},s);Od(Je,Gi,!1);const un=Ve.registerEditorContainer(t);typeof Gi.theme=="string"&&Ve.setTheme(Gi.theme),typeof Gi.autoDetectHighContrast!="undefined"&&Ve.setAutoDetectHighContrast(Boolean(Gi.autoDetectHighContrast));const mn=Gi.model;delete Gi.model,super(t,Gi,c,P,H,ne,pe,Ve,$e,gt,_i,Li),this._configurationService=Je,this._standaloneThemeService=Ve,this._register(un);let dn;if(typeof mn=="undefined"){const qi=qt.getLanguageIdByMimeType(Gi.language)||Gi.language||Fa.bd;dn=oh(jt,qt,Gi.value||"",qi,void 0),this._ownsModel=!0}else dn=mn,this._ownsModel=!1;if(this._attachModel(dn),dn){const qi={oldModelUrl:null,newModelUrl:dn.uri};this._onDidChangeModel.fire(qi)}}dispose(){super.dispose()}updateOptions(t){Od(this._configurationService,t,!1),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(t.autoDetectHighContrast)),super.updateOptions(t)}_postDetachModelCleanup(t){super._postDetachModelCleanup(t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)}};Eu=Du([So(2,dr.TG),So(3,se.$),So(4,Tr.H),So(5,ys.i6),So(6,Wl.d),So(7,ll.Z),So(8,mr.lT),So(9,an.Ui),So(10,Ee.F),So(11,Me.q),So(12,me.O),So(13,ge.c_),So(14,Di.p)],Eu);let xu=class extends Qr{constructor(t,s,c,P,H,ne,pe,Ve,$e,Je,gt){const jt=Object.assign({},s);Od(Ve,jt,!0);const qt=ne.registerEditorContainer(t);typeof jt.theme=="string"&&ne.setTheme(jt.theme),typeof jt.autoDetectHighContrast!="undefined"&&ne.setAutoDetectHighContrast(Boolean(jt.autoDetectHighContrast)),super(t,jt,{},gt,P,c,H,ne,pe,$e,Je),this._configurationService=Ve,this._standaloneThemeService=ne,this._register(qt)}dispose(){super.dispose()}updateOptions(t){Od(this._configurationService,t,!0),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(t.autoDetectHighContrast)),super.updateOptions(t)}_createInnerEditor(t,s,c){return t.createInstance(Ad,s,c)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(t,s,c){return this.getModifiedEditor().addCommand(t,s,c)}createContextKey(t,s){return this.getModifiedEditor().createContextKey(t,s)}addAction(t){return this.getModifiedEditor().addAction(t)}};xu=Du([So(2,dr.TG),So(3,ys.i6),So(4,se.$),So(5,ll.Z),So(6,mr.lT),So(7,an.Ui),So(8,gr.i),So(9,Za.ek),So(10,$a.p)],xu);function oh(y,t,s,c,P){if(s=s||"",!c){const H=s.indexOf(`
`);let ne=s;return H!==-1&&(ne=s.substring(0,H)),rh(y,s,t.createByFilepathOrFirstLine(P||null,ne),P)}return rh(y,s,t.createById(c),P)}function rh(y,t,s,c){return y.createModel(t,s,c)}var Ef=i(14963),xf=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};function If(y,t,s){return An.initialize(s||{}).createInstance(Eu,y,t)}function Nf(y){return An.get(se.$).onCodeEditorAdd(s=>{y(s)})}function Tf(y){return An.get(se.$).onDiffEditorAdd(s=>{y(s)})}function Mf(){return An.get(se.$).listCodeEditors()}function Rf(){return An.get(se.$).listDiffEditors()}function Pf(y,t,s){return An.initialize(s||{}).createInstance(xu,y,t)}function Of(y,t){return An.initialize({}).createInstance(je,y,t)}function Af(y){if(typeof y.id!="string"||typeof y.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Tr.P.registerCommand(y.id,y.run)}function kf(y){if(typeof y.id!="string"||typeof y.label!="string"||typeof y.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const t=ys.Ao.deserialize(y.precondition),s=(P,...H)=>go._l.runEditorCommand(P,H,t,(ne,pe,Ve)=>Promise.resolve(y.run(pe,...Ve))),c=new Re.SL;if(c.add(Tr.P.registerCommand(y.id,s)),y.contextMenuGroupId){const P={command:{id:y.id,title:y.label},when:t,group:y.contextMenuGroupId,order:y.contextMenuOrder||0};c.add(zi.BH.appendMenuItem(zi.eH.EditorContext,P))}if(Array.isArray(y.keybindings)){const P=An.get(Wl.d);if(!(P instanceof Vc))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const H=ys.Ao.and(t,ys.Ao.deserialize(y.keybindingContext));c.add(P.addDynamicKeybindings(y.keybindings.map(ne=>({keybinding:ne,command:y.id,when:H}))))}}return c}function Ff(y){return ah([y])}function ah(y){const t=An.get(Wl.d);return t instanceof Vc?t.addDynamicKeybindings(y.map(s=>({keybinding:s.keybinding,command:s.command,commandArgs:s.commandArgs,when:ys.Ao.deserialize(s.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Re.JT.None)}function Bf(y,t,s){const c=An.get(me.O),P=c.getLanguageIdByMimeType(t)||t;return oh(An.get(Me.q),c,y,P,s)}function Wf(y,t){const s=An.get(me.O),c=s.getLanguageIdByMimeType(t)||t||Fa.bd;y.setLanguage(s.createById(c))}function Vf(y,t,s){y&&An.get(bo.lT).changeOne(t,y.uri,s)}function Hf(y){An.get(bo.lT).changeAll(y,[])}function zf(y){return An.get(bo.lT).read(y)}function Uf(y){return An.get(bo.lT).onMarkerChanged(y)}function jf(y){return An.get(Me.q).getModel(y)}function Kf(){return An.get(Me.q).getModels()}function $f(y){return An.get(Me.q).onModelAdded(y)}function Gf(y){return An.get(Me.q).onModelRemoved(y)}function Zf(y){return An.get(Me.q).onModelLanguageChanged(s=>{y({model:s.model,oldLanguage:s.oldLanguageId})})}function Yf(y){return we(An.get(Me.q),An.get(ge.c_),y)}function Qf(y,t){const s=An.get(me.O),c=An.get(ll.Z);return c.registerEditorContainer(y),Qs.colorizeElement(c,s,y,t)}function Xf(y,t,s){const c=An.get(me.O);return An.get(ll.Z).registerEditorContainer(document.body),Qs.colorize(c,y,t,s)}function Jf(y,t,s=4){return An.get(ll.Z).registerEditorContainer(document.body),Qs.colorizeModelLine(y,t,s)}function qf(y){const t=R.RW.get(y);return t||{getInitialState:()=>Ce.TJ,tokenize:(s,c,P)=>(0,Ce.Ri)(y,P)}}function eg(y,t){R.RW.getOrCreate(t);const s=qf(t),c=(0,ie.uq)(y),P=[];let H=s.getInitialState();for(let ne=0,pe=c.length;ne<pe;ne++){const Ve=c[ne],$e=s.tokenize(Ve,!0,H);P[ne]=$e.tokens,H=$e.endState}return P}function tg(y,t){An.get(ll.Z).defineTheme(y,t)}function ig(y){An.get(ll.Z).setTheme(y)}function ng(){Z.g.clearAllFontInfos()}function sg(y,t){return Tr.P.registerCommand({id:y,handler:t})}function og(y){return An.get(jn.v4).registerOpener({open(s){return xf(this,void 0,void 0,function*(){return typeof s=="string"&&(s=v.o.parse(s)),y.open(s)})}})}function rg(){return{create:If,getEditors:Mf,getDiffEditors:Rf,onDidCreateEditor:Nf,onDidCreateDiffEditor:Tf,createDiffEditor:Pf,createDiffNavigator:Of,addCommand:Af,addEditorAction:kf,addKeybindingRule:Ff,addKeybindingRules:ah,createModel:Bf,setModelLanguage:Wf,setModelMarkers:Vf,getModelMarkers:zf,removeAllMarkers:Hf,onDidChangeMarkers:Uf,getModels:Kf,getModel:jf,onDidCreateModel:$f,onWillDisposeModel:Gf,onDidChangeModelLanguage:Zf,createWebWorker:Yf,colorizeElement:Qf,colorize:Xf,colorizeModelLine:Jf,tokenize:eg,defineTheme:tg,setTheme:ig,remeasureFonts:ng,registerCommand:sg,registerLinkOpener:og,AccessibilitySupport:p,ContentWidgetPositionPreference:C,CursorChangeReason:D,DefaultEndOfLine:u,EditorAutoIndentStrategy:w,EditorOption:L,EndOfLinePreference:N,EndOfLineSequence:O,MinimapPosition:k,MouseTargetType:q,OverlayWidgetPositionPreference:te,OverviewRulerLane:X,RenderLineNumbersType:J,RenderMinimap:Y,ScrollbarVisibility:fe,ScrollType:ee,TextEditorCursorBlinkingStyle:Le,TextEditorCursorStyle:ue,TrackedRangeStickiness:re,WrappingIndent:_e,InjectedTextCursorStops:T,PositionAffinity:j,ConfigurationChangedEvent:m.Bb,BareFontInfo:Te.E4,FontInfo:Te.pR,TextModelResolvedOptions:oe.dJ,FindMatch:oe.tk,ApplyUpdateResult:m.rk,LineRange:Ss.z,LineRangeMapping:en,RangeMapping:Ms,EditorZoom:Ef.C,EditorType:Ie.g,EditorOptions:m.BH}}function ag(y,t){if(!t||!Array.isArray(t))return!1;for(const s of t)if(!y(s))return!1;return!0}function kd(y,t){return typeof y=="boolean"?y:t}function lh(y,t){return typeof y=="string"?y:t}function lg(y){const t={};for(const s of y)t[s]=!0;return t}function ch(y,t=!1){t&&(y=y.map(function(c){return c.toLowerCase()}));const s=lg(y);return t?function(c){return s[c.toLowerCase()]!==void 0&&s.hasOwnProperty(c.toLowerCase())}:function(c){return s[c]!==void 0&&s.hasOwnProperty(c)}}function Iu(y,t){t=t.replace(/@@/g,"");let s=0,c;do c=!1,t=t.replace(/@(\w+)/g,function(H,ne){c=!0;let pe="";if(typeof y[ne]=="string")pe=y[ne];else if(y[ne]&&y[ne]instanceof RegExp)pe=y[ne].source;else throw y[ne]===void 0?Wi(y,"language definition does not contain attribute '"+ne+"', used at: "+t):Wi(y,"attribute reference '"+ne+"' must be a string, used at: "+t);return Qt(pe)?"":"(?:"+pe+")"}),s++;while(c&&s<5);t=t.replace(/\x01/g,"@");const P=(y.ignoreCase?"i":"")+(y.unicode?"u":"");return new RegExp(t,P)}function cg(y,t,s,c){if(c<0)return y;if(c<t.length)return t[c];if(c>=100){c=c-100;const P=s.split(".");if(P.unshift(s),c<P.length)return P[c]}return null}function dg(y,t,s,c){let P=-1,H=s,ne=s.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);ne&&(ne[3]&&(P=parseInt(ne[3]),ne[2]&&(P=P+100)),H=ne[4]);let pe="~",Ve=H;!H||H.length===0?(pe="!=",Ve=""):/^\w*$/.test(Ve)?pe="==":(ne=H.match(/^(@|!@|~|!~|==|!=)(.*)$/),ne&&(pe=ne[1],Ve=ne[2]));let $e;if((pe==="~"||pe==="!~")&&/^(\w|\|)*$/.test(Ve)){const Je=ch(Ve.split("|"),y.ignoreCase);$e=function(gt){return pe==="~"?Je(gt):!Je(gt)}}else if(pe==="@"||pe==="!@"){const Je=y[Ve];if(!Je)throw Wi(y,"the @ match target '"+Ve+"' is not defined, in rule: "+t);if(!ag(function(jt){return typeof jt=="string"},Je))throw Wi(y,"the @ match target '"+Ve+"' must be an array of strings, in rule: "+t);const gt=ch(Je,y.ignoreCase);$e=function(jt){return pe==="@"?gt(jt):!gt(jt)}}else if(pe==="~"||pe==="!~")if(Ve.indexOf("$")<0){const Je=Iu(y,"^"+Ve+"$");$e=function(gt){return pe==="~"?Je.test(gt):!Je.test(gt)}}else $e=function(Je,gt,jt,qt){return Iu(y,"^"+wn(y,Ve,gt,jt,qt)+"$").test(Je)};else if(Ve.indexOf("$")<0){const Je=si(y,Ve);$e=function(gt){return pe==="=="?gt===Je:gt!==Je}}else{const Je=si(y,Ve);$e=function(gt,jt,qt,_i,Li){const Gi=wn(y,Je,jt,qt,_i);return pe==="=="?gt===Gi:gt!==Gi}}return P===-1?{name:s,value:c,test:function(Je,gt,jt,qt){return $e(Je,Je,gt,jt,qt)}}:{name:s,value:c,test:function(Je,gt,jt,qt){const _i=cg(Je,gt,jt,P);return $e(_i||"",Je,gt,jt,qt)}}}function Nu(y,t,s){if(s){if(typeof s=="string")return s;if(s.token||s.token===""){if(typeof s.token!="string")throw Wi(y,"a 'token' attribute must be of type string, in rule: "+t);{const c={token:s.token};if(s.token.indexOf("$")>=0&&(c.tokenSubst=!0),typeof s.bracket=="string")if(s.bracket==="@open")c.bracket=1;else if(s.bracket==="@close")c.bracket=-1;else throw Wi(y,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);if(s.next){if(typeof s.next!="string")throw Wi(y,"the next state must be a string value in rule: "+t);{let P=s.next;if(!/^(@pop|@push|@popall)$/.test(P)&&(P[0]==="@"&&(P=P.substr(1)),P.indexOf("$")<0&&!vs(y,wn(y,P,"",[],""))))throw Wi(y,"the next state '"+s.next+"' is not defined in rule: "+t);c.next=P}}return typeof s.goBack=="number"&&(c.goBack=s.goBack),typeof s.switchTo=="string"&&(c.switchTo=s.switchTo),typeof s.log=="string"&&(c.log=s.log),typeof s.nextEmbedded=="string"&&(c.nextEmbedded=s.nextEmbedded,y.usesEmbedded=!0),c}}else if(Array.isArray(s)){const c=[];for(let P=0,H=s.length;P<H;P++)c[P]=Nu(y,t,s[P]);return{group:c}}else if(s.cases){const c=[];for(const H in s.cases)if(s.cases.hasOwnProperty(H)){const ne=Nu(y,t,s.cases[H]);H==="@default"||H==="@"||H===""?c.push({test:void 0,value:ne,name:H}):H==="@eos"?c.push({test:function(pe,Ve,$e,Je){return Je},value:ne,name:H}):c.push(dg(y,t,H,ne))}const P=y.defaultToken;return{test:function(H,ne,pe,Ve){for(const $e of c)if(!$e.test||$e.test(H,ne,pe,Ve))return $e.value;return P}}}else throw Wi(y,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}else return{token:""}}class ug{constructor(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}setRegex(t,s){let c;if(typeof s=="string")c=s;else if(s instanceof RegExp)c=s.source;else throw Wi(t,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=c.length>0&&c[0]==="^",this.name=this.name+": "+c,this.regex=Iu(t,"^(?:"+(this.matchOnlyAtLineStart?c.substr(1):c)+")")}setAction(t,s){this.action=Nu(t,this.name,s)}}function dh(y,t){if(!t||typeof t!="object")throw new Error("Monarch: expecting a language definition object");const s={};s.languageId=y,s.includeLF=kd(t.includeLF,!1),s.noThrow=!1,s.maxStack=100,s.start=typeof t.start=="string"?t.start:null,s.ignoreCase=kd(t.ignoreCase,!1),s.unicode=kd(t.unicode,!1),s.tokenPostfix=lh(t.tokenPostfix,"."+s.languageId),s.defaultToken=lh(t.defaultToken,"source"),s.usesEmbedded=!1;const c=t;c.languageId=y,c.includeLF=s.includeLF,c.ignoreCase=s.ignoreCase,c.unicode=s.unicode,c.noThrow=s.noThrow,c.usesEmbedded=s.usesEmbedded,c.stateNames=t.tokenizer,c.defaultToken=s.defaultToken;function P(ne,pe,Ve){for(const $e of Ve){let Je=$e.include;if(Je){if(typeof Je!="string")throw Wi(s,"an 'include' attribute must be a string at: "+ne);if(Je[0]==="@"&&(Je=Je.substr(1)),!t.tokenizer[Je])throw Wi(s,"include target '"+Je+"' is not defined at: "+ne);P(ne+"."+Je,pe,t.tokenizer[Je])}else{const gt=new ug(ne);if(Array.isArray($e)&&$e.length>=1&&$e.length<=3)if(gt.setRegex(c,$e[0]),$e.length>=3)if(typeof $e[1]=="string")gt.setAction(c,{token:$e[1],next:$e[2]});else if(typeof $e[1]=="object"){const jt=$e[1];jt.next=$e[2],gt.setAction(c,jt)}else throw Wi(s,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+ne);else gt.setAction(c,$e[1]);else{if(!$e.regex)throw Wi(s,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+ne);$e.name&&typeof $e.name=="string"&&(gt.name=$e.name),$e.matchOnlyAtStart&&(gt.matchOnlyAtLineStart=kd($e.matchOnlyAtLineStart,!1)),gt.setRegex(c,$e.regex),gt.setAction(c,$e.action)}pe.push(gt)}}}if(!t.tokenizer||typeof t.tokenizer!="object")throw Wi(s,"a language definition must define the 'tokenizer' attribute as an object");s.tokenizer=[];for(const ne in t.tokenizer)if(t.tokenizer.hasOwnProperty(ne)){s.start||(s.start=ne);const pe=t.tokenizer[ne];s.tokenizer[ne]=new Array,P("tokenizer."+ne,s.tokenizer[ne],pe)}if(s.usesEmbedded=c.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw Wi(s,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const H=[];for(const ne of t.brackets){let pe=ne;if(pe&&Array.isArray(pe)&&pe.length===3&&(pe={token:pe[2],open:pe[0],close:pe[1]}),pe.open===pe.close)throw Wi(s,"open and close brackets in a 'brackets' attribute must be different: "+pe.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof pe.open=="string"&&typeof pe.token=="string"&&typeof pe.close=="string")H.push({token:pe.token+s.tokenPostfix,open:si(s,pe.open),close:si(s,pe.close)});else throw Wi(s,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return s.brackets=H,s.noThrow=!0,s}var hg=function(y,t,s,c){function P(H){return H instanceof s?H:new s(function(ne){ne(H)})}return new(s||(s=Promise))(function(H,ne){function pe(Je){try{$e(c.next(Je))}catch(gt){ne(gt)}}function Ve(Je){try{$e(c.throw(Je))}catch(gt){ne(gt)}}function $e(Je){Je.done?H(Je.value):P(Je.value).then(pe,Ve)}$e((c=c.apply(y,t||[])).next())})};function fg(y){Fa.dQ.registerLanguage(y)}function gg(){let y=[];return y=y.concat(Fa.dQ.getLanguages()),y}function mg(y){return An.get(me.O).languageIdCodec.encodeLanguageId(y)}function pg(y,t){const c=An.get(me.O).onDidRequestRichLanguageFeatures(P=>{P===y&&(c.dispose(),t())});return c}function vg(y,t){const c=An.get(me.O).onDidRequestBasicLanguageFeatures(P=>{P===y&&(c.dispose(),t())});return c}function _g(y,t){if(!An.get(me.O).isRegisteredLanguageId(y))throw new Error(`Cannot set configuration for unknown language ${y}`);return An.get(ge.c_).register(y,t,100)}class Cg{constructor(t,s){this._languageId=t,this._actual=s}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(t,s,c){if(typeof this._actual.tokenize=="function")return rd.adaptTokenize(this._languageId,this._actual,t,c);throw new Error("Not supported!")}tokenizeEncoded(t,s,c){const P=this._actual.tokenizeEncoded(t,c);return new R.DI(P.tokens,P.endState)}}class rd{constructor(t,s,c,P){this._languageId=t,this._actual=s,this._languageService=c,this._standaloneThemeService=P}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(t,s){const c=[];let P=0;for(let H=0,ne=t.length;H<ne;H++){const pe=t[H];let Ve=pe.startIndex;H===0?Ve=0:Ve<P&&(Ve=P),c[H]=new R.WU(Ve,pe.scopes,s),P=Ve}return c}static adaptTokenize(t,s,c,P){const H=s.tokenize(c,P),ne=rd._toClassicTokens(H.tokens,t);let pe;return H.endState.equals(P)?pe=P:pe=H.endState,new R.hG(ne,pe)}tokenize(t,s,c){return rd.adaptTokenize(this._languageId,this._actual,t,c)}_toBinaryTokens(t,s){const c=t.encodeLanguageId(this._languageId),P=this._standaloneThemeService.getColorTheme().tokenTheme,H=[];let ne=0,pe=0;for(let $e=0,Je=s.length;$e<Je;$e++){const gt=s[$e],jt=P.match(c,gt.scopes)|1024;if(ne>0&&H[ne-1]===jt)continue;let qt=gt.startIndex;$e===0?qt=0:qt<pe&&(qt=pe),H[ne++]=qt,H[ne++]=jt,pe=qt}const Ve=new Uint32Array(ne);for(let $e=0;$e<ne;$e++)Ve[$e]=H[$e];return Ve}tokenizeEncoded(t,s,c){const P=this._actual.tokenize(t,c),H=this._toBinaryTokens(this._languageService.languageIdCodec,P.tokens);let ne;return P.endState.equals(c)?ne=c:ne=P.endState,new R.DI(H,ne)}}function bg(y){return typeof y.getInitialState=="function"}function Sg(y){return"tokenizeEncoded"in y}function uh(y){return y&&typeof y.then=="function"}function yg(y){const t=An.get(ll.Z);if(y){const s=[null];for(let c=1,P=y.length;c<P;c++)s[c]=_l.Il.fromHex(y[c]);t.setColorMapOverride(s)}else t.setColorMapOverride(null)}function hh(y,t){return Sg(t)?new Cg(y,t):new rd(y,t,An.get(me.O),An.get(ll.Z))}function Tu(y,t){const s=new R.MO(()=>hg(this,void 0,void 0,function*(){const c=yield Promise.resolve(t.create());return c?bg(c)?hh(y,c):new No(An.get(me.O),An.get(ll.Z),y,dh(y,c),An.get(an.Ui)):null}));return R.RW.registerFactory(y,s)}function wg(y,t){if(!An.get(me.O).isRegisteredLanguageId(y))throw new Error(`Cannot set tokens provider for unknown language ${y}`);return uh(t)?Tu(y,{create:()=>t}):R.RW.register(y,hh(y,t))}function Lg(y,t){const s=c=>new No(An.get(me.O),An.get(ll.Z),y,dh(y,c),An.get(an.Ui));return uh(t)?Tu(y,{create:()=>t}):R.RW.register(y,s(t))}function Dg(y,t){return An.get(Di.p).referenceProvider.register(y,t)}function Eg(y,t){return An.get(Di.p).renameProvider.register(y,t)}function xg(y,t){return An.get(Di.p).signatureHelpProvider.register(y,t)}function Ig(y,t){return An.get(Di.p).hoverProvider.register(y,{provideHover:(c,P,H)=>{const ne=c.getWordAtPosition(P);return Promise.resolve(t.provideHover(c,P,H)).then(pe=>{if(pe)return!pe.range&&ne&&(pe.range=new M.e(P.lineNumber,ne.startColumn,P.lineNumber,ne.endColumn)),pe.range||(pe.range=new M.e(P.lineNumber,P.column,P.lineNumber,P.column)),pe})}})}function Ng(y,t){return An.get(Di.p).documentSymbolProvider.register(y,t)}function Tg(y,t){return An.get(Di.p).documentHighlightProvider.register(y,t)}function Mg(y,t){return An.get(Di.p).linkedEditingRangeProvider.register(y,t)}function Rg(y,t){return An.get(Di.p).definitionProvider.register(y,t)}function Pg(y,t){return An.get(Di.p).implementationProvider.register(y,t)}function Og(y,t){return An.get(Di.p).typeDefinitionProvider.register(y,t)}function Ag(y,t){return An.get(Di.p).codeLensProvider.register(y,t)}function kg(y,t,s){return An.get(Di.p).codeActionProvider.register(y,{providedCodeActionKinds:s==null?void 0:s.providedCodeActionKinds,documentation:s==null?void 0:s.documentation,provideCodeActions:(P,H,ne,pe)=>{const $e=An.get(bo.lT).read({resource:P.uri}).filter(Je=>M.e.areIntersectingOrTouching(Je,H));return t.provideCodeActions(P,H,{markers:$e,only:ne.only,trigger:ne.trigger},pe)},resolveCodeAction:t.resolveCodeAction})}function Fg(y,t){return An.get(Di.p).documentFormattingEditProvider.register(y,t)}function Bg(y,t){return An.get(Di.p).documentRangeFormattingEditProvider.register(y,t)}function Wg(y,t){return An.get(Di.p).onTypeFormattingEditProvider.register(y,t)}function Vg(y,t){return An.get(Di.p).linkProvider.register(y,t)}function Hg(y,t){return An.get(Di.p).completionProvider.register(y,t)}function zg(y,t){return An.get(Di.p).colorProvider.register(y,t)}function Ug(y,t){return An.get(Di.p).foldingRangeProvider.register(y,t)}function jg(y,t){return An.get(Di.p).declarationProvider.register(y,t)}function Kg(y,t){return An.get(Di.p).selectionRangeProvider.register(y,t)}function $g(y,t){return An.get(Di.p).documentSemanticTokensProvider.register(y,t)}function Gg(y,t){return An.get(Di.p).documentRangeSemanticTokensProvider.register(y,t)}function Zg(y,t){return An.get(Di.p).inlineCompletionsProvider.register(y,t)}function Yg(y,t){return An.get(Di.p).inlayHintsProvider.register(y,t)}function Qg(){return{register:fg,getLanguages:gg,onLanguage:pg,onLanguageEncountered:vg,getEncodedLanguageId:mg,setLanguageConfiguration:_g,setColorMap:yg,registerTokensProviderFactory:Tu,setTokensProvider:wg,setMonarchTokensProvider:Lg,registerReferenceProvider:Dg,registerRenameProvider:Eg,registerCompletionItemProvider:Hg,registerSignatureHelpProvider:xg,registerHoverProvider:Ig,registerDocumentSymbolProvider:Ng,registerDocumentHighlightProvider:Tg,registerLinkedEditingRangeProvider:Mg,registerDefinitionProvider:Rg,registerImplementationProvider:Pg,registerTypeDefinitionProvider:Og,registerCodeLensProvider:Ag,registerCodeActionProvider:kg,registerDocumentFormattingEditProvider:Fg,registerDocumentRangeFormattingEditProvider:Bg,registerOnTypeFormattingEditProvider:Wg,registerLinkProvider:Vg,registerColorProvider:zg,registerFoldingRangeProvider:Ug,registerDeclarationProvider:jg,registerSelectionRangeProvider:Kg,registerDocumentSemanticTokensProvider:$g,registerDocumentRangeSemanticTokensProvider:Gg,registerInlineCompletionsProvider:Zg,registerInlayHintsProvider:Yg,DocumentHighlightKind:S,CompletionItemKind:g,CompletionItemTag:n,CompletionItemInsertTextRule:d,SymbolKind:be,SymbolTag:xe,IndentAction:x,CompletionTriggerKind:a,SignatureHelpTriggerKind:Ne,InlayHintKind:W,InlineCompletionTriggerKind:U,CodeActionTriggerType:l,FoldingRangeKind:R.AD}}var Xg=i(46121);m.BH.wrappingIndent.defaultValue=0,m.BH.glyphMargin.defaultValue=!1,m.BH.autoIndent.defaultValue=3,m.BH.overviewRulerLanes.defaultValue=2,Xg.xC.setFormatterSelector((y,t,s)=>Promise.resolve(y[0]));const ea=Qe();ea.editor=rg(),ea.languages=Qg();const Jg=ea.CancellationTokenSource,qg=ea.Emitter,em=ea.KeyCode,tm=ea.KeyMod,im=ea.Position,nm=ea.Range,sm=ea.Selection,om=ea.SelectionDirection,rm=ea.MarkerSeverity,am=ea.MarkerTag,lm=ea.Uri,cm=ea.Token,dm=ea.editor,um=ea.languages,Mu=globalThis.MonacoEnvironment;(Mu!=null&&Mu.globalAPI||typeof define=="function"&&i.amdO)&&(globalThis.monaco=ea),typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},59110:function(Ot,He,i){"use strict";i.r(He);var m=i(34441),B=i(34733),f=i(66578),_=i(79874),v=i(88305),A=i(38431),M=i(11138),E=i(17416),R=i(28919),p=i(55298),l=i(21081),d=i(87112),g=i(76826),n=i(44333),a=i(62297),C=i(48786),D=i(83485),u=function(W,U,K,G){var z=arguments.length,k=z<3?U:G===null?G=Object.getOwnPropertyDescriptor(U,K):G,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(W,U,K,G);else for(var te=W.length-1;te>=0;te--)(q=W[te])&&(k=(z<3?q(k):z>3?q(U,K,k):q(U,K))||k);return z>3&&k&&Object.defineProperty(U,K,k),k},S=function(W,U){return function(K,G){U(K,G,W)}};const w=new g.uy("accessibilityHelpWidgetVisible",!1);let L=class Uh extends A.JT{static get(U){return U.getContribution(Uh.ID)}constructor(U,K){super(),this._editor=U,this._widget=this._register(K.createInstance(O,this._editor))}show(){this._widget.show()}hide(){this._widget.hide()}};L.ID="editor.contrib.accessibilityHelpController",L=u([S(1,n.TG)],L);function N(W,U){return!W||W.length===0?D.Oe.noSelection:W.length===1?U?E.WU(D.Oe.singleSelectionRange,W[0].positionLineNumber,W[0].positionColumn,U):E.WU(D.Oe.singleSelection,W[0].positionLineNumber,W[0].positionColumn):U?E.WU(D.Oe.multiSelectionRange,W.length,U):W.length>0?E.WU(D.Oe.multiSelection,W.length):""}let O=class jd extends v.${constructor(U,K,G,z){super(),this._contextKeyService=K,this._keybindingService=G,this._openerService=z,this._editor=U,this._isVisibleKey=w.bindTo(this._contextKeyService),this._domNode=(0,B.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,B.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(m.mu(this._contentDomNode.domNode,"keydown",k=>{if(this._isVisible&&(k.equals(2083)&&((0,_.Z9)(D.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),m.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),k.preventDefault(),k.stopPropagation()),k.equals(2086))){(0,_.Z9)(D.Oe.openingDocs);let q=this._editor.getRawOptions().accessibilityHelpUrl;typeof q=="undefined"&&(q="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(R.o.parse(q)),k.preventDefault(),k.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return jd.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(U,K,G){const z=this._keybindingService.lookupKeybinding(U);return z?E.WU(K,z.getAriaLabel()):E.WU(G,U)}_buildContent(){const U=this._editor.getOptions(),K=this._editor.getSelections();let G=0;if(K){const te=this._editor.getModel();te&&K.forEach(X=>{G+=te.getValueLengthInRange(X)})}let z=N(K,G);U.get(59)?U.get(87)?z+=D.Oe.readonlyDiffEditor:z+=D.Oe.editableDiffEditor:U.get(87)?z+=D.Oe.readonlyEditor:z+=D.Oe.editableEditor;const k=M.dz?D.Oe.changeConfigToOnMac:D.Oe.changeConfigToOnWinLinux;switch(U.get(2)){case 0:z+=`

 - `+k;break;case 2:z+=`

 - `+D.Oe.auto_on;break;case 1:z+=`

 - `+D.Oe.auto_off,z+=" "+k;break}U.get(138)?z+=`

 - `+this._descriptionForCommand(d.ToggleTabFocusModeAction.ID,D.Oe.tabFocusModeOnMsg,D.Oe.tabFocusModeOnMsgNoKb):z+=`

 - `+this._descriptionForCommand(d.ToggleTabFocusModeAction.ID,D.Oe.tabFocusModeOffMsg,D.Oe.tabFocusModeOffMsgNoKb);const q=M.dz?D.Oe.openDocMac:D.Oe.openDocWinLinux;z+=`

 - `+q,z+=`

`+D.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,f.BO)(z)),this._contentDomNode.domNode.setAttribute("aria-label",z)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,m.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const U=this._editor.getLayoutInfo(),K=Math.max(5,Math.min(jd.WIDTH,U.width-40)),G=Math.max(5,Math.min(jd.HEIGHT,U.height-40));this._domNode.setWidth(K),this._domNode.setHeight(G);const z=Math.round((U.height-G)/2);this._domNode.setTop(z);const k=Math.round((U.width-K)/2);this._domNode.setLeft(k)}};O.ID="editor.contrib.accessibilityHelpWidget",O.WIDTH=500,O.HEIGHT=300,O=u([S(1,g.i6),S(2,a.d),S(3,C.v4)],O);class x extends p.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:D.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(U,K){const G=L.get(K);G==null||G.show()}}(0,p._K)(L.ID,L,4),(0,p.Qr)(x);const T=p._l.bindToContribution(L.get);(0,p.fK)(new T({id:"closeAccessibilityHelp",precondition:w,handler:W=>W.hide(),kbOpts:{weight:100+100,kbExpr:l.u.focus,primary:9,secondary:[1033]}}))},5566:function(Ot,He,i){"use strict";i.r(He),i.d(He,{IPadShowKeyboard:function(){return v}});var m=i(34441),B=i(38431),f=i(55298),_=i(11138);class v extends B.JT{constructor(E){super(),this.editor=E,this.widget=null,_.gn&&(this._register(E.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const E=!this.editor.getOption(87);!this.widget&&E?this.widget=new A(this.editor):this.widget&&!E&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}v.ID="editor.contrib.iPadShowKeyboard";class A extends B.JT{constructor(E){super(),this.editor=E,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(m.nm(this._domNode,"touchstart",R=>{this.editor.focus()})),this._register(m.nm(this._domNode,"focus",R=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return A.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}A.ID="editor.contrib.ShowKeyboardWidget",(0,f._K)(v.ID,v,3)},27804:function(Ot,He,i){"use strict";i.r(He);var m=i(34441),B=i(86741),f=i(38431),_=i(55298),v=i(36082),A=i(24506),M=i(93375),E=i(47626),R=i(96444),p=i(83485),l=function(u,S,w,L){var N=arguments.length,O=N<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,w):L,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(u,S,w,L);else for(var T=u.length-1;T>=0;T--)(x=u[T])&&(O=(N<3?x(O):N>3?x(S,w,O):x(S,w))||O);return N>3&&O&&Object.defineProperty(S,w,O),O},d=function(u,S){return function(w,L){S(w,L,u)}};let g=class jh extends f.JT{static get(S){return S.getContribution(jh.ID)}constructor(S,w,L){super(),this._editor=S,this._languageService=L,this._widget=null,this._register(this._editor.onDidChangeModel(N=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(N=>this.stop())),this._register(v.RW.onDidChange(N=>this.stop())),this._register(this._editor.onKeyUp(N=>N.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new D(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};g.ID="editor.contrib.inspectTokens",g=l([d(1,R.Z),d(2,E.O)],g);class n extends _.R6{constructor(){super({id:"editor.action.inspectTokens",label:p.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(S,w){const L=g.get(w);L==null||L.launch()}}function a(u){let S="";for(let w=0,L=u.length;w<L;w++){const N=u.charCodeAt(w);switch(N){case 9:S+="\u2192";break;case 32:S+="\xB7";break;default:S+=String.fromCharCode(N)}}return S}function C(u,S){const w=v.RW.get(S);if(w)return w;const L=u.encodeLanguageId(S);return{getInitialState:()=>M.TJ,tokenize:(N,O,x)=>(0,M.Ri)(S,x),tokenizeEncoded:(N,O,x)=>(0,M.Dy)(L,x)}}class D extends f.JT{constructor(S,w){super(),this.allowEditorOverflow=!0,this._editor=S,this._languageService=w,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=C(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(L=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return D._ID}_compute(S){const w=this._getTokensAtLine(S.lineNumber);let L=0;for(let W=w.tokens1.length-1;W>=0;W--){const U=w.tokens1[W];if(S.column-1>=U.offset){L=W;break}}let N=0;for(let W=w.tokens2.length>>>1;W>=0;W--)if(S.column-1>=w.tokens2[W<<1]){N=W;break}const O=this._model.getLineContent(S.lineNumber);let x="";if(L<w.tokens1.length){const W=w.tokens1[L].offset,U=L+1<w.tokens1.length?w.tokens1[L+1].offset:O.length;x=O.substring(W,U)}(0,m.mc)(this._domNode,(0,m.$)("h2.tm-token",void 0,a(x),(0,m.$)("span.tm-token-length",void 0,`${x.length} ${x.length===1?"char":"chars"}`))),(0,m.R3)(this._domNode,(0,m.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const T=(N<<1)+1<w.tokens2.length?this._decodeMetadata(w.tokens2[(N<<1)+1]):null;(0,m.R3)(this._domNode,(0,m.$)("table.tm-metadata-table",void 0,(0,m.$)("tbody",void 0,(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"language"),(0,m.$)("td.tm-metadata-value",void 0,`${T?T.languageId:"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"token type"),(0,m.$)("td.tm-metadata-value",void 0,`${T?this._tokenTypeToString(T.tokenType):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"font style"),(0,m.$)("td.tm-metadata-value",void 0,`${T?this._fontStyleToString(T.fontStyle):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"foreground"),(0,m.$)("td.tm-metadata-value",void 0,`${T?B.Il.Format.CSS.formatHex(T.foreground):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"background"),(0,m.$)("td.tm-metadata-value",void 0,`${T?B.Il.Format.CSS.formatHex(T.background):"-?-"}`))))),(0,m.R3)(this._domNode,(0,m.$)("hr.tokens-inspect-separator")),L<w.tokens1.length&&(0,m.R3)(this._domNode,(0,m.$)("span.tm-token-type",void 0,w.tokens1[L].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(S){const w=v.RW.getColorMap(),L=A.N.getLanguageId(S),N=A.N.getTokenType(S),O=A.N.getFontStyle(S),x=A.N.getForeground(S),T=A.N.getBackground(S);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(L),tokenType:N,fontStyle:O,foreground:w[x],background:w[T]}}_tokenTypeToString(S){switch(S){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(S){let w="";return S&1&&(w+="italic "),S&2&&(w+="bold "),S&4&&(w+="underline "),S&8&&(w+="strikethrough "),w.length===0&&(w="---"),w}_getTokensAtLine(S){const w=this._getStateBeforeLine(S),L=this._tokenizationSupport.tokenize(this._model.getLineContent(S),!0,w),N=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(S),!0,w);return{startState:w,tokens1:L.tokens,tokens2:N.tokens,endState:L.endState}}_getStateBeforeLine(S){let w=this._tokenizationSupport.getInitialState();for(let L=1;L<S;L++)w=this._tokenizationSupport.tokenize(this._model.getLineContent(L),!0,w).endState;return w}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}D._ID="editor.contrib.inspectTokensWidget",(0,_._K)(g.ID,g,4),(0,_.Qr)(n)},85809:function(Ot,He,i){"use strict";i.r(He),i.d(He,{GotoLineAction:function(){return Le},StandaloneCommandsQuickAccessProvider:function(){return xe}});var m=i(6325),B=i(26152),f=i(83485),_=i(5603),v=i(5858),A=i(16308),M=i(14818),E=i(26386);function R(ue,re){return re&&(ue.stack||ue.stacktrace)?E.NC("stackTrace.format","{0}: {1}",l(ue),p(ue.stack)||p(ue.stacktrace)):l(ue)}function p(ue){return Array.isArray(ue)?ue.join(`
`):ue}function l(ue){return typeof ue.code=="string"&&typeof ue.errno=="number"&&typeof ue.syscall=="string"?E.NC("nodeExceptionMessage","A system error occurred ({0})",ue.message):ue.message||E.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function d(ue=null,re=!1){if(!ue)return E.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(ue)){const _e=A.kX(ue),Ue=d(_e[0],re);return _e.length>1?E.NC("error.moreErrors","{0} ({1} errors in total)",Ue,_e.length):Ue}if(M.HD(ue))return ue;if(ue.detail){const _e=ue.detail;if(_e.error)return R(_e.error,re);if(_e.exception)return R(_e.exception,re)}return ue.stack?R(ue,re):ue.message?ue.message:E.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var g=i(20996),n=i(4538),a=i(38431),C=i(39832),D=i(80793),u=i(71177),S=i(5267),w=i(44333),L=i(62297),N=i(13484),O=i(97464),x=function(ue,re,_e,Ue){function Qe(Re){return Re instanceof _e?Re:new _e(function(ie){ie(Re)})}return new(_e||(_e=Promise))(function(Re,ie){function Z(he){try{ve(Ue.next(he))}catch(ce){ie(ce)}}function se(he){try{ve(Ue.throw(he))}catch(ce){ie(ce)}}function ve(he){he.done?Re(he.value):Qe(he.value).then(Z,se)}ve((Ue=Ue.apply(ue,re||[])).next())})},T;(function(ue){ue[ue.NO_ACTION=0]="NO_ACTION",ue[ue.CLOSE_PICKER=1]="CLOSE_PICKER",ue[ue.REFRESH_PICKER=2]="REFRESH_PICKER",ue[ue.REMOVE_ITEM=3]="REMOVE_ITEM"})(T||(T={}));function W(ue){const re=ue;return Array.isArray(re.items)}function U(ue){const re=ue;return!!re.picks&&re.additionalPicks instanceof Promise}class K extends a.JT{constructor(re,_e){super(),this.prefix=re,this.options=_e}provide(re,_e,Ue){var Qe;const Re=new a.SL;re.canAcceptInBackground=!!(!((Qe=this.options)===null||Qe===void 0)&&Qe.canAcceptInBackground),re.matchOnLabel=re.matchOnDescription=re.matchOnDetail=re.sortByLabel=!1;let ie;const Z=Re.add(new a.XK),se=()=>x(this,void 0,void 0,function*(){const ve=Z.value=new a.SL;ie==null||ie.dispose(!0),re.busy=!1,ie=new O.A(_e);const he=ie.token,ce=re.value.substr(this.prefix.length).trim(),Ee=this._getPicks(ce,ve,he,Ue),We=(it,Ze)=>{var je;let Te,Ie;if(W(it)?(Te=it.items,Ie=it.active):Te=it,Te.length===0){if(Ze)return!1;(ce.length>0||re.hideInput)&&(!((je=this.options)===null||je===void 0)&&je.noResultsPick)&&(Te=[this.options.noResultsPick])}return re.items=Te,Ie&&(re.activeItems=[Ie]),!0};if(Ee!==null)if(U(Ee)){let it=!1,Ze=!1;yield Promise.all([(()=>x(this,void 0,void 0,function*(){yield(0,N.Vs)(K.FAST_PICKS_RACE_DELAY),!he.isCancellationRequested&&(Ze||(it=We(Ee.picks,!0)))}))(),(()=>x(this,void 0,void 0,function*(){re.busy=!0;try{const je=yield Ee.additionalPicks;if(he.isCancellationRequested)return;let Te,Ie;W(Ee.picks)?(Te=Ee.picks.items,Ie=Ee.picks.active):Te=Ee.picks;let oe,ge;if(W(je)?(oe=je.items,ge=je.active):oe=je,oe.length>0||!it){let Ce;if(!Ie&&!ge){const me=re.activeItems[0];me&&Te.indexOf(me)!==-1&&(Ce=me)}We({items:[...Te,...oe],active:Ie||ge||Ce})}}finally{he.isCancellationRequested||(re.busy=!1),Ze=!0}}))()])}else if(!(Ee instanceof Promise))We(Ee);else{re.busy=!0;try{const it=yield Ee;if(he.isCancellationRequested)return;We(it)}finally{he.isCancellationRequested||(re.busy=!1)}}});return Re.add(re.onDidChangeValue(()=>se())),se(),Re.add(re.onDidAccept(ve=>{const[he]=re.selectedItems;typeof(he==null?void 0:he.accept)=="function"&&(ve.inBackground||re.hide(),he.accept(re.keyMods,ve))})),Re.add(re.onDidTriggerItemButton(({button:ve,item:he})=>x(this,void 0,void 0,function*(){var ce,Ee;if(typeof he.trigger=="function"){const We=(Ee=(ce=he.buttons)===null||ce===void 0?void 0:ce.indexOf(ve))!==null&&Ee!==void 0?Ee:-1;if(We>=0){const it=he.trigger(We,re.keyMods),Ze=typeof it=="number"?it:yield it;if(_e.isCancellationRequested)return;switch(Ze){case T.NO_ACTION:break;case T.CLOSE_PICKER:re.hide();break;case T.REFRESH_PICKER:se();break;case T.REMOVE_ITEM:{const je=re.items.indexOf(he);if(je!==-1){const Te=re.items.slice(),Ie=Te.splice(je,1),oe=re.activeItems.filter(Ce=>Ce!==Ie[0]),ge=re.keepScrollPosition;re.keepScrollPosition=!0,re.items=Te,oe&&(re.activeItems=oe),re.keepScrollPosition=ge}break}}}}}))),Re}}K.FAST_PICKS_RACE_DELAY=200;var G=i(63536),z=i(68554),k=function(ue,re,_e,Ue){var Qe=arguments.length,Re=Qe<3?re:Ue===null?Ue=Object.getOwnPropertyDescriptor(re,_e):Ue,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Re=Reflect.decorate(ue,re,_e,Ue);else for(var Z=ue.length-1;Z>=0;Z--)(ie=ue[Z])&&(Re=(Qe<3?ie(Re):Qe>3?ie(re,_e,Re):ie(re,_e))||Re);return Qe>3&&Re&&Object.defineProperty(re,_e,Re),Re},q=function(ue,re){return function(_e,Ue){re(_e,Ue,ue)}},te=function(ue,re,_e,Ue){function Qe(Re){return Re instanceof _e?Re:new _e(function(ie){ie(Re)})}return new(_e||(_e=Promise))(function(Re,ie){function Z(he){try{ve(Ue.next(he))}catch(ce){ie(ce)}}function se(he){try{ve(Ue.throw(he))}catch(ce){ie(ce)}}function ve(he){he.done?Re(he.value):Qe(he.value).then(Z,se)}ve((Ue=Ue.apply(ue,re||[])).next())})};let X=class Kd extends K{constructor(re,_e,Ue,Qe,Re,ie){super(Kd.PREFIX,re),this.instantiationService=_e,this.keybindingService=Ue,this.commandService=Qe,this.telemetryService=Re,this.dialogService=ie,this.commandsHistory=this._register(this.instantiationService.createInstance(j)),this.options=re}_getPicks(re,_e,Ue,Qe){var Re,ie;return te(this,void 0,void 0,function*(){const Z=yield this.getCommandPicks(Ue);if(Ue.isCancellationRequested)return[];const se=[];for(const We of Z){const it=(0,M.f6)(Kd.WORD_FILTER(re,We.label)),Ze=We.commandAlias?(0,M.f6)(Kd.WORD_FILTER(re,We.commandAlias)):void 0;it||Ze?(We.highlights={label:it,detail:this.options.showAlias?Ze:void 0},se.push(We)):re===We.commandId&&se.push(We)}const ve=new Map;for(const We of se){const it=ve.get(We.label);it?(We.description=We.commandId,it.description=it.commandId):ve.set(We.label,We)}se.sort((We,it)=>{const Ze=this.commandsHistory.peek(We.commandId),je=this.commandsHistory.peek(it.commandId);if(Ze&&je)return Ze>je?-1:1;if(Ze)return-1;if(je)return 1;if(this.options.suggestedCommandIds){const Te=this.options.suggestedCommandIds.has(We.commandId),Ie=this.options.suggestedCommandIds.has(it.commandId);if(Te&&Ie)return 0;if(Te)return-1;if(Ie)return 1}return We.label.localeCompare(it.label)});const he=[];let ce=!1,Ee=!!this.options.suggestedCommandIds;for(let We=0;We<se.length;We++){const it=se[We],Ze=this.keybindingService.lookupKeybinding(it.commandId),je=Ze?(0,E.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",it.label,Ze.getAriaLabel()):it.label;We===0&&this.commandsHistory.peek(it.commandId)&&(he.push({type:"separator",label:(0,E.NC)("recentlyUsed","recently used")}),ce=!0),Ee&&!this.commandsHistory.peek(it.commandId)&&(!((Re=this.options.suggestedCommandIds)===null||Re===void 0)&&Re.has(it.commandId))&&(he.push({type:"separator",label:(0,E.NC)("commonlyUsed","commonly used")}),ce=!0,Ee=!1),ce&&!this.commandsHistory.peek(it.commandId)&&!(!((ie=this.options.suggestedCommandIds)===null||ie===void 0)&&ie.has(it.commandId))&&(he.push({type:"separator",label:(0,E.NC)("morecCommands","other commands")}),ce=!1),he.push(Object.assign(Object.assign({},it),{ariaLabel:je,detail:this.options.showAlias&&it.commandAlias!==it.label?it.commandAlias:void 0,keybinding:Ze,accept:()=>te(this,void 0,void 0,function*(){var Te;this.commandsHistory.push(it.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:it.commandId,from:(Te=Qe==null?void 0:Qe.from)!==null&&Te!==void 0?Te:"quick open"});try{yield this.commandService.executeCommand(it.commandId)}catch(Ie){(0,g.n2)(Ie)||this.dialogService.error((0,E.NC)("canNotRun","Command '{0}' resulted in an error",it.label),d(Ie))}})}))}return he})}};X.PREFIX=">",X.WORD_FILTER=(0,n.or)(n.Ji,n.KZ,n.ir),X=k([q(1,w.TG),q(2,L.d),q(3,D.H),q(4,z.b),q(5,S.S)],X);let j=class br extends a.JT{constructor(re,_e){super(),this.storageService=re,this.configurationService=_e,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(re=>this.updateConfiguration(re)))}updateConfiguration(re){re&&!re.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=br.getConfiguredCommandHistoryLength(this.configurationService),br.cache&&br.cache.limit!==this.configuredCommandsHistoryLength&&(br.cache.limit=this.configuredCommandsHistoryLength,br.saveState(this.storageService)))}load(){const re=this.storageService.get(br.PREF_KEY_CACHE,0);let _e;if(re)try{_e=JSON.parse(re)}catch(Qe){}const Ue=br.cache=new C.z6(this.configuredCommandsHistoryLength,1);if(_e){let Qe;_e.usesLRU?Qe=_e.entries:Qe=_e.entries.sort((Re,ie)=>Re.value-ie.value),Qe.forEach(Re=>Ue.set(Re.key,Re.value))}br.counter=this.storageService.getNumber(br.PREF_KEY_COUNTER,0,br.counter)}push(re){br.cache&&(br.cache.set(re,br.counter++),br.saveState(this.storageService))}peek(re){var _e;return(_e=br.cache)===null||_e===void 0?void 0:_e.peek(re)}static saveState(re){if(!br.cache)return;const _e={usesLRU:!0,entries:[]};br.cache.forEach((Ue,Qe)=>_e.entries.push({key:Qe,value:Ue})),re.store(br.PREF_KEY_CACHE,JSON.stringify(_e),0,0),re.store(br.PREF_KEY_COUNTER,br.counter,0,0)}static getConfiguredCommandHistoryLength(re){var _e,Ue;const Re=(Ue=(_e=re.getValue().workbench)===null||_e===void 0?void 0:_e.commandPalette)===null||Ue===void 0?void 0:Ue.history;return typeof Re=="number"?Re:br.DEFAULT_COMMANDS_HISTORY_LENGTH}};j.DEFAULT_COMMANDS_HISTORY_LENGTH=50,j.PREF_KEY_CACHE="commandPalette.mru.cache",j.PREF_KEY_COUNTER="commandPalette.mru.counter",j.counter=1,j=k([q(0,G.Uy),q(1,u.Ui)],j);class J extends X{constructor(re,_e,Ue,Qe,Re,ie){super(re,_e,Ue,Qe,Re,ie)}getCodeEditorCommandPicks(){const re=this.activeTextEditorControl;if(!re)return[];const _e=[];for(const Ue of re.getSupportedActions())_e.push({commandId:Ue.id,commandAlias:Ue.alias,label:(0,v.x$)(Ue.label)||Ue.id});return _e}}var Y=i(55298),ee=i(21081),fe=i(38785),De=function(ue,re,_e,Ue){var Qe=arguments.length,Re=Qe<3?re:Ue===null?Ue=Object.getOwnPropertyDescriptor(re,_e):Ue,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Re=Reflect.decorate(ue,re,_e,Ue);else for(var Z=ue.length-1;Z>=0;Z--)(ie=ue[Z])&&(Re=(Qe<3?ie(Re):Qe>3?ie(re,_e,Re):ie(re,_e))||Re);return Qe>3&&Re&&Object.defineProperty(re,_e,Re),Re},Ne=function(ue,re){return function(_e,Ue){re(_e,Ue,ue)}},be=function(ue,re,_e,Ue){function Qe(Re){return Re instanceof _e?Re:new _e(function(ie){ie(Re)})}return new(_e||(_e=Promise))(function(Re,ie){function Z(he){try{ve(Ue.next(he))}catch(ce){ie(ce)}}function se(he){try{ve(Ue.throw(he))}catch(ce){ie(ce)}}function ve(he){he.done?Re(he.value):Qe(he.value).then(Z,se)}ve((Ue=Ue.apply(ue,re||[])).next())})};let xe=class extends J{get activeTextEditorControl(){return(0,M.f6)(this.codeEditorService.getFocusedCodeEditor())}constructor(re,_e,Ue,Qe,Re,ie){super({showAlias:!1},re,Ue,Qe,Re,ie),this.codeEditorService=_e}getCommandPicks(){return be(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};xe=De([Ne(0,w.TG),Ne(1,_.$),Ne(2,L.d),Ne(3,D.H),Ne(4,z.b),Ne(5,S.S)],xe);class Le extends Y.R6{constructor(){super({id:Le.ID,label:f.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:ee.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(re){re.get(fe.eJ).quickAccess.show(xe.PREFIX)}}Le.ID="editor.action.quickCommand",(0,Y.Qr)(Le),m.B.as(B.IP.Quickaccess).registerQuickAccessProvider({ctor:xe,prefix:xe.PREFIX,helpEntries:[{description:f.UX.quickCommandHelp,commandId:Le.ID}]})},29571:function(Ot,He,i){"use strict";i.r(He),i.d(He,{GotoLineAction:function(){return u},StandaloneGotoLineQuickAccessProvider:function(){return D}});var m=i(38431),B=i(86086),f=i(32034),_=i(26386);class v extends f.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const L=(0,_.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return w.items=[{label:L}],w.ariaLabel=L,m.JT.None}provideWithTextEditor(w,L,N){const O=w.editor,x=new m.SL;x.add(L.onDidAccept(U=>{const[K]=L.selectedItems;if(K){if(!this.isValidLineNumber(O,K.lineNumber))return;this.gotoLocation(w,{range:this.toRange(K.lineNumber,K.column),keyMods:L.keyMods,preserveFocus:U.inBackground}),U.inBackground||L.hide()}}));const T=()=>{const U=this.parsePosition(O,L.value.trim().substr(v.PREFIX.length)),K=this.getPickLabel(O,U.lineNumber,U.column);if(L.items=[{lineNumber:U.lineNumber,column:U.column,label:K}],L.ariaLabel=K,!this.isValidLineNumber(O,U.lineNumber)){this.clearDecorations(O);return}const G=this.toRange(U.lineNumber,U.column);O.revealRangeInCenter(G,0),this.addDecorations(O,G)};T(),x.add(L.onDidChangeValue(()=>T()));const W=(0,B.Pi)(O);return W&&W.getOptions().get(65).renderType===2&&(W.updateOptions({lineNumbers:"on"}),x.add((0,m.OF)(()=>W.updateOptions({lineNumbers:"relative"})))),x}toRange(w=1,L=1){return{startLineNumber:w,startColumn:L,endLineNumber:w,endColumn:L}}parsePosition(w,L){const N=L.split(/,|:|#/).map(x=>parseInt(x,10)).filter(x=>!isNaN(x)),O=this.lineCount(w)+1;return{lineNumber:N[0]>0?N[0]:O+N[0],column:N[1]}}getPickLabel(w,L,N){if(this.isValidLineNumber(w,L))return this.isValidColumn(w,L,N)?(0,_.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",L,N):(0,_.NC)("gotoLineLabel","Go to line {0}.",L);const O=w.getPosition()||{lineNumber:1,column:1},x=this.lineCount(w);return x>1?(0,_.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",O.lineNumber,O.column,x):(0,_.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",O.lineNumber,O.column)}isValidLineNumber(w,L){return!L||typeof L!="number"?!1:L>0&&L<=this.lineCount(w)}isValidColumn(w,L,N){if(!N||typeof N!="number")return!1;const O=this.getModel(w);if(!O)return!1;const x={lineNumber:L,column:N};return O.validatePosition(x).equals(x)}lineCount(w){var L,N;return(N=(L=this.getModel(w))===null||L===void 0?void 0:L.getLineCount())!==null&&N!==void 0?N:0}}v.PREFIX=":";var A=i(6325),M=i(26152),E=i(5603),R=i(14818),p=i(83485),l=i(56709),d=i(55298),g=i(21081),n=i(38785),a=function(S,w,L,N){var O=arguments.length,x=O<3?w:N===null?N=Object.getOwnPropertyDescriptor(w,L):N,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(S,w,L,N);else for(var W=S.length-1;W>=0;W--)(T=S[W])&&(x=(O<3?T(x):O>3?T(w,L,x):T(w,L))||x);return O>3&&x&&Object.defineProperty(w,L,x),x},C=function(S,w){return function(L,N){w(L,N,S)}};let D=class extends v{constructor(w){super(),this.editorService=w,this.onDidActiveTextEditorControlChange=l.ju.None}get activeTextEditorControl(){return(0,R.f6)(this.editorService.getFocusedCodeEditor())}};D=a([C(0,E.$)],D);class u extends d.R6{constructor(){super({id:u.ID,label:p.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(w){w.get(n.eJ).quickAccess.show(D.PREFIX)}}u.ID="editor.action.gotoLine",(0,d.Qr)(u),A.B.as(M.IP.Quickaccess).registerQuickAccessProvider({ctor:D,prefix:D.PREFIX,helpEntries:[{description:p.qq.gotoLineActionLabel,commandId:u.ID}]})},47707:function(Ot,He,i){"use strict";i.r(He),i.d(He,{GotoSymbolAction:function(){return Qe},StandaloneGotoSymbolQuickAccessProvider:function(){return Ue}});var m=i(89467),B=i(27187),f=i(13484),_=i(97464),v=i(407),A=i(8216),M=i(4538),E=i(75296),R=i(11138),p=i(17416);const l=[void 0,[]];function d(Re,ie,Z=0,se=0){const ve=ie;return ve.values&&ve.values.length>1?g(Re,ve.values,Z,se):n(Re,ie,Z,se)}function g(Re,ie,Z,se){let ve=0;const he=[];for(const ce of ie){const[Ee,We]=n(Re,ce,Z,se);if(typeof Ee!="number")return l;ve+=Ee,he.push(...We)}return[ve,C(he)]}function n(Re,ie,Z,se){const ve=(0,M.EW)(ie.original,ie.originalLowercase,Z,Re,Re.toLowerCase(),se,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ve?[ve[0],(0,M.mB)(ve)]:l}const a=Object.freeze({score:0});function C(Re){const ie=Re.sort((ve,he)=>ve.start-he.start),Z=[];let se;for(const ve of ie)!se||!D(se,ve)?(se=ve,Z.push(ve)):(se.start=Math.min(se.start,ve.start),se.end=Math.max(se.end,ve.end));return Z}function D(Re,ie){return!(Re.end<ie.start||ie.end<Re.start)}function u(Re){return Re.startsWith('"')&&Re.endsWith('"')}const S=" ";function w(Re){typeof Re!="string"&&(Re="");const ie=Re.toLowerCase(),{pathNormalized:Z,normalized:se,normalizedLowercase:ve}=L(Re),he=Z.indexOf(E.ir)>=0,ce=u(Re);let Ee;const We=Re.split(S);if(We.length>1)for(const it of We){const Ze=u(it),{pathNormalized:je,normalized:Te,normalizedLowercase:Ie}=L(it);Te&&(Ee||(Ee=[]),Ee.push({original:it,originalLowercase:it.toLowerCase(),pathNormalized:je,normalized:Te,normalizedLowercase:Ie,expectContiguousMatch:Ze}))}return{original:Re,originalLowercase:ie,pathNormalized:Z,normalized:se,normalizedLowercase:ve,values:Ee,containsPathSeparator:he,expectContiguousMatch:ce}}function L(Re){let ie;R.ED?ie=Re.replace(/\//g,E.ir):ie=Re.replace(/\\/g,E.ir);const Z=(0,p.R1)(ie).replace(/\s|"/g,"");return{pathNormalized:ie,normalized:Z,normalizedLowercase:Z.toLowerCase()}}function N(Re){return Array.isArray(Re)?w(Re.map(ie=>ie.original).join(S)):w(Re.original)}var O=i(38431),x=i(50038),T=i(36082),W=i(79931),U=i(32034),K=i(26386),G=i(35921),z=i(16308),k=function(Re,ie,Z,se){var ve=arguments.length,he=ve<3?ie:se===null?se=Object.getOwnPropertyDescriptor(ie,Z):se,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(Re,ie,Z,se);else for(var Ee=Re.length-1;Ee>=0;Ee--)(ce=Re[Ee])&&(he=(ve<3?ce(he):ve>3?ce(ie,Z,he):ce(ie,Z))||he);return ve>3&&he&&Object.defineProperty(ie,Z,he),he},q=function(Re,ie){return function(Z,se){ie(Z,se,Re)}},te=function(Re,ie,Z,se){function ve(he){return he instanceof Z?he:new Z(function(ce){ce(he)})}return new(Z||(Z=Promise))(function(he,ce){function Ee(Ze){try{it(se.next(Ze))}catch(je){ce(je)}}function We(Ze){try{it(se.throw(Ze))}catch(je){ce(je)}}function it(Ze){Ze.done?he(Ze.value):ve(Ze.value).then(Ee,We)}it((se=se.apply(Re,ie||[])).next())})};let X=class Ku extends U.X{constructor(ie,Z,se=Object.create(null)){super(se),this._languageFeaturesService=ie,this._outlineModelService=Z,this.options=se,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(ie){return this.provideLabelPick(ie,(0,K.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),O.JT.None}provideWithTextEditor(ie,Z,se){const ve=ie.editor,he=this.getModel(ve);return he?this._languageFeaturesService.documentSymbolProvider.has(he)?this.doProvideWithEditorSymbols(ie,he,Z,se):this.doProvideWithoutEditorSymbols(ie,he,Z,se):O.JT.None}doProvideWithoutEditorSymbols(ie,Z,se,ve){const he=new O.SL;return this.provideLabelPick(se,(0,K.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),te(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(Z,he))||ve.isCancellationRequested||he.add(this.doProvideWithEditorSymbols(ie,Z,se,ve))}),he}provideLabelPick(ie,Z){ie.items=[{label:Z,index:0,kind:14}],ie.ariaLabel=Z}waitForLanguageSymbolRegistry(ie,Z){return te(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(ie))return!0;const se=new f.CR,ve=Z.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(ie)&&(ve.dispose(),se.complete(!0))}));return Z.add((0,O.OF)(()=>se.complete(!1))),se.p})}doProvideWithEditorSymbols(ie,Z,se,ve){var he;const ce=ie.editor,Ee=new O.SL;Ee.add(se.onDidAccept(je=>{const[Te]=se.selectedItems;Te&&Te.range&&(this.gotoLocation(ie,{range:Te.range.selection,keyMods:se.keyMods,preserveFocus:je.inBackground}),je.inBackground||se.hide())})),Ee.add(se.onDidTriggerItemButton(({item:je})=>{je&&je.range&&(this.gotoLocation(ie,{range:je.range.selection,keyMods:se.keyMods,forceSideBySide:!0}),se.hide())}));const We=this.getDocumentSymbols(Z,ve);let it;const Ze=je=>te(this,void 0,void 0,function*(){it==null||it.dispose(!0),se.busy=!1,it=new _.A(ve),se.busy=!0;try{const Te=w(se.value.substr(Ku.PREFIX.length).trim()),Ie=yield this.doGetSymbolPicks(We,Te,void 0,it.token);if(ve.isCancellationRequested)return;if(Ie.length>0){if(se.items=Ie,je&&Te.original.length===0){const oe=(0,z.dF)(Ie,ge=>Boolean(ge.type!=="separator"&&ge.range&&x.e.containsPosition(ge.range.decoration,je)));oe&&(se.activeItems=[oe])}}else Te.original.length>0?this.provideLabelPick(se,(0,K.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(se,(0,K.NC)("noSymbolResults","No editor symbols"))}finally{ve.isCancellationRequested||(se.busy=!1)}});return Ee.add(se.onDidChangeValue(()=>Ze(void 0))),Ze((he=ce.getSelection())===null||he===void 0?void 0:he.getPosition()),Ee.add(se.onDidChangeActive(()=>{const[je]=se.activeItems;je&&je.range&&(ce.revealRangeInCenter(je.range.selection,0),this.addDecorations(ce,je.range.decoration))})),Ee}doGetSymbolPicks(ie,Z,se,ve){var he,ce;return te(this,void 0,void 0,function*(){const Ee=yield ie;if(ve.isCancellationRequested)return[];const We=Z.original.indexOf(Ku.SCOPE_PREFIX)===0,it=We?1:0;let Ze,je;Z.values&&Z.values.length>1?(Ze=N(Z.values[0]),je=N(Z.values.slice(1))):Ze=Z;let Te;const Ie=(ce=(he=this.options)===null||he===void 0?void 0:he.openSideBySideDirection)===null||ce===void 0?void 0:ce.call(he);Ie&&(Te=[{iconClass:Ie==="right"?A.k.asClassName(v.l.splitHorizontal):A.k.asClassName(v.l.splitVertical),tooltip:Ie==="right"?(0,K.NC)("openToSide","Open to the Side"):(0,K.NC)("openToBottom","Open to the Bottom")}]);const oe=[];for(let me=0;me<Ee.length;me++){const Me=Ee[me],qe=(0,p.fy)(Me.name),ot=`$(${T.uZ.toIcon(Me.kind).id}) ${qe}`,ut=ot.length-qe.length;let ht=Me.containerName;se!=null&&se.extraContainerLabel&&(ht?ht=`${se.extraContainerLabel} \u2022 ${ht}`:ht=se.extraContainerLabel);let Ct,Pt,bt,$t;if(Z.original.length>it){let Xe=!1;if(Ze!==Z&&([Ct,Pt]=d(ot,Object.assign(Object.assign({},Z),{values:void 0}),it,ut),typeof Ct=="number"&&(Xe=!0)),typeof Ct!="number"&&([Ct,Pt]=d(ot,Ze,it,ut),typeof Ct!="number"))continue;if(!Xe&&je){if(ht&&je.original.length>0&&([bt,$t]=d(ht,je)),typeof bt!="number")continue;typeof Ct=="number"&&(Ct+=bt)}}const Mt=Me.tags&&Me.tags.indexOf(1)>=0;oe.push({index:me,kind:Me.kind,score:Ct,label:ot,ariaLabel:qe,description:ht,highlights:Mt?void 0:{label:Pt,description:$t},range:{selection:x.e.collapseToStart(Me.selectionRange),decoration:Me.range},strikethrough:Mt,buttons:Te})}const ge=oe.sort((me,Me)=>We?this.compareByKindAndScore(me,Me):this.compareByScore(me,Me));let Ce=[];if(We){let ot=function(){Me&&typeof me=="number"&&qe>0&&(Me.label=(0,p.WU)(J[me]||j,qe))},me,Me,qe=0;for(const ut of ge)me!==ut.kind?(ot(),me=ut.kind,qe=1,Me={type:"separator"},Ce.push(Me)):qe++,Ce.push(ut);ot()}else ge.length>0&&(Ce=[{label:(0,K.NC)("symbols","symbols ({0})",oe.length),type:"separator"},...ge]);return Ce})}compareByScore(ie,Z){if(typeof ie.score!="number"&&typeof Z.score=="number")return 1;if(typeof ie.score=="number"&&typeof Z.score!="number")return-1;if(typeof ie.score=="number"&&typeof Z.score=="number"){if(ie.score>Z.score)return-1;if(ie.score<Z.score)return 1}return ie.index<Z.index?-1:ie.index>Z.index?1:0}compareByKindAndScore(ie,Z){const se=J[ie.kind]||j,ve=J[Z.kind]||j,he=se.localeCompare(ve);return he===0?this.compareByScore(ie,Z):he}getDocumentSymbols(ie,Z){return te(this,void 0,void 0,function*(){const se=yield this._outlineModelService.getOrCreate(ie,Z);return Z.isCancellationRequested?[]:se.asListOfDocumentSymbols()})}};X.PREFIX="@",X.SCOPE_PREFIX=":",X.PREFIX_BY_CATEGORY=`${X.PREFIX}${X.SCOPE_PREFIX}`,X=k([q(0,G.p),q(1,W.Je)],X);const j=(0,K.NC)("property","properties ({0})"),J={[5]:(0,K.NC)("method","methods ({0})"),[11]:(0,K.NC)("function","functions ({0})"),[8]:(0,K.NC)("_constructor","constructors ({0})"),[12]:(0,K.NC)("variable","variables ({0})"),[4]:(0,K.NC)("class","classes ({0})"),[22]:(0,K.NC)("struct","structs ({0})"),[23]:(0,K.NC)("event","events ({0})"),[24]:(0,K.NC)("operator","operators ({0})"),[10]:(0,K.NC)("interface","interfaces ({0})"),[2]:(0,K.NC)("namespace","namespaces ({0})"),[3]:(0,K.NC)("package","packages ({0})"),[25]:(0,K.NC)("typeParameter","type parameters ({0})"),[1]:(0,K.NC)("modules","modules ({0})"),[6]:(0,K.NC)("property","properties ({0})"),[9]:(0,K.NC)("enum","enumerations ({0})"),[21]:(0,K.NC)("enumMember","enumeration members ({0})"),[14]:(0,K.NC)("string","strings ({0})"),[0]:(0,K.NC)("file","files ({0})"),[17]:(0,K.NC)("array","arrays ({0})"),[15]:(0,K.NC)("number","numbers ({0})"),[16]:(0,K.NC)("boolean","booleans ({0})"),[18]:(0,K.NC)("object","objects ({0})"),[19]:(0,K.NC)("key","keys ({0})"),[7]:(0,K.NC)("field","fields ({0})"),[13]:(0,K.NC)("constant","constants ({0})")};var Y=i(6325),ee=i(26152),fe=i(5603),De=i(14818),Ne=i(83485),be=i(56709),xe=i(55298),Le=i(21081),ue=i(38785),re=function(Re,ie,Z,se){var ve=arguments.length,he=ve<3?ie:se===null?se=Object.getOwnPropertyDescriptor(ie,Z):se,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(Re,ie,Z,se);else for(var Ee=Re.length-1;Ee>=0;Ee--)(ce=Re[Ee])&&(he=(ve<3?ce(he):ve>3?ce(ie,Z,he):ce(ie,Z))||he);return ve>3&&he&&Object.defineProperty(ie,Z,he),he},_e=function(Re,ie){return function(Z,se){ie(Z,se,Re)}};let Ue=class extends X{constructor(ie,Z,se){super(Z,se),this.editorService=ie,this.onDidActiveTextEditorControlChange=be.ju.None}get activeTextEditorControl(){return(0,De.f6)(this.editorService.getFocusedCodeEditor())}};Ue=re([_e(0,fe.$),_e(1,G.p),_e(2,W.Je)],Ue);class Qe extends xe.R6{constructor(){super({id:Qe.ID,label:Ne.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Le.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:Le.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(ie){ie.get(ue.eJ).quickAccess.show(X.PREFIX,{itemActivation:ue.jG.NONE})}}Qe.ID="editor.action.quickOutline",(0,xe.Qr)(Qe),Y.B.as(ee.IP.Quickaccess).registerQuickAccessProvider({ctor:Ue,prefix:X.PREFIX,helpEntries:[{description:Ne.aq.quickOutlineActionLabel,prefix:X.PREFIX,commandId:Qe.ID},{description:Ne.aq.quickOutlineByCategoryActionLabel,prefix:X.PREFIX_BY_CATEGORY}]})},49127:function(Ot,He,i){"use strict";i.r(He);var m=i(6325),B=i(26152),f=i(83485),_=i(26386),v=i(38431),A=i(62297),M=i(38785),E=function(l,d,g,n){var a=arguments.length,C=a<3?d:n===null?n=Object.getOwnPropertyDescriptor(d,g):n,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(l,d,g,n);else for(var u=l.length-1;u>=0;u--)(D=l[u])&&(C=(a<3?D(C):a>3?D(d,g,C):D(d,g))||C);return a>3&&C&&Object.defineProperty(d,g,C),C},R=function(l,d){return function(g,n){d(g,n,l)}};let p=class $d{constructor(d,g){this.quickInputService=d,this.keybindingService=g,this.registry=m.B.as(B.IP.Quickaccess)}provide(d){const g=new v.SL;return g.add(d.onDidAccept(()=>{const[n]=d.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),g.add(d.onDidChangeValue(n=>{const a=this.registry.getQuickAccessProvider(n.substr($d.PREFIX.length));a&&a.prefix&&a.prefix!==$d.PREFIX&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),d.items=this.getQuickAccessProviders().filter(n=>n.prefix!==$d.PREFIX),g}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((g,n)=>g.prefix.localeCompare(n.prefix)).flatMap(g=>this.createPicks(g))}createPicks(d){return d.helpEntries.map(g=>{const n=g.prefix||d.prefix,a=n||"\u2026";return{prefix:n,label:a,keybinding:g.commandId?this.keybindingService.lookupKeybinding(g.commandId):void 0,ariaLabel:(0,_.NC)("helpPickAriaLabel","{0}, {1}",a,g.description),description:g.description}})}};p.PREFIX="?",p=E([R(0,M.eJ),R(1,A.d)],p),m.B.as(B.IP.Quickaccess).registerQuickAccessProvider({ctor:p,prefix:"",helpEntries:[{description:f.ld.helpQuickAccessActionLabel}]})},70374:function(Ot,He,i){"use strict";i.r(He),i.d(He,{StandaloneReferencesController:function(){return l}});var m=i(55298),B=i(5603),f=i(51525),_=i(71177),v=i(76826),A=i(44333),M=i(97968),E=i(63536),R=function(d,g,n,a){var C=arguments.length,D=C<3?g:a===null?a=Object.getOwnPropertyDescriptor(g,n):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(d,g,n,a);else for(var S=d.length-1;S>=0;S--)(u=d[S])&&(D=(C<3?u(D):C>3?u(g,n,D):u(g,n))||D);return C>3&&D&&Object.defineProperty(g,n,D),D},p=function(d,g){return function(n,a){g(n,a,d)}};let l=class extends f.J{constructor(g,n,a,C,D,u,S){super(!0,g,n,a,C,D,u,S)}};l=R([p(1,v.i6),p(2,B.$),p(3,M.lT),p(4,A.TG),p(5,E.Uy),p(6,_.Ui)],l),(0,m._K)(f.J.ID,l,4)},79091:function(Ot,He,i){"use strict";i.d(He,{kR:function(){return j},MU:function(){return J},nI:function(){return xe},rW:function(){return X},TG:function(){return te}});var m=i(34441),B=i(71488),f=i(86741),_=i(56709),v=i(36082),A=i(24506);class M{constructor(ue,re,_e,Ue,Qe){this._parsedThemeRuleBrand=void 0,this.token=ue,this.index=re,this.fontStyle=_e,this.foreground=Ue,this.background=Qe}}function E(Le){if(!Le||!Array.isArray(Le))return[];const ue=[];let re=0;for(let _e=0,Ue=Le.length;_e<Ue;_e++){const Qe=Le[_e];let Re=-1;if(typeof Qe.fontStyle=="string"){Re=0;const se=Qe.fontStyle.split(" ");for(let ve=0,he=se.length;ve<he;ve++)switch(se[ve]){case"italic":Re=Re|1;break;case"bold":Re=Re|2;break;case"underline":Re=Re|4;break;case"strikethrough":Re=Re|8;break}}let ie=null;typeof Qe.foreground=="string"&&(ie=Qe.foreground);let Z=null;typeof Qe.background=="string"&&(Z=Qe.background),ue[re++]=new M(Qe.token||"",_e,Re,ie,Z)}return ue}function R(Le,ue){Le.sort((ve,he)=>{const ce=a(ve.token,he.token);return ce!==0?ce:ve.index-he.index});let re=0,_e="000000",Ue="ffffff";for(;Le.length>=1&&Le[0].token==="";){const ve=Le.shift();ve.fontStyle!==-1&&(re=ve.fontStyle),ve.foreground!==null&&(_e=ve.foreground),ve.background!==null&&(Ue=ve.background)}const Qe=new l;for(const ve of ue)Qe.getId(ve);const Re=Qe.getId(_e),ie=Qe.getId(Ue),Z=new C(re,Re,ie),se=new D(Z);for(let ve=0,he=Le.length;ve<he;ve++){const ce=Le[ve];se.insert(ce.token,ce.fontStyle,Qe.getId(ce.foreground),Qe.getId(ce.background))}return new d(Qe,se)}const p=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class l{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(ue){if(ue===null)return 0;const re=ue.match(p);if(!re)throw new Error("Illegal value for token color: "+ue);ue=re[1].toUpperCase();let _e=this._color2id.get(ue);return _e||(_e=++this._lastColorId,this._color2id.set(ue,_e),this._id2color[_e]=f.Il.fromHex("#"+ue),_e)}getColorMap(){return this._id2color.slice(0)}}class d{static createFromRawTokenTheme(ue,re){return this.createFromParsedTokenTheme(E(ue),re)}static createFromParsedTokenTheme(ue,re){return R(ue,re)}constructor(ue,re){this._colorMap=ue,this._root=re,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(ue){return this._root.match(ue)}match(ue,re){let _e=this._cache.get(re);if(typeof _e=="undefined"){const Ue=this._match(re),Qe=n(re);_e=(Ue.metadata|Qe<<8)>>>0,this._cache.set(re,_e)}return(_e|ue<<0)>>>0}}const g=/\b(comment|string|regex|regexp)\b/;function n(Le){const ue=Le.match(g);if(!ue)return 0;switch(ue[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function a(Le,ue){return Le<ue?-1:Le>ue?1:0}class C{constructor(ue,re,_e){this._themeTrieElementRuleBrand=void 0,this._fontStyle=ue,this._foreground=re,this._background=_e,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new C(this._fontStyle,this._foreground,this._background)}acceptOverwrite(ue,re,_e){ue!==-1&&(this._fontStyle=ue),re!==0&&(this._foreground=re),_e!==0&&(this._background=_e),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class D{constructor(ue){this._themeTrieElementBrand=void 0,this._mainRule=ue,this._children=new Map}match(ue){if(ue==="")return this._mainRule;const re=ue.indexOf(".");let _e,Ue;re===-1?(_e=ue,Ue=""):(_e=ue.substring(0,re),Ue=ue.substring(re+1));const Qe=this._children.get(_e);return typeof Qe!="undefined"?Qe.match(Ue):this._mainRule}insert(ue,re,_e,Ue){if(ue===""){this._mainRule.acceptOverwrite(re,_e,Ue);return}const Qe=ue.indexOf(".");let Re,ie;Qe===-1?(Re=ue,ie=""):(Re=ue.substring(0,Qe),ie=ue.substring(Qe+1));let Z=this._children.get(Re);typeof Z=="undefined"&&(Z=new D(this._mainRule.clone()),this._children.set(Re,Z)),Z.insert(ie,re,_e,Ue)}}function u(Le){const ue=[];for(let re=1,_e=Le.length;re<_e;re++){const Ue=Le[re];ue[re]=`.mtk${re} { color: ${Ue}; }`}return ue.push(".mtki { font-style: italic; }"),ue.push(".mtkb { font-weight: bold; }"),ue.push(".mtku { text-decoration: underline; text-underline-position: under; }"),ue.push(".mtks { text-decoration: line-through; }"),ue.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),ue.join(`
`)}var S=i(44411),w=i(92537);const L={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[w.cvW]:"#FFFFFE",[w.NOs]:"#000000",[w.ES4]:"#E5EBF1",[S.tR]:"#D3D3D3",[S.Ym]:"#939393",[w.Rzx]:"#ADD6FF4D"}},N={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[w.cvW]:"#1E1E1E",[w.NOs]:"#D4D4D4",[w.ES4]:"#3A3D41",[S.tR]:"#404040",[S.Ym]:"#707070",[w.Rzx]:"#ADD6FF26"}},O={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[w.cvW]:"#000000",[w.NOs]:"#FFFFFF",[S.tR]:"#FFFFFF",[S.Ym]:"#FFFFFF"}},x={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[w.cvW]:"#FFFFFF",[w.NOs]:"#292929",[S.tR]:"#292929",[S.Ym]:"#292929"}};var T=i(6325),W=i(58566),U=i(38431),K=i(49914),G=i(8216),z=i(89528);function k(Le){const ue=new _.Q5,re=(0,z.Ks)();return re.onDidChange(()=>ue.fire()),Le==null||Le.onDidProductIconThemeChange(()=>ue.fire()),{onDidChange:ue.event,getCSS(){const _e=Le?Le.getProductIconTheme():new q,Ue={},Qe=ie=>{const Z=_e.getIcon(ie);if(!Z)return;const se=Z.font;return se?(Ue[se.id]=se.definition,`.codicon-${ie.id}:before { content: '${Z.fontCharacter}'; font-family: ${(0,m._h)(se.id)}; }`):`.codicon-${ie.id}:before { content: '${Z.fontCharacter}'; }`},Re=[];for(const ie of re.getIcons()){const Z=Qe(ie);Z&&Re.push(Z)}for(const ie in Ue){const Z=Ue[ie],se=Z.weight?`font-weight: ${Z.weight};`:"",ve=Z.style?`font-style: ${Z.style};`:"",he=Z.src.map(ce=>`${(0,m.wY)(ce.location)} format('${ce.format}')`).join(", ");Re.push(`@font-face { src: ${he}; font-family: ${(0,m._h)(ie)};${se}${ve} font-display: block; }`)}return Re.join(`
`)}}}class q{getIcon(ue){const re=(0,z.Ks)();let _e=ue.defaults;for(;G.k.isThemeIcon(_e);){const Ue=re.getIcon(_e.id);if(!Ue)return;_e=Ue.defaults}return _e}}const te="vs",X="vs-dark",j="hc-black",J="hc-light",Y=T.B.as(w.IPX.ColorContribution),ee=T.B.as(W.IP.ThemingContribution);class fe{constructor(ue,re){this.semanticHighlighting=!1,this.themeData=re;const _e=re.base;ue.length>0?(De(ue)?this.id=ue:this.id=_e+" "+ue,this.themeName=ue):(this.id=_e,this.themeName=_e),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const ue=new Map;for(const re in this.themeData.colors)ue.set(re,f.Il.fromHex(this.themeData.colors[re]));if(this.themeData.inherit){const re=Ne(this.themeData.base);for(const _e in re.colors)ue.has(_e)||ue.set(_e,f.Il.fromHex(re.colors[_e]))}this.colors=ue}return this.colors}getColor(ue,re){const _e=this.getColors().get(ue);if(_e)return _e;if(re!==!1)return this.getDefault(ue)}getDefault(ue){let re=this.defaultColors[ue];return re||(re=Y.resolveDefaultColor(ue,this),this.defaultColors[ue]=re,re)}defines(ue){return this.getColors().has(ue)}get type(){switch(this.base){case te:return K.eL.LIGHT;case j:return K.eL.HIGH_CONTRAST_DARK;case J:return K.eL.HIGH_CONTRAST_LIGHT;default:return K.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let ue=[],re=[];if(this.themeData.inherit){const Qe=Ne(this.themeData.base);ue=Qe.rules,Qe.encodedTokensColors&&(re=Qe.encodedTokensColors)}const _e=this.themeData.colors["editor.foreground"],Ue=this.themeData.colors["editor.background"];if(_e||Ue){const Qe={token:""};_e&&(Qe.foreground=_e),Ue&&(Qe.background=Ue),ue.push(Qe)}ue=ue.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(re=this.themeData.encodedTokensColors),this._tokenTheme=d.createFromRawTokenTheme(ue,re)}return this._tokenTheme}getTokenStyleMetadata(ue,re,_e){const Qe=this.tokenTheme._match([ue].concat(re).join(".")).metadata,Re=A.N.getForeground(Qe),ie=A.N.getFontStyle(Qe);return{foreground:Re,italic:Boolean(ie&1),bold:Boolean(ie&2),underline:Boolean(ie&4),strikethrough:Boolean(ie&8)}}}function De(Le){return Le===te||Le===X||Le===j||Le===J}function Ne(Le){switch(Le){case te:return L;case X:return N;case j:return O;case J:return x}}function be(Le){const ue=Ne(Le);return new fe(Le,ue)}class xe extends U.JT{constructor(){super(),this._onColorThemeChange=this._register(new _.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new _.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new q,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(te,be(te)),this._knownThemes.set(X,be(X)),this._knownThemes.set(j,be(j)),this._knownThemes.set(J,be(J));const ue=k(this);this._codiconCSS=ue.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(te),this._onOSSchemeChanged(),ue.onDidChange(()=>{this._codiconCSS=ue.getCSS(),this._updateCSS()}),(0,B.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(ue){return m.OO(ue)?this._registerShadowDomContainer(ue):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=m.dS(void 0,ue=>{ue.className="monaco-colors",ue.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),U.JT.None}_registerShadowDomContainer(ue){const re=m.dS(ue,_e=>{_e.className="monaco-colors",_e.textContent=this._allCSS});return this._styleElements.push(re),{dispose:()=>{for(let _e=0;_e<this._styleElements.length;_e++)if(this._styleElements[_e]===re){this._styleElements.splice(_e,1);return}}}}defineTheme(ue,re){if(!/^[a-z0-9\-]+$/i.test(ue))throw new Error("Illegal theme name!");if(!De(re.base)&&!De(ue))throw new Error("Illegal theme base!");this._knownThemes.set(ue,new fe(ue,re)),De(ue)&&this._knownThemes.forEach(_e=>{_e.base===ue&&_e.notifyBaseUpdated()}),this._theme.themeName===ue&&this.setTheme(ue)}getColorTheme(){return this._theme}setColorMapOverride(ue){this._colorMapOverride=ue,this._updateThemeOrColorMap()}setTheme(ue){let re;this._knownThemes.has(ue)?re=this._knownThemes.get(ue):re=this._knownThemes.get(te),this._updateActualTheme(re)}_updateActualTheme(ue){!ue||this._theme===ue||(this._theme=ue,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const ue=window.matchMedia("(forced-colors: active)").matches;if(ue!==(0,K.c3)(this._theme.type)){let re;(0,K._T)(this._theme.type)?re=ue?j:X:re=ue?J:te,this._updateActualTheme(this._knownThemes.get(re))}}}setAutoDetectHighContrast(ue){this._autoDetectHighContrast=ue,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const ue=[],re={},_e={addRule:Re=>{re[Re]||(ue.push(Re),re[Re]=!0)}};ee.getThemingParticipants().forEach(Re=>Re(this._theme,_e,this._environment));const Ue=[];for(const Re of Y.getColors()){const ie=this._theme.getColor(Re.id,!0);ie&&Ue.push(`${(0,w.QO2)(Re.id)}: ${ie.toString()};`)}_e.addRule(`.monaco-editor { ${Ue.join(`
`)} }`);const Qe=this._colorMapOverride||this._theme.tokenTheme.getColorMap();_e.addRule(u(Qe)),this._themeCSS=ue.join(`
`),this._updateCSS(),v.RW.setColorMap(Qe),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(ue=>ue.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},59970:function(Ot,He,i){"use strict";i.r(He);var m=i(55298),B=i(96444),f=i(83485),_=i(49914),v=i(79091);class A extends m.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:f.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(E,R){const p=E.get(B.Z),l=p.getColorTheme();(0,_.c3)(l.type)?(p.setTheme(this._originalThemeName||((0,_._T)(l.type)?v.rW:v.TG)),this._originalThemeName=null):(p.setTheme((0,_._T)(l.type)?v.kR:v.MU),this._originalThemeName=l.themeName)}}(0,m.Qr)(A)},96444:function(Ot,He,i){"use strict";i.d(He,{Z:function(){return B}});var m=i(44333);const B=(0,m.yh)("themeService")},7481:function(Ot,He,i){"use strict";i.r(He),i.d(He,{jsonDefaults:function(){return d}});var m=i(46342);var B=Object.defineProperty,f=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,A=(n,a,C,D)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of _(a))!v.call(n,u)&&u!==C&&B(n,u,{get:()=>a[u],enumerable:!(D=f(a,u))||D.enumerable});return n},M=(n,a,C)=>(A(n,a,"default"),C&&A(C,a,"default")),E={};M(E,m);var R=class{constructor(n,a,C){ad(this,"_onDidChange",new E.Emitter);ad(this,"_diagnosticsOptions");ad(this,"_modeConfiguration");ad(this,"_languageId");this._languageId=n,this.setDiagnosticsOptions(a),this.setModeConfiguration(C)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},p={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},l={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new R("json",p,l);E.languages.json={jsonDefaults:d};function g(){return i.e(246).then(i.bind(i,14246))}E.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),E.languages.onLanguage("json",()=>{g().then(n=>n.setupMode(d))})},26386:function(Ot,He,i){"use strict";i.d(He,{NC:function(){return R},aj:function(){return p}});var m=function(n,a,C,D){function u(S){return S instanceof C?S:new C(function(w){w(S)})}return new(C||(C=Promise))(function(S,w){function L(x){try{O(D.next(x))}catch(T){w(T)}}function N(x){try{O(D.throw(x))}catch(T){w(T)}}function O(x){x.done?S(x.value):u(x.value).then(L,N)}O((D=D.apply(n,a||[])).next())})};let B=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const f="i-default";function _(n,a){let C;return a.length===0?C=n:C=n.replace(/\{(\d+)\}/g,(D,u)=>{const S=u[0],w=a[S];let L=D;return typeof w=="string"?L=w:(typeof w=="number"||typeof w=="boolean"||w===void 0||w===null)&&(L=String(w)),L}),B&&(C="\uFF3B"+C.replace(/[aouei]/g,"$&$&")+"\uFF3D"),C}function v(n,a){let C=n[a];return C||(C=n["*"],C)?C:null}function A(n){return n.charAt(n.length-1)==="/"?n:n+"/"}function M(n,a,C){return m(this,void 0,void 0,function*(){const D=A(n)+A(a)+"vscode/"+A(C),u=yield fetch(D);if(u.ok)return yield u.json();throw new Error(`${u.status} - ${u.statusText}`)})}function E(n){return function(a,C){const D=Array.prototype.slice.call(arguments,2);return _(n[a],D)}}function R(n,a,...C){return _(a,C)}function p(n){}function l(n){B=n}function d(n,a){var C;return{localize:E(a[n]),getConfiguredDefaultLocale:(C=a.getConfiguredDefaultLocale)!==null&&C!==void 0?C:D=>{}}}function g(n,a,C,D){var u;const S=(u=D["vs/nls"])!==null&&u!==void 0?u:{};if(!n||n.length===0)return C({localize:R,getConfiguredDefaultLocale:()=>{var x;return(x=S.availableLanguages)===null||x===void 0?void 0:x["*"]}});const w=S.availableLanguages?v(S.availableLanguages,n):null,L=w===null||w===f;let N=".nls";L||(N=N+"."+w);const O=x=>{Array.isArray(x)?x.localize=E(x):x.localize=E(x[n]),x.getConfiguredDefaultLocale=()=>{var T;return(T=S.availableLanguages)===null||T===void 0?void 0:T["*"]},C(x)};typeof S.loadBundle=="function"?S.loadBundle(n,w,(x,T)=>{x?a([n+".nls"],O):O(T)}):S.translationServiceUrl&&!L?m(this,void 0,void 0,function*(){var x;try{const T=yield M(S.translationServiceUrl,w,n);return O(T)}catch(T){if(!w.includes("-"))return console.error(T),a([n+".nls"],O);try{const W=w.split("-")[0],U=yield M(S.translationServiceUrl,W,n);return(x=S.availableLanguages)!==null&&x!==void 0||(S.availableLanguages={}),S.availableLanguages["*"]=W,O(U)}catch(W){return console.error(W),a([n+".nls"],O)}}}):a([n+N],O,x=>{if(N===".nls"){console.error("Failed trying to load default language strings",x);return}console.error(`Failed to load message bundle for language ${w}. Falling back to the default language:`,x),a([n+".nls"],O)})}},18708:function(Ot,He,i){"use strict";i.d(He,{F:function(){return f},U:function(){return _}});var m=i(76826),B=i(44333);const f=(0,B.yh)("accessibilityService"),_=new m.uy("accessibilityModeEnabled",!1)},3941:function(Ot,He,i){"use strict";i.d(He,{Mm:function(){return z},Id:function(){return X},vr:function(){return K},LJ:function(){return U}});var m=i(34441),B=i(6544),f=i(31957),_=i(19792),v=i(98299),A=i(49553),M=i(38431),E=i(11138),R=i(26386),p=i(21208);function l(j){return j?j.condition!==void 0:!1}var d=i(76826),g=i(36953),n=i(44333),a=i(62297),C=i(97968),D=i(63536),u=i(58566),S=i(8216),w=i(49914),L=i(14818),N=i(92537),O=i(60140),x=function(j,J,Y,ee){var fe=arguments.length,De=fe<3?J:ee===null?ee=Object.getOwnPropertyDescriptor(J,Y):ee,Ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")De=Reflect.decorate(j,J,Y,ee);else for(var be=j.length-1;be>=0;be--)(Ne=j[be])&&(De=(fe<3?Ne(De):fe>3?Ne(J,Y,De):Ne(J,Y))||De);return fe>3&&De&&Object.defineProperty(J,Y,De),De},T=function(j,J){return function(Y,ee){J(Y,ee,j)}},W=function(j,J,Y,ee){function fe(De){return De instanceof Y?De:new Y(function(Ne){Ne(De)})}return new(Y||(Y=Promise))(function(De,Ne){function be(ue){try{Le(ee.next(ue))}catch(re){Ne(re)}}function xe(ue){try{Le(ee.throw(ue))}catch(re){Ne(re)}}function Le(ue){ue.done?De(ue.value):fe(ue.value).then(be,xe)}Le((ee=ee.apply(j,J||[])).next())})};function U(j,J,Y,ee){const fe=j.getActions(J),De=m._q.getInstance(),Ne=De.keyStatus.altKey||(E.ED||E.IJ)&&De.keyStatus.shiftKey;G(fe,Y,Ne,ee?be=>be===ee:be=>be==="navigation")}function K(j,J,Y,ee,fe,De){const Ne=j.getActions(J);G(Ne,Y,!1,typeof ee=="string"?xe=>xe===ee:ee,fe,De)}function G(j,J,Y,ee=Ne=>Ne==="navigation",fe=()=>!1,De=!1){let Ne,be;Array.isArray(J)?(Ne=J,be=J):(Ne=J.primary,be=J.secondary);const xe=new Set;for(const[Le,ue]of j){let re;ee(Le)?(re=Ne,re.length>0&&De&&re.push(new v.Z0)):(re=be,re.length>0&&re.push(new v.Z0));for(let _e of ue){Y&&(_e=_e instanceof p.U8&&_e.alt?_e.alt:_e);const Ue=re.push(_e);_e instanceof v.wY&&xe.add({group:Le,action:_e,index:Ue-1})}}for(const{group:Le,action:ue,index:re}of xe){const _e=ee(Le)?Ne:be,Ue=ue.actions;Ue.length<=1&&fe(ue,Le,_e.length)&&_e.splice(re,1,...Ue)}}let z=class extends f.gU{constructor(J,Y,ee,fe,De,Ne,be){super(void 0,J,{icon:!!(J.class||J.item.icon),label:!J.class&&!J.item.icon,draggable:Y==null?void 0:Y.draggable,keybinding:Y==null?void 0:Y.keybinding,hoverDelegate:Y==null?void 0:Y.hoverDelegate}),this._keybindingService=ee,this._notificationService=fe,this._contextKeyService=De,this._themeService=Ne,this._contextMenuService=be,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new M.XK),this._altKey=m._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(J){return W(this,void 0,void 0,function*(){J.preventDefault(),J.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Y){this._notificationService.error(Y)}})}render(J){super.render(J),J.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let Y=!1,ee=this._altKey.keyStatus.altKey||(E.ED||E.IJ)&&this._altKey.keyStatus.shiftKey;const fe=()=>{var De;const Ne=Y&&ee&&!!(!((De=this._commandAction.alt)===null||De===void 0)&&De.enabled);Ne!==this._wantsAltCommand&&(this._wantsAltCommand=Ne,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(De=>{ee=De.altKey||(E.ED||E.IJ)&&De.shiftKey,fe()})),this._register((0,m.nm)(J,"mouseleave",De=>{Y=!1,fe()})),this._register((0,m.nm)(J,"mouseenter",De=>{Y=!0,fe()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var J;const Y=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),ee=Y&&Y.getLabel(),fe=this._commandAction.tooltip||this._commandAction.label;let De=ee?(0,R.NC)("titleAndKb","{0} ({1})",fe,ee):fe;if(!this._wantsAltCommand&&(!((J=this._menuItemAction.alt)===null||J===void 0)&&J.enabled)){const Ne=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,be=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),xe=be&&be.getLabel(),Le=xe?(0,R.NC)("titleAndKb","{0} ({1})",Ne,xe):Ne;De=(0,R.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,De,A.xo.modifierLabels[E.OS].altKey,Le)}return De}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(J){this._itemClassDispose.value=void 0;const{element:Y,label:ee}=this;if(!Y||!ee)return;const fe=this._commandAction.checked&&l(J.toggled)&&J.toggled.icon?J.toggled.icon:J.icon;if(fe)if(S.k.isThemeIcon(fe)){const De=S.k.asClassNameArray(fe);ee.classList.add(...De),this._itemClassDispose.value=(0,M.OF)(()=>{ee.classList.remove(...De)})}else ee.style.backgroundImage=(0,w._T)(this._themeService.getColorTheme().type)?(0,m.wY)(fe.dark):(0,m.wY)(fe.light),ee.classList.add("icon"),this._itemClassDispose.value=(0,M.F8)((0,M.OF)(()=>{ee.style.backgroundImage="",ee.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};z=x([T(2,a.d),T(3,C.lT),T(4,d.i6),T(5,u.XE),T(6,g.i)],z);let k=class extends _.C{constructor(J,Y,ee,fe,De){var Ne,be,xe;const Le=Object.assign(Object.assign({},Y),{menuAsChild:(Ne=Y==null?void 0:Y.menuAsChild)!==null&&Ne!==void 0?Ne:!1,classNames:(be=Y==null?void 0:Y.classNames)!==null&&be!==void 0?be:S.k.isThemeIcon(J.item.icon)?S.k.asClassName(J.item.icon):void 0,keybindingProvider:(xe=Y==null?void 0:Y.keybindingProvider)!==null&&xe!==void 0?xe:ue=>ee.lookupKeybinding(ue.id)});super(J,{getActions:()=>J.actions},fe,Le),this._keybindingService=ee,this._contextMenuService=fe,this._themeService=De}render(J){super.render(J),(0,L.p_)(this.element),J.classList.add("menu-entry");const Y=this._action,{icon:ee}=Y.item;if(ee&&!S.k.isThemeIcon(ee)){this.element.classList.add("icon");const fe=()=>{this.element&&(this.element.style.backgroundImage=(0,w._T)(this._themeService.getColorTheme().type)?(0,m.wY)(ee.dark):(0,m.wY)(ee.light))};fe(),this._register(this._themeService.onDidColorThemeChange(()=>{fe()}))}}};k=x([T(2,a.d),T(3,g.i),T(4,u.XE)],k);let q=class extends f.YH{constructor(J,Y,ee,fe,De,Ne,be,xe){var Le,ue,re;super(null,J),this._keybindingService=ee,this._notificationService=fe,this._contextMenuService=De,this._menuService=Ne,this._instaService=be,this._storageService=xe,this._container=null,this._options=Y,this._storageKey=`${J.item.submenu.id}_lastActionId`;let _e;const Ue=xe.get(this._storageKey,1);Ue&&(_e=J.actions.find(Re=>Ue===Re.id)),_e||(_e=J.actions[0]),this._defaultAction=this._instaService.createInstance(z,_e,{keybinding:this._getDefaultActionKeybindingLabel(_e)});const Qe=Object.assign({},Y!=null?Y:Object.create(null),{menuAsChild:(Le=Y==null?void 0:Y.menuAsChild)!==null&&Le!==void 0?Le:!0,classNames:(ue=Y==null?void 0:Y.classNames)!==null&&ue!==void 0?ue:["codicon","codicon-chevron-down"],actionRunner:(re=Y==null?void 0:Y.actionRunner)!==null&&re!==void 0?re:new v.Wi});this._dropdown=new _.C(J,J.actions,this._contextMenuService,Qe),this._dropdown.actionRunner.onDidRun(Re=>{Re.action instanceof p.U8&&this.update(Re.action)})}update(J){this._storageService.store(this._storageKey,J.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(z,J,{keybinding:this._getDefaultActionKeybindingLabel(J)}),this._defaultAction.actionRunner=new class extends v.Wi{runAction(Y,ee){return W(this,void 0,void 0,function*(){yield Y.run(void 0)})}},this._container&&this._defaultAction.render((0,m.Ce)(this._container,(0,m.$)(".action-container")))}_getDefaultActionKeybindingLabel(J){var Y;let ee;if(!((Y=this._options)===null||Y===void 0)&&Y.renderKeybindingWithDefaultActionLabel){const fe=this._keybindingService.lookupKeybinding(J.id);fe&&(ee=`(${fe.getLabel()})`)}return ee}setActionContext(J){super.setActionContext(J),this._defaultAction.setActionContext(J),this._dropdown.setActionContext(J)}render(J){this._container=J,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Y=(0,m.$)(".action-container");this._defaultAction.render((0,m.R3)(this._container,Y)),this._register((0,m.nm)(Y,m.tw.KEY_DOWN,fe=>{const De=new B.y(fe);De.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),De.stopPropagation())}));const ee=(0,m.$)(".dropdown-action-container");this._dropdown.render((0,m.R3)(this._container,ee)),this._register((0,m.nm)(ee,m.tw.KEY_DOWN,fe=>{var De;const Ne=new B.y(fe);Ne.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(De=this._defaultAction.element)===null||De===void 0||De.focus(),Ne.stopPropagation())}))}focus(J){J?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(J){J?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};q=x([T(2,a.d),T(3,C.lT),T(4,g.i),T(5,p.co),T(6,n.TG),T(7,D.Uy)],q);let te=class extends f.Lc{constructor(J,Y){super(null,J,J.actions.map(ee=>({text:ee.id===v.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":ee.label,isDisabled:!ee.enabled})),0,Y,O.BM,{ariaLabel:J.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,J.actions.findIndex(ee=>ee.checked)))}render(J){super.render(J),J.style.borderColor=(0,N.n_1)(N.a9O)}runAction(J,Y){const ee=this.action.actions[Y];ee&&this.actionRunner.run(ee)}};te=x([T(1,g.u)],te);function X(j,J,Y){return J instanceof p.U8?j.createInstance(z,J,Y):J instanceof p.NZ?J.item.isSelection?j.createInstance(te,J):J.item.rememberDefaultAction?j.createInstance(q,J,Y):j.createInstance(k,J,Y):void 0}},21208:function(Ot,He,i){"use strict";i.d(He,{BH:function(){return u},Ke:function(){return L},NZ:function(){return S},U8:function(){return w},co:function(){return C},eH:function(){return a},f6:function(){return n},r1:function(){return N},vr:function(){return g}});var m=i(98299),B=i(8216),f=i(56709),_=i(38431),v=i(17979),A=i(80793),M=i(76826),E=i(44333),R=i(47679),p=function(O,x,T,W){var U=arguments.length,K=U<3?x:W===null?W=Object.getOwnPropertyDescriptor(x,T):W,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(O,x,T,W);else for(var z=O.length-1;z>=0;z--)(G=O[z])&&(K=(U<3?G(K):U>3?G(x,T,K):G(x,T))||K);return U>3&&K&&Object.defineProperty(x,T,K),K},l=function(O,x){return function(T,W){x(T,W,O)}},d=function(O,x){var T={};for(var W in O)Object.prototype.hasOwnProperty.call(O,W)&&x.indexOf(W)<0&&(T[W]=O[W]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,W=Object.getOwnPropertySymbols(O);U<W.length;U++)x.indexOf(W[U])<0&&Object.prototype.propertyIsEnumerable.call(O,W[U])&&(T[W[U]]=O[W[U]]);return T};function g(O){return O.command!==void 0}function n(O){return O.submenu!==void 0}class a{constructor(x){if(a._instances.has(x))throw new TypeError(`MenuId with identifier '${x}' already exists. Use MenuId.for(ident) or a unique identifier`);a._instances.set(x,this),this.id=x}}a._instances=new Map,a.CommandPalette=new a("CommandPalette"),a.DebugBreakpointsContext=new a("DebugBreakpointsContext"),a.DebugCallStackContext=new a("DebugCallStackContext"),a.DebugConsoleContext=new a("DebugConsoleContext"),a.DebugVariablesContext=new a("DebugVariablesContext"),a.DebugWatchContext=new a("DebugWatchContext"),a.DebugToolBar=new a("DebugToolBar"),a.DebugToolBarStop=new a("DebugToolBarStop"),a.EditorContext=new a("EditorContext"),a.SimpleEditorContext=new a("SimpleEditorContext"),a.EditorContent=new a("EditorContent"),a.EditorLineNumberContext=new a("EditorLineNumberContext"),a.EditorContextCopy=new a("EditorContextCopy"),a.EditorContextPeek=new a("EditorContextPeek"),a.EditorContextShare=new a("EditorContextShare"),a.EditorTitle=new a("EditorTitle"),a.EditorTitleRun=new a("EditorTitleRun"),a.EditorTitleContext=new a("EditorTitleContext"),a.EditorTitleContextShare=new a("EditorTitleContextShare"),a.EmptyEditorGroup=new a("EmptyEditorGroup"),a.EmptyEditorGroupContext=new a("EmptyEditorGroupContext"),a.EditorTabsBarContext=new a("EditorTabsBarContext"),a.ExplorerContext=new a("ExplorerContext"),a.ExplorerContextShare=new a("ExplorerContextShare"),a.ExtensionContext=new a("ExtensionContext"),a.GlobalActivity=new a("GlobalActivity"),a.CommandCenter=new a("CommandCenter"),a.LayoutControlMenuSubmenu=new a("LayoutControlMenuSubmenu"),a.LayoutControlMenu=new a("LayoutControlMenu"),a.MenubarMainMenu=new a("MenubarMainMenu"),a.MenubarAppearanceMenu=new a("MenubarAppearanceMenu"),a.MenubarDebugMenu=new a("MenubarDebugMenu"),a.MenubarEditMenu=new a("MenubarEditMenu"),a.MenubarCopy=new a("MenubarCopy"),a.MenubarFileMenu=new a("MenubarFileMenu"),a.MenubarGoMenu=new a("MenubarGoMenu"),a.MenubarHelpMenu=new a("MenubarHelpMenu"),a.MenubarLayoutMenu=new a("MenubarLayoutMenu"),a.MenubarNewBreakpointMenu=new a("MenubarNewBreakpointMenu"),a.PanelAlignmentMenu=new a("PanelAlignmentMenu"),a.PanelPositionMenu=new a("PanelPositionMenu"),a.MenubarPreferencesMenu=new a("MenubarPreferencesMenu"),a.MenubarRecentMenu=new a("MenubarRecentMenu"),a.MenubarSelectionMenu=new a("MenubarSelectionMenu"),a.MenubarShare=new a("MenubarShare"),a.MenubarSwitchEditorMenu=new a("MenubarSwitchEditorMenu"),a.MenubarSwitchGroupMenu=new a("MenubarSwitchGroupMenu"),a.MenubarTerminalMenu=new a("MenubarTerminalMenu"),a.MenubarViewMenu=new a("MenubarViewMenu"),a.MenubarHomeMenu=new a("MenubarHomeMenu"),a.OpenEditorsContext=new a("OpenEditorsContext"),a.ProblemsPanelContext=new a("ProblemsPanelContext"),a.SCMChangeContext=new a("SCMChangeContext"),a.SCMResourceContext=new a("SCMResourceContext"),a.SCMResourceFolderContext=new a("SCMResourceFolderContext"),a.SCMResourceGroupContext=new a("SCMResourceGroupContext"),a.SCMSourceControl=new a("SCMSourceControl"),a.SCMTitle=new a("SCMTitle"),a.SearchContext=new a("SearchContext"),a.SearchActionMenu=new a("SearchActionContext"),a.StatusBarWindowIndicatorMenu=new a("StatusBarWindowIndicatorMenu"),a.StatusBarRemoteIndicatorMenu=new a("StatusBarRemoteIndicatorMenu"),a.StickyScrollContext=new a("StickyScrollContext"),a.TestItem=new a("TestItem"),a.TestItemGutter=new a("TestItemGutter"),a.TestPeekElement=new a("TestPeekElement"),a.TestPeekTitle=new a("TestPeekTitle"),a.TouchBarContext=new a("TouchBarContext"),a.TitleBarContext=new a("TitleBarContext"),a.TitleBarTitleContext=new a("TitleBarTitleContext"),a.TunnelContext=new a("TunnelContext"),a.TunnelPrivacy=new a("TunnelPrivacy"),a.TunnelProtocol=new a("TunnelProtocol"),a.TunnelPortInline=new a("TunnelInline"),a.TunnelTitle=new a("TunnelTitle"),a.TunnelLocalAddressInline=new a("TunnelLocalAddressInline"),a.TunnelOriginInline=new a("TunnelOriginInline"),a.ViewItemContext=new a("ViewItemContext"),a.ViewContainerTitle=new a("ViewContainerTitle"),a.ViewContainerTitleContext=new a("ViewContainerTitleContext"),a.ViewTitle=new a("ViewTitle"),a.ViewTitleContext=new a("ViewTitleContext"),a.CommentEditorActions=new a("CommentEditorActions"),a.CommentThreadTitle=new a("CommentThreadTitle"),a.CommentThreadActions=new a("CommentThreadActions"),a.CommentThreadAdditionalActions=new a("CommentThreadAdditionalActions"),a.CommentThreadTitleContext=new a("CommentThreadTitleContext"),a.CommentThreadCommentContext=new a("CommentThreadCommentContext"),a.CommentTitle=new a("CommentTitle"),a.CommentActions=new a("CommentActions"),a.InteractiveToolbar=new a("InteractiveToolbar"),a.InteractiveCellTitle=new a("InteractiveCellTitle"),a.InteractiveCellDelete=new a("InteractiveCellDelete"),a.InteractiveCellExecute=new a("InteractiveCellExecute"),a.InteractiveInputExecute=new a("InteractiveInputExecute"),a.NotebookToolbar=new a("NotebookToolbar"),a.NotebookCellTitle=new a("NotebookCellTitle"),a.NotebookCellDelete=new a("NotebookCellDelete"),a.NotebookCellInsert=new a("NotebookCellInsert"),a.NotebookCellBetween=new a("NotebookCellBetween"),a.NotebookCellListTop=new a("NotebookCellTop"),a.NotebookCellExecute=new a("NotebookCellExecute"),a.NotebookCellExecutePrimary=new a("NotebookCellExecutePrimary"),a.NotebookDiffCellInputTitle=new a("NotebookDiffCellInputTitle"),a.NotebookDiffCellMetadataTitle=new a("NotebookDiffCellMetadataTitle"),a.NotebookDiffCellOutputsTitle=new a("NotebookDiffCellOutputsTitle"),a.NotebookOutputToolbar=new a("NotebookOutputToolbar"),a.NotebookEditorLayoutConfigure=new a("NotebookEditorLayoutConfigure"),a.NotebookKernelSource=new a("NotebookKernelSource"),a.BulkEditTitle=new a("BulkEditTitle"),a.BulkEditContext=new a("BulkEditContext"),a.TimelineItemContext=new a("TimelineItemContext"),a.TimelineTitle=new a("TimelineTitle"),a.TimelineTitleContext=new a("TimelineTitleContext"),a.TimelineFilterSubMenu=new a("TimelineFilterSubMenu"),a.AccountsContext=new a("AccountsContext"),a.PanelTitle=new a("PanelTitle"),a.AuxiliaryBarTitle=new a("AuxiliaryBarTitle"),a.TerminalInstanceContext=new a("TerminalInstanceContext"),a.TerminalEditorInstanceContext=new a("TerminalEditorInstanceContext"),a.TerminalNewDropdownContext=new a("TerminalNewDropdownContext"),a.TerminalTabContext=new a("TerminalTabContext"),a.TerminalTabEmptyAreaContext=new a("TerminalTabEmptyAreaContext"),a.TerminalInlineTabContext=new a("TerminalInlineTabContext"),a.WebviewContext=new a("WebviewContext"),a.InlineCompletionsActions=new a("InlineCompletionsActions"),a.NewFile=new a("NewFile"),a.MergeInput1Toolbar=new a("MergeToolbar1Toolbar"),a.MergeInput2Toolbar=new a("MergeToolbar2Toolbar"),a.MergeBaseToolbar=new a("MergeBaseToolbar"),a.MergeInputResultToolbar=new a("MergeToolbarResultToolbar"),a.InlineSuggestionToolbar=new a("InlineSuggestionToolbar"),a.InteractiveSessionContext=new a("InteractiveSessionContext"),a.InteractiveSessionCodeBlock=new a("InteractiveSessionCodeblock"),a.InteractiveSessionTitle=new a("InteractiveSessionTitle"),a.InteractiveSessionExecute=new a("InteractiveSessionExecute");const C=(0,E.yh)("menuService");class D{static for(x){let T=this._all.get(x);return T||(T=new D(x),this._all.set(x,T)),T}static merge(x){const T=new Set;for(const W of x)W instanceof D&&T.add(W.id);return T}constructor(x){this.id=x,this.has=T=>T===x}}D._all=new Map;const u=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new f.SZ({merge:D.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(O){return this._commands.set(O.id,O),this._onDidChangeMenu.fire(D.for(a.CommandPalette)),(0,_.OF)(()=>{this._commands.delete(O.id)&&this._onDidChangeMenu.fire(D.for(a.CommandPalette))})}getCommand(O){return this._commands.get(O)}getCommands(){const O=new Map;return this._commands.forEach((x,T)=>O.set(T,x)),O}appendMenuItem(O,x){let T=this._menuItems.get(O);T||(T=new v.S,this._menuItems.set(O,T));const W=T.push(x);return this._onDidChangeMenu.fire(D.for(O)),(0,_.OF)(W)}appendMenuItems(O){const x=new _.SL;for(const{id:T,item:W}of O)x.add(this.appendMenuItem(T,W));return x}getMenuItems(O){let x;return this._menuItems.has(O)?x=[...this._menuItems.get(O)]:x=[],O===a.CommandPalette&&this._appendImplicitItems(x),x}_appendImplicitItems(O){const x=new Set;for(const T of O)g(T)&&(x.add(T.command.id),T.alt&&x.add(T.alt.id));this._commands.forEach((T,W)=>{x.has(W)||O.push({command:T})})}};class S extends m.wY{constructor(x,T,W){super(`submenuitem.${x.submenu.id}`,typeof x.title=="string"?x.title:x.title.value,W,"submenu"),this.item=x,this.hideActions=T}}let w=class $u{static label(x,T){return T!=null&&T.renderShortTitle&&x.shortTitle?typeof x.shortTitle=="string"?x.shortTitle:x.shortTitle.value:typeof x.title=="string"?x.title:x.title.value}constructor(x,T,W,U,K,G){var z,k;this.hideActions=U,this._commandService=G,this.id=x.id,this.label=$u.label(x,W),this.tooltip=(k=typeof x.tooltip=="string"?x.tooltip:(z=x.tooltip)===null||z===void 0?void 0:z.value)!==null&&k!==void 0?k:"",this.enabled=!x.precondition||K.contextMatchesRules(x.precondition),this.checked=void 0;let q;if(x.toggled){const te=x.toggled.condition?x.toggled:{condition:x.toggled};this.checked=K.contextMatchesRules(te.condition),this.checked&&te.tooltip&&(this.tooltip=typeof te.tooltip=="string"?te.tooltip:te.tooltip.value),this.checked&&B.k.isThemeIcon(te.icon)&&(q=te.icon),te.title&&(this.label=typeof te.title=="string"?te.title:te.title.value)}q||(q=B.k.isThemeIcon(x.icon)?x.icon:void 0),this.item=x,this.alt=T?new $u(T,void 0,W,U,K,G):void 0,this._options=W,this.class=q&&B.k.asClassName(q)}run(...x){var T,W;let U=[];return!((T=this._options)===null||T===void 0)&&T.arg&&(U=[...U,this._options.arg]),!((W=this._options)===null||W===void 0)&&W.shouldForwardArgs&&(U=[...U,...x]),this._commandService.executeCommand(this.id,...U)}};w=p([l(4,M.i6),l(5,A.H)],w);class L{constructor(x){this.desc=x}}function N(O){const x=new _.SL,T=new O,W=T.desc,{f1:U,menu:K,keybinding:G,description:z}=W,k=d(W,["f1","menu","keybinding","description"]);if(x.add(A.P.registerCommand({id:k.id,handler:(q,...te)=>T.run(q,...te),description:z})),Array.isArray(K))for(const q of K)x.add(u.appendMenuItem(q.id,Object.assign({command:Object.assign(Object.assign({},k),{precondition:q.precondition===null?void 0:k.precondition})},q)));else K&&x.add(u.appendMenuItem(K.id,Object.assign({command:Object.assign(Object.assign({},k),{precondition:K.precondition===null?void 0:k.precondition})},K)));if(U&&(x.add(u.appendMenuItem(a.CommandPalette,{command:k,when:k.precondition})),x.add(u.addCommand(k))),Array.isArray(G))for(const q of G)x.add(R.W.registerKeybindingRule(Object.assign(Object.assign({},q),{id:k.id,when:k.precondition?M.Ao.and(k.precondition,q.when):q.when})));else G&&x.add(R.W.registerKeybindingRule(Object.assign(Object.assign({},G),{id:k.id,when:k.precondition?M.Ao.and(k.precondition,G.when):G.when})));return x}},87655:function(Ot,He,i){"use strict";i.d(He,{e7:function(){return f},y$:function(){return v}});var m=i(44333),B=i(26386);const f=(0,m.yh)("audioCue");class _{static register(M){return new _(M.fileName)}constructor(M){this.fileName=M}}_.error=_.register({fileName:"error.mp3"}),_.warning=_.register({fileName:"warning.mp3"}),_.foldedArea=_.register({fileName:"foldedAreas.mp3"}),_.break=_.register({fileName:"break.mp3"}),_.quickFixes=_.register({fileName:"quickFixes.mp3"}),_.taskCompleted=_.register({fileName:"taskCompleted.mp3"}),_.taskFailed=_.register({fileName:"taskFailed.mp3"}),_.terminalBell=_.register({fileName:"terminalBell.mp3"}),_.diffLineInserted=_.register({fileName:"diffLineInserted.mp3"}),_.diffLineDeleted=_.register({fileName:"diffLineDeleted.mp3"}),_.diffLineModified=_.register({fileName:"diffLineModified.mp3"});class v{static register(M){const E=new v(M.sound,M.name,M.settingsKey);return v._audioCues.add(E),E}constructor(M,E,R){this.sound=M,this.name=E,this.settingsKey=R}}v._audioCues=new Set,v.error=v.register({name:(0,B.NC)("audioCues.lineHasError.name","Error on Line"),sound:_.error,settingsKey:"audioCues.lineHasError"}),v.warning=v.register({name:(0,B.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:_.warning,settingsKey:"audioCues.lineHasWarning"}),v.foldedArea=v.register({name:(0,B.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:_.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),v.break=v.register({name:(0,B.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:_.break,settingsKey:"audioCues.lineHasBreakpoint"}),v.inlineSuggestion=v.register({name:(0,B.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:_.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),v.terminalQuickFix=v.register({name:(0,B.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:_.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),v.onDebugBreak=v.register({name:(0,B.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:_.break,settingsKey:"audioCues.onDebugBreak"}),v.noInlayHints=v.register({name:(0,B.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:_.error,settingsKey:"audioCues.noInlayHints"}),v.taskCompleted=v.register({name:(0,B.NC)("audioCues.taskCompleted","Task Completed"),sound:_.taskCompleted,settingsKey:"audioCues.taskCompleted"}),v.taskFailed=v.register({name:(0,B.NC)("audioCues.taskFailed","Task Failed"),sound:_.taskFailed,settingsKey:"audioCues.taskFailed"}),v.terminalCommandFailed=v.register({name:(0,B.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:_.error,settingsKey:"audioCues.terminalCommandFailed"}),v.terminalBell=v.register({name:(0,B.NC)("audioCues.terminalBell","Terminal Bell"),sound:_.terminalBell,settingsKey:"audioCues.terminalBell"}),v.notebookCellCompleted=v.register({name:(0,B.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:_.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),v.notebookCellFailed=v.register({name:(0,B.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:_.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),v.diffLineInserted=v.register({name:(0,B.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:_.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),v.diffLineDeleted=v.register({name:(0,B.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:_.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),v.diffLineModified=v.register({name:(0,B.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:_.diffLineModified,settingsKey:"audioCues.diffLineModified"})},51941:function(Ot,He,i){"use strict";i.d(He,{p:function(){return B}});var m=i(44333);const B=(0,m.yh)("clipboardService")},80793:function(Ot,He,i){"use strict";i.d(He,{H:function(){return M},P:function(){return E}});var m=i(56709),B=i(97865),f=i(38431),_=i(17979),v=i(14818),A=i(44333);const M=(0,A.yh)("commandService"),E=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new m.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(R,p){if(!R)throw new Error("invalid command");if(typeof R=="string"){if(!p)throw new Error("invalid command");return this.registerCommand({id:R,handler:p})}if(R.description){const a=[];for(const D of R.description.args)a.push(D.constraint);const C=R.handler;R.handler=function(D,...u){return(0,v.D8)(u,a),C(D,...u)}}const{id:l}=R;let d=this._commands.get(l);d||(d=new _.S,this._commands.set(l,d));const g=d.unshift(R),n=(0,f.OF)(()=>{g();const a=this._commands.get(l);a!=null&&a.isEmpty()&&this._commands.delete(l)});return this._onDidRegisterCommand.fire(l),n}registerCommandAlias(R,p){return E.registerCommand(R,(l,...d)=>l.get(M).executeCommand(p,...d))}getCommand(R){const p=this._commands.get(R);if(!(!p||p.isEmpty()))return B.$.first(p)}getCommands(){const R=new Map;for(const p of this._commands.keys()){const l=this.getCommand(p);l&&R.set(p,l)}return R}};E.registerCommand("noop",()=>{})},71177:function(Ot,He,i){"use strict";i.d(He,{KV:function(){return _},Mt:function(){return M},Od:function(){return f},UI:function(){return E},Ui:function(){return B},xL:function(){return v}});var m=i(44333);const B=(0,m.yh)("configurationService");function f(R,p){const l=Object.create(null);for(const d in R)_(l,d,R[d],p);return l}function _(R,p,l,d){const g=p.split("."),n=g.pop();let a=R;for(let C=0;C<g.length;C++){const D=g[C];let u=a[D];switch(typeof u){case"undefined":u=a[D]=Object.create(null);break;case"object":break;default:d(`Ignoring ${p} as ${g.slice(0,C+1).join(".")} is ${JSON.stringify(u)}`);return}a=u}if(typeof a=="object"&&a!==null)try{a[n]=l}catch(C){d(`Ignoring ${p} as ${g.join(".")} is ${JSON.stringify(a)}`)}else d(`Ignoring ${p} as ${g.join(".")} is ${JSON.stringify(a)}`)}function v(R,p){const l=p.split(".");A(R,l)}function A(R,p){const l=p.shift();if(p.length===0){delete R[l];return}if(Object.keys(R).indexOf(l)!==-1){const d=R[l];typeof d=="object"&&!Array.isArray(d)&&(A(d,p),Object.keys(d).length===0&&delete R[l])}}function M(R,p,l){function d(a,C){let D=a;for(const u of C){if(typeof D!="object"||D===null)return;D=D[u]}return D}const g=p.split("."),n=d(R,g);return typeof n=="undefined"?l:n}function E(R){return R.replace(/[\[\]]/g,"")}},12326:function(Ot,He,i){"use strict";i.d(He,{IP:function(){return E},eU:function(){return L},ny:function(){return N}});var m=i(16308),B=i(56709),f=i(14818),_=i(26386),v=i(71177),A=i(82123),M=i(6325);const E={Configuration:"base.contributions.configuration"},R={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},l={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},n={properties:{},patternProperties:{}},a="vscode://schemas/settings/resourceLanguage",C=M.B.as(A.I.JSONContribution);class D{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new B.Q5,this._onDidUpdateConfiguration=new B.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:_.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},C.registerSchema(a,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(U,K=!0){this.registerConfigurations([U],K)}registerConfigurations(U,K=!0){const G=new Set;this.doRegisterConfigurations(U,K,G),C.registerSchema(a,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:G})}registerDefaultConfigurations(U){const K=new Set;this.doRegisterDefaultConfigurations(U,K),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:K,defaultsOverrides:!0})}doRegisterDefaultConfigurations(U,K){var G;const z=[];for(const{overrides:k,source:q}of U)for(const te in k)if(K.add(te),L.test(te)){const X=this.configurationDefaultsOverrides.get(te),j=(G=X==null?void 0:X.valuesSources)!==null&&G!==void 0?G:new Map;if(q)for(const fe of Object.keys(k[te]))j.set(fe,q);const J=Object.assign(Object.assign({},(X==null?void 0:X.value)||{}),k[te]);this.configurationDefaultsOverrides.set(te,{source:q,value:J,valuesSources:j});const Y=(0,v.UI)(te),ee={type:"object",default:J,description:_.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Y),$ref:a,defaultDefaultValue:J,source:f.HD(q)?void 0:q,defaultValueSource:q};z.push(...N(te)),this.configurationProperties[te]=ee,this.defaultLanguageConfigurationOverridesNode.properties[te]=ee}else{this.configurationDefaultsOverrides.set(te,{value:k[te],source:q});const X=this.configurationProperties[te];X&&(this.updatePropertyDefaultValue(te,X),this.updateSchema(te,X))}this.doRegisterOverrideIdentifiers(z)}registerOverrideIdentifiers(U){this.doRegisterOverrideIdentifiers(U),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(U){for(const K of U)this.overrideIdentifiers.add(K);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(U,K,G){U.forEach(z=>{this.validateAndRegisterProperties(z,K,z.extensionInfo,z.restrictedProperties,void 0,G),this.configurationContributors.push(z),this.registerJSONConfiguration(z)})}validateAndRegisterProperties(U,K=!0,G,z,k=3,q){var te;k=f.Jp(U.scope)?k:U.scope;const X=U.properties;if(X)for(const J in X){const Y=X[J];if(K&&T(J,Y)){delete X[J];continue}if(Y.source=G,Y.defaultDefaultValue=X[J].default,this.updatePropertyDefaultValue(J,Y),L.test(J)?Y.scope=void 0:(Y.scope=f.Jp(Y.scope)?k:Y.scope,Y.restricted=f.Jp(Y.restricted)?!!(z!=null&&z.includes(J)):Y.restricted),X[J].hasOwnProperty("included")&&!X[J].included){this.excludedConfigurationProperties[J]=X[J],delete X[J];continue}else this.configurationProperties[J]=X[J],!((te=X[J].policy)===null||te===void 0)&&te.name&&this.policyConfigurations.set(X[J].policy.name,J);!X[J].deprecationMessage&&X[J].markdownDeprecationMessage&&(X[J].deprecationMessage=X[J].markdownDeprecationMessage),q.add(J)}const j=U.allOf;if(j)for(const J of j)this.validateAndRegisterProperties(J,K,G,z,k,q)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(U){const K=G=>{const z=G.properties;if(z)for(const q in z)this.updateSchema(q,z[q]);const k=G.allOf;k==null||k.forEach(K)};K(U)}updateSchema(U,K){switch(R.properties[U]=K,K.scope){case 1:p.properties[U]=K;break;case 2:l.properties[U]=K;break;case 6:d.properties[U]=K;break;case 3:g.properties[U]=K;break;case 4:n.properties[U]=K;break;case 5:n.properties[U]=K,this.resourceLanguageSettingsSchema.properties[U]=K;break}}updateOverridePropertyPatternKey(){for(const U of this.overrideIdentifiers.values()){const K=`[${U}]`,G={type:"object",description:_.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};this.updatePropertyDefaultValue(K,G),R.properties[K]=G,p.properties[K]=G,l.properties[K]=G,d.properties[K]=G,g.properties[K]=G,n.properties[K]=G}}registerOverridePropertyPatternKey(){const U={type:"object",description:_.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};R.patternProperties[w]=U,p.patternProperties[w]=U,l.patternProperties[w]=U,d.patternProperties[w]=U,g.patternProperties[w]=U,n.patternProperties[w]=U,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(U,K){const G=this.configurationDefaultsOverrides.get(U);let z=G==null?void 0:G.value,k=G==null?void 0:G.source;f.o8(z)&&(z=K.defaultDefaultValue,k=void 0),f.o8(z)&&(z=O(K.type)),K.default=z,K.defaultValueSource=k}}const u="\\[([^\\]]+)\\]",S=new RegExp(u,"g"),w=`^(${u})+$`,L=new RegExp(w);function N(W){const U=[];if(L.test(W)){let K=S.exec(W);for(;K!=null&&K.length;){const G=K[1].trim();G&&U.push(G),K=S.exec(W)}}return(0,m.EB)(U)}function O(W){switch(Array.isArray(W)?W[0]:W){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const x=new D;M.B.add(E.Configuration,x);function T(W,U){var K,G,z,k;return W.trim()?L.test(W)?_.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",W):x.getConfigurationProperties()[W]!==void 0?_.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",W):!((K=U.policy)===null||K===void 0)&&K.name&&x.getPolicyConfigurations().get((G=U.policy)===null||G===void 0?void 0:G.name)!==void 0?_.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",W,(z=U.policy)===null||z===void 0?void 0:z.name,x.getPolicyConfigurations().get((k=U.policy)===null||k===void 0?void 0:k.name)):null:_.NC("config.property.empty","Cannot register an empty property")}},76826:function(Ot,He,i){"use strict";i.d(He,{Ao:function(){return N},i6:function(){return Le},uy:function(){return xe},Fb:function(){return O},K8:function(){return _e}});var m=i(11138),B=i(17416),f=i(20996),_=i(26386);function v(...Re){switch(Re.length){case 1:return(0,_.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",Re[0]);case 2:return(0,_.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",Re[0],Re[1]);case 3:return(0,_.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",Re[0],Re[1],Re[2]);default:return}}const A=(0,_.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),M=(0,_.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class E{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(ie){switch(ie.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return ie.isTripleEq?"===":"==";case 4:return ie.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return ie.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return ie.lexeme;case 18:return ie.lexeme;case 19:return ie.lexeme;case 20:return"EOF";default:throw(0,f.L6)(`unhandled token type: ${JSON.stringify(ie)}; have you forgotten to add a case?`)}}reset(ie){return this._input=ie,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const Z=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:Z})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const Z=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:Z})}else this._match(126)?this._addToken(9):this._error(v("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(v("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(v("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(ie){return this._isAtEnd()||this._input.charCodeAt(this._current)!==ie?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(ie){this._tokens.push({type:ie,offset:this._start})}_error(ie){const Z=this._start,se=this._input.substring(this._start,this._current),ve={type:19,offset:this._start,lexeme:se};this._errors.push({offset:Z,lexeme:se,additionalInfo:ie}),this._tokens.push(ve)}_string(){this.stringRe.lastIndex=this._start;const ie=this.stringRe.exec(this._input);if(ie){this._current=this._start+ie[0].length;const Z=this._input.substring(this._start,this._current),se=E._keywords.get(Z);se?this._addToken(se):this._tokens.push({type:17,lexeme:Z,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(A);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let ie=this._current,Z=!1,se=!1;for(;;){if(ie>=this._input.length){this._current=ie,this._error(M);return}const he=this._input.charCodeAt(ie);if(Z)Z=!1;else if(he===47&&!se){ie++;break}else he===91?se=!0:he===92?Z=!0:he===93&&(se=!1);ie++}for(;ie<this._input.length&&E._regexFlags.has(this._input.charCodeAt(ie));)ie++;this._current=ie;const ve=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:ve,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}E._regexFlags=new Set(["i","g","s","m","y","u"].map(Re=>Re.charCodeAt(0))),E._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var R=i(44333);const p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",m.dz),p.set("isLinux",m.IJ),p.set("isWindows",m.ED),p.set("isWeb",m.$L),p.set("isMacNative",m.dz&&!m.$L),p.set("isEdge",m.un),p.set("isFirefox",m.vU),p.set("isChrome",m.i7),p.set("isSafari",m.G6);const l=Object.prototype.hasOwnProperty,d={regexParsingWithErrorRecovery:!0},g=(0,_.NC)("contextkey.parser.error.emptyString","Empty context key expression"),n=(0,_.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),a=(0,_.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),C=(0,_.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),D=(0,_.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),u=(0,_.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),S=(0,_.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),w=(0,_.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class L{constructor(ie=d){this._config=ie,this._scanner=new E,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(ie){if(ie===""){this._parsingErrors.push({message:g,offset:0,lexeme:"",additionalInfo:n});return}this._tokens=this._scanner.reset(ie).scan(),this._current=0,this._parsingErrors=[];try{const Z=this._expr();if(!this._isAtEnd()){const se=this._peek(),ve=se.type===17?u:void 0;throw this._parsingErrors.push({message:D,offset:se.offset,lexeme:E.getLexeme(se),additionalInfo:ve}),L._parseError}return Z}catch(Z){if(Z!==L._parseError)throw Z;return}}_expr(){return this._or()}_or(){const ie=[this._and()];for(;this._matchOne(16);){const Z=this._and();ie.push(Z)}return ie.length===1?ie[0]:N.or(...ie)}_and(){const ie=[this._term()];for(;this._matchOne(15);){const Z=this._term();ie.push(Z)}return ie.length===1?ie[0]:N.and(...ie)}_term(){if(this._matchOne(2)){const ie=this._peek();switch(ie.type){case 11:return this._advance(),T.INSTANCE;case 12:return this._advance(),W.INSTANCE;case 0:{this._advance();const Z=this._expr();return this._consume(1,C),Z==null?void 0:Z.negate()}case 17:return this._advance(),q.create(ie.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",ie)}}return this._primary()}_primary(){const ie=this._peek();switch(ie.type){case 11:return this._advance(),N.true();case 12:return this._advance(),N.false();case 0:{this._advance();const Z=this._expr();return this._consume(1,C),Z}case 17:{const Z=ie.lexeme;if(this._advance(),this._matchOne(9)){const ve=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),ve.type!==10)throw this._errExpectedButGot("REGEX",ve);const he=ve.lexeme,ce=he.lastIndexOf("/"),Ee=ce===he.length-1?void 0:this._removeFlagsGY(he.substring(ce+1));let We;try{We=new RegExp(he.substring(1,ce),Ee)}catch(it){throw this._errExpectedButGot("REGEX",ve)}return ee.create(Z,We)}switch(ve.type){case 10:case 19:{const he=[ve.lexeme];this._advance();let ce=this._peek(),Ee=0;for(let Te=0;Te<ve.lexeme.length;Te++)ve.lexeme.charCodeAt(Te)===40?Ee++:ve.lexeme.charCodeAt(Te)===41&&Ee--;for(;!this._isAtEnd()&&ce.type!==15&&ce.type!==16;){switch(ce.type){case 0:Ee++;break;case 1:Ee--;break;case 10:case 18:for(let Te=0;Te<ce.lexeme.length;Te++)ce.lexeme.charCodeAt(Te)===40?Ee++:ve.lexeme.charCodeAt(Te)===41&&Ee--}if(Ee<0)break;he.push(E.getLexeme(ce)),this._advance(),ce=this._peek()}const We=he.join(""),it=We.lastIndexOf("/"),Ze=it===We.length-1?void 0:this._removeFlagsGY(We.substring(it+1));let je;try{je=new RegExp(We.substring(1,it),Ze)}catch(Te){throw this._errExpectedButGot("REGEX",ve)}return N.regex(Z,je)}case 18:{const he=ve.lexeme;this._advance();let ce=null;if(!(0,B.m5)(he)){const Ee=he.indexOf("/"),We=he.lastIndexOf("/");if(Ee!==We&&Ee>=0){const it=he.slice(Ee+1,We),Ze=he[We+1]==="i"?"i":"";try{ce=new RegExp(it,Ze)}catch(je){throw this._errExpectedButGot("REGEX",ve)}}}if(ce===null)throw this._errExpectedButGot("REGEX",ve);return ee.create(Z,ce)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,a);const ve=this._value();return N.notIn(Z,ve)}switch(this._peek().type){case 3:{this._advance();const ve=this._value();if(this._previous().type===18)return N.equals(Z,ve);switch(ve){case"true":return N.has(Z);case"false":return N.not(Z);default:return N.equals(Z,ve)}}case 4:{this._advance();const ve=this._value();if(this._previous().type===18)return N.notEquals(Z,ve);switch(ve){case"true":return N.not(Z);case"false":return N.has(Z);default:return N.notEquals(Z,ve)}}case 5:return this._advance(),J.create(Z,this._value());case 6:return this._advance(),Y.create(Z,this._value());case 7:return this._advance(),X.create(Z,this._value());case 8:return this._advance(),j.create(Z,this._value());case 13:return this._advance(),N.in(Z,this._value());default:return N.has(Z)}}case 20:throw this._parsingErrors.push({message:S,offset:ie.offset,lexeme:"",additionalInfo:w}),L._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const ie=this._peek();switch(ie.type){case 17:case 18:return this._advance(),ie.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(ie){return ie.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(ie){return this._check(ie)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(ie,Z){if(this._check(ie))return this._advance();throw this._errExpectedButGot(Z,this._peek())}_errExpectedButGot(ie,Z,se){const ve=(0,_.NC)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,ie,E.getLexeme(Z)),he=Z.offset,ce=E.getLexeme(Z);return this._parsingErrors.push({message:ve,offset:he,lexeme:ce,additionalInfo:se}),L._parseError}_check(ie){return this._peek().type===ie}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}L._parseError=new Error;class N{static false(){return T.INSTANCE}static true(){return W.INSTANCE}static has(ie){return U.create(ie)}static equals(ie,Z){return K.create(ie,Z)}static notEquals(ie,Z){return k.create(ie,Z)}static regex(ie,Z){return ee.create(ie,Z)}static in(ie,Z){return G.create(ie,Z)}static notIn(ie,Z){return z.create(ie,Z)}static not(ie){return q.create(ie)}static and(...ie){return Ne.create(ie,null,!0)}static or(...ie){return be.create(ie,null,!0)}static deserialize(ie){return ie==null?void 0:this._parser.parse(ie)}}N._parser=new L({regexParsingWithErrorRecovery:!1});function O(Re,ie){const Z=Re?Re.substituteConstants():void 0,se=ie?ie.substituteConstants():void 0;return!Z&&!se?!0:!Z||!se?!1:Z.equals(se)}function x(Re,ie){return Re.cmp(ie)}class T{constructor(){this.type=0}cmp(ie){return this.type-ie.type}equals(ie){return ie.type===this.type}substituteConstants(){return this}evaluate(ie){return!1}serialize(){return"false"}keys(){return[]}negate(){return W.INSTANCE}}T.INSTANCE=new T;class W{constructor(){this.type=1}cmp(ie){return this.type-ie.type}equals(ie){return ie.type===this.type}substituteConstants(){return this}evaluate(ie){return!0}serialize(){return"true"}keys(){return[]}negate(){return T.INSTANCE}}W.INSTANCE=new W;class U{static create(ie,Z=null){const se=p.get(ie);return typeof se=="boolean"?se?W.INSTANCE:T.INSTANCE:new U(ie,Z)}constructor(ie,Z){this.key=ie,this.negated=Z,this.type=2}cmp(ie){return ie.type!==this.type?this.type-ie.type:ue(this.key,ie.key)}equals(ie){return ie.type===this.type?this.key===ie.key:!1}substituteConstants(){const ie=p.get(this.key);return typeof ie=="boolean"?ie?W.INSTANCE:T.INSTANCE:this}evaluate(ie){return!!ie.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=q.create(this.key,this)),this.negated}}class K{static create(ie,Z,se=null){if(typeof Z=="boolean")return Z?U.create(ie,se):q.create(ie,se);const ve=p.get(ie);return typeof ve=="boolean"?Z===(ve?"true":"false")?W.INSTANCE:T.INSTANCE:new K(ie,Z,se)}constructor(ie,Z,se){this.key=ie,this.value=Z,this.negated=se,this.type=4}cmp(ie){return ie.type!==this.type?this.type-ie.type:re(this.key,this.value,ie.key,ie.value)}equals(ie){return ie.type===this.type?this.key===ie.key&&this.value===ie.value:!1}substituteConstants(){const ie=p.get(this.key);if(typeof ie=="boolean"){const Z=ie?"true":"false";return this.value===Z?W.INSTANCE:T.INSTANCE}return this}evaluate(ie){return ie.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=k.create(this.key,this.value,this)),this.negated}}class G{static create(ie,Z){return new G(ie,Z)}constructor(ie,Z){this.key=ie,this.valueKey=Z,this.type=10,this.negated=null}cmp(ie){return ie.type!==this.type?this.type-ie.type:re(this.key,this.valueKey,ie.key,ie.valueKey)}equals(ie){return ie.type===this.type?this.key===ie.key&&this.valueKey===ie.valueKey:!1}substituteConstants(){return this}evaluate(ie){const Z=ie.getValue(this.valueKey),se=ie.getValue(this.key);return Array.isArray(Z)?Z.includes(se):typeof se=="string"&&typeof Z=="object"&&Z!==null?l.call(Z,se):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=z.create(this.key,this.valueKey)),this.negated}}class z{static create(ie,Z){return new z(ie,Z)}constructor(ie,Z){this.key=ie,this.valueKey=Z,this.type=11,this._negated=G.create(ie,Z)}cmp(ie){return ie.type!==this.type?this.type-ie.type:this._negated.cmp(ie._negated)}equals(ie){return ie.type===this.type?this._negated.equals(ie._negated):!1}substituteConstants(){return this}evaluate(ie){return!this._negated.evaluate(ie)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class k{static create(ie,Z,se=null){if(typeof Z=="boolean")return Z?q.create(ie,se):U.create(ie,se);const ve=p.get(ie);return typeof ve=="boolean"?Z===(ve?"true":"false")?T.INSTANCE:W.INSTANCE:new k(ie,Z,se)}constructor(ie,Z,se){this.key=ie,this.value=Z,this.negated=se,this.type=5}cmp(ie){return ie.type!==this.type?this.type-ie.type:re(this.key,this.value,ie.key,ie.value)}equals(ie){return ie.type===this.type?this.key===ie.key&&this.value===ie.value:!1}substituteConstants(){const ie=p.get(this.key);if(typeof ie=="boolean"){const Z=ie?"true":"false";return this.value===Z?T.INSTANCE:W.INSTANCE}return this}evaluate(ie){return ie.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this.key,this.value,this)),this.negated}}class q{static create(ie,Z=null){const se=p.get(ie);return typeof se=="boolean"?se?T.INSTANCE:W.INSTANCE:new q(ie,Z)}constructor(ie,Z){this.key=ie,this.negated=Z,this.type=3}cmp(ie){return ie.type!==this.type?this.type-ie.type:ue(this.key,ie.key)}equals(ie){return ie.type===this.type?this.key===ie.key:!1}substituteConstants(){const ie=p.get(this.key);return typeof ie=="boolean"?ie?T.INSTANCE:W.INSTANCE:this}evaluate(ie){return!ie.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=U.create(this.key,this)),this.negated}}function te(Re,ie){if(typeof Re=="string"){const Z=parseFloat(Re);isNaN(Z)||(Re=Z)}return typeof Re=="string"||typeof Re=="number"?ie(Re):T.INSTANCE}class X{static create(ie,Z,se=null){return te(Z,ve=>new X(ie,ve,se))}constructor(ie,Z,se){this.key=ie,this.value=Z,this.negated=se,this.type=12}cmp(ie){return ie.type!==this.type?this.type-ie.type:re(this.key,this.value,ie.key,ie.value)}equals(ie){return ie.type===this.type?this.key===ie.key&&this.value===ie.value:!1}substituteConstants(){return this}evaluate(ie){return typeof this.value=="string"?!1:parseFloat(ie.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Y.create(this.key,this.value,this)),this.negated}}class j{static create(ie,Z,se=null){return te(Z,ve=>new j(ie,ve,se))}constructor(ie,Z,se){this.key=ie,this.value=Z,this.negated=se,this.type=13}cmp(ie){return ie.type!==this.type?this.type-ie.type:re(this.key,this.value,ie.key,ie.value)}equals(ie){return ie.type===this.type?this.key===ie.key&&this.value===ie.value:!1}substituteConstants(){return this}evaluate(ie){return typeof this.value=="string"?!1:parseFloat(ie.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=J.create(this.key,this.value,this)),this.negated}}class J{static create(ie,Z,se=null){return te(Z,ve=>new J(ie,ve,se))}constructor(ie,Z,se){this.key=ie,this.value=Z,this.negated=se,this.type=14}cmp(ie){return ie.type!==this.type?this.type-ie.type:re(this.key,this.value,ie.key,ie.value)}equals(ie){return ie.type===this.type?this.key===ie.key&&this.value===ie.value:!1}substituteConstants(){return this}evaluate(ie){return typeof this.value=="string"?!1:parseFloat(ie.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=j.create(this.key,this.value,this)),this.negated}}class Y{static create(ie,Z,se=null){return te(Z,ve=>new Y(ie,ve,se))}constructor(ie,Z,se){this.key=ie,this.value=Z,this.negated=se,this.type=15}cmp(ie){return ie.type!==this.type?this.type-ie.type:re(this.key,this.value,ie.key,ie.value)}equals(ie){return ie.type===this.type?this.key===ie.key&&this.value===ie.value:!1}substituteConstants(){return this}evaluate(ie){return typeof this.value=="string"?!1:parseFloat(ie.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=X.create(this.key,this.value,this)),this.negated}}class ee{static create(ie,Z){return new ee(ie,Z)}constructor(ie,Z){this.key=ie,this.regexp=Z,this.type=7,this.negated=null}cmp(ie){if(ie.type!==this.type)return this.type-ie.type;if(this.key<ie.key)return-1;if(this.key>ie.key)return 1;const Z=this.regexp?this.regexp.source:"",se=ie.regexp?ie.regexp.source:"";return Z<se?-1:Z>se?1:0}equals(ie){if(ie.type===this.type){const Z=this.regexp?this.regexp.source:"",se=ie.regexp?ie.regexp.source:"";return this.key===ie.key&&Z===se}return!1}substituteConstants(){return this}evaluate(ie){const Z=ie.getValue(this.key);return this.regexp?this.regexp.test(Z):!1}serialize(){const ie=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${ie}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=fe.create(this)),this.negated}}class fe{static create(ie){return new fe(ie)}constructor(ie){this._actual=ie,this.type=8}cmp(ie){return ie.type!==this.type?this.type-ie.type:this._actual.cmp(ie._actual)}equals(ie){return ie.type===this.type?this._actual.equals(ie._actual):!1}substituteConstants(){return this}evaluate(ie){return!this._actual.evaluate(ie)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function De(Re){let ie=null;for(let Z=0,se=Re.length;Z<se;Z++){const ve=Re[Z].substituteConstants();if(Re[Z]!==ve&&ie===null){ie=[];for(let he=0;he<Z;he++)ie[he]=Re[he]}ie!==null&&(ie[Z]=ve)}return ie===null?Re:ie}class Ne{static create(ie,Z,se){return Ne._normalizeArr(ie,Z,se)}constructor(ie,Z){this.expr=ie,this.negated=Z,this.type=6}cmp(ie){if(ie.type!==this.type)return this.type-ie.type;if(this.expr.length<ie.expr.length)return-1;if(this.expr.length>ie.expr.length)return 1;for(let Z=0,se=this.expr.length;Z<se;Z++){const ve=x(this.expr[Z],ie.expr[Z]);if(ve!==0)return ve}return 0}equals(ie){if(ie.type===this.type){if(this.expr.length!==ie.expr.length)return!1;for(let Z=0,se=this.expr.length;Z<se;Z++)if(!this.expr[Z].equals(ie.expr[Z]))return!1;return!0}return!1}substituteConstants(){const ie=De(this.expr);return ie===this.expr?this:Ne.create(ie,this.negated,!1)}evaluate(ie){for(let Z=0,se=this.expr.length;Z<se;Z++)if(!this.expr[Z].evaluate(ie))return!1;return!0}static _normalizeArr(ie,Z,se){const ve=[];let he=!1;for(const ce of ie)if(ce){if(ce.type===1){he=!0;continue}if(ce.type===0)return T.INSTANCE;if(ce.type===6){ve.push(...ce.expr);continue}ve.push(ce)}if(ve.length===0&&he)return W.INSTANCE;if(ve.length!==0){if(ve.length===1)return ve[0];ve.sort(x);for(let ce=1;ce<ve.length;ce++)ve[ce-1].equals(ve[ce])&&(ve.splice(ce,1),ce--);if(ve.length===1)return ve[0];for(;ve.length>1;){const ce=ve[ve.length-1];if(ce.type!==9)break;ve.pop();const Ee=ve.pop(),We=ve.length===0,it=be.create(ce.expr.map(Ze=>Ne.create([Ze,Ee],null,se)),null,We);it&&(ve.push(it),ve.sort(x))}if(ve.length===1)return ve[0];if(se){for(let ce=0;ce<ve.length;ce++)for(let Ee=ce+1;Ee<ve.length;Ee++)if(ve[ce].negate().equals(ve[Ee]))return T.INSTANCE;if(ve.length===1)return ve[0]}return new Ne(ve,Z)}}serialize(){return this.expr.map(ie=>ie.serialize()).join(" && ")}keys(){const ie=[];for(const Z of this.expr)ie.push(...Z.keys());return ie}negate(){if(!this.negated){const ie=[];for(const Z of this.expr)ie.push(Z.negate());this.negated=be.create(ie,this,!0)}return this.negated}}class be{static create(ie,Z,se){return be._normalizeArr(ie,Z,se)}constructor(ie,Z){this.expr=ie,this.negated=Z,this.type=9}cmp(ie){if(ie.type!==this.type)return this.type-ie.type;if(this.expr.length<ie.expr.length)return-1;if(this.expr.length>ie.expr.length)return 1;for(let Z=0,se=this.expr.length;Z<se;Z++){const ve=x(this.expr[Z],ie.expr[Z]);if(ve!==0)return ve}return 0}equals(ie){if(ie.type===this.type){if(this.expr.length!==ie.expr.length)return!1;for(let Z=0,se=this.expr.length;Z<se;Z++)if(!this.expr[Z].equals(ie.expr[Z]))return!1;return!0}return!1}substituteConstants(){const ie=De(this.expr);return ie===this.expr?this:be.create(ie,this.negated,!1)}evaluate(ie){for(let Z=0,se=this.expr.length;Z<se;Z++)if(this.expr[Z].evaluate(ie))return!0;return!1}static _normalizeArr(ie,Z,se){let ve=[],he=!1;if(ie){for(let ce=0,Ee=ie.length;ce<Ee;ce++){const We=ie[ce];if(We){if(We.type===0){he=!0;continue}if(We.type===1)return W.INSTANCE;if(We.type===9){ve=ve.concat(We.expr);continue}ve.push(We)}}if(ve.length===0&&he)return T.INSTANCE;ve.sort(x)}if(ve.length!==0){if(ve.length===1)return ve[0];for(let ce=1;ce<ve.length;ce++)ve[ce-1].equals(ve[ce])&&(ve.splice(ce,1),ce--);if(ve.length===1)return ve[0];if(se){for(let ce=0;ce<ve.length;ce++)for(let Ee=ce+1;Ee<ve.length;Ee++)if(ve[ce].negate().equals(ve[Ee]))return W.INSTANCE;if(ve.length===1)return ve[0]}return new be(ve,Z)}}serialize(){return this.expr.map(ie=>ie.serialize()).join(" || ")}keys(){const ie=[];for(const Z of this.expr)ie.push(...Z.keys());return ie}negate(){if(!this.negated){const ie=[];for(const Z of this.expr)ie.push(Z.negate());for(;ie.length>1;){const Z=ie.shift(),se=ie.shift(),ve=[];for(const he of Qe(Z))for(const ce of Qe(se))ve.push(Ne.create([he,ce],null,!1));ie.unshift(be.create(ve,null,!1))}this.negated=be.create(ie,this,!0)}return this.negated}}class xe extends U{static all(){return xe._info.values()}constructor(ie,Z,se){super(ie,null),this._defaultValue=Z,typeof se=="object"?xe._info.push(Object.assign(Object.assign({},se),{key:ie})):se!==!0&&xe._info.push({key:ie,description:se,type:Z!=null?typeof Z:void 0})}bindTo(ie){return ie.createKey(this.key,this._defaultValue)}getValue(ie){return ie.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(ie){return K.create(this.key,ie)}}xe._info=[];const Le=(0,R.yh)("contextKeyService");function ue(Re,ie){return Re<ie?-1:Re>ie?1:0}function re(Re,ie,Z,se){return Re<Z?-1:Re>Z?1:ie<se?-1:ie>se?1:0}function _e(Re,ie){if(Re.type===0||ie.type===1)return!0;if(Re.type===9)return ie.type===9?Ue(Re.expr,ie.expr):!1;if(ie.type===9){for(const Z of ie.expr)if(_e(Re,Z))return!0;return!1}if(Re.type===6){if(ie.type===6)return Ue(ie.expr,Re.expr);for(const Z of Re.expr)if(_e(Z,ie))return!0;return!1}return Re.equals(ie)}function Ue(Re,ie){let Z=0,se=0;for(;Z<Re.length&&se<ie.length;){const ve=Re[Z].cmp(ie[se]);if(ve<0)return!1;ve===0&&Z++,se++}return Z===Re.length}function Qe(Re){return Re.type===9?Re.expr:[Re]}},57131:function(Ot,He,i){"use strict";i.d(He,{cv:function(){return A},d0:function(){return g}});var m=i(11138),B=i(26386),f=i(76826);const _=new f.uy("isMac",m.dz,(0,B.NC)("isMac","Whether the operating system is macOS")),v=new f.uy("isLinux",m.IJ,(0,B.NC)("isLinux","Whether the operating system is Linux")),A=new f.uy("isWindows",m.ED,(0,B.NC)("isWindows","Whether the operating system is Windows")),M=new f.uy("isWeb",m.$L,(0,B.NC)("isWeb","Whether the platform is a web browser")),E=new f.uy("isMacNative",m.dz&&!m.$L,(0,B.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),R=new f.uy("isIOS",m.gn,(0,B.NC)("isIOS","Whether the operating system is iOS")),p=new f.uy("isMobile",m.tq,(0,B.NC)("isMobile","Whether the platform is a mobile web browser")),l=new f.uy("isDevelopment",!1,!0),d=new f.uy("productQualityType","",(0,B.NC)("productQualityType","Quality type of VS Code")),g="inputFocus",n=new f.uy(g,!1,(0,B.NC)("inputFocus","Whether keyboard focus is inside an input box"))},36953:function(Ot,He,i){"use strict";i.d(He,{i:function(){return f},u:function(){return B}});var m=i(44333);const B=(0,m.yh)("contextViewService"),f=(0,m.yh)("contextMenuService")},5267:function(Ot,He,i){"use strict";i.d(He,{S:function(){return B}});var m=i(44333);const B=(0,m.yh)("dialogService")},99650:function(Ot,He,i){"use strict";i.d(He,{Yb:function(){return W},Nq:function(){return U},iX:function(){return S}});var m=i(12049),B=i(34441),f=i(23602),_=i(6364),v=i(88305),A=i(407),M=i(56709),E=i(55873),R=i(26386);const p=R.NC("defaultLabel","input"),l=R.NC("label.preserveCaseToggle","Preserve Case");class d extends f.Z{constructor(G){super({icon:A.l.preserveCase,title:l+G.appendTitle,isChecked:G.isChecked,inputActiveOptionBorder:G.inputActiveOptionBorder,inputActiveOptionForeground:G.inputActiveOptionForeground,inputActiveOptionBackground:G.inputActiveOptionBackground})}}class g extends v.${constructor(G,z,k,q){super(),this._showOptionButtons=k,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new M.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new M.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new M.Q5),this._onInput=this._register(new M.Q5),this._onKeyUp=this._register(new M.Q5),this._onPreserveCaseKeyDown=this._register(new M.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=z,this.placeholder=q.placeholder||"",this.validation=q.validation,this.label=q.label||p;const te=q.appendPreserveCaseLabel||"",X=q.history||[],j=!!q.flexibleHeight,J=!!q.flexibleWidth,Y=q.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new _.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:X,showHistoryHint:q.showHistoryHint,flexibleHeight:j,flexibleWidth:J,flexibleMaxHeight:Y,inputBoxStyles:q.inputBoxStyles})),this.preserveCase=this._register(new d(Object.assign({appendTitle:te,isChecked:!1},q.toggleStyles))),this._register(this.preserveCase.onChange(De=>{this._onDidOptionChange.fire(De),!De&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(De=>{this._onPreserveCaseKeyDown.fire(De)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const ee=[this.preserveCase.domNode];this.onkeydown(this.domNode,De=>{if(De.equals(15)||De.equals(17)||De.equals(9)){const Ne=ee.indexOf(document.activeElement);if(Ne>=0){let be=-1;De.equals(17)?be=(Ne+1)%ee.length:De.equals(15)&&(Ne===0?be=ee.length-1:be=Ne-1),De.equals(9)?(ee[Ne].blur(),this.inputBox.focus()):be>=0&&ee[be].focus(),B.zB.stop(De,!0)}}});const fe=document.createElement("div");fe.className="controls",fe.style.display=this._showOptionButtons?"block":"none",fe.appendChild(this.preserveCase.domNode),this.domNode.appendChild(fe),G==null||G.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,De=>this._onKeyDown.fire(De)),this.onkeyup(this.inputBox.inputElement,De=>this._onKeyUp.fire(De)),this.oninput(this.inputBox.inputElement,De=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,De=>this._onMouseDown.fire(De))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(G){G?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(G){this.preserveCase.checked=G}focusOnPreserve(){this.preserveCase.focus()}validate(){var G;(G=this.inputBox)===null||G===void 0||G.validate()}set width(G){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=G+"px"}dispose(){super.dispose()}}var n=i(76826),a=i(47679),C=i(38431),D=function(K,G,z,k){var q=arguments.length,te=q<3?G:k===null?k=Object.getOwnPropertyDescriptor(G,z):k,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(K,G,z,k);else for(var j=K.length-1;j>=0;j--)(X=K[j])&&(te=(q<3?X(te):q>3?X(G,z,te):X(G,z))||te);return q>3&&te&&Object.defineProperty(G,z,te),te},u=function(K,G){return function(z,k){G(z,k,K)}};const S=new n.uy("suggestWidgetVisible",!1,(0,R.NC)("suggestWidgetVisible","Whether suggestion are visible")),w="historyNavigationWidgetFocus",L="historyNavigationForwardsEnabled",N="historyNavigationBackwardsEnabled";let O;const x=[];function T(K,G){if(x.includes(G))throw new Error("Cannot register the same widget multiple times");x.push(G);const z=new C.SL,k=new n.uy(w,!1).bindTo(K),q=new n.uy(L,!0).bindTo(K),te=new n.uy(N,!0).bindTo(K),X=()=>{k.set(!0),O=G},j=()=>{k.set(!1),O===G&&(O=void 0)};return G.element===document.activeElement&&X(),z.add(G.onDidFocus(()=>X())),z.add(G.onDidBlur(()=>j())),z.add((0,C.OF)(()=>{x.splice(x.indexOf(G),1),j()})),{historyNavigationForwardsEnablement:q,historyNavigationBackwardsEnablement:te,dispose(){z.dispose()}}}let W=class extends m.V{constructor(G,z,k,q){super(G,z,k);const te=this._register(q.createScoped(this.inputBox.element));this._register(T(te,this.inputBox))}};W=D([u(3,n.i6)],W);let U=class extends g{constructor(G,z,k,q,te=!1){super(G,z,te,k);const X=this._register(q.createScoped(this.inputBox.element));this._register(T(X,this.inputBox))}};U=D([u(3,n.i6)],U),a.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:n.Ao.and(n.Ao.has(w),n.Ao.equals(N,!0),S.isEqualTo(!1)),primary:16,secondary:[528],handler:K=>{O==null||O.showPreviousValue()}}),a.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:n.Ao.and(n.Ao.has(w),n.Ao.equals(L,!0),S.isEqualTo(!1)),primary:18,secondary:[530],handler:K=>{O==null||O.showNextValue()}})},30840:function(Ot,He,i){"use strict";i.d(He,{M:function(){return m}});class m{constructor(f,_=[],v=!1){this.ctor=f,this.staticArguments=_,this.supportsDelayedInstantiation=v}}},53061:function(Ot,He,i){"use strict";i.d(He,{d:function(){return _},z:function(){return f}});var m=i(30840);const B=[];function f(v,A,M){A instanceof m.M||(A=new m.M(A,[],Boolean(M))),B.push([v,A])}function _(){return B}},44333:function(Ot,He,i){"use strict";i.d(He,{I8:function(){return m},TG:function(){return B},yh:function(){return _}});var m;(function(v){v.serviceIds=new Map,v.DI_TARGET="$di$target",v.DI_DEPENDENCIES="$di$dependencies";function A(M){return M[v.DI_DEPENDENCIES]||[]}v.getServiceDependencies=A})(m||(m={}));const B=_("instantiationService");function f(v,A,M){A[m.DI_TARGET]===A?A[m.DI_DEPENDENCIES].push({id:v,index:M}):(A[m.DI_DEPENDENCIES]=[{id:v,index:M}],A[m.DI_TARGET]=A)}function _(v){if(m.serviceIds.has(v))return m.serviceIds.get(v);const A=function(M,E,R){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");f(A,M,R)};return A.toString=()=>v,m.serviceIds.set(v,A),A}},28596:function(Ot,He,i){"use strict";i.d(He,{y:function(){return m}});class m{constructor(...f){this._entries=new Map;for(const[_,v]of f)this.set(_,v)}set(f,_){const v=this._entries.get(f);return this._entries.set(f,_),v}get(f){return this._entries.get(f)}}},82123:function(Ot,He,i){"use strict";i.d(He,{I:function(){return f}});var m=i(56709),B=i(6325);const f={JSONContribution:"base.contributions.json"};function _(M){return M.length>0&&M.charAt(M.length-1)==="#"?M.substring(0,M.length-1):M}class v{constructor(){this._onDidChangeSchema=new m.Q5,this.schemasById={}}registerSchema(E,R){this.schemasById[_(E)]=R,this._onDidChangeSchema.fire(E)}notifySchemaChanged(E){this._onDidChangeSchema.fire(E)}}const A=new v;B.B.add(f.JSONContribution,A)},62297:function(Ot,He,i){"use strict";i.d(He,{d:function(){return B}});var m=i(44333);const B=(0,m.yh)("keybindingService")},47679:function(Ot,He,i){"use strict";i.d(He,{W:function(){return E}});var m=i(21994),B=i(11138),f=i(80793),_=i(6325),v=i(38431),A=i(17979);class M{constructor(){this._coreKeybindings=new A.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(d){if(B.OS===1){if(d&&d.win)return d.win}else if(B.OS===2){if(d&&d.mac)return d.mac}else if(d&&d.linux)return d.linux;return d}registerKeybindingRule(d){const g=M.bindToCurrentPlatform(d),n=new v.SL;if(g&&g.primary){const a=(0,m.Z9)(g.primary,B.OS);a&&n.add(this._registerDefaultKeybinding(a,d.id,d.args,d.weight,0,d.when))}if(g&&Array.isArray(g.secondary))for(let a=0,C=g.secondary.length;a<C;a++){const D=g.secondary[a],u=(0,m.Z9)(D,B.OS);u&&n.add(this._registerDefaultKeybinding(u,d.id,d.args,d.weight,-a-1,d.when))}return n}registerCommandAndKeybindingRule(d){return(0,v.F8)(this.registerKeybindingRule(d),f.P.registerCommand(d))}_registerDefaultKeybinding(d,g,n,a,C,D){const u=this._coreKeybindings.push({keybinding:d,command:g,commandArgs:n,when:D,weight1:a,weight2:C,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,v.OF)(()=>{u(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}const E=new M,R={EditorModes:"platform.keybindingsRegistry"};_.B.add(R.EditorModes,E);function p(l,d){if(l.weight1!==d.weight1)return l.weight1-d.weight1;if(l.command&&d.command){if(l.command<d.command)return-1;if(l.command>d.command)return 1}return l.weight2-d.weight2}},18680:function(Ot,He,i){"use strict";i.d(He,{e:function(){return B}});var m=i(44333);const B=(0,m.yh)("labelService")},48981:function(Ot,He,i){"use strict";i.d(He,{Lw:function(){return Yn},XN:function(){return pi},ls:function(){return Ji},ev:function(){return Ci},CQ:function(){return wt},PS:function(){return Ge},uJ:function(){return ze}});var m=i(34441),B=i(16308),f=i(97464),_=i(56709),v=i(38431),A=i(12591),M=i(75490);class E{get templateId(){return this.renderer.templateId}constructor(F,r){this.renderer=F,this.modelProvider=r}renderTemplate(F){return{data:this.renderer.renderTemplate(F),disposable:v.JT.None}}renderElement(F,r,I,$){var ae;if((ae=I.disposable)===null||ae===void 0||ae.dispose(),!I.data)return;const we=this.modelProvider();if(we.isResolved(F))return this.renderer.renderElement(we.get(F),F,I.data,$);const ke=new f.A,nt=we.resolve(F,ke.token);I.disposable={dispose:()=>ke.cancel()},this.renderer.renderPlaceholder(F,I.data),nt.then(at=>this.renderer.renderElement(at,F,I.data,$))}disposeTemplate(F){F.disposable&&(F.disposable.dispose(),F.disposable=void 0),F.data&&(this.renderer.disposeTemplate(F.data),F.data=void 0)}}class R{constructor(F,r){this.modelProvider=F,this.accessibilityProvider=r}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(F){const r=this.modelProvider();return r.isResolved(F)?this.accessibilityProvider.getAriaLabel(r.get(F)):null}}function p(Kt,F){return Object.assign(Object.assign({},F),{accessibilityProvider:F.accessibilityProvider&&new R(Kt,F.accessibilityProvider)})}class l{constructor(F,r,I,$,ae={}){const we=()=>this.model,ke=$.map(nt=>new E(nt,we));this.list=new M.aV(F,r,I,ke,p(we,ae))}updateOptions(F){this.list.updateOptions(F)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return _.ju.map(this.list.onMouseDblClick,({element:F,index:r,browserEvent:I})=>({element:F===void 0?void 0:this._model.get(F),index:r,browserEvent:I}))}get onPointer(){return _.ju.map(this.list.onPointer,({element:F,index:r,browserEvent:I})=>({element:F===void 0?void 0:this._model.get(F),index:r,browserEvent:I}))}get onDidChangeSelection(){return _.ju.map(this.list.onDidChangeSelection,({elements:F,indexes:r,browserEvent:I})=>({elements:F.map($=>this._model.get($)),indexes:r,browserEvent:I}))}get model(){return this._model}set model(F){this._model=F,this.list.splice(0,this.list.length,(0,B.w6)(F.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(F=>this.model.get(F))}style(F){this.list.style(F)}dispose(){this.list.dispose()}}var d=i(66238);class g{constructor(F,r,I){this.columns=F,this.getColumnSize=I,this.templateId=g.TemplateId,this.renderedTemplates=new Set;const $=new Map(r.map(ae=>[ae.templateId,ae]));this.renderers=[];for(const ae of F){const we=$.get(ae.templateId);if(!we)throw new Error(`Table cell renderer for template id ${ae.templateId} not found.`);this.renderers.push(we)}}renderTemplate(F){const r=(0,m.R3)(F,(0,m.$)(".monaco-table-tr")),I=[],$=[];for(let we=0;we<this.columns.length;we++){const ke=this.renderers[we],nt=(0,m.R3)(r,(0,m.$)(".monaco-table-td",{"data-col-index":we}));nt.style.width=`${this.getColumnSize(we)}px`,I.push(nt),$.push(ke.renderTemplate(nt))}const ae={container:F,cellContainers:I,cellTemplateData:$};return this.renderedTemplates.add(ae),ae}renderElement(F,r,I,$){for(let ae=0;ae<this.columns.length;ae++){const ke=this.columns[ae].project(F);this.renderers[ae].renderElement(ke,r,I.cellTemplateData[ae],$)}}disposeElement(F,r,I,$){for(let ae=0;ae<this.columns.length;ae++){const we=this.renderers[ae];if(we.disposeElement){const nt=this.columns[ae].project(F);we.disposeElement(nt,r,I.cellTemplateData[ae],$)}}}disposeTemplate(F){for(let r=0;r<this.columns.length;r++)this.renderers[r].disposeTemplate(F.cellTemplateData[r]);(0,m.PO)(F.container),this.renderedTemplates.delete(F)}layoutColumn(F,r){for(const{cellContainers:I}of this.renderedTemplates)I[F].style.width=`${r}px`}}g.TemplateId="row";function n(Kt){return{getHeight(F){return Kt.getHeight(F)},getTemplateId(){return g.TemplateId}}}class a{get minimumSize(){var F;return(F=this.column.minimumWidth)!==null&&F!==void 0?F:120}get maximumSize(){var F;return(F=this.column.maximumWidth)!==null&&F!==void 0?F:Number.POSITIVE_INFINITY}get onDidChange(){var F;return(F=this.column.onDidChangeWidthConstraints)!==null&&F!==void 0?F:_.ju.None}constructor(F,r){this.column=F,this.index=r,this._onDidLayout=new _.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,m.$)(".monaco-table-th",{"data-col-index":r,title:F.tooltip},F.label)}layout(F){this._onDidLayout.fire([this.index,F])}}class C{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}constructor(F,r,I,$,ae,we){this.virtualDelegate=I,this.domId=`table_id_${++C.InstanceCount}`,this.disposables=new v.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,m.R3)(r,(0,m.$)(`.monaco-table.${this.domId}`));const ke=$.map((_t,xt)=>new a(_t,xt)),nt={size:ke.reduce((_t,xt)=>_t+xt.column.weight,0),views:ke.map(_t=>({size:_t.column.weight,view:_t}))};this.splitview=this.disposables.add(new d.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:nt})),this.splitview.el.style.height=`${I.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${I.headerRowHeight}px`;const at=new g($,ae,_t=>this.splitview.getViewSize(_t));this.list=this.disposables.add(new M.aV(F,this.domNode,n(I),[at],we)),_.ju.any(...ke.map(_t=>_t.onDidLayout))(([_t,xt])=>at.layoutColumn(_t,xt),null,this.disposables),this.splitview.onDidSashReset(_t=>{const xt=$.reduce((Ft,Vt)=>Ft+Vt.weight,0),Et=$[_t].weight/xt*this.cachedWidth;this.splitview.resizeView(_t,Et)},null,this.disposables),this.styleElement=(0,m.dS)(this.domNode),this.style(M.uZ)}updateOptions(F){this.list.updateOptions(F)}splice(F,r,I=[]){this.list.splice(F,r,I)}getHTMLElement(){return this.domNode}style(F){const r=[];r.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=r.join(`
`),this.list.style(F)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}C.InstanceCount=0;var D=i(54505),u=i(6544),S=i(67235),w=i(12049),L=i(6364),N=i(95367),O=i(23602),x;(function(Kt){Kt[Kt.Expanded=0]="Expanded",Kt[Kt.Collapsed=1]="Collapsed",Kt[Kt.PreserveOrExpanded=2]="PreserveOrExpanded",Kt[Kt.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(x||(x={}));var T;(function(Kt){Kt[Kt.Unknown=0]="Unknown",Kt[Kt.Twistie=1]="Twistie",Kt[Kt.Element=2]="Element",Kt[Kt.Filter=3]="Filter"})(T||(T={}));class W extends Error{constructor(F,r){super(`TreeError [${F}] ${r}`)}}class U{constructor(F){this.fn=F,this._map=new WeakMap}map(F){let r=this._map.get(F);return r||(r=this.fn(F),this._map.set(F,r)),r}}var K=i(13484),G=i(808),z=i(49927),k=i(97865);function q(Kt){return typeof Kt=="object"&&"visibility"in Kt&&"data"in Kt}function te(Kt){switch(Kt){case!0:return 1;case!1:return 0;default:return Kt}}function X(Kt){return typeof Kt.collapsible=="boolean"}class j{constructor(F,r,I,$={}){this.user=F,this.list=r,this.rootRef=[],this.eventBufferer=new _.E7,this._onDidChangeCollapseState=new _.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new _.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new _.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new K.vp(G.n),this.collapseByDefault=typeof $.collapseByDefault=="undefined"?!1:$.collapseByDefault,this.filter=$.filter,this.autoExpandSingleChildren=typeof $.autoExpandSingleChildren=="undefined"?!1:$.autoExpandSingleChildren,this.root={parent:void 0,element:I,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(F,r,I=k.$.empty(),$={}){if(F.length===0)throw new W(this.user,"Invalid tree location");$.diffIdentityProvider?this.spliceSmart($.diffIdentityProvider,F,r,I,$):this.spliceSimple(F,r,I,$)}spliceSmart(F,r,I,$,ae,we){var ke;$===void 0&&($=k.$.empty()),we===void 0&&(we=(ke=ae.diffDepth)!==null&&ke!==void 0?ke:0);const{parentNode:nt}=this.getParentNodeWithListIndex(r);if(!nt.lastDiffIds)return this.spliceSimple(r,I,$,ae);const at=[...$],_t=r[r.length-1],xt=new z.Hs({getElements:()=>nt.lastDiffIds},{getElements:()=>[...nt.children.slice(0,_t),...at,...nt.children.slice(_t+I)].map(si=>F.getId(si.element).toString())}).ComputeDiff(!1);if(xt.quitEarly)return nt.lastDiffIds=void 0,this.spliceSimple(r,I,at,ae);const Et=r.slice(0,-1),Ft=(si,wi,Ti)=>{if(we>0)for(let Wi=0;Wi<Ti;Wi++)si--,wi--,this.spliceSmart(F,[...Et,si,0],Number.MAX_SAFE_INTEGER,at[wi].children,ae,we-1)};let Vt=Math.min(nt.children.length,_t+I),Qt=at.length;for(const si of xt.changes.sort((wi,Ti)=>Ti.originalStart-wi.originalStart))Ft(Vt,Qt,Vt-(si.originalStart+si.originalLength)),Vt=si.originalStart,Qt=si.modifiedStart-_t,this.spliceSimple([...Et,Vt],si.originalLength,k.$.slice(at,Qt,Qt+si.modifiedLength),ae);Ft(Vt,Qt,Vt)}spliceSimple(F,r,I=k.$.empty(),{onDidCreateNode:$,onDidDeleteNode:ae,diffIdentityProvider:we}){const{parentNode:ke,listIndex:nt,revealed:at,visible:_t}=this.getParentNodeWithListIndex(F),xt=[],Et=k.$.map(I,an=>this.createTreeNode(an,ke,ke.visible?1:0,at,xt,$)),Ft=F[F.length-1],Vt=ke.children.length>0;let Qt=0;for(let an=Ft;an>=0&&an<ke.children.length;an--){const fs=ke.children[an];if(fs.visible){Qt=fs.visibleChildIndex;break}}const si=[];let wi=0,Ti=0;for(const an of Et)si.push(an),Ti+=an.renderNodeCount,an.visible&&(an.visibleChildIndex=Qt+wi++);const Wi=(0,B.db)(ke.children,Ft,r,si);we?ke.lastDiffIds?(0,B.db)(ke.lastDiffIds,Ft,r,si.map(an=>we.getId(an.element).toString())):ke.lastDiffIds=ke.children.map(an=>we.getId(an.element).toString()):ke.lastDiffIds=void 0;let wn=0;for(const an of Wi)an.visible&&wn++;if(wn!==0)for(let an=Ft+si.length;an<ke.children.length;an++){const fs=ke.children[an];fs.visible&&(fs.visibleChildIndex-=wn)}if(ke.visibleChildrenCount+=wi-wn,at&&_t){const an=Wi.reduce((fs,Ys)=>fs+(Ys.visible?Ys.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(ke,Ti-an),this.list.splice(nt,an,xt)}if(Wi.length>0&&ae){const an=fs=>{ae(fs),fs.children.forEach(an)};Wi.forEach(an)}this._onDidSplice.fire({insertedNodes:si,deletedNodes:Wi});const Qn=ke.children.length>0;Vt!==Qn&&this.setCollapsible(F.slice(0,-1),Qn);let vs=ke;for(;vs;){if(vs.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}vs=vs.parent}}rerender(F){if(F.length===0)throw new W(this.user,"Invalid tree location");const{node:r,listIndex:I,revealed:$}=this.getTreeNodeWithListIndex(F);r.visible&&$&&this.list.splice(I,1,[r])}has(F){return this.hasTreeNode(F)}getListIndex(F){const{listIndex:r,visible:I,revealed:$}=this.getTreeNodeWithListIndex(F);return I&&$?r:-1}getListRenderCount(F){return this.getTreeNode(F).renderNodeCount}isCollapsible(F){return this.getTreeNode(F).collapsible}setCollapsible(F,r){const I=this.getTreeNode(F);typeof r=="undefined"&&(r=!I.collapsible);const $={collapsible:r};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(F,$))}isCollapsed(F){return this.getTreeNode(F).collapsed}setCollapsed(F,r,I){const $=this.getTreeNode(F);typeof r=="undefined"&&(r=!$.collapsed);const ae={collapsed:r,recursive:I||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(F,ae))}_setCollapseState(F,r){const{node:I,listIndex:$,revealed:ae}=this.getTreeNodeWithListIndex(F),we=this._setListNodeCollapseState(I,$,ae,r);if(I!==this.root&&this.autoExpandSingleChildren&&we&&!X(r)&&I.collapsible&&!I.collapsed&&!r.recursive){let ke=-1;for(let nt=0;nt<I.children.length;nt++)if(I.children[nt].visible)if(ke>-1){ke=-1;break}else ke=nt;ke>-1&&this._setCollapseState([...F,ke],r)}return we}_setListNodeCollapseState(F,r,I,$){const ae=this._setNodeCollapseState(F,$,!1);if(!I||!F.visible||!ae)return ae;const we=F.renderNodeCount,ke=this.updateNodeAfterCollapseChange(F),nt=we-(r===-1?0:1);return this.list.splice(r+1,nt,ke.slice(1)),ae}_setNodeCollapseState(F,r,I){let $;if(F===this.root?$=!1:(X(r)?($=F.collapsible!==r.collapsible,F.collapsible=r.collapsible):F.collapsible?($=F.collapsed!==r.collapsed,F.collapsed=r.collapsed):$=!1,$&&this._onDidChangeCollapseState.fire({node:F,deep:I})),!X(r)&&r.recursive)for(const ae of F.children)$=this._setNodeCollapseState(ae,r,!0)||$;return $}expandTo(F){this.eventBufferer.bufferEvents(()=>{let r=this.getTreeNode(F);for(;r.parent;)r=r.parent,F=F.slice(0,F.length-1),r.collapsed&&this._setCollapseState(F,{collapsed:!1,recursive:!1})})}refilter(){const F=this.root.renderNodeCount,r=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,F,r),this.refilterDelayer.cancel()}createTreeNode(F,r,I,$,ae,we){const ke={parent:r,element:F.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof F.collapsible=="boolean"?F.collapsible:typeof F.collapsed!="undefined",collapsed:typeof F.collapsed=="undefined"?this.collapseByDefault:F.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},nt=this._filterNode(ke,I);ke.visibility=nt,$&&ae.push(ke);const at=F.children||k.$.empty(),_t=$&&nt!==0&&!ke.collapsed;let xt=0,Et=1;for(const Ft of at){const Vt=this.createTreeNode(Ft,ke,nt,_t,ae,we);ke.children.push(Vt),Et+=Vt.renderNodeCount,Vt.visible&&(Vt.visibleChildIndex=xt++)}return ke.collapsible=ke.collapsible||ke.children.length>0,ke.visibleChildrenCount=xt,ke.visible=nt===2?xt>0:nt===1,ke.visible?ke.collapsed||(ke.renderNodeCount=Et):(ke.renderNodeCount=0,$&&ae.pop()),we==null||we(ke),ke}updateNodeAfterCollapseChange(F){const r=F.renderNodeCount,I=[];return this._updateNodeAfterCollapseChange(F,I),this._updateAncestorsRenderNodeCount(F.parent,I.length-r),I}_updateNodeAfterCollapseChange(F,r){if(F.visible===!1)return 0;if(r.push(F),F.renderNodeCount=1,!F.collapsed)for(const I of F.children)F.renderNodeCount+=this._updateNodeAfterCollapseChange(I,r);return this._onDidChangeRenderNodeCount.fire(F),F.renderNodeCount}updateNodeAfterFilterChange(F){const r=F.renderNodeCount,I=[];return this._updateNodeAfterFilterChange(F,F.visible?1:0,I),this._updateAncestorsRenderNodeCount(F.parent,I.length-r),I}_updateNodeAfterFilterChange(F,r,I,$=!0){let ae;if(F!==this.root){if(ae=this._filterNode(F,r),ae===0)return F.visible=!1,F.renderNodeCount=0,!1;$&&I.push(F)}const we=I.length;F.renderNodeCount=F===this.root?0:1;let ke=!1;if(!F.collapsed||ae!==0){let nt=0;for(const at of F.children)ke=this._updateNodeAfterFilterChange(at,ae,I,$&&!F.collapsed)||ke,at.visible&&(at.visibleChildIndex=nt++);F.visibleChildrenCount=nt}else F.visibleChildrenCount=0;return F!==this.root&&(F.visible=ae===2?ke:ae===1,F.visibility=ae),F.visible?F.collapsed||(F.renderNodeCount+=I.length-we):(F.renderNodeCount=0,$&&I.pop()),this._onDidChangeRenderNodeCount.fire(F),F.visible}_updateAncestorsRenderNodeCount(F,r){if(r!==0)for(;F;)F.renderNodeCount+=r,this._onDidChangeRenderNodeCount.fire(F),F=F.parent}_filterNode(F,r){const I=this.filter?this.filter.filter(F.element,r):1;return typeof I=="boolean"?(F.filterData=void 0,I?1:0):q(I)?(F.filterData=I.data,te(I.visibility)):(F.filterData=void 0,te(I))}hasTreeNode(F,r=this.root){if(!F||F.length===0)return!0;const[I,...$]=F;return I<0||I>r.children.length?!1:this.hasTreeNode($,r.children[I])}getTreeNode(F,r=this.root){if(!F||F.length===0)return r;const[I,...$]=F;if(I<0||I>r.children.length)throw new W(this.user,"Invalid tree location");return this.getTreeNode($,r.children[I])}getTreeNodeWithListIndex(F){if(F.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:I,revealed:$,visible:ae}=this.getParentNodeWithListIndex(F),we=F[F.length-1];if(we<0||we>r.children.length)throw new W(this.user,"Invalid tree location");const ke=r.children[we];return{node:ke,listIndex:I,revealed:$,visible:ae&&ke.visible}}getParentNodeWithListIndex(F,r=this.root,I=0,$=!0,ae=!0){const[we,...ke]=F;if(we<0||we>r.children.length)throw new W(this.user,"Invalid tree location");for(let nt=0;nt<we;nt++)I+=r.children[nt].renderNodeCount;return $=$&&!r.collapsed,ae=ae&&r.visible,ke.length===0?{parentNode:r,listIndex:I,revealed:$,visible:ae}:this.getParentNodeWithListIndex(ke,r.children[we],I+1,$,ae)}getNode(F=[]){return this.getTreeNode(F)}getNodeLocation(F){const r=[];let I=F;for(;I.parent;)r.push(I.parent.children.indexOf(I)),I=I.parent;return r.reverse()}getParentNodeLocation(F){if(F.length!==0)return F.length===1?[]:(0,B.JH)(F)[0]}getFirstElementChild(F){const r=this.getTreeNode(F);if(r.children.length!==0)return r.children[0].element}}var J=i(98299),Y=i(407),ee=i(8216);class fe{constructor(){this.map=new Map}add(F,r){let I=this.map.get(F);I||(I=new Set,this.map.set(F,I)),I.add(r)}delete(F,r){const I=this.map.get(F);I&&(I.delete(r),I.size===0&&this.map.delete(F))}forEach(F,r){const I=this.map.get(F);I&&I.forEach(r)}}var De=i(4538),Ne=i(98726),be=i(14818),xe=i(26386),Le=function(Kt,F,r,I){function $(ae){return ae instanceof r?ae:new r(function(we){we(ae)})}return new(r||(r=Promise))(function(ae,we){function ke(_t){try{at(I.next(_t))}catch(xt){we(xt)}}function nt(_t){try{at(I.throw(_t))}catch(xt){we(xt)}}function at(_t){_t.done?ae(_t.value):$(_t.value).then(ke,nt)}at((I=I.apply(Kt,F||[])).next())})};class ue extends N.kX{constructor(F){super(F.elements.map(r=>r.element)),this.data=F}}function re(Kt){return Kt instanceof N.kX?new ue(Kt):Kt}class _e{constructor(F,r){this.modelProvider=F,this.dnd=r,this.autoExpandDisposable=v.JT.None}getDragURI(F){return this.dnd.getDragURI(F.element)}getDragLabel(F,r){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(F.map(I=>I.element),r)}onDragStart(F,r){var I,$;($=(I=this.dnd).onDragStart)===null||$===void 0||$.call(I,re(F),r)}onDragOver(F,r,I,$,ae=!0){const we=this.dnd.onDragOver(re(F),r&&r.element,I,$),ke=this.autoExpandNode!==r;if(ke&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=r),typeof r=="undefined")return we;if(ke&&typeof we!="boolean"&&we.autoExpand&&(this.autoExpandDisposable=(0,K.Vg)(()=>{const Et=this.modelProvider(),Ft=Et.getNodeLocation(r);Et.isCollapsed(Ft)&&Et.setCollapsed(Ft,!1),this.autoExpandNode=void 0},500)),typeof we=="boolean"||!we.accept||typeof we.bubble=="undefined"||we.feedback){if(!ae){const Et=typeof we=="boolean"?we:we.accept,Ft=typeof we=="boolean"?void 0:we.effect;return{accept:Et,effect:Ft,feedback:[I]}}return we}if(we.bubble===1){const Et=this.modelProvider(),Ft=Et.getNodeLocation(r),Vt=Et.getParentNodeLocation(Ft),Qt=Et.getNode(Vt),si=Vt&&Et.getListIndex(Vt);return this.onDragOver(F,Qt,si,$,!1)}const nt=this.modelProvider(),at=nt.getNodeLocation(r),_t=nt.getListIndex(at),xt=nt.getListRenderCount(at);return Object.assign(Object.assign({},we),{feedback:(0,B.w6)(_t,_t+xt)})}drop(F,r,I,$){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(re(F),r&&r.element,I,$)}onDragEnd(F){var r,I;(I=(r=this.dnd).onDragEnd)===null||I===void 0||I.call(r,F)}}function Ue(Kt,F){return F&&Object.assign(Object.assign({},F),{identityProvider:F.identityProvider&&{getId(r){return F.identityProvider.getId(r.element)}},dnd:F.dnd&&new _e(Kt,F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(r){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},r),{element:r.element}))},isSelectionRangeChangeEvent(r){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},r),{element:r.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getSetSize(r){const I=Kt(),$=I.getNodeLocation(r),ae=I.getParentNodeLocation($);return I.getNode(ae).visibleChildrenCount},getPosInSet(r){return r.visibleChildIndex+1},isChecked:F.accessibilityProvider&&F.accessibilityProvider.isChecked?r=>F.accessibilityProvider.isChecked(r.element):void 0,getRole:F.accessibilityProvider&&F.accessibilityProvider.getRole?r=>F.accessibilityProvider.getRole(r.element):()=>"treeitem",getAriaLabel(r){return F.accessibilityProvider.getAriaLabel(r.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider&&F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider&&F.accessibilityProvider.getAriaLevel?r=>F.accessibilityProvider.getAriaLevel(r.element):r=>r.depth,getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(r=>F.accessibilityProvider.getActiveDescendantId(r.element))}),keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(r){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(r.element)}})})}class Qe{constructor(F){this.delegate=F}getHeight(F){return this.delegate.getHeight(F.element)}getTemplateId(F){return this.delegate.getTemplateId(F.element)}hasDynamicHeight(F){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(F.element)}setDynamicHeight(F,r){var I,$;($=(I=this.delegate).setDynamicHeight)===null||$===void 0||$.call(I,F.element,r)}}var Re;(function(Kt){Kt.None="none",Kt.OnHover="onHover",Kt.Always="always"})(Re||(Re={}));class ie{get elements(){return this._elements}constructor(F,r=[]){this._elements=r,this.disposables=new v.SL,this.onDidChange=_.ju.forEach(F,I=>this._elements=I,this.disposables)}dispose(){this.disposables.dispose()}}class Z{constructor(F,r,I,$,ae,we={}){var ke;this.renderer=F,this.modelProvider=r,this.activeNodes=$,this.renderedIndentGuides=ae,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Z.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=v.JT.None,this.disposables=new v.SL,this.templateId=F.templateId,this.updateOptions(we),_.ju.map(I,nt=>nt.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(ke=F.onDidChangeTwistieState)===null||ke===void 0||ke.call(F,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(F={}){if(typeof F.indent!="undefined"){const r=(0,Ne.uZ)(F.indent,0,40);if(r!==this.indent){this.indent=r;for(const[I,$]of this.renderedNodes)this.renderTreeElement(I,$)}}if(typeof F.renderIndentGuides!="undefined"){const r=F.renderIndentGuides!==Re.None;if(r!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=r;for(const[I,$]of this.renderedNodes)this._renderIndentGuides(I,$);if(this.indentGuidesDisposable.dispose(),r){const I=new v.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,I),this.indentGuidesDisposable=I,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof F.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=F.hideTwistiesOfChildlessElements)}renderTemplate(F){const r=(0,m.R3)(F,(0,m.$)(".monaco-tl-row")),I=(0,m.R3)(r,(0,m.$)(".monaco-tl-indent")),$=(0,m.R3)(r,(0,m.$)(".monaco-tl-twistie")),ae=(0,m.R3)(r,(0,m.$)(".monaco-tl-contents")),we=this.renderer.renderTemplate(ae);return{container:F,indent:I,twistie:$,indentGuidesDisposable:v.JT.None,templateData:we}}renderElement(F,r,I,$){this.renderedNodes.set(F,I),this.renderedElements.set(F.element,F),this.renderTreeElement(F,I),this.renderer.renderElement(F,r,I.templateData,$)}disposeElement(F,r,I,$){var ae,we;I.indentGuidesDisposable.dispose(),(we=(ae=this.renderer).disposeElement)===null||we===void 0||we.call(ae,F,r,I.templateData,$),typeof $=="number"&&(this.renderedNodes.delete(F),this.renderedElements.delete(F.element))}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}onDidChangeTwistieState(F){const r=this.renderedElements.get(F);r&&this.onDidChangeNodeTwistieState(r)}onDidChangeNodeTwistieState(F){const r=this.renderedNodes.get(F);r&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(F,r))}renderTreeElement(F,r){const I=Z.DefaultIndent+(F.depth-1)*this.indent;r.twistie.style.paddingLeft=`${I}px`,r.indent.style.width=`${I+this.indent-16}px`,F.collapsible?r.container.setAttribute("aria-expanded",String(!F.collapsed)):r.container.removeAttribute("aria-expanded"),r.twistie.classList.remove(...ee.k.asClassNameArray(Y.l.treeItemExpanded));let $=!1;this.renderer.renderTwistie&&($=this.renderer.renderTwistie(F.element,r.twistie)),F.collapsible&&(!this.hideTwistiesOfChildlessElements||F.visibleChildrenCount>0)?($||r.twistie.classList.add(...ee.k.asClassNameArray(Y.l.treeItemExpanded)),r.twistie.classList.add("collapsible"),r.twistie.classList.toggle("collapsed",F.collapsed)):r.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(F,r)}_renderIndentGuides(F,r){if((0,m.PO)(r.indent),r.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const I=new v.SL,$=this.modelProvider();for(;;){const ae=$.getNodeLocation(F),we=$.getParentNodeLocation(ae);if(!we)break;const ke=$.getNode(we),nt=(0,m.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ke)&&nt.classList.add("active"),r.indent.childElementCount===0?r.indent.appendChild(nt):r.indent.insertBefore(nt,r.indent.firstElementChild),this.renderedIndentGuides.add(ke,nt),I.add((0,v.OF)(()=>this.renderedIndentGuides.delete(ke,nt))),F=ke}r.indentGuidesDisposable=I}_onDidChangeActiveNodes(F){if(!this.shouldRenderIndentGuides)return;const r=new Set,I=this.modelProvider();F.forEach($=>{const ae=I.getNodeLocation($);try{const we=I.getParentNodeLocation(ae);$.collapsible&&$.children.length>0&&!$.collapsed?r.add($):we&&r.add(I.getNode(we))}catch(we){}}),this.activeIndentNodes.forEach($=>{r.has($)||this.renderedIndentGuides.forEach($,ae=>ae.classList.remove("active"))}),r.forEach($=>{this.activeIndentNodes.has($)||this.renderedIndentGuides.forEach($,ae=>ae.classList.add("active"))}),this.activeIndentNodes=r}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,v.B9)(this.disposables)}}Z.DefaultIndent=8;class se{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(F,r,I){this.tree=F,this.keyboardNavigationLabelProvider=r,this._filter=I,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new v.SL,F.onWillRefilter(this.reset,this,this.disposables)}filter(F,r){let I=1;if(this._filter){const we=this._filter.filter(F,r);if(typeof we=="boolean"?I=we?1:0:q(we)?I=te(we.visibility):I=we,I===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:De.CL.Default,visibility:I};const $=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(F),ae=Array.isArray($)?$:[$];for(const we of ae){const ke=we&&we.toString();if(typeof ke=="undefined")return{data:De.CL.Default,visibility:I};let nt;if(this.tree.findMatchType===We.Contiguous){const at=ke.toLowerCase().indexOf(this._lowercasePattern);if(at>-1){nt=[Number.MAX_SAFE_INTEGER,0];for(let _t=this._lowercasePattern.length;_t>0;_t--)nt.push(at+_t-1)}}else nt=(0,De.EW)(this._pattern,this._lowercasePattern,0,ke,ke.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(nt)return this._matchCount++,ae.length===1?{data:nt,visibility:I}:{data:{label:ke,score:nt},visibility:I}}return this.tree.findMode===Ee.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(F):2:{data:De.CL.Default,visibility:I}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,v.B9)(this.disposables)}}class ve extends null{constructor(F){var r;super({icon:Codicon.listFilter,title:localize("filter","Filter"),isChecked:(r=F.isChecked)!==null&&r!==void 0?r:!1,inputActiveOptionBorder:F.inputActiveOptionBorder,inputActiveOptionForeground:F.inputActiveOptionForeground,inputActiveOptionBackground:F.inputActiveOptionBackground})}}class he extends null{constructor(F){var r;super({icon:Codicon.searchFuzzy,title:localize("fuzzySearch","Fuzzy Match"),isChecked:(r=F.isChecked)!==null&&r!==void 0?r:!1,inputActiveOptionBorder:F.inputActiveOptionBorder,inputActiveOptionForeground:F.inputActiveOptionForeground,inputActiveOptionBackground:F.inputActiveOptionBackground})}}const ce={inputBoxStyles:L.g4,toggleStyles:O.D,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var Ee;(function(Kt){Kt[Kt.Highlight=0]="Highlight",Kt[Kt.Filter=1]="Filter"})(Ee||(Ee={}));var We;(function(Kt){Kt[Kt.Fuzzy=0]="Fuzzy",Kt[Kt.Contiguous=1]="Contiguous"})(We||(We={}));class it extends null{set mode(F){this.modeToggle.checked=F===Ee.Filter,this.findInput.inputBox.setPlaceHolder(F===Ee.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}set matchType(F){this.matchTypeToggle.checked=F===We.Fuzzy}constructor(F,r,I,$,ae,we){var ke;super(),this.tree=r,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new Emitter,F.appendChild(this.elements.root),this._register(toDisposable(()=>F.removeChild(this.elements.root)));const nt=(ke=we==null?void 0:we.styles)!==null&&ke!==void 0?ke:ce;nt.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=nt.listFilterWidgetBackground),nt.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${nt.listFilterWidgetShadow}`),this.modeToggle=this._register(new ve(Object.assign(Object.assign({},nt.toggleStyles),{isChecked:$===Ee.Filter}))),this.matchTypeToggle=this._register(new he(Object.assign(Object.assign({},nt.toggleStyles),{isChecked:ae===We.Fuzzy}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?Ee.Filter:Ee.Highlight,this._store),this.onDidChangeMatchType=Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?We.Fuzzy:We.Contiguous,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,I,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:nt.inputBoxStyles,toggleStyles:nt.toggleStyles,history:we==null?void 0:we.history})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=$;const at=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),_t=this._register(Event.chain(at.event)).map(Vt=>new StandardKeyboardEvent(Vt)).event;this._register(_t(Vt=>{if(Vt.equals(3)){Vt.preventDefault(),Vt.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Vt.equals(18)){Vt.preventDefault(),Vt.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Vt.equals(16)){Vt.preventDefault(),Vt.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const xt=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(xt,{icon:!0,label:!1});const Et=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(Et.event(Vt=>{const Qt=new DisposableStore,si=Qt.add(new DomEmitter(window,"mousemove")),wi=Qt.add(new DomEmitter(window,"mouseup")),Ti=this.right,Wi=Vt.pageX,wn=this.top,Qn=Vt.pageY;this.elements.grab.classList.add("grabbing");const vs=this.elements.root.style.transition;this.elements.root.style.transition="unset";const an=fs=>{const Ys=fs.pageX-Wi;this.right=Ti-Ys;const Zs=fs.pageY-Qn;this.top=wn+Zs,this.layout()};Qt.add(si.event(an)),Qt.add(wi.event(fs=>{an(fs),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=vs,Qt.dispose()}))}));const Ft=this._register(Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event)).map(Vt=>new StandardKeyboardEvent(Vt)).event;this._register(Ft(Vt=>{let Qt,si;if(Vt.keyCode===15?Qt=Number.POSITIVE_INFINITY:Vt.keyCode===17?Qt=0:Vt.keyCode===10&&(Qt=this.right===0?Number.POSITIVE_INFINITY:0),Vt.keyCode===16?si=0:Vt.keyCode===18&&(si=Number.POSITIVE_INFINITY),Qt!==void 0&&(Vt.preventDefault(),Vt.stopPropagation(),this.right=Qt,this.layout()),si!==void 0){Vt.preventDefault(),Vt.stopPropagation(),this.top=si;const wi=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=wi},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(F=this.width){this.width=F,this.right=clamp(this.right,0,Math.max(0,F-212)),this.elements.root.style.right=`${this.right}px`,this.top=clamp(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(F){this.findInput.showMessage(F)}clearMessage(){this.findInput.clearMessage()}dispose(){const F=Object.create(null,{dispose:{get:()=>super.dispose}});return Le(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),F.dispose.call(this)})}}class Ze{get pattern(){return this._pattern}get mode(){return this._mode}set mode(F){F!==this._mode&&(this._mode=F,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(F))}get matchType(){return this._matchType}set matchType(F){F!==this._matchType&&(this._matchType=F,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(F))}constructor(F,r,I,$,ae,we={}){var ke,nt;this.tree=F,this.view=I,this.filter=$,this.contextViewProvider=ae,this.options=we,this._pattern="",this.width=0,this._onDidChangeMode=new _.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new _.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new _.Q5,this._onDidChangeOpenState=new _.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new v.SL,this.disposables=new v.SL,this._mode=(ke=F.options.defaultFindMode)!==null&&ke!==void 0?ke:Ee.Highlight,this._matchType=(nt=F.options.defaultFindMatchType)!==null&&nt!==void 0?nt:We.Fuzzy,r.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(F={}){F.defaultFindMode!==void 0&&(this.mode=F.defaultFindMode),F.defaultFindMatchType!==void 0&&(this.matchType=F.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var F,r,I,$;const ae=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&ae?!((F=this.tree.options.showNotFoundMessage)!==null&&F!==void 0)||F?(r=this.widget)===null||r===void 0||r.showMessage({type:2,content:(0,xe.NC)("not found","No elements found.")}):(I=this.widget)===null||I===void 0||I.showMessage({type:2}):($=this.widget)===null||$===void 0||$.clearMessage()}shouldAllowFocus(F){return!this.widget||!this.pattern||this._mode===Ee.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!De.CL.isDefault(F.filterData)}layout(F){var r;this.width=F,(r=this.widget)===null||r===void 0||r.layout(F)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function je(Kt){let F=T.Unknown;return(0,m.uU)(Kt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?F=T.Twistie:(0,m.uU)(Kt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?F=T.Element:(0,m.uU)(Kt.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(F=T.Filter),{browserEvent:Kt.browserEvent,element:Kt.element?Kt.element.element:null,target:F}}function Te(Kt,F){F(Kt),Kt.children.forEach(r=>Te(r,F))}class Ie{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(F,r){this.getFirstViewElementWithTrait=F,this.identityProvider=r,this.nodes=[],this._onDidChange=new _.Q5,this.onDidChange=this._onDidChange.event}set(F,r){!(r!=null&&r.__forceEvent)&&(0,B.fS)(this.nodes,F)||this._set(F,!1,r)}_set(F,r,I){if(this.nodes=[...F],this.elements=void 0,this._nodeSet=void 0,!r){const $=this;this._onDidChange.fire({get elements(){return $.get()},browserEvent:I})}}get(){return this.elements||(this.elements=this.nodes.map(F=>F.element)),[...this.elements]}getNodes(){return this.nodes}has(F){return this.nodeSet.has(F)}onDidModelSplice({insertedNodes:F,deletedNodes:r}){if(!this.identityProvider){const nt=this.createNodeSet(),at=_t=>nt.delete(_t);r.forEach(_t=>Te(_t,at)),this.set([...nt.values()]);return}const I=new Set,$=nt=>I.add(this.identityProvider.getId(nt.element).toString());r.forEach(nt=>Te(nt,$));const ae=new Map,we=nt=>ae.set(this.identityProvider.getId(nt.element).toString(),nt);F.forEach(nt=>Te(nt,we));const ke=[];for(const nt of this.nodes){const at=this.identityProvider.getId(nt.element).toString();if(!I.has(at))ke.push(nt);else{const xt=ae.get(at);xt&&ke.push(xt)}}if(this.nodes.length>0&&ke.length===0){const nt=this.getFirstViewElementWithTrait();nt&&ke.push(nt)}this._set(ke,!0)}createNodeSet(){const F=new Set;for(const r of this.nodes)F.add(r);return F}}class oe extends M.sx{constructor(F,r){super(F),this.tree=r}onViewPointer(F){if((0,M.iK)(F.browserEvent.target)||(0,M.cK)(F.browserEvent.target)||(0,M.hD)(F.browserEvent.target))return;const r=F.element;if(!r)return super.onViewPointer(F);if(this.isSelectionRangeChangeEvent(F)||this.isSelectionSingleChangeEvent(F))return super.onViewPointer(F);const I=F.browserEvent.target,$=I.classList.contains("monaco-tl-twistie")||I.classList.contains("monaco-icon-label")&&I.classList.contains("folder-icon")&&F.browserEvent.offsetX<16;let ae=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?ae=this.tree.expandOnlyOnTwistieClick(r.element):ae=!!this.tree.expandOnlyOnTwistieClick,ae&&!$&&F.browserEvent.detail!==2)return super.onViewPointer(F);if(!this.tree.expandOnDoubleClick&&F.browserEvent.detail===2)return super.onViewPointer(F);if(r.collapsible){const we=this.tree.getNodeLocation(r),ke=F.browserEvent.altKey;if(this.tree.setFocus([we]),this.tree.toggleCollapsed(we,ke),ae&&$)return}super.onViewPointer(F)}onDoubleClick(F){F.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(F)}}class ge extends M.aV{constructor(F,r,I,$,ae,we,ke,nt){super(F,r,I,$,nt),this.focusTrait=ae,this.selectionTrait=we,this.anchorTrait=ke}createMouseController(F){return new oe(this,F.tree)}splice(F,r,I=[]){if(super.splice(F,r,I),I.length===0)return;const $=[],ae=[];let we;I.forEach((ke,nt)=>{this.focusTrait.has(ke)&&$.push(F+nt),this.selectionTrait.has(ke)&&ae.push(F+nt),this.anchorTrait.has(ke)&&(we=F+nt)}),$.length>0&&super.setFocus((0,B.EB)([...super.getFocus(),...$])),ae.length>0&&super.setSelection((0,B.EB)([...super.getSelection(),...ae])),typeof we=="number"&&super.setAnchor(we)}setFocus(F,r,I=!1){super.setFocus(F,r),I||this.focusTrait.set(F.map($=>this.element($)),r)}setSelection(F,r,I=!1){super.setSelection(F,r),I||this.selectionTrait.set(F.map($=>this.element($)),r)}setAnchor(F,r=!1){super.setAnchor(F),r||(typeof F=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(F)]))}}class Ce{get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return _.ju.filter(_.ju.map(this.view.onMouseDblClick,je),F=>F.target!==T.Filter)}get onPointer(){return _.ju.map(this.view.onPointer,je)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return _.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var F,r;return(r=(F=this.findController)===null||F===void 0?void 0:F.mode)!==null&&r!==void 0?r:Ee.Highlight}set findMode(F){this.findController&&(this.findController.mode=F)}get findMatchType(){var F,r;return(r=(F=this.findController)===null||F===void 0?void 0:F.matchType)!==null&&r!==void 0?r:We.Fuzzy}set findMatchType(F){this.findController&&(this.findController.matchType=F)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(F,r,I,$,ae={}){var we;this._user=F,this._options=ae,this.eventBufferer=new _.E7,this.onDidChangeFindOpenState=_.ju.None,this.disposables=new v.SL,this._onWillRefilter=new _.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new _.Q5;const ke=new Qe(I),nt=new _.ZD,at=new _.ZD,_t=this.disposables.add(new ie(at.event)),xt=new fe;this.renderers=$.map(Vt=>new Z(Vt,()=>this.model,nt.event,_t,xt,ae));for(const Vt of this.renderers)this.disposables.add(Vt);let Et;ae.keyboardNavigationLabelProvider&&(Et=new se(this,ae.keyboardNavigationLabelProvider,ae.filter),ae=Object.assign(Object.assign({},ae),{filter:Et}),this.disposables.add(Et)),this.focus=new Ie(()=>this.view.getFocusedElements()[0],ae.identityProvider),this.selection=new Ie(()=>this.view.getSelectedElements()[0],ae.identityProvider),this.anchor=new Ie(()=>this.view.getAnchorElement(),ae.identityProvider),this.view=new ge(F,r,ke,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Ue(()=>this.model,ae)),{tree:this})),this.model=this.createModel(F,this.view,ae),nt.input=this.model.onDidChangeCollapseState;const Ft=_.ju.forEach(this.model.onDidSplice,Vt=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Vt),this.selection.onDidModelSplice(Vt)})},this.disposables);if(Ft(()=>null,null,this.disposables),at.input=_.ju.chain(_.ju.any(Ft,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Vt=new Set;for(const Qt of this.focus.getNodes())Vt.add(Qt);for(const Qt of this.selection.getNodes())Vt.add(Qt);return[...Vt.values()]}).event,ae.keyboardSupport!==!1){const Vt=_.ju.chain(this.view.onKeyDown).filter(Qt=>!(0,M.cK)(Qt.target)).map(Qt=>new u.y(Qt));Vt.filter(Qt=>Qt.keyCode===15).on(this.onLeftArrow,this,this.disposables),Vt.filter(Qt=>Qt.keyCode===17).on(this.onRightArrow,this,this.disposables),Vt.filter(Qt=>Qt.keyCode===10).on(this.onSpace,this,this.disposables)}if((!((we=ae.findWidgetEnabled)!==null&&we!==void 0)||we)&&ae.keyboardNavigationLabelProvider&&ae.contextViewProvider){const Vt=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Ze(this,this.model,this.view,Et,ae.contextViewProvider,Vt),this.focusNavigationFilter=Qt=>this.findController.shouldAllowFocus(Qt),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=_.ju.None,this.onDidChangeFindMatchType=_.ju.None;this.styleElement=(0,m.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Re.Always)}updateOptions(F={}){var r;this._options=Object.assign(Object.assign({},this._options),F);for(const I of this.renderers)I.updateOptions(F);this.view.updateOptions(this._options),(r=this.findController)===null||r===void 0||r.updateOptions(F),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Re.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(F){this.view.scrollTop=F}domFocus(){this.view.domFocus()}layout(F,r){var I;this.view.layout(F,r),(0,be.hj)(r)&&((I=this.findController)===null||I===void 0||I.layout(r))}style(F){const r=`.${this.view.domId}`,I=[];F.treeIndentGuidesStroke&&(I.push(`.monaco-list${r}:hover .monaco-tl-indent > .indent-guide, .monaco-list${r}.always .monaco-tl-indent > .indent-guide  { border-color: ${F.treeInactiveIndentGuidesStroke}; }`),I.push(`.monaco-list${r} .monaco-tl-indent > .indent-guide.active { border-color: ${F.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=I.join(`
`),this.view.style(F)}getParentElement(F){const r=this.model.getParentNodeLocation(F);return this.model.getNode(r).element}getFirstElementChild(F){return this.model.getFirstElementChild(F)}getNode(F){return this.model.getNode(F)}getNodeLocation(F){return this.model.getNodeLocation(F)}collapse(F,r=!1){return this.model.setCollapsed(F,!0,r)}expand(F,r=!1){return this.model.setCollapsed(F,!1,r)}toggleCollapsed(F,r=!1){return this.model.setCollapsed(F,void 0,r)}isCollapsible(F){return this.model.isCollapsible(F)}setCollapsible(F,r){return this.model.setCollapsible(F,r)}isCollapsed(F){return this.model.isCollapsed(F)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(F,r){const I=F.map(ae=>this.model.getNode(ae));this.selection.set(I,r);const $=F.map(ae=>this.model.getListIndex(ae)).filter(ae=>ae>-1);this.view.setSelection($,r,!0)}getSelection(){return this.selection.get()}setFocus(F,r){const I=F.map(ae=>this.model.getNode(ae));this.focus.set(I,r);const $=F.map(ae=>this.model.getListIndex(ae)).filter(ae=>ae>-1);this.view.setFocus($,r,!0)}getFocus(){return this.focus.get()}reveal(F,r){this.model.expandTo(F);const I=this.model.getListIndex(F);I!==-1&&this.view.reveal(I,r)}onLeftArrow(F){F.preventDefault(),F.stopPropagation();const r=this.view.getFocusedElements();if(r.length===0)return;const I=r[0],$=this.model.getNodeLocation(I);if(!this.model.setCollapsed($,!0)){const we=this.model.getParentNodeLocation($);if(!we)return;const ke=this.model.getListIndex(we);this.view.reveal(ke),this.view.setFocus([ke])}}onRightArrow(F){F.preventDefault(),F.stopPropagation();const r=this.view.getFocusedElements();if(r.length===0)return;const I=r[0],$=this.model.getNodeLocation(I);if(!this.model.setCollapsed($,!1)){if(!I.children.some(nt=>nt.visible))return;const[we]=this.view.getFocus(),ke=we+1;this.view.reveal(ke),this.view.setFocus([ke])}}onSpace(F){F.preventDefault(),F.stopPropagation();const r=this.view.getFocusedElements();if(r.length===0)return;const I=r[0],$=this.model.getNodeLocation(I),ae=F.browserEvent.altKey;this.model.setCollapsed($,void 0,ae)}dispose(){(0,v.B9)(this.disposables),this.view.dispose()}}class me{constructor(F,r,I={}){this.user=F,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new j(F,r,null,I),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,I.sorter&&(this.sorter={compare($,ae){return I.sorter.compare($.element,ae.element)}}),this.identityProvider=I.identityProvider}setChildren(F,r=k.$.empty(),I={}){const $=this.getElementLocation(F);this._setChildren($,this.preserveCollapseState(r),I)}_setChildren(F,r=k.$.empty(),I){const $=new Set,ae=new Set,we=nt=>{var at;if(nt.element===null)return;const _t=nt;if($.add(_t.element),this.nodes.set(_t.element,_t),this.identityProvider){const xt=this.identityProvider.getId(_t.element).toString();ae.add(xt),this.nodesByIdentity.set(xt,_t)}(at=I.onDidCreateNode)===null||at===void 0||at.call(I,_t)},ke=nt=>{var at;if(nt.element===null)return;const _t=nt;if($.has(_t.element)||this.nodes.delete(_t.element),this.identityProvider){const xt=this.identityProvider.getId(_t.element).toString();ae.has(xt)||this.nodesByIdentity.delete(xt)}(at=I.onDidDeleteNode)===null||at===void 0||at.call(I,_t)};this.model.splice([...F,0],Number.MAX_VALUE,r,Object.assign(Object.assign({},I),{onDidCreateNode:we,onDidDeleteNode:ke}))}preserveCollapseState(F=k.$.empty()){return this.sorter&&(F=[...F].sort(this.sorter.compare.bind(this.sorter))),k.$.map(F,r=>{let I=this.nodes.get(r.element);if(!I&&this.identityProvider){const we=this.identityProvider.getId(r.element).toString();I=this.nodesByIdentity.get(we)}if(!I){let we;return typeof r.collapsed=="undefined"?we=void 0:r.collapsed===x.Collapsed||r.collapsed===x.PreserveOrCollapsed?we=!0:r.collapsed===x.Expanded||r.collapsed===x.PreserveOrExpanded?we=!1:we=Boolean(r.collapsed),Object.assign(Object.assign({},r),{children:this.preserveCollapseState(r.children),collapsed:we})}const $=typeof r.collapsible=="boolean"?r.collapsible:I.collapsible;let ae;return typeof r.collapsed=="undefined"||r.collapsed===x.PreserveOrCollapsed||r.collapsed===x.PreserveOrExpanded?ae=I.collapsed:r.collapsed===x.Collapsed?ae=!0:r.collapsed===x.Expanded?ae=!1:ae=Boolean(r.collapsed),Object.assign(Object.assign({},r),{collapsible:$,collapsed:ae,children:this.preserveCollapseState(r.children)})})}rerender(F){const r=this.getElementLocation(F);this.model.rerender(r)}getFirstElementChild(F=null){const r=this.getElementLocation(F);return this.model.getFirstElementChild(r)}has(F){return this.nodes.has(F)}getListIndex(F){const r=this.getElementLocation(F);return this.model.getListIndex(r)}getListRenderCount(F){const r=this.getElementLocation(F);return this.model.getListRenderCount(r)}isCollapsible(F){const r=this.getElementLocation(F);return this.model.isCollapsible(r)}setCollapsible(F,r){const I=this.getElementLocation(F);return this.model.setCollapsible(I,r)}isCollapsed(F){const r=this.getElementLocation(F);return this.model.isCollapsed(r)}setCollapsed(F,r,I){const $=this.getElementLocation(F);return this.model.setCollapsed($,r,I)}expandTo(F){const r=this.getElementLocation(F);this.model.expandTo(r)}refilter(){this.model.refilter()}getNode(F=null){if(F===null)return this.model.getNode(this.model.rootRef);const r=this.nodes.get(F);if(!r)throw new W(this.user,`Tree element not found: ${F}`);return r}getNodeLocation(F){return F.element}getParentNodeLocation(F){if(F===null)throw new W(this.user,"Invalid getParentNodeLocation call");const r=this.nodes.get(F);if(!r)throw new W(this.user,`Tree element not found: ${F}`);const I=this.model.getNodeLocation(r),$=this.model.getParentNodeLocation(I);return this.model.getNode($).element}getElementLocation(F){if(F===null)return[];const r=this.nodes.get(F);if(!r)throw new W(this.user,`Tree element not found: ${F}`);return this.model.getNodeLocation(r)}}function Me(Kt){const F=[Kt.element],r=Kt.incompressible||!1;return{element:{elements:F,incompressible:r},children:k.$.map(k.$.from(Kt.children),Me),collapsible:Kt.collapsible,collapsed:Kt.collapsed}}function qe(Kt){const F=[Kt.element],r=Kt.incompressible||!1;let I,$;for(;[$,I]=k.$.consume(k.$.from(Kt.children),2),!($.length!==1||$[0].incompressible);)Kt=$[0],F.push(Kt.element);return{element:{elements:F,incompressible:r},children:k.$.map(k.$.concat($,I),qe),collapsible:Kt.collapsible,collapsed:Kt.collapsed}}function ot(Kt,F=0){let r;return F<Kt.element.elements.length-1?r=[ot(Kt,F+1)]:r=k.$.map(k.$.from(Kt.children),I=>ot(I,0)),F===0&&Kt.element.incompressible?{element:Kt.element.elements[F],children:r,incompressible:!0,collapsible:Kt.collapsible,collapsed:Kt.collapsed}:{element:Kt.element.elements[F],children:r,collapsible:Kt.collapsible,collapsed:Kt.collapsed}}function ut(Kt){return ot(Kt,0)}function ht(Kt,F,r){return Kt.element===F?Object.assign(Object.assign({},Kt),{children:r}):Object.assign(Object.assign({},Kt),{children:k.$.map(k.$.from(Kt.children),I=>ht(I,F,r))})}const Ct=Kt=>({getId(F){return F.elements.map(r=>Kt.getId(r).toString()).join("\0")}});class Pt{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(F,r,I={}){this.user=F,this.rootRef=null,this.nodes=new Map,this.model=new me(F,r,I),this.enabled=typeof I.compressionEnabled=="undefined"?!0:I.compressionEnabled,this.identityProvider=I.identityProvider}setChildren(F,r=k.$.empty(),I){const $=I.diffIdentityProvider&&Ct(I.diffIdentityProvider);if(F===null){const Ft=k.$.map(r,this.enabled?qe:Me);this._setChildren(null,Ft,{diffIdentityProvider:$,diffDepth:1/0});return}const ae=this.nodes.get(F);if(!ae)throw new W(this.user,"Unknown compressed tree node");const we=this.model.getNode(ae),ke=this.model.getParentNodeLocation(ae),nt=this.model.getNode(ke),at=ut(we),_t=ht(at,F,r),xt=(this.enabled?qe:Me)(_t),Et=nt.children.map(Ft=>Ft===we?xt:Ft);this._setChildren(nt.element,Et,{diffIdentityProvider:$,diffDepth:we.depth-nt.depth})}setCompressionEnabled(F){if(F===this.enabled)return;this.enabled=F;const I=this.model.getNode().children,$=k.$.map(I,ut),ae=k.$.map($,F?qe:Me);this._setChildren(null,ae,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(F,r,I){const $=new Set,ae=ke=>{for(const nt of ke.element.elements)$.add(nt),this.nodes.set(nt,ke.element)},we=ke=>{for(const nt of ke.element.elements)$.has(nt)||this.nodes.delete(nt)};this.model.setChildren(F,r,Object.assign(Object.assign({},I),{onDidCreateNode:ae,onDidDeleteNode:we}))}has(F){return this.nodes.has(F)}getListIndex(F){const r=this.getCompressedNode(F);return this.model.getListIndex(r)}getListRenderCount(F){const r=this.getCompressedNode(F);return this.model.getListRenderCount(r)}getNode(F){if(typeof F=="undefined")return this.model.getNode();const r=this.getCompressedNode(F);return this.model.getNode(r)}getNodeLocation(F){const r=this.model.getNodeLocation(F);return r===null?null:r.elements[r.elements.length-1]}getParentNodeLocation(F){const r=this.getCompressedNode(F),I=this.model.getParentNodeLocation(r);return I===null?null:I.elements[I.elements.length-1]}getFirstElementChild(F){const r=this.getCompressedNode(F);return this.model.getFirstElementChild(r)}isCollapsible(F){const r=this.getCompressedNode(F);return this.model.isCollapsible(r)}setCollapsible(F,r){const I=this.getCompressedNode(F);return this.model.setCollapsible(I,r)}isCollapsed(F){const r=this.getCompressedNode(F);return this.model.isCollapsed(r)}setCollapsed(F,r,I){const $=this.getCompressedNode(F);return this.model.setCollapsed($,r,I)}expandTo(F){const r=this.getCompressedNode(F);this.model.expandTo(r)}rerender(F){const r=this.getCompressedNode(F);this.model.rerender(r)}refilter(){this.model.refilter()}getCompressedNode(F){if(F===null)return null;const r=this.nodes.get(F);if(!r)throw new W(this.user,`Tree element not found: ${F}`);return r}}const bt=Kt=>Kt[Kt.length-1];class $t{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(F=>new $t(this.unwrapper,F))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(F,r){this.unwrapper=F,this.node=r}}function Mt(Kt,F){return{splice(r,I,$){F.splice(r,I,$.map(ae=>Kt.map(ae)))},updateElementHeight(r,I){F.updateElementHeight(r,I)}}}function Xe(Kt,F){return Object.assign(Object.assign({},F),{identityProvider:F.identityProvider&&{getId(r){return F.identityProvider.getId(Kt(r))}},sorter:F.sorter&&{compare(r,I){return F.sorter.compare(r.elements[0],I.elements[0])}},filter:F.filter&&{filter(r,I){return F.filter.filter(Kt(r),I)}}})}class Lt{get onDidSplice(){return _.ju.map(this.model.onDidSplice,({insertedNodes:F,deletedNodes:r})=>({insertedNodes:F.map(I=>this.nodeMapper.map(I)),deletedNodes:r.map(I=>this.nodeMapper.map(I))}))}get onDidChangeCollapseState(){return _.ju.map(this.model.onDidChangeCollapseState,({node:F,deep:r})=>({node:this.nodeMapper.map(F),deep:r}))}get onDidChangeRenderNodeCount(){return _.ju.map(this.model.onDidChangeRenderNodeCount,F=>this.nodeMapper.map(F))}constructor(F,r,I={}){this.rootRef=null,this.elementMapper=I.elementMapper||bt;const $=ae=>this.elementMapper(ae.elements);this.nodeMapper=new U(ae=>new $t($,ae)),this.model=new Pt(F,Mt(this.nodeMapper,r),Xe($,I))}setChildren(F,r=k.$.empty(),I={}){this.model.setChildren(F,r,I)}setCompressionEnabled(F){this.model.setCompressionEnabled(F)}has(F){return this.model.has(F)}getListIndex(F){return this.model.getListIndex(F)}getListRenderCount(F){return this.model.getListRenderCount(F)}getNode(F){return this.nodeMapper.map(this.model.getNode(F))}getNodeLocation(F){return F.element}getParentNodeLocation(F){return this.model.getParentNodeLocation(F)}getFirstElementChild(F){const r=this.model.getFirstElementChild(F);return r===null||typeof r=="undefined"?r:this.elementMapper(r.elements)}isCollapsible(F){return this.model.isCollapsible(F)}setCollapsible(F,r){return this.model.setCollapsible(F,r)}isCollapsed(F){return this.model.isCollapsed(F)}setCollapsed(F,r,I){return this.model.setCollapsed(F,r,I)}expandTo(F){return this.model.expandTo(F)}rerender(F){return this.model.rerender(F)}refilter(){return this.model.refilter()}getCompressedTreeNode(F=null){return this.model.getNode(F)}}var Xt=i(4848),zt=function(Kt,F,r,I){var $=arguments.length,ae=$<3?F:I===null?I=Object.getOwnPropertyDescriptor(F,r):I,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(Kt,F,r,I);else for(var ke=Kt.length-1;ke>=0;ke--)(we=Kt[ke])&&(ae=($<3?we(ae):$>3?we(F,r,ae):we(F,r))||ae);return $>3&&ae&&Object.defineProperty(F,r,ae),ae};class Fe extends Ce{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(F,r,I,$,ae={}){super(F,r,I,$,ae),this.user=F}setChildren(F,r=k.$.empty(),I){this.model.setChildren(F,r,I)}rerender(F){if(F===void 0){this.view.rerender();return}this.model.rerender(F)}hasElement(F){return this.model.has(F)}createModel(F,r,I){return new me(F,r,I)}}class et{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(F,r){this._compressedTreeNodeProvider=F,this.renderer=r,this.templateId=r.templateId,r.onDidChangeTwistieState&&(this.onDidChangeTwistieState=r.onDidChangeTwistieState)}renderTemplate(F){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(F)}}renderElement(F,r,I,$){const ae=this.compressedTreeNodeProvider.getCompressedTreeNode(F.element);ae.element.elements.length===1?(I.compressedTreeNode=void 0,this.renderer.renderElement(F,r,I.data,$)):(I.compressedTreeNode=ae,this.renderer.renderCompressedElements(ae,r,I.data,$))}disposeElement(F,r,I,$){var ae,we,ke,nt;I.compressedTreeNode?(we=(ae=this.renderer).disposeCompressedElements)===null||we===void 0||we.call(ae,I.compressedTreeNode,r,I.data,$):(nt=(ke=this.renderer).disposeElement)===null||nt===void 0||nt.call(ke,F,r,I.data,$)}disposeTemplate(F){this.renderer.disposeTemplate(F.data)}renderTwistie(F,r){return this.renderer.renderTwistie?this.renderer.renderTwistie(F,r):!1}}zt([Xt.H],et.prototype,"compressedTreeNodeProvider",null);function pt(Kt,F){return F&&Object.assign(Object.assign({},F),{keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(r){let I;try{I=Kt().getCompressedTreeNode(r)}catch($){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(r)}return I.element.elements.length===1?F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(r):F.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(I.element.elements)}}})}class It extends Fe{constructor(F,r,I,$,ae={}){const we=()=>this,ke=$.map(nt=>new et(we,nt));super(F,r,I,ke,pt(we,ae))}setChildren(F,r=k.$.empty(),I){this.model.setChildren(F,r,I)}createModel(F,r,I){return new Lt(F,r,I)}updateOptions(F={}){super.updateOptions(F),typeof F.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(F.compressionEnabled)}getCompressedTreeNode(F=null){return this.model.getCompressedTreeNode(F)}}var kt=i(20996),yt=function(Kt,F,r,I){function $(ae){return ae instanceof r?ae:new r(function(we){we(ae)})}return new(r||(r=Promise))(function(ae,we){function ke(_t){try{at(I.next(_t))}catch(xt){we(xt)}}function nt(_t){try{at(I.throw(_t))}catch(xt){we(xt)}}function at(_t){_t.done?ae(_t.value):$(_t.value).then(ke,nt)}at((I=I.apply(Kt,F||[])).next())})};function St(Kt){return Object.assign(Object.assign({},Kt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Gt(Kt,F){return F.parent?F.parent===Kt?!0:Gt(Kt,F.parent):!1}function ti(Kt,F){return Kt===F||Gt(Kt,F)||Gt(F,Kt)}class ri{get element(){return this.node.element.element}get children(){return this.node.children.map(F=>new ri(F))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(F){this.node=F}}class li{constructor(F,r,I){this.renderer=F,this.nodeMapper=r,this.onDidChangeTwistieState=I,this.renderedNodes=new Map,this.templateId=F.templateId}renderTemplate(F){return{templateData:this.renderer.renderTemplate(F)}}renderElement(F,r,I,$){this.renderer.renderElement(this.nodeMapper.map(F),r,I.templateData,$)}renderTwistie(F,r){return F.slow?(r.classList.add(...ee.k.asClassNameArray(Y.l.treeItemLoading)),!0):(r.classList.remove(...ee.k.asClassNameArray(Y.l.treeItemLoading)),!1)}disposeElement(F,r,I,$){var ae,we;(we=(ae=this.renderer).disposeElement)===null||we===void 0||we.call(ae,this.nodeMapper.map(F),r,I.templateData,$)}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}dispose(){this.renderedNodes.clear()}}function gi(Kt){return{browserEvent:Kt.browserEvent,elements:Kt.elements.map(F=>F.element)}}function Pi(Kt){return{browserEvent:Kt.browserEvent,element:Kt.element&&Kt.element.element,target:Kt.target}}class Hi extends N.kX{constructor(F){super(F.elements.map(r=>r.element)),this.data=F}}function ji(Kt){return Kt instanceof N.kX?new Hi(Kt):Kt}class bn{constructor(F){this.dnd=F}getDragURI(F){return this.dnd.getDragURI(F.element)}getDragLabel(F,r){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(F.map(I=>I.element),r)}onDragStart(F,r){var I,$;($=(I=this.dnd).onDragStart)===null||$===void 0||$.call(I,ji(F),r)}onDragOver(F,r,I,$,ae=!0){return this.dnd.onDragOver(ji(F),r&&r.element,I,$)}drop(F,r,I,$){this.dnd.drop(ji(F),r&&r.element,I,$)}onDragEnd(F){var r,I;(I=(r=this.dnd).onDragEnd)===null||I===void 0||I.call(r,F)}}function Rn(Kt){return Kt&&Object.assign(Object.assign({},Kt),{collapseByDefault:!0,identityProvider:Kt.identityProvider&&{getId(F){return Kt.identityProvider.getId(F.element)}},dnd:Kt.dnd&&new bn(Kt.dnd),multipleSelectionController:Kt.multipleSelectionController&&{isSelectionSingleChangeEvent(F){return Kt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},F),{element:F.element}))},isSelectionRangeChangeEvent(F){return Kt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},F),{element:F.element}))}},accessibilityProvider:Kt.accessibilityProvider&&Object.assign(Object.assign({},Kt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Kt.accessibilityProvider.getRole?F=>Kt.accessibilityProvider.getRole(F.element):()=>"treeitem",isChecked:Kt.accessibilityProvider.isChecked?F=>{var r;return!!(!((r=Kt.accessibilityProvider)===null||r===void 0)&&r.isChecked(F.element))}:void 0,getAriaLabel(F){return Kt.accessibilityProvider.getAriaLabel(F.element)},getWidgetAriaLabel(){return Kt.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:Kt.accessibilityProvider.getWidgetRole?()=>Kt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Kt.accessibilityProvider.getAriaLevel&&(F=>Kt.accessibilityProvider.getAriaLevel(F.element)),getActiveDescendantId:Kt.accessibilityProvider.getActiveDescendantId&&(F=>Kt.accessibilityProvider.getActiveDescendantId(F.element))}),filter:Kt.filter&&{filter(F,r){return Kt.filter.filter(F.element,r)}},keyboardNavigationLabelProvider:Kt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Kt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(F){return Kt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(F.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof Kt.expandOnlyOnTwistieClick=="undefined"?void 0:typeof Kt.expandOnlyOnTwistieClick!="function"?Kt.expandOnlyOnTwistieClick:F=>Kt.expandOnlyOnTwistieClick(F.element),defaultFindVisibility:F=>F.hasChildren&&F.stale?1:typeof Kt.defaultFindVisibility=="number"?Kt.defaultFindVisibility:typeof Kt.defaultFindVisibility=="undefined"?2:Kt.defaultFindVisibility(F.element)})}function bs(Kt,F){F(Kt),Kt.children.forEach(r=>bs(r,F))}class ms{get onDidChangeFocus(){return _.ju.map(this.tree.onDidChangeFocus,gi)}get onDidChangeSelection(){return _.ju.map(this.tree.onDidChangeSelection,gi)}get onMouseDblClick(){return _.ju.map(this.tree.onMouseDblClick,Pi)}get onPointer(){return _.ju.map(this.tree.onPointer,Pi)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(F,r,I,$,ae,we={}){this.user=F,this.dataSource=ae,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new _.Q5,this._onDidChangeNodeSlowState=new _.Q5,this.nodeMapper=new U(ke=>new ri(ke)),this.disposables=new v.SL,this.identityProvider=we.identityProvider,this.autoExpandSingleChildren=typeof we.autoExpandSingleChildren=="undefined"?!1:we.autoExpandSingleChildren,this.sorter=we.sorter,this.collapseByDefault=we.collapseByDefault,this.tree=this.createTree(F,r,I,$,we),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=St({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(F,r,I,$,ae){const we=new Qe(I),ke=$.map(at=>new li(at,this.nodeMapper,this._onDidChangeNodeSlowState.event)),nt=Rn(ae)||{};return new Fe(F,r,we,ke,nt)}updateOptions(F={}){this.tree.updateOptions(F)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(F){this.tree.scrollTop=F}domFocus(){this.tree.domFocus()}layout(F,r){this.tree.layout(F,r)}style(F){this.tree.style(F)}getInput(){return this.root.element}setInput(F,r){return yt(this,void 0,void 0,function*(){this.refreshPromises.forEach($=>$.cancel()),this.refreshPromises.clear(),this.root.element=F;const I=r&&{viewState:r,focus:[],selection:[]};yield this._updateChildren(F,!0,!1,I),I&&(this.tree.setFocus(I.focus),this.tree.setSelection(I.selection)),r&&typeof r.scrollTop=="number"&&(this.scrollTop=r.scrollTop)})}_updateChildren(F=this.root.element,r=!0,I=!1,$,ae){return yt(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new W(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield _.ju.toPromise(this._onDidRender.event));const we=this.getDataNode(F);if(yield this.refreshAndRenderNode(we,r,$,ae),I)try{this.tree.rerender(we)}catch(ke){}})}rerender(F){if(F===void 0||F===this.root.element){this.tree.rerender();return}const r=this.getDataNode(F);this.tree.rerender(r)}getNode(F=this.root.element){const r=this.getDataNode(F),I=this.tree.getNode(r===this.root?null:r);return this.nodeMapper.map(I)}collapse(F,r=!1){const I=this.getDataNode(F);return this.tree.collapse(I===this.root?null:I,r)}expand(F,r=!1){return yt(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new W(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield _.ju.toPromise(this._onDidRender.event));const I=this.getDataNode(F);if(this.tree.hasElement(I)&&!this.tree.isCollapsible(I)||(I.refreshPromise&&(yield this.root.refreshPromise,yield _.ju.toPromise(this._onDidRender.event)),I!==this.root&&!I.refreshPromise&&!this.tree.isCollapsed(I)))return!1;const $=this.tree.expand(I===this.root?null:I,r);return I.refreshPromise&&(yield this.root.refreshPromise,yield _.ju.toPromise(this._onDidRender.event)),$})}setSelection(F,r){const I=F.map($=>this.getDataNode($));this.tree.setSelection(I,r)}getSelection(){return this.tree.getSelection().map(r=>r.element)}setFocus(F,r){const I=F.map($=>this.getDataNode($));this.tree.setFocus(I,r)}getFocus(){return this.tree.getFocus().map(r=>r.element)}reveal(F,r){this.tree.reveal(this.getDataNode(F),r)}getParentElement(F){const r=this.tree.getParentElement(this.getDataNode(F));return r&&r.element}getFirstElementChild(F=this.root.element){const r=this.getDataNode(F),I=this.tree.getFirstElementChild(r===this.root?null:r);return I&&I.element}getDataNode(F){const r=this.nodes.get(F===this.root.element?null:F);if(!r)throw new W(this.user,`Data tree node not found: ${F}`);return r}refreshAndRenderNode(F,r,I,$){return yt(this,void 0,void 0,function*(){yield this.refreshNode(F,r,I),this.render(F,I,$)})}refreshNode(F,r,I){return yt(this,void 0,void 0,function*(){let $;if(this.subTreeRefreshPromises.forEach((ae,we)=>{!$&&ti(we,F)&&($=ae.then(()=>this.refreshNode(F,r,I)))}),$)return $;if(F!==this.root&&this.tree.getNode(F).collapsed){F.hasChildren=!!this.dataSource.hasChildren(F.element),F.stale=!0;return}return this.doRefreshSubTree(F,r,I)})}doRefreshSubTree(F,r,I){return yt(this,void 0,void 0,function*(){let $;F.refreshPromise=new Promise(ae=>$=ae),this.subTreeRefreshPromises.set(F,F.refreshPromise),F.refreshPromise.finally(()=>{F.refreshPromise=void 0,this.subTreeRefreshPromises.delete(F)});try{const ae=yield this.doRefreshNode(F,r,I);F.stale=!1,yield K.jT.settled(ae.map(we=>this.doRefreshSubTree(we,r,I)))}finally{$()}})}doRefreshNode(F,r,I){return yt(this,void 0,void 0,function*(){F.hasChildren=!!this.dataSource.hasChildren(F.element);let $;if(!F.hasChildren)$=Promise.resolve(k.$.empty());else{const ae=this.doGetChildren(F);if((0,be.TW)(ae))$=Promise.resolve(ae);else{const we=(0,K.Vs)(800);we.then(()=>{F.slow=!0,this._onDidChangeNodeSlowState.fire(F)},ke=>null),$=ae.finally(()=>we.cancel())}}try{const ae=yield $;return this.setChildren(F,ae,r,I)}catch(ae){if(F!==this.root&&this.tree.hasElement(F)&&this.tree.collapse(F),(0,kt.n2)(ae))return[];throw ae}finally{F.slow&&(F.slow=!1,this._onDidChangeNodeSlowState.fire(F))}})}doGetChildren(F){let r=this.refreshPromises.get(F);if(r)return r;const I=this.dataSource.getChildren(F.element);return(0,be.TW)(I)?this.processChildren(I):(r=(0,K.PG)(()=>yt(this,void 0,void 0,function*(){return this.processChildren(yield I)})),this.refreshPromises.set(F,r),r.finally(()=>{this.refreshPromises.delete(F)}))}_onDidChangeCollapseState({node:F,deep:r}){F.element!==null&&!F.collapsed&&F.element.stale&&(r?this.collapse(F.element.element):this.refreshAndRenderNode(F.element,!1).catch(kt.dL))}setChildren(F,r,I,$){const ae=[...r];if(F.children.length===0&&ae.length===0)return[];const we=new Map,ke=new Map;for(const _t of F.children)if(we.set(_t.element,_t),this.identityProvider){const xt=this.tree.isCollapsed(_t);ke.set(_t.id,{node:_t,collapsed:xt})}const nt=[],at=ae.map(_t=>{const xt=!!this.dataSource.hasChildren(_t);if(!this.identityProvider){const Qt=St({element:_t,parent:F,hasChildren:xt});return xt&&this.collapseByDefault&&!this.collapseByDefault(_t)&&(Qt.collapsedByDefault=!1,nt.push(Qt)),Qt}const Et=this.identityProvider.getId(_t).toString(),Ft=ke.get(Et);if(Ft){const Qt=Ft.node;return we.delete(Qt.element),this.nodes.delete(Qt.element),this.nodes.set(_t,Qt),Qt.element=_t,Qt.hasChildren=xt,I?Ft.collapsed?(Qt.children.forEach(si=>bs(si,wi=>this.nodes.delete(wi.element))),Qt.children.splice(0,Qt.children.length),Qt.stale=!0):nt.push(Qt):xt&&this.collapseByDefault&&!this.collapseByDefault(_t)&&(Qt.collapsedByDefault=!1,nt.push(Qt)),Qt}const Vt=St({element:_t,parent:F,id:Et,hasChildren:xt});return $&&$.viewState.focus&&$.viewState.focus.indexOf(Et)>-1&&$.focus.push(Vt),$&&$.viewState.selection&&$.viewState.selection.indexOf(Et)>-1&&$.selection.push(Vt),$&&$.viewState.expanded&&$.viewState.expanded.indexOf(Et)>-1?nt.push(Vt):xt&&this.collapseByDefault&&!this.collapseByDefault(_t)&&(Vt.collapsedByDefault=!1,nt.push(Vt)),Vt});for(const _t of we.values())bs(_t,xt=>this.nodes.delete(xt.element));for(const _t of at)this.nodes.set(_t.element,_t);return F.children.splice(0,F.children.length,...at),F!==this.root&&this.autoExpandSingleChildren&&at.length===1&&nt.length===0&&(at[0].collapsedByDefault=!1,nt.push(at[0])),nt}render(F,r,I){const $=F.children.map(we=>this.asTreeElement(we,r)),ae=I&&Object.assign(Object.assign({},I),{diffIdentityProvider:I.diffIdentityProvider&&{getId(we){return I.diffIdentityProvider.getId(we.element)}}});this.tree.setChildren(F===this.root?null:F,$,ae),F!==this.root&&this.tree.setCollapsible(F,F.hasChildren),this._onDidRender.fire()}asTreeElement(F,r){if(F.stale)return{element:F,collapsible:F.hasChildren,collapsed:!0};let I;return r&&r.viewState.expanded&&F.id&&r.viewState.expanded.indexOf(F.id)>-1?I=!1:I=F.collapsedByDefault,F.collapsedByDefault=void 0,{element:F,children:F.hasChildren?k.$.map(F.children,$=>this.asTreeElement($,r)):[],collapsible:F.hasChildren,collapsed:I}}processChildren(F){return this.sorter&&(F=[...F].sort(this.sorter.compare.bind(this.sorter))),F}dispose(){this.disposables.dispose()}}class ki{get element(){return{elements:this.node.element.elements.map(F=>F.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(F=>new ki(F))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(F){this.node=F}}class Vi{constructor(F,r,I,$){this.renderer=F,this.nodeMapper=r,this.compressibleNodeMapperProvider=I,this.onDidChangeTwistieState=$,this.renderedNodes=new Map,this.disposables=[],this.templateId=F.templateId}renderTemplate(F){return{templateData:this.renderer.renderTemplate(F)}}renderElement(F,r,I,$){this.renderer.renderElement(this.nodeMapper.map(F),r,I.templateData,$)}renderCompressedElements(F,r,I,$){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(F),r,I.templateData,$)}renderTwistie(F,r){return F.slow?(r.classList.add(...ee.k.asClassNameArray(Y.l.treeItemLoading)),!0):(r.classList.remove(...ee.k.asClassNameArray(Y.l.treeItemLoading)),!1)}disposeElement(F,r,I,$){var ae,we;(we=(ae=this.renderer).disposeElement)===null||we===void 0||we.call(ae,this.nodeMapper.map(F),r,I.templateData,$)}disposeCompressedElements(F,r,I,$){var ae,we;(we=(ae=this.renderer).disposeCompressedElements)===null||we===void 0||we.call(ae,this.compressibleNodeMapperProvider().map(F),r,I.templateData,$)}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,v.B9)(this.disposables)}}function Ki(Kt){const F=Kt&&Rn(Kt);return F&&Object.assign(Object.assign({},F),{keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(r){return Kt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(r.map(I=>I.element))}})})}class es extends ms{constructor(F,r,I,$,ae,we,ke={}){super(F,r,I,ae,we,ke),this.compressionDelegate=$,this.compressibleNodeMapper=new U(nt=>new ki(nt)),this.filter=ke.filter}createTree(F,r,I,$,ae){const we=new Qe(I),ke=$.map(at=>new Vi(at,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),nt=Ki(ae)||{};return new It(F,r,we,ke,nt)}asTreeElement(F,r){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(F.element)},super.asTreeElement(F,r))}updateOptions(F={}){this.tree.updateOptions(F)}render(F,r){if(!this.identityProvider)return super.render(F,r);const I=Et=>this.identityProvider.getId(Et).toString(),$=Et=>{const Ft=new Set;for(const Vt of Et){const Qt=this.tree.getCompressedTreeNode(Vt===this.root?null:Vt);if(Qt.element)for(const si of Qt.element.elements)Ft.add(I(si.element))}return Ft},ae=$(this.tree.getSelection()),we=$(this.tree.getFocus());super.render(F,r);const ke=this.getSelection();let nt=!1;const at=this.getFocus();let _t=!1;const xt=Et=>{const Ft=Et.element;if(Ft)for(let Vt=0;Vt<Ft.elements.length;Vt++){const Qt=I(Ft.elements[Vt].element),si=Ft.elements[Ft.elements.length-1].element;ae.has(Qt)&&ke.indexOf(si)===-1&&(ke.push(si),nt=!0),we.has(Qt)&&at.indexOf(si)===-1&&(at.push(si),_t=!0)}Et.children.forEach(xt)};xt(this.tree.getCompressedTreeNode(F===this.root?null:F)),nt&&this.setSelection(ke),_t&&this.setFocus(at)}processChildren(F){return this.filter&&(F=k.$.filter(F,r=>{const I=this.filter.filter(r,1),$=Ls(I);if($===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return $===1})),super.processChildren(F)}}function Ls(Kt){return typeof Kt=="boolean"?Kt?1:0:q(Kt)?te(Kt.visibility):te(Kt)}class ts extends Ce{constructor(F,r,I,$,ae,we={}){super(F,r,I,$,we),this.user=F,this.dataSource=ae,this.identityProvider=we.identityProvider}createModel(F,r,I){return new me(F,r,I)}}var Kn=i(71177),Wn=i(12326),yn=i(76826),en=i(57131),Ms=i(36953),Ss=i(44333),ps=i(62297),oo=i(6325),hs=i(60140),Ts=function(Kt,F,r,I){var $=arguments.length,ae=$<3?F:I===null?I=Object.getOwnPropertyDescriptor(F,r):I,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(Kt,F,r,I);else for(var ke=Kt.length-1;ke>=0;ke--)(we=Kt[ke])&&(ae=($<3?we(ae):$>3?we(F,r,ae):we(F,r))||ae);return $>3&&ae&&Object.defineProperty(F,r,ae),ae},In=function(Kt,F){return function(r,I){F(r,I,Kt)}};const Yn=(0,Ss.yh)("listService");class pi{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new v.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(F){var r,I;F!==this._lastFocusedWidget&&((r=this._lastFocusedWidget)===null||r===void 0||r.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=F,(I=this._lastFocusedWidget)===null||I===void 0||I.getHTMLElement().classList.add("last-focused"))}register(F,r){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new M.wD((0,m.dS)(),"").style(hs.O2)),this.lists.some($=>$.widget===F))throw new Error("Cannot register the same widget multiple times");const I={widget:F,extraContextKeys:r};return this.lists.push(I),F.getHTMLElement()===document.activeElement&&this.setLastFocusedList(F),(0,v.F8)(F.onDidFocus(()=>this.setLastFocusedList(F)),(0,v.OF)(()=>this.lists.splice(this.lists.indexOf(I),1)),F.onDidDispose(()=>{this.lists=this.lists.filter($=>$!==I),this._lastFocusedWidget===F&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const ci=new yn.uy("listFocus",!0),ui=new yn.uy("listSupportsMultiselect",!0),wt=yn.Ao.and(ci,yn.Ao.not(en.d0)),mt=new yn.uy("listHasSelectionOrFocus",!1),Oe=new yn.uy("listDoubleSelection",!1),le=new yn.uy("listMultiSelection",!1),Be=new yn.uy("listSelectionNavigation",!1),Ke=new yn.uy("listSupportsFind",!0),Ge=new yn.uy("treeElementCanCollapse",!1),ye=new yn.uy("treeElementHasParent",!1),ze=new yn.uy("treeElementCanExpand",!1),lt=new yn.uy("treeElementHasChild",!1),Rt=new yn.uy("treeFindOpen",!1),Bt="listTypeNavigationMode",At="listAutomaticKeyboardNavigation";function ii(Kt,F){const r=Kt.createScoped(F.getHTMLElement());return ci.bindTo(r),r}const vi="workbench.list.multiSelectModifier",yi="workbench.list.openMode",hi="workbench.list.horizontalScrolling",Si="workbench.list.defaultFindMode",Oi="workbench.list.typeNavigationMode",Ai="workbench.list.keyboardNavigation",Zi="workbench.list.scrollByPage",pn="workbench.list.defaultFindMatchType",Pn="workbench.tree.indent",cs="workbench.tree.renderIndentGuides",ds="workbench.list.smoothScrolling",Es="workbench.list.mouseWheelScrollSensitivity",ro="workbench.list.fastScrollSensitivity",Gs="workbench.tree.expandMode";function Ws(Kt){return Kt.getValue(vi)==="alt"}class Hr extends v.JT{constructor(F){super(),this.configurationService=F,this.useAltAsMultipleSelectionModifier=Ws(F),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(F=>{F.affectsConfiguration(vi)&&(this.useAltAsMultipleSelectionModifier=Ws(this.configurationService))}))}isSelectionSingleChangeEvent(F){return this.useAltAsMultipleSelectionModifier?F.browserEvent.altKey:(0,M.Zo)(F)}isSelectionRangeChangeEvent(F){return(0,M.wn)(F)}}function Fn(Kt,F){var r;const I=Kt.get(Kn.Ui),$=Kt.get(ps.d),ae=new v.SL;return[Object.assign(Object.assign({},F),{keyboardNavigationDelegate:{mightProducePrintableCharacter(ke){return $.mightProducePrintableCharacter(ke)}},smoothScrolling:Boolean(I.getValue(ds)),mouseWheelScrollSensitivity:I.getValue(Es),fastScrollSensitivity:I.getValue(ro),multipleSelectionController:(r=F.multipleSelectionController)!==null&&r!==void 0?r:ae.add(new Hr(I)),keyboardNavigationEventFilter:oi($),scrollByPage:Boolean(I.getValue(Zi))}),ae]}let Ci=class extends M.aV{constructor(F,r,I,$,ae,we,ke,nt,at){const _t=typeof ae.horizontalScrolling!="undefined"?ae.horizontalScrolling:Boolean(nt.getValue(hi)),[xt,Et]=at.invokeFunction(Fn,ae);super(F,r,I,$,Object.assign(Object.assign({keyboardSupport:!1},xt),{horizontalScrolling:_t})),this.disposables.add(Et),this.contextKeyService=ii(we,this),this.listSupportsMultiSelect=ui.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ae.multipleSelectionSupport!==!1),Be.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this.listHasSelectionOrFocus=mt.bindTo(this.contextKeyService),this.listDoubleSelection=Oe.bindTo(this.contextKeyService),this.listMultiSelection=le.bindTo(this.contextKeyService),this.horizontalScrolling=ae.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Ws(nt),this.disposables.add(this.contextKeyService),this.disposables.add(ke.register(this)),this.updateStyles(ae.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Vt=this.getSelection(),Qt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Vt.length>0||Qt.length>0),this.listMultiSelection.set(Vt.length>1),this.listDoubleSelection.set(Vt.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Vt=this.getSelection(),Qt=this.getFocus();this.listHasSelectionOrFocus.set(Vt.length>0||Qt.length>0)})),this.disposables.add(nt.onDidChangeConfiguration(Vt=>{Vt.affectsConfiguration(vi)&&(this._useAltAsMultipleSelectionModifier=Ws(nt));let Qt={};if(Vt.affectsConfiguration(hi)&&this.horizontalScrolling===void 0){const si=Boolean(nt.getValue(hi));Qt=Object.assign(Object.assign({},Qt),{horizontalScrolling:si})}if(Vt.affectsConfiguration(Zi)){const si=Boolean(nt.getValue(Zi));Qt=Object.assign(Object.assign({},Qt),{scrollByPage:si})}if(Vt.affectsConfiguration(ds)){const si=Boolean(nt.getValue(ds));Qt=Object.assign(Object.assign({},Qt),{smoothScrolling:si})}if(Vt.affectsConfiguration(Es)){const si=nt.getValue(Es);Qt=Object.assign(Object.assign({},Qt),{mouseWheelScrollSensitivity:si})}if(Vt.affectsConfiguration(ro)){const si=nt.getValue(ro);Qt=Object.assign(Object.assign({},Qt),{fastScrollSensitivity:si})}Object.keys(Qt).length>0&&this.updateOptions(Qt)})),this.navigator=new Wt(this,Object.assign({configurationService:nt},ae)),this.disposables.add(this.navigator)}updateOptions(F){super.updateOptions(F),F.overrideStyles!==void 0&&this.updateStyles(F.overrideStyles),F.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!F.multipleSelectionSupport)}updateStyles(F){this.style(F?(0,hs.TU)(F):hs.O2)}};Ci=Ts([In(5,yn.i6),In(6,Yn),In(7,Kn.Ui),In(8,Ss.TG)],Ci);let Xi=class extends l{constructor(F,r,I,$,ae,we,ke,nt,at){const _t=typeof ae.horizontalScrolling!="undefined"?ae.horizontalScrolling:Boolean(nt.getValue(hi)),[xt,Et]=at.invokeFunction(Fn,ae);super(F,r,I,$,Object.assign(Object.assign({keyboardSupport:!1},xt),{horizontalScrolling:_t})),this.disposables=new v.SL,this.disposables.add(Et),this.contextKeyService=ii(we,this),this.horizontalScrolling=ae.horizontalScrolling,this.listSupportsMultiSelect=ui.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ae.multipleSelectionSupport!==!1),Be.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this._useAltAsMultipleSelectionModifier=Ws(nt),this.disposables.add(this.contextKeyService),this.disposables.add(ke.register(this)),this.updateStyles(ae.overrideStyles),this.disposables.add(nt.onDidChangeConfiguration(Vt=>{Vt.affectsConfiguration(vi)&&(this._useAltAsMultipleSelectionModifier=Ws(nt));let Qt={};if(Vt.affectsConfiguration(hi)&&this.horizontalScrolling===void 0){const si=Boolean(nt.getValue(hi));Qt=Object.assign(Object.assign({},Qt),{horizontalScrolling:si})}if(Vt.affectsConfiguration(Zi)){const si=Boolean(nt.getValue(Zi));Qt=Object.assign(Object.assign({},Qt),{scrollByPage:si})}if(Vt.affectsConfiguration(ds)){const si=Boolean(nt.getValue(ds));Qt=Object.assign(Object.assign({},Qt),{smoothScrolling:si})}if(Vt.affectsConfiguration(Es)){const si=nt.getValue(Es);Qt=Object.assign(Object.assign({},Qt),{mouseWheelScrollSensitivity:si})}if(Vt.affectsConfiguration(ro)){const si=nt.getValue(ro);Qt=Object.assign(Object.assign({},Qt),{fastScrollSensitivity:si})}Object.keys(Qt).length>0&&this.updateOptions(Qt)})),this.navigator=new Wt(this,Object.assign({configurationService:nt},ae)),this.disposables.add(this.navigator)}updateOptions(F){super.updateOptions(F),F.overrideStyles!==void 0&&this.updateStyles(F.overrideStyles),F.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!F.multipleSelectionSupport)}updateStyles(F){this.style(F?(0,hs.TU)(F):hs.O2)}dispose(){this.disposables.dispose(),super.dispose()}};Xi=Ts([In(5,yn.i6),In(6,Yn),In(7,Kn.Ui),In(8,Ss.TG)],Xi);let tn=class extends C{constructor(F,r,I,$,ae,we,ke,nt,at,_t){const xt=typeof we.horizontalScrolling!="undefined"?we.horizontalScrolling:Boolean(at.getValue(hi)),[Et,Ft]=_t.invokeFunction(Fn,we);super(F,r,I,$,ae,Object.assign(Object.assign({keyboardSupport:!1},Et),{horizontalScrolling:xt})),this.disposables.add(Ft),this.contextKeyService=ii(ke,this),this.listSupportsMultiSelect=ui.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(we.multipleSelectionSupport!==!1),Be.bindTo(this.contextKeyService).set(Boolean(we.selectionNavigation)),this.listHasSelectionOrFocus=mt.bindTo(this.contextKeyService),this.listDoubleSelection=Oe.bindTo(this.contextKeyService),this.listMultiSelection=le.bindTo(this.contextKeyService),this.horizontalScrolling=we.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Ws(at),this.disposables.add(this.contextKeyService),this.disposables.add(nt.register(this)),this.updateStyles(we.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Qt=this.getSelection(),si=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Qt.length>0||si.length>0),this.listMultiSelection.set(Qt.length>1),this.listDoubleSelection.set(Qt.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Qt=this.getSelection(),si=this.getFocus();this.listHasSelectionOrFocus.set(Qt.length>0||si.length>0)})),this.disposables.add(at.onDidChangeConfiguration(Qt=>{Qt.affectsConfiguration(vi)&&(this._useAltAsMultipleSelectionModifier=Ws(at));let si={};if(Qt.affectsConfiguration(hi)&&this.horizontalScrolling===void 0){const wi=Boolean(at.getValue(hi));si=Object.assign(Object.assign({},si),{horizontalScrolling:wi})}if(Qt.affectsConfiguration(Zi)){const wi=Boolean(at.getValue(Zi));si=Object.assign(Object.assign({},si),{scrollByPage:wi})}if(Qt.affectsConfiguration(ds)){const wi=Boolean(at.getValue(ds));si=Object.assign(Object.assign({},si),{smoothScrolling:wi})}if(Qt.affectsConfiguration(Es)){const wi=at.getValue(Es);si=Object.assign(Object.assign({},si),{mouseWheelScrollSensitivity:wi})}if(Qt.affectsConfiguration(ro)){const wi=at.getValue(ro);si=Object.assign(Object.assign({},si),{fastScrollSensitivity:wi})}Object.keys(si).length>0&&this.updateOptions(si)})),this.navigator=new Zt(this,Object.assign({configurationService:at},we)),this.disposables.add(this.navigator)}updateOptions(F){super.updateOptions(F),F.overrideStyles!==void 0&&this.updateStyles(F.overrideStyles),F.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!F.multipleSelectionSupport)}updateStyles(F){this.style(F?(0,hs.TU)(F):hs.O2)}dispose(){this.disposables.dispose(),super.dispose()}};tn=Ts([In(6,yn.i6),In(7,Yn),In(8,Kn.Ui),In(9,Ss.TG)],tn);class us extends v.JT{constructor(F,r){var I;super(),this.widget=F,this._onDidOpen=this._register(new _.Q5),this.onDidOpen=this._onDidOpen.event,this._register(_.ju.filter(this.widget.onDidChangeSelection,$=>$.browserEvent instanceof KeyboardEvent)($=>this.onSelectionFromKeyboard($))),this._register(this.widget.onPointer($=>this.onPointer($.element,$.browserEvent))),this._register(this.widget.onMouseDblClick($=>this.onMouseDblClick($.element,$.browserEvent))),typeof(r==null?void 0:r.openOnSingleClick)!="boolean"&&(r!=null&&r.configurationService)?(this.openOnSingleClick=(r==null?void 0:r.configurationService.getValue(yi))!=="doubleClick",this._register(r==null?void 0:r.configurationService.onDidChangeConfiguration($=>{$.affectsConfiguration(yi)&&(this.openOnSingleClick=(r==null?void 0:r.configurationService.getValue(yi))!=="doubleClick")}))):this.openOnSingleClick=(I=r==null?void 0:r.openOnSingleClick)!==null&&I!==void 0?I:!0}onSelectionFromKeyboard(F){if(F.elements.length!==1)return;const r=F.browserEvent,I=typeof r.preserveFocus=="boolean"?r.preserveFocus:!0,$=typeof r.pinned=="boolean"?r.pinned:!I,ae=!1;this._open(this.getSelectedElement(),I,$,ae,F.browserEvent)}onPointer(F,r){if(!this.openOnSingleClick||r.detail===2)return;const $=r.button===1,ae=!0,we=$,ke=r.ctrlKey||r.metaKey||r.altKey;this._open(F,ae,we,ke,r)}onMouseDblClick(F,r){if(!r)return;const I=r.target;if(I.classList.contains("monaco-tl-twistie")||I.classList.contains("monaco-icon-label")&&I.classList.contains("folder-icon")&&r.offsetX<16)return;const ae=!1,we=!0,ke=r.ctrlKey||r.metaKey||r.altKey;this._open(F,ae,we,ke,r)}_open(F,r,I,$,ae){F&&this._onDidOpen.fire({editorOptions:{preserveFocus:r,pinned:I,revealIfVisible:!0},sideBySide:$,element:F,browserEvent:ae})}}class Wt extends us{constructor(F,r){super(F,r),this.widget=F}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Zt extends us{constructor(F,r){super(F,r)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Yt extends us{constructor(F,r){super(F,r)}getSelectedElement(){var F;return(F=this.widget.getSelection()[0])!==null&&F!==void 0?F:void 0}}function oi(Kt){let F=!1;return r=>{if(r.toKeyCodeChord().isModifierKey())return!1;if(F)return F=!1,!1;const I=Kt.softDispatch(r,r.target);return(I==null?void 0:I.kind)===1?(F=!0,!1):(F=!1,!I)}}let mi=class extends Fe{constructor(F,r,I,$,ae,we,ke,nt,at){const{options:_t,getTypeNavigationMode:xt,disposable:Et}=we.invokeFunction(vn,ae);super(F,r,I,$,_t),this.disposables.add(Et),this.internals=new Vn(this,ae,xt,ae.overrideStyles,ke,nt,at),this.disposables.add(this.internals)}updateOptions(F){super.updateOptions(F),this.internals.updateOptions(F)}};mi=Ts([In(5,Ss.TG),In(6,yn.i6),In(7,Yn),In(8,Kn.Ui)],mi);let Fi=class extends It{constructor(F,r,I,$,ae,we,ke,nt,at){const{options:_t,getTypeNavigationMode:xt,disposable:Et}=we.invokeFunction(vn,ae);super(F,r,I,$,_t),this.disposables.add(Et),this.internals=new Vn(this,ae,xt,ae.overrideStyles,ke,nt,at),this.disposables.add(this.internals)}updateOptions(F={}){super.updateOptions(F),F.overrideStyles&&this.internals.updateStyleOverrides(F.overrideStyles),this.internals.updateOptions(F)}};Fi=Ts([In(5,Ss.TG),In(6,yn.i6),In(7,Yn),In(8,Kn.Ui)],Fi);let Di=class extends ts{constructor(F,r,I,$,ae,we,ke,nt,at,_t){const{options:xt,getTypeNavigationMode:Et,disposable:Ft}=ke.invokeFunction(vn,we);super(F,r,I,$,ae,xt),this.disposables.add(Ft),this.internals=new Vn(this,we,Et,we.overrideStyles,nt,at,_t),this.disposables.add(this.internals)}updateOptions(F={}){super.updateOptions(F),F.overrideStyles!==void 0&&this.internals.updateStyleOverrides(F.overrideStyles),this.internals.updateOptions(F)}};Di=Ts([In(6,Ss.TG),In(7,yn.i6),In(8,Yn),In(9,Kn.Ui)],Di);let Ji=class extends ms{get onDidOpen(){return this.internals.onDidOpen}constructor(F,r,I,$,ae,we,ke,nt,at,_t){const{options:xt,getTypeNavigationMode:Et,disposable:Ft}=ke.invokeFunction(vn,we);super(F,r,I,$,ae,xt),this.disposables.add(Ft),this.internals=new Vn(this,we,Et,we.overrideStyles,nt,at,_t),this.disposables.add(this.internals)}updateOptions(F={}){super.updateOptions(F),F.overrideStyles&&this.internals.updateStyleOverrides(F.overrideStyles),this.internals.updateOptions(F)}};Ji=Ts([In(6,Ss.TG),In(7,yn.i6),In(8,Yn),In(9,Kn.Ui)],Ji);let Ui=class extends es{constructor(F,r,I,$,ae,we,ke,nt,at,_t,xt){const{options:Et,getTypeNavigationMode:Ft,disposable:Vt}=nt.invokeFunction(vn,ke);super(F,r,I,$,ae,we,Et),this.disposables.add(Vt),this.internals=new Vn(this,ke,Ft,ke.overrideStyles,at,_t,xt),this.disposables.add(this.internals)}updateOptions(F){super.updateOptions(F),this.internals.updateOptions(F)}};Ui=Ts([In(7,Ss.TG),In(8,yn.i6),In(9,Yn),In(10,Kn.Ui)],Ui);function _n(Kt){const F=Kt.getValue(Si);if(F==="highlight")return Ee.Highlight;if(F==="filter")return Ee.Filter;const r=Kt.getValue(Ai);if(r==="simple"||r==="highlight")return Ee.Highlight;if(r==="filter")return Ee.Filter}function gn(Kt){const F=Kt.getValue(pn);if(F==="fuzzy")return We.Fuzzy;if(F==="contiguous")return We.Contiguous}function vn(Kt,F){var r;const I=Kt.get(Kn.Ui),$=Kt.get(Ms.u),ae=Kt.get(yn.i6),we=Kt.get(Ss.TG),ke=()=>{const Ft=ae.getContextKeyValue(Bt);if(Ft==="automatic")return M.AA.Automatic;if(Ft==="trigger"||ae.getContextKeyValue(At)===!1)return M.AA.Trigger;const Qt=I.getValue(Oi);if(Qt==="automatic")return M.AA.Automatic;if(Qt==="trigger")return M.AA.Trigger},nt=F.horizontalScrolling!==void 0?F.horizontalScrolling:Boolean(I.getValue(hi)),[at,_t]=we.invokeFunction(Fn,F),xt=F.additionalScrollHeight,Et=F.renderIndentGuides!==void 0?F.renderIndentGuides:I.getValue(cs);return{getTypeNavigationMode:ke,disposable:_t,options:Object.assign(Object.assign({keyboardSupport:!1},at),{indent:typeof I.getValue(Pn)=="number"?I.getValue(Pn):void 0,renderIndentGuides:Et,smoothScrolling:Boolean(I.getValue(ds)),defaultFindMode:_n(I),defaultFindMatchType:gn(I),horizontalScrolling:nt,scrollByPage:Boolean(I.getValue(Zi)),additionalScrollHeight:xt,hideTwistiesOfChildlessElements:F.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(r=F.expandOnlyOnTwistieClick)!==null&&r!==void 0?r:I.getValue(Gs)==="doubleClick",contextViewProvider:$,findWidgetStyles:hs.uX})}}let Vn=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(F,r,I,$,ae,we,ke){var nt;this.tree=F,this.disposables=[],this.contextKeyService=ii(ae,F),this.listSupportsMultiSelect=ui.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(r.multipleSelectionSupport!==!1),Be.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listSupportFindWidget=Ke.bindTo(this.contextKeyService),this.listSupportFindWidget.set((nt=r.findWidgetEnabled)!==null&&nt!==void 0?nt:!0),this.hasSelectionOrFocus=mt.bindTo(this.contextKeyService),this.hasDoubleSelection=Oe.bindTo(this.contextKeyService),this.hasMultiSelection=le.bindTo(this.contextKeyService),this.treeElementCanCollapse=Ge.bindTo(this.contextKeyService),this.treeElementHasParent=ye.bindTo(this.contextKeyService),this.treeElementCanExpand=ze.bindTo(this.contextKeyService),this.treeElementHasChild=lt.bindTo(this.contextKeyService),this.treeFindOpen=Rt.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Ws(ke),this.updateStyleOverrides($);const _t=()=>{const Et=F.getFocus()[0];if(!Et)return;const Ft=F.getNode(Et);this.treeElementCanCollapse.set(Ft.collapsible&&!Ft.collapsed),this.treeElementHasParent.set(!!F.getParentElement(Et)),this.treeElementCanExpand.set(Ft.collapsible&&Ft.collapsed),this.treeElementHasChild.set(!!F.getFirstElementChild(Et))},xt=new Set;xt.add(Bt),xt.add(At),this.disposables.push(this.contextKeyService,we.register(F),F.onDidChangeSelection(()=>{const Et=F.getSelection(),Ft=F.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Et.length>0||Ft.length>0),this.hasMultiSelection.set(Et.length>1),this.hasDoubleSelection.set(Et.length===2)})}),F.onDidChangeFocus(()=>{const Et=F.getSelection(),Ft=F.getFocus();this.hasSelectionOrFocus.set(Et.length>0||Ft.length>0),_t()}),F.onDidChangeCollapseState(_t),F.onDidChangeModel(_t),F.onDidChangeFindOpenState(Et=>this.treeFindOpen.set(Et)),ke.onDidChangeConfiguration(Et=>{let Ft={};if(Et.affectsConfiguration(vi)&&(this._useAltAsMultipleSelectionModifier=Ws(ke)),Et.affectsConfiguration(Pn)){const Vt=ke.getValue(Pn);Ft=Object.assign(Object.assign({},Ft),{indent:Vt})}if(Et.affectsConfiguration(cs)&&r.renderIndentGuides===void 0){const Vt=ke.getValue(cs);Ft=Object.assign(Object.assign({},Ft),{renderIndentGuides:Vt})}if(Et.affectsConfiguration(ds)){const Vt=Boolean(ke.getValue(ds));Ft=Object.assign(Object.assign({},Ft),{smoothScrolling:Vt})}if(Et.affectsConfiguration(Si)||Et.affectsConfiguration(Ai)){const Vt=_n(ke);Ft=Object.assign(Object.assign({},Ft),{defaultFindMode:Vt})}if(Et.affectsConfiguration(Oi)||Et.affectsConfiguration(Ai)){const Vt=I();Ft=Object.assign(Object.assign({},Ft),{typeNavigationMode:Vt})}if(Et.affectsConfiguration(pn)){const Vt=gn(ke);Ft=Object.assign(Object.assign({},Ft),{defaultFindMatchType:Vt})}if(Et.affectsConfiguration(hi)&&r.horizontalScrolling===void 0){const Vt=Boolean(ke.getValue(hi));Ft=Object.assign(Object.assign({},Ft),{horizontalScrolling:Vt})}if(Et.affectsConfiguration(Zi)){const Vt=Boolean(ke.getValue(Zi));Ft=Object.assign(Object.assign({},Ft),{scrollByPage:Vt})}if(Et.affectsConfiguration(Gs)&&r.expandOnlyOnTwistieClick===void 0&&(Ft=Object.assign(Object.assign({},Ft),{expandOnlyOnTwistieClick:ke.getValue(Gs)==="doubleClick"})),Et.affectsConfiguration(Es)){const Vt=ke.getValue(Es);Ft=Object.assign(Object.assign({},Ft),{mouseWheelScrollSensitivity:Vt})}if(Et.affectsConfiguration(ro)){const Vt=ke.getValue(ro);Ft=Object.assign(Object.assign({},Ft),{fastScrollSensitivity:Vt})}Object.keys(Ft).length>0&&F.updateOptions(Ft)}),this.contextKeyService.onDidChangeContext(Et=>{Et.affectsSome(xt)&&F.updateOptions({typeNavigationMode:I()})})),this.navigator=new Yt(F,Object.assign({configurationService:ke},r)),this.disposables.push(this.navigator)}updateOptions(F){F.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!F.multipleSelectionSupport)}updateStyleOverrides(F){this.tree.style(F?(0,hs.TU)(F):hs.O2)}dispose(){this.disposables=(0,v.B9)(this.disposables)}};Vn=Ts([In(4,yn.i6),In(5,Yn),In(6,Kn.Ui)],Vn),oo.B.as(Wn.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,xe.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[vi]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,xe.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,xe.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,xe.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[yi]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,xe.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[hi]:{type:"boolean",default:!1,description:(0,xe.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Zi]:{type:"boolean",default:!1,description:(0,xe.NC)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Pn]:{type:"number",default:8,minimum:4,maximum:40,description:(0,xe.NC)("tree indent setting","Controls tree indentation in pixels.")},[cs]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,xe.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[ds]:{type:"boolean",default:!1,description:(0,xe.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Es]:{type:"number",default:1,markdownDescription:(0,xe.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ro]:{type:"number",default:5,markdownDescription:(0,xe.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Si]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,xe.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,xe.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,xe.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Ai]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,xe.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,xe.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,xe.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,xe.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,xe.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[pn]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,xe.NC)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,xe.NC)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,xe.NC)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[Gs]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,xe.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Oi]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,xe.NC)("typeNavigationMode","Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.")}}})},59271:function(Ot,He,i){"use strict";i.d(He,{VZ:function(){return v},in:function(){return A},kw:function(){return R},qA:function(){return p}});var m=i(56709),B=i(38431),f=i(76826),_=i(44333);const v=(0,_.yh)("logService");var A;(function(g){g[g.Off=0]="Off",g[g.Trace=1]="Trace",g[g.Debug=2]="Debug",g[g.Info=3]="Info",g[g.Warning=4]="Warning",g[g.Error=5]="Error"})(A||(A={}));const M=A.Info;class E extends B.JT{constructor(){super(...arguments),this.level=M,this._onDidChangeLogLevel=this._register(new m.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(n){this.level!==n&&(this.level=n,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(n){return this.level!==A.Off&&this.level<=n}}class R extends E{constructor(n=M,a=!0){super(),this.useColors=a,this.setLevel(n)}trace(n,...a){this.checkLogLevel(A.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",n,...a):console.log(n,...a))}debug(n,...a){this.checkLogLevel(A.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",n,...a):console.log(n,...a))}info(n,...a){this.checkLogLevel(A.Info)&&(this.useColors?console.log("%c INFO","color: #33f",n,...a):console.log(n,...a))}error(n,...a){this.checkLogLevel(A.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",n,...a):console.error(n,...a))}dispose(){}}class p extends E{constructor(n){super(),this.loggers=n,n.length&&this.setLevel(n[0].getLevel())}setLevel(n){for(const a of this.loggers)a.setLevel(n);super.setLevel(n)}trace(n,...a){for(const C of this.loggers)C.trace(n,...a)}debug(n,...a){for(const C of this.loggers)C.debug(n,...a)}info(n,...a){for(const C of this.loggers)C.info(n,...a)}error(n,...a){for(const C of this.loggers)C.error(n,...a)}dispose(){for(const n of this.loggers)n.dispose()}}function l(g){switch(g){case A.Trace:return"trace";case A.Debug:return"debug";case A.Info:return"info";case A.Warning:return"warn";case A.Error:return"error";case A.Off:return"off"}}const d=new f.uy("logLevel",l(A.Info))},36156:function(Ot,He,i){"use strict";i.d(He,{H0:function(){return v},ZL:function(){return _},lT:function(){return A}});var m=i(87068),B=i(26386),f=i(44333),_;(function(M){M[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error"})(_||(_={})),function(M){function E(g,n){return n-g}M.compare=E;const R=Object.create(null);R[M.Error]=(0,B.NC)("sev.error","Error"),R[M.Warning]=(0,B.NC)("sev.warning","Warning"),R[M.Info]=(0,B.NC)("sev.info","Info");function p(g){return R[g]||""}M.toString=p;function l(g){switch(g){case m.Z.Error:return M.Error;case m.Z.Warning:return M.Warning;case m.Z.Info:return M.Info;case m.Z.Ignore:return M.Hint}}M.fromSeverity=l;function d(g){switch(g){case M.Error:return m.Z.Error;case M.Warning:return m.Z.Warning;case M.Info:return m.Z.Info;case M.Hint:return m.Z.Ignore}}M.toSeverity=d}(_||(_={}));var v;(function(M){const E="";function R(l){return p(l,!0)}M.makeKey=R;function p(l,d){const g=[E];return l.source?g.push(l.source.replace("\xA6","\\\xA6")):g.push(E),l.code?typeof l.code=="string"?g.push(l.code.replace("\xA6","\\\xA6")):g.push(l.code.value.replace("\xA6","\\\xA6")):g.push(E),l.severity!==void 0&&l.severity!==null?g.push(_.toString(l.severity)):g.push(E),l.message&&d?g.push(l.message.replace("\xA6","\\\xA6")):g.push(E),l.startLineNumber!==void 0&&l.startLineNumber!==null?g.push(l.startLineNumber.toString()):g.push(E),l.startColumn!==void 0&&l.startColumn!==null?g.push(l.startColumn.toString()):g.push(E),l.endLineNumber!==void 0&&l.endLineNumber!==null?g.push(l.endLineNumber.toString()):g.push(E),l.endColumn!==void 0&&l.endColumn!==null?g.push(l.endColumn.toString()):g.push(E),g.push(E),g.join("\xA6")}M.makeKeyOptionalMessage=p})(v||(v={}));const A=(0,f.yh)("markerService")},97968:function(Ot,He,i){"use strict";i.d(He,{EO:function(){return v},lT:function(){return _},zb:function(){return f}});var m=i(87068),B=i(44333),f=m.Z;const _=(0,B.yh)("notificationService");class v{}},48786:function(Ot,He,i){"use strict";i.d(He,{Gs:function(){return A},v4:function(){return _},xI:function(){return M},xn:function(){return v}});var m=i(17416),B=i(28919),f=i(44333);const _=(0,f.yh)("openerService");function v(E,R){return B.o.isUri(E)?(0,m.qq)(E.scheme,R):(0,m.ok)(E,R+":")}function A(E,...R){return R.some(p=>v(E,p))}function M(E){let R;const p=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(E.fragment);return p&&(R={startLineNumber:parseInt(p[1]),startColumn:p[2]?parseInt(p[2]):1,endLineNumber:p[4]?parseInt(p[4]):void 0,endColumn:p[4]?p[5]?parseInt(p[5]):1:void 0},E=E.with({fragment:""})),{selection:R,uri:E}}},79969:function(Ot,He,i){"use strict";i.d(He,{Ex:function(){return _},R9:function(){return B},ek:function(){return v}});var m=i(44333);const B=(0,m.yh)("progressService"),f=Object.freeze({total(){},worked(){},done(){}});class _{constructor(M){this.callback=M}report(M){this._value=M,this.callback(this._value)}}_.None=Object.freeze({report(){}});const v=(0,m.yh)("editorProgressService")},26152:function(Ot,He,i){"use strict";i.d(He,{IP:function(){return v},Ry:function(){return _}});var m=i(16308),B=i(38431),f=i(6325),_;(function(M){M[M.PRESERVE=0]="PRESERVE",M[M.LAST=1]="LAST"})(_||(_={}));const v={Quickaccess:"workbench.contributions.quickaccess"};class A{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(E){return E.prefix.length===0?this.defaultProvider=E:this.providers.push(E),this.providers.sort((R,p)=>p.prefix.length-R.prefix.length),(0,B.OF)(()=>{this.providers.splice(this.providers.indexOf(E),1),this.defaultProvider===E&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,m.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(E){return E&&this.providers.find(p=>E.startsWith(p.prefix))||void 0||this.defaultProvider}}f.B.add(v.Quickaccess,new A)},38785:function(Ot,He,i){"use strict";i.d(He,{Jq:function(){return f},X5:function(){return B},eJ:function(){return M},jG:function(){return _}});var m=i(44333);const B={ctrlCmd:!1,alt:!1};var f;(function(E){E[E.Blur=1]="Blur",E[E.Gesture=2]="Gesture",E[E.Other=3]="Other"})(f||(f={}));var _;(function(E){E[E.NONE=0]="NONE",E[E.FIRST=1]="FIRST",E[E.SECOND=2]="SECOND",E[E.LAST=3]="LAST"})(_||(_={}));class v{constructor(R){this.options=R}}const A=new v,M=(0,m.yh)("quickInputService")},6325:function(Ot,He,i){"use strict";i.d(He,{B:function(){return _}});var m=i(14527),B=i(14818);class f{constructor(){this.data=new Map}add(A,M){m.ok(B.HD(A)),m.ok(B.Kn(M)),m.ok(!this.data.has(A),"There is already an extension with this id"),this.data.set(A,M)}as(A){return this.data.get(A)||null}}const _=new f},63536:function(Ot,He,i){"use strict";i.d(He,{Uy:function(){return d},vm:function(){return C},fk:function(){return g}});var m=i(56709),B=i(38431),f=i(14818),_=i(13484),v=function(D,u,S,w){function L(N){return N instanceof S?N:new S(function(O){O(N)})}return new(S||(S=Promise))(function(N,O){function x(U){try{W(w.next(U))}catch(K){O(K)}}function T(U){try{W(w.throw(U))}catch(K){O(K)}}function W(U){U.done?N(U.value):L(U.value).then(x,T)}W((w=w.apply(D,u||[])).next())})},A;(function(D){D[D.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",D[D.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(A||(A={}));var M;(function(D){D[D.None=0]="None",D[D.Initialized=1]="Initialized",D[D.Closed=2]="Closed"})(M||(M={}));class E extends B.JT{constructor(u,S=Object.create(null)){super(),this.database=u,this.options=S,this._onDidChangeStorage=this._register(new m.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=M.None,this.cache=new Map,this.flushDelayer=new _.rH(E.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(u=>this.onDidChangeItemsExternal(u)))}onDidChangeItemsExternal(u){var S,w;(S=u.changed)===null||S===void 0||S.forEach((L,N)=>this.accept(N,L)),(w=u.deleted)===null||w===void 0||w.forEach(L=>this.accept(L,void 0))}accept(u,S){if(this.state===M.Closed)return;let w=!1;(0,f.Jp)(S)?w=this.cache.delete(u):this.cache.get(u)!==S&&(this.cache.set(u,S),w=!0),w&&this._onDidChangeStorage.fire(u)}get(u,S){const w=this.cache.get(u);return(0,f.Jp)(w)?S:w}getBoolean(u,S){const w=this.get(u);return(0,f.Jp)(w)?S:w==="true"}getNumber(u,S){const w=this.get(u);return(0,f.Jp)(w)?S:parseInt(w,10)}set(u,S){return v(this,void 0,void 0,function*(){if(this.state===M.Closed)return;if((0,f.Jp)(S))return this.delete(u);const w=String(S);if(this.cache.get(u)!==w)return this.cache.set(u,w),this.pendingInserts.set(u,w),this.pendingDeletes.delete(u),this._onDidChangeStorage.fire(u),this.doFlush()})}delete(u){return v(this,void 0,void 0,function*(){if(!(this.state===M.Closed||!this.cache.delete(u)))return this.pendingDeletes.has(u)||this.pendingDeletes.add(u),this.pendingInserts.delete(u),this._onDidChangeStorage.fire(u),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return v(this,void 0,void 0,function*(){if(!this.hasPending)return;const u={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(u).finally(()=>{var S;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(S=this.whenFlushedCallbacks.pop())===null||S===void 0||S()})})}doFlush(u){return v(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),u)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}E.DEFAULT_FLUSH_DELAY=100;class R{constructor(){this.onDidChangeItemsExternal=m.ju.None,this.items=new Map}updateItems(u){var S,w;return v(this,void 0,void 0,function*(){(S=u.insert)===null||S===void 0||S.forEach((L,N)=>this.items.set(N,L)),(w=u.delete)===null||w===void 0||w.forEach(L=>this.items.delete(L))})}}var p=i(44333);const l="__$__targetStorageMarker",d=(0,p.yh)("storageService");var g;(function(D){D[D.NONE=0]="NONE",D[D.SHUTDOWN=1]="SHUTDOWN"})(g||(g={}));function n(D){const u=D.get(l);if(u)try{return JSON.parse(u)}catch(S){}return Object.create(null)}class a extends B.JT{constructor(u={flushInterval:a.DEFAULT_FLUSH_INTERVAL}){super(),this.options=u,this._onDidChangeValue=this._register(new m.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new m.K3),this._onWillSaveState=this._register(new m.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(u,S){if(S===l){switch(u){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:u})}else this._onDidChangeValue.fire({scope:u,key:S,target:this.getKeyTargets(u)[S]})}get(u,S,w){var L;return(L=this.getStorage(S))===null||L===void 0?void 0:L.get(u,w)}getBoolean(u,S,w){var L;return(L=this.getStorage(S))===null||L===void 0?void 0:L.getBoolean(u,w)}getNumber(u,S,w){var L;return(L=this.getStorage(S))===null||L===void 0?void 0:L.getNumber(u,w)}store(u,S,w,L){if((0,f.Jp)(S)){this.remove(u,w);return}this.withPausedEmitters(()=>{var N;this.updateKeyTarget(u,w,L),(N=this.getStorage(w))===null||N===void 0||N.set(u,S)})}remove(u,S){this.withPausedEmitters(()=>{var w;this.updateKeyTarget(u,S,void 0),(w=this.getStorage(S))===null||w===void 0||w.delete(u)})}withPausedEmitters(u){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{u()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(u,S,w){var L,N;const O=this.getKeyTargets(S);typeof w=="number"?O[u]!==w&&(O[u]=w,(L=this.getStorage(S))===null||L===void 0||L.set(l,JSON.stringify(O))):typeof O[u]=="number"&&(delete O[u],(N=this.getStorage(S))===null||N===void 0||N.set(l,JSON.stringify(O)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(u){switch(u){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(u){const S=this.getStorage(u);return S?n(S):Object.create(null)}}a.DEFAULT_FLUSH_INTERVAL=60*1e3;class C extends a{constructor(){super(),this.applicationStorage=this._register(new E(new R,{hint:A.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new E(new R,{hint:A.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new E(new R,{hint:A.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(u=>this.emitDidChangeValue(1,u))),this._register(this.profileStorage.onDidChangeStorage(u=>this.emitDidChangeValue(0,u))),this._register(this.applicationStorage.onDidChangeStorage(u=>this.emitDidChangeValue(-1,u)))}getStorage(u){switch(u){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},68554:function(Ot,He,i){"use strict";i.d(He,{b:function(){return B}});var m=i(44333);const B=(0,m.yh)("telemetryService")},60140:function(Ot,He,i){"use strict";i.d(He,{BM:function(){return C},Hc:function(){return p},O2:function(){return n},TU:function(){return a},ZR:function(){return D},b5:function(){return A},eO:function(){return _},ku:function(){return d},pl:function(){return M},uX:function(){return l},wG:function(){return v}});var m=i(92537),B=i(86741);function f(u,S){const w=Object.assign({},S);for(const L in u){const N=u[L];w[L]=N!==void 0?(0,m.n_1)(N):void 0}return w}const _={keybindingLabelBackground:(0,m.n_1)(m.oQ$),keybindingLabelForeground:(0,m.n_1)(m.lWp),keybindingLabelBorder:(0,m.n_1)(m.AWI),keybindingLabelBottomBorder:(0,m.n_1)(m.K19),keybindingLabelShadow:(0,m.n_1)(m.rh)},v={buttonForeground:(0,m.n_1)(m.j5u),buttonSeparator:(0,m.n_1)(m.iFQ),buttonBackground:(0,m.n_1)(m.b7$),buttonHoverBackground:(0,m.n_1)(m.GO4),buttonSecondaryForeground:(0,m.n_1)(m.qBU),buttonSecondaryBackground:(0,m.n_1)(m.ESD),buttonSecondaryHoverBackground:(0,m.n_1)(m.xEn),buttonBorder:(0,m.n_1)(m.GYc)},A={progressBarBackground:(0,m.n_1)(m.zRJ)},M={inputActiveOptionBorder:(0,m.n_1)(m.PRb),inputActiveOptionForeground:(0,m.n_1)(m.Pvw),inputActiveOptionBackground:(0,m.n_1)(m.XEs)},E={checkboxBackground:(0,m.n_1)(m.SUp),checkboxBorder:(0,m.n_1)(m.nd),checkboxForeground:(0,m.n_1)(m.BQ0)},R={dialogBackground:(0,m.n_1)(m.D0T),dialogForeground:(0,m.n_1)(m.Hfx),dialogShadow:(0,m.n_1)(m.rh),dialogBorder:(0,m.n_1)(m.lRK),errorIconForeground:(0,m.n_1)(m.JpG),warningIconForeground:(0,m.n_1)(m.BOY),infoIconForeground:(0,m.n_1)(m.OLZ),textLinkForeground:(0,m.n_1)(m.url)},p={inputBackground:(0,m.n_1)(m.sEe),inputForeground:(0,m.n_1)(m.zJb),inputBorder:(0,m.n_1)(m.dt_),inputValidationInfoBorder:(0,m.n_1)(m.EPQ),inputValidationInfoBackground:(0,m.n_1)(m._lC),inputValidationInfoForeground:(0,m.n_1)(m.YI3),inputValidationWarningBorder:(0,m.n_1)(m.C3g),inputValidationWarningBackground:(0,m.n_1)(m.RV_),inputValidationWarningForeground:(0,m.n_1)(m.SUG),inputValidationErrorBorder:(0,m.n_1)(m.OZR),inputValidationErrorBackground:(0,m.n_1)(m.paE),inputValidationErrorForeground:(0,m.n_1)(m._t9)},l={listFilterWidgetBackground:(0,m.n_1)(m.vGG),listFilterWidgetOutline:(0,m.n_1)(m.oSI),listFilterWidgetNoMatchesOutline:(0,m.n_1)(m.Saq),listFilterWidgetShadow:(0,m.n_1)(m.y65),inputBoxStyles:p,toggleStyles:M},d={badgeBackground:(0,m.n_1)(m.g8u),badgeForeground:(0,m.n_1)(m.qeD),badgeBorder:(0,m.n_1)(m.lRK)},g={breadcrumbsBackground:(0,m.n_1)(m.ixd),breadcrumbsForeground:(0,m.n_1)(m.l80),breadcrumbsHoverForeground:(0,m.n_1)(m.H6q),breadcrumbsFocusForeground:(0,m.n_1)(m.H6q),breadcrumbsFocusAndSelectionForeground:(0,m.n_1)(m.fSI)},n={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,m.n_1)(m._bK),listFocusForeground:(0,m.n_1)(m._2n),listFocusOutline:(0,m.n_1)(m.Oop),listActiveSelectionBackground:(0,m.n_1)(m.dCr),listActiveSelectionForeground:(0,m.n_1)(m.M6C),listActiveSelectionIconForeground:(0,m.n_1)(m.Tnx),listFocusAndSelectionOutline:(0,m.n_1)(m.Bqu),listFocusAndSelectionBackground:(0,m.n_1)(m.dCr),listFocusAndSelectionForeground:(0,m.n_1)(m.M6C),listInactiveSelectionBackground:(0,m.n_1)(m.rg2),listInactiveSelectionIconForeground:(0,m.n_1)(m.kvU),listInactiveSelectionForeground:(0,m.n_1)(m.ytC),listInactiveFocusBackground:(0,m.n_1)(m.s$),listInactiveFocusOutline:(0,m.n_1)(m.F3d),listHoverBackground:(0,m.n_1)(m.mV1),listHoverForeground:(0,m.n_1)(m.$d5),listDropBackground:(0,m.n_1)(m.AS1),listSelectionOutline:(0,m.n_1)(m.xL1),listHoverOutline:(0,m.n_1)(m.xL1),treeIndentGuidesStroke:(0,m.n_1)(m.UnT),treeInactiveIndentGuidesStroke:(0,m.n_1)(m.KjV),tableColumnsBorder:(0,m.n_1)(m.uxu),tableOddRowsBackgroundColor:(0,m.n_1)(m.EQn)};function a(u){return f(u,n)}const C={selectBackground:(0,m.n_1)(m.XV0),selectListBackground:(0,m.n_1)(m.Fgs),selectForeground:(0,m.n_1)(m._g0),decoratorRightForeground:(0,m.n_1)(m.kJk),selectBorder:(0,m.n_1)(m.a9O),focusBorder:(0,m.n_1)(m.R80),listFocusBackground:(0,m.n_1)(m.Vqd),listInactiveSelectionIconForeground:(0,m.n_1)(m.cbQ),listFocusForeground:(0,m.n_1)(m.NPS),listFocusOutline:(0,m.BtC)(m.xL1,B.Il.transparent.toString()),listHoverBackground:(0,m.n_1)(m.mV1),listHoverForeground:(0,m.n_1)(m.$d5),listHoverOutline:(0,m.n_1)(m.xL1),selectListBorder:(0,m.n_1)(m.D1_),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},D={shadowColor:(0,m.n_1)(m.rh),borderColor:(0,m.n_1)(m.Cdg),foregroundColor:(0,m.n_1)(m.DEr),backgroundColor:(0,m.n_1)(m.Hz8),selectionForegroundColor:(0,m.n_1)(m.jbW),selectionBackgroundColor:(0,m.n_1)(m.$DX),selectionBorderColor:(0,m.n_1)(m.E3h),separatorColor:(0,m.n_1)(m.ZGJ),scrollbarShadow:(0,m.n_1)(m._wn),scrollbarSliderBackground:(0,m.n_1)(m.etL),scrollbarSliderHoverBackground:(0,m.n_1)(m.ABB),scrollbarSliderActiveBackground:(0,m.n_1)(m.ynu)}},92537:function(Ot,He,i){"use strict";i.d(He,{$DX:function(){return Ft},$d5:function(){return Ci},A42:function(){return q},ABB:function(){return Ce},AS1:function(){return Xi},AWI:function(){return ji},BOY:function(){return co},BQ0:function(){return r},Bqu:function(){return pn},BtC:function(){return p},C3g:function(){return re},CNo:function(){return hs},Cdg:function(){return at},CzK:function(){return Be},D0T:function(){return It},D1_:function(){return yt},DEr:function(){return _t},Dut:function(){return Xe},E3h:function(){return Vt},EPQ:function(){return xe},EQn:function(){return Vn},ES4:function(){return ms},ESD:function(){return Ze},EiJ:function(){return Kn},F3d:function(){return Hr},F9q:function(){return ii},Fgs:function(){return ie},Fm_:function(){return Xo},GO4:function(){return Ee},GYc:function(){return We},Gj_:function(){return lo},Gwp:function(){return tn},H6q:function(){return Ys},HCL:function(){return wt},Hfx:function(){return kt},Hz8:function(){return xt},IPX:function(){return l},IYc:function(){return ar},Ido:function(){return D},Itd:function(){return go},Ivo:function(){return Ar},JpG:function(){return qo},K19:function(){return bn},KjV:function(){return gn},L_t:function(){return Si},M6C:function(){return cs},MUv:function(){return es},NOs:function(){return Fe},NPS:function(){return we},Ng6:function(){return St},OLZ:function(){return ys},OZR:function(){return Qe},Oop:function(){return Zi},P4M:function(){return ye},P6G:function(){return n},P6Y:function(){return At},PRb:function(){return J},PX0:function(){return us},PpC:function(){return pi},Pvw:function(){return fe},QO2:function(){return E},R80:function(){return w},RV_:function(){return Le},Rzx:function(){return ki},SPM:function(){return ni},SUG:function(){return ue},SUY:function(){return Jo},SUp:function(){return Kt},Saq:function(){return Fi},T83:function(){return Mt},Tnx:function(){return ds},UnT:function(){return _n},VVv:function(){return Yn},Vqd:function(){return nt},XEs:function(){return ee},XV0:function(){return Re},XZx:function(){return S},YI3:function(){return be},ZGJ:function(){return Qt},ZnX:function(){return hn},_2n:function(){return Ai},_Yy:function(){return In},_bK:function(){return Oi},_g0:function(){return Z},_lC:function(){return Ne},_t9:function(){return Ue},_wn:function(){return oe},a9O:function(){return se},b6y:function(){return ut},b7$:function(){return ce},bKB:function(){return ui},c63:function(){return $t},cbQ:function(){return ke},cvW:function(){return zt},dCr:function(){return Pn},dRz:function(){return a},dt_:function(){return j},etL:function(){return ge},fSI:function(){return Zs},g8u:function(){return Te},gkn:function(){return Wn},hEj:function(){return Rn},hX8:function(){return ci},iFQ:function(){return he},ixd:function(){return fs},j5u:function(){return ve},jUe:function(){return Ls},jbW:function(){return Et},kJk:function(){return li},kVY:function(){return Gr},keg:function(){return Ke},kvU:function(){return Gs},kwl:function(){return Ho},l80:function(){return an},lRK:function(){return L},lUq:function(){return si},lWp:function(){return Hi},lXJ:function(){return ot},loF:function(){return ri},mV1:function(){return Fn},n_1:function(){return R},nd:function(){return I},nyM:function(){return Ki},oQ$:function(){return Pi},oSI:function(){return mi},opG:function(){return gi},ov3:function(){return zr},pW3:function(){return Pt},paE:function(){return _e},phM:function(){return mt},pnM:function(){return ts},qBU:function(){return it},qeD:function(){return Ie},rg2:function(){return Es},rh:function(){return k},s$:function(){return Ws},sEe:function(){return te},tZ6:function(){return ti},uoC:function(){return Ct},url:function(){return T},uxu:function(){return vn},vGG:function(){return oi},xEn:function(){return je},xL1:function(){return N},y65:function(){return Di},yJx:function(){return ps},yb5:function(){return bs},ynu:function(){return me},ypS:function(){return Ge},ytC:function(){return ro},zJb:function(){return X},zKr:function(){return Gt},zRJ:function(){return Me}});var m=i(13484),B=i(86741),f=i(56709),_=i(14527),v=i(26386),A=i(82123),M=i(6325);function E(On){return`--vscode-${On.replace(/\./g,"-")}`}function R(On){return`var(${E(On)})`}function p(On,gs){return`var(${E(On)}, ${gs})`}const l={ColorContribution:"base.contributions.colors"};class d{constructor(){this._onDidChangeSchema=new f.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(gs,js,uo,jo=!1,wo){const _o={id:gs,description:uo,defaults:js,needsTransparency:jo,deprecationMessage:wo};this.colorsById[gs]=_o;const Ko={type:"string",description:uo,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return wo&&(Ko.deprecationMessage=wo),this.colorSchema.properties[gs]=Ko,this.colorReferenceSchema.enum.push(gs),this.colorReferenceSchema.enumDescriptions.push(uo),this._onDidChangeSchema.fire(),gs}getColors(){return Object.keys(this.colorsById).map(gs=>this.colorsById[gs])}resolveDefaultColor(gs,js){const uo=this.colorsById[gs];if(uo&&uo.defaults){const jo=uo.defaults[js.type];return tr(jo,js)}}getColorSchema(){return this.colorSchema}toString(){const gs=(js,uo)=>{const jo=js.indexOf(".")===-1?0:1,wo=uo.indexOf(".")===-1?0:1;return jo!==wo?jo-wo:js.localeCompare(uo)};return Object.keys(this.colorsById).sort(gs).map(js=>`- \`${js}\`: ${this.colorsById[js].description}`).join(`
`)}}const g=new d;M.B.add(l.ColorContribution,g);function n(On,gs,js,uo,jo){return g.registerColor(On,gs,js,uo,jo)}const a=n("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},v.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),C=n("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},v.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),D=n("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},v.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),u=n("descriptionForeground",{light:"#717171",dark:hn(a,.7),hcDark:hn(a,.7),hcLight:hn(a,.7)},v.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),S=n("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},v.NC("iconForeground","The default color for icons in the workbench.")),w=n("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},v.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),L=n("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},v.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),N=n("contrastActiveBorder",{light:null,dark:null,hcDark:w,hcLight:w},v.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),O=n("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},v.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),x=n("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:B.Il.black,hcLight:"#292929"},v.NC("textSeparatorForeground","Color for text separators.")),T=n("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v.NC("textLinkForeground","Foreground color for links in text.")),W=n("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),U=n("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},v.NC("textPreformatForeground","Foreground color for preformatted text segments.")),K=n("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},v.NC("textBlockQuoteBackground","Background color for block quotes in text.")),G=n("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:B.Il.white,hcLight:"#292929"},v.NC("textBlockQuoteBorder","Border color for block quotes in text.")),z=n("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:B.Il.black,hcLight:"#F2F2F2"},v.NC("textCodeBlockBackground","Background color for code blocks in text.")),k=n("widget.shadow",{dark:hn(B.Il.black,.36),light:hn(B.Il.black,.16),hcDark:null,hcLight:null},v.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),q=n("widget.border",{dark:null,light:null,hcDark:L,hcLight:L},v.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),te=n("input.background",{dark:"#3C3C3C",light:B.Il.white,hcDark:B.Il.black,hcLight:B.Il.white},v.NC("inputBoxBackground","Input box background.")),X=n("input.foreground",{dark:a,light:a,hcDark:a,hcLight:a},v.NC("inputBoxForeground","Input box foreground.")),j=n("input.border",{dark:null,light:null,hcDark:L,hcLight:L},v.NC("inputBoxBorder","Input box border.")),J=n("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:L,hcLight:L},v.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Y=n("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},v.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),ee=n("inputOption.activeBackground",{dark:hn(w,.4),light:hn(w,.2),hcDark:B.Il.transparent,hcLight:B.Il.transparent},v.NC("inputOption.activeBackground","Background hover color of options in input fields.")),fe=n("inputOption.activeForeground",{dark:B.Il.white,light:B.Il.black,hcDark:a,hcLight:a},v.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),De=n("input.placeholderForeground",{light:hn(a,.5),dark:hn(a,.5),hcDark:hn(a,.7),hcLight:hn(a,.7)},v.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Ne=n("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:B.Il.black,hcLight:B.Il.white},v.NC("inputValidationInfoBackground","Input validation background color for information severity.")),be=n("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:a},v.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),xe=n("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:L,hcLight:L},v.NC("inputValidationInfoBorder","Input validation border color for information severity.")),Le=n("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:B.Il.black,hcLight:B.Il.white},v.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),ue=n("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:a},v.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),re=n("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:L,hcLight:L},v.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),_e=n("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:B.Il.black,hcLight:B.Il.white},v.NC("inputValidationErrorBackground","Input validation background color for error severity.")),Ue=n("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:a},v.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),Qe=n("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:L,hcLight:L},v.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Re=n("dropdown.background",{dark:"#3C3C3C",light:B.Il.white,hcDark:B.Il.black,hcLight:B.Il.white},v.NC("dropdownBackground","Dropdown background.")),ie=n("dropdown.listBackground",{dark:null,light:null,hcDark:B.Il.black,hcLight:B.Il.white},v.NC("dropdownListBackground","Dropdown list background.")),Z=n("dropdown.foreground",{dark:"#F0F0F0",light:a,hcDark:B.Il.white,hcLight:a},v.NC("dropdownForeground","Dropdown foreground.")),se=n("dropdown.border",{dark:Re,light:"#CECECE",hcDark:L,hcLight:L},v.NC("dropdownBorder","Dropdown border.")),ve=n("button.foreground",{dark:B.Il.white,light:B.Il.white,hcDark:B.Il.white,hcLight:B.Il.white},v.NC("buttonForeground","Button foreground color.")),he=n("button.separator",{dark:hn(ve,.4),light:hn(ve,.4),hcDark:hn(ve,.4),hcLight:hn(ve,.4)},v.NC("buttonSeparator","Button separator color.")),ce=n("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},v.NC("buttonBackground","Button background color.")),Ee=n("button.hoverBackground",{dark:er(ce,.2),light:cr(ce,.2),hcDark:ce,hcLight:ce},v.NC("buttonHoverBackground","Button background color when hovering.")),We=n("button.border",{dark:L,light:L,hcDark:L,hcLight:L},v.NC("buttonBorder","Button border color.")),it=n("button.secondaryForeground",{dark:B.Il.white,light:B.Il.white,hcDark:B.Il.white,hcLight:a},v.NC("buttonSecondaryForeground","Secondary button foreground color.")),Ze=n("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:B.Il.white},v.NC("buttonSecondaryBackground","Secondary button background color.")),je=n("button.secondaryHoverBackground",{dark:er(Ze,.2),light:cr(Ze,.2),hcDark:null,hcLight:null},v.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Te=n("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:B.Il.black,hcLight:"#0F4A85"},v.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Ie=n("badge.foreground",{dark:B.Il.white,light:"#333",hcDark:B.Il.white,hcLight:B.Il.white},v.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),oe=n("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},v.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),ge=n("scrollbarSlider.background",{dark:B.Il.fromHex("#797979").transparent(.4),light:B.Il.fromHex("#646464").transparent(.4),hcDark:hn(L,.6),hcLight:hn(L,.4)},v.NC("scrollbarSliderBackground","Scrollbar slider background color.")),Ce=n("scrollbarSlider.hoverBackground",{dark:B.Il.fromHex("#646464").transparent(.7),light:B.Il.fromHex("#646464").transparent(.7),hcDark:hn(L,.8),hcLight:hn(L,.8)},v.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),me=n("scrollbarSlider.activeBackground",{dark:B.Il.fromHex("#BFBFBF").transparent(.4),light:B.Il.fromHex("#000000").transparent(.6),hcDark:L,hcLight:L},v.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Me=n("progressBar.background",{dark:B.Il.fromHex("#0E70C0"),light:B.Il.fromHex("#0E70C0"),hcDark:L,hcLight:L},v.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),qe=n("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ot=n("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},v.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),ut=n("editorError.border",{dark:null,light:null,hcDark:B.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},v.NC("errorBorder","Border color of error boxes in the editor.")),ht=n("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ct=n("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},v.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Pt=n("editorWarning.border",{dark:null,light:null,hcDark:B.Il.fromHex("#FFCC00").transparent(.8),hcLight:B.Il.fromHex("#FFCC00").transparent(.8)},v.NC("warningBorder","Border color of warning boxes in the editor.")),bt=n("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),$t=n("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},v.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Mt=n("editorInfo.border",{dark:null,light:null,hcDark:B.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},v.NC("infoBorder","Border color of info boxes in the editor.")),Xe=n("editorHint.foreground",{dark:B.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},v.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Lt=n("editorHint.border",{dark:null,light:null,hcDark:B.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},v.NC("hintBorder","Border color of hint boxes in the editor.")),Xt=n("sash.hoverBorder",{dark:w,light:w,hcDark:w,hcLight:w},v.NC("sashActiveBorder","Border color of active sashes.")),zt=n("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:B.Il.black,hcLight:B.Il.white},v.NC("editorBackground","Editor background color.")),Fe=n("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:B.Il.white,hcLight:a},v.NC("editorForeground","Editor default foreground color.")),et=n("editorStickyScroll.background",{light:zt,dark:zt,hcDark:zt,hcLight:zt},v.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),pt=n("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:B.Il.fromHex("#0F4A85").transparent(.1)},v.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),It=n("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:B.Il.white},v.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),kt=n("editorWidget.foreground",{dark:a,light:a,hcDark:a,hcLight:a},v.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),yt=n("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:L,hcLight:L},v.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),St=n("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},v.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Gt=n("quickInput.background",{dark:It,light:It,hcDark:It,hcLight:It},v.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),ti=n("quickInput.foreground",{dark:kt,light:kt,hcDark:kt,hcLight:kt},v.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),ri=n("quickInputTitle.background",{dark:new B.Il(new B.VS(255,255,255,.105)),light:new B.Il(new B.VS(0,0,0,.06)),hcDark:"#000000",hcLight:B.Il.white},v.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),li=n("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:B.Il.white,hcLight:"#0F4A85"},v.NC("pickerGroupForeground","Quick picker color for grouping labels.")),gi=n("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:B.Il.white,hcLight:"#0F4A85"},v.NC("pickerGroupBorder","Quick picker color for grouping borders.")),Pi=n("keybindingLabel.background",{dark:new B.Il(new B.VS(128,128,128,.17)),light:new B.Il(new B.VS(221,221,221,.4)),hcDark:B.Il.transparent,hcLight:B.Il.transparent},v.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Hi=n("keybindingLabel.foreground",{dark:B.Il.fromHex("#CCCCCC"),light:B.Il.fromHex("#555555"),hcDark:B.Il.white,hcLight:a},v.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),ji=n("keybindingLabel.border",{dark:new B.Il(new B.VS(51,51,51,.6)),light:new B.Il(new B.VS(204,204,204,.4)),hcDark:new B.Il(new B.VS(111,195,223)),hcLight:L},v.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),bn=n("keybindingLabel.bottomBorder",{dark:new B.Il(new B.VS(68,68,68,.6)),light:new B.Il(new B.VS(187,187,187,.4)),hcDark:new B.Il(new B.VS(111,195,223)),hcLight:a},v.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Rn=n("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},v.NC("editorSelectionBackground","Color of the editor selection.")),bs=n("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:B.Il.white},v.NC("editorSelectionForeground","Color of the selected text for high contrast.")),ms=n("editor.inactiveSelectionBackground",{light:hn(Rn,.5),dark:hn(Rn,.5),hcDark:hn(Rn,.7),hcLight:hn(Rn,.5)},v.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),ki=n("editor.selectionHighlightBackground",{light:na(Rn,zt,.3,.6),dark:na(Rn,zt,.3,.6),hcDark:null,hcLight:null},v.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Vi=n("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:N,hcLight:N},v.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Ki=n("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},v.NC("editorFindMatch","Color of the current search match.")),es=n("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},v.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ls=n("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},v.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),ts=n("editor.findMatchBorder",{light:null,dark:null,hcDark:N,hcLight:N},v.NC("editorFindMatchBorder","Border color of the current search match.")),Kn=n("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:N,hcLight:N},v.NC("findMatchHighlightBorder","Border color of the other search matches.")),Wn=n("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:hn(N,.4),hcLight:hn(N,.4)},v.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),yn=n("searchEditor.findMatchBackground",{light:hn(es,.66),dark:hn(es,.66),hcDark:es,hcLight:es},v.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),en=n("searchEditor.findMatchBorder",{light:hn(Kn,.66),dark:hn(Kn,.66),hcDark:Kn,hcLight:Kn},v.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Ms=n("search.resultsInfoForeground",{light:a,dark:hn(a,.65),hcDark:a,hcLight:a},v.NC("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),Ss=n("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},v.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),ps=n("editorHoverWidget.background",{light:It,dark:It,hcDark:It,hcLight:It},v.NC("hoverBackground","Background color of the editor hover.")),oo=n("editorHoverWidget.foreground",{light:kt,dark:kt,hcDark:kt,hcLight:kt},v.NC("hoverForeground","Foreground color of the editor hover.")),hs=n("editorHoverWidget.border",{light:yt,dark:yt,hcDark:yt,hcLight:yt},v.NC("hoverBorder","Border color of the editor hover.")),Ts=n("editorHoverWidget.statusBarBackground",{dark:er(ps,.2),light:cr(ps,.05),hcDark:It,hcLight:It},v.NC("statusBarBackground","Background color of the editor hover status bar.")),In=n("editorLink.activeForeground",{dark:"#4E94CE",light:B.Il.blue,hcDark:B.Il.cyan,hcLight:"#292929"},v.NC("activeLinkForeground","Color of active links.")),Yn=n("editorInlayHint.foreground",{dark:Ie,light:Ie,hcDark:B.Il.black,hcLight:Ie},v.NC("editorInlayHintForeground","Foreground color of inline hints")),pi=n("editorInlayHint.background",{dark:hn(Te,.8),light:hn(Te,.6),hcDark:"#f38518",hcLight:Te},v.NC("editorInlayHintBackground","Background color of inline hints")),ci=n("editorInlayHint.typeForeground",{dark:Yn,light:Yn,hcDark:Yn,hcLight:Yn},v.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),ui=n("editorInlayHint.typeBackground",{dark:pi,light:pi,hcDark:pi,hcLight:pi},v.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),wt=n("editorInlayHint.parameterForeground",{dark:Yn,light:Yn,hcDark:Yn,hcLight:Yn},v.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),mt=n("editorInlayHint.parameterBackground",{dark:pi,light:pi,hcDark:pi,hcLight:pi},v.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Oe=n("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},v.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),le=n("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Be=new B.Il(new B.VS(155,185,85,.2)),Ke=new B.Il(new B.VS(255,0,0,.2)),Ge=n("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},v.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ye=n("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},v.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ze=n("diffEditor.insertedLineBackground",{dark:Be,light:Be,hcDark:null,hcLight:null},v.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),lt=n("diffEditor.removedLineBackground",{dark:Ke,light:Ke,hcDark:null,hcLight:null},v.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Rt=n("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Bt=n("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),At=n("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),ii=n("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),vi=n("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},v.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),yi=n("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},v.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),hi=n("diffEditor.border",{dark:null,light:null,hcDark:L,hcLight:L},v.NC("diffEditorBorder","Border color between the two text editors.")),Si=n("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},v.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Oi=n("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ai=n("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zi=n("list.focusOutline",{dark:w,light:w,hcDark:N,hcLight:N},v.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),pn=n("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Pn=n("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:B.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),cs=n("list.activeSelectionForeground",{dark:B.Il.white,light:B.Il.white,hcDark:null,hcLight:null},v.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ds=n("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Es=n("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:B.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ro=n("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Gs=n("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ws=n("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Hr=n("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Fn=n("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:B.Il.white.transparent(.1),hcLight:B.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Ci=n("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Xi=n("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},v.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),tn=n("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:w,hcLight:w},v.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),us=n("list.focusHighlightForeground",{dark:tn,light:wa(Pn,tn,"#BBE7FF"),hcDark:tn,hcLight:tn},v.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Wt=n("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},v.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),Zt=n("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},v.NC("listErrorForeground","Foreground color of list items containing errors.")),Yt=n("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},v.NC("listWarningForeground","Foreground color of list items containing warnings.")),oi=n("listFilterWidget.background",{light:cr(It,0),dark:er(It,0),hcDark:It,hcLight:It},v.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),mi=n("listFilterWidget.outline",{dark:B.Il.transparent,light:B.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},v.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Fi=n("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:L,hcLight:L},v.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Di=n("listFilterWidget.shadow",{dark:k,light:k,hcDark:k,hcLight:k},v.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),Ji=n("list.filterMatchBackground",{dark:es,light:es,hcDark:null,hcLight:null},v.NC("listFilterMatchHighlight","Background color of the filtered match.")),Ui=n("list.filterMatchBorder",{dark:Kn,light:Kn,hcDark:L,hcLight:N},v.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),_n=n("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},v.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),gn=n("tree.inactiveIndentGuidesStroke",{dark:hn(_n,.4),light:hn(_n,.4),hcDark:hn(_n,.4),hcLight:hn(_n,.4)},v.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),vn=n("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},v.NC("tableColumnsBorder","Table border color between columns.")),Vn=n("tree.tableOddRowsBackground",{dark:hn(a,.04),light:hn(a,.04),hcDark:null,hcLight:null},v.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),Bn=n("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},v.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),Kt=n("checkbox.background",{dark:Re,light:Re,hcDark:Re,hcLight:Re},v.NC("checkbox.background","Background color of checkbox widget.")),F=n("checkbox.selectBackground",{dark:It,light:It,hcDark:It,hcLight:It},v.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),r=n("checkbox.foreground",{dark:Z,light:Z,hcDark:Z,hcLight:Z},v.NC("checkbox.foreground","Foreground color of checkbox widget.")),I=n("checkbox.border",{dark:se,light:se,hcDark:se,hcLight:se},v.NC("checkbox.border","Border color of checkbox widget.")),$=n("checkbox.selectBorder",{dark:It,light:It,hcDark:It,hcLight:It},v.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),ae=n("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,v.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),we=n("quickInputList.focusForeground",{dark:cs,light:cs,hcDark:cs,hcLight:cs},v.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ke=n("quickInputList.focusIconForeground",{dark:ds,light:ds,hcDark:ds,hcLight:ds},v.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),nt=n("quickInputList.focusBackground",{dark:Ho(ae,Pn),light:Ho(ae,Pn),hcDark:null,hcLight:null},v.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),at=n("menu.border",{dark:null,light:null,hcDark:L,hcLight:L},v.NC("menuBorder","Border color of menus.")),_t=n("menu.foreground",{dark:Z,light:Z,hcDark:Z,hcLight:Z},v.NC("menuForeground","Foreground color of menu items.")),xt=n("menu.background",{dark:Re,light:Re,hcDark:Re,hcLight:Re},v.NC("menuBackground","Background color of menu items.")),Et=n("menu.selectionForeground",{dark:cs,light:cs,hcDark:cs,hcLight:cs},v.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Ft=n("menu.selectionBackground",{dark:Pn,light:Pn,hcDark:Pn,hcLight:Pn},v.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Vt=n("menu.selectionBorder",{dark:null,light:null,hcDark:N,hcLight:N},v.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),Qt=n("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:L,hcLight:L},v.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),si=n("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},v.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),wi=n("toolbar.hoverOutline",{dark:null,light:null,hcDark:N,hcLight:N},v.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),Ti=n("toolbar.activeBackground",{dark:er(si,.1),light:cr(si,.1),hcDark:null,hcLight:null},v.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Wi=n("editor.snippetTabstopHighlightBackground",{dark:new B.Il(new B.VS(124,124,124,.3)),light:new B.Il(new B.VS(10,50,100,.2)),hcDark:new B.Il(new B.VS(124,124,124,.3)),hcLight:new B.Il(new B.VS(10,50,100,.2))},v.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),wn=n("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Qn=n("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),vs=n("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new B.Il(new B.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},v.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),an=n("breadcrumb.foreground",{light:hn(a,.8),dark:hn(a,.8),hcDark:hn(a,.8),hcLight:hn(a,.8)},v.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),fs=n("breadcrumb.background",{light:zt,dark:zt,hcDark:zt,hcLight:zt},v.NC("breadcrumbsBackground","Background color of breadcrumb items.")),Ys=n("breadcrumb.focusForeground",{light:cr(a,.2),dark:er(a,.1),hcDark:er(a,.1),hcLight:er(a,.1)},v.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Zs=n("breadcrumb.activeSelectionForeground",{light:cr(a,.2),dark:er(a,.1),hcDark:er(a,.1),hcLight:er(a,.1)},v.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),xs=n("breadcrumbPicker.background",{light:It,dark:It,hcDark:It,hcLight:It},v.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),zs=.5,po=B.Il.fromHex("#40C8AE").transparent(zs),yo=B.Il.fromHex("#40A6FF").transparent(zs),Bo=B.Il.fromHex("#606060").transparent(.4),ao=.4,Do=1,No=n("merge.currentHeaderBackground",{dark:po,light:po,hcDark:null,hcLight:null},v.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ta=n("merge.currentContentBackground",{dark:hn(No,ao),light:hn(No,ao),hcDark:hn(No,ao),hcLight:hn(No,ao)},v.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Or=n("merge.incomingHeaderBackground",{dark:yo,light:yo,hcDark:null,hcLight:null},v.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Is=n("merge.incomingContentBackground",{dark:hn(Or,ao),light:hn(Or,ao),hcDark:hn(Or,ao),hcLight:hn(Or,ao)},v.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),fr=n("merge.commonHeaderBackground",{dark:Bo,light:Bo,hcDark:null,hcLight:null},v.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Qs=n("merge.commonContentBackground",{dark:hn(fr,ao),light:hn(fr,ao),hcDark:hn(fr,ao),hcLight:hn(fr,ao)},v.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),rr=n("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},v.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),To=n("editorOverviewRuler.currentContentForeground",{dark:hn(No,Do),light:hn(No,Do),hcDark:rr,hcLight:rr},v.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),fo=n("editorOverviewRuler.incomingContentForeground",{dark:hn(Or,Do),light:hn(Or,Do),hcDark:rr,hcLight:rr},v.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Qo=n("editorOverviewRuler.commonContentForeground",{dark:hn(fr,Do),light:hn(fr,Do),hcDark:rr,hcLight:rr},v.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),Xo=n("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},v.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),ni=n("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},v.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Jo=n("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},v.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),ar=n("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},v.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),zr=n("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},v.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),lo=n("minimap.errorHighlight",{dark:new B.Il(new B.VS(255,18,18,.7)),light:new B.Il(new B.VS(255,18,18,.7)),hcDark:new B.Il(new B.VS(255,50,50,1)),hcLight:"#B5200D"},v.NC("minimapError","Minimap marker color for errors.")),Ar=n("minimap.warningHighlight",{dark:Ct,light:Ct,hcDark:Pt,hcLight:Pt},v.NC("overviewRuleWarning","Minimap marker color for warnings.")),Gr=n("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("minimapBackground","Minimap background color.")),go=n("minimap.foregroundOpacity",{dark:B.Il.fromHex("#000f"),light:B.Il.fromHex("#000f"),hcDark:B.Il.fromHex("#000f"),hcLight:B.Il.fromHex("#000f")},v.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),lr=n("minimapSlider.background",{light:hn(ge,.5),dark:hn(ge,.5),hcDark:hn(ge,.5),hcLight:hn(ge,.5)},v.NC("minimapSliderBackground","Minimap slider background color.")),ln=n("minimapSlider.hoverBackground",{light:hn(Ce,.5),dark:hn(Ce,.5),hcDark:hn(Ce,.5),hcLight:hn(Ce,.5)},v.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Sr=n("minimapSlider.activeBackground",{light:hn(me,.5),dark:hn(me,.5),hcDark:hn(me,.5),hcLight:hn(me,.5)},v.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),qo=n("problemsErrorIcon.foreground",{dark:ot,light:ot,hcDark:ot,hcLight:ot},v.NC("problemsErrorIconForeground","The color used for the problems error icon.")),co=n("problemsWarningIcon.foreground",{dark:Ct,light:Ct,hcDark:Ct,hcLight:Ct},v.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),ys=n("problemsInfoIcon.foreground",{dark:$t,light:$t,hcDark:$t,hcLight:$t},v.NC("problemsInfoIconForeground","The color used for the problems info icon.")),Wo=n("charts.foreground",{dark:a,light:a,hcDark:a,hcLight:a},v.NC("chartsForeground","The foreground color used in charts.")),Zr=n("charts.lines",{dark:hn(a,.5),light:hn(a,.5),hcDark:hn(a,.5),hcLight:hn(a,.5)},v.NC("chartsLines","The color used for horizontal lines in charts.")),bl=n("charts.red",{dark:ot,light:ot,hcDark:ot,hcLight:ot},v.NC("chartsRed","The red color used in chart visualizations.")),vo=n("charts.blue",{dark:$t,light:$t,hcDark:$t,hcLight:$t},v.NC("chartsBlue","The blue color used in chart visualizations.")),Ka=n("charts.yellow",{dark:Ct,light:Ct,hcDark:Ct,hcLight:Ct},v.NC("chartsYellow","The yellow color used in chart visualizations.")),ia=n("charts.orange",{dark:Jo,light:Jo,hcDark:Jo,hcLight:Jo},v.NC("chartsOrange","The orange color used in chart visualizations.")),Vo=n("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},v.NC("chartsGreen","The green color used in chart visualizations.")),kr=n("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},v.NC("chartsPurple","The purple color used in chart visualizations."));function xr(On,gs){var js,uo,jo,wo;switch(On.op){case 0:return(js=tr(On.value,gs))===null||js===void 0?void 0:js.darken(On.factor);case 1:return(uo=tr(On.value,gs))===null||uo===void 0?void 0:uo.lighten(On.factor);case 2:return(jo=tr(On.value,gs))===null||jo===void 0?void 0:jo.transparent(On.factor);case 3:{const _o=tr(On.background,gs);return _o?(wo=tr(On.value,gs))===null||wo===void 0?void 0:wo.makeOpaque(_o):tr(On.value,gs)}case 4:for(const _o of On.values){const Ko=tr(_o,gs);if(Ko)return Ko}return;case 6:return tr(gs.defines(On.if)?On.then:On.else,gs);case 5:{const _o=tr(On.value,gs);if(!_o)return;const Ko=tr(On.background,gs);return Ko?_o.isDarkerThan(Ko)?B.Il.getLighterColor(_o,Ko,On.factor).transparent(On.transparency):B.Il.getDarkerColor(_o,Ko,On.factor).transparent(On.transparency):_o.transparent(On.factor*On.transparency)}default:throw(0,_.vE)(On)}}function cr(On,gs){return{op:0,value:On,factor:gs}}function er(On,gs){return{op:1,value:On,factor:gs}}function hn(On,gs){return{op:2,value:On,factor:gs}}function Ho(...On){return{op:4,values:On}}function wa(On,gs,js){return{op:6,if:On,then:gs,else:js}}function na(On,gs,js,uo){return{op:5,value:On,background:gs,factor:js,transparency:uo}}function tr(On,gs){if(On!==null){if(typeof On=="string")return On[0]==="#"?B.Il.fromHex(On):gs.getColor(On);if(On instanceof B.Il)return On;if(typeof On=="object")return xr(On,gs)}}const sa="vscode://schemas/workbench-colors",oa=M.B.as(A.I.JSONContribution);oa.registerSchema(sa,g.getColorSchema());const ra=new m.pY(()=>oa.notifySchemaChanged(sa),200);g.onDidChangeSchema(()=>{ra.isScheduled()||ra.schedule()})},89528:function(Ot,He,i){"use strict";i.d(He,{Ks:function(){return C},q5:function(){return a},s_:function(){return L}});var m=i(13484),B=i(407),f=i(8216),_=i(56709),v=i(14818),A=i(28919),M=i(26386),E=i(82123),R=i(6325);const p={IconContribution:"base.contributions.icons"};var l;(function(W){function U(K,G){let z=K.defaults;for(;f.k.isThemeIcon(z);){const k=n.getIcon(z.id);if(!k)return;z=k.defaults}return z}W.getDefinition=U})(l||(l={}));var d;(function(W){function U(G){return{weight:G.weight,style:G.style,src:G.src.map(z=>({format:z.format,location:z.location.toString()}))}}W.toJSONObject=U;function K(G){const z=k=>(0,v.HD)(k)?k:void 0;if(G&&Array.isArray(G.src)&&G.src.every(k=>(0,v.HD)(k.format)&&(0,v.HD)(k.location)))return{weight:z(G.weight),style:z(G.style),src:G.src.map(k=>({format:k.format,location:A.o.parse(k.location)}))}}W.fromJSONObject=K})(d||(d={}));class g{constructor(){this._onDidChange=new _.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,M.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,M.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${f.k.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(U,K,G,z){const k=this.iconsById[U];if(k){if(G&&!k.description){k.description=G,this.iconSchema.properties[U].markdownDescription=`${G} $(${U})`;const X=this.iconReferenceSchema.enum.indexOf(U);X!==-1&&(this.iconReferenceSchema.enumDescriptions[X]=G),this._onDidChange.fire()}return k}const q={id:U,description:G,defaults:K,deprecationMessage:z};this.iconsById[U]=q;const te={$ref:"#/definitions/icons"};return z&&(te.deprecationMessage=z),G&&(te.markdownDescription=`${G}: $(${U})`),this.iconSchema.properties[U]=te,this.iconReferenceSchema.enum.push(U),this.iconReferenceSchema.enumDescriptions.push(G||""),this._onDidChange.fire(),{id:U}}getIcons(){return Object.keys(this.iconsById).map(U=>this.iconsById[U])}getIcon(U){return this.iconsById[U]}getIconSchema(){return this.iconSchema}toString(){const U=(k,q)=>k.id.localeCompare(q.id),K=k=>{for(;f.k.isThemeIcon(k.defaults);)k=this.iconsById[k.defaults.id];return`codicon codicon-${k?k.id:""}`},G=[];G.push("| preview     | identifier                        | default codicon ID                | description"),G.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const z=Object.keys(this.iconsById).map(k=>this.iconsById[k]);for(const k of z.filter(q=>!!q.description).sort(U))G.push(`|<i class="${K(k)}"></i>|${k.id}|${f.k.isThemeIcon(k.defaults)?k.defaults.id:k.id}|${k.description||""}|`);G.push("| preview     | identifier                        "),G.push("| ----------- | --------------------------------- |");for(const k of z.filter(q=>!f.k.isThemeIcon(q.defaults)).sort(U))G.push(`|<i class="${K(k)}"></i>|${k.id}|`);return G.join(`
`)}}const n=new g;R.B.add(p.IconContribution,n);function a(W,U,K,G){return n.registerIcon(W,U,K,G)}function C(){return n}function D(){const W=(0,B.u)();for(const U in W){const K="\\"+W[U].toString(16);n.registerIcon(U,{fontCharacter:K})}}D();const u="vscode://schemas/icons",S=R.B.as(E.I.JSONContribution);S.registerSchema(u,n.getIconSchema());const w=new m.pY(()=>S.notifySchemaChanged(u),200);n.onDidChange(()=>{w.isScheduled()||w.schedule()});const L=a("widget-close",B.l.close,(0,M.NC)("widgetClose","Icon for the close action in widgets.")),N=a("goto-previous-location",B.l.arrowUp,(0,M.NC)("previousChangeIcon","Icon for goto previous editor location.")),O=a("goto-next-location",B.l.arrowDown,(0,M.NC)("nextChangeIcon","Icon for goto next editor location.")),x=f.k.modify(B.l.sync,"spin"),T=f.k.modify(B.l.loading,"spin")},49914:function(Ot,He,i){"use strict";i.d(He,{_T:function(){return f},c3:function(){return B},eL:function(){return m}});var m;(function(_){_.DARK="dark",_.LIGHT="light",_.HIGH_CONTRAST_DARK="hcDark",_.HIGH_CONTRAST_LIGHT="hcLight"})(m||(m={}));function B(_){return _===m.HIGH_CONTRAST_DARK||_===m.HIGH_CONTRAST_LIGHT}function f(_){return _===m.DARK||_===m.HIGH_CONTRAST_DARK}},58566:function(Ot,He,i){"use strict";i.d(He,{EN:function(){return M},IP:function(){return R},Ic:function(){return d},XE:function(){return A},bB:function(){return g},m6:function(){return E}});var m=i(56709),B=i(38431),f=i(44333),_=i(6325),v=i(49914);const A=(0,f.yh)("themeService");function M(n){return{id:n}}function E(n){switch(n){case v.eL.DARK:return"vs-dark";case v.eL.HIGH_CONTRAST_DARK:return"hc-black";case v.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const R={ThemingContribution:"base.contributions.theming"};class p{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new m.Q5}onColorThemeChange(a){return this.themingParticipants.push(a),this.onThemingParticipantAddedEmitter.fire(a),(0,B.OF)(()=>{const C=this.themingParticipants.indexOf(a);this.themingParticipants.splice(C,1)})}getThemingParticipants(){return this.themingParticipants}}const l=new p;_.B.add(R.ThemingContribution,l);function d(n){return l.onColorThemeChange(n)}class g extends B.JT{constructor(a){super(),this.themeService=a,this.theme=a.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(C=>this.onThemeChange(C)))}onThemeChange(a){this.theme=a,this.updateStyles()}updateStyles(){}}},48900:function(Ot,He,i){"use strict";i.d(He,{Xt:function(){return _},YO:function(){return f},gJ:function(){return v},tJ:function(){return B}});var m=i(44333);const B=(0,m.yh)("undoRedoService");class f{constructor(M,E){this.resource=M,this.elements=E}}class _{constructor(){this.id=_._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}_._ID=0,_.None=new _;class v{constructor(){this.id=v._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}v._ID=0,v.None=new v},83799:function(Ot,He,i){"use strict";i.d(He,{A6:function(){return a},c$:function(){return E},eb:function(){return M},ec:function(){return A},md:function(){return n},p$:function(){return D},uT:function(){return l},x:function(){return u}});var m=i(26386),B=i(75296),f=i(87057),_=i(28919),v=i(44333);const A=(0,v.yh)("contextService");function M(S){const w=S;return typeof(w==null?void 0:w.id)=="string"&&_.o.isUri(w.uri)}function E(S){const w=S;return typeof(w==null?void 0:w.id)=="string"&&!M(S)&&!d(S)}const R={id:"ext-dev"},p={id:"empty-window"};function l(S,w){if(typeof S=="string"||typeof S=="undefined")return typeof S=="string"?{id:(0,B.EZ)(S)}:w?R:p;const L=S;return L.configuration?{id:L.id,configPath:L.configuration}:L.folders.length===1?{id:L.id,uri:L.folders[0].uri}:{id:L.id}}function d(S){const w=S;return typeof(w==null?void 0:w.id)=="string"&&_.o.isUri(w.configPath)}class g{constructor(w,L,N,O,x){this._id=w,this._transient=N,this._configuration=O,this._ignorePathCasing=x,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=L}get folders(){return this._folders}set folders(w){this._folders=w,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(w){this._configuration=w}getFolder(w){return w&&this._foldersMap.findSubstr(w)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const w of this.folders)this._foldersMap.set(w.uri,w)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class n{constructor(w,L){this.raw=L,this.uri=w.uri,this.index=w.index,this.name=w.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const a="code-workspace",C=[{name:(0,m.NC)("codeWorkspace","Code Workspace"),extensions:[a]}],D="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function u(S){return S.id===D}},24905:function(Ot,He,i){"use strict";i.d(He,{Y:function(){return B}});var m=i(44333);const B=(0,m.yh)("workspaceTrustManagementService")},87631:function(Ot,He){"use strict";He.Z=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var i=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(i==null?void 0:i.substr(0,4))}},5217:function(Ot,He,i){var m=i(7278);function B(f,_){var v=typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(!v){if(Array.isArray(f)||(v=m(f))||_&&f&&typeof f.length=="number"){v&&(f=v);var A=0,M=function(){};return{s:M,n:function(){return A>=f.length?{done:!0}:{done:!1,value:f[A++]}},e:function(d){throw d},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,R=!1,p;return{s:function(){v=v.call(f)},n:function(){var d=v.next();return E=d.done,d},e:function(d){R=!0,p=d},f:function(){try{!E&&v.return!=null&&v.return()}finally{if(R)throw p}}}}Ot.exports=B,Ot.exports.__esModule=!0,Ot.exports.default=Ot.exports}}]);
